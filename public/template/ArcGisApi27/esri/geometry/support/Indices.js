// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../core/typedArrayUtil"],function(d,c){function h(a){let b=!0;for(const k of a){if(65536<=k)return c.isArray(a)?new Uint32Array(a):a;256<=k&&(b=!1)}return b?new Uint8Array(a):new Uint16Array(a)}let e=(()=>{const a=new Uint32Array(131072);for(let b=0;b<a.length;++b)a[b]=b;return a})();const l=[0],g=(()=>{const a=new Uint16Array(65536);for(let b=0;b<a.length;++b)a[b]=b;return a})();let f=new Uint8Array(65536);d.compactIndices=function(a){return c.isArray(a)?a.length<c.NATIVE_ARRAY_MAX_SIZE?
a:h(a):a.length<c.NATIVE_ARRAY_MAX_SIZE?Array.from(a):a.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT?a:h(a)};d.getContinuousIndexArray=function(a){if(1===a)return l;if(a<c.NATIVE_ARRAY_MAX_SIZE)return Array.from(new Uint16Array(g.buffer,0,a));if(a<g.length)return new Uint16Array(g.buffer,0,a);if(a>e.length){e=new Uint32Array(Math.max(2*e.length,a));for(let b=0;b<e.length;b++)e[b]=b}return new Uint32Array(e.buffer,0,a)};d.getZeroIndexArray=function(a){if(1===a)return l;if(a<c.NATIVE_ARRAY_MAX_SIZE)return Array(a).fill(0);
a>f.length&&(f=new Uint8Array(Math.max(2*f.length,a)));return new Uint8Array(f.buffer,0,a)};d.newIndexArray=function(a){return a<=c.NATIVE_ARRAY_MAX_SIZE?Array(a):65536>=a?new Uint16Array(a):new Uint32Array(a)};d.newIntArray=function(a){return a<=c.NATIVE_ARRAY_MAX_SIZE?Array(a):new Uint32Array(a)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});