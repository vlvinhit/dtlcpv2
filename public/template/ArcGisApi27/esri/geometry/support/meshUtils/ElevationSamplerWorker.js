// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/rbush/PooledRBush":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../arrayUtils ../../maybe ../../PooledArray ../../../chunks/quickselect".split(" "),function(k,d,I,O,F,z){function t(X,ha){n(X,0,X.children.length,ha,X)}function n(X,ha,J,A,K){K||(K=new P([]));K.minX=Infinity;K.minY=Infinity;K.maxX=-Infinity;K.maxY=-Infinity;for(let Q=ha,ba;Q<J;Q++)ba=X.children[Q],L(K,X.leaf?A(ba):ba);return K}function L(X,ha){X.minX=Math.min(X.minX,ha.minX);
X.minY=Math.min(X.minY,ha.minY);X.maxX=Math.max(X.maxX,ha.maxX);X.maxY=Math.max(X.maxY,ha.maxY)}function U(X,ha){return X.minX-ha.minX}function da(X,ha){return X.minY-ha.minY}function la(X){return(X.maxX-X.minX)*(X.maxY-X.minY)}function ca(X){return X.maxX-X.minX+(X.maxY-X.minY)}function fa(X,ha){return X.minX<=ha.minX&&X.minY<=ha.minY&&ha.maxX<=X.maxX&&ha.maxY<=X.maxY}function ia(X,ha){return ha.minX<=X.maxX&&ha.minY<=X.maxY&&ha.maxX>=X.minX&&ha.maxY>=X.minY}function y(X,ha,J,A,K){for(ha=[ha,J];ha.length;){J=
O.assumeNonNull(ha.pop());const Q=O.assumeNonNull(ha.pop());if(J-Q<=A)continue;const ba=Q+Math.ceil((J-Q)/A/2)*A;z.quickselect(X,ba,Q,J,K);ha.push(Q,ba,ba,J)}}let N=function(){function X(J=9,A){this._compareMinX=U;this._compareMinY=da;this._toBBox=K=>K;this._maxEntries=Math.max(4,J||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));A&&("function"===typeof A?this._toBBox=A:this._initFormat(A));this.clear()}var ha=X.prototype;ha.destroy=function(){this.clear();V.prune();R.prune();B.prune();
w.prune()};ha.all=function(J){this._all(this._data,J)};ha.search=function(J,A){let K=this._data;const Q=this._toBBox;if(ia(J,K))for(V.clear();K;){for(let ba=0,oa=K.children.length;ba<oa;ba++){const ja=K.children[ba],e=K.leaf?Q(ja):ja;ia(J,e)&&(K.leaf?A(ja):fa(J,e)?this._all(ja,A):V.push(ja))}K=V.pop()}};ha.collides=function(J){let A=this._data;const K=this._toBBox;if(!ia(J,A))return!1;for(V.clear();A;){for(let Q=0,ba=A.children.length;Q<ba;Q++){const oa=A.children[Q],ja=A.leaf?K(oa):oa;if(ia(J,ja)){if(A.leaf||
fa(J,ja))return!0;V.push(oa)}}A=V.pop()}return!1};ha.load=function(J){if(!J.length)return this;if(J.length<this._minEntries){for(let A=0,K=J.length;A<K;A++)this.insert(J[A]);return this}J=this._build(J.slice(0,J.length),0,J.length-1,0);if(this._data.children.length)if(this._data.height===J.height)this._splitRoot(this._data,J);else{if(this._data.height<J.height){const A=this._data;this._data=J;J=A}this._insert(J,this._data.height-J.height-1,!0)}else this._data=J;return this};ha.insert=function(J){J&&
this._insert(J,this._data.height-1);return this};ha.clear=function(){this._data=new P([]);return this};ha.remove=function(J){if(!J)return this;let A=this._data,K=null,Q=0,ba=!1,oa;const ja=this._toBBox(J);B.clear();for(w.clear();A||0<B.length;){A||(A=O.assumeNonNull(B.pop()),K=B.data[B.length-1],Q=w.pop()??0,ba=!0);if(A.leaf&&(oa=I.indexOf(A.children,J,A.children.length,A.indexHint),-1!==oa)){A.children.splice(oa,1);B.push(A);this._condense(B);break}ba||A.leaf||!fa(A,ja)?K?(Q++,A=K.children[Q],ba=
!1):A=null:(B.push(A),w.push(Q),Q=0,K=A,A=A.children[0])}return this};ha.toJSON=function(){return this._data};ha.fromJSON=function(J){this._data=J;return this};ha._all=function(J,A){for(R.clear();J;){if(!0===J.leaf)for(const K of J.children)A(K);else R.pushArray(J.children);J=R.pop()??null}};ha._build=function(J,A,K,Q){var ba=K-A+1,oa=this._maxEntries;if(ba<=oa)return J=new P(J.slice(A,K+1)),t(J,this._toBBox),J;Q||(Q=Math.ceil(Math.log(ba)/Math.log(oa)),oa=Math.ceil(ba/oa**(Q-1)));const ja=new W([]);
ja.height=Q;ba=Math.ceil(ba/oa);oa=ba*Math.ceil(Math.sqrt(oa));for(y(J,A,K,oa,this._compareMinX);A<=K;A+=oa){const e=Math.min(A+oa-1,K);y(J,A,e,ba,this._compareMinY);for(let m=A;m<=e;m+=ba)ja.children.push(this._build(J,m,Math.min(m+ba-1,e),Q-1))}t(ja,this._toBBox);return ja};ha._chooseSubtree=function(J,A,K,Q){for(;;){Q.push(A);if(!0===A.leaf||Q.length-1===K)break;let ba=Infinity,oa=Infinity,ja=void 0;for(let e=0,m=A.children.length;e<m;e++){const M=A.children[e],qa=la(M),C=(Math.max(M.maxX,J.maxX)-
Math.min(M.minX,J.minX))*(Math.max(M.maxY,J.maxY)-Math.min(M.minY,J.minY))-qa;C<oa?(oa=C,ba=qa<ba?qa:ba,ja=M):C===oa&&qa<ba&&(ba=qa,ja=M)}A=ja||A.children[0]}return A};ha._insert=function(J,A,K){var Q=this._toBBox;K=K?J:Q(J);B.clear();Q=this._chooseSubtree(K,this._data,A,B);Q.children.push(J);for(L(Q,K);0<=A;)if(B.data[A].children.length>this._maxEntries)this._split(B,A),A--;else break;this._adjustParentBBoxes(K,B,A)};ha._split=function(J,A){const K=J.data[A];var Q=K.children.length;const ba=this._minEntries;
this._chooseSplitAxis(K,ba,Q);(Q=this._chooseSplitIndex(K,ba,Q))?(Q=K.children.splice(Q,K.children.length-Q),Q=K.leaf?new P(Q):new W(Q),Q.height=K.height,t(K,this._toBBox),t(Q,this._toBBox),A?J.data[A-1].children.push(Q):this._splitRoot(K,Q)):console.log("  Error: assertion failed at PooledRBush._split: no valid split index")};ha._splitRoot=function(J,A){this._data=new W([J,A]);this._data.height=J.height+1;t(this._data,this._toBBox)};ha._chooseSplitIndex=function(J,A,K){let Q,ba,oa=void 0;Q=ba=Infinity;
for(let e=A;e<=K-A;e++){var ja=n(J,0,e,this._toBBox);const m=n(J,e,K,this._toBBox),M=Math.max(0,Math.min(ja.maxX,m.maxX)-Math.max(ja.minX,m.minX))*Math.max(0,Math.min(ja.maxY,m.maxY)-Math.max(ja.minY,m.minY));ja=la(ja)+la(m);M<Q?(Q=M,oa=e,ba=ja<ba?ja:ba):M===Q&&ja<ba&&(ba=ja,oa=e)}return oa};ha._chooseSplitAxis=function(J,A,K){const Q=J.leaf?this._compareMinX:U,ba=J.leaf?this._compareMinY:da,oa=this._allDistMargin(J,A,K,Q);A=this._allDistMargin(J,A,K,ba);oa<A&&J.children.sort(Q)};ha._allDistMargin=
function(J,A,K,Q){J.children.sort(Q);Q=this._toBBox;var ba=n(J,0,A,Q);const oa=n(J,K-A,K,Q);let ja=ca(ba)+ca(oa);for(let e=A;e<K-A;e++){const m=J.children[e];L(ba,J.leaf?Q(m):m);ja+=ca(ba)}for(K=K-A-1;K>=A;K--)ba=J.children[K],L(oa,J.leaf?Q(ba):ba),ja+=ca(oa);return ja};ha._adjustParentBBoxes=function(J,A,K){for(;0<=K;K--)L(A.data[K],J)};ha._condense=function(J){for(let A=J.length-1;0<=A;A--){const K=J.data[A];if(0===K.children.length)if(0<A){const Q=J.data[A-1],ba=Q.children;ba.splice(I.indexOf(ba,
K,ba.length,Q.indexHint),1)}else this.clear();else t(K,this._toBBox)}};ha._initFormat=function(J){const A=["return a"," - b",";"];this._compareMinX=new Function("a","b",A.join(J[0]));this._compareMinY=new Function("a","b",A.join(J[1]));this._toBBox=new Function("a","return {minX: a"+J[0]+", minY: a"+J[1]+", maxX: a"+J[2]+", maxY: a"+J[3]+"};")};return d._createClass(X)}();const V=new F,R=new F,B=new F,w=new F({deallocator:void 0});F=d._createClass(function(){this.minY=this.minX=Infinity;this.maxY=
this.maxX=-Infinity});let G=function(X){function ha(){var J=X.apply(this,arguments)||this;J.height=1;J.indexHint=new I.PositionHint;return J}d._inherits(ha,X);return d._createClass(ha)}(F),P=function(X){function ha(J){var A=X.call(this)||this;A.children=J;A.leaf=!0;return A}d._inherits(ha,X);return d._createClass(ha)}(G),W=function(X){function ha(J){var A=X.call(this)||this;A.children=J;A.leaf=!1;return A}d._inherits(ha,X);return d._createClass(ha)}(G);k.BBox=F;k.PooledRBush=N;Object.defineProperty(k,
Symbol.toStringTag,{value:"Module"})})},"esri/chunks/quickselect":function(){define(["exports","./_commonjsHelpers"],function(k,d){var I={exports:{}};I.exports;(function(O){(function(F){F=F();void 0!==F&&(O.exports=F)})(function(){function F(n,L,U,da,la){for(;da>U;){if(600<da-U){var ca=da-U+1,fa=L-U+1,ia=Math.log(ca),y=.5*Math.exp(2*ia/3);ia=.5*Math.sqrt(ia*y*(ca-y)/ca)*(0>fa-ca/2?-1:1);F(n,L,Math.max(U,Math.floor(L-fa*y/ca+ia)),Math.min(da,Math.floor(L+(ca-fa)*y/ca+ia)),la)}ca=n[L];fa=U;y=da;z(n,
U,L);for(0<la(n[da],ca)&&z(n,U,da);fa<y;){z(n,fa,y);fa++;for(y--;0>la(n[fa],ca);)fa++;for(;0<la(n[y],ca);)y--}0===la(n[U],ca)?z(n,U,y):(y++,z(n,y,da));y<=L&&(U=y+1);L<=y&&(da=y-1)}}function z(n,L,U){var da=n[L];n[L]=n[U];n[U]=da}function t(n,L){return n<L?-1:n>L?1:0}return function(n,L,U,da,la){F(n,L,U||0,da||n.length-1,la||t)}})})(I);d=d.getDefaultExportFromCjs(I.exports);k.quickselect=d})},"esri/geometry/support/meshUtils/georeference":function(){define("exports ../../../core/unitUtils ../../../chunks/mat3f64 ../../../chunks/mat4 ../../../chunks/mat4f64 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../chunks/mat3 ../../projection ../../spatialReferenceEllipsoidUtils ../DoubleArray ../MeshGeoreferencedRelativeVertexSpace ../MeshGeoreferencedVertexSpace ../MeshLocalVertexSpace ../MeshTransform ../../../chunks/vec32 ./geographicUtils ./projection".split(" "),
function(k,d,I,O,F,z,t,n,L,U,da,la,ca,fa,ia,y,N,V){function R(A,K,Q){if(N.isGeographicMesh(K.spatialReference,Q)){var ba=K.spatialReference,oa=P(K,Q,X),ja=new Float64Array(A.position.length);K=A.position;var e=ba;var m=ja;y.transformMat4(m,K,oa);K=new Float64Array(K.length);e=V.projectFromPCPF(m,K,e);oa=n.normalFromMat4(J,oa);m=ja;K=A.normal;Q=oa;var M=ba;if(null==K)m=null;else{var qa=new Float32Array(K.length);y.transformMat3(qa,K,Q);V.projectNormalFromPCPF(qa,e,m,M,qa);m=qa}A=A.tangent;if(null==
A)A=null;else{K=new Float32Array(A.length);y.transformMat3(K,A,oa,4);for(oa=3;oa<K.length;oa+=4)K[oa]=A[oa];V.projectTangentFromPCPF(K,e,ja,ba,K);A=K}A={position:e,normal:m,tangent:A}}else{ba=new Float64Array(A.position.length);e=A.position;ja=K.x;oa=K.y;m=K.z??0;K=W(Q?Q.unit:null,K.spatialReference);for(Q=0;Q<e.length;Q+=3)ba[Q]=e[Q]*K+ja,ba[Q+1]=e[Q+1]*K+oa,ba[Q+2]=e[Q+2]*K+m;A={position:ba,normal:A.normal,tangent:A.tangent}}return A}function B(A,K,Q,ba){const {position:oa,normal:ja,tangent:e}=
A;if(!K.isRelative)return{position:oa,normal:ja,tangent:e};var m=Q?.localMatrix??F.IDENTITY;A=y.transformMat4(new Float64Array(oa.length),oa,m);Q=null!=ja?V.transformNormal(ja,new Float32Array(ja.length),m):null;m=null!=e?V.transformTangent(e,new Float32Array(e.length),m):null;return R({position:A,normal:Q,tangent:m},K.getOriginPoint(ba),{geographic:!K.isGeoreferenced})}function w(A,K,Q){if(N.isGeographicMesh(K.spatialReference,Q)){const e=K.spatialReference;P(K,Q,X);var ba=O.invert(ha,X);K=new Float64Array(A.position.length);
Q=ba;var oa=V.projectToPCPF(A.position,e,K),ja=new Float64Array(oa.length);y.transformMat4(ja,oa,Q);Q=ja;ba=n.normalFromMat4(J,ba);ja=A.normal;oa=ba;null==ja?oa=null:(ja=V.projectNormalToPCPF(ja,A.position,K,e,new Float32Array(ja.length)),y.transformMat3(ja,ja,oa),oa=ja);ja=A.tangent;null==ja?A=null:(A=V.projectTangentToPCPF(ja,A.position,K,e,new Float32Array(ja.length)),y.transformMat3(A,A,ba,4));A={position:Q,normal:oa,tangent:A}}else A=G(A,K,Q);return A}function G(A,K,Q){const ba=new Float64Array(A.position.length),
oa=A.position,ja=K.x,e=K.y,m=K.z??0;K=W(Q?Q.unit:null,K.spatialReference);for(Q=0;Q<oa.length;Q+=3)ba[Q]=(oa[Q]-ja)/K,ba[Q+1]=(oa[Q+1]-e)/K,ba[Q+2]=(oa[Q+2]-m)/K;return{position:ba,normal:A.normal,tangent:A.tangent}}function P(A,K,Q){L.computeTranslationToOriginAndRotation(A.spatialReference,[A.x,A.y,A.z??0],Q,U.getSphericalPCPF(A.spatialReference));A=W(K?K.unit:null,A.spatialReference);O.scale(Q,Q,[A,A,A]);return Q}function W(A,K){if(null==A)return 1;K=d.getMetersPerCartesianUnitForSR(K);return 1/
d.convertUnit(K,"meters",A)}const X=F.create(),ha=F.create(),J=I.create();k.georeference=R;k.georeferenceApplyTransform=B;k.georeferenceByTransform=function(A,K,Q){if(Q?.useTransform){const {position:ba,normal:oa,tangent:ja}=A,{x:e,y:m,z:M}=K;A=t.fromValues(e,m,M??0);return{vertexAttributes:{position:ba,normal:oa,tangent:ja},vertexSpace:Q.geographic??!0?new fa({origin:A}):new la({origin:A}),transform:new ia}}return{vertexAttributes:R(A,K,Q),vertexSpace:new ca,transform:null}};k.project=function({positions:A,
transform:K,vertexSpace:Q,inSpatialReference:ba,outSpatialReference:oa,outPositions:ja,local:e}){const m=Q.isRelative?Q.origin:t.ZEROS;K=Q.isRelative?K?.localMatrix??F.IDENTITY:F.IDENTITY;if(Q.isGeoreferenced){ja=ja??da.newDoubleArray(A.length);O.equals(K,F.IDENTITY)?da.copyInto(ja,A):y.transformMat4(ja,A,K);if(!z.exactEquals(m,t.ZEROS)){const [M,qa,C]=m;for(A=0;A<ja.length;A+=3)ja[A]+=M,ja[A+1]+=qa,ja[A+2]+=C}L.projectBuffer(ja,ba,0,ja,oa,0,ja.length/3);return ja}Q=U.getSphericalPCPF(ba);e=!e&&L.canProjectWithoutEngine(ba,
Q)?Q:ba;L.computeTranslationToOriginAndRotation(ba,m,X,e);O.multiply(X,X,K);ba=ja??da.newDoubleArray(A.length);y.transformMat4(ba,A,X);L.projectBuffer(ba,e,0,ba,oa,0,ba.length/3);return ba};k.ungeoreference=w;k.ungeoreferenceByTransform=function(A,K,Q,ba,oa){if(!K.isRelative)return w(A,ba,oa);const {spatialReference:ja}=ba;A=B(A,K,Q,ja);return ba.equals(K.getOriginPoint(ja))?G(A,ba,oa):w(A,ba,oa)};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat3f64":function(){define(["exports"],
function(k){function d(){return[1,0,0,0,1,0,0,0,1]}function I(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function O(t,n,L,U,da,la,ca,fa,ia){return[t,n,L,U,da,la,ca,fa,ia]}function F(t,n){return new Float64Array(t,n,9)}const z=Object.freeze(Object.defineProperty({__proto__:null,clone:I,create:d,createView:F,fromValues:O},Symbol.toStringTag,{value:"Module"}));k.clone=I;k.create=d;k.createView=F;k.fromValues=O;k.mat3f64=z})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],
function(k,d,I){function O(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function F(a,b,q,x,H,T,Y,Z,S,aa,ma,ra,ta,ua,ya,xa,wa){a[0]=b;a[1]=q;a[2]=x;a[3]=H;a[4]=T;a[5]=Y;a[6]=Z;a[7]=S;a[8]=aa;a[9]=ma;a[10]=ra;a[11]=ta;a[12]=ua;a[13]=ya;a[14]=xa;a[15]=wa;return a}function z(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;
a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function t(a,b){if(a===b){const q=b[1],x=b[2],H=b[3],T=b[6],Y=b[7],Z=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=q;a[6]=b[9];a[7]=b[13];a[8]=x;a[9]=T;a[11]=b[14];a[12]=H;a[13]=Y;a[14]=Z}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function n(a,b){L(a,b)||z(a);return a}function L(a,b){const q=b[0],x=b[1],H=b[2],T=b[3],Y=
b[4],Z=b[5],S=b[6],aa=b[7],ma=b[8],ra=b[9],ta=b[10],ua=b[11],ya=b[12],xa=b[13],wa=b[14];b=b[15];const Ha=q*Z-x*Y,Da=q*S-H*Y,Ba=q*aa-T*Y,Ca=x*S-H*Z,Fa=x*aa-T*Z,Sa=H*aa-T*S,Qa=ma*xa-ra*ya,Ta=ma*wa-ta*ya,Ra=ma*b-ua*ya,Ka=ra*wa-ta*xa,Oa=ra*b-ua*xa,Pa=ta*b-ua*wa;let Ia=Ha*Pa-Da*Oa+Ba*Ka+Ca*Ra-Fa*Ta+Sa*Qa;if(!Ia)return null;Ia=1/Ia;a[0]=(Z*Pa-S*Oa+aa*Ka)*Ia;a[1]=(H*Oa-x*Pa-T*Ka)*Ia;a[2]=(xa*Sa-wa*Fa+b*Ca)*Ia;a[3]=(ta*Fa-ra*Sa-ua*Ca)*Ia;a[4]=(S*Ra-Y*Pa-aa*Ta)*Ia;a[5]=(q*Pa-H*Ra+T*Ta)*Ia;a[6]=(wa*Ba-ya*Sa-
b*Da)*Ia;a[7]=(ma*Sa-ta*Ba+ua*Da)*Ia;a[8]=(Y*Oa-Z*Ra+aa*Qa)*Ia;a[9]=(x*Ra-q*Oa-T*Qa)*Ia;a[10]=(ya*Fa-xa*Ba+b*Ha)*Ia;a[11]=(ra*Ba-ma*Fa-ua*Ha)*Ia;a[12]=(Z*Ta-Y*Ka-S*Qa)*Ia;a[13]=(q*Ka-x*Ta+H*Qa)*Ia;a[14]=(xa*Da-ya*Ca-wa*Ha)*Ia;a[15]=(ma*Ca-ra*Da+ta*Ha)*Ia;return a}function U(a,b){const q=b[0],x=b[1],H=b[2],T=b[3],Y=b[4],Z=b[5],S=b[6],aa=b[7],ma=b[8],ra=b[9],ta=b[10],ua=b[11],ya=b[12],xa=b[13],wa=b[14];b=b[15];a[0]=Z*(ta*b-ua*wa)-ra*(S*b-aa*wa)+xa*(S*ua-aa*ta);a[1]=-(x*(ta*b-ua*wa)-ra*(H*b-T*wa)+xa*
(H*ua-T*ta));a[2]=x*(S*b-aa*wa)-Z*(H*b-T*wa)+xa*(H*aa-T*S);a[3]=-(x*(S*ua-aa*ta)-Z*(H*ua-T*ta)+ra*(H*aa-T*S));a[4]=-(Y*(ta*b-ua*wa)-ma*(S*b-aa*wa)+ya*(S*ua-aa*ta));a[5]=q*(ta*b-ua*wa)-ma*(H*b-T*wa)+ya*(H*ua-T*ta);a[6]=-(q*(S*b-aa*wa)-Y*(H*b-T*wa)+ya*(H*aa-T*S));a[7]=q*(S*ua-aa*ta)-Y*(H*ua-T*ta)+ma*(H*aa-T*S);a[8]=Y*(ra*b-ua*xa)-ma*(Z*b-aa*xa)+ya*(Z*ua-aa*ra);a[9]=-(q*(ra*b-ua*xa)-ma*(x*b-T*xa)+ya*(x*ua-T*ra));a[10]=q*(Z*b-aa*xa)-Y*(x*b-T*xa)+ya*(x*aa-T*Z);a[11]=-(q*(Z*ua-aa*ra)-Y*(x*ua-T*ra)+ma*(x*
aa-T*Z));a[12]=-(Y*(ra*wa-ta*xa)-ma*(Z*wa-S*xa)+ya*(Z*ta-S*ra));a[13]=q*(ra*wa-ta*xa)-ma*(x*wa-H*xa)+ya*(x*ta-H*ra);a[14]=-(q*(Z*wa-S*xa)-Y*(x*wa-H*xa)+ya*(x*S-H*Z));a[15]=q*(Z*ta-S*ra)-Y*(x*ta-H*ra)+ma*(x*S-H*Z);return a}function da(a){const b=a[0],q=a[1],x=a[2],H=a[3],T=a[4],Y=a[5],Z=a[6],S=a[7],aa=a[8],ma=a[9],ra=a[10],ta=a[11],ua=a[12],ya=a[13],xa=a[14];a=a[15];return(b*Y-q*T)*(ra*a-ta*xa)-(b*Z-x*T)*(ma*a-ta*ya)+(b*S-H*T)*(ma*xa-ra*ya)+(q*Z-x*Y)*(aa*a-ta*ua)-(q*S-H*Y)*(aa*xa-ra*ua)+(x*S-H*Z)*
(aa*ya-ma*ua)}function la(a,b,q){const x=b[0],H=b[1],T=b[2],Y=b[3],Z=b[4],S=b[5],aa=b[6],ma=b[7],ra=b[8],ta=b[9],ua=b[10],ya=b[11],xa=b[12],wa=b[13],Ha=b[14];b=b[15];let Da=q[0],Ba=q[1],Ca=q[2],Fa=q[3];a[0]=Da*x+Ba*Z+Ca*ra+Fa*xa;a[1]=Da*H+Ba*S+Ca*ta+Fa*wa;a[2]=Da*T+Ba*aa+Ca*ua+Fa*Ha;a[3]=Da*Y+Ba*ma+Ca*ya+Fa*b;Da=q[4];Ba=q[5];Ca=q[6];Fa=q[7];a[4]=Da*x+Ba*Z+Ca*ra+Fa*xa;a[5]=Da*H+Ba*S+Ca*ta+Fa*wa;a[6]=Da*T+Ba*aa+Ca*ua+Fa*Ha;a[7]=Da*Y+Ba*ma+Ca*ya+Fa*b;Da=q[8];Ba=q[9];Ca=q[10];Fa=q[11];a[8]=Da*x+Ba*Z+
Ca*ra+Fa*xa;a[9]=Da*H+Ba*S+Ca*ta+Fa*wa;a[10]=Da*T+Ba*aa+Ca*ua+Fa*Ha;a[11]=Da*Y+Ba*ma+Ca*ya+Fa*b;Da=q[12];Ba=q[13];Ca=q[14];Fa=q[15];a[12]=Da*x+Ba*Z+Ca*ra+Fa*xa;a[13]=Da*H+Ba*S+Ca*ta+Fa*wa;a[14]=Da*T+Ba*aa+Ca*ua+Fa*Ha;a[15]=Da*Y+Ba*ma+Ca*ya+Fa*b;return a}function ca(a,b,q){const x=q[0],H=q[1];q=q[2];if(b===a)a[12]=b[0]*x+b[4]*H+b[8]*q+b[12],a[13]=b[1]*x+b[5]*H+b[9]*q+b[13],a[14]=b[2]*x+b[6]*H+b[10]*q+b[14],a[15]=b[3]*x+b[7]*H+b[11]*q+b[15];else{const T=b[0],Y=b[1],Z=b[2],S=b[3],aa=b[4],ma=b[5],ra=
b[6],ta=b[7],ua=b[8],ya=b[9],xa=b[10],wa=b[11];a[0]=T;a[1]=Y;a[2]=Z;a[3]=S;a[4]=aa;a[5]=ma;a[6]=ra;a[7]=ta;a[8]=ua;a[9]=ya;a[10]=xa;a[11]=wa;a[12]=T*x+aa*H+ua*q+b[12];a[13]=Y*x+ma*H+ya*q+b[13];a[14]=Z*x+ra*H+xa*q+b[14];a[15]=S*x+ta*H+wa*q+b[15]}return a}function fa(a,b,q){const x=q[0],H=q[1];q=q[2];a[0]=b[0]*x;a[1]=b[1]*x;a[2]=b[2]*x;a[3]=b[3]*x;a[4]=b[4]*H;a[5]=b[5]*H;a[6]=b[6]*H;a[7]=b[7]*H;a[8]=b[8]*q;a[9]=b[9]*q;a[10]=b[10]*q;a[11]=b[11]*q;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}
function ia(a,b,q,x){let H=x[0],T=x[1];x=x[2];let Y=Math.sqrt(H*H+T*T+x*x);var Z=void 0,S=void 0;let aa=void 0,ma=void 0,ra=void 0,ta=void 0,ua=void 0,ya=void 0,xa=void 0,wa=void 0,Ha=void 0,Da=void 0,Ba=void 0,Ca=void 0,Fa=void 0,Sa=void 0,Qa=void 0,Ta=void 0,Ra=void 0,Ka=void 0,Oa=void 0,Pa=void 0;S=Z=void 0;if(Y<I.getEpsilon())return null;Y=1/Y;H*=Y;T*=Y;x*=Y;Z=Math.sin(q);S=Math.cos(q);aa=1-S;ma=b[0];ra=b[1];ta=b[2];ua=b[3];ya=b[4];xa=b[5];wa=b[6];Ha=b[7];Da=b[8];Ba=b[9];Ca=b[10];Fa=b[11];Sa=
H*H*aa+S;Qa=T*H*aa+x*Z;Ta=x*H*aa-T*Z;Ra=H*T*aa-x*Z;Ka=T*T*aa+S;Oa=x*T*aa+H*Z;Pa=H*x*aa+T*Z;Z=T*x*aa-H*Z;S=x*x*aa+S;a[0]=ma*Sa+ya*Qa+Da*Ta;a[1]=ra*Sa+xa*Qa+Ba*Ta;a[2]=ta*Sa+wa*Qa+Ca*Ta;a[3]=ua*Sa+Ha*Qa+Fa*Ta;a[4]=ma*Ra+ya*Ka+Da*Oa;a[5]=ra*Ra+xa*Ka+Ba*Oa;a[6]=ta*Ra+wa*Ka+Ca*Oa;a[7]=ua*Ra+Ha*Ka+Fa*Oa;a[8]=ma*Pa+ya*Z+Da*S;a[9]=ra*Pa+xa*Z+Ba*S;a[10]=ta*Pa+wa*Z+Ca*S;a[11]=ua*Pa+Ha*Z+Fa*S;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function y(a,b,q){const x=Math.sin(q);q=Math.cos(q);
const H=b[4],T=b[5],Y=b[6],Z=b[7],S=b[8],aa=b[9],ma=b[10],ra=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=H*q+S*x;a[5]=T*q+aa*x;a[6]=Y*q+ma*x;a[7]=Z*q+ra*x;a[8]=S*q-H*x;a[9]=aa*q-T*x;a[10]=ma*q-Y*x;a[11]=ra*q-Z*x;return a}function N(a,b,q){const x=Math.sin(q);q=Math.cos(q);const H=b[0],T=b[1],Y=b[2],Z=b[3],S=b[8],aa=b[9],ma=b[10],ra=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);
a[0]=H*q-S*x;a[1]=T*q-aa*x;a[2]=Y*q-ma*x;a[3]=Z*q-ra*x;a[8]=H*x+S*q;a[9]=T*x+aa*q;a[10]=Y*x+ma*q;a[11]=Z*x+ra*q;return a}function V(a,b,q){const x=Math.sin(q);q=Math.cos(q);const H=b[0],T=b[1],Y=b[2],Z=b[3],S=b[4],aa=b[5],ma=b[6],ra=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=H*q+S*x;a[1]=T*q+aa*x;a[2]=Y*q+ma*x;a[3]=Z*q+ra*x;a[4]=S*q-H*x;a[5]=aa*q-T*x;a[6]=ma*q-Y*x;a[7]=ra*q-Z*x;return a}function R(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;
a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function B(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function w(a,b,q){if(0===b)return z(a);let x=q[0],H=q[1];q=q[2];let T=Math.sqrt(x*x+H*H+q*q),Y=void 0,Z=void 0,S=void 0;if(T<I.getEpsilon())return null;T=1/T;x*=T;H*=T;q*=T;Y=Math.sin(b);Z=Math.cos(b);S=1-Z;a[0]=x*x*S+Z;a[1]=H*x*S+q*Y;a[2]=q*
x*S-H*Y;a[3]=0;a[4]=x*H*S-q*Y;a[5]=H*H*S+Z;a[6]=q*H*S+x*Y;a[7]=0;a[8]=x*q*S+H*Y;a[9]=H*q*S-x*Y;a[10]=q*q*S+Z;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function G(a,b){const q=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=q;a[7]=0;a[8]=0;a[9]=-q;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function P(a,b){const q=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-q;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=q;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=
1;return a}function W(a,b){const q=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=q;a[2]=0;a[3]=0;a[4]=-q;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function X(a,b,q){var x=b[0],H=b[1],T=b[2],Y=b[3],Z=x+x,S=H+H;const aa=T+T;b=x*Z;const ma=x*S;x*=aa;const ra=H*S;H*=aa;T*=aa;Z*=Y;S*=Y;Y*=aa;a[0]=1-(ra+T);a[1]=ma+Y;a[2]=x-S;a[3]=0;a[4]=ma-Y;a[5]=1-(b+T);a[6]=H+Z;a[7]=0;a[8]=x+S;a[9]=H-Z;a[10]=1-(b+ra);a[11]=0;a[12]=q[0];a[13]=q[1];a[14]=q[2];a[15]=1;return a}function ha(a,
b){const q=Ga,x=-b[0],H=-b[1],T=-b[2],Y=b[3],Z=b[4],S=b[5],aa=b[6],ma=b[7],ra=x*x+H*H+T*T+Y*Y;0<ra?(q[0]=2*(Z*Y+ma*x+S*T-aa*H)/ra,q[1]=2*(S*Y+ma*H+aa*x-Z*T)/ra,q[2]=2*(aa*Y+ma*T+Z*H-S*x)/ra):(q[0]=2*(Z*Y+ma*x+S*T-aa*H),q[1]=2*(S*Y+ma*H+aa*x-Z*T),q[2]=2*(aa*Y+ma*T+Z*H-S*x));X(a,b,q);return a}function J(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function A(a,b){const q=b[0],x=b[1],H=b[2],T=b[4],Y=b[5],Z=b[6],S=b[8],aa=b[9];b=b[10];a[0]=Math.sqrt(q*q+x*x+H*H);a[1]=Math.sqrt(T*T+Y*Y+Z*Z);a[2]=Math.sqrt(S*
S+aa*aa+b*b);return a}function K(a,b){const q=b[0]+b[5]+b[10];let x=0;0<q?(x=2*Math.sqrt(q+1),a[3]=.25*x,a[0]=(b[6]-b[9])/x,a[1]=(b[8]-b[2])/x,a[2]=(b[1]-b[4])/x):b[0]>b[5]&&b[0]>b[10]?(x=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/x,a[0]=.25*x,a[1]=(b[1]+b[4])/x,a[2]=(b[8]+b[2])/x):b[5]>b[10]?(x=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/x,a[0]=(b[1]+b[4])/x,a[1]=.25*x,a[2]=(b[6]+b[9])/x):(x=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/x,a[0]=(b[8]+b[2])/x,a[1]=(b[6]+b[9])/x,a[2]=.25*
x);return a}function Q(a,b,q,x){var H=b[0],T=b[1],Y=b[2],Z=b[3],S=H+H,aa=T+T,ma=Y+Y;b=H*S;const ra=H*aa;H*=ma;const ta=T*aa;T*=ma;Y*=ma;S*=Z;aa*=Z;Z*=ma;ma=x[0];const ua=x[1];x=x[2];a[0]=(1-(ta+Y))*ma;a[1]=(ra+Z)*ma;a[2]=(H-aa)*ma;a[3]=0;a[4]=(ra-Z)*ua;a[5]=(1-(b+Y))*ua;a[6]=(T+S)*ua;a[7]=0;a[8]=(H+aa)*x;a[9]=(T-S)*x;a[10]=(1-(b+ta))*x;a[11]=0;a[12]=q[0];a[13]=q[1];a[14]=q[2];a[15]=1;return a}function ba(a,b,q,x,H){var T=b[0],Y=b[1],Z=b[2],S=b[3],aa=T+T,ma=Y+Y,ra=Z+Z;b=T*aa;var ta=T*ma,ua=T*ra;T=
Y*ma;Y*=ra;var ya=Z*ra;Z=S*aa;ma*=S;const xa=S*ra;var wa=x[0],Ha=x[1];ra=x[2];x=H[0];S=H[1];H=H[2];aa=(1-(T+ya))*wa;const Da=(ta+xa)*wa;wa*=ua-ma;ta=(ta-xa)*Ha;ya=(1-(b+ya))*Ha;Ha*=Y+Z;ua=(ua+ma)*ra;Y=(Y-Z)*ra;b=(1-(b+T))*ra;a[0]=aa;a[1]=Da;a[2]=wa;a[3]=0;a[4]=ta;a[5]=ya;a[6]=Ha;a[7]=0;a[8]=ua;a[9]=Y;a[10]=b;a[11]=0;a[12]=q[0]+x-(aa*x+ta*S+ua*H);a[13]=q[1]+S-(Da*x+ya*S+Y*H);a[14]=q[2]+H-(wa*x+Ha*S+b*H);a[15]=1;return a}function oa(a,b){var q=b[0],x=b[1],H=b[2];b=b[3];var T=q+q,Y=x+x;const Z=H+H;q*=
T;const S=x*T;x*=Y;const aa=H*T,ma=H*Y;H*=Z;T*=b;Y*=b;b*=Z;a[0]=1-x-H;a[1]=S+b;a[2]=aa-Y;a[3]=0;a[4]=S-b;a[5]=1-q-H;a[6]=ma+T;a[7]=0;a[8]=aa+Y;a[9]=ma-T;a[10]=1-q-x;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ja(a,b,q,x,H,T,Y){const Z=1/(q-b),S=1/(H-x),aa=1/(T-Y);a[0]=2*T*Z;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*T*S;a[6]=0;a[7]=0;a[8]=(q+b)*Z;a[9]=(H+x)*S;a[10]=(Y+T)*aa;a[11]=-1;a[12]=0;a[13]=0;a[14]=Y*T*2*aa;a[15]=0;return a}function e(a,b,q,x,H){b=1/Math.tan(b/2);let T=void 0;a[0]=b/q;
a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=H&&Infinity!==H?(T=1/(x-H),a[10]=(H+x)*T,a[14]=2*H*x*T):(a[10]=-1,a[14]=-2*x);return a}function m(a,b,q,x){const H=Math.tan(b.upDegrees*Math.PI/180),T=Math.tan(b.downDegrees*Math.PI/180),Y=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const Z=2/(Y+b),S=2/(H+T);a[0]=Z;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=S;a[6]=0;a[7]=0;a[8]=-((Y-b)*Z*.5);a[9]=(H-T)*S*.5;a[10]=x/(q-x);a[11]=
-1;a[12]=0;a[13]=0;a[14]=x*q/(q-x);a[15]=0;return a}function M(a,b,q,x,H,T,Y){const Z=1/(b-q),S=1/(x-H),aa=1/(T-Y);a[0]=-2*Z;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*S;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*aa;a[11]=0;a[12]=(b+q)*Z;a[13]=(H+x)*S;a[14]=(Y+T)*aa;a[15]=1;return a}function qa(a,b,q,x){const H=b[0],T=b[1];b=b[2];let Y=H-q[0],Z=T-q[1];q=b-q[2];var S=I.getEpsilon();if(Math.abs(Y)<S&&Math.abs(Z)<S&&Math.abs(q)<S)z(a);else{var aa=1/Math.sqrt(Y*Y+Z*Z+q*q);Y*=aa;Z*=aa;q*=aa;aa=x[0];var ma=x[1];S=x[2];
x=ma*q-S*Z;S=S*Y-aa*q;ma=aa*Z-ma*Y;(aa=Math.sqrt(x*x+S*S+ma*ma))?(aa=1/aa,x*=aa,S*=aa,ma*=aa):ma=S=x=0;var ra=Z*ma-q*S,ta=q*x-Y*ma,ua=Y*S-Z*x;(aa=Math.sqrt(ra*ra+ta*ta+ua*ua))?(aa=1/aa,ra*=aa,ta*=aa,ua*=aa):ua=ta=ra=0;a[0]=x;a[1]=ra;a[2]=Y;a[3]=0;a[4]=S;a[5]=ta;a[6]=Z;a[7]=0;a[8]=ma;a[9]=ua;a[10]=q;a[11]=0;a[12]=-(x*H+S*T+ma*b);a[13]=-(ra*H+ta*T+ua*b);a[14]=-(Y*H+Z*T+q*b);a[15]=1}}function C(a,b,q,x){const H=b[0],T=b[1];b=b[2];var Y=x[0];const Z=x[1];var S=x[2];x=H-q[0];let aa=T-q[1];q=b-q[2];let ma=
x*x+aa*aa+q*q;0<ma&&(ma=1/Math.sqrt(ma),x*=ma,aa*=ma,q*=ma);let ra=Z*q-S*aa;S=S*x-Y*q;Y=Y*aa-Z*x;ma=ra*ra+S*S+Y*Y;0<ma&&(ma=1/Math.sqrt(ma),ra*=ma,S*=ma,Y*=ma);a[0]=ra;a[1]=S;a[2]=Y;a[3]=0;a[4]=aa*Y-q*S;a[5]=q*ra-x*Y;a[6]=x*S-aa*ra;a[7]=0;a[8]=x;a[9]=aa;a[10]=q;a[11]=0;a[12]=H;a[13]=T;a[14]=b;a[15]=1;return a}function r(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}
function f(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function c(a,b,q){a[0]=b[0]+q[0];a[1]=b[1]+q[1];a[2]=b[2]+q[2];a[3]=b[3]+q[3];a[4]=b[4]+q[4];a[5]=b[5]+q[5];a[6]=b[6]+q[6];a[7]=b[7]+q[7];a[8]=b[8]+q[8];a[9]=b[9]+q[9];a[10]=b[10]+q[10];a[11]=b[11]+q[11];a[12]=b[12]+q[12];a[13]=b[13]+q[13];a[14]=b[14]+q[14];a[15]=b[15]+q[15];return a}function g(a,b,q){a[0]=b[0]-q[0];a[1]=b[1]-q[1];a[2]=
b[2]-q[2];a[3]=b[3]-q[3];a[4]=b[4]-q[4];a[5]=b[5]-q[5];a[6]=b[6]-q[6];a[7]=b[7]-q[7];a[8]=b[8]-q[8];a[9]=b[9]-q[9];a[10]=b[10]-q[10];a[11]=b[11]-q[11];a[12]=b[12]-q[12];a[13]=b[13]-q[13];a[14]=b[14]-q[14];a[15]=b[15]-q[15];return a}function v(a,b,q){a[0]=b[0]*q;a[1]=b[1]*q;a[2]=b[2]*q;a[3]=b[3]*q;a[4]=b[4]*q;a[5]=b[5]*q;a[6]=b[6]*q;a[7]=b[7]*q;a[8]=b[8]*q;a[9]=b[9]*q;a[10]=b[10]*q;a[11]=b[11]*q;a[12]=b[12]*q;a[13]=b[13]*q;a[14]=b[14]*q;a[15]=b[15]*q;return a}function D(a,b,q,x){a[0]=b[0]+q[0]*x;a[1]=
b[1]+q[1]*x;a[2]=b[2]+q[2]*x;a[3]=b[3]+q[3]*x;a[4]=b[4]+q[4]*x;a[5]=b[5]+q[5]*x;a[6]=b[6]+q[6]*x;a[7]=b[7]+q[7]*x;a[8]=b[8]+q[8]*x;a[9]=b[9]+q[9]*x;a[10]=b[10]+q[10]*x;a[11]=b[11]+q[11]*x;a[12]=b[12]+q[12]*x;a[13]=b[13]+q[13]*x;a[14]=b[14]+q[14]*x;a[15]=b[15]+q[15]*x;return a}function ea(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&
a[15]===b[15]}function sa(a,b){if(a===b)return!0;const q=a[0],x=a[1],H=a[2],T=a[3],Y=a[4],Z=a[5],S=a[6],aa=a[7],ma=a[8],ra=a[9],ta=a[10],ua=a[11],ya=a[12],xa=a[13],wa=a[14];a=a[15];const Ha=b[0],Da=b[1],Ba=b[2],Ca=b[3],Fa=b[4],Sa=b[5],Qa=b[6],Ta=b[7],Ra=b[8],Ka=b[9],Oa=b[10],Pa=b[11],Ia=b[12],cb=b[13],$a=b[14];b=b[15];const u=I.getEpsilon();return Math.abs(q-Ha)<=u*Math.max(1,Math.abs(q),Math.abs(Ha))&&Math.abs(x-Da)<=u*Math.max(1,Math.abs(x),Math.abs(Da))&&Math.abs(H-Ba)<=u*Math.max(1,Math.abs(H),
Math.abs(Ba))&&Math.abs(T-Ca)<=u*Math.max(1,Math.abs(T),Math.abs(Ca))&&Math.abs(Y-Fa)<=u*Math.max(1,Math.abs(Y),Math.abs(Fa))&&Math.abs(Z-Sa)<=u*Math.max(1,Math.abs(Z),Math.abs(Sa))&&Math.abs(S-Qa)<=u*Math.max(1,Math.abs(S),Math.abs(Qa))&&Math.abs(aa-Ta)<=u*Math.max(1,Math.abs(aa),Math.abs(Ta))&&Math.abs(ma-Ra)<=u*Math.max(1,Math.abs(ma),Math.abs(Ra))&&Math.abs(ra-Ka)<=u*Math.max(1,Math.abs(ra),Math.abs(Ka))&&Math.abs(ta-Oa)<=u*Math.max(1,Math.abs(ta),Math.abs(Oa))&&Math.abs(ua-Pa)<=u*Math.max(1,
Math.abs(ua),Math.abs(Pa))&&Math.abs(ya-Ia)<=u*Math.max(1,Math.abs(ya),Math.abs(Ia))&&Math.abs(xa-cb)<=u*Math.max(1,Math.abs(xa),Math.abs(cb))&&Math.abs(wa-$a)<=u*Math.max(1,Math.abs(wa),Math.abs($a))&&Math.abs(a-b)<=u*Math.max(1,Math.abs(a),Math.abs(b))}function pa(a){const b=I.getEpsilon(),q=a[0],x=a[1],H=a[2],T=a[4],Y=a[5],Z=a[6],S=a[8],aa=a[9];a=a[10];return Math.abs(1-(q*q+T*T+S*S))<=b&&Math.abs(1-(x*x+Y*Y+aa*aa))<=b&&Math.abs(1-(H*H+Z*Z+a*a))<=b}function Aa(a){return 1===a[0]&&0===a[1]&&0===
a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const Ga=d.create();d=Object.freeze(Object.defineProperty({__proto__:null,add:c,adjoint:U,copy:O,determinant:da,equals:sa,exactEquals:ea,frob:f,fromQuat:oa,fromQuat2:ha,fromRotation:w,fromRotationTranslation:X,fromRotationTranslationScale:Q,fromRotationTranslationScaleOrigin:ba,fromScaling:B,fromTranslation:R,fromXRotation:G,fromYRotation:P,fromZRotation:W,frustum:ja,getRotation:K,getScaling:A,getTranslation:J,hasIdentityRotation:Aa,
identity:z,invert:L,invertOrIdentity:n,isOrthoNormal:pa,lookAt:qa,mul:la,multiply:la,multiplyScalar:v,multiplyScalarAndAdd:D,ortho:M,perspective:e,perspectiveFromFieldOfView:m,rotate:ia,rotateX:y,rotateY:N,rotateZ:V,scale:fa,set:F,str:r,sub:g,subtract:g,targetTo:C,translate:ca,transpose:t},Symbol.toStringTag,{value:"Module"}));k.add=c;k.adjoint=U;k.copy=O;k.determinant=da;k.equals=sa;k.exactEquals=ea;k.frob=f;k.fromQuat=oa;k.fromQuat2=ha;k.fromRotation=w;k.fromRotationTranslation=X;k.fromRotationTranslationScale=
Q;k.fromRotationTranslationScaleOrigin=ba;k.fromScaling=B;k.fromTranslation=R;k.fromXRotation=G;k.fromYRotation=P;k.fromZRotation=W;k.frustum=ja;k.getRotation=K;k.getScaling=A;k.getTranslation=J;k.hasIdentityRotation=Aa;k.identity=z;k.invert=L;k.invertOrIdentity=n;k.isOrthoNormal=pa;k.lookAt=qa;k.mat4=d;k.mul=la;k.multiply=la;k.multiplyScalar=v;k.multiplyScalarAndAdd=D;k.ortho=M;k.perspective=e;k.perspectiveFromFieldOfView=m;k.rotate=ia;k.rotateX=y;k.rotateY=N;k.rotateZ=V;k.scale=fa;k.set=F;k.str=
r;k.sub=g;k.subtract=g;k.targetTo=C;k.translate=ca;k.transpose=t})},"esri/chunks/mat4f64":function(){define(["exports"],function(k){function d(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function I(n){return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]}function O(n,L,U,da,la,ca,fa,ia,y,N,V,R,B,w,G,P){return[n,L,U,da,la,ca,fa,ia,y,N,V,R,B,w,G,P]}function F(n,L){return new Float64Array(n,L,16)}const z=d(),t=Object.freeze(Object.defineProperty({__proto__:null,
IDENTITY:z,clone:I,create:d,createView:F,fromValues:O},Symbol.toStringTag,{value:"Module"}));k.IDENTITY=z;k.clone=I;k.create=d;k.createView=F;k.fromValues=O;k.mat4f64=t})},"esri/chunks/mat3":function(){define(["exports","./common"],function(k,d){function I(e,m){e[0]=m[0];e[1]=m[1];e[2]=m[2];e[3]=m[4];e[4]=m[5];e[5]=m[6];e[6]=m[8];e[7]=m[9];e[8]=m[10];return e}function O(e,m){e[0]=m[0];e[1]=m[1];e[2]=m[2];e[3]=m[3];e[4]=m[4];e[5]=m[5];e[6]=m[6];e[7]=m[7];e[8]=m[8];return e}function F(e,m,M,qa,C,r,
f,c,g,v){e[0]=m;e[1]=M;e[2]=qa;e[3]=C;e[4]=r;e[5]=f;e[6]=c;e[7]=g;e[8]=v;return e}function z(e){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=1;e[5]=0;e[6]=0;e[7]=0;e[8]=1;return e}function t(e,m){if(e===m){const M=m[1],qa=m[2],C=m[5];e[1]=m[3];e[2]=m[6];e[3]=M;e[5]=m[7];e[6]=qa;e[7]=C}else e[0]=m[0],e[1]=m[3],e[2]=m[6],e[3]=m[1],e[4]=m[4],e[5]=m[7],e[6]=m[2],e[7]=m[5],e[8]=m[8];return e}function n(e,m){const M=m[0],qa=m[1],C=m[2],r=m[3],f=m[4],c=m[5],g=m[6],v=m[7];m=m[8];const D=m*f-c*v,ea=-m*r+c*g,sa=v*r-f*
g;let pa=M*D+qa*ea+C*sa;if(!pa)return null;pa=1/pa;e[0]=D*pa;e[1]=(-m*qa+C*v)*pa;e[2]=(c*qa-C*f)*pa;e[3]=ea*pa;e[4]=(m*M-C*g)*pa;e[5]=(-c*M+C*r)*pa;e[6]=sa*pa;e[7]=(-v*M+qa*g)*pa;e[8]=(f*M-qa*r)*pa;return e}function L(e,m){const M=m[0],qa=m[1],C=m[2],r=m[3],f=m[4],c=m[5],g=m[6],v=m[7];m=m[8];e[0]=f*m-c*v;e[1]=C*v-qa*m;e[2]=qa*c-C*f;e[3]=c*g-r*m;e[4]=M*m-C*g;e[5]=C*r-M*c;e[6]=r*v-f*g;e[7]=qa*g-M*v;e[8]=M*f-qa*r;return e}function U(e){const m=e[3],M=e[4],qa=e[5],C=e[6],r=e[7],f=e[8];return e[0]*(f*
M-qa*r)+e[1]*(-f*m+qa*C)+e[2]*(r*m-M*C)}function da(e,m,M){const qa=m[0],C=m[1],r=m[2],f=m[3],c=m[4],g=m[5],v=m[6],D=m[7];m=m[8];const ea=M[0],sa=M[1],pa=M[2],Aa=M[3],Ga=M[4],a=M[5],b=M[6],q=M[7];M=M[8];e[0]=ea*qa+sa*f+pa*v;e[1]=ea*C+sa*c+pa*D;e[2]=ea*r+sa*g+pa*m;e[3]=Aa*qa+Ga*f+a*v;e[4]=Aa*C+Ga*c+a*D;e[5]=Aa*r+Ga*g+a*m;e[6]=b*qa+q*f+M*v;e[7]=b*C+q*c+M*D;e[8]=b*r+q*g+M*m;return e}function la(e,m,M){const qa=m[0],C=m[1],r=m[2],f=m[3],c=m[4],g=m[5],v=m[6],D=m[7];m=m[8];const ea=M[0];M=M[1];e[0]=qa;
e[1]=C;e[2]=r;e[3]=f;e[4]=c;e[5]=g;e[6]=ea*qa+M*f+v;e[7]=ea*C+M*c+D;e[8]=ea*r+M*g+m;return e}function ca(e,m,M){const qa=m[0],C=m[1],r=m[2],f=m[3],c=m[4],g=m[5],v=m[6],D=m[7];m=m[8];const ea=Math.sin(M);M=Math.cos(M);e[0]=M*qa+ea*f;e[1]=M*C+ea*c;e[2]=M*r+ea*g;e[3]=M*f-ea*qa;e[4]=M*c-ea*C;e[5]=M*g-ea*r;e[6]=v;e[7]=D;e[8]=m;return e}function fa(e,m,M){const qa=M[0],C=M[1];M=M[2];e[0]=qa*m[0];e[1]=qa*m[1];e[2]=qa*m[2];e[3]=C*m[3];e[4]=C*m[4];e[5]=C*m[5];e[6]=M*m[6];e[7]=M*m[7];e[8]=M*m[8];return e}function ia(e,
m,M){const qa=M[0];M=M[1];e[0]=qa*m[0];e[1]=qa*m[1];e[2]=qa*m[2];e[3]=M*m[3];e[4]=M*m[4];e[5]=M*m[5];return e}function y(e,m){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=1;e[5]=0;e[6]=m[0];e[7]=m[1];e[8]=1;return e}function N(e,m){const M=Math.sin(m);m=Math.cos(m);e[0]=m;e[1]=M;e[2]=0;e[3]=-M;e[4]=m;e[5]=0;e[6]=0;e[7]=0;e[8]=1;return e}function V(e,m){e[0]=m[0];e[1]=0;e[2]=0;e[3]=0;e[4]=m[1];e[5]=0;e[6]=0;e[7]=0;e[8]=1;return e}function R(e,m){e[0]=m[0];e[1]=m[1];e[2]=0;e[3]=m[2];e[4]=m[3];e[5]=0;e[6]=m[4];
e[7]=m[5];e[8]=1;return e}function B(e,m){var M=m[0],qa=m[1],C=m[2];m=m[3];var r=M+M,f=qa+qa;const c=C+C;M*=r;const g=qa*r;qa*=f;const v=C*r,D=C*f;C*=c;r*=m;f*=m;m*=c;e[0]=1-qa-C;e[3]=g-m;e[6]=v+f;e[1]=g+m;e[4]=1-M-C;e[7]=D-r;e[2]=v-f;e[5]=D+r;e[8]=1-M-qa;return e}function w(e,m){const M=m[0],qa=m[1],C=m[2],r=m[4],f=m[5],c=m[6],g=m[8],v=m[9];m=m[10];const D=m*f-c*v,ea=-m*r+c*g,sa=v*r-f*g;var pa=M*D+qa*ea+C*sa;if(!pa)return null;pa=1/pa;e[0]=D*pa;e[1]=(-m*qa+C*v)*pa;e[2]=(c*qa-C*f)*pa;e[3]=ea*pa;e[4]=
(m*M-C*g)*pa;e[5]=(-c*M+C*r)*pa;e[6]=sa*pa;e[7]=(-v*M+qa*g)*pa;e[8]=(f*M-qa*r)*pa;return e}function G(e,m){const M=m[0],qa=m[1],C=m[2],r=m[3],f=m[4],c=m[5],g=m[6],v=m[7];var D=m[8],ea=m[9],sa=m[10],pa=m[11];const Aa=m[12],Ga=m[13],a=m[14];m=m[15];const b=M*c-qa*f,q=M*g-C*f,x=M*v-r*f,H=qa*g-C*c,T=qa*v-r*c,Y=C*v-r*g,Z=D*Ga-ea*Aa,S=D*a-sa*Aa;D=D*m-pa*Aa;const aa=ea*a-sa*Ga;ea=ea*m-pa*Ga;sa=sa*m-pa*a;pa=b*sa-q*ea+x*aa+H*D-T*S+Y*Z;if(!pa)return null;pa=1/pa;e[0]=(c*sa-g*ea+v*aa)*pa;e[1]=(g*D-f*sa-v*S)*
pa;e[2]=(f*ea-c*D+v*Z)*pa;e[3]=(C*ea-qa*sa-r*aa)*pa;e[4]=(M*sa-C*D+r*S)*pa;e[5]=(qa*D-M*ea-r*Z)*pa;e[6]=(Ga*Y-a*T+m*H)*pa;e[7]=(a*x-Aa*Y-m*q)*pa;e[8]=(Aa*T-Ga*x+m*b)*pa;return e}function P(e,m,M){e[0]=2/m;e[1]=0;e[2]=0;e[3]=0;e[4]=-2/M;e[5]=0;e[6]=-1;e[7]=1;e[8]=1;return e}function W(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function X(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function ha(e,
m,M){e[0]=m[0]+M[0];e[1]=m[1]+M[1];e[2]=m[2]+M[2];e[3]=m[3]+M[3];e[4]=m[4]+M[4];e[5]=m[5]+M[5];e[6]=m[6]+M[6];e[7]=m[7]+M[7];e[8]=m[8]+M[8];return e}function J(e,m,M){e[0]=m[0]-M[0];e[1]=m[1]-M[1];e[2]=m[2]-M[2];e[3]=m[3]-M[3];e[4]=m[4]-M[4];e[5]=m[5]-M[5];e[6]=m[6]-M[6];e[7]=m[7]-M[7];e[8]=m[8]-M[8];return e}function A(e,m,M){e[0]=m[0]*M;e[1]=m[1]*M;e[2]=m[2]*M;e[3]=m[3]*M;e[4]=m[4]*M;e[5]=m[5]*M;e[6]=m[6]*M;e[7]=m[7]*M;e[8]=m[8]*M;return e}function K(e,m,M,qa){e[0]=m[0]+M[0]*qa;e[1]=m[1]+M[1]*qa;
e[2]=m[2]+M[2]*qa;e[3]=m[3]+M[3]*qa;e[4]=m[4]+M[4]*qa;e[5]=m[5]+M[5]*qa;e[6]=m[6]+M[6]*qa;e[7]=m[7]+M[7]*qa;e[8]=m[8]+M[8]*qa;return e}function Q(e,m){return e[0]===m[0]&&e[1]===m[1]&&e[2]===m[2]&&e[3]===m[3]&&e[4]===m[4]&&e[5]===m[5]&&e[6]===m[6]&&e[7]===m[7]&&e[8]===m[8]}function ba(e,m){const M=e[0],qa=e[1],C=e[2],r=e[3],f=e[4],c=e[5],g=e[6],v=e[7];e=e[8];const D=m[0],ea=m[1],sa=m[2],pa=m[3],Aa=m[4],Ga=m[5],a=m[6],b=m[7];m=m[8];const q=d.getEpsilon();return Math.abs(M-D)<=q*Math.max(1,Math.abs(M),
Math.abs(D))&&Math.abs(qa-ea)<=q*Math.max(1,Math.abs(qa),Math.abs(ea))&&Math.abs(C-sa)<=q*Math.max(1,Math.abs(C),Math.abs(sa))&&Math.abs(r-pa)<=q*Math.max(1,Math.abs(r),Math.abs(pa))&&Math.abs(f-Aa)<=q*Math.max(1,Math.abs(f),Math.abs(Aa))&&Math.abs(c-Ga)<=q*Math.max(1,Math.abs(c),Math.abs(Ga))&&Math.abs(g-a)<=q*Math.max(1,Math.abs(g),Math.abs(a))&&Math.abs(v-b)<=q*Math.max(1,Math.abs(v),Math.abs(b))&&Math.abs(e-m)<=q*Math.max(1,Math.abs(e),Math.abs(m))}function oa(e){const m=d.getEpsilon(),M=e[0],
qa=e[1],C=e[2],r=e[3],f=e[4],c=e[5],g=e[6],v=e[7];e=e[8];return Math.abs(1-(M*M+r*r+g*g))<=m&&Math.abs(1-(qa*qa+f*f+v*v))<=m&&Math.abs(1-(C*C+c*c+e*e))<=m}const ja=Object.freeze(Object.defineProperty({__proto__:null,add:ha,adjoint:L,copy:O,determinant:U,equals:ba,exactEquals:Q,frob:X,fromMat2d:R,fromMat4:I,fromQuat:B,fromRotation:N,fromScaling:V,fromTranslation:y,identity:z,invert:n,isOrthoNormal:oa,mul:da,multiply:da,multiplyScalar:A,multiplyScalarAndAdd:K,normalFromMat4:G,normalFromMat4Legacy:w,
projection:P,rotate:ca,scale:fa,scaleByVec2:ia,set:F,str:W,sub:J,subtract:J,translate:la,transpose:t},Symbol.toStringTag,{value:"Module"}));k.add=ha;k.adjoint=L;k.copy=O;k.determinant=U;k.equals=ba;k.exactEquals=Q;k.frob=X;k.fromMat2d=R;k.fromMat4=I;k.fromQuat=B;k.fromRotation=N;k.fromScaling=V;k.fromTranslation=y;k.identity=z;k.invert=n;k.isOrthoNormal=oa;k.mat3=ja;k.mul=da;k.multiply=da;k.multiplyScalar=A;k.multiplyScalarAndAdd=K;k.normalFromMat4=G;k.normalFromMat4Legacy=w;k.projection=P;k.rotate=
ca;k.scale=fa;k.scaleByVec2=ia;k.set=F;k.str=W;k.sub=J;k.subtract=J;k.translate=la;k.transpose=t})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(k,d,I,O,F,z,t,n,L,U,da,la,ca,fa,ia,y,N,V,R,B,w,G,P,W,X,ha){function J(){return!!Ka&&y.isLoaded()}function A(h){null==Pa&&(Pa=Promise.all([y.load(),(new Promise((p,l)=>k(["../chunks/geometryEngineBase"],p,l))).then(p=>p.geometryEngineBase),new Promise((p,l)=>k(["./geometryAdapters/hydrated"],p,l))]));return Pa.then(([,p,{hydratedAdapter:l}])=>{z.throwIfAborted(h);Oa=l;Ka=p.default;Ka._enableProjection(y.pe);cb.notify()})}function K(h,p,l=null,E=null){return Array.isArray(h)?0===h.length?[]:
Q(Oa,h,h[0].spatialReference,p,l,E):Q(Oa,[h],h.spatialReference,p,l,E)[0]}function Q(h,p,l,E,ka=null,na=null){if(null==l||null==E)return p;if(e(l,E,ka))return p.map(va=>m(va,l,E));if(null==ka){const va=P.cacheKey(l,E);void 0!==Ia[va]?ka=Ia[va]:(ka=oa(l,E,void 0),null==ka&&(ka=new P),Ia[va]=ka)}if(null==Ka||null==h)throw new $a;return null!=na?Ka._project(h,p,l,E,ka,na):Ka._project(h,p,l,E,ka)}function ba(h,p){if(!J())for(const l of h)if(null!=l&&!W.equals(l.spatialReference,p)&&W.isValid(l.spatialReference)&&
W.isValid(p)&&!e(l.spatialReference,p))return n.trackAccess(cb),{pending:A(),geometries:null};return{pending:null,geometries:h.map(l=>null==l?null:W.equals(l.spatialReference,p)?l:W.isValid(l.spatialReference)&&W.isValid(p)?ja(l,p):null)}}function oa(h,p,l=null){if(null==h||null==p)return null;if(null==Ka||null==Oa)throw new $a;h=Ka._getTransformation(Oa,h,p,l,l?.spatialReference);return null!==h?P.fromGE(h):null}function ja(h,p){try{const l=K(h,p);if(null==l)return null;"xmin"in h&&"xmin"in l&&(l.zmin=
h.zmin,l.zmax=h.zmax);const E=ha.getGeometryZScaler(l.type,h.spatialReference,p);null!=E&&E(l);return l}catch(l){if(!(l instanceof $a))throw l;return null}}function e(h,p,l){return l?!1:W.equals(h,p)?!0:W.isValid(h)&&W.isValid(p)&&!!Qa(h,p,fb)}function m(h,p,l){return h?"x"in h?M(h,p,new N,l,0):"xmin"in h?f(h,p,new fa,l,0):"rings"in h?r(h,p,new V,l,0):"paths"in h?C(h,p,new R,l,0):"points"in h?qa(h,p,new ia,l,0):null:null}function M(h,p,l,E,ka){Ea[0]=h.x;Ea[1]=h.y;const na=h.z;Ea[2]=void 0!==na?na:
ka;if(!D(Ea,p,0,Ea,E,0,1))return null;l.x=Ea[0];l.y=Ea[1];l.spatialReference=E;void 0===na?(l.z=void 0,l.hasZ=!1):(l.z=Ea[2],l.hasZ=!0);void 0===h.m?(l.m=void 0,l.hasM=!1):(l.m=h.m,l.hasM=!0);return l}function qa(h,p,l,E,ka){const {points:na,hasZ:va,hasM:za}=h;h=[];const Na=na.length,Ma=[];for(var La of na)Ma.push(La[0],La[1],va?La[2]:ka);if(!D(Ma,p,0,Ma,E,0,Na))return null;for(p=0;p<Na;++p){ka=3*p;La=Ma[ka];const Ua=Ma[ka+1];va&&za?h.push([La,Ua,Ma[ka+2],na[p][3]]):va?h.push([La,Ua,Ma[ka+2]]):za?
h.push([La,Ua,na[p][2]]):h.push([La,Ua])}l.points=h;l.spatialReference=E;l.hasZ=va;l.hasM=za;return l}function C(h,p,l,E,ka){const {paths:na,hasZ:va,hasM:za}=h;h=[];if(!ea(na,va??!1,za??!1,p,h,E,ka))return null;l.paths=h;l.spatialReference=E;l.hasZ=va;l.hasM=za;return l}function r(h,p,l,E,ka){const {rings:na,hasZ:va,hasM:za}=h;h=[];if(!ea(na,va??!1,za??!1,p,h,E,ka))return null;l.rings=h;l.spatialReference=E;l.hasZ=va;l.hasM=za;return l}function f(h,p,l,E,ka){const {xmin:na,ymin:va,xmax:za,ymax:Na,
hasZ:Ma,hasM:La}=h;if(!c(na,va,Ma?h.zmin:ka,p,Ea,E))return null;l.xmin=Ea[0];l.ymin=Ea[1];Ma&&(l.zmin=Ea[2]);if(!c(za,Na,Ma?h.zmax:ka,p,Ea,E))return null;l.xmax=Ea[0];l.ymax=Ea[1];Ma&&(l.zmax=Ea[2]);La&&(l.mmin=h.mmin,l.mmax=h.mmax);l.spatialReference=E;return l}function c(h,p,l,E,ka,na){Ja[0]=h;Ja[1]=p;Ja[2]=l;return D(Ja,E,0,ka,na,0,1)}function g(h,p,l,E){if(null==p||null==E||2>h.length)return!1;2===h.length&&(Ja[0]=h[0],Ja[1]=h[1],Ja[2]=0,h=Ja);return D(h,p,0,l,E,0,1)}function v(h,p,l){if(null==
p)return!1;p=Ga(p,ab);p=Va[p][u.WGS84_COMPARABLE_LON_LAT];if(null==p)return!1;p(h,0,Ja,0);l!==Ja&&(l[0]=Ja[0],l[1]=Ja[1],2<l.length&&(l[2]=Ja[2]));return!0}function D(h,p,l,E,ka,na,va=1){p=Qa(p,ka,fb);if(null==p)return!1;if(p===a){if(h===E&&l===na)return!0;va=l+3*va;for(let za=l,Na=na;za<va;za++,Na++)E[Na]=h[za];return!0}va=l+3*va;for(let za=l,Na=na;za<va;za+=3,Na+=3)p(h,za,E,Na);return!0}function ea(h,p,l,E,ka,na,va=0){const za=[];for(const Na of h)for(const Ma of Na)za.push(Ma[0],Ma[1],p?Ma[2]:
va);if(!D(za,E,0,za,na,0,za.length/3))return!1;E=0;ka.length=0;for(const Na of h){h=[];for(const Ma of Na)p&&l?h.push([za[E++],za[E++],za[E++],Ma[3]]):p?h.push([za[E++],za[E++],za[E++]]):(l?h.push([za[E++],za[E++],Ma[2]]):h.push([za[E++],za[E++]]),E++);ka.push(h)}return!0}function sa(h,p,l,E){p=E+p;if(p<E/2||l>p)return Number.MAX_VALUE;h=Math.abs(Wa*h)+Math.asin(l/p);return h>=Math.PI/2?Number.MAX_VALUE:l/Math.cos(h)}function pa(h,p,l){const E=Math.sin(h);h=Math.cos(h);const ka=Math.sin(p);p=Math.cos(p);
l[0]=-E;l[4]=-ka*h;l[8]=p*h;l[12]=0;l[1]=h;l[5]=-ka*E;l[9]=p*E;l[13]=0;l[2]=0;l[6]=p;l[10]=ka;l[14]=0;l[3]=0;l[7]=0;l[11]=0;l[15]=1;return l}function Aa(h,p,l){pa(h,p,l);U.transpose(l,l);return l}function Ga(h,p){if(!h)return u.UNKNOWN;if(p.spatialReference===h)return p.spatialReferenceId;p.spatialReference=h;"metersPerUnit"in p&&(p.metersPerUnit=t.getMetersPerUnitForSR(h,1));return h.wkt===ca.SphericalECEFSpatialReferenceLike.wkt?p.spatialReferenceId=u.SPHERICAL_ECEF:W.isWGS84(h)?p.spatialReferenceId=
u.WGS84:W.isWebMercator(h)?p.spatialReferenceId=u.WEB_MERCATOR:W.isPlateCarree(h)?p.spatialReferenceId=u.PLATE_CARREE:h.wkt===ca.WGS84ECEFSpatialReferenceLike.wkt?p.spatialReferenceId=u.WGS84_ECEF:h.wkid===X.SupportedGCSWkids.CGCS2000?p.spatialReferenceId=u.CGCS2000:h.wkt===ca.SphericalPCPFMarsLike.wkt?p.spatialReferenceId=u.SPHERICAL_MARS_PCPF:h.wkt===ca.SphericalPCPFMoonLike.wkt?p.spatialReferenceId=u.SPHERICAL_MOON_PCPF:W.isMars(h)?p.spatialReferenceId=u.GCSMARS2000:W.isMoon(h)?p.spatialReferenceId=
u.GCSMOON2000:p.spatialReferenceId=u.UNKNOWN}function a(h,p,l,E){h!==l&&(l[E++]=h[p++],l[E++]=h[p++],l[E]=h[p])}function b(h,p,l,E){l[E++]=bb*(h[p++]/w.earth.radius);l[E++]=bb*(Math.PI/2-2*Math.atan(Math.exp(-h[p++]/w.earth.radius)));l[E]=h[p]}function q(h,p,l,E){b(h,p,l,E);ta(l,E,l,E)}function x(h,p,l,E){b(h,p,l,E);Ba(l,E,l,E)}function H(h,p,l,E,ka){var na=.4999999*Math.PI;na=F.clamp(Wa*h[p+1],-na,na);na=Math.sin(na);l[E++]=Wa*h[p]*ka.radius;l[E++]=ka.halfSemiMajorAxis*Math.log((1+na)/(1-na));l[E]=
h[p+2]}function T(h,p,l,E){H(h,p,l,E,w.earth)}function Y(h,p,l,E){l[E]=h[p]*gb;l[E+1]=h[p+1]*gb;l[E+2]=h[p+2]}function Z(h,p,l,E){l[E]=h[p]*db;l[E+1]=h[p+1]*db;l[E+2]=h[p+2]}function S(h,p,l,E){b(h,p,l,E);Y(l,E,l,E)}function aa(h,p,l,E,ka){ka+=h[p+2];const na=Wa*h[p+1];h=Wa*h[p];p=Math.cos(na);l[E++]=Math.cos(h)*p*ka;l[E++]=Math.sin(h)*p*ka;l[E]=Math.sin(na)*ka}function ma(h,p,l,E){aa(h,p,l,E,w.moon.radius)}function ra(h,p,l,E){aa(h,p,l,E,w.mars.radius)}function ta(h,p,l,E){aa(h,p,l,E,w.earth.radius)}
function ua(h,p,l,E,ka){var na=h[p];const va=h[p+1];p=h[p+2];h=Math.sqrt(na*na+va*va+p*p);p=F.asinClamped(p/(0===h?1:h));na=Math.atan2(va,na);l[E++]=bb*na;l[E++]=bb*p;l[E]=h-ka}function ya(h,p,l,E){ua(h,p,l,E,w.moon.radius)}function xa(h,p,l,E){ua(h,p,l,E,w.mars.radius)}function wa(h,p,l,E){ua(h,p,l,E,w.earth.radius)}function Ha(h,p,l,E){wa(h,p,l,E);T(l,E,l,E)}function Da(h,p,l,E){wa(h,p,l,E);Ba(l,E,l,E)}function Ba(h,p,l,E){var ka=w.earth;const na=Wa*h[p];var va=Wa*h[p+1];h=h[p+2];p=Math.sin(va);
va=Math.cos(va);const za=ka.radius/Math.sqrt(1-ka.eccentricitySquared*p*p);l[E++]=(za+h)*va*Math.cos(na);l[E++]=(za+h)*va*Math.sin(na);l[E++]=(za*(1-ka.eccentricitySquared)+h)*p}function Ca(h,p,l,E){var ka=G.earthEllipsoidConstants,na=h[p],va=h[p+1];h=h[p+2];let za;p=Math.abs(h);var Na=na*na+va*va;var Ma=Math.sqrt(Na);var La=Na+h*h;var Ua=Math.sqrt(La);na=Math.atan2(va,na);var Ya=h*h/La;La=Na/La;va=ka.a2/Ua;Na=ka.a3-ka.a4/Ua;.3<La?(Ya=p/Ua*(1+La*(ka.a1+va+Ya*Na)/Ua),Ua=Math.asin(Ya),va=Ya*Ya,La=Math.sqrt(1-
va)):(La=Ma/Ua*(1-Ya*(ka.a5-va-La*Na)/Ua),Ua=Math.acos(La),va=1-La*La,Ya=Math.sqrt(va));za=1-w.earth.eccentricitySquared*va;va=w.earth.radius/Math.sqrt(za);ka=ka.a6*va;va=Ma-va*La;Na=p-ka*Ya;p=La*va+Ya*Na;Ma=La*Na-Ya*va;ka=Ma/(ka/za+p);Ua+=ka;0>h&&(Ua=-Ua);l[E++]=bb*na;l[E++]=bb*Ua;l[E]=p+Ma*ka/2}function Fa(h,p,l,E){Ca(h,p,l,E);ta(l,E,l,E)}function Sa(h,p,l,E){Ca(h,p,l,E);T(l,E,l,E)}function Qa(h,p,l=Ra()){return null==h||null==p?null:Ta(h,p,l).projector}function Ta(h,p,l){if(null==h||null==p||l.source.spatialReference===
h&&l.dest.spatialReference===p)return l;const E=Ga(h,l.source),ka=Ga(p,l.dest);E===u.UNKNOWN&&ka===u.UNKNOWN?W.equals(h,p)?l.projector=a:l.projector=null:l.projector=Va[E][ka];return l}function Ra(){return{source:{spatialReference:null,spatialReferenceId:u.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:u.UNKNOWN,metersPerUnit:1},projector:a}}let Ka=null,Oa=null,Pa=null,Ia={};const cb=new L.SimpleObservable;let $a=function(h){function p(){return h.call(this,"projection:not-loaded",
"projection engine not fully loaded yet, please call load()")||this}I._inherits(p,h);return I._createClass(p)}(O);var u;(function(h){h[h.UNKNOWN=0]="UNKNOWN";h[h.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";h[h.WGS84=2]="WGS84";h[h.WEB_MERCATOR=3]="WEB_MERCATOR";h[h.WGS84_ECEF=4]="WGS84_ECEF";h[h.CGCS2000=5]="CGCS2000";h[h.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";h[h.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";h[h.GCSMARS2000=8]="GCSMARS2000";h[h.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";
h[h.GCSMOON2000=10]="GCSMOON2000";h[h.LON_LAT=11]="LON_LAT";h[h.PLATE_CARREE=12]="PLATE_CARREE"})(u||(u={}));const gb=w.earth.radius*Math.PI/180,db=180/(w.earth.radius*Math.PI),Va={[u.WGS84]:{[u.CGCS2000]:null,[u.GCSMARS2000]:null,[u.GCSMOON2000]:null,[u.LON_LAT]:a,[u.WGS84_COMPARABLE_LON_LAT]:a,[u.SPHERICAL_ECEF]:ta,[u.SPHERICAL_MARS_PCPF]:null,[u.SPHERICAL_MOON_PCPF]:null,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:T,[u.PLATE_CARREE]:Y,[u.WGS84]:a,[u.WGS84_ECEF]:Ba},[u.CGCS2000]:{[u.CGCS2000]:a,[u.GCSMARS2000]:null,
[u.GCSMOON2000]:null,[u.LON_LAT]:a,[u.WGS84_COMPARABLE_LON_LAT]:a,[u.SPHERICAL_ECEF]:ta,[u.SPHERICAL_MARS_PCPF]:null,[u.SPHERICAL_MOON_PCPF]:null,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:null,[u.PLATE_CARREE]:Y,[u.WGS84]:null,[u.WGS84_ECEF]:Ba},[u.GCSMARS2000]:{[u.CGCS2000]:null,[u.GCSMARS2000]:a,[u.GCSMOON2000]:null,[u.LON_LAT]:a,[u.WGS84_COMPARABLE_LON_LAT]:null,[u.SPHERICAL_ECEF]:null,[u.SPHERICAL_MARS_PCPF]:ra,[u.SPHERICAL_MOON_PCPF]:null,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:null,[u.PLATE_CARREE]:null,
[u.WGS84]:null,[u.WGS84_ECEF]:null},[u.GCSMOON2000]:{[u.CGCS2000]:null,[u.GCSMARS2000]:null,[u.GCSMOON2000]:a,[u.LON_LAT]:a,[u.WGS84_COMPARABLE_LON_LAT]:null,[u.SPHERICAL_ECEF]:null,[u.SPHERICAL_MARS_PCPF]:null,[u.SPHERICAL_MOON_PCPF]:ma,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:null,[u.PLATE_CARREE]:null,[u.WGS84]:null,[u.WGS84_ECEF]:null},[u.WEB_MERCATOR]:{[u.CGCS2000]:null,[u.GCSMARS2000]:null,[u.GCSMOON2000]:null,[u.LON_LAT]:b,[u.WGS84_COMPARABLE_LON_LAT]:b,[u.SPHERICAL_ECEF]:q,[u.SPHERICAL_MARS_PCPF]:null,
[u.SPHERICAL_MOON_PCPF]:null,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:a,[u.PLATE_CARREE]:S,[u.WGS84]:b,[u.WGS84_ECEF]:x},[u.WGS84_ECEF]:{[u.CGCS2000]:Ca,[u.GCSMARS2000]:null,[u.GCSMOON2000]:null,[u.LON_LAT]:Ca,[u.WGS84_COMPARABLE_LON_LAT]:Ca,[u.SPHERICAL_ECEF]:Fa,[u.SPHERICAL_MARS_PCPF]:null,[u.SPHERICAL_MOON_PCPF]:null,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:Sa,[u.PLATE_CARREE]:function(h,p,l,E){Ca(h,p,l,E);Y(l,E,l,E)},[u.WGS84]:Ca,[u.WGS84_ECEF]:a},[u.SPHERICAL_ECEF]:{[u.CGCS2000]:wa,[u.GCSMARS2000]:null,[u.GCSMOON2000]:null,
[u.LON_LAT]:wa,[u.WGS84_COMPARABLE_LON_LAT]:wa,[u.SPHERICAL_ECEF]:a,[u.SPHERICAL_MARS_PCPF]:null,[u.SPHERICAL_MOON_PCPF]:null,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:Ha,[u.PLATE_CARREE]:function(h,p,l,E){wa(h,p,l,E);Y(l,E,l,E)},[u.WGS84]:wa,[u.WGS84_ECEF]:Da},[u.SPHERICAL_MARS_PCPF]:{[u.CGCS2000]:null,[u.GCSMARS2000]:xa,[u.GCSMOON2000]:null,[u.LON_LAT]:xa,[u.WGS84_COMPARABLE_LON_LAT]:null,[u.SPHERICAL_ECEF]:null,[u.SPHERICAL_MARS_PCPF]:a,[u.SPHERICAL_MOON_PCPF]:null,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:null,
[u.PLATE_CARREE]:null,[u.WGS84]:null,[u.WGS84_ECEF]:null},[u.SPHERICAL_MOON_PCPF]:{[u.CGCS2000]:null,[u.GCSMARS2000]:null,[u.GCSMOON2000]:ya,[u.LON_LAT]:ya,[u.WGS84_COMPARABLE_LON_LAT]:null,[u.SPHERICAL_ECEF]:null,[u.SPHERICAL_MARS_PCPF]:null,[u.SPHERICAL_MOON_PCPF]:a,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:null,[u.PLATE_CARREE]:null,[u.WGS84]:null,[u.WGS84_ECEF]:null},[u.UNKNOWN]:{[u.CGCS2000]:null,[u.GCSMARS2000]:null,[u.GCSMOON2000]:null,[u.LON_LAT]:null,[u.WGS84_COMPARABLE_LON_LAT]:null,[u.SPHERICAL_ECEF]:null,
[u.SPHERICAL_MARS_PCPF]:null,[u.SPHERICAL_MOON_PCPF]:null,[u.UNKNOWN]:a,[u.WEB_MERCATOR]:null,[u.PLATE_CARREE]:null,[u.WGS84]:null,[u.WGS84_ECEF]:null},[u.LON_LAT]:{[u.CGCS2000]:a,[u.GCSMARS2000]:a,[u.GCSMOON2000]:a,[u.LON_LAT]:a,[u.WGS84_COMPARABLE_LON_LAT]:a,[u.SPHERICAL_ECEF]:ta,[u.SPHERICAL_MARS_PCPF]:ra,[u.SPHERICAL_MOON_PCPF]:ma,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:T,[u.PLATE_CARREE]:Y,[u.WGS84]:a,[u.WGS84_ECEF]:Ba},[u.WGS84_COMPARABLE_LON_LAT]:{[u.CGCS2000]:null,[u.GCSMARS2000]:null,[u.GCSMOON2000]:null,
[u.LON_LAT]:a,[u.WGS84_COMPARABLE_LON_LAT]:a,[u.SPHERICAL_ECEF]:ta,[u.SPHERICAL_MARS_PCPF]:null,[u.SPHERICAL_MOON_PCPF]:null,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:null,[u.PLATE_CARREE]:Y,[u.WGS84]:a,[u.WGS84_ECEF]:Ba},[u.PLATE_CARREE]:{[u.CGCS2000]:Z,[u.GCSMARS2000]:null,[u.GCSMOON2000]:null,[u.LON_LAT]:Z,[u.WGS84_COMPARABLE_LON_LAT]:Z,[u.SPHERICAL_ECEF]:function(h,p,l,E){Z(h,p,l,E);ta(l,E,l,E)},[u.SPHERICAL_MARS_PCPF]:null,[u.SPHERICAL_MOON_PCPF]:null,[u.UNKNOWN]:null,[u.WEB_MERCATOR]:function(h,p,l,
E){Z(h,p,l,E);T(l,E,l,E)},[u.PLATE_CARREE]:a,[u.WGS84]:Z,[u.WGS84_ECEF]:function(h,p,l,E){Z(h,p,l,E);Ba(l,E,l,E)}}},ab={spatialReference:null,spatialReferenceId:u.UNKNOWN},hb={spatialReference:null,spatialReferenceId:u.UNKNOWN},fb=Ra(),ib=Ra(),Wa=F.deg2rad(1),bb=F.rad2deg(1),Ja=la.create(),Xa=la.create(),Za=la.create(),Ea=la.create(),eb=la.create();d.canProjectToWGS84ComparableLonLat=function(h){if(null==h)return!1;h=Ga(h,ab);return!!Va[h][u.WGS84_COMPARABLE_LON_LAT]};d.canProjectWithoutEngine=e;
d.computeENUToSphericalPCPFLocalRotation=pa;d.computeSphericalPCPFToENULocalRotation=Aa;d.computeTranslationToOriginAndRotation=function(h,p,l,E){if(null==h||null==E)return!1;var ka=Ga(h,ab),na=Ga(E,hb);if(ka===na&&na!==u.SPHERICAL_ECEF&&na!==u.SPHERICAL_MARS_PCPF&&na!==u.SPHERICAL_MOON_PCPF&&(ka!==u.UNKNOWN||W.equals(h,E)))return U.fromTranslation(l,p),!0;if(na===u.SPHERICAL_ECEF||na===u.SPHERICAL_MARS_PCPF||na===u.SPHERICAL_MOON_PCPF){ka=Va[ka][u.LON_LAT];na=Va[u.LON_LAT][na];if(null==ka||null==
na)return!1;ka(p,0,Xa,0);na(Xa,0,Za,0);pa(Wa*Xa[0],Wa*Xa[1],l);l[12]=Za[0];l[13]=Za[1];l[14]=Za[2];return!0}if((na===u.WEB_MERCATOR||na===u.PLATE_CARREE)&&(ka===u.WGS84||ka===u.CGCS2000&&na===u.PLATE_CARREE||ka===u.SPHERICAL_ECEF||ka===u.WEB_MERCATOR)){h=Va[ka][u.LON_LAT];na=Va[u.LON_LAT][na];if(null==h||null==na)return!1;h(p,0,Xa,0);na(Xa,0,Za,0);ka===u.SPHERICAL_ECEF?Aa(Wa*Xa[0],Wa*Xa[1],l):U.identity(l);l[12]=Za[0];l[13]=Za[1];l[14]=Za[2];return!0}return!1};d.getProjectorName=function(h,p){switch(Qa(h,
p,fb)){case a:return"copy3";case ta:return"wgs84ToSphericalECEF";case T:return"wgs84ToWebMercator";case Y:return"wgs84ToPlateCarree";case Ba:return"wgs84ToWGS84ECEF";case b:return"webMercatorToWGS84";case q:return"webMercatorToSphericalECEF";case x:return"webMercatorToWGS84ECEF";case S:return"webMercatorToPlateCarree";case Ca:return"wgs84ECEFToWGS84";case Fa:return"wgs84ECEFToSphericalECEF";case Sa:return"wgs84ECEFToWebMercator";case wa:return"sphericalECEFToWGS84";case Ha:return"sphericalECEFToWebMercator";
case xa:return"sphericalMarsPCPFToMars2000";case ya:return"sphericalMoonPCPFToMoon2000";case Da:return"sphericalECEFToWGS84ECEF";case ra:return"mars2000ToSphericalPCPF";case ma:return"moon2000ToSphericalPCPF";default:return null}};d.getTransformation=oa;d.getTransformations=function(h,p,l=null){if(null==Ka||null==Oa)throw new $a;h=Ka._getTransformationBySuitability(Oa,h,p,l,l?.spatialReference);if(null!==h){p=[];for(const E of h)p.push(P.fromGE(E));return p}return[]};d.initializeProjection=async function(h,
p,l,E){if(J())return z.waitTick(E);if(Array.isArray(h))for(const {source:ka,dest:na,geographicTransformation:va}of h){if(!e(ka,na,va))return A(E)}else if(!e(h,p,l))return A(E);return z.waitTick(E)};d.isLoaded=J;d.load=A;d.localLinearScaleFactors=function(h,p,l,E){if(null==p||null==E)return!1;const ka=Ga(p,ab);var na=Ga(E,hb);if(ka===na&&ka!==u.UNKNOWN||W.equals(p,E))return l[0]=1,l[1]=1,l[2]=1,!0;if(ka===u.SPHERICAL_ECEF){p=da.length(h);h=p/Math.sqrt(h[0]*h[0]+h[1]*h[1]);p/=w.earth.radius;if(na===
u.WEB_MERCATOR)return l[0]=h*p,l[1]=h*p,l[2]=1,!0;if(na===u.WGS84||na===u.CGCS2000)return na=db,l[0]=na*h*p,l[1]=na*p,l[2]=1,!0}else if(ka===u.PLATE_CARREE){if(na===u.WGS84||na===u.CGCS2000)return l[0]=db,l[1]=db,l[2]=1,!0;if(na===u.WEB_MERCATOR)return na=h[1]/w.earth.radius,l[0]=1,l[1]=1/Math.cos(na),l[2]=1,!0}return!1};d.lonLatToSphericalPCPF=function(h,p,l,E){const ka=Math.cos(l);h[0]=Math.cos(p)*ka*E;h[1]=Math.sin(p)*ka*E;h[2]=Math.sin(l)*E};d.lonLatToWebMercatorComparable=H;d.project=K;d.projectBoundingRect=
function(h,p,l,E){if(null==h)return!1;if(W.equals(p,E))return B.copy(l,h),!0;Ja[0]=h[0];Ja[1]=h[1];Ja[2]=0;if(!D(Ja,p,0,Ja,E,0,1))return!1;l[0]=Ja[0];l[1]=Ja[1];Ja[0]=h[2];Ja[1]=h[3];Ja[2]=0;if(!D(Ja,p,0,Ja,E,0,1))return!1;l[2]=Ja[0];l[3]=Ja[1];return!0};d.projectBoundingSphere=function(h,p,l,E){if(null==p||null==E)return!1;p=Ta(p,E,ib);if(p.projector===a)return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[3],!0;if(null==p.projector)return!1;const {source:ka,dest:na}=p;if(na.spatialReferenceId===u.WEB_MERCATOR){p=
Va[ka.spatialReferenceId][u.WGS84];if(null==p)return!1;p(h,0,Xa,0);T(Xa,0,l,0);l[3]=sa(Xa[1],h[2],h[3],w.earth.radius);return!0}if(ka.spatialReferenceId!==u.WGS84&&ka.spatialReferenceId!==u.CGCS2000||na.spatialReferenceId!==u.PLATE_CARREE)p.projector(h,0,l,0),l[3]=h[3]*(ka.metersPerUnit??1)/(na.metersPerUnit??1);else{E=Va[u.SPHERICAL_ECEF][u.PLATE_CARREE];let va=h[3];null!=Va[ka.spatialReferenceId][u.SPHERICAL_ECEF]&&null!=E&&(va=sa(h[1],h[2],h[3],w.earth.radius));p.projector(h,0,l,0);l[3]=va}return!0};
d.projectBuffer=D;d.projectDirection=function(h,p,l,E,ka){da.copy(Ea,h);da.add(eb,h,p);g(Ea,l,Ea,ka);g(eb,l,eb,ka);da.subtract(E,eb,Ea);da.normalize(E,E)};d.projectExtent=function(h,p,l=p.spatialReference,E=0){return null!=h.spatialReference&&null!=l&&null!=f(h,h.spatialReference,p,l,E)};d.projectMany=Q;d.projectMultipoint=function(h,p,l=p.spatialReference,E=0){return null!=h.spatialReference&&null!=l&&null!=qa(h,h.spatialReference,p,l,E)};d.projectOrLoad=function(h,p){h=ba([h],p);return null!=h.pending?
{pending:h.pending,geometry:null}:null!=h.geometries?{pending:null,geometry:h.geometries[0]}:{pending:null,geometry:null}};d.projectOrLoadMany=ba;d.projectPoint=function(h,p,l=p.spatialReference,E=0){return null!=l&&null!=h.spatialReference&&null!=M(h,h.spatialReference,p,l,E)};d.projectPointToVector=function(h,p,l,E=0){Ea[0]=h.x;Ea[1]=h.y;const ka=h.z;Ea[2]=void 0!==ka?ka:E;return D(Ea,h.spatialReference,0,p,l,0,1)};d.projectPointToWGS84ComparableLonLat=function(h,p){Ea[0]=h.x;Ea[1]=h.y;const l=
h.z;Ea[2]=void 0!==l?l:0;return v(Ea,h.spatialReference,p)};d.projectPolygon=function(h,p,l=p.spatialReference,E=0){return null!=h.spatialReference&&null!=l&&null!=r(h,h.spatialReference,p,l,E)};d.projectPolygonToWGS84ComparableLonLat=function({hasZ:h,spatialReference:p,rings:l},E,ka=0){p=Ga(p,ab);p=Va[p][u.WGS84_COMPARABLE_LON_LAT];if(null==p)return!1;h=h?na=>na:na=>da.set(Ea,na[0],na[1],ka);for(const na of l){l=[];for(const va of na){const za=[0,0,ka];p(h(va),0,za,0);l.push(za)}E.push(l)}return!0};
d.projectPolyline=function(h,p,l=p.spatialReference,E=0){return null!=h.spatialReference&&null!=l&&null!=C(h,h.spatialReference,p,l,E)};d.projectPolylineToWGS84ComparableLonLat=function({hasZ:h,spatialReference:p,paths:l},E,ka=0){p=Ga(p,ab);p=Va[p][u.WGS84_COMPARABLE_LON_LAT];if(null==p)return!1;h=h?na=>na:na=>da.set(Ea,na[0],na[1],ka);for(const na of l){l=[];for(const va of na){const za=[0,0,ka];p(h(va),0,za,0);l.push(za)}E.push(l)}return!0};d.projectVectorToDehydratedPoint=function(h,p,l){return D(h,
p,0,Ea,l.spatialReference,0,1)?(l.x=Ea[0],l.y=Ea[1],l.z=Ea[2],l):null};d.projectVectorToPoint=function(h,p,l){if(null==p||null==l)return null;const E=new N({spatialReference:l});return D(h,p,0,Ea,l,0,1)?(E.x=Ea[0],E.y=Ea[1],E.z=Ea[2],E):null};d.projectVectorToVector=g;d.projectVectorToWGS84ComparableLonLat=function(h,p,l){return v(h,p,l)};d.projectWithoutEngine=m;d.projectXYZToVector=c;d.sphericalPCPFtoLonLatElevation=ua;d.test={get loadPromise(){return Pa}};d.tryProjectWithZConversion=ja;d.unload=
function(){Pa=Oa=Ka=null;Ia={}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../ObservableBase"],function(k,d,I){I=function(O){function F(){return O.apply(this,arguments)||this}d._inherits(F,O);F.prototype.notify=function(){var z=this._observers;if(z&&0<z.length){z=z.slice();for(const t of z)t.onInvalidated(),t.onCommitted()}};return d._createClass(F)}(I.ObservableBase);
k.SimpleObservable=I;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(k,d,I,O,F){function z(){return!!d._pe}function t(){return!!F("esri-wasm")}function n(){return fa?fa:fa=(new Promise((y,N)=>k(["./pe-wasm"],y,N))).then(y=>y.peWasm).then(({default:y})=>y({locateFile:N=>O.getAssetUrl(`esri/geometry/support/${N}`)})).then(y=>{L(y)})}function L(y){function N(B,w,G){B[w]=
G(B[w])}d._pe=y;d.PeDefs.init();d.PeGTlistExtended.init();d.PeNotationMgrs.init();d.PeNotationUtm.init();d.PePCSInfo.init();d.PeGCSExtent=function(B){function w(){return B.apply(this,arguments)||this}I._inherits(w,B);w.prototype.destroy=function(){d._pe.destroy(this)};return I._createClass(w)}(d._pe.PeGCSExtent);y=[d._pe.PeDatum,d._pe.PeGeogcs,d._pe.PeGeogtran,d._pe.PeObject,d._pe.PeParameter,d._pe.PePrimem,d._pe.PeProjcs,d._pe.PeSpheroid,d._pe.PeUnit];for(var V of y)N(V.prototype,"getName",B=>function(){return B.call(this,
Array(d.PeDefs.PE_NAME_MAX))});for(const B of[d._pe.PeGeogtran,d._pe.PeProjcs])N(B.prototype,"getParameters",w=>function(){const G=Array(d.PeDefs.PE_PARM_MAX);let P=w.call(this);for(let W=0;W<G.length;W++){const X=d._pe.getValue(P,"*");G[W]=X?d._pe.wrapPointer(X,d._pe.PeParameter):null;P+=Int32Array.BYTES_PER_ELEMENT}return G});N(d._pe.PeHorizon.prototype,"getCoord",B=>function(){const w=this.getSize();if(!w)return null;const G=[],P=B.call(this);ca(G,w,P);return G});N(d._pe.PeGTlistExtendedEntry.prototype,
"getEntries",B=>{const w=d._pe._pe_getPeGTlistExtendedGTsSize();return function(){let G=null;var P=B.call(this);if(!d._pe.compare(P,d._pe.NULL)){G=[P];const W=this.getSteps();if(1<W){P=d._pe.getPointer(P);for(let X=1;X<W;X++)G.push(d._pe.wrapPointer(P+w*X,d._pe.PeGTlistExtendedGTs))}}return G}});const R=d._pe._pe_getPeHorizonSize();V=B=>function(){let w=this._cache;w||(this._cache=w=new Map);if(w.has(B))return w.get(B);let G=null;var P=B.call(this);if(!d._pe.compare(P,d._pe.NULL)){G=[P];const W=P.getNump();
if(1<W){P=d._pe.getPointer(P);for(let X=1;X<W;X++)G.push(d._pe.wrapPointer(P+R*X,d._pe.PeHorizon))}}w.set(B,G);return G};N(d._pe.PeProjcs.prototype,"horizonGcsGenerate",V);N(d._pe.PeProjcs.prototype,"horizonPcsGenerate",V);d._pe.PeObject.prototype.toString=function(B=d.PeDefs.PE_STR_OPTS_NONE){d._pe.ensureCache.prepare();const w=d._pe.getPointer(this),G=d._pe.ensureInt8(Array(d.PeDefs.PE_BUFFER_MAX));return d._pe.UTF8ToString(d._pe._pe_object_to_string_ext(w,B,G))}}function U(y){if(y){var N=d._pe.getClass(y);
N&&(N=d._pe.getCache(N))&&(y=d._pe.getPointer(y))&&delete N[y]}}function da(y,N){const V=[];N=Array(N);for(let R=0;R<y;R++)V.push(d._pe.ensureInt8(N));return V}function la(y){let N;Array.isArray(y[0])?(N=[],y.forEach(V=>{N.push(V[0],V[1])})):N=y;return N}function ca(y,N,V,R=!1){if(R)for(R=0;R<2*N;R++)y[R]=d._pe.getValue(V+R*Float64Array.BYTES_PER_ELEMENT,"double");else{R=0===y.length;for(let B=0;B<N;B++)R&&(y[B]=Array(2)),y[B][0]=d._pe.getValue(V,"double"),y[B][1]=d._pe.getValue(V+Float64Array.BYTES_PER_ELEMENT,
"double"),V+=2*Float64Array.BYTES_PER_ELEMENT}}let fa;d._pe=null;d.PeCSTransformations=void 0;(function(y){function N(B,w,G){d._pe.ensureCache.prepare();var P=la(G);const W=G===P;P=d._pe.ensureFloat64(P);(B=d._pe._pe_geog_to_proj(d._pe.getPointer(B),w,P))&&ca(G,w,P,W);return B}function V(B,w,G){return R(B,w,G,0)}function R(B,w,G,P){d._pe.ensureCache.prepare();var W=la(G);const X=G===W;W=d._pe.ensureFloat64(W);(B=d._pe._pe_proj_to_geog_center(d._pe.getPointer(B),w,W,P))&&ca(G,w,W,X);return B}y.geogToProj=
N;y.projGeog=function(B,w,G,P){switch(P){case d.PeDefs.PE_TRANSFORM_P_TO_G:return V(B,w,G);case d.PeDefs.PE_TRANSFORM_G_TO_P:return N(B,w,G)}return 0};y.projToGeog=V;y.projToGeogCenter=R})(d.PeCSTransformations||(d.PeCSTransformations={}));d.PeDefs=void 0;(function(y){y.init=function(){y.PE_BUFFER_MAX=d._pe.PeDefs.prototype.PE_BUFFER_MAX;y.PE_NAME_MAX=d._pe.PeDefs.prototype.PE_NAME_MAX;y.PE_MGRS_MAX=d._pe.PeDefs.prototype.PE_MGRS_MAX;y.PE_USNG_MAX=d._pe.PeDefs.prototype.PE_USNG_MAX;y.PE_DD_MAX=d._pe.PeDefs.prototype.PE_DD_MAX;
y.PE_DDM_MAX=d._pe.PeDefs.prototype.PE_DDM_MAX;y.PE_DMS_MAX=d._pe.PeDefs.prototype.PE_DMS_MAX;y.PE_UTM_MAX=d._pe.PeDefs.prototype.PE_UTM_MAX;y.PE_PARM_MAX=d._pe.PeDefs.prototype.PE_PARM_MAX;y.PE_TYPE_NONE=d._pe.PeDefs.prototype.PE_TYPE_NONE;y.PE_TYPE_GEOGCS=d._pe.PeDefs.prototype.PE_TYPE_GEOGCS;y.PE_TYPE_PROJCS=d._pe.PeDefs.prototype.PE_TYPE_PROJCS;y.PE_TYPE_GEOGTRAN=d._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;y.PE_TYPE_COORDSYS=d._pe.PeDefs.prototype.PE_TYPE_COORDSYS;y.PE_TYPE_UNIT=d._pe.PeDefs.prototype.PE_TYPE_UNIT;
y.PE_TYPE_LINUNIT=d._pe.PeDefs.prototype.PE_TYPE_LINUNIT;y.PE_STR_OPTS_NONE=d._pe.PeDefs.prototype.PE_STR_OPTS_NONE;y.PE_STR_AUTH_NONE=d._pe.PeDefs.prototype.PE_STR_AUTH_NONE;y.PE_STR_AUTH_TOP=d._pe.PeDefs.prototype.PE_STR_AUTH_TOP;y.PE_STR_NAME_CANON=d._pe.PeDefs.prototype.PE_STR_NAME_CANON;y.PE_PARM_X0=d._pe.PeDefs.prototype.PE_PARM_X0;y.PE_PARM_ND=d._pe.PeDefs.prototype.PE_PARM_ND;y.PE_TRANSFORM_1_TO_2=d._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;y.PE_TRANSFORM_2_TO_1=d._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;
y.PE_TRANSFORM_P_TO_G=d._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;y.PE_TRANSFORM_G_TO_P=d._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;y.PE_HORIZON_RECT=d._pe.PeDefs.prototype.PE_HORIZON_RECT;y.PE_HORIZON_POLY=d._pe.PeDefs.prototype.PE_HORIZON_POLY;y.PE_HORIZON_LINE=d._pe.PeDefs.prototype.PE_HORIZON_LINE;y.PE_HORIZON_DELTA=d._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(d.PeDefs||(d.PeDefs={}));d.PeFactory=void 0;(function(y){function N(w,G){let P=null,W=V[w];W||(W={},V[w]=W);W.hasOwnProperty(String(G))?P=
W[G]:(w=d._pe.PeFactory.prototype.factoryByType(w,G),d._pe.compare(w,d._pe.NULL)||(P=w,W[G]=P));return P=B(P)}const V={},R={},B=w=>{if(w){const G=w.getType();switch(G){case d.PeDefs.PE_TYPE_GEOGCS:w=d._pe.castObject(w,d._pe.PeGeogcs);break;case d.PeDefs.PE_TYPE_PROJCS:w=d._pe.castObject(w,d._pe.PeProjcs);break;case d.PeDefs.PE_TYPE_GEOGTRAN:w=d._pe.castObject(w,d._pe.PeGeogtran);break;default:G&d.PeDefs.PE_TYPE_UNIT&&(w=d._pe.castObject(w,d._pe.PeUnit))}}return w};y.initialize=function(){d._pe.PeFactory.prototype.initialize(null)};
y.coordsys=function(w){return N(d.PeDefs.PE_TYPE_COORDSYS,w)};y.factoryByType=N;y.fromString=function(w,G){let P=null,W=R[w];W||(W={},R[w]=W);W.hasOwnProperty(G)?P=W[G]:(w=d._pe.PeFactory.prototype.fromString(w,G),d._pe.compare(w,d._pe.NULL)||(P=w,W[G]=P));return P=B(P)};y.geogcs=function(w){return N(d.PeDefs.PE_TYPE_GEOGCS,w)};y.geogtran=function(w){return N(d.PeDefs.PE_TYPE_GEOGTRAN,w)};y.getCode=function(w){return d._pe.PeFactory.prototype.getCode(w)};y.projcs=function(w){return N(d.PeDefs.PE_TYPE_PROJCS,
w)};y.unit=function(w){return N(d.PeDefs.PE_TYPE_UNIT,w)}})(d.PeFactory||(d.PeFactory={}));d.PeGCSExtent=null;d.PeGTlistExtended=void 0;(function(y){let N;y.init=function(){y.PE_GTLIST_OPTS_COMMON=d._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;N=d._pe._pe_getPeGTlistExtendedEntrySize()};y.getGTlist=function(V,R,B,w,G,P){let W=null;const X=new d._pe.PeInteger(P);try{const ha=d._pe.PeGTlistExtended.prototype.getGTlist(V,R,B,w,G,X);if(P=X.val)if(W=[ha],1<P){const J=d._pe.getPointer(ha);for(V=
1;V<P;V++)W.push(d._pe.wrapPointer(J+N*V,d._pe.PeGTlistExtendedEntry))}}finally{d._pe.destroy(X)}return W}})(d.PeGTlistExtended||(d.PeGTlistExtended={}));d.PeGTlistExtendedEntry=void 0;(function(y){y.destroy=function(N){if(N&&N.length){for(const V of N)U(V),V.getEntries().forEach(R=>{U(R);R=R.getGeogtran();U(R);R.getParameters().forEach(U);[R.getGeogcs1(),R.getGeogcs2()].forEach(B=>{U(B);const w=B.getDatum();U(w);U(w.getSpheroid());U(B.getPrimem());U(B.getUnit())})});d._pe.PeGTlistExtendedEntry.prototype.Delete(N[0])}}})(d.PeGTlistExtendedEntry||
(d.PeGTlistExtendedEntry={}));d.PeGTTransformations=void 0;(function(y){y.geogToGeog=function(N,V,R,B,w){d._pe.ensureCache.prepare();var G=la(R);const P=R===G;G=d._pe.ensureFloat64(G);let W=0;B&&(W=d._pe.ensureFloat64(B));(N=d._pe._pe_geog_to_geog(d._pe.getPointer(N),V,G,W,w))&&ca(R,V,G,P);return N}})(d.PeGTTransformations||(d.PeGTTransformations={}));d.PeNotationDms=void 0;(function(y){const N=(R,B,w,G,P,W)=>{d._pe.ensureCache.prepare();switch(R){case "dd":var X=d._pe._pe_geog_to_dd;var ha=d.PeDefs.PE_DD_MAX;
break;case "ddm":X=d._pe._pe_geog_to_ddm;ha=d.PeDefs.PE_DDM_MAX;break;case "dms":X=d._pe._pe_geog_to_dms,ha=d.PeDefs.PE_DMS_MAX}R=0;B&&(R=d._pe.getPointer(B));B=la(G);B=d._pe.ensureFloat64(B);ha=da(w,ha);G=d._pe.ensureInt32(ha);if(P=X(R,w,B,P,G))for(X=0;X<w;X++)W[X]=d._pe.UTF8ToString(ha[X]);return P},V=(R,B,w,G,P)=>{d._pe.ensureCache.prepare();switch(R){case "dd":var W=d._pe._pe_dd_to_geog;break;case "ddm":W=d._pe._pe_ddm_to_geog;break;case "dms":W=d._pe._pe_dms_to_geog}R=0;B&&(R=d._pe.getPointer(B));
B=G.map(X=>d._pe.ensureString(X));G=d._pe.ensureInt32(B);B=d._pe.ensureFloat64(Array(2*w));(W=W(R,w,G,B))&&ca(P,w,B);return W};y.geogToDms=function(R,B,w,G,P){return N("dms",R,B,w,G,P)};y.dmsToGeog=function(R,B,w,G){return V("dms",R,B,w,G)};y.geogToDdm=function(R,B,w,G,P){return N("ddm",R,B,w,G,P)};y.ddmToGeog=function(R,B,w,G){return V("ddm",R,B,w,G)};y.geogToDd=function(R,B,w,G,P){return N("dd",R,B,w,G,P)};y.ddToGeog=function(R,B,w,G){return V("dd",R,B,w,G)}})(d.PeNotationDms||(d.PeNotationDms=
{}));d.PeNotationMgrs=void 0;(function(y){y.init=function(){y.PE_MGRS_STYLE_NEW=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;y.PE_MGRS_STYLE_OLD=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;y.PE_MGRS_STYLE_AUTO=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;y.PE_MGRS_180_ZONE_1_PLUS=d._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;y.PE_MGRS_ADD_SPACES=d._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};y.geogToMgrsExtended=function(N,V,R,B,w,G,P){d._pe.ensureCache.prepare();let W=
0;N&&(W=d._pe.getPointer(N));N=la(R);R=d._pe.ensureFloat64(N);N=da(V,d.PeDefs.PE_MGRS_MAX);const X=d._pe.ensureInt32(N);if(B=d._pe._pe_geog_to_mgrs_extended(W,V,R,B,w,G,X))for(w=0;w<V;w++)P[w]=d._pe.UTF8ToString(N[w]);return B};y.mgrsToGeogExtended=function(N,V,R,B,w){d._pe.ensureCache.prepare();let G=0;N&&(G=d._pe.getPointer(N));N=R.map(P=>d._pe.ensureString(P));R=d._pe.ensureInt32(N);N=d._pe.ensureFloat64(Array(2*V));(B=d._pe._pe_mgrs_to_geog_extended(G,V,R,B,N))&&ca(w,V,N);return B}})(d.PeNotationMgrs||
(d.PeNotationMgrs={}));d.PeNotationUsng=void 0;(function(y){y.geogToUsng=function(N,V,R,B,w,G,P){d._pe.ensureCache.prepare();let W=0;N&&(W=d._pe.getPointer(N));N=la(R);R=d._pe.ensureFloat64(N);N=da(V,d.PeDefs.PE_MGRS_MAX);const X=d._pe.ensureInt32(N);if(B=d._pe._pe_geog_to_usng(W,V,R,B,w,G,X))for(w=0;w<V;w++)P[w]=d._pe.UTF8ToString(N[w]);return B};y.usngToGeog=function(N,V,R,B){d._pe.ensureCache.prepare();var w=0;N&&(w=d._pe.getPointer(N));N=R.map(G=>d._pe.ensureString(G));R=d._pe.ensureInt32(N);
N=d._pe.ensureFloat64(Array(2*V));(w=d._pe._pe_usng_to_geog(w,V,R,N))&&ca(B,V,N);return w}})(d.PeNotationUsng||(d.PeNotationUsng={}));d.PeNotationUtm=void 0;(function(y){y.init=function(){y.PE_UTM_OPTS_NONE=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;y.PE_UTM_OPTS_ADD_SPACES=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;y.PE_UTM_OPTS_NS=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};y.geogToUtm=function(N,V,R,B,w){d._pe.ensureCache.prepare();var G=0;N&&(G=d._pe.getPointer(N));N=la(R);R=d._pe.ensureFloat64(N);
N=da(V,d.PeDefs.PE_UTM_MAX);const P=d._pe.ensureInt32(N);if(B=d._pe._pe_geog_to_utm(G,V,R,B,P))for(G=0;G<V;G++)w[G]=d._pe.UTF8ToString(N[G]);return B};y.utmToGeog=function(N,V,R,B,w){d._pe.ensureCache.prepare();let G=0;N&&(G=d._pe.getPointer(N));N=R.map(P=>d._pe.ensureString(P));R=d._pe.ensureInt32(N);N=d._pe.ensureFloat64(Array(2*V));(B=d._pe._pe_utm_to_geog(G,V,R,B,N))&&ca(w,V,N);return B}})(d.PeNotationUtm||(d.PeNotationUtm={}));d.PePCSInfo=void 0;(function(y){const N=new Map;y.init=function(){y.PE_PCSINFO_OPTION_NONE=
d._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;y.PE_PCSINFO_OPTION_DOMAIN=d._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;y.PE_POLE_OUTSIDE_BOUNDARY=d._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;y.PE_POLE_POINT=d._pe.PePCSInfo.prototype.PE_POLE_POINT};y.generate=function(V,R=y.PE_PCSINFO_OPTION_DOMAIN){let B=null,w=null;N.has(V)&&(w=N.get(V),w[R]&&(B=w[R]));B||(B=d._pe.PePCSInfo.prototype.generate(V,R),w||(w=[],N.set(V,w)),w[R]=B);return B}})(d.PePCSInfo||(d.PePCSInfo={}));d.PeVersion=void 0;
(function(y){y.versionString=function(){return d._pe.PeVersion.prototype.version_string()}})(d.PeVersion||(d.PeVersion={}));const ia=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return d.PeCSTransformations},get PeDefs(){return d.PeDefs},get PeFactory(){return d.PeFactory},get PeGCSExtent(){return d.PeGCSExtent},get PeGTTransformations(){return d.PeGTTransformations},get PeGTlistExtended(){return d.PeGTlistExtended},get PeGTlistExtendedEntry(){return d.PeGTlistExtendedEntry},
get PeNotationDms(){return d.PeNotationDms},get PeNotationMgrs(){return d.PeNotationMgrs},get PeNotationUsng(){return d.PeNotationUsng},get PeNotationUtm(){return d.PeNotationUtm},get PePCSInfo(){return d.PePCSInfo},get PeVersion(){return d.PeVersion},_init:L,get _pe(){return d._pe},isLoaded:z,isSupported:t,load:n},Symbol.toStringTag,{value:"Module"}));d._init=L;d.isLoaded=z;d.isSupported=t;d.load=n;d.pe=ia})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(k,
d){const I=Math.PI/180;var O=d.earth.radius;const F=d.earth.eccentricitySquared;O={a1:O*F,a2:O*F*O*F,a3:O*F*F/2,a4:O*F*O*F*2.5,a5:O*F+O*F*F/2,a6:1-F};d={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:d.earth.radius,f:d.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:d.moon.radius,f:d.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:d.mars.radius,f:d.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,
f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,
f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},
104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:d.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};k.WKT_SPHEROID_REGEX=
/SPHEROID\[([^\]]+)]/i;k.earthEllipsoidConstants=O;k.spheroids=d;k.toRadians=I;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["../../chunks/_rollupPluginBabelHelpers","./GeographicTransformationStep"],function(k,d){return function(){function I(F){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(F&&F.steps)for(const z of F.steps)z instanceof d?this.steps.push(z):this.steps.push(new d({wkid:z.wkid,
wkt:z.wkt,isInverse:z.isInverse}))}I.cacheKey=function(F,z){return[void 0!==F.wkid&&null!==F.wkid?F.wkid.toString():"-1",void 0!==F.wkt&&null!==F.wkt?F.wkt.toString():"",void 0!==z.wkid&&null!==z.wkid?z.wkid.toString():"-1",void 0!==z.wkt&&null!==z.wkt?z.wkt.toString():""].join()};I.fromGE=function(F){const z=new I;let t="";for(const n of F.steps)F=d.fromGE(n),z.steps.push(F),t+=F.uid.toString()+",";z._cachedProjection={};z._gtlistentry=null;z._chain=t;return z};var O=I.prototype;O.getInverse=function(){const F=
new I;F.steps=[];for(let z=this.steps.length-1;0<=z;z--)F.steps.push(this.steps[z].getInverse());return F};O.getGTListEntry=function(){let F="";for(const z of this.steps)F+=z.uid.toString()+",";F!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=F);return this._gtlistentry};O.assignCachedGe=function(F,z,t){this._cachedProjection[I.cacheKey(F,z)]=t};O.getCachedGeTransformation=function(F,z){let t="";for(const n of this.steps)t+=n.uid.toString()+",";t!==this._chain&&(this._gtlistentry=
null,this._cachedProjection={},this._chain=t);F=this._cachedProjection[I.cacheKey(F,z)];return void 0===F?null:F};return k._createClass(I)}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(k){let d=0;return function(){function I(O){this.uid=d++;O?(this._wkt=null!=O.wkt?O.wkt:null,this._wkid=null!=O.wkid?O.wkid:-1,this._isInverse=null!=O.isInverse?!0===O.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}I.fromGE=
function(O){const F=new I;F._wkt=O.wkt;F._wkid=O.wkid;F._isInverse=O.isInverse;return F};I.prototype.getInverse=function(){const O=new I;O._wkt=this.wkt;O._wkid=this._wkid;O._isInverse=!this.isInverse;return O};k._createClass(I,[{key:"wkt",get:function(){return this._wkt},set:function(O){this._wkt=O;this.uid=d++}},{key:"wkid",get:function(){return this._wkid},set:function(O){this._wkid=O;this.uid=d++}},{key:"isInverse",get:function(){return this._isInverse},set:function(O){this._isInverse=O;this.uid=
d++}}]);return I}()})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","./spatialReferenceUtils"],function(k,d,I){k.getGeometryZScaler=function(O,F,z){if(null==F||null==z||z.vcsWkid||I.equals(F,z))return null;F=d.getMetersPerVerticalUnitForSR(F);z=d.getMetersPerVerticalUnitForSR(z);const t=F/z;if(1===t)return null;switch(O){case "point":case "esriGeometryPoint":return n=>{n&&null!=n.z&&(n.z*=t)};case "polyline":case "esriGeometryPolyline":return n=>{if(n)for(const L of n.paths)for(const U of L)2<
U.length&&(U[2]*=t)};case "polygon":case "esriGeometryPolygon":return n=>{if(n)for(const L of n.rings)for(const U of L)2<U.length&&(U[2]*=t)};case "multipoint":case "esriGeometryMultipoint":return n=>{if(n)for(const L of n.points)2<L.length&&(L[2]*=t)};case "extent":case "esriGeometryEnvelope":return n=>{n&&null!=n.zmin&&null!=n.zmax&&(n.zmin*=t,n.zmax*=t)};default:return null}};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/spatialReferenceEllipsoidUtils":function(){define(["exports",
"./ellipsoidUtils","./SpatialReference","./support/spatialReferenceUtils"],function(k,d,I,O){const F=new I(d.SphericalECEFSpatialReferenceLike),z=new I(d.SphericalPCPFMarsLike),t=new I(d.SphericalPCPFMoonLike);d=new I(d.WGS84ECEFSpatialReferenceLike);k.SphericalECEFSpatialReference=F;k.SphericalPCPFMars=z;k.SphericalPCPFMoon=t;k.WGS84ECEFSpatialReference=d;k.getSphericalPCPF=function(n){return n&&(O.isMars(n)||O.equals(n,z))?z:n&&(O.isMoon(n)||O.equals(n,t))?t:F};Object.defineProperty(k,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/DoubleArray":function(){define(["exports","../../core/typedArrayUtil"],function(k,d){k.copyInto=function(I,O){for(let F=0;F<O.length;++F)I[F]=O[F];return I};k.doubleArrayFrom=function(I){return(d.isArray(I)?I.length:I.byteLength/8)<=d.NATIVE_ARRAY_MAX_SIZE?Array.from(I):new Float64Array(I)};k.doubleSubArray=function(I,O,F){return Array.isArray(I)?I.slice(O,O+F):I.subarray(O,O+F)};k.newDoubleArray=function(I,O=!1){return I<=d.NATIVE_ARRAY_MAX_SIZE?O?Array(I).fill(0):
Array(I):new Float64Array(I)};k.toFloat64Array=function(I){return Array.isArray(I)?new Float64Array(I):I};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshGeoreferencedRelativeVertexSpace":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/vec3f64 ../Point".split(" "),
function(k,d,I,O,F,z,t,n,L,U,da,la){I=function(ca){function fa(y){y=ca.call(this,y)||this;y.type="georeferenced-relative";y.isRelative=!0;y.isGeoreferenced=!0;y.origin=da.create();return y}k._inherits(fa,ca);var ia=fa.prototype;ia.getOriginPoint=function(y){const [N,V,R]=this.origin;return new la({x:N,y:V,z:R,spatialReference:y})};ia.setOriginFormPoint=function({x:y,y:N,z:V}){this.origin=da.fromValues(y,N,V??0)};return k._createClass(fa)}(I.ClonableMixin(O.JSONSupport));d.__decorate([L.enumeration({georeferencedRelative:"georeferenced-relative"},
{readOnly:!0})],I.prototype,"type",void 0);d.__decorate([F.property({type:[Number],nonNullable:!0,json:{write:!0}})],I.prototype,"origin",void 0);return I=d.__decorate([U.subclass("esri.geometry.support.MeshGeoreferencedRelativeVertexSpace")],I)})},"esri/core/Clonable":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(k,d,I,O,F,z,t,n,L,U,da){F=la=>{la=function(ca){function fa(){return ca.apply(this,arguments)||this}d._inherits(fa,ca);fa.prototype.clone=function(){var ia=n.unwrapOrThrow(U.getProperties(this),"unable to clone instance of non-accessor class"),y=ia.metadatas;const N=ia.store,V={};ia=new Map;for(var R in y){var B=y[R];const w=N?.originOf(R),G=B.clonable;if(B.readOnly||!1===G||w!==L.OriginId.USER&&w!==L.OriginId.DEFAULTS&&w!==L.OriginId.WEB_MAP&&w!==L.OriginId.WEB_SCENE)continue;B=this[R];let P=
null;P="function"===typeof G?G(B):"reference"===G?B:z.tryClone(B);if(null==B||null!=P)w===L.OriginId.DEFAULTS?ia.set(R,P):V[R]=P}y=new (Object.getPrototypeOf(this).constructor)(V);if(ia.size&&(R=U.getProperties(y)?.store))for(const [w,G]of ia)R.set(w,G,L.OriginId.DEFAULTS);return y};return d._createClass(fa)}(la);return la=I.__decorate([da.subclass("esri.core.Clonable")],la)};k.Clonable=function(la){function ca(){return la.apply(this,arguments)||this}d._inherits(ca,la);return d._createClass(ca)}(F(O));
k.Clonable=I.__decorate([da.subclass("esri.core.Clonable")],k.Clonable);k.ClonableMixin=F;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(k,d,I){k.enumeration=function(O,F={}){O=O instanceof d.JSONMap?O:new d.JSONMap(O,F);O={type:F?.ignoreUnknown??!0?O.apiValues:String,json:{type:O.jsonValues,read:F?.readOnly?!1:{reader:O.read},write:{writer:O.write}}};void 0!==F?.readOnly&&
(O.readOnly=!!F.readOnly);void 0!==F?.default&&(O.json.default=F.default);void 0!==F?.name&&(O.json.name=F.name);void 0!==F?.nonNullable&&(O.nonNullable=F.nonNullable);return I.property(O)};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshGeoreferencedVertexSpace":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(k,d,I,O,F,z,t,n,L,U,da){I=function(la){function ca(){var fa=la.call(this,{})||this;fa.type="georeferenced";fa.isRelative=!1;fa.isGeoreferenced=!0;return fa}k._inherits(ca,la);return k._createClass(ca)}(I.ClonableMixin(O.JSONSupport));d.__decorate([U.enumeration({georeferenced:"georeferenced"},{readOnly:!0})],I.prototype,"type",void 0);return I=d.__decorate([da.subclass("esri.geometry.support.MeshGeoreferencedVertexSpace")],I)})},"esri/geometry/support/MeshLocalVertexSpace":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/vec3f64 ../Point".split(" "),
function(k,d,I,O,F,z,t,n,L,U,da,la){I=function(ca){function fa(y){y=ca.call(this,y)||this;y.type="local";y.isRelative=!0;y.isGeoreferenced=!1;y.origin=da.create();return y}k._inherits(fa,ca);var ia=fa.prototype;ia.getOriginPoint=function(y){const [N,V,R]=this.origin;return new la({x:N,y:V,z:R,spatialReference:y})};ia.setOriginFormPoint=function({x:y,y:N,z:V}){this.origin=da.fromValues(y,N,V??0)};return k._createClass(fa)}(I.ClonableMixin(O.JSONSupport));d.__decorate([L.enumeration({local:"local"},
{readOnly:!0})],I.prototype,"type",void 0);d.__decorate([F.property({type:[Number],nonNullable:!0,json:{write:!0}})],I.prototype,"origin",void 0);return I=d.__decorate([U.subclass("esri.geometry.support.MeshLocalVertexSpace")],I)})},"esri/geometry/support/MeshTransform":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../chunks/mat4 ../../chunks/mat4f64 ../../chunks/quat ../../chunks/quatf64 ../../chunks/vec3 ../../chunks/vec3f64 ./axisAngleDegrees".split(" "),
function(k,d,I,O,F,z,t,n,L,U,da,la,ca,fa,ia){var y;I=y=function(V){function R(w){w=V.call(this,w)||this;w.translation=fa.create();w.rotationAxis=fa.fromArray(ia.UP);w.rotationAngle=0;w.scale=fa.fromValues(1,1,1);return w}k._inherits(R,V);var B=R.prototype;B.applyLocal=function(w,G){return ca.transformMat4(G,w,this.localMatrix)};B.applyLocalInverse=function(w,G){return ca.transformMat4(G,w,this.localMatrixInverse)};B.equals=function(w){return this===w||null!=w&&L.exactEquals(this.localMatrix,w.localMatrix)};
B.clone=function(){const w={translation:fa.clone(this.translation),rotationAxis:fa.clone(this.rotationAxis),rotationAngle:this.rotationAngle,scale:fa.clone(this.scale)};return new y(w)};k._createClass(R,[{key:"rotation",get:function(){return ia.fromAxisAndAngle(this.rotationAxis,this.rotationAngle)},set:function(w){this.rotationAxis=fa.clone(ia.axis(w));this.rotationAngle=ia.angle(w)}},{key:"localMatrix",get:function(){const w=U.create();da.setAxisAngle(N,ia.axis(this.rotation),ia.angleRad(this.rotation));
L.fromRotationTranslationScale(w,N,this.translation,this.scale);return w}},{key:"localMatrixInverse",get:function(){return L.invert(U.create(),this.localMatrix)}}]);return R}(I.JSONSupport);d.__decorate([O.property({type:[Number],nonNullable:!0,json:{write:!0}})],I.prototype,"translation",void 0);d.__decorate([O.property({type:[Number],nonNullable:!0,json:{write:!0}})],I.prototype,"rotationAxis",void 0);d.__decorate([O.property({type:Number,nonNullable:!0,json:{write:!0}})],I.prototype,"rotationAngle",
void 0);d.__decorate([O.property({type:[Number],nonNullable:!0,json:{write:!0}})],I.prototype,"scale",void 0);d.__decorate([O.property()],I.prototype,"rotation",null);d.__decorate([O.property()],I.prototype,"localMatrix",null);d.__decorate([O.property()],I.prototype,"localMatrixInverse",null);I=y=d.__decorate([n.subclass("esri.geometry.support.MeshTransform")],I);const N=la.create();return I})},"esri/chunks/quat":function(){define("exports ./mat3f64 ./quatf64 ./vec3f64 ./common ./vec3 ./vec4".split(" "),
function(k,d,I,O,F,z,t){function n(g){g[0]=0;g[1]=0;g[2]=0;g[3]=1;return g}function L(g,v,D){D*=.5;const ea=Math.sin(D);g[0]=ea*v[0];g[1]=ea*v[1];g[2]=ea*v[2];g[3]=Math.cos(D);return g}function U(g,v){const D=2*Math.acos(v[3]),ea=Math.sin(D/2);ea>F.getEpsilon()?(g[0]=v[0]/ea,g[1]=v[1]/ea,g[2]=v[2]/ea):(g[0]=1,g[1]=0,g[2]=0);return D}function da(g,v,D){const ea=v[0],sa=v[1],pa=v[2];v=v[3];const Aa=D[0],Ga=D[1],a=D[2];D=D[3];g[0]=ea*D+v*Aa+sa*a-pa*Ga;g[1]=sa*D+v*Ga+pa*Aa-ea*a;g[2]=pa*D+v*a+ea*Ga-sa*
Aa;g[3]=v*D-ea*Aa-sa*Ga-pa*a;return g}function la(g,v,D){D*=.5;const ea=v[0],sa=v[1],pa=v[2];v=v[3];const Aa=Math.sin(D);D=Math.cos(D);g[0]=ea*D+v*Aa;g[1]=sa*D+pa*Aa;g[2]=pa*D-sa*Aa;g[3]=v*D-ea*Aa;return g}function ca(g,v,D){D*=.5;const ea=v[0],sa=v[1],pa=v[2];v=v[3];const Aa=Math.sin(D);D=Math.cos(D);g[0]=ea*D-pa*Aa;g[1]=sa*D+v*Aa;g[2]=pa*D+ea*Aa;g[3]=v*D-sa*Aa;return g}function fa(g,v,D){D*=.5;const ea=v[0],sa=v[1],pa=v[2];v=v[3];const Aa=Math.sin(D);D=Math.cos(D);g[0]=ea*D+sa*Aa;g[1]=sa*D-ea*Aa;
g[2]=pa*D+v*Aa;g[3]=v*D-pa*Aa;return g}function ia(g,v){const D=v[0],ea=v[1];v=v[2];g[0]=D;g[1]=ea;g[2]=v;g[3]=Math.sqrt(Math.abs(1-D*D-ea*ea-v*v));return g}function y(g,v,D,ea){const sa=v[0],pa=v[1],Aa=v[2];v=v[3];let Ga=D[0],a=D[1],b=D[2];D=D[3];let q;let x;var H=sa*Ga+pa*a+Aa*b+v*D;0>H&&(H=-H,Ga=-Ga,a=-a,b=-b,D=-D);1-H>F.getEpsilon()?(q=Math.acos(H),x=Math.sin(q),H=Math.sin((1-ea)*q)/x,ea=Math.sin(ea*q)/x):H=1-ea;g[0]=H*sa+ea*Ga;g[1]=H*pa+ea*a;g[2]=H*Aa+ea*b;g[3]=H*v+ea*D;return g}function N(g){var v=
F.RANDOM,D=v();const ea=v();v=v();const sa=Math.sqrt(1-D);D=Math.sqrt(D);g[0]=sa*Math.sin(2*Math.PI*ea);g[1]=sa*Math.cos(2*Math.PI*ea);g[2]=D*Math.sin(2*Math.PI*v);g[3]=D*Math.cos(2*Math.PI*v);return g}function V(g,v){const D=v[0],ea=v[1],sa=v[2];v=v[3];var pa=D*D+ea*ea+sa*sa+v*v;pa=pa?1/pa:0;g[0]=-D*pa;g[1]=-ea*pa;g[2]=-sa*pa;g[3]=v*pa;return g}function R(g,v){g[0]=-v[0];g[1]=-v[1];g[2]=-v[2];g[3]=v[3];return g}function B(g,v){var D=v[0]+v[4]+v[8];if(0<D)D=Math.sqrt(D+1),g[3]=.5*D,D=.5/D,g[0]=(v[5]-
v[7])*D,g[1]=(v[6]-v[2])*D,g[2]=(v[1]-v[3])*D;else{let ea=0;v[4]>v[0]&&(ea=1);v[8]>v[3*ea+ea]&&(ea=2);const sa=(ea+1)%3,pa=(ea+2)%3;D=Math.sqrt(v[3*ea+ea]-v[3*sa+sa]-v[3*pa+pa]+1);g[ea]=.5*D;D=.5/D;g[3]=(v[3*sa+pa]-v[3*pa+sa])*D;g[sa]=(v[3*sa+ea]+v[3*ea+sa])*D;g[pa]=(v[3*pa+ea]+v[3*ea+pa])*D}return g}function w(g,v,D,ea){var sa=.5*Math.PI/180;v*=sa;D*=sa;ea*=sa;sa=Math.sin(v);v=Math.cos(v);const pa=Math.sin(D);D=Math.cos(D);const Aa=Math.sin(ea);ea=Math.cos(ea);g[0]=sa*D*ea-v*pa*Aa;g[1]=v*pa*ea+sa*
D*Aa;g[2]=v*D*Aa-sa*pa*ea;g[3]=v*D*ea+sa*pa*Aa;return g}function G(g){return"quat("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"}function P(g,v,D){const ea=z.dot(v,D);if(-.999999>ea)return z.cross(M,qa,v),1E-6>z.len(M)&&z.cross(M,C,v),z.normalize(M,M),L(g,M,Math.PI),g;if(.999999<ea)return g[0]=0,g[1]=0,g[2]=0,g[3]=1,g;z.cross(M,v,D);g[0]=M[0];g[1]=M[1];g[2]=M[2];g[3]=1+ea;return e(g,g)}function W(g,v,D,ea,sa,pa){y(r,v,sa,pa);y(f,D,ea,pa);y(g,r,f,2*pa*(1-pa));return g}function X(g,v,D,ea){const sa=c;sa[0]=
D[0];sa[3]=D[1];sa[6]=D[2];sa[1]=ea[0];sa[4]=ea[1];sa[7]=ea[2];sa[2]=-v[0];sa[5]=-v[1];sa[8]=-v[2];return e(g,B(g,sa))}const ha=t.copy,J=t.set,A=t.add,K=t.scale,Q=t.dot,ba=t.lerp,oa=t.length,ja=t.squaredLength,e=t.normalize,m=t.exactEquals;t=t.equals;const M=O.create(),qa=O.fromValues(1,0,0),C=O.fromValues(0,1,0),r=I.create(),f=I.create(),c=d.create();d=Object.freeze(Object.defineProperty({__proto__:null,add:A,calculateW:ia,conjugate:R,copy:ha,dot:Q,equals:t,exactEquals:m,fromEuler:w,fromMat3:B,getAxisAngle:U,
identity:n,invert:V,len:oa,length:oa,lerp:ba,mul:da,multiply:da,normalize:e,random:N,rotateX:la,rotateY:ca,rotateZ:fa,rotationTo:P,scale:K,set:J,setAxes:X,setAxisAngle:L,slerp:y,sqlerp:W,sqrLen:ja,squaredLength:ja,str:G},Symbol.toStringTag,{value:"Module"}));k.add=A;k.calculateW=ia;k.conjugate=R;k.copy=ha;k.dot=Q;k.equals=t;k.exactEquals=m;k.fromEuler=w;k.fromMat3=B;k.getAxisAngle=U;k.identity=n;k.invert=V;k.len=oa;k.length=oa;k.lerp=ba;k.mul=da;k.multiply=da;k.normalize=e;k.quat=d;k.random=N;k.rotateX=
la;k.rotateY=ca;k.rotateZ=fa;k.rotationTo=P;k.scale=K;k.set=J;k.setAxes=X;k.setAxisAngle=L;k.slerp=y;k.sqlerp=W;k.sqrLen=ja;k.squaredLength=ja;k.str=G})},"esri/chunks/quatf64":function(){define(["exports"],function(k){function d(){return[0,0,0,1]}function I(n){return[n[0],n[1],n[2],n[3]]}function O(n,L,U,da){return[n,L,U,da]}function F(n,L){return new Float64Array(n,L,4)}const z=d(),t=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:z,clone:I,create:d,createView:F,fromValues:O},Symbol.toStringTag,
{value:"Module"}));k.IDENTITY=z;k.clone=I;k.create=d;k.createView=F;k.fromValues=O;k.quatf64=t})},"esri/geometry/support/axisAngleDegrees":function(){define("exports ../../core/mathUtils ../../chunks/quat ../../chunks/quatf64 ../../chunks/vec3 ../../chunks/vec3f64".split(" "),function(k,d,I,O,F,z){function t(B=ca){return[B[0],B[1],B[2],B[3]]}function n(B,w,G,P,W=t()){W[0]=B;W[1]=w;W[2]=G;W[3]=P;return W}function L(B,w,G=t()){F.copy(G,B);G[3]=w;return G}function U(B,w,G=t()){I.setAxisAngle(fa,B,da(B));
I.setAxisAngle(ia,w,da(w));I.multiply(fa,ia,fa);return la(G,d.rad2deg(I.getAxisAngle(G,fa)))}function da(B){return d.deg2rad(B[3])}function la(B,w){B[3]=w;return B}const ca=[0,0,1,0],fa=O.create(),ia=O.create(),y=t(),N=t(),V=t(),R=t();k.UP=ca;k.angle=function(B){return B[3]};k.angleRad=da;k.axis=function(B){return B};k.compose=U;k.composeAxes=function(B,w,G,P=t()){L(z.UNIT_X,B,N);L(z.UNIT_Y,w,V);L(z.UNIT_Z,G,R);U(N,V,N);U(N,R,P);return P};k.copy=function(B,w=t()){return n(B[0],B[1],B[2],B[3],w)};
k.create=t;k.fromAxisAndAngle=L;k.fromPoints=function(B,w,G=t()){F.cross(G,B,w);F.normalize(G,G);G[3]=-F.angle(B,w);return G};k.fromValues=n;k.setAngle=la;k.wrap=function(B,w,G,P){return n(B,w,G,P,y)};k.wrapAxisAngle=function(B,w){return n(B[0],B[1],B[2],w,y)};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../geometry/support/buffer/math/common"],function(k,d){function I(ca,fa,ia){O(ca.typedBuffer,fa.typedBuffer,ia,ca.typedBufferStride,
fa.typedBufferStride)}function O(ca,fa,ia,y=3,N=y){if(ca.length/y!==Math.ceil(fa.length/N))return d.mathLogger.error("source and destination buffers need to have the same number of elements"),ca;const V=ca.length/y,R=ia[0],B=ia[1],w=ia[2],G=ia[4],P=ia[5],W=ia[6],X=ia[8],ha=ia[9],J=ia[10],A=ia[12],K=ia[13];ia=ia[14];let Q=0,ba=0;for(let oa=0;oa<V;oa++){const ja=fa[Q],e=fa[Q+1],m=fa[Q+2];ca[ba]=R*ja+G*e+X*m+A;ca[ba+1]=B*ja+P*e+ha*m+K;ca[ba+2]=w*ja+W*e+J*m+ia;Q+=N;ba+=y}return ca}function F(ca,fa,ia){z(ca.typedBuffer,
fa.typedBuffer,ia,ca.typedBufferStride,fa.typedBufferStride)}function z(ca,fa,ia,y=3,N=y){if(ca.length/y!==Math.ceil(fa.length/N))d.mathLogger.error("source and destination buffers need to have the same number of elements");else{var V=ca.length/y,R=ia[0],B=ia[1],w=ia[2],G=ia[3],P=ia[4],W=ia[5],X=ia[6],ha=ia[7];ia=ia[8];var J=0,A=0;for(let K=0;K<V;K++){const Q=fa[J],ba=fa[J+1],oa=fa[J+2];ca[A]=R*Q+G*ba+X*oa;ca[A+1]=B*Q+P*ba+ha*oa;ca[A+2]=w*Q+W*ba+ia*oa;J+=N;A+=y}}}function t(ca,fa,ia){n(ca.typedBuffer,
fa,ia,ca.typedBufferStride)}function n(ca,fa,ia,y=3){const N=Math.min(ca.length/y,fa.count),V=fa.typedBuffer;fa=fa.typedBufferStride;let R=0,B=0;for(let w=0;w<N;w++)ca[B]=ia*V[R],ca[B+1]=ia*V[R+1],ca[B+2]=ia*V[R+2],R+=fa,B+=y}function L(ca,fa){U(ca.typedBuffer,fa.typedBuffer,ca.typedBufferStride,fa.typedBufferStride)}function U(ca,fa,ia=3,y=ia){const N=Math.min(ca.length/ia,fa.length/y);let V=0,R=0;for(let w=0;w<N;w++){const G=fa[V],P=fa[V+1],W=fa[V+2];var B=G*G+P*P+W*W;0<B&&(B=1/Math.sqrt(B),ca[R]=
B*G,ca[R+1]=B*P,ca[R+2]=B*W);V+=y;R+=ia}}function da(ca,fa,ia){const y=Math.min(ca.count,fa.count),N=ca.typedBuffer;ca=ca.typedBufferStride;const V=fa.typedBuffer;fa=fa.typedBufferStride;let R=0,B=0;for(let w=0;w<y;w++)N[B]=V[R]>>ia,N[B+1]=V[R+1]>>ia,N[B+2]=V[R+2]>>ia,R+=fa,B+=ca}const la=Object.freeze(Object.defineProperty({__proto__:null,normalize:U,normalizeView:L,scale:n,scaleView:t,shiftRight:da,transformMat3:z,transformMat3View:F,transformMat4:O,transformMat4View:I},Symbol.toStringTag,{value:"Module"}));
k.normalize=U;k.normalizeView=L;k.scale=n;k.scaleView=t;k.shiftRight=da;k.transformMat3=z;k.transformMat3View=F;k.transformMat4=O;k.transformMat4View=I;k.vec3=la})},"esri/geometry/support/buffer/math/common":function(){define(["exports","../../../../core/Logger"],function(k,d){d=d.getLogger("esri.views.3d.support.buffer.math");k.mathLogger=d;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/geographicUtils":function(){define(["exports","../../../core/Logger"],
function(k,d){k.isGeographicMesh=function(I,O){return I.isGeographic||I.isWebMercator&&(O?.geographic??!0)};k.validateGeographicFlag=function(I,O,F){const z=!I.isGeoreferenced;null!=F?.geographic&&F.geographic!==z&&d.getLogger(O).warnOnce(`Specifying the 'geographic' parameter (${F.geographic}) for a Mesh vertex space of type "${I.type}" is not supported. This parameter will be ignored.`)};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/projection":function(){define("exports ../../../core/Logger ../../../chunks/mat3 ../../../chunks/mat3f64 ../../../chunks/mat4f64 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../projection ../../spatialReferenceEllipsoidUtils ../spatialReferenceUtils ../webMercatorUtils ../buffer/BufferView ../../../chunks/vec32".split(" "),
function(k,d,I,O,F,z,t,n,L,U,da,la,ca){function fa(P,W,X,ha,J,A){if(W){var K=X.count,Q=L.getSphericalPCPF(J);if(y(J))for(X=0;X<K;X++)ha.getVec(X,R),W.getVec(X,B),n.computeTranslationToOriginAndRotation(Q,R,w,Q),I.fromMat4(G,w),P===V.FROM_PCPF&&I.transpose(G,G),z.transformMat3(B,B,G),A.setVec(X,B);else for(J=0;J<K;J++){ha.getVec(J,R);W.getVec(J,B);n.computeTranslationToOriginAndRotation(Q,R,w,Q);I.fromMat4(G,w);var ba=da.y2lat(X.get(J,1));ba=Math.cos(ba);P===V.TO_PCPF&&(ba=1/ba);G[0]*=ba;G[1]*=ba;
G[2]*=ba;G[3]*=ba;G[4]*=ba;G[5]*=ba;P===V.FROM_PCPF&&I.transpose(G,G);z.transformMat3(B,B,G);z.normalize(B,B);A.setVec(J,B)}return A}}function ia(P){return y(P)||P.isWebMercator}function y(P){return P.isWGS84||U.isCGCS2000(P)||U.isMars(P)||U.isMoon(P)}const N=d.getLogger("esri.geometry.support.meshUtils.normalProjection");var V;(function(P){P[P.TO_PCPF=0]="TO_PCPF";P[P.FROM_PCPF=1]="FROM_PCPF"})(V||(V={}));const R=t.create(),B=t.create(),w=F.create(),G=O.create();k.projectFromPCPF=function(P,W,X){n.projectBuffer(P,
L.getSphericalPCPF(X),0,W,X,0,P.length/3);return W};k.projectNormalFromPCPF=function(P,W,X,ha,J){if(!ia(ha))return N.error("Cannot convert to spatial reference from PCPF"),J;fa(V.FROM_PCPF,la.BufferViewVec3f.fromTypedArray(P),la.BufferViewVec3f64.fromTypedArray(W),la.BufferViewVec3f64.fromTypedArray(X),ha,la.BufferViewVec3f.fromTypedArray(J));return J};k.projectNormalToPCPF=function(P,W,X,ha,J){if(!ia(ha))return N.error("Cannot convert spatial reference to PCPF"),J;fa(V.TO_PCPF,la.BufferViewVec3f.fromTypedArray(P),
la.BufferViewVec3f64.fromTypedArray(W),la.BufferViewVec3f64.fromTypedArray(X),ha,la.BufferViewVec3f.fromTypedArray(J));return J};k.projectTangentFromPCPF=function(P,W,X,ha,J){if(!ia(ha))return N.error("Cannot convert to spatial reference from PCPF"),J;fa(V.FROM_PCPF,la.BufferViewVec3f.fromTypedArray(P,16),la.BufferViewVec3f64.fromTypedArray(W),la.BufferViewVec3f64.fromTypedArray(X),ha,la.BufferViewVec3f.fromTypedArray(J,16));for(W=3;W<P.length;W+=4)J[W]=P[W];return J};k.projectTangentToPCPF=function(P,
W,X,ha,J){if(!ia(ha))return N.error("Cannot convert spatial reference to PCPF"),J;fa(V.TO_PCPF,la.BufferViewVec3f.fromTypedArray(P,4*Float32Array.BYTES_PER_ELEMENT),la.BufferViewVec3f64.fromTypedArray(W),la.BufferViewVec3f64.fromTypedArray(X),ha,la.BufferViewVec3f.fromTypedArray(J,4*Float32Array.BYTES_PER_ELEMENT));for(W=3;W<P.length;W+=4)J[W]=P[W];return J};k.projectToPCPF=function(P,W,X){n.projectBuffer(P,W,0,X,L.getSphericalPCPF(W),0,P.length/3);return X};k.transformNormal=function(P,W,X){I.normalFromMat4(G,
X);ca.transformMat3(W,P,G);I.isOrthoNormal(G)||ca.normalize(W,W);return W};k.transformTangent=function(P,W,X){I.normalFromMat4(G,X);ca.transformMat3(W,P,G,4);I.isOrthoNormal(G)||ca.normalize(W,W,4);if(P!==W)for(X=3;X<P.length;X+=4)W[X]=P[X];return W};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),
function(k,d,I,O,F,z,t,n){let L=function(r){function f(c,g=0,v,D){c=r.call(this,Float32Array,c,g,v,D)||this;c.elementType="f32";return c}d._inherits(f,r);f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(F.BufferViewScalarImpl);L.ElementType="f32";let U=function(r){function f(c,g=0,v,D){c=r.call(this,Float32Array,c,g,v,D)||this;c.elementType="f32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,
c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(z.BufferViewVec2Impl);U.ElementType="f32";let da=function(r){function f(c,g=0,v,D){c=r.call(this,Float32Array,c,g,v,D)||this;c.elementType="f32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(t.BufferViewVec3Impl);
da.ElementType="f32";let la=function(r){function f(c,g=0,v,D){c=r.call(this,Float32Array,c,g,v,D)||this;c.elementType="f32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(n.BufferViewVec4Impl);la.ElementType="f32";let ca=function(r){function f(c,g=0,v,D){c=r.call(this,Float32Array,c,g,v,D)||this;c.elementType="f32";return c}d._inherits(f,
r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(I.BufferViewMat3Impl);ca.ElementType="f32";I=function(r){function f(c,g=0,v,D){c=r.call(this,Float64Array,c,g,v,D)||this;c.elementType="f64";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+
c.byteLength)};return d._createClass(f)}(I.BufferViewMat3Impl);I.ElementType="f64";let fa=function(r){function f(c,g=0,v,D){c=r.call(this,Float32Array,c,g,v,D)||this;c.elementType="f32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(O.BufferViewMat4Impl);fa.ElementType="f32";O=function(r){function f(c,g=0,v,D){c=r.call(this,Float64Array,
c,g,v,D)||this;c.elementType="f64";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(O.BufferViewMat4Impl);O.ElementType="f64";let ia=function(r){function f(c,g=0,v,D){c=r.call(this,Float64Array,c,g,v,D)||this;c.elementType="f64";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,
g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(F.BufferViewScalarImpl);ia.ElementType="f64";let y=function(r){function f(c,g=0,v,D){c=r.call(this,Float64Array,c,g,v,D)||this;c.elementType="f64";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(z.BufferViewVec2Impl);y.ElementType="f64";let N=
function(r){function f(c,g=0,v,D){c=r.call(this,Float64Array,c,g,v,D)||this;c.elementType="f64";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(t.BufferViewVec3Impl);N.ElementType="f64";let V=function(r){function f(c,g=0,v,D){c=r.call(this,Float64Array,c,g,v,D)||this;c.elementType="f64";return c}d._inherits(f,r);f.prototype.slice=function(c,
g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(n.BufferViewVec4Impl);V.ElementType="f64";let R=function(r){function f(c,g=0,v,D){c=r.call(this,Uint8Array,c,g,v,D)||this;c.elementType="u8";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(F.BufferViewScalarImpl);
R.ElementType="u8";let B=function(r){function f(c,g=0,v,D){c=r.call(this,Uint8Array,c,g,v,D)||this;c.elementType="u8";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(z.BufferViewVec2Impl);B.ElementType="u8";let w=function(r){function f(c,g=0,v,D){c=r.call(this,Uint8Array,c,g,v,D)||this;c.elementType="u8";return c}d._inherits(f,r);f.prototype.slice=
function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(t.BufferViewVec3Impl);w.ElementType="u8";let G=function(r){function f(c,g=0,v,D){c=r.call(this,Uint8Array,c,g,v,D)||this;c.elementType="u8";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(n.BufferViewVec4Impl);
G.ElementType="u8";let P=function(r){function f(c,g=0,v,D){c=r.call(this,Uint16Array,c,g,v,D)||this;c.elementType="u16";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(F.BufferViewScalarImpl);P.ElementType="u16";let W=function(r){function f(c,g=0,v,D){c=r.call(this,Uint16Array,c,g,v,D)||this;c.elementType="u16";return c}d._inherits(f,r);
f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(z.BufferViewVec2Impl);W.ElementType="u16";let X=function(r){function f(c,g=0,v,D){c=r.call(this,Uint16Array,c,g,v,D)||this;c.elementType="u16";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};
return d._createClass(f)}(t.BufferViewVec3Impl);X.ElementType="u16";let ha=function(r){function f(c,g=0,v,D){c=r.call(this,Uint16Array,c,g,v,D)||this;c.elementType="u16";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(n.BufferViewVec4Impl);ha.ElementType="u16";let J=function(r){function f(c,g=0,v,D){c=r.call(this,Uint32Array,c,g,v,D)||
this;c.elementType="u32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(F.BufferViewScalarImpl);J.ElementType="u32";let A=function(r){function f(c,g=0,v,D){c=r.call(this,Uint32Array,c,g,v,D)||this;c.elementType="u32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,
c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(z.BufferViewVec2Impl);A.ElementType="u32";let K=function(r){function f(c,g=0,v,D){c=r.call(this,Uint32Array,c,g,v,D)||this;c.elementType="u32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(t.BufferViewVec3Impl);K.ElementType="u32";let Q=function(r){function f(c,g=0,
v,D){c=r.call(this,Uint32Array,c,g,v,D)||this;c.elementType="u32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(n.BufferViewVec4Impl);Q.ElementType="u32";let ba=function(r){function f(c,g=0,v,D){c=r.call(this,Int8Array,c,g,v,D)||this;c.elementType="i8";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,
c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(F.BufferViewScalarImpl);ba.ElementType="i8";let oa=function(r){function f(c,g=0,v,D){c=r.call(this,Int8Array,c,g,v,D)||this;c.elementType="i8";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(z.BufferViewVec2Impl);
oa.ElementType="i8";let ja=function(r){function f(c,g=0,v,D){c=r.call(this,Int8Array,c,g,v,D)||this;c.elementType="i8";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(t.BufferViewVec3Impl);ja.ElementType="i8";let e=function(r){function f(c,g=0,v,D){c=r.call(this,Int8Array,c,g,v,D)||this;c.elementType="i8";return c}d._inherits(f,r);f.prototype.slice=
function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(n.BufferViewVec4Impl);e.ElementType="i8";let m=function(r){function f(c,g=0,v,D){c=r.call(this,Int16Array,c,g,v,D)||this;c.elementType="i16";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(F.BufferViewScalarImpl);
m.ElementType="i16";let M=function(r){function f(c,g=0,v,D){c=r.call(this,Int16Array,c,g,v,D)||this;c.elementType="i16";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(z.BufferViewVec2Impl);M.ElementType="i16";let qa=function(r){function f(c,g=0,v,D){c=r.call(this,Int16Array,c,g,v,D)||this;c.elementType="i16";return c}d._inherits(f,r);
f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(t.BufferViewVec3Impl);qa.ElementType="i16";let C=function(r){function f(c,g=0,v,D){c=r.call(this,Int16Array,c,g,v,D)||this;c.elementType="i16";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};
return d._createClass(f)}(n.BufferViewVec4Impl);C.ElementType="i16";F=function(r){function f(c,g=0,v,D){c=r.call(this,Int32Array,c,g,v,D)||this;c.elementType="i32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(F.BufferViewScalarImpl);F.ElementType="i32";z=function(r){function f(c,g=0,v,D){c=r.call(this,Int32Array,c,g,v,D)||this;c.elementType=
"i32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(z.BufferViewVec2Impl);z.ElementType="i32";t=function(r){function f(c,g=0,v,D){c=r.call(this,Int32Array,c,g,v,D)||this;c.elementType="i32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,
g,c.byteOffset+c.byteLength)};return d._createClass(f)}(t.BufferViewVec3Impl);t.ElementType="i32";n=function(r){function f(c,g=0,v,D){c=r.call(this,Int32Array,c,g,v,D)||this;c.elementType="i32";return c}d._inherits(f,r);f.prototype.slice=function(c,g){return this.sliceBuffer(f,c,g)};f.fromTypedArray=function(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return d._createClass(f)}(n.BufferViewVec4Impl);n.ElementType="i32";k.BufferViewFloat=L;k.BufferViewFloat64=ia;k.BufferViewInt16=
m;k.BufferViewInt32=F;k.BufferViewInt8=ba;k.BufferViewMat3f=ca;k.BufferViewMat3f64=I;k.BufferViewMat4f=fa;k.BufferViewMat4f64=O;k.BufferViewUint16=P;k.BufferViewUint32=J;k.BufferViewUint8=R;k.BufferViewVec2f=U;k.BufferViewVec2f64=y;k.BufferViewVec2i16=M;k.BufferViewVec2i32=z;k.BufferViewVec2i8=oa;k.BufferViewVec2u16=W;k.BufferViewVec2u32=A;k.BufferViewVec2u8=B;k.BufferViewVec3f=da;k.BufferViewVec3f64=N;k.BufferViewVec3i16=qa;k.BufferViewVec3i32=t;k.BufferViewVec3i8=ja;k.BufferViewVec3u16=X;k.BufferViewVec3u32=
K;k.BufferViewVec3u8=w;k.BufferViewVec4f=la;k.BufferViewVec4f64=V;k.BufferViewVec4i16=C;k.BufferViewVec4i32=n;k.BufferViewVec4i8=e;k.BufferViewVec4u16=ha;k.BufferViewVec4u32=Q;k.BufferViewVec4u8=G;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(k,d){let I=function(){function O(z,t,n=0,L,U){this.TypedArrayConstructor=z;this.elementCount=9;z=this.TypedArrayConstructor;
void 0===L&&(L=9*z.BYTES_PER_ELEMENT);const da=0===t.byteLength?0:n;this.typedBuffer=null==U?new z(t,da):new z(t,da,(U-n)/z.BYTES_PER_ELEMENT);this.typedBufferStride=L/z.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var F=O.prototype;F.sliceBuffer=function(z,t,n=this.count-t){t=this.typedBuffer.byteOffset+t*this.stride;return new z(this.buffer,t,this.stride,t+n*this.stride)};F.getMat=
function(z,t){z*=this.typedBufferStride;for(let n=0;9>n;n++)t[n]=this.typedBuffer[z++];return t};F.setMat=function(z,t){z*=this.typedBufferStride;for(let n=0;9>n;n++)this.typedBuffer[z++]=t[n]};F.get=function(z,t){return this.typedBuffer[z*this.typedBufferStride+t]};F.set=function(z,t,n){this.typedBuffer[z*this.typedBufferStride+t]=n};F.copyFrom=function(z,t,n){const L=this.typedBuffer,U=t.typedBuffer;z*=this.typedBufferStride;t=n*t.typedBufferStride;for(n=0;9>n;++n)L[z++]=U[t++]};d._createClass(O,
[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return O}();I.ElementCount=9;k.BufferViewMat3Impl=I;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(k,d){let I=function(){function O(z,t,n=0,L,U){this.TypedArrayConstructor=z;this.elementCount=16;z=this.TypedArrayConstructor;void 0===L&&(L=16*z.BYTES_PER_ELEMENT);const da=0===t.byteLength?
0:n;this.typedBuffer=null==U?new z(t,da):new z(t,da,(U-n)/z.BYTES_PER_ELEMENT);this.typedBufferStride=L/z.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var F=O.prototype;F.sliceBuffer=function(z,t,n=this.count-t){t=this.typedBuffer.byteOffset+t*this.stride;return new z(this.buffer,t,this.stride,t+n*this.stride)};F.getMat=function(z,t){z*=this.typedBufferStride;for(let n=0;16>n;n++)t[n]=
this.typedBuffer[z++];return t};F.setMat=function(z,t){z*=this.typedBufferStride;for(let n=0;16>n;n++)this.typedBuffer[z++]=t[n]};F.get=function(z,t){return this.typedBuffer[z*this.typedBufferStride+t]};F.set=function(z,t,n){this.typedBuffer[z*this.typedBufferStride+t]=n};F.copyFrom=function(z,t,n){const L=this.typedBuffer,U=t.typedBuffer;z*=this.typedBufferStride;t=n*t.typedBufferStride;for(n=0;16>n;++n)L[z++]=U[t++]};d._createClass(O,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);
return O}();I.ElementCount=16;k.BufferViewMat4Impl=I;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(k,d){let I=function(){function O(z,t,n=0,L,U){this.TypedArrayConstructor=z;this.elementCount=1;z=this.TypedArrayConstructor;void 0===L&&(L=z.BYTES_PER_ELEMENT);const da=0===t.byteLength?0:n;this.typedBuffer=null==U?new z(t,da):new z(t,da,(U-n)/z.BYTES_PER_ELEMENT);
this.stride=L;this.typedBufferStride=L/z.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}var F=O.prototype;F.sliceBuffer=function(z,t,n=this.count-t){t=this.typedBuffer.byteOffset+t*this.stride;return new z(this.buffer,t,this.stride,t+n*this.stride)};F.get=function(z){return this.typedBuffer[z*this.typedBufferStride]};F.set=function(z,t){this.typedBuffer[z*this.typedBufferStride]=t};d._createClass(O,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);
return O}();I.ElementCount=1;k.BufferViewScalarImpl=I;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec2"],function(k,d,I){let O=function(){function F(t,n,L=0,U,da){this.TypedArrayConstructor=t;this.elementCount=2;t=this.TypedArrayConstructor;void 0===U&&(U=2*t.BYTES_PER_ELEMENT);const la=0===n.byteLength?0:L;this.typedBuffer=null==da?new t(n,
la):new t(n,la,(da-L)/t.BYTES_PER_ELEMENT);this.typedBufferStride=U/t.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var z=F.prototype;z.sliceBuffer=function(t,n,L=this.count-n){n=this.typedBuffer.byteOffset+n*this.stride;return new t(this.buffer,n,this.stride,n+L*this.stride)};z.getVec=function(t,n){t*=this.typedBufferStride;return I.set(n,this.typedBuffer[t],this.typedBuffer[t+
1])};z.setVec=function(t,n){t*=this.typedBufferStride;this.typedBuffer[t++]=n[0];this.typedBuffer[t]=n[1]};z.get=function(t,n){return this.typedBuffer[t*this.typedBufferStride+n]};z.set=function(t,n,L){this.typedBuffer[t*this.typedBufferStride+n]=L};z.setValues=function(t,n,L){t*=this.typedBufferStride;this.typedBuffer[t++]=n;this.typedBuffer[t]=L};z.copyFrom=function(t,n,L){const U=this.typedBuffer,da=n.typedBuffer;t*=this.typedBufferStride;n=L*n.typedBufferStride;U[t++]=da[n++];U[t]=da[n]};d._createClass(F,
[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return F}();O.ElementCount=2;k.BufferViewVec2Impl=O;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec2":function(){define(["exports","./common"],function(k,d){function I(C,r){C[0]=r[0];C[1]=r[1];return C}function O(C,r,f){C[0]=r;C[1]=f;return C}function F(C,r,f){C[0]=r[0]+f[0];C[1]=r[1]+f[1];return C}function z(C,r,f){C[0]=r[0]-f[0];C[1]=r[1]-f[1];return C}function t(C,r,f){C[0]=r[0]*f[0];C[1]=r[1]*f[1];
return C}function n(C,r,f){C[0]=r[0]/f[0];C[1]=r[1]/f[1];return C}function L(C,r){C[0]=Math.ceil(r[0]);C[1]=Math.ceil(r[1]);return C}function U(C,r){C[0]=Math.floor(r[0]);C[1]=Math.floor(r[1]);return C}function da(C,r,f){C[0]=Math.min(r[0],f[0]);C[1]=Math.min(r[1],f[1]);return C}function la(C,r,f){C[0]=Math.max(r[0],f[0]);C[1]=Math.max(r[1],f[1]);return C}function ca(C,r){C[0]=Math.round(r[0]);C[1]=Math.round(r[1]);return C}function fa(C,r,f){C[0]=r[0]*f;C[1]=r[1]*f;return C}function ia(C,r,f,c){C[0]=
r[0]+f[0]*c;C[1]=r[1]+f[1]*c;return C}function y(C,r){const f=r[0]-C[0];C=r[1]-C[1];return Math.sqrt(f*f+C*C)}function N(C,r){const f=r[0]-C[0];C=r[1]-C[1];return f*f+C*C}function V(C){const r=C[0];C=C[1];return Math.sqrt(r*r+C*C)}function R(C){const r=C[0];C=C[1];return r*r+C*C}function B(C,r){C[0]=-r[0];C[1]=-r[1];return C}function w(C,r){C[0]=1/r[0];C[1]=1/r[1];return C}function G(C,r){var f=r[0];const c=r[1];f=f*f+c*c;0<f&&(f=1/Math.sqrt(f),C[0]=r[0]*f,C[1]=r[1]*f);return C}function P(C,r){return C[0]*
r[0]+C[1]*r[1]}function W(C,r,f){r=r[0]*f[1]-r[1]*f[0];C[0]=C[1]=0;C[2]=r;return C}function X(C,r,f,c){const g=r[0];r=r[1];C[0]=g+c*(f[0]-g);C[1]=r+c*(f[1]-r);return C}function ha(C,r){r=r||1;const f=2*d.RANDOM()*Math.PI;C[0]=Math.cos(f)*r;C[1]=Math.sin(f)*r;return C}function J(C,r,f){const c=r[0];r=r[1];C[0]=f[0]*c+f[2]*r;C[1]=f[1]*c+f[3]*r;return C}function A(C,r,f){const c=r[0];r=r[1];C[0]=f[0]*c+f[2]*r+f[4];C[1]=f[1]*c+f[3]*r+f[5];return C}function K(C,r,f){const c=r[0];r=r[1];C[0]=f[0]*c+f[3]*
r+f[6];C[1]=f[1]*c+f[4]*r+f[7];return C}function Q(C,r,f){const c=r[0];r=r[1];C[0]=f[0]*c+f[4]*r+f[12];C[1]=f[1]*c+f[5]*r+f[13];return C}function ba(C,r,f,c){const g=r[0]-f[0];r=r[1]-f[1];const v=Math.sin(c);c=Math.cos(c);C[0]=g*c-r*v+f[0];C[1]=g*v+r*c+f[1];return C}function oa(C,r){var f=C[0];C=C[1];const c=r[0];r=r[1];let g=f*f+C*C;0<g&&(g=1/Math.sqrt(g));let v=c*c+r*r;0<v&&(v=1/Math.sqrt(v));f=(f*c+C*r)*g*v;return 1<f?0:-1>f?Math.PI:Math.acos(f)}function ja(C){return"vec2("+C[0]+", "+C[1]+")"}
function e(C,r){return C[0]===r[0]&&C[1]===r[1]}function m(C,r){const f=C[0];C=C[1];const c=r[0];r=r[1];const g=d.getEpsilon();return Math.abs(f-c)<=g*Math.max(1,Math.abs(f),Math.abs(c))&&Math.abs(C-r)<=g*Math.max(1,Math.abs(C),Math.abs(r))}function M(C,r,f,c,g){let v=r[0]-f[0];f=r[1]-f[1];g=(c[0]*v+c[1]*f)*(g-1);v=c[0]*g;f=c[1]*g;C[0]=r[0]+v;C[1]=r[1]+f;return C}const qa=Object.freeze(Object.defineProperty({__proto__:null,add:F,angle:oa,ceil:L,copy:I,cross:W,dist:y,distance:y,div:n,divide:n,dot:P,
equals:m,exactEquals:e,floor:U,inverse:w,len:V,length:V,lerp:X,max:la,min:da,mul:t,multiply:t,negate:B,normalize:G,projectAndScale:M,random:ha,rotate:ba,round:ca,scale:fa,scaleAndAdd:ia,set:O,sqrDist:N,sqrLen:R,squaredDistance:N,squaredLength:R,str:ja,sub:z,subtract:z,transformMat2:J,transformMat2d:A,transformMat3:K,transformMat4:Q},Symbol.toStringTag,{value:"Module"}));k.add=F;k.angle=oa;k.ceil=L;k.copy=I;k.cross=W;k.dist=y;k.distance=y;k.div=n;k.divide=n;k.dot=P;k.equals=m;k.exactEquals=e;k.floor=
U;k.inverse=w;k.len=V;k.length=V;k.lerp=X;k.max=la;k.min=da;k.mul=t;k.multiply=t;k.negate=B;k.normalize=G;k.projectAndScale=M;k.random=ha;k.rotate=ba;k.round=ca;k.scale=fa;k.scaleAndAdd=ia;k.set=O;k.sqrDist=N;k.sqrLen=R;k.squaredDistance=N;k.squaredLength=R;k.str=ja;k.sub=z;k.subtract=z;k.transformMat2=J;k.transformMat2d=A;k.transformMat3=K;k.transformMat4=Q;k.vec2=qa})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec3"],
function(k,d,I){let O=function(){function F(t,n,L=0,U,da){this.TypedArrayConstructor=t;this.elementCount=3;t=this.TypedArrayConstructor;void 0===U&&(U=3*t.BYTES_PER_ELEMENT);const la=0===n.byteLength?0:L;this.typedBuffer=null==da?new t(n,la):new t(n,la,(da-L)/t.BYTES_PER_ELEMENT);this.typedBufferStride=U/t.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var z=F.prototype;z.sliceBuffer=
function(t,n,L=this.count-n){n=this.typedBuffer.byteOffset+n*this.stride;return new t(this.buffer,n,this.stride,n+L*this.stride)};z.getVec=function(t,n){t*=this.typedBufferStride;return I.set(n,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])};z.setVec=function(t,n){t*=this.typedBufferStride;this.typedBuffer[t++]=n[0];this.typedBuffer[t++]=n[1];this.typedBuffer[t]=n[2]};z.get=function(t,n){return this.typedBuffer[t*this.typedBufferStride+n]};z.set=function(t,n,L){this.typedBuffer[t*
this.typedBufferStride+n]=L};z.setValues=function(t,n,L,U){t*=this.typedBufferStride;this.typedBuffer[t++]=n;this.typedBuffer[t++]=L;this.typedBuffer[t]=U};z.copyFrom=function(t,n,L){const U=this.typedBuffer,da=n.typedBuffer;t*=this.typedBufferStride;n=L*n.typedBufferStride;U[t++]=da[n++];U[t++]=da[n++];U[t]=da[n]};d._createClass(F,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return F}();O.ElementCount=3;k.BufferViewVec3Impl=O;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec4"],function(k,d,I){let O=function(){function F(t,n,L=0,U,da){this.TypedArrayConstructor=t;this.start=L;this.elementCount=4;t=this.TypedArrayConstructor;void 0===U&&(U=4*t.BYTES_PER_ELEMENT);const la=0===n.byteLength?0:L;this.typedBuffer=null==da?new t(n,la):new t(n,la,(da-L)/t.BYTES_PER_ELEMENT);this.typedBufferStride=U/t.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/
this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var z=F.prototype;z.sliceBuffer=function(t,n,L=this.count-n){n=this.typedBuffer.byteOffset+n*this.stride;return new t(this.buffer,n,this.stride,n+L*this.stride)};z.getVec=function(t,n){t*=this.typedBufferStride;return I.set(n,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])};z.setVec=function(t,n){t*=this.typedBufferStride;this.typedBuffer[t++]=n[0];this.typedBuffer[t++]=
n[1];this.typedBuffer[t++]=n[2];this.typedBuffer[t]=n[3]};z.get=function(t,n){return this.typedBuffer[t*this.typedBufferStride+n]};z.set=function(t,n,L){this.typedBuffer[t*this.typedBufferStride+n]=L};z.setValues=function(t,n,L,U,da){t*=this.typedBufferStride;this.typedBuffer[t++]=n;this.typedBuffer[t++]=L;this.typedBuffer[t++]=U;this.typedBuffer[t]=da};z.copyFrom=function(t,n,L){const U=this.typedBuffer,da=n.typedBuffer;t*=this.typedBufferStride;n=L*n.typedBufferStride;U[t++]=da[n++];U[t++]=da[n++];
U[t++]=da[n++];U[t]=da[n]};d._createClass(F,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return F}();O.ElementCount=4;k.BufferViewVec4Impl=O;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../chunks/_rollupPluginBabelHelpers","../../../core/has","../../../core/libs/rbush/PooledRBush","./georeference"],function(k,d,I,O){function F(z,t,n,L){return{minX:Math.min(z[t],z[n],z[L]),maxX:Math.max(z[t],z[n],z[L]),minY:Math.min(z[t+1],z[n+1],z[L+1]),maxY:Math.max(z[t+1],z[n+1],z[L+1]),p0:[z[t],z[t+1],z[t+2]],p1:[z[n],z[n+1],z[n+2]],p2:[z[L],z[L+1],z[L+2]]}}return function(){function z(){}var t=z.prototype;t.createIndex=async function(n,L){const U=[];if(!n.vertexAttributes||!n.vertexAttributes.position)return new I.PooledRBush;
n=this._createMeshData(n);L=null!=L?await L.invoke("createIndexThread",n,{transferList:U}):this.createIndexThread(n).result;return this._createPooledRBush().fromJSON(L)};t.createIndexThread=function(n){const L=new Float64Array(n.position),U=this._createPooledRBush();return n.components?this._createIndexComponentsThread(U,L,n.components.map(da=>new Uint32Array(da))):this._createIndexAllThread(U,L)};t._createIndexAllThread=function(n,L){const U=Array(L.length/9);let da=0;for(let la=0;la<L.length;la+=
9)U[da++]=F(L,la,la+3,la+6);n.load(U);return{result:n.toJSON()}};t._createIndexComponentsThread=function(n,L,U){var da=0;for(var la of U)da+=la.length/3;da=Array(da);la=0;for(const ca of U)for(U=0;U<ca.length;U+=3)da[la++]=F(L,3*ca[U],3*ca[U+1],3*ca[U+2]);n.load(da);return{result:n.toJSON()}};t._createMeshData=function(n){const L=(n.vertexSpace.isRelative?O.georeferenceApplyTransform({position:n.vertexAttributes.position,normal:null,tangent:null},n.vertexSpace,n.transform,n.spatialReference).position:
n.vertexAttributes.position).buffer;return!n.components||n.components.some(U=>!U.faces)?{position:L}:{position:L,components:n.components.map(U=>U.faces)}};t._createPooledRBush=function(){return new I.PooledRBush(9,d("esri-csp-restrictions")?n=>n:[".minX",".minY",".maxX",".maxY"])};return k._createClass(z)}()});