// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Analysis ./DimensionSimpleStyle ./LengthDimension ../core/Collection ../core/collectionUtils ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/projection".split(" "),function(m,e,b,n,u,v,p,q,f,y,z,A,w,r,x){const l=v.ofType(u);b=function(t){function g(a){a=t.call(this,a)||this;a.type=
"dimension";a.style=new n;a.extent=null;return a}m._inherits(g,t);var h=g.prototype;h.initialize=function(){this.addHandles(q.watch(()=>this._computeExtent(),a=>{null!=a&&null!=a.pending||this._set("extent",null!=a?a.extent:null)},q.syncAndInitial))};h.waitComputeExtent=async function(){const a=this._computeExtent();return null!=a?a.pending:Promise.resolve()};h._computeExtent=function(){var a=this.spatialReference;if(null==a)return{pending:null,extent:null};var c=[];for(const d of this.dimensions)null!=
d.startPoint&&c.push(d.startPoint),null!=d.endPoint&&c.push(d.endPoint);a=x.projectOrLoadMany(c,a);if(null!=a.pending)return{pending:a.pending,extent:null};c=null;null!=a.geometries&&(c=a.geometries.reduce((d,k)=>null==d?null!=k?r.fromPoint(k):null:null!=k?d.union(r.fromPoint(k)):d,null));return{pending:null,extent:c}};h.clear=function(){this.dimensions.removeAll()};m._createClass(g,[{key:"dimensions",get:function(){return this._get("dimensions")||new l},set:function(a){this._set("dimensions",p.referenceSetter(a,
this.dimensions,l))}},{key:"spatialReference",get:function(){for(const a of this.dimensions){if(null!=a.startPoint)return a.startPoint.spatialReference;if(null!=a.endPoint)return a.endPoint.spatialReference}return null}},{key:"requiredPropertiesForEditing",get:function(){return this.dimensions.reduce((a,c)=>{a.push(c.startPoint,c.endPoint);return a},[])}}]);return g}(b);e.__decorate([f.property({type:["dimension"]})],b.prototype,"type",void 0);e.__decorate([f.property({cast:p.castForReferenceSetter,
type:l,nonNullable:!0})],b.prototype,"dimensions",null);e.__decorate([f.property({readOnly:!0})],b.prototype,"spatialReference",null);e.__decorate([f.property({types:{key:"type",base:null,typeMap:{simple:n}},nonNullable:!0})],b.prototype,"style",void 0);e.__decorate([f.property({value:null,readOnly:!0})],b.prototype,"extent",void 0);e.__decorate([f.property({readOnly:!0})],b.prototype,"requiredPropertiesForEditing",null);return b=e.__decorate([w.subclass("esri.analysis.DimensionAnalysis")],b)});