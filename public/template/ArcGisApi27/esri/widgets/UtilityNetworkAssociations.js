// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Handles ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./Widget ./support/componentsUtils ./support/widgetUtils ./support/decorators/messageBundle ./support/jsxFactory ./UtilityNetworkAssociations/UtilityNetworkAssociationsViewModel".split(" "),function(h,m,e,t,u,g,v,c,A,w,x,y,B,z,b,n){const p=
{maxAllowableAssociationsSlider:!1};c=function(q){function k(a,d){a=q.call(this,a,d)||this;a._autoRefreshAssociations=!0;a._associationsOptionsEnabled=!1;a._handles=new t;a._maxAllowableAssociationsSliderMax=1E3;a._maxAllowableAssociationsSliderMin=250;a._maxAllowableAssociationsSliderStep=250;a.messages=null;a.showAssociationsEnabled=!1;a.viewModel=new n;a.visibleElements={...p};return a}m._inherits(k,q);var f=k.prototype;f.initialize=function(){this._handles.add([u.watch(()=>[this.view?.stationary,
this.showAssociationsEnabled,this.includeConnectivityAssociations,this.includeStructuralAttachmentAssociations,this.maxAllowableAssociations],()=>{!0===this.autoRefreshAssociations&&(!0===this.showAssociationsEnabled?this.viewModel.showAssociations():this.viewModel.removeAssociations())})])};f.castVisibleElements=function(a){return{...p,...a}};f.render=function(){const a=this.viewModel;return b.tsx("div",null,b.tsx("calcite-block",{heading:this.label,class:"esri-un-associations__widget-block-content",
collapsible:"disabled"===a.state?!1:!0,open:"disabled"===a.state?!0:!1},this.renderShowStatusIcon(),this.autoRefreshAssociations?this.renderShowAssociationsSwitch():this.renderRefreshAssociationsAction(),this.renderSettings()),this.autoRefreshAssociations?this.renderShowAssociationsSwitchTooltip():this.renderRefreshAssociationsActionTooltip(),this.renderShowStatusIconTooltip())};f.loadDependencies=function(){return y.loadCalciteComponents({action:()=>new Promise((a,d)=>h(["../chunks/calcite-action"],
a,d)),block:()=>new Promise((a,d)=>h(["../chunks/calcite-block"],a,d)),label:()=>new Promise((a,d)=>h(["../chunks/calcite-label"],a,d)),notice:()=>new Promise((a,d)=>h(["../chunks/calcite-notice"],a,d)),slider:()=>new Promise((a,d)=>h(["../chunks/calcite-slider"],a,d)),switch:()=>new Promise((a,d)=>h(["../chunks/calcite-switch"],a,d)),tooltip:()=>new Promise((a,d)=>h(["../chunks/calcite-tooltip"],a,d))})};f.renderConnectivityAssociationsToggle=function(){const {messages:a}=this;return b.tsx("div",
{class:"esri-un-associations__controls-label-and-toggle"},b.tsx("calcite-label",{class:"esri-un-associations__controls-label"},a.inputStrings.enableConnectivity),b.tsx("calcite-switch",{bind:this,disabled:!this._associationsOptionsEnabled&&this.autoRefreshAssociations,checked:this.includeConnectivityAssociations,onCalciteSwitchChange:this._connectivityAssociationsSwitchChange}))};f.renderMaxAllowableAssociationsSlider=function(){const {messages:a,visibleElements:{maxAllowableAssociationsSlider:d}}=
this;if(d)return b.tsx("div",{class:"esri-un-associations__controls-label-and-slider"},b.tsx("calcite-label",{class:"esri-un-associations__controls-label"},a.inputStrings.maxAllowableAssociations),b.tsx("calcite-slider",{bind:this,class:"esri-un-associations__controls-slider",disabled:!this._associationsOptionsEnabled&&this.autoRefreshAssociations,min:this.maxAllowableAssociationsSliderMin,max:this.maxAllowableAssociationsSliderMax,step:this.maxAllowableAssociationsSliderStep,ticks:this.maxAllowableAssociationsSliderStep,
value:this.maxAllowableAssociations,labelTicks:!0,snap:!0,scale:"s",onCalciteSliderChange:this._maxAllowableAssociationsSliderChange}))};f.renderRefreshAssociationsAction=function(){if("disabled"!==this.viewModel.state)return b.tsx("div",{slot:"control",style:"--calcite-ui-icon-color: #077ac2"},b.tsx("calcite-action",{id:"refreshAssociations-action",bind:this,class:"esri-un-associations__widget-block-actions",icon:"refresh-",text:"",onclick:this._refreshAssociations}))};f.renderRefreshAssociationsActionTooltip=
function(){const {messages:a}=this;return b.tsx("calcite-tooltip",{label:"refreshAssociations-action-tooltip-label",referenceElement:"refreshAssociations-action"},b.tsx("span",null,a.inputStrings.refreshAssociations))};f.renderSettings=function(){const a=this.viewModel;return"disabled"===a.state?b.tsx("calcite-notice",{open:!0,kind:"warning",scale:"s"},b.tsx("div",{slot:"message"},a.errorMessage)):b.tsx("div",{class:"esri-un-associations__widget-settings-container"},this.renderConnectivityAssociationsToggle(),
this.renderStructuralAttachmentAssociationsToggle(),this.renderMaxAllowableAssociationsSlider())};f.renderShowAssociationsSwitch=function(){return"disabled"===this.viewModel.state?b.tsx("div",{id:"showAssociations-switch"}):b.tsx("calcite-switch",{id:"showAssociations-switch",bind:this,class:"esri-un-associations__widget-block-actions-switch",checked:this.showAssociationsEnabled,onCalciteSwitchChange:this._showAssociationsSwitchChange,slot:"control"})};f.renderShowAssociationsSwitchTooltip=function(){const {messages:a}=
this;return b.tsx("calcite-tooltip",{label:"showAssociations-switch-tooltip-label",referenceElement:"showAssociations-switch"},b.tsx("span",null,a.inputStrings.enableAssociations))};f.renderShowStatusIcon=function(){var a=this.viewModel,d=b.tsx,l=b.tsx;a:switch(a.state){case "disabled":case "failed":case "warning":var r="exclamation-mark-triangle";break a;default:r="blank"}a:switch(a.state){case "disabled":case "failed":case "warning":a=!1;break a;default:a=!0}return d.call(b,"div",{slot:"control",
style:"--calcite-ui-icon-color: #edd317"},l.call(b,"calcite-action",{id:"statusIcon-action",class:"esri-un-associations__widget-block-actions",icon:r,disabled:a,text:"",slot:"control"}))};f.renderShowStatusIconTooltip=function(){var a=this.viewModel;if("disabled"!==a.state){var d=b.tsx,l=b.tsx;a:switch(a.state){case "failed":case "warning":a=a.errorMessage;break a;default:a=""}return d.call(b,"calcite-tooltip",{label:"statusIcon-status-tooltip-label",referenceElement:"statusIcon-action"},l.call(b,
"span",null,a))}};f.renderStructuralAttachmentAssociationsToggle=function(){const {messages:a}=this;return b.tsx("div",{class:"esri-un-associations__controls-label-and-toggle"},b.tsx("calcite-label",{class:"esri-un-associations__controls-label"},a.inputStrings.enableStructuralAttachment),b.tsx("calcite-switch",{bind:this,disabled:!this._associationsOptionsEnabled&&this.autoRefreshAssociations,checked:this.includeStructuralAttachmentAssociations,onCalciteSwitchChange:this._structuralAttAssociationsSwitchChange}))};
f._connectivityAssociationsSwitchChange=function(a){this.includeConnectivityAssociations=a.target.checked};f._maxAllowableAssociationsSliderChange=function(a){this.maxAllowableAssociations=Number(a.target.value)};f._refreshAssociations=function(){this.viewModel.showAssociations()};f._showAssociationsSwitchChange=function(a){this._associationsOptionsEnabled=this.showAssociationsEnabled=a.target.checked};f._structuralAttAssociationsSwitchChange=function(a){this.includeStructuralAttachmentAssociations=
a.target.checked};m._createClass(k,[{key:"autoRefreshAssociations",get:function(){return this._autoRefreshAssociations},set:function(a){this._autoRefreshAssociations=a}},{key:"connectivityAssociationsLineSymbol",get:function(){return this.viewModel.connectivityAssociationsLineSymbol},set:function(a){this.viewModel.connectivityAssociationsLineSymbol=a}},{key:"includeConnectivityAssociations",get:function(){return this.viewModel.includeConnectivityAssociations},set:function(a){this.viewModel.includeConnectivityAssociations=
a}},{key:"includeStructuralAttachmentAssociations",get:function(){return this.viewModel.includeStructuralAttachmentAssociations},set:function(a){this.viewModel.includeStructuralAttachmentAssociations=a}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(a){this._overrideIfSome("label",a)}},{key:"maxAllowableAssociations",get:function(){return this.viewModel.maxAllowableAssociations},set:function(a){this.viewModel.maxAllowableAssociations=a}},{key:"maxAllowableAssociationsSliderMax",
get:function(){return this._maxAllowableAssociationsSliderMax},set:function(a){a<=this.maxAllowableAssociationsSliderMin||(this._maxAllowableAssociationsSliderMax=a)}},{key:"maxAllowableAssociationsSliderMin",get:function(){return this._maxAllowableAssociationsSliderMin},set:function(a){0>a||a>=this.maxAllowableAssociationsSliderMax||(this._maxAllowableAssociationsSliderMin=a)}},{key:"maxAllowableAssociationsSliderStep",get:function(){return this._maxAllowableAssociationsSliderStep},set:function(a){this._maxAllowableAssociationsSliderStep=
a}},{key:"showArrowsConnectivity",get:function(){return this.viewModel.showArrowsConnectivity},set:function(a){this.viewModel.showArrowsConnectivity=a}},{key:"showArrowsStructuralAttachment",get:function(){return this.viewModel.showArrowsStructuralAttachment},set:function(a){this.viewModel.showArrowsStructuralAttachment=a}},{key:"structuralAttachmentAssociationsLineSymbol",get:function(){return this.viewModel.structuralAttachmentAssociationsLineSymbol},set:function(a){this.viewModel.structuralAttachmentAssociationsLineSymbol=
a}},{key:"utilityNetwork",get:function(){return this.viewModel.utilityNetwork},set:function(a){this.viewModel.utilityNetwork=a}},{key:"view",get:function(){return this.viewModel.view},set:function(a){this.viewModel.view=a}}]);return k}(x);e.__decorate([g.property()],c.prototype,"connectivityAssociationsLineSymbol",null);e.__decorate([g.property()],c.prototype,"includeConnectivityAssociations",null);e.__decorate([g.property()],c.prototype,"includeStructuralAttachmentAssociations",null);e.__decorate([g.property()],
c.prototype,"label",null);e.__decorate([g.property()],c.prototype,"maxAllowableAssociations",null);e.__decorate([g.property()],c.prototype,"maxAllowableAssociationsSliderMax",null);e.__decorate([g.property()],c.prototype,"maxAllowableAssociationsSliderMin",null);e.__decorate([g.property()],c.prototype,"maxAllowableAssociationsSliderStep",null);e.__decorate([g.property(),z.messageBundle("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations")],c.prototype,"messages",void 0);e.__decorate([g.property()],
c.prototype,"showArrowsConnectivity",null);e.__decorate([g.property()],c.prototype,"showArrowsStructuralAttachment",null);e.__decorate([g.property()],c.prototype,"showAssociationsEnabled",void 0);e.__decorate([g.property()],c.prototype,"structuralAttachmentAssociationsLineSymbol",null);e.__decorate([g.property()],c.prototype,"utilityNetwork",null);e.__decorate([g.property()],c.prototype,"view",null);e.__decorate([g.property({type:n})],c.prototype,"viewModel",void 0);e.__decorate([g.property()],c.prototype,
"visibleElements",void 0);e.__decorate([v.cast("visibleElements")],c.prototype,"castVisibleElements",null);return c=e.__decorate([w.subclass("esri.widgets.UtilityNetworkAssociations")],c)});