// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../chunks/Theme","../../../chunks/Button","../../../chunks/Tooltip","../../../chunks/ColorSet"],function(m,d,q,r,t){class n extends d.Container{constructor(){super(...arguments);Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()});Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()});Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()});
Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1});Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1});Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1});Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1});Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=
d.mergeTags(this._settings.themeTags,["scrollbar",this._settings.orientation]);this._settings.background||(this._settings.background=q.RoundedRectangle.new(this._root,{themeTags:d.mergeTags(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(q.Button.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:d.Graphics.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(q.RoundedRectangle.new(this._root,{themeTags:["thumb",
this.get("orientation")]}))}_handleAnimation(a){a&&this._disposers.push(a.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1);this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass();super._afterNew();const a=this.startGrip,c=this.endGrip,f=this.thumb,h=this.get("background");h&&this._disposers.push(h.events.on("click",e=>{this.setPrivateRaw("isBusy",!0);var g=this._display.toLocal(e.point);e=this.width();var k=this.height(),l=this.get("orientation");g="vertical"==l?(g.y-f.height()/2)/k:
(g.x-f.width()/2)/e;"vertical"==l?(e=g*k,k="y"):(e*=g,k="x");l=this.get("animationDuration",0);0<l?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:k,to:e,duration:l,easing:this.get("animationEasing")}))):(this.thumb.set(k,e),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))}));this._disposers.push(f.events.on("dblclick",e=>{if(d.isLocalEvent(e.originalEvent,this)){e=this.get("animationDuration",0);var g=this.get("animationEasing");this.animate({key:"start",
to:0,duration:e,easing:g});this.animate({key:"end",to:1,duration:e,easing:g})}}));this._disposers.push(a.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0);this._startDown=!0;this._gripDown="start"}));this._disposers.push(c.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0);this._endDown=!0;this._gripDown="end"}));this._disposers.push(f.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0);this._thumbDown=!0;this._gripDown=void 0}));this._disposers.push(a.events.on("globalpointerup",
()=>{this._startDown&&this.setPrivateRaw("isBusy",!1);this._startDown=!1}));this._disposers.push(c.events.on("globalpointerup",()=>{this._endDown&&this.setPrivateRaw("isBusy",!1);this._endDown=!1}));this._disposers.push(f.events.on("globalpointerup",()=>{this._thumbDown&&this.setPrivateRaw("isBusy",!1);this._thumbDown=!1}));this._disposers.push(a.on("x",()=>{this._updateThumb()}));this._disposers.push(c.on("x",()=>{this._updateThumb()}));this._disposers.push(a.on("y",()=>{this._updateThumb()}));this._disposers.push(c.on("y",
()=>{this._updateThumb()}));this._disposers.push(f.events.on("positionchanged",()=>{this._updateGripsByThumb()}));"vertical"==this.get("orientation")?(a.set("x",0),c.set("x",0),this._disposers.push(f.adapters.add("y",e=>Math.max(Math.min(Number(e),this.height()-f.height()),0))),this._disposers.push(f.adapters.add("x",e=>this.width()/2)),this._disposers.push(a.adapters.add("x",e=>this.width()/2)),this._disposers.push(c.adapters.add("x",e=>this.width()/2)),this._disposers.push(a.adapters.add("y",e=>
Math.max(Math.min(Number(e),this.height()),0))),this._disposers.push(c.adapters.add("y",e=>Math.max(Math.min(Number(e),this.height()),0)))):(a.set("y",0),c.set("y",0),this._disposers.push(f.adapters.add("x",e=>Math.max(Math.min(Number(e),this.width()-f.width()),0))),this._disposers.push(f.adapters.add("y",e=>this.height()/2)),this._disposers.push(a.adapters.add("y",e=>this.height()/2)),this._disposers.push(c.adapters.add("y",e=>this.height()/2)),this._disposers.push(a.adapters.add("x",e=>Math.max(Math.min(Number(e),
this.width()),0))),this._disposers.push(c.adapters.add("x",e=>Math.max(Math.min(Number(e),this.width()),0))))}_updateChildren(){super._updateChildren();(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){super._changed();(this.isDirty("start")||this.isDirty("end"))&&this.events.isEnabled("rangechanged")&&this.events.dispatch("rangechanged",{type:"rangechanged",target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}updateGrips(){const a=
this.startGrip,c=this.endGrip;var f=this.get("orientation"),h=this.height(),e=this.width();"vertical"==f?(a.set("y",h*this.get("start",0)),c.set("y",h*this.get("end",1))):(a.set("x",e*this.get("start",0)),c.set("x",e*this.get("end",1)));var g=this.getPrivate("positionTextFunction");f=Math.round(100*this.get("start",0));h=Math.round(100*this.get("end",0));g?(e=g.call(this,this.get("start",0)),g=g.call(this,this.get("end",0))):(e=f+"%",g=h+"%");a.set("ariaLabel",this._t("From %1",void 0,e));a.set("ariaValueNow",
""+f);a.set("ariaValueText",f+"%");a.set("ariaValueMin","0");a.set("ariaValueMax","100");c.set("ariaLabel",this._t("To %1",void 0,g));c.set("ariaValueNow",""+h);c.set("ariaValueText",h+"%");c.set("ariaValueMin","0");c.set("ariaValueMax","100")}_updateThumb(){const a=this.thumb;var c=this.startGrip,f=this.endGrip,h=this.height(),e=this.width(),g=c.x(),k=f.x();c=c.y();f=f.y();let l=0,p=1;"vertical"==this.get("orientation")?d.isNumber(c)&&d.isNumber(f)&&(this._thumbBusy||a.isDragging()||(a.set("height",
f-c),a.set("y",c)),l=c/h,p=f/h):d.isNumber(g)&&d.isNumber(k)&&(this._thumbBusy||a.isDragging()||(a.set("width",k-g),a.set("x",g)),l=g/e,p=k/e);!this.getPrivate("isBusy")||this.get("start")==l&&this.get("end")==p||(this.set("start",l),this.set("end",p));g=this.getPrivate("positionTextFunction");h=Math.round(100*this.get("start",0));k=Math.round(100*this.get("end",0));g?(e=g.call(this,this.get("start",0)),g=g.call(this,this.get("end",0))):(e=h+"%",g=k+"%");a.set("ariaLabel",this._t("From %1 to %2",
void 0,e,g));a.set("ariaValueNow",""+h);a.set("ariaValueText",h+"%")}_updateGripsByThumb(){const a=this.thumb,c=this.startGrip,f=this.endGrip;if("vertical"==this.get("orientation")){var h=a.height();c.set("y",a.y());f.set("y",a.y()+h)}else h=a.width(),c.set("x",a.x()),f.set("x",a.x()+h)}}Object.defineProperty(n,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"});Object.defineProperty(n,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:d.Container.classNames.concat([n.className])});
const u=class extends d.Theme{setupDefaultRules(){super.setupDefaultRules();this.rule("Component").setAll({interpolationDuration:600});this.rule("Hierarchy").set("animationDuration",600);this.rule("Scrollbar").set("animationDuration",600);this.rule("Tooltip").set("animationDuration",300);this.rule("MapChart").set("animationDuration",1E3);this.rule("MapChart").set("wheelDuration",300);this.rule("Entity").setAll({stateAnimationDuration:600});this.rule("Sprite").states.create("default",{stateAnimationDuration:600});
this.rule("Tooltip",["axis"]).setAll({animationDuration:200});this.rule("WordCloud").set("animationDuration",500)}},v=class extends d.Theme{setupDefaultRules(){super.setupDefaultRules();this.rule("InterfaceColors").setAll({stroke:d.Color.fromHex(0),fill:d.Color.fromHex(2829099),primaryButton:d.Color.lighten(d.Color.fromHex(6788316),-.2),primaryButtonHover:d.Color.lighten(d.Color.fromHex(6779356),-.2),primaryButtonDown:d.Color.lighten(d.Color.fromHex(6872181),-.2),primaryButtonActive:d.Color.lighten(d.Color.fromHex(6872182),
-.2),primaryButtonText:d.Color.fromHex(16777215),primaryButtonStroke:d.Color.lighten(d.Color.fromHex(6788316),-.2),secondaryButton:d.Color.fromHex(3881787),secondaryButtonHover:d.Color.lighten(d.Color.fromHex(3881787),.1),secondaryButtonDown:d.Color.lighten(d.Color.fromHex(3881787),.15),secondaryButtonActive:d.Color.lighten(d.Color.fromHex(3881787),.2),secondaryButtonText:d.Color.fromHex(12303291),secondaryButtonStroke:d.Color.lighten(d.Color.fromHex(3881787),-.2),grid:d.Color.fromHex(12303291),background:d.Color.fromHex(0),
alternativeBackground:d.Color.fromHex(16777215),text:d.Color.fromHex(16777215),alternativeText:d.Color.fromHex(0),disabled:d.Color.fromHex(11382189),positive:d.Color.fromHex(5288704),negative:d.Color.fromHex(11730944)})}};let b=class extends d.Theme{constructor(){super(...arguments);Object.defineProperty(this,"responsiveRules",{enumerable:!0,configurable:!0,writable:!0,value:[]})}static widthXXS(a,c){return a<=b.XXS}static widthXS(a,c){return a<=b.XS}static widthS(a,c){return a<=b.S}static widthM(a,
c){return a<=b.M}static widthL(a,c){return a<=b.L}static widthXL(a,c){return a<=b.XL}static widthXXL(a,c){return a<=b.XXL}static heightXXS(a,c){return c<=b.XXS}static heightXS(a,c){return c<=b.XS}static heightS(a,c){return c<=b.S}static heightM(a,c){return c<=b.M}static heightL(a,c){return c<=b.L}static heightXL(a,c){return c<=b.XL}static heightXXL(a,c){return c<=b.XXL}static isXXS(a,c){return a<=b.XXS&&c<=b.XXS}static isXS(a,c){return a<=b.XS&&c<=b.XS}static isS(a,c){return a<=b.S&&c<=b.S}static isM(a,
c){return a<=b.M&&c<=b.M}static isL(a,c){return a<=b.L&&c<=b.L}static isXL(a,c){return a<=b.XL&&c<=b.XL}static isXXL(a,c){return a<=b.XXL&&c<=b.XXL}static maybeXXS(a,c){return a<=b.XXS||c<=b.XXS}static maybeXS(a,c){return a<=b.XS||c<=b.XS}static maybeS(a,c){return a<=b.S||c<=b.S}static maybeM(a,c){return a<=b.M||c<=b.M}static maybeL(a,c){return a<=b.L||c<=b.L}static maybeXL(a,c){return a<=b.XL||c<=b.XL}static maybeXXL(a,c){return a<=b.XXL||c<=b.XXL}static newEmpty(a){return new this(a,!0)}addRule(a){a.name&&
!a.template&&(a.template=this.rule(a.name,a.tags));a._dp=new d.MultiDisposer([this._root._rootContainer.onPrivate("width",c=>{this._isUsed()&&this._applyRule(a)}),this._root._rootContainer.onPrivate("height",c=>{this._isUsed()&&this._applyRule(a)})]);this.responsiveRules.push(a);this._applyRule(a);return a}removeRule(a){d.remove(this.responsiveRules,a);a._dp&&a._dp.dispose()}_isUsed(){return-1!==this._root._rootContainer.get("themes").indexOf(this)}_applyRule(a){var c=this._root._rootContainer.getPrivate("width"),
f=this._root._rootContainer.getPrivate("height");c=a.relevant.call(a,c,f);f=a.applied;c?f||(a.applied=!0,a.template&&a.settings&&a.template.setAll(a.settings),a.applying&&a.applying.call(a)):f&&(a.applied=!1,a.template&&a.template.removeAll(),a.removing&&a.removing.call(a))}setupDefaultRules(){super.setupDefaultRules();const a=c=>this.addRule(c);a({name:"Chart",relevant:b.widthXXS,settings:{paddingLeft:0,paddingRight:0}});a({name:"Chart",relevant:b.heightXXS,settings:{paddingTop:0,paddingBottom:0}});
a({name:"Bullet",relevant:b.isXS,settings:{forceHidden:!0}});a({name:"Legend",relevant:b.isXS,settings:{forceHidden:!0}});a({name:"HeatLegend",tags:["vertical"],relevant:b.widthXS,settings:{forceHidden:!0}});a({name:"HeatLegend",tags:["horizontal"],relevant:b.heightXS,settings:{forceHidden:!0}});a({name:"Label",tags:["heatlegend","start"],relevant:b.maybeXS,settings:{forceHidden:!0}});a({name:"Label",tags:["heatlegend","end"],relevant:b.maybeXS,settings:{forceHidden:!0}});a({name:"Button",tags:["resize"],
relevant:b.maybeXS,settings:{forceHidden:!0}});a({name:"AxisRendererX",relevant:b.heightXS,settings:{inside:!0}});a({name:"AxisRendererY",relevant:b.widthXS,settings:{inside:!0}});a({name:"AxisRendererXLabel",relevant:b.heightXS,settings:{minPosition:.1,maxPosition:.9}});a({name:"AxisLabel",tags:["y"],relevant:b.widthXS,settings:{centerY:d.p100,maxPosition:.9}});a({name:"AxisLabel",tags:["x"],relevant:b.heightXXS,settings:{forceHidden:!0}});a({name:"AxisLabel",tags:["y"],relevant:b.widthXXS,settings:{forceHidden:!0}});
a({name:"AxisTick",tags:["x"],relevant:b.heightXS,settings:{inside:!0,minPosition:.1,maxPosition:.9}});a({name:"AxisTick",tags:["y"],relevant:b.widthXXS,settings:{inside:!0,minPosition:.1,maxPosition:.9}});a({name:"Grid",relevant:b.maybeXXS,settings:{forceHidden:!0}});a({name:"RadialLabel",tags:["radial"],relevant:b.maybeXS,settings:{forceHidden:!0}});a({name:"RadialLabel",tags:["circular"],relevant:b.maybeS,settings:{inside:!0}});a({name:"AxisTick",relevant:b.maybeS,settings:{inside:!0}});a({name:"RadialLabel",
tags:["circular"],relevant:b.maybeXS,settings:{forceHidden:!0}});a({name:"AxisTick",tags:["circular"],relevant:b.maybeXS,settings:{inside:!0}});a({name:"PieChart",relevant:b.maybeXS,settings:{radius:d.percent(99)}});a({name:"PieChart",relevant:b.widthM,settings:{radius:d.percent(99)}});a({name:"RadialLabel",tags:["pie"],relevant:b.maybeXS,settings:{forceHidden:!0}});a({name:"RadialLabel",tags:["pie"],relevant:b.widthM,settings:{forceHidden:!0}});a({name:"Tick",tags:["pie"],relevant:b.maybeXS,settings:{forceHidden:!0}});
a({name:"Tick",tags:["pie"],relevant:b.widthM,settings:{forceHidden:!0}});a({name:"FunnelSeries",relevant:b.widthM,settings:{alignLabels:!1}});a({name:"Label",tags:["funnel","vertical"],relevant:b.widthL,settings:{forceHidden:!0}});a({name:"Tick",tags:["funnel","vertical"],relevant:b.widthL,settings:{forceHidden:!0}});a({name:"Label",tags:["funnel","horizontal"],relevant:b.heightS,settings:{forceHidden:!0}});a({name:"Tick",tags:["funnel","horizontal"],relevant:b.heightS,settings:{forceHidden:!0}});
a({name:"PyramidSeries",relevant:b.widthM,settings:{alignLabels:!1}});a({name:"Label",tags:["pyramid","vertical"],relevant:b.widthL,settings:{forceHidden:!0}});a({name:"Tick",tags:["pyramid","vertical"],relevant:b.widthL,settings:{forceHidden:!0}});a({name:"Label",tags:["pyramid","horizontal"],relevant:b.heightS,settings:{forceHidden:!0}});a({name:"Tick",tags:["pyramid","horizontal"],relevant:b.heightS,settings:{forceHidden:!0}});a({name:"PictorialStackedSeries",relevant:b.widthM,settings:{alignLabels:!1}});
a({name:"Label",tags:["pictorial","vertical"],relevant:b.widthL,settings:{forceHidden:!0}});a({name:"Tick",tags:["pictorial","vertical"],relevant:b.widthL,settings:{forceHidden:!0}});a({name:"Label",tags:["pictorial","horizontal"],relevant:b.heightS,settings:{forceHidden:!0}});a({name:"Tick",tags:["pictorial","horizontal"],relevant:b.heightS,settings:{forceHidden:!0}});a({name:"Label",tags:["flow","horizontal"],relevant:b.widthS,settings:{forceHidden:!0}});a({name:"Label",tags:["flow","vertical"],
relevant:b.heightS,settings:{forceHidden:!0}});a({name:"Chord",relevant:b.maybeXS,settings:{radius:d.percent(99)}});a({name:"Label",tags:["hierarchy","node"],relevant:b.maybeXS,settings:{forceHidden:!0}})}};Object.defineProperty(b,"XXS",{enumerable:!0,configurable:!0,writable:!0,value:100});Object.defineProperty(b,"XS",{enumerable:!0,configurable:!0,writable:!0,value:200});Object.defineProperty(b,"S",{enumerable:!0,configurable:!0,writable:!0,value:300});Object.defineProperty(b,"M",{enumerable:!0,
configurable:!0,writable:!0,value:400});Object.defineProperty(b,"L",{enumerable:!0,configurable:!0,writable:!0,value:600});Object.defineProperty(b,"XL",{enumerable:!0,configurable:!0,writable:!0,value:800});Object.defineProperty(b,"XXL",{enumerable:!0,configurable:!0,writable:!0,value:1E3});m.ThemeAm5=d.Theme;m.colorAm5=d.color;m.TooltipAm5=r.Tooltip;m.ColorSetAm5=t.ColorSet;m.AnimatedThemeAm5=u;m.DarkThemeAm5=v;m.ResponsiveThemeAm5=b;m.ScrollbarAm5=n;Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});