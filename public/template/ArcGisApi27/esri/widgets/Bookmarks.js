// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/events ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/has ../core/accessorSupport/decorators/subclass ../intl/date ../webdoc/support/SlideThumbnail ./Widget ./Bookmarks/BookmarksUserState ./Bookmarks/BookmarksViewModel ./Bookmarks/css ./FeatureTable/Grid/support/ButtonMenu ./FeatureTable/Grid/support/ButtonMenuItem ./support/componentsUtils ./support/Heading ./support/widgetUtils ./support/decorators/messageBundle ./support/decorators/vmEvent ./support/jsxFactory ../chunks/sortable.esm".split(" "),
function(x,C,l,F,G,p,m,H,k,I,r,J,K,y,D,c,L,z,M,N,O,A,P,f,Q){function t(u){return u["data-bookmark"]}const E={addBookmark:!0,thumbnail:!0,time:!0},B=/^https:\/\/.*/i;k=function(u){function v(a,b){a=u.call(this,a,b)||this;a._tooltipReferenceMap=new Map;a._addInputNode=null;a._editInputNode=null;a._urlEditInputNode=null;a._addBookmarkButtonNode=null;a._focusAddBookmarkButton=!1;a._focusEditInputBox=!1;a._focusAddInputBox=!1;a._focusUrlEditInputBox=!1;a._sortable=null;a._sortableNode=null;a._focusSortUid=
null;a._selectedSortUid=null;a._sortableSavedItems=[];a._editIncludeTimeExtent=void 0;a._userState=null;a.disabled=!1;a.editingEnabled=!1;a.headingLevel=2;a.iconClass=c.CSS.widgetIcon;a.icon=null;a.messages=null;a.messagesCommon=null;a.messagesUnits=null;a.viewModel=new D;a.visibleElements={...E};return a}C._inherits(v,u);var e=v.prototype;e.initialize=function(){this.addHandles([p.watch(()=>this.viewModel?.bookmarks,()=>this._bookmarksInitialized(),p.initial),p.watch(()=>this.editingEnabled,()=>
this._toggleSorting(),p.initial)])};e.destroy=function(){this.removeAllHandles();this._destroySortable();this._editMenu.destroy();this._tooltipReferenceMap.clear()};e.loadDependencies=function(){return M.loadCalciteComponents({label:()=>new Promise((a,b)=>x(["../chunks/calcite-label"],a,b)),switch:()=>new Promise((a,b)=>x(["../chunks/calcite-switch"],a,b)),tooltip:()=>new Promise((a,b)=>x(["../chunks/calcite-tooltip"],a,b))})};e.castVisibleElements=function(a){return{...E,...a}};e.endAddBookmark=
function(){this._userState=null};e.goTo=function(a){return this.viewModel.goTo(a)};e.render=function(){var {state:a}=this.viewModel;a="loading"===a?this.renderLoading():this.renderBookmarks();return f.tsx("div",{class:this.classes(c.CSS.base,c.CSS.esriWidget,{[c.CSS.esriWidgetDisabled]:this.disabled})},a)};e.startAddBookmark=function(){this._userState=new y({state:"add"});this._focusAddInputBox=!0;this.scheduleRender()};e.renderBookmarkTooltips=function(a){return a.toArray().map(b=>this.renderBookmarkTooltip(b))??
[]};e.renderBookmarkTooltip=function(a){const {_tooltipReferenceMap:b,messagesCommon:d}=this;var g=this._getBookmarkTitle(a);g=`${d?.dragHandleTitle} ${g}`;return a?f.tsx("calcite-tooltip",{key:`tooltip-${a.uid}`,label:g,referenceElement:b.get(a.uid)},g):null};e.renderLoading=function(){return f.tsx("div",{class:c.CSS.loaderContainer,key:"loader",tabIndex:this.disabled?-1:void 0},f.tsx("div",{class:c.CSS.loader}))};e.renderNoBookmarksContainer=function(){const {messages:a,disabled:b}=this;return f.tsx("div",
{class:c.CSS.noBookmarksContainer,key:"no-bookmarks",tabIndex:b?-1:void 0},f.tsx("span",{"aria-hidden":"true",class:this.classes(c.CSS.noBookmarksIcon,c.CSS.widgetIcon)}),f.tsx(N.Heading,{level:this.headingLevel,class:this.classes(c.CSS.header,c.CSS.noBookmarksHeader)},a?.noBookmarksHeading),f.tsx("p",{class:c.CSS.noBookmarksDescription},a?.noBookmarksDescription))};e.renderAddBookmarkLoading=function(){return f.tsx("div",{key:"adding-bookmark",class:c.CSS.addingBookmark},f.tsx("span",{"aria-hidden":"true",
class:this.classes(c.CSS.loading,c.CSS.rotating)}),this.messages?.addingBookmark)};e.renderBookmarkItems=function(a){if(!a)return[];const {_userState:b,editingEnabled:d}=this;return a.map(g=>d&&g&&b&&("edit"===b.state||"edit-thumbnail"===b.state)&&b.bookmark===g?"edit-thumbnail"===b.state?this.renderEditingBookmarkUrl(b.editedBookmark):this.renderEditingBookmark(b.editedBookmark):this.renderBookmark(g)).toArray()};e.renderBookmarksContainer=function(a){const {_userState:b,editingEnabled:d,disabled:g}=
this;var h="add"===b?.state;const n=d&&!h?this.renderAddBookmarkButton():null;h=d?h&&b.loading?this.renderAddBookmarkLoading():"add"===b?.state?this.renderAddingBookmark():null:null;return[f.tsx("ul",{key:"bookmark-list","aria-label":this.messages?.widgetLabel,class:this.classes(c.CSS.bookmarkList,{[c.CSS.bookmarkListSortable]:this.editingEnabled}),afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"data-node-ref":"_sortableNode",bind:this,tabIndex:g?-1:void 0},this.renderBookmarkItems(a)),
n,h]};e.renderAddBookmarkButton=function(){return this.visibleElements.addBookmark?f.tsx("div",{key:"add-bookmark-item",class:c.CSS.addBookmark},f.tsx("button",{class:this.classes(c.CSS.esriButton,c.CSS.esriButtonTertiary,c.CSS.addBookmarkButton),disabled:this.disabled,onclick:this.startAddBookmark,afterCreate:this._storeAddBookmarkButton,afterUpdate:this._storeAddBookmarkButton,"data-node-ref":"_addBookmarkButtonNode",bind:this,type:"button"},f.tsx("span",{"aria-hidden":"true",class:this.classes(c.CSS.addBookmarkIcon,
c.CSS.iconPlus)}),this.messages?.addBookmark)):null};e.renderBookmarks=function(){var {bookmarks:a}=this.viewModel,b=a&&a.filter(Boolean),d=b&&b.length;b=d||this.editingEnabled?this.renderBookmarksContainer(b):null;d=d?null:this.renderNoBookmarksContainer();a=this.renderBookmarkTooltips(a);return[d,b,a]};e.renderEditContainer=function(a){const {messagesCommon:b,disabled:d}=this,g=this._getBookmarkTitle(a);return f.tsx("div",{class:c.CSS.bookmarkEditButtonContainer,key:"edit-container"},f.tsx("button",
{disabled:d,title:`${b?.edit} ${g}`,"aria-label":`${b?.edit} ${g}`,"data-bookmark":a,onclick:this._showEditBookmarkForm,bind:this,class:c.CSS.bookmarkEditButton,type:"button"},f.tsx("span",{"aria-hidden":"true",class:c.CSS.iconEdit})))};e.renderDragHandle=function(a){const {messagesCommon:b,disabled:d}=this,g=this._getBookmarkTitle(a);return f.tsx("div",{role:"button",tabIndex:d?-1:0,key:"drag-handle",bind:this,class:c.CSS.bookmarkDragHandle,onkeydown:this._dragHandleKeydown,"data-bookmark":a,afterCreate:this._focusDragHandle,
afterUpdate:this._focusDragHandle,onblur:this._dragHandleBlur,"aria-pressed":this._selectedSortUid===a.uid?"true":"false","aria-label":`${b?.dragHandleTitle} ${g}`,["data-bookmark-uid"]:a.uid},f.tsx("span",{"aria-hidden":"true",class:this.classes(c.CSS.bookmarkDragHandleIcon,c.CSS.iconHandle)}))};e.renderBookmarkImageIcon=function(){return f.tsx("span",{"aria-hidden":"true",class:this.classes(c.CSS.bookmarkIcon,c.CSS.widgetIcon)})};e.renderBookmarkImage=function(a){const {visibleElements:b}=this;
({thumbnail:a}=a);a=a&&a.url||"";return b.thumbnail&&a?f.tsx("img",{src:a,alt:"",class:c.CSS.bookmarkImage}):null};e.renderBookmarkTimeSwitch=function(a){const {messages:b,disabled:d}=this;({timeExtent:a}=a);const {view:g}=this.viewModel;return g?.timeExtent??a?f.tsx("calcite-label",{layout:"inline-space-between"},b?.includeTimeExtent,f.tsx("calcite-switch",{scale:"s",disabled:d,checked:!!a,onCalciteSwitchChange:h=>{this._editIncludeTimeExtent=!!h.currentTarget.checked}})):null};e.renderBookmarkTimeExtent=
function(a){const {visibleElements:b}=this;({timeExtent:a}=a);return a?f.tsx("span",{class:c.CSS.timeExtent},[null!=a.start&&f.tsx("span",{key:"start-date-group",class:c.CSS.timeExtentGroup},f.tsx("span",{key:"start-date",class:c.CSS.timeExtentDate},this._formatDate(a.start)),b.time&&f.tsx("span",{key:"start-time",class:c.CSS.timeExtentTime},this._formatTime(a.start))),null!=a.end&&(null==a.start||a.start.getTime()!==a.end.getTime())&&f.tsx("span",{key:"end-date-group",class:c.CSS.timeExtentGroup},
f.tsx("span",{key:"end-date",class:c.CSS.timeExtentDate},this._formatDate(a.end)),b.time&&f.tsx("span",{key:"end-time",class:c.CSS.timeExtentTime},this._formatTime(a.end)))]):null};e.renderBookmarkButton=function(a){const {disabled:b}=this;var {timeExtent:d}=a;const {capabilities:g}=this.viewModel,h=this._getBookmarkTitle(a);var {thumbnail:n}=a;n=f.tsx("div",{class:this.classes(c.CSS.bookmarkImageContainer,n&&n.url?c.CSS.bookmarkImageContainerHasImage:null)},this.renderBookmarkImage(a)||this.renderBookmarkImageIcon());
d=g.time&&d?f.tsx("span",{key:"time-extent",class:c.CSS.bookmarkTimeExtent},this.renderBookmarkTimeExtent(a)):null;return f.tsx("button",{disabled:b,key:"bookmark-button",class:c.CSS.bookmarkButton,bind:this,"data-bookmark":a,onclick:this._goToBookmark,type:"button"},n,f.tsx("div",{class:c.CSS.bookmarkLabel},f.tsx("span",{key:"bookmark-title",class:c.CSS.bookmarkName},h),d))};e.renderBookmark=function(a){var {activeBookmark:b}=this.viewModel;b={[c.CSS.bookmarkActive]:b===a};const d=this.editingEnabled?
this.renderEditContainer(a):null,g={["data-bookmark-uid"]:a.uid},h=this.editingEnabled?this.renderDragHandle(a):null;return f.tsx("li",{key:a,class:this.classes(c.CSS.bookmark,b),...g},h,this.renderBookmarkButton(a),d)};e.renderEditingBookmarkName=function(a){const {messages:b,_userState:d,disabled:g}=this,h="name-required"===d?.validationState;return f.tsx("label",{class:this.classes({[c.CSS.authoringLabel]:!0,[c.CSS.authoringLabelStartPadding]:!!this.visibleElements?.thumbnail})},b?.title,h?f.tsx("strong",
null,b?.invalidTitle):null,f.tsx("input",{required:!0,disabled:g,bind:this,class:this.classes(c.CSS.esriInput,h?c.CSS.authoringInputInvalid:null),type:"text",value:a.name,afterCreate:this._storeEditInput,afterUpdate:this._focusEditInput,"data-bookmark":a,"data-node-ref":"_editInputNode",placeholder:b?.titlePlaceholder}))};e.renderEditingBookmarkUrlActions=function(){const {messagesCommon:a,disabled:b}=this;return f.tsx("div",{class:c.CSS.authoringActions},f.tsx("input",{type:"button",disabled:b,value:a?.back,
class:this.classes(c.CSS.esriButton,c.CSS.esriButtonTertiary),onclick:this._closeUrlEditBookmarkForm,bind:this}),f.tsx("input",{class:c.CSS.esriButton,disabled:b,type:"submit",value:a?.add}))};e.renderEditingBookmarkActions=function(){const {messagesCommon:a,disabled:b}=this,d=this._userState?.bookmark;return f.tsx("div",{class:c.CSS.authoringActions},f.tsx("input",{type:"button",disabled:b,value:a?.delete,class:this.classes(c.CSS.esriButton,c.CSS.esriButtonTertiary,c.CSS.authoringDeleteButton),"data-bookmark":d,
onclick:this._deleteBookmark,bind:this}),f.tsx("input",{disabled:b,type:"button",value:a?.cancel,class:this.classes(c.CSS.esriButton,c.CSS.esriButtonTertiary),onclick:this._closeEditBookmarkForm,bind:this}),f.tsx("input",{class:c.CSS.esriButton,disabled:b,type:"submit",value:a?.save}))};e.renderEditingBookmarkUrlInput=function(a){const {messages:b,_userState:d,disabled:g}=this;var h=a.thumbnail?.url;h=h&&B.test(h)?h:void 0;const n="absolute-url-required"===d?.validationState;return f.tsx("label",
{class:this.classes({[c.CSS.authoringLabel]:!0,[c.CSS.authoringLabelStartPadding]:!!this.visibleElements?.thumbnail})},n?f.tsx("strong",null,b?.invalidImageUrl):null,f.tsx("input",{required:!0,disabled:g,bind:this,class:this.classes(c.CSS.esriInput,n?c.CSS.authoringInputInvalid:null),type:"text",value:h,afterCreate:this._storeUrlEditInput,afterUpdate:this._focusUrlEditInput,"data-bookmark":a,"data-node-ref":"_urlEditInputNode",title:b?.imageUrlTooltip,placeholder:b?`https://<${b.imageUrlPlaceholder}>`:
void 0}))};e.renderEditingBookmarkUrl=function(a){return a?f.tsx("li",{key:"edit-bookmark-url-form",class:c.CSS.authoringCard,["data-bookmark-uid"]:a.uid},f.tsx("form",{class:c.CSS.authoringForm,disabled:this.disabled,onsubmit:this._editBookmarkUrlSubmit,bind:this},this.renderEditingBookmarkUrlInput(a),this.renderEditingBookmarkUrlActions())):null};e.renderEditingBookmark=function(a){if(!a)return null;const b={["data-bookmark-uid"]:a.uid};var {capabilities:d}=this.viewModel;d=d.time?f.tsx("div",{key:"edit-bookmark-time-container",
class:c.CSS.timeExtentContainer},this.renderBookmarkTimeSwitch(a),this._editIncludeTimeExtent&&this.renderBookmarkTimeExtent(a)):null;return f.tsx("li",{key:"edit-bookmark-form",class:c.CSS.authoringCard,...b},f.tsx("form",{class:c.CSS.authoringForm,disabled:this.disabled,onsubmit:this._editBookmarkSubmit,bind:this},f.tsx("div",{class:c.CSS.authoringContainer},this.visibleElements.thumbnail?f.tsx("div",{class:c.CSS.bookmarkImageContainer},this.renderBookmarkImage(a),this._editMenu.render()):null,
this.renderEditingBookmarkName(a)),d,this.renderEditingBookmarkActions()))};e.renderAddingBookmarkName=function(){const {_userState:a,messages:b,disabled:d}=this,g="name-required"===a?.validationState;return f.tsx("label",{class:c.CSS.authoringLabel},b?.title,g?f.tsx("strong",null,b?.invalidTitle):null,f.tsx("input",{required:!0,disabled:d,bind:this,class:this.classes(c.CSS.esriInput,g?c.CSS.authoringInputInvalid:null),type:"text",afterCreate:this._storeAddInput,afterUpdate:this._focusAddInput,"data-node-ref":"_addInputNode",
value:"",placeholder:b?.titlePlaceholder}))};e.renderAddingBookmarkActions=function(){const {messagesCommon:a,disabled:b}=this;return f.tsx("div",{class:this.classes(c.CSS.authoringActions)},f.tsx("input",{type:"button",disabled:b,value:a?.cancel,class:this.classes(c.CSS.esriButton,c.CSS.esriButtonTertiary,c.CSS.authoringCancelButton),onclick:this._endAddBookmark.bind(this),bind:this}),f.tsx("input",{class:c.CSS.esriButton,disabled:b,type:"submit",value:a?.add}))};e.renderAddingBookmark=function(){return f.tsx("div",
{key:"add-bookmark-form",class:c.CSS.authoringCard},f.tsx("form",{class:this.classes(c.CSS.authoringForm,c.CSS.authoringFormAdding),onsubmit:this._addBookmarkSubmit,bind:this},this.renderAddingBookmarkName(),this.renderAddingBookmarkActions()))};e._setTooltipReference=function(a,b){this._tooltipReferenceMap.set(b.uid,a);this.scheduleRender()};e._getBookmarkTitle=function(a){return(a?.name||this.messagesCommon?.untitled)??""};e._formatDate=function(a){return a?r.formatDate(a,r.convertDateFormatToIntlOptions("short-date")):
""};e._formatTime=function(a){return a?r.formatDate(a,r.convertDateFormatToIntlOptions("long-time")):""};e._dragHandleBlur=function(){this._selectedSortUid=null;this.scheduleRender()};e._dragHandleKeydown=function(a){const {_sortableSavedItems:b}=this,d=G.eventKey(a);if("ArrowDown;ArrowUp;Escape;Tab; ;Enter".split(";").includes(d)){var {_sortable:g,_selectedSortUid:h}=this;if(g){var n=g.toArray(),q=a.target.getAttribute("data-bookmark-uid"),w=n.indexOf(q);O.isActivationKey(d)?(this._selectedSortUid=
(n=h&&h===q)?null:q,this._sortableSavedItems=n?[]:g.toArray(),this.scheduleRender()):"Tab"===d?(this._selectedSortUid=null,this.scheduleRender()):"Escape"===d&&0!==b.length?(a.stopPropagation(),this._selectedSortUid=null,this._updateSortItems(b,g,q),this.scheduleRender()):-1!==w&&h&&(a="ArrowUp"===d?w-1:w+1,a>=n.length||-1>=a||(n.splice(a,0,n.splice(w,1)[0]),this._updateSortItems(n,g,q)))}}};e._updateSortItems=function(a,b,d){b.sort(a);this._sortBookmarks(b);this._selectedSortUid=this._focusSortUid=
d};e._focusDragHandle=function(a){var b=t(a);b&&(this._setTooltipReference(a,b),{_focusSortUid:b}=this,a&&b&&a.getAttribute("data-bookmark-uid")===b&&(a.focus(),this._focusSortUid=null))};e._toggleSorting=function(){const {_sortable:a,_sortableNode:b,editingEnabled:d,disabled:g}=this;if(b)if(a)a.option("disabled",g||!d);else{const h=Q.Sortable.create(b,{dataIdAttr:"data-bookmark-uid",handle:`.${c.CSS.bookmarkDragHandle}`,group:"bookmarks",disabled:g||!d,onSort:()=>this._sortBookmarks(h)});this._sortable=
h}};e._sortNodeCreated=function(a){this._sortableNode=a;this._toggleSorting()};e._sortBookmarks=function(a){const {bookmarks:b}=this.viewModel;if(b){var d=a.toArray();b.sort((g,h)=>{g=d.indexOf(g.uid);h=d.indexOf(h.uid);return g>h?1:g<h?-1:0})}};e._destroySortable=function(){const {_sortable:a}=this;a&&a.destroy();this._sortable=null};e._endAddBookmark=function(){this._focusAddBookmarkButton=!0;this.endAddBookmark()};e._bookmarksInitialized=function(){this.removeHandles("bookmarks-init");this.addHandles(p.on(()=>
this.viewModel?.bookmarks,"change",()=>this._bookmarksChanged()),"bookmarks-init")};e._bookmarksChanged=function(){var {bookmarks:a}=this.viewModel;this.removeHandles("bookmarks-change");a=a.map(b=>p.watch(()=>[b?.name,b?.thumbnail?.url],()=>this.scheduleRender()));this.addHandles(a.toArray(),"bookmarks-change");this.scheduleRender()};e._showEditBookmarkForm=function(a){if(a=t(a.currentTarget))this._editIncludeTimeExtent=!!a.timeExtent,this._focusEditInputBox=!0,this._userState=new y({bookmark:a,
state:"edit"}),this.viewModel.goTo(a),this.scheduleRender()};e._closeUrlEditBookmarkForm=function(){this._focusEditInputBox=!0;this._userState&&(this._userState.state="edit")};e._closeEditBookmarkForm=function(){this._userState=null};e._addBookmarkSubmit=function(a){a.preventDefault();const {_addInputNode:b,_userState:d}=this;if(d){var g=b?b.value.trim():null;g?(d.loading=!0,this.viewModel.createBookmark().then(h=>{h.name=g;this.viewModel.bookmarks.add(h);this._endAddBookmark()})):d.validationState=
"name-required"}};e._editBookmarkAndClose=async function(a,b){const {viewModel:d}=this;await d.editBookmark(a,{...d.defaultEditOptions,...b});this._closeEditBookmarkForm()};e._editBookmarkSubmit=function(a){a.preventDefault();const {_editInputNode:b,_userState:d,_editIncludeTimeExtent:g}=this;d?.bookmark&&d.editedBookmark&&((a=b&&b.value.trim())?(d.bookmark.name=a,d.bookmark.thumbnail=d.editedBookmark.thumbnail,g||(d.bookmark.timeExtent=null),this._editBookmarkAndClose(d.bookmark,{takeScreenshot:!1,
captureTimeExtent:g})):d.validationState="name-required")};e._storeAddBookmarkButton=function(a){this._addBookmarkButtonNode=a;this._focusAddBookmark()};e._storeEditInput=function(a){this._editInputNode=a;this._focusEditInput()};e._storeAddInput=function(a){this._addInputNode=a;this._focusAddInput()};e._storeUrlEditInput=function(a){this._urlEditInputNode=a;this._focusUrlEditInput()};e._focusUrlEditInput=function(){this._urlEditInputNode&&this._focusUrlEditInputBox&&(this._focusUrlEditInputBox=!1,
this._urlEditInputNode.focus())};e._focusAddInput=function(){this._addInputNode&&this._focusAddInputBox&&(this._focusAddInputBox=!1,this._addInputNode.focus())};e._focusAddBookmark=function(){this._addBookmarkButtonNode&&this._focusAddBookmarkButton&&(this._focusAddBookmarkButton=!1,this._addBookmarkButtonNode.focus())};e._focusEditInput=function(){this._editInputNode&&this._focusEditInputBox&&(this._focusEditInputBox=!1,this._editInputNode.focus())};e._deleteBookmark=function(a){(a=t(a.currentTarget))&&
this.viewModel.bookmarks.remove(a)};e._goToBookmark=function(a){if(a=t(a.currentTarget))this.endAddBookmark(),this._closeEditBookmarkForm(),this.viewModel.goTo(a)};e._refreshThumbnail=async function(){const {_userState:a,_editMenu:b,viewModel:d}=this;a&&(a.validationState=void 0,await d.editBookmark(a.editedBookmark,{takeScreenshot:!0,captureViewpoint:!1,captureRotation:!1,captureScale:!1,captureTimeExtent:!1}),b.open=!1,this._focusEditInputBox=!0,this.scheduleRender())};e._removeThumbnail=function(){const {_userState:a,
_editMenu:b}=this;a?.editedBookmark&&(a.editedBookmark.thumbnail=null,a.validationState=void 0,b.open=!1,this._focusEditInputBox=!0,this.scheduleRender())};e._startUseImageUrl=function(){this._userState&&(this._userState.state="edit-thumbnail");this._editMenu.open=!1;this._focusUrlEditInputBox=!0;this.scheduleRender()};e._editBookmarkUrlSubmit=function(a){a.preventDefault();const {_urlEditInputNode:b,_userState:d}=this;b&&d&&(a=b.value,B.test(a)?(a&&d.editedBookmark&&(d.editedBookmark.thumbnail=new J.SlideThumbnail({url:a})),
this._closeUrlEditBookmarkForm()):d.validationState="absolute-url-required")};C._createClass(v,[{key:"_editMenuItems",get:function(){const {messages:a,_userState:b}=this;var d=b?.editedBookmark?.thumbnail?.url;const g=new z({label:a?.menu.refreshThumbnail,iconClass:c.CSS.iconRefresh,clickFunction:()=>this._refreshThumbnail()}),h=new z({label:d&&B.test(d)?a?.menu.editImageUrl:a?.menu.useImageUrl,iconClass:c.CSS.iconLink,clickFunction:()=>this._startUseImageUrl()});d=d?new z({label:a?.menu.removeThumbnail,
iconClass:c.CSS.iconRemove,clickFunction:()=>this._removeThumbnail()}):null;return[g,h,d].filter(F.isSome)}},{key:"_editMenu",get:function(){const {_editMenuItems:a,messages:b,disabled:d}=this;var g=this._get("_editMenu");g&&g.destroy();g=new L({disabled:d,iconClass:c.CSS.iconHandleHorizontal,label:b?.menu.label});g.items=a;return g}},{key:"defaultCreateOptions",get:function(){return this.viewModel.defaultCreateOptions},set:function(a){this.viewModel.defaultCreateOptions=a}},{key:"defaultEditOptions",
get:function(){return this.viewModel.defaultEditOptions},set:function(a){this.viewModel.defaultEditOptions=a}},{key:"bookmarks",get:function(){return this.viewModel.bookmarks},set:function(a){this.viewModel.bookmarks=a}},{key:"goToOverride",get:function(){return this.viewModel.goToOverride},set:function(a){this.viewModel.goToOverride=a}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(a){this._overrideIfSome("label",a)}},{key:"view",get:function(){return this.viewModel.view},
set:function(a){this.viewModel.view=a}}]);return v}(K);l.__decorate([m.property()],k.prototype,"_editIncludeTimeExtent",void 0);l.__decorate([m.property({type:y})],k.prototype,"_userState",void 0);l.__decorate([m.property({readOnly:!0})],k.prototype,"_editMenuItems",null);l.__decorate([m.property({readOnly:!0})],k.prototype,"_editMenu",null);l.__decorate([m.property()],k.prototype,"defaultCreateOptions",null);l.__decorate([m.property()],k.prototype,"defaultEditOptions",null);l.__decorate([m.property()],
k.prototype,"bookmarks",null);l.__decorate([m.property()],k.prototype,"disabled",void 0);l.__decorate([m.property()],k.prototype,"editingEnabled",void 0);l.__decorate([m.property()],k.prototype,"headingLevel",void 0);l.__decorate([m.property()],k.prototype,"goToOverride",null);l.__decorate([m.property()],k.prototype,"iconClass",void 0);l.__decorate([m.property()],k.prototype,"icon",void 0);l.__decorate([m.property()],k.prototype,"label",null);l.__decorate([m.property(),A.messageBundle("esri/widgets/Bookmarks/t9n/Bookmarks")],
k.prototype,"messages",void 0);l.__decorate([m.property(),A.messageBundle("esri/t9n/common")],k.prototype,"messagesCommon",void 0);l.__decorate([m.property(),A.messageBundle("esri/core/t9n/Units")],k.prototype,"messagesUnits",void 0);l.__decorate([m.property()],k.prototype,"uiStrings",void 0);l.__decorate([m.property()],k.prototype,"view",null);l.__decorate([m.property({type:D}),P.vmEvent(["select-bookmark","bookmark-edit","bookmark-select"])],k.prototype,"viewModel",void 0);l.__decorate([m.property()],
k.prototype,"visibleElements",void 0);l.__decorate([H.cast("visibleElements")],k.prototype,"castVisibleElements",null);l.__decorate([m.property()],k.prototype,"endAddBookmark",null);l.__decorate([m.property()],k.prototype,"startAddBookmark",null);return k=l.__decorate([I.subclass("esri.widgets.Bookmarks")],k)});