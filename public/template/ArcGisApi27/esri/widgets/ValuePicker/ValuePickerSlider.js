// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("require ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/promiseUtils ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../Slider ../support/componentsUtils ../support/widgetUtils ../support/jsxFactory ./ValuePickerBaseComponent ./ValuePickerSliderVisibleElements".split(" "),function(y,u,e,z,q,f,c,I,J,A,B,C,K,r,D,v){function t(p){return(m,
k)=>{k?.classList.add(p)}}c=function(p){function m(b,g){var a=p.call(this,b,g)||this;a._majorTickCreatedFunction=t("esri-value-picker__slider__tick-major");a._minorTickCreatedFunction=t("esri-value-picker__slider__tick-minor");a._stepsTickCreatedFunction=t("esri-value-picker__slider__tick-steps");a._thumbNode=null;a._tooltip=null;a._slider=new B({thumbCreatedFunction:(h,l,d)=>{a._thumbNode=d}});a.labelFormatFunction=null;a.labels=null;a.min=null;a.minorTicks=null;a.majorTicks=null;a.max=null;a.reversed=
!1;a.steps=null;a.type="slider";a.visibleElements=new v;a._thumbDragDebounced=z.debounce(async h=>{await a._tooltip?.reposition(!1)});return a}u._inherits(m,p);var k=m.prototype;k.initialize=function(){this.addHandles([q.watch(()=>this.viewModel?.values,b=>{this._slider.values=b},q.initial),q.watch(()=>this._slider.values,b=>{this.viewModel&&this.viewModel.values!==b&&(this.viewModel.values=b)}),this._slider.on("thumb-drag",this._thumbDragDebounced)])};k.destroy=function(){this._slider.destroy()};
k.loadDependencies=function(){return C.loadCalciteComponents({tooltip:()=>new Promise((b,g)=>y(["../../chunks/calcite-tooltip"],b,g))})};k.render=function(){const {labels:b,labelFormatFunction:g,min:a,max:h,steps:l,minorTicks:d,majorTicks:w,reversed:E,viewModel:x}=this;if(!x)return r.tsx("div",null);const {disabled:F,layout:G}=x,H=`${G}${E?"-reversed":""}`,n=[];null!=a&&null!=h&&(d&&n.push({mode:"position",values:d,tickCreatedFunction:this._minorTickCreatedFunction}),w&&n.push({mode:"position",values:w,
tickCreatedFunction:this._majorTickCreatedFunction}),b&&n.push({mode:"position",values:b,labelsVisible:!0}),this.visibleElements.steps&&this.steps&&n.push({mode:"position",values:this.steps,tickCreatedFunction:this._stepsTickCreatedFunction}));this._slider.set({disabled:F,labelFormatFunction:g,layout:H,min:a,max:h,steps:l,tickConfigs:n});return r.tsx("div",{class:"esri-value-picker__slider"},this._slider.render(),this._renderToolTip())};k.animate=function(b){this._step(1,b)};k.next=function(){this._step(this._ascending?
1:-1)};k.previous=function(){this._step(this._ascending?-1:1)};k._onTooltipAfterCreate=function(b){this._tooltip=b};k._renderToolTip=function(){if(!this.visibleElements.thumbTooltip||!this._thumbNode||!this._slider.values)return null;const b=this._slider.viewModel.getLabelForValue(this._slider.values[0],"value");return b?r.tsx("calcite-tooltip",{afterCreate:this._onTooltipAfterCreate,class:"esri-value-picker__slider__tooltip",label:b,referenceElement:this._thumbNode},b):null};k._step=function(b,g=
!1){if(this.viewModel&&this.steps?.length)if(this.viewModel.values&&this.steps.includes(this.viewModel.values[0])){var a=this.steps.indexOf(this.viewModel.values[0])+b;0>a||a>=this.steps.length?this.viewModel.loop||g?this.viewModel.values=[this.steps[1===b?0:this.steps.length-1]]:"playing"===this.viewModel.state&&this.viewModel.pause():this.viewModel.values=[this.steps[a]]}else this.viewModel.values=[this.steps[0]]};u._createClass(m,[{key:"_ascending",get:function(){const {reversed:b,viewModel:g}=
this;if(!g)return null;const {layout:a}=g;return"horizontal"===a&&!b||"vertical"===a&&b}},{key:"canNext",get:function(){const {_ascending:b,min:g,max:a,steps:h,viewModel:l}=this;if(null==b||null==g||null==a||!h?.length||!l)return!1;var {values:d}=l;d=d?.[0];return null==d?!0:b?d!==h[h.length-1]:d!==h[0]}},{key:"canPlay",get:function(){return null!=this.viewModel&&!!this.steps?.length&&null!=this.min&&null!=this.max}},{key:"canPrevious",get:function(){const {_ascending:b,min:g,max:a,steps:h,viewModel:l}=
this;if(null==b||null==g||null==a||!h?.length||!l)return!1;var {values:d}=l;d=d?.[0];return null==d?!0:b?d!==h[0]:d!==h[h.length-1]}}]);return m}(D);e.__decorate([f.property()],c.prototype,"_ascending",null);e.__decorate([f.property()],c.prototype,"canNext",null);e.__decorate([f.property()],c.prototype,"canPlay",null);e.__decorate([f.property()],c.prototype,"canPrevious",null);e.__decorate([f.property()],c.prototype,"labelFormatFunction",void 0);e.__decorate([f.property()],c.prototype,"labels",void 0);
e.__decorate([f.property()],c.prototype,"min",void 0);e.__decorate([f.property()],c.prototype,"minorTicks",void 0);e.__decorate([f.property()],c.prototype,"majorTicks",void 0);e.__decorate([f.property()],c.prototype,"max",void 0);e.__decorate([f.property({nonNullable:!0})],c.prototype,"reversed",void 0);e.__decorate([f.property()],c.prototype,"steps",void 0);e.__decorate([f.property()],c.prototype,"type",void 0);e.__decorate([f.property({type:v,nonNullable:!0})],c.prototype,"visibleElements",void 0);
return c=e.__decorate([A.subclass("esri.widgets.ValuePicker.ValuePickerSlider")],c)});