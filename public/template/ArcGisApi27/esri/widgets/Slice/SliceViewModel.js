// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../analysis/SliceAnalysis ../../core/Collection ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/AnalysisViewModel".split(" "),function(f,c,k,l,n,d,b,r,t,p,q){const h=new Set;b=function(m){function g(a){a=m.call(this,a)||this;a.analysis=null;a.supportedViewType="3d";a.unsupportedErrorMessage=
"SliceViewModel is only supported in 3D views.";h.add(f._assertThisInitialized(a));return a}f._inherits(g,m);var e=g.prototype;e.destroy=function(){h.delete(this)};e.start=async function(){await f._get(f._getPrototypeOf(g.prototype),"start",this).call(this);h.forEach(a=>{a.view===this.view&&a!==this&&a.clear()});null!=this.analysisView&&(this.analysisView.active=!0)};e.enterExcludeLayerMode=function(){null!=this.tool&&this.tool.enterExcludeLayerMode()};e.exitExcludeLayerMode=function(){null!=this.tool&&
this.tool.exitExcludeLayerMode()};e.onConnectToAnalysisView=function(a){a.active=!0};e.constructAnalysis=function(){return new k};f._createClass(g,[{key:"state",get:function(){return this.disabled||!this.ready?"disabled":null==this.tool?"ready":this.tool.state}},{key:"shape",get:function(){return this.analysis.shape},set:function(a){this.analysis.shape=a}},{key:"tiltEnabled",get:function(){return this.analysis.tiltEnabled},set:function(a){this.analysis.tiltEnabled=a}},{key:"layersMode",get:function(){return n.applySome(this.tool,
a=>a.layersMode)??"none"}},{key:"excludedLayers",get:function(){return this.analysis.excludedLayers},set:function(a){this.analysis.excludedLayers=l.isCollection(a)?a:new l(a)}},{key:"excludeGroundSurface",get:function(){return this.analysis.excludeGroundSurface},set:function(a){this.analysis.excludeGroundSurface=a}}]);return g}(q.AnalysisViewModel);c.__decorate([d.property({type:k})],b.prototype,"analysis",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"state",null);c.__decorate([d.property()],
b.prototype,"shape",null);c.__decorate([d.property()],b.prototype,"tiltEnabled",null);c.__decorate([d.property()],b.prototype,"layersMode",null);c.__decorate([d.property()],b.prototype,"excludedLayers",null);c.__decorate([d.property({nonNullable:!0})],b.prototype,"excludeGroundSurface",null);return b=c.__decorate([p.subclass("esri.widgets.Slice.SliceViewModel")],b)});