// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../geometry ../../../geometry/geometryEngine ../../../geometry/Polyline ../../../geometry/projection ../../../geometry/SpatialReference".split(" "),function(n,q,p,c,r,k,l){function m(g){return"polygon"===g.type||"polyline"===g.type}p=function(){function g(){}var f=g.prototype;f.createBuffer=function(b,a,d,e){if(Array.isArray(b)){if(0<b.length){const h=l.fromJSON(b[0].spatialReference);return h.isWGS84||h.isWebMercator?c.geodesicBuffer(b,
a,d):c.buffer(b,a,d,e)}}else return e=l.fromJSON(b.spatialReference),e.isWGS84||e.isWebMercator?c.geodesicBuffer(b,a[0],d):c.buffer(b,a[0],d)};f.createConvexHull=function(b){if(Array.isArray(b)){var a;if(a=1===b.length)a=b[0],a=a.hasOwnProperty("points")&&2===a.points.length;return a&&(a=c.convexHull(b[0]),m(a))?a:c.convexHull(b,!0).filter(m)}b=c.convexHull(b);if(m(b))return b};f.calculateArea=function(b,a){const d=new l({wkid:b.spatialReference.wkid});return d.isWGS84||d.isWebMercator?parseFloat(c.geodesicArea(b,
a).toFixed(2)):parseFloat(c.planarArea(b,a).toFixed(2))};f.mergeAggregatedToGeometries=function(b){const a=[],{line:d,multipoint:e,polygon:h}=b;d&&a.push(d);e&&a.push(e);h&&a.push(h);return a};f.getPercentageAlong=function(b,a,d){let e=b;b=this._createPolyline(b.paths,d.wkid);if("point"===a.type)return e=this._createPolyline([[a.x-50,a.y-50],[a.x+50,a.y+50]],a.spatialReference.wkid),e=k.project(e,d),a=c.cut(b,e),0<a.length?(d=c.planarLength(b,"feet"),[(a[0].paths[0][0][0]===b.paths[0][0][0]?c.planarLength(a[0],
"feet"):c.planarLength(a[1],"feet"))/d]):[.5];a=k.project(a,d);a=c.cut(b,a);return 0<a.length?(b=c.planarLength(b,"feet"),[c.planarLength(a[0],"feet")/b]):[.5]};f.projectGeometry=async function(b,a){await k.load();return k.project(b,a)};f._createPolyline=function(b,a){return new r({hasZ:!1,hasM:!0,paths:b,spatialReference:{wkid:a}})};return q._createClass(g)}();n.GeometryHandler=p;Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});