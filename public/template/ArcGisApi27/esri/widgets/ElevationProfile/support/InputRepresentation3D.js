// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/asyncUtils ../../../core/handleUtils ../../../core/maybe ../../../core/promiseUtils ../../../core/reactiveUtils ../../../support/elevationInfoUtils ../../../views/3d/interactive/editingTools/settings ../../../views/3d/interactive/visualElements/OutlineVisualElement ../../../views/3d/layers/graphics/GraphicState ../../../views/3d/webgl-engine/lib/Material ../../../views/support/layerViewUtils".split(" "),function(k,m,n,l,g,p,q,
r,t,u,v,w,x){function h(e){return null!=e.geometry&&"polyline"===e.geometry.type}let A=function(){function e(a){this._params=a;this._visualElementHandle=this._highlightHandle=this._highlightTask=null}var f=e.prototype;f.destroy=function(){this.remove()};f.remove=function(){this._highlightTask=g.abortMaybe(this._highlightTask);this._highlightHandle=g.removeMaybe(this._highlightHandle);this._visualElementHandle=g.removeMaybe(this._visualElementHandle)};f.showHighlight=function(a){this.remove();if(null!=
a&&h(a)){var c=a.layer;this._highlightTask=n.createTask(async b=>{const d=await this._params.view.whenLayerView(c);p.throwIfAborted(b);x.highlightsSupported(d)&&(this._highlightHandle=d.highlight(a))})}};f.showReshaping=function(a){this.remove();if(null!=a){var c=this._params.view,b=new u.OutlineVisualElement({view:c,geometry:h(a)?a.geometry:null,attached:!1,elevationInfo:r.getGraphicEffectiveElevationInfo(a),renderOccluded:w.RenderOccludedFlag.OccludeAndTransparentStencil}),d=new v.GraphicState({graphic:a}),
z=[q.watch(()=>d.isDraped,y=>{b.isDraped=y}),d.on("changed",()=>{b.geometry=h(a)?a.geometry:null}),c.trackGraphicState(d),c.maskOccludee(a),l.destroyHandle(b)];t.getSettings(c).visualElements.lineGraphics.outline.apply(b);b.attached=!0;this._visualElementHandle=l.handlesGroup(z)}};return m._createClass(e)}();k.InputRepresentation3D=A;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});