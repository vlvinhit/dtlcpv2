// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/arrayUtils ../../core/Evented ../../core/handleUtils ../../core/maybe ../../core/memoize ../../core/reactiveUtils ../../core/uuid ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/accessorSupport/decorators/subclass ../../geometry/Point ./support/constants ./support/unitUtils".split(" "),function(l,c,m,u,b,v,w,n,h,x,d,E,F,y,z,A,p){b=function(q){function k(a){a=
q.call(this,a)||this;a.type=null;a.id=x.generateUUID();a.title=null;a.color=new m("#000000");a.visible=!0;a._getSamplesMemoized=n.memoize((e,f)=>p.convertSamples(e,f));a._getStatisticsMemoized=n.memoize((e,f)=>p.convertStatistics(e,f));a.viewVisualizationEnabled=!0;a.result=null;a.effectiveUnits=null;a.numSamplesForPreview=30;a.numSamplesPerChunk=200;a.chartFillEnabled=!0;a.chartStrokeWidth=1.5;a.chartStrokeOffsetY=0;a._viewModel=null;return a}l._inherits(k,q);var g=k.prototype;g.queryElevation=function(){throw Error("not implemented");
};g.attach=function(a){this._viewModel=a;return v.handlesGroup([h.watch(()=>a.effectiveUnits,e=>{this.effectiveUnits=e},h.syncAndInitial),h.watch(()=>[a.input],()=>this._onChange(),h.sync)])};g.toggleVisibility=function(a){this.visible=void 0===a?!this.visible:a};g._onChange=function(){this.emit("change")};g._getPoint=function(a){const {samples:e,result:f}=this;if(null==e||null==f)return null;const r=e.length;if(0===r)return null;a=u.binaryFindClosest(e,a*e[r-1].distance,B=>B.distance);if(null==a)return null;
const {x:C,y:D,z:t}=a;return null==t?null:new z({x:C,y:D,z:t,spatialReference:f.spatialReference})};l._createClass(k,[{key:"progress",get:function(){return null!=this.result&&this.visible?this.result.progress:0}},{key:"samples",get:function(){return this._getSamplesMemoized(this.result,this.effectiveUnits)}},{key:"statistics",get:function(){return this._getStatisticsMemoized(this.result,this.effectiveUnits)}},{key:"hoveredPoint",get:function(){return w.applySome(this._viewModel?.hoveredChartPosition,
a=>this._getPoint(a))}},{key:"available",get:function(){return!0}},{key:"hasZ",get:function(){const a=this.result;return null!=a&&a.hasZ}},{key:"minDemResolution",get:function(){return A.getConfig().defaultDemResolution}}]);return k}(b.EventedAccessor);c.__decorate([d.property({nonNullable:!0})],b.prototype,"id",void 0);c.__decorate([d.property({nonNullable:!0})],b.prototype,"title",void 0);c.__decorate([d.property({type:m,nonNullable:!0})],b.prototype,"color",void 0);c.__decorate([d.property({nonNullable:!0})],
b.prototype,"visible",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"progress",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"samples",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"statistics",null);c.__decorate([d.property()],b.prototype,"hoveredPoint",null);c.__decorate([d.property()],b.prototype,"viewVisualizationEnabled",void 0);c.__decorate([d.property()],b.prototype,"available",null);c.__decorate([d.property()],b.prototype,"result",void 0);c.__decorate([d.property()],
b.prototype,"effectiveUnits",void 0);c.__decorate([d.property()],b.prototype,"numSamplesForPreview",void 0);c.__decorate([d.property()],b.prototype,"numSamplesPerChunk",void 0);c.__decorate([d.property()],b.prototype,"chartFillEnabled",void 0);c.__decorate([d.property()],b.prototype,"chartStrokeWidth",void 0);c.__decorate([d.property()],b.prototype,"chartStrokeOffsetY",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"hasZ",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"minDemResolution",
null);c.__decorate([d.property()],b.prototype,"_viewModel",void 0);return b=c.__decorate([y.subclass("esri.widgets.ElevationProfile.ElevationProfileLine")],b)});