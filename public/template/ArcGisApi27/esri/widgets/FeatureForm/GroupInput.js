// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/deprecate ../../core/Logger ../../core/maybe ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./featureFormUtils ./InputBase".split(" "),function(h,d,k,b,q,l,e,v,w,x,r,t,u){const m=b.getLogger("esri.widgets.FeatureForm.GroupInput");b=function(n){function f(a){a=n.call(this,a)||
this;a._expressionTrackingHandles=new Map;a.type="group";return a}h._inherits(f,n);var g=f.prototype;g.initialize=function(){this.addHandles([l.watch(()=>[this.visible,this.inputs],([a])=>{const {inputs:c}=this;a=a?void 0:!1;for(const p of c)t.isFieldInput(p)&&(p.required=a)},{initial:!0,equals:(a,c)=>c[0]===a[0]&&c[1]===a[1]})])};g.destroy=function(){for(const a of this._expressionTrackingHandles.values())a.remove()};g._dirtyEvaluatedVisibilityExpression=function(){const {element:a}=this;a.visibilityExpression&&
this.notifyChange("evaluatedVisibilityExpression")};h._createClass(f,[{key:"inputFields",get:function(){k.deprecated(m,"Property: GroupInput.inputFields",{replacement:"GroupInput.inputs",version:"4.27"});return this.inputs},set:function(a){k.deprecated(m,"Property: GroupInput.inputFields",{replacement:"GroupInput.inputs",version:"4.27"});this.inputs=a}},{key:"inputs",get:function(){return this._get("inputs")},set:function(a){this.handles.removeAll();a&&this.handles.add(a.map(c=>l.watch(()=>c.visible,
()=>this._dirtyEvaluatedVisibilityExpression())));this._set("inputs",a)}},{key:"label",get:function(){return this.element.label},set:function(a){q.applySome(this.element,c=>{c.label=a})}},{key:"state",get:function(){return this.element.initialState||"expanded"},set:function(a){this._overrideIfSome("state",a)}},{key:"visible",get:function(){return!1!==this.evaluatedVisibilityExpression&&this.inputs&&this.inputs.some(a=>a.visible)}}]);return f}(u);d.__decorate([e.property()],b.prototype,"inputs",null);
d.__decorate([e.property()],b.prototype,"label",null);d.__decorate([e.property()],b.prototype,"state",null);d.__decorate([e.property({readOnly:!0})],b.prototype,"type",void 0);d.__decorate([e.property()],b.prototype,"visible",null);return b=d.__decorate([r.subclass("esri.widgets.FeatureForm.GroupInput")],b)});