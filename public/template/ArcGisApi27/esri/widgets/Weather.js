// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/memoize ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../views/3d/environment/weather ./Widget ./support/componentsUtils ./support/Heading ./support/widgetUtils ./support/decorators/messageBundle ./support/jsxFactory ./Weather/css ./Weather/enums ./Weather/LabeledSlider ./Weather/VisibleElements ./Weather/WeatherViewModel".split(" "),
function(q,u,g,y,k,f,I,J,z,A,B,C,D,E,F,c,l,m,n,v,G){const H={sunny:"brightness",cloudy:"partly-cloudy",rainy:"rain",snowy:"snow",foggy:"fog"};f=function(w){function r(b){var a=w.call(this,b)||this;a.viewModel=new G;a.headingLevel=4;a.visibleElements=new v;a.iconClass=l.CSS.widgetIcon;a.icon=null;a._renderWeatherTypeButton=d=>{const e=a.viewModel,h=a.messages[d].label,x=e.state===m.WeatherState.Disabled,t=!x&&e.current.type===d;return c.tsx("calcite-button",{appearance:t?"solid":"outline","aria-checked":t?
"true":"false",kind:t?"brand":"neutral",disabled:x,iconStart:H[d],key:`${d}-type-button`,label:h,scale:"l",title:h,onclick:()=>{t||e.setWeatherByType(d)}})};a._memoizedCallbacks=y.memoize(d=>({onCloudCoverChange:e=>{"cloudCover"in d&&(d.cloudCover=e)},onPrecipitationChange:e=>{"precipitation"in d&&(d.precipitation=e)},onFogStrengthChange:e=>{"fogStrength"in d&&(d.fogStrength=e)},onSnowCoverChange:e=>{a.viewModel.setSnowCoverEnabled(e.target.checked)}}));return a}u._inherits(r,w);var p=r.prototype;
p.render=function(){return c.tsx("div",{class:this.classes(l.CSS.base,l.CSS.esriWidget,this.viewModel.state===m.WeatherState.Disabled&&l.CSS.esriWidgetDisabled),role:"region","aria-label":this.messages.widgetLabelAccessible},this._renderContent())};p.loadDependencies=function(){return C.loadCalciteComponents({button:()=>new Promise((b,a)=>q(["../chunks/calcite-button"],b,a)),checkbox:()=>new Promise((b,a)=>q(["../chunks/calcite-checkbox"],b,a)),icon:()=>new Promise((b,a)=>q(["../chunks/calcite-icon"],
b,a)),label:()=>new Promise((b,a)=>q(["../chunks/calcite-label"],b,a))})};p._renderContent=function(){const b=this.messages,a=this._warningMessage,d=this.viewModel.state===m.WeatherState.Error;return c.tsx(c.tsxFragment,null,this.visibleElements.header&&c.tsx(D.Heading,{level:this.headingLevel},b.widgetLabel),d&&c.tsx("div",{key:"error",class:l.CSS.error},this._errorMessage),c.tsx("div",{key:"content",class:E.classes({[l.CSS.content]:!0,[l.CSS.hasError]:d})},c.tsx("div",{class:l.CSS.selector,role:"radiogroup",
"aria-label":b.weatherType},A.weatherTypesArray.map(this._renderWeatherTypeButton)),c.tsx("div",{class:l.CSS.options},this._renderOptions()),null!=a?this._renderWarning(a):null))};p._renderOptions=function(){const {viewModel:b,messages:a}=this,d=b.state===m.WeatherState.Disabled,e=b.current,h=this._memoizedCallbacks(e);switch(e.type){case "sunny":return c.tsx(n.LabeledSlider,{key:"sunny-cover",disabled:d,label:a.sunny.cloudCover,value:e.cloudCover,onChange:h.onCloudCoverChange});case "cloudy":return c.tsx(n.LabeledSlider,
{key:"cloudy-cover",disabled:d,label:a.cloudy.cloudCover,value:e.cloudCover,onChange:h.onCloudCoverChange});case "rainy":return c.tsx(c.tsxFragment,null,c.tsx(n.LabeledSlider,{key:"rainy-cover",disabled:d,label:a.rainy.cloudCover,value:e.cloudCover,onChange:h.onCloudCoverChange}),c.tsx(n.LabeledSlider,{key:"rainy-precipitation",disabled:d,label:a.rainy.precipitation,value:e.precipitation,onChange:h.onPrecipitationChange}));case "snowy":return c.tsx(c.tsxFragment,null,c.tsx(n.LabeledSlider,{key:"snowy-cloud-cover",
disabled:d,label:a.snowy.cloudCover,value:e.cloudCover,onChange:h.onCloudCoverChange}),c.tsx(n.LabeledSlider,{key:"snowy-precipitation",disabled:d,label:a.snowy.precipitation,value:e.precipitation,onChange:h.onPrecipitationChange}),c.tsx("calcite-label",{key:"snow-cover",scale:"s",layout:"inline",title:a.snowy.snowCoverTooltip},c.tsx("calcite-checkbox",{checked:"enabled"===e.snowCover,disabled:d,onCalciteCheckboxChange:h.onSnowCoverChange}),a.snowy.snowCover));case "foggy":return c.tsx(n.LabeledSlider,
{key:"foggy-cover",disabled:d,label:a.foggy.fogStrength,value:e.fogStrength,onChange:h.onFogStrengthChange})}};p._renderWarning=function(b){return c.tsx("div",{key:"warning",class:l.CSS.warning},c.tsx("calcite-icon",{icon:"exclamation-mark-triangle",scale:"s"}),b)};u._createClass(r,[{key:"view",get:function(){return this.viewModel?.view},set:function(b){this.viewModel&&(this.viewModel.view=b)}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(b){this._overrideIfSome("label",
b)}},{key:"_errorMessage",get:function(){const b=this.messages.error;switch(this.viewModel.error){case m.WeatherError.LocalScene:return b.localScene;case m.WeatherError.NoAtmosphere:return b.noAtmosphere;case m.WeatherError.UnsupportedView:return b.unsupported;default:return null}}},{key:"_warningMessage",get:function(){switch(this.viewModel.error){case m.WeatherError.NotVisible:return null!=this.view&&"3d"===this.view?.type&&this.view.environment.atmosphereEnabled?this.messages.error.notVisible:
null;default:return null}}}]);return r}(B);g.__decorate([k.property()],f.prototype,"viewModel",void 0);g.__decorate([k.property()],f.prototype,"view",null);g.__decorate([k.property()],f.prototype,"headingLevel",void 0);g.__decorate([k.property({type:v,nonNullable:!0})],f.prototype,"visibleElements",void 0);g.__decorate([k.property()],f.prototype,"iconClass",void 0);g.__decorate([k.property()],f.prototype,"icon",void 0);g.__decorate([k.property()],f.prototype,"label",null);g.__decorate([k.property(),
F.messageBundle("esri/widgets/Weather/t9n/Weather")],f.prototype,"messages",void 0);g.__decorate([k.property()],f.prototype,"_errorMessage",null);g.__decorate([k.property()],f.prototype,"_warningMessage",null);return f=g.__decorate([z.subclass("esri.widgets.Weather")],f)});