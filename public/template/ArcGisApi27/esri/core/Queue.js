// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["../chunks/_rollupPluginBabelHelpers","./maybe","./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(h,f,c,k){return function(l){function d(a=e=>e.values().next().value){this._peeker=a;this._observable=new k.SimpleObservable;this._items=new Set}var b=d.prototype;b.clear=function(){0!==this.length&&(this._items.clear(),this._observable.notify())};b.last=function(){if(0!==this.length){for(var a of this._items);return a}};b.peek=function(){if(0!==this.length)return this._peeker(this._items)};
b.push=function(a){this.contains(a)||(this._items.add(a),this._observable.notify())};b.contains=function(a){c.trackAccess(this._observable);return this._items.has(a)};b.pop=function(){if(0!==this.length){var a=this.peek();this._items.delete(f.assumeNonNull(a));this._observable.notify();return a}};b.popLast=function(){if(0!==this.length){var a=this.last();this._items.delete(f.assumeNonNull(a));this._observable.notify();return a}};b.remove=function(a){this.contains(a)&&(this._items.delete(a),this._observable.notify())};
b.filter=function(a){const e=this.length;this._items.forEach(g=>{a(g)||this._items.delete(g)});e!==this._items.size&&this._observable.notify();return this};b[l]=function*(){c.trackAccess(this._observable);yield*this._items};h._createClass(d,[{key:"length",get:function(){c.trackAccess(this._observable);return this._items.size}}]);return d}(Symbol.iterator)});