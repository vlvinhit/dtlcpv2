// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Error ./maybe ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(e,f,p,v,d,q,w,g,r){const u=b=>{b=function(c){function h(...x){var a=c.call(this,...x)||this;a._loadController=null;a.loadError=null;a.loadStatus="not-loaded";a._set("loadWarnings",[]);a.addResolvingPromise(new Promise(l=>{const y=a.load.bind(e._assertThisInitialized(a));a.load=z=>{const A=
new Promise((k,m)=>{const t=q.onAbortOrThrow(z,m);a.destroyed&&m(new p("load:instance-destroyed",`Instance of '${a.declaredClass||a.constructor.name}' is already destroyed`,{instance:e._assertThisInitialized(a)}));a.when(k,m).finally(()=>{t&&t.remove()})});if("not-loaded"===a.loadStatus){a._set("loadStatus","loading");const k=a._loadController=new AbortController;y({signal:k.signal});q.onAbort(k.signal,()=>{a._promiseProps.abort()})}l();return A}}));a.when(()=>{a._set("loadStatus","loaded");a._loadController=
null},l=>{a._set("loadStatus","failed");a._set("loadError",l);a._loadController=null});return a}e._inherits(h,c);var n=h.prototype;n.destroy=function(){this._loadController=v.abortMaybe(this._loadController);this._set("loadError",null);this._set("loadWarnings",[])};n.load=function(){return null};n.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new p("load:cancelled","Cancelled"));this._loadController?.abort();return this};e._createClass(h,[{key:"loaded",get:function(){return"loaded"===
this.loadStatus}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}}]);return h}(b);f.__decorate([g.property({readOnly:!0})],b.prototype,"loaded",null);f.__decorate([g.property({readOnly:!0})],b.prototype,"loadError",void 0);f.__decorate([g.property({clonable:!1})],b.prototype,"loadStatus",void 0);f.__decorate([g.property({type:[w],readOnly:!0})],b.prototype,"loadWarnings",null);return b=f.__decorate([r.subclass("esri.core.Loadable")],b)};d=function(b){function c(){return b.apply(this,
arguments)||this}e._inherits(c,b);return e._createClass(c)}(u(d.EsriPromise));d=f.__decorate([r.subclass("esri.core.Loadable")],d);(function(b){b.LoadableMixin=u;b.isLoadable=function(c){return!(!c||!c.load)}})(d||(d={}));return d});