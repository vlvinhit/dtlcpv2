// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../chunks/_rollupPluginBabelHelpers"],function(f,g){function k(){}let n=function(){function d(a){this._accessed=[];this._handles=[];this._observerObject=new l(a);h.register(this,new WeakRef(this._observerObject),this)}var c=d.prototype;c.destroy=function(){h.unregister(this._observerObject);this._accessed.length=0;this._observerObject?.destroy();this.clear()};c.onObservableAccessed=function(a){const b=this._accessed;b.includes(a)||b.push(a)};c.onTrackingEnd=function(){const a=
this._handles,b=this._accessed,m=this._observerObject;for(let e=0;e<b.length;++e)a.push(b[e].observe(m));b.length=0};c.clear=function(){const a=this._handles;for(let b=0;b<a.length;++b)a[b].remove();a.length=0};return g._createClass(d)}(),l=function(){function d(a){this._notify=a;this._invalidCount=0;this.destroyed=!1}var c=d.prototype;c.onInvalidated=function(){this._invalidCount++};c.onCommitted=function(){if(!this.destroyed){var a=this._invalidCount;1===a?(this._invalidCount=0,this._notify()):
this._invalidCount=0<a?a-1:0}};c.destroy=function(){this.destroyed=!0;this._notify=k};return g._createClass(d)}();const h=new FinalizationRegistry(d=>{d.deref()?.destroy()});f.SimpleTrackingTarget=n;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});