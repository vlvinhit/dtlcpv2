// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Logger ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleTrackingTarget".split(" "),function(h,k,l,r,t,u,n,p,v){function w(b,f){const g=()=>{if(!d||a)return f();d.clear();a=!0;const c=u.runTracked(d,f);a=!1;return c};let d=new v.SimpleTrackingTarget(()=>{d&&!a&&b(g)}),a=!1;b(g);return{remove:()=>{d&&(d.destroy(),d=null)}}}const q=
b=>{b=function(f){function g(){var a=f.apply(this,arguments)||this;a._numUpdating=0;a._asyncUpdateState=new Map;return a}k._inherits(g,f);var d=g.prototype;d.autoUpdateAsync=function(a,c){return w(m=>this._updateAsync(a,m),c)};d._updateAsync=async function(a,c){if(!this._startAsyncUpdate(a)){try{const m=await c();this._set(a,m)}catch(m){t.getLogger(this).warn(`Async update of "${String(a)}" failed. Async update functions should not throw exceptions.`)}this._endAsyncUpdate(a)&&this._updateAsync(a,
c)}};d._startAsyncUpdate=function(a){const c=this._asyncUpdateState.get(a)??e.None;if(c&e.Updating)return this._asyncUpdateState.set(a,c|e.Invalidated),!0;++this._numUpdating;this._asyncUpdateState.set(a,c|e.Updating);return!1};d._endAsyncUpdate=function(a){--this._numUpdating;const c=(this._asyncUpdateState.get(a)??e.None)&~e.Updating;if(c&e.Invalidated)return this._asyncUpdateState.set(a,c&~e.Invalidated),!0;this._asyncUpdateState.set(a,c);return!1};k._createClass(g,[{key:"updating",get:function(){return 0<
this._numUpdating}}]);return g}(b);l.__decorate([n.property({readOnly:!0})],b.prototype,"updating",null);l.__decorate([n.property()],b.prototype,"_numUpdating",void 0);return b=l.__decorate([p.subclass("esri.core.AsyncUpdate")],b)};var e;(function(b){b[b.None=0]="None";b[b.Updating=1]="Updating";b[b.Invalidated=2]="Invalidated"})(e||(e={}));h.AsyncUpdate=function(b){function f(){return b.apply(this,arguments)||this}k._inherits(f,b);return k._createClass(f)}(q(r));h.AsyncUpdate=l.__decorate([p.subclass("esri.core.AsyncUpdate")],
h.AsyncUpdate);h.AsyncUpdateMixin=q;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});