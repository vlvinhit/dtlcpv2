// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../chunks/_rollupPluginBabelHelpers","./capabilities/DisjointTimerQuery"],function(f,g,h){let m=function(){function b(a,c){this._timer=a;this._queryPool=[];this._queryResults=new Map;this._currentQuery=null;c.forEach(e=>{const k=this._timer.createQuery(),l=this._timer.createQuery();this._queryPool.push(k,l);this._queryResults.set(e,null)})}var d=b.prototype;d.start=function(){h.hasRunningElapsedTimer||(this._currentQuery=this._queryPool.pop(),null!=this._currentQuery&&(this._timer.disjoint(),
this._timer.beginTimeElapsed(this._currentQuery)))};d.stop=function(a){if(this._timer.disjoint()||null==this._currentQuery||!this._queryResults.has(a))return this.abort(),null;this._timer.endTimeElapsed();const c=this._queryResults.get(a);if(null==c)return this._queryResults.set(a,this._currentQuery),this._currentQuery=null;if(!this._timer.resultAvailable(c))return this._queryPool.unshift(this._currentQuery),this._currentQuery=null;const e=this._timer.getResult(c)/1E6;this._queryPool.unshift(c);this._queryResults.set(a,
this._currentQuery);this._currentQuery=null;return e};d.abort=function(){null!=this._currentQuery&&(this._timer.deleteQuery(this._currentQuery),this._queryPool.unshift(this._timer.createQuery()),this._currentQuery=null)};d.dispose=function(){null!=this._currentQuery&&this._timer.deleteQuery(this._currentQuery);this._queryPool.forEach(a=>{this._timer.deleteQuery(a)});this._queryResults.forEach(a=>{null!=a&&this._timer.deleteQuery(a)})};return g._createClass(b)}();f.createElapsedTimerPool=function(b,
d){b=b.capabilities.disjointTimerQuery;return null==b?null:new m(b,d)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});