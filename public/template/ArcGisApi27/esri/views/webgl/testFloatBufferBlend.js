// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../3d/webgl-engine/lib/OrderIndependentTransparency ./BufferObject ./contextUtils ./enums ./FramebufferObject ./renderState ./TextureDescriptor ./VertexArrayObject ./VertexElementDescriptor ./WebGLDriverTestModule".split(" "),function(l,e,n,p,q,c,r,t,u,v,w,g){g=function(m){function h(b){var a=m.call(this)||this;a._rctx=b;if(!b.gl)return e._possibleConstructorReturn(a);if(b.type===q.ContextType.WEBGL1)return a._result=!(!b.capabilities.textureFloat?.textureFloat||
!b.capabilities.colorBufferFloat?.textureFloat),e._possibleConstructorReturn(a);if(!(b.capabilities.textureFloat?.textureFloat&&b.capabilities.colorBufferFloat?.textureFloat&&b.capabilities.colorBufferFloat?.floatBlend))return e._possibleConstructorReturn(a);a._program=b.programCache.acquire("\n    precision highp float;\n    attribute vec2 a_pos;\n\n    void main() {\n      gl_Position \x3d vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\n    }\n    ","\n     precision highp float;\n\n     void main() {\n      gl_FragColor \x3d vec4(0.5, 0.5, 0.5, 0.5);\n     }\n    ",
new Map([["a_pos",0]]));return a}e._inherits(h,m);h.prototype._test=function(b){const a=this._rctx;var d=new u.TextureDescriptor(1);d.wrapMode=c.TextureWrapMode.CLAMP_TO_EDGE;d.dataType=c.PixelType.FLOAT;d.internalFormat=c.SizedPixelFormat.RGBA32F;d.samplingMode=c.TextureSamplingMode.NEAREST;d=new r.FramebufferObject(a,d);var f=p.BufferObject.createVertex(a,c.Usage.STATIC_DRAW,new Uint16Array([0,0,1,0,0,1,1,1]));f=new v.VertexArrayObject(a,new Map([["a_pos",0]]),{geometry:[new w.VertexElementDescriptor("a_pos",
2,c.DataType.UNSIGNED_SHORT,0,4)]},{geometry:f});a.useProgram(b);b=a.getBoundFramebufferObject();const {x,y,width:z,height:A}=a.getViewport();a.bindFramebuffer(d);a.setViewport(0,0,1,1);a.bindVAO(f);a.drawArrays(c.PrimitiveType.TRIANGLE_STRIP,0,4);var k=t.makePipelineState({blending:n.blendingAlpha});a.setPipelineState(k);a.drawArrays(c.PrimitiveType.TRIANGLE_STRIP,0,4);k=a.gl.getError();a.setViewport(x,y,z,A);a.bindFramebuffer(b);f.dispose();d.dispose();return 1282===k?(console.warn("Device claims support for WebGL extension EXT_float_blend but does not support it. Using fall back."),
!1):!0};return e._createClass(h)}(g.WebGLDriverTestModule);l.FloatBufferBlend=g;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});