// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../chunks/_rollupPluginBabelHelpers","../3d/webgl-engine/lib/basicInterfaces","./enums"],function(d,n,p,h){function q(a){return J.intern(a)}function r(a){return K.intern(a)}function t(a){return L.intern(a)}function u(a){return M.intern(a)}function v(a){return N.intern(a)}function w(a){return O.intern(a)}function x(a){return P.intern(a)}function y(a){return Q.intern(a)}function g(a){return"["+a.join(",")+"]"}function z(a){return a?g([a.srcRgb,a.srcAlpha,a.dstRgb,a.dstAlpha,a.opRgb,
a.opAlpha,a.color.r,a.color.g,a.color.b,a.color.a]):null}function A(a){return a?g([a.face,a.mode]):null}function B(a){return a?g([a.factor,a.units]):null}function C(a){return a?g([a.func]):null}function D(a){return a?g([a.function.func,a.function.ref,a.function.mask,a.operation.fail,a.operation.zFail,a.operation.zPass]):null}function E(a){return a?g([a.zNear,a.zFar]):null}function F(a){return a?g([a.r,a.g,a.b,a.a]):null}function G(a){return a?g([a.mask]):null}const H={face:h.Face.BACK,mode:h.CullMode.CCW},
I={face:h.Face.FRONT,mode:h.CullMode.CCW};var f=function(){function a(c,b){this._makeKey=c;this._makeRef=b;this._interns=new Map}a.prototype.intern=function(c){if(!c)return null;const b=this._makeKey(c),e=this._interns;e.has(b)||e.set(b,this._makeRef(c));return e.get(b)??null};return n._createClass(a)}();const J=new f(z,a=>({__tag:"Blending",...a})),K=new f(A,a=>({__tag:"Culling",...a})),L=new f(B,a=>({__tag:"PolygonOffset",...a})),M=new f(C,a=>({__tag:"DepthTest",...a})),N=new f(D,a=>({__tag:"StencilTest",
...a})),O=new f(E,a=>({__tag:"DepthWrite",...a})),P=new f(F,a=>({__tag:"ColorWrite",...a})),Q=new f(G,a=>({__tag:"StencilWrite",...a})),R=new f(function(a){return a?g([z(a.blending),A(a.culling),B(a.polygonOffset),C(a.depthTest),D(a.stencilTest),E(a.depthWrite),F(a.colorWrite),G(a.stencilWrite)]):null},a=>({blending:q(a.blending),culling:r(a.culling),polygonOffset:t(a.polygonOffset),depthTest:u(a.depthTest),stencilTest:v(a.stencilTest),depthWrite:w(a.depthWrite),colorWrite:x(a.colorWrite),stencilWrite:y(a.stencilWrite)}));
f=function(){function a(b){this._stencilWriteInvalid=this._colorWriteInvalid=this._depthWriteInvalid=this._stencilTestInvalid=this._depthTestInvalid=this._polygonOffsetInvalid=this._cullingInvalid=this._blendingInvalid=this._pipelineInvalid=!0;this._stateSetters=b}var c=a.prototype;c.setPipeline=function(b){if(this._pipelineInvalid||b!==this._pipeline)this._setBlending(b.blending),this._setCulling(b.culling),this._setPolygonOffset(b.polygonOffset),this._setDepthTest(b.depthTest),this._setStencilTest(b.stencilTest),
this._setDepthWrite(b.depthWrite),this._setColorWrite(b.colorWrite),this._setStencilWrite(b.stencilWrite),this._pipeline=b;this._pipelineInvalid=!1};c.invalidateBlending=function(){this._pipelineInvalid=this._blendingInvalid=!0};c.invalidateCulling=function(){this._pipelineInvalid=this._cullingInvalid=!0};c.invalidatePolygonOffset=function(){this._pipelineInvalid=this._polygonOffsetInvalid=!0};c.invalidateDepthTest=function(){this._pipelineInvalid=this._depthTestInvalid=!0};c.invalidateStencilTest=
function(){this._pipelineInvalid=this._stencilTestInvalid=!0};c.invalidateDepthWrite=function(){this._pipelineInvalid=this._depthWriteInvalid=!0};c.invalidateColorWrite=function(){this._pipelineInvalid=this._colorWriteInvalid=!0};c.invalidateStencilWrite=function(){this._pipelineInvalid=this._stencilTestInvalid=!0};c._setBlending=function(b){this._blending=this._setSubState(b,this._blending,this._blendingInvalid,this._stateSetters.setBlending);this._blendingInvalid=!1};c._setCulling=function(b){this._culling=
this._setSubState(b,this._culling,this._cullingInvalid,this._stateSetters.setCulling);this._cullingInvalid=!1};c._setPolygonOffset=function(b){this._polygonOffset=this._setSubState(b,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset);this._polygonOffsetInvalid=!1};c._setDepthTest=function(b){this._depthTest=this._setSubState(b,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest);this._depthTestInvalid=!1};c._setStencilTest=function(b){this._stencilTest=
this._setSubState(b,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest);this._stencilTestInvalid=!1};c._setDepthWrite=function(b){this._depthWrite=this._setSubState(b,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite);this._depthWriteInvalid=!1};c._setColorWrite=function(b){this._colorWrite=this._setSubState(b,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite);this._colorWriteInvalid=!1};c._setStencilWrite=function(b){this._stencilWrite=
this._setSubState(b,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite);this._stencilTestInvalid=!1};c._setSubState=function(b,e,l,m){if(l||b!==e)m(b),this._pipelineInvalid=!0;return b};return n._createClass(a)}();d.StateTracker=f;d.backFaceCullingParams=H;d.cullingParams=a=>a===p.CullFaceOptions.Back?H:a===p.CullFaceOptions.Front?I:null;d.defaultColorWriteParams={r:!0,g:!0,b:!0,a:!0};d.defaultDepthWriteParams={zNear:0,zFar:1};d.frontFaceCullingParams=I;d.makeBlending=
q;d.makeColorWrite=x;d.makeCulling=r;d.makeDepthTest=u;d.makeDepthWrite=w;d.makePipelineState=function(a){return R.intern(a)};d.makePolygonOffset=t;d.makeStencilTest=v;d.makeStencilWrite=y;d.separateBlendingParams=function(a,c,b,e,l=h.BlendOperation.ADD,m=h.BlendOperation.ADD,k=[0,0,0,0]){return{srcRgb:a,srcAlpha:c,dstRgb:b,dstAlpha:e,opRgb:l,opAlpha:m,color:{r:k[0],g:k[1],b:k[2],a:k[3]}}};d.simpleBlendingParams=function(a,c,b=h.BlendOperation.ADD,e=[0,0,0,0]){return{srcRgb:a,srcAlpha:a,dstRgb:c,
dstAlpha:c,opRgb:b,opAlpha:b,color:{r:e[0],g:e[1],b:e[2],a:e[3]}}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});