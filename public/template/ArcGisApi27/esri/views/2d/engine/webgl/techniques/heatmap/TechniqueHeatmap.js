// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../../../chunks/_rollupPluginBabelHelpers ../../../../../../core/screenUtils ../../../../../../renderers/support/heatmapUtils ../Technique ../../../../../webgl/enums".split(" "),function(g,h,q,r,d,f){d=function(k){function e(){return k.apply(this,arguments)||this}h._inherits(e,k);e.getStorageSpec=function({field:b,valueExpression:c}){return{visualVariables:!1,attributes:b||c?[{field:b,valueExpression:c}]:null}};e._createRendererSchema=function(){return{type:"heatmap",radius:-1,
referenceScale:-1,isFieldActive:0,minDensity:-1,densityRange:-1,kernel:null,gradient:null,gradientHash:"invalid"}};e.createOrUpdateRendererSchema=function(b,c){const {radius:t,minDensity:l,maxDensity:u,referenceScale:v,field:w,valueExpression:x,colorStops:m}=c;c=u-l;const y=w||x?1:0,n=m.map(({color:z,ratio:A})=>`${A}:${z.toString()}`).join();let p=!0,a;null!=b&&"heatmap"===b.type?(a=b,p=n!==b.gradientHash):a=this._createRendererSchema();a.radius=q.pt2px(t);a.minDensity=l;a.densityRange=c;a.referenceScale=
v;a.isFieldActive=y;p&&(a.gradient=r.generateGradient(m),a.gradientHash=n);return a};return h._createClass(e)}(d.Technique);d.type="heatmap";d.programSpec={shader:"materials/icon/heatmapAccumulate",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:f.DataType.SHORT},{location:1,name:"a_vertexOffset",count:2,type:f.DataType.SHORT},{location:4,name:"a_id",count:4,type:f.DataType.UNSIGNED_BYTE}]}};g.HeatmapTechnique=d;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});