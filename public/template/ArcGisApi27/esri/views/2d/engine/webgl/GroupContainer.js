// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./WGLContainer","../../../webgl/enums"],function(n,g,m,q){m=function(p){function h(){var b=p.apply(this,arguments)||this;b._prevFBO=void 0;b.requiresDedicatedFBO=!1;return b}g._inherits(h,p);var k=h.prototype;k.dispose=function(){};k.doRender=function(b){const d=this.createRenderParams(b),{context:a,painter:c,profiler:l}=d;this._prevFBO=a.getBoundFramebufferObject();l.recordContainerStart(this.name);const e=this._getFbo(d),r=c.getRenderTarget();
a.bindFramebuffer(e);c.setRenderTarget(e);a.setDepthWriteEnabled(!0);a.setColorMask(!0,!0,!0,!0);a.setClearColor(0,0,0,0);a.setClearDepth(1);a.clear(a.gl.COLOR_BUFFER_BIT|a.gl.DEPTH_BUFFER_BIT);a.setDepthWriteEnabled(!1);for(const f of this.children)f.beforeRender(b);for(const f of this.children)f.processRender(d);for(const f of this.children)f.afterRender(b);c.setRenderTarget(r);c.releaseFbo(e);a.bindFramebuffer(this._prevFBO);c.beforeRenderLayer(d,this._clippingInfos?255:0,this.computedOpacity);
e.colorTexture&&(a.setStencilTestEnabled(!1),a.setStencilWriteMask(0),c.blitTexture(a,e.colorTexture,q.TextureSamplingMode.NEAREST));c.compositeLayer(d,this.computedOpacity);l.recordContainerEnd()};k.createRenderParams=function(b){return{...g._get(g._getPrototypeOf(h.prototype),"createRenderParams",this).call(this,b),blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1}};k._getFbo=function(b){const {context:d,painter:a}=b,{width:c,height:l}=d.getViewport();return a.acquireFbo(c,l)};
return g._createClass(h)}(m);n.GroupContainer=m;Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});