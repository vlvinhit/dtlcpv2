// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./cpuMapped/FreeList"],function(m,n,l){let k=function(){function g(f,a,d,c,b){this.target=f;this.geometryType=a;this.materialKey=d;this.indexFrom=c;this.indexCount=b}g.prototype.extend=function(f){this.indexCount+=f};n._createClass(g,[{key:"indexEnd",get:function(){return this.indexFrom+this.indexCount}}]);return g}(),q=function(){function g(a,d){this.geometryType=0;this._target=a;this.geometryType=d}g.from=function(a,d,c,b){a=new g(a,
d);if(null!=b)for(const e of b)c.seekIndex(e),a.addRecord(c);else for(;c.next();)a.addRecord(c);return a};var f=g.prototype;f.addRecord=function(a){var d=this._target,c=this.geometryType,b=a.materialKey;let e=a.indexFrom,h=a.indexCount;const p=a.vertexFrom;a=a.vertexCount;h||(e=p,h=a);if(null==this._head)b=new k(d,c,b,e,h),this._head=new l.List(b);else{d=null;for(c=this._head;c;){if(e<c.data.indexFrom)return this._insert(b,e,h,d,c);d=c;c=c.next}this._insert(b,e,h,d,null)}};f.forEach=function(a){null!=
this._head&&this._head.forEach(a)};f.infos=function*(){if(null!=this._head)for(const a of this._head.values())yield a};f._insert=function(a,d,c,b,e){if(null==b&&null==e){const h=new k(this._target,this.geometryType,a,d,c);this._head=new l.List(h)}if(null==b&&null!=e)return this._insertAtHead(a,d,c,e);if(null!=b&&null==e)return this._insertAtEnd(a,d,c,b);if(null!=b&&null!=e)return this._insertAtMiddle(a,d,c,b,e)};f._insertAtHead=function(a,d,c,b){a===b.data.materialKey&&d+c===b.data.indexFrom?(b.data.indexFrom=
d,b.data.indexCount+=c):(a=new k(this._target,this.geometryType,a,d,c),this._head=new l.List(a),this._head.next=b)};f._insertAtEnd=function(a,d,c,b){b.data.materialKey===a&&b.data.indexEnd===d?b.data.indexCount+=c:(a=new k(this._target,this.geometryType,a,d,c),a=new l.List(a),b.next=a)};f._insertAtMiddle=function(a,d,c,b,e){b.data.materialKey===a&&b.data.indexEnd===d?(b.data.indexCount+=c,b.data.materialKey===e.data.materialKey&&b.data.indexEnd===e.data.indexFrom&&(b.data.indexCount+=e.data.indexCount,
b.next=e.next)):a===e.data.materialKey&&d+c===e.data.indexFrom?(e.data.indexFrom=d,e.data.indexCount+=c):(a=new k(this._target,this.geometryType,a,d,c),a=new l.List(a),b.next=a,a.next=e)};return n._createClass(g)}();m.FeatureDisplayList=q;m.FeatureDisplayListInfo=k;Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});