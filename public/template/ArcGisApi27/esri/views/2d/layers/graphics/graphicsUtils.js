// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/BidiText ../../../../core/screenUtils ../../../../geometry/Polygon ../../../../geometry/support/aaBoundingRect ../../../../geometry/support/spatialReferenceUtils ../../engine/webgl/alignmentUtils ../../engine/webgl/definitions ../../engine/webgl/mesh/templates/shapingUtils".split(" "),function(e,m,f,n,g,p,h,k,q){e.PIXEL_BUFFER=50;e.TILE_SIZE=512;e.getTextSymbolSize=function(a,b,c){if(!c?.glyphMosaicItems?.length)return a;const d=m.bidiText(b.text)[1];b=q.shapeGlyphs(c.glyphMosaicItems,
d,{scale:f.pt2px(b.font.size)/k.GLYPH_SIZE,angle:b.angle??0,xOffset:b.xoffset??0,yOffset:b.yoffset??0,hAlign:h.getXAnchorDirection(b.horizontalAlignment||"center"),vAlign:h.getYAnchorDirection(b.verticalAlignment||"baseline"),maxLineWidth:Math.max(32,Math.min(b.lineWidth||512,512)),lineHeight:k.MAGIC_LABEL_LINE_HEIGHT*Math.max(.25,Math.min(b.lineHeight||1,4)),decoration:b.font.decoration||"none",isCIM:!1,hasBackground:!!b.backgroundColor,borderLineSize:b.borderLineSize}).bounds;a[0]=f.pt2px(b.x-b.halfWidth);
a[1]=f.pt2px(b.y-b.halfHeight);a[2]=f.pt2px(b.width);a[3]=f.pt2px(b.height);return a};e.graphicGeometryToNumber=function(a){switch(a.geometry.type){case "polyline":return 1;case "polygon":case "extent":return 2}return 0};e.intersectingInternationalDateline=function(a,b){b=p.getInfo(b);if(!b)return null;const [c,d]=b.valid;return a[2]>d?[g.create([a[0],a[1],d,a[3]]),g.create([c,a[1],c+a[2]-d,a[3]])]:a[0]<c?[g.create([c,a[1],a[2],a[3]]),g.create([d-(c-a[0]),a[1],d,a[3]])]:null};e.isMarkerSymbol=function(a){return"simple-marker"===
a||"picture-marker"===a||"esriSMS"===a||"esriPMS"===a};e.isTextSymbol=function(a){return"text"===a||"esriTS"===a};e.polygonFromExtent=function(a){if(!a)return null;const {xmin:b,ymin:c,xmax:d,ymax:l,spatialReference:r}=a;return new n({rings:[[[b,c],[b,l],[d,l],[d,c],[b,c]]],spatialReference:r})};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});