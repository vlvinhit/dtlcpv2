// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Logger ../../../core/promiseUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../engine/BitmapContainer ./LayerView2D ./support/ExportStrategy ../../layers/LayerView ../../layers/RefreshableLayerView".split(" "),function(g,d,l,m,h,b,w,x,n,p,q,r,t,u){b=function(k){function e(){return k.apply(this,
arguments)||this}g._inherits(e,k);var a=e.prototype;a.update=function(f){this._strategy.update(f).catch(c=>{m.isAbortError(c)||l.getLogger(this).error(c)});this.notifyChange("updating")};a.attach=function(){this._bitmapContainer=new p.BitmapContainer;this.container.addChild(this._bitmapContainer);this._strategy=new r({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})};a.detach=function(){this._strategy.destroy();this._strategy=
null;this.container.removeChild(this._bitmapContainer);this._bitmapContainer.removeAllChildren()};a.moveStart=function(){};a.viewChange=function(){};a.moveEnd=function(){this.requestUpdate()};a.fetchBitmapData=function(f,c,v){return this.layer.fetchImageBitmap(f,c,v)};a.doRefresh=async function(){this.requestUpdate()};a.isUpdating=function(){return this._strategy.updating||this.updateRequested};return g._createClass(e)}(u(q.LayerView2DMixin(t)));d.__decorate([h.property()],b.prototype,"_strategy",
void 0);d.__decorate([h.property()],b.prototype,"updating",void 0);return b=d.__decorate([n.subclass("esri.views.2d.layers.BaseDynamicLayerView2D")],b)});