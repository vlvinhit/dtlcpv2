// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../geometry ../../../../../Graphic ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/accessorSupport/decorators/property ../../../../../core/accessorSupport/ensureType ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/decorators/subclass ../../SnappingVisualizer2D ./symbols ../../../../draw/DrawGraphicTool ../../../../draw/DrawOperation ../../../../draw/drawSurfaces ../../../../../geometry/Point ../../../../../geometry/Multipoint".split(" "),
function(c,r,f,A,k,l,m,n,B,C,D,u,v,p,t,w,x,y,z){function q(g,e){return(g.attributes?.displayOrder??-Infinity)-(e.attributes?.displayOrder??-Infinity)}c.DrawGraphicTool2D=function(g){function e(a){var b=g.call(this,a)||this;b._visualElementGraphics={outline:null,regularVertices:null,activeVertex:null};b.activeFillSymbol=null;b.type="draw-2d";b._visualElementSymbols={outline:a.activeLineSymbol??p.outline,regularVertices:a.regularVerticesSymbol??p.regularVertices,activeVertex:a.activeVertexSymbol??p.activeVertex,
fill:a.activeFillSymbol};return b}r._inherits(e,g);var d=e.prototype;d.normalizeCtorArgs=function(a){a={...a};delete a.activeFillSymbol;delete a.activeVertexSymbol;delete a.regularVerticesSymbol;delete a.activeLineSymbol;return a};d.initializeGraphic=function(a){null!=this._visualElementSymbols.fill&&(a.symbol=this._visualElementSymbols.fill);return null};d.makeDrawOperation=function(){const {defaultZ:a,hasZ:b,view:h}=this;return new w.DrawOperation({view:h,manipulators:this.manipulators,geometryType:t.geometryTypeToDrawOperationGeometryType(this.geometryType),
drawingMode:this.mode,hasZ:b,defaultZ:a,snapToSceneEnabled:this.snapToScene,drawSurface:new x.MapDrawSurface(h,b,a),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new v.SnappingVisualizer2D(this.internalGraphicsLayer),tooltipOptions:this.tooltipOptions})};d.onActiveVertexChanged=function(a){if("point"===this.geometryType)return null;const [b,h]=a;a=new y({x:b,y:h,spatialReference:this.view.spatialReference});if(null!=this._visualElementGraphics.activeVertex)return this._visualElementGraphics.activeVertex.geometry=
a,null;this._visualElementGraphics.activeVertex=new k({geometry:a,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}});this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex);this.internalGraphicsLayer.graphics.sort(q);return l.makeHandle(()=>{null!=this._visualElementGraphics.activeVertex&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=m.destroyMaybe(this._visualElementGraphics.activeVertex))})};
d.onOutlineChanged=function(a){a=a.clone();if("polyline"===a.type){const b=a.paths[a.paths.length-1];b.splice(0,b.length-2)}if(null!=this._visualElementGraphics.outline)return this._visualElementGraphics.outline.geometry=a,null;this._visualElementGraphics.outline=new k({geometry:a,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}});this.internalGraphicsLayer.add(this._visualElementGraphics.outline);this.internalGraphicsLayer.graphics.sort(q);return l.makeHandle(()=>{null!=this._visualElementGraphics.outline&&
(this.internalGraphicsLayer.remove(this._visualElementGraphics.outline),this._visualElementGraphics.outline=m.destroyMaybe(this._visualElementGraphics.outline))})};d.onRegularVerticesChanged=function(a){a=new z({points:a,spatialReference:this.view.spatialReference});if(null!=this._visualElementGraphics.regularVertices)return this._visualElementGraphics.regularVertices.geometry=a,null;this._visualElementGraphics.regularVertices=new k({geometry:a,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}});
this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices);this.internalGraphicsLayer.graphics.sort(q);return l.makeHandle(()=>{null!=this._visualElementGraphics.regularVertices&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=m.destroyMaybe(this._visualElementGraphics.regularVertices))})};return r._createClass(e)}(t.DrawGraphicTool);f.__decorate([n.property()],c.DrawGraphicTool2D.prototype,"activeFillSymbol",
void 0);f.__decorate([n.property({readOnly:!0})],c.DrawGraphicTool2D.prototype,"type",void 0);f.__decorate([n.property({constructOnly:!0,nonNullable:!0})],c.DrawGraphicTool2D.prototype,"view",void 0);c.DrawGraphicTool2D=f.__decorate([u.subclass("esri.views.2d.interactive.draw.DrawGraphicTool2D")],c.DrawGraphicTool2D);Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});