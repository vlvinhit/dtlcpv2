// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Error ../../core/HandleOwner ../../core/has ../../core/Logger ../../core/throttle ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./engine/webgl/collisions/CollisionEngine".split(" "),function(b,g,d,p,w,q,r,x,t,h,y,z,u,v){b.LabelManager=function(l){function e(c){var a=l.call(this,c)||this;
a.collisionEngine=new v.CollisionEngine;a.lastUpdateId=-1;a.updateRequested=!1;a.view=null;a._applyVisibilityPass=t.throttle(m=>{const k=a.view;if(k)try{const n=k.featuresTilingScheme.getClosestInfoForScale(m.state.scale).level;a.collisionEngine.run(k.allLayerViews.items,m,n)}catch(n){}},32,g._assertThisInitialized(a));a.addHandles(a._applyVisibilityPass);return a}g._inherits(e,l);var f=e.prototype;f.update=function(c){this._applyVisibilityPass(c)};f.viewChange=function(){this.requestUpdate()};f.requestUpdate=
function(){this.updateRequested||(this.updateRequested=!0,this.view?.requestUpdate())};f.processUpdate=function(c){this.updateRequested&&(this.updateRequested=!1,this.update(c))};g._createClass(e,[{key:"updating",get:function(){r("esri-2d-log-updating")&&console.log(`Updating LabelManager ${this.updateRequested}:\n-> updateRequested: ${this.updateRequested}`);return this.updateRequested}}]);return e}(q.HandleOwnerMixin(p));d.__decorate([h.property()],b.LabelManager.prototype,"updateRequested",void 0);
d.__decorate([h.property()],b.LabelManager.prototype,"updating",null);d.__decorate([h.property()],b.LabelManager.prototype,"view",void 0);b.LabelManager=d.__decorate([u.subclass("esri.views.2d.LabelManager")],b.LabelManager);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});