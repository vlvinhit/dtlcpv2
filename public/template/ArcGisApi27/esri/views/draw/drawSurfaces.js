// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/screenUtils ../../layers/graphics/dehydratedFeatures ../../layers/graphics/hydratedFeatures ../../support/elevationInfoUtils".split(" "),function(f,g,k,l,m,h){let p=function(){function e(a,c,d,n=null){this._elevationInfo=a;this.defaultZ=c;this._view=d;this._excludeGraphics=n}var b=e.prototype;b.screenToMap=function(a){if(null!=this.defaultZ)return this._view.sceneIntersectionHelper.intersectElevationFromScreen(k.createScreenPointArray(a.x,
a.y),this._elevationInfo,this.defaultZ,this._excludeGraphics);a=this._view.sceneIntersectionHelper.intersectElevationFromScreen(k.createScreenPointArray(a.x,a.y),this._elevationInfo,0,this._excludeGraphics);null!=a&&(a.z=void 0);return a};b.mapToScreen=function(a){a=l.makeDehydratedPoint(a.x,a.y,h.getConvertedElevation(this._view,a,this._elevationInfo),a.spatialReference);return this._view.toScreen(a)};b.constrainZ=function(a){const {defaultZ:c}=this;null!=c&&a.z!==c&&(a=m.clonePoint(a),a.z=c);return a};
return g._createClass(e)}(),q=function(){function e(a,c,d=[]){this.view=a;this.elevationInfo=c;this.exclude=d}var b=e.prototype;b.screenToMap=function(a){a=this.view.toMap(a,{exclude:this.exclude});null!=a&&(a.z=h.getZForElevationMode(a,this.view,this.elevationInfo));return a};b.mapToScreen=function(a){let c=a;null!=this.elevationInfo&&(c=l.makeDehydratedPoint(a.x,a.y,h.getConvertedElevation(this.view,a,this.elevationInfo),a.spatialReference));return this.view.toScreen(c)};b.constrainZ=function(a){return a};
return g._createClass(e)}(),r=function(){function e(b,a=!1,c=0){this.view=b;this.hasZ=a;this.defaultZ=c;this.mapToScreen=d=>b.toScreen(d);this.screenToMap=a?d=>{d=b.toMap(d);d.z=c;return d}:d=>b.toMap(d)}e.prototype.constrainZ=function(b){const {defaultZ:a}=this;this.hasZ&&b.z!==a&&(b=m.clonePoint(b),b.z=a);return b};return g._createClass(e)}();f.ElevationDrawSurface=p;f.MapDrawSurface=r;f.SceneDrawSurface=q;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});