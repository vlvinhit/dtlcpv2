// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../shaderModules/interfaces"],function(k,m,l){l=function(e){function b(){var a=e.call(this)||this;a._key="";a._keyDirty=!1;a._parameterBits=a._parameterBits?a._parameterBits.map(()=>0):[];a._parameterNames||(a._parameterNames=[]);return a}m._inherits(b,e);b.prototype.snapshot=function(){const a=this._parameterNames,f={key:this.key};for(const g of a)f[g]=this[g];return f};m._createClass(b,[{key:"key",get:function(){this._keyDirty&&
(this._keyDirty=!1,this._key=String.fromCharCode.apply(String,this._parameterBits));return this._key}}]);return b}(l.NoParameters);k.ShaderTechniqueConfiguration=l;k.parameter=function(e={}){return(b,a)=>{b._parameterNames=b._parameterNames??[];b._parameterNames.push(a);if(null!=e.constValue)Object.defineProperty(b,a,{get(){return e.constValue}});else{const f=b._parameterNames.length-1,g=Math.ceil(Math.log2(e.count||2)),d=b._parameterBits??[0];let c=0;for(;16<d[c]+g;)c++,c>=d.length&&d.push(0);b._parameterBits=
d;const n=d[c],p=(1<<g)-1<<n;d[c]+=g;Object.defineProperty(b,a,{get(){return this[f]},set(h){if(this[f]!==h&&(this[f]=h,this._keyDirty=!0,this._parameterBits[c]=this._parameterBits[c]&~p|+h<<n&p,"number"!==typeof h&&"boolean"!==typeof h))throw Error("Configuration value for "+a+" must be boolean or number, got "+typeof h);}})}}};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});