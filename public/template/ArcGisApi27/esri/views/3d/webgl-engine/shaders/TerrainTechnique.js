// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../ViewingMode ../../../../chunks/Terrain.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/basicInterfaces ../lib/Program ../lib/StencilUtils ../lib/VertexAttribute ../../../webgl/enums ../../../webgl/renderState".split(" "),function(p,k,f,q,r,t,g,u,v,w,l,m,d){g=function(h){function c(){var a=h.apply(this,arguments)||this;a.useStencil=!1;return a}f._inherits(c,h);var e=c.prototype;
e.initializeConfiguration=function(a,b){b.spherical=a.viewingMode===q.ViewingMode.Global};e.initializeProgram=function(a){return new v.Program(a.rctx,c.shader.get().build(this.configuration),n)};e.initializePipeline=function(){this._stencilPipelineState=this._createPipeline(!0);return this._createPipeline(!1)};e._createPipeline=function(a){const b=this.configuration,x=b.backfaceCullingEnabled&&!b.renderOccluded;return d.makePipelineState({blending:b.renderOccluded?d.simpleBlendingParams(m.BlendFactor.ONE,
m.BlendFactor.ONE_MINUS_SRC_ALPHA):null,culling:x?d.backFaceCullingParams:null,depthTest:b.renderOccluded?null:{func:m.CompareFunction.LESS},depthWrite:b.renderOccluded?null:d.defaultDepthWriteParams,colorWrite:d.defaultColorWriteParams,stencilTest:a?w.renderWhenBitIsNotSet(u.StencilBits.IntegratedMeshMaskExcluded):null})};e.getPipelineState=function(a,b){return this.useStencil?this._stencilPipelineState:f._get(f._getPrototypeOf(c.prototype),"getPipelineState",this).call(this,a,b)};return f._createClass(c)}(g.ShaderTechnique);
g.shader=new t.ReloadableShaderModule(r.Terrain,()=>new Promise((h,c)=>p(["../core/shaderLibrary/terrain/Terrain.glsl"],h,c)));const n=new Map([[l.VertexAttribute.POSITION,0],[l.VertexAttribute.UV0,1],[l.VertexAttribute.NORMALCOMPRESSED,2]]);k.TerrainTechnique=g;k.terrainVertexAttributeLocations=n;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});