// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../core/shaderLibrary/ShaderOutput ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/basicInterfaces ../lib/OrderIndependentTransparency ../lib/Program ../lib/StencilUtils ../lib/TransparencyPassType ../lib/VertexAttribute ../materials/DefaultTechniqueConfiguration ../materials/PatternStyle ../../../../chunks/Pattern.glsl ../../../webgl/renderState".split(" "),
function(z,n,k,b,p,a,q,c,x,l,A,v,r,m,B,C,D,t){q=function(h){function e(){return h.apply(this,arguments)||this}k._inherits(e,h);var d=e.prototype;d.initializeProgram=function(f){return new A.Program(f.rctx,e.shader.get().build(this.configuration),y)};d._setPipelineState=function(f,u){const g=this.configuration,w=f===r.TransparencyPassType.NONE,E=f===r.TransparencyPassType.FrontFace;return t.makePipelineState({blending:g.output===p.ShaderOutput.Color||g.output===p.ShaderOutput.Alpha?w?l.blendingDefault:
l.oitBlending(f):null,culling:t.cullingParams(g.cullFace),depthTest:{func:l.oitDepthTest(f)},depthWrite:w?g.writeDepth?t.defaultDepthWriteParams:null:l.oitDepthWrite(f),colorWrite:t.defaultColorWriteParams,stencilWrite:g.hasOccludees?v.stencilWriteMaskOn:null,stencilTest:g.hasOccludees?u?v.stencilToolMaskBaseParams:v.stencilBaseAllZerosParams:null,polygonOffset:w||E?g.polygonOffset?F:null:l.getOITPolygonOffset(g.enableOffset)})};d.initializePipeline=function(){this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,
!0);return this._setPipelineState(this.configuration.transparencyPassType,!1)};d.getPipelineState=function(f,u){return u?this._occludeePipelineState:k._get(k._getPrototypeOf(e.prototype),"getPipelineState",this).call(this,f,u)};return k._createClass(e)}(q.ShaderTechnique);q.shader=new a.ReloadableShaderModule(D.Pattern,()=>new Promise((h,e)=>z(["./Pattern.glsl"],h,e)));const F={factor:1,units:1};a=function(h){function e(){var d=h.apply(this,arguments)||this;d.output=p.ShaderOutput.Color;d.cullFace=
x.CullFaceOptions.None;d.transparencyPassType=r.TransparencyPassType.NONE;d.hasSlicePlane=!1;d.hasVertexColors=!1;d.polygonOffset=!1;d.writeDepth=!0;d.hasOccludees=!1;d.enableOffset=!0;d.hasMultipassTerrain=!1;d.cullAboveGround=!1;d.vvColor=!1;return d}k._inherits(e,h);return k._createClass(e)}(B.DefaultTechniqueConfiguration);b.__decorate([c.parameter({count:p.ShaderOutput.COUNT})],a.prototype,"output",void 0);b.__decorate([c.parameter({count:x.CullFaceOptions.COUNT})],a.prototype,"cullFace",void 0);
b.__decorate([c.parameter({count:C.Style.COUNT})],a.prototype,"style",void 0);b.__decorate([c.parameter({count:r.TransparencyPassType.COUNT})],a.prototype,"transparencyPassType",void 0);b.__decorate([c.parameter()],a.prototype,"hasSlicePlane",void 0);b.__decorate([c.parameter()],a.prototype,"hasVertexColors",void 0);b.__decorate([c.parameter()],a.prototype,"polygonOffset",void 0);b.__decorate([c.parameter()],a.prototype,"writeDepth",void 0);b.__decorate([c.parameter()],a.prototype,"hasOccludees",
void 0);b.__decorate([c.parameter()],a.prototype,"patternSpacing",void 0);b.__decorate([c.parameter()],a.prototype,"lineWidth",void 0);b.__decorate([c.parameter()],a.prototype,"enableOffset",void 0);b.__decorate([c.parameter()],a.prototype,"draped",void 0);b.__decorate([c.parameter()],a.prototype,"hasMultipassTerrain",void 0);b.__decorate([c.parameter()],a.prototype,"cullAboveGround",void 0);b.__decorate([c.parameter()],a.prototype,"vvColor",void 0);b.__decorate([c.parameter({constValue:!1})],a.prototype,
"hasVvInstancing",void 0);b.__decorate([c.parameter({constValue:!1})],a.prototype,"vvSize",void 0);b.__decorate([c.parameter({constValue:!1})],a.prototype,"vvOpacity",void 0);const y=new Map([[m.VertexAttribute.POSITION,0],[m.VertexAttribute.COLOR,3],[m.VertexAttribute.UVMAPSPACE,4],[m.VertexAttribute.COLORFEATUREATTRIBUTE,5],[m.VertexAttribute.BOUNDINGRECT,6]]);n.PatternTechnique=q;n.PatternTechniqueConfiguration=a;n.vertexAttributeLocations=y;Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});