// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../core/shaderLibrary/ShaderOutput ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/DefaultVertexAttributeLocations ../lib/Program ../lib/StencilUtils ../../../../chunks/NativeLine.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),function(q,n,f,p,r,g,t,u,h,v,c,d){g=function(k){function b(){return k.apply(this,arguments)||this}f._inherits(b,k);var l=b.prototype;l.initializeProgram=
function(a){return new u.Program(a.rctx,b.shader.get().build(this.configuration),t.Default3D)};l.initializePipeline=function(){const a=this.configuration,e=d.separateBlendingParams(c.BlendFactor.SRC_ALPHA,c.BlendFactor.ONE,c.BlendFactor.ONE_MINUS_SRC_ALPHA,c.BlendFactor.ONE_MINUS_SRC_ALPHA),m=(w,x=null,y=null)=>d.makePipelineState({blending:x,depthTest:h.depthCompareLess,depthWrite:y,colorWrite:d.defaultColorWriteParams,stencilWrite:a.hasOccludees?h.stencilWriteMaskOn:null,stencilTest:a.hasOccludees?
w?h.stencilToolMaskBaseParams:h.stencilBaseAllZerosParams:null});return a.output===p.ShaderOutput.Color?(this._occludeePipelineState=m(!0,a.transparent||this._stippleEnabled?e:null,d.defaultDepthWriteParams),m(!1,a.transparent||this._stippleEnabled?e:null,d.defaultDepthWriteParams)):m(!1)};l.getPipelineState=function(a,e){return e?this._occludeePipelineState:f._get(f._getPrototypeOf(b.prototype),"getPipelineState",this).call(this,a,e)};f._createClass(b,[{key:"_stippleEnabled",get:function(){return this.configuration.stippleEnabled&&
this.configuration.output!==p.ShaderOutput.Highlight}},{key:"primitiveType",get:function(){return c.PrimitiveType.LINES}}]);return b}(g.ShaderTechnique);g.shader=new r.ReloadableShaderModule(v.NativeLine,()=>new Promise((k,b)=>q(["./NativeLine.glsl"],k,b)));n.NativeLineTechnique=g;Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});