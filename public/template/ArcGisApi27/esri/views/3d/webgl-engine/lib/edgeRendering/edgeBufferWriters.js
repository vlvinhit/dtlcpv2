// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/RandomLCG ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../support/buffer/glUtil ./bufferLayouts".split(" "),function(l,q,z,x,A,y,h){function B(a){const c=r;c[0]=a.position0[0];c[1]=a.position0[1];c[2]=a.position0[2];c[3]=a.position1[0];c[4]=a.position1[1];c[5]=a.position1[2];f[0]=5381;for(a=0;a<m.length;a++)f[0]=31*f[0]+m[a];return f[0]}function C(a){const c=r;c[0]=k(a.position0[0]);c[1]=k(a.position0[1]);
c[2]=k(a.position0[2]);c[3]=k(a.position1[0]);c[4]=k(a.position1[1]);c[5]=k(a.position1[2]);f[0]=5381;for(a=0;a<m.length;a++)f[0]=31*f[0]+m[a];return f[0]}function k(a){return Math.round(1E4*a)/1E4}let u=function(){function a(){}var c=a.prototype;c.updateSettings=function(b){this.settings=b;this._edgeHashFunction=b.reducedPrecision?C:B};c.write=function(b,d,e){var t=this._edgeHashFunction(e);n.seed=t;t=n.getIntRange(0,255);const D=n.getIntRange(0,this.settings.variants-1);var g=n.getFloat();g=-(1-
Math.min(g/.7,1))+Math.max(0,g-.7)/(1-.7);g=255*(Math.abs(g)**1.2*(0>g?-1:1)*.5+.5);b.position0.setVec(d,e.position0);b.position1.setVec(d,e.position1);b.componentIndex.set(d,e.componentIndex);b.variantOffset.set(d,t);b.variantStroke.set(d,D);b.variantExtension.set(d,g)};c.trim=function(b,d){return b.slice(0,d)};return q._createClass(a)}();const r=new Float32Array(6),m=new Uint32Array(r.buffer),f=new Uint32Array(1);let v=function(){function a(){this._commonWriter=new u}var c=a.prototype;c.updateSettings=
function(b){this._commonWriter.updateSettings(b)};c.allocate=function(b){return h.RegularEdgeInstancesLayout.createBuffer(b)};c.write=function(b,d,e){this._commonWriter.write(b,d,e);x.add(p,e.faceNormal0,e.faceNormal1);x.normalize(p,p);b.normal.setVec(d,p)};c.trim=function(b,d){return this._commonWriter.trim(b,d)};return q._createClass(a)}();v.Layout=h.RegularEdgeInstancesLayout;v.glLayout=y.glLayout(h.RegularEdgeInstancesLayout,1);let w=function(){function a(){this._commonWriter=new u}var c=a.prototype;
c.updateSettings=function(b){this._commonWriter.updateSettings(b)};c.allocate=function(b){return h.SilhouetteEdgeInstancesLayout.createBuffer(b)};c.write=function(b,d,e){this._commonWriter.write(b,d,e);b.normalA.setVec(d,e.faceNormal0);b.normalB.setVec(d,e.faceNormal1)};c.trim=function(b,d){return this._commonWriter.trim(b,d)};return q._createClass(a)}();w.Layout=h.SilhouetteEdgeInstancesLayout;w.glLayout=y.glLayout(h.SilhouetteEdgeInstancesLayout,1);const p=A.create(),n=new z;l.CommonBufferWriter=
u;l.RegularEdgeBufferWriter=v;l.SilhouetteEdgeBufferWriter=w;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});