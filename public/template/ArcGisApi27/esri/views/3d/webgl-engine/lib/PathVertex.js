// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/mathUtils ../../../../chunks/mat2 ../../../../chunks/mat2f64 ../../../../chunks/vec2 ../../../../chunks/vec2f64 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ./PathExtruder ./PathGeometry".split(" "),function(v,n,p,D,E,w,y,a,d,F,z){let x=function(){function e(){this.vLeft=d.create();this.vRight=d.create();this.vMinSiblingLength=0;this.frame=new F.Frame2D}e.prototype.setFrameFromUpVector=function(f){a.copy(this.frame.up,
f);a.add(q,this.vLeft,this.vRight);a.normalize(q,q);a.scale(A,this.frame.up,a.dot(q,this.frame.up));a.subtract(t,q,A);a.normalize(t,t);a.cross(this.frame.right,t,this.frame.up)};n._createClass(e,[{key:"foldingAngle",get:function(){return Math.PI-this.rotationAngle}}]);return e}(),G=function(e){function f(){return e.apply(this,arguments)||this}n._inherits(f,e);f.prototype.applyMiterStretch=function(b,g){var c=this.rotationAngle;if(0>=Math.abs(c))return g;c=p.reciprocalClamped(Math.cos(.5*c));return w.set(b,
(1+(c-1))*g[0],g[1])};n._createClass(f,[{key:"rotationFrameUp",get:function(){return this.frame.up}},{key:"rotationRight",get:function(){return y.UNIT_X}},{key:"rotationAngle",get:function(){a.scale(h,this.frame.up,a.dot(this.frame.up,this.vLeft));a.subtract(h,this.vLeft,h);a.negate(h,h);a.normalize(h,h);a.scale(l,this.frame.up,a.dot(this.frame.up,this.vRight));a.subtract(l,this.vRight,l);a.normalize(l,l);a.cross(u,this.rotationFrameUp,this.vLeft);return Math.sign(a.dot(u,this.vRight))*(Math.PI-p.acosClamped(a.dot(h,
l)))}},{key:"maxStretchDistance",get:function(){return Math.abs(this.vMinSiblingLength/Math.cos(.5*this.foldingAngle))}}]);return f}(x),I=function(e){function f(){return e.apply(this,arguments)||this}n._inherits(f,e);f.prototype.applyMiterStretch=function(b,g){var c=this.rotationAngle;if(0===Math.abs(c))return g;c=p.reciprocalClamped(Math.cos(.5*c));const k=this.rotationRight;c=D.set(H,1+(c-1)*k[0]*k[0],(c-1)*k[0]*k[1],(c-1)*k[0]*k[1],1+(c-1)*k[1]*k[1]);return w.transformMat2(b,g,c)};n._createClass(f,
[{key:"rotationFrameUp",get:function(){const b=Math.sign(a.dot(this.frame.right,this.vRight));a.cross(r,this.vRight,this.vLeft);a.scale(r,r,b);return a.normalize(r,r)}},{key:"rotationRight",get:function(){var b=this.rotationFrameUp,g=a.dot(b,this.frame.up);b=a.dot(b,this.frame.right);a.scale(m,this.frame.up,-b);a.scale(B,this.frame.right,g);a.add(m,m,B);a.normalize(m,m);g=this.frame;b=m;w.set(C,a.dot(b,g.right),a.dot(b,g.up));return C}},{key:"rotationAngle",get:function(){const b=Math.sign(a.dot(this.frame.right,
this.vRight));a.negate(u,this.vLeft);return-b*(Math.PI-p.acosClamped(a.dot(u,this.vRight)))}},{key:"maxStretchDistance",get:function(){return Math.abs(this.vMinSiblingLength*p.reciprocalClamped(Math.cos(.5*this.foldingAngle)))}}]);return f}(x);const r=d.create(),C=y.create(),m=d.create(),B=d.create(),u=d.create(),h=d.create(),l=d.create(),A=d.create(),q=d.create(),t=d.create(),H=E.create();v.PathVertex=x;v.newPathVertex=function(e){switch(e){case z.UpVectorAlignment.World:return new G;case z.UpVectorAlignment.Path:return new I}};
Object.defineProperty(v,Symbol.toStringTag,{value:"Module"})});