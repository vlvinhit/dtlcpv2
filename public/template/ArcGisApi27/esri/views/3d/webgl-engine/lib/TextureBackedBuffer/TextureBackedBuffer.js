// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../geometry/support/buffer/BufferView ../../../../webgl/enums ../../../../webgl/Texture ../../../../webgl/TextureDescriptor".split(" "),function(g,l,h,k,m,n){let r=function(){function e(a,b=1){this._rctx=a;this._fieldCount=b;this.textureWidth=4096;this._dirty=!0;a=new n.TextureDescriptor;a.samplingMode=k.TextureSamplingMode.NEAREST;a.wrapMode=k.TextureWrapMode.CLAMP_TO_EDGE;a.width=this.textureWidth;a.height=1;this._texture=
new m.Texture(this._rctx,a);this._data=new h.BufferViewVec4u8(new ArrayBuffer(4*this.textureWidth))}var c=e.prototype;c.dispose=function(){this._texture.dispose();this._data=this._texture=void 0};c.setData=function(a,b,d,f,p,q){a=a*this._fieldCount+b;this._dirty=!0;this._data.set(a,0,d);this._data.set(a,1,f);this._data.set(a,2,p);this._data.set(a,3,q)};c.setDataElement=function(a,b,d,f){a=a*this._fieldCount+b;this._dirty=!0;this._data.set(a,d,f)};c.getDataElement=function(a,b,d){a=a*this._fieldCount+
b;this._dirty=!0;return this._data.get(a,d)};c.resizeToFit=function(a){a=(a+1)*this._fieldCount;a>this._data.count&&(a=new h.BufferViewVec4u8(new ArrayBuffer(Math.ceil(a/this.textureWidth)*this.textureWidth*4)),a.typedBuffer.set(this._data.typedBuffer),this._data=a)};c.updateTexture=function(){if(this._dirty){var a=this._texture.descriptor.width;this._data.count>a*this._texture.descriptor.height&&this._texture.resize(a,this._data.count/a);this._texture.setData(this._data.typedBuffer);this._dirty=
!1}};l._createClass(e,[{key:"texture",get:function(){return this._texture}}]);return e}();g.TextureBackedBuffer=r;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});