// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/mathUtils ../../../../chunks/vec3 ../../../../chunks/vec3f64 ./Lightsources ./SphericalHarmonics".split(" "),function(k,l,f,d,g,p,r){let q=l._createClass(function(){this.color=g.create();this.intensity=1}),t=l._createClass(function(){this.direction=g.create();this.ambient=new q;this.diffuse=new q}),u=function(){function m(){this._shOrder=2;this._legacy=new t;this.noonFactor=this.globalFactor=.5;this._sphericalHarmonics=
new p.SphericalHarmonicsAmbientLight;this._mainLight=new p.MainLight(g.create(),g.fromValues(1,0,0),!1)}var n=m.prototype;n.set=function(a){r.combineLights(a,this._shOrder,this._mainLight,this._sphericalHarmonics);d.copy(this._legacy.direction,this._mainLight.direction);a=1/Math.PI;this._legacy.ambient.color[0]=.282095*this._sphericalHarmonics.r[0]*a;this._legacy.ambient.color[1]=.282095*this._sphericalHarmonics.g[0]*a;this._legacy.ambient.color[2]=.282095*this._sphericalHarmonics.b[0]*a;d.scale(this._legacy.diffuse.color,
this._mainLight.intensity,a);d.copy(h,this._legacy.diffuse.color);d.scale(h,h,.4*this.globalFactor);d.add(this._legacy.ambient.color,this._legacy.ambient.color,h)};n.copyFrom=function(a){this._sphericalHarmonics.r=Array.from(a.sh.r);this._sphericalHarmonics.g=Array.from(a.sh.g);this._sphericalHarmonics.b=Array.from(a.sh.b);d.copy(this._mainLight.direction,a.mainLight.direction);d.copy(this._mainLight.intensity,a.mainLight.intensity);this._mainLight.castShadows=a.mainLight.castShadows;this._mainLight.specularStrength=
a.mainLight.specularStrength;this._mainLight.environmentStrength=a.mainLight.environmentStrength;this.globalFactor=a.globalFactor;this.noonFactor=a.noonFactor};n.lerpLighting=function(a,b,e){d.lerp(this._mainLight.intensity,a.mainLight.intensity,b.mainLight.intensity,e);this._mainLight.environmentStrength=f.lerp(a.mainLight.environmentStrength,b.mainLight.environmentStrength,e);this._mainLight.specularStrength=f.lerp(a.mainLight.specularStrength,b.mainLight.specularStrength,e);d.copy(this._mainLight.direction,
b.mainLight.direction);this._mainLight.castShadows=b.mainLight.castShadows;this.globalFactor=f.lerp(a.globalFactor,b.globalFactor,e);this.noonFactor=f.lerp(a.noonFactor,b.noonFactor,e);if(a.sh.r.length===b.sh.r.length)for(let c=0;c<b.sh.r.length;c++)this._sphericalHarmonics.r[c]=f.lerp(a.sh.r[c],b.sh.r[c],e),this._sphericalHarmonics.g[c]=f.lerp(a.sh.g[c],b.sh.g[c],e),this._sphericalHarmonics.b[c]=f.lerp(a.sh.b[c],b.sh.b[c],e);else for(a=0;a<b.sh.r.length;a++)this._sphericalHarmonics.r[a]=b.sh.r[a],
this._sphericalHarmonics.g[a]=b.sh.g[a],this._sphericalHarmonics.b[a]=b.sh.b[a]};l._createClass(m,[{key:"legacy",get:function(){return this._legacy}},{key:"sh",get:function(){return this._sphericalHarmonics}},{key:"mainLight",get:function(){return this._mainLight}}]);return m}();const h=g.create();k.SceneLighting=u;k.ambientBoost=.4;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});