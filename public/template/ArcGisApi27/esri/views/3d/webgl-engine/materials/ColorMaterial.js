// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../chunks/vec4f64 ../../support/buffer/InterleavedLayout ../core/shaderLibrary/ShaderOutput ../lib/basicInterfaces ../lib/GLMaterial ../lib/OrderIndependentTransparency ../lib/RenderSlot ../lib/VertexAttribute ./DefaultBufferWriter ./TriangleMaterial ./VisualVariablePassParameters ../shaders/ColorMaterialTechnique ../shaders/ColorMaterialTechniqueConfiguration".split(" "),function(l,g,p,q,r,e,t,u,v,h,k,w,m,
x,y,z){m=function(f){function d(a){a=f.call(this,a,new n)||this;a.supportsEdges=!0;a._configuration=new z.ColorMaterialTechniqueConfiguration;return a}g._inherits(d,f);var b=d.prototype;b.getConfiguration=function(a,c){this._configuration.output=a;this._configuration.cullFace=this.parameters.cullFace;this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor;this._configuration.hasSlicePlane=this.parameters.hasSlicePlane;this._configuration.transparent=this.parameters.transparent;
this._configuration.polygonOffset=this.parameters.polygonOffset;this._configuration.writeDepth=this.parameters.writeDepth;this._configuration.hasOccludees=this.parameters.hasOccludees;this._configuration.transparencyPassType=c.transparencyPassType;this._configuration.enableOffset=c.camera.relativeElevation<v.OITPolygonOffsetLimit;this._configuration.hasMultipassTerrain=c.multipassTerrain.enabled;this._configuration.cullAboveGround=c.multipassTerrain.cullAboveGround;this._configuration.vvColor=!!this.parameters.vvColor;
return this._configuration};b.requiresSlot=function(a,c){return c===e.ShaderOutput.Color||c===e.ShaderOutput.Alpha||c===e.ShaderOutput.Highlight||c===e.ShaderOutput.Depth&&this.parameters.writeLinearDepth||c===e.ShaderOutput.ObjectAndLayerIdColor?a===h.RenderSlot.DRAPED_MATERIAL?!0:c===e.ShaderOutput.Highlight?a===h.RenderSlot.OPAQUE_MATERIAL:a===(this.parameters.transparent?this.parameters.writeDepth?h.RenderSlot.TRANSPARENT_MATERIAL:h.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:h.RenderSlot.OPAQUE_MATERIAL):
!1};b.createGLMaterial=function(a){return new A(a)};b.createBufferWriter=function(){const a=r.newLayout().vec3f(k.VertexAttribute.POSITION);p("enable-feature:objectAndLayerId-rendering")&&a.vec4u8(k.VertexAttribute.OBJECTANDLAYERIDCOLOR);this.parameters.vvColor?a.f32(k.VertexAttribute.COLORFEATUREATTRIBUTE):a.vec4u8(k.VertexAttribute.COLOR);return new w.DefaultBufferWriter(a)};return g._createClass(d)}(m.TriangleMaterial);let A=function(f){function d(){return f.apply(this,arguments)||this}g._inherits(d,
f);var b=d.prototype;b._updateOccludeeState=function(a){a.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:a.hasOccludees})};b.beginSlot=function(a){this._output!==e.ShaderOutput.Color&&this._output!==e.ShaderOutput.Alpha||this._updateOccludeeState(a);return this.ensureTechnique(y.ColorMaterialTechnique,a)};return g._createClass(d)}(u),n=function(f){function d(){var b=f.apply(this,arguments)||this;b.color=q.ZEROS;b.transparent=!1;b.writeDepth=!0;b.writeLinearDepth=
!1;b.hasVertexColors=!1;b.polygonOffset=!1;b.hasSlicePlane=!1;b.cullFace=t.CullFaceOptions.None;b.hasOccludees=!1;return b}g._inherits(d,f);return g._createClass(d)}(x.VisualVariablePassParameters);l.ColorMaterial=m;l.Parameters=n;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});