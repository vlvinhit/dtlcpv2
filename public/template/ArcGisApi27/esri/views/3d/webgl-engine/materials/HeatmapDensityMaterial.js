// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/vec2 ../../../../chunks/vec2f64 ../../support/buffer/InterleavedLayout ../core/shaderLibrary/ShaderOutput ../lib/GLMaterial ../lib/Material ../lib/RenderSlot ../lib/VertexAttribute ./internal/bufferWriterUtils ../shaders/HeatmapDensityTechnique".split(" "),function(p,k,u,y,z,A,B,q,C,f,v,r){let w=function(g){function d(){var b=g.apply(this,arguments)||this;b.isAttributeDriven=!1;b.usesHalfFloats=!1;return b}k._inherits(d,
g);return k._createClass(d)}(r.HeatmapDensityPassParameters);q=function(g){function d(a){a=g.call(this,a,new w)||this;a._configuration=new r.HeatmapDensityTechniqueConfiguration;return a}k._inherits(d,g);var b=d.prototype;b.requiresSlot=function(a,c){return a===C.RenderSlot.DRAPED_MATERIAL&&c===A.ShaderOutput.Color};b.getConfiguration=function(){this._configuration.isAttributeDriven=this.parameters.isAttributeDriven;this._configuration.usesHalfFloat=this.parameters.usesHalfFloats;return this._configuration};
b.createGLMaterial=function(a){return new D(a)};b.intersect=function(){};b.intersectDraped=function(a,c,e,l,h,m){c=a.vertexAttributes.get(f.VertexAttribute.POSITION);({parameters:e}=this);({searchRadius:e}=e);({screenToWorldRatio:a}=a);a=e*a+2*a;a*=a;e=c.data.length/c.size;for(let t=0;t<e;t++){var n=t*c.size;n=u.set(E,c.data[n],c.data[n+1]);u.squaredDistance(n,l)<a&&h(m.dist,m.normal,-1,!1)}};b.createBufferWriter=function(){return new F(this.parameters.isAttributeDriven?G:x)};return k._createClass(d)}(q.Material);
let D=function(g){function d(){return g.apply(this,arguments)||this}k._inherits(d,g);d.prototype.beginSlot=function(b){return this.ensureTechnique(r.HeatmapDensityTechnique,b)};return k._createClass(d)}(B),F=function(){function g(b){this.vertexBufferLayout=b}var d=g.prototype;d.elementCount=function(b){return 6*b.indices.get(f.VertexAttribute.POSITION).length};d.write=function(b,a,c,e,l){v.writePosition(c.indices.get(f.VertexAttribute.POSITION),c.vertexAttributes.get(f.VertexAttribute.POSITION).data,
b,e.position,l,6);b=c.indices.get(f.VertexAttribute.POSITION).length;a=e.uv0;let h=l;for(let m=0;m<b;++m)a.setValues(h++,-1,-1),a.setValues(h++,1,-1),a.setValues(h++,1,1),a.setValues(h++,1,1),a.setValues(h++,-1,1),a.setValues(h++,-1,-1);(e=f.VertexAttribute.FEATUREATTRIBUTE in e?e.featureAttribute:null)&&v.writeBufferFloat(c.indices.get(f.VertexAttribute.FEATUREATTRIBUTE),c.vertexAttributes.get(f.VertexAttribute.FEATUREATTRIBUTE).data,e,l,6)};return k._createClass(g)}();const x=z.newLayout().vec3f(f.VertexAttribute.POSITION).vec2f(f.VertexAttribute.UV0),
G=x.clone().f32(f.VertexAttribute.FEATUREATTRIBUTE),E=y.create();p.HeatmapDensityMaterial=q;p.HeatmapDensityMaterialParameters=w;Object.defineProperty(p,Symbol.toStringTag,{value:"Module"})});