// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/vec2f32 ../../../../chunks/vec2f64 ../../support/buffer/InterleavedLayout ../core/shaderLibrary/ShaderOutput ../core/shaderLibrary/hud/HUD.glsl ../lib/GLMaterial ../lib/Material ../lib/RenderSlot ../lib/VertexAttribute ./internal/bufferWriterUtils ../shaders/LineCalloutTechnique ../shaders/LineCalloutTechniqueConfiguration".split(" "),function(m,g,h,v,w,x,q,y,r,n,d,p,z,A){let D=function(e){function c(b){b=e.call(this,
b,new t)||this;b._configuration=new A.LineCalloutTechniqueConfiguration;b._uniqueMaterialIdentifier=c.uniqueMaterialIdentifier(b.parameters);return b}g._inherits(c,e);var a=c.prototype;a.getPassParameters=function(){return this.parameters};a.getConfiguration=function(b,f){b=f?.slot!==n.RenderSlot.LINE_CALLOUTS;this._configuration.occlusionTestEnabled=this.parameters.occlusionTest;this._configuration.hasVerticalOffset=null!=this.parameters.verticalOffset;this._configuration.hasScreenSizePerspective=
null!=this.parameters.screenSizePerspective;this._configuration.depthHudEnabled=b;this._configuration.depthHudAlignStartEnabled=!!this.parameters.depthHUDAlignStart;this._configuration.screenCenterOffsetUnitsEnabled="screen"===this.parameters.centerOffsetUnits?q.HUDSpace.Screen:q.HUDSpace.World;this._configuration.hasSlicePlane=this.parameters.hasSlicePlane;this._configuration.hasMultipassGeometry=f.multipassGeometry.enabled;return this._configuration};a.intersect=function(){};a.requiresSlot=function(b,
f){if(f===x.ShaderOutput.Color)switch(b){case n.RenderSlot.LINE_CALLOUTS:case n.RenderSlot.LINE_CALLOUTS_HUD_DEPTH:return!0}return!1};a.createGLMaterial=function(b){return new B(b)};a.createBufferWriter=function(){return new C};a.validateParameters=function(b){b=c.uniqueMaterialIdentifier(b);b!==this._uniqueMaterialIdentifier&&(this._uniqueMaterialIdentifier=b)};c.uniqueMaterialIdentifier=function(b){return JSON.stringify({screenOffset:b.screenOffset||[0,0],centerOffsetUnits:b.centerOffsetUnits||
"world"})};g._createClass(c,[{key:"uniqueMaterialIdentifier",get:function(){return this._uniqueMaterialIdentifier}}]);return c}(r.Material),B=function(e){function c(){return e.apply(this,arguments)||this}g._inherits(c,e);c.prototype.beginSlot=function(a){return this.ensureTechnique(z.LineCalloutTechnique,a)};return g._createClass(c)}(y),t=function(e){function c(){var a=e.apply(this,arguments)||this;a.screenOffset=v.ZEROS;a.color=[0,0,0,1];a.size=1;a.occlusionTest=!1;a.shaderPolygonOffset=1E-5;a.depthHUDAlignStart=
!1;a.centerOffsetUnits="world";a.hasSlicePlane=!1;return a}g._inherits(c,e);return g._createClass(c)}(r.MaterialParameters);const E=w.newLayout().vec3f(d.VertexAttribute.POSITION).vec3f(d.VertexAttribute.NORMAL).vec2f(d.VertexAttribute.UV0).vec4f(d.VertexAttribute.AUXPOS1),u=[h.fromValues(0,0),h.fromValues(1,0),h.fromValues(0,1),h.fromValues(1,0),h.fromValues(1,1),h.fromValues(0,1)];let C=function(){function e(){this.vertexBufferLayout=E}var c=e.prototype;c.elementCount=function(a){return 6*a.indices.get(d.VertexAttribute.POSITION).length};
c.write=function(a,b,f,k,l){p.writePosition(f.indices.get(d.VertexAttribute.POSITION),f.vertexAttributes.get(d.VertexAttribute.POSITION).data,a,k.position,l,6);p.writeNormal(f.indices.get(d.VertexAttribute.NORMAL),f.vertexAttributes.get(d.VertexAttribute.NORMAL).data,b,k.normal,l,6);p.writeBufferVec4(f.indices.get(d.VertexAttribute.AUXPOS1),f.vertexAttributes.get(d.VertexAttribute.AUXPOS1).data,k.auxpos1,l,6);for(a=0;a<u.length;++a)k.uv0.setVec(l+a,u[a])};return g._createClass(e)}();m.LineCalloutMaterial=
D;m.Parameters=t;Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});