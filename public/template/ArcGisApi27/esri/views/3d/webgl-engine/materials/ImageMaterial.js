// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../core/shaderLibrary/ShaderOutput ../lib/basicInterfaces ../lib/GLTextureMaterial ../lib/Material ../lib/OrderIndependentTransparency ../lib/RenderSlot ./DefaultBufferWriter ./DefaultLayouts ./TriangleMaterial ../shaders/ImageMaterialTechnique".split(" "),function(k,f,g,p,q,r,t,h,u,v,l,m){l=function(e){function c(a){a=e.call(this,a,new n)||this;a.supportsEdges=!0;a._configuration=new m.ImageMaterialTechniqueConfiguration;return a}f._inherits(c,
e);var b=c.prototype;b.getConfiguration=function(a,d){this._configuration.output=a;this._configuration.cullFace=this.parameters.cullFace;this._configuration.hasSlicePlane=this.parameters.hasSlicePlane;this._configuration.transparent=this.parameters.transparent;this._configuration.writeDepth=this.parameters.writeDepth;this._configuration.hasOccludees=this.parameters.hasOccludees;this._configuration.transparencyPassType=d.transparencyPassType;this._configuration.enableOffset=d.camera.relativeElevation<
t.OITPolygonOffsetLimit;this._configuration.hasMultipassTerrain=d.multipassTerrain.enabled;this._configuration.cullAboveGround=d.multipassTerrain.cullAboveGround;return this._configuration};b.requiresSlot=function(a,d){return d===g.ShaderOutput.Color||d===g.ShaderOutput.Alpha||d===g.ShaderOutput.Highlight?a===h.RenderSlot.DRAPED_MATERIAL?!0:d===g.ShaderOutput.Highlight?a===h.RenderSlot.OPAQUE_MATERIAL:a===(this.parameters.transparent?this.parameters.writeDepth?h.RenderSlot.TRANSPARENT_MATERIAL:h.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:
h.RenderSlot.OPAQUE_MATERIAL):!1};b.createGLMaterial=function(a){return new w(a)};b.createBufferWriter=function(){return new u.DefaultBufferWriter(v.PositionUVLayout)};return f._createClass(c)}(l.TriangleMaterial);let w=function(e){function c(a){return e.call(this,{...a,...a.material.parameters})||this}f._inherits(c,e);var b=c.prototype;b._updateParameters=function(a){this.updateTexture(this._material.parameters.textureId);this._material.setParameters(this.textureBindParameters);return this.ensureTechnique(m.ImageMaterialTechnique,
a)};b._updateOccludeeState=function(a){a.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:a.hasOccludees}),this._updateParameters(a))};b.beginSlot=function(a){this._output!==g.ShaderOutput.Color&&this._output!==g.ShaderOutput.Alpha||this._updateOccludeeState(a);return this._updateParameters(a)};return f._createClass(c)}(q.GLTextureMaterial),n=function(e){function c(){var b=e.apply(this,arguments)||this;b.transparent=!1;b.writeDepth=!0;b.hasSlicePlane=
!1;b.cullFace=p.CullFaceOptions.None;b.hasOccludees=!1;b.opacity=1;b.textureId=null;b.initTextureTransparent=!0;return b}f._inherits(c,e);return f._createClass(c)}(r.MaterialParameters);k.ImageMaterial=l;k.Parameters=n;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});