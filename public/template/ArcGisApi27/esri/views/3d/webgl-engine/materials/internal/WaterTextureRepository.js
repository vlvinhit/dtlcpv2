// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../assets ../../../../../core/Accessor ../../../../../core/Logger ../../../../../core/maybe ../../../../../core/accessorSupport/decorators/property ../../../../../core/accessorSupport/ensureType ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/decorators/subclass ../../../../../support/requestImageUtils ../../core/shaderModules/interfaces ../../lib/basicInterfaces ../../../../webgl/enums ../../../../webgl/Texture ../../../../webgl/TextureDescriptor".split(" "),
function(b,g,h,l,v,m,n,p,A,B,C,w,q,x,k,y,r,z){b.WaterTextureRepository=function(e){function c(){var d=e.apply(this,arguments)||this;d._passParameters=new t;d._loading=0;return d}g._inherits(c,e);var u=c.prototype;u.destroy=function(){this._passParameters.waveNormal=n.disposeMaybe(this._passParameters.waveNormal);this._passParameters.wavePertubation=n.disposeMaybe(this._passParameters.wavePertubation)};u.ensureResources=function(d){if(0<this._loading)return k.ResourceState.LOADING;if(null!=this._passParameters.waveNormal&&
null!=this._passParameters.wavePertubation)return k.ResourceState.LOADED;const f=new z.TextureDescriptor;f.samplingMode=y.TextureSamplingMode.LINEAR_MIPMAP_LINEAR;f.hasMipmap=!0;f.maxAnisotropy=8;++this._loading;q.requestImage(l.getAssetUrl("esri/images/materials/water/normals.jpg")).then(a=>this._passParameters.waveNormal=new r.Texture(d,{...f,width:a.width,height:a.height},a)).catch(a=>m.getLogger(this).error("Failed to load water material normal texture.",a)).finally(()=>--this._loading);++this._loading;
q.requestImage(l.getAssetUrl("esri/images/materials/water/perturbation.jpg")).then(a=>this._passParameters.wavePertubation=new r.Texture(d,{...f,width:a.width,height:a.height},a)).catch(a=>m.getLogger(this).error("Failed to load water material pertubation texture.",a)).finally(()=>--this._loading);return k.ResourceState.LOADING};g._createClass(c,[{key:"passParameters",get:function(){return this._passParameters}},{key:"updating",get:function(){return 0<this._loading}}]);return c}(v);h.__decorate([p.property()],
b.WaterTextureRepository.prototype,"_loading",void 0);h.__decorate([p.property({type:Boolean,readOnly:!0})],b.WaterTextureRepository.prototype,"updating",null);b.WaterTextureRepository=h.__decorate([w.subclass("esri.views.3d.webgl-engine.materials.internal.WaterTextureRepository")],b.WaterTextureRepository);let t=function(e){function c(){return e.apply(this,arguments)||this}g._inherits(c,e);return g._createClass(c)}(x.NoParameters);b.WaterTexturePassParameters=t;Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})});