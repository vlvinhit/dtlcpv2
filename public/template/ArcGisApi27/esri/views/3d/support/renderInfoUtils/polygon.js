// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../geometry/projection ../../../../geometry/support/DoubleArray ../../../../geometry/support/triangulationUtils ../../layers/graphics/elevationAlignmentUtils ../../terrain/OverlayRenderer".split(" "),function(l,h,y,k,m,z,A){function q(b,c,a=null){return b.filter(({count:f})=>1<f).map(({index:f,count:d})=>{const e=3*f,g=3*d;return null!=a?new r(f,d,k.doubleSubArray(c,e,g),k.doubleSubArray(a,e,g)):new p(f,d,k.doubleSubArray(c,e,g))})}
function t(b,c,a=null){const f=[];for(const {index:d,count:e,holeIndices:g,pathLengths:n}of b){if(1>=e)continue;b=3*d;const B=3*e,u=g.map(C=>C-d);b=null!=a?new v(d,e,k.doubleSubArray(c,3*d,3*e),k.doubleSubArray(a,b,B),u,n):new w(d,e,k.doubleSubArray(c,3*d,3*e),u,n);f.push(b)}return f}let p=h._createClass(function(b,c,a){this.index=b;this.count=c;this.position=a}),r=function(b){function c(a,f,d,e){a=b.call(this,a,f,d)||this;a.mapPositions=e;return a}h._inherits(c,b);return h._createClass(c)}(p),v=
function(b){function c(a,f,d,e,g,n){a=b.call(this,a,f,d,e)||this;a.holeIndices=g;a.pathLengths=n;return a}h._inherits(c,b);return h._createClass(c)}(r),w=function(b){function c(a,f,d,e,g){a=b.call(this,a,f,d)||this;a.holeIndices=e;a.pathLengths=g;return a}h._inherits(c,b);return h._createClass(c)}(p),x=h._createClass(function(b,c,a,f,d,e){this.position=b;this.mapPositions=c;this.polygons=a;this.outlines=f;this.projectionSuccess=d;this.sampledElevation=e});l.PolygonRenderInfo=x;l.PolygonVertexData=
v;l.PolygonVertexDataDraped=w;l.geometryToRenderInfo=function(b,c,a,f){const d=m.pathsToTriangulationInfo(b.rings,!!b.hasZ,m.CounterClockwiseMode.CCW_IS_HOLE),e=k.newDoubleArray(d.position.length);b=z.applyPerVertexElevationAlignment(d.position,b.spatialReference,0,e,0,d.position,0,d.position.length/3,c,a,f);c=null!=b;return new x(d.position,e,t(d.polygons,d.position,e),q(d.outlines,d.position,e),c,b)};l.geometryToRenderInfoDraped=function(b,c){const a=m.pathsToTriangulationInfo(b.rings,!1,m.CounterClockwiseMode.CCW_IS_HOLE);
b=y.projectBuffer(a.position,b.spatialReference,0,a.position,c,0,a.position.length/3);for(c=2;c<a.position.length;c+=3)a.position[c]=A.DRAPED_Z;return{position:a.position,polygons:t(a.polygons,a.position),outlines:q(a.outlines,a.position),projectionSuccess:b}};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});