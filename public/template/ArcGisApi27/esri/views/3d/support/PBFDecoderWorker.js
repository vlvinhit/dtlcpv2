// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
require({cache:{"esri/rest/query/operations/pbfDehydratedFeatureSet":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/compilerUtils ../../../core/uid ../../../geometry/SpatialReference ../../../geometry/support/zscale ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/featureConversionUtils ../../../layers/support/Field".split(" "),function(e,C,v,D,t,G,N,L,w){function x(B,y){return y}function H(B,y,r,u){switch(r){case 0:return b(B,y+u,0);case 1:return"lowerLeft"===
B.originPosition?b(B,y+u,1):c(B,y+u,1)}}function E(B,y,r,u){switch(r){case 2:return b(B,y,2);default:return H(B,y,r,u)}}function M(B,y,r,u){switch(r){case 2:return b(B,y,3);default:return H(B,y,r,u)}}function S(B,y,r,u){switch(r){case 3:return b(B,y,3);default:return E(B,y,r,u)}}function b({translate:B,scale:y},r,u){return B[u]+r*y[u]}function c({translate:B,scale:y},r,u){return B[u]-r*y[u]}let m=function(){function B(r){this._options=r;this.geometryTypes=["point","multipoint","polyline","polygon"];
this._previousCoordinate=[0,0];this._transform=null;this._applyTransform=x;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;this._attributesConstructor=function(){return C._createClass(function(){})}()}var y=B.prototype;y.createFeatureResult=function(){return new N.DehydratedFeatureSetClass};y.finishFeatureResult=function(r){this._options.applyTransform&&(r.transform=null);this._attributesConstructor=
function(){return C._createClass(function(){})}();this._coordinateBuffer=null;this._lengths.length=0;if(r.hasZ){var u=G.getGeometryZScaler(r.geometryType,this._options.sourceSpatialReference,r.spatialReference);if(null!=u)for(const I of r.features)u(I.geometry)}};y.createSpatialReference=function(){return new t};y.addField=function(r,u){r.fields.push(w.fromJSON(u));const I=r.fields.map(T=>T.name);this._attributesConstructor=function(){for(const T of I)this[T]=null}};y.addFeature=function(r,u){const I=
this._options.maxStringAttributeLength??0;if(0<I)for(const T in u.attributes){const g=u.attributes[T];"string"===typeof g&&g.length>I&&(u.attributes[T]="")}r.features.push(u)};y.addQueryGeometry=function(r,u){const {queryGeometry:I,queryGeometryType:T}=u;u=L.unquantizeOptimizedGeometry(I.clone(),I,!1,!1,this._transform);u=L.convertToGeometry(u,T,!1,!1);let g=null;switch(T){case "esriGeometryPoint":g="point";break;case "esriGeometryPolygon":g="polygon";break;case "esriGeometryPolyline":g="polyline";
break;case "esriGeometryMultipoint":g="multipoint"}u.type=g;r.queryGeometryType=T;r.queryGeometry=u};y.prepareFeatures=function(r){this._transform=r.transform??null;this._options.applyTransform&&r.transform&&(this._applyTransform=this._deriveApplyTransform(r));this._vertexDimension=2;r.hasZ&&this._vertexDimension++;r.hasM&&this._vertexDimension++;switch(r.geometryType){case "point":this.addCoordinate=(u,I,T)=>this.addCoordinatePoint(u,I,T);this.createGeometry=u=>this.createPointGeometry(u);break;
case "polygon":this.addCoordinate=(u,I,T)=>this._addCoordinatePolygon(u,I,T);this.createGeometry=u=>this._createPolygonGeometry(u);break;case "polyline":this.addCoordinate=(u,I,T)=>this._addCoordinatePolyline(u,I,T);this.createGeometry=u=>this._createPolylineGeometry(u);break;case "multipoint":this.addCoordinate=(u,I,T)=>this._addCoordinateMultipoint(u,I,T);this.createGeometry=u=>this._createMultipointGeometry(u);break;case "mesh":case "extent":break;default:v.neverReached(r.geometryType)}};y.createFeature=
function(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;return new N.DehydratedFeatureClass(D.generateUID(),null,new this._attributesConstructor)};y.allocateCoordinates=function(){const r=this._lengths.reduce((u,I)=>u+I,0);this._coordinateBuffer=new Float64Array(r*this._vertexDimension);this._coordinateBufferPtr=0};y.addLength=function(r,u){0===this._lengths.length&&(this._toAddInCurrentPath=u);this._lengths.push(u)};y.createPointGeometry=
function(r){r={type:"point",x:0,y:0,spatialReference:r.spatialReference,hasZ:!!r.hasZ,hasM:!!r.hasM};r.hasZ&&(r.z=0);r.hasM&&(r.m=0);return r};y.addCoordinatePoint=function(r,u,I){u=this._transform?this._applyTransform(this._transform,u,I,0):u;if(null!=u)switch(I){case 0:r.x=u;break;case 1:r.y=u;break;case 2:r.hasZ?r.z=u:r.m=u;break;case 3:r.m=u}};y._transformPathLikeValue=function(r,u){let I=0;1>=u&&(I=this._previousCoordinate[u],this._previousCoordinate[u]+=r);return this._transform?this._applyTransform(this._transform,
r,u,I):r};y._addCoordinatePolyline=function(r,u,I){this._dehydratedAddPointsCoordinate(r.paths,u,I)};y._addCoordinatePolygon=function(r,u,I){this._dehydratedAddPointsCoordinate(r.rings,u,I)};y._addCoordinateMultipoint=function(r,u,I){0===I&&r.points.push([]);u=this._transformPathLikeValue(u,I);r.points[r.points.length-1].push(u)};y._createPolygonGeometry=function(r){return{type:"polygon",rings:[[]],spatialReference:r.spatialReference,hasZ:!!r.hasZ,hasM:!!r.hasM}};y._createPolylineGeometry=function(r){return{type:"polyline",
paths:[[]],spatialReference:r.spatialReference,hasZ:!!r.hasZ,hasM:!!r.hasM}};y._createMultipointGeometry=function(r){return{type:"multipoint",points:[],spatialReference:r.spatialReference,hasZ:!!r.hasZ,hasM:!!r.hasM}};y._dehydratedAddPointsCoordinate=function(r,u,I){0===I&&0===this._toAddInCurrentPath--&&(r.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);u=this._transformPathLikeValue(u,I);r=r[r.length-1];const T=
this._coordinateBuffer;T&&(0===I&&r.push(new Float64Array(T.buffer,this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this._vertexDimension)),T[this._coordinateBufferPtr++]=u)};y._deriveApplyTransform=function(r){const {hasZ:u,hasM:I}=r;return u&&I?S:u?E:I?M:H};return C._createClass(B)}();e.DehydratedFeatureSetParserContext=m;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(e,C){e.neverReached=function(v){};
e.neverReachedSilent=function(v){};e.typeCast=function(v){return()=>v};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","./spatialReferenceUtils"],function(e,C,v){e.getGeometryZScaler=function(D,t,G){if(null==t||null==G||G.vcsWkid||v.equals(t,G))return null;t=C.getMetersPerVerticalUnitForSR(t);G=C.getMetersPerVerticalUnitForSR(G);const N=t/G;if(1===N)return null;switch(D){case "point":case "esriGeometryPoint":return L=>
{L&&null!=L.z&&(L.z*=N)};case "polyline":case "esriGeometryPolyline":return L=>{if(L)for(const w of L.paths)for(const x of w)2<x.length&&(x[2]*=N)};case "polygon":case "esriGeometryPolygon":return L=>{if(L)for(const w of L.rings)for(const x of w)2<x.length&&(x[2]*=N)};case "multipoint":case "esriGeometryMultipoint":return L=>{if(L)for(const w of L.points)2<w.length&&(w[2]*=N)};case "extent":case "esriGeometryEnvelope":return L=>{L&&null!=L.zmin&&null!=L.zmax&&(L.zmin*=N,L.zmax*=N)};default:return null}};
Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/dehydratedFeatures":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/byteSizeEstimations ../../core/has ../../core/typedArrayUtil ../../core/uid ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../../geometry/support/typeUtils ../support/Field ./dehydratedFeatureComparison".split(" "),function(e,
C,v,D,t,G,N,L,w,x,H,E,M){function S(c,m,B){if(null==c)return null;switch(m){case "point":return{x:c.x,y:c.y,z:c.z,m:c.m,hasZ:null!=c.z,hasM:null!=c.m,type:"point",spatialReference:B};case "polyline":return{paths:c.paths,hasZ:!!c.hasZ,hasM:!!c.hasM,type:"polyline",spatialReference:B};case "polygon":return{rings:c.rings,hasZ:!!c.hasZ,hasM:!!c.hasM,type:"polygon",spatialReference:B};case "multipoint":return{points:c.points,hasZ:!!c.hasZ,hasM:!!c.hasM,type:"multipoint",spatialReference:B}}}function b(c){if(null==
c)return 0;let m=32;switch(c.type){case "point":m+=42;break;case "polyline":case "polygon":var B=0;const y=2+(c.hasZ?1:0)+(c.hasM?1:0);c="polyline"===c.type?c.paths:c.rings;for(const r of c)B+=r.length;m+=8*B*y+64;m+=128*B;m=m+34+32*(c.length+1);break;case "multipoint":B=c.points.length;m+=8*B*(2+(c.hasZ?1:0)+(c.hasM?1:0))+64;m+=128*B;m=m+34+32;break;case "extent":m+=98;c.hasM&&(m+=32);c.hasZ&&(m+=32);break;case "mesh":m+=t.estimateSize(c.vertexAttributes.position),m+=t.estimateSize(c.vertexAttributes.normal),
m+=t.estimateSize(c.vertexAttributes.uv),m+=t.estimateSize(c.vertexAttributes.tangent)}return m}D=C._createClass(function(c,m,B){this.uid=c;this.geometry=m;this.attributes=B;this.visible=!0;this.centroid=this.objectId=null});C=C._createClass(function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null});e.equals=
M.equals;e.DehydratedFeatureClass=D;e.DehydratedFeatureSetClass=C;e.computeAABB=function(c,m){L.empty(m);"mesh"===c.type&&(c=c.extent);switch(c.type){case "point":m[0]=m[3]=c.x;m[1]=m[4]=c.y;c.hasZ&&(m[2]=m[5]=c.z);break;case "polyline":for(var B=0;B<c.paths.length;B++)L.expandWithNestedArray(m,c.paths[B],!!c.hasZ);break;case "polygon":for(B=0;B<c.rings.length;B++)L.expandWithNestedArray(m,c.rings[B],!!c.hasZ);break;case "multipoint":L.expandWithNestedArray(m,c.points,!!c.hasZ);break;case "extent":m[0]=
c.xmin,m[1]=c.ymin,m[3]=c.xmax,m[4]=c.ymax,null!=c.zmin&&(m[2]=c.zmin),null!=c.zmax&&(m[5]=c.zmax)}};e.computeAABR=function(c,m){w.empty(m);"mesh"===c.type&&(c=c.extent);switch(c.type){case "point":m[0]=m[2]=c.x;m[1]=m[3]=c.y;break;case "polyline":for(var B=0;B<c.paths.length;B++)w.expandWithNestedArray(m,c.paths[B]);break;case "polygon":for(B=0;B<c.rings.length;B++)w.expandWithNestedArray(m,c.rings[B]);break;case "multipoint":w.expandWithNestedArray(m,c.points);break;case "extent":m[0]=c.xmin,m[1]=
c.ymin,m[2]=c.xmax,m[3]=c.ymax}};e.estimateGeometryObjectSize=b;e.estimateSize=function(c){let m;m=32+v.estimateAttributesObjectSize(c.attributes);return m=m+3+(8+b(c.geometry))};e.fromFeatureSetJSON=function(c){const m=H.featureGeometryTypeKebabDictionary.fromJSON(c.geometryType),B=N.fromJSON(c.spatialReference),y=c.transform,r=c.features.map(u=>{var I=c.objectIdFieldName;u={uid:G.generateUID(),objectId:I&&u.attributes?u.attributes[I]:null,attributes:u.attributes,geometry:S(u.geometry,m,B),visible:!0};
I=u.geometry;if(null!=I&&y)switch(I.type){case "point":u.geometry=x.unquantizePoint(y,I,I,I.hasZ,I.hasM);break;case "multipoint":u.geometry=x.unquantizeMultipoint(y,I,I,!!I.hasZ,!!I.hasM);break;case "polygon":u.geometry=x.unquantizePolygon(y,I,I,!!I.hasZ,!!I.hasM);break;case "polyline":u.geometry=x.unquantizePolyline(y,I,I,!!I.hasZ,!!I.hasM);break;case "extent":u.geometry=I;break;case "mesh":u.geometry=I}return u});return{geometryType:m,features:r,spatialReference:B,fields:c.fields?.map(u=>E.fromJSON(u))??
[],objectIdFieldName:c.objectIdFieldName,globalIdFieldName:c.globalIdFieldName,geohashFieldName:c.geohashFieldName,geometryProperties:c.geometryProperties,hasZ:c.hasZ,hasM:c.hasM,exceededTransferLimit:c.exceededTransferLimit,transform:null}};e.fromJSONGeometry=S;e.getObjectId=function(c,m){return null!=c.objectId?c.objectId:c.attributes&&m?c.attributes[m]:null};e.hasGeometry=function(c){return null!=c.geometry};e.hasVertices=function(c){if(null==c)return!1;switch(c.type){case "extent":case "point":return!0;
case "polyline":for(const m of c.paths)if(0<m.length)return!0;return!1;case "polygon":for(const m of c.rings)if(0<m.length)return!0;return!1;case "multipoint":return 0<c.points.length;case "mesh":return!c.loaded||0<c.vertexAttributes.position.length}};e.makeDehydratedPoint=function(c,m,B,y){return{x:c,y:m,z:B,hasZ:null!=B,hasM:!1,spatialReference:y,type:"point"}};e.numVertices=function(c){if(null==c)return 0;switch(c.type){case "point":return 1;case "polyline":var m=0;for(var B of c.paths)m+=B.length;
return m;case "polygon":B=0;for(m of c.rings)B+=m.length;return B;case "multipoint":return c.points.length;case "extent":return 2;case "mesh":return(c=c.vertexAttributes&&c.vertexAttributes.position)?c.length/3:0}};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(e){function C(t){return 32+t.length}function v(t){if(!t)return 0;if(Array.isArray(t)){var G=t.length;if(0===G||"number"===typeof t[0])t=32+8*G;else{var N=
32;for(let L=0;L<G;L++)N+=D(t[L]);t=N}return t}N=32;for(G in t)t.hasOwnProperty(G)&&(N+=D(t[G]));return N}function D(t){switch(typeof t){case "object":return v(t);case "string":return C(t);case "number":return 16;case "boolean":return 4;default:return 8}}e.estimateAttributesObjectSize=function(t){if(!t)return 0;let G=32;for(const N in t)if(t.hasOwnProperty(N)){const L=t[N];switch(typeof L){case "string":G+=C(L);break;case "number":G+=16;break;case "boolean":G+=4}}return G};e.estimateFixedArraySize=
function(t,G){return 32+t.length*G};e.estimateNestedObjectSize=v;e.estimateNumberByteSize=function(t){return 16};e.estimateStringByteSize=C;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../Extent","./aaBoundingRect"],function(e,C,v){function D(b=M){return[b[0],b[1],b[2],b[3],b[4],b[5]]}function t(b,c,m,B,y,r,u=D()){u[0]=b;u[1]=c;u[2]=m;u[3]=B;u[4]=y;u[5]=r;return u}function G(b){return b[0]>=b[3]?0:b[3]-b[0]}function N(b){return b[1]>=
b[4]?0:b[4]-b[1]}function L(b){return b[2]>=b[5]?0:b[5]-b[2]}function w(b,c){return Math.max(c[0],b[0])<=Math.min(c[3],b[3])&&Math.max(c[1],b[1])<=Math.min(c[4],b[4])&&Math.max(c[2],b[2])<=Math.min(c[5],b[5])}function x(b,c){b[0]=c[0];b[1]=c[1];b[2]=c[2];b[3]=c[3];b[4]=c[4];b[5]=c[5];return b}function H(b){return 6===b.length}const E=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],M=[0,0,0,0,0,0],S=D();e.NEGATIVE_INFINITY=E;e.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,
Infinity];e.ZERO=M;e.allFinite=function(b){for(let c=0;6>c;c++)if(!isFinite(b[c]))return!1;return!0};e.center=function(b,c=[0,0,0]){c[0]=b[0]+G(b)/2;c[1]=b[1]+N(b)/2;c[2]=b[2]+L(b)/2;return c};e.contains=function(b,c){return c[0]>=b[0]&&c[1]>=b[1]&&c[2]>=b[2]&&c[3]<=b[3]&&c[4]<=b[4]&&c[5]<=b[5]};e.containsPoint=function(b,c){return c[0]>=b[0]&&c[1]>=b[1]&&c[2]>=b[2]&&c[0]<=b[3]&&c[1]<=b[4]&&c[2]<=b[5]};e.containsPointWithMargin=function(b,c,m){return c[0]>=b[0]-m&&c[1]>=b[1]-m&&c[2]>=b[2]-m&&c[0]<=
b[3]+m&&c[1]<=b[4]+m&&c[2]<=b[5]+m};e.create=D;e.depth=N;e.diameter=function(b){const c=G(b),m=L(b);b=N(b);return Math.sqrt(c*c+m*m+b*b)};e.empty=function(b){return b?x(b,E):D(E)};e.equals=function(b,c,m){if(null==b||null==c)return b===c;if(!H(b)||!H(c))return!1;if(m)for(let B=0;B<b.length;B++){if(!m(b[B],c[B]))return!1}else for(m=0;m<b.length;m++)if(b[m]!==c[m])return!1;return!0};e.expandWithAABB=function(b,c){b[0]=Math.min(b[0],c[0]);b[1]=Math.min(b[1],c[1]);b[2]=Math.min(b[2],c[2]);b[3]=Math.max(b[3],
c[3]);b[4]=Math.max(b[4],c[4]);b[5]=Math.max(b[5],c[5])};e.expandWithBuffer=function(b,c,m=0,B=c.length/3){let y=b[0],r=b[1],u=b[2],I=b[3],T=b[4],g=b[5];for(let A=0;A<B;A++)y=Math.min(y,c[m+3*A]),r=Math.min(r,c[m+3*A+1]),u=Math.min(u,c[m+3*A+2]),I=Math.max(I,c[m+3*A]),T=Math.max(T,c[m+3*A+1]),g=Math.max(g,c[m+3*A+2]);b[0]=y;b[1]=r;b[2]=u;b[3]=I;b[4]=T;b[5]=g};e.expandWithNestedArray=function(b,c,m){const B=c.length;let y=b[0],r=b[1],u=b[2],I=b[3],T=b[4],g=b[5];if(m)for(m=0;m<B;m++){var A=c[m];y=Math.min(y,
A[0]);r=Math.min(r,A[1]);u=Math.min(u,A[2]);I=Math.max(I,A[0]);T=Math.max(T,A[1]);g=Math.max(g,A[2])}else for(m=0;m<B;m++)A=c[m],y=Math.min(y,A[0]),r=Math.min(r,A[1]),I=Math.max(I,A[0]),T=Math.max(T,A[1]);b[0]=y;b[1]=r;b[2]=u;b[3]=I;b[4]=T;b[5]=g};e.expandWithOffset=function(b,c,m,B){b[0]=Math.min(b[0],b[0]+c);b[3]=Math.max(b[3],b[3]+c);b[1]=Math.min(b[1],b[1]+m);b[4]=Math.max(b[4],b[4]+m);b[2]=Math.min(b[2],b[2]+B);b[5]=Math.max(b[5],b[5]+B)};e.expandWithRect=function(b,c){b[0]=Math.min(b[0],c[0]);
b[1]=Math.min(b[1],c[1]);b[3]=Math.max(b[3],c[2]);b[4]=Math.max(b[4],c[3])};e.expandWithVec3=function(b,c){b[0]=Math.min(b[0],c[0]);b[1]=Math.min(b[1],c[1]);b[2]=Math.min(b[2],c[2]);b[3]=Math.max(b[3],c[0]);b[4]=Math.max(b[4],c[1]);b[5]=Math.max(b[5],c[2])};e.fromExtent=function(b,c=D()){c[0]=b.xmin;c[1]=b.ymin;c[2]=b.hasZ?b.zmin:-Infinity;c[3]=b.xmax;c[4]=b.ymax;c[5]=b.hasZ?b.zmax:Infinity;return c};e.fromMinMax=function(b,c,m=D()){m[0]=b[0];m[1]=b[1];m[2]=b[2];m[3]=c[0];m[4]=c[1];m[5]=c[2];return m};
e.fromRect=function(b,c){b[0]=c[0];b[1]=c[1];b[2]=Number.NEGATIVE_INFINITY;b[3]=c[2];b[4]=c[3];b[5]=Number.POSITIVE_INFINITY;return b};e.fromRectValues=function(b,c,m,B,y){b[0]=c;b[1]=m;b[2]=Number.NEGATIVE_INFINITY;b[3]=B;b[4]=y;b[5]=Number.POSITIVE_INFINITY;return b};e.fromValues=t;e.getMax=function(b,c){c[0]=b[3];c[1]=b[4];c[2]=b[5];return c};e.getMin=function(b,c){c[0]=b[0];c[1]=b[1];c[2]=b[2];return c};e.height=L;e.intersects=w;e.intersectsClippingArea=function(b,c){return null==c?!0:w(b,c)};
e.is=H;e.isPoint=function(b){return 0===G(b)&&0===N(b)&&0===L(b)};e.maximumDimension=function(b){return Math.max(G(b),L(b),N(b))};e.offset=function(b,c,m,B,y=b){y[0]=b[0]+c;y[1]=b[1]+m;y[2]=b[2]+B;y[3]=b[3]+c;y[4]=b[4]+m;y[5]=b[5]+B;return y};e.scale=function(b,c,m=b){const B=b[0]+G(b)/2,y=b[1]+N(b)/2,r=b[2]+L(b)/2;m[0]=B+(b[0]-B)*c;m[1]=y+(b[1]-y)*c;m[2]=r+(b[2]-r)*c;m[3]=B+(b[3]-B)*c;m[4]=y+(b[4]-y)*c;m[5]=r+(b[5]-r)*c;return m};e.set=x;e.setMax=function(b,c,m=b){m[3]=c[0];m[4]=c[1];m[5]=c[2];m!==
b&&(m[0]=b[0],m[1]=b[1],m[2]=b[2]);return b};e.setMin=function(b,c,m=b){m[0]=c[0];m[1]=c[1];m[2]=c[2];m!==b&&(m[3]=b[3],m[4]=b[4],m[5]=b[5]);return m};e.size=function(b,c=[0,0,0]){c[0]=G(b);c[1]=N(b);c[2]=L(b);return c};e.toExtent=function(b,c){return isFinite(b[2])||isFinite(b[5])?new C({xmin:b[0],xmax:b[3],ymin:b[1],ymax:b[4],zmin:b[2],zmax:b[5],spatialReference:c}):new C({xmin:b[0],xmax:b[3],ymin:b[1],ymax:b[4],spatialReference:c})};e.toRect=function(b,c){c||(c=v.create());c[0]=b[0];c[1]=b[1];
c[2]=b[3];c[3]=b[4];return c};e.width=G;e.wrap=function(b,c,m,B,y,r){return t(b,c,m,B,y,r,S)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(e,C){function v({scale:f,translate:l},p){return Math.round((p-l[0])/f[0])}function D({scale:f,translate:l},p){return Math.round((l[1]-p)/f[1])}function t(f,l,p){const K=[];let P,V,ca,ba;for(let da=0;da<p.length;da++){const ea=p[da];if(0<da){if(ca=v(f,
ea[0]),ba=D(f,ea[1]),ca!==P||ba!==V)K.push(l(ea,ca-P,ba-V)),P=ca,V=ba}else P=v(f,ea[0]),V=D(f,ea[1]),K.push(l(ea,P,V))}return 0<K.length?K:null}function G(f,l,p,K){return t(f,p?K?A:g:K?g:T,l)}function N(f,l,p,K){const P=[];p=p?K?A:g:K?g:T;for(K=0;K<l.length;K++){const V=t(f,p,l[K]);V&&3<=V.length&&P.push(V)}return P.length?P:null}function L(f,l,p,K){const P=[];p=p?K?A:g:K?g:T;for(K=0;K<l.length;K++){const V=t(f,p,l[K]);V&&2<=V.length&&P.push(V)}return P.length?P:null}function w({scale:f,translate:l},
p){return p*f[0]+l[0]}function x({scale:f,translate:l},p){return l[1]-p*f[1]}function H(f,l,p){const K=Array(p.length);if(!p.length)return K;const [P,V]=f.scale;let ca=w(f,p[0][0]);f=x(f,p[0][1]);K[0]=l(p[0],ca,f);for(let ba=1;ba<p.length;ba++){const da=p[ba];ca+=da[0]*P;f-=da[1]*V;K[ba]=l(da,ca,f)}return K}function E(f,l,p){const K=Array(p.length);for(let P=0;P<p.length;P++)K[P]=H(f,l,p[P]);return K}function M(f,l,p,K){return H(f,p?K?A:g:K?g:T,l)}function S(f,l,p,K){return E(f,p?K?A:g:K?g:T,l)}function b(f,
l,p,K){return E(f,p?K?A:g:K?g:T,l)}function c(f,l,p){let [K,P]=p[0],V=Math.min(K,l[0]),ca=Math.min(P,l[1]),ba=Math.max(K,l[2]);l=Math.max(P,l[3]);for(let da=1;da<p.length;da++){const [ea,ja]=p[da];K+=ea;P+=ja;0>ea&&(V=Math.min(V,K));0<ea&&(ba=Math.max(ba,K));0>ja?ca=Math.min(ca,P):0<ja&&(l=Math.max(l,P))}f[0]=V;f[1]=ca;f[2]=ba;f[3]=l;return f}function m(f,l){if(!l.length)return null;f[0]=f[1]=Number.POSITIVE_INFINITY;f[2]=f[3]=Number.NEGATIVE_INFINITY;for(let p=0;p<l.length;p++)c(f,f,l[p]);return f}
function B(f,l,p,K,P){l.xmin=v(f,p.xmin);l.ymin=D(f,p.ymin);l.xmax=v(f,p.xmax);l.ymax=D(f,p.ymax);l!==p&&(K&&(l.zmin=p.zmin,l.zmax=p.zmax),P&&(l.mmin=p.mmin,l.mmax=p.mmax));return l}function y(f,l,p,K,P){l.points=G(f,p.points,K,P)??[];return l}function r(f,l,p,K,P){l.x=v(f,p.x);l.y=D(f,p.y);l!==p&&(K&&(l.z=p.z),P&&(l.m=p.m));return l}function u(f,l,p,K,P){f=N(f,p.rings,K,P);if(!f)return null;l.rings=f;return l}function I(f,l,p,K,P){f=L(f,p.paths,K,P);if(!f)return null;l.paths=f;return l}const T=(f,
l,p)=>[l,p],g=(f,l,p)=>[l,p,f[2]],A=(f,l,p)=>[l,p,f[2],f[3]];e.equals=function(f,l){if(f===l||null==f&&null==l)return!0;if(null==f||null==l)return!1;let p,K,P,V;f&&"upperLeft"===f.originPosition?(p=f.translate[0],K=f.translate[1],f=f.scale[0]):(p=null!=f.extent?f.extent.xmin:0,K=null!=f.extent?f.extent.ymax:0,f=f.tolerance);l&&"upperLeft"===l.originPosition?(P=l.translate[0],V=l.translate[1],l=l.scale[0]):(P=null!=l.extent?l.extent.xmin:0,V=null!=l.extent?l.extent.ymax:0,l=l.tolerance);return p===
P&&K===V&&f===l};e.getQuantizedBoundsCoordsArray=c;e.getQuantizedBoundsCoordsArrayArray=m;e.getQuantizedBoundsPaths=function(f){return m([0,0,0,0],f)};e.getQuantizedBoundsPoints=function(f){const l=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return c(l,l,f)};e.getQuantizedBoundsRings=function(f){return m([0,0,0,0],f)};e.quantizeBounds=function(f,l,p){l[0]=v(f,p[0]);l[3]=D(f,p[1]);l[2]=v(f,p[2]);l[1]=D(f,p[3]);return l};e.quantizeExtent=B;e.quantizeGeometry=
function(f,l){return f&&l?C.isPoint(l)?r(f,{},l,!1,!1):C.isPolyline(l)?I(f,{},l,!1,!1):C.isPolygon(l)?u(f,{},l,!1,!1):C.isMultipoint(l)?y(f,{},l,!1,!1):C.isExtent(l)?B(f,{},l,!1,!1):null:null};e.quantizeMultipoint=y;e.quantizePaths=L;e.quantizePoint=r;e.quantizePoints=G;e.quantizePolygon=u;e.quantizePolyline=I;e.quantizeRings=N;e.quantizeX=v;e.quantizeY=D;e.toQuantizationTransform=function(f){return f?{originPosition:"upper-left"===f.originPosition?"upperLeft":"lower-left"===f.originPosition?"lowerLeft":
f.originPosition,scale:f.tolerance?[f.tolerance,f.tolerance]:[1,1],translate:null!=f.extent?[f.extent.xmin,f.extent.ymax]:[0,0]}:null};e.unquantizeBounds=function(f,l,p){return p?(l[0]=w(f,p[0]),l[1]=x(f,p[3]),l[2]=w(f,p[2]),l[3]=x(f,p[1]),l):[w(f,l[0]),x(f,l[3]),w(f,l[2]),x(f,l[1])]};e.unquantizeCoordsArray=H;e.unquantizeCoordsArrayArray=E;e.unquantizeExtent=function(f,l,p,K,P){l.xmin=w(f,p.xmin);l.ymin=x(f,p.ymin);l.xmax=w(f,p.xmax);l.ymax=x(f,p.ymax);l!==p&&(K&&(l.zmin=p.zmin,l.zmax=p.zmax),P&&
(l.mmin=p.mmin,l.mmax=p.mmax));return l};e.unquantizeMultipoint=function(f,l,p,K,P){null!=p&&(l.points=M(f,p.points,K,P));return l};e.unquantizePaths=S;e.unquantizePoint=function(f,l,p,K,P){if(null==p)return l;l.x=w(f,p.x);l.y=x(f,p.y);l!==p&&(K&&(l.z=p.z),P&&(l.m=p.m));return l};e.unquantizePoints=M;e.unquantizePolygon=function(f,l,p,K,P){null!=p&&(l.rings=b(f,p.rings,K,P));return l};e.unquantizePolyline=function(f,l,p,K,P){null!=p&&(l.paths=S(f,p.paths,K,P));return l};e.unquantizeRings=b;e.unquantizeX=
w;e.unquantizeY=x;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(e,C,v,D,t,G,N,L,w,x,H,E,M){var S;const b=new v.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});v=S=function(c){function m(y){y=c.call(this,y)||this;
y.alias=null;y.defaultValue=void 0;y.description=null;y.domain=null;y.editable=!0;y.length=-1;y.name=null;y.nullable=!0;y.type=null;y.valueType=null;y.visible=!0;return y}e._inherits(m,c);var B=m.prototype;B.readDescription=function(y,{description:r}){y=null;try{y=r?JSON.parse(r):null}catch(u){}return y?.value??null};B.readValueType=function(y,{description:r}){y=null;try{y=r?JSON.parse(r):null}catch(u){}return y?b.fromJSON(y.fieldValueType):null};B.clone=function(){return new S({alias:this.alias,
defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})};return e._createClass(m)}(D.JSONSupport);C.__decorate([t.property({type:String,json:{write:!0}})],v.prototype,"alias",void 0);C.__decorate([t.property({type:[String,Number],json:{write:{allowNull:!0}}})],v.prototype,"defaultValue",void 0);C.__decorate([t.property()],
v.prototype,"description",void 0);C.__decorate([x.reader("description")],v.prototype,"readDescription",null);C.__decorate([t.property({types:E.types,json:{read:{reader:E.fromJSON},write:!0}})],v.prototype,"domain",void 0);C.__decorate([t.property({type:Boolean,json:{write:!0}})],v.prototype,"editable",void 0);C.__decorate([t.property({type:G.Integer,json:{write:!0}})],v.prototype,"length",void 0);C.__decorate([t.property({type:String,json:{write:!0}})],v.prototype,"name",void 0);C.__decorate([t.property({type:Boolean,
json:{write:!0}})],v.prototype,"nullable",void 0);C.__decorate([w.enumeration(M.kebabDict)],v.prototype,"type",void 0);C.__decorate([t.property()],v.prototype,"valueType",void 0);C.__decorate([x.reader("valueType",["description"])],v.prototype,"readValueType",null);C.__decorate([t.property({type:Boolean,json:{read:!1}})],v.prototype,"visible",void 0);return v=S=C.__decorate([H.subclass("esri.layers.support.Field")],v)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(e,C,v){e.enumeration=function(D,t={}){D=D instanceof C.JSONMap?D:new C.JSONMap(D,t);D={type:t?.ignoreUnknown??!0?D.apiValues:String,json:{type:D.jsonValues,read:t?.readOnly?!1:{reader:D.read},write:{writer:D.write}}};void 0!==t?.readOnly&&(D.readOnly=!!t.readOnly);void 0!==t?.default&&(D.json.default=t.default);void 0!==t?.name&&(D.json.name=t.name);void 0!==t?.nonNullable&&(D.nonNullable=t.nonNullable);return v.property(D)};Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(e,C,v,D,t,G){C={key:"type",base:D,typeMap:{range:G,"coded-value":v,inherited:t}};e.CodedValueDomain=v;e.DomainBase=D;e.InheritedDomain=t;e.RangeDomain=G;e.fromJSON=function(N){if(!N||!N.type)return null;switch(N.type){case "range":return G.fromJSON(N);case "codedValue":return v.fromJSON(N);case "inherited":return t.fromJSON(N)}return null};
e.types=C;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),function(e,C,v,D,t,G,N,L,w){var x;t=x=function(H){function E(S){S=H.call(this,
S)||this;S.codedValues=null;S.type="coded-value";return S}e._inherits(E,H);var M=E.prototype;M.getName=function(S){let b=null;if(this.codedValues){const c=String(S);this.codedValues.some(m=>{String(m.code)===c&&(b=m.name);return!!b})}return b};M.clone=function(){return new x({codedValues:v.clone(this.codedValues),name:this.name})};return e._createClass(E)}(w);C.__decorate([D.property({type:[L.CodedValue],json:{write:!0}})],t.prototype,"codedValues",void 0);C.__decorate([G.enumeration({codedValue:"coded-value"})],
t.prototype,"type",void 0);return t=x=C.__decorate([N.subclass("esri.layers.support.CodedValueDomain")],t)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(e,C,v,D,t,G,N,L,w){var x;e.CodedValue=x=function(H){function E(M){M=
H.call(this,M)||this;M.name=null;M.code=null;return M}C._inherits(E,H);E.prototype.clone=function(){return new x({name:this.name,code:this.code})};return C._createClass(E)}(D.JSONSupport);v.__decorate([t.property({type:String,json:{write:!0}})],e.CodedValue.prototype,"name",void 0);v.__decorate([t.property({type:[String,Number],json:{write:!0}})],e.CodedValue.prototype,"code",void 0);e.CodedValue=x=v.__decorate([w.subclass("esri.layers.support.CodedValue")],e.CodedValue);Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(e,C,v,D,t,G,N,L,w,x){v=new v.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});
D=function(H){function E(M){M=H.call(this,M)||this;M.name=null;M.type=null;return M}e._inherits(E,H);return e._createClass(E)}(D.JSONSupport);C.__decorate([t.property({type:String,json:{write:!0}})],D.prototype,"name",void 0);C.__decorate([w.enumeration(v)],D.prototype,"type",void 0);return D=C.__decorate([x.subclass("esri.layers.support.Domain")],D)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(e,C,v,D,t,G,N,L,w,x){var H;v=H=function(E){function M(S){S=E.call(this,S)||this;S.type="inherited";return S}e._inherits(M,E);M.prototype.clone=function(){return new H};return e._createClass(M)}(x);C.__decorate([L.enumeration({inherited:"inherited"})],v.prototype,"type",void 0);return v=H=C.__decorate([w.subclass("esri.layers.support.InheritedDomain")],v)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(e,C,v,D,t,G,N,L,w){var x;D=x=function(H){function E(M){M=H.call(this,M)||this;M.maxValue=null;M.minValue=null;M.type="range";return M}e._inherits(E,H);E.prototype.clone=function(){return new x({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return e._createClass(E)}(w);C.__decorate([v.property({type:Number,json:{type:[Number],read:{source:"range",reader(H,E){return E.range&&E.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},
target:"range",writer(H,E,M){E[M]=[this.minValue||0,H]}}}})],D.prototype,"maxValue",void 0);C.__decorate([v.property({type:Number,json:{type:[Number],read:{source:"range",reader(H,E){return E.range&&E.range[0]}},write:{target:"range",writer(H,E,M){E[M]=[H,this.maxValue||0]}}}})],D.prototype,"minValue",void 0);C.__decorate([N.enumeration({range:"range"})],D.prototype,"type",void 0);return D=x=C.__decorate([L.subclass("esri.layers.support.RangeDomain")],D)})},"esri/layers/support/fieldType":function(){define(["exports",
"../../core/jsonMap"],function(e,C){C=new C.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",
esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});e.kebabDict=C;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["exports","../../core/has","../../geometry/support/spatialReferenceUtils"],function(e,C,v){function D(w,x){if(w===x)return!0;if(null==w||null==x||w.length!==x.length)return!1;for(let H=0;H<w.length;H++){const E=w[H],M=x[H];if(E.length!==M.length)return!1;for(let S=0;S<
E.length;S++)if(E[S]!==M[S])return!1}return!0}function t(w,x){if(w===x)return!0;if(null==w||null==x||w.length!==x.length)return!1;for(let H=0;H<w.length;H++)if(!D(w[H],x[H]))return!1;return!0}function G(w,x){return w===x||null!=w&&null!=x&&v.equals(w.spatialReference,x.spatialReference)&&w.x===x.x&&w.y===x.y&&w.z===x.z&&w.m===x.m}function N(w,x){if(w===x)return!0;if(null==w||null==x||w.type!==x.type)return!1;switch(w.type){case "point":return G(w,x);case "extent":return w=w.hasZ!==x.hasZ||w.hasM!==
x.hasM?!1:v.equals(w.spatialReference,x.spatialReference)?w.xmin===x.xmin&&w.ymin===x.ymin&&w.zmin===x.zmin&&w.xmax===x.xmax&&w.ymax===x.ymax&&w.zmax===x.zmax:!1,w;case "polyline":return w=w.hasZ!==x.hasZ||w.hasM!==x.hasM?!1:v.equals(w.spatialReference,x.spatialReference)?t(w.paths,x.paths):!1,w;case "polygon":return w=w.hasZ!==x.hasZ||w.hasM!==x.hasM?!1:v.equals(w.spatialReference,x.spatialReference)?t(w.rings,x.rings):!1,w;case "multipoint":return w=w.hasZ!==x.hasZ||w.hasM!==x.hasM?!1:v.equals(w.spatialReference,
x.spatialReference)?D(w.points,x.points):!1,w;case "mesh":return!1}}function L(w,x){if(w===x)return!0;if(!w||!x)return!1;const H=Object.keys(w),E=Object.keys(x);if(H.length!==E.length)return!1;for(const M of H)if(w[M]!==x[M])return!1;return!0}e.equals=function(w,x){return w===x?!0:null!=w&&null!=x&&w.objectId===x.objectId&&N(w.geometry,x.geometry)&&L(w.attributes,x.attributes)?!0:!1};e.pointEquals=G;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(e,C,v,D,t,G,N,L,w,x){function H(a,d){return a?d?4:3:d?3:2}function E(a,d,h,k){if(a){if(h)return d&&k?wa:ta;if(d&&k)return xa}else if(d&&k)return ta;return ya}function M({scale:a,translate:d},h){return Math.round((h-d[0])/a[0])}function S({scale:a,translate:d},h){return Math.round((d[1]-h)/a[1])}function b({scale:a,translate:d},h,k){return h*a[k]+d[k]}function c(a){a=a.coords;return{x:a[0],y:a[1]}}function m(a,d){a.coords[0]=d.x;a.coords[1]=d.y;return a}function B(a){a=a.coords;return{x:a[0],
y:a[1],z:a[2]}}function y(a,d){a.coords[0]=d.x;a.coords[1]=d.y;a.coords[2]=d.z;return a}function r(a){a=a.coords;return{x:a[0],y:a[1],m:a[2]}}function u(a,d){a.coords[0]=d.x;a.coords[1]=d.y;a.coords[2]=d.m;return a}function I(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function T(a,d){a.coords[0]=d.x;a.coords[1]=d.y;a.coords[2]=d.z;a.coords[3]=d.m;return a}function g(a,d){return a&&d?T:a?y:d?u:m}function A(a,d,h,k,n){h=g(h,k);for(const {geometry:q,attributes:z}of d)d=null!=q?h(new x,q):null,
a.push(new L.OptimizedFeature(d,z,null,n?z[n]:void 0));return a}function f(a,d,h,k){for(const {geometry:n,attributes:q}of d)a.push({attributes:q,geometry:null!=n?l(n,h,k):null});return a}function l(a,d,h){if(null==a)return null;const k=H(d,h),n=[];for(let q=0;q<a.coords.length;q+=k){const z=[];for(let F=0;F<k;F++)z.push(a.coords[q+F]);n.push(z)}return d?h?{points:n,hasZ:d,hasM:h}:{points:n,hasZ:d}:h?{points:n,hasM:h}:{points:n}}function p(a,d,h,k,n){h=H(h,k);for(const {geometry:q,attributes:z}of d)d=
null!=q?K(new x,q,h):null,a.push(new L.OptimizedFeature(d,z,null,n?z[n]:void 0));return a}function K(a,d,h=H(d.hasZ,d.hasM)){a.lengths[0]=d.points.length;const k=a.coords;let n=0;for(const q of d.points)for(d=0;d<h;d++)k[n++]=q[d];return a}function P(a,d,h){if(!a)return null;const k=H(d,h),{coords:n,lengths:q}=a;a=[];let z=0;for(const F of q){const J=[];for(let Q=0;Q<F;Q++){const O=[];for(let R=0;R<k;R++)O.push(n[z++]);J.push(O)}a.push(J)}return d?h?{paths:a,hasZ:d,hasM:h}:{paths:a,hasZ:d}:h?{paths:a,
hasM:h}:{paths:a}}function V(a,d,h,k,n){h=H(h,k);for(const {geometry:q,attributes:z}of d)d=null!=q?ca(new x,q,h):null,a.push(new L.OptimizedFeature(d,z,null,n?z[n]:void 0));return a}function ca(a,d,h=H(d.hasZ,d.hasM)){const {lengths:k,coords:n}=a;let q=0;for(const z of d.paths){for(const F of z)for(d=0;d<h;d++)n[q++]=F[d];k.push(z.length)}return a}function ba(a,d,h){if(!a)return null;const k=H(d,h),{coords:n,lengths:q}=a;a=[];let z=0;for(const F of q){const J=[];for(let Q=0;Q<F;Q++){const O=[];for(let R=
0;R<k;R++)O.push(n[z++]);J.push(O)}a.push(J)}return d?h?{rings:a,hasZ:d,hasM:h}:{rings:a,hasZ:d}:h?{rings:a,hasM:h}:{rings:a}}function da(a,d,h,k,n){for(const {geometry:q,centroid:z,attributes:F}of d){d=null!=q?ea(new x,q,h,k):null;const J=n?F[n]:void 0;null!=z?a.push(new L.OptimizedFeature(d,F,m(new x,z),J)):a.push(new L.OptimizedFeature(d,F,null,J))}return a}function ea(a,d,h=d.hasZ,k=d.hasM){return ja(a,d.rings,h,k)}function ja(a,d,h,k){h=H(h,k);const {lengths:n,coords:q}=a;k=0;ha(a);for(const z of d){for(const F of z)for(d=
0;d<h;d++)q[k++]=F[d];n.push(z.length)}return a}function na(a,d,h,k,n,q){fa(a);if(!h){for(const z of d)a.push(new L.OptimizedFeature(null,z.attributes,null,q?z.attributes[q]:void 0));return a}switch(h){case "esriGeometryPoint":return A(a,d,k,n,q);case "esriGeometryMultipoint":return p(a,d,k,n,q);case "esriGeometryPolyline":return V(a,d,k,n,q);case "esriGeometryPolygon":return da(a,d,k,n,q);default:ka.error("convertToFeatureSet:unknown-geometry",new C(`Unable to parse unknown geometry type '${h}'`)),
fa(a)}return a}function ua(a,d,h,k){a=a&&("coords"in a?a:a.geometry);if(null==a)return null;switch(d){case "esriGeometryPoint":return d=c,h&&k?d=I:h?d=B:k&&(d=r),d(a);case "esriGeometryMultipoint":return l(a,h,k);case "esriGeometryPolyline":return P(a,h,k);case "esriGeometryPolygon":return ba(a,h,k);default:return ka.error("convertToGeometry:unknown-geometry",new C(`Unable to parse unknown geometry type '${d}'`)),null}}function oa(a,d,h,k,n){fa(a);if(null==h){for(const z of d)a.push({attributes:z.attributes});
return a}switch(h){case "esriGeometryPoint":h=c;k&&n?h=I:k?h=B:n&&(h=r);for(var q of d){const {geometry:z,attributes:F}=q;k=null!=z?h(z):null;a.push({attributes:F,geometry:k})}break;case "esriGeometryMultipoint":return f(a,d,k,n);case "esriGeometryPolyline":for(const {geometry:z,attributes:F}of d)a.push({attributes:F,geometry:null!=z?P(z,k,n):null});break;case "esriGeometryPolygon":for(const {geometry:z,attributes:F,centroid:J}of d)q=null!=z?ba(z,k,n):null,null!=J?(d=c(J),a.push({attributes:F,centroid:d,
geometry:q})):a.push({attributes:F,geometry:q});break;default:ka.error("convertToFeatureSet:unknown-geometry",new C(`Unable to parse unknown geometry type '${h}'`))}return a}function pa(a,d,h,k,n,q,z=h,F=k){ha(a);if(null==d||!d.coords.length)return null;n=qa[n];const {coords:J,lengths:Q}=d;d=H(h,k);const O=H(h&&z,k&&F);h=E(h,k,z,F);if(!Q.length)return h(a.coords,J,0,0,M(q,J[0]),S(q,J[1])),ha(a,d,0),a;let R,U=0,W,Y=0;for(const Z of Q){if(Z<n)continue;let X=0;W=Y;F=k=M(q,J[U]);R=z=S(q,J[U+1]);h(a.coords,
J,W,U,F,R);X++;U+=d;W+=O;for(let aa=1;aa<Z;aa++,U+=d)if(F=M(q,J[U]),R=S(q,J[U+1]),F!==k||R!==z)h(a.coords,J,W,U,F-k,R-z),W+=O,X++,k=F,z=R;X>=n&&(a.lengths.push(X),Y=W)}fa(a.coords,Y);return a.coords.length?a:null}function ra(a,d,h,k,n,q,z){let F=k,J=0;for(let O=q+h;O<z;O+=h){var Q=d[O];const R=d[O+1],U=d[z],W=d[z+1];let Y=d[q],Z=d[q+1],X=U-Y,aa=W-Z;if(0!==X||0!==aa){const ia=((Q-Y)*X+(R-Z)*aa)/(X*X+aa*aa);1<ia?(Y=U,Z=W):0<ia&&(Y+=X*ia,Z+=aa*ia)}X=Q-Y;aa=R-Z;Q=X*X+aa*aa;Q>F&&(J=O,F=Q)}F>k&&(J-q>h&&
ra(a,d,h,k,n,q,J),n(a,d,a.length,J,d[J],d[J+1]),z-J>h&&ra(a,d,h,k,n,J,z))}function sa(a,d,h,k,n){const {coords:q,lengths:z}=d;h=H(h,k);if(!q.length)return a!==d&&ha(a),a;D.assertIsSome(n);const {originPosition:F,scale:J,translate:Q}=n;n=za;n.originPosition=F;k=n.scale;k[0]=J[0]??1;k[1]=-(J[1]??1);k[2]=J[2]??1;k[3]=J[3]??1;var O=n.translate;O[0]=Q[0]??0;O[1]=Q[1]??0;O[2]=Q[2]??0;O[3]=Q[3]??0;if(!z.length){for(k=0;k<h;++k)a.coords[k]=b(n,q[k],k);a!==d&&ha(a,h,0);return a}O=0;for(let U=0;U<z.length;U++){const W=
z[U];a.lengths[U]=W;for(var R=0;R<h;++R)a.coords[O+R]=b(n,q[O+R],R);R=a.coords[O];let Y=a.coords[O+1];O+=h;for(let Z=1;Z<W;Z++,O+=h){R+=q[O]*k[0];Y+=q[O+1]*k[1];a.coords[O]=R;a.coords[O+1]=Y;for(let X=2;X<h;++X)a.coords[O+X]=b(n,q[O+X],X)}}a!==d&&ha(a,q.length,z.length);return a}function va(a,d,h,k){let n=0,q=a[k*d],z=a[k*(d+1)];for(let F=1;F<h;F++){const J=q+a[k*(d+F)],Q=z+a[k*(d+F)+1],O=(J-q)*(Q+z);q=J;z=Q;n+=O}return.5*n}function ha(a,d=0,h=0){fa(a.lengths,h);fa(a.coords,d)}function fa(a,d=0){a.length!==
d&&(a.length=d)}const ka=v.getLogger("esri.layers.graphics.featureConversionUtils"),qa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryEnvelope:0},ya=(a,d,h,k,n,q)=>{a[h]=n;a[h+1]=q},ta=(a,d,h,k,n,q)=>{a[h]=n;a[h+1]=q;a[h+2]=d[k+2]},xa=(a,d,h,k,n,q)=>{a[h]=n;a[h+1]=q;a[h+2]=d[k+3]},wa=(a,d,h,k,n,q)=>{a[h]=n;a[h+1]=q;a[h+2]=d[k+2];a[h+3]=d[k+3]},la=[],ma=[],za={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};e.convertFromFeature=
function(a,d,h,k,n){la[0]=a;[a]=na(ma,la,d,h,k,n);fa(la);fa(ma);return a};e.convertFromFeatureSet=function(a,d){const h=new w,{hasM:k,hasZ:n,features:q,objectIdFieldName:z,spatialReference:F,geometryType:J,exceededTransferLimit:Q,transform:O,fields:R}=a;R&&(h.fields=R);h.geometryType=J??null;h.objectIdFieldName=z??d??null;h.spatialReference=F??null;if(!h.objectIdFieldName)return ka.error(new C("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),h;q&&na(h.features,q,J,n,
k,h.objectIdFieldName);Q&&(h.exceededTransferLimit=Q);k&&(h.hasM=k);n&&(h.hasZ=n);O&&(h.transform=O);return h};e.convertFromFeatures=na;e.convertFromGeometry=function(a,d,h){if(null==a)return null;const k=new x;"hasZ"in a&&null==d&&(d=a.hasZ);"hasM"in a&&null==h&&(h=a.hasM);if(N.isPoint(a))return g(null!=d?d:null!=a.z,null!=h?h:null!=a.m)(k,a);if(N.isPolygon(a))return ea(k,a,d,h);if(N.isPolyline(a))return ca(k,a,H(d,h));if(N.isMultipoint(a))return K(k,a,H(d,h));ka.error("convertFromGeometry:unknown-geometry",
new C(`Unable to parse unknown geometry type '${a}'`))};e.convertFromGraphics=function(a,d,h,k,n,q){const z=a.length;switch(h){case "esriGeometryPoint":A(a,d,k,n,q);break;case "esriGeometryMultipoint":p(a,d,k,n,q);break;case "esriGeometryPolyline":V(a,d,k,n,q);break;case "esriGeometryPolygon":da(a,d,k,n,q);break;default:ka.error("convertToFeatureSet:unknown-geometry",new C(`Unable to parse unknown geometry type '${h}'`))}for(k=0;k<d.length;k++)a[k+z].geometryType=h,a[k+z].insertAfter=d[k].insertAfter,
a[k+z].groupId=d[k].groupId;return a};e.convertFromMultipoint=K;e.convertFromMultipointFeatures=p;e.convertFromNestedArray=ja;e.convertFromPoint=function(a,d,h=g(null!=d.z,null!=d.m)){return h(a,d)};e.convertFromPointFeatures=A;e.convertFromPolygon=ea;e.convertFromPolyline=ca;e.convertFromPolylineFeatures=V;e.convertToFeature=function(a,d,h,k){ma[0]=a;oa(la,ma,d,h,k);a=la[0];fa(la);fa(ma);return a};e.convertToFeatureSet=function(a){const {objectIdFieldName:d,spatialReference:h,transform:k,fields:n,
hasM:q,hasZ:z,features:F,geometryType:J,exceededTransferLimit:Q,uniqueIdField:O,queryGeometry:R,queryGeometryType:U}=a;a=oa([],F,J,z,q);const W=ua(R,U,!1,!1);a={features:a,fields:n,geometryType:J,objectIdFieldName:d,spatialReference:h,uniqueIdField:O,queryGeometry:W};k&&(a.transform=k);Q&&(a.exceededTransferLimit=Q);q&&(a.hasM=q);z&&(a.hasZ=z);return a};e.convertToFeatures=oa;e.convertToGeometry=ua;e.convertToMultipoint=l;e.convertToMultipointFeatures=f;e.convertToPoint=function(a,d,h){return a?d?
h?I(a):B(a):h?r(a):c(a):null};e.convertToPolygon=ba;e.convertToPolyline=P;e.deltaDecodeGeometry=function(a,d){if(null==a)return null;const h=a.clone(),k=a.coords;a=a.lengths;let n=0;for(let F=0;F<a.length;F++){const J=a[F];var q=k[d*n],z=k[d*n+1];for(let Q=1;Q<J;Q++)q+=k[d*(n+Q)],z+=k[d*(n+Q)+1],h.coords[d*(n+Q)]=q,h.coords[d*(n+Q)+1]=z;n+=J}return h};e.deltaEncodeGeometry=function(a,d){const h=a.clone(),k=a.coords;a=a.lengths;let n=0;for(let z=0;z<a.length;z++){const F=a[z];let J=k[d*n];var q=k[d*
n+1];for(let Q=1;Q<F;Q++){const O=k[d*(n+Q)],R=k[d*(n+Q)+1];q=R-q;h.coords[d*(n+Q)]=O-J;h.coords[d*(n+Q)+1]=q;J=O;q=R}n+=F}return h};e.generalizeOptimizedGeometry=function(a,d,h,k,n,q,z=h,F=k){ha(a);if(!d||!d.coords.length)return null;n=qa[n];const {coords:J,lengths:Q}=d;d=H(h,k);const O=H(h&&z,k&&F);h=E(h,k,z,F);if(!Q.length)return h(a.coords,J,0,0,J[0],J[1]),ha(a,d,0),a;k=0;q*=q;for(const R of Q){if(R<n){k+=R*d;continue}z=a.coords.length/O;F=k;const U=k+(R-1)*d;h(a.coords,J,a.coords.length,F,J[F],
J[F+1]);ra(a.coords,J,d,q,h,F,U);h(a.coords,J,a.coords.length,U,J[U],J[U+1]);F=a.coords.length/O-z;F>=n?a.lengths.push(F):fa(a.coords,z*O);k+=R*d}return a.coords.length?a:null};e.getBoundsOptimizedGeometry=function(a,d,h,k){if(null==d||!d.coords||!d.coords.length)return null;h=H(h,k);let n=k=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY,z=Number.NEGATIVE_INFINITY;if(d&&d.coords){d=d.coords;for(let F=0;F<d.length;F+=h){const J=d[F],Q=d[F+1];k=Math.min(k,J);q=Math.max(q,J);n=Math.min(n,Q);z=Math.max(z,
Q)}}t.is(a)?t.fromRectValues(a,k,n,q,z):G.fromValues(k,n,q,z,a);return a};e.getQuantizedArea=function(a,d){const {coords:h,lengths:k}=a;let n=a=0;for(let q=0;q<k.length;q++){const z=k[q];n+=va(h,a,z,d);a+=z}return Math.abs(n)};e.getQuantizedBoundsOptimizedGeometry=function(a,d,h,k){h=H(h,k);const {lengths:n,coords:q}=d;k=d=Number.POSITIVE_INFINITY;let z=Number.NEGATIVE_INFINITY,F=Number.NEGATIVE_INFINITY,J=0;for(const Q of n){let O=q[J],R=q[J+1];d=Math.min(O,d);k=Math.min(R,k);z=Math.max(O,z);F=Math.max(R,
F);J+=h;for(let U=1;U<Q;U++,J+=h){const W=q[J],Y=q[J+1];O+=W;R+=Y;0>W&&(d=Math.min(d,O));0<W&&(z=Math.max(z,O));0>Y?k=Math.min(k,R):0<Y&&(F=Math.max(F,R))}}a[0]=d;a[1]=k;a[2]=z;a[3]=F;return a};e.getSignedQuantizedRingArea=va;e.quantizeOptimizedFeatureSet=function(a,d){const {geometryType:h,features:k,hasM:n,hasZ:q}=d;if(!a)return d;for(let z=0;z<k.length;z++){const F=k[z],J=F.weakClone();J.geometry=new x;pa(J.geometry,F.geometry,n,q,h,a);F.centroid&&(J.centroid=new x,pa(J.centroid,F.centroid,n,q,
"esriGeometryPoint",a));k[z]=J}d.transform=a;return d};e.quantizeOptimizedGeometry=pa;e.quantizeX=M;e.quantizeY=S;e.removeCollinearVectices=function(a,d,h,k,n){if(!d||!d.coords||!d.coords.length)return null;h=qa[h];const {coords:q,lengths:z}=d;d=E(k,n,k,n);k=H(k,n);let F=n=0,J=0,Q=0;for(const U of z){F=Q;d(a.coords,q,F,n,q[n],q[n+1]);n+=k;var O=q[n];let W=q[n+1],Y=O,Z=W;var R=W/O;F+=k;d(a.coords,q,F,n,Y,Z);n+=k;for(let X=2;X<U;X++){O=q[n];W=q[n+1];const aa=W/O,ia=R===aa||!isFinite(R)&&!isFinite(aa);
R=ia&&isFinite(aa)?0<=R&&0<=aa||0>=R&&0>=aa:0<=Z&&0<=W||0>=Z&&0>=W;ia&&R?(Y+=O,Z+=W):(Y=O,Z=W,F+=k);d(a.coords,q,F,n,Y,Z);n+=k;R=aa}F+=k;O=(F-Q)/k;O>=h&&(a.lengths[J]=O,Q=F,J++)}a.coords.length>Q&&(a.coords.length=Q);a.lengths.length>J&&(a.lengths.length=J);return a.coords.length&&a.lengths.length?a:null};e.removeZMValues=function(a,d,h,k,n,q){ha(a);a.lengths.push(...d.lengths);if(h===n&&k===q)for(var z=0;z<d.coords.length;z++)a.coords.push(d.coords[z]);else for(z=H(h,k),h=E(h,k,n,q),d=d.coords,k=
0;k<d.length;k+=z)h(a.coords,d,a.coords.length,k,d[k],d[k+1]);return a};e.unquantizeOptimizedFeatureSet=function(a){const {transform:d,features:h,hasM:k,hasZ:n}=a;if(!d)return a;for(const q of h)null!=q.geometry&&sa(q.geometry,q.geometry,k,n,d),null!=q.centroid&&sa(q.centroid,q.centroid,k,n,d);a.transform=null;return a};e.unquantizeOptimizedGeometry=sa;e.unquantizeValue=b;e.unquantizeX=function(a,d){return b(a,d,0)};e.unquantizeY=function(a,d){return b(a,-d,1)};Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(e,C){let v=function(){function t(G=null,N={},L,w){this.geometry=G;this.attributes=N;this.centroid=L;this.objectId=w;this.geohashY=this.geohashX=this.displayId=0}t.prototype.weakClone=function(){const G=new t(this.geometry,this.attributes,this.centroid,this.objectId);G.displayId=this.displayId;G.geohashX=this.geohashX;G.geohashY=this.geohashY;return G};return C._createClass(t)}(),
D=function(t){function G(){return t.apply(this,arguments)||this}C._inherits(G,t);return C._createClass(G)}(v);e.OptimizedFeature=v;e.OptimizedFeatureWithGeometry=D;e.hasGeometry=function(t){return!(null==t.geometry||!t.geometry.coords||!t.geometry.coords.length)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(e){return function(){function C(){this.spatialReference=this.geometryType=
this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}C.prototype.weakClone=function(){const v=new C;v.objectIdFieldName=this.objectIdFieldName;v.globalIdFieldName=this.globalIdFieldName;v.geohashFieldName=this.geohashFieldName;v.geometryProperties=this.geometryProperties;v.geometryType=
this.geometryType;v.spatialReference=this.spatialReference;v.hasZ=this.hasZ;v.hasM=this.hasM;v.features=this.features;v.fields=this.fields;v.transform=this.transform;v.exceededTransferLimit=this.exceededTransferLimit;v.uniqueIdField=this.uniqueIdField;v.queryGeometry=this.queryGeometry;v.queryGeometryType=this.queryGeometryType;return v};return e._createClass(C)}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(e){return function(){function C(D=
[],t=[],G=!1){this.lengths=D??[];this.coords=t??[];this.hasIndeterminateRingOrder=G}C.fromRect=function(D){const [t,G,N,L]=D;D=N-t;const w=L-G;return new C([5],[t,G,D,0,0,w,-D,0,0,-w])};var v=C.prototype;v.forEachVertex=function(D){let t=0;this.lengths.length||D(this.coords[0],this.coords[1]);for(let G=0;G<this.lengths.length;G++){const N=this.lengths[G];for(let L=0;L<N;L++)D(this.coords[2*(L+t)],this.coords[2*(L+t)+1]);t+=N}};v.clone=function(D){return D?(D.set(this.coords),new C(this.lengths.slice(),
D,this.hasIndeterminateRingOrder)):new C(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};e._createClass(C,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((D,t)=>D+t)}}]);return C}()})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(e,C){e.parsePBFFeatureQuery=function(v,D){var t=
C.parseFeatureQuery(v,D);v=t.queryResult.featureResult;D=t.queryResult.queryGeometry;t=t.queryResult.queryGeometryType;if(v&&v.features&&v.features.length&&v.objectIdFieldName){const G=v.objectIdFieldName;for(const N of v.features)N.attributes&&(N.objectId=N.attributes[G])}v&&(v.queryGeometry=D,v.queryGeometryType=t);return v};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define(["exports","../../../core/Error","../../../core/pbf",
"../../../layers/graphics/OptimizedGeometry","./pbfOptimizedFeatureSet"],function(e,C,v,D,t){function G(g){return g>=u.length?null:u[g]}function N(g,A,f){g=g.asUnsafe();for(f=A.createPointGeometry(f);g.next();)switch(g.tag()){case 3:var l=g.getUInt32();l=g.pos()+l;let p=0;for(;g.pos()<l;)A.addCoordinatePoint(f,g.getSInt64(),p++);break;default:g.skip()}return f}function L(g,A,f){g=g.asUnsafe();const l=A.createGeometry(f);for(f=2+(f.hasZ?1:0)+(f.hasM?1:0);g.next();)switch(g.tag()){case 2:var p=g.getUInt32();
p=g.pos()+p;for(var K=0;g.pos()<p;)A.addLength(l,g.getUInt32(),K++);break;case 3:p=g.getUInt32();p=g.pos()+p;K=0;for(A.allocateCoordinates(l);g.pos()<p;)A.addCoordinate(l,g.getSInt64(),K),K++,K===f&&(K=0);break;default:g.skip()}return l}function w(g){g=g.asUnsafe();const A=new D;let f="esriGeometryPoint";for(;g.next();)switch(g.tag()){case 2:var l=g.getUInt32();for(l=g.pos()+l;g.pos()<l;)A.lengths.push(g.getUInt32());break;case 3:l=g.getUInt32();for(l=g.pos()+l;g.pos()<l;)A.coords.push(g.getSInt64());
break;case 1:f=t.OPTIMIZED_GEOMETRY_TYPES[g.getEnum()];break;default:g.skip()}return{queryGeometry:A,queryGeometryType:f}}function x(g){for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:return g.getString();case 2:return g.getFloat();case 3:return g.getDouble();case 4:return g.getSInt32();case 5:return g.getUInt32();case 6:return g.getInt64();case 7:return g.getUInt64();case 8:return g.getSInt64();case 9:return g.getBool();default:return g.skip(),null}return null}function H(g){g=g.asUnsafe();const A=
{type:G(0)};for(;g.next();)switch(g.tag()){case 1:A.name=g.getString();break;case 2:A.type=G(g.getEnum());break;case 3:A.alias=g.getString();break;case 4:var f=g.getEnum();f=f>=I.length?null:I[f];A.sqlType=f;break;case 5:g.skip();break;case 6:A.defaultValue=g.getString();break;default:g.skip()}return A}function E(g){const A={};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:A.name=g.getString();break;case 2:A.isSystemMaintained=g.getBool();break;default:g.skip()}return A}function M(g,A,f,l){const p=
A.createFeature(f);let K=0;for(;g.next();)switch(g.tag()){case 1:const P=l[K++].name;p.attributes[P]=g.processMessage(x);break;case 2:p.geometry=g.processMessageWithArgs(L,A,f);break;case 4:p.centroid=g.processMessageWithArgs(N,A,f);break;default:g.skip()}return p}function S(g){const A=[1,1,1,1];for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:A[0]=g.getDouble();break;case 2:A[1]=g.getDouble();break;case 4:A[2]=g.getDouble();break;case 3:A[3]=g.getDouble();break;default:g.skip()}return A}function b(g){const A=
[0,0,0,0];for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:A[0]=g.getDouble();break;case 2:A[1]=g.getDouble();break;case 4:A[2]=g.getDouble();break;case 3:A[3]=g.getDouble();break;default:g.skip()}return A}function c(g){const A={originPosition:0>=T.length?null:T[0]};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:var f=g.getEnum();A.originPosition=f>=T.length?null:T[f];break;case 2:A.scale=g.processMessage(S);break;case 3:A.translate=g.processMessage(b);break;default:g.skip()}return A}function m(g){const A=
{};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:A.shapeAreaFieldName=g.getString();break;case 2:A.shapeLengthFieldName=g.getString();break;case 3:A.units=g.getString();break;default:g.skip()}return A}function B(g,A){for(A=A.createSpatialReference();g.next();)switch(g.tag()){case 1:A.wkid=g.getUInt32();break;case 5:A.wkt=g.getString();break;case 2:A.latestWkid=g.getUInt32();break;case 3:A.vcsWkid=g.getUInt32();break;case 4:A.latestVcsWkid=g.getUInt32();break;default:g.skip()}return A}function y(g,
A){const f=A.createFeatureResult();g=g.asUnsafe();f.geometryType=0>=A.geometryTypes.length?null:A.geometryTypes[0];let l=!1;for(;g.next();)switch(g.tag()){case 1:f.objectIdFieldName=g.getString();break;case 3:f.globalIdFieldName=g.getString();break;case 4:f.geohashFieldName=g.getString();break;case 5:f.geometryProperties=g.processMessage(m);break;case 7:var p=g.getEnum();f.geometryType=p>=A.geometryTypes.length?null:A.geometryTypes[p];break;case 8:f.spatialReference=g.processMessageWithArgs(B,A);
break;case 10:f.hasZ=g.getBool();break;case 11:f.hasM=g.getBool();break;case 12:f.transform=g.processMessage(c);break;case 9:p=g.getBool();f.exceededTransferLimit=p;break;case 13:A.addField(f,g.processMessage(H));break;case 15:l||(A.prepareFeatures(f),l=!0);A.addFeature(f,g.processMessageWithArgs(M,A,f,f.fields));break;case 2:f.uniqueIdField=g.processMessage(E);break;default:g.skip()}A.finishFeatureResult(f);return f}function r(g,A){const f={};let l=null;for(;g.next();)switch(g.tag()){case 4:l=g.processMessageWithArgs(w);
break;case 1:f.featureResult=g.processMessageWithArgs(y,A);break;default:g.skip()}null!=l&&f.featureResult&&A.addQueryGeometry(f,l);return f}const u="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML esriFieldTypeBigInteger esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "),
I="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),T=["upperLeft","lowerLeft"];e.parseFeatureQuery=function(g,A){try{const f=new v(new Uint8Array(g),new DataView(g));
for(g={};f.next();)switch(f.tag()){case 2:g.queryResult=f.processMessageWithArgs(r,A);break;default:f.skip()}return g}catch(f){throw new C("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:f});}};e.parseField=H;e.parseFieldType=G;e.parseTransform=c;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(e,C,v,D,t,G,N){const L=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let w=function(){function x(E){this._options=E;this.geometryTypes=L;this._vertexDimension=this._coordinatePtr=0}var H=x.prototype;H.createFeatureResult=function(){return new G};H.prepareFeatures=function(E){this._vertexDimension=2;E.hasZ&&this._vertexDimension++;E.hasM&&this._vertexDimension++};H.finishFeatureResult=function(E){if(E&&E.features&&E.hasZ&&this._options.sourceSpatialReference&&
E.spatialReference&&!D.equals(E.spatialReference,this._options.sourceSpatialReference)&&!E.spatialReference.vcsWkid){var M=v.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),S=v.getMetersPerVerticalUnitForSR(E.spatialReference);M/=S;if(1!==M)for(const b of E.features)if(t.hasGeometry(b))for(E=b.geometry.coords,S=2;S<E.length;S+=3)E[S]*=M}};H.addFeature=function(E,M){E.features.push(M)};H.createFeature=function(){return new t.OptimizedFeature};H.createSpatialReference=function(){return{wkid:0}};
H.createGeometry=function(){return new N};H.addField=function(E,M){E.fields.push(M)};H.allocateCoordinates=function(E){E.coords.length=E.lengths.reduce((M,S)=>M+S,0)*this._vertexDimension;this._coordinatePtr=0};H.addCoordinate=function(E,M){E.coords[this._coordinatePtr++]=M};H.addCoordinatePoint=function(E,M){E.coords.push(M)};H.addLength=function(E,M){E.lengths.push(M)};H.addQueryGeometry=function(E,M){E.queryGeometry=M.queryGeometry;E.queryGeometryType=M.queryGeometryType};H.createPointGeometry=
function(){return new N};return C._createClass(x)}();e.OPTIMIZED_GEOMETRY_TYPES=L;e.OptimizedFeatureSetParserContext=w;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../chunks/_rollupPluginBabelHelpers","../../../rest/query/operations/pbfDehydratedFeatureSet","../../../rest/query/operations/pbfQueryUtils"],function(e,C,v){let D=function(){function t(){}t.prototype._parseFeatureQuery=function(G){G=v.parsePBFFeatureQuery(G.buffer,new C.DehydratedFeatureSetParserContext(G.options));G={...G,spatialReference:G.spatialReference?.toJSON(),fields:G.fields?G.fields.map(N=>N.toJSON()):void 0};return Promise.resolve(G)};return e._createClass(t)}();return function(){return new D}});