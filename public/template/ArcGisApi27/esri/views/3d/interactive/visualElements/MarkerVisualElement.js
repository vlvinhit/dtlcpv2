// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec4f32 ./Object3DVisualElement ../../support/engineContent/line ../../webgl-engine/lib/Material ../../webgl-engine/materials/LineMarkerMaterial".split(" "),function(g,h,n,p,k,f,l,q,r){f=function(m){function e(a,c){var b=m.call(this,a)||this;b._hasExternalMaterial=!1;b._renderOccluded=q.RenderOccludedFlag.OccludeAndTransparent;b._width=1;b._color=k.fromValues(1,0,1,1);
b._placement="end";b._markerPrimitive="arrow";b._material=c;b._hasExternalMaterial=null!=c;b.applyProps(a);return b}h._inherits(e,m);var d=e.prototype;d.setGeometryFromSegment=function(a,c){const b=a.endRenderSpace;this.transform=n.fromTranslation(t,b);this._normal=c;({points:a}=a.createRenderGeometry(b,this.view.renderCoordsHelper));this.geometry=[a]};d.createExternalResources=function(){this._hasExternalMaterial||(this._material=new r.LineMarkerMaterial({width:this._width,color:this._color,placement:this._placement,
renderOccluded:this._renderOccluded,markerPrimitive:this._markerPrimitive}))};d.destroyExternalResources=function(){this._hasExternalMaterial||(this._material=null)};d.createGeometries=function(a){for(const c of l.lineStripsToParameters(this.geometry,this.normal)){const b=l.createGeometry(this._material,c);a.addGeometry(b)}};d.forEachExternalMaterial=function(a){this._hasExternalMaterial||a(this._material)};h._createClass(e,[{key:"renderOccluded",get:function(){return null!=this._material?this._material.parameters.renderOccluded:
this._renderOccluded},set:function(a){this._renderOccluded=a;null!=this._material&&this._material.setParameters({renderOccluded:a})}},{key:"geometry",get:function(){return this._geometry},set:function(a){this._geometry=a;this.recreateGeometry()}},{key:"normal",get:function(){return this._normal},set:function(a){this._normal=a;this.recreateGeometry()}},{key:"width",get:function(){return null!=this._material?this._material.parameters.width:this._width},set:function(a){this._width=a;null!=this._material&&
this._material.setParameters({width:a})}},{key:"color",get:function(){return null!=this._material?this._material.parameters.color:this._color},set:function(a){this._color=k.clone(a);null!=this._material&&this._material.setParameters({color:this._color})}},{key:"placement",get:function(){return null!=this._material?this._material.parameters.placement:this._placement},set:function(a){this._placement=a;null!=this._material&&this._material.setParameters({placement:this._placement})}},{key:"markerPrimitive",
get:function(){return this._material?.parameters.markerPrimitive??this._markerPrimitive},set:function(a){this._markerPrimitive=a;null!=this._material&&this._material.setParameters({markerPrimitive:a})}}]);return e}(f.Object3DVisualElement);const t=p.create();g.MarkerVisualElement=f;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});