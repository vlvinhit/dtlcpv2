// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../geometry/support/aaBoundingRect ../../../../geometry/support/DoubleArray ../../../../geometry/support/FloatArray ../../webgl-engine/lib/Attribute ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/VertexAttribute".split(" "),function(r,g,B,C,t,D,E,k){function x(e,a){return E.createSquareGeometry(e,[[a[0],a[1],-1],[a[2],a[1],-1],[a[2],a[3],-1],[a[0],a[3],-1]])}const F=[0,0,1];r.computeImageExportSize=function(e,a,b){const f=g.width(e)/
g.height(e),d={width:b,height:b};1.0001<f?d.height=b/f:.9999>f&&(d.width=b*f);d.width=Math.round(d.width/(g.width(e)/g.width(a)));d.height=Math.round(d.height/(g.height(e)/g.height(a)));return d};r.createGeometryForExtent=x;r.createOuterImageGeometry=function(e,a,b){if(!g.intersects(a,b))return x(e,b);const f=[a[1]-b[1],Math.min(a[3],b[3])-Math.max(a[1],b[1]),b[3]-a[3],123456],d=[a[0]-b[0],Math.min(a[2],b[2])-Math.max(a[0],b[0]),b[2]-a[2],123456],G=b[2]-b[0],H=b[3]-b[1],n=0<d[0]&&0<d[2]?3:2;var c=
0<f[0]&&0<f[2]?3:2,l=(c+1)*(n+1);a=B.newDoubleArray(3*l);l=C.newFloatArray(2*l);c=Array(6*(c*n-1));let u=0,v=0,y=0,h=0,m=0;for(let p=0;4>p;p++){const z=f[p];if(0>=z)continue;let w=0;for(let q=0;4>q;q++){const A=d[q];0>=A||(a[v++]=b[0]+w,a[v++]=b[1]+u,a[v++]=-1,l[y++]=w/G,l[y++]=u/H,3>q&&3>p&&(1!==q||1!==p)&&(c[m++]=h,c[m++]=h+1,c[m++]=h+n+1,c[m++]=h+1,c[m++]=h+n+2,c[m++]=h+n+1),h++,w+=A)}u+=z}b=Array(c.length);return new D.Geometry(e,[[k.VertexAttribute.POSITION,new t.Attribute(a,3,!0)],[k.VertexAttribute.NORMAL,
new t.Attribute(F,3,!0)],[k.VertexAttribute.UV0,new t.Attribute(l,2,!0)]],[[k.VertexAttribute.POSITION,c],[k.VertexAttribute.NORMAL,b],[k.VertexAttribute.UV0,c]])};Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});