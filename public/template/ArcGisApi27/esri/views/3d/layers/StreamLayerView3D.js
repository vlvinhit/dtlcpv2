// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Error ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../layers/graphics/controllers/StreamController ../../../rest/support/Query ./FeatureLikeLayerView3D ./LayerView3D ../webgl-engine/lib/UpdatePolicy ../../layers/LayerView ../../layers/StreamLayerView".split(" "),
function(g,c,k,l,e,b,x,y,m,n,p,q,r,t,u,v){b=function(h){function f(){var a=h.apply(this,arguments)||this;a.type="stream-3d";a.updatePolicy=t.UpdatePolicy.ASYNC;a.hasZ=!0;a.hasM=!1;return a}g._inherits(f,h);var d=f.prototype;d.initialize=function(){this.handles.add(l.watch(()=>this.suspended,a=>{this.controller&&this._onSuspendedChange(a)}))};d.createQuery=function(){return new p({outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference})};d.queryLatestObservations=function(a,
w){return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(a),w?.signal)};d.createController=function(){return new n.StreamController({layer:this.layer,layerView:this})};d.beforeSetController=function(){};d._doPause=function(){this.controller?.pauseStream()};d._doResume=function(){this.controller?.resumeStream()};g._createClass(f,[{key:"connectionError",get:function(){const a=this.get("controller.connection.errorString");return a?new k("stream-controller",a):null}},{key:"_streamConnectionStatus",
get:function(){return this.controller?.connection?.connectionStatus??"disconnected"}}]);return f}(v(q.FeatureLikeLayerView3D(r.LayerView3D(u))));c.__decorate([e.property({readOnly:!0})],b.prototype,"updatePolicy",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"connectionError",null);c.__decorate([e.property()],b.prototype,"controller",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"hasZ",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,"hasM",void 0);c.__decorate([e.property({readOnly:!0})],
b.prototype,"_streamConnectionStatus",null);return b=c.__decorate([m.subclass("esri.views.3d.layers.StreamLayerView3D")],b)});