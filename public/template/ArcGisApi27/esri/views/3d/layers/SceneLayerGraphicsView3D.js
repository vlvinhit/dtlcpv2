// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("require ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Graphic ../../../core/arrayUtils ../../../core/Logger ../../../core/maybe ../../../core/reactiveUtils ../../../core/typedArrayUtil ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/projection ../../../geometry/support/contains ../../../geometry/support/DoubleArray ../../../geometry/support/zscale ../../../layers/LayerConstants ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/hydratedFeatures ../../../layers/graphics/controllers/I3SOnDemandController ../../../layers/support/FeatureFilter ../../../rest/support/Query ../../../support/basemapUtils ./I3SPointsWorkerHandle ./LayerView3D ./graphics/Graphics3DFeatureProcessor ./graphics/QueryEngine ./i3s/featureEditing ./i3s/I3SGraphicsMap ./i3s/I3SOverrides ./i3s/I3SUtil ./support/DefinitionExpressionSceneLayerView ./support/fieldProperties ./support/PopupSceneLayerView ./support/SceneLayerViewRequiredFields ../support/debugFlags ../support/orientedBoundingBox ../support/updatingProperties ../webgl-engine/lib/Attribute ../webgl-engine/lib/UpdatePolicy ../../layers/SceneLayerView ../../layers/support/popupUtils ../../support/Scheduler".split(" "),
function(S,D,k,J,T,A,w,B,U,n,E,V,W,X,F,K,G,Y,Z,L,aa,ba,ca,M,da,N,h,ea,fa,O,ha,P,y,ia,ja,ka,la,H,ma,na,oa,pa,qa,ra,sa){function I(r){return"geometryBuffer"in r&&null!==r.geometryBuffer}function Q(r){const q=r.attributeInfo,f=r.node.index;if(null!=q&&null!=q.loadedAttributes&&null!=q.attributeData)for(let a=0;a<r.graphics.length;a++){const b=r.graphics[a];if(b.nodeIndex===f){b.attributes||(b.attributes={});for(const {name:d}of q.loadedAttributes)q.attributeData[d]&&(b.attributes[d]=y.getCachedAttributeValue(q.attributeData[d],
a))}}}E=ja.defineFieldProperties();let ta=D._createClass(function(r,q,f,a){this.graphics=r;this.featureIds=q;this.attributeInfo=f;this.node=a});h=function(r){function q(){var a=r.apply(this,arguments)||this;a.type="scene-layer-graphics-3d";a._queryEngine=null;a._memCache=null;a._interactiveEditingSessions=new Map;a.loadedGraphics=new ha.I3SGraphicsMap((b,d,c)=>{{const e=d.attributeInfo;if(null==e||null==e.loadedAttributes||null==e.attributeData)b=!1;else{d=!1;for(const {name:g}of e.loadedAttributes)if(e.attributeData[g]){const l=
y.getCachedAttributeValue(e.attributeData[g],c);l!==b.attributes[g]&&(b.attributes[g]=l,d=!0)}b=d}}return b},b=>a.processor.graphicsCore.recreateGraphics(b));a.holeFilling="always";a.progressiveLoadFactor=1;a.supportsHeightUnitConversion=!0;a._coordinatesOutsideExtentErrors=0;a._maxCoordinatesOutsideExtentErrors=20;return a}D._inherits(q,r);var f=q.prototype;f.tryRecycleWith=function(a,b){return a.url===this.layer.url&&this._i3sOverrides.isEmpty?a.load(b).then(()=>{y.checkRecyclable(this.layer,a,
this._i3sOverrides);this.layer=a;this._i3sOverrides.destroy();this._i3sOverrides=new P.I3SOverrides({view:this.view,layer:a,memoryController:this.view.resourceController?.memoryController});w.destroyMaybe(this._queryEngine);this._setupQueryEngine();this.processor.resetObjectStates()}):null};f.initialize=function(){this.addResolvingPromise(this.layer.indexInfo);this._i3sOverrides=new P.I3SOverrides({view:this.view,layer:this.layer,memoryController:this.view.resourceController?.memoryController});y.checkSpatialReferences(this.layer,
this.view.spatialReference,this.view.viewingMode);this._fieldsHelper=new la.SceneLayerViewRequiredFields({layerView:this});this.updatingHandles.add(()=>this.layer.rangeInfos,a=>this._rangeInfosChanged(a),B.initial);this.updatingHandles.add(()=>this.layer.renderer,(a,b)=>this._rendererChange(a,b));this.updatingHandles.add(()=>[this.parsedDefinitionExpression,this._excludeObjectIdsSorted],()=>this._filterChange());this.handles.add(B.watch(()=>H.I3S_TREE_SHOW_TILES,a=>{if(a&&!this._treeDebugger){const b=
this._controller.crsIndex;(new Promise((d,c)=>S(["./support/I3STreeDebugger"],d,c))).then(({I3STreeDebugger:d})=>{!this._treeDebugger&&H.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new d({lv:this,view:this.view,nodeSR:b}))})}else a||!this._treeDebugger||H.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)},B.initial));this._set("processor",new ea({owner:this,preferredUpdatePolicy:pa.UpdatePolicy.ASYNC,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!1,
frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:a=>this._updateClippingExtent(a)}));this.processor.elevationAlignment?.events.on("invalidate-elevation",a=>this._controller.updateElevationChanged(a.extent,a.spatialReference));this.supportsHeightUnitConversion&&(this._verticalScale=Y.getGeometryZScaler("point",this.layer.spatialReference,this.view.spatialReference));this.addResolvingPromise(this.processor.initializePromise);
this._memCache=this.view.resourceController.memoryController.newCache(`psl-${this.uid}`);this._controller=new ba({layerView:this,scaleVisibilityEnabled:!1});y.containsDraco(this.layer.geometryDefinitions)&&(this._worker=new N.I3SPointsWorkerHandle(a=>this.view.resourceController.immediate.schedule(a)));this.handles.add(this.layer.on("apply-edits",a=>this.updatingHandles.addPromise(a.result)));this.handles.add(this.layer.on("edits",a=>this._handleEdits(a)));this.when(()=>{this._setupQueryEngine();
this.updatingHandles.add(()=>this.maximumNumberOfFeatures,a=>this._controller.featureTarget=a,B.initial);this.updatingHandles.add(()=>this.suspended,a=>{a&&this._removeAllNodeData()})})};f.destroy=function(){this._treeDebugger=w.destroyMaybe(this._treeDebugger);this._i3sOverrides=w.destroyMaybe(this._i3sOverrides);this._set("processor",w.destroyMaybe(this.processor));this._controller=w.destroyMaybe(this._controller);this._queryEngine=w.destroyMaybe(this._queryEngine);this._worker=w.destroyMaybe(this._worker);
this._memCache=w.destroyMaybe(this._memCache);this.loadedGraphics.clear();this._fieldsHelper=w.destroyMaybe(this._fieldsHelper)};f.whenGraphicAttributes=async function(a,b){return y.whenGraphicAttributes(this.layer,a,this._getObjectIdField(),b,()=>[...this.loadedGraphics.nodes()])};f.getHit=function(a){if(!this.loadedGraphics)return null;const b=aa.hydrateGraphic(this.loadedGraphics.find(c=>c.uid===a),this.layer),d=this._getObjectIdField();if(!b||!b.attributes||!b.attributes[d])return null;b.layer=
this.layer;b.sourceLayer=this.layer;return{type:"graphic",graphic:b,layer:b.layer}};f.whenGraphicBounds=function(a,b){return this.processor.whenGraphicBounds(a,b)};f.computeAttachmentOrigin=function(a,b){return this.processor.computeAttachmentOrigin(a,b)};f.isUpdating=function(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)};f.highlight=function(a){return this.processor.highlight(a,this.layer.objectIdField)};f.createInteractiveEditSession=
function(a){return O.createInteractiveEditSession(this._attributeEditingContext,a)};f._decompressBinaryPointData=async function(a,b){a={geometryBuffer:a.geometryBuffer};null==this._worker&&(this._worker=new N.I3SPointsWorkerHandle(d=>this.view.resourceController.immediate.schedule(d)));b=await this._worker.invoke(a,b);if(null==b)throw Error("Failed to decompress Draco point data");return{positionData:b.positions,featureIds:b.featureIds}};f.addNode=async function(a,b,d){if(!(I(b)||"pointData"in b))throw Error();
if(this.loadedGraphics.hasNode(a.index))A.getLogger(this).error("I3S node "+a.id+" already added");else{if(null!=this.layer.fullExtent){var c=this.layer.fullExtent.clone();c.xmin-=.5;c.ymin-=.5;c.xmax+=.5;c.ymax+=.5;null!=c.zmin&&null!=c.zmax&&(c.zmin-=.5,c.zmax+=.5);null!=c.mmin&&null!=c.mmax&&(c.mmin-=.5,c.mmax+=.5)}else c=null;var e=c;c=[];var {featureIds:g,pointPositions:l}=I(b)?await this._extractBinaryPointPositions(a,b,d):this._extractLegacyPointPositions(b);this._validatePositions(a,g,l,e,
c);var m=this._controller.crsVertex;F.projectBuffer(l,m,0,l,this.view.spatialReference,0,g.length);e=I(b)?a.level:0;e=this._createGraphics(g,l,a.index,e);e=new ta(e,g,b.attributeDataInfo,a);await this._i3sOverrides.applyAttributeOverrides(e.featureIds,b.attributeDataInfo,d);a.numFeatures=e.graphics.length;this._updateNodeMemory(a);Q(e);0<c.length&&(this._computeObb(a,c,m),this._controller.updateVisibility(a.index));if(this._controller.isGeometryVisible(a)){if(null!=this._verticalScale)for(var p of e.graphics)this._verticalScale(p.geometry);
b=this.view._stage.renderView.objectAndLayerIdRenderHelper;if(null!=b)for(d=da.isBasemapLayer(this.view.map,this.layer.uid),p=0;p<e.featureIds.length;p++)b.setUidToObjectAndLayerId(e.featureIds[p],e.graphics[p].uid,this.layer.id,this.layer.uid,this.layer.popupEnabled&&!d&&ra.hasPopupTemplate(this.layer,this.view.popup?.defaultPopupTemplateEnabled),e.node.resources.attributes,p);this.loadedGraphics.addNode(a.index,e);this._controller.updateLoadStatus(a.index,!0);this._filterNode(e);this._treeDebugger&&
this._treeDebugger.update()}else this._cacheNodeData(e)}};f._computeObb=function(a,b,d){const c=this._controller.crsIndex,e=c.isGeographic?this.view.renderSpatialReference:c;F.projectBuffer(b,d,0,b,e,0,b.length/3);a.serviceObb=ma.compute(new oa.Attribute(b,3));c.isGeographic&&F.projectVectorToVector(a.serviceObb.center,e,a.serviceObb.center,c)};f.isNodeLoaded=function(a){return this.loadedGraphics.hasNode(a)};f.isNodeReloading=function(){return!1};f.updateNodeState=function(){};f._extractBinaryPointPositions=
async function(a,b,d){b=await this._decompressBinaryPointData(b,d);d=b.positionData;const c=d.length/3,e=G.newDoubleArray(3*c);a=null!=a.serviceObb?a.serviceObb.center:[0,0,0];const g=Math.abs(a[2])*2**-20;for(let l=0;l<c;l++){const m=3*l;e[m]=d[m]+a[0];e[m+1]=d[m+1]+a[1];e[m+2]=d[m+2]+a[2];Math.abs(e[m+2])<g&&(e[m+2]=0)}return{featureIds:b.featureIds?G.doubleArrayFrom(b.featureIds):[],pointPositions:e}};f._extractLegacyPointPositions=function(a){const b=a.pointData.length,d=G.newDoubleArray(3*b),
c=[];for(let l=0;l<b;l++){var e=a.pointData[l];const m=e.featureDataPosition,p=m.length;var g=e.geometries?.[0]??ua[p];e=e.featureIds[0];if("Embedded"!==g.type||"points"!==g.params.type||2>p||3<p)continue;g=g.params.vertexAttributes?.position??[0,0,0];const u=3*c.length;d[u]=m[0]+g[0];d[u+1]=m[1]+g[1];d[u+2]=3===p?m[2]+g[2]:NaN;c.push(e)}return{featureIds:c,pointPositions:d}};f._validatePositions=function(a,b,d,c,e){if(null!=c||!a.serviceObb){b=b.length;for(let l=0;l<b;l++){var g=3*l;W.set(z,d[g],
d[g+1],d[g+2]);g=!Number.isNaN(d[2]);null==c||(g?K.extentContainsCoords3D(c,z):K.extentContainsCoords2D(c,z))||(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&A.getLogger(this).error("Service Error: Coordinates outside of layer extent"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&A.getLogger(this).error("Maximum number of errors reached. Further errors are ignored."),this._coordinatesOutsideExtentErrors++);a.serviceObb||e.push(z[0],
z[1],z[2])}}};f._createGraphics=function(a,b,d,c){const e=a.length,g=this._getObjectIdField(),l=this.processor.graphicsCore,m=[],p=this.view.spatialReference;for(let C=0;C<e;C++){var u=a[C];const R={};null!=u&&(R[g]=u);u=null==u?J.generateUID():u;var x=3*C,t=isNaN(b[x+2])?void 0:b[x+2];x=L.makeDehydratedPoint(b[x],b[x+1],t,p);t=this.loadedGraphics.get(u);if(null!=t){if(null==t.level||t.level<c)v.property="geometry",v.graphic=t,v.oldValue=t.geometry,v.newValue=x,t.geometry=x,t.level=c,l.graphicUpdateHandler(v);
m.push(t)}else t=J.generateUID(),m.push({objectId:u,uid:t,geometry:x,attributes:R,visible:!0,nodeIndex:d,level:c})}return m};f._updateNodeMemory=function(a){a.memory=4096+(null!=a.numFeatures?a.numFeatures*this.processor.graphicsCore.usedMemoryPerGraphic:0)};f._cacheNodeData=function(a){const b=a.graphics.reduce((d,c)=>L.estimateSize(c)+d,U.estimateSize(a.featureIds)+1024);this._memCache.put(this._getMemCacheKey(a.node),a,b)};f._getMemCacheKey=function(a){return`${a.index}`};f._removeAllNodeData=
function(){this.loadedGraphics.forEachNode((a,b)=>{a&&(this._updateNodeMemory(a.node),this._cacheNodeData(a));this._controller.updateLoadStatus(b,!1)});this._treeDebugger&&this._treeDebugger.update();this.loadedGraphics.clear()};f.removeNode=function(a){if(a=this._removeNodeStageData(a))this._updateNodeMemory(a.node),this._cacheNodeData(a)};f._removeNodeStageData=function(a){const b=this.loadedGraphics.getNode(a);if(null==b)return null;this._controller.updateLoadStatus(a,!1);this.loadedGraphics.removeNode(a);
this._treeDebugger&&this._treeDebugger.update();return b};f.loadCachedNodeData=async function(a){return this._memCache?.pop(this._getMemCacheKey(a))};f.addCachedNodeData=async function(a,b,d,c){this.loadedGraphics.hasNode(a.index)?A.getLogger(this).error("I3S node "+a.id+" already added"):(await this._i3sOverrides.applyAttributeOverrides(b.featureIds,d,c),this.loadedGraphics.addNode(a.index,b),this._controller.updateLoadStatus(a.index,!0),this._updateNodeMemory(a),b.attributeInfo=d,this._attributeValuesChanged(b),
this._filterNode(b),this._treeDebugger&&this._treeDebugger.update())};f.getLoadedNodeIds=function(){const a=[];this.loadedGraphics.forEachNode(b=>a.push(b.node.id));return a.sort()};f.getVisibleNodes=function(){const a=[];this.loadedGraphics.forEachNode(b=>a.push(b.node));return a};f.getLoadedNodeIndices=function(a){this.loadedGraphics.forEachNode((b,d)=>a.push(d))};f.getLoadedAttributes=function(a){a=this.loadedGraphics.getNode(a);if(null!=a&&null!=a.attributeInfo)return a.attributeInfo.loadedAttributes};
f.getAttributeData=function(a){a=this.loadedGraphics.getNode(a);if(null!=a&&null!=a.attributeInfo)return a.attributeInfo.attributeData};f._setAttributeData=function(a,b){a=this.loadedGraphics.getNode(a);null!=a&&null!=a.attributeInfo&&(a.attributeInfo.attributeData=b,this._attributeValuesChanged(a))};f.updateAttributes=async function(a,b,d){a=this.loadedGraphics.getNode(a);null!=a&&(await this._i3sOverrides.applyAttributeOverrides(a.featureIds,b,d),a.attributeInfo=b,this._attributeValuesChanged(a))};
f._attributeValuesChanged=function(a){Q(a);this._filterNode(a);this.processor.graphicsCore.labelsEnabled&&(a=a.graphics.map(b=>b.uid),this.processor.graphicsCore.updateLabelingInfo(a))};f._updateClippingExtent=function(a){this._controller&&this._controller.updateClippingArea(a);return!1};f._getObjectIdField=function(){return this.layer.objectIdField||Z.fallbackObjectIDAttribute};f._getGlobalIdField=function(){return this.layer.associatedLayer?.globalIdField};f._rendererChange=async function(a,b){const {layer:{fieldsIndex:d}}=
this,c=new Set;let e;a?(await a.collectRequiredFields(c,d),e=Array.from(c).sort()):e=[];c.clear();let g;b?(await b.collectRequiredFields(c,d),g=Array.from(c).sort()):g=[];e.length===g.length&&e.every((l,m)=>e[m]===g[m])||this._reloadAllNodes()};f._rangeInfosChanged=function(a){null!=a&&0<a.length&&A.getLogger(this).warn("Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.")};f._filterChange=function(){this.loadedGraphics.forEachNode(a=>
this._filterNode(a))};f._reloadAllNodes=function(){this._removeAllNodeData();this._controller&&this._controller.restartNodeLoading()};f._filterNode=function(a){const b=this.parsedDefinitionExpression,d=this._excludeObjectIdsSorted,c=this._getObjectIdField();for(const e of a.graphics){a=e.visible;const g=!b||this._evaluateClause(b,e),l=null==d||0>T.binaryIndexOf(d,e.attributes[c]);e.visible=g&&l;a!==e.visible&&(v.graphic=e,v.property="visible",v.oldValue=a,v.newValue=e.visible,this.processor.graphicsCore.graphicUpdateHandler(v))}};
f.createQuery=function(){const a={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return null!=this.filter?this.filter.createQuery(a):new M(a)};f.queryFeatures=function(a,b){return this._queryEngine.executeQuery(this._ensureQuery(a),b?.signal)};f.queryObjectIds=function(a,b){return this._queryEngine.executeQueryForIds(this._ensureQuery(a),b?.signal)};f.queryFeatureCount=function(a,b){return this._queryEngine.executeQueryForCount(this._ensureQuery(a),b?.signal)};f.queryExtent=
function(a,b){return this._queryEngine.executeQueryForExtent(this._ensureQuery(a),b?.signal)};f._ensureQuery=function(a){return this._addDefinitionExpressionToQuery(null==a?this.createQuery():M.from(a))};f._setupQueryEngine=function(){const a=()=>this.processor.featureStore;this._queryEngine=new fa.QueryEngine({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return a()},hasZ:this.hasZ,hasM:this.hasM},priority:sa.TaskPriority.FEATURE_QUERY_ENGINE})};
f._handleEdits=function(a){O.processAttributeEdits(this._attributeEditingContext,a)};D._createClass(q,[{key:"i3slayer",get:function(){return this.layer}},{key:"updatingProgressValue",get:function(){return this._controller?.updatingProgress??1}},{key:"requiredFields",get:function(){return this._fieldsHelper?.requiredFields??[]}},{key:"maximumNumberOfFeatures",get:function(){return this.processor?.graphicsCore?.displayFeatureLimit?.maximumNumberOfFeatures??0},set:function(a){null!=a?(this._override("maximumNumberOfFeatures",
a),this._controller.fixedFeatureTarget=!0):(this._clearOverride("maximumNumberOfFeatures"),this._controller.fixedFeatureTarget=!1)}},{key:"maximumNumberOfFeaturesExceeded",get:function(){return this.suspended?!1:!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached}},{key:"_excludeObjectIdsSorted",get:function(){const a=this.layer.excludeObjectIds;return a.length?a.toArray().sort((b,d)=>b-d):null}},{key:"lodFactor",get:function(){return"Labels"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}},
{key:"hasM",get:function(){return!1}},{key:"hasZ",get:function(){return!0}},{key:"contentVisible",get:function(){return!this.suspended&&!!this._controller?.rootNodeVisible}},{key:"legendEnabled",get:function(){return this.contentVisible&&!0===this.i3slayer?.legendEnabled}},{key:"updatePolicy",get:function(){return this.processor.graphicsCore.effectiveUpdatePolicy}},{key:"usedMemory",get:function(){return this.processor?.graphicsCore?.usedMemory??0}},{key:"unloadedMemory",get:function(){return.8*((this._controller?.unloadedMemoryEstimate??
0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))}},{key:"ignoresMemoryFactor",get:function(){return this._controller&&this._controller.fixedFeatureTarget}},{key:"_attributeEditingContext",get:function(){const a=this._getObjectIdField(),b=this._getGlobalIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:a,globalIdField:b,forEachNode:d=>this.loadedGraphics.forEachNode(c=>d(c.node,c.featureIds)),attributeStorageInfo:this.i3slayer.attributeStorageInfo??
[],i3sOverrides:this._i3sOverrides,getAttributeData:d=>this.getAttributeData(d),setAttributeData:(d,c,e)=>{this._setAttributeData(d,c);d=this.loadedGraphics.getNode(d);null!=e?(e=this.loadedGraphics.get(e.attributes[a]),null!=e&&this.processor.graphicsCore.recreateGraphics([e])):null!=d&&this.processor.graphicsCore.recreateGraphics(d.graphics)},clearMemCache:()=>{}}}},{key:"performanceInfo",get:function(){const a={displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:this.maximumNumberOfFeatures,
totalNumberOfFeatures:-1,nodes:this.loadedGraphics.nodeCount,core:this.processor.graphicsCore.performanceInfo};this._controller&&this._controller.updateStats(a);return a}},{key:"test",get:function(){return{controller:this._controller,numNodes:this.loadedGraphics.nodeCount,loadedGraphics:this.loadedGraphics}}}]);return q}(ia.DefinitionExpressionSceneLayerView(ka.PopupSceneLayerView(h.LayerView3D(qa))));k.__decorate([n.property()],h.prototype,"processor",void 0);k.__decorate([n.property({type:ca})],
h.prototype,"filter",void 0);k.__decorate([n.property()],h.prototype,"loadedGraphics",void 0);k.__decorate([n.property()],h.prototype,"i3slayer",null);k.__decorate([n.property()],h.prototype,"_controller",void 0);k.__decorate([n.property()],h.prototype,"updating",void 0);k.__decorate([n.property()],h.prototype,"suspended",void 0);k.__decorate([n.property()],h.prototype,"holeFilling",void 0);k.__decorate([n.property(na.updatingProgress)],h.prototype,"updatingProgress",void 0);k.__decorate([n.property()],
h.prototype,"updatingProgressValue",null);k.__decorate([n.property(E.requiredFields)],h.prototype,"requiredFields",null);k.__decorate([n.property(E.availableFields)],h.prototype,"availableFields",void 0);k.__decorate([n.property()],h.prototype,"_fieldsHelper",void 0);k.__decorate([n.property({type:Number})],h.prototype,"maximumNumberOfFeatures",null);k.__decorate([n.property({readOnly:!0})],h.prototype,"maximumNumberOfFeaturesExceeded",null);k.__decorate([n.property()],h.prototype,"_excludeObjectIdsSorted",
null);k.__decorate([n.property({readOnly:!0})],h.prototype,"lodFactor",null);k.__decorate([n.property({readOnly:!0})],h.prototype,"hasM",null);k.__decorate([n.property({readOnly:!0})],h.prototype,"hasZ",null);k.__decorate([n.property()],h.prototype,"contentVisible",null);k.__decorate([n.property({readOnly:!0})],h.prototype,"legendEnabled",null);k=h=k.__decorate([V.subclass("esri.views.3d.layers.SceneLayerGraphicsView3D")],h);const ua={2:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,
0]}}},3:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,0,0]}}}},z=X.create(),v={graphic:null,property:null,oldValue:null,newValue:null};return k});