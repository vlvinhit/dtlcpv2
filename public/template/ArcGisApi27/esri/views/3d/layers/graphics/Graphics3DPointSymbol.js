// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/asyncUtils ../../../../core/maybe ../../../../core/promiseUtils ./Graphics3DCalloutSymbolLayerFactory ./Graphics3DLineCalloutSymbolLayer ./Graphics3DSymbol".split(" "),function(c,h,k,l,m,n,p){return function(g){function d(a,b,e){a=g.call(this,a,b,e)||this;a._calloutSymbolLayer=null;a.symbol.hasVisibleCallout()&&(a._calloutSymbolLayer=m.make(a.symbol,b));return a}c._inherits(d,g);var f=d.prototype;f.doLoad=async function(a){const b=
this._calloutSymbolLayer?h.result(this._calloutSymbolLayer.load()):null;try{await c._get(c._getPrototypeOf(d.prototype),"doLoad",this).call(this,a),l.throwIfAborted(a)}catch(e){throw this._calloutSymbolLayer?.abortLoad(),e;}b&&await b};f.destroy=function(){c._get(c._getPrototypeOf(d.prototype),"destroy",this).call(this);this._calloutSymbolLayer=k.destroyMaybe(this._calloutSymbolLayer)};f.createGraphics3DGraphic=function(a,b){b=c._get(c._getPrototypeOf(d.prototype),"createGraphics3DGraphic",this).call(this,
a,b);null!=this._calloutSymbolLayer&&null!=b&&(a=this._createCalloutGraphic(a))&&b.setCalloutGraphic(a);return b};f.globalPropertyChanged=function(a,b){return c._get(c._getPrototypeOf(d.prototype),"globalPropertyChanged",this).call(this,a,b)?this._calloutSymbolLayer?this._calloutSymbolLayer.globalPropertyChanged(a,b,e=>e.calloutLayer):!0:!1};f.updateGeometry=function(a,b){const e=c._get(c._getPrototypeOf(d.prototype),"updateGeometry",this).call(this,a,b);return e&&this._calloutSymbolLayer&&(a=a.calloutLayer)?
this._calloutSymbolLayer.updateGeometry(a,b):e};f._createCalloutGraphic=function(a){const b=a.renderingInfo;a.renderingInfo=new n.LineCalloutSymbolLayerRenderingInfo(b.renderer,b.symbol);return this._calloutSymbolLayer.createGraphics3DGraphic(a)};return c._createClass(d)}(p)});