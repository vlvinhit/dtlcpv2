// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
require({cache:{"esri/chunks/quat":function(){define("exports ./mat3f64 ./quatf64 ./vec3f64 ./common ./vec3 ./vec4".split(" "),function(l,c,Q,t,D,O,y){function z(N){N[0]=0;N[1]=0;N[2]=0;N[3]=1;return N}function I(N,L,P){P*=.5;const Z=Math.sin(P);N[0]=Z*L[0];N[1]=Z*L[1];N[2]=Z*L[2];N[3]=Math.cos(P);return N}function S(N,L){const P=2*Math.acos(L[3]),Z=Math.sin(P/2);Z>D.getEpsilon()?(N[0]=L[0]/Z,N[1]=L[1]/Z,N[2]=L[2]/Z):(N[0]=1,N[1]=0,N[2]=0);return P}function A(N,L,P){const Z=L[0],da=L[1],ia=L[2];L=
L[3];const sa=P[0],Ga=P[1],a=P[2];P=P[3];N[0]=Z*P+L*sa+da*a-ia*Ga;N[1]=da*P+L*Ga+ia*sa-Z*a;N[2]=ia*P+L*a+Z*Ga-da*sa;N[3]=L*P-Z*sa-da*Ga-ia*a;return N}function v(N,L,P){P*=.5;const Z=L[0],da=L[1],ia=L[2];L=L[3];const sa=Math.sin(P);P=Math.cos(P);N[0]=Z*P+L*sa;N[1]=da*P+ia*sa;N[2]=ia*P-da*sa;N[3]=L*P-Z*sa;return N}function M(N,L,P){P*=.5;const Z=L[0],da=L[1],ia=L[2];L=L[3];const sa=Math.sin(P);P=Math.cos(P);N[0]=Z*P-ia*sa;N[1]=da*P+L*sa;N[2]=ia*P+Z*sa;N[3]=L*P-da*sa;return N}function W(N,L,P){P*=.5;
const Z=L[0],da=L[1],ia=L[2];L=L[3];const sa=Math.sin(P);P=Math.cos(P);N[0]=Z*P+da*sa;N[1]=da*P-Z*sa;N[2]=ia*P+L*sa;N[3]=L*P-ia*sa;return N}function V(N,L){const P=L[0],Z=L[1];L=L[2];N[0]=P;N[1]=Z;N[2]=L;N[3]=Math.sqrt(Math.abs(1-P*P-Z*Z-L*L));return N}function q(N,L,P,Z){const da=L[0],ia=L[1],sa=L[2];L=L[3];let Ga=P[0],a=P[1],b=P[2];P=P[3];let g;let k;var x=da*Ga+ia*a+sa*b+L*P;0>x&&(x=-x,Ga=-Ga,a=-a,b=-b,P=-P);1-x>D.getEpsilon()?(g=Math.acos(x),k=Math.sin(g),x=Math.sin((1-Z)*g)/k,Z=Math.sin(Z*g)/
k):x=1-Z;N[0]=x*da+Z*Ga;N[1]=x*ia+Z*a;N[2]=x*sa+Z*b;N[3]=x*L+Z*P;return N}function n(N){var L=D.RANDOM,P=L();const Z=L();L=L();const da=Math.sqrt(1-P);P=Math.sqrt(P);N[0]=da*Math.sin(2*Math.PI*Z);N[1]=da*Math.cos(2*Math.PI*Z);N[2]=P*Math.sin(2*Math.PI*L);N[3]=P*Math.cos(2*Math.PI*L);return N}function C(N,L){const P=L[0],Z=L[1],da=L[2];L=L[3];var ia=P*P+Z*Z+da*da+L*L;ia=ia?1/ia:0;N[0]=-P*ia;N[1]=-Z*ia;N[2]=-da*ia;N[3]=L*ia;return N}function G(N,L){N[0]=-L[0];N[1]=-L[1];N[2]=-L[2];N[3]=L[3];return N}
function u(N,L){var P=L[0]+L[4]+L[8];if(0<P)P=Math.sqrt(P+1),N[3]=.5*P,P=.5/P,N[0]=(L[5]-L[7])*P,N[1]=(L[6]-L[2])*P,N[2]=(L[1]-L[3])*P;else{let Z=0;L[4]>L[0]&&(Z=1);L[8]>L[3*Z+Z]&&(Z=2);const da=(Z+1)%3,ia=(Z+2)%3;P=Math.sqrt(L[3*Z+Z]-L[3*da+da]-L[3*ia+ia]+1);N[Z]=.5*P;P=.5/P;N[3]=(L[3*da+ia]-L[3*ia+da])*P;N[da]=(L[3*da+Z]+L[3*Z+da])*P;N[ia]=(L[3*ia+Z]+L[3*Z+ia])*P}return N}function p(N,L,P,Z){var da=.5*Math.PI/180;L*=da;P*=da;Z*=da;da=Math.sin(L);L=Math.cos(L);const ia=Math.sin(P);P=Math.cos(P);
const sa=Math.sin(Z);Z=Math.cos(Z);N[0]=da*P*Z-L*ia*sa;N[1]=L*ia*Z+da*P*sa;N[2]=L*P*sa-da*ia*Z;N[3]=L*P*Z+da*ia*sa;return N}function B(N){return"quat("+N[0]+", "+N[1]+", "+N[2]+", "+N[3]+")"}function r(N,L,P){const Z=O.dot(L,P);if(-.999999>Z)return O.cross(Ca,Ea,L),1E-6>O.len(Ca)&&O.cross(Ca,Za,L),O.normalize(Ca,Ca),I(N,Ca,Math.PI),N;if(.999999<Z)return N[0]=0,N[1]=0,N[2]=0,N[3]=1,N;O.cross(Ca,L,P);N[0]=Ca[0];N[1]=Ca[1];N[2]=Ca[2];N[3]=1+Z;return Ia(N,N)}function w(N,L,P,Z,da,ia){q(Va,L,da,ia);q(Wa,
P,Z,ia);q(N,Va,Wa,2*ia*(1-ia));return N}function X(N,L,P,Z){const da=Xa;da[0]=P[0];da[3]=P[1];da[6]=P[2];da[1]=Z[0];da[4]=Z[1];da[7]=Z[2];da[2]=-L[0];da[5]=-L[1];da[8]=-L[2];return Ia(N,u(N,da))}const ea=y.copy,qa=y.set,ta=y.add,la=y.scale,za=y.dot,Ja=y.lerp,Ka=y.length,La=y.squaredLength,Ia=y.normalize,Aa=y.exactEquals;y=y.equals;const Ca=t.create(),Ea=t.fromValues(1,0,0),Za=t.fromValues(0,1,0),Va=Q.create(),Wa=Q.create(),Xa=c.create();c=Object.freeze(Object.defineProperty({__proto__:null,add:ta,
calculateW:V,conjugate:G,copy:ea,dot:za,equals:y,exactEquals:Aa,fromEuler:p,fromMat3:u,getAxisAngle:S,identity:z,invert:C,len:Ka,length:Ka,lerp:Ja,mul:A,multiply:A,normalize:Ia,random:n,rotateX:v,rotateY:M,rotateZ:W,rotationTo:r,scale:la,set:qa,setAxes:X,setAxisAngle:I,slerp:q,sqlerp:w,sqrLen:La,squaredLength:La,str:B},Symbol.toStringTag,{value:"Module"}));l.add=ta;l.calculateW=V;l.conjugate=G;l.copy=ea;l.dot=za;l.equals=y;l.exactEquals=Aa;l.fromEuler=p;l.fromMat3=u;l.getAxisAngle=S;l.identity=z;
l.invert=C;l.len=Ka;l.length=Ka;l.lerp=Ja;l.mul=A;l.multiply=A;l.normalize=Ia;l.quat=c;l.random=n;l.rotateX=v;l.rotateY=M;l.rotateZ=W;l.rotationTo=r;l.scale=la;l.set=qa;l.setAxes=X;l.setAxisAngle=I;l.slerp=q;l.sqlerp=w;l.sqrLen=La;l.squaredLength=La;l.str=B})},"esri/chunks/mat3f64":function(){define(["exports"],function(l){function c(){return[1,0,0,0,1,0,0,0,1]}function Q(y){return[y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8]]}function t(y,z,I,S,A,v,M,W,V){return[y,z,I,S,A,v,M,W,V]}function D(y,z){return new Float64Array(y,
z,9)}const O=Object.freeze(Object.defineProperty({__proto__:null,clone:Q,create:c,createView:D,fromValues:t},Symbol.toStringTag,{value:"Module"}));l.clone=Q;l.create=c;l.createView=D;l.fromValues=t;l.mat3f64=O})},"esri/chunks/quatf64":function(){define(["exports"],function(l){function c(){return[0,0,0,1]}function Q(z){return[z[0],z[1],z[2],z[3]]}function t(z,I,S,A){return[z,I,S,A]}function D(z,I){return new Float64Array(z,I,4)}const O=c(),y=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:O,
clone:Q,create:c,createView:D,fromValues:t},Symbol.toStringTag,{value:"Module"}));l.IDENTITY=O;l.clone=Q;l.create=c;l.createView=D;l.fromValues=t;l.quatf64=y})},"esri/chunks/quatf32":function(){define(["exports"],function(l){function c(){const y=new Float32Array(4);y[3]=1;return y}function Q(y){const z=new Float32Array(4);z[0]=y[0];z[1]=y[1];z[2]=y[2];z[3]=y[3];return z}function t(y,z,I,S){const A=new Float32Array(4);A[0]=y;A[1]=z;A[2]=I;A[3]=S;return A}function D(y,z){return new Float32Array(y,z,
4)}const O=Object.freeze(Object.defineProperty({__proto__:null,clone:Q,create:c,createView:D,fromValues:t},Symbol.toStringTag,{value:"Module"}));l.clone=Q;l.create=c;l.createView=D;l.fromValues=t;l.quatf32=O})},"esri/chunks/vec3f32":function(){define(["exports"],function(l){function c(){return new Float32Array(3)}function Q(n){const C=new Float32Array(3);C[0]=n[0];C[1]=n[1];C[2]=n[2];return C}function t(n,C,G){const u=new Float32Array(3);u[0]=n;u[1]=C;u[2]=G;return u}function D(n,C){return new Float32Array(n,
C,3)}function O(){return c()}function y(){return t(1,1,1)}function z(){return t(1,0,0)}function I(){return t(0,1,0)}function S(){return t(0,0,1)}const A=c(),v=y(),M=z(),W=I(),V=S(),q=Object.freeze(Object.defineProperty({__proto__:null,ONES:v,UNIT_X:M,UNIT_Y:W,UNIT_Z:V,ZEROS:A,clone:Q,create:c,createView:D,fromValues:t,ones:y,unitX:z,unitY:I,unitZ:S,zeros:O},Symbol.toStringTag,{value:"Module"}));l.ONES=v;l.UNIT_X=M;l.UNIT_Y=W;l.UNIT_Z=V;l.ZEROS=A;l.clone=Q;l.create=c;l.createView=D;l.fromValues=t;
l.ones=y;l.unitX=z;l.unitY=I;l.unitZ=S;l.vec3f32=q;l.zeros=O})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(l,c,Q,t,D,O,y,z,I,S,A,v,M,W,V,q,n,C,G,u,p,B,r,w,X,ea){function qa(){return!!xa&&q.isLoaded()}function ta(d){null==Ha&&(Ha=Promise.all([q.load(),(new Promise((f,e)=>l(["../chunks/geometryEngineBase"],f,e))).then(f=>f.geometryEngineBase),new Promise((f,e)=>l(["./geometryAdapters/hydrated"],f,e))]));return Ha.then(([,f,{hydratedAdapter:e}])=>{O.throwIfAborted(d);Fa=e;xa=f.default;xa._enableProjection(q.pe);cb.notify()})}function la(d,f,e=null,m=null){return Array.isArray(d)?0===d.length?[]:
za(Fa,d,d[0].spatialReference,f,e,m):za(Fa,[d],d.spatialReference,f,e,m)[0]}function za(d,f,e,m,R=null,U=null){if(null==e||null==m)return f;if(Ia(e,m,R))return f.map(ca=>Aa(ca,e,m));if(null==R){const ca=r.cacheKey(e,m);void 0!==va[ca]?R=va[ca]:(R=Ka(e,m,void 0),null==R&&(R=new r),va[ca]=R)}if(null==xa||null==d)throw new $a;return null!=U?xa._project(d,f,e,m,R,U):xa._project(d,f,e,m,R)}function Ja(d,f){if(!qa())for(const e of d)if(null!=e&&!w.equals(e.spatialReference,f)&&w.isValid(e.spatialReference)&&
w.isValid(f)&&!Ia(e.spatialReference,f))return z.trackAccess(cb),{pending:ta(),geometries:null};return{pending:null,geometries:d.map(e=>null==e?null:w.equals(e.spatialReference,f)?e:w.isValid(e.spatialReference)&&w.isValid(f)?La(e,f):null)}}function Ka(d,f,e=null){if(null==d||null==f)return null;if(null==xa||null==Fa)throw new $a;d=xa._getTransformation(Fa,d,f,e,e?.spatialReference);return null!==d?r.fromGE(d):null}function La(d,f){try{const e=la(d,f);if(null==e)return null;"xmin"in d&&"xmin"in e&&
(e.zmin=d.zmin,e.zmax=d.zmax);const m=ea.getGeometryZScaler(e.type,d.spatialReference,f);null!=m&&m(e);return e}catch(e){if(!(e instanceof $a))throw e;return null}}function Ia(d,f,e){return e?!1:w.equals(d,f)?!0:w.isValid(d)&&w.isValid(f)&&!!Ma(d,f,fb)}function Aa(d,f,e){return d?"x"in d?Ca(d,f,new n,e,0):"xmin"in d?Wa(d,f,new W,e,0):"rings"in d?Va(d,f,new C,e,0):"paths"in d?Za(d,f,new G,e,0):"points"in d?Ea(d,f,new V,e,0):null:null}function Ca(d,f,e,m,R){pa[0]=d.x;pa[1]=d.y;const U=d.z;pa[2]=void 0!==
U?U:R;if(!P(pa,f,0,pa,m,0,1))return null;e.x=pa[0];e.y=pa[1];e.spatialReference=m;void 0===U?(e.z=void 0,e.hasZ=!1):(e.z=pa[2],e.hasZ=!0);void 0===d.m?(e.m=void 0,e.hasM=!1):(e.m=d.m,e.hasM=!0);return e}function Ea(d,f,e,m,R){const {points:U,hasZ:ca,hasM:ja}=d;d=[];const Da=U.length,Ba=[];for(var ya of U)Ba.push(ya[0],ya[1],ca?ya[2]:R);if(!P(Ba,f,0,Ba,m,0,Da))return null;for(f=0;f<Da;++f){R=3*f;ya=Ba[R];const Oa=Ba[R+1];ca&&ja?d.push([ya,Oa,Ba[R+2],U[f][3]]):ca?d.push([ya,Oa,Ba[R+2]]):ja?d.push([ya,
Oa,U[f][2]]):d.push([ya,Oa])}e.points=d;e.spatialReference=m;e.hasZ=ca;e.hasM=ja;return e}function Za(d,f,e,m,R){const {paths:U,hasZ:ca,hasM:ja}=d;d=[];if(!Z(U,ca??!1,ja??!1,f,d,m,R))return null;e.paths=d;e.spatialReference=m;e.hasZ=ca;e.hasM=ja;return e}function Va(d,f,e,m,R){const {rings:U,hasZ:ca,hasM:ja}=d;d=[];if(!Z(U,ca??!1,ja??!1,f,d,m,R))return null;e.rings=d;e.spatialReference=m;e.hasZ=ca;e.hasM=ja;return e}function Wa(d,f,e,m,R){const {xmin:U,ymin:ca,xmax:ja,ymax:Da,hasZ:Ba,hasM:ya}=d;if(!Xa(U,
ca,Ba?d.zmin:R,f,pa,m))return null;e.xmin=pa[0];e.ymin=pa[1];Ba&&(e.zmin=pa[2]);if(!Xa(ja,Da,Ba?d.zmax:R,f,pa,m))return null;e.xmax=pa[0];e.ymax=pa[1];Ba&&(e.zmax=pa[2]);ya&&(e.mmin=d.mmin,e.mmax=d.mmax);e.spatialReference=m;return e}function Xa(d,f,e,m,R,U){wa[0]=d;wa[1]=f;wa[2]=e;return P(wa,m,0,R,U,0,1)}function N(d,f,e,m){if(null==f||null==m||2>d.length)return!1;2===d.length&&(wa[0]=d[0],wa[1]=d[1],wa[2]=0,d=wa);return P(d,f,0,e,m,0,1)}function L(d,f,e){if(null==f)return!1;f=Ga(f,ab);f=Ra[f][h.WGS84_COMPARABLE_LON_LAT];
if(null==f)return!1;f(d,0,wa,0);e!==wa&&(e[0]=wa[0],e[1]=wa[1],2<e.length&&(e[2]=wa[2]));return!0}function P(d,f,e,m,R,U,ca=1){f=Ma(f,R,fb);if(null==f)return!1;if(f===a){if(d===m&&e===U)return!0;ca=e+3*ca;for(let ja=e,Da=U;ja<ca;ja++,Da++)m[Da]=d[ja];return!0}ca=e+3*ca;for(let ja=e,Da=U;ja<ca;ja+=3,Da+=3)f(d,ja,m,Da);return!0}function Z(d,f,e,m,R,U,ca=0){const ja=[];for(const Da of d)for(const Ba of Da)ja.push(Ba[0],Ba[1],f?Ba[2]:ca);if(!P(ja,m,0,ja,U,0,ja.length/3))return!1;m=0;R.length=0;for(const Da of d){d=
[];for(const Ba of Da)f&&e?d.push([ja[m++],ja[m++],ja[m++],Ba[3]]):f?d.push([ja[m++],ja[m++],ja[m++]]):(e?d.push([ja[m++],ja[m++],Ba[2]]):d.push([ja[m++],ja[m++]]),m++);R.push(d)}return!0}function da(d,f,e,m){f=m+f;if(f<m/2||e>f)return Number.MAX_VALUE;d=Math.abs(Sa*d)+Math.asin(e/f);return d>=Math.PI/2?Number.MAX_VALUE:e/Math.cos(d)}function ia(d,f,e){const m=Math.sin(d);d=Math.cos(d);const R=Math.sin(f);f=Math.cos(f);e[0]=-m;e[4]=-R*d;e[8]=f*d;e[12]=0;e[1]=d;e[5]=-R*m;e[9]=f*m;e[13]=0;e[2]=0;e[6]=
f;e[10]=R;e[14]=0;e[3]=0;e[7]=0;e[11]=0;e[15]=1;return e}function sa(d,f,e){ia(d,f,e);S.transpose(e,e);return e}function Ga(d,f){if(!d)return h.UNKNOWN;if(f.spatialReference===d)return f.spatialReferenceId;f.spatialReference=d;"metersPerUnit"in f&&(f.metersPerUnit=y.getMetersPerUnitForSR(d,1));return d.wkt===M.SphericalECEFSpatialReferenceLike.wkt?f.spatialReferenceId=h.SPHERICAL_ECEF:w.isWGS84(d)?f.spatialReferenceId=h.WGS84:w.isWebMercator(d)?f.spatialReferenceId=h.WEB_MERCATOR:w.isPlateCarree(d)?
f.spatialReferenceId=h.PLATE_CARREE:d.wkt===M.WGS84ECEFSpatialReferenceLike.wkt?f.spatialReferenceId=h.WGS84_ECEF:d.wkid===X.SupportedGCSWkids.CGCS2000?f.spatialReferenceId=h.CGCS2000:d.wkt===M.SphericalPCPFMarsLike.wkt?f.spatialReferenceId=h.SPHERICAL_MARS_PCPF:d.wkt===M.SphericalPCPFMoonLike.wkt?f.spatialReferenceId=h.SPHERICAL_MOON_PCPF:w.isMars(d)?f.spatialReferenceId=h.GCSMARS2000:w.isMoon(d)?f.spatialReferenceId=h.GCSMOON2000:f.spatialReferenceId=h.UNKNOWN}function a(d,f,e,m){d!==e&&(e[m++]=
d[f++],e[m++]=d[f++],e[m]=d[f])}function b(d,f,e,m){e[m++]=bb*(d[f++]/p.earth.radius);e[m++]=bb*(Math.PI/2-2*Math.atan(Math.exp(-d[f++]/p.earth.radius)));e[m]=d[f]}function g(d,f,e,m){b(d,f,e,m);aa(e,m,e,m)}function k(d,f,e,m){b(d,f,e,m);ma(e,m,e,m)}function x(d,f,e,m,R){var U=.4999999*Math.PI;U=D.clamp(Sa*d[f+1],-U,U);U=Math.sin(U);e[m++]=Sa*d[f]*R.radius;e[m++]=R.halfSemiMajorAxis*Math.log((1+U)/(1-U));e[m]=d[f+2]}function F(d,f,e,m){x(d,f,e,m,p.earth)}function H(d,f,e,m){e[m]=d[f]*gb;e[m+1]=d[f+
1]*gb;e[m+2]=d[f+2]}function J(d,f,e,m){e[m]=d[f]*db;e[m+1]=d[f+1]*db;e[m+2]=d[f+2]}function E(d,f,e,m){b(d,f,e,m);H(e,m,e,m)}function K(d,f,e,m,R){R+=d[f+2];const U=Sa*d[f+1];d=Sa*d[f];f=Math.cos(U);e[m++]=Math.cos(d)*f*R;e[m++]=Math.sin(d)*f*R;e[m]=Math.sin(U)*R}function T(d,f,e,m){K(d,f,e,m,p.moon.radius)}function Y(d,f,e,m){K(d,f,e,m,p.mars.radius)}function aa(d,f,e,m){K(d,f,e,m,p.earth.radius)}function ba(d,f,e,m,R){var U=d[f];const ca=d[f+1];f=d[f+2];d=Math.sqrt(U*U+ca*ca+f*f);f=D.asinClamped(f/
(0===d?1:d));U=Math.atan2(ca,U);e[m++]=bb*U;e[m++]=bb*f;e[m]=d-R}function ka(d,f,e,m){ba(d,f,e,m,p.moon.radius)}function ha(d,f,e,m){ba(d,f,e,m,p.mars.radius)}function fa(d,f,e,m){ba(d,f,e,m,p.earth.radius)}function ua(d,f,e,m){fa(d,f,e,m);F(e,m,e,m)}function oa(d,f,e,m){fa(d,f,e,m);ma(e,m,e,m)}function ma(d,f,e,m){var R=p.earth;const U=Sa*d[f];var ca=Sa*d[f+1];d=d[f+2];f=Math.sin(ca);ca=Math.cos(ca);const ja=R.radius/Math.sqrt(1-R.eccentricitySquared*f*f);e[m++]=(ja+d)*ca*Math.cos(U);e[m++]=(ja+
d)*ca*Math.sin(U);e[m++]=(ja*(1-R.eccentricitySquared)+d)*f}function na(d,f,e,m){var R=B.earthEllipsoidConstants,U=d[f],ca=d[f+1];d=d[f+2];let ja;f=Math.abs(d);var Da=U*U+ca*ca;var Ba=Math.sqrt(Da);var ya=Da+d*d;var Oa=Math.sqrt(ya);U=Math.atan2(ca,U);var Ua=d*d/ya;ya=Da/ya;ca=R.a2/Oa;Da=R.a3-R.a4/Oa;.3<ya?(Ua=f/Oa*(1+ya*(R.a1+ca+Ua*Da)/Oa),Oa=Math.asin(Ua),ca=Ua*Ua,ya=Math.sqrt(1-ca)):(ya=Ba/Oa*(1-Ua*(R.a5-ca-ya*Da)/Oa),Oa=Math.acos(ya),ca=1-ya*ya,Ua=Math.sqrt(ca));ja=1-p.earth.eccentricitySquared*
ca;ca=p.earth.radius/Math.sqrt(ja);R=R.a6*ca;ca=Ba-ca*ya;Da=f-R*Ua;f=ya*ca+Ua*Da;Ba=ya*Da-Ua*ca;R=Ba/(R/ja+f);Oa+=R;0>d&&(Oa=-Oa);e[m++]=bb*U;e[m++]=bb*Oa;e[m]=f+Ba*R/2}function ra(d,f,e,m){na(d,f,e,m);aa(e,m,e,m)}function Pa(d,f,e,m){na(d,f,e,m);F(e,m,e,m)}function Ma(d,f,e=Na()){return null==d||null==f?null:Qa(d,f,e).projector}function Qa(d,f,e){if(null==d||null==f||e.source.spatialReference===d&&e.dest.spatialReference===f)return e;const m=Ga(d,e.source),R=Ga(f,e.dest);m===h.UNKNOWN&&R===h.UNKNOWN?
w.equals(d,f)?e.projector=a:e.projector=null:e.projector=Ra[m][R];return e}function Na(){return{source:{spatialReference:null,spatialReferenceId:h.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:h.UNKNOWN,metersPerUnit:1},projector:a}}let xa=null,Fa=null,Ha=null,va={};const cb=new I.SimpleObservable;let $a=function(d){function f(){return d.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}Q._inherits(f,d);return Q._createClass(f)}(t);
var h;(function(d){d[d.UNKNOWN=0]="UNKNOWN";d[d.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";d[d.WGS84=2]="WGS84";d[d.WEB_MERCATOR=3]="WEB_MERCATOR";d[d.WGS84_ECEF=4]="WGS84_ECEF";d[d.CGCS2000=5]="CGCS2000";d[d.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";d[d.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";d[d.GCSMARS2000=8]="GCSMARS2000";d[d.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";d[d.GCSMOON2000=10]="GCSMOON2000";d[d.LON_LAT=11]="LON_LAT";d[d.PLATE_CARREE=12]="PLATE_CARREE"})(h||(h={}));const gb=
p.earth.radius*Math.PI/180,db=180/(p.earth.radius*Math.PI),Ra={[h.WGS84]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:a,[h.WGS84_COMPARABLE_LON_LAT]:a,[h.SPHERICAL_ECEF]:aa,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:F,[h.PLATE_CARREE]:H,[h.WGS84]:a,[h.WGS84_ECEF]:ma},[h.CGCS2000]:{[h.CGCS2000]:a,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:a,[h.WGS84_COMPARABLE_LON_LAT]:a,[h.SPHERICAL_ECEF]:aa,[h.SPHERICAL_MARS_PCPF]:null,
[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:H,[h.WGS84]:null,[h.WGS84_ECEF]:ma},[h.GCSMARS2000]:{[h.CGCS2000]:null,[h.GCSMARS2000]:a,[h.GCSMOON2000]:null,[h.LON_LAT]:a,[h.WGS84_COMPARABLE_LON_LAT]:null,[h.SPHERICAL_ECEF]:null,[h.SPHERICAL_MARS_PCPF]:Y,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:null,[h.WGS84]:null,[h.WGS84_ECEF]:null},[h.GCSMOON2000]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:a,[h.LON_LAT]:a,
[h.WGS84_COMPARABLE_LON_LAT]:null,[h.SPHERICAL_ECEF]:null,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:T,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:null,[h.WGS84]:null,[h.WGS84_ECEF]:null},[h.WEB_MERCATOR]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:b,[h.WGS84_COMPARABLE_LON_LAT]:b,[h.SPHERICAL_ECEF]:g,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:a,[h.PLATE_CARREE]:E,[h.WGS84]:b,[h.WGS84_ECEF]:k},[h.WGS84_ECEF]:{[h.CGCS2000]:na,
[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:na,[h.WGS84_COMPARABLE_LON_LAT]:na,[h.SPHERICAL_ECEF]:ra,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:Pa,[h.PLATE_CARREE]:function(d,f,e,m){na(d,f,e,m);H(e,m,e,m)},[h.WGS84]:na,[h.WGS84_ECEF]:a},[h.SPHERICAL_ECEF]:{[h.CGCS2000]:fa,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:fa,[h.WGS84_COMPARABLE_LON_LAT]:fa,[h.SPHERICAL_ECEF]:a,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,
[h.WEB_MERCATOR]:ua,[h.PLATE_CARREE]:function(d,f,e,m){fa(d,f,e,m);H(e,m,e,m)},[h.WGS84]:fa,[h.WGS84_ECEF]:oa},[h.SPHERICAL_MARS_PCPF]:{[h.CGCS2000]:null,[h.GCSMARS2000]:ha,[h.GCSMOON2000]:null,[h.LON_LAT]:ha,[h.WGS84_COMPARABLE_LON_LAT]:null,[h.SPHERICAL_ECEF]:null,[h.SPHERICAL_MARS_PCPF]:a,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:null,[h.WGS84]:null,[h.WGS84_ECEF]:null},[h.SPHERICAL_MOON_PCPF]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:ka,
[h.LON_LAT]:ka,[h.WGS84_COMPARABLE_LON_LAT]:null,[h.SPHERICAL_ECEF]:null,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:a,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:null,[h.WGS84]:null,[h.WGS84_ECEF]:null},[h.UNKNOWN]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:null,[h.WGS84_COMPARABLE_LON_LAT]:null,[h.SPHERICAL_ECEF]:null,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:a,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:null,[h.WGS84]:null,
[h.WGS84_ECEF]:null},[h.LON_LAT]:{[h.CGCS2000]:a,[h.GCSMARS2000]:a,[h.GCSMOON2000]:a,[h.LON_LAT]:a,[h.WGS84_COMPARABLE_LON_LAT]:a,[h.SPHERICAL_ECEF]:aa,[h.SPHERICAL_MARS_PCPF]:Y,[h.SPHERICAL_MOON_PCPF]:T,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:F,[h.PLATE_CARREE]:H,[h.WGS84]:a,[h.WGS84_ECEF]:ma},[h.WGS84_COMPARABLE_LON_LAT]:{[h.CGCS2000]:null,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:a,[h.WGS84_COMPARABLE_LON_LAT]:a,[h.SPHERICAL_ECEF]:aa,[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,
[h.UNKNOWN]:null,[h.WEB_MERCATOR]:null,[h.PLATE_CARREE]:H,[h.WGS84]:a,[h.WGS84_ECEF]:ma},[h.PLATE_CARREE]:{[h.CGCS2000]:J,[h.GCSMARS2000]:null,[h.GCSMOON2000]:null,[h.LON_LAT]:J,[h.WGS84_COMPARABLE_LON_LAT]:J,[h.SPHERICAL_ECEF]:function(d,f,e,m){J(d,f,e,m);aa(e,m,e,m)},[h.SPHERICAL_MARS_PCPF]:null,[h.SPHERICAL_MOON_PCPF]:null,[h.UNKNOWN]:null,[h.WEB_MERCATOR]:function(d,f,e,m){J(d,f,e,m);F(e,m,e,m)},[h.PLATE_CARREE]:a,[h.WGS84]:J,[h.WGS84_ECEF]:function(d,f,e,m){J(d,f,e,m);ma(e,m,e,m)}}},ab={spatialReference:null,
spatialReferenceId:h.UNKNOWN},hb={spatialReference:null,spatialReferenceId:h.UNKNOWN},fb=Na(),ib=Na(),Sa=D.deg2rad(1),bb=D.rad2deg(1),wa=v.create(),Ta=v.create(),Ya=v.create(),pa=v.create(),eb=v.create();c.canProjectToWGS84ComparableLonLat=function(d){if(null==d)return!1;d=Ga(d,ab);return!!Ra[d][h.WGS84_COMPARABLE_LON_LAT]};c.canProjectWithoutEngine=Ia;c.computeENUToSphericalPCPFLocalRotation=ia;c.computeSphericalPCPFToENULocalRotation=sa;c.computeTranslationToOriginAndRotation=function(d,f,e,m){if(null==
d||null==m)return!1;var R=Ga(d,ab),U=Ga(m,hb);if(R===U&&U!==h.SPHERICAL_ECEF&&U!==h.SPHERICAL_MARS_PCPF&&U!==h.SPHERICAL_MOON_PCPF&&(R!==h.UNKNOWN||w.equals(d,m)))return S.fromTranslation(e,f),!0;if(U===h.SPHERICAL_ECEF||U===h.SPHERICAL_MARS_PCPF||U===h.SPHERICAL_MOON_PCPF){R=Ra[R][h.LON_LAT];U=Ra[h.LON_LAT][U];if(null==R||null==U)return!1;R(f,0,Ta,0);U(Ta,0,Ya,0);ia(Sa*Ta[0],Sa*Ta[1],e);e[12]=Ya[0];e[13]=Ya[1];e[14]=Ya[2];return!0}if((U===h.WEB_MERCATOR||U===h.PLATE_CARREE)&&(R===h.WGS84||R===h.CGCS2000&&
U===h.PLATE_CARREE||R===h.SPHERICAL_ECEF||R===h.WEB_MERCATOR)){d=Ra[R][h.LON_LAT];U=Ra[h.LON_LAT][U];if(null==d||null==U)return!1;d(f,0,Ta,0);U(Ta,0,Ya,0);R===h.SPHERICAL_ECEF?sa(Sa*Ta[0],Sa*Ta[1],e):S.identity(e);e[12]=Ya[0];e[13]=Ya[1];e[14]=Ya[2];return!0}return!1};c.getProjectorName=function(d,f){switch(Ma(d,f,fb)){case a:return"copy3";case aa:return"wgs84ToSphericalECEF";case F:return"wgs84ToWebMercator";case H:return"wgs84ToPlateCarree";case ma:return"wgs84ToWGS84ECEF";case b:return"webMercatorToWGS84";
case g:return"webMercatorToSphericalECEF";case k:return"webMercatorToWGS84ECEF";case E:return"webMercatorToPlateCarree";case na:return"wgs84ECEFToWGS84";case ra:return"wgs84ECEFToSphericalECEF";case Pa:return"wgs84ECEFToWebMercator";case fa:return"sphericalECEFToWGS84";case ua:return"sphericalECEFToWebMercator";case ha:return"sphericalMarsPCPFToMars2000";case ka:return"sphericalMoonPCPFToMoon2000";case oa:return"sphericalECEFToWGS84ECEF";case Y:return"mars2000ToSphericalPCPF";case T:return"moon2000ToSphericalPCPF";
default:return null}};c.getTransformation=Ka;c.getTransformations=function(d,f,e=null){if(null==xa||null==Fa)throw new $a;d=xa._getTransformationBySuitability(Fa,d,f,e,e?.spatialReference);if(null!==d){f=[];for(const m of d)f.push(r.fromGE(m));return f}return[]};c.initializeProjection=async function(d,f,e,m){if(qa())return O.waitTick(m);if(Array.isArray(d))for(const {source:R,dest:U,geographicTransformation:ca}of d){if(!Ia(R,U,ca))return ta(m)}else if(!Ia(d,f,e))return ta(m);return O.waitTick(m)};
c.isLoaded=qa;c.load=ta;c.localLinearScaleFactors=function(d,f,e,m){if(null==f||null==m)return!1;const R=Ga(f,ab);var U=Ga(m,hb);if(R===U&&R!==h.UNKNOWN||w.equals(f,m))return e[0]=1,e[1]=1,e[2]=1,!0;if(R===h.SPHERICAL_ECEF){f=A.length(d);d=f/Math.sqrt(d[0]*d[0]+d[1]*d[1]);f/=p.earth.radius;if(U===h.WEB_MERCATOR)return e[0]=d*f,e[1]=d*f,e[2]=1,!0;if(U===h.WGS84||U===h.CGCS2000)return U=db,e[0]=U*d*f,e[1]=U*f,e[2]=1,!0}else if(R===h.PLATE_CARREE){if(U===h.WGS84||U===h.CGCS2000)return e[0]=db,e[1]=db,
e[2]=1,!0;if(U===h.WEB_MERCATOR)return U=d[1]/p.earth.radius,e[0]=1,e[1]=1/Math.cos(U),e[2]=1,!0}return!1};c.lonLatToSphericalPCPF=function(d,f,e,m){const R=Math.cos(e);d[0]=Math.cos(f)*R*m;d[1]=Math.sin(f)*R*m;d[2]=Math.sin(e)*m};c.lonLatToWebMercatorComparable=x;c.project=la;c.projectBoundingRect=function(d,f,e,m){if(null==d)return!1;if(w.equals(f,m))return u.copy(e,d),!0;wa[0]=d[0];wa[1]=d[1];wa[2]=0;if(!P(wa,f,0,wa,m,0,1))return!1;e[0]=wa[0];e[1]=wa[1];wa[0]=d[2];wa[1]=d[3];wa[2]=0;if(!P(wa,f,
0,wa,m,0,1))return!1;e[2]=wa[0];e[3]=wa[1];return!0};c.projectBoundingSphere=function(d,f,e,m){if(null==f||null==m)return!1;f=Qa(f,m,ib);if(f.projector===a)return e[0]=d[0],e[1]=d[1],e[2]=d[2],e[3]=d[3],!0;if(null==f.projector)return!1;const {source:R,dest:U}=f;if(U.spatialReferenceId===h.WEB_MERCATOR){f=Ra[R.spatialReferenceId][h.WGS84];if(null==f)return!1;f(d,0,Ta,0);F(Ta,0,e,0);e[3]=da(Ta[1],d[2],d[3],p.earth.radius);return!0}if(R.spatialReferenceId!==h.WGS84&&R.spatialReferenceId!==h.CGCS2000||
U.spatialReferenceId!==h.PLATE_CARREE)f.projector(d,0,e,0),e[3]=d[3]*(R.metersPerUnit??1)/(U.metersPerUnit??1);else{m=Ra[h.SPHERICAL_ECEF][h.PLATE_CARREE];let ca=d[3];null!=Ra[R.spatialReferenceId][h.SPHERICAL_ECEF]&&null!=m&&(ca=da(d[1],d[2],d[3],p.earth.radius));f.projector(d,0,e,0);e[3]=ca}return!0};c.projectBuffer=P;c.projectDirection=function(d,f,e,m,R){A.copy(pa,d);A.add(eb,d,f);N(pa,e,pa,R);N(eb,e,eb,R);A.subtract(m,eb,pa);A.normalize(m,m)};c.projectExtent=function(d,f,e=f.spatialReference,
m=0){return null!=d.spatialReference&&null!=e&&null!=Wa(d,d.spatialReference,f,e,m)};c.projectMany=za;c.projectMultipoint=function(d,f,e=f.spatialReference,m=0){return null!=d.spatialReference&&null!=e&&null!=Ea(d,d.spatialReference,f,e,m)};c.projectOrLoad=function(d,f){d=Ja([d],f);return null!=d.pending?{pending:d.pending,geometry:null}:null!=d.geometries?{pending:null,geometry:d.geometries[0]}:{pending:null,geometry:null}};c.projectOrLoadMany=Ja;c.projectPoint=function(d,f,e=f.spatialReference,
m=0){return null!=e&&null!=d.spatialReference&&null!=Ca(d,d.spatialReference,f,e,m)};c.projectPointToVector=function(d,f,e,m=0){pa[0]=d.x;pa[1]=d.y;const R=d.z;pa[2]=void 0!==R?R:m;return P(pa,d.spatialReference,0,f,e,0,1)};c.projectPointToWGS84ComparableLonLat=function(d,f){pa[0]=d.x;pa[1]=d.y;const e=d.z;pa[2]=void 0!==e?e:0;return L(pa,d.spatialReference,f)};c.projectPolygon=function(d,f,e=f.spatialReference,m=0){return null!=d.spatialReference&&null!=e&&null!=Va(d,d.spatialReference,f,e,m)};c.projectPolygonToWGS84ComparableLonLat=
function({hasZ:d,spatialReference:f,rings:e},m,R=0){f=Ga(f,ab);f=Ra[f][h.WGS84_COMPARABLE_LON_LAT];if(null==f)return!1;d=d?U=>U:U=>A.set(pa,U[0],U[1],R);for(const U of e){e=[];for(const ca of U){const ja=[0,0,R];f(d(ca),0,ja,0);e.push(ja)}m.push(e)}return!0};c.projectPolyline=function(d,f,e=f.spatialReference,m=0){return null!=d.spatialReference&&null!=e&&null!=Za(d,d.spatialReference,f,e,m)};c.projectPolylineToWGS84ComparableLonLat=function({hasZ:d,spatialReference:f,paths:e},m,R=0){f=Ga(f,ab);f=
Ra[f][h.WGS84_COMPARABLE_LON_LAT];if(null==f)return!1;d=d?U=>U:U=>A.set(pa,U[0],U[1],R);for(const U of e){e=[];for(const ca of U){const ja=[0,0,R];f(d(ca),0,ja,0);e.push(ja)}m.push(e)}return!0};c.projectVectorToDehydratedPoint=function(d,f,e){return P(d,f,0,pa,e.spatialReference,0,1)?(e.x=pa[0],e.y=pa[1],e.z=pa[2],e):null};c.projectVectorToPoint=function(d,f,e){if(null==f||null==e)return null;const m=new n({spatialReference:e});return P(d,f,0,pa,e,0,1)?(m.x=pa[0],m.y=pa[1],m.z=pa[2],m):null};c.projectVectorToVector=
N;c.projectVectorToWGS84ComparableLonLat=function(d,f,e){return L(d,f,e)};c.projectWithoutEngine=Aa;c.projectXYZToVector=Xa;c.sphericalPCPFtoLonLatElevation=ba;c.test={get loadPromise(){return Ha}};c.tryProjectWithZConversion=La;c.unload=function(){Ha=Fa=xa=null;va={}};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../ObservableBase"],function(l,c,Q){Q=function(t){function D(){return t.apply(this,
arguments)||this}c._inherits(D,t);D.prototype.notify=function(){var O=this._observers;if(O&&0<O.length){O=O.slice();for(const y of O)y.onInvalidated(),y.onCommitted()}};return c._createClass(D)}(Q.ObservableBase);l.SimpleObservable=Q;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(l,c,Q){function t(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];
a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function D(a,b,g,k,x,F,H,J,E,K,T,Y,aa,ba,ka,ha,fa){a[0]=b;a[1]=g;a[2]=k;a[3]=x;a[4]=F;a[5]=H;a[6]=J;a[7]=E;a[8]=K;a[9]=T;a[10]=Y;a[11]=aa;a[12]=ba;a[13]=ka;a[14]=ha;a[15]=fa;return a}function O(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function y(a,b){if(a===b){const g=b[1],k=b[2],x=b[3],F=b[6],H=b[7],J=b[11];a[1]=b[4];a[2]=b[8];a[3]=
b[12];a[4]=g;a[6]=b[9];a[7]=b[13];a[8]=k;a[9]=F;a[11]=b[14];a[12]=x;a[13]=H;a[14]=J}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function z(a,b){I(a,b)||O(a);return a}function I(a,b){const g=b[0],k=b[1],x=b[2],F=b[3],H=b[4],J=b[5],E=b[6],K=b[7],T=b[8],Y=b[9],aa=b[10],ba=b[11],ka=b[12],ha=b[13],fa=b[14];b=b[15];const ua=g*J-k*H,oa=g*E-x*H,ma=g*K-F*H,na=k*E-x*
J,ra=k*K-F*J,Pa=x*K-F*E,Ma=T*ha-Y*ka,Qa=T*fa-aa*ka,Na=T*b-ba*ka,xa=Y*fa-aa*ha,Fa=Y*b-ba*ha,Ha=aa*b-ba*fa;let va=ua*Ha-oa*Fa+ma*xa+na*Na-ra*Qa+Pa*Ma;if(!va)return null;va=1/va;a[0]=(J*Ha-E*Fa+K*xa)*va;a[1]=(x*Fa-k*Ha-F*xa)*va;a[2]=(ha*Pa-fa*ra+b*na)*va;a[3]=(aa*ra-Y*Pa-ba*na)*va;a[4]=(E*Na-H*Ha-K*Qa)*va;a[5]=(g*Ha-x*Na+F*Qa)*va;a[6]=(fa*ma-ka*Pa-b*oa)*va;a[7]=(T*Pa-aa*ma+ba*oa)*va;a[8]=(H*Fa-J*Na+K*Ma)*va;a[9]=(k*Na-g*Fa-F*Ma)*va;a[10]=(ka*ra-ha*ma+b*ua)*va;a[11]=(Y*ma-T*ra-ba*ua)*va;a[12]=(J*Qa-H*
xa-E*Ma)*va;a[13]=(g*xa-k*Qa+x*Ma)*va;a[14]=(ha*oa-ka*na-fa*ua)*va;a[15]=(T*na-Y*oa+aa*ua)*va;return a}function S(a,b){const g=b[0],k=b[1],x=b[2],F=b[3],H=b[4],J=b[5],E=b[6],K=b[7],T=b[8],Y=b[9],aa=b[10],ba=b[11],ka=b[12],ha=b[13],fa=b[14];b=b[15];a[0]=J*(aa*b-ba*fa)-Y*(E*b-K*fa)+ha*(E*ba-K*aa);a[1]=-(k*(aa*b-ba*fa)-Y*(x*b-F*fa)+ha*(x*ba-F*aa));a[2]=k*(E*b-K*fa)-J*(x*b-F*fa)+ha*(x*K-F*E);a[3]=-(k*(E*ba-K*aa)-J*(x*ba-F*aa)+Y*(x*K-F*E));a[4]=-(H*(aa*b-ba*fa)-T*(E*b-K*fa)+ka*(E*ba-K*aa));a[5]=g*(aa*
b-ba*fa)-T*(x*b-F*fa)+ka*(x*ba-F*aa);a[6]=-(g*(E*b-K*fa)-H*(x*b-F*fa)+ka*(x*K-F*E));a[7]=g*(E*ba-K*aa)-H*(x*ba-F*aa)+T*(x*K-F*E);a[8]=H*(Y*b-ba*ha)-T*(J*b-K*ha)+ka*(J*ba-K*Y);a[9]=-(g*(Y*b-ba*ha)-T*(k*b-F*ha)+ka*(k*ba-F*Y));a[10]=g*(J*b-K*ha)-H*(k*b-F*ha)+ka*(k*K-F*J);a[11]=-(g*(J*ba-K*Y)-H*(k*ba-F*Y)+T*(k*K-F*J));a[12]=-(H*(Y*fa-aa*ha)-T*(J*fa-E*ha)+ka*(J*aa-E*Y));a[13]=g*(Y*fa-aa*ha)-T*(k*fa-x*ha)+ka*(k*aa-x*Y);a[14]=-(g*(J*fa-E*ha)-H*(k*fa-x*ha)+ka*(k*E-x*J));a[15]=g*(J*aa-E*Y)-H*(k*aa-x*Y)+T*
(k*E-x*J);return a}function A(a){const b=a[0],g=a[1],k=a[2],x=a[3],F=a[4],H=a[5],J=a[6],E=a[7],K=a[8],T=a[9],Y=a[10],aa=a[11],ba=a[12],ka=a[13],ha=a[14];a=a[15];return(b*H-g*F)*(Y*a-aa*ha)-(b*J-k*F)*(T*a-aa*ka)+(b*E-x*F)*(T*ha-Y*ka)+(g*J-k*H)*(K*a-aa*ba)-(g*E-x*H)*(K*ha-Y*ba)+(k*E-x*J)*(K*ka-T*ba)}function v(a,b,g){const k=b[0],x=b[1],F=b[2],H=b[3],J=b[4],E=b[5],K=b[6],T=b[7],Y=b[8],aa=b[9],ba=b[10],ka=b[11],ha=b[12],fa=b[13],ua=b[14];b=b[15];let oa=g[0],ma=g[1],na=g[2],ra=g[3];a[0]=oa*k+ma*J+na*
Y+ra*ha;a[1]=oa*x+ma*E+na*aa+ra*fa;a[2]=oa*F+ma*K+na*ba+ra*ua;a[3]=oa*H+ma*T+na*ka+ra*b;oa=g[4];ma=g[5];na=g[6];ra=g[7];a[4]=oa*k+ma*J+na*Y+ra*ha;a[5]=oa*x+ma*E+na*aa+ra*fa;a[6]=oa*F+ma*K+na*ba+ra*ua;a[7]=oa*H+ma*T+na*ka+ra*b;oa=g[8];ma=g[9];na=g[10];ra=g[11];a[8]=oa*k+ma*J+na*Y+ra*ha;a[9]=oa*x+ma*E+na*aa+ra*fa;a[10]=oa*F+ma*K+na*ba+ra*ua;a[11]=oa*H+ma*T+na*ka+ra*b;oa=g[12];ma=g[13];na=g[14];ra=g[15];a[12]=oa*k+ma*J+na*Y+ra*ha;a[13]=oa*x+ma*E+na*aa+ra*fa;a[14]=oa*F+ma*K+na*ba+ra*ua;a[15]=oa*H+ma*
T+na*ka+ra*b;return a}function M(a,b,g){const k=g[0],x=g[1];g=g[2];if(b===a)a[12]=b[0]*k+b[4]*x+b[8]*g+b[12],a[13]=b[1]*k+b[5]*x+b[9]*g+b[13],a[14]=b[2]*k+b[6]*x+b[10]*g+b[14],a[15]=b[3]*k+b[7]*x+b[11]*g+b[15];else{const F=b[0],H=b[1],J=b[2],E=b[3],K=b[4],T=b[5],Y=b[6],aa=b[7],ba=b[8],ka=b[9],ha=b[10],fa=b[11];a[0]=F;a[1]=H;a[2]=J;a[3]=E;a[4]=K;a[5]=T;a[6]=Y;a[7]=aa;a[8]=ba;a[9]=ka;a[10]=ha;a[11]=fa;a[12]=F*k+K*x+ba*g+b[12];a[13]=H*k+T*x+ka*g+b[13];a[14]=J*k+Y*x+ha*g+b[14];a[15]=E*k+aa*x+fa*g+b[15]}return a}
function W(a,b,g){const k=g[0],x=g[1];g=g[2];a[0]=b[0]*k;a[1]=b[1]*k;a[2]=b[2]*k;a[3]=b[3]*k;a[4]=b[4]*x;a[5]=b[5]*x;a[6]=b[6]*x;a[7]=b[7]*x;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*g;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function V(a,b,g,k){let x=k[0],F=k[1];k=k[2];let H=Math.sqrt(x*x+F*F+k*k);var J=void 0,E=void 0;let K=void 0,T=void 0,Y=void 0,aa=void 0,ba=void 0,ka=void 0,ha=void 0,fa=void 0,ua=void 0,oa=void 0,ma=void 0,na=void 0,ra=void 0,Pa=void 0,Ma=void 0,Qa=void 0,
Na=void 0,xa=void 0,Fa=void 0,Ha=void 0;E=J=void 0;if(H<Q.getEpsilon())return null;H=1/H;x*=H;F*=H;k*=H;J=Math.sin(g);E=Math.cos(g);K=1-E;T=b[0];Y=b[1];aa=b[2];ba=b[3];ka=b[4];ha=b[5];fa=b[6];ua=b[7];oa=b[8];ma=b[9];na=b[10];ra=b[11];Pa=x*x*K+E;Ma=F*x*K+k*J;Qa=k*x*K-F*J;Na=x*F*K-k*J;xa=F*F*K+E;Fa=k*F*K+x*J;Ha=x*k*K+F*J;J=F*k*K-x*J;E=k*k*K+E;a[0]=T*Pa+ka*Ma+oa*Qa;a[1]=Y*Pa+ha*Ma+ma*Qa;a[2]=aa*Pa+fa*Ma+na*Qa;a[3]=ba*Pa+ua*Ma+ra*Qa;a[4]=T*Na+ka*xa+oa*Fa;a[5]=Y*Na+ha*xa+ma*Fa;a[6]=aa*Na+fa*xa+na*Fa;a[7]=
ba*Na+ua*xa+ra*Fa;a[8]=T*Ha+ka*J+oa*E;a[9]=Y*Ha+ha*J+ma*E;a[10]=aa*Ha+fa*J+na*E;a[11]=ba*Ha+ua*J+ra*E;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function q(a,b,g){const k=Math.sin(g);g=Math.cos(g);const x=b[4],F=b[5],H=b[6],J=b[7],E=b[8],K=b[9],T=b[10],Y=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=x*g+E*k;a[5]=F*g+K*k;a[6]=H*g+T*k;a[7]=J*g+Y*k;a[8]=E*g-x*k;a[9]=K*g-F*k;a[10]=T*g-H*k;a[11]=Y*g-J*k;return a}function n(a,
b,g){const k=Math.sin(g);g=Math.cos(g);const x=b[0],F=b[1],H=b[2],J=b[3],E=b[8],K=b[9],T=b[10],Y=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=x*g-E*k;a[1]=F*g-K*k;a[2]=H*g-T*k;a[3]=J*g-Y*k;a[8]=x*k+E*g;a[9]=F*k+K*g;a[10]=H*k+T*g;a[11]=J*k+Y*g;return a}function C(a,b,g){const k=Math.sin(g);g=Math.cos(g);const x=b[0],F=b[1],H=b[2],J=b[3],E=b[4],K=b[5],T=b[6],Y=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],
a[14]=b[14],a[15]=b[15]);a[0]=x*g+E*k;a[1]=F*g+K*k;a[2]=H*g+T*k;a[3]=J*g+Y*k;a[4]=E*g-x*k;a[5]=K*g-F*k;a[6]=T*g-H*k;a[7]=Y*g-J*k;return a}function G(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function u(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function p(a,b,g){if(0===b)return O(a);let k=g[0],x=g[1];g=
g[2];let F=Math.sqrt(k*k+x*x+g*g),H=void 0,J=void 0,E=void 0;if(F<Q.getEpsilon())return null;F=1/F;k*=F;x*=F;g*=F;H=Math.sin(b);J=Math.cos(b);E=1-J;a[0]=k*k*E+J;a[1]=x*k*E+g*H;a[2]=g*k*E-x*H;a[3]=0;a[4]=k*x*E-g*H;a[5]=x*x*E+J;a[6]=g*x*E+k*H;a[7]=0;a[8]=k*g*E+x*H;a[9]=x*g*E-k*H;a[10]=g*g*E+J;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function B(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=g;a[7]=0;a[8]=0;a[9]=-g;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;
a[15]=1;return a}function r(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-g;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=g;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function w(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=g;a[2]=0;a[3]=0;a[4]=-g;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function X(a,b,g){var k=b[0],x=b[1],F=b[2],H=b[3],J=k+k,E=x+x;const K=F+F;b=k*J;const T=k*E;k*=K;const Y=x*E;x*=K;F*=K;J*=H;E*=H;
H*=K;a[0]=1-(Y+F);a[1]=T+H;a[2]=k-E;a[3]=0;a[4]=T-H;a[5]=1-(b+F);a[6]=x+J;a[7]=0;a[8]=k+E;a[9]=x-J;a[10]=1-(b+Y);a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function ea(a,b){const g=Ga,k=-b[0],x=-b[1],F=-b[2],H=b[3],J=b[4],E=b[5],K=b[6],T=b[7],Y=k*k+x*x+F*F+H*H;0<Y?(g[0]=2*(J*H+T*k+E*F-K*x)/Y,g[1]=2*(E*H+T*x+K*k-J*F)/Y,g[2]=2*(K*H+T*F+J*x-E*k)/Y):(g[0]=2*(J*H+T*k+E*F-K*x),g[1]=2*(E*H+T*x+K*k-J*F),g[2]=2*(K*H+T*F+J*x-E*k));X(a,b,g);return a}function qa(a,b){a[0]=b[12];a[1]=b[13];a[2]=
b[14];return a}function ta(a,b){const g=b[0],k=b[1],x=b[2],F=b[4],H=b[5],J=b[6],E=b[8],K=b[9];b=b[10];a[0]=Math.sqrt(g*g+k*k+x*x);a[1]=Math.sqrt(F*F+H*H+J*J);a[2]=Math.sqrt(E*E+K*K+b*b);return a}function la(a,b){const g=b[0]+b[5]+b[10];let k=0;0<g?(k=2*Math.sqrt(g+1),a[3]=.25*k,a[0]=(b[6]-b[9])/k,a[1]=(b[8]-b[2])/k,a[2]=(b[1]-b[4])/k):b[0]>b[5]&&b[0]>b[10]?(k=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/k,a[0]=.25*k,a[1]=(b[1]+b[4])/k,a[2]=(b[8]+b[2])/k):b[5]>b[10]?(k=2*Math.sqrt(1+b[5]-b[0]-b[10]),
a[3]=(b[8]-b[2])/k,a[0]=(b[1]+b[4])/k,a[1]=.25*k,a[2]=(b[6]+b[9])/k):(k=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/k,a[0]=(b[8]+b[2])/k,a[1]=(b[6]+b[9])/k,a[2]=.25*k);return a}function za(a,b,g,k){var x=b[0],F=b[1],H=b[2],J=b[3],E=x+x,K=F+F,T=H+H;b=x*E;const Y=x*K;x*=T;const aa=F*K;F*=T;H*=T;E*=J;K*=J;J*=T;T=k[0];const ba=k[1];k=k[2];a[0]=(1-(aa+H))*T;a[1]=(Y+J)*T;a[2]=(x-K)*T;a[3]=0;a[4]=(Y-J)*ba;a[5]=(1-(b+H))*ba;a[6]=(F+E)*ba;a[7]=0;a[8]=(x+K)*k;a[9]=(F-E)*k;a[10]=(1-(b+aa))*k;a[11]=0;a[12]=
g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function Ja(a,b,g,k,x){var F=b[0],H=b[1],J=b[2],E=b[3],K=F+F,T=H+H,Y=J+J;b=F*K;var aa=F*T,ba=F*Y;F=H*T;H*=Y;var ka=J*Y;J=E*K;T*=E;const ha=E*Y;var fa=k[0],ua=k[1];Y=k[2];k=x[0];E=x[1];x=x[2];K=(1-(F+ka))*fa;const oa=(aa+ha)*fa;fa*=ba-T;aa=(aa-ha)*ua;ka=(1-(b+ka))*ua;ua*=H+J;ba=(ba+T)*Y;H=(H-J)*Y;b=(1-(b+F))*Y;a[0]=K;a[1]=oa;a[2]=fa;a[3]=0;a[4]=aa;a[5]=ka;a[6]=ua;a[7]=0;a[8]=ba;a[9]=H;a[10]=b;a[11]=0;a[12]=g[0]+k-(K*k+aa*E+ba*x);a[13]=g[1]+E-(oa*k+ka*E+H*
x);a[14]=g[2]+x-(fa*k+ua*E+b*x);a[15]=1;return a}function Ka(a,b){var g=b[0],k=b[1],x=b[2];b=b[3];var F=g+g,H=k+k;const J=x+x;g*=F;const E=k*F;k*=H;const K=x*F,T=x*H;x*=J;F*=b;H*=b;b*=J;a[0]=1-k-x;a[1]=E+b;a[2]=K-H;a[3]=0;a[4]=E-b;a[5]=1-g-x;a[6]=T+F;a[7]=0;a[8]=K+H;a[9]=T-F;a[10]=1-g-k;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function La(a,b,g,k,x,F,H){const J=1/(g-b),E=1/(x-k),K=1/(F-H);a[0]=2*F*J;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*F*E;a[6]=0;a[7]=0;a[8]=(g+b)*J;a[9]=(x+k)*E;a[10]=(H+F)*
K;a[11]=-1;a[12]=0;a[13]=0;a[14]=H*F*2*K;a[15]=0;return a}function Ia(a,b,g,k,x){b=1/Math.tan(b/2);let F=void 0;a[0]=b/g;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=x&&Infinity!==x?(F=1/(k-x),a[10]=(x+k)*F,a[14]=2*x*k*F):(a[10]=-1,a[14]=-2*k);return a}function Aa(a,b,g,k){const x=Math.tan(b.upDegrees*Math.PI/180),F=Math.tan(b.downDegrees*Math.PI/180),H=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const J=2/(H+
b),E=2/(x+F);a[0]=J;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=E;a[6]=0;a[7]=0;a[8]=-((H-b)*J*.5);a[9]=(x-F)*E*.5;a[10]=k/(g-k);a[11]=-1;a[12]=0;a[13]=0;a[14]=k*g/(g-k);a[15]=0;return a}function Ca(a,b,g,k,x,F,H){const J=1/(b-g),E=1/(k-x),K=1/(F-H);a[0]=-2*J;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*E;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*K;a[11]=0;a[12]=(b+g)*J;a[13]=(x+k)*E;a[14]=(H+F)*K;a[15]=1;return a}function Ea(a,b,g,k){const x=b[0],F=b[1];b=b[2];let H=x-g[0],J=F-g[1];g=b-g[2];var E=Q.getEpsilon();if(Math.abs(H)<
E&&Math.abs(J)<E&&Math.abs(g)<E)O(a);else{var K=1/Math.sqrt(H*H+J*J+g*g);H*=K;J*=K;g*=K;K=k[0];var T=k[1];E=k[2];k=T*g-E*J;E=E*H-K*g;T=K*J-T*H;(K=Math.sqrt(k*k+E*E+T*T))?(K=1/K,k*=K,E*=K,T*=K):T=E=k=0;var Y=J*T-g*E,aa=g*k-H*T,ba=H*E-J*k;(K=Math.sqrt(Y*Y+aa*aa+ba*ba))?(K=1/K,Y*=K,aa*=K,ba*=K):ba=aa=Y=0;a[0]=k;a[1]=Y;a[2]=H;a[3]=0;a[4]=E;a[5]=aa;a[6]=J;a[7]=0;a[8]=T;a[9]=ba;a[10]=g;a[11]=0;a[12]=-(k*x+E*F+T*b);a[13]=-(Y*x+aa*F+ba*b);a[14]=-(H*x+J*F+g*b);a[15]=1}}function Za(a,b,g,k){const x=b[0],F=
b[1];b=b[2];var H=k[0];const J=k[1];var E=k[2];k=x-g[0];let K=F-g[1];g=b-g[2];let T=k*k+K*K+g*g;0<T&&(T=1/Math.sqrt(T),k*=T,K*=T,g*=T);let Y=J*g-E*K;E=E*k-H*g;H=H*K-J*k;T=Y*Y+E*E+H*H;0<T&&(T=1/Math.sqrt(T),Y*=T,E*=T,H*=T);a[0]=Y;a[1]=E;a[2]=H;a[3]=0;a[4]=K*H-g*E;a[5]=g*Y-k*H;a[6]=k*E-K*Y;a[7]=0;a[8]=k;a[9]=K;a[10]=g;a[11]=0;a[12]=x;a[13]=F;a[14]=b;a[15]=1;return a}function Va(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+
", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function Wa(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function Xa(a,b,g){a[0]=b[0]+g[0];a[1]=b[1]+g[1];a[2]=b[2]+g[2];a[3]=b[3]+g[3];a[4]=b[4]+g[4];a[5]=b[5]+g[5];a[6]=b[6]+g[6];a[7]=b[7]+g[7];a[8]=b[8]+g[8];a[9]=b[9]+g[9];a[10]=b[10]+g[10];a[11]=b[11]+g[11];a[12]=b[12]+g[12];a[13]=b[13]+g[13];a[14]=b[14]+g[14];a[15]=b[15]+g[15];
return a}function N(a,b,g){a[0]=b[0]-g[0];a[1]=b[1]-g[1];a[2]=b[2]-g[2];a[3]=b[3]-g[3];a[4]=b[4]-g[4];a[5]=b[5]-g[5];a[6]=b[6]-g[6];a[7]=b[7]-g[7];a[8]=b[8]-g[8];a[9]=b[9]-g[9];a[10]=b[10]-g[10];a[11]=b[11]-g[11];a[12]=b[12]-g[12];a[13]=b[13]-g[13];a[14]=b[14]-g[14];a[15]=b[15]-g[15];return a}function L(a,b,g){a[0]=b[0]*g;a[1]=b[1]*g;a[2]=b[2]*g;a[3]=b[3]*g;a[4]=b[4]*g;a[5]=b[5]*g;a[6]=b[6]*g;a[7]=b[7]*g;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*g;a[12]=b[12]*g;a[13]=b[13]*g;a[14]=b[14]*g;
a[15]=b[15]*g;return a}function P(a,b,g,k){a[0]=b[0]+g[0]*k;a[1]=b[1]+g[1]*k;a[2]=b[2]+g[2]*k;a[3]=b[3]+g[3]*k;a[4]=b[4]+g[4]*k;a[5]=b[5]+g[5]*k;a[6]=b[6]+g[6]*k;a[7]=b[7]+g[7]*k;a[8]=b[8]+g[8]*k;a[9]=b[9]+g[9]*k;a[10]=b[10]+g[10]*k;a[11]=b[11]+g[11]*k;a[12]=b[12]+g[12]*k;a[13]=b[13]+g[13]*k;a[14]=b[14]+g[14]*k;a[15]=b[15]+g[15]*k;return a}function Z(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===
b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function da(a,b){if(a===b)return!0;const g=a[0],k=a[1],x=a[2],F=a[3],H=a[4],J=a[5],E=a[6],K=a[7],T=a[8],Y=a[9],aa=a[10],ba=a[11],ka=a[12],ha=a[13],fa=a[14];a=a[15];const ua=b[0],oa=b[1],ma=b[2],na=b[3],ra=b[4],Pa=b[5],Ma=b[6],Qa=b[7],Na=b[8],xa=b[9],Fa=b[10],Ha=b[11],va=b[12],cb=b[13],$a=b[14];b=b[15];const h=Q.getEpsilon();return Math.abs(g-ua)<=h*Math.max(1,Math.abs(g),Math.abs(ua))&&Math.abs(k-oa)<=h*Math.max(1,Math.abs(k),
Math.abs(oa))&&Math.abs(x-ma)<=h*Math.max(1,Math.abs(x),Math.abs(ma))&&Math.abs(F-na)<=h*Math.max(1,Math.abs(F),Math.abs(na))&&Math.abs(H-ra)<=h*Math.max(1,Math.abs(H),Math.abs(ra))&&Math.abs(J-Pa)<=h*Math.max(1,Math.abs(J),Math.abs(Pa))&&Math.abs(E-Ma)<=h*Math.max(1,Math.abs(E),Math.abs(Ma))&&Math.abs(K-Qa)<=h*Math.max(1,Math.abs(K),Math.abs(Qa))&&Math.abs(T-Na)<=h*Math.max(1,Math.abs(T),Math.abs(Na))&&Math.abs(Y-xa)<=h*Math.max(1,Math.abs(Y),Math.abs(xa))&&Math.abs(aa-Fa)<=h*Math.max(1,Math.abs(aa),
Math.abs(Fa))&&Math.abs(ba-Ha)<=h*Math.max(1,Math.abs(ba),Math.abs(Ha))&&Math.abs(ka-va)<=h*Math.max(1,Math.abs(ka),Math.abs(va))&&Math.abs(ha-cb)<=h*Math.max(1,Math.abs(ha),Math.abs(cb))&&Math.abs(fa-$a)<=h*Math.max(1,Math.abs(fa),Math.abs($a))&&Math.abs(a-b)<=h*Math.max(1,Math.abs(a),Math.abs(b))}function ia(a){const b=Q.getEpsilon(),g=a[0],k=a[1],x=a[2],F=a[4],H=a[5],J=a[6],E=a[8],K=a[9];a=a[10];return Math.abs(1-(g*g+F*F+E*E))<=b&&Math.abs(1-(k*k+H*H+K*K))<=b&&Math.abs(1-(x*x+J*J+a*a))<=b}function sa(a){return 1===
a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const Ga=c.create();c=Object.freeze(Object.defineProperty({__proto__:null,add:Xa,adjoint:S,copy:t,determinant:A,equals:da,exactEquals:Z,frob:Wa,fromQuat:Ka,fromQuat2:ea,fromRotation:p,fromRotationTranslation:X,fromRotationTranslationScale:za,fromRotationTranslationScaleOrigin:Ja,fromScaling:u,fromTranslation:G,fromXRotation:B,fromYRotation:r,fromZRotation:w,frustum:La,getRotation:la,getScaling:ta,getTranslation:qa,
hasIdentityRotation:sa,identity:O,invert:I,invertOrIdentity:z,isOrthoNormal:ia,lookAt:Ea,mul:v,multiply:v,multiplyScalar:L,multiplyScalarAndAdd:P,ortho:Ca,perspective:Ia,perspectiveFromFieldOfView:Aa,rotate:V,rotateX:q,rotateY:n,rotateZ:C,scale:W,set:D,str:Va,sub:N,subtract:N,targetTo:Za,translate:M,transpose:y},Symbol.toStringTag,{value:"Module"}));l.add=Xa;l.adjoint=S;l.copy=t;l.determinant=A;l.equals=da;l.exactEquals=Z;l.frob=Wa;l.fromQuat=Ka;l.fromQuat2=ea;l.fromRotation=p;l.fromRotationTranslation=
X;l.fromRotationTranslationScale=za;l.fromRotationTranslationScaleOrigin=Ja;l.fromScaling=u;l.fromTranslation=G;l.fromXRotation=B;l.fromYRotation=r;l.fromZRotation=w;l.frustum=La;l.getRotation=la;l.getScaling=ta;l.getTranslation=qa;l.hasIdentityRotation=sa;l.identity=O;l.invert=I;l.invertOrIdentity=z;l.isOrthoNormal=ia;l.lookAt=Ea;l.mat4=c;l.mul=v;l.multiply=v;l.multiplyScalar=L;l.multiplyScalarAndAdd=P;l.ortho=Ca;l.perspective=Ia;l.perspectiveFromFieldOfView=Aa;l.rotate=V;l.rotateX=q;l.rotateY=n;
l.rotateZ=C;l.scale=W;l.set=D;l.str=Va;l.sub=N;l.subtract=N;l.targetTo=Za;l.translate=M;l.transpose=y})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(l,c,Q,t,D){function O(){return!!c._pe}function y(){return!!D("esri-wasm")}function z(){return W?W:W=(new Promise((q,n)=>l(["./pe-wasm"],q,n))).then(q=>q.peWasm).then(({default:q})=>q({locateFile:n=>t.getAssetUrl(`esri/geometry/support/${n}`)})).then(q=>{I(q)})}function I(q){function n(u,
p,B){u[p]=B(u[p])}c._pe=q;c.PeDefs.init();c.PeGTlistExtended.init();c.PeNotationMgrs.init();c.PeNotationUtm.init();c.PePCSInfo.init();c.PeGCSExtent=function(u){function p(){return u.apply(this,arguments)||this}Q._inherits(p,u);p.prototype.destroy=function(){c._pe.destroy(this)};return Q._createClass(p)}(c._pe.PeGCSExtent);q=[c._pe.PeDatum,c._pe.PeGeogcs,c._pe.PeGeogtran,c._pe.PeObject,c._pe.PeParameter,c._pe.PePrimem,c._pe.PeProjcs,c._pe.PeSpheroid,c._pe.PeUnit];for(var C of q)n(C.prototype,"getName",
u=>function(){return u.call(this,Array(c.PeDefs.PE_NAME_MAX))});for(const u of[c._pe.PeGeogtran,c._pe.PeProjcs])n(u.prototype,"getParameters",p=>function(){const B=Array(c.PeDefs.PE_PARM_MAX);let r=p.call(this);for(let w=0;w<B.length;w++){const X=c._pe.getValue(r,"*");B[w]=X?c._pe.wrapPointer(X,c._pe.PeParameter):null;r+=Int32Array.BYTES_PER_ELEMENT}return B});n(c._pe.PeHorizon.prototype,"getCoord",u=>function(){const p=this.getSize();if(!p)return null;const B=[],r=u.call(this);M(B,p,r);return B});
n(c._pe.PeGTlistExtendedEntry.prototype,"getEntries",u=>{const p=c._pe._pe_getPeGTlistExtendedGTsSize();return function(){let B=null;var r=u.call(this);if(!c._pe.compare(r,c._pe.NULL)){B=[r];const w=this.getSteps();if(1<w){r=c._pe.getPointer(r);for(let X=1;X<w;X++)B.push(c._pe.wrapPointer(r+p*X,c._pe.PeGTlistExtendedGTs))}}return B}});const G=c._pe._pe_getPeHorizonSize();C=u=>function(){let p=this._cache;p||(this._cache=p=new Map);if(p.has(u))return p.get(u);let B=null;var r=u.call(this);if(!c._pe.compare(r,
c._pe.NULL)){B=[r];const w=r.getNump();if(1<w){r=c._pe.getPointer(r);for(let X=1;X<w;X++)B.push(c._pe.wrapPointer(r+G*X,c._pe.PeHorizon))}}p.set(u,B);return B};n(c._pe.PeProjcs.prototype,"horizonGcsGenerate",C);n(c._pe.PeProjcs.prototype,"horizonPcsGenerate",C);c._pe.PeObject.prototype.toString=function(u=c.PeDefs.PE_STR_OPTS_NONE){c._pe.ensureCache.prepare();const p=c._pe.getPointer(this),B=c._pe.ensureInt8(Array(c.PeDefs.PE_BUFFER_MAX));return c._pe.UTF8ToString(c._pe._pe_object_to_string_ext(p,
u,B))}}function S(q){if(q){var n=c._pe.getClass(q);n&&(n=c._pe.getCache(n))&&(q=c._pe.getPointer(q))&&delete n[q]}}function A(q,n){const C=[];n=Array(n);for(let G=0;G<q;G++)C.push(c._pe.ensureInt8(n));return C}function v(q){let n;Array.isArray(q[0])?(n=[],q.forEach(C=>{n.push(C[0],C[1])})):n=q;return n}function M(q,n,C,G=!1){if(G)for(G=0;G<2*n;G++)q[G]=c._pe.getValue(C+G*Float64Array.BYTES_PER_ELEMENT,"double");else{G=0===q.length;for(let u=0;u<n;u++)G&&(q[u]=Array(2)),q[u][0]=c._pe.getValue(C,"double"),
q[u][1]=c._pe.getValue(C+Float64Array.BYTES_PER_ELEMENT,"double"),C+=2*Float64Array.BYTES_PER_ELEMENT}}let W;c._pe=null;c.PeCSTransformations=void 0;(function(q){function n(u,p,B){c._pe.ensureCache.prepare();var r=v(B);const w=B===r;r=c._pe.ensureFloat64(r);(u=c._pe._pe_geog_to_proj(c._pe.getPointer(u),p,r))&&M(B,p,r,w);return u}function C(u,p,B){return G(u,p,B,0)}function G(u,p,B,r){c._pe.ensureCache.prepare();var w=v(B);const X=B===w;w=c._pe.ensureFloat64(w);(u=c._pe._pe_proj_to_geog_center(c._pe.getPointer(u),
p,w,r))&&M(B,p,w,X);return u}q.geogToProj=n;q.projGeog=function(u,p,B,r){switch(r){case c.PeDefs.PE_TRANSFORM_P_TO_G:return C(u,p,B);case c.PeDefs.PE_TRANSFORM_G_TO_P:return n(u,p,B)}return 0};q.projToGeog=C;q.projToGeogCenter=G})(c.PeCSTransformations||(c.PeCSTransformations={}));c.PeDefs=void 0;(function(q){q.init=function(){q.PE_BUFFER_MAX=c._pe.PeDefs.prototype.PE_BUFFER_MAX;q.PE_NAME_MAX=c._pe.PeDefs.prototype.PE_NAME_MAX;q.PE_MGRS_MAX=c._pe.PeDefs.prototype.PE_MGRS_MAX;q.PE_USNG_MAX=c._pe.PeDefs.prototype.PE_USNG_MAX;
q.PE_DD_MAX=c._pe.PeDefs.prototype.PE_DD_MAX;q.PE_DDM_MAX=c._pe.PeDefs.prototype.PE_DDM_MAX;q.PE_DMS_MAX=c._pe.PeDefs.prototype.PE_DMS_MAX;q.PE_UTM_MAX=c._pe.PeDefs.prototype.PE_UTM_MAX;q.PE_PARM_MAX=c._pe.PeDefs.prototype.PE_PARM_MAX;q.PE_TYPE_NONE=c._pe.PeDefs.prototype.PE_TYPE_NONE;q.PE_TYPE_GEOGCS=c._pe.PeDefs.prototype.PE_TYPE_GEOGCS;q.PE_TYPE_PROJCS=c._pe.PeDefs.prototype.PE_TYPE_PROJCS;q.PE_TYPE_GEOGTRAN=c._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;q.PE_TYPE_COORDSYS=c._pe.PeDefs.prototype.PE_TYPE_COORDSYS;
q.PE_TYPE_UNIT=c._pe.PeDefs.prototype.PE_TYPE_UNIT;q.PE_TYPE_LINUNIT=c._pe.PeDefs.prototype.PE_TYPE_LINUNIT;q.PE_STR_OPTS_NONE=c._pe.PeDefs.prototype.PE_STR_OPTS_NONE;q.PE_STR_AUTH_NONE=c._pe.PeDefs.prototype.PE_STR_AUTH_NONE;q.PE_STR_AUTH_TOP=c._pe.PeDefs.prototype.PE_STR_AUTH_TOP;q.PE_STR_NAME_CANON=c._pe.PeDefs.prototype.PE_STR_NAME_CANON;q.PE_PARM_X0=c._pe.PeDefs.prototype.PE_PARM_X0;q.PE_PARM_ND=c._pe.PeDefs.prototype.PE_PARM_ND;q.PE_TRANSFORM_1_TO_2=c._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;
q.PE_TRANSFORM_2_TO_1=c._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;q.PE_TRANSFORM_P_TO_G=c._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;q.PE_TRANSFORM_G_TO_P=c._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;q.PE_HORIZON_RECT=c._pe.PeDefs.prototype.PE_HORIZON_RECT;q.PE_HORIZON_POLY=c._pe.PeDefs.prototype.PE_HORIZON_POLY;q.PE_HORIZON_LINE=c._pe.PeDefs.prototype.PE_HORIZON_LINE;q.PE_HORIZON_DELTA=c._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(c.PeDefs||(c.PeDefs={}));c.PeFactory=void 0;(function(q){function n(p,B){let r=
null,w=C[p];w||(w={},C[p]=w);w.hasOwnProperty(String(B))?r=w[B]:(p=c._pe.PeFactory.prototype.factoryByType(p,B),c._pe.compare(p,c._pe.NULL)||(r=p,w[B]=r));return r=u(r)}const C={},G={},u=p=>{if(p){const B=p.getType();switch(B){case c.PeDefs.PE_TYPE_GEOGCS:p=c._pe.castObject(p,c._pe.PeGeogcs);break;case c.PeDefs.PE_TYPE_PROJCS:p=c._pe.castObject(p,c._pe.PeProjcs);break;case c.PeDefs.PE_TYPE_GEOGTRAN:p=c._pe.castObject(p,c._pe.PeGeogtran);break;default:B&c.PeDefs.PE_TYPE_UNIT&&(p=c._pe.castObject(p,
c._pe.PeUnit))}}return p};q.initialize=function(){c._pe.PeFactory.prototype.initialize(null)};q.coordsys=function(p){return n(c.PeDefs.PE_TYPE_COORDSYS,p)};q.factoryByType=n;q.fromString=function(p,B){let r=null,w=G[p];w||(w={},G[p]=w);w.hasOwnProperty(B)?r=w[B]:(p=c._pe.PeFactory.prototype.fromString(p,B),c._pe.compare(p,c._pe.NULL)||(r=p,w[B]=r));return r=u(r)};q.geogcs=function(p){return n(c.PeDefs.PE_TYPE_GEOGCS,p)};q.geogtran=function(p){return n(c.PeDefs.PE_TYPE_GEOGTRAN,p)};q.getCode=function(p){return c._pe.PeFactory.prototype.getCode(p)};
q.projcs=function(p){return n(c.PeDefs.PE_TYPE_PROJCS,p)};q.unit=function(p){return n(c.PeDefs.PE_TYPE_UNIT,p)}})(c.PeFactory||(c.PeFactory={}));c.PeGCSExtent=null;c.PeGTlistExtended=void 0;(function(q){let n;q.init=function(){q.PE_GTLIST_OPTS_COMMON=c._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;n=c._pe._pe_getPeGTlistExtendedEntrySize()};q.getGTlist=function(C,G,u,p,B,r){let w=null;const X=new c._pe.PeInteger(r);try{const ea=c._pe.PeGTlistExtended.prototype.getGTlist(C,G,u,p,B,X);if(r=X.val)if(w=
[ea],1<r){const qa=c._pe.getPointer(ea);for(C=1;C<r;C++)w.push(c._pe.wrapPointer(qa+n*C,c._pe.PeGTlistExtendedEntry))}}finally{c._pe.destroy(X)}return w}})(c.PeGTlistExtended||(c.PeGTlistExtended={}));c.PeGTlistExtendedEntry=void 0;(function(q){q.destroy=function(n){if(n&&n.length){for(const C of n)S(C),C.getEntries().forEach(G=>{S(G);G=G.getGeogtran();S(G);G.getParameters().forEach(S);[G.getGeogcs1(),G.getGeogcs2()].forEach(u=>{S(u);const p=u.getDatum();S(p);S(p.getSpheroid());S(u.getPrimem());S(u.getUnit())})});
c._pe.PeGTlistExtendedEntry.prototype.Delete(n[0])}}})(c.PeGTlistExtendedEntry||(c.PeGTlistExtendedEntry={}));c.PeGTTransformations=void 0;(function(q){q.geogToGeog=function(n,C,G,u,p){c._pe.ensureCache.prepare();var B=v(G);const r=G===B;B=c._pe.ensureFloat64(B);let w=0;u&&(w=c._pe.ensureFloat64(u));(n=c._pe._pe_geog_to_geog(c._pe.getPointer(n),C,B,w,p))&&M(G,C,B,r);return n}})(c.PeGTTransformations||(c.PeGTTransformations={}));c.PeNotationDms=void 0;(function(q){const n=(G,u,p,B,r,w)=>{c._pe.ensureCache.prepare();
switch(G){case "dd":var X=c._pe._pe_geog_to_dd;var ea=c.PeDefs.PE_DD_MAX;break;case "ddm":X=c._pe._pe_geog_to_ddm;ea=c.PeDefs.PE_DDM_MAX;break;case "dms":X=c._pe._pe_geog_to_dms,ea=c.PeDefs.PE_DMS_MAX}G=0;u&&(G=c._pe.getPointer(u));u=v(B);u=c._pe.ensureFloat64(u);ea=A(p,ea);B=c._pe.ensureInt32(ea);if(r=X(G,p,u,r,B))for(X=0;X<p;X++)w[X]=c._pe.UTF8ToString(ea[X]);return r},C=(G,u,p,B,r)=>{c._pe.ensureCache.prepare();switch(G){case "dd":var w=c._pe._pe_dd_to_geog;break;case "ddm":w=c._pe._pe_ddm_to_geog;
break;case "dms":w=c._pe._pe_dms_to_geog}G=0;u&&(G=c._pe.getPointer(u));u=B.map(X=>c._pe.ensureString(X));B=c._pe.ensureInt32(u);u=c._pe.ensureFloat64(Array(2*p));(w=w(G,p,B,u))&&M(r,p,u);return w};q.geogToDms=function(G,u,p,B,r){return n("dms",G,u,p,B,r)};q.dmsToGeog=function(G,u,p,B){return C("dms",G,u,p,B)};q.geogToDdm=function(G,u,p,B,r){return n("ddm",G,u,p,B,r)};q.ddmToGeog=function(G,u,p,B){return C("ddm",G,u,p,B)};q.geogToDd=function(G,u,p,B,r){return n("dd",G,u,p,B,r)};q.ddToGeog=function(G,
u,p,B){return C("dd",G,u,p,B)}})(c.PeNotationDms||(c.PeNotationDms={}));c.PeNotationMgrs=void 0;(function(q){q.init=function(){q.PE_MGRS_STYLE_NEW=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;q.PE_MGRS_STYLE_OLD=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;q.PE_MGRS_STYLE_AUTO=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;q.PE_MGRS_180_ZONE_1_PLUS=c._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;q.PE_MGRS_ADD_SPACES=c._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};q.geogToMgrsExtended=
function(n,C,G,u,p,B,r){c._pe.ensureCache.prepare();let w=0;n&&(w=c._pe.getPointer(n));n=v(G);G=c._pe.ensureFloat64(n);n=A(C,c.PeDefs.PE_MGRS_MAX);const X=c._pe.ensureInt32(n);if(u=c._pe._pe_geog_to_mgrs_extended(w,C,G,u,p,B,X))for(p=0;p<C;p++)r[p]=c._pe.UTF8ToString(n[p]);return u};q.mgrsToGeogExtended=function(n,C,G,u,p){c._pe.ensureCache.prepare();let B=0;n&&(B=c._pe.getPointer(n));n=G.map(r=>c._pe.ensureString(r));G=c._pe.ensureInt32(n);n=c._pe.ensureFloat64(Array(2*C));(u=c._pe._pe_mgrs_to_geog_extended(B,
C,G,u,n))&&M(p,C,n);return u}})(c.PeNotationMgrs||(c.PeNotationMgrs={}));c.PeNotationUsng=void 0;(function(q){q.geogToUsng=function(n,C,G,u,p,B,r){c._pe.ensureCache.prepare();let w=0;n&&(w=c._pe.getPointer(n));n=v(G);G=c._pe.ensureFloat64(n);n=A(C,c.PeDefs.PE_MGRS_MAX);const X=c._pe.ensureInt32(n);if(u=c._pe._pe_geog_to_usng(w,C,G,u,p,B,X))for(p=0;p<C;p++)r[p]=c._pe.UTF8ToString(n[p]);return u};q.usngToGeog=function(n,C,G,u){c._pe.ensureCache.prepare();var p=0;n&&(p=c._pe.getPointer(n));n=G.map(B=>
c._pe.ensureString(B));G=c._pe.ensureInt32(n);n=c._pe.ensureFloat64(Array(2*C));(p=c._pe._pe_usng_to_geog(p,C,G,n))&&M(u,C,n);return p}})(c.PeNotationUsng||(c.PeNotationUsng={}));c.PeNotationUtm=void 0;(function(q){q.init=function(){q.PE_UTM_OPTS_NONE=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;q.PE_UTM_OPTS_ADD_SPACES=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;q.PE_UTM_OPTS_NS=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};q.geogToUtm=function(n,C,G,u,p){c._pe.ensureCache.prepare();var B=
0;n&&(B=c._pe.getPointer(n));n=v(G);G=c._pe.ensureFloat64(n);n=A(C,c.PeDefs.PE_UTM_MAX);const r=c._pe.ensureInt32(n);if(u=c._pe._pe_geog_to_utm(B,C,G,u,r))for(B=0;B<C;B++)p[B]=c._pe.UTF8ToString(n[B]);return u};q.utmToGeog=function(n,C,G,u,p){c._pe.ensureCache.prepare();let B=0;n&&(B=c._pe.getPointer(n));n=G.map(r=>c._pe.ensureString(r));G=c._pe.ensureInt32(n);n=c._pe.ensureFloat64(Array(2*C));(u=c._pe._pe_utm_to_geog(B,C,G,u,n))&&M(p,C,n);return u}})(c.PeNotationUtm||(c.PeNotationUtm={}));c.PePCSInfo=
void 0;(function(q){const n=new Map;q.init=function(){q.PE_PCSINFO_OPTION_NONE=c._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;q.PE_PCSINFO_OPTION_DOMAIN=c._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;q.PE_POLE_OUTSIDE_BOUNDARY=c._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;q.PE_POLE_POINT=c._pe.PePCSInfo.prototype.PE_POLE_POINT};q.generate=function(C,G=q.PE_PCSINFO_OPTION_DOMAIN){let u=null,p=null;n.has(C)&&(p=n.get(C),p[G]&&(u=p[G]));u||(u=c._pe.PePCSInfo.prototype.generate(C,G),p||(p=
[],n.set(C,p)),p[G]=u);return u}})(c.PePCSInfo||(c.PePCSInfo={}));c.PeVersion=void 0;(function(q){q.versionString=function(){return c._pe.PeVersion.prototype.version_string()}})(c.PeVersion||(c.PeVersion={}));const V=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return c.PeCSTransformations},get PeDefs(){return c.PeDefs},get PeFactory(){return c.PeFactory},get PeGCSExtent(){return c.PeGCSExtent},get PeGTTransformations(){return c.PeGTTransformations},get PeGTlistExtended(){return c.PeGTlistExtended},
get PeGTlistExtendedEntry(){return c.PeGTlistExtendedEntry},get PeNotationDms(){return c.PeNotationDms},get PeNotationMgrs(){return c.PeNotationMgrs},get PeNotationUsng(){return c.PeNotationUsng},get PeNotationUtm(){return c.PeNotationUtm},get PePCSInfo(){return c.PePCSInfo},get PeVersion(){return c.PeVersion},_init:I,get _pe(){return c._pe},isLoaded:O,isSupported:y,load:z},Symbol.toStringTag,{value:"Module"}));c._init=I;c.isLoaded=O;c.isSupported=y;c.load=z;c.pe=V})},"esri/geometry/support/geodesicConstants":function(){define(["exports",
"./Ellipsoid"],function(l,c){const Q=Math.PI/180;var t=c.earth.radius;const D=c.earth.eccentricitySquared;t={a1:t*D,a2:t*D*t*D,a3:t*D*D/2,a4:t*D*t*D*2.5,a5:t*D+t*D*D/2,a6:1-D};c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:c.earth.radius,f:c.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:c.moon.radius,f:c.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:c.mars.radius,f:c.mars.flattening},104906:{a:6200,
f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,
f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},
104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:c.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};
l.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;l.earthEllipsoidConstants=t;l.spheroids=c;l.toRadians=Q;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["../../chunks/_rollupPluginBabelHelpers","./GeographicTransformationStep"],function(l,c){return function(){function Q(D){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(D&&D.steps)for(const O of D.steps)O instanceof c?this.steps.push(O):
this.steps.push(new c({wkid:O.wkid,wkt:O.wkt,isInverse:O.isInverse}))}Q.cacheKey=function(D,O){return[void 0!==D.wkid&&null!==D.wkid?D.wkid.toString():"-1",void 0!==D.wkt&&null!==D.wkt?D.wkt.toString():"",void 0!==O.wkid&&null!==O.wkid?O.wkid.toString():"-1",void 0!==O.wkt&&null!==O.wkt?O.wkt.toString():""].join()};Q.fromGE=function(D){const O=new Q;let y="";for(const z of D.steps)D=c.fromGE(z),O.steps.push(D),y+=D.uid.toString()+",";O._cachedProjection={};O._gtlistentry=null;O._chain=y;return O};
var t=Q.prototype;t.getInverse=function(){const D=new Q;D.steps=[];for(let O=this.steps.length-1;0<=O;O--)D.steps.push(this.steps[O].getInverse());return D};t.getGTListEntry=function(){let D="";for(const O of this.steps)D+=O.uid.toString()+",";D!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=D);return this._gtlistentry};t.assignCachedGe=function(D,O,y){this._cachedProjection[Q.cacheKey(D,O)]=y};t.getCachedGeTransformation=function(D,O){let y="";for(const z of this.steps)y+=
z.uid.toString()+",";y!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=y);D=this._cachedProjection[Q.cacheKey(D,O)];return void 0===D?null:D};return l._createClass(Q)}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(l){let c=0;return function(){function Q(t){this.uid=c++;t?(this._wkt=null!=t.wkt?t.wkt:null,this._wkid=null!=t.wkid?t.wkid:-1,this._isInverse=null!=t.isInverse?!0===t.isInverse:
!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}Q.fromGE=function(t){const D=new Q;D._wkt=t.wkt;D._wkid=t.wkid;D._isInverse=t.isInverse;return D};Q.prototype.getInverse=function(){const t=new Q;t._wkt=this.wkt;t._wkid=this._wkid;t._isInverse=!this.isInverse;return t};l._createClass(Q,[{key:"wkt",get:function(){return this._wkt},set:function(t){this._wkt=t;this.uid=c++}},{key:"wkid",get:function(){return this._wkid},set:function(t){this._wkid=t;this.uid=c++}},{key:"isInverse",get:function(){return this._isInverse},
set:function(t){this._isInverse=t;this.uid=c++}}]);return Q}()})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","./spatialReferenceUtils"],function(l,c,Q){l.getGeometryZScaler=function(t,D,O){if(null==D||null==O||O.vcsWkid||Q.equals(D,O))return null;D=c.getMetersPerVerticalUnitForSR(D);O=c.getMetersPerVerticalUnitForSR(O);const y=D/O;if(1===y)return null;switch(t){case "point":case "esriGeometryPoint":return z=>{z&&null!=z.z&&(z.z*=y)};case "polyline":case "esriGeometryPolyline":return z=>
{if(z)for(const I of z.paths)for(const S of I)2<S.length&&(S[2]*=y)};case "polygon":case "esriGeometryPolygon":return z=>{if(z)for(const I of z.rings)for(const S of I)2<S.length&&(S[2]*=y)};case "multipoint":case "esriGeometryMultipoint":return z=>{if(z)for(const I of z.points)2<I.length&&(I[2]*=y)};case "extent":case "esriGeometryEnvelope":return z=>{z&&null!=z.zmin&&null!=z.zmax&&(z.zmin*=y,z.zmax*=y)};default:return null}};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/PointCloudWorkerUtil":function(){define("exports ../../../../core/has ../../../../renderers/PointCloudClassBreaksRenderer ../../../../renderers/PointCloudStretchRenderer ../../../../renderers/PointCloudUniqueValueRenderer ./I3SBinaryReader ./LEPCC".split(" "),
function(l,c,Q,t,D,O,y){function z(A,v){const M=new Float64Array(v);for(let W=0;W<v;W++)M[W]=A[3*W+2];return M}function I(A){switch(A){default:case null:case "none":return v=>v;case "low-four-bit":return v=>v&15;case "high-four-bit":return v=>(v&240)>>4;case "absolute-value":return v=>Math.abs(v);case "modulo-ten":return v=>v%10}}function S(A){let v=0;for(const M of A||[])v|=1<<M;return v}l.elevationFromPositions=z;l.evaluateRenderer=function(A,v,M,W){const {rendererJSON:V,isRGBRenderer:q}=A;var n=
A=null;if(v&&q)A=v;else if(v&&"pointCloudUniqueValueRenderer"===V?.type){n=D.fromJSON(V);var C=n.colorUniqueValueInfos;A=new Uint8Array(3*W);var G=I(n.fieldTransformType);for(var u=0;u<W;u++){var p=(G?G(v[u]):v[u])+"";for(var B=0;B<C.length;B++)if(C[B].values.includes(p)){A[3*u]=C[B].color.r;A[3*u+1]=C[B].color.g;A[3*u+2]=C[B].color.b;break}}}else if(v&&"pointCloudStretchRenderer"===V?.type)for(n=t.fromJSON(V),C=n.stops,A=new Uint8Array(3*W),G=I(n.fieldTransformType),u=0;u<W;u++)if(p=G?G(v[u]):v[u],
B=C.length-1,p<C[0].value)A[3*u]=C[0].color.r,A[3*u+1]=C[0].color.g,A[3*u+2]=C[0].color.b;else if(p>=C[B].value)A[3*u]=C[B].color.r,A[3*u+1]=C[B].color.g,A[3*u+2]=C[B].color.b;else for(B=1;B<C.length;B++){if(p<C[B].value){p=(p-C[B-1].value)/(C[B].value-C[B-1].value);A[3*u]=C[B].color.r*p+C[B-1].color.r*(1-p);A[3*u+1]=C[B].color.g*p+C[B-1].color.g*(1-p);A[3*u+2]=C[B].color.b*p+C[B-1].color.b*(1-p);break}}else if(v&&"pointCloudClassBreaksRenderer"===V?.type)for(n=Q.fromJSON(V),C=n.colorClassBreakInfos,
A=new Uint8Array(3*W),G=I(n.fieldTransformType),u=0;u<W;u++)for(p=G?G(v[u]):v[u],B=0;B<C.length;B++){if(p>=C[B].minValue&&p<=C[B].maxValue){A[3*u]=C[B].color.r;A[3*u+1]=C[B].color.g;A[3*u+2]=C[B].color.b;break}}else A=(new Uint8Array(3*W)).fill(255);if(M&&n&&n.colorModulation)for(v=n.colorModulation.minValue,n=n.colorModulation.maxValue,C=0;C<W;C++)G=M[C],G=G>=n?1:G<=v?.3:.3+.7*(G-v)/(n-v),A[3*C]*=G,A[3*C+1]*=G,A[3*C+2]*=G;return A};l.filterInPlace=function(A,v,M,W,V){const q=A.length/3;let n=0;for(let r=
0;r<q;r++){let w=!0;for(let X=0;X<W.length&&w;X++){var {filterJSON:C}=W[X],G=V[X].values[r];switch(C.type){case "pointCloudValueFilter":var u="exclude"===C.mode;C.values.includes(G)===u&&(w=!1);break;case "pointCloudBitfieldFilter":u=S(C.requiredSetBits);C=S(C.requiredClearBits);if((G&u)!==u||0!==(G&C))w=!1;break;case "pointCloudReturnFilter":var p=G&15,B=G>>>4&15;G=1<B;u=1===p;p=p===B;B=!1;for(const ea of C.includedReturns)if("last"===ea&&p||"firstOfMany"===ea&&u&&G||"lastOfMany"===ea&&p&&G||"single"===
ea&&!G){B=!0;break}B||(w=!1)}}w&&(M[n]=r,A[3*n]=A[3*r],A[3*n+1]=A[3*r+1],A[3*n+2]=A[3*r+2],v[3*n]=v[3*r],v[3*n+1]=v[3*r+1],v[3*n+2]=v[3*r+2],n++)}return n};l.getAttributeValues=function(A,v,M){return null!=A&&A.attributeInfo.useElevation?v?z(v,M):null:null!=A&&A.attributeInfo.storageInfo?O.readBinaryAttribute(A.attributeInfo.storageInfo,A.buffer,M):null};l.readGeometry=function(A,v){if(null==A.encoding||""===A.encoding){A=O.createGeometryIndexFromSchema(v,A);if(null==A.vertexAttributes.position)return;
v=O.createTypedView(v,A.vertexAttributes.position);var M=A.header.fields;A=[M.offsetX,M.offsetY,M.offsetZ];M=[M.scaleX,M.scaleY,M.scaleZ];const W=v.length/3,V=new Float64Array(3*W);for(let q=0;q<W;q++)V[3*q]=v[3*q]*M[0]+A[0],V[3*q+1]=v[3*q+1]*M[1]+A[1],V[3*q+2]=v[3*q+2]*M[2]+A[2];return V}if("lepcc-xyz"===A.encoding)return y.decodeXYZ(v).result};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/PointCloudClassBreaksRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorClassBreakInfo".split(" "),
function(l,c,Q,t,D,O,y,z,I,S){var A;D=A=function(v){function M(W){W=v.call(this,W)||this;W.type="point-cloud-class-breaks";W.field=null;W.legendOptions=null;W.fieldTransformType=null;W.colorClassBreakInfos=null;return W}l._inherits(M,v);M.prototype.clone=function(){return new A({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:Q.clone(this.colorClassBreakInfos),legendOptions:Q.clone(this.legendOptions)})};return l._createClass(M)}(z);c.__decorate([O.enumeration({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],
D.prototype,"type",void 0);c.__decorate([t.property({json:{write:!0},type:String})],D.prototype,"field",void 0);c.__decorate([t.property({type:I.LegendOptions,json:{write:!0}})],D.prototype,"legendOptions",void 0);c.__decorate([t.property({type:z.fieldTransformTypeKebabDict.apiValues,json:{type:z.fieldTransformTypeKebabDict.jsonValues,read:z.fieldTransformTypeKebabDict.read,write:z.fieldTransformTypeKebabDict.write}})],D.prototype,"fieldTransformType",void 0);c.__decorate([t.property({type:[S],json:{write:!0}})],
D.prototype,"colorClassBreakInfos",void 0);return D=A=c.__decorate([y.subclass("esri.renderers.PointCloudClassBreaksRenderer")],D)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(l,c,Q){l.enumeration=function(t,D={}){t=t instanceof c.JSONMap?t:new c.JSONMap(t,D);t={type:D?.ignoreUnknown??!0?t.apiValues:String,json:{type:t.jsonValues,read:D?.readOnly?!1:{reader:t.read},write:{writer:t.write}}};void 0!==D?.readOnly&&(t.readOnly=
!!D.readOnly);void 0!==D?.default&&(t.json.default=D.default);void 0!==D?.name&&(t.json.name=D.name);void 0!==D?.nonNullable&&(t.nonNullable=D.nonNullable);return Q.property(t)};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/PointCloudRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/pointCloud/ColorModulation ./support/pointCloud/pointSizeAlgorithmTypeUtils".split(" "),
function(l,c,Q,t,D,O,y,z,I,S){y=Q.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});t=function(A){function v(W){W=A.call(this,W)||this;W.type=void 0;W.pointSizeAlgorithm=null;W.colorModulation=null;W.pointsPerInch=10;return W}l._inherits(v,A);var M=v.prototype;M.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);
return null};M.cloneProperties=function(){return{pointSizeAlgorithm:D.clone(this.pointSizeAlgorithm),colorModulation:D.clone(this.colorModulation),pointsPerInch:D.clone(this.pointsPerInch)}};return l._createClass(v)}(t.JSONSupport);c.__decorate([O.property({type:y.apiValues,readOnly:!0,nonNullable:!0,json:{type:y.jsonValues,read:!1,write:y.write}})],t.prototype,"type",void 0);c.__decorate([O.property({types:S.pointSizeAlgorithmTypes,json:{write:!0}})],t.prototype,"pointSizeAlgorithm",void 0);c.__decorate([O.property({type:I,
json:{write:!0}})],t.prototype,"colorModulation",void 0);c.__decorate([O.property({json:{write:!0},nonNullable:!0,type:Number})],t.prototype,"pointsPerInch",void 0);t=c.__decorate([z.subclass("esri.renderers.PointCloudRenderer")],t);(t||(t={})).fieldTransformTypeKebabDict=new Q.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});return t})},"esri/renderers/support/pointCloud/ColorModulation":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(l,c,Q,t,D,O,y,z){var I;Q=I=function(S){function A(){var v=S.apply(this,arguments)||this;v.field=null;v.minValue=0;v.maxValue=255;return v}l._inherits(A,S);A.prototype.clone=function(){return new I({field:this.field,minValue:this.minValue,maxValue:this.maxValue})};return l._createClass(A)}(Q.JSONSupport);c.__decorate([t.property({type:String,json:{write:!0}})],Q.prototype,"field",void 0);c.__decorate([t.property({type:Number,nonNullable:!0,json:{write:!0}})],Q.prototype,"minValue",void 0);
c.__decorate([t.property({type:Number,nonNullable:!0,json:{write:!0}})],Q.prototype,"maxValue",void 0);return Q=I=c.__decorate([z.subclass("esri.renderers.support.pointCloud.ColorModulation")],Q)})},"esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":function(){define(["exports","./PointSizeAlgorithm","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(l,c,Q,t){l.pointSizeAlgorithmTypes={key:"type",base:c,typeMap:{"fixed-size":Q,splat:t}};Object.defineProperty(l,Symbol.toStringTag,
{value:"Module"})})},"esri/renderers/support/pointCloud/PointSizeAlgorithm":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),function(l,c,Q,t,D,O,y,z,I){Q=new Q.JSONMap({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});
t=function(S){function A(){return S.apply(this,arguments)||this}l._inherits(A,S);return l._createClass(A)}(t.JSONSupport);c.__decorate([D.property({type:Q.apiValues,readOnly:!0,nonNullable:!0,json:{type:Q.jsonValues,read:!1,write:Q.write}})],t.prototype,"type",void 0);return t=c.__decorate([I.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],t)})},"esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ./PointSizeAlgorithm".split(" "),
function(l,c,Q,t,D,O,y,z,I){var S;t=S=function(A){function v(){var M=A.apply(this,arguments)||this;M.type="fixed-size";M.size=0;M.useRealWorldSymbolSizes=null;return M}l._inherits(v,A);v.prototype.clone=function(){return new S({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})};return l._createClass(v)}(I);c.__decorate([y.enumeration({pointCloudFixedSizeAlgorithm:"fixed-size"})],t.prototype,"type",void 0);c.__decorate([Q.property({type:Number,nonNullable:!0,json:{write:!0}})],
t.prototype,"size",void 0);c.__decorate([Q.property({type:Boolean,json:{write:!0}})],t.prototype,"useRealWorldSymbolSizes",void 0);return t=S=c.__decorate([z.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],t)})},"esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ./PointSizeAlgorithm".split(" "),
function(l,c,Q,t,D,O,y,z,I){var S;t=S=function(A){function v(){var M=A.apply(this,arguments)||this;M.type="splat";M.scaleFactor=1;return M}l._inherits(v,A);v.prototype.clone=function(){return new S({scaleFactor:this.scaleFactor})};return l._createClass(v)}(I);c.__decorate([y.enumeration({pointCloudSplatAlgorithm:"splat"})],t.prototype,"type",void 0);c.__decorate([Q.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],t.prototype,"scaleFactor",void 0);return t=S=c.__decorate([z.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],
t)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(l,c,Q,t,D,O,y,z,I){var S;l.LegendOptions=S=function(A){function v(){var M=A.apply(this,arguments)||this;M.title=null;return M}c._inherits(v,A);v.prototype.clone=
function(){return new S({title:this.title})};return c._createClass(v)}(t.JSONSupport);Q.__decorate([D.property({type:String,json:{write:!0}})],l.LegendOptions.prototype,"title",void 0);l.LegendOptions=S=Q.__decorate([I.subclass("esri.renderers.support.LegendOptions")],l.LegendOptions);Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/pointCloud/ColorClassBreakInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(l,c,Q,t,D,O,y,z){var I;t=I=function(S){function A(){var v=S.apply(this,arguments)||this;v.description=null;v.label=null;v.minValue=0;v.maxValue=0;v.color=null;return v}l._inherits(A,S);A.prototype.clone=function(){return new I({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:D.clone(this.color)})};return l._createClass(A)}(t.JSONSupport);c.__decorate([O.property({type:String,json:{write:!0}})],t.prototype,"description",void 0);c.__decorate([O.property({type:String,
json:{write:!0}})],t.prototype,"label",void 0);c.__decorate([O.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],t.prototype,"minValue",void 0);c.__decorate([O.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],t.prototype,"maxValue",void 0);c.__decorate([O.property({type:Q,json:{type:[y.Integer],write:!0}})],t.prototype,"color",void 0);return t=I=c.__decorate([z.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],
t)})},"esri/renderers/PointCloudStretchRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./visualVariables/support/ColorStop".split(" "),function(l,c,Q,t,D,O,y,z,I,S){var A;D=A=function(v){function M(W){W=v.call(this,W)||this;W.type="point-cloud-stretch";
W.field=null;W.legendOptions=null;W.fieldTransformType=null;W.stops=null;return W}l._inherits(M,v);M.prototype.clone=function(){return new A({...this.cloneProperties(),field:Q.clone(this.field),fieldTransformType:Q.clone(this.fieldTransformType),stops:Q.clone(this.stops),legendOptions:Q.clone(this.legendOptions)})};return l._createClass(M)}(z);c.__decorate([O.enumeration({pointCloudStretchRenderer:"point-cloud-stretch"})],D.prototype,"type",void 0);c.__decorate([t.property({json:{write:!0},type:String})],
D.prototype,"field",void 0);c.__decorate([t.property({type:I.LegendOptions,json:{write:!0}})],D.prototype,"legendOptions",void 0);c.__decorate([t.property({type:z.fieldTransformTypeKebabDict.apiValues,json:{type:z.fieldTransformTypeKebabDict.jsonValues,read:z.fieldTransformTypeKebabDict.read,write:z.fieldTransformTypeKebabDict.write}})],D.prototype,"fieldTransformType",void 0);c.__decorate([t.property({type:[S],json:{write:!0}})],D.prototype,"stops",void 0);return D=A=c.__decorate([y.subclass("esri.renderers.PointCloudStretchRenderer")],
D)})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),function(l,c,Q,t,D,O,y,z,I,S){var A;t=A=function(v){function M(V){V=v.call(this,
V)||this;V.color=null;V.label=null;V.value=null;return V}l._inherits(M,v);var W=M.prototype;W.writeValue=function(V,q,n){q[n]=null==V?0:V};W.clone=function(){return new A({color:this.color&&this.color.clone(),label:this.label,value:this.value})};return l._createClass(M)}(t.JSONSupport);c.__decorate([D.property({type:Q,json:{type:[O.Integer],write:!0}})],t.prototype,"color",void 0);c.__decorate([D.property({type:String,json:{write:!0}})],t.prototype,"label",void 0);c.__decorate([D.property({type:Number,
json:{write:{writerEnsuresNonNull:!0}}})],t.prototype,"value",void 0);c.__decorate([S.writer("value")],t.prototype,"writeValue",null);return t=A=c.__decorate([I.subclass("esri.renderers.visualVariables.support.ColorStop")],t)})},"esri/renderers/PointCloudUniqueValueRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorUniqueValueInfo".split(" "),
function(l,c,Q,t,D,O,y,z,I,S){var A;D=A=function(v){function M(W){W=v.call(this,W)||this;W.type="point-cloud-unique-value";W.field=null;W.fieldTransformType=null;W.colorUniqueValueInfos=null;W.legendOptions=null;return W}l._inherits(M,v);M.prototype.clone=function(){return new A({...this.cloneProperties(),field:Q.clone(this.field),fieldTransformType:Q.clone(this.fieldTransformType),colorUniqueValueInfos:Q.clone(this.colorUniqueValueInfos),legendOptions:Q.clone(this.legendOptions)})};return l._createClass(M)}(z);
c.__decorate([O.enumeration({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],D.prototype,"type",void 0);c.__decorate([t.property({json:{write:!0},type:String})],D.prototype,"field",void 0);c.__decorate([t.property({type:z.fieldTransformTypeKebabDict.apiValues,json:{type:z.fieldTransformTypeKebabDict.jsonValues,read:z.fieldTransformTypeKebabDict.read,write:z.fieldTransformTypeKebabDict.write}})],D.prototype,"fieldTransformType",void 0);c.__decorate([t.property({type:[S],json:{write:!0}})],
D.prototype,"colorUniqueValueInfos",void 0);c.__decorate([t.property({type:I.LegendOptions,json:{write:!0}})],D.prototype,"legendOptions",void 0);return D=A=c.__decorate([y.subclass("esri.renderers.PointCloudUniqueValueRenderer")],D)})},"esri/renderers/support/pointCloud/ColorUniqueValueInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(l,c,Q,t,D,O,y,z){var I;t=I=function(S){function A(){var v=S.apply(this,arguments)||this;v.description=null;v.label=null;v.values=null;v.color=null;return v}l._inherits(A,S);A.prototype.clone=function(){return new I({description:this.description,label:this.label,values:D.clone(this.values),color:D.clone(this.color)})};return l._createClass(A)}(t.JSONSupport);c.__decorate([O.property({type:String,json:{write:!0}})],t.prototype,"description",void 0);c.__decorate([O.property({type:String,json:{write:!0}})],
t.prototype,"label",void 0);c.__decorate([O.property({type:[String],json:{write:!0}})],t.prototype,"values",void 0);c.__decorate([O.property({type:Q,json:{type:[y.Integer],write:!0}})],t.prototype,"color",void 0);return t=I=c.__decorate([z.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],t)})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC ../../webgl-engine/lib/VertexAttribute".split(" "),
function(l,c,Q,t,D,O){function y(r,w){const X={byteOffset:0,byteCount:0,fields:Object.create(null)};let ea=0;for(let qa=0;qa<w.length;qa++){const ta=w[qa],la=ta.valueType||ta.type;X.fields[ta.property]=(0,B[la])(r,ea);ea+=p[la].BYTES_PER_ELEMENT}X.byteCount=ea;return X}function z(r,w,X){return I(r,w,X).map(ea=>(ea=ea?Date.parse(ea):null)&&!Number.isNaN(ea)?ea:null)}function I(r,w,X){const ea=[];let qa,ta=0,la;for(la=0;la<r;la+=1){qa=w[la];if(0<qa){var za=ea,Ja=za.push,Ka=X,La=ta,Ia=qa-1;let Ca="",
Ea=0;for(;Ea<Ia;){var Aa=Ka[La+Ea];if(128>Aa)Ca+=String.fromCharCode(Aa),Ea++;else if(192<=Aa&&224>Aa){if(Ea+1>=Ia)throw new c("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");Ca+=String.fromCharCode((Aa&31)<<6|Ka[La+Ea+1]&63);Ea+=2}else if(224<=Aa&&240>Aa){if(Ea+2>=Ia)throw new c("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");Ca+=String.fromCharCode((Aa&15)<<12|(Ka[La+Ea+1]&63)<<6|Ka[La+Ea+2]&63);Ea+=3}else if(240<=Aa&&248>Aa){if(Ea+3>=
Ia)throw new c("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");Aa=(Aa&7)<<18|(Ka[La+Ea+1]&63)<<12|(Ka[La+Ea+2]&63)<<6|Ka[La+Ea+3]&63;Ca=65536<=Aa?Ca+String.fromCharCode((Aa-65536>>10)+55296,(Aa&1023)+56320):Ca+String.fromCharCode(Aa);Ea+=4}else throw new c("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}Ja.call(za,Ca);if(0!==X[ta+qa-1])throw new c("string-array-error","Invalid string array: missing null termination.");}else ea.push(null);ta+=
qa}return ea}function S(r,w){return new p[w.valueType](r,w.byteOffset,w.count*w.valuesPerElement)}function A(r,w){return new Uint8Array(r,w.byteOffset,w.byteCount)}function v(r,w,X){r=null!=w.header?y(r,w.header):{byteOffset:0,byteCount:0,fields:{count:X}};X={header:r,byteOffset:r.byteCount,byteCount:0,entries:Object.create(null)};let ea=r.byteCount;for(let qa=0;qa<w.ordering.length;qa++){const ta=w.ordering[qa],la=Q.clone(w[ta]);la.count=r.fields.count??0;if("String"===la.valueType){la.byteOffset=
ea;la.byteCount=r.fields[ta+"ByteCount"];if("UTF-8"!==la.encoding)throw new c("unsupported-encoding","Unsupported String encoding.",{encoding:la.encoding});if(la.timeEncoding&&"ECMA_ISO8601"!==la.timeEncoding)throw new c("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:la.timeEncoding});}else if(n(la.valueType)){const za=C(la.valueType);ea+=0!==ea%za?za-ea%za:0;la.byteOffset=ea;la.byteCount=za*la.valuesPerElement*la.count}else throw new c("unsupported-value-type","Unsupported binary valueType",
{valueType:la.valueType});ea+=la.byteCount??0;X.entries[ta]=la}X.byteCount=ea-X.byteOffset;return X}function M(r,w,X){w!==r&&G.error(`Invalid ${X} buffer size\n expected: ${r}, actual: ${w})`);if(w<r)throw new c("buffer-too-small","Binary buffer is too small",{expectedSize:r,actualSize:w});}function W(r){return{isDraco:!1,isLegacy:!1,color:null!=r.color,normal:null!=r.normal,uv0:null!=r.uv0,uvRegion:null!=r.uvRegion,featureIndex:null!=r.faceRange&&null!=r.featureId}}function V(r){const w={isDraco:!1,
isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const X of r.ordering)if(r.vertexAttributes[X])switch(X){case "normal":w.normal=!0;break;case "color":w.color=!0;break;case "uv0":w.uv0=!0;break;case "region":w.uvRegion=!0}r.featureAttributes&&r.featureAttributeOrder&&(w.featureIndex=!0);return w}function q(r){const w={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const X of r)switch(X){case "normal":w.normal=!0;break;case "uv0":w.uv0=!0;break;
case "color":w.color=!0;break;case "uv-region":w.uvRegion=!0;break;case "feature-index":w.featureIndex=!0}return w}function n(r){return p.hasOwnProperty(r)}function C(r){return n(r)?p[r].BYTES_PER_ELEMENT:0}const G=t.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader"),u={position:O.VertexAttribute.POSITION,normal:O.VertexAttribute.NORMAL,color:O.VertexAttribute.COLOR,uv0:O.VertexAttribute.UV0,region:O.VertexAttribute.UVREGION},p={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,
UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},B={Float32:(r,w)=>(new DataView(r,0)).getFloat32(w,!0),Float64:(r,w)=>(new DataView(r,0)).getFloat64(w,!0),UInt8:(r,w)=>(new DataView(r,0)).getUint8(w),Int8:(r,w)=>(new DataView(r,0)).getInt8(w),UInt16:(r,w)=>(new DataView(r,0)).getUint16(w,!0),Int16:(r,w)=>(new DataView(r,0)).getInt16(w,!0),UInt32:(r,w)=>(new DataView(r,0)).getUint32(w,!0),Int32:(r,w)=>(new DataView(r,0)).getInt32(w,!0)};l.createAttributeDataIndex=v;l.createGeometryDescriptor=
function(r,w){return r&&r.compressedAttributes&&"draco"===r.compressedAttributes.encoding?q(r.compressedAttributes.attributes):r?W(r):V(w)};l.createGeometryDescriptorForDraco=q;l.createGeometryDescriptorFromDefinition=W;l.createGeometryDescriptorFromSchema=V;l.createGeometryIndexFromSchema=function(r,w){var X=y(r,w&&w.header);let ea=X.byteCount;const qa={isDraco:!1,header:X,byteOffset:X.byteCount,byteCount:0,vertexAttributes:{}};X=X.fields;var ta=null!=X.vertexCount?X.vertexCount:X.count;for(var la of w.ordering){if(!w.vertexAttributes[la])continue;
const Ja={...w.vertexAttributes[la],byteOffset:ea,count:ta};qa.vertexAttributes[u[la]||"_"+la]=Ja;ea+=C(Ja.valueType)*Ja.valuesPerElement*ta}la=X.faceCount;if(w.faces&&la){qa.faces={};for(var za of w.ordering)w.faces[za]&&(ta={...w.faces[za],byteOffset:ea,count:la},qa.faces[za]=ta,ea+=C(ta.valueType)*ta.valuesPerElement*la)}za=X.featureCount;if(w.featureAttributes&&w.featureAttributeOrder&&za){qa.featureAttributes={};for(const Ja of w.featureAttributeOrder)w.featureAttributes[Ja]&&(X={...w.featureAttributes[Ja],
byteOffset:ea,count:za},qa.featureAttributes[Ja]=X,la="UInt64"===X.valueType?8:C(X.valueType),ea+=la*X.valuesPerElement*za)}M(ea,r.byteLength,"geometry");qa.byteCount=ea-qa.byteOffset;return qa};l.createRawView=A;l.createTypedView=S;l.getBytesPerValue=C;l.isValueType=n;l.readBinaryAttribute=function(r,w,X){if("lepcc-rgb"===r.encoding)return D.decodeRGB(w);if("lepcc-intensity"===r.encoding)return D.decodeIntensity(w);if(null!=r.encoding&&""!==r.encoding)throw new c("unknown-attribute-storage-info-encoding",
"Unknown Attribute Storage Info Encoding");r["attributeByteCounts "]&&!r.attributeByteCounts&&(G.warn("Warning: Trailing space in 'attributeByteCounts '."),r.attributeByteCounts=r["attributeByteCounts "]);"ObjectIds"===r.ordering[0]&&r.hasOwnProperty("objectIds")&&(G.warn("Warning: Case error in objectIds"),r.ordering[0]="objectIds");X=v(w,r,X);M(X.byteOffset+X.byteCount,w.byteLength,"attribute");if(r=X.entries.attributeValues||X.entries.objectIds){if("String"===r.valueType){X=X.entries.attributeByteCounts;
const ea=S(w,X);w=A(w,r);return r.timeEncoding?z(X.count,ea,w):I(X.count,ea,w)}return S(w,r)}throw new c("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};l.readDateStringArray=z;l.readHeader=y;l.readStringArray=I;l.valueType2ArrayBufferReader=B;l.valueType2TypedArrayClassMap=p;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["exports","../../../../core/Error"],function(l,c){function Q(y,z,I){return{identifier:String.fromCharCode.apply(null,
new Uint8Array(y,I+O.identifierOffset,O.identifierLength)),version:z.getUint16(I+O.versionOffset,!0),checksum:z.getUint32(I+O.checksumOffset,!0)}}function t(y,z,I){const S=[];z=D(y,z,S);const A=[];for(let v=0;v<S.length;v++){A.length=0;z=D(y,z,A);for(let M=0;M<A.length;M++)I.push(A[M]+S[v])}return z}function D(y,z,I){var S=new DataView(y,z),A=S.getUint8(0);const v=A&31;var M=!!(A&32),W=(A&192)>>6;A=0;if(0===W)A=S.getUint32(1,!0),z+=5;else if(1===W)A=S.getUint16(1,!0),z+=3;else if(2===W)A=S.getUint8(1),
z+=2;else throw new c("lepcc-decode-error","Bad count type");if(M)throw new c("lepcc-decode-error","LUT not implemented");y=new Uint8Array(y,z,Math.ceil(A*v/8));W=M=S=0;const V=-1>>>32-v;for(let q=0;q<A;q++){for(;M<v;)S|=y[W]<<M,M+=8,W+=1;I[q]=S&V;S>>>=v;M-=v;32<M+v&&(S|=y[W-1]>>8-M)}return z+W}const O={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};l.decodeIntensity=function(y){const z=new DataView(y,0);var I=0;const {identifier:S,version:A}=Q(y,z,I);I+=O.byteCount;
if("Intensity "!==S)throw new c("lepcc-decode-error","Bad identifier");if(1<A)throw new c("lepcc-decode-error","Unknown version");var v=I;var M=z.getUint32(v+0,!0);var W=z.getUint32(v+4,!0);var V=z.getUint32(v+8,!0);var q=z.getUint16(v+12,!0);var n=z.getUint8(v+14);z.getUint8(v+15);I+=16;if(W*2**32+M!==y.byteLength)throw new c("lepcc-decode-error","Bad size");M=new Uint16Array(V);if(8===n){if(V+I!==y.byteLength)throw new c("lepcc-decode-error","Bad size");y=new Uint8Array(y,I,V);for(I=0;I<V;I++)M[I]=
y[I]*q}else if(16===n){if(2*V+I!==y.byteLength)throw new c("lepcc-decode-error","Bad size");y=new Uint16Array(y,I,V);for(I=0;I<V;I++)M[I]=y[I]*q}else{n=[];if(D(y,I,n)!==y.byteLength)throw new c("lepcc-decode-error","Bad size");for(y=0;y<V;y++)M[y]=n[y]*q}return M};l.decodeRGB=function(y){var z=new DataView(y,0),I=0;const {identifier:S,version:A}=Q(y,z,I);I+=O.byteCount;if("ClusterRGB"!==S)throw new c("lepcc-decode-error","Bad identifier");if(1<A)throw new c("lepcc-decode-error","Unknown version");
var v=I;var M=z.getUint32(v+0,!0);var W=z.getUint32(v+4,!0);var V=z.getUint32(v+8,!0);var q=z.getUint16(v+12,!0);var n=z.getUint8(v+14);v=z.getUint8(v+15);I+=16;if(W*2**32+M!==y.byteLength)throw new c("lepcc-decode-error","Bad size");if((2===n||1===n)&&0===v){if(3*q+V+I!==y.byteLength||256<q)throw new c("lepcc-decode-error","Bad count");z=new Uint8Array(y,I,3*q);I=new Uint8Array(y,I+3*q,V);y=new Uint8Array(3*V);for(q=0;q<V;q++)M=I[q],y[3*q]=z[3*M],y[3*q+1]=z[3*M+1],y[3*q+2]=z[3*M+2];return y}if(0===
n&&0===v){if(3*V+I!==y.byteLength||0!==q)throw new c("lepcc-decode-error","Bad count");return(new Uint8Array(y,I)).slice()}if(2>=n&&1===v){if(I+3!==y.byteLength||1!==q)throw new c("lepcc-decode-error","Bad count");y=z.getUint8(I);q=z.getUint8(I+1);I=z.getUint8(I+2);z=new Uint8Array(3*V);for(M=0;M<V;M++)z[3*M]=y,z[3*M+1]=q,z[3*M+2]=I;return z}throw new c("lepcc-decode-error","Bad method "+n+","+v);};l.decodeXYZ=function(y){var z=new DataView(y,0),I=0;const {identifier:S,version:A}=Q(y,z,I);I+=O.byteCount;
if("LEPCC     "!==S)throw new c("lepcc-decode-error","Bad identifier");if(1<A)throw new c("lepcc-decode-error","Unknown version");var v=I;var M=z.getUint32(v+0,!0);var W=z.getUint32(v+4,!0);var V=z.getFloat64(v+8,!0);var q=z.getFloat64(v+16,!0);var n=z.getFloat64(v+24,!0);var C=z.getFloat64(v+32,!0);var G=z.getFloat64(v+40,!0);var u=z.getFloat64(v+48,!0);var p=z.getFloat64(v+56,!0);var B=z.getFloat64(v+64,!0);var r=z.getFloat64(v+72,!0);var w=z.getUint32(v+80,!0);z.getUint32(v+84,!0);I+=88;if(W*2**
32+M!==y.byteLength)throw new c("lepcc-decode-error","Bad size");M=new Float64Array(3*w);W=[];w=[];z=[];v=[];I=t(y,I,W);I=t(y,I,w);I=t(y,I,z);I=t(y,I,v);if(I!==y.byteLength)throw new c("lepcc-decode-error","Bad length");I=y=0;for(let X=0;X<W.length;X++){I+=W[X];let ea=0;for(let qa=0;qa<w[X];qa++){ea+=z[y];const ta=v[y];M[3*y]=Math.min(C,V+2*p*ea);M[3*y+1]=Math.min(G,q+2*B*I);M[3*y+2]=Math.min(u,n+2*r*ta);y++}}return{errorX:p,errorY:B,errorZ:r,result:M}};Object.defineProperty(l,Symbol.toStringTag,
{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(l){l.VertexAttribute=void 0;var c=l.VertexAttribute||(l.VertexAttribute={});c.POSITION="position";c.NORMAL="normal";c.NORMALCOMPRESSED="normalCompressed";c.UV0="uv0";c.AUXPOS1="auxpos1";c.AUXPOS2="auxpos2";c.COLOR="color";c.SYMBOLCOLOR="symbolColor";c.SIZE="size";c.TANGENT="tangent";c.OFFSET="offset";c.SUBDIVISIONFACTOR="subdivisionFactor";c.COLORFEATUREATTRIBUTE="colorFeatureAttribute";c.SIZEFEATUREATTRIBUTE=
"sizeFeatureAttribute";c.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";c.DISTANCETOSTART="distanceToStart";c.UVMAPSPACE="uvMapSpace";c.BOUNDINGRECT="boundingRect";c.UVREGION="uvRegion";c.PROFILERIGHT="profileRight";c.PROFILEUP="profileUp";c.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";c.FEATUREVALUE="featureValue";c.MODELORIGINHI="modelOriginHi";c.MODELORIGINLO="modelOriginLo";c.MODEL="model";c.MODELNORMAL="modelNormal";c.INSTANCECOLOR="instanceColor";c.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";
c.LOCALTRANSFORM="localTransform";c.GLOBALTRANSFORM="globalTransform";c.BOUNDINGSPHERE="boundingSphere";c.MODELORIGIN="modelOrigin";c.MODELSCALEFACTORS="modelScaleFactors";c.FEATUREATTRIBUTE="featureAttribute";c.STATE="state";c.LODLEVEL="lodLevel";c.POSITION0="position0";c.POSITION1="position1";c.NORMALA="normalA";c.NORMALB="normalB";c.COMPONENTINDEX="componentIndex";c.VARIANTOFFSET="variantOffset";c.VARIANTSTROKE="variantStroke";c.VARIANTEXTENSION="variantExtension";c.U8PADDING="u8padding";c.U16PADDING=
"u16padding";c.SIDENESS="sideness";c.START="start";c.END="end";c.UP="up";c.EXTRUDE="extrude";c.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";c.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor";Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../../../chunks/_rollupPluginBabelHelpers ../../../core/arrayUtils ../../../core/typedArrayUtil ../../../chunks/quat ../../../chunks/quatf32 ../../../chunks/vec3 ../../../chunks/vec3f32 ../../../geometry/projection ../../../geometry/SpatialReference ./i3s/PointCloudWorkerUtil".split(" "),function(l,c,Q,t,D,O,y,z,I,S){let A=function(){function M(){}var W=M.prototype;W.transform=function(V){V=this._transform(V);const q=[V.points.buffer,V.rgb.buffer];null!=V.pointIdFilterMap&&q.push(V.pointIdFilterMap.buffer);
for(const n of V.attributes)"buffer"in n.values&&Q.isArrayBuffer(n.values.buffer)&&n.values.buffer!==V.rgb.buffer&&q.push(n.values.buffer);return Promise.resolve({result:V,transferList:q})};W._transform=function(V){const q=S.readGeometry(V.schema,V.geometryBuffer);let n=q.length/3,C=null;const G=[];var u=S.getAttributeValues(V.primaryAttributeData,q,n);null!=V.primaryAttributeData&&u&&G.push({attributeInfo:V.primaryAttributeData.attributeInfo,values:u});var p=S.getAttributeValues(V.modulationAttributeData,
q,n);null!=V.modulationAttributeData&&p&&G.push({attributeInfo:V.modulationAttributeData.attributeInfo,values:p});u=S.evaluateRenderer(V.rendererInfo,u,p,n);V.filterInfo&&0<V.filterInfo.length&&null!=V.filterAttributesData&&(p=V.filterAttributesData.filter(c.isSome).map(r=>{const w=S.getAttributeValues(r,q,n);r={attributeInfo:r.attributeInfo,values:w};G.push(r);return r}),C=new Uint32Array(n),n=S.filterInPlace(q,u,C,V.filterInfo,p));for(var B of V.userAttributesData)p=S.getAttributeValues(B,q,n),
G.push({attributeInfo:B.attributeInfo,values:p});3*n<u.length&&(u=new Uint8Array(u.buffer.slice(0,3*n)));this._applyElevationOffsetInPlace(q,n,V.elevationOffset);B=this._transformCoordinates(q,n,V.obb,I.fromJSON(V.inSR),I.fromJSON(V.outSR));return{obb:V.obb,points:B,rgb:u,attributes:G,pointIdFilterMap:C}};W._transformCoordinates=function(V,q,n,C,G){if(!z.projectBuffer(V,C,0,V,G,0,q))throw Error("Can't reproject");C=y.fromValues(n.center[0],n.center[1],n.center[2]);G=y.create();const u=y.create();
t.conjugate(v,n.quaternion);const p=new Float32Array(3*q);for(let B=0;B<q;B++)G[0]=V[3*B]-C[0],G[1]=V[3*B+1]-C[1],G[2]=V[3*B+2]-C[2],O.transformQuat(u,G,v),n.halfSize[0]=Math.max(n.halfSize[0],Math.abs(u[0])),n.halfSize[1]=Math.max(n.halfSize[1],Math.abs(u[1])),n.halfSize[2]=Math.max(n.halfSize[2],Math.abs(u[2])),p[3*B]=G[0],p[3*B+1]=G[1],p[3*B+2]=G[2];return p};W._applyElevationOffsetInPlace=function(V,q,n){if(0!==n)for(let C=0;C<q;C++)V[3*C+2]+=n};return l._createClass(M)}();const v=D.create();
return function(){return new A}});