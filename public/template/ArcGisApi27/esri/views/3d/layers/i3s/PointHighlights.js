// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/handleUtils","../../webgl-engine/lib/basicInterfaces","../../webgl-engine/lib/Object3DStateID"],function(e,f,h,k,l){let p=function(){function d(a){this._context=a;this._highlights=new Set}var c=d.prototype;c.destroy=function(){this._highlights=null};c.add=function(a){const b=new m(a);this._highlights.add(b);this._enableSet(b);return h.makeHandle(()=>this._removeSet(b))};c._removeSet=function(a){this._disableSet(a);
this._highlights.delete(a)};c._enableSet=function(a){a.enabled||(a.enabled=!0,this._context.forEachNode(b=>this._enableSetForNode(a,b)))};c._enableSetForNode=function(a,b){if(a.enabled){var g=a.ids.get(b.id);g&&g.forEach(n=>this._context.addHighlight(b,n,a.id))}};c._disableSet=function(a){a.enabled&&(a.enabled=!1,this._context.forEachNode(b=>this._disableSetForNode(a,b)))};c._disableSetForNode=function(a,b){a.enabled||this._context.removeHighlight(b,a.id)};c.nodeAdded=function(a){this._highlights.forEach(b=>
this._enableSetForNode(b,a))};c.nodeRemoved=function(a){this._highlights.forEach(b=>this._disableSetForNode(b,a))};c.removeAll=function(){this._highlights.forEach(a=>this._disableSet(a))};f._createClass(d,[{key:"hasHighlights",get:function(){return 0<this._highlights.size}}]);return d}(),m=function(){function d(c){this.id=new l.Object3DStateID(k.Object3DState.Highlight);this.ids=new Map;this.enabled=!1;for(const a of c)null!=a&&this._add(a.nodeId,a.pointId)}d.prototype._add=function(c,a){const b=
this.ids.get(c);b?b.add(a):this.ids.set(c,new Set([a]))};return f._createClass(d)}();e.PointHighlights=p;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});