// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/deprecate ../../../core/Evented ../../../core/Logger ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../webscene/SunLighting".split(" "),function(p,e,k,c,r,h,w,x,y,t,u){var f;const l=r.getLogger("esri.views.3d.environment.SunLighting");c=f=function(m){function d(a){a=m.call(this,
a)||this;a.cameraTrackingEnabled=!0;a.positionTimezoneInfo={hours:0,minutes:0,seconds:0,autoUpdated:!0};var b=(new Date).getFullYear();b=new Date("March 15, "+b+" 12:00:00 UTC");a._set("defaultDate",b);a._set("date",b);return a}p._inherits(d,m);d.fromWebsceneLighting=function(a){return new f(a.cloneConstructProperties())};var g=d.prototype;g.autoUpdate=function(a,b){const v=f.calculateTimezoneOffset(this.positionTimezoneInfo);this.positionTimezoneInfo.hours=b.hours;this.positionTimezoneInfo.minutes=
b.minutes;this.positionTimezoneInfo.seconds=b.seconds;b=null;null!=a&&(this.positionTimezoneInfo.autoUpdated=!0,isNaN(a.getTime())?(b=this.defaultDate.getTime(),this._set("date",this.defaultDate)):(b=this.date&&this.date.getTime(),this._set("date",new Date(a.getTime()))));const q=f.calculateTimezoneOffset(this.positionTimezoneInfo);v!==q&&(n.target=this,n.timezoneOffset=q,this.emit("timezone-will-change",n),n.target=null);if(null!=a)return isNaN(a.getTime())||b!==a.getTime()};g.clone=function(){const a=
this._get("date")===this._get("defaultDate"),b=new f({...this.cloneConstructProperties(),defaultDate:this.defaultDate,cameraTrackingEnabled:this.cameraTrackingEnabled});a&&b._set("date",b._get("defaultDate"));b.positionTimezoneInfo.autoUpdated=this.positionTimezoneInfo.autoUpdated;b.positionTimezoneInfo.hours=this.positionTimezoneInfo.hours;b.positionTimezoneInfo.minutes=this.positionTimezoneInfo.minutes;b.positionTimezoneInfo.seconds=this.positionTimezoneInfo.seconds;return b};g.cloneWithWebsceneLighting=
function(a){const b=this.clone();null!=a.date&&(b.date=a.date);b.directShadowsEnabled=a.directShadowsEnabled;b.displayUTCOffset=a.displayUTCOffset;return b};g.cloneNonPersistentConstructProperties=function(){return{cameraTrackingEnabled:this.cameraTrackingEnabled}};p._createClass(d,[{key:"ambientOcclusionEnabled",get:function(){k.deprecatedProperty(l,"ambientOcclusionEnabled",{replacement:"ambient occlusion is automatically shown and this property has no effect",version:"4.27"});return this._get("ambientOcclusionEnabled")??
!1},set:function(a){k.deprecatedProperty(l,"ambientOcclusionEnabled",{replacement:"ambient occlusion is automatically shown and this property has no effect",version:"4.27"});this._set("ambientOcclusionEnabled",a)}},{key:"waterReflectionEnabled",get:function(){k.deprecatedProperty(l,"waterReflectionEnabled",{replacement:"reflections are automatically shown and this property has no effect",version:"4.27"});return this._get("waterReflectionEnabled")??!1},set:function(a){k.deprecatedProperty(l,"waterReflectionEnabled",
{replacement:"reflections are automatically shown and this property has no effect",version:"4.27"});this._set("waterReflectionEnabled",a)}},{key:"defaultDate",get:function(){return new Date(this._get("defaultDate").getTime())},set:function(a){const b=this._get("date")===this._get("defaultDate");a=new Date(a.getTime());this._set("defaultDate",a);b&&this._set("date",a)}},{key:"date",set:function(a){null!=a&&(this.positionTimezoneInfo.autoUpdated=!1,this._set("date",new Date(a.getTime())))}}]);return d}(c.EventedMixin(u));
e.__decorate([h.property({type:Boolean})],c.prototype,"cameraTrackingEnabled",void 0);e.__decorate([h.property({type:Boolean})],c.prototype,"ambientOcclusionEnabled",null);e.__decorate([h.property({type:Boolean})],c.prototype,"waterReflectionEnabled",null);e.__decorate([h.property({type:Date})],c.prototype,"defaultDate",null);e.__decorate([h.property({type:Date})],c.prototype,"date",null);c=f=e.__decorate([t.subclass("esri.views.3d.environment.SunLighting")],c);(function(m){m.calculateTimezoneOffset=
function({hours:d,minutes:g,seconds:a}){return Math.round(d+g/60+a/3600)}})(c||(c={}));const n={target:null,timezoneOffset:0};return c});