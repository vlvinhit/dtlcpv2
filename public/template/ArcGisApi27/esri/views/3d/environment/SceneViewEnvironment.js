// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/compilerUtils ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ./lightingUtils ./SceneViewAtmosphere ./SunLighting ./VirtualLighting ../../../webscene/Environment ../../../webscene/SunLighting ../../../webscene/VirtualLighting".split(" "),function(k,f,q,
l,m,r,t,u,v,n,b,g,c,w,x){var e;c=e=function(p){function h(a){a=p.call(this,a)||this;a.atmosphere=new n.SceneViewAtmosphere;a.lighting=new b;a.cachedCameraTrackingEnabled=null;return a}k._inherits(h,p);h.fromWebsceneEnvironment=function(a){a=a.cloneConstructProperties();return new e({...a,lighting:a.lighting?"virtual"===a.lighting.type?g.fromWebsceneLighting(a.lighting):b.fromWebsceneLighting(a.lighting):void 0})};var d=h.prototype;d.castLighting=function(a){return this._convertLighting(a)};d.applyLighting=
function(a){this.lighting=this._convertLighting(a)};d._convertLighting=function(a){return a?a instanceof b||a instanceof g?a:a instanceof w?this.lighting&&"virtual"!==this.lighting.type?this.lighting.cloneWithWebsceneLighting(a):new b({...a.cloneConstructProperties(),...this.lighting?.cloneNonPersistentConstructProperties()}):a instanceof x?this.lighting&&"virtual"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(a):new g({...a.cloneConstructProperties(),...this.lighting?.cloneNonPersistentConstructProperties()}):
u.ensureOneOfType(v.lightingTypes,a):new b};d.clone=function(){return new e({lighting:this.lighting.clone(),atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:l.clone(this.background)})};d.cloneWithWebsceneEnvironment=function(a){return new e({atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:l.clone(this.background),
...a.cloneConstructProperties(),lighting:this._getLighting(a)})};d._getLighting=function(a){switch(a.lighting.type){case "sun":return this.lighting&&"sun"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(a.lighting):b.fromWebsceneLighting(a.lighting);case "virtual":return this.lighting&&"virtual"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(a.lighting):g.fromWebsceneLighting(a.lighting);default:return q.neverReached(a.lighting),b.fromWebsceneLighting(a.lighting)}};return k._createClass(h)}(c);
f.__decorate([m.property({type:n.SceneViewAtmosphere,json:{read:!1},nonNullable:!0})],c.prototype,"atmosphere",void 0);f.__decorate([m.property({nonNullable:!0})],c.prototype,"lighting",void 0);f.__decorate([r.cast("lighting")],c.prototype,"castLighting",null);return c=e=f.__decorate([t.subclass("esri.views.3d.environment.SceneViewEnvironment")],c)});