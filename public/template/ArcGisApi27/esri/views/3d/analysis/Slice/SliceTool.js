// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../Color ../../../../analysis/SlicePlane ../../../../core/clock ../../../../core/Handles ../../../../core/maybe ../../../../core/reactiveUtils ../../../../core/scheduling ../../../../core/screenUtils ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/decorators/subclass ../../../../chunks/mat4 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4f64 ../../../../chunks/boundedPlane ../../../../geometry/support/plane ../../../../geometry/support/ray ../../../../geometry/support/vectorStacks ./settings ./sliceToolConfig ./sliceToolUtils ./images/Factory ../../interactive/manipulatorUtils ../../interactive/editingTools/dragEventPipeline3D ../../support/geometryUtils/ray ../../webgl-engine/lib/Intersector ../../webgl-engine/lib/IntersectorInterfaces ../../../interactive/AnalysisToolBase ../../../interactive/dragEventPipeline ../../../support/screenUtils".split(" "),
function(I,n,J,N,O,K,t,x,P,A,p,l,aa,ba,Q,E,k,B,R,g,r,S,m,u,q,e,L,T,C,U,V,W,X,D,y){function M(v,w,d,a){d=e.createShiftPlane(d,g.normal(a),v.direction,r.create());a=B.create();return r.intersectRay(d,v,a)?{type:"shift",creatingPointerId:w,hasBeenDragged:!1,shiftPlane:d,depth:0,startPoint:a}:null}function F(v){return"mouse"!==v.pointerType||0===v.button}var G;l=G=function(v){function w(a){var b=v.call(this,a)||this;b._clock=O.clock;b._previewPlaneOpacity=1;b.removeIncompleteOnCancel=!1;b.layersMode=
"none";b.shiftManipulator=null;b.rotateHeadingManipulator=null;b.rotateTiltManipulator=null;b.resizeManipulators=null;b._handles=new K;b._viewHandles=new K;b._frameTask=null;b._pointerMoveTimerMs=q.POINTER_MOVE_TIMER_MS;b._prevPointerMoveTimeout=null;b._previewPlaneGridVisualElement=null;b._previewPlaneOutlineVisualElement=null;b._startPlane=g.create();b._previewPlane=null;b._activeKeyModifiers={};b._lastCursorPosition=A.createScreenPoint();b._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,
1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}];b._intersector=V.newIntersector(a.view.state.viewingMode);b._intersector.options.store=W.StoreResults.MIN;return b}I._inherits(w,v);var d=w.prototype;d.initialize=function(){if(null==this.analysis)throw Error("SliceTool requires valid analysis, but null was provided.");var a={accentColor:u.settings.rotateManipulators.color,contrastColor:u.settings.rotateManipulators.contrastColor,preMultiplyAlpha:!this.view._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result};
this._rotateHeadingImage=L.getRotateHeadingTexture(this.view.toolViewManager.textures,a);this._rotateTiltImage=L.getTiltRotateTexture(this.view.toolViewManager.textures,a);const b=c=>{this._updateManipulatorsInteractive(c);c.grabbing||(null!=this.analysisViewData.plane&&g.copy(this.analysisViewData.plane,this._startPlane),this.inputState=null)};this.shiftManipulator=e.createShiftManipulator(this.view,{offsetMode:e.OffsetMode.CENTER_ON_ARROW,calloutColor:u.settings.callouts.color,color:u.settings.shiftManipulator.color,
outlineColor:u.settings.shiftManipulator.outlineColor});this.manipulators.add(this.shiftManipulator);this.shiftManipulator.events.on("grab-changed",c=>{this._onShiftGrab(c);b(this.shiftManipulator)});this._handles.add(this._createShiftDragPipeline(this.shiftManipulator));this.rotateHeadingManipulator=e.createRotateManipulator(this.view,this._rotateHeadingImage.texture);this.manipulators.add(this.rotateHeadingManipulator);this.rotateHeadingManipulator.events.on("grab-changed",c=>{this._onRotateHeadingGrab(c);
b(this.rotateHeadingManipulator)});this._handles.add(this._createRotateHeadingDragPipeline(this.rotateHeadingManipulator));this.rotateTiltManipulator=e.createRotateManipulator(this.view,this._rotateTiltImage.texture);this.manipulators.add(this.rotateTiltManipulator);this.rotateTiltManipulator.events.on("grab-changed",c=>{this._onRotateTiltGrab(c);b(this.rotateTiltManipulator)});this._handles.add(this._createRotateTiltDragPipeline(this.rotateTiltManipulator));this.resizeManipulators=this._resizeHandles.map((c,
f)=>{const h=e.createResizeManipulator(this.view,c,{color:u.settings.resizeManipulators.color});h.events.on("grab-changed",z=>{this._onResizeGrab(z,f);b(h)});this._handles.add(this._createResizeDragPipeline(h));return h});this.manipulators.addMany(this.resizeManipulators);this._previewPlaneGridVisualElement=e.createGridVisualElement(this.view);this._previewPlaneOutlineVisualElement=e.createOutlineVisualElement(this.view);this._previewPlaneOutlineVisualElement.width=q.PLANE_PREVIEW_OUTLINE_WIDTH;this._handles.add(x.watch(()=>
[this.analysisViewData.plane,this.analysis.tiltEnabled],()=>this._updateManipulators(),x.sync));a=x.watch(()=>this.state,c=>{"sliced"===c&&this.finishToolCreation()},x.syncAndInitial);this._handles.add([a,x.watch(()=>this.view.state.camera,()=>this._onCameraChange())])};d.destroy=function(){this._rotateHeadingImage=t.releaseMaybe(this._rotateHeadingImage);this._rotateTiltImage=t.releaseMaybe(this._rotateTiltImage);this._handles=t.destroyMaybe(this._handles);this._viewHandles=t.destroyMaybe(this._viewHandles);
this._removeFrameTask();this._clearPointerMoveTimeout();this._previewPlaneOutlineVisualElement=t.destroyMaybe(this._previewPlaneOutlineVisualElement);this._previewPlaneGridVisualElement=t.destroyMaybe(this._previewPlaneGridVisualElement)};d.enterExcludeLayerMode=function(){null!=this.analysisViewData.plane&&(this._set("layersMode","exclude"),this.active||(this.view.activeTool=this))};d.exitExcludeLayerMode=function(){null!=this.analysisViewData.plane&&(this._set("layersMode","none"),this.active&&
(this.view.activeTool=null))};d.onDeactivate=function(){this._set("layersMode","none");this._updatePreviewPlane(null)};d.onShow=function(){this._updateVisibility(!0)};d.onHide=function(){this._updateVisibility(!1)};d._updateVisibility=function(a){this._updateManipulators();a||this._clearPointerMoveTimeout()};d.onInputEvent=function(a){switch(a.type){case "pointer-drag":if(!F(a))break;this._isPlacingSlicePlane?this._onClickPlacePlane(a)&&a.stopPropagation():this._onPointerDrag(a)&&a.stopPropagation();
break;case "pointer-move":this._onPointerMove(a);break;case "pointer-up":this._onPointerUp(a)&&a.stopPropagation();break;case "immediate-click":if(!F(a))break;this._onClickPlacePlane(a)&&a.stopPropagation();break;case "click":if(!F(a))break;this._onClickExcludeLayer(a)&&a.stopPropagation();break;case "drag":this.inputState&&a.stopPropagation();break;case "key-down":this._onKeyDown(a)&&a.stopPropagation();break;case "key-up":this._onKeyUp(a)&&a.stopPropagation()}};d.onEditableChange=function(){this.analysisViewData.editable=
this.internallyEditable};d._onPointerDrag=function(a){const b=this.inputState;if(a.pointerId===this._creatingPointerId&&null!=b&&"shift"===b.type){const c=y.createScreenPointFromEvent(a);this.shiftManipulator.events.emit("drag",{action:b.hasBeenDragged?"update":"start",pointerType:a.pointerType,start:c,screenPoint:c});return b.hasBeenDragged=!0}return!1};d._onPointerMove=function(a){this._lastCursorPosition.x=a.x;this._lastCursorPosition.y=a.y;this._resetPointerMoveTimeout();"touch"!==a.pointerType&&
this._updatePreviewPlane(y.createScreenPointFromEvent(a),this._activeKeyModifiers)};d._onCameraChange=function(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers);this._updateManipulators()};d._onPointerUp=function(a){return a.pointerId===this._creatingPointerId&&null!=this.analysisViewData.plane?(a=y.createScreenPointFromEvent(a),this.shiftManipulator.events.emit("drag",{action:"end",start:a,screenPoint:a}),g.copy(this.analysisViewData.plane,this._startPlane),this.inputState=
null,!0):!1};d._onClickPlacePlane=function(a){if("exclude"===this.layersMode)return!1;if(this._isPlacingSlicePlane){var b=y.createScreenPointFromEvent(a);const c=g.create();if(this._pickPlane(b,!1,this._activeKeyModifiers,c))return"pointer-drag"===a.type&&(b=this._calculatePickRay(b),this.inputState=M(b,a.pointerId,c.origin,c)),g.copy(c,this._startPlane),this.analysis.shape=e.planeToShape(c,this.view,this.view.spatialReference,new N),!0}return!1};d._onClickExcludeLayer=function(a){if("exclude"!==
this.layersMode||!this.created)return!1;this.view.hitTest(y.createScreenPointFromEvent(a)).then(b=>{b.results.length?(b=b.results[0],(b="graphic"===b?.type&&b.graphic)&&(b=b.sourceLayer||b.layer)&&this.analysis.excludedLayers.push(b)):b.ground.layer?this.analysis.excludedLayers.push(b.ground.layer):this.analysis.excludeGroundSurface=!0});this._set("layersMode","none");this.active&&(this.view.activeTool=null);return!0};d._onKeyDown=function(a){return a.key===q.forceVerticalModifier||a.key===q.forceHorizontalModifier?
(this._activeKeyModifiers[a.key]=!0,null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0):!1};d._onKeyUp=function(a){return a.key!==q.forceVerticalModifier&&a.key!==q.forceHorizontalModifier||!this._activeKeyModifiers[a.key]?!1:(delete this._activeKeyModifiers[a.key],null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)};d._onShiftGrab=function(a){"start"===a.action&&null!=this.analysisViewData.plane&&
a.screenPoint&&(a=this._calculatePickRay(a.screenPoint),g.copy(this.analysisViewData.plane,this._startPlane),this.inputState=M(a,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane))};d._createShiftDragPipeline=function(a){return D.createManipulatorDragEventPipeline(a,(b,c,f)=>{b=this.inputState;if(null!=b&&"shift"===b.type){var h=null!=this.analysisViewData.plane?g.copy(this.analysisViewData.plane,g.create()):null;c.next(C.screenToRenderPlane(this.view,b.shiftPlane)).next(this._shiftDragAdjustSensitivity(b)).next(this._shiftDragUpdatePlane(b));
f.next(()=>{null!=h&&this._updateBoundedPlane(h)})}})};d._shiftDragAdjustSensitivity=function(a){return b=>{if(null==this.analysisViewData.plane)return null;const c=Math.min((1-Math.abs(k.dot(g.normal(this.analysisViewData.plane),b.ray.direction)/k.length(b.ray.direction)))/.001,1),f=-r.signedDistance(this._startPlane.plane,b.renderEnd),h=-r.signedDistance(this._startPlane.plane,a.startPoint);a.depth=a.depth*(1-c)+f*c-h;return b}};d._shiftDragUpdatePlane=function(a){return()=>{if(null!=this.analysisViewData.plane){var b=
k.copy(m.sv3d.get(),this._startPlane.origin),c=k.copy(m.sv3d.get(),g.normal(this._startPlane));k.scale(c,c,-a.depth);k.add(c,c,b);b=g.fromValues(c,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,g.create());this._updateBoundedPlane(b)}}};d._onRotateHeadingGrab=function(a){if("start"===a.action&&null!=this.analysisViewData.plane&&a.screenPoint){var b=e.createRotatePlane(this.analysisViewData.plane,this.view.renderCoordsHelper,e.RotationAxis.HEADING,r.create());a=this._calculatePickRay(a.screenPoint);
var c=B.create();r.intersectRay(b,a,c)&&(g.copy(this.analysisViewData.plane,this._startPlane),this.inputState={type:"rotate",rotatePlane:b,startPoint:c})}};d._createRotateHeadingDragPipeline=function(a){return D.createManipulatorDragEventPipeline(a,(b,c,f)=>{b=this.inputState;if(null!=b&&"rotate"===b.type){var h=null!=this.analysisViewData.plane?g.copy(this.analysisViewData.plane,g.create()):null;c.next(C.screenToRenderPlane(this.view,b.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(b)).next(this._rotateDragUpdatePlaneFromRotate());
f.next(()=>{null!=h&&this._updateBoundedPlane(h)})}})};d._onRotateTiltGrab=function(a){if("start"===a.action&&null!=this.analysisViewData.plane&&a.screenPoint){var b=e.createRotatePlane(this.analysisViewData.plane,this.view.renderCoordsHelper,e.RotationAxis.TILT,r.create());a=this._calculatePickRay(a.screenPoint);var c=B.create();r.intersectRay(b,a,c)&&(g.copy(this.analysisViewData.plane,this._startPlane),this.inputState={type:"rotate",rotatePlane:b,startPoint:c})}};d._createRotateTiltDragPipeline=
function(a){return D.createManipulatorDragEventPipeline(a,(b,c,f)=>{b=this.inputState;if(null!=b&&"rotate"===b.type){var h=null!=this.analysisViewData.plane?g.copy(this.analysisViewData.plane,g.create()):null;c.next(C.screenToRenderPlane(this.view,b.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(b)).next(this._rotateDragUpdatePlaneFromRotate());f.next(()=>{null!=h&&this._updateBoundedPlane(h)})}})};d._rotateDragRenderPlaneToRotate=function(a){return b=>{if(null==this.analysisViewData.plane)return null;
const c=r.normal(a.rotatePlane),f=T.calculateInputRotationTransform(a.startPoint,b.renderEnd,this.analysisViewData.plane.origin,c);return{...b,rotateAxis:c,rotateAngle:f}}};d._rotateDragUpdatePlaneFromRotate=function(){return a=>{if(null!=this.analysisViewData.plane){var b=E.fromRotation(m.sm4d.get(),a.rotateAngle,a.rotateAxis);null!=b&&(a=k.transformMat4(m.sv3d.get(),this._startPlane.basis1,b),b=k.transformMat4(m.sv3d.get(),this._startPlane.basis2,b),a=g.fromValues(this.analysisViewData.plane.origin,
a,b,g.create()),this._updateBoundedPlane(a))}}};d._onResizeGrab=function(a,b){if("start"===a.action&&null!=this.analysisViewData.plane&&a.screenPoint){a=this._calculatePickRay(a.screenPoint);var c=m.sv3d.get();r.intersectRay(this.analysisViewData.plane.plane,a,c)&&(g.copy(this.analysisViewData.plane,this._startPlane),this.inputState={type:"resize",activeHandleIdx:b,startPoint:B.clone(c)})}};d._createResizeDragPipeline=function(a){return D.createManipulatorDragEventPipeline(a,(b,c,f)=>{b=this.inputState;
if(null!=b&&"resize"===b.type&&null!=this.analysisViewData.plane){var h=g.copy(this.analysisViewData.plane,g.create());c.next(C.screenToRenderPlane(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(b));f.next(()=>{this._updateBoundedPlane(h)})}})};d._resizeDragUpdatePlane=function(a){return b=>{null!=this.analysisViewData.plane&&(b=e.resizePlane(this._resizeHandles[a.activeHandleIdx],a.startPoint,b.renderEnd,this.view.state.camera,this._startPlane,g.copy(this.analysisViewData.plane)),
this._updateBoundedPlane(b))}};d._updateBoundedPlane=function(a){const b=this.analysisViewData;if(null!=b)b.plane=a;else throw Error("valid internal object expected");};d._updatePreviewPlane=function(a,b={}){let c=this._previewPlane;this._previewPlane=null;if(null==a)this._removeFrameTask(),this._updateManipulators();else{if(!this.analysisViewData.plane&&this.active){const f=null!=c?c:g.create();c=null!=c?g.copy(c,Y):null;this._pickPlane(a,!0,b,f)&&(a=q.PREVIEW_FADE_DOT_THRESHOLD,b=!1,null!=c&&(b=
k.dot(c.plane,f.plane)<a||k.dot(k.normalize(m.sv3d.get(),c.basis1),k.normalize(m.sv3d.get(),f.basis1))<a),b&&(this._previewPlaneOpacity=0),this._previewPlane=f)}null!=this._previewPlane&&null==this._frameTask&&0===this._previewPlaneOpacity?this._frameTask=P.addFrameTask({update:({deltaTime:f})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+f/(1E3*q.PREVIEW_FADE_DURATION_SECONDS),1);this._updateManipulators();1===this._previewPlaneOpacity&&this._removeFrameTask()}}):null==this._previewPlane&&
null!=this._frameTask?this._removeFrameTask():null!=this._previewPlane&&this._updateManipulators()}};d._removeFrameTask=function(){this._frameTask=t.removeMaybe(this._frameTask)};d._calculatePickRay=function(a){const b=S.create();a=A.screenPointObjectToArray(a,Z);U.fromScreen(this.view.state.camera,a,b);k.normalize(b.direction,b.direction);return b};d._pickMinResult=function(a){a=A.screenPointObjectToArray(a,m.sv2d.get());this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(a,this._intersector);
return this._intersector.results.min};d._pickPlane=function(a,b,c,f){var h=this._pickMinResult(a);a=m.sv3d.get();if(!h.getIntersectionPoint(a))return!1;h=h.getTransformedNormal(m.sv3d.get());const z=this.view.state.camera;0<k.dot(h,z.viewForward)&&k.scale(h,h,-1);const H=e.calculatePlaneHalfSize(a,z);b=(b?1:-1)*H*q.INITIAL_DEPTH_OFFSET_FRAC;b=k.scale(m.sv3d.get(),h,b);k.add(b,b,a);a=this.analysis.tiltEnabled?e.SliceOrientation.TILTED:e.SliceOrientation.HORIZONTAL_OR_VERTICAL;e.createPlane(b,h,H,H,
z,c[q.forceVerticalModifier]?e.SliceOrientation.VERTICAL:c[q.forceHorizontalModifier]?e.SliceOrientation.HORIZONTAL:a,this.view.renderCoordsHelper,f);return!0};d._clearPointerMoveTimeout=function(){this._prevPointerMoveTimeout=t.removeMaybe(this._prevPointerMoveTimeout)};d._resetPointerMoveTimeout=function(){this._clearPointerMoveTimeout();this.shiftManipulator.state|=e.DidPointerMoveRecentlyFlag;this.rotateHeadingManipulator.state|=e.DidPointerMoveRecentlyFlag;this.rotateTiltManipulator.state|=e.DidPointerMoveRecentlyFlag;
this._prevPointerMoveTimeout=this._clock.setTimeout(()=>{this.shiftManipulator.state&=~e.DidPointerMoveRecentlyFlag;this.rotateHeadingManipulator.state&=~e.DidPointerMoveRecentlyFlag;this.rotateTiltManipulator.state&=~e.DidPointerMoveRecentlyFlag},this._pointerMoveTimerMs)};d._updateManipulators=function(){if(!G.disableEngineLayers){var a=!1;if(null!=this.analysisViewData.plane){var b=this.analysisViewData.plane;a=!1}else if(null!=this._previewPlane)b=this._previewPlane,a=!0;else{this.shiftManipulator.available=
!1;this.rotateHeadingManipulator.available=!1;this.rotateTiltManipulator.available=!1;this.resizeManipulators.forEach(f=>f.available=!1);this._previewPlaneOutlineVisualElement.visible=!1;this._previewPlaneGridVisualElement.visible=!1;return}var c=e.calculateBoundedPlaneTranslateRotate(b,m.sm4d.get());a?(this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach(f=>f.available=!1),this._previewPlaneOutlineVisualElement.attached=
!0,this._previewPlaneGridVisualElement.attached=!0,this._previewPlaneOutlineVisualElement.visible=!0,this._previewPlaneGridVisualElement.visible=!0):(this.shiftManipulator.available=!0,this.rotateHeadingManipulator.available=!0,this.rotateTiltManipulator.available=this.analysis.tiltEnabled,this.resizeManipulators.forEach(f=>f.available=!0),e.updateShiftRestartHandle(this.shiftManipulator,c,b,this.view.state.camera),e.updateRotateHeadingHandle(this.rotateHeadingManipulator,c,b,this.view.renderCoordsHelper),
e.updateRotateTiltHandle(this.rotateTiltManipulator,c,b),this.resizeManipulators.forEach((f,h)=>e.updateResizeHandle(f,this._resizeHandles[h],c,b)),this._previewPlaneOutlineVisualElement.visible=!1,this._previewPlaneGridVisualElement.visible=!1);a=k.set(m.sv3d.get(),k.length(b.basis1),k.length(b.basis2),1);a=E.fromScaling(m.sm4d.get(),a);a=E.multiply(a,c,a);this._previewPlaneOutlineVisualElement.transform=a;this._previewPlaneGridVisualElement.transform=a;this._updateMaterials()}};d._updateMaterials=
function(){const a=J.toUnitRGBA(u.settings.plane.outlineColor);a[3]*=this._previewPlaneOpacity;const b=J.toUnitRGBA(u.settings.plane.color);b[3]*=this._previewPlaneOpacity;this._previewPlaneOutlineVisualElement.color=a;this._previewPlaneGridVisualElement.backgroundColor=b;this._previewPlaneGridVisualElement.gridColor=R.ZEROS};d._updateManipulatorsInteractive=function(a){a.grabbing?(this.shiftManipulator.interactive=this.shiftManipulator===a,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===
a,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===a,this.resizeManipulators.forEach(b=>{b.interactive=b===a})):(this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,this.resizeManipulators.forEach(b=>{b.interactive=!0}))};d.testData=function(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:a=>{this._pointerMoveTimerMs=a}}};I._createClass(w,[{key:"state",get:function(){const a=!!this.analysisViewData.plane,
b=!!this.inputState;return a?a&&b?"slicing":a&&!b?"sliced":"ready":"ready"}},{key:"cursor",get:function(){return this._isPlacingSlicePlane||"exclude"===this.layersMode?"crosshair":null!=this._creatingPointerId?"grabbing":null}},{key:"analysis",set:function(a){if(null==a)throw Error("SliceTool requires valid analysis, but null was provided.");this._handles.remove("analysis");this._set("analysis",a)}},{key:"inputState",get:function(){return this._get("inputState")},set:function(a){this._set("inputState",
a);this.analysisViewData.showGrid=null!=a&&"resize"===a.type;this._updateMaterials()}},{key:"_isPlacingSlicePlane",get:function(){return!this.inputState&&!this.analysisViewData.plane&&this.active}},{key:"_creatingPointerId",get:function(){return null!=this.inputState&&"shift"===this.inputState.type?this.inputState.creatingPointerId:null}}]);return w}(X.AnalysisToolBase);l.disableEngineLayers=!1;n.__decorate([p.property()],l.prototype,"_clock",void 0);n.__decorate([p.property({constructOnly:!0})],
l.prototype,"view",void 0);n.__decorate([p.property()],l.prototype,"analysisViewData",void 0);n.__decorate([p.property({readOnly:!0})],l.prototype,"state",null);n.__decorate([p.property({readOnly:!0})],l.prototype,"cursor",null);n.__decorate([p.property()],l.prototype,"analysis",null);n.__decorate([p.property()],l.prototype,"removeIncompleteOnCancel",void 0);n.__decorate([p.property({readOnly:!0})],l.prototype,"layersMode",void 0);n.__decorate([p.property({value:null})],l.prototype,"inputState",null);
n.__decorate([p.property()],l.prototype,"_isPlacingSlicePlane",null);n.__decorate([p.property()],l.prototype,"_creatingPointerId",null);l=G=n.__decorate([Q.subclass("esri.views.3d.analysis.Slice.SliceTool")],l);const Y=g.create(),Z=A.createScreenPointArray();return l});