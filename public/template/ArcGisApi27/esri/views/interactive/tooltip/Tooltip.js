// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./css ./content/tooltipContentFactory ../../../widgets/support/widgetUtils".split(" "),function(d,l,f,q,m,g,k,y,z,A,r,t,u,v){function w({container:e,contentWidget:h,
screenPoint:c}){const {style:a}=e;null!=c&&null!=h?(a.display="block",e=v.isRTL(e),c=`translate(${Math.round(c.x)+n[0]*(e?-1:1)}px, ${Math.round(c.y)+n[1]}px)`,a.transform=e?`translate(-100%, 0) ${c}`:c):a.display="none"}var x=`${t.BASE}`;d.Tooltip=function(e){function h(a){a=e.call(this,a)||this;a.info=null;const b=document.createElement("div");b.classList.add(x);a._contentContainer=b;a._contentWidget=null;return a}l._inherits(h,e);var c=h.prototype;c.initialize=function(){const a=this._contentContainer;
this.addHandles([g.watch(()=>this.view.overlay?.surface,b=>{a.remove();b?.appendChild(a)},g.syncAndInitial),g.watch(()=>this.info,(b,p)=>{if(null!=this._contentWidget&&null!=b&&null!=p&&b.type===p.type)this._contentWidget.info=b;else if(this._contentWidget=m.destroyMaybe(this._contentWidget),b=u.tooltipContentFactory(this,b))this._contentWidget=b,b.container&&a.appendChild(b.container)},g.syncAndInitial),g.watch(()=>({container:this._contentContainer,contentWidget:this._contentWidget,screenPoint:this._screenPoint}),
w,g.syncAndInitial)])};c.destroy=function(){this._contentWidget=m.destroyMaybe(this._contentWidget);this._contentContainer.remove()};c.clear=function(){this.info=null};l._createClass(h,[{key:"_screenPoint",get:function(){const a=this.view.inputManager;return a?.multiTouchActive?null:a?.latestPointerLocation}},{key:"test",get:function(){return{contentContainer:this._contentContainer,visible:"none"!==this._contentContainer?.style.display}}}]);return h}(q);f.__decorate([k.property({nonNullable:!0})],
d.Tooltip.prototype,"view",void 0);f.__decorate([k.property()],d.Tooltip.prototype,"info",void 0);f.__decorate([k.property()],d.Tooltip.prototype,"_contentContainer",void 0);f.__decorate([k.property()],d.Tooltip.prototype,"_contentWidget",void 0);f.__decorate([k.property()],d.Tooltip.prototype,"_screenPoint",null);d.Tooltip=f.__decorate([r.subclass("esri.views.interactive.tooltip.Tooltip")],d.Tooltip);const n=[20,20];Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});