// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/lang ../../../../core/LRUCache ../../../../core/promiseUtils ../../../../core/string".split(" "),function(n,p,A,q,v,w,r){function t(b){switch(b.type){case "vertex":const {objectId:c,target:a}=b;return r.numericHash(`${c}-vertex-${a.x}-${a.y}-${a.z??0}`).toString();case "edge":const {objectId:f,start:e,end:g}=b;return r.numericHash(`${f}-edge-${e.x}-${e.y}-${e.z??0}-to-${g.x}-${g.y}-${g.z??0}`).toString();
default:return""}}let x=function(){function b(){}var c=b.prototype;c.fetch=async function(){return[]};c.notifySymbologyChange=function(){};return p._createClass(b)}(),z=function(){function b(a){this._getSymbologyCandidates=a;this._candidatesCache=new v.LRUCache(1024);this._cacheVersion=0}var c=b.prototype;c.fetch=async function(a,f){if(0===a.length)return[];const e=[],g=[],m=this._candidatesCache;for(var d of a){var h=t(d),k=m.get(h);if(k)for(var l of k)g.push(q.clone(l));else e.push(d),m.put(h,[],
1)}if(0===e.length)return g;d=this._cacheVersion;const {candidates:u,sourceCandidateIndices:y}=await this._getSymbologyCandidates(e,f);w.throwIfAborted(f);if(d!==this._cacheVersion)return this.fetch(a,f);a=[];({length:f}=u);for(d=0;d<f;++d)h=u[d],k=t(e[y[d]]),l=m.get(k),l.push(h),m.put(k,l,l.length),a.push(q.clone(h));return g.concat(a)};c.notifySymbologyChange=function(){this._candidatesCache.clear();this._cacheVersion++};return p._createClass(b)}();n.getSymbologySnappingCandidatesFetcher=function(b=
!1,c){return b?new z(c):new x};Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});