// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Handles ../../../../core/handleUtils ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/decorators/subclass ../../../../geometry/Polygon ../../../../geometry/support/aaBoundingRect ../../../support/TileTreeDebugger".split(" "),function(c,g,h,p,q,r,z,A,B,t,u,v,w){c.WorkerTileTreeDebugger=
function(k){function e(b){b=k.call(this,b)||this;b._handles=new p;return b}g._inherits(e,k);var d=e.prototype;d.initialize=function(){const b=setInterval(()=>this._fetchDebugInfo(),2E3);this._handles.add(q.makeHandle(()=>clearInterval(b)))};d.destroy=function(){this._handles.destroy()};d.getTiles=function(){if(!this._debugInfo)return[];const b=new Map,l=new Map;this._debugInfo.storedTiles.forEach(a=>{b.set(a.data.id,a.featureCount)});this._debugInfo.pendingTiles.forEach(a=>{b.set(a.data.id,a.featureCount);
l.set(a.data.id,a.state)});const f=new Map;this._debugInfo.storedTiles.forEach(a=>{f.set(a.data.id,a.data)});this._debugInfo.pendingTiles.forEach(a=>{f.set(a.data.id,a.data)});return Array.from(f.values()).map(a=>{var x=[a.level,a.row,a.col],y=u.fromExtent(v.toExtent(a.extent,this.view.spatialReference));{a=a.id;const m=l.get(a),n=b.get(a)??"?";a=m?`${m}:${n}\n${a}`:`store:${n}\n${a}`}return{lij:x,geometry:y,label:a}})};d._fetchDebugInfo=function(){this.handle.getDebugInfo(null).then(b=>{this._debugInfo=
b;this.update()})};return g._createClass(e)}(w.TileTreeDebugger);h.__decorate([r.property({constructOnly:!0})],c.WorkerTileTreeDebugger.prototype,"handle",void 0);c.WorkerTileTreeDebugger=h.__decorate([t.subclass("esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger")],c.WorkerTileTreeDebugger);Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});