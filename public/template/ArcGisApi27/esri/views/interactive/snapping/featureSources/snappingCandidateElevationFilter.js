// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/has"],function(p,q,y){function r(e){return 1>=e.distance}function t(e,a,{x:d,y:c,z:f}){const {start:b,end:m,target:g}=e;if(!e.draped){const l=m.x-b.x;var h=m.y-b.y,k=m.z-b.z;const n=Math.min(1,Math.max(0,((a.x-b.x)*l+(a.y-b.y)*h+k*(a.z-b.z))/(l*l+h*h+k*k)));h=b.y+h*n;k=b.z+k*n;g.x=b.x+l*n;g.y=h;g.z=k}d=(a.x-g.x)/d;c=(a.y-g.y)/c;a=(a.z-g.z)/f;e.distance=Math.sqrt(d*d+c*c+a*a)}function u(e,a,{x:d,y:c,z:f}){const {target:b}=
e;d=(a.x-b.x)/d;c=(a.y-b.y)/c;a=(a.z-b.z)/f;e.distance=Math.sqrt(d*d+c*c+a*a)}function v(e,a){return e.distance-a.distance}let w=function(){function e(){}var a=e.prototype;a.filter=function(d,c){return c};a.notifyElevationSourceChange=function(){};return q._createClass(e)}(),x=function(){function e(){}var a=e.prototype;a.filter=function(d,c){const {point:f,distance:b}=d;({z:d}=f);if(null==d||0===c.length)return c;d="number"===typeof b?{x:b,y:b,z:b}:b;c=this._updateCandidatesTo3D(c,f,d).filter(r);
c.sort(v);return c};a._updateCandidatesTo3D=function(d,c,f){for(const b of d)switch(b.type){case "edge":t(b,c,f);continue;case "vertex":u(b,c,f)}return d};return q._createClass(e)}();p.getSnappingCandidateElevationFilter=function(e=!1){return e?new x:new w};Object.defineProperty(p,Symbol.toStringTag,{value:"Module"})});