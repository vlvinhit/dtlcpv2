// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/support/lineSegment":function(){define("exports ../../core/mathUtils ../../core/ObjectStack ../../chunks/vec3 ../../chunks/vec3f64 ./vectorStacks".split(" "),function(d,l,u,z,H,v){function h(C){return C?{origin:H.clone(C.origin),vector:H.clone(C.vector)}:{origin:H.create(),vector:H.create()}}function f(C,A){const D=y.get();D.origin=C;D.vector=A;return D}function m(C,A,D=h()){z.copy(D.origin,C);z.copy(D.vector,A);return D}function t(C,A){A=z.subtract(v.sv3d.get(),A,C.origin);
var D=z.dot(C.vector,A);const K=z.dot(C.vector,C.vector);D=l.clamp(D/K,0,1);C=z.subtract(v.sv3d.get(),z.scale(v.sv3d.get(),C.vector,D),A);return z.dot(C,C)}function w(C,A,D,K,J){const {vector:P,origin:F}=C;A=z.subtract(v.sv3d.get(),A,F);A=z.dot(P,A)/z.squaredLength(P);z.scale(J,P,l.clamp(A,D,K));return z.add(J,J,C.origin)}function r(C,A,D,K){const J=C.origin;var P=z.add(v.sv3d.get(),J,C.vector);C=A.origin;var F=z.add(v.sv3d.get(),C,A.vector),U=v.sv3d.get();A=v.sv3d.get();U[0]=J[0]-C[0];U[1]=J[1]-
C[1];U[2]=J[2]-C[2];A[0]=F[0]-C[0];A[1]=F[1]-C[1];A[2]=F[2]-C[2];if(1E-6>Math.abs(A[0])&&1E-6>Math.abs(A[1])&&1E-6>Math.abs(A[2]))return!1;F=v.sv3d.get();F[0]=P[0]-J[0];F[1]=P[1]-J[1];F[2]=P[2]-J[2];if(1E-6>Math.abs(F[0])&&1E-6>Math.abs(F[1])&&1E-6>Math.abs(F[2]))return!1;P=U[0]*A[0]+U[1]*A[1]+U[2]*A[2];var V=A[0]*F[0]+A[1]*F[1]+A[2]*F[2];const Y=A[0]*A[0]+A[1]*A[1]+A[2]*A[2],fa=(F[0]*F[0]+F[1]*F[1]+F[2]*F[2])*Y-V*V;if(1E-6>Math.abs(fa))return!1;U=(P*V-(U[0]*F[0]+U[1]*F[1]+U[2]*F[2])*Y)/fa;P=(P+V*
U)/Y;D&&(U=l.clamp(U,0,1),P=l.clamp(P,0,1));D=v.sv3d.get();V=v.sv3d.get();D[0]=J[0]+U*F[0];D[1]=J[1]+U*F[1];D[2]=J[2]+U*F[2];V[0]=C[0]+P*A[0];V[1]=C[1]+P*A[1];V[2]=C[2]+P*A[2];K.tA=U;K.tB=P;K.pA=D;K.pB=V;K.distance2=z.squaredDistance(D,V);return!0}const p={tA:0,tB:0,pA:H.create(),pB:H.create(),distance2:0},y=new u.ObjectStack(()=>h());d.closestLineSegmentDistance2=function(C,A){return r(C,A,!0,p)?p.distance2:null};d.closestLineSegmentPoint=function(C,A,D){return r(C,A,!0,p)?(z.copy(D,p.pA),!0):!1};
d.closestRayDistance2=function(C,A){if(r(C,f(A.origin,A.direction),!1,p)){const {tA:D,pB:K,distance2:J}=p;if(0<=D&&1>=D)return J;if(0>D)return z.squaredDistance(C.origin,K);if(1<D)return z.squaredDistance(z.add(v.sv3d.get(),C.origin,C.vector),K)}return null};d.copy=function(C,A=h()){return m(C.origin,C.vector,A)};d.create=h;d.distance=function(C,A){return Math.sqrt(t(C,A))};d.distance2=t;d.fromPoints=function(C,A,D=h()){z.copy(D.origin,C);z.subtract(D.vector,A,C);return D};d.fromValues=m;d.pointAt=
function(C,A,D){return z.add(D,C.origin,z.scale(D,C.vector,A))};d.projectPoint=function(C,A,D){return w(C,A,0,1,D)};d.projectPointClamp=w;d.wrap=f;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObjectStack":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./nextTick"],function(d,l,u){let z=function(){function H(h){this._allocator=h;this._items=[];this._itemsPtr=0;this._grow()}var v=H.prototype;v.get=function(){0===this._itemsPtr&&u.nextTick(()=>this._reset());
this._itemsPtr===this._items.length&&this._grow();return this._items[this._itemsPtr++]};v._reset=function(){this._items.length=Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3072),this._items.length);this._itemsPtr=0};v._grow=function(){for(let h=0;h<Math.max(8,Math.min(this._items.length,1024));h++)this._items.push(this._allocator())};return l._createClass(H)}();d.ObjectStack=z;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports",
"../../core/VectorStack"],function(d,l){const u=l.VectorStack.createVec2f64(),z=l.VectorStack.createVec3f64(),H=l.VectorStack.createVec4f64(),v=l.VectorStack.createMat3f64(),h=l.VectorStack.createMat4f64();l=l.VectorStack.createQuatf64();d.sm3d=v;d.sm4d=h;d.sq4d=l;d.sv2d=u;d.sv3d=z;d.sv4d=H;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./ByteSizeUnit ./nextTick ../chunks/mat3f64 ../chunks/mat4f64 ../chunks/quatf64 ../chunks/vec2f64 ../chunks/vec3f64 ../chunks/vec4f64".split(" "),
function(d,l,u,z,H,v,h,f,m,t){let w=function(){function p(C,A,D){this._itemByteSize=C;this._itemCreate=A;this._buffers=[];this._items=[];this._itemsPtr=0;this._itemsPerBuffer=Math.ceil(D/this._itemByteSize)}var y=p.prototype;y.get=function(){0===this._itemsPtr&&z.nextTick(()=>this._reset());const C=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=C;){const A=new ArrayBuffer(this._itemsPerBuffer*this._itemByteSize);for(let D=0;D<this._itemsPerBuffer;++D)this._items.push(this._itemCreate(A,
D*this._itemByteSize));this._buffers.push(A)}return this._items[this._itemsPtr++]};y._reset=function(){const C=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>C;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0};p.createVec2f64=function(C=r){return new p(16,f.createView,C)};p.createVec3f64=function(C=r){return new p(24,m.createView,C)};p.createVec4f64=function(C=r){return new p(32,t.createView,C)};p.createMat3f64=function(C=
r){return new p(72,H.createView,C)};p.createMat4f64=function(C=r){return new p(128,v.createView,C)};p.createQuatf64=function(C=r){return new p(32,h.createView,C)};l._createClass(p,[{key:"test",get:function(){return{size:this._buffers.length*this._itemsPerBuffer*this._itemByteSize}}}]);return p}();const r=4*u.ByteSizeUnit.KILOBYTES;d.VectorStack=w;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/ByteSizeUnit":function(){define(["exports"],function(d){d.ByteSizeUnit=void 0;
var l=d.ByteSizeUnit||(d.ByteSizeUnit={});l[l.KILOBYTES=1024]="KILOBYTES";l[l.MEGABYTES=1048576]="MEGABYTES";l[l.GIGABYTES=1073741824]="GIGABYTES";Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat3f64":function(){define(["exports"],function(d){function l(){return[1,0,0,0,1,0,0,0,1]}function u(h){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8]]}function z(h,f,m,t,w,r,p,y,C){return[h,f,m,t,w,r,p,y,C]}function H(h,f){return new Float64Array(h,f,9)}const v=Object.freeze(Object.defineProperty({__proto__:null,
clone:u,create:l,createView:H,fromValues:z},Symbol.toStringTag,{value:"Module"}));d.clone=u;d.create=l;d.createView=H;d.fromValues=z;d.mat3f64=v})},"esri/chunks/mat4f64":function(){define(["exports"],function(d){function l(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function u(f){return[f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]]}function z(f,m,t,w,r,p,y,C,A,D,K,J,P,F,U,V){return[f,m,t,w,r,p,y,C,A,D,K,J,P,F,U,V]}function H(f,m){return new Float64Array(f,m,
16)}const v=l(),h=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:v,clone:u,create:l,createView:H,fromValues:z},Symbol.toStringTag,{value:"Module"}));d.IDENTITY=v;d.clone=u;d.create=l;d.createView=H;d.fromValues=z;d.mat4f64=h})},"esri/chunks/quatf64":function(){define(["exports"],function(d){function l(){return[0,0,0,1]}function u(f){return[f[0],f[1],f[2],f[3]]}function z(f,m,t,w){return[f,m,t,w]}function H(f,m){return new Float64Array(f,m,4)}const v=l(),h=Object.freeze(Object.defineProperty({__proto__:null,
IDENTITY:v,clone:u,create:l,createView:H,fromValues:z},Symbol.toStringTag,{value:"Module"}));d.IDENTITY=v;d.clone=u;d.create=l;d.createView=H;d.fromValues=z;d.quatf64=h})},"esri/chunks/vec2f64":function(){define(["exports"],function(d){function l(){return[0,0]}function u(A){return[A[0],A[1]]}function z(A,D){return[A,D]}function H(A){const D=[0,0],K=Math.min(2,A.length);for(let J=0;J<K;++J)D[J]=A[J];return D}function v(A,D){return new Float64Array(A,D,2)}function h(){return[0,0]}function f(){return[1,
1]}function m(){return[1,0]}function t(){return[0,1]}const w=[0,0],r=[1,1],p=[1,0],y=[0,1],C=Object.freeze(Object.defineProperty({__proto__:null,ONES:r,UNIT_X:p,UNIT_Y:y,ZEROS:w,clone:u,create:l,createView:v,fromArray:H,fromValues:z,ones:f,unitX:m,unitY:t,zeros:h},Symbol.toStringTag,{value:"Module"}));d.ONES=r;d.UNIT_X=p;d.UNIT_Y=y;d.ZEROS=w;d.clone=u;d.create=l;d.createView=v;d.fromArray=H;d.fromValues=z;d.ones=f;d.unitX=m;d.unitY=t;d.vec2f64=C;d.zeros=h})},"esri/chunks/vec4f64":function(){define(["exports"],
function(d){function l(){return[0,0,0,0]}function u(P){return[P[0],P[1],P[2],P[3]]}function z(P,F,U,V){return[P,F,U,V]}function H(P){const F=l(),U=Math.min(4,P.length);for(let V=0;V<U;++V)F[V]=P[V];return F}function v(P,F){return new Float64Array(P,F,4)}function h(){return l()}function f(){return[1,1,1,1]}function m(){return[1,0,0,0]}function t(){return[0,1,0,0]}function w(){return[0,0,1,0]}function r(){return[0,0,0,1]}const p=l(),y=f(),C=m(),A=t(),D=w(),K=r(),J=Object.freeze(Object.defineProperty({__proto__:null,
ONES:y,UNIT_W:K,UNIT_X:C,UNIT_Y:A,UNIT_Z:D,ZEROS:p,clone:u,create:l,createView:v,fromArray:H,fromValues:z,ones:f,unitW:r,unitX:m,unitY:t,unitZ:w,zeros:h},Symbol.toStringTag,{value:"Module"}));d.ONES=y;d.UNIT_W=K;d.UNIT_X=C;d.UNIT_Y=A;d.UNIT_Z=D;d.ZEROS=p;d.clone=u;d.create=l;d.createView=v;d.fromArray=H;d.fromValues=z;d.ones=f;d.unitW=r;d.unitX=m;d.unitY=t;d.unitZ=w;d.vec4f64=J;d.zeros=h})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ./mat4 ./vec3 ./vec3f64 ./vec4 ./vec4f64 ../geometry/support/Axis ../geometry/support/ray ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),
function(d,l,u,z,H,v,h,f,m,t,w,r,p){function y(){return m.create()}function C(g,E=y()){return f.copy(E,g)}function A(g,E){return m.fromValues(g[0],g[1],g[2],E)}function D(g){return g}function K(g){g[0]=g[1]=g[2]=g[3]=0}function J(g,E){g[0]=g[1]=g[2]=0;g[3]=E;return g}function P(g){return g[3]}function F(g){return g}function U(g,E,M,oa){return m.fromValues(g,E,M,oa)}function V(g,E,M){g!==M&&v.copy(M,g);M[3]=g[3]+E;return M}function Y(g,E,M){u.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported");
return g===M?M:C(g,M)}function fa(g,E,M){if(null==E)return!1;const {origin:oa,direction:na}=E;var pa=q;pa[0]=oa[0]-g[0];pa[1]=oa[1]-g[1];pa[2]=oa[2]-g[2];E=na[0]*na[0]+na[1]*na[1]+na[2]*na[2];if(0===E)return!1;const Fa=2*(na[0]*pa[0]+na[1]*pa[1]+na[2]*pa[2]);g=Fa*Fa-4*E*(pa[0]*pa[0]+pa[1]*pa[1]+pa[2]*pa[2]-g[3]*g[3]);if(0>g)return!1;pa=Math.sqrt(g);g=(-Fa-pa)/(2*E);E=(-Fa+pa)/(2*E);if(0>g||E<g&&0<E)g=E;if(0>g)return!1;M&&(M[0]=oa[0]+na[0]*g,M[1]=oa[1]+na[1]*g,M[2]=oa[2]+na[2]*g);return!0}function ha(g,
E){return fa(g,E,null)}function I(g,E,M){if(fa(g,E,M))return M;g=N(g,E,p.sv3d.get());v.add(M,E.origin,v.scale(p.sv3d.get(),E.direction,v.distance(E.origin,g)/v.length(E.direction)));return M}function N(g,E,M){const oa=p.sv3d.get(),na=p.sm4d.get();v.cross(oa,E.origin,E.direction);const pa=g[3];v.cross(M,oa,E.origin);v.scale(M,M,1/v.length(M)*pa);g=ka(g,E.origin);E=r.angle(E.origin,M);H.fromRotation(na,E+g,oa);v.transformMat4(M,M,na);return M}function Z(g,E,M){if(fa(g,E,M))return M;w.closestPoint(E,
g,M);return ca(g,M,M)}function ca(g,E,M){E=v.subtract(p.sv3d.get(),E,g);E=v.scale(p.sv3d.get(),E,g[3]/v.length(E));return v.add(M,E,g)}function ma(g,E){E=v.subtract(p.sv3d.get(),E,g);E=v.squaredLength(E);return Math.sqrt(Math.abs(E-g[3]*g[3]))}function ka(g,E){E=v.subtract(p.sv3d.get(),E,g);E=v.length(E);g=g[3];return z.acosClamped(g/(g+Math.abs(g-E)))}function ra(g,E,M,oa){g=v.subtract(k,E,g);switch(M){case t.Axis.X:return M=z.cartesianToSpherical(g,k)[2],v.set(oa,-Math.sin(M),Math.cos(M),0);case t.Axis.Y:return g=
z.cartesianToSpherical(g,k),M=g[1],g=g[2],E=Math.sin(M),v.set(oa,-E*Math.cos(g),-E*Math.sin(g),Math.cos(M));case t.Axis.Z:return v.normalize(oa,g)}}function X(g,E){E=v.subtract(e,E,g);return v.length(E)-g[3]}function ba(g,E,M,oa){const na=X(g,E);g=ra(g,E,t.Axis.Z,e);M=v.scale(e,g,M-na);return v.add(oa,E,M)}function B(g,E){E=v.squaredDistance(g,E);g=g[3];return E<=g*g}function G(g,E,M=y()){const oa=v.distance(g,E),na=g[3],pa=E[3];if(oa+pa<na)return f.copy(M,g),M;if(oa+na<pa)return f.copy(M,E),M;v.lerp(M,
g,E,(oa+pa-na)/(2*oa));M[3]=(oa+na+pa)/2;return M}l=y();const q=h.create(),k=h.create(),e=h.create();h=y();const c=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:l,altitudeAt:X,angleToSilhouette:ka,axisAt:ra,clear:K,closestPoint:Z,closestPointOnSilhouette:N,containsPoint:B,copy:C,create:y,distanceToSilhouette:ma,elevate:V,fromCenterAndRadius:A,fromRadius:J,fromValues:U,getCenter:F,getRadius:P,intersectRay:fa,intersectRayClosestSilhouette:I,intersectsRay:ha,projectPoint:ca,setAltitudeAt:ba,
setExtent:Y,tmpSphere:h,union:G,wrap:D},Symbol.toStringTag,{value:"Module"}));d.NullSphere=l;d.altitudeAt=X;d.angleToSilhouette=ka;d.axisAt=ra;d.clear=K;d.closestPoint=Z;d.closestPointOnSilhouette=N;d.containsPoint=B;d.copy=C;d.create=y;d.distanceToSilhouette=ma;d.elevate=V;d.fromCenterAndRadius=A;d.fromRadius=J;d.fromValues=U;d.getCenter=F;d.getRadius=P;d.intersectRay=fa;d.intersectRayClosestSilhouette=I;d.intersectsRay=ha;d.projectPoint=ca;d.setAltitudeAt=ba;d.setExtent=Y;d.sphere=c;d.tmpSphere=
h;d.union=G;d.wrap=D})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(d,l,u){function z(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function H(a,b,n,x,L,Q,R,T,O,S,W,aa,ea,da,la,ja,ia){a[0]=b;a[1]=n;a[2]=x;a[3]=L;a[4]=Q;a[5]=R;a[6]=T;a[7]=O;a[8]=S;a[9]=W;a[10]=aa;a[11]=ea;a[12]=da;a[13]=la;a[14]=ja;a[15]=ia;return a}function v(a){a[0]=
1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function h(a,b){if(a===b){const n=b[1],x=b[2],L=b[3],Q=b[6],R=b[7],T=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=n;a[6]=b[9];a[7]=b[13];a[8]=x;a[9]=Q;a[11]=b[14];a[12]=L;a[13]=R;a[14]=T}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function f(a,
b){m(a,b)||v(a);return a}function m(a,b){const n=b[0],x=b[1],L=b[2],Q=b[3],R=b[4],T=b[5],O=b[6],S=b[7],W=b[8],aa=b[9],ea=b[10],da=b[11],la=b[12],ja=b[13],ia=b[14];b=b[15];const va=n*T-x*R,qa=n*O-L*R,sa=n*S-Q*R,ta=x*O-L*T,ua=x*S-Q*T,ya=L*S-Q*O,za=W*ja-aa*la,Aa=W*ia-ea*la,Ba=W*b-da*la,Ca=aa*ia-ea*ja,Da=aa*b-da*ja,Ea=ea*b-da*ia;let wa=va*Ea-qa*Da+sa*Ca+ta*Ba-ua*Aa+ya*za;if(!wa)return null;wa=1/wa;a[0]=(T*Ea-O*Da+S*Ca)*wa;a[1]=(L*Da-x*Ea-Q*Ca)*wa;a[2]=(ja*ya-ia*ua+b*ta)*wa;a[3]=(ea*ua-aa*ya-da*ta)*wa;
a[4]=(O*Ba-R*Ea-S*Aa)*wa;a[5]=(n*Ea-L*Ba+Q*Aa)*wa;a[6]=(ia*sa-la*ya-b*qa)*wa;a[7]=(W*ya-ea*sa+da*qa)*wa;a[8]=(R*Da-T*Ba+S*za)*wa;a[9]=(x*Ba-n*Da-Q*za)*wa;a[10]=(la*ua-ja*sa+b*va)*wa;a[11]=(aa*sa-W*ua-da*va)*wa;a[12]=(T*Aa-R*Ca-O*za)*wa;a[13]=(n*Ca-x*Aa+L*za)*wa;a[14]=(ja*qa-la*ta-ia*va)*wa;a[15]=(W*ta-aa*qa+ea*va)*wa;return a}function t(a,b){const n=b[0],x=b[1],L=b[2],Q=b[3],R=b[4],T=b[5],O=b[6],S=b[7],W=b[8],aa=b[9],ea=b[10],da=b[11],la=b[12],ja=b[13],ia=b[14];b=b[15];a[0]=T*(ea*b-da*ia)-aa*(O*b-
S*ia)+ja*(O*da-S*ea);a[1]=-(x*(ea*b-da*ia)-aa*(L*b-Q*ia)+ja*(L*da-Q*ea));a[2]=x*(O*b-S*ia)-T*(L*b-Q*ia)+ja*(L*S-Q*O);a[3]=-(x*(O*da-S*ea)-T*(L*da-Q*ea)+aa*(L*S-Q*O));a[4]=-(R*(ea*b-da*ia)-W*(O*b-S*ia)+la*(O*da-S*ea));a[5]=n*(ea*b-da*ia)-W*(L*b-Q*ia)+la*(L*da-Q*ea);a[6]=-(n*(O*b-S*ia)-R*(L*b-Q*ia)+la*(L*S-Q*O));a[7]=n*(O*da-S*ea)-R*(L*da-Q*ea)+W*(L*S-Q*O);a[8]=R*(aa*b-da*ja)-W*(T*b-S*ja)+la*(T*da-S*aa);a[9]=-(n*(aa*b-da*ja)-W*(x*b-Q*ja)+la*(x*da-Q*aa));a[10]=n*(T*b-S*ja)-R*(x*b-Q*ja)+la*(x*S-Q*T);
a[11]=-(n*(T*da-S*aa)-R*(x*da-Q*aa)+W*(x*S-Q*T));a[12]=-(R*(aa*ia-ea*ja)-W*(T*ia-O*ja)+la*(T*ea-O*aa));a[13]=n*(aa*ia-ea*ja)-W*(x*ia-L*ja)+la*(x*ea-L*aa);a[14]=-(n*(T*ia-O*ja)-R*(x*ia-L*ja)+la*(x*O-L*T));a[15]=n*(T*ea-O*aa)-R*(x*ea-L*aa)+W*(x*O-L*T);return a}function w(a){const b=a[0],n=a[1],x=a[2],L=a[3],Q=a[4],R=a[5],T=a[6],O=a[7],S=a[8],W=a[9],aa=a[10],ea=a[11],da=a[12],la=a[13],ja=a[14];a=a[15];return(b*R-n*Q)*(aa*a-ea*ja)-(b*T-x*Q)*(W*a-ea*la)+(b*O-L*Q)*(W*ja-aa*la)+(n*T-x*R)*(S*a-ea*da)-(n*
O-L*R)*(S*ja-aa*da)+(x*O-L*T)*(S*la-W*da)}function r(a,b,n){const x=b[0],L=b[1],Q=b[2],R=b[3],T=b[4],O=b[5],S=b[6],W=b[7],aa=b[8],ea=b[9],da=b[10],la=b[11],ja=b[12],ia=b[13],va=b[14];b=b[15];let qa=n[0],sa=n[1],ta=n[2],ua=n[3];a[0]=qa*x+sa*T+ta*aa+ua*ja;a[1]=qa*L+sa*O+ta*ea+ua*ia;a[2]=qa*Q+sa*S+ta*da+ua*va;a[3]=qa*R+sa*W+ta*la+ua*b;qa=n[4];sa=n[5];ta=n[6];ua=n[7];a[4]=qa*x+sa*T+ta*aa+ua*ja;a[5]=qa*L+sa*O+ta*ea+ua*ia;a[6]=qa*Q+sa*S+ta*da+ua*va;a[7]=qa*R+sa*W+ta*la+ua*b;qa=n[8];sa=n[9];ta=n[10];ua=
n[11];a[8]=qa*x+sa*T+ta*aa+ua*ja;a[9]=qa*L+sa*O+ta*ea+ua*ia;a[10]=qa*Q+sa*S+ta*da+ua*va;a[11]=qa*R+sa*W+ta*la+ua*b;qa=n[12];sa=n[13];ta=n[14];ua=n[15];a[12]=qa*x+sa*T+ta*aa+ua*ja;a[13]=qa*L+sa*O+ta*ea+ua*ia;a[14]=qa*Q+sa*S+ta*da+ua*va;a[15]=qa*R+sa*W+ta*la+ua*b;return a}function p(a,b,n){const x=n[0],L=n[1];n=n[2];if(b===a)a[12]=b[0]*x+b[4]*L+b[8]*n+b[12],a[13]=b[1]*x+b[5]*L+b[9]*n+b[13],a[14]=b[2]*x+b[6]*L+b[10]*n+b[14],a[15]=b[3]*x+b[7]*L+b[11]*n+b[15];else{const Q=b[0],R=b[1],T=b[2],O=b[3],S=b[4],
W=b[5],aa=b[6],ea=b[7],da=b[8],la=b[9],ja=b[10],ia=b[11];a[0]=Q;a[1]=R;a[2]=T;a[3]=O;a[4]=S;a[5]=W;a[6]=aa;a[7]=ea;a[8]=da;a[9]=la;a[10]=ja;a[11]=ia;a[12]=Q*x+S*L+da*n+b[12];a[13]=R*x+W*L+la*n+b[13];a[14]=T*x+aa*L+ja*n+b[14];a[15]=O*x+ea*L+ia*n+b[15]}return a}function y(a,b,n){const x=n[0],L=n[1];n=n[2];a[0]=b[0]*x;a[1]=b[1]*x;a[2]=b[2]*x;a[3]=b[3]*x;a[4]=b[4]*L;a[5]=b[5]*L;a[6]=b[6]*L;a[7]=b[7]*L;a[8]=b[8]*n;a[9]=b[9]*n;a[10]=b[10]*n;a[11]=b[11]*n;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];
return a}function C(a,b,n,x){let L=x[0],Q=x[1];x=x[2];let R=Math.sqrt(L*L+Q*Q+x*x);var T=void 0,O=void 0;let S=void 0,W=void 0,aa=void 0,ea=void 0,da=void 0,la=void 0,ja=void 0,ia=void 0,va=void 0,qa=void 0,sa=void 0,ta=void 0,ua=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0;O=T=void 0;if(R<u.getEpsilon())return null;R=1/R;L*=R;Q*=R;x*=R;T=Math.sin(n);O=Math.cos(n);S=1-O;W=b[0];aa=b[1];ea=b[2];da=b[3];la=b[4];ja=b[5];ia=b[6];va=b[7];qa=b[8];sa=b[9];ta=b[10];ua=b[11];
ya=L*L*S+O;za=Q*L*S+x*T;Aa=x*L*S-Q*T;Ba=L*Q*S-x*T;Ca=Q*Q*S+O;Da=x*Q*S+L*T;Ea=L*x*S+Q*T;T=Q*x*S-L*T;O=x*x*S+O;a[0]=W*ya+la*za+qa*Aa;a[1]=aa*ya+ja*za+sa*Aa;a[2]=ea*ya+ia*za+ta*Aa;a[3]=da*ya+va*za+ua*Aa;a[4]=W*Ba+la*Ca+qa*Da;a[5]=aa*Ba+ja*Ca+sa*Da;a[6]=ea*Ba+ia*Ca+ta*Da;a[7]=da*Ba+va*Ca+ua*Da;a[8]=W*Ea+la*T+qa*O;a[9]=aa*Ea+ja*T+sa*O;a[10]=ea*Ea+ia*T+ta*O;a[11]=da*Ea+va*T+ua*O;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function A(a,b,n){const x=Math.sin(n);n=Math.cos(n);const L=
b[4],Q=b[5],R=b[6],T=b[7],O=b[8],S=b[9],W=b[10],aa=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=L*n+O*x;a[5]=Q*n+S*x;a[6]=R*n+W*x;a[7]=T*n+aa*x;a[8]=O*n-L*x;a[9]=S*n-Q*x;a[10]=W*n-R*x;a[11]=aa*n-T*x;return a}function D(a,b,n){const x=Math.sin(n);n=Math.cos(n);const L=b[0],Q=b[1],R=b[2],T=b[3],O=b[8],S=b[9],W=b[10],aa=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=L*n-O*x;a[1]=
Q*n-S*x;a[2]=R*n-W*x;a[3]=T*n-aa*x;a[8]=L*x+O*n;a[9]=Q*x+S*n;a[10]=R*x+W*n;a[11]=T*x+aa*n;return a}function K(a,b,n){const x=Math.sin(n);n=Math.cos(n);const L=b[0],Q=b[1],R=b[2],T=b[3],O=b[4],S=b[5],W=b[6],aa=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=L*n+O*x;a[1]=Q*n+S*x;a[2]=R*n+W*x;a[3]=T*n+aa*x;a[4]=O*n-L*x;a[5]=S*n-Q*x;a[6]=W*n-R*x;a[7]=aa*n-T*x;return a}function J(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;
a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function P(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function F(a,b,n){if(0===b)return v(a);let x=n[0],L=n[1];n=n[2];let Q=Math.sqrt(x*x+L*L+n*n),R=void 0,T=void 0,O=void 0;if(Q<u.getEpsilon())return null;Q=1/Q;x*=Q;L*=Q;n*=Q;R=Math.sin(b);T=Math.cos(b);O=1-T;a[0]=x*x*O+T;a[1]=L*x*O+n*R;a[2]=n*x*O-L*R;a[3]=0;a[4]=x*L*O-n*
R;a[5]=L*L*O+T;a[6]=n*L*O+x*R;a[7]=0;a[8]=x*n*O+L*R;a[9]=L*n*O-x*R;a[10]=n*n*O+T;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function U(a,b){const n=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=n;a[7]=0;a[8]=0;a[9]=-n;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function V(a,b){const n=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-n;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=n;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Y(a,b){const n=
Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=n;a[2]=0;a[3]=0;a[4]=-n;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function fa(a,b,n){var x=b[0],L=b[1],Q=b[2],R=b[3],T=x+x,O=L+L;const S=Q+Q;b=x*T;const W=x*O;x*=S;const aa=L*O;L*=S;Q*=S;T*=R;O*=R;R*=S;a[0]=1-(aa+Q);a[1]=W+R;a[2]=x-O;a[3]=0;a[4]=W-R;a[5]=1-(b+Q);a[6]=L+T;a[7]=0;a[8]=x+O;a[9]=L-T;a[10]=1-(b+aa);a[11]=0;a[12]=n[0];a[13]=n[1];a[14]=n[2];a[15]=1;return a}function ha(a,b){const n=Ga,x=-b[0],L=-b[1],
Q=-b[2],R=b[3],T=b[4],O=b[5],S=b[6],W=b[7],aa=x*x+L*L+Q*Q+R*R;0<aa?(n[0]=2*(T*R+W*x+O*Q-S*L)/aa,n[1]=2*(O*R+W*L+S*x-T*Q)/aa,n[2]=2*(S*R+W*Q+T*L-O*x)/aa):(n[0]=2*(T*R+W*x+O*Q-S*L),n[1]=2*(O*R+W*L+S*x-T*Q),n[2]=2*(S*R+W*Q+T*L-O*x));fa(a,b,n);return a}function I(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function N(a,b){const n=b[0],x=b[1],L=b[2],Q=b[4],R=b[5],T=b[6],O=b[8],S=b[9];b=b[10];a[0]=Math.sqrt(n*n+x*x+L*L);a[1]=Math.sqrt(Q*Q+R*R+T*T);a[2]=Math.sqrt(O*O+S*S+b*b);return a}function Z(a,b){const n=
b[0]+b[5]+b[10];let x=0;0<n?(x=2*Math.sqrt(n+1),a[3]=.25*x,a[0]=(b[6]-b[9])/x,a[1]=(b[8]-b[2])/x,a[2]=(b[1]-b[4])/x):b[0]>b[5]&&b[0]>b[10]?(x=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/x,a[0]=.25*x,a[1]=(b[1]+b[4])/x,a[2]=(b[8]+b[2])/x):b[5]>b[10]?(x=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/x,a[0]=(b[1]+b[4])/x,a[1]=.25*x,a[2]=(b[6]+b[9])/x):(x=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/x,a[0]=(b[8]+b[2])/x,a[1]=(b[6]+b[9])/x,a[2]=.25*x);return a}function ca(a,b,n,x){var L=b[0],Q=
b[1],R=b[2],T=b[3],O=L+L,S=Q+Q,W=R+R;b=L*O;const aa=L*S;L*=W;const ea=Q*S;Q*=W;R*=W;O*=T;S*=T;T*=W;W=x[0];const da=x[1];x=x[2];a[0]=(1-(ea+R))*W;a[1]=(aa+T)*W;a[2]=(L-S)*W;a[3]=0;a[4]=(aa-T)*da;a[5]=(1-(b+R))*da;a[6]=(Q+O)*da;a[7]=0;a[8]=(L+S)*x;a[9]=(Q-O)*x;a[10]=(1-(b+ea))*x;a[11]=0;a[12]=n[0];a[13]=n[1];a[14]=n[2];a[15]=1;return a}function ma(a,b,n,x,L){var Q=b[0],R=b[1],T=b[2],O=b[3],S=Q+Q,W=R+R,aa=T+T;b=Q*S;var ea=Q*W,da=Q*aa;Q=R*W;R*=aa;var la=T*aa;T=O*S;W*=O;const ja=O*aa;var ia=x[0],va=x[1];
aa=x[2];x=L[0];O=L[1];L=L[2];S=(1-(Q+la))*ia;const qa=(ea+ja)*ia;ia*=da-W;ea=(ea-ja)*va;la=(1-(b+la))*va;va*=R+T;da=(da+W)*aa;R=(R-T)*aa;b=(1-(b+Q))*aa;a[0]=S;a[1]=qa;a[2]=ia;a[3]=0;a[4]=ea;a[5]=la;a[6]=va;a[7]=0;a[8]=da;a[9]=R;a[10]=b;a[11]=0;a[12]=n[0]+x-(S*x+ea*O+da*L);a[13]=n[1]+O-(qa*x+la*O+R*L);a[14]=n[2]+L-(ia*x+va*O+b*L);a[15]=1;return a}function ka(a,b){var n=b[0],x=b[1],L=b[2];b=b[3];var Q=n+n,R=x+x;const T=L+L;n*=Q;const O=x*Q;x*=R;const S=L*Q,W=L*R;L*=T;Q*=b;R*=b;b*=T;a[0]=1-x-L;a[1]=
O+b;a[2]=S-R;a[3]=0;a[4]=O-b;a[5]=1-n-L;a[6]=W+Q;a[7]=0;a[8]=S+R;a[9]=W-Q;a[10]=1-n-x;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ra(a,b,n,x,L,Q,R){const T=1/(n-b),O=1/(L-x),S=1/(Q-R);a[0]=2*Q*T;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*Q*O;a[6]=0;a[7]=0;a[8]=(n+b)*T;a[9]=(L+x)*O;a[10]=(R+Q)*S;a[11]=-1;a[12]=0;a[13]=0;a[14]=R*Q*2*S;a[15]=0;return a}function X(a,b,n,x,L){b=1/Math.tan(b/2);let Q=void 0;a[0]=b/n;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=
0;a[15]=0;null!=L&&Infinity!==L?(Q=1/(x-L),a[10]=(L+x)*Q,a[14]=2*L*x*Q):(a[10]=-1,a[14]=-2*x);return a}function ba(a,b,n,x){const L=Math.tan(b.upDegrees*Math.PI/180),Q=Math.tan(b.downDegrees*Math.PI/180),R=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const T=2/(R+b),O=2/(L+Q);a[0]=T;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=O;a[6]=0;a[7]=0;a[8]=-((R-b)*T*.5);a[9]=(L-Q)*O*.5;a[10]=x/(n-x);a[11]=-1;a[12]=0;a[13]=0;a[14]=x*n/(n-x);a[15]=0;return a}function B(a,b,n,x,L,Q,R){const T=
1/(b-n),O=1/(x-L),S=1/(Q-R);a[0]=-2*T;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*O;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*S;a[11]=0;a[12]=(b+n)*T;a[13]=(L+x)*O;a[14]=(R+Q)*S;a[15]=1;return a}function G(a,b,n,x){const L=b[0],Q=b[1];b=b[2];let R=L-n[0],T=Q-n[1];n=b-n[2];var O=u.getEpsilon();if(Math.abs(R)<O&&Math.abs(T)<O&&Math.abs(n)<O)v(a);else{var S=1/Math.sqrt(R*R+T*T+n*n);R*=S;T*=S;n*=S;S=x[0];var W=x[1];O=x[2];x=W*n-O*T;O=O*R-S*n;W=S*T-W*R;(S=Math.sqrt(x*x+O*O+W*W))?(S=1/S,x*=S,O*=S,W*=S):W=O=x=0;var aa=
T*W-n*O,ea=n*x-R*W,da=R*O-T*x;(S=Math.sqrt(aa*aa+ea*ea+da*da))?(S=1/S,aa*=S,ea*=S,da*=S):da=ea=aa=0;a[0]=x;a[1]=aa;a[2]=R;a[3]=0;a[4]=O;a[5]=ea;a[6]=T;a[7]=0;a[8]=W;a[9]=da;a[10]=n;a[11]=0;a[12]=-(x*L+O*Q+W*b);a[13]=-(aa*L+ea*Q+da*b);a[14]=-(R*L+T*Q+n*b);a[15]=1}}function q(a,b,n,x){const L=b[0],Q=b[1];b=b[2];var R=x[0];const T=x[1];var O=x[2];x=L-n[0];let S=Q-n[1];n=b-n[2];let W=x*x+S*S+n*n;0<W&&(W=1/Math.sqrt(W),x*=W,S*=W,n*=W);let aa=T*n-O*S;O=O*x-R*n;R=R*S-T*x;W=aa*aa+O*O+R*R;0<W&&(W=1/Math.sqrt(W),
aa*=W,O*=W,R*=W);a[0]=aa;a[1]=O;a[2]=R;a[3]=0;a[4]=S*R-n*O;a[5]=n*aa-x*R;a[6]=x*O-S*aa;a[7]=0;a[8]=x;a[9]=S;a[10]=n;a[11]=0;a[12]=L;a[13]=Q;a[14]=b;a[15]=1;return a}function k(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function e(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**
2+a[14]**2+a[15]**2)}function c(a,b,n){a[0]=b[0]+n[0];a[1]=b[1]+n[1];a[2]=b[2]+n[2];a[3]=b[3]+n[3];a[4]=b[4]+n[4];a[5]=b[5]+n[5];a[6]=b[6]+n[6];a[7]=b[7]+n[7];a[8]=b[8]+n[8];a[9]=b[9]+n[9];a[10]=b[10]+n[10];a[11]=b[11]+n[11];a[12]=b[12]+n[12];a[13]=b[13]+n[13];a[14]=b[14]+n[14];a[15]=b[15]+n[15];return a}function g(a,b,n){a[0]=b[0]-n[0];a[1]=b[1]-n[1];a[2]=b[2]-n[2];a[3]=b[3]-n[3];a[4]=b[4]-n[4];a[5]=b[5]-n[5];a[6]=b[6]-n[6];a[7]=b[7]-n[7];a[8]=b[8]-n[8];a[9]=b[9]-n[9];a[10]=b[10]-n[10];a[11]=b[11]-
n[11];a[12]=b[12]-n[12];a[13]=b[13]-n[13];a[14]=b[14]-n[14];a[15]=b[15]-n[15];return a}function E(a,b,n){a[0]=b[0]*n;a[1]=b[1]*n;a[2]=b[2]*n;a[3]=b[3]*n;a[4]=b[4]*n;a[5]=b[5]*n;a[6]=b[6]*n;a[7]=b[7]*n;a[8]=b[8]*n;a[9]=b[9]*n;a[10]=b[10]*n;a[11]=b[11]*n;a[12]=b[12]*n;a[13]=b[13]*n;a[14]=b[14]*n;a[15]=b[15]*n;return a}function M(a,b,n,x){a[0]=b[0]+n[0]*x;a[1]=b[1]+n[1]*x;a[2]=b[2]+n[2]*x;a[3]=b[3]+n[3]*x;a[4]=b[4]+n[4]*x;a[5]=b[5]+n[5]*x;a[6]=b[6]+n[6]*x;a[7]=b[7]+n[7]*x;a[8]=b[8]+n[8]*x;a[9]=b[9]+
n[9]*x;a[10]=b[10]+n[10]*x;a[11]=b[11]+n[11]*x;a[12]=b[12]+n[12]*x;a[13]=b[13]+n[13]*x;a[14]=b[14]+n[14]*x;a[15]=b[15]+n[15]*x;return a}function oa(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function na(a,b){if(a===b)return!0;const n=a[0],x=a[1],L=a[2],Q=a[3],R=a[4],T=a[5],O=a[6],S=a[7],W=a[8],aa=a[9],ea=a[10],da=
a[11],la=a[12],ja=a[13],ia=a[14];a=a[15];const va=b[0],qa=b[1],sa=b[2],ta=b[3],ua=b[4],ya=b[5],za=b[6],Aa=b[7],Ba=b[8],Ca=b[9],Da=b[10],Ea=b[11],wa=b[12],Ha=b[13],Ia=b[14];b=b[15];const xa=u.getEpsilon();return Math.abs(n-va)<=xa*Math.max(1,Math.abs(n),Math.abs(va))&&Math.abs(x-qa)<=xa*Math.max(1,Math.abs(x),Math.abs(qa))&&Math.abs(L-sa)<=xa*Math.max(1,Math.abs(L),Math.abs(sa))&&Math.abs(Q-ta)<=xa*Math.max(1,Math.abs(Q),Math.abs(ta))&&Math.abs(R-ua)<=xa*Math.max(1,Math.abs(R),Math.abs(ua))&&Math.abs(T-
ya)<=xa*Math.max(1,Math.abs(T),Math.abs(ya))&&Math.abs(O-za)<=xa*Math.max(1,Math.abs(O),Math.abs(za))&&Math.abs(S-Aa)<=xa*Math.max(1,Math.abs(S),Math.abs(Aa))&&Math.abs(W-Ba)<=xa*Math.max(1,Math.abs(W),Math.abs(Ba))&&Math.abs(aa-Ca)<=xa*Math.max(1,Math.abs(aa),Math.abs(Ca))&&Math.abs(ea-Da)<=xa*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(da-Ea)<=xa*Math.max(1,Math.abs(da),Math.abs(Ea))&&Math.abs(la-wa)<=xa*Math.max(1,Math.abs(la),Math.abs(wa))&&Math.abs(ja-Ha)<=xa*Math.max(1,Math.abs(ja),Math.abs(Ha))&&
Math.abs(ia-Ia)<=xa*Math.max(1,Math.abs(ia),Math.abs(Ia))&&Math.abs(a-b)<=xa*Math.max(1,Math.abs(a),Math.abs(b))}function pa(a){const b=u.getEpsilon(),n=a[0],x=a[1],L=a[2],Q=a[4],R=a[5],T=a[6],O=a[8],S=a[9];a=a[10];return Math.abs(1-(n*n+Q*Q+O*O))<=b&&Math.abs(1-(x*x+R*R+S*S))<=b&&Math.abs(1-(L*L+T*T+a*a))<=b}function Fa(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const Ga=l.create();l=Object.freeze(Object.defineProperty({__proto__:null,add:c,
adjoint:t,copy:z,determinant:w,equals:na,exactEquals:oa,frob:e,fromQuat:ka,fromQuat2:ha,fromRotation:F,fromRotationTranslation:fa,fromRotationTranslationScale:ca,fromRotationTranslationScaleOrigin:ma,fromScaling:P,fromTranslation:J,fromXRotation:U,fromYRotation:V,fromZRotation:Y,frustum:ra,getRotation:Z,getScaling:N,getTranslation:I,hasIdentityRotation:Fa,identity:v,invert:m,invertOrIdentity:f,isOrthoNormal:pa,lookAt:G,mul:r,multiply:r,multiplyScalar:E,multiplyScalarAndAdd:M,ortho:B,perspective:X,
perspectiveFromFieldOfView:ba,rotate:C,rotateX:A,rotateY:D,rotateZ:K,scale:y,set:H,str:k,sub:g,subtract:g,targetTo:q,translate:p,transpose:h},Symbol.toStringTag,{value:"Module"}));d.add=c;d.adjoint=t;d.copy=z;d.determinant=w;d.equals=na;d.exactEquals=oa;d.frob=e;d.fromQuat=ka;d.fromQuat2=ha;d.fromRotation=F;d.fromRotationTranslation=fa;d.fromRotationTranslationScale=ca;d.fromRotationTranslationScaleOrigin=ma;d.fromScaling=P;d.fromTranslation=J;d.fromXRotation=U;d.fromYRotation=V;d.fromZRotation=Y;
d.frustum=ra;d.getRotation=Z;d.getScaling=N;d.getTranslation=I;d.hasIdentityRotation=Fa;d.identity=v;d.invert=m;d.invertOrIdentity=f;d.isOrthoNormal=pa;d.lookAt=G;d.mat4=l;d.mul=r;d.multiply=r;d.multiplyScalar=E;d.multiplyScalarAndAdd=M;d.ortho=B;d.perspective=X;d.perspectiveFromFieldOfView=ba;d.rotate=C;d.rotateX=A;d.rotateY=D;d.rotateZ=K;d.scale=y;d.set=H;d.str=k;d.sub=g;d.subtract=g;d.targetTo=q;d.translate=p;d.transpose=h})},"esri/geometry/support/Axis":function(){define(["exports"],function(d){d.Axis=
void 0;var l=d.Axis||(d.Axis={});l[l.X=0]="X";l[l.Y=1]="Y";l[l.Z=2]="Z";Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../chunks/vec3 ../../chunks/vec3f64 ./vectorStacks".split(" "),function(d,l,u,z,H,v){function h(r){return r?f(H.clone(r.origin),H.clone(r.direction)):f(H.create(),H.create())}function f(r,p){return{origin:r,direction:p}}function m(r,p,y=h()){z.copy(y.origin,r);z.copy(y.direction,
p);return y}function t(r,p){r=z.cross(v.sv3d.get(),z.normalize(v.sv3d.get(),r.direction),z.subtract(v.sv3d.get(),p,r.origin));return z.dot(r,r)}const w=new u.ObjectStack(()=>h());d.closestPoint=function(r,p,y){p=z.dot(r.direction,z.subtract(y,p,r.origin));z.add(y,r.origin,z.scale(y,r.direction,p));return y};d.copy=function(r,p=h()){return m(r.origin,r.direction,p)};d.create=h;d.distance=function(r,p){return Math.sqrt(t(r,p))};d.distance2=t;d.equals=function(r,p){return l.equals(r.origin,p.origin)&&
l.equals(r.direction,p.direction)};d.fromPoints=function(r,p,y=h()){z.copy(y.origin,r);z.subtract(y.direction,p,r);return y};d.fromValues=m;d.wrap=function(r,p){const y=w.get();y.origin=r;y.direction=p;return y};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vector":function(){define(["exports","../../core/mathUtils","../../chunks/vec3","../../chunks/vec3f64"],function(d,l,u,z){const H=z.create(),v=z.create();d.angle=function(h,f){h=u.dot(h,f)/(u.length(h)*
u.length(f));return-l.acosClamped(h)};d.angleAroundAxis=function(h,f,m){u.normalize(H,h);u.normalize(v,f);h=u.dot(H,v);h=l.acosClamped(h);f=u.cross(H,H,v);return 0>u.dot(f,m)?2*Math.PI-h:h};d.projectPoint=function(h,f,m){f=u.dot(h,f)/u.dot(h,h);return u.scale(m,h,f)};d.projectPointSignedLength=function(h,f){return u.dot(h,f)/u.length(h)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Octree":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/ObjectPool ../../../../core/PooledArray ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/support/frustum ../../../../geometry/support/ray ../../../../chunks/sphere ./Util".split(" "),
function(d,l,u,z,H,v,h,f,m){function t(X,ba,B){B[0]=X[0]+ba;B[1]=X[1]+ba;B[2]=X[2]+ba}function w(X,ba,B,G){if(1===ba)X=B(X[0]),f.copy(X,G);else{Y[0]=Infinity;Y[1]=Infinity;Y[2]=Infinity;fa[0]=-Infinity;fa[1]=-Infinity;fa[2]=-Infinity;for(let c=0;c<ba;c++){var q=B(X[c]);if(C(q[3])){var k=Y,e=q;k[0]=Math.min(k[0],e[0]-e[3]);k[1]=Math.min(k[1],e[1]-e[3]);k[2]=Math.min(k[2],e[2]-e[3]);k=fa;k[0]=Math.max(k[0],q[0]+q[3]);k[1]=Math.max(k[1],q[1]+q[3]);k[2]=Math.max(k[2],q[2]+q[3])}}z.lerp(G,Y,fa,.5);G[3]=
Math.max(fa[0]-Y[0],fa[1]-Y[1],fa[2]-Y[2])/2}}function r(X,ba,B){if(!ka.length)for(var G=0;8>G;++G)ka.push({index:0,distance:0});for(G=0;8>G;++G){const q=K[G];ka.data[G].index=G;ka.data[G].distance=y(X,ba,q)}ka.sort((q,k)=>q.distance-k.distance);for(X=0;8>X;++X)B[X]=ka.data[X].index}function p(X,ba){let B=Infinity,G;for(let q=0;8>q;++q){const k=y(X,ba,J[q]);k<B&&(B=k,G=J[q])}return G}function y(X,ba,B){return ba*(X[0]*B[0]+X[1]*B[1]+X[2]*B[2])}function C(X){return!isNaN(X)&&-Infinity!==X&&Infinity!==
X&&0<X}let A=function(){function X(B,G){this.objectToBoundingSphere=B;this._maximumObjectsPerNode=10;this._maximumDepth=20;this._degenerateObjects=new Set;this._root=new D;this._objectCount=0;G&&(void 0!==G.maximumObjectsPerNode&&(this._maximumObjectsPerNode=G.maximumObjectsPerNode),void 0!==G.maximumDepth&&(this._maximumDepth=G.maximumDepth))}var ba=X.prototype;ba.destroy=function(){this._degenerateObjects.clear();D.clearPool();F[0]=null;ha.prune();ka.prune()};ba.add=function(B,G=B.length){this._objectCount+=
G;this._grow(B,G);const q=D.acquire();for(let k=0;k<G;k++){const e=B[k];this._isDegenerate(e)?this._degenerateObjects.add(e):(q.init(this._root),this._add(e,q))}D.release(q)};ba.remove=function(B,G=null){this._objectCount-=B.length;const q=D.acquire();for(const k of B)B=null!=G?G:f.copy(this.objectToBoundingSphere(k),I),C(B[3])?(q.init(this._root),this._remove(k,B,q)):this._degenerateObjects.delete(k);D.release(q);this._shrink()};ba.update=function(B,G){if(C(G[3])||!this._isDegenerate(B))F[0]=B,B=
F,this.remove(B,G),this.add(B)};ba.forEachAlongRay=function(B,G,q){const k=h.wrap(B,G);this._forEachNode(this._root,e=>{if(!this._intersectsNode(k,e))return!1;e=e.node;e.terminals.forAll(c=>{this._intersectsObject(k,c)&&q(c)});null!==e.residents&&e.residents.forAll(c=>{this._intersectsObject(k,c)&&q(c)});return!0})};ba.forEachAlongRayWithVerticalOffset=function(B,G,q,k){const e=h.wrap(B,G);this._forEachNode(this._root,c=>{if(!this._intersectsNodeWithOffset(e,c,k))return!1;c=c.node;c.terminals.forAll(g=>
{this._intersectsObjectWithOffset(e,g,k)&&q(g)});null!==c.residents&&c.residents.forAll(g=>{this._intersectsObjectWithOffset(e,g,k)&&q(g)});return!0})};ba.forEach=function(B){this._forEachNode(this._root,G=>{G=G.node;G.terminals.forAll(B);null!==G.residents&&G.residents.forAll(B);return!0});this._degenerateObjects.forEach(B)};ba.forEachDegenerateObject=function(B){this._degenerateObjects.forEach(B)};ba.findClosest=function(B,G,q,k=()=>!0,e=Infinity){let c=Infinity,g=Infinity,E=null;const M=p(B,G),
oa=na=>{--e;if(k(na)){var pa=this.objectToBoundingSphere(na);if(v.intersectsSphere(q,pa)){var Fa=y(B,G,f.getCenter(pa)),Ga=Fa-pa[3];pa=Fa+pa[3];Ga<c&&(c=Ga,g=pa,E=na)}}};this._forEachNodeDepthOrdered(this._root,na=>{if(0>=e||!v.intersectsSphere(q,na.bounds))return!1;z.scale(V,M,na.halfSize);z.add(V,V,na.bounds);if(y(B,G,V)>g)return!1;na=na.node;na.terminals.forAll(pa=>oa(pa));null!==na.residents&&na.residents.forAll(pa=>oa(pa));return!0},B,G);return E};ba.forEachInDepthRange=function(B,G,q,k,e,c,
g){let E=-Infinity,M=Infinity;const oa={setRange:a=>{q===X.DepthOrder.FRONT_TO_BACK?(E=Math.max(E,a.near),M=Math.min(M,a.far)):(E=Math.max(E,-a.far),M=Math.min(M,-a.near))}};oa.setRange(k);const na=y(G,q,B),pa=p(G,q),Fa=p(G,-q),Ga=a=>{if(g(a)){var b=this.objectToBoundingSphere(a),n=f.getCenter(b);n=y(G,q,n)-na;var x=n+b[3];n-b[3]>M||x<E||!v.intersectsSphere(c,b)||e(a,oa)}};this._forEachNodeDepthOrdered(this._root,a=>{if(!v.intersectsSphere(c,a.bounds))return!1;z.scale(V,pa,a.halfSize);z.add(V,V,a.bounds);
if(y(G,q,V)-na>M)return!1;z.scale(V,Fa,a.halfSize);z.add(V,V,a.bounds);if(y(G,q,V)-na<E)return!1;a=a.node;a.terminals.forAll(b=>Ga(b));null!==a.residents&&a.residents.forAll(b=>Ga(b));return!0},G,q)};ba.forEachNode=function(B){this._forEachNode(this._root,G=>B(G.node,G.bounds,G.halfSize,G.depth))};ba.forEachNeighbor=function(B,G){const q=f.getRadius(G),k=f.getCenter(G),e=E=>{const M=this.objectToBoundingSphere(E);var oa=f.getRadius(M);oa=q+oa;return 0>=z.squaredDistance(f.getCenter(M),k)-oa*oa?B(E):
!0};let c=!0;const g=E=>{c&&(c=e(E))};this._forEachNode(this._root,E=>{var M=f.getRadius(E.bounds);M=q+M;if(0<z.squaredDistance(f.getCenter(E.bounds),k)-M*M)return!1;E=E.node;E.terminals.forAll(g);c&&null!==E.residents&&E.residents.forAll(g);return c});c&&this.forEachDegenerateObject(g)};ba._intersectsNode=function(B,G){t(G.bounds,2*-G.halfSize,Y);t(G.bounds,2*G.halfSize,fa);return m.rayBoxTest(B.origin,B.direction,Y,fa)};ba._intersectsNodeWithOffset=function(B,G,q){t(G.bounds,2*-G.halfSize,Y);t(G.bounds,
2*G.halfSize,fa);q.applyToMinMax(Y,fa);return m.rayBoxTest(B.origin,B.direction,Y,fa)};ba._intersectsObject=function(B,G){G=this.objectToBoundingSphere(G);return 0<G[3]?f.intersectsRay(G,B):!0};ba._intersectsObjectWithOffset=function(B,G,q){G=this.objectToBoundingSphere(G);return 0<G[3]?f.intersectsRay(q.applyToBoundingSphere(G),B):!0};ba._forEachNode=function(B,G){B=D.acquire().init(B);const q=[B];for(;0!==q.length;){B=q.pop();if(G(B)&&!B.isLeaf())for(let k=0;k<B.node.children.length;k++)B.node.children[k]&&
q.push(D.acquire().init(B).advance(k));D.release(B)}};ba._forEachNodeDepthOrdered=function(B,G,q,k=X.DepthOrder.FRONT_TO_BACK){B=D.acquire().init(B);const e=[B];for(r(q,k,ra);0!==e.length;){B=e.pop();if(G(B)&&!B.isLeaf())for(q=7;0<=q;--q)k=ra[q],B.node.children[k]&&e.push(D.acquire().init(B).advance(k));D.release(B)}};ba._remove=function(B,G,q){ha.clear();G=q.advanceTo(G,(k,e)=>{ha.push(k.node);ha.push(e)})?q.node.terminals:q.node.residents;G.removeUnordered(B);if(0===G.length)for(B=ha.length-2;0<=
B&&this._purge(ha.data[B],ha.data[B+1]);B-=2);};ba._nodeIsEmpty=function(B){if(0!==B.terminals.length)return!1;if(null!==B.residents)return 0===B.residents.length;for(let G=0;G<B.children.length;G++)if(B.children[G])return!1;return!0};ba._purge=function(B,G){0<=G&&(B.children[G]=null);return this._nodeIsEmpty(B)?(null===B.residents&&(B.residents=new u({shrink:!0})),!0):!1};ba._add=function(B,G){G.advanceTo(this.objectToBoundingSphere(B))?G.node.terminals.push(B):(G.node.residents.push(B),G.node.residents.length>
this._maximumObjectsPerNode&&G.depth<this._maximumDepth&&this._split(G))};ba._split=function(B){const G=B.node.residents;B.node.residents=null;for(let q=0;q<G.length;q++){const k=D.acquire().init(B);this._add(G.at(q),k);D.release(k)}};ba._grow=function(B,G){0!==G&&(w(B,G,q=>this.objectToBoundingSphere(q),N),C(N[3])&&!this._fitsInsideTree(N)&&(this._nodeIsEmpty(this._root.node)?(f.copy(N,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize()):(B=
this._rootBoundsForRootAsSubNode(N),this._placingRootViolatesMaxDepth(B)?this._rebuildTree(N,B):this._growRootAsSubNode(B),D.release(B))))};ba._rebuildTree=function(B,G){z.copy(Z,G.bounds);Z[3]=G.halfSize;w([B,Z],2,q=>q,ca);B=D.acquire().init(this._root);this._root.initFrom(null,ca,ca[3]);this._root.increaseHalfSize(1.25);this._forEachNode(B,q=>{this.add(q.node.terminals.data,q.node.terminals.length);null!==q.node.residents&&this.add(q.node.residents.data,q.node.residents.length);return!0});D.release(B)};
ba._placingRootViolatesMaxDepth=function(B){const G=Math.log(B.halfSize/this._root.halfSize)*Math.LOG2E;let q=0;this._forEachNode(this._root,k=>{q=Math.max(q,k.depth);return q+G<=this._maximumDepth});return q+G>this._maximumDepth};ba._rootBoundsForRootAsSubNode=function(B){var G=B[3],q=-Infinity;const k=this._root.bounds,e=this._root.halfSize;for(var c=0;3>c;c++){var g=Math.max(0,Math.ceil((k[c]-e-(B[c]-G))/(2*e)));const E=Math.max(0,Math.ceil((B[c]+G-(k[c]+e))/(2*e)))+1;q=Math.max(q,2**Math.ceil(Math.log(g+
E)*Math.LOG2E));ma[c].min=g;ma[c].max=E}for(B=0;3>B;B++)G=ma[B].min,c=ma[B].max,g=(q-(G+c))/2,G+=Math.ceil(g),c+=Math.floor(g),U[B]=k[B]-e-G*e*2+(c+G)*e;q*=e;U[3]=q*P;return D.acquire().initFrom(null,U,q,0)};ba._growRootAsSubNode=function(B){const G=this._root.node;z.copy(N,this._root.bounds);N[3]=this._root.halfSize;this._root.init(B);B.advanceTo(N,null,!0);B.node.children=G.children;B.node.residents=G.residents;B.node.terminals=G.terminals};ba._shrink=function(){for(;;){const B=this._findShrinkIndex();
if(-1===B)break;this._root.advance(B);this._root.depth=0}};ba._findShrinkIndex=function(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let B=null;const G=this._root.node.children;let q=0,k=0;for(;k<G.length&&null==B;)q=k++,B=G[q];for(;k<G.length;)if(G[k++])return-1;return q};ba._isDegenerate=function(B){B=this.objectToBoundingSphere(B)[3];return!C(B)};ba._fitsInsideTree=function(B){const G=this._root.bounds,q=this._root.halfSize;return B[3]<=q&&B[0]>=G[0]-q&&B[0]<=G[0]+q&&
B[1]>=G[1]-q&&B[1]<=G[1]+q&&B[2]>=G[2]-q&&B[2]<=G[2]+q};ba.toJSON=function(){const {maximumDepth:B,maximumObjectsPerNode:G,_objectCount:q}=this,k=this._nodeToJSON(this._root.node);return{maximumDepth:B,maximumObjectsPerNode:G,objectCount:q,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:k}}};ba._nodeToJSON=function(B){const G=B.children.map(k=>k?this._nodeToJSON(k):null),q=B.residents?.map(k=>this.objectToBoundingSphere(k));B=B.terminals?.map(k=>this.objectToBoundingSphere(k));
return{children:G,residents:q,terminals:B}};X.fromJSON=function(B){const G=new X(q=>q,{maximumDepth:B.maximumDepth,maximumObjectsPerNode:B.maximumObjectsPerNode});G._objectCount=B.objectCount;G._root.initFrom(B.root.node,B.root.bounds,B.root.halfSize,B.root.depth);return G};d._createClass(X,[{key:"bounds",get:function(){return this._root.bounds}},{key:"halfSize",get:function(){return this._root.halfSize}},{key:"root",get:function(){return this._root.node}},{key:"maximumObjectsPerNode",get:function(){return this._maximumObjectsPerNode}},
{key:"maximumDepth",get:function(){return this._maximumDepth}},{key:"objectCount",get:function(){return this._objectCount}}]);return X}(),D=function(){function X(){this.bounds=f.create();this.halfSize=0;this.initFrom(null,null,0,0)}var ba=X.prototype;ba.init=function(B){return this.initFrom(B.node,B.bounds,B.halfSize,B.depth)};ba.initFrom=function(B,G,q,k=this.depth){this.node=null!=B?B:X.createEmptyNode();null!=G&&f.copy(G,this.bounds);this.halfSize=q;this.depth=k;return this};ba.increaseHalfSize=
function(B){this.halfSize*=B;this.updateBoundsRadiusFromHalfSize()};ba.updateBoundsRadiusFromHalfSize=function(){this.bounds[3]=this.halfSize*P};ba.advance=function(B){let G=this.node.children[B];G||(G=X.createEmptyNode(),this.node.children[B]=G);this.node=G;this.halfSize/=2;this.depth++;B=K[B];this.bounds[0]+=B[0]*this.halfSize;this.bounds[1]+=B[1]*this.halfSize;this.bounds[2]+=B[2]*this.halfSize;this.updateBoundsRadiusFromHalfSize();return this};ba.advanceTo=function(B,G,q=!1){for(;;){if(this.isTerminalFor(B))return G&&
G(this,-1),!0;if(this.isLeaf()){if(!q)return G&&G(this,-1),!1;this.node.residents=null}const k=this._childIndex(B);G&&G(this,k);this.advance(k)}};ba.isLeaf=function(){return null!=this.node.residents};ba.isTerminalFor=function(B){return B[3]>this.halfSize/2};ba._childIndex=function(B){const G=this.bounds;return(G[0]<B[0]?1:0)+(G[1]<B[1]?2:0)+(G[2]<B[2]?4:0)};X.createEmptyNode=function(){return{children:[null,null,null,null,null,null,null,null],terminals:new u({shrink:!0}),residents:new u({shrink:!0})}};
X.acquire=function(){return X._pool.acquire()};X.release=function(B){X._pool.release(B)};X.clearPool=function(){X._pool.prune()};return d._createClass(X)}();D._pool=new l(D);(function(X){X=X.DepthOrder||(X.DepthOrder={});X[X.FRONT_TO_BACK=1]="FRONT_TO_BACK";X[X.BACK_TO_FRONT=-1]="BACK_TO_FRONT"})(A||(A={}));const K=[H.fromValues(-1,-1,-1),H.fromValues(1,-1,-1),H.fromValues(-1,1,-1),H.fromValues(1,1,-1),H.fromValues(-1,-1,1),H.fromValues(1,-1,1),H.fromValues(-1,1,1),H.fromValues(1,1,1)],J=[H.fromValues(-1,
-1,-1),H.fromValues(-1,-1,1),H.fromValues(-1,1,-1),H.fromValues(-1,1,1),H.fromValues(1,-1,-1),H.fromValues(1,-1,1),H.fromValues(1,1,-1),H.fromValues(1,1,1)],P=Math.sqrt(3),F=[null],U=f.create(),V=H.create(),Y=H.create(),fa=H.create(),ha=new u,I=f.create(),N=f.create(),Z=f.create(),ca=f.create(),ma=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],ka=new u,ra=[0,0,0,0,0,0,0,0];return A})},"esri/geometry/support/frustum":function(){define("exports ../../core/ObjectStack ../../chunks/mat4 ../../chunks/vec3 ../../chunks/vec3f64 ../../chunks/vec4 ../../chunks/vec4f64 ./clipRay ./plane ./vectorStacks".split(" "),
function(d,l,u,z,H,v,h,f,m,t){function w(){return[H.create(),H.create(),H.create(),H.create(),H.create(),H.create(),H.create(),H.create()]}function r(K,J){m.fromPoints(J[d.PointIndex.FAR_BOTTOM_LEFT],J[d.PointIndex.NEAR_BOTTOM_LEFT],J[d.PointIndex.NEAR_TOP_LEFT],K[d.PlaneIndex.LEFT]);m.fromPoints(J[d.PointIndex.NEAR_BOTTOM_RIGHT],J[d.PointIndex.FAR_BOTTOM_RIGHT],J[d.PointIndex.FAR_TOP_RIGHT],K[d.PlaneIndex.RIGHT]);m.fromPoints(J[d.PointIndex.FAR_BOTTOM_LEFT],J[d.PointIndex.FAR_BOTTOM_RIGHT],J[d.PointIndex.NEAR_BOTTOM_RIGHT],
K[d.PlaneIndex.BOTTOM]);m.fromPoints(J[d.PointIndex.NEAR_TOP_LEFT],J[d.PointIndex.NEAR_TOP_RIGHT],J[d.PointIndex.FAR_TOP_RIGHT],K[d.PlaneIndex.TOP]);m.fromPoints(J[d.PointIndex.NEAR_BOTTOM_LEFT],J[d.PointIndex.NEAR_BOTTOM_RIGHT],J[d.PointIndex.NEAR_TOP_RIGHT],K[d.PlaneIndex.NEAR]);m.fromPoints(J[d.PointIndex.FAR_BOTTOM_RIGHT],J[d.PointIndex.FAR_BOTTOM_LEFT],J[d.PointIndex.FAR_TOP_LEFT],K[d.PlaneIndex.FAR])}function p(K,J){for(let P=0;6>P;P++)if(!m.clip(K[P],J))return!1;return!0}d.PlaneIndex=void 0;
(function(K){K[K.LEFT=0]="LEFT";K[K.RIGHT=1]="RIGHT";K[K.BOTTOM=2]="BOTTOM";K[K.TOP=3]="TOP";K[K.NEAR=4]="NEAR";K[K.FAR=5]="FAR"})(d.PlaneIndex||(d.PlaneIndex={}));d.PointIndex=void 0;(function(K){K[K.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT";K[K.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT";K[K.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT";K[K.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT";K[K.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT";K[K.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT";K[K.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT";K[K.FAR_TOP_LEFT=7]=
"FAR_TOP_LEFT"})(d.PointIndex||(d.PointIndex={}));const y={bottom:[d.PointIndex.FAR_BOTTOM_RIGHT,d.PointIndex.NEAR_BOTTOM_RIGHT,d.PointIndex.NEAR_BOTTOM_LEFT,d.PointIndex.FAR_BOTTOM_LEFT],near:[d.PointIndex.NEAR_BOTTOM_LEFT,d.PointIndex.NEAR_BOTTOM_RIGHT,d.PointIndex.NEAR_TOP_RIGHT,d.PointIndex.NEAR_TOP_LEFT],far:[d.PointIndex.FAR_BOTTOM_RIGHT,d.PointIndex.FAR_BOTTOM_LEFT,d.PointIndex.FAR_TOP_LEFT,d.PointIndex.FAR_TOP_RIGHT],right:[d.PointIndex.NEAR_BOTTOM_RIGHT,d.PointIndex.FAR_BOTTOM_RIGHT,d.PointIndex.FAR_TOP_RIGHT,
d.PointIndex.NEAR_TOP_RIGHT],left:[d.PointIndex.FAR_BOTTOM_LEFT,d.PointIndex.NEAR_BOTTOM_LEFT,d.PointIndex.NEAR_TOP_LEFT,d.PointIndex.FAR_TOP_LEFT],top:[d.PointIndex.FAR_TOP_LEFT,d.PointIndex.NEAR_TOP_LEFT,d.PointIndex.NEAR_TOP_RIGHT,d.PointIndex.FAR_TOP_RIGHT]},C=[h.fromValues(-1,-1,-1,1),h.fromValues(1,-1,-1,1),h.fromValues(1,1,-1,1),h.fromValues(-1,1,-1,1),h.fromValues(-1,-1,1,1),h.fromValues(1,-1,1,1),h.fromValues(1,1,1,1),h.fromValues(-1,1,1,1)],A=new l.ObjectStack(f.create),D=w();d.NumPlanes=
6;d.NumPoints=8;d.computePlanes=r;d.copy=function(K,J){for(let P=0;6>P;P++)m.copy(K[P],J[P])};d.create=function(K){return K?[m.create(K[0]),m.create(K[1]),m.create(K[2]),m.create(K[3]),m.create(K[4]),m.create(K[5])]:[m.create(),m.create(),m.create(),m.create(),m.create(),m.create()]};d.createPoints=w;d.fromMatrix=function(K,J,P,F=D){K=u.multiply(t.sm4d.get(),J,K);u.invert(K,K);for(J=0;8>J;++J){const U=v.transformMat4(t.sv4d.get(),C[J],K);z.set(F[J],U[0]/U[3],U[1]/U[3],U[2]/U[3])}r(P,F)};d.intersectClipRay=
function(K,J){for(let P=0;6>P;P++)if(!m.clipInfinite(K[P],J))return!1;return!0};d.intersectsLineSegment=function(K,J,P){return p(K,f.fromLineSegmentAndDirection(J,P,A.get()))};d.intersectsPoint=function(K,J){for(let P=0;6>P;P++)if(0<m.signedDistance(K[P],J))return!1;return!0};d.intersectsRay=function(K,J){return p(K,f.fromRay(J,A.get()))};d.intersectsSphere=function(K,J){for(let P=0;6>P;P++){const F=K[P];if(F[0]*J[0]+F[1]*J[1]+F[2]*J[2]+F[3]>=J[3])return!1}return!0};d.planePointIndices=y;Object.defineProperty(d,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/clipRay":function(){define(["exports","../../core/ObjectStack","../../chunks/vec3","./ray"],function(d,l,u,z){function H(m){return m?{ray:z.create(m.ray),c0:m.c0,c1:m.c1}:{ray:z.create(),c0:0,c1:Number.MAX_VALUE}}function v(m,t,w,r=H()){z.copy(m,r.ray);r.c0=t;r.c1=w;return r}function h(m,t,w){return u.add(w,m.ray.origin,u.scale(w,m.ray.direction,t))}const f=new l.ObjectStack(()=>H());d.copy=function(m,t=H()){return v(m.ray,m.c0,m.c1,t)};
d.create=H;d.fromLineSegmentAndDirection=function(m,t,w=H()){const r=u.length(m.vector);z.fromValues(m.origin,t,w.ray);w.c0=0;w.c1=r;return w};d.fromRay=function(m,t=H()){z.copy(m,t.ray);t.c0=0;t.c1=Number.MAX_VALUE;return t};d.fromValues=v;d.getAt=h;d.getEnd=function(m,t){return h(m,m.c1,t)};d.getStart=function(m,t){return h(m,m.c0,t)};d.wrap=function(m,t,w){const r=f.get();r.ray=m;r.c0=t;r.c1=w;return r};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/plane":function(){define("exports ../../core/mathUtils ../../chunks/vec3 ../../chunks/vec3f64 ../../chunks/sphere ./vector ./vectorStacks ../../views/3d/support/mathUtils".split(" "),
function(d,l,u,z,H,v,h,f){function m(I=V){return[I[0],I[1],I[2],I[3]]}function t(I,N){return w(N[0],N[1],N[2],N[3],I)}function w(I,N,Z,ca,ma=m()){ma[0]=I;ma[1]=N;ma[2]=Z;ma[3]=ca;return ma}function r(I,N,Z){var ca=N[0]*N[0]+N[1]*N[1]+N[2]*N[2];ca=1E-5<Math.abs(ca-1)&&1E-12<ca?1/Math.sqrt(ca):1;Z[0]=N[0]*ca;Z[1]=N[1]*ca;Z[2]=N[2]*ca;Z[3]=-(Z[0]*I[0]+Z[1]*I[1]+Z[2]*I[2]);return Z}function p(I,N,Z,ca=m()){var ma=Z[0]-N[0],ka=Z[1]-N[1],ra=Z[2]-N[2];Z=I[0]-N[0];const X=I[1]-N[1],ba=I[2]-N[2];N=ka*ba-ra*
X;ra=ra*Z-ma*ba;ma=ma*X-ka*Z;ka=N*N+ra*ra+ma*ma;ka=1E-5<Math.abs(ka-1)&&1E-12<ka?1/Math.sqrt(ka):1;ca[0]=N*ka;ca[1]=ra*ka;ca[2]=ma*ka;ca[3]=-(ca[0]*I[0]+ca[1]*I[1]+ca[2]*I[2]);return ca}function y(I,N,Z,ca,ma){const ka=I.length/3;if(3>ka)return!1;u.set(K,I[3*Z],I[3*Z+1],I[3*Z+2]);let ra=ca;for(var X=!1;ra<ka-1&&!X;)X=3*ra,u.set(J,I[X],I[X+1],I[X+2]),ra++,X=!u.exactEquals(K,J);if(!X)return!1;ra=Math.max(ra,ma);for(X=!1;ra<ka&&!X;)X=3*ra,u.set(P,I[X],I[X+1],I[X+2]),ra++,u.subtract(F,K,J),u.normalize(F,
F),u.subtract(U,J,P),u.normalize(U,U),X=!u.exactEquals(K,P)&&!u.exactEquals(J,P)&&.99619469809>Math.abs(u.dot(F,U));if(!X)return 0===Z&&1===ca&&2===ma?!1:y(I,N,0,1,2);p(K,J,P,N);return!0}function C(I,N,Z){I=u.scale(h.sv3d.get(),I,u.dot(I,N));u.subtract(Z,N,I);return Z}function A(I,N){return u.dot(I,N)+I[3]}function D(I,N,Z,ca,ma){const ka=u.dot(I,Z);if(0===ka)return!1;I=-(u.dot(I,N)+I[3])/ka;ca&Y.CLAMP&&(I=l.clamp(I,0,1));if(!(ca&Y.INFINITE_MIN)&&0>I||!(ca&Y.INFINITE_MAX)&&1<I)return!1;u.add(ma,N,
u.scale(ma,Z,I));return!0}const K=z.create(),J=z.create(),P=z.create(),F=z.create(),U=z.create(),V=[0,0,1,0];var Y;(function(I){I[I.NONE=0]="NONE";I[I.CLAMP=1]="CLAMP";I[I.INFINITE_MIN=4]="INFINITE_MIN";I[I.INFINITE_MAX=8]="INFINITE_MAX"})(Y||(Y={}));const fa=Y.INFINITE_MIN|Y.INFINITE_MAX,ha=Y.INFINITE_MAX;d.UP=V;d.clip=function(I,N){const Z=u.dot(I,N.ray.direction);I=-A(I,N.ray.origin);if(0>I&&0<=Z)return!1;if(-1E-6<Z&&1E-6>Z)return 0<I;if((0>I||0>Z)&&!(0>I&&0>Z))return!0;I/=Z;0<Z?I<N.c1&&(N.c1=
I):I>N.c0&&(N.c0=I);return N.c0<=N.c1};d.clipInfinite=function(I,N){const Z=u.dot(I,N.ray.direction);I=-A(I,N.ray.origin);if(-1E-6<Z&&1E-6>Z)return 0<I;I/=Z;0<Z?I<N.c1&&(N.c1=I):I>N.c0&&(N.c0=I);return N.c0<=N.c1};d.copy=t;d.create=m;d.distance=function(I,N){return Math.abs(A(I,N))};d.fromManyPoints=function(I,N){return y(I,N,0,1,2)};d.fromManyPointsSampleAt=y;d.fromNormalAndOffset=function(I,N,Z){u.copy(Z,I);Z[3]=N;return Z};d.fromPoints=p;d.fromPositionAndNormal=r;d.fromValues=w;d.fromVectorsAndPoint=
function(I,N,Z,ca){u.cross(P,N,I);return r(Z,P,ca)};d.intersectLine=function(I,N,Z,ca){Z=u.subtract(h.sv3d.get(),Z,N);return D(I,N,Z,fa,ca)};d.intersectLineSegment=function(I,N,Z){return D(I,N.origin,N.vector,Y.NONE,Z)};d.intersectLineSegmentClamp=function(I,N,Z){return D(I,N.origin,N.vector,Y.CLAMP,Z)};d.intersectRay=function(I,N,Z){return null!=N?D(I,N.origin,N.direction,ha,Z):!1};d.isPointInside=function(I,N){return 0<=A(I,N)};d.isPointOutside=function(I,N){return 0>A(I,N)};d.isSphereFullyInside=
function(I,N){return 0<=A(I,H.getCenter(N))-N[3]};d.isSphereFullyOutside=function(I,N){return 0>A(I,H.getCenter(N))+N[3]};d.negate=function(I,N){N[0]=-I[0];N[1]=-I[1];N[2]=-I[2];N[3]=-I[3];return N};d.normal=function(I){return I};d.projectPoint=function(I,N,Z){const ca=u.scale(h.sv3d.get(),I,-I[3]);N=u.subtract(h.sv3d.get(),N,ca);I=C(I,N,h.sv3d.get());u.add(Z,I,ca);return Z};d.projectPointLocal=function(I,N,Z,ca){var ma=h.sv3d.get(),ka=h.sv3d.get();f.tangentFrame(I,ma,ka);N=u.subtract(h.sv3d.get(),
Z,N);ma=v.projectPointSignedLength(ma,N);ka=v.projectPointSignedLength(ka,N);I=v.projectPointSignedLength(I,N);return u.set(ca,ma,ka,I)};d.projectVector=C;d.setOffsetFromPoint=function(I,N,Z){N!==I&&t(I,N);I[3]=-u.dot(I,Z);return I};d.signedDistance=A;d.wrap=function(I=V[0],N=V[1],Z=V[2],ca=V[3]){return w(I,N,Z,ca,h.sv4d.get())};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils","../../../chunks/vec3",
"../../../chunks/vec3f64"],function(d,l,u,z){const H=z.create(),v=z.create(),h=z.create(),f=z.create(),m=z.create();d.angle=function(t,w,r){t=u.normalize(f,t);w=u.normalize(m,w);const p=l.acosClamped(u.dot(t,w));return r&&(t=u.cross(h,t,w),0>u.dot(t,r))?-p:p};d.bilerp=function(t,w,r,p,y,C){t+=(w-t)*y;return t+(r+(p-r)*y-t)*C};d.cosCapped=function(t,w){return t>w?Math.cos(w):Math.cos(t)};d.fovx2fovy=function(t,w,r){return 2*Math.atan(r*Math.tan(.5*t)/w)};d.fovy2fovx=function(t,w,r){return 2*Math.atan(w*
Math.tan(.5*t)/r)};d.makeOrthonormal=function(t,w,r){r=r||t;const p=u.dot(t,w);u.set(r,t[0]-p*w[0],t[1]-p*w[1],t[2]-p*w[2]);u.normalize(r,r)};d.makePiecewiseLinearFunction=function(t){const w=t.length;return r=>{if(r<=t[0][0])return t[0][1];if(r>=t[w-1][0])return t[w-1][1];let p=1;for(;r>t[p][0];)p++;const y=t[p][0];r=(y-r)/(y-t[p-1][0]);return r*t[p-1][1]+(1-r)*t[p][1]}};d.maxScale=function(t){return Math.sqrt(Math.max(t[0]*t[0]+t[4]*t[4]+t[8]*t[8],t[1]*t[1]+t[5]*t[5]+t[9]*t[9],t[2]*t[2]+t[6]*t[6]+
t[10]*t[10]))};d.moduloPositive=function(t,w){return(t%w+w)%w};d.planeFromPoints=function(t,w,r,p){u.subtract(H,w,t);u.subtract(v,r,t);u.cross(p,H,v);u.normalize(p,p);p[3]=-u.dot(t,p)};d.scaleFromMatrix=function(t,w){u.set(t,Math.sqrt(w[0]*w[0]+w[4]*w[4]+w[8]*w[8]),Math.sqrt(w[1]*w[1]+w[5]*w[5]+w[9]*w[9]),Math.sqrt(w[2]*w[2]+w[6]*w[6]+w[10]*w[10]));return t};d.slerp=function(t,w,r,p=z.create()){const y=u.length(t);var C=u.length(w),A=u.dot(t,w)/(y*C);if(.9999999999999999>A){A=Math.acos(A);const D=
((1-r)*y+r*C)/Math.sin(A);C=D/C*Math.sin(r*A);u.scale(f,t,D/y*Math.sin((1-r)*A));u.scale(m,w,C);return u.add(p,f,m)}return u.lerp(p,t,w,r)};d.slerpTangent=function(t,w,r,p=z.create(),y=z.create()){const C=u.length(t),A=u.length(w);var D=u.dot(t,w)/(C*A);if(.9999999999999999>D){D=Math.acos(D);const K=Math.sin(D),J=Math.sin(r*D),P=Math.sin((1-r)*D),F=(1-r)*C+r*A,U=F/K,V=U/A*J;u.scale(f,t,U/C*P);u.scale(m,w,V);u.add(p,f,m);u.scale(f,t,1/C*(-Math.cos((1-r)*D)*D*F+P*(-C+A)));u.scale(m,w,1/A*(Math.cos(r*
D)*D*F+J*(-C+A)));u.add(y,f,m);u.scale(y,y,1/K);return y}u.lerp(p,t,w,r);u.subtract(y,w,t);u.normalize(y,y);return y};d.tangentFrame=function(t,w,r){Math.abs(t[0])>Math.abs(t[1])?u.set(w,0,1,0):u.set(w,1,0,0);u.cross(r,t,w);u.normalize(w,w);u.cross(w,r,t);u.normalize(r,r)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec2f64","../../../../chunks/vec4",
"../../../../chunks/vec4f64"],function(d,l,u,z,H){function v(m,t){if(!m)throw t=t||"Assertion",new f(`${t} at ${Error(t).stack}`);}const h=H.create();let f=function(){function m(t){this.message=t}m.prototype.toString=function(){return`AssertException: ${this.message}`};return l._createClass(m)}();d.assert=v;d.isTranslationMatrix=function(m){return 1===m[0]&&0===m[1]&&0===m[2]&&0===m[3]&&0===m[4]&&1===m[5]&&0===m[6]&&0===m[7]&&0===m[8]&&0===m[9]&&1===m[10]&&0===m[11]&&1===m[15]};d.logWithBase=function(m,
t){return Math.log(m)/Math.log(t)};d.project=function(m,t,w,r,p){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=1;z.transformMat4(h,h,t);2<p.length&&(p[2]=-h[2]);z.transformMat4(h,h,w);v(0!==h[3]);p[0]=h[0]/h[3];p[1]=h[1]/h[3];p[2]=h[2]/h[3];p[0]=(.5*p[0]+.5)*r[2]+r[0];p[1]=(.5*p[1]+.5)*r[3]+r[1]};d.rayBoxTest=function(m,t,w,r){let p,y=(w[0]-m[0])/t[0],C=(r[0]-m[0])/t[0];y>C&&(p=y,y=C,C=p);let A=(w[1]-m[1])/t[1],D=(r[1]-m[1])/t[1];A>D&&(p=A,A=D,D=p);if(y>D||A>C)return!1;A>y&&(y=A);D<C&&(C=D);w=(w[2]-m[2])/t[2];
m=(r[2]-m[2])/t[2];w>m&&(p=w,w=m,m=p);if(y>m||w>C)return!1;m<C&&(C=m);return 0>C?!1:!0};d.rayRay2D=function(m,t,w,r,p,y=u.create()){const C=(r[p]-w[p])*(t[0]-m[0])-(r[0]-w[0])*(t[p]-m[p]);if(0===C)return!1;w=((r[0]-w[0])*(m[p]-w[p])-(r[p]-w[p])*(m[0]-w[0]))/C;y[0]=m[0]+w*(t[0]-m[0]);y[1]=m[p]+w*(t[p]-m[p]);return!0};d.setMatrixTranslation3=function(m,t,w,r){m[12]=t;m[13]=w;m[14]=r};d.verify=function(m,t){m||console.warn("Verify failed: "+(t||"")+"\n"+Error("verify").stack)};Object.defineProperty(d,
Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../geometry/support/meshUtils/deduplicate ../../../support/meshProcessing ../../../support/buffer/InterleavedLayout ../VertexAttribute ./bufferLayouts ./edgeBufferWriters ./edgePreprocessing".split(" "),function(d,l,u,z,H,v,h,f,m){function t(y,C,A,D){if(C)return C=z.computeNeighbors(A,D,y.count),new w(A,D,C,y);
y=u.deduplicate(y.buffer,y.stride/4,{originalIndices:A,originalIndicesLength:D});D=z.computeNeighbors(y.indices,D,y.uniqueCount);return{faces:y.indices,facesLength:y.indices.length,neighbors:D,vertices:h.EdgeInputBufferLayout.createView(y.buffer)}}let w=l._createClass(function(y,C,A,D){this.faces=y;this.facesLength=C;this.neighbors=A;this.vertices=D});const r=new f.RegularEdgeBufferWriter,p=new f.SilhouetteEdgeBufferWriter;l=H.newLayout().vec3f(v.VertexAttribute.POSITION0).vec3f(v.VertexAttribute.POSITION1);
H=H.newLayout().vec3f(v.VertexAttribute.POSITION0).vec3f(v.VertexAttribute.POSITION1).u16(v.VertexAttribute.COMPONENTINDEX).u16(v.VertexAttribute.U16PADDING,{glPadding:!0});d.extract=function(y){const C=t(y.data,y.skipDeduplicate,y.indices,y.indicesLength);r.updateSettings(y.writerSettings);p.updateSettings(y.writerSettings);return m.extractEdges(C,r,p)};d.extractComponentsEdgeLocationsLayout=H;d.extractEdgeInformation=t;d.extractEdgeLocationsLayout=l;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/meshUtils/deduplicate":function(){define(["exports","../../../core/mathUtils","../Indices"],function(d,l,u){let z=null;d.deduplicate=function(H,v,h){var f=Array.isArray(H),m=f?H.length/v:H.byteLength/(4*v),t=f?H:new Uint32Array(H,0,m*v),w=h?.minReduction??0;const r=(H=h?.originalIndices||null)?H.length:0;var p=h?.componentOffsets||null;h=0;if(p)for(var y=0;y<p.length-1;y++){var C=p[y+1]-p[y];C>h&&(h=C)}else h=m;var A=Math.floor(1.1*h)+1;if(null==z||z.length<2*A)z=new Uint32Array(l.nextHighestPowerOfTwo(2*
A));for(h=0;h<2*A;h++)z[h]=0;h=0;const D=(C=!!p&&!!H)?r:m;y=u.newIndexArray(m);var K=new Uint32Array(r),J=0!==w?Math.ceil(7.84*1.96/(w*w)*w*(1-w)):D,P=1,F=p?p[1]:D;for(let ha=0;ha<D;ha++){if(ha===J){var U=1-h/ha;if(U+1.96*Math.sqrt(U*(1-U)/ha)<w)return null;J*=2}if(ha===F){for(F=0;F<2*A;F++)z[F]=0;if(H)for(F=p[P-1];F<p[P];F++)K[F]=y[H[F]];F=p[++P]}U=C?H[ha]:ha;const I=U*v;var V=0;for(var Y=0;Y<v;Y++)V=t[I+Y]+V|0,V=V+(V<<11)+(V>>>2)|0;V>>>=0;Y=V%A;let N=h;for(;0!==z[2*Y+1];){if(z[2*Y]===V){const Z=
z[2*Y+1]-1;var fa=Z*v;a:{for(let ca=0;ca<v;ca++)if(t[I+ca]!==t[fa+ca]){fa=!1;break a}fa=!0}if(fa){N=y[Z];break}}Y++;Y>=A&&(Y-=A)}N===h&&(z[2*Y]=V,z[2*Y+1]=U+1,h++);y[U]=N}if(0!==w&&1-h/m<w)return null;if(C){for(m=p[P-1];m<K.length;m++)K[m]=y[H[m]];y=u.compactIndices(K)}f=f?Array(h):new Uint32Array(h*v);h=0;for(J=0;J<D;J++)if(y[J]===h){m=t;w=(C?H[J]:J)*v;p=f;A=h*v;K=v;for(P=0;P<K;P++)p[A+P]=m[w+P];h++}if(H&&!C){v=new Uint32Array(r);for(t=0;t<v.length;t++)v[t]=y[H[t]];y=u.compactIndices(v)}return{buffer:Array.isArray(f)?
f:f.buffer,indices:y,uniqueCount:h}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Indices":function(){define(["exports","../../core/typedArrayUtil"],function(d,l){function u(f){let m=!0;for(const t of f){if(65536<=t)return l.isArray(f)?new Uint32Array(f):f;256<=t&&(m=!1)}return m?new Uint8Array(f):new Uint16Array(f)}let z=(()=>{const f=new Uint32Array(131072);for(let m=0;m<f.length;++m)f[m]=m;return f})();const H=[0],v=(()=>{const f=new Uint16Array(65536);
for(let m=0;m<f.length;++m)f[m]=m;return f})();let h=new Uint8Array(65536);d.compactIndices=function(f){return l.isArray(f)?f.length<l.NATIVE_ARRAY_MAX_SIZE?f:u(f):f.length<l.NATIVE_ARRAY_MAX_SIZE?Array.from(f):f.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT?f:u(f)};d.getContinuousIndexArray=function(f){if(1===f)return H;if(f<l.NATIVE_ARRAY_MAX_SIZE)return Array.from(new Uint16Array(v.buffer,0,f));if(f<v.length)return new Uint16Array(v.buffer,0,f);if(f>z.length){z=new Uint32Array(Math.max(2*z.length,
f));for(let m=0;m<z.length;m++)z[m]=m}return new Uint32Array(z.buffer,0,f)};d.getZeroIndexArray=function(f){if(1===f)return H;if(f<l.NATIVE_ARRAY_MAX_SIZE)return Array(f).fill(0);f>h.length&&(h=new Uint8Array(Math.max(2*h.length,f)));return new Uint8Array(h.buffer,0,f)};d.newIndexArray=function(f){return f<=l.NATIVE_ARRAY_MAX_SIZE?Array(f):65536>=f?new Uint16Array(f):new Uint32Array(f)};d.newIntArray=function(f){return f<=l.NATIVE_ARRAY_MAX_SIZE?Array(f):new Uint32Array(f)};Object.defineProperty(d,
Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/meshProcessing":function(){define(["exports"],function(d){d.computeNeighbors=function(l,u,z){u/=3;const H=new Uint32Array(z+1),v=new Uint32Array(z+1);var h=(A,D)=>{A<D?H[A+1]++:v[D+1]++};for(var f=0;f<u;f++){var m=l[3*f],t=l[3*f+1],w=l[3*f+2];h(m,t);h(t,w);h(w,m)}f=h=0;for(m=0;m<z;m++)t=H[m+1],w=v[m+1],H[m+1]=h,v[m+1]=f,h+=t,f+=w;const r=new Uint32Array(6*u),p=H[z];h=(A,D,K)=>{A<D?(A=H[A+1]++,r[2*A]=D,r[2*A+1]=K):(D=v[D+1]++,r[2*p+2*D]=
A,r[2*p+2*D+1]=K)};for(f=0;f<u;f++)m=l[3*f],t=l[3*f+1],w=l[3*f+2],h(m,t,f),h(t,w,f),h(w,m,f);h=(A,D)=>{const K=2*A;A=D-A;for(D=1;D<A;D++){const J=r[K+2*D],P=r[K+2*D+1];let F=D-1;for(F;0<=F&&r[K+2*F]>J;F--)r[K+2*F+2]=r[K+2*F],r[K+2*F+3]=r[K+2*F+1];r[K+2*F+2]=J;r[K+2*F+3]=P}};for(f=0;f<z;f++)h(H[f],H[f+1]),h(p+v[f],p+v[f+1]);const y=new Int32Array(3*u),C=(A,D)=>A===l[3*D]?0:A===l[3*D+1]?1:A===l[3*D+2]?2:-1;u=(A,D)=>{A=C(A,D);y[3*D+A]=-1};h=(A,D,K,J)=>{A=C(A,D);y[3*D+A]=J;K=C(K,J);y[3*J+K]=D};for(f=
0;f<z;f++){m=H[f];t=H[f+1];w=v[f];const A=v[f+1];for(;m<t&&w<A;){const D=r[2*m],K=r[2*p+2*w];D===K?(h(f,r[2*m+1],K,r[2*p+2*w+1]),m++,w++):D<K?(u(f,r[2*m+1]),m++):(u(K,r[2*p+2*w+1]),w++)}for(;m<t;)u(f,r[2*m+1]),m++;for(;w<A;)u(r[2*p+2*w],r[2*p+2*w+1]),w++}return y};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../geometry/support/buffer/BufferView",
"../../../../geometry/support/buffer/types","../../webgl-engine/lib/Util"],function(d,l,u,z,H){let v=function(){function w(p,y){this.layout=p;this.buffer="number"===typeof y?new ArrayBuffer(y*p.stride):y;for(const C of p.fields.keys())y=p.fields.get(C),this[C]=new y.constructor(this.buffer,y.offset,this.stride)}var r=w.prototype;r.getField=function(p,y){return(p=this[p])&&p.elementCount===y.ElementCount&&p.elementType===y.ElementType?p:null};r.slice=function(p,y){return new w(this.layout,this.buffer.slice(p*
this.stride,y*this.stride))};r.copyFrom=function(p,y=0,C=0,A=p.count){const D=this.stride;0===D%4?(p=new Uint32Array(p.buffer,y*D,A*D/4),(new Uint32Array(this.buffer,C*D,A*D/4)).set(p)):(p=new Uint8Array(p.buffer,y*D,A*D),(new Uint8Array(this.buffer,C*D,A*D)).set(p));return this};l._createClass(w,[{key:"stride",get:function(){return this.layout.stride}},{key:"count",get:function(){return this.buffer.byteLength/this.stride}},{key:"byteLength",get:function(){return this.buffer.byteLength}}]);return w}(),
h=function(){function w(p=null){this._lastAligned=this._stride=0;this._fields=new Map;p&&(this._stride=p.stride,p.fields.forEach(y=>this._fields.set(y[0],{...y[1],constructor:t.get(y[1].constructor)})))}var r=w.prototype;r.vec2f=function(p,y){this._appendField(p,u.BufferViewVec2f,y);return this};r.vec2f64=function(p,y){this._appendField(p,u.BufferViewVec2f64,y);return this};r.vec3f=function(p,y){this._appendField(p,u.BufferViewVec3f,y);return this};r.vec3f64=function(p,y){this._appendField(p,u.BufferViewVec3f64,
y);return this};r.vec4f=function(p,y){this._appendField(p,u.BufferViewVec4f,y);return this};r.vec4f64=function(p,y){this._appendField(p,u.BufferViewVec4f64,y);return this};r.mat3f=function(p,y){this._appendField(p,u.BufferViewMat3f,y);return this};r.mat3f64=function(p,y){this._appendField(p,u.BufferViewMat3f64,y);return this};r.mat4f=function(p,y){this._appendField(p,u.BufferViewMat4f,y);return this};r.mat4f64=function(p,y){this._appendField(p,u.BufferViewMat4f64,y);return this};r.vec4u8=function(p,
y){this._appendField(p,u.BufferViewVec4u8,y);return this};r.f32=function(p,y){this._appendField(p,u.BufferViewFloat,y);return this};r.f64=function(p,y){this._appendField(p,u.BufferViewFloat64,y);return this};r.u8=function(p,y){this._appendField(p,u.BufferViewUint8,y);return this};r.u16=function(p,y){this._appendField(p,u.BufferViewUint16,y);return this};r.i8=function(p,y){this._appendField(p,u.BufferViewInt8,y);return this};r.vec2i8=function(p,y){this._appendField(p,u.BufferViewVec2i8,y);return this};
r.vec2i16=function(p,y){this._appendField(p,u.BufferViewVec2i16,y);return this};r.vec2u8=function(p,y){this._appendField(p,u.BufferViewVec2u8,y);return this};r.vec4u16=function(p,y){this._appendField(p,u.BufferViewVec4u16,y);return this};r.u32=function(p,y){this._appendField(p,u.BufferViewUint32,y);return this};r._appendField=function(p,y,C){if(this._fields.has(p))H.assert(!1,`${p} already added to vertex buffer layout`);else{var A=y.ElementCount*z.elementTypeSize(y.ElementType),D=this._stride;this._stride+=
A;this._fields.set(p,{size:A,constructor:y,offset:D,optional:C})}};r.createBuffer=function(p){return new v(this,p)};r.createView=function(p){return new v(this,p)};r.clone=function(){const p=new w;p._stride=this._stride;p._fields=new Map;this._fields.forEach((y,C)=>p._fields.set(C,y));p.BufferType=this.BufferType;return p};l._createClass(w,[{key:"stride",get:function(){if(this._lastAligned!==this._fields.size){let p=1;this._fields.forEach(y=>p=Math.max(p,z.elementTypeSize(y.constructor.ElementType)));
this._stride=Math.floor((this._stride+p-1)/p)*p;this._lastAligned=this._fields.size}return this._stride}},{key:"fields",get:function(){return this._fields}}]);return w}(),f=l._createClass(function(w){this.fields=[];w.fields.forEach((r,p)=>{var y=r.constructor;this.fields.push([p,{...r,constructor:`${y.ElementType}_${y.ElementCount}`}])});this.stride=w.stride});const m=[u.BufferViewFloat,u.BufferViewVec2f,u.BufferViewVec3f,u.BufferViewVec4f,u.BufferViewMat3f,u.BufferViewMat4f,u.BufferViewFloat64,u.BufferViewVec2f64,
u.BufferViewVec3f64,u.BufferViewVec4f64,u.BufferViewMat3f64,u.BufferViewMat4f64,u.BufferViewUint8,u.BufferViewVec2u8,u.BufferViewVec3u8,u.BufferViewVec4u8,u.BufferViewUint16,u.BufferViewVec2u16,u.BufferViewVec3u16,u.BufferViewVec4u16,u.BufferViewUint32,u.BufferViewVec2u32,u.BufferViewVec3u32,u.BufferViewVec4u32,u.BufferViewInt8,u.BufferViewVec2i8,u.BufferViewVec3i8,u.BufferViewVec4i8,u.BufferViewInt16,u.BufferViewVec2i16,u.BufferViewVec3i16,u.BufferViewVec4i16,u.BufferViewInt32,u.BufferViewVec2i32,
u.BufferViewVec3i32,u.BufferViewVec4i32],t=new Map;m.forEach(w=>t.set(`${w.ElementType}_${w.ElementCount}`,w));d.InterleavedBuffer=v;d.InterleavedLayout=h;d.PackedLayout=f;d.newLayout=function(){return new h};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),function(d,
l,u,z,H,v,h,f){let m=function(k){function e(c,g=0,E,M){c=k.call(this,Float32Array,c,g,E,M)||this;c.elementType="f32";return c}l._inherits(e,k);e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(H.BufferViewScalarImpl);m.ElementType="f32";let t=function(k){function e(c,g=0,E,M){c=k.call(this,Float32Array,c,g,E,M)||this;c.elementType="f32";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};
e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(v.BufferViewVec2Impl);t.ElementType="f32";let w=function(k){function e(c,g=0,E,M){c=k.call(this,Float32Array,c,g,E,M)||this;c.elementType="f32";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(h.BufferViewVec3Impl);w.ElementType=
"f32";let r=function(k){function e(c,g=0,E,M){c=k.call(this,Float32Array,c,g,E,M)||this;c.elementType="f32";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(f.BufferViewVec4Impl);r.ElementType="f32";let p=function(k){function e(c,g=0,E,M){c=k.call(this,Float32Array,c,g,E,M)||this;c.elementType="f32";return c}l._inherits(e,k);e.prototype.slice=
function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(u.BufferViewMat3Impl);p.ElementType="f32";u=function(k){function e(c,g=0,E,M){c=k.call(this,Float64Array,c,g,E,M)||this;c.elementType="f64";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(u.BufferViewMat3Impl);
u.ElementType="f64";let y=function(k){function e(c,g=0,E,M){c=k.call(this,Float32Array,c,g,E,M)||this;c.elementType="f32";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(z.BufferViewMat4Impl);y.ElementType="f32";z=function(k){function e(c,g=0,E,M){c=k.call(this,Float64Array,c,g,E,M)||this;c.elementType="f64";return c}l._inherits(e,k);e.prototype.slice=
function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(z.BufferViewMat4Impl);z.ElementType="f64";let C=function(k){function e(c,g=0,E,M){c=k.call(this,Float64Array,c,g,E,M)||this;c.elementType="f64";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(H.BufferViewScalarImpl);
C.ElementType="f64";let A=function(k){function e(c,g=0,E,M){c=k.call(this,Float64Array,c,g,E,M)||this;c.elementType="f64";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(v.BufferViewVec2Impl);A.ElementType="f64";let D=function(k){function e(c,g=0,E,M){c=k.call(this,Float64Array,c,g,E,M)||this;c.elementType="f64";return c}l._inherits(e,
k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(h.BufferViewVec3Impl);D.ElementType="f64";let K=function(k){function e(c,g=0,E,M){c=k.call(this,Float64Array,c,g,E,M)||this;c.elementType="f64";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+
c.byteLength)};return l._createClass(e)}(f.BufferViewVec4Impl);K.ElementType="f64";let J=function(k){function e(c,g=0,E,M){c=k.call(this,Uint8Array,c,g,E,M)||this;c.elementType="u8";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(H.BufferViewScalarImpl);J.ElementType="u8";let P=function(k){function e(c,g=0,E,M){c=k.call(this,Uint8Array,
c,g,E,M)||this;c.elementType="u8";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(v.BufferViewVec2Impl);P.ElementType="u8";let F=function(k){function e(c,g=0,E,M){c=k.call(this,Uint8Array,c,g,E,M)||this;c.elementType="u8";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,
g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(h.BufferViewVec3Impl);F.ElementType="u8";let U=function(k){function e(c,g=0,E,M){c=k.call(this,Uint8Array,c,g,E,M)||this;c.elementType="u8";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(f.BufferViewVec4Impl);U.ElementType="u8";let V=function(k){function e(c,
g=0,E,M){c=k.call(this,Uint16Array,c,g,E,M)||this;c.elementType="u16";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(H.BufferViewScalarImpl);V.ElementType="u16";let Y=function(k){function e(c,g=0,E,M){c=k.call(this,Uint16Array,c,g,E,M)||this;c.elementType="u16";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,
c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(v.BufferViewVec2Impl);Y.ElementType="u16";let fa=function(k){function e(c,g=0,E,M){c=k.call(this,Uint16Array,c,g,E,M)||this;c.elementType="u16";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(h.BufferViewVec3Impl);
fa.ElementType="u16";let ha=function(k){function e(c,g=0,E,M){c=k.call(this,Uint16Array,c,g,E,M)||this;c.elementType="u16";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(f.BufferViewVec4Impl);ha.ElementType="u16";let I=function(k){function e(c,g=0,E,M){c=k.call(this,Uint32Array,c,g,E,M)||this;c.elementType="u32";return c}l._inherits(e,
k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(H.BufferViewScalarImpl);I.ElementType="u32";let N=function(k){function e(c,g=0,E,M){c=k.call(this,Uint32Array,c,g,E,M)||this;c.elementType="u32";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+
c.byteLength)};return l._createClass(e)}(v.BufferViewVec2Impl);N.ElementType="u32";let Z=function(k){function e(c,g=0,E,M){c=k.call(this,Uint32Array,c,g,E,M)||this;c.elementType="u32";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(h.BufferViewVec3Impl);Z.ElementType="u32";let ca=function(k){function e(c,g=0,E,M){c=k.call(this,Uint32Array,
c,g,E,M)||this;c.elementType="u32";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(f.BufferViewVec4Impl);ca.ElementType="u32";let ma=function(k){function e(c,g=0,E,M){c=k.call(this,Int8Array,c,g,E,M)||this;c.elementType="i8";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,
g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(H.BufferViewScalarImpl);ma.ElementType="i8";let ka=function(k){function e(c,g=0,E,M){c=k.call(this,Int8Array,c,g,E,M)||this;c.elementType="i8";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(v.BufferViewVec2Impl);ka.ElementType="i8";let ra=function(k){function e(c,
g=0,E,M){c=k.call(this,Int8Array,c,g,E,M)||this;c.elementType="i8";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(h.BufferViewVec3Impl);ra.ElementType="i8";let X=function(k){function e(c,g=0,E,M){c=k.call(this,Int8Array,c,g,E,M)||this;c.elementType="i8";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,
c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(f.BufferViewVec4Impl);X.ElementType="i8";let ba=function(k){function e(c,g=0,E,M){c=k.call(this,Int16Array,c,g,E,M)||this;c.elementType="i16";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(H.BufferViewScalarImpl);
ba.ElementType="i16";let B=function(k){function e(c,g=0,E,M){c=k.call(this,Int16Array,c,g,E,M)||this;c.elementType="i16";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(v.BufferViewVec2Impl);B.ElementType="i16";let G=function(k){function e(c,g=0,E,M){c=k.call(this,Int16Array,c,g,E,M)||this;c.elementType="i16";return c}l._inherits(e,k);
e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(h.BufferViewVec3Impl);G.ElementType="i16";let q=function(k){function e(c,g=0,E,M){c=k.call(this,Int16Array,c,g,E,M)||this;c.elementType="i16";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};
return l._createClass(e)}(f.BufferViewVec4Impl);q.ElementType="i16";H=function(k){function e(c,g=0,E,M){c=k.call(this,Int32Array,c,g,E,M)||this;c.elementType="i32";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(H.BufferViewScalarImpl);H.ElementType="i32";v=function(k){function e(c,g=0,E,M){c=k.call(this,Int32Array,c,g,E,M)||this;c.elementType=
"i32";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(v.BufferViewVec2Impl);v.ElementType="i32";h=function(k){function e(c,g=0,E,M){c=k.call(this,Int32Array,c,g,E,M)||this;c.elementType="i32";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,
g,c.byteOffset+c.byteLength)};return l._createClass(e)}(h.BufferViewVec3Impl);h.ElementType="i32";f=function(k){function e(c,g=0,E,M){c=k.call(this,Int32Array,c,g,E,M)||this;c.elementType="i32";return c}l._inherits(e,k);e.prototype.slice=function(c,g){return this.sliceBuffer(e,c,g)};e.fromTypedArray=function(c,g){return new e(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)};return l._createClass(e)}(f.BufferViewVec4Impl);f.ElementType="i32";d.BufferViewFloat=m;d.BufferViewFloat64=C;d.BufferViewInt16=
ba;d.BufferViewInt32=H;d.BufferViewInt8=ma;d.BufferViewMat3f=p;d.BufferViewMat3f64=u;d.BufferViewMat4f=y;d.BufferViewMat4f64=z;d.BufferViewUint16=V;d.BufferViewUint32=I;d.BufferViewUint8=J;d.BufferViewVec2f=t;d.BufferViewVec2f64=A;d.BufferViewVec2i16=B;d.BufferViewVec2i32=v;d.BufferViewVec2i8=ka;d.BufferViewVec2u16=Y;d.BufferViewVec2u32=N;d.BufferViewVec2u8=P;d.BufferViewVec3f=w;d.BufferViewVec3f64=D;d.BufferViewVec3i16=G;d.BufferViewVec3i32=h;d.BufferViewVec3i8=ra;d.BufferViewVec3u16=fa;d.BufferViewVec3u32=
Z;d.BufferViewVec3u8=F;d.BufferViewVec4f=r;d.BufferViewVec4f64=K;d.BufferViewVec4i16=q;d.BufferViewVec4i32=f;d.BufferViewVec4i8=X;d.BufferViewVec4u16=ha;d.BufferViewVec4u32=ca;d.BufferViewVec4u8=U;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(d,l){let u=function(){function z(v,h,f=0,m,t){this.TypedArrayConstructor=v;this.elementCount=9;v=this.TypedArrayConstructor;
void 0===m&&(m=9*v.BYTES_PER_ELEMENT);const w=0===h.byteLength?0:f;this.typedBuffer=null==t?new v(h,w):new v(h,w,(t-f)/v.BYTES_PER_ELEMENT);this.typedBufferStride=m/v.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var H=z.prototype;H.sliceBuffer=function(v,h,f=this.count-h){h=this.typedBuffer.byteOffset+h*this.stride;return new v(this.buffer,h,this.stride,h+f*this.stride)};H.getMat=
function(v,h){v*=this.typedBufferStride;for(let f=0;9>f;f++)h[f]=this.typedBuffer[v++];return h};H.setMat=function(v,h){v*=this.typedBufferStride;for(let f=0;9>f;f++)this.typedBuffer[v++]=h[f]};H.get=function(v,h){return this.typedBuffer[v*this.typedBufferStride+h]};H.set=function(v,h,f){this.typedBuffer[v*this.typedBufferStride+h]=f};H.copyFrom=function(v,h,f){const m=this.typedBuffer,t=h.typedBuffer;v*=this.typedBufferStride;h=f*h.typedBufferStride;for(f=0;9>f;++f)m[v++]=t[h++]};l._createClass(z,
[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return z}();u.ElementCount=9;d.BufferViewMat3Impl=u;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(d,l){let u=function(){function z(v,h,f=0,m,t){this.TypedArrayConstructor=v;this.elementCount=16;v=this.TypedArrayConstructor;void 0===m&&(m=16*v.BYTES_PER_ELEMENT);const w=0===h.byteLength?
0:f;this.typedBuffer=null==t?new v(h,w):new v(h,w,(t-f)/v.BYTES_PER_ELEMENT);this.typedBufferStride=m/v.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var H=z.prototype;H.sliceBuffer=function(v,h,f=this.count-h){h=this.typedBuffer.byteOffset+h*this.stride;return new v(this.buffer,h,this.stride,h+f*this.stride)};H.getMat=function(v,h){v*=this.typedBufferStride;for(let f=0;16>f;f++)h[f]=
this.typedBuffer[v++];return h};H.setMat=function(v,h){v*=this.typedBufferStride;for(let f=0;16>f;f++)this.typedBuffer[v++]=h[f]};H.get=function(v,h){return this.typedBuffer[v*this.typedBufferStride+h]};H.set=function(v,h,f){this.typedBuffer[v*this.typedBufferStride+h]=f};H.copyFrom=function(v,h,f){const m=this.typedBuffer,t=h.typedBuffer;v*=this.typedBufferStride;h=f*h.typedBufferStride;for(f=0;16>f;++f)m[v++]=t[h++]};l._createClass(z,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);
return z}();u.ElementCount=16;d.BufferViewMat4Impl=u;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(d,l){let u=function(){function z(v,h,f=0,m,t){this.TypedArrayConstructor=v;this.elementCount=1;v=this.TypedArrayConstructor;void 0===m&&(m=v.BYTES_PER_ELEMENT);const w=0===h.byteLength?0:f;this.typedBuffer=null==t?new v(h,w):new v(h,w,(t-f)/v.BYTES_PER_ELEMENT);
this.stride=m;this.typedBufferStride=m/v.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}var H=z.prototype;H.sliceBuffer=function(v,h,f=this.count-h){h=this.typedBuffer.byteOffset+h*this.stride;return new v(this.buffer,h,this.stride,h+f*this.stride)};H.get=function(v){return this.typedBuffer[v*this.typedBufferStride]};H.set=function(v,h){this.typedBuffer[v*this.typedBufferStride]=h};l._createClass(z,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);
return z}();u.ElementCount=1;d.BufferViewScalarImpl=u;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec2"],function(d,l,u){let z=function(){function H(h,f,m=0,t,w){this.TypedArrayConstructor=h;this.elementCount=2;h=this.TypedArrayConstructor;void 0===t&&(t=2*h.BYTES_PER_ELEMENT);const r=0===f.byteLength?0:m;this.typedBuffer=null==w?new h(f,
r):new h(f,r,(w-m)/h.BYTES_PER_ELEMENT);this.typedBufferStride=t/h.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var v=H.prototype;v.sliceBuffer=function(h,f,m=this.count-f){f=this.typedBuffer.byteOffset+f*this.stride;return new h(this.buffer,f,this.stride,f+m*this.stride)};v.getVec=function(h,f){h*=this.typedBufferStride;return u.set(f,this.typedBuffer[h],this.typedBuffer[h+1])};
v.setVec=function(h,f){h*=this.typedBufferStride;this.typedBuffer[h++]=f[0];this.typedBuffer[h]=f[1]};v.get=function(h,f){return this.typedBuffer[h*this.typedBufferStride+f]};v.set=function(h,f,m){this.typedBuffer[h*this.typedBufferStride+f]=m};v.setValues=function(h,f,m){h*=this.typedBufferStride;this.typedBuffer[h++]=f;this.typedBuffer[h]=m};v.copyFrom=function(h,f,m){const t=this.typedBuffer,w=f.typedBuffer;h*=this.typedBufferStride;f=m*f.typedBufferStride;t[h++]=w[f++];t[h]=w[f]};l._createClass(H,
[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return H}();z.ElementCount=2;d.BufferViewVec2Impl=z;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec2":function(){define(["exports","./common"],function(d,l){function u(q,k){q[0]=k[0];q[1]=k[1];return q}function z(q,k,e){q[0]=k;q[1]=e;return q}function H(q,k,e){q[0]=k[0]+e[0];q[1]=k[1]+e[1];return q}function v(q,k,e){q[0]=k[0]-e[0];q[1]=k[1]-e[1];return q}function h(q,k,e){q[0]=k[0]*e[0];q[1]=k[1]*e[1];
return q}function f(q,k,e){q[0]=k[0]/e[0];q[1]=k[1]/e[1];return q}function m(q,k){q[0]=Math.ceil(k[0]);q[1]=Math.ceil(k[1]);return q}function t(q,k){q[0]=Math.floor(k[0]);q[1]=Math.floor(k[1]);return q}function w(q,k,e){q[0]=Math.min(k[0],e[0]);q[1]=Math.min(k[1],e[1]);return q}function r(q,k,e){q[0]=Math.max(k[0],e[0]);q[1]=Math.max(k[1],e[1]);return q}function p(q,k){q[0]=Math.round(k[0]);q[1]=Math.round(k[1]);return q}function y(q,k,e){q[0]=k[0]*e;q[1]=k[1]*e;return q}function C(q,k,e,c){q[0]=
k[0]+e[0]*c;q[1]=k[1]+e[1]*c;return q}function A(q,k){const e=k[0]-q[0];q=k[1]-q[1];return Math.sqrt(e*e+q*q)}function D(q,k){const e=k[0]-q[0];q=k[1]-q[1];return e*e+q*q}function K(q){const k=q[0];q=q[1];return Math.sqrt(k*k+q*q)}function J(q){const k=q[0];q=q[1];return k*k+q*q}function P(q,k){q[0]=-k[0];q[1]=-k[1];return q}function F(q,k){q[0]=1/k[0];q[1]=1/k[1];return q}function U(q,k){var e=k[0];const c=k[1];e=e*e+c*c;0<e&&(e=1/Math.sqrt(e),q[0]=k[0]*e,q[1]=k[1]*e);return q}function V(q,k){return q[0]*
k[0]+q[1]*k[1]}function Y(q,k,e){k=k[0]*e[1]-k[1]*e[0];q[0]=q[1]=0;q[2]=k;return q}function fa(q,k,e,c){const g=k[0];k=k[1];q[0]=g+c*(e[0]-g);q[1]=k+c*(e[1]-k);return q}function ha(q,k){k=k||1;const e=2*l.RANDOM()*Math.PI;q[0]=Math.cos(e)*k;q[1]=Math.sin(e)*k;return q}function I(q,k,e){const c=k[0];k=k[1];q[0]=e[0]*c+e[2]*k;q[1]=e[1]*c+e[3]*k;return q}function N(q,k,e){const c=k[0];k=k[1];q[0]=e[0]*c+e[2]*k+e[4];q[1]=e[1]*c+e[3]*k+e[5];return q}function Z(q,k,e){const c=k[0];k=k[1];q[0]=e[0]*c+e[3]*
k+e[6];q[1]=e[1]*c+e[4]*k+e[7];return q}function ca(q,k,e){const c=k[0];k=k[1];q[0]=e[0]*c+e[4]*k+e[12];q[1]=e[1]*c+e[5]*k+e[13];return q}function ma(q,k,e,c){const g=k[0]-e[0];k=k[1]-e[1];const E=Math.sin(c);c=Math.cos(c);q[0]=g*c-k*E+e[0];q[1]=g*E+k*c+e[1];return q}function ka(q,k){var e=q[0];q=q[1];const c=k[0];k=k[1];let g=e*e+q*q;0<g&&(g=1/Math.sqrt(g));let E=c*c+k*k;0<E&&(E=1/Math.sqrt(E));e=(e*c+q*k)*g*E;return 1<e?0:-1>e?Math.PI:Math.acos(e)}function ra(q){return"vec2("+q[0]+", "+q[1]+")"}
function X(q,k){return q[0]===k[0]&&q[1]===k[1]}function ba(q,k){const e=q[0];q=q[1];const c=k[0];k=k[1];const g=l.getEpsilon();return Math.abs(e-c)<=g*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(q-k)<=g*Math.max(1,Math.abs(q),Math.abs(k))}function B(q,k,e,c,g){let E=k[0]-e[0];e=k[1]-e[1];g=(c[0]*E+c[1]*e)*(g-1);E=c[0]*g;e=c[1]*g;q[0]=k[0]+E;q[1]=k[1]+e;return q}const G=Object.freeze(Object.defineProperty({__proto__:null,add:H,angle:ka,ceil:m,copy:u,cross:Y,dist:A,distance:A,div:f,divide:f,dot:V,
equals:ba,exactEquals:X,floor:t,inverse:F,len:K,length:K,lerp:fa,max:r,min:w,mul:h,multiply:h,negate:P,normalize:U,projectAndScale:B,random:ha,rotate:ma,round:p,scale:y,scaleAndAdd:C,set:z,sqrDist:D,sqrLen:J,squaredDistance:D,squaredLength:J,str:ra,sub:v,subtract:v,transformMat2:I,transformMat2d:N,transformMat3:Z,transformMat4:ca},Symbol.toStringTag,{value:"Module"}));d.add=H;d.angle=ka;d.ceil=m;d.copy=u;d.cross=Y;d.dist=A;d.distance=A;d.div=f;d.divide=f;d.dot=V;d.equals=ba;d.exactEquals=X;d.floor=
t;d.inverse=F;d.len=K;d.length=K;d.lerp=fa;d.max=r;d.min=w;d.mul=h;d.multiply=h;d.negate=P;d.normalize=U;d.projectAndScale=B;d.random=ha;d.rotate=ma;d.round=p;d.scale=y;d.scaleAndAdd=C;d.set=z;d.sqrDist=D;d.sqrLen=J;d.squaredDistance=D;d.squaredLength=J;d.str=ra;d.sub=v;d.subtract=v;d.transformMat2=I;d.transformMat2d=N;d.transformMat3=Z;d.transformMat4=ca;d.vec2=G})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec3"],
function(d,l,u){let z=function(){function H(h,f,m=0,t,w){this.TypedArrayConstructor=h;this.elementCount=3;h=this.TypedArrayConstructor;void 0===t&&(t=3*h.BYTES_PER_ELEMENT);const r=0===f.byteLength?0:m;this.typedBuffer=null==w?new h(f,r):new h(f,r,(w-m)/h.BYTES_PER_ELEMENT);this.typedBufferStride=t/h.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var v=H.prototype;v.sliceBuffer=
function(h,f,m=this.count-f){f=this.typedBuffer.byteOffset+f*this.stride;return new h(this.buffer,f,this.stride,f+m*this.stride)};v.getVec=function(h,f){h*=this.typedBufferStride;return u.set(f,this.typedBuffer[h],this.typedBuffer[h+1],this.typedBuffer[h+2])};v.setVec=function(h,f){h*=this.typedBufferStride;this.typedBuffer[h++]=f[0];this.typedBuffer[h++]=f[1];this.typedBuffer[h]=f[2]};v.get=function(h,f){return this.typedBuffer[h*this.typedBufferStride+f]};v.set=function(h,f,m){this.typedBuffer[h*
this.typedBufferStride+f]=m};v.setValues=function(h,f,m,t){h*=this.typedBufferStride;this.typedBuffer[h++]=f;this.typedBuffer[h++]=m;this.typedBuffer[h]=t};v.copyFrom=function(h,f,m){const t=this.typedBuffer,w=f.typedBuffer;h*=this.typedBufferStride;f=m*f.typedBufferStride;t[h++]=w[f++];t[h++]=w[f++];t[h]=w[f]};l._createClass(H,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return H}();z.ElementCount=3;d.BufferViewVec3Impl=z;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec4"],function(d,l,u){let z=function(){function H(h,f,m=0,t,w){this.TypedArrayConstructor=h;this.start=m;this.elementCount=4;h=this.TypedArrayConstructor;void 0===t&&(t=4*h.BYTES_PER_ELEMENT);const r=0===f.byteLength?0:m;this.typedBuffer=null==w?new h(f,r):new h(f,r,(w-m)/h.BYTES_PER_ELEMENT);this.typedBufferStride=t/h.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/
this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var v=H.prototype;v.sliceBuffer=function(h,f,m=this.count-f){f=this.typedBuffer.byteOffset+f*this.stride;return new h(this.buffer,f,this.stride,f+m*this.stride)};v.getVec=function(h,f){h*=this.typedBufferStride;return u.set(f,this.typedBuffer[h++],this.typedBuffer[h++],this.typedBuffer[h++],this.typedBuffer[h])};v.setVec=function(h,f){h*=this.typedBufferStride;this.typedBuffer[h++]=f[0];this.typedBuffer[h++]=
f[1];this.typedBuffer[h++]=f[2];this.typedBuffer[h]=f[3]};v.get=function(h,f){return this.typedBuffer[h*this.typedBufferStride+f]};v.set=function(h,f,m){this.typedBuffer[h*this.typedBufferStride+f]=m};v.setValues=function(h,f,m,t,w){h*=this.typedBufferStride;this.typedBuffer[h++]=f;this.typedBuffer[h++]=m;this.typedBuffer[h++]=t;this.typedBuffer[h]=w};v.copyFrom=function(h,f,m){const t=this.typedBuffer,w=f.typedBuffer;h*=this.typedBufferStride;f=m*f.typedBufferStride;t[h++]=w[f++];t[h++]=w[f++];t[h++]=
w[f++];t[h]=w[f]};l._createClass(H,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return H}();z.ElementCount=4;d.BufferViewVec4Impl=z;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/types":function(){define(["exports"],function(d){d.elementTypeSize=function(l){switch(l){case "u8":return 1;case "u16":return 2;case "u32":return 4;case "i8":return 1;case "i16":return 2;case "i32":return 4;case "f32":return 4;case "f64":return 8}};d.isInteger=
function(l){switch(l){case "u8":case "u16":case "u32":case "i8":case "i16":case "i32":return!0;case "f32":case "f64":return!1}};d.isSigned=function(l){switch(l){case "u8":case "u16":case "u32":return!1;case "i8":case "i16":case "i32":case "f32":case "f64":return!0}};d.maximumValue=function(l){switch(l){case "u8":return 255;case "u16":return 65535;case "u32":return 4294967295;case "i8":return 127;case "i16":return 32767;case "i32":return 2147483647;case "f32":return 3.402823E38;case "f64":return 1.79769E308}};
Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(d){d.VertexAttribute=void 0;var l=d.VertexAttribute||(d.VertexAttribute={});l.POSITION="position";l.NORMAL="normal";l.NORMALCOMPRESSED="normalCompressed";l.UV0="uv0";l.AUXPOS1="auxpos1";l.AUXPOS2="auxpos2";l.COLOR="color";l.SYMBOLCOLOR="symbolColor";l.SIZE="size";l.TANGENT="tangent";l.OFFSET="offset";l.SUBDIVISIONFACTOR="subdivisionFactor";l.COLORFEATUREATTRIBUTE=
"colorFeatureAttribute";l.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";l.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";l.DISTANCETOSTART="distanceToStart";l.UVMAPSPACE="uvMapSpace";l.BOUNDINGRECT="boundingRect";l.UVREGION="uvRegion";l.PROFILERIGHT="profileRight";l.PROFILEUP="profileUp";l.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";l.FEATUREVALUE="featureValue";l.MODELORIGINHI="modelOriginHi";l.MODELORIGINLO="modelOriginLo";l.MODEL="model";l.MODELNORMAL="modelNormal";l.INSTANCECOLOR="instanceColor";
l.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";l.LOCALTRANSFORM="localTransform";l.GLOBALTRANSFORM="globalTransform";l.BOUNDINGSPHERE="boundingSphere";l.MODELORIGIN="modelOrigin";l.MODELSCALEFACTORS="modelScaleFactors";l.FEATUREATTRIBUTE="featureAttribute";l.STATE="state";l.LODLEVEL="lodLevel";l.POSITION0="position0";l.POSITION1="position1";l.NORMALA="normalA";l.NORMALB="normalB";l.COMPONENTINDEX="componentIndex";l.VARIANTOFFSET="variantOffset";l.VARIANTSTROKE="variantStroke";l.VARIANTEXTENSION=
"variantExtension";l.U8PADDING="u8padding";l.U16PADDING="u16padding";l.SIDENESS="sideness";l.START="start";l.END="end";l.UP="up";l.EXTRUDE="extrude";l.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";l.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor";Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["exports","../../../support/buffer/glUtil","../../../support/buffer/InterleavedLayout","../VertexAttribute"],
function(d,l,u,z){const H=u.newLayout().vec3f(z.VertexAttribute.POSITION).u16(z.VertexAttribute.COMPONENTINDEX).u16(z.VertexAttribute.U16PADDING),v=u.newLayout().vec2u8(z.VertexAttribute.SIDENESS);l=l.glLayout(v);u=u.newLayout().vec3f(z.VertexAttribute.POSITION0).vec3f(z.VertexAttribute.POSITION1).u16(z.VertexAttribute.COMPONENTINDEX).u8(z.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(z.VertexAttribute.VARIANTSTROKE).u8(z.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0}).u8(z.VertexAttribute.U8PADDING,
{glPadding:!0}).u16(z.VertexAttribute.U16PADDING,{glPadding:!0});const h=u.clone().vec3f(z.VertexAttribute.NORMAL),f=u.clone().vec3f(z.VertexAttribute.NORMALA).vec3f(z.VertexAttribute.NORMALB);z=new Map([[z.VertexAttribute.POSITION0,0],[z.VertexAttribute.POSITION1,1],[z.VertexAttribute.COMPONENTINDEX,2],[z.VertexAttribute.VARIANTOFFSET,3],[z.VertexAttribute.VARIANTSTROKE,4],[z.VertexAttribute.VARIANTEXTENSION,5],[z.VertexAttribute.NORMAL,6],[z.VertexAttribute.NORMALA,6],[z.VertexAttribute.NORMALB,
7],[z.VertexAttribute.SIDENESS,8]]);d.CommonInstancesLayout=u;d.EdgeInputBufferLayout=H;d.EdgeShaderAttributeLocations=z;d.RegularEdgeInstancesLayout=h;d.SilhouetteEdgeInstancesLayout=f;d.VertexLayout=v;d.glVertexLayout=l;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/glUtil":function(){define(["exports","../../../webgl/enums","../../../webgl/VertexElementDescriptor"],function(d,l,u){const z={u8:l.DataType.UNSIGNED_BYTE,u16:l.DataType.UNSIGNED_SHORT,
u32:l.DataType.UNSIGNED_INT,i8:l.DataType.BYTE,i16:l.DataType.SHORT,i32:l.DataType.INT,f32:l.DataType.FLOAT};d.glLayout=function(H,v=0){const h=H.stride;return Array.from(H.fields.keys()).filter(f=>{f=H.fields.get(f)?.optional;return!(f&&f.glPadding)}).map(f=>{const m=H.fields.get(f),t=m.constructor.ElementCount;var w=z[m.constructor.ElementType];if(!w)throw Error("BufferType not supported in WebGL");return new u.VertexElementDescriptor(f,t,w,m.offset,h,!(!m.optional||!m.optional.glNormalized),v)})};
Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/RandomLCG ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../support/buffer/glUtil ./bufferLayouts".split(" "),function(d,l,u,z,H,v,h){function f(J){const P=r;P[0]=J.position0[0];P[1]=J.position0[1];P[2]=J.position0[2];P[3]=J.position1[0];P[4]=J.position1[1];P[5]=
J.position1[2];y[0]=5381;for(J=0;J<p.length;J++)y[0]=31*y[0]+p[J];return y[0]}function m(J){const P=r;P[0]=t(J.position0[0]);P[1]=t(J.position0[1]);P[2]=t(J.position0[2]);P[3]=t(J.position1[0]);P[4]=t(J.position1[1]);P[5]=t(J.position1[2]);y[0]=5381;for(J=0;J<p.length;J++)y[0]=31*y[0]+p[J];return y[0]}function t(J){return Math.round(1E4*J)/1E4}let w=function(){function J(){}var P=J.prototype;P.updateSettings=function(F){this.settings=F;this._edgeHashFunction=F.reducedPrecision?m:f};P.write=function(F,
U,V){var Y=this._edgeHashFunction(V);K.seed=Y;Y=K.getIntRange(0,255);const fa=K.getIntRange(0,this.settings.variants-1);var ha=K.getFloat();ha=-(1-Math.min(ha/.7,1))+Math.max(0,ha-.7)/(1-.7);ha=255*(Math.abs(ha)**1.2*(0>ha?-1:1)*.5+.5);F.position0.setVec(U,V.position0);F.position1.setVec(U,V.position1);F.componentIndex.set(U,V.componentIndex);F.variantOffset.set(U,Y);F.variantStroke.set(U,fa);F.variantExtension.set(U,ha)};P.trim=function(F,U){return F.slice(0,U)};return l._createClass(J)}();const r=
new Float32Array(6),p=new Uint32Array(r.buffer),y=new Uint32Array(1);let C=function(){function J(){this._commonWriter=new w}var P=J.prototype;P.updateSettings=function(F){this._commonWriter.updateSettings(F)};P.allocate=function(F){return h.RegularEdgeInstancesLayout.createBuffer(F)};P.write=function(F,U,V){this._commonWriter.write(F,U,V);z.add(D,V.faceNormal0,V.faceNormal1);z.normalize(D,D);F.normal.setVec(U,D)};P.trim=function(F,U){return this._commonWriter.trim(F,U)};return l._createClass(J)}();
C.Layout=h.RegularEdgeInstancesLayout;C.glLayout=v.glLayout(h.RegularEdgeInstancesLayout,1);let A=function(){function J(){this._commonWriter=new w}var P=J.prototype;P.updateSettings=function(F){this._commonWriter.updateSettings(F)};P.allocate=function(F){return h.SilhouetteEdgeInstancesLayout.createBuffer(F)};P.write=function(F,U,V){this._commonWriter.write(F,U,V);F.normalA.setVec(U,V.faceNormal0);F.normalB.setVec(U,V.faceNormal1)};P.trim=function(F,U){return this._commonWriter.trim(F,U)};return l._createClass(J)}();
A.Layout=h.SilhouetteEdgeInstancesLayout;A.glLayout=v.glLayout(h.SilhouetteEdgeInstancesLayout,1);const D=H.create(),K=new u;d.CommonBufferWriter=w;d.RegularEdgeBufferWriter=C;d.SilhouetteEdgeBufferWriter=A;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define(["exports","../../../../../core/arrayUtils","../../../../../core/mathUtils","../../../../../chunks/vec3","../../../../../chunks/vec3f64"],function(d,
l,u,z,H){function v(r,p){const y=u.acosClamped(r.cosAngle),C=m.fwd,A=m.ortho;z.direction(C,r.position1,r.position0);r=0<z.dot(z.cross(A,r.faceNormal0,r.faceNormal1),C)?-1:1;return y*r>p}function h(r){const p=r.faces.length/3,y=r.faces;r=r.neighbors;var C=0;for(var A=0;A<p;A++){var D=r[3*A+1],K=r[3*A+2],J=y[3*A],P=y[3*A+1],F=y[3*A+2];C+=-1===r[3*A]||J<P?1:0;C+=-1===D||P<F?1:0;C+=-1===K||F<J?1:0}C=new Int32Array(4*C);A=0;for(D=0;D<p;D++){K=r[3*D];J=r[3*D+1];P=r[3*D+2];F=y[3*D];const U=y[3*D+1],V=y[3*
D+2];if(-1===K||F<U)C[A++]=F,C[A++]=U,C[A++]=D,C[A++]=K;if(-1===J||U<V)C[A++]=U,C[A++]=V,C[A++]=D,C[A++]=J;if(-1===P||V<F)C[A++]=V,C[A++]=F,C[A++]=D,C[A++]=P}return C}function f(r){const p=r.faces.length/3,y=r.vertices.position;r=r.faces;const C=t.v0,A=t.v1,D=t.v2,K=new Float32Array(3*p);for(let J=0;J<p;J++){const P=r[3*J+1],F=r[3*J+2];y.getVec(r[3*J],C);y.getVec(P,A);y.getVec(F,D);z.subtract(A,A,C);z.subtract(D,D,C);z.cross(C,A,D);z.normalize(C,C);K[3*J]=C[0];K[3*J+1]=C[1];K[3*J+2]=C[2]}return K}
d.EdgeType=void 0;(function(r){r[r.SOLID=0]="SOLID";r[r.SKETCH=1]="SKETCH"})(d.EdgeType||(d.EdgeType={}));const m={edge:{position0:H.create(),position1:H.create(),faceNormal0:H.create(),faceNormal1:H.create(),componentIndex:0,cosAngle:0},ortho:H.create(),fwd:H.create()},t={v0:H.create(),v1:H.create(),v2:H.create()},w={anglePlanar:4,angleSignificantEdge:35};d.extractEdges=function(r,p,y,C=w){const A=r.vertices.position;var D=r.vertices.componentIndex,K=u.deg2rad(C.anglePlanar);C=u.deg2rad(C.angleSignificantEdge);
const J=Math.cos(C),P=Math.cos(K),F=m.edge,U=F.position0,V=F.position1,Y=F.faceNormal0,fa=F.faceNormal1,ha=f(r),I=h(r),N=I.length/4;r=p.allocate(N);C=0;const Z=y.allocate(N);let ca=0,ma=0,ka=0;const ra=l.range(0,N),X=new Float32Array(N);X.forEach((q,k,e)=>{A.getVec(I[4*k],U);A.getVec(I[4*k+1],V);e[k]=z.distance(U,V)});ra.sort((q,k)=>X[k]-X[q]);const ba=[],B=[];for(let q=0;q<N;q++){var G=ra[q];const k=X[G],e=I[4*G],c=I[4*G+1],g=I[4*G+2];G=I[4*G+3];const E=-1===G;A.getVec(e,U);A.getVec(c,V);if(E)z.set(Y,
ha[3*g],ha[3*g+1],ha[3*g+2]),z.copy(fa,Y),F.componentIndex=D.get(e),F.cosAngle=z.dot(Y,fa);else{z.set(Y,ha[3*g],ha[3*g+1],ha[3*g+2]);z.set(fa,ha[3*G],ha[3*G+1],ha[3*G+2]);F.componentIndex=D.get(e);F.cosAngle=z.dot(Y,fa);if(F.cosAngle>P)continue;-.9999>F.cosAngle&&z.copy(fa,Y)}ma+=k;ka++;E||F.cosAngle<J?(p.write(r,C++,F),ba.push(k)):v(F,K)&&(y.write(Z,ca++,F),B.push(k))}D=new Float32Array(ba.reverse());K=new Float32Array(B.reverse());return{regular:{instancesData:p.trim(r,C),lodInfo:{lengths:D}},silhouette:{instancesData:y.trim(Z,
ca),lodInfo:{lengths:K}},averageEdgeLength:ma/ka}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils":function(){define(["exports","../../../../../chunks/vec3","../../../../../chunks/sphere"],function(d,l,u){d.MAX_CANDIDATE_COUNT=1E3;d.boundsFromEdge=function(z,H,v){const h=u.create(),f=u.getCenter(h);l.scaleAndAdd(f,f,z,.5);l.scaleAndAdd(f,f,H,.5);h[3]=l.distance(f,z);l.add(f,f,v);return h};Object.defineProperty(d,
Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/promiseUtils ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/Error ../../../../../core/accessorSupport/decorators/subclass ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/lineSegment ../../../../../chunks/sphere ../../../../3d/webgl-engine/lib/Octree ../../../../3d/webgl-engine/lib/edgeRendering/edgeProcessing ./sceneLayerSnappingUtils".split(" "),function(d,
l,u,z,H,v,h,f,m,t,w,r,p,y,C,A){z=function(){function J(){this._idToComponent=new Map;this._components=new y(F=>F.bounds);this._edges=new y(F=>F.bounds);this._tmpLineSegment=r.create();this._tmpP1=w.create();this._tmpP2=w.create();this._tmpP3=w.create();this.remoteClient=null}var P=J.prototype;P.fetchCandidates=async function(F,U){await Promise.resolve();u.throwIfAborted(U);await this._ensureEdgeLocations(F,U);const V=[];this._edges.forEachNeighbor(Y=>{this._addCandidates(F,Y,V);return V.length<A.MAX_CANDIDATE_COUNT},
F.bounds);return{result:{candidates:V}}};P._ensureEdgeLocations=async function(F,U){const V=[];this._components.forEachNeighbor(Y=>{if(null==Y.info){const {id:fa,uid:ha}=Y;V.push({id:fa,uid:ha})}return!0},F.bounds);if(V.length){F=await this.remoteClient.invoke("fetchAllEdgeLocations",{components:V},U??{});for(const Y of F.components)this._setFetchEdgeLocations(Y)}};P.add=async function(F){F=new D(F.id,F.bounds);this._idToComponent.set(F.id,F);this._components.add([F]);return{result:{}}};P.remove=
async function(F){const U=this._idToComponent.get(F.id);if(U){const V=[];this._edges.forEachNeighbor(Y=>{Y.component===U&&V.push(Y);return!0},U.bounds);this._edges.remove(V);this._components.remove([U]);this._idToComponent.delete(U.id)}return{result:{}}};P._setFetchEdgeLocations=function(F){const U=this._idToComponent.get(F.id);if(null!=U&&F.uid===U.uid){var V=C.extractComponentsEdgeLocationsLayout.createView(F.locations),Y=Array(V.count),fa=w.create(),ha=w.create();for(let ca=0;ca<V.count;ca++){V.position0.getVec(ca,
fa);V.position1.getVec(ca,ha);var I=A.boundsFromEdge(fa,ha,F.origin);I=new K(U,ca,I);Y[ca]=I}this._edges.add(Y);var {objectIds:N,origin:Z}=F;U.info={locations:V,objectIds:N,origin:Z}}};P._addCandidates=function(F,U,V){var {info:Y}=U.component;const {origin:fa,objectIds:ha}=Y,I=Y.locations;Y=I.position0.getVec(U.index,this._tmpP1);const N=I.position1.getVec(U.index,this._tmpP2);t.add(Y,Y,fa);t.add(N,N,fa);U=ha[I.componentIndex.get(U.index)];this._addEdgeCandidate(F,U,Y,N,V);this._addVertexCandidate(F,
U,Y,V);this._addVertexCandidate(F,U,N,V)};P._addEdgeCandidate=function(F,U,V,Y,fa){if(F.returnEdge){var ha=p.getCenter(F.bounds),I=r.fromPoints(V,Y,this._tmpLineSegment);I=r.projectPoint(I,ha,this._tmpP3);p.containsPoint(F.bounds,I)&&fa.push({type:"edge",objectId:U,target:w.clone(I),distance:t.distance(ha,I),start:w.clone(V),end:w.clone(Y)})}};P._addVertexCandidate=function(F,U,V,Y){if(F.returnVertex){var fa=p.getCenter(F.bounds);p.containsPoint(F.bounds,V)&&Y.push({type:"vertex",objectId:U,target:w.clone(V),
distance:t.distance(fa,V)})}};return d._createClass(J)}();l=z=l.__decorate([m.subclass("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],z);let D=d._createClass(function U(P,F){this.id=P;this.bounds=F;this.info=null;this.uid=++U.uid});D.uid=0;let K=d._createClass(function(P,F,U){this.component=P;this.index=F;this.bounds=U});return l});