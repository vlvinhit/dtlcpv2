// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../chunks/vec3f64","../../../layers/graphics/dehydratedFeatures","../../../support/elevationInfoUtils"],function(d,f,g,h){function l(a,b,c){if(null==a)return null;if(null==b)return f.fromValues(a.x,a.y,a.z??0);if("2d"===b.type)return f.fromValues(a.x,a.y,0);({elevationInfo:c}=c);b=h.getConvertedElevation(b,a,c,h.absoluteHeightElevationInfo)??0;return f.fromValues(a.x,a.y,b)}const m=g.makeDehydratedPoint(0,0,0,null);d.anyMapPointToSnappingPoint=function(a,b,c){return null==
a?null:l(c.coordinateHelper.vectorToDehydratedPoint(a,m),b,c)};d.asSnappingPoint=function(a){return a};d.cloneSnappingPoint=function(a){return f.clone(a)};d.createSnappingPoint=function(a,b,c){return f.fromValues(a,b,c)};d.pointToSnappingPoint=l;d.snappingPointToDehydratedPoint=function(a,b){return g.makeDehydratedPoint(a[0],a[1],a[2],b)};d.snappingPointToSnappingOutput=function(a,b,{z:c,m:e,spatialReference:k,elevationInfo:n}){if(null==c&&null==e)return a=g.makeDehydratedPoint(a[0],a[1],void 0,k),
null!=e&&(a.m=e,a.hasM=!0),a;if(null==b||"2d"===b.type)return a=g.makeDehydratedPoint(a[0],a[1],c,k),null!=e&&(a.m=e,a.hasM=!0),a;b=h.getConvertedElevationFromVector(b,a,k,h.absoluteHeightElevationInfo,n)??0;a=g.makeDehydratedPoint(a[0],a[1],b,k);null!=e&&(a.m=e,a.hasM=!0);return a};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});