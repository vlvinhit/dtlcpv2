// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../symbols ../../../layers/support/LabelClass ../../../layers/support/LabelExpressionInfo ../../../renderers/support/UniqueValueInfo ../../support/clusterUtils ../../../symbols/TextSymbol".split(" "),function(d,q,h,k,l,m,n){function g(a){return`\n  $feature["${a}"];\n  var value = $feature["${a}"];\n  var num = Count(Text(Round(value)));\n  var label = When(\n    num < 4, Text(value, "#.#"),\n    num == 4, Text(value / Pow(10, 3), "#.0k"),\n    num <= 6, Text(value / Pow(10, 3), "#k"),\n    num == 7, Text(value / Pow(10, 6), "#.0m"),\n    num > 7, Text(value / Pow(10, 6), "#m"),\n    Text(value, "#,###")\n  );\n  return label;\n  `}
d.createLabelClass=function(a,c=!1){const b=new n({haloColor:"#373837",haloSize:"1px",color:"#f0f0f0",font:{family:"Noto Sans",size:"12px",weight:"bold"}});return new h({symbol:b,deconflictionStrategy:"none",labelPlacement:c?"always-horizontal":"center-center",labelExpressionInfo:new k({expression:a})})};d.createLabelExpressionForAggregateField=function(a,c,b,p){const e=b.name;return"mode"===b.statisticType?(a="getFieldDomain"in a?a.getFieldDomain(b.onStatisticField):null,b=null,"coded-value"===a?.type?
b=a.codedValues.map(f=>new l({value:f.code,label:f.name})):"unique-value"===c?.type&&"string"===typeof c.field&&c.field.toLowerCase()===e.toLowerCase()&&(b=(c.uniqueValueInfos??[]).map(f=>f.clone())),b?m.getPredominantTypeExpression(b,e,p):`Text($feature["${e}"])`):g(e)};d.createNumericLabelExpression=g;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});