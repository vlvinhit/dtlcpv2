// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),function(m,c,n,d,e,b,r,t,u,v,w,x,y,z,p){var k;
b=k=function(q){function l(a){a=q.call(this,a)||this;a.attributes=null;a.backgroundColor=new n([0,0,0,0]);a.dotBlendingEnabled=!0;a.dotShape="square";a.dotSize=1;a.legendOptions=null;a.outline=new p;a.dotValue=null;a.referenceScale=null;a.seed=1;a.type="dot-density";return a}m._inherits(l,q);var f=l.prototype;f.calculateDotValue=function(a){if(null==this.referenceScale)return this.dotValue;a=a/this.referenceScale*this.dotValue;return 1>a?1:a};f.getSymbol=function(){return new z({outline:this.outline})};
f.getSymbolAsync=async function(){return this.getSymbol()};f.getSymbols=function(){return[this.getSymbol()]};f.getAttributeHash=function(){return this.attributes?.reduce((a,h)=>a+h.getAttributeHash(),"")??""};f.getMeshHash=function(){return JSON.stringify(this.outline)};f.clone=function(){return new k({attributes:d.clone(this.attributes),backgroundColor:d.clone(this.backgroundColor),dotBlendingEnabled:d.clone(this.dotBlendingEnabled),dotShape:d.clone(this.dotShape),dotSize:d.clone(this.dotSize),dotValue:d.clone(this.dotValue),
legendOptions:d.clone(this.legendOptions),outline:d.clone(this.outline),referenceScale:d.clone(this.referenceScale),visualVariables:d.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};f.getControllerHash=function(){const a=this.attributes?.map(g=>g.field||g.valueExpression||""),h=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${a}-${h}`};f.collectRequiredFields=async function(a,h){await this.collectVVRequiredFields(a,h);for(const g of this.attributes??
[])g.valueExpression&&await u.collectArcadeFieldNames(a,h,g.valueExpression),g.field&&a.add(g.field)};return m._createClass(l)}(w.VisualVariablesMixin(v));c.__decorate([e.property({type:[x],json:{write:!0}})],b.prototype,"attributes",void 0);c.__decorate([e.property({type:n,json:{write:!0}})],b.prototype,"backgroundColor",void 0);c.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"dotBlendingEnabled",void 0);c.__decorate([e.property({type:String,json:{write:!1}})],b.prototype,"dotShape",
void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"dotSize",void 0);c.__decorate([e.property({type:y,json:{write:!0}})],b.prototype,"legendOptions",void 0);c.__decorate([e.property({type:p,json:{default:null,write:!0}})],b.prototype,"outline",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"dotValue",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"referenceScale",void 0);c.__decorate([e.property({type:Number,json:{write:!0}})],
b.prototype,"seed",void 0);c.__decorate([r.enumeration({dotDensity:"dot-density"})],b.prototype,"type",void 0);return b=k=c.__decorate([t.subclass("esri.renderers.DotDensityRenderer")],b)});