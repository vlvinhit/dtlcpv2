// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../geometry ../../../geometry/GeometryCursor ../../../geometry/geometryCursorCollectUtils ../CIMEffects ../CurveHelper ../enums ../../../geometry/SpatialReference".split(" "),function(l,m,e,f,p,q,n,r,t){e=function(){function c(){}c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.execute=function(b,a,d,g,h,k){return new u(b,a,d,g,h,k)};return m._createClass(c)}();e.instance=null;let u=function(){function c(b,
a,d,g,h,k){this._inputGeometries=b;this._tileKey=g;this._geometryEngine=h;this._curveHelper=new n.CurveHelper;this._size=(void 0!==a.size?a.size:1)*d;this._maxInflateSize=k*d;this._offsetFlattenError=n.PIXEL_TOLERANCE*d}c.prototype.next=function(){for(var b;b=this._inputGeometries.next();){if(0===this._size)return b;if("esriGeometryEnvelope"===b.geometryType)if(0<this._size){var a=f.GeometryCursor.createEmptyOptimizedCIM(b.geometryType),d=p.collectMultipath(b)[0];if(d=this._curveHelper.offset(d,this._size,
r.GeometricEffectOffsetMethod.Rounded,4,this._offsetFlattenError))return a.pushPath(d),a}else if(0>this._size&&(a=b.asJSON(),0<Math.min(a.xmax-a.xmin,a.ymax-a.ymin)+2*this._size))return f.GeometryCursor.fromJSONCIM({xmin:a.xmin-this._size,xmax:a.xmax+this._size,ymin:a.ymin-this._size,ymax:a.ymax+this._size});a=this._geometryEngine;if(null==a)break;if(b=this._tileKey?q.clipCursorToTileExtent(b,this._maxInflateSize):b)return(b=a.buffer(t.WebMercator,b.asJSON(),this._size,1))?f.GeometryCursor.fromJSONCIM(b):
null}return null};return m._createClass(c)}();l.EffectBuffer=e;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});