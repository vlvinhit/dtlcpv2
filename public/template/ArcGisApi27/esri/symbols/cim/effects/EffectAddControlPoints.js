// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../../chunks/_rollupPluginBabelHelpers"],function(v,w){let x=function(){function b(){}b.local=function(){null===b.instance&&(b.instance=new b);return b.instance};b.prototype.execute=function(k,a,c,l,p){return new B(k,a,c)};return w._createClass(b)}();x.instance=null;let B=function(){function b(a,c,l){this._inputGeometries=a;this._angleTolerance=void 0!==c.angleTolerance?c.angleTolerance:120;this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/180)*Math.PI)}var k=b.prototype;
k.next=function(){let a=this._inputGeometries.next();for(;a;){if("esriGeometryPolygon"===a.geometryType)this._isClosed=!0;else if("esriGeometryPolyline"===a.geometryType)this._isClosed=!1;else if("esriGeometryEnvelope"===a.geometryType){if(this._maxCosAngle)return a;this._isClosed=!0}else{a=this._inputGeometries.next();continue}for(;a.nextPath();)this._processPath(a);a.reset();return a}return null};k._processPath=function(a){if(a.nextPoint()){const c=a.x,l=a.y;let p=c,y=l,q=a.numPoints,r=0,t=0,e=
0,z=0,A=0,u=0;this._isClosed&&++q;for(let d=1;a.nextPoint()||d<q;++d){let m,n;this._isClosed&&d===q-1?(m=c,n=l):(m=a.x,n=a.y);const f=m-p,g=n-y,h=Math.sqrt(f*f+g*g);1<d&&0<h&&0<e&&(r*f+t*g)/h/e<=this._maxCosAngle&&a.setControlPointAt(d-1);1===d&&(z=f,A=g,u=h);0<h&&(p=m,y=n,r=f,t=g,e=h)}this._isClosed&&0<e&&0<u&&(r*z+t*A)/u/e<=this._maxCosAngle&&a.setControlPointAt(0)}};return w._createClass(b)}();v.EffectAddControlPoints=x;Object.defineProperty(v,Symbol.toStringTag,{value:"Module"})});