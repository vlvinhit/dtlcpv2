// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","./index","./dom","./action-group","./action-menu"],function(k,p,r,l,t){const q=b=>b.reduce((c,a)=>c+a,0)/b.length,u=({width:b,actionWidth:c,layout:a,height:d,actionHeight:f,groupCount:e})=>Math.floor((("horizontal"===a?b:d)-2*e)/("horizontal"===a?c:f)),m=b=>Array.from(b.querySelectorAll("calcite-action")).filter(c=>c.closest("calcite-action-menu")?c.slot===t.SLOTS.trigger:!0),v=({tooltip:b,referenceElement:c,expanded:a,ref:d})=>{b&&(b.referenceElement=!a&&c?c:null);d&&d(c);return c};
k.ExpandToggle=({expanded:b,intlExpand:c,intlCollapse:a,toggle:d,el:f,position:e,tooltip:h,ref:g,scale:n})=>{const w="rtl"===r.getElementDir(f);c=b?a:c;a=["chevrons-left","chevrons-right"];w&&a.reverse();f=(e="end"===(e||f.closest("calcite-shell-panel")?.position||"start"))?a[1]:a[0];e=e?a[0]:a[1];return p.h("calcite-action",{icon:b?f:e,onClick:d,scale:n,text:c,textEnabled:b,ref:x=>v({tooltip:h,referenceElement:x,expanded:b,ref:g})})};k.geActionDimensions=b=>{const c=b?.length;return{actionWidth:c?
q(b.map(a=>a.clientWidth||0)):0,actionHeight:c?q(b.map(a=>a.clientHeight||0)):0}};k.getOverflowCount=({layout:b,actionCount:c,actionWidth:a,width:d,actionHeight:f,height:e,groupCount:h})=>Math.max(c-u({width:d,actionWidth:a,layout:b,height:e,actionHeight:f,groupCount:h}),0);k.overflowActions=({actionGroups:b,expanded:c,overflowCount:a})=>{let d=a;b.reverse().forEach(f=>{let e=0;const h=m(f).reverse();h.forEach(g=>{g.slot===l.SLOTS.menuActions&&(g.removeAttribute("slot"),g.textEnabled=c)});0<d&&h.some(g=>
{1<h.filter(n=>!n.slot).length&&2<h.length&&!g.closest("calcite-action-menu")&&(g.textEnabled=!0,g.setAttribute("slot",l.SLOTS.menuActions),e++,1<e&&d--);return 1>d});p.forceUpdate(f)})};k.overflowActionsDebounceInMs=150;k.queryActions=m;k.toggleChildActionText=function({parent:b,expanded:c}){m(b).filter(a=>a.slot!==l.SLOTS.menuActions).forEach(a=>a.textEnabled=c);b.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(a=>a.expanded=c)}});