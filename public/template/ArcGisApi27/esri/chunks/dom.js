// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","./guid"],function(l,O){function x(f,e){function c(a){if(a){var b;(b=a.closest(e))||(a=a.getRootNode().host||null,b=c(a));a=b}else a=null;return a}return c(f)}function P(f,e){return C(f,e)}function C(f,e){if(f){var c=e(f);if(void 0!==c)return c;({parentNode:f}=f);return C(f instanceof ShadowRoot?f.host:f,e)}}async function D(f){if(f)return"function"===typeof f?.setFocus?f.setFocus():f.focus()}function E(f,e){return f?Array.from(f.children||[]).filter(c=>c?.matches(e)):[]}function Q(f,
e,c){e=":not([slot])"===e?E(f,":not([slot])"):Array.from(f.querySelectorAll(e));e=c&&!1===c.direct?e:e.filter(b=>b.parentElement===f);e=c?.matches?e.filter(b=>b?.matches(c.matches)):e;const a=c?.selector;return a?e.map(b=>Array.from(b.querySelectorAll(a))).reduce((b,d)=>[...b,...d],[]).filter(b=>!!b):e}function R(f,e,c){e=":not([slot])"===e?E(f,":not([slot])")[0]||null:f.querySelector(e);e=c&&!1===c.direct?e:e?.parentElement===f?e:null;e=c?.matches?e?.matches(c.matches)?e:null:e;return(f=c?.selector)?
e?.querySelector(f):e}function F(f){return f.target.assignedElements({flatten:!0})}const y={autoMode:"calcite-mode-auto",darkMode:"calcite-mode-dark",lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};
var G='input:not([inert]) select:not([inert]) textarea:not([inert]) a[href]:not([inert]) button:not([inert]) [tabindex]:not(slot):not([inert]) audio[controls]:not([inert]) video[controls]:not([inert]) [contenteditable]:not([contenteditable\x3d"false"]):not([inert]) details\x3esummary:first-of-type:not([inert]) details:not([inert])'.split(" "),t=G.join(","),H="undefined"===typeof Element,p=H?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,
u=!H&&Element.prototype.getRootNode?function(f){var e;return null===f||void 0===f?void 0:null===(e=f.getRootNode)||void 0===e?void 0:e.call(f)}:function(f){return null===f||void 0===f?void 0:f.ownerDocument},v=function a(e,c){var b;void 0===c&&(c=!0);var d=null===e||void 0===e?void 0:null===(b=e.getAttribute)||void 0===b?void 0:b.call(e,"inert");return""===d||"true"===d||c&&e&&a(e.parentNode)},I=function(e,c,a){if(v(e))return[];var b=Array.prototype.slice.apply(e.querySelectorAll(t));c&&p.call(e,
t)&&b.unshift(e);return b=b.filter(a)},J=function d(c,a,b){for(var g=[],k=Array.from(c);k.length;){var h=k.shift();if(!v(h,!1))if("SLOT"===h.tagName){var m=h.assignedElements();m=d(m.length?m:h.children,!0,b);b.flatten?g.push.apply(g,m):g.push({scopeParent:h,candidates:m})}else{p.call(h,t)&&b.filter(h)&&(a||!c.includes(h))&&g.push(h);m=h.shadowRoot||"function"===typeof b.getShadowRoot&&b.getShadowRoot(h);var n=!v(m,!1)&&(!b.shadowRootFilter||b.shadowRootFilter(h));m&&n?(m=d(!0===m?h.children:m.children,
!0,b),b.flatten?g.push.apply(g,m):g.push({scopeParent:h,candidates:m})):k.unshift.apply(k,h.children)}}return g},K=function(c,a){if(0>c.tabIndex){if(!(a=a||/^(AUDIO|VIDEO|DETAILS)$/.test(c.tagName))){var b;a=null===c||void 0===c?void 0:null===(b=c.getAttribute)||void 0===b?void 0:b.call(c,"contenteditable");a=""===a||"true"===a}if(a&&isNaN(parseInt(c.getAttribute("tabindex"),10)))return 0}return c.tabIndex},S=function(c,a){return c.tabIndex===a.tabIndex?c.documentOrder-a.documentOrder:c.tabIndex-
a.tabIndex},T=function(c){return"DETAILS"===c.tagName&&Array.prototype.slice.apply(c.children).some(function(a){return"SUMMARY"===a.tagName})},U=function(c,a){for(var b=0;b<c.length;b++)if(c[b].checked&&c[b].form===a)return c[b]},V=function(c){if(!c.name)return!0;var a=c.form||u(c),b=function(g){return a.querySelectorAll('input[type\x3d"radio"][name\x3d"'+g+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)var d=b(window.CSS.escape(c.name));
else try{d=b(c.name)}catch(g){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",g.message),!1}b=U(d,c.form);return!b||b===c},L=function(c){c=c.getBoundingClientRect();var a=c.height;return 0===c.width&&0===a},W=function(c,a){var b=a.displayCheck;a=a.getShadowRoot;if("hidden"===getComputedStyle(c).visibility)return!0;var d=p.call(c,"details\x3esummary:first-of-type")?c.parentElement:c;if(p.call(d,
"details:not([open]) *"))return!0;if(!b||"full"===b||"legacy-full"===b){if("function"===typeof a){for(d=c;c;){var g=c.parentElement,k=u(c);if(g&&!g.shadowRoot&&!0===a(g))return L(c);c=c.assignedSlot?c.assignedSlot:g||k===c.ownerDocument?g:k.host}c=d}a=c;var h;d=a&&u(a);g=null===(h=d)||void 0===h?void 0:h.host;h=!1;if(d&&d!==a){var m,n,q;for(h=!!(null!==(m=g)&&void 0!==m&&null!==(n=m.ownerDocument)&&void 0!==n&&n.contains(g)||null!==a&&void 0!==a&&null!==(q=a.ownerDocument)&&void 0!==q&&q.contains(a));!h&&
g;){var r,z,A;d=u(g);g=null===(r=d)||void 0===r?void 0:r.host;h=!(null===(z=g)||void 0===z||null===(A=z.ownerDocument)||void 0===A||!A.contains(g))}}if(h)return!c.getClientRects().length;if("legacy-full"!==b)return!0}else if("non-zero-area"===b)return L(c);return!1},w=function(c,a){var b;(b=a.disabled||v(a))||(b="INPUT"===a.tagName&&"hidden"===a.type);if(!(c=b||W(a,c)||T(a)))a:{if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(a.tagName))for(c=a.parentElement;c;){if("FIELDSET"===c.tagName&&c.disabled){for(b=
0;b<c.children.length;b++){var d=c.children.item(b);if("LEGEND"===d.tagName){c=p.call(c,"fieldset[disabled] *")?!0:!d.contains(a);break a}}c=!0;break a}c=c.parentElement}c=!1}return c?!1:!0},B=function(c,a){return"INPUT"===a.tagName&&"radio"===a.type&&!V(a)||0>K(a)||!w(c,a)?!1:!0},X=function(c){c=parseInt(c.getAttribute("tabindex"),10);return isNaN(c)||0<=c?!0:!1},Y=function b(a){var d=[],g=[];a.forEach(function(k,h){var m=!!k.scopeParent,n=m?k.scopeParent:k,q=K(n,m),r=m?b(k.candidates):n;0===q?m?
d.push.apply(d,r):d.push(n):g.push({documentOrder:h,tabIndex:q,item:k,isScope:m,content:r})});return g.sort(S).reduce(function(k,h){h.isScope?k.push.apply(k,h.content):k.push(h.content);return k},[]).concat(d)},M=function(a,b){b=b||{};a=b.getShadowRoot?J([a],b.includeContainer,{filter:B.bind(null,b),flatten:!1,getShadowRoot:b.getShadowRoot,shadowRootFilter:X}):I(a,b.includeContainer,B.bind(null,b));return Y(a)},Z=G.concat("iframe").join(",");const N={getShadowRoot:!0};l.CSS_UTILITY=y;l.autoMode="calcite-mode-auto";
l.closestElementCrossShadowBoundary=x;l.containsCrossShadowBoundary=function(a,b){return!!P(b,d=>d===a?!0:void 0)};l.darkMode="calcite-mode-dark";l.ensureId=function(a){return a?a.id=a.id||`${a.tagName.toLowerCase()}-${O.guid()}`:""};l.filterDirectChildren=function(a,b){return Array.from(a.children).filter(d=>d.matches(b))};l.focusElement=D;l.focusElementInGroup=(a,b,d,g=!0)=>{b=a.indexOf(b);const k=b===a.length-1;g&&(d="previous"===d&&0===b?"last":"next"===d&&k?"first":d);a="previous"===d?a[b-1]||
a[g?a.length-1:b]:"next"===d?a[b+1]||a[g?0:b]:"last"===d?a[a.length-1]:a[0];D(a);return a};l.focusFirstTabbable=function(a){a&&(M(a,N)[0]||a).focus()};l.focusable=function(a,b){b=b||{};return b.getShadowRoot?J([a],b.includeContainer,{filter:w.bind(null,b),flatten:!0,getShadowRoot:b.getShadowRoot}):I(a,b.includeContainer,w.bind(null,b))};l.getElementDir=function(a){return(a=x(a,"[dir]"))?a.getAttribute("dir"):"ltr"};l.getElementProp=function(a,b,d){return(a=a.closest(`[${b}]`))?a.getAttribute(b):d};
l.getModeName=function(a){return x(a,`.${y.darkMode}, .${y.lightMode}`)?.classList.contains("calcite-mode-dark")?"dark":"light"};l.getShadowRootNode=function(a){a=a.getRootNode();return"host"in a?a:null};l.getSlotted=function(a,b,d){b&&!Array.isArray(b)&&"string"!==typeof b&&(d=b,b=null);b=b?Array.isArray(b)?b.map(g=>`[slot="${g}"]`).join(","):`[slot="${b}"]`:":not([slot])";return d?.all?Q(a,b,d):R(a,b,d)};l.intersects=function(a,b){return!(b.left>a.right||b.right<a.left||b.top>a.bottom||b.bottom<
a.top)};l.isFocusable=function(a,b){b=b||{};if(!a)throw Error("No node provided");return!1===p.call(a,Z)?!1:w(b,a)};l.isPrimaryPointerButton=function(a){return!(!a.isPrimary||0!==a.button)};l.isTabbable=function(a,b){b=b||{};if(!a)throw Error("No node provided");return!1===p.call(a,t)?!1:B(b,a)};l.nodeListToArray=function(a){return Array.isArray(a)?a:Array.from(a)};l.queryElementRoots=function(a,{selector:b,id:d}){function g(k){if(!k)return null;k.assignedSlot&&(k=k.assignedSlot);var h=k.getRootNode();
k=d?"getElementById"in h?h.getElementById(d):null:b?h.querySelector(b):null;h=h.host||null;return k?k:h?g(h):null}return g(a)};l.setRequestedIcon=function(a,b,d){if("string"===typeof b&&""!==b)return b;if(""===b)return a[d]};l.slotChangeGetAssignedElements=F;l.slotChangeHasAssignedElement=function(a){return!!F(a).length};l.tabbable=M;l.tabbableOptions=N;l.toAriaBoolean=function(a){return(!!a).toString()}});