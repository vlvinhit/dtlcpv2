// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","./index"],function(e,h){function k(a){a.propertyName===this.openTransitionProp&&a.target===this.transitionEl&&(this.open?this.onBeforeOpen():this.onBeforeClose())}function l(a){a.propertyName===this.openTransitionProp&&a.target===this.transitionEl&&(this.open?this.onOpen():this.onClose())}function g(a){if(d.has(a)){var [b,c,f]=d.get(a);b.removeEventListener("transitionstart",c);b.removeEventListener("transitionend",f);d.delete(a)}}const d=new WeakMap;e.connectOpenCloseComponent=
function(a){g(a);if(a.transitionEl){const b=k.bind(a),c=l.bind(a);d.set(a,[a.transitionEl,b,c]);a.transitionEl.addEventListener("transitionstart",b);a.transitionEl.addEventListener("transitionend",c)}};e.disconnectOpenCloseComponent=g;e.onToggleOpenCloseComponent=function(a,b=!1){h.readTask(()=>{if(a.transitionEl){const c=getComputedStyle(a.transitionEl).transition.split(" "),f=c.findIndex(m=>m===a.openTransitionProp);"0s"===c[f+1]?((b?a[a.transitionProp]:a.open)?a.onBeforeOpen():a.onBeforeClose(),
(b?a[a.transitionProp]:a.open)?a.onOpen():a.onClose()):(a.transitionEl.addEventListener("transitionstart",()=>{(b?a[a.transitionProp]:a.open)?a.onBeforeOpen():a.onBeforeClose()},{once:!0}),a.transitionEl.addEventListener("transitionend",()=>{(b?a[a.transitionProp]:a.open)?a.onOpen():a.onClose()},{once:!0}))}})}});