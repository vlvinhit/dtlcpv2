// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/mixins/ArcGISCachedService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/TileInfo ../support/TileInfoTilemapCache ../support/TilemapCache ../../geometry/SpatialReference".split(" "),function(b,
a,x,m,q,g,p,k,n,d,h,c,e,v){b.ArcGISCachedService=t=>{t=function(y){function D(){var G=y.apply(this,arguments)||this;G.copyright=null;G.minScale=0;G.maxScale=0;G.spatialReference=null;G.tileInfo=null;G.tilemapCache=null;return G}a._inherits(D,y);var C=D.prototype;C.destroy=function(){this.tilemapCache?.destroy?.()};C.readMinScale=function(G,K){return null!=K.minLOD&&null!=K.maxLOD?G:0};C.readMaxScale=function(G,K){return null!=K.minLOD&&null!=K.maxLOD?G:0};C.readTilemapCache=function(G,K,F){G=K.capabilities?.includes("Tilemap");
let {minLOD:E,maxLOD:z,minScale:u,maxScale:H}=K;if(null==E&&null==z&&0!==u&&0!==H){u=u?Math.round(1E4*u)/1E4:Math.round(1E4*K.tileInfo.lods[0].scale)/1E4;H=H?Math.round(1E4*H)/1E4:Math.round(1E4*K.tileInfo.lods[K.tileInfo.lods.length-1].scale)/1E4;for(var B of K.tileInfo.lods){const L=Math.round(1E4*B.scale)/1E4;E=L>=u?B.level:E;z=L>=H?B.level:z}}return G?new e.TilemapCache({layer:this,minLOD:E,maxLOD:z}):K.tileInfo?(B=new h,B.read(K.tileInfo,F),new c(B,E,z)):null};a._createClass(D,[{key:"supportsBlankTile",
get:function(){return 10.2<=this.version}}]);return D}(t);x.__decorate([q.property({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0);x.__decorate([q.property()],t.prototype,"minScale",void 0);x.__decorate([n.reader("service","minScale")],t.prototype,"readMinScale",null);x.__decorate([q.property()],t.prototype,"maxScale",void 0);x.__decorate([n.reader("service","maxScale")],t.prototype,"readMaxScale",null);x.__decorate([q.property({type:v})],t.prototype,"spatialReference",void 0);
x.__decorate([q.property({readOnly:!0})],t.prototype,"supportsBlankTile",null);x.__decorate([q.property({type:h})],t.prototype,"tileInfo",void 0);x.__decorate([q.property()],t.prototype,"tilemapCache",void 0);x.__decorate([n.reader("service","tilemapCache",["capabilities","tileInfo"])],t.prototype,"readTilemapCache",null);x.__decorate([q.property()],t.prototype,"version",void 0);return t=x.__decorate([d.subclass("esri.layers.mixins.ArcGISCachedService")],t)};Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/TileInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/Point ../../geometry/SpatialReference ../../geometry/support/aaBoundingRect ../../geometry/support/spatialReferenceUtils ../../geometry/support/webMercatorUtils ./LOD ./TileKey".split(" "),
function(b,a,x,m,q,g,p,k,n,d,h,c,e,v,t,y,D,C,G){var K;x=new x.JSONMap({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});m=K=function(F){function E(u){u=F.call(this,u)||this;u.dpi=96;u.format=null;u.origin=null;u.size=null;u.spatialReference=null;return u}b._inherits(E,F);E.create=function(u={}){const {resolutionFactor:H=
1,scales:B,size:L=256,spatialReference:P=v.WebMercator,numLODs:M=24}=u;if(!y.isValid(P)){u=[];if(B)for(var N=0;N<B.length;N++){var R=B[N];u.push(new C({level:N,scale:R,resolution:R}))}else for(N=5E-4,R=M-1;0<=R;R--)u.unshift(new C({level:R,scale:N,resolution:N})),N*=2;return new K({dpi:96,lods:u,origin:new e(0,0,P),size:[L,L],spatialReference:P})}N=y.getInfo(P);u=u.origin?new e({x:u.origin.x,y:u.origin.y,spatialReference:P}):N?new e({x:N.origin[0],y:N.origin[1],spatialReference:P}):new e({x:0,y:0,
spatialReference:P});N=1/(39.37*q.getMetersPerUnitForSR(P)*96);R=[];if(B)for(var T=0;T<B.length;T++){var V=B[T];R.push(new C({level:T,scale:V,resolution:V*N}))}else{var Y=y.isGeographic(P)?512/L*5.916575275917094E8:256/L*5.91657527591555E8;T=Math.ceil(M/H);R.push(new C({level:0,scale:Y,resolution:Y*N}));for(V=1;V<T;V++)Y/=2**H,R.push(new C({level:V,scale:Y,resolution:Y*N}))}return new K({dpi:96,lods:R,origin:u,size:[L,L],spatialReference:P})};var z=E.prototype;z.readOrigin=function(u,H){return e.fromJSON({spatialReference:H.spatialReference,
...u})};z.readSize=function(u,H){return[H.cols,H.rows]};z.writeSize=function(u,H){H.cols=u[0];H.rows=u[1]};z.zoomToScale=function(u){const H=this.scales;if(0>=u)return H[0];if(u>=H.length-1)return H[H.length-1];const B=Math.floor(u);return H[B]/(H[B]/H[B+1])**(u-B)};z.scaleToZoom=function(u){const H=this.scales,B=H.length-1;let L=0;for(;L<B;L++){const P=H[L],M=H[L+1];if(P<=u)break;if(M===u)return L+1;if(P>u&&M<u)return L+Math.log(P/u)/Math.log(P/M)}return L};z.snapScale=function(u,H=.95){u=this.scaleToZoom(u);
return u%Math.floor(u)>=H?this.zoomToScale(Math.ceil(u)):this.zoomToScale(Math.floor(u))};z.tileAt=function(u,H,B,L){var P=this.lodAt(u);if(!P)return null;let M;if("number"===typeof H)M=H,H=B;else{if(y.equals(H.spatialReference,this.spatialReference))M=H.x,H=H.y;else{L=D.project(H,this.spatialReference);if(null==L)return null;M=L.x;H=L.y}L=B}B=P.resolution*this.size[0];P=P.resolution*this.size[1];L||(L=new G.TileKey(null,0,0,0,t.create()));L.level=u;L.row=Math.floor((this.origin.y-H)/P+.001);L.col=
Math.floor((M-this.origin.x)/B+.001);this.updateTileInfo(L);return L};z.updateTileInfo=function(u,H=K.ExtrapolateOptions.NONE){var B=this.lodAt(u.level);B||H!==K.ExtrapolateOptions.POWER_OF_TWO||(H=this.lods[this.lods.length-1],H.level<u.level&&(B=H));if(B){var L=u.level-B.level;H=B.resolution*this.size[0]/2**L;B=B.resolution*this.size[1]/2**L;u.id=`${u.level}/${u.row}/${u.col}`;u.extent||(u.extent=t.create());u.extent[0]=this.origin.x+u.col*H;u.extent[1]=this.origin.y-(u.row+1)*B;u.extent[2]=u.extent[0]+
H;u.extent[3]=u.extent[1]+B}};z.upsampleTile=function(u){const H=this._upsampleLevels[u.level];if(!H||-1===H.parentLevel)return!1;u.level=H.parentLevel;u.row=Math.floor(u.row/H.factor+.001);u.col=Math.floor(u.col/H.factor+.001);this.updateTileInfo(u);return!0};z.getTileBounds=function(u,H){var B=this.lodAt(H.level);if(null==B)return null;var {resolution:L}=B;B=L*this.size[0];L*=this.size[1];u[0]=this.origin.x+H.col*B;u[1]=this.origin.y-(H.row+1)*L;u[2]=u[0]+B;u[3]=u[1]+L;return u};z.lodAt=function(u){return this._levelToLOD?.[u]??
null};z.clone=function(){return K.fromJSON(this.write({}))};z.getOrCreateCompatible=function(u,H){if(256===this.size[0]&&256===this.size[1])return 256===u?this:null;const B=[],L=this.lods.length;for(let P=0;P<L;P++){const M=this.lods[P];B.push(new C({level:M.level,scale:M.scale,resolution:M.resolution*H}))}return new K({size:[u,u],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:B})};z._initializeUpsampleLevels=
function(){const u=this.lods;this._upsampleLevels=[];let H=null;for(let B=0;B<u.length;B++){const L=u[B];this._upsampleLevels[L.level]={parentLevel:H?H.level:-1,factor:H?H.resolution/L.resolution:0};H=L}};b._createClass(E,[{key:"isWrappable",get:function(){const {spatialReference:u,origin:H}=this;if(u&&H){const B=y.getInfo(u);return u.isWrappable&&!!B&&Math.abs(B.origin[0]-H.x)<=B.dx}return!1}},{key:"lods",set:function(u){const H=[],B=this._levelToLOD={};u&&u.forEach(L=>{H.push(L.scale);B[L.level]=
L});this._set("scales",H);this._set("lods",u);this._initializeUpsampleLevels()}}]);return E}(m.JSONSupport);a.__decorate([g.property({type:Number,json:{write:!0}})],m.prototype,"compressionQuality",void 0);a.__decorate([g.property({type:Number,json:{write:!0}})],m.prototype,"dpi",void 0);a.__decorate([g.property({type:String,json:{read:x.read,write:x.write,origins:{"web-scene":{read:!1,write:!1}}}})],m.prototype,"format",void 0);a.__decorate([g.property({readOnly:!0})],m.prototype,"isWrappable",null);
a.__decorate([g.property({type:e,json:{write:!0}})],m.prototype,"origin",void 0);a.__decorate([d.reader("origin")],m.prototype,"readOrigin",null);a.__decorate([g.property({type:[C],value:null,json:{write:!0}})],m.prototype,"lods",null);a.__decorate([g.property({readOnly:!0})],m.prototype,"scales",void 0);a.__decorate([g.property({cast:F=>Array.isArray(F)?F:"number"===typeof F?[F,F]:[256,256]})],m.prototype,"size",void 0);a.__decorate([d.reader("size",["rows","cols"])],m.prototype,"readSize",null);
a.__decorate([c.writer("size",{cols:{type:p.Integer},rows:{type:p.Integer}})],m.prototype,"writeSize",null);a.__decorate([g.property({type:v,json:{write:!0}})],m.prototype,"spatialReference",void 0);m=K=a.__decorate([h.subclass("esri.layers.support.TileInfo")],m);(function(F){F=F.ExtrapolateOptions||(F.ExtrapolateOptions={});F[F.NONE=0]="NONE";F[F.POWER_OF_TWO=1]="POWER_OF_TWO"})(m||(m={}));return m})},"esri/layers/support/LOD":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(b,a,x,m,q,g,p,k){var n;x=n=function(d){function h(c){c=d.call(this,c)||this;c.cols=null;c.level=0;c.levelValue=null;c.origin=null;c.resolution=0;c.rows=null;c.scale=0;return c}b._inherits(h,d);h.prototype.clone=function(){return new n({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})};return b._createClass(h)}(x.JSONSupport);a.__decorate([m.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,
write:!1}}}})],x.prototype,"cols",void 0);a.__decorate([m.property({type:q.Integer,json:{write:!0}})],x.prototype,"level",void 0);a.__decorate([m.property({type:String,json:{write:!0}})],x.prototype,"levelValue",void 0);a.__decorate([m.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],x.prototype,"origin",void 0);a.__decorate([m.property({type:Number,json:{write:!0}})],x.prototype,"resolution",void 0);a.__decorate([m.property({json:{write:!0,
origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],x.prototype,"rows",void 0);a.__decorate([m.property({type:Number,json:{write:!0}})],x.prototype,"scale",void 0);return x=n=a.__decorate([k.subclass("esri.layers.support.LOD")],x)})},"esri/layers/support/TileKey":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(b,a){a=a._createClass(function(x,m,q,g,p){this.id=x;this.level=m;this.row=q;this.col=g;this.extent=p});b.TileKey=a;Object.defineProperty(b,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TileInfoTilemapCache":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../core/Error","../../core/promiseUtils"],function(b,a,x){return function(){function m(g,p=0,k=g.lods[g.lods.length-1].level){this.tileInfo=g;this.minLOD=p;this.maxLOD=k;g.lodAt(p)||(this.minLOD=g.lods[0].level);g.lodAt(k)||(this.maxLOD=g.lods[g.lods.length-1].level)}var q=m.prototype;q.getAvailability=function(g,p,k){const n=this.tileInfo?.lodAt(g);return!n||
g<this.minLOD||g>this.maxLOD?"unavailable":n.cols&&n.rows?k>=n.cols[0]&&k<=n.cols[1]&&p>=n.rows[0]&&p<=n.rows[1]?"unknown":"unavailable":"unknown"};q.fetchAvailability=async function(g,p,k,n){await x.waitTick(n);n=this.getAvailability(g,p,k);if("unavailable"===n)throw new a("tile-map:tile-unavailable","Tile is not available",{level:g,row:p,col:k});return n};q.fetchAvailabilityUpsample=async function(g,p,k,n,d){await x.waitTick(d);n.level=g;n.row=p;n.col=k;const h=this.tileInfo;h.updateTileInfo(n);
return this.fetchAvailability(g,p,k,d).catch(c=>{if(x.isAbortError(c))throw c;if(h.upsampleTile(n))return this.fetchAvailabilityUpsample(n.level,n.row,n.col,n,d);throw c;})};b._createClass(m,[{key:"effectiveMinLOD",get:function(){return this.minLOD??this.tileInfo.lods[0].level}},{key:"effectiveMaxLOD",get:function(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}}]);return m}()})},"esri/layers/support/TilemapCache":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../request ../../core/Accessor ../../core/ByteSizeUnit ../../core/Error ../../core/handleUtils ../../core/LRUCache ../../core/PooledArray ../../core/promiseUtils ../../core/reactiveUtils ../../core/scheduling ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./TileKey ./Tilemap".split(" "),
function(b,a,x,m,q,g,p,k,n,d,h,c,e,v,t,y,D,C,G,K,F){var E;b.TilemapCache=E=function(z){function u(B){B=z.call(this,B)||this;B._pendingTilemapRequests={};B.request=m;B.size=32;B._prefetchingEnabled=!0;return B}a._inherits(u,z);var H=u.prototype;H.initialize=function(){this._tilemapCache=new n.LRUCache(2*g.ByteSizeUnit.MEGABYTES);this.addHandles([c.watch(()=>{const {layer:B}=this;return[B?.parsedUrl,B?.tileServers,B?.apiKey,B?.customParameters]},()=>this._initializeTilemapDefinition(),c.initial)])};
H.fetchTilemap=function(B,L,P,M){if(!this.layer.tileInfo.lodAt(B)||B<this.effectiveMinLOD||B>this.effectiveMaxLOD)return Promise.reject(new p("tilemap-cache:level-unavailable",`Level ${B} is unavailable in the service`));const N=this._tmpTilemapDefinition;if(B=this._tilemapFromCache(B,L,P,N))return Promise.resolve(B);const R=M&&M.signal;M={...M,signal:null};return new Promise((T,V)=>{h.onAbort(R,()=>V(h.createAbortError()));const Y=F.tilemapDefinitionId(N);let ca=this._pendingTilemapRequests[Y];if(!ca){ca=
F.Tilemap.fromDefinition(N,M).then(da=>{this._tilemapCache.put(Y,da,da.byteSize);return da});const fa=()=>delete this._pendingTilemapRequests[Y];this._pendingTilemapRequests[Y]=ca;ca.then(fa,fa)}ca.then(T,V)})};H.getAvailability=function(B,L,P){return!this.layer.tileInfo.lodAt(B)||B<this.effectiveMinLOD||B>this.effectiveMaxLOD?"unavailable":(B=this._tilemapFromCache(B,L,P,this._tmpTilemapDefinition))?B.getAvailability(L,P):"unknown"};H.fetchAvailability=function(B,L,P,M){return!this.layer.tileInfo.lodAt(B)||
B<this.effectiveMinLOD||B>this.effectiveMaxLOD?Promise.reject(new p("tile-map:tile-unavailable","Tile is not available",{level:B,row:L,col:P})):this.fetchTilemap(B,L,P,M).catch(N=>N).then(N=>{if(N instanceof F.Tilemap){N=N.getAvailability(L,P);if("unavailable"===N)throw new p("tile-map:tile-unavailable","Tile is not available",{level:B,row:L,col:P});return N}if(h.isAbortError(N))throw N;return"unknown"})};H.fetchAvailabilityUpsample=function(B,L,P,M,N){M.level=B;M.row=L;M.col=P;const R=this.layer.tileInfo;
R.updateTileInfo(M);const T=this.fetchAvailability(B,L,P,N).catch(V=>{if(h.isAbortError(V))throw V;if(R.upsampleTile(M))return this.fetchAvailabilityUpsample(M.level,M.row,M.col,M,N);throw V;});this._fetchAvailabilityUpsamplePrefetch(M.id,B,L,P,N,T);return T};H._fetchAvailabilityUpsamplePrefetch=async function(B,L,P,M,N,R){if(this._prefetchingEnabled&&null!=B){var T=`prefetch-${B}`;if(!this.hasHandles(T)){var V=new AbortController;R.then(()=>V.abort(),()=>V.abort());var Y=!1;R=k.makeHandle(()=>{Y||
(Y=!0,V.abort())});this.addHandles(R,T);await e.waitTicks(10,V.signal).catch(()=>{});Y||(Y=!0,this.removeHandles(T));if(!h.isAborted(V))for(B=new K.TileKey(B,L,P,M),N={...N,signal:V.signal},L=this.layer.tileInfo,P=0;E._prefetches.length<E._maxPrefetch&&L.upsampleTile(B);++P){const ca=this.fetchAvailability(B.level,B.row,B.col,N);E._prefetches.push(ca);M=()=>{E._prefetches.removeUnordered(ca)};ca.then(M,M)}}}};H._initializeTilemapDefinition=function(){if(this.layer.parsedUrl){var {parsedUrl:B,apiKey:L,
customParameters:P}=this.layer;this._tilemapCache.clear();this._tmpTilemapDefinition={service:{url:B.path,query:v.objectToQuery({...B.query,...P,token:L??B.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}};H._tilemapFromCache=function(B,L,P,M){M.level=B;M.row=L-L%this.size;M.col=P-P%this.size;B=F.tilemapDefinitionId(M);return this._tilemapCache.get(B)};a._createClass(u,[{key:"effectiveMinLOD",get:function(){return this.minLOD??
this.layer.tileInfo.lods[0].level}},{key:"effectiveMaxLOD",get:function(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}},{key:"test",get:function(){const B=this;return{get prefetchingEnabled(){return B._prefetchingEnabled},set prefetchingEnabled(L){B._prefetchingEnabled=L},hasTilemap(L,P,M){return!!B._tilemapFromCache(L,P,M,B._tmpTilemapDefinition)}}}}]);return u}(q);b.TilemapCache._maxPrefetch=4;b.TilemapCache._prefetches=new d({initialSize:E._maxPrefetch});
x.__decorate([t.property({constructOnly:!0})],b.TilemapCache.prototype,"layer",void 0);x.__decorate([t.property({constructOnly:!0})],b.TilemapCache.prototype,"minLOD",void 0);x.__decorate([t.property({constructOnly:!0})],b.TilemapCache.prototype,"maxLOD",void 0);x.__decorate([t.property({constructOnly:!0})],b.TilemapCache.prototype,"request",void 0);x.__decorate([t.property({constructOnly:!0})],b.TilemapCache.prototype,"size",void 0);b.TilemapCache=E=x.__decorate([G.subclass("esri.layers.support.TilemapCache")],
b.TilemapCache);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/ByteSizeUnit":function(){define(["exports"],function(b){b.ByteSizeUnit=void 0;var a=b.ByteSizeUnit||(b.ByteSizeUnit={});a[a.KILOBYTES=1024]="KILOBYTES";a[a.MEGABYTES=1048576]="MEGABYTES";a[a.GIGABYTES=1073741824]="GIGABYTES";Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Tilemap":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../request ../../core/arrayUtils ../../core/Error ../../core/lang ../../core/typedArrayUtil ../../geometry/support/UintArray".split(" "),
function(b,a,x,m,q,g,p,k){function n(h){if(h.service.tileServers?.length){var c=h.service.tileServers;c=`${c&&c.length?c[h.row%c.length]:h.service.url}/tilemap/${h.level}/${h.row}/${h.col}/${h.width}/${h.height}`}else c=`${h.service.url}/tilemap/${h.level}/${h.row}/${h.col}/${h.width}/${h.height}`;(h=h.service.query)&&(c=`${c}?${h}`);return c}let d=function(){function h(e){this._validateJSON(e);const {location:v,data:t}=e;this.location=Object.freeze(g.clone(v));let y=e=!0;const D=k.newUintArray(Math.ceil(this.location.width*
this.location.height/32));let C=0;for(let G=0;G<t.length;G++){const K=G%32;t[G]?(y=!1,D[C]|=1<<K):e=!1;31===K&&++C}y?(this._availability="unavailable",this.byteSize=40):e?(this._availability="available",this.byteSize=40):(this._availability=D,this.byteSize=40+p.estimateSize(D))}var c=h.prototype;c.getAvailability=function(e,v){if("unavailable"===this._availability||"available"===this._availability)return this._availability;e=(e-this.location.top)*this.location.width+(v-this.location.left);v=e>>5;
const t=this._availability;return 0>v||v>t.length?"unknown":t[v]&1<<e%32?"available":"unavailable"};h.fromDefinition=function(e,v){const t=e.service.request||x,{row:y,col:D,width:C,height:G}=e,K={query:{f:"json"}};v=v?{...K,...v}:K;return t(n(e),v).then(F=>F.data).catch(F=>{if(F&&F.details&&422===F.details.httpStatus)return{location:{top:y,left:D,width:C,height:G},valid:!0,data:m.constant(C*G,0)};throw F;}).then(F=>{if(F.location&&(F.location.top!==y||F.location.left!==D||F.location.width!==C||F.location.height!==
G))throw new q("tilemap:location-mismatch","Tilemap response for different location than requested",{response:F,definition:{top:y,left:D,width:C,height:G}});return h.fromJSON(F)})};h.fromJSON=function(e){return Object.freeze(new h(e))};c._validateJSON=function(e){if(!e||!e.location)throw new q("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new q("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new q("tilemap:missing-data","Data missing from tilemap response");
if(!Array.isArray(e.data))throw new q("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new q("tilemap:data-mismatch","Number of data items does not match width/height of tilemap");};return a._createClass(h)}();b.Tilemap=d;b.tilemapDefinitionId=function(h){return`${h.level}/${h.row}/${h.col}/${h.width}/${h.height}`};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/UintArray":function(){define(["exports",
"../../core/typedArrayUtil"],function(b,a){b.newUintArray=function(x,m=!1){return x<=a.NATIVE_ARRAY_MAX_SIZE?m?Array(x).fill(0):Array(x):new Uint32Array(x)};b.uintArrayFrom=function(x){return(a.isArray(x)?x.length:x.byteLength/8)<=a.NATIVE_ARRAY_MAX_SIZE?Array.from(x):new Uint32Array(x)};b.uintSubArray=function(x,m,q){return Array.isArray(x)?x.slice(m,m+q):x.subarray(m,m+q)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/imageUtils":function(){define(["exports"],
function(b){let a=null;b.checkWebPSupport=function(x){if(a)return a;const m={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA\x3d\x3d",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA\x3d\x3d",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return a=new Promise(q=>{const g=
new Image;g.onload=()=>{g.onload=g.onerror=null;q(0<g.width&&0<g.height)};g.onerror=()=>{g.onload=g.onerror=null;q(!1)};g.src="data:image/webp;base64,"+m[x]})};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/SpriteSource":function(){define("../../chunks/_rollupPluginBabelHelpers ../../request ../../core/Error ../../core/Logger ../../core/typedArrayUtil ../../core/urlUtils".split(" "),function(b,a,x,m,q,g){function p(k){var n=document.createElement("canvas");const d=
n.getContext("2d");n.width=k.width;n.height=k.height;d.drawImage(k,0,0,k.width,k.height);n=d.getImageData(0,0,k.width,k.height);return{width:k.width,height:k.height,data:new Uint8Array(n.data)}}return function(){function k(d,h){this._spriteSource=d;this._maxTextureSize=h;this.devicePixelRatio=1;this._spriteImageFormat="png";this._isRetina=!1;this._spritesData={};this.height=this.width=this.image=null;this.loadStatus="not-loaded";"url"===d.type&&d.spriteFormat&&(this._spriteImageFormat=d.spriteFormat);
d.pixelRatio&&(this.devicePixelRatio=d.pixelRatio);this.baseURL=d.spriteUrl}var n=k.prototype;n.getSpriteInfo=function(d){return this._spritesData?this._spritesData[d]:null};n.load=async function(d){if(this.baseURL){this.loadStatus="loading";try{await this._loadSprites(d),this.loadStatus="loaded"}catch{this.loadStatus="failed"}}else this.loadStatus="failed"};n._loadSprites=async function(d){this._isRetina=1.15<this.devicePixelRatio;const {width:h,height:c,data:e,json:v}=await this._getSpriteData(this._spriteSource,
d);if((d=Object.keys(v))&&0!==d.length&&e){this._spritesData=v;this.width=h;this.height=c;d=Math.max(this._maxTextureSize,4096);if(h>d||c>d)throw d=`Sprite resource for style ${this.baseURL} is bigger than the maximum allowed of ${d} pixels}`,m.getLogger("esri.layers.support.SpriteSource").error(d),new x("SpriteSource",d);for(let t=0;t<e.length;t+=4)d=e[t+3]/255,e[t]*=d,e[t+1]*=d,e[t+2]*=d;this.image=e}else this._spritesData=this.image=null,this.width=this.height=0};n._getSpriteData=async function(d,
h){if("image"===d.type){if(1.15>this.devicePixelRatio){if(!d.spriteSource1x)throw new x("SpriteSource","no image data provided for low resolution sprites!");h=d.spriteSource1x.image;d=d.spriteSource1x.json}else{if(!d.spriteSource2x)throw new x("SpriteSource","no image data provided for high resolution sprites!");h=d.spriteSource2x.image;d=d.spriteSource2x.json}return"width"in h&&"height"in h&&"data"in h&&(q.isArrayBuffer(h.data)||q.isUint8ClampedArray(h.data))?{width:h.width,height:h.height,data:new Uint8Array(h.data),
json:d}:{...p(h),json:d}}d=g.urlToObject(this.baseURL);const c=d.query?"?"+g.objectToQuery(d.query):"",e=this._isRetina?"@2x":"",v=`${d.path}${e}.${this._spriteImageFormat}${c}`,[t,y]=await Promise.all([a(`${d.path}${e}.json${c}`,h),a(v,{responseType:"image",...h})]);return{...p(y.data),json:t.data}};b._createClass(k,[{key:"spriteNames",get:function(){const d=[];for(const h in this._spritesData)d.push(h);d.sort();return d}}]);return k}()})},"esri/layers/support/vectorTileLayerLoader":function(){define(["exports",
"../../request","../../core/promiseUtils","../../core/urlUtils","../../views/2d/engine/vectorTiles/style/VectorTileSource"],function(b,a,x,m,q){function g(...d){let h=void 0;for(const c of d)null!=c&&(m.isProtocolRelative(c)?h&&(h=h.split("://")[0]+":"+c.trim()):h=m.isAbsolute(c)?c:m.join(h,c));return h?m.removeTrailingSlash(h):void 0}async function p(d,h,c,e,v){x.throwIfAborted(v);let t,y;if("string"===typeof c){c=m.normalize(c);var D=await a(c,{...v,responseType:"json",query:{f:"json",...v?.query}});
D.ssl&&(t&&(t=t.replace(/^http:/i,"https:")),y&&(y=y.replace(/^http:/i,"https:")));y=t=c}else null!=c&&(D={data:c},t=c.jsonUrl||null,y=e);if((D=D?.data)&&"sources"in D&&D.sources)return d.styleUrl=t||null,k(d,D,y,v);if(!(D&&"sources"in D&&D.sources))return d.sourceUrl?n(d,D,y,!1,h,v):(d.sourceUrl=t||null,n(d,D,y,!0,h,v));throw Error("You must specify the URL or the JSON for a service or for a style.");}async function k(d,h,c,e){c=c?m.removeFile(c):m.getAppBaseUrl();d.styleBase=c;d.style=h;h["sprite-format"]&&
"webp"===h["sprite-format"].toLowerCase()&&(d.spriteFormat="webp");const v=[];if(h.sources&&h.sources.esri){const t=h.sources.esri;t.url?await p(d,"esri",g(c,t.url),void 0,e):v.push(p(d,"esri",t,c,e))}for(const t of Object.keys(h.sources))"esri"!==t&&"vector"===h.sources[t].type&&(h.sources[t].url?v.push(p(d,t,g(c,h.sources[t].url),void 0,e)):h.sources[t].tiles&&v.push(p(d,t,h.sources[t],c,e)));await Promise.all(v)}async function n(d,h,c,e,v,t){c=c?m.removeTrailingSlash(c)+"/":m.getAppBaseUrl();if(h.hasOwnProperty("tileInfo"))var y=
h;else{y={xmin:-2.0037507067161843E7,ymin:-2.0037507067161843E7,xmax:2.0037507067161843E7,ymax:2.0037507067161843E7,spatialReference:{wkid:102100}};var D=78271.51696400007,C=2.958287637957775E8,G=[],K=h.hasOwnProperty("minzoom")?+h.minzoom:0,F=h.hasOwnProperty("maxzoom")?+h.maxzoom:22;for(let E=0;E<=F;E++)E>=K&&G.push({level:E,scale:C,resolution:D}),D/=2,C/=2;y={capabilities:"TilesOnly",initialExtent:y,fullExtent:y,minScale:0,maxScale:0,tiles:h.tiles,tileInfo:{rows:512,cols:512,dpi:96,format:"pbf",
origin:{x:-2.0037508342787E7,y:2.0037508342787E7},lods:G,spatialReference:{wkid:102100}}}}D=new q(v,m.addQueryParameters(c,t?.query??{}),y);if(!e&&d.primarySourceName in d.sourceNameToSource){C=d.sourceNameToSource[d.primarySourceName];if(!C.isCompatibleWith(D))return;null!=D.fullExtent&&(null!=C.fullExtent?C.fullExtent.union(D.fullExtent):C.fullExtent=D.fullExtent.clone());C.tileInfo&&D.tileInfo&&C.tileInfo.lods.length<D.tileInfo.lods.length&&(C.tileInfo=D.tileInfo)}e&&(d.sourceBase=c,d.source=h,
d.validatedSource=y,d.primarySourceName=v);d.sourceNameToSource[v]=D;if(!d.style){if(null==h.defaultStyles)throw Error();return"string"===typeof h.defaultStyles?p(d,"",g(c,h.defaultStyles,"root.json"),void 0,t):p(d,"",h.defaultStyles,g(c,"root.json"),t)}}b.loadMetadata=async function(d,h){const c={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},[e,v]="string"===typeof d?[d,null]:
[null,d.jsonUrl];await p(c,"esri",d,v,h);return{layerDefinition:c.validatedSource,url:e,serviceUrl:c.sourceUrl,style:c.style,styleUrl:c.styleUrl,spriteUrl:c.style.sprite&&g(c.styleBase,c.style.sprite),spriteFormat:c.spriteFormat,glyphsUrl:c.style.glyphs&&g(c.styleBase,c.style.glyphs),sourceNameToSource:c.sourceNameToSource,primarySourceName:c.primarySourceName}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/VectorTileSource":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/lang ../../../../../core/urlUtils ../../../../../geometry/Extent ../../../../../layers/support/TileInfo ../../../../../layers/support/TilemapCache ../TilemapIndex ../TilemapRequest ./VectorTilesRequestManager".split(" "),
function(b,a,x,m,q,g,p,k,n){return function(){function d(c,e,v){this.fullExtent=this.capabilities=this.tileInfo=this.tilemap=null;this.name=c;this.sourceUrl=e;c=x.urlToObject(this.sourceUrl);e=a.clone(v);var t=e.tiles;if(c)for(var y=0;y<t.length;y++){var D=x.urlToObject(t[y]);D&&(x.isAbsolute(D.path)||(D.path=x.join(c.path,D.path)),t[y]=x.addQueryParameters(D.path,{...c.query,...D.query}))}this.tileServers=t;y=v.capabilities&&v.capabilities.split(",").map(C=>C.toLowerCase().trim());t=!0===v?.exportTilesAllowed;
y=!0===y?.includes("tilemap");D=t&&v.hasOwnProperty("maxExportTilesCount")?v.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:t,supportsTileMap:y},exportTiles:t?{maxExportTilesCount:+D}:null};this.tileInfo=q.fromJSON(e.tileInfo);t=v.tileMap?x.addQueryParameters(x.join(c.path,v.tileMap),c.query??{}):null;y?(this.type="vector-tile",this.tilemap=new k(new g.TilemapCache({layer:{parsedUrl:c,tileInfo:this.tileInfo},minLOD:e.minLOD??this.tileInfo.lods[0].level,maxLOD:e.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-
1].level}),t)):t&&(this.tilemap=new p(t));this.fullExtent=m.fromJSON(v.fullExtent)}var h=d.prototype;h.destroy=function(){this.tilemap?.destroy()};h.getRefKey=async function(c,e){return await this.tilemap?.dataKey(c,e)??c};h.requestTile=function(c,e,v,t){return n.request(this.tileServers[e%this.tileServers.length],c,e,v,t)};h.isCompatibleWith=function(c){var e=this.tileInfo;c=c.tileInfo;if(!e.spatialReference.equals(c.spatialReference)||!e.origin.equals(c.origin)||Math.round(e.dpi)!==Math.round(c.dpi))return!1;
e=e.lods;c=c.lods;const v=Math.min(e.length,c.length);for(let t=0;t<v;t++){const y=e[t],D=c[t];if(y.level!==D.level||Math.round(y.scale)!==Math.round(D.scale))return!1}return!0};return b._createClass(d)}()})},"esri/views/2d/engine/vectorTiles/TilemapIndex":function(){define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../request","../../../../core/promiseUtils","../../tiling/TileKey"],function(b,a,x,m){return function(){function q(p){this.url=p}var g=q.prototype;g.destroy=function(){this._tileIndexPromise=
null};g.fetchTileIndex=async function(){this._tileIndexPromise||(this._tileIndexPromise=a(this.url).then(p=>p.data.index));return this._tileIndexPromise};g.dataKey=async function(p,k){const n=await this.fetchTileIndex();x.throwIfAborted(k);return this._getIndexedDataKey(n,p)};g._getIndexedDataKey=function(p,k){const n=[k];if(0>k.level||0>k.row||0>k.col||0<k.row>>k.level||0<k.col>>k.level)return null;for(;0!==k.level;)k=new m(k.level-1,k.row>>1,k.col>>1,k.world),n.push(k);k=n.pop();let d,h;if(1===
p)return k;for(;n.length;)if(d=n.pop(),h=(d.col&1)+((d.row&1)<<1),p){if(0===p[h]){k=null;break}if(1===p[h]){k=d;break}k=d;p=p[h]}return k};return b._createClass(q)}()})},"esri/views/2d/tiling/TileKey":function(){define(["../../../chunks/_rollupPluginBabelHelpers","../../../core/ObjectPool"],function(b,a){let x=function(){function m(g,p,k,n){this.set(g,p,k,n)}m.getId=function(g,p,k,n){return"object"===typeof g?`${g.level}/${g.row}/${g.col}/${g.world}`:`${g}/${p}/${k}/${n}`};var q=m.prototype;q.acquire=
function(g,p,k,n){this.set(g,p,k,n)};q.contains=function(g){const p=g.level-this.level;return 0<=p&&this.row===g.row>>p&&this.col===g.col>>p&&this.world===g.world};q.equals=function(g){return this.level===g.level&&this.row===g.row&&this.col===g.col&&this.world===g.world};q.clone=function(){return new m(this)};q.release=function(){this.world=this.col=this.row=this.level=0};q.set=function(g,p,k,n){if(null==g)this.world=this.col=this.row=this.level=0;else if("object"===typeof g)this.level=g.level||0,
this.row=g.row||0,this.col=g.col||0,this.world=g.world||0;else if("string"===typeof g){const [d,h,c,e]=g.split("/");this.level=parseFloat(d);this.row=parseFloat(h);this.col=parseFloat(c);this.world=parseFloat(e)}else this.level=+g,this.row=+p,this.col=+k,this.world=+n||0;return this};q.toString=function(){return`${this.level}/${this.row}/${this.col}/${this.world}`};q.getParentKey=function(){return 0>=this.level?null:new m(this.level-1,this.row>>1,this.col>>1,this.world)};q.getChildKeys=function(){const g=
this.level+1,p=this.row<<1,k=this.col<<1,n=this.world;return[new m(g,p,k,n),new m(g,p,k+1,n),new m(g,p+1,k,n),new m(g,p+1,k+1,n)]};q.compareRowMajor=function(g){return this.row<g.row?-1:this.row>g.row?1:this.col<g.col?-1:this.col>g.col?1:0};b._createClass(m,[{key:"key",get:function(){return this}},{key:"id",get:function(){return this.toString()},set:function(g){this.set(g)}},{key:"hash",get:function(){return(this.world&3)<<30|(this.col&4095)<<22|(this.row&4095)<<8|this.level&63}}]);return m}();x.pool=
new a(x,null,null,25,50);return x})},"esri/views/2d/engine/vectorTiles/TilemapRequest":function(){define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../request","../../../../core/maybe","../../../../core/promiseUtils","../../tiling/TileKey"],function(b,a,x,m,q){return function(){function g(k,n){this._tilemap=k;this._tileIndexUrl=n}var p=g.prototype;p.destroy=function(){this._tilemap=x.destroyMaybe(this._tilemap);this._tileIndexPromise=null};p.fetchTileIndex=async function(k){this._tileIndexPromise||
(this._tileIndexPromise=a(this._tileIndexUrl,{query:{...k?.query}}).then(n=>n.data.index));return this._tileIndexPromise};p.dataKey=function(k,n){const {level:d,row:h,col:c}=k,e=new q(k);return this._tilemap.fetchAvailabilityUpsample(d,h,c,e,n).then(()=>{e.world=k.world;return e}).catch(v=>{if(m.isAbortError(v))throw v;return null})};return b._createClass(g)}()})},"esri/views/2d/engine/vectorTiles/style/VectorTilesRequestManager":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../request ../../../../../core/lang ../../../../../core/MapUtils ../../../../../core/promiseUtils ../../../../../core/urlUtils".split(" "),
function(b,a,x,m,q,g,p){function k(h,c){return q.getOrCreateMapValue(d,h,()=>new n(h)).getData(c).then(e=>{d.delete(h);return e}).catch(e=>{d.delete(h);throw e;})}let n=function(){function h(e){this._tileUrl=e;this._abortController=this._promise=null;this._abortOptions=[]}var c=h.prototype;c.getData=function(e){null===this._promise&&(this._abortController=new AbortController,this._promise=this._makeRequest(this._tileUrl,this._abortController.signal));const v=this._abortOptions;v.push(e);g.onAbort(e,
()=>{v.every(t=>g.isAborted(t))&&this._abortController.abort()});return this._promise.then(t=>m.clone(t))};c._makeRequest=async function(e,v){({data:e}=await x(e,{responseType:"array-buffer",signal:v}));return e};return a._createClass(h)}();const d=new Map;b.request=function(h,c,e,v,t){h=p.urlToObject(h);const y=h.query;if(y)for(const [D,C]of Object.entries(y))switch(C){case "{x}":y[D]=v.toString();break;case "{y}":y[D]=e.toString();break;case "{z}":y[D]=c.toString()}c=p.addQueryParameters(h.path.replaceAll(/\{z\}/gi,
c.toString()).replaceAll(/\{y\}/gi,e.toString()).replaceAll(/\{x\}/gi,v.toString()),{...h.query});return k(c,t)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/tileInfoUtils":function(){define(["exports","../../../../geometry/Point","../../../../layers/support/LOD","../../../../layers/support/TileInfo"],function(b,a,x,m){b.areSchemasOverlapping=function(q,g){if(q===g)return!0;if(null==q&&null!=g||null!=q&&null==g||null==q||null==g||!q.spatialReference.equals(g.spatialReference)||
q.dpi!==g.dpi)return!1;var p=q.origin;const k=g.origin;if(1E-6<=Math.abs(p.x-k.x)||1E-6<=Math.abs(p.y-k.y))return!1;q.lods[0].scale>g.lods[0].scale?(p=q,q=g):p=g;for(g=p.lods[0].scale;g>=q.lods[q.lods.length-1].scale-1E-6;g/=2)if(1E-6>Math.abs(g-q.lods[0].scale))return!0;return!1};b.unionTileInfos=function(q,g){if(q===g)return q;if(null==q&&null!=g)return g;if(null!=q&&null==g)return q;if(null==q||null==g)return null;const p=q.size[0],k=q.format,n=q.dpi,d=new a({x:q.origin.x,y:q.origin.y}),h=q.spatialReference;
var c=q.lods[0].scale>g.lods[0].scale?q.lods[0]:g.lods[0];q=(q.lods[q.lods.length-1].scale<=g.lods[g.lods.length-1].scale?q.lods[q.lods.length-1]:g.lods[g.lods.length-1]).scale;g=[];let e=c.scale;c=c.resolution;let v=0;for(;e>q;)g.push(new x({level:v,resolution:c,scale:e})),v++,e/=2,c/=2;return new m({size:[p,p],dpi:n,format:k||"pbf",origin:d,lods:g,spatialReference:h})};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["../../../../../chunks/_rollupPluginBabelHelpers",
"./StyleDefinition","./StyleLayer"],function(b,a,x){return function(){function m(g){this._style=g;this.backgroundBucketIds=[];this._uidToLayer=new Map;this._layerByName={};this._runningId=0;g.layers||(g.layers=[]);this.version=parseFloat(g.version);if(this.layers=g.layers.map((p,k,n)=>this._create(p,k,n)).filter(p=>!!p))for(let p=0;p<this.layers.length;p++)g=this.layers[p],this._layerByName[g.id]=g,this._uidToLayer.set(g.uid,g),g.type===a.StyleLayerType.BACKGROUND&&this.backgroundBucketIds.push(g.id);
this._identifyRefLayers()}var q=m.prototype;q.isPainterDataDriven=function(g){return(g=this._layerByName[g])?g.isPainterDataDriven():!1};q.getStyleLayerId=function(g){return g>=this.layers.length?null:this.layers[g].id};q.getStyleLayerByUID=function(g){return this._uidToLayer.get(g)??null};q.getStyleLayerIndex=function(g){return(g=this._layerByName[g])?this.layers.indexOf(g):-1};q.setStyleLayer=function(g,p){if(g&&g.id){var k=this._style;null!=p&&p>=this.layers.length&&(p=this.layers.length-1);var n=
!0,d;if(d=this._layerByName[g.id]){const h=this.layers.indexOf(d);p||(p=h);p===h?(n=!1,d=m._recreateLayer(g,d),this.layers[p]=d,k.layers[p]=g):(this.layers.splice(h,1),k.layers.splice(h,1),d=this._create(g,p,this.layers),this.layers.splice(p,0,d),k.layers.splice(p,0,g))}else d=this._create(g,p,this.layers),!p||p>=this.layers.length?(this.layers.push(d),k.layers.push(g)):(this.layers.splice(p,0,d),k.layers.splice(p,0,g));this._layerByName[g.id]=d;this._uidToLayer.set(d.uid,d);n&&this._recomputeZValues();
this._identifyRefLayers()}};q.getStyleLayer=function(g){return(g=this._layerByName[g])?{type:g.typeName,id:g.id,source:g.source,"source-layer":g.sourceLayer,minzoom:g.minzoom,maxzoom:g.maxzoom,filter:g.filter,layout:g.layout,paint:g.paint}:null};q.deleteStyleLayer=function(g){const p=this._layerByName[g];p&&(delete this._layerByName[g],this._uidToLayer.delete(p.uid),g=this.layers.indexOf(p),this.layers.splice(g,1),this._style.layers.splice(g,1),this._recomputeZValues(),this._identifyRefLayers())};
q.getLayerById=function(g){return this._layerByName[g]};q.getLayoutProperties=function(g){return(g=this._layerByName[g])?g.layout:null};q.getPaintProperties=function(g){return(g=this._layerByName[g])?g.paint:null};q.setPaintProperties=function(g,p){if(g=this._layerByName[g]){var k=m._recreateLayer({type:g.typeName,id:g.id,source:g.source,"source-layer":g.sourceLayer,minzoom:g.minzoom,maxzoom:g.maxzoom,filter:g.filter,layout:g.layout,paint:p},g),n=this.layers.indexOf(g);this.layers[n]=k;this._style.layers[n].paint=
p;this._layerByName[g.id]=k;this._uidToLayer.set(g.uid,k)}};q.setLayoutProperties=function(g,p){if(g=this._layerByName[g]){var k=m._recreateLayer({type:g.typeName,id:g.id,source:g.source,"source-layer":g.sourceLayer,minzoom:g.minzoom,maxzoom:g.maxzoom,filter:g.filter,layout:p,paint:g.paint},g),n=this.layers.indexOf(g);this.layers[n]=k;this._style.layers[n].layout=p;this._layerByName[g.id]=k;this._uidToLayer.set(g.uid,k)}};q.setStyleLayerVisibility=function(g,p){if(g=this._layerByName[g]){var k=g.layout||
{};k.visibility=p;p=m._recreateLayer({type:g.typeName,id:g.id,source:g.source,"source-layer":g.sourceLayer,minzoom:g.minzoom,maxzoom:g.maxzoom,filter:g.filter,layout:k,paint:g.paint},g);var n=this.layers.indexOf(g);this.layers[n]=p;this._style.layers[n].layout=k;this._layerByName[g.id]=p;this._uidToLayer.set(g.uid,p)}};q.getStyleLayerVisibility=function(g){return(g=this._layerByName[g])?g.layout?.visibility??"visible":"none"};q._recomputeZValues=function(){const g=this.layers,p=1/(g.length+1);for(let k=
0;k<g.length;k++)g[k].z=1-(1+k)*p};q._identifyRefLayers=function(){const g=[],p=[];let k=0;for(const h of this.layers){const c=h.layout;if(h.type===a.StyleLayerType.FILL){var n=h,d=h.source+"|"+h.sourceLayer;d+="|"+(c?.visibility??"");d+="|"+h.minzoom;d+="|"+h.maxzoom;d+="|"+JSON.stringify(h.filter);if(n.hasDataDrivenFill||n.hasDataDrivenOutline)d+="|"+k;g.push({key:d,layer:h})}else if(h.type===a.StyleLayerType.LINE){n=h;d=h.paint;d=null!=d&&(null!=d["line-pattern"]||null!=d["line-dasharray"]);let e=
h.source+"|"+h.sourceLayer;e+="|"+(c?.visibility??"");e+="|"+h.minzoom;e+="|"+h.maxzoom;e+="|"+JSON.stringify(h.filter);e+="|"+(void 0!==c?c["line-cap"]:"");e+="|"+(void 0!==c?c["line-join"]:"");if(n.hasDataDrivenLine||d)e+="|"+k;p.push({key:e,layer:h})}++k}this._assignRefLayers(g);this._assignRefLayers(p)};q._assignRefLayers=function(g){g.sort((c,e)=>c.key<e.key?-1:c.key>e.key?1:0);let p,k;const n=g.length;for(let c=0;c<n;c++){const e=g[c];if(e.key===p)e.layer.refLayerId=k;else if(p=e.key,k=e.layer.id,
e.layer.type===a.StyleLayerType.FILL){if(!e.layer.getPaintProperty("fill-outline-color"))for(var d=c+1;d<n;d++){var h=g[d];if(h.key===p){if(h.layer.getPaintProperty("fill-outline-color")){g[c]=h;g[d]=e;k=h.layer.id;break}}else break}}else if(e.layer.type===a.StyleLayerType.LINE)for(d=e.layer,h=c+1;h<n;h++){const v=g[h];if(v.key!==p)break;const t=v.layer;if(d.canUseThinTessellation&&!t.canUseThinTessellation||!d.canUseThinTessellation&&(t.getPaintProperty("line-pattern")||t.getPaintProperty("line-dasharray")))d=
t,g[c]=v,g[h]=e,k=v.layer.id}}};q._create=function(g,p,k){p=1-1/(k.length+1)*(1+p);k=this._runningId++;switch(g.type){case "background":return new x.BackgroundStyleLayer(a.StyleLayerType.BACKGROUND,g,p,k);case "fill":return new x.FillStyleLayer(a.StyleLayerType.FILL,g,p,k);case "line":return new x.LineStyleLayer(a.StyleLayerType.LINE,g,p,k);case "symbol":return new x.SymbolStyleLayer(a.StyleLayerType.SYMBOL,g,p,k);case "raster":console.warn(`Unsupported vector tile raster layer ${g.id}`);break;case "circle":return new x.CircleStyleLayer(a.StyleLayerType.CIRCLE,
g,p,k)}return null};m._recreateLayer=function(g,p){switch(g.type){case "background":return new x.BackgroundStyleLayer(a.StyleLayerType.BACKGROUND,g,p.z,p.uid);case "fill":return new x.FillStyleLayer(a.StyleLayerType.FILL,g,p.z,p.uid);case "line":return new x.LineStyleLayer(a.StyleLayerType.LINE,g,p.z,p.uid);case "symbol":return new x.SymbolStyleLayer(a.StyleLayerType.SYMBOL,g,p.z,p.uid);case "raster":console.warn(`Unsupported vector tile raster layer ${g.id}`);break;case "circle":return new x.CircleStyleLayer(a.StyleLayerType.CIRCLE,
g,p.z,p.uid)}return null};return b._createClass(m)}()})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../symbols/cim/enums"],function(b,a,x){b.StyleLayerType=void 0;(function(m){m[m.BACKGROUND=0]="BACKGROUND";m[m.FILL=1]="FILL";m[m.LINE=2]="LINE";m[m.SYMBOL=3]="SYMBOL";m[m.CIRCLE=4]="CIRCLE"})(b.StyleLayerType||(b.StyleLayerType={}));b.Visibility=void 0;(function(m){m[m.VISIBLE=0]="VISIBLE";m[m.NONE=
1]="NONE"})(b.Visibility||(b.Visibility={}));b.SymbolPlacement=void 0;(function(m){m[m.POINT=0]="POINT";m[m.LINE=1]="LINE";m[m.LINE_CENTER=2]="LINE_CENTER"})(b.SymbolPlacement||(b.SymbolPlacement={}));b.RotationAlignment=void 0;(function(m){m[m.MAP=0]="MAP";m[m.VIEWPORT=1]="VIEWPORT";m[m.AUTO=2]="AUTO"})(b.RotationAlignment||(b.RotationAlignment={}));b.TextJustification=void 0;(function(m){m[m.AUTO=0]="AUTO";m[m.LEFT=1]="LEFT";m[m.CENTER=2]="CENTER";m[m.RIGHT=3]="RIGHT"})(b.TextJustification||(b.TextJustification=
{}));b.SymbolAnchor=void 0;(function(m){m[m.CENTER=0]="CENTER";m[m.LEFT=1]="LEFT";m[m.RIGHT=2]="RIGHT";m[m.TOP=3]="TOP";m[m.BOTTOM=4]="BOTTOM";m[m.TOP_LEFT=5]="TOP_LEFT";m[m.TOP_RIGHT=6]="TOP_RIGHT";m[m.BOTTOM_LEFT=7]="BOTTOM_LEFT";m[m.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"})(b.SymbolAnchor||(b.SymbolAnchor={}));b.TextTransform=void 0;(function(m){m[m.NONE=0]="NONE";m[m.UPPERCASE=1]="UPPERCASE";m[m.LOWERCASE=2]="LOWERCASE"})(b.TextTransform||(b.TextTransform={}));b.TranslateAnchor=void 0;(function(m){m[m.MAP=
0]="MAP";m[m.VIEWPORT=1]="VIEWPORT"})(b.TranslateAnchor||(b.TranslateAnchor={}));b.TextWritingMode=void 0;(function(m){m[m.HORIZONTAL=0]="HORIZONTAL";m[m.VERTICAL=1]="VERTICAL"})(b.TextWritingMode||(b.TextWritingMode={}));a=a._createClass(function(){});a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE}};a.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE}};a.lineLayoutDefinition={visibility:{type:"enum",
values:["visible","none"],default:b.Visibility.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:x.CapType.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:x.JoinType.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",
values:["point","line","line-center"],default:b.SymbolPlacement.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:b.SymbolAnchor.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",
value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:b.RotationAlignment.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:b.SymbolAnchor.CENTER},
"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:b.TextJustification.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",
minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:b.RotationAlignment.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:b.TextTransform.NONE},"text-writing-mode":{type:"array",
value:"enum",values:["horizontal","vertical"],default:[b.TextWritingMode.HORIZONTAL]}};a.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE}};a.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}};a.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",
minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP}};a.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},
"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP},"line-width":{type:"number",minimum:0,default:1}};a.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",
default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},
"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",
minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};a.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,
maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP}};b.StyleDefinition=a;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/enums":function(){define(["exports"],function(b){b.CapType=void 0;(function(a){a[a.BUTT=0]="BUTT";a[a.ROUND=1]="ROUND";a[a.SQUARE=2]="SQUARE";a[a.UNKNOWN=
4]="UNKNOWN"})(b.CapType||(b.CapType={}));b.JoinType=void 0;(function(a){a[a.BEVEL=0]="BEVEL";a[a.ROUND=1]="ROUND";a[a.MITER=2]="MITER";a[a.UNKNOWN=4]="UNKNOWN"})(b.JoinType||(b.JoinType={}));b.Alignment=void 0;(function(a){a[a.SCREEN=0]="SCREEN";a[a.MAP=1]="MAP"})(b.Alignment||(b.Alignment={}));b.ExternalColorMixMode=void 0;(function(a){a[a.Tint=0]="Tint";a[a.Ignore=1]="Ignore";a[a.Multiply=99]="Multiply"})(b.ExternalColorMixMode||(b.ExternalColorMixMode={}));b.ExtremityPlacement=void 0;(function(a){a.Both=
"Both";a.JustBegin="JustBegin";a.JustEnd="JustEnd";a.None="None"})(b.ExtremityPlacement||(b.ExtremityPlacement={}));b.FillMode=void 0;(function(a){a[a.Mosaic=0]="Mosaic";a[a.Centered=1]="Centered"})(b.FillMode||(b.FillMode={}));b.FontEffects=void 0;(function(a){a[a.Normal=0]="Normal";a[a.Superscript=1]="Superscript";a[a.Subscript=2]="Subscript"})(b.FontEffects||(b.FontEffects={}));b.FontEncoding=void 0;(function(a){a[a.MSSymbol=0]="MSSymbol";a[a.Unicode=1]="Unicode"})(b.FontEncoding||(b.FontEncoding=
{}));b.FontType=void 0;(function(a){a[a.Unspecified=0]="Unspecified";a[a.TrueType=1]="TrueType";a[a.PSOpenType=2]="PSOpenType";a[a.TTOpenType=3]="TTOpenType";a[a.Type1=4]="Type1"})(b.FontType||(b.FontType={}));b.AngleAlignment=void 0;(function(a){a[a.Display=0]="Display";a[a.Map=1]="Map"})(b.AngleAlignment||(b.AngleAlignment={}));b.AnimatedSymbolRepeatType=void 0;(function(a){a.None="None";a.Loop="Loop";a.Oscillate="Oscillate"})(b.AnimatedSymbolRepeatType||(b.AnimatedSymbolRepeatType={}));b.DominantSizeAxis=
void 0;(function(a){a[a.Z=0]="Z";a[a.X=1]="X";a[a.Y=2]="Y"})(b.DominantSizeAxis||(b.DominantSizeAxis={}));b.RotationOrder=void 0;(function(a){a[a.XYZ=0]="XYZ";a[a.ZXY=1]="ZXY";a[a.YXZ=2]="YXZ"})(b.RotationOrder||(b.RotationOrder={}));b.BalloonCalloutStyle=void 0;(function(a){a[a.Rectangle=0]="Rectangle";a[a.RoundedRectangle=1]="RoundedRectangle";a[a.Oval=2]="Oval"})(b.BalloonCalloutStyle||(b.BalloonCalloutStyle={}));b.BlendingMode=void 0;(function(a){a[a.None=0]="None";a[a.Alpha=1]="Alpha";a[a.Screen=
2]="Screen";a[a.Multiply=3]="Multiply";a[a.Add=4]="Add"})(b.BlendingMode||(b.BlendingMode={}));b.BlockProgression=void 0;(function(a){a[a.TTB=0]="TTB";a[a.RTL=1]="RTL";a[a.BTT=2]="BTT"})(b.BlockProgression||(b.BlockProgression={}));b.BillBoardMode=void 0;(function(a){a[a.None=0]="None";a[a.SignPost=1]="SignPost";a[a.FaceNearPlane=2]="FaceNearPlane"})(b.BillBoardMode||(b.BillBoardMode={}));b.CGAAttributeType=void 0;(function(a){a[a.Float=0]="Float";a[a.String=1]="String";a[a.Boolean=2]="Boolean"})(b.CGAAttributeType||
(b.CGAAttributeType={}));b.ClippingType=void 0;(function(a){a[a.Intersect=0]="Intersect";a[a.Subtract=1]="Subtract"})(b.ClippingType||(b.ClippingType={}));b.GeometricEffectArrowType=void 0;(function(a){a.OpenEnded="OpenEnded";a.Block="Block";a.Crossed="Crossed"})(b.GeometricEffectArrowType||(b.GeometricEffectArrowType={}));b.GeometricEffectControlMeasureLineRule=void 0;(function(a){a.FullGeometry="FullGeometry";a.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment";a.ReversedFirstSegment=
"ReversedFirstSegment";a.PerpendicularToSecondSegment="PerpendicularToSecondSegment";a.SecondSegmentWithTicks="SecondSegmentWithTicks";a.DoublePerpendicular="DoublePerpendicular";a.OppositeToFirstSegment="OppositeToFirstSegment";a.TriplePerpendicular="TriplePerpendicular";a.HalfCircleFirstSegment="HalfCircleFirstSegment";a.HalfCircleSecondSegment="HalfCircleSecondSegment";a.HalfCircleExtended="HalfCircleExtended";a.OpenCircle="OpenCircle";a.CoverageEdgesWithTicks="CoverageEdgesWithTicks";a.GapExtentWithDoubleTicks=
"GapExtentWithDoubleTicks";a.GapExtentMidline="GapExtentMidline";a.Chevron="Chevron";a.PerpendicularWithArc="PerpendicularWithArc";a.ClosedHalfCircle="ClosedHalfCircle";a.TripleParallelExtended="TripleParallelExtended";a.ParallelWithTicks="ParallelWithTicks";a.Parallel="Parallel";a.PerpendicularToFirstSegment="PerpendicularToFirstSegment";a.ParallelOffset="ParallelOffset";a.OffsetOpposite="OffsetOpposite";a.OffsetSame="OffsetSame";a.CircleWithArc="CircleWithArc";a.DoubleJog="DoubleJog";a.PerpendicularOffset=
"PerpendicularOffset";a.LineExcludingLastSegment="LineExcludingLastSegment";a.MultivertexArrow="MultivertexArrow";a.CrossedArrow="CrossedArrow";a.ChevronArrow="ChevronArrow";a.ChevronArrowOffset="ChevronArrowOffset";a.PartialFirstSegment="PartialFirstSegment";a.Arch="Arch";a.CurvedParallelTicks="CurvedParallelTicks";a.Arc90Degrees="Arc90Degrees"})(b.GeometricEffectControlMeasureLineRule||(b.GeometricEffectControlMeasureLineRule={}));b.GeometricEffectDonutMethod=void 0;(function(a){a.Mitered="Mitered";
a.Bevelled="Bevelled";a.Rounded="Rounded";a.Square="Square";a.TrueBuffer="TrueBuffer"})(b.GeometricEffectDonutMethod||(b.GeometricEffectDonutMethod={}));b.GeometricEffectEnclosingPolygonMethod=void 0;(function(a){a.ClosePath="ClosePath";a.ConvexHull="ConvexHull";a.RectangularBox="RectangularBox"})(b.GeometricEffectEnclosingPolygonMethod||(b.GeometricEffectEnclosingPolygonMethod={}));b.GeometricEffectExtensionOrigin=void 0;(function(a){a.BeginningOfLine="BeginningOfLine";a.EndOfLine="EndOfLine"})(b.GeometricEffectExtensionOrigin||
(b.GeometricEffectExtensionOrigin={}));b.GeometricEffectOffsetMethod=void 0;(function(a){a.Mitered="Mitered";a.Bevelled="Bevelled";a.Rounded="Rounded";a.Square="Square"})(b.GeometricEffectOffsetMethod||(b.GeometricEffectOffsetMethod={}));b.GeometricEffectOffsetOption=void 0;(function(a){a.Fast="Fast";a.Accurate="Accurate"})(b.GeometricEffectOffsetOption||(b.GeometricEffectOffsetOption={}));b.GeometricEffectOffsetTangentMethod=void 0;(function(a){a.BeginningOfLine="BeginningOfLine";a.EndOfLine="EndOfLine"})(b.GeometricEffectOffsetTangentMethod||
(b.GeometricEffectOffsetTangentMethod={}));b.GeometricEffectWaveform=void 0;(function(a){a.Sinus="Sinus";a.Square="Square";a.Triangle="Triangle";a.Random="Random"})(b.GeometricEffectWaveform||(b.GeometricEffectWaveform={}));b.GlyphHinting=void 0;(function(a){a[a.None=0]="None";a[a.Default=1]="Default";a[a.Force=2]="Force"})(b.GlyphHinting||(b.GlyphHinting={}));b.GradientAlignment=void 0;(function(a){a[a.Buffered=0]="Buffered";a[a.Left=1]="Left";a[a.Right=2]="Right";a[a.AlongLine=3]="AlongLine"})(b.GradientAlignment||
(b.GradientAlignment={}));b.GradientFillMethod=void 0;(function(a){a[a.Linear=0]="Linear";a[a.Rectangular=1]="Rectangular";a[a.Circular=2]="Circular";a[a.Buffered=3]="Buffered"})(b.GradientFillMethod||(b.GradientFillMethod={}));b.GradientStrokeType=void 0;(function(a){a[a.Discrete=0]="Discrete";a[a.Continuous=1]="Continuous"})(b.GradientStrokeType||(b.GradientStrokeType={}));b.GradientStrokeMethod=void 0;(function(a){a[a.AcrossLine=0]="AcrossLine";a[a.AloneLine=1]="AloneLine"})(b.GradientStrokeMethod||
(b.GradientStrokeMethod={}));b.HorizontalAlignment=void 0;(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Center=2]="Center";a[a.Justify=3]="Justify"})(b.HorizontalAlignment||(b.HorizontalAlignment={}));b.LeaderLineStyle=void 0;(function(a){a[a.Base=0]="Base";a[a.MidPoint=1]="MidPoint";a[a.ThreePoint=2]="ThreePoint";a[a.FourPoint=3]="FourPoint";a[a.Underline=4]="Underline";a[a.CircularCW=5]="CircularCW";a[a.CircularCCW=6]="CircularCCW"})(b.LeaderLineStyle||(b.LeaderLineStyle={}));b.LineCapStyle=
void 0;(function(a){a.Butt="Butt";a.Round="Round";a.Square="Square"})(b.LineCapStyle||(b.LineCapStyle={}));b.LineDashEnding=void 0;(function(a){a.NoConstraint="NoConstraint";a.HalfPattern="HalfPattern";a.HalfGap="HalfGap";a.FullPattern="FullPattern";a.FullGap="FullGap";a.Custom="Custom"})(b.LineDashEnding||(b.LineDashEnding={}));b.LineDecorationStyle=void 0;(function(a){a[a.None=-1]="None";a[a.Custom=0]="Custom";a[a.Circle=1]="Circle";a[a.OpenArrow=2]="OpenArrow";a[a.ClosedArrow=3]="ClosedArrow";
a[a.Diamond=4]="Diamond"})(b.LineDecorationStyle||(b.LineDecorationStyle={}));b.LineGapType=void 0;(function(a){a[a.ExtraLeading=0]="ExtraLeading";a[a.Multiple=1]="Multiple";a[a.Exact=2]="Exact"})(b.LineGapType||(b.LineGapType={}));b.LineJoinStyle=void 0;(function(a){a.Bevel="Bevel";a.Round="Round";a.Miter="Miter"})(b.LineJoinStyle||(b.LineJoinStyle={}));b.ExpressionReturnType=void 0;(function(a){a[a.Default=0]="Default";a[a.String=1]="String";a[a.Numeric=2]="Numeric"})(b.ExpressionReturnType||(b.ExpressionReturnType=
{}));b.MarkerPlacementType=void 0;(function(a){a[a.InsidePolygon=0]="InsidePolygon";a[a.PolygonCenter=1]="PolygonCenter";a[a.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"})(b.MarkerPlacementType||(b.MarkerPlacementType={}));b.MaterialMode=void 0;(function(a){a[a.Tint=0]="Tint";a[a.Replace=1]="Replace";a[a.Multiply=2]="Multiply"})(b.MaterialMode||(b.MaterialMode={}));b.PlacementClip=void 0;(function(a){a[a.ClipAtBoundary=0]="ClipAtBoundary";a[a.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary";
a[a.DoNotTouchBoundary=2]="DoNotTouchBoundary";a[a.DoNotClip=3]="DoNotClip"})(b.PlacementClip||(b.PlacementClip={}));b.PlacementEndings=void 0;(function(a){a.NoConstraint="NoConstraint";a.WithMarkers="WithMarkers";a.WithFullGap="WithFullGap";a.WithHalfGap="WithHalfGap";a.Custom="Custom"})(b.PlacementEndings||(b.PlacementEndings={}));b.PlacementGridType=void 0;(function(a){a.Fixed="Fixed";a.Random="Random";a.RandomFixedQuantity="RandomFixedQuantity"})(b.PlacementGridType||(b.PlacementGridType={}));
b.PlacementOnLineRelativeTo=void 0;(function(a){a.LineMiddle="LineMiddle";a.LineBeginning="LineBeginning";a.LineEnd="LineEnd";a.SegmentMidpoint="SegmentMidpoint"})(b.PlacementOnLineRelativeTo||(b.PlacementOnLineRelativeTo={}));b.PlacementPolygonCenterMethod=void 0;(function(a){a.OnPolygon="OnPolygon";a.CenterOfMass="CenterOfMass";a.BoundingBoxCenter="BoundingBoxCenter"})(b.PlacementPolygonCenterMethod||(b.PlacementPolygonCenterMethod={}));b.PlacementRandomlyAlongLineRandomization=void 0;(function(a){a[a.Low=
0]="Low";a[a.Medium=1]="Medium";a[a.High=2]="High"})(b.PlacementRandomlyAlongLineRandomization||(b.PlacementRandomlyAlongLineRandomization={}));b.PlacementStepPosition=void 0;(function(a){a[a.MarkerCenter=0]="MarkerCenter";a[a.MarkerBounds=1]="MarkerBounds"})(b.PlacementStepPosition||(b.PlacementStepPosition={}));b.PointSymbolCalloutScale=void 0;(function(a){a[a.None=0]="None";a[a.PropUniform=1]="PropUniform";a[a.PropNonuniform=2]="PropNonuniform";a[a.DifUniform=3]="DifUniform";a[a.DifNonuniform=
4]="DifNonuniform"})(b.PointSymbolCalloutScale||(b.PointSymbolCalloutScale={}));b.Simple3DLineStyle=void 0;(function(a){a.Tube="Tube";a.Strip="Strip";a.Wall="Wall"})(b.Simple3DLineStyle||(b.Simple3DLineStyle={}));b.SizeVariationMethod=void 0;(function(a){a[a.Random=0]="Random";a[a.Increasing=1]="Increasing";a[a.Decreasing=2]="Decreasing";a[a.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"})(b.SizeVariationMethod||(b.SizeVariationMethod={}));b.SymbolUnits=void 0;(function(a){a[a.Relative=0]=
"Relative";a[a.Absolute=1]="Absolute"})(b.SymbolUnits||(b.SymbolUnits={}));b.TextCase=void 0;(function(a){a[a.Normal=0]="Normal";a[a.LowerCase=1]="LowerCase";a[a.Allcaps=2]="Allcaps"})(b.TextCase||(b.TextCase={}));b.TextReadingDirection=void 0;(function(a){a[a.LTR=0]="LTR";a[a.RTL=1]="RTL"})(b.TextReadingDirection||(b.TextReadingDirection={}));b.TextureFilter=void 0;(function(a){a.Draft="Draft";a.Picture="Picture";a.Text="Text"})(b.TextureFilter||(b.TextureFilter={}));b.VerticalAlignment=void 0;(function(a){a[a.Top=
0]="Top";a[a.Center=1]="Center";a[a.Baseline=2]="Baseline";a[a.Bottom=3]="Bottom"})(b.VerticalAlignment||(b.VerticalAlignment={}));b.VerticalGlyphOrientation=void 0;(function(a){a[a.Right=0]="Right";a[a.Upright=1]="Upright"})(b.VerticalGlyphOrientation||(b.VerticalGlyphOrientation={}));b.WaterbodySize=void 0;(function(a){a[a.Small=0]="Small";a[a.Medium=1]="Medium";a[a.Large=2]="Large"})(b.WaterbodySize||(b.WaterbodySize={}));b.WaveStrength=void 0;(function(a){a[a.Calm=0]="Calm";a[a.Rippled=1]="Rippled";
a[a.Slight=2]="Slight";a[a.Moderate=3]="Moderate"})(b.WaveStrength||(b.WaveStrength={}));Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../enums ../shaders/VTLBackgroundMaterial ../shaders/VTLCircleMaterial ../shaders/VTLFillMaterial ../shaders/VTLLineMaterial ../shaders/VTLSymbolMaterial ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(b,a,x,m,q,g,p,k,n,d,h,c){b.CapType=void 0;(function(F){F[F.BUTT=0]="BUTT";F[F.ROUND=1]="ROUND";F[F.SQUARE=2]="SQUARE";F[F.UNKNOWN=4]="UNKNOWN"})(b.CapType||(b.CapType={}));let e=function(){function F(z,u,H,B){this.type=z;this.typeName=u.type;this.id=u.id;this.source=u.source;this.sourceLayer=u["source-layer"];this.minzoom=u.minzoom;this.maxzoom=u.maxzoom;this.filter=u.filter;this.layout=u.layout;this.paint=u.paint;this.z=H;this.uid=B;switch(z){case d.StyleLayerType.BACKGROUND:this._layoutDefinition=
d.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=d.StyleDefinition.backgroundPaintDefinition;break;case d.StyleLayerType.FILL:this._layoutDefinition=d.StyleDefinition.fillLayoutDefinition;this._paintDefinition=d.StyleDefinition.fillPaintDefinition;break;case d.StyleLayerType.LINE:this._layoutDefinition=d.StyleDefinition.lineLayoutDefinition;this._paintDefinition=d.StyleDefinition.linePaintDefinition;break;case d.StyleLayerType.SYMBOL:this._layoutDefinition=d.StyleDefinition.symbolLayoutDefinition;
this._paintDefinition=d.StyleDefinition.symbolPaintDefinition;break;case d.StyleLayerType.CIRCLE:this._layoutDefinition=d.StyleDefinition.circleLayoutDefinition,this._paintDefinition=d.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}var E=F.prototype;E.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=n.createFilter(this.filter)};E.getLayoutProperty=
function(z){return this._layoutProperties[z]};E.getPaintProperty=function(z){return this._paintProperties[z]};E.getLayoutValue=function(z,u,H){let B;const L=this._layoutProperties[z];L&&(B=L.getValue(u,H));void 0===B&&(B=this._layoutDefinition[z]["default"]);return B};E.getPaintValue=function(z,u,H){let B;const L=this._paintProperties[z];L&&(B=L.getValue(u,H));void 0===B&&(B=this._paintDefinition[z]["default"]);return B};E.isPainterDataDriven=function(){const z=this._paintProperties;if(z)for(const u in z)if(z[u].isDataDriven)return!0;
return!1};E._parseLayout=function(z){const u={};for(const H in z){const B=this._layoutDefinition[H];B&&(u[H]=new h(B,z[H]))}return u};E._parsePaint=function(z){const u={};for(const H in z){const B=this._paintDefinition[H];B&&(u[H]=new h(B,z[H]))}return u};E.computeAttributesKey=function(z,u,H,B){let L=0,P=0;for(const M of u){u=3;if(!M||M!==B){const {isLayout:N,isOptional:R}=H[M];u=N?this.getLayoutProperty(M):this.getPaintProperty(M);u=u?.interpolator?2:u?.isDataDriven?1:R&&!u?3:0}P|=u<<L;L+=2}return P<<
3|z};return a._createClass(F)}(),v=function(F){function E(z,u,H,B){z=F.call(this,z,u,H,B)||this;z.backgroundMaterial=new m.VTLBackgroundMaterial(z.computeAttributesKey(x.ShaderProgramType.BACKGROUND,m.VTLBackgroundMaterial.ATTRIBUTES,m.VTLBackgroundMaterial.ATTRIBUTES_INFO));return z}a._inherits(E,F);return a._createClass(E)}(e),t=function(F){function E(z,u,H,B){z=F.call(this,z,u,H,B)||this;u=z.getPaintProperty("fill-color");H=z.getPaintProperty("fill-opacity");B=z.getPaintProperty("fill-pattern");
z.hasDataDrivenColor=u?.isDataDriven;z.hasDataDrivenOpacity=H?.isDataDriven;z.hasDataDrivenFill=z.hasDataDrivenColor||z.hasDataDrivenOpacity||B?.isDataDriven;H=z.getPaintProperty("fill-outline-color");z.outlineUsesFillColor=!H;z.hasDataDrivenOutlineColor=H?.isDataDriven;z.hasDataDrivenOutline=H?H.isDataDriven:u?u.isDataDriven:!1;z.hasDataDrivenOutline=(H?z.hasDataDrivenOutlineColor:z.hasDataDrivenColor)||z.hasDataDrivenOpacity;z.fillMaterial=new g.VTLFillMaterial(z.computeAttributesKey(x.ShaderProgramType.FILL,
g.VTLFillMaterial.ATTRIBUTES,g.VTLFillMaterial.ATTRIBUTES_INFO));z.outlineMaterial=new g.VTLOutlineMaterial(z.computeAttributesKey(x.ShaderProgramType.OUTLINE,z.outlineUsesFillColor?g.VTLOutlineMaterial.ATTRIBUTES_FILL:g.VTLOutlineMaterial.ATTRIBUTES_OUTLINE,z.outlineUsesFillColor?g.VTLOutlineMaterial.ATTRIBUTES_INFO_FILL:g.VTLOutlineMaterial.ATTRIBUTES_INFO_OUTLINE),z.outlineUsesFillColor);return z}a._inherits(E,F);return a._createClass(E)}(e),y=function(F){function E(z,u,H,B){z=F.call(this,z,u,
H,B)||this;u=z.getPaintProperty("line-pattern");z.lineMaterial=new p.VTLLineMaterial(z.computeAttributesKey(x.ShaderProgramType.LINE,p.VTLLineMaterial.ATTRIBUTES,p.VTLLineMaterial.ATTRIBUTES_INFO,u?"line-dasharray":""));z.hasDataDrivenLine=z.getPaintProperty("line-blur")?.isDataDriven||z.getPaintProperty("line-color")?.isDataDriven||z.getPaintProperty("line-gap-width")?.isDataDriven||z.getPaintProperty("line-offset")?.isDataDriven||z.getPaintProperty("line-opacity")?.isDataDriven||z.getPaintProperty("line-pattern")?.isDataDriven||
z.getPaintProperty("line-dasharray")?.isDataDriven||z.getLayoutProperty("line-cap")?.isDataDriven||z.getPaintProperty("line-width")?.isDataDriven;z.canUseThinTessellation=!1;!z.hasDataDrivenLine&&(u=z.getPaintProperty("line-width"),!u||"number"===typeof u&&.5*u<c.THIN_LINE_HALF_WIDTH_THRESHOLD)&&(u=z.getPaintProperty("line-offset"),!u||"number"===typeof u&&0===u)&&(z.canUseThinTessellation=!0);return z}a._inherits(E,F);E.prototype.getDashKey=function(z,u){switch(u){case b.CapType.BUTT:u="Butt";break;
case b.CapType.ROUND:u="Round";break;case b.CapType.SQUARE:u="Square";break;default:u="Butt"}return`dasharray-[${z.toString()}]-${u}`};return a._createClass(E)}(e),D=function(F){function E(z,u,H,B){z=F.call(this,z,u,H,B)||this;z.iconMaterial=new k.VTLIconMaterial(z.computeAttributesKey(x.ShaderProgramType.ICON,k.VTLIconMaterial.ATTRIBUTES,k.VTLIconMaterial.ATTRIBUTES_INFO));z.textMaterial=new k.VTLTextMaterial(z.computeAttributesKey(x.ShaderProgramType.TEXT,k.VTLTextMaterial.ATTRIBUTES,k.VTLTextMaterial.ATTRIBUTES_INFO));
z.hasDataDrivenIcon=z.getPaintProperty("icon-color")?.isDataDriven||z.getPaintProperty("icon-halo-blur")?.isDataDriven||z.getPaintProperty("icon-halo-color")?.isDataDriven||z.getPaintProperty("icon-halo-width")?.isDataDriven||z.getPaintProperty("icon-opacity")?.isDataDriven||z.getLayoutProperty("icon-size")?.isDataDriven;z.hasDataDrivenText=z.getPaintProperty("text-color")?.isDataDriven||z.getPaintProperty("text-halo-blur")?.isDataDriven||z.getPaintProperty("text-halo-color")?.isDataDriven||z.getPaintProperty("text-halo-width")?.isDataDriven||
z.getPaintProperty("text-opacity")?.isDataDriven||z.getLayoutProperty("text-size")?.isDataDriven;return z}a._inherits(E,F);return a._createClass(E)}(e),C=function(F){function E(z,u,H,B){z=F.call(this,z,u,H,B)||this;z.circleMaterial=new q.VTLCircleMaterial(z.computeAttributesKey(x.ShaderProgramType.CIRCLE,q.VTLCircleMaterial.ATTRIBUTES,q.VTLCircleMaterial.ATTRIBUTES_INFO));return z}a._inherits(E,F);return a._createClass(E)}(e),G=function(){function F(E,z,u){this.allowOverlap=E.getLayoutValue("icon-allow-overlap",
z);this.ignorePlacement=E.getLayoutValue("icon-ignore-placement",z);this.keepUpright=E.getLayoutValue("icon-keep-upright",z);this.optional=E.getLayoutValue("icon-optional",z);this.rotationAlignment=E.getLayoutValue("icon-rotation-alignment",z);this.rotationAlignment===d.RotationAlignment.AUTO&&(this.rotationAlignment=u?d.RotationAlignment.MAP:d.RotationAlignment.VIEWPORT);u=E.getLayoutProperty("icon-anchor");u?.isDataDriven?this._anchorProp=u:this.anchor=E.getLayoutValue("icon-anchor",z);u=E.getLayoutProperty("icon-offset");
u?.isDataDriven?this._offsetProp=u:this.offset=E.getLayoutValue("icon-offset",z);u=E.getLayoutProperty("icon-padding");u?.isDataDriven?this._paddingProp=u:this.padding=E.getLayoutValue("icon-padding",z);u=E.getLayoutProperty("icon-rotate");u?.isDataDriven?this._rotateProp=u:this.rotate=E.getLayoutValue("icon-rotate",z);u=E.getLayoutProperty("icon-size");u?.isDataDriven?this._sizeProp=u:this.size=E.getLayoutValue("icon-size",z)}F.prototype.update=function(E,z){this._anchorProp&&(this.anchor=this._anchorProp.getValue(E,
z));this._offsetProp&&(this.offset=this._offsetProp.getValue(E,z));this._paddingProp&&(this.padding=this._paddingProp.getValue(E,z));this._rotateProp&&(this.rotate=this._rotateProp.getValue(E,z));this._sizeProp&&(this.size=this._sizeProp.getValue(E,z))};return a._createClass(F)}(),K=function(){function F(E,z,u){this.allowOverlap=E.getLayoutValue("text-allow-overlap",z);this.ignorePlacement=E.getLayoutValue("text-ignore-placement",z);this.keepUpright=E.getLayoutValue("text-keep-upright",z);this.optional=
E.getLayoutValue("text-optional",z);this.rotationAlignment=E.getLayoutValue("text-rotation-alignment",z);this.rotationAlignment===d.RotationAlignment.AUTO&&(this.rotationAlignment=u?d.RotationAlignment.MAP:d.RotationAlignment.VIEWPORT);u=E.getLayoutProperty("text-anchor");u?.isDataDriven?this._anchorProp=u:this.anchor=E.getLayoutValue("text-anchor",z);u=E.getLayoutProperty("text-justify");u?.isDataDriven?this._justifyProp=u:this.justify=E.getLayoutValue("text-justify",z);u=E.getLayoutProperty("text-letter-spacing");
u?.isDataDriven?this._letterSpacingProp=u:this.letterSpacing=E.getLayoutValue("text-letter-spacing",z);u=E.getLayoutProperty("text-line-height");u?.isDataDriven?this._lineHeightProp=u:this.lineHeight=E.getLayoutValue("text-line-height",z);u=E.getLayoutProperty("text-max-angle");u?.isDataDriven?this._maxAngleProp=u:this.maxAngle=E.getLayoutValue("text-max-angle",z);u=E.getLayoutProperty("text-max-width");u?.isDataDriven?this._maxWidthProp=u:this.maxWidth=E.getLayoutValue("text-max-width",z);u=E.getLayoutProperty("text-offset");
u?.isDataDriven?this._offsetProp=u:this.offset=E.getLayoutValue("text-offset",z);u=E.getLayoutProperty("text-padding");u?.isDataDriven?this._paddingProp=u:this.padding=E.getLayoutValue("text-padding",z);u=E.getLayoutProperty("text-rotate");u?.isDataDriven?this._rotateProp=u:this.rotate=E.getLayoutValue("text-rotate",z);u=E.getLayoutProperty("text-size");u?.isDataDriven?this._sizeProp=u:this.size=E.getLayoutValue("text-size",z);u=E.getLayoutProperty("text-writing-mode");u?.isDataDriven?this._writingModeProp=
u:this.writingMode=E.getLayoutValue("text-writing-mode",z)}F.prototype.update=function(E,z){this._anchorProp&&(this.anchor=this._anchorProp.getValue(E,z));this._justifyProp&&(this.justify=this._justifyProp.getValue(E,z));this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(E,z));this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(E,z));this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(E,z));this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(E,
z));this._offsetProp&&(this.offset=this._offsetProp.getValue(E,z));this._paddingProp&&(this.padding=this._paddingProp.getValue(E,z));this._rotateProp&&(this.rotate=this._rotateProp.getValue(E,z));this._sizeProp&&(this.size=this._sizeProp.getValue(E,z));this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(E,z))};return a._createClass(F)}();b.BackgroundStyleLayer=v;b.CircleStyleLayer=C;b.FillStyleLayer=t;b.IconLayout=G;b.LineStyleLayer=y;b.StyleLayer=e;b.SymbolStyleLayer=D;b.TextLayout=
K;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/enums":function(){define(["exports"],function(b){b.BucketType=void 0;(function(a){a[a.FILL=1]="FILL";a[a.LINE=2]="LINE";a[a.SYMBOL=3]="SYMBOL";a[a.CIRCLE=4]="CIRCLE"})(b.BucketType||(b.BucketType={}));b.ShaderProgramType=void 0;(function(a){a[a.BACKGROUND=0]="BACKGROUND";a[a.FILL=1]="FILL";a[a.OUTLINE=2]="OUTLINE";a[a.LINE=3]="LINE";a[a.ICON=4]="ICON";a[a.CIRCLE=5]="CIRCLE";a[a.TEXT=6]="TEXT";a[a.TILEINFO=
7]="TILEINFO"})(b.ShaderProgramType||(b.ShaderProgramType={}));b.StyleUpdateType=void 0;(function(a){a[a.PAINTER_CHANGED=0]="PAINTER_CHANGED";a[a.LAYOUT_CHANGED=1]="LAYOUT_CHANGED";a[a.LAYER_CHANGED=2]="LAYER_CHANGED";a[a.LAYER_REMOVED=3]="LAYER_REMOVED";a[a.SPRITES_CHANGED=4]="SPRITES_CHANGED"})(b.StyleUpdateType||(b.StyleUpdateType={}));Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLBackgroundMaterial":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers",
"./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(b,a,x,m,q){x=function(g){function p(n){return g.call(this,n)||this}a._inherits(p,g);var k=p.prototype;k.geometryInfo=function(){return p.GEOMETRY_LAYOUT};k.opacityInfo=function(){return null};k.attributes=function(){return p.ATTRIBUTES};k.attributesInfo=function(){return p.ATTRIBUTES_INFO};return a._createClass(p)}(x.VTLMaterial);x.ATTRIBUTES=[];x.GEOMETRY_LAYOUT=[new q.VertexElementDescriptor("a_pos",
2,m.DataType.BYTE,0,2)];x.ATTRIBUTES_INFO={};b.VTLBackgroundMaterial=x;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../MemoryBuffer ./enums ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(b,a,x,m,q,g){let p=function(){function d(c){this._locations=new Map;this._key=c}var h=d.prototype;h.defines=function(){return[]};
h.getStride=function(){this._layoutInfo||this._buildAttributesInfo();return this._stride};h.getAttributeLocations=function(){0===this._locations.size&&this._buildAttributesInfo();return this._locations};h.getLayoutInfo=function(){this._layoutInfo||this._buildAttributesInfo();return this._layoutInfo};h.getEncodingInfos=function(){this._propertyEncodingInfo||this._buildAttributesInfo();return this._propertyEncodingInfo};h.getUniforms=function(){this._uniforms||this._buildAttributesInfo();return this._uniforms};
h.getShaderHeader=function(){this._shaderHeader||this._buildAttributesInfo();return this._shaderHeader};h.getShaderMain=function(){this._shaderMain||this._buildAttributesInfo();return this._shaderMain};h.setDataUniforms=function(c,e,v,t,y){var D=this.getUniforms();for(const C of D){const {name:G,type:K,getValue:F}=C;D=F(v,e,t,y);if(null!==D)switch(K){case "float":c.setUniform1f(G,D);break;case "vec2":c.setUniform2fv(G,D);break;case "vec4":c.setUniform4fv(G,D)}}};h.encodeAttributes=function(c,e,v,
t){const y=this.attributesInfo(),D=this.getEncodingInfos(),C=[];let G=0,K=0;for(const E of Object.keys(D)){var F=D[E];const {type:z,precisionFactor:u,isLayout:H}=y[E],B=H?v.getLayoutProperty(E):v.getPaintProperty(E),L=B.interpolator?.getInterpolationRange(e);let P=0;for(const M of F){const {offset:N,bufferElementsToAdd:R}=M;if(0<R){for(F=0;F<R;F++)C.push(0);G+=K;K=M.bufferElementsToAdd}F=t??B.getValue(L?L[P]:e,c);switch(z){case m.EncodingType.R8_SIGNED:case m.EncodingType.R8_UNSIGNED:C[G]|=this._encodeByte(F*
(u||1),8*N);break;case m.EncodingType.R16_SIGNED:case m.EncodingType.R16_UNSIGNED:C[G]|=this._encodeShort(F*(u||1),8*N);break;case m.EncodingType.R8G8_SIGNED:case m.EncodingType.R8G8_UNSIGNED:C[G]|=this._encodeByte(F*(u||1),8*N);C[G]|=this._encodeByte(F*(u||1),8*N+8);break;case m.EncodingType.R16G16_SIGNED:case m.EncodingType.R16G16_UNSIGNED:C[G]|=this._encodeShort(F*(u||1),8*N);C[G]|=this._encodeShort(F*(u||1),8*N+16);break;case m.EncodingType.R8G8B8A8_SIGNED:case m.EncodingType.R8G8B8A8_UNSIGNED:C[G]|=
this._encodeByte(F*(u||1),8*N);C[G]|=this._encodeByte(F*(u||1),8*N+8);C[G]|=this._encodeByte(F*(u||1),8*N+16);C[G]|=this._encodeByte(F*(u||1),8*N+24);break;case m.EncodingType.R8G8B8A8_COLOR:C[G]=this._encodeColor(F);break;case m.EncodingType.R16G16B16A16_DASHARRAY:case m.EncodingType.R16G16B16A16_PATTERN:this._encodePattern(G,C,F);break;default:throw Error("Unsupported encoding type");}P++}}return C};h.getAtributeState=function(c){const e=3+2*c;c=0|this._bit(e);return c|=this._bit(e+1)<<1};h._buildAttributesInfo=
function(){const c=[],e={};var v={},t=-1;const y=this.attributesInfo();var D=this.attributes();let C=-1;for(const E of D){C++;D=this.getAtributeState(C);if(D===m.AttributeStatus.UNIFORM||D===m.AttributeStatus.UNUSED)continue;var G=y[E];const z=[];e[E]=z;G=G.type;for(let u=0;u<D;u++){const {dataType:H,bytesPerElement:B,count:L,normalized:P}=d._encodingInfo[G],M=B*L;var K=`${H}-${!0===P}`;let N=v[K],R=0;!N||4<N.count+L?(t++,N={dataIndex:t,count:0,offset:0},4!==L&&(v[K]=N),c.push({location:-1,name:"a_data_"+
t,count:L,type:H,normalized:P}),R=Math.ceil(Math.max(M/4,1))):(K=c[N.dataIndex],K.count+=L,R=Math.ceil(Math.max(K.count*B/4,1))-Math.ceil(Math.max(N.offset/4,1)));z.push({dataIndex:N.dataIndex,offset:N.offset,bufferElementsToAdd:R});N.offset+=M;N.count+=L}}for(const E of c)switch(E.type){case q.DataType.BYTE:case q.DataType.UNSIGNED_BYTE:E.count=4;break;case q.DataType.SHORT:case q.DataType.UNSIGNED_SHORT:E.count+=E.count%2}this._buildVertexBufferLayout(c);v=0;t=this._layoutInfo.geometry;for(var F of t)this._locations.set(F.name,
v++);if(F=this._layoutInfo.opacity)for(const E of F)this._locations.set(E.name,v++);this._buildShaderInfo(c,e);this._propertyEncodingInfo=e};h._buildVertexBufferLayout=function(c){const e={},v=this.geometryInfo();let t=v[0].stride;if(0===c.length)e.geometry=v;else{const y=[];let D=t;for(const C of c)t+=k(C.type)*C.count;for(const C of v)y.push(new g.VertexElementDescriptor(C.name,C.count,C.type,C.offset,t,C.normalized));for(const C of c)y.push(new g.VertexElementDescriptor(C.name,C.count,C.type,D,
t,C.normalized)),D+=k(C.type)*C.count;e.geometry=y}this.opacityInfo()&&(e.opacity=this.opacityInfo());this._layoutInfo=e;this._stride=t};h._buildShaderInfo=function(c,e){let v="\n",t="\n";const y=[];for(var D of c)v+=`attribute ${this._getType(D.count)} ${D.name};\n`;var C=this.attributes();c=this.attributesInfo();D=-1;for(const F of C){D++;const {name:E,type:z,precisionFactor:u,isLayout:H}=c[F];C=u&&1!==u?` * ${1/u}`:"";const {bytesPerElement:B,count:L}=d._encodingInfo[z];var G=P=>`a_data_${P.dataIndex}${n(L,
P.offset,B)}`;switch(this.getAtributeState(D)){case m.AttributeStatus.UNIFORM:C=this._getType(L);var K=`u_${E}`;y.push({name:K,type:C,getValue:(M,N,R,T)=>{R=H?M.getLayoutValue(F,N):M.getPaintValue(F,N);if(z===m.EncodingType.R16G16B16A16_DASHARRAY){M=M.getDashKey(R,M.getLayoutValue("line-cap",N));T=T.getMosaicItemPosition(M,!1);if(null==T)return null;const {tl:V,br:Y}=T;return[V[0],Y[1],Y[0],V[1]]}if(z===m.EncodingType.R16G16B16A16_PATTERN){T=T.getMosaicItemPosition(R,!F.includes("line-"));if(null==
T)return null;const {tl:V,br:Y}=T;return[V[0],Y[1],Y[0],V[1]]}return z===m.EncodingType.R8G8B8A8_COLOR?(T=R[3],[T*R[0],T*R[1],T*R[2],T]):R}});v+=`uniform ${C} ${K};\n`;t+=`${C} ${E} = ${K};\n`;break;case m.AttributeStatus.DATA_DRIVEN:K=G(e[F][0]);t+=`${this._getType(L)} ${E} = ${K}${C};\n`;break;case m.AttributeStatus.INTERPOLATED_DATA_DRIVEN:K=`u_t_${E}`;y.push({name:K,type:"float",getValue:(M,N,R,T)=>(H?M.getLayoutProperty(F):M.getPaintProperty(F)).interpolator.interpolationUniformValue(R,N)});
v+=`uniform float ${K};\n`;const P=G(e[F][0]);G=G(e[F][1]);t+=`${this._getType(L)} ${E} = mix(${P}${C}, ${G}${C}, ${K});\n`}}this._shaderHeader=v;this._shaderMain=t;this._uniforms=y};h._bit=function(c){return(this._key&1<<c)>>c};h._getType=function(c){switch(c){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw Error("Invalid count");};h._encodeColor=function(c){const e=255*c[3];return x.i8888to32(c[0]*e,c[1]*e,c[2]*e,e)};h._encodePattern=function(c,e,v){if(v&&
v.rect){var t=v.rect,y=v.width;v=v.height;e[c]=this._encodeShort(t.x+2,0);e[c]|=this._encodeShort(t.y+2+v,16);e[c+1]=this._encodeShort(t.x+2+y,0);e[c+1]|=this._encodeShort(t.y+2,16)}};h._encodeByte=function(c,e){return(c&255)<<e};h._encodeShort=function(c,e){return(c&65535)<<e};a._createClass(d,[{key:"key",get:function(){return this._key}},{key:"type",get:function(){return this._key&7}}]);return d}();p._encodingInfo={[m.EncodingType.R8_SIGNED]:{dataType:q.DataType.BYTE,bytesPerElement:1,count:1,normalized:!1},
[m.EncodingType.R8_UNSIGNED]:{dataType:q.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[m.EncodingType.R16_SIGNED]:{dataType:q.DataType.SHORT,bytesPerElement:2,count:1,normalized:!1},[m.EncodingType.R16_UNSIGNED]:{dataType:q.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[m.EncodingType.R8G8_SIGNED]:{dataType:q.DataType.BYTE,bytesPerElement:1,count:2,normalized:!1},[m.EncodingType.R8G8_UNSIGNED]:{dataType:q.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},
[m.EncodingType.R16G16_SIGNED]:{dataType:q.DataType.SHORT,bytesPerElement:2,count:2,normalized:!1},[m.EncodingType.R16G16_UNSIGNED]:{dataType:q.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[m.EncodingType.R8G8B8A8_SIGNED]:{dataType:q.DataType.BYTE,bytesPerElement:1,count:4,normalized:!1},[m.EncodingType.R8G8B8A8_UNSIGNED]:{dataType:q.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1},[m.EncodingType.R8G8B8A8_COLOR]:{dataType:q.DataType.UNSIGNED_BYTE,bytesPerElement:1,
count:4,normalized:!0},[m.EncodingType.R16G16B16A16_DASHARRAY]:{dataType:q.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[m.EncodingType.R16G16B16A16_PATTERN]:{dataType:q.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}};const k=d=>{switch(d){case q.DataType.FLOAT:return 4;case q.DataType.INT:return 4;case q.DataType.UNSIGNED_INT:return 4;case q.DataType.SHORT:return 2;case q.DataType.UNSIGNED_SHORT:return 2;case q.DataType.BYTE:return 1;case q.DataType.UNSIGNED_BYTE:return 1}},
n=(d,h,c)=>{h/=c;if(1===d)switch(h){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===d)switch(h){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===d)switch(h){case 0:return".xyz";case 1:return".yzw"}return""};b.VTLMaterial=p;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["../../../../chunks/_rollupPluginBabelHelpers"],function(b){return function(){function a(m){this._array=
[];0>=m&&console.error("strideInBytes must be positive!");this._stride=m}var x=a.prototype;x.reset=function(){this.array.length=0};x.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(m,q){return 65535&m|q<<16};a.i8888to32=function(m,q,g,p){return m&255|(q&255)<<8|(g&255)<<16|p<<24};a.i8816to32=function(m,q,g){return m&255|(q&255)<<8|g<<16};b._createClass(a,[{key:"array",get:function(){return this._array}},{key:"index",get:function(){return 4*this._array.length/
this._stride}},{key:"itemSize",get:function(){return this._stride}},{key:"sizeInBytes",get:function(){return 4*this._array.length}}]);return a}()})},"esri/views/2d/engine/vectorTiles/shaders/enums":function(){define(["exports"],function(b){b.EncodingType=void 0;(function(a){a[a.R8_SIGNED=0]="R8_SIGNED";a[a.R8_UNSIGNED=1]="R8_UNSIGNED";a[a.R16_SIGNED=2]="R16_SIGNED";a[a.R16_UNSIGNED=3]="R16_UNSIGNED";a[a.R8G8_SIGNED=4]="R8G8_SIGNED";a[a.R8G8_UNSIGNED=5]="R8G8_UNSIGNED";a[a.R16G16_SIGNED=6]="R16G16_SIGNED";
a[a.R16G16_UNSIGNED=7]="R16G16_UNSIGNED";a[a.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED";a[a.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED";a[a.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR";a[a.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY";a[a.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN"})(b.EncodingType||(b.EncodingType={}));b.AttributeStatus=void 0;(function(a){a[a.UNIFORM=0]="UNIFORM";a[a.DATA_DRIVEN=1]="DATA_DRIVEN";a[a.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN";a[a.UNUSED=3]="UNUSED"})(b.AttributeStatus||
(b.AttributeStatus={}));Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/enums":function(){define(["exports"],function(b){b.ClearBufferBit=void 0;(function(a){a[a.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT";a[a.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT";a[a.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"})(b.ClearBufferBit||(b.ClearBufferBit={}));b.PrimitiveType=void 0;(function(a){a[a.POINTS=0]="POINTS";a[a.LINES=1]="LINES";a[a.LINE_LOOP=2]="LINE_LOOP";a[a.LINE_STRIP=
3]="LINE_STRIP";a[a.TRIANGLES=4]="TRIANGLES";a[a.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";a[a.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(b.PrimitiveType||(b.PrimitiveType={}));b.BlendFactor=void 0;(function(a){a[a.ZERO=0]="ZERO";a[a.ONE=1]="ONE";a[a.SRC_COLOR=768]="SRC_COLOR";a[a.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR";a[a.SRC_ALPHA=770]="SRC_ALPHA";a[a.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA";a[a.DST_ALPHA=772]="DST_ALPHA";a[a.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA";a[a.DST_COLOR=774]="DST_COLOR";
a[a.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR";a[a.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE";a[a.CONSTANT_COLOR=32769]="CONSTANT_COLOR";a[a.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR";a[a.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA";a[a.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"})(b.BlendFactor||(b.BlendFactor={}));b.BlendOperation=void 0;(function(a){a[a.ADD=32774]="ADD";a[a.MIN=32775]="MIN";a[a.MAX=32776]="MAX";a[a.SUBTRACT=32778]="SUBTRACT";a[a.REVERSE_SUBTRACT=
32779]="REVERSE_SUBTRACT"})(b.BlendOperation||(b.BlendOperation={}));b.BufferType=void 0;(function(a){a[a.ARRAY_BUFFER=34962]="ARRAY_BUFFER";a[a.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER";a[a.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";a[a.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER";a[a.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER";a[a.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER";a[a.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"})(b.BufferType||(b.BufferType={}));b.Face=void 0;(function(a){a[a.FRONT=
1028]="FRONT";a[a.BACK=1029]="BACK";a[a.FRONT_AND_BACK=1032]="FRONT_AND_BACK"})(b.Face||(b.Face={}));b.CullMode=void 0;(function(a){a[a.CW=2304]="CW";a[a.CCW=2305]="CCW"})(b.CullMode||(b.CullMode={}));b.DataType=void 0;(function(a){a[a.BYTE=5120]="BYTE";a[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";a[a.SHORT=5122]="SHORT";a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";a[a.INT=5124]="INT";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.FLOAT=5126]="FLOAT"})(b.DataType||(b.DataType={}));b.CompareFunction=void 0;(function(a){a[a.NEVER=
512]="NEVER";a[a.LESS=513]="LESS";a[a.EQUAL=514]="EQUAL";a[a.LEQUAL=515]="LEQUAL";a[a.GREATER=516]="GREATER";a[a.NOTEQUAL=517]="NOTEQUAL";a[a.GEQUAL=518]="GEQUAL";a[a.ALWAYS=519]="ALWAYS"})(b.CompareFunction||(b.CompareFunction={}));b.StencilOperation=void 0;(function(a){a[a.ZERO=0]="ZERO";a[a.KEEP=7680]="KEEP";a[a.REPLACE=7681]="REPLACE";a[a.INCR=7682]="INCR";a[a.DECR=7683]="DECR";a[a.INVERT=5386]="INVERT";a[a.INCR_WRAP=34055]="INCR_WRAP";a[a.DECR_WRAP=34056]="DECR_WRAP"})(b.StencilOperation||(b.StencilOperation=
{}));b.TextureSamplingMode=void 0;(function(a){a[a.NEAREST=9728]="NEAREST";a[a.LINEAR=9729]="LINEAR";a[a.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST";a[a.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST";a[a.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR";a[a.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"})(b.TextureSamplingMode||(b.TextureSamplingMode={}));b.TextureWrapMode=void 0;(function(a){a[a.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE";a[a.REPEAT=10497]="REPEAT";a[a.MIRRORED_REPEAT=
33648]="MIRRORED_REPEAT"})(b.TextureWrapMode||(b.TextureWrapMode={}));b.TextureType=void 0;(function(a){a[a.TEXTURE_2D=3553]="TEXTURE_2D";a[a.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";a[a.TEXTURE_3D=32879]="TEXTURE_3D";a[a.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";a[a.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";a[a.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";a[a.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";a[a.TEXTURE_CUBE_MAP_POSITIVE_Z=
34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";a[a.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z";a[a.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"})(b.TextureType||(b.TextureType={}));b.PixelFormat=void 0;(function(a){a[a.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT";a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL";a[a.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8";a[a.ALPHA=6406]="ALPHA";a[a.RGB=6407]="RGB";a[a.RGBA=6408]="RGBA";a[a.LUMINANCE=6409]="LUMINANCE";a[a.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";a[a.RED=
6403]="RED";a[a.RG=33319]="RG";a[a.RED_INTEGER=36244]="RED_INTEGER";a[a.RG_INTEGER=33320]="RG_INTEGER";a[a.RGB_INTEGER=36248]="RGB_INTEGER";a[a.RGBA_INTEGER=36249]="RGBA_INTEGER"})(b.PixelFormat||(b.PixelFormat={}));b.SizedPixelFormat=void 0;(function(a){a[a.RGBA4=32854]="RGBA4";a[a.R16F=33325]="R16F";a[a.RG16F=33327]="RG16F";a[a.RGB32F=34837]="RGB32F";a[a.RGBA16F=34842]="RGBA16F";a[a.R32F=33326]="R32F";a[a.RG32F=33328]="RG32F";a[a.RGBA32F=34836]="RGBA32F";a[a.R11F_G11F_B10F=35898]="R11F_G11F_B10F";
a[a.RGB8=32849]="RGB8";a[a.RGBA8=32856]="RGBA8";a[a.RGB5_A1=32855]="RGB5_A1";a[a.R8=33321]="R8";a[a.RG8=33323]="RG8";a[a.R8I=33329]="R8I";a[a.R8UI=33330]="R8UI";a[a.R16I=33331]="R16I";a[a.R16UI=33332]="R16UI";a[a.R32I=33333]="R32I";a[a.R32UI=33334]="R32UI";a[a.RG8I=33335]="RG8I";a[a.RG8UI=33336]="RG8UI";a[a.RG16I=33337]="RG16I";a[a.RG16UI=33338]="RG16UI";a[a.RG32I=33339]="RG32I";a[a.RG32UI=33340]="RG32UI";a[a.RGB16F=34843]="RGB16F";a[a.RGB9_E5=35901]="RGB9_E5";a[a.SRGB8=35905]="SRGB8";a[a.SRGB8_ALPHA8=
35907]="SRGB8_ALPHA8";a[a.RGB565=36194]="RGB565";a[a.RGBA32UI=36208]="RGBA32UI";a[a.RGB32UI=36209]="RGB32UI";a[a.RGBA16UI=36214]="RGBA16UI";a[a.RGB16UI=36215]="RGB16UI";a[a.RGBA8UI=36220]="RGBA8UI";a[a.RGB8UI=36221]="RGB8UI";a[a.RGBA32I=36226]="RGBA32I";a[a.RGB32I=36227]="RGB32I";a[a.RGBA16I=36232]="RGBA16I";a[a.RGB16I=36233]="RGB16I";a[a.RGBA8I=36238]="RGBA8I";a[a.RGB8I=36239]="RGB8I";a[a.R8_SNORM=36756]="R8_SNORM";a[a.RG8_SNORM=36757]="RG8_SNORM";a[a.RGB8_SNORM=36758]="RGB8_SNORM";a[a.RGBA8_SNORM=
36759]="RGBA8_SNORM";a[a.RGB10_A2=32857]="RGB10_A2";a[a.RGB10_A2UI=36975]="RGB10_A2UI"})(b.SizedPixelFormat||(b.SizedPixelFormat={}));b.PixelType=void 0;(function(a){a[a.FLOAT=5126]="FLOAT";a[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";a[a.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8";a[a.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4";a[a.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";a[a.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";a[a.BYTE=5120]="BYTE";a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";
a[a.SHORT=5122]="SHORT";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.INT=5124]="INT";a[a.HALF_FLOAT=5131]="HALF_FLOAT";a[a.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV";a[a.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV";a[a.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV";a[a.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"})(b.PixelType||(b.PixelType={}));b.RenderbufferFormat=void 0;(function(a){a[a.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16";
a[a.STENCIL_INDEX8=36168]="STENCIL_INDEX8";a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL";a[a.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24";a[a.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F";a[a.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8";a[a.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"})(b.RenderbufferFormat||(b.RenderbufferFormat={}));b.Usage=void 0;(function(a){a[a.STATIC_DRAW=35044]="STATIC_DRAW";a[a.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW";a[a.STREAM_DRAW=35040]="STREAM_DRAW";a[a.STATIC_READ=35045]="STATIC_READ";
a[a.DYNAMIC_READ=35049]="DYNAMIC_READ";a[a.STREAM_READ=35041]="STREAM_READ";a[a.STATIC_COPY=35046]="STATIC_COPY";a[a.DYNAMIC_COPY=35050]="DYNAMIC_COPY";a[a.STREAM_COPY=35042]="STREAM_COPY"})(b.Usage||(b.Usage={}));b.ShaderType=void 0;(function(a){a[a.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER";a[a.VERTEX_SHADER=35633]="VERTEX_SHADER"})(b.ShaderType||(b.ShaderType={}));b.FramebufferTarget=void 0;(function(a){a[a.FRAMEBUFFER=36160]="FRAMEBUFFER";a[a.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER";a[a.DRAW_FRAMEBUFFER=
36009]="DRAW_FRAMEBUFFER"})(b.FramebufferTarget||(b.FramebufferTarget={}));b.ResourceType=void 0;(function(a){a[a.Texture=0]="Texture";a[a.BufferObject=1]="BufferObject";a[a.VertexArrayObject=2]="VertexArrayObject";a[a.Shader=3]="Shader";a[a.Program=4]="Program";a[a.FramebufferObject=5]="FramebufferObject";a[a.Renderbuffer=6]="Renderbuffer";a[a.Sync=7]="Sync";a[a.COUNT=8]="COUNT"})(b.ResourceType||(b.ResourceType={}));b.ColorAttachment=void 0;(function(a){a[a.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0";
a[a.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1";a[a.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2";a[a.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3";a[a.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4";a[a.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5";a[a.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6";a[a.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7";a[a.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8";a[a.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9";a[a.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10";a[a.COLOR_ATTACHMENT11=
36075]="COLOR_ATTACHMENT11";a[a.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12";a[a.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13";a[a.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14";a[a.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"})(b.ColorAttachment||(b.ColorAttachment={}));b.CompressedTextureFormat=void 0;(function(a){a[a.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT3_EXT=
33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT";a[a.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC";a[a.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC";a[a.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC";a[a.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC";a[a.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2";a[a.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2";a[a.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=
37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";a[a.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";a[a.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC";a[a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(b.CompressedTextureFormat||(b.CompressedTextureFormat={}));b.UniformType=void 0;(function(a){a[a.FLOAT=5126]="FLOAT";a[a.FLOAT_VEC2=35664]="FLOAT_VEC2";a[a.FLOAT_VEC3=35665]="FLOAT_VEC3";a[a.FLOAT_VEC4=35666]=
"FLOAT_VEC4";a[a.INT=5124]="INT";a[a.INT_VEC2=35667]="INT_VEC2";a[a.INT_VEC3=35668]="INT_VEC3";a[a.INT_VEC4=35669]="INT_VEC4";a[a.BOOL=35670]="BOOL";a[a.BOOL_VEC2=35671]="BOOL_VEC2";a[a.BOOL_VEC3=35672]="BOOL_VEC3";a[a.BOOL_VEC4=35673]="BOOL_VEC4";a[a.FLOAT_MAT2=35674]="FLOAT_MAT2";a[a.FLOAT_MAT3=35675]="FLOAT_MAT3";a[a.FLOAT_MAT4=35676]="FLOAT_MAT4";a[a.SAMPLER_2D=35678]="SAMPLER_2D";a[a.SAMPLER_CUBE=35680]="SAMPLER_CUBE";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2";
a[a.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3";a[a.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4";a[a.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3";a[a.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4";a[a.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2";a[a.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4";a[a.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2";a[a.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3";a[a.SAMPLER_3D=35679]="SAMPLER_3D";a[a.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW";a[a.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY";a[a.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW";
a[a.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW";a[a.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D";a[a.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D";a[a.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE";a[a.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY";a[a.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D";a[a.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D";a[a.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE";a[a.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"})(b.UniformType||
(b.UniformType={}));b.SyncParameter=void 0;(function(a){a[a.OBJECT_TYPE=37138]="OBJECT_TYPE";a[a.SYNC_CONDITION=37139]="SYNC_CONDITION";a[a.SYNC_STATUS=37140]="SYNC_STATUS";a[a.SYNC_FLAGS=37141]="SYNC_FLAGS"})(b.SyncParameter||(b.SyncParameter={}));b.SyncStatus=void 0;(function(a){a[a.UNSIGNALED=37144]="UNSIGNALED";a[a.SIGNALED=37145]="SIGNALED"})(b.SyncStatus||(b.SyncStatus={}));b.ClientWaitSyncStatus=void 0;(function(a){a[a.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED";a[a.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED";
a[a.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED";a[a.WAIT_FAILED=37149]="WAIT_FAILED"})(b.ClientWaitSyncStatus||(b.ClientWaitSyncStatus={}));b.SyncCondition=void 0;(function(a){a[a.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"})(b.SyncCondition||(b.SyncCondition={}));b.SyncFlag=void 0;(function(a){a[a.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"})(b.SyncFlag||(b.SyncFlag={}));b.BASE_TEXTURE_UNIT=33984;b.DepthStencilAttachment=33306;Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/views/webgl/VertexElementDescriptor":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(b,a){a=a._createClass(function(x,m,q,g,p,k=!1,n=0){this.name=x;this.count=m;this.type=q;this.offset=g;this.stride=p;this.normalized=k;this.divisor=n});b.VertexElementDescriptor=a;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLCircleMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(b,a,x,m,q,g){m=function(p){function k(d){return p.call(this,d)||this}a._inherits(k,p);var n=k.prototype;n.geometryInfo=function(){return k.GEOMETRY_LAYOUT};n.opacityInfo=function(){return null};n.attributes=function(){return k.ATTRIBUTES};n.attributesInfo=function(){return k.ATTRIBUTES_INFO};return a._createClass(k)}(m.VTLMaterial);m.ATTRIBUTES="circle-radius circle-color circle-opacity circle-stroke-width circle-stroke-color circle-stroke-opacity circle-blur".split(" ");m.GEOMETRY_LAYOUT=
[new g.VertexElementDescriptor("a_pos",2,q.DataType.SHORT,0,4)];m.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:x.EncodingType.R8_UNSIGNED},"circle-color":{name:"color",type:x.EncodingType.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:x.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:x.EncodingType.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:x.EncodingType.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",
type:x.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",type:x.EncodingType.R8_UNSIGNED,precisionFactor:32}};b.VTLCircleMaterial=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLFillMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(b,a,x,m,q,g){let p=function(k){function n(h){return k.call(this,
h)||this}a._inherits(n,k);var d=n.prototype;d.geometryInfo=function(){return n.GEOMETRY_LAYOUT};d.opacityInfo=function(){return null};d.attributes=function(){return n.ATTRIBUTES};d.attributesInfo=function(){return n.ATTRIBUTES_INFO};return a._createClass(n)}(m.VTLMaterial);p.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"];p.GEOMETRY_LAYOUT=[new g.VertexElementDescriptor("a_pos",2,q.DataType.SHORT,0,4)];p.ATTRIBUTES_INFO={"fill-color":{name:"color",type:x.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",
type:x.EncodingType.R8_UNSIGNED,precisionFactor:100},"fill-pattern":{name:"tlbr",type:x.EncodingType.R16G16B16A16_PATTERN,isOptional:!0}};m=function(k){function n(h,c){h=k.call(this,h)||this;h._usefillColor=c;return h}a._inherits(n,k);var d=n.prototype;d.geometryInfo=function(){return n.GEOMETRY_LAYOUT};d.opacityInfo=function(){return null};d.attributes=function(){return this._usefillColor?n.ATTRIBUTES_FILL:n.ATTRIBUTES_OUTLINE};d.attributesInfo=function(){return this._usefillColor?n.ATTRIBUTES_INFO_FILL:
n.ATTRIBUTES_INFO_OUTLINE};return a._createClass(n)}(m.VTLMaterial);m.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"];m.ATTRIBUTES_FILL=["fill-color","fill-opacity"];m.GEOMETRY_LAYOUT=[new g.VertexElementDescriptor("a_pos",2,q.DataType.SHORT,0,8),new g.VertexElementDescriptor("a_offset",2,q.DataType.BYTE,4,8),new g.VertexElementDescriptor("a_xnormal",2,q.DataType.BYTE,6,8)];m.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:x.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",
type:x.EncodingType.R8_UNSIGNED,precisionFactor:100}};m.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:x.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:x.EncodingType.R8_UNSIGNED,precisionFactor:100}};b.VTLFillMaterial=p;b.VTLOutlineMaterial=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLLineMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(b,a,x,m,q,g){m=function(p){function k(d){return p.call(this,d)||this}a._inherits(k,p);var n=k.prototype;n.geometryInfo=function(){return k.GEOMETRY_LAYOUT};n.opacityInfo=function(){return null};n.attributes=function(){return k.ATTRIBUTES};n.attributesInfo=function(){return k.ATTRIBUTES_INFO};return a._createClass(k)}(m.VTLMaterial);m.ATTRIBUTES="line-blur line-color line-gap-width line-offset line-opacity line-width line-pattern line-dasharray".split(" ");m.GEOMETRY_LAYOUT=[new g.VertexElementDescriptor("a_pos",
2,q.DataType.SHORT,0,16),new g.VertexElementDescriptor("a_extrude_offset",4,q.DataType.BYTE,4,16),new g.VertexElementDescriptor("a_dir_normal",4,q.DataType.BYTE,8,16),new g.VertexElementDescriptor("a_accumulatedDistance",2,q.DataType.UNSIGNED_SHORT,12,16)];m.ATTRIBUTES_INFO={"line-width":{name:"width",type:x.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:x.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:x.EncodingType.R8_SIGNED,precisionFactor:2},
"line-color":{name:"color",type:x.EncodingType.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:x.EncodingType.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:x.EncodingType.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:x.EncodingType.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:x.EncodingType.R16G16B16A16_DASHARRAY,isOptional:!0}};b.VTLLineMaterial=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLSymbolMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(b,a,x,m,q,g){const p=[new g.VertexElementDescriptor("a_pos",2,q.DataType.SHORT,0,16),new g.VertexElementDescriptor("a_vertexOffset",2,q.DataType.SHORT,4,16),new g.VertexElementDescriptor("a_texAngleRange",4,q.DataType.UNSIGNED_BYTE,8,16),new g.VertexElementDescriptor("a_levelInfo",4,q.DataType.UNSIGNED_BYTE,12,16)],k=[new g.VertexElementDescriptor("a_opacityInfo",1,q.DataType.UNSIGNED_BYTE,0,1)];q=function(n){function d(c){return n.call(this,c)||this}a._inherits(d,n);var h=d.prototype;h.geometryInfo=
function(){return p};h.opacityInfo=function(){return k};h.attributes=function(){return d.ATTRIBUTES};h.attributesInfo=function(){return d.ATTRIBUTES_INFO};return a._createClass(d)}(m.VTLMaterial);q.ATTRIBUTES="icon-color icon-opacity icon-halo-blur icon-halo-color icon-halo-width icon-size".split(" ");q.ATTRIBUTES_INFO={"icon-color":{name:"color",type:x.EncodingType.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:x.EncodingType.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",
type:x.EncodingType.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:x.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:x.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:x.EncodingType.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};m=function(n){function d(c){return n.call(this,c)||this}a._inherits(d,n);var h=d.prototype;h.geometryInfo=function(){return p};h.opacityInfo=function(){return k};h.attributes=function(){return d.ATTRIBUTES};
h.attributesInfo=function(){return d.ATTRIBUTES_INFO};return a._createClass(d)}(m.VTLMaterial);m.ATTRIBUTES="text-color text-opacity text-halo-blur text-halo-color text-halo-width text-size".split(" ");m.ATTRIBUTES_INFO={"text-color":{name:"color",type:x.EncodingType.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:x.EncodingType.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:x.EncodingType.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:x.EncodingType.R8_UNSIGNED,
precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:x.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:x.EncodingType.R8_UNSIGNED,isLayout:!0}};b.VTLIconMaterial=q;b.VTLTextMaterial=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["../../../../../chunks/_rollupPluginBabelHelpers","../expression/expression","../expression/types"],function(b,a,x){return function(){function m(q){this._expression=
q}m.prototype.filter=function(q,g){if(!this._expression)return!0;try{return this._expression.evaluate(q,g)}catch(p){return console.log(p.message),!0}};m.createFilter=function(q){if(!q)return null;this.isLegacyFilter(q)&&(q=this.convertLegacyFilter(q));try{const g=a.createExpression(q,null,x.BooleanType);return new m(g)}catch(g){return console.log(g.message),null}};m.isLegacyFilter=function(q){if(!Array.isArray(q)||0===q.length)return!0;switch(q[0]){case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return 3===
q.length&&"string"===typeof q[1]&&!Array.isArray(q[2]);case "in":return 3<=q.length&&"string"===typeof q[1]&&!Array.isArray(q[2]);case "!in":return!0;case "any":case "all":for(let g=1;g<q.length;g++)if(this.isLegacyFilter(q[g]))return!0;return!1;case "none":return!0;case "has":return 2===q.length&&("$id"===q[1]||"$type"===q[1]);case "!has":return!0;default:return!1}};m.convertLegacyFilter=function(q){if(!Array.isArray(q)||0===q.length)return!0;const g=q[0];if(1===q.length)return"any"!==g;switch(g){case "\x3d\x3d":return m.convertComparison("\x3d\x3d",
q[1],q[2]);case "!\x3d":return m.negate(m.convertComparison("\x3d\x3d",q[1],q[2]));case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return m.convertComparison(g,q[1],q[2]);case "in":return m.convertIn(q[1],q.slice(2));case "!in":return m.negate(m.convertIn(q[1],q.slice(2)));case "any":case "all":case "none":return m.convertCombining(g,q.slice(1));case "has":return m.convertHas(q[1]);case "!has":return m.negate(m.convertHas(q[1]));default:throw Error("Unexpected legacy filter.");}};m.convertComparison=
function(q,g,p){switch(g){case "$type":return[q,["geometry-type"],p];case "$id":return[q,["id"],p];default:return[q,["get",g],p]}};m.convertIn=function(q,g){switch(q){case "$type":return["in",["geometry-type"],["literal",g]];case "$id":return["in",["id"],["literal",g]];default:return["in",["get",q],["literal",g]]}};m.convertHas=function(q){switch(q){case "$type":return!0;case "$id":return["has-id"];default:return["has",q]}};m.convertCombining=function(q,g){return[q].concat(g.map(this.convertLegacyFilter))};
m.negate=function(q){return["!",q]};return b._createClass(m)}()})},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../Color ../../../../../core/colorUtils ../../../../../geometry/support/TileClipper ../../../unitBezier ../GeometryUtils ./types".split(" "),function(b,a,x,m,q,g,p,k){function n(r,f,l){var w=typeof r;if("string"===w||"boolean"===w||"number"===w||null===r){if(l)switch(l.kind){case "string":"string"!==
w&&(r=ea.toString(r));break;case "number":"number"!==w&&(r=ea.toNumber(r));break;case "color":r=ea.toColor(r)}r=["literal",r]}if(!Array.isArray(r)||0===r.length)throw Error("Expression must be a non empty array");w=r[0];if("string"!==typeof w)throw Error("First element of expression must be a string");const A=ma[w];if(void 0===A)throw Error(`Invalid expression operator "${w}"`);if(!A)throw Error(`Unimplemented expression operator "${w}"`);return A.parse(r,f,l)}let d=function(){function r(l){this._parent=
l;this._vars={}}var f=r.prototype;f.add=function(l,w){this._vars[l]=w};f.get=function(l){return this._vars[l]?this._vars[l]:this._parent?this._parent.get(l):null};return a._createClass(r)}(),h=function(){function r(){this.type=k.ValueType}r.parse=function(f){if(1<f.length)throw Error('"id" does not expect arguments');return new r};r.prototype.evaluate=function(f,l){return f?.id};return a._createClass(r)}(),c=function(){function r(){this.type=k.StringType}r.parse=function(f){if(1<f.length)throw Error('"geometry-type" does not expect arguments');
return new r};r.prototype.evaluate=function(f,l){if(!f)return null;switch(f.type){case q.GeometryType.Point:return"Point";case q.GeometryType.LineString:return"LineString";case q.GeometryType.Polygon:return"Polygon";default:return null}};return a._createClass(r)}(),e=function(){function r(){this.type=k.ObjectType}r.parse=function(f){if(1<f.length)throw Error('"properties" does not expect arguments');return new r};r.prototype.evaluate=function(f,l){return f?.values};return a._createClass(r)}(),v=function(){function r(){this.type=
k.NumberType}r.parse=function(f){if(1<f.length)throw Error('"zoom" does not expect arguments');return new r};r.prototype.evaluate=function(f,l){return l};return a._createClass(r)}(),t=function(){function r(f,l,w){this._lhs=f;this._rhs=l;this._compare=w;this.type=k.BooleanType}r.parse=function(f,l,w){if(3!==f.length&&4!==f.length)throw Error(`"${f[0]}" expects 2 or 3 arguments`);if(4===f.length)throw Error(`"${f[0]}" collator not supported`);return new r(n(f[1],l),n(f[2],l),w)};r.prototype.evaluate=
function(f,l){return this._compare(this._lhs.evaluate(f,l),this._rhs.evaluate(f,l))};return a._createClass(r)}(),y=function(r){function f(){return r.apply(this,arguments)||this}a._inherits(f,r);f.parse=function(l,w){return t.parse(l,w,(A,I)=>A===I)};return a._createClass(f)}(t),D=function(r){function f(){return r.apply(this,arguments)||this}a._inherits(f,r);f.parse=function(l,w){return t.parse(l,w,(A,I)=>A!==I)};return a._createClass(f)}(t),C=function(r){function f(){return r.apply(this,arguments)||
this}a._inherits(f,r);f.parse=function(l,w){return t.parse(l,w,(A,I)=>A<I)};return a._createClass(f)}(t),G=function(r){function f(){return r.apply(this,arguments)||this}a._inherits(f,r);f.parse=function(l,w){return t.parse(l,w,(A,I)=>A<=I)};return a._createClass(f)}(t),K=function(r){function f(){return r.apply(this,arguments)||this}a._inherits(f,r);f.parse=function(l,w){return t.parse(l,w,(A,I)=>A>I)};return a._createClass(f)}(t),F=function(r){function f(){return r.apply(this,arguments)||this}a._inherits(f,
r);f.parse=function(l,w){return t.parse(l,w,(A,I)=>A>=I)};return a._createClass(f)}(t),E=function(){function r(f){this._arg=f;this.type=k.BooleanType}r.parse=function(f,l){if(2!==f.length)throw Error('"!" expects 1 argument');return new r(n(f[1],l))};r.prototype.evaluate=function(f,l){return!this._arg.evaluate(f,l)};return a._createClass(r)}(),z=function(){function r(f){this._args=f;this.type=k.BooleanType}r.parse=function(f,l){const w=[];for(let A=1;A<f.length;A++)w.push(n(f[A],l));return new r(w)};
r.prototype.evaluate=function(f,l){for(const w of this._args)if(!w.evaluate(f,l))return!1;return!0};return a._createClass(r)}(),u=function(){function r(f){this._args=f;this.type=k.BooleanType}r.parse=function(f,l){const w=[];for(let A=1;A<f.length;A++)w.push(n(f[A],l));return new r(w)};r.prototype.evaluate=function(f,l){for(const w of this._args)if(w.evaluate(f,l))return!0;return!1};return a._createClass(r)}(),H=function(){function r(f){this._args=f;this.type=k.BooleanType}r.parse=function(f,l){const w=
[];for(let A=1;A<f.length;A++)w.push(n(f[A],l));return new r(w)};r.prototype.evaluate=function(f,l){for(const w of this._args)if(w.evaluate(f,l))return!1;return!0};return a._createClass(r)}(),B=function(){function r(f,l,w){this.type=f;this._args=l;this._fallback=w}r.parse=function(f,l,w){if(4>f.length)throw Error('"case" expects at least 3 arguments');if(1===f.length%2)throw Error('"case" expects an odd number of arguments');let A;const I=[];for(let Q=1;Q<f.length-1;Q+=2){const W=n(f[Q],l),S=n(f[Q+
1],l,w);A||(A=S.type);I.push({condition:W,output:S})}f=n(f[f.length-1],l,w);A||(A=f.type);return new r(A,I,f)};r.prototype.evaluate=function(f,l){for(const w of this._args)if(w.condition.evaluate(f,l))return w.output.evaluate(f,l);return this._fallback.evaluate(f,l)};return a._createClass(r)}(),L=function(){function r(f,l){this.type=f;this._args=l}r.parse=function(f,l){if(2>f.length)throw Error('"coalesce" expects at least 1 argument');let w;const A=[];for(let I=1;I<f.length;I++){const Q=n(f[I],l);
w||(w=Q.type);A.push(Q)}return new r(w,A)};r.prototype.evaluate=function(f,l){for(const w of this._args){const A=w.evaluate(f,l);if(null!==A)return A}return null};return a._createClass(r)}(),P=function(){function r(f,l,w,A,I){this.type=f;this._input=l;this._labels=w;this._outputs=A;this._fallback=I}r.parse=function(f,l){if(3>f.length)throw Error('"match" expects at least 3 arguments');if(0===f.length%2)throw Error('"case" expects an even number of arguments');let w;const A=n(f[1],l),I=[],Q={};let W;
for(let aa=2;aa<f.length-1;aa+=2){var S=f[aa];Array.isArray(S)||(S=[S]);for(const ha of S){S=typeof ha;if("string"!==S&&"number"!==S)throw Error('"match" requires string or number literal as labels');if(!W)W=S;else if(S!==W)throw Error('"match" requires labels to have the same type');Q[ha]=I.length}S=n(f[aa+1],l);w||(w=S.type);I.push(S)}return new r(w,A,Q,I,n(f[f.length-1],l))};r.prototype.evaluate=function(f,l){const w=this._input.evaluate(f,l);return(this._outputs[this._labels[w]]||this._fallback).evaluate(f,
l)};return a._createClass(r)}(),M=function(){function r(l,w,A,I,Q){this._operator=l;this.type=w;this.interpolation=A;this.input=I;this._stops=Q}r.parse=function(l,w,A){const I=l[0];if(5>l.length)throw Error(`"${I}" expects at least 4 arguments`);const Q=l[1];if(!Array.isArray(Q)||0===Q.length)throw Error(`"${Q}" is not a valid interpolation`);switch(Q[0]){case "linear":if(1!==Q.length)throw Error("Linear interpolation cannot have parameters");break;case "exponential":if(2!==Q.length||"number"!==typeof Q[1])throw Error("Exponential interpolation requires one numeric argument");
break;case "cubic-bezier":if(5!==Q.length)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(var W=1;5>W;W++){var S=Q[W];if("number"!==typeof S||0>S||1<S)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");}break;default:throw Error(`"${l[0]}" unknown interpolation type "${Q[0]}"`);}if(1!==l.length%2)throw Error(`"${I}" expects an even number of arguments`);W=n(l[2],w,k.NumberType);let aa;"interpolate-hcl"===
I||"interpolate-lab"===I?aa=k.ColorType:A&&"value"!==A.kind&&(aa=A);A=[];for(S=3;S<l.length;S+=2){const ha=l[S];if("number"!==typeof ha)throw Error(`"${I}" requires stop inputs as literal numbers`);if(A.length&&A[A.length-1][0]>=ha)throw Error(`"${I}" requires strictly ascending stop inputs`);const na=n(l[S+1],w,aa);aa||(aa=na.type);A.push([ha,na])}if(aa&&aa!==k.ColorType&&aa!==k.NumberType&&("array"!==aa.kind||aa.itemType!==k.NumberType))throw Error(`"${I}" cannot interpolate type ${k.typeToString(aa)}`);
return new r(I,aa,Q,W,A)};var f=r.prototype;f.evaluate=function(l,w){var A=this._stops;if(1===A.length)return A[0][1].evaluate(l,w);var I=this.input.evaluate(l,w);if(I<=A[0][0])return A[0][1].evaluate(l,w);if(I>=A[A.length-1][0])return A[A.length-1][1].evaluate(l,w);let Q=0;for(;++Q<A.length&&!(I<A[Q][0]););const W=r.interpolationRatio(this.interpolation,I,A[Q-1][0],A[Q][0]);I=A[Q-1][1].evaluate(l,w);const S=A[Q][1].evaluate(l,w);if("interpolate"===this._operator){if("array"===this.type.kind&&Array.isArray(I)&&
Array.isArray(S))return I.map((aa,ha)=>p.interpolate(aa,S[ha],W));if("color"===this.type.kind&&I instanceof x&&S instanceof x)return I=new x(I),l=new x(S),new x([p.interpolate(I.r,l.r,W),p.interpolate(I.g,l.g,W),p.interpolate(I.b,l.b,W),p.interpolate(I.a,l.a,W)]);if("number"===this.type.kind&&"number"===typeof I&&"number"===typeof S)return p.interpolate(I,S,W);throw Error(`"${this._operator}" cannot interpolate type ${k.typeToString(this.type)}`);}if("interpolate-hcl"===this._operator)return l=m.toLCH(I),
w=m.toLCH(S),A=w.h-l.h,l=m.toRGB({h:l.h+W*(180<A||-180>A?A-360*Math.round(A/360):A),c:p.interpolate(l.c,w.c,W),l:p.interpolate(l.l,w.l,W)}),new x({a:p.interpolate(I.a,S.a,W),...l});if("interpolate-lab"===this._operator)return l=m.toLAB(I),w=m.toLAB(S),l=m.toRGB({l:p.interpolate(l.l,w.l,W),a:p.interpolate(l.a,w.a,W),b:p.interpolate(l.b,w.b,W)}),new x({a:p.interpolate(I.a,S.a,W),...l});throw Error(`Unexpected operator "${this._operator}"`);};f.interpolationUniformValue=function(l,w){const A=this._stops;
if(1===A.length||l>=A[A.length-1][0])return 0;let I=0;for(;++I<A.length&&!(l<A[I][0]););return r.interpolationRatio(this.interpolation,w,A[I-1][0],A[I][0])};f.getInterpolationRange=function(l){const w=this._stops;if(1===w.length)return l=w[0][0],[l,l];var A=w[w.length-1][0];if(l>=A)return[A,A];for(A=0;++A<w.length&&!(l<w[A][0]););return[w[A-1][0],w[A][0]]};r.interpolationRatio=function(l,w,A,I){let Q=0;"linear"===l[0]?Q=r._exponentialInterpolationRatio(w,1,A,I):"exponential"===l[0]?Q=r._exponentialInterpolationRatio(w,
l[1],A,I):"cubic-bezier"===l[0]&&(Q=g.unitBezier(l[1],l[2],l[3],l[4])(r._exponentialInterpolationRatio(w,1,A,I),1E-5));0>Q?Q=0:1<Q&&(Q=1);return Q};r._exponentialInterpolationRatio=function(l,w,A,I){I-=A;if(0===I)return 0;l-=A;return 1===w?l/I:(w**l-1)/(w**I-1)};return a._createClass(r)}(),N=function(){function r(f,l,w){this.type=f;this._input=l;this._stops=w}r.parse=function(f,l){if(5>f.length)throw Error('"step" expects at least 4 arguments');if(1!==f.length%2)throw Error('"step" expects an even number of arguments');
const w=n(f[1],l,k.NumberType);let A;const I=[];I.push([-Infinity,n(f[2],l)]);for(let Q=3;Q<f.length;Q+=2){const W=f[Q];if("number"!==typeof W)throw Error('"step" requires stop inputs as literal numbers');if(I.length&&I[I.length-1][0]>=W)throw Error('"step" requires strictly ascending stop inputs');const S=n(f[Q+1],l);A||(A=S.type);I.push([W,S])}return new r(A,w,I)};r.prototype.evaluate=function(f,l){const w=this._stops;if(1===w.length)return w[0][1].evaluate(f,l);const A=this._input.evaluate(f,l);
let I=0;for(;++I<w.length&&!(A<w[I][0]););return this._stops[I-1][1].evaluate(f,l)};return a._createClass(r)}(),R=function(){function r(f,l){this.type=f;this._output=l}r.parse=function(f,l,w){if(4>f.length)throw Error('"let" expects at least 3 arguments');if(1===f.length%2)throw Error('"let" expects an odd number of arguments');const A=new d(l);for(let I=1;I<f.length-1;I+=2){const Q=f[I];if("string"!==typeof Q)throw Error(`"let" requires a string to define variable names - found ${Q}`);A.add(Q,n(f[I+
1],l))}f=n(f[f.length-1],A,w);return new r(f.type,f)};r.prototype.evaluate=function(f,l){return this._output.evaluate(f,l)};return a._createClass(r)}(),T=function(){function r(f,l){this.type=f;this.output=l}r.parse=function(f,l,w){if(2!==f.length||"string"!==typeof f[1])throw Error('"var" requires just one literal string argument');l=l.get(f[1]);if(!l)throw Error(`${f[1]} must be defined before being used in a "var" expression`);return new r(w||k.ValueType,l)};r.prototype.evaluate=function(f,l){return this.output.evaluate(f,
l)};return a._createClass(r)}(),V=function(){function r(f,l,w){this.type=f;this._index=l;this._array=w}r.parse=function(f,l){if(3!==f.length)throw Error('"at" expects 2 arguments');const w=n(f[1],l,k.NumberType);f=n(f[2],l);return new r(f.type.itemType,w,f)};r.prototype.evaluate=function(f,l){const w=this._index.evaluate(f,l);f=this._array.evaluate(f,l);if(0>w||w>=f.length)throw Error('"at" index out of bounds');if(w!==Math.floor(w))throw Error('"at" index must be an integer');return f[w]};return a._createClass(r)}(),
Y=function(){function r(f,l){this._key=f;this._obj=l;this.type=k.ValueType}r.parse=function(f,l){let w;switch(f.length){case 2:return w=n(f[1],l),new r(w);case 3:return w=n(f[1],l),f=n(f[2],l),new r(w,f);default:throw Error('"get" expects 1 or 2 arguments');}};r.prototype.evaluate=function(f,l){const w=this._key.evaluate(f,l);return this._obj?this._obj.evaluate(f,l)[w]:f?.values[w]};return a._createClass(r)}(),ca=function(){function r(f,l){this._key=f;this._obj=l;this.type=k.BooleanType}r.parse=function(f,
l){let w;switch(f.length){case 2:return w=n(f[1],l),new r(w);case 3:return w=n(f[1],l),f=n(f[2],l),new r(w,f);default:throw Error('"has" expects 1 or 2 arguments');}};r.prototype.evaluate=function(f,l){const w=this._key.evaluate(f,l);return this._obj?(f=this._obj.evaluate(f,l),w in f):!!f?.values[w]};return a._createClass(r)}(),fa=function(){function r(f,l){this._key=f;this._vals=l;this.type=k.BooleanType}r.parse=function(f,l){if(3!==f.length)throw Error('"in" expects 2 arguments');return new r(n(f[1],
l),n(f[2],l))};r.prototype.evaluate=function(f,l){const w=this._key.evaluate(f,l);return this._vals.evaluate(f,l).includes(w)};return a._createClass(r)}(),da=function(){function r(f,l,w){this._item=f;this._array=l;this._from=w;this.type=k.NumberType}r.parse=function(f,l){if(3>f.length||4<f.length)throw Error('"index-of" expects 3 or 4 arguments');const w=n(f[1],l),A=n(f[2],l);return 4===f.length?(f=n(f[3],l,k.NumberType),new r(w,A,f)):new r(w,A)};r.prototype.evaluate=function(f,l){const w=this._item.evaluate(f,
l),A=this._array.evaluate(f,l);if(this._from){f=this._from.evaluate(f,l);if(f!==Math.floor(f))throw Error('"index-of" index must be an integer');return A.indexOf(w,f)}return A.indexOf(w)};return a._createClass(r)}(),ia=function(){function r(f){this._arg=f;this.type=k.NumberType}r.parse=function(f,l){if(2!==f.length)throw Error('"length" expects 2 arguments');f=n(f[1],l);return new r(f)};r.prototype.evaluate=function(f,l){f=this._arg.evaluate(f,l);if("string"===typeof f||Array.isArray(f))return f.length;
throw Error('"length" expects string or array');};return a._createClass(r)}(),X=function(){function r(f,l,w,A){this.type=f;this._array=l;this._from=w;this._to=A}r.parse=function(f,l){if(3>f.length||4<f.length)throw Error('"slice" expects 2 or 3 arguments');const w=n(f[1],l),A=n(f[2],l,k.NumberType);if(A.type!==k.NumberType)throw Error('"slice" index must return a number');if(4===f.length){f=n(f[3],l,k.NumberType);if(f.type!==k.NumberType)throw Error('"slice" index must return a number');return new r(w.type,
w,A,f)}return new r(w.type,w,A)};r.prototype.evaluate=function(f,l){const w=this._array.evaluate(f,l);if(!Array.isArray(w)&&"string"!==typeof w)throw Error('"slice" input must be an array or a string');const A=this._from.evaluate(f,l);if(0>A||A>=w.length)throw Error('"slice" index out of bounds');if(A!==Math.floor(A))throw Error('"slice" index must be an integer');if(this._to){f=this._to.evaluate(f,l);if(0>f||f>=w.length)throw Error('"slice" index out of bounds');if(f!==Math.floor(f))throw Error('"slice" index must be an integer');
return w.slice(A,f)}return w.slice(A)};return a._createClass(r)}(),J=function(){function r(){this.type=k.BooleanType}r.parse=function(f){if(1!==f.length)throw Error('"has-id" expects no arguments');return new r};r.prototype.evaluate=function(f,l){return f&&void 0!==f.id};return a._createClass(r)}(),O=function(){function r(f,l){this._args=f;this._calculate=l;this.type=k.NumberType}r.parse=function(f,l,w){f=f.slice(1).map(A=>n(A,l));return new r(f,w)};r.prototype.evaluate=function(f,l){let w;this._args&&
(w=this._args.map(A=>A.evaluate(f,l)));return this._calculate(w)};return a._createClass(r)}(),U=function(r){function f(){return r.apply(this,arguments)||this}a._inherits(f,r);f.parse=function(l,w){switch(l.length){case 2:return O.parse(l,w,A=>-A[0]);case 3:return O.parse(l,w,A=>A[0]-A[1]);default:throw Error('"-" expects 1 or 2 arguments');}};return a._createClass(f)}(O),ba=function(r){function f(){return r.apply(this,arguments)||this}a._inherits(f,r);f.parse=function(l,w){return O.parse(l,w,A=>{let I=
1;for(const Q of A)I*=Q;return I})};return a._createClass(f)}(O),ja=function(r){function f(){return r.apply(this,arguments)||this}a._inherits(f,r);f.parse=function(l,w){if(3===l.length)return O.parse(l,w,A=>A[0]/A[1]);throw Error('"/" expects 2 arguments');};return a._createClass(f)}(O),oa=function(r){function f(){return r.apply(this,arguments)||this}a._inherits(f,r);f.parse=function(l,w){if(3===l.length)return O.parse(l,w,A=>A[0]%A[1]);throw Error('"%" expects 2 arguments');};return a._createClass(f)}(O),
pa=function(r){function f(){return r.apply(this,arguments)||this}a._inherits(f,r);f.parse=function(l,w){if(3===l.length)return O.parse(l,w,A=>A[0]**A[1]);throw Error('"^" expects 1 or 2 arguments');};return a._createClass(f)}(O),qa=function(r){function f(){return r.apply(this,arguments)||this}a._inherits(f,r);f.parse=function(l,w){return O.parse(l,w,A=>{let I=0;for(const Q of A)I+=Q;return I})};return a._createClass(f)}(O),Z=function(){function r(f,l){this._args=f;this._calculate=l;this.type=k.NumberType}
r.parse=function(f,l){const w=f.slice(1).map(A=>n(A,l));return new r(w,r.ops[f[0]])};r.prototype.evaluate=function(f,l){let w;this._args&&(w=this._args.map(A=>A.evaluate(f,l)));return this._calculate(w)};return a._createClass(r)}();Z.ops={abs:r=>Math.abs(r[0]),acos:r=>Math.acos(r[0]),asin:r=>Math.asin(r[0]),atan:r=>Math.atan(r[0]),ceil:r=>Math.ceil(r[0]),cos:r=>Math.cos(r[0]),e:()=>Math.E,floor:r=>Math.floor(r[0]),ln:r=>Math.log(r[0]),ln2:()=>Math.LN2,log10:r=>Math.log(r[0])/Math.LN10,log2:r=>Math.log(r[0])/
Math.LN2,max:r=>Math.max(...r),min:r=>Math.min(...r),pi:()=>Math.PI,round:r=>Math.round(r[0]),sin:r=>Math.sin(r[0]),sqrt:r=>Math.sqrt(r[0]),tan:r=>Math.tan(r[0])};let ra=function(){function r(f){this._args=f;this.type=k.StringType}r.parse=function(f,l){return new r(f.slice(1).map(w=>n(w,l)))};r.prototype.evaluate=function(f,l){return this._args.map(w=>w.evaluate(f,l)).join("")};return a._createClass(r)}(),la=function(){function r(f,l){this._arg=f;this._calculate=l;this.type=k.StringType}r.parse=function(f,
l){if(2!==f.length)throw Error(`${f[0]} expects 1 argument`);l=n(f[1],l);return new r(l,r.ops[f[0]])};r.prototype.evaluate=function(f,l){return this._calculate(this._arg.evaluate(f,l))};return a._createClass(r)}();la.ops={downcase:r=>r.toLowerCase(),upcase:r=>r.toUpperCase()};let sa=function(){function r(l){this._args=l;this.type=k.ColorType}r.parse=function(l,w){if(4!==l.length)throw Error('"rgb" expects 3 arguments');l=l.slice(1).map(A=>n(A,w));return new r(l)};var f=r.prototype;f.evaluate=function(l,
w){const A=this._validate(this._args[0].evaluate(l,w)),I=this._validate(this._args[1].evaluate(l,w));l=this._validate(this._args[2].evaluate(l,w));return new x({r:A,g:I,b:l})};f._validate=function(l){if("number"!==typeof l||0>l||255<l)throw Error(`${l}: invalid color component`);return Math.round(l)};return a._createClass(r)}(),ta=function(){function r(l){this._args=l;this.type=k.ColorType}r.parse=function(l,w){if(5!==l.length)throw Error('"rgba" expects 4 arguments');l=l.slice(1).map(A=>n(A,w));
return new r(l)};var f=r.prototype;f.evaluate=function(l,w){const A=this._validate(this._args[0].evaluate(l,w)),I=this._validate(this._args[1].evaluate(l,w)),Q=this._validate(this._args[2].evaluate(l,w));l=this._validateAlpha(this._args[3].evaluate(l,w));return new x({r:A,g:I,b:Q,a:l})};f._validate=function(l){if("number"!==typeof l||0>l||255<l)throw Error(`${l}: invalid color component`);return Math.round(l)};f._validateAlpha=function(l){if("number"!==typeof l||0>l||1<l)throw Error(`${l}: invalid alpha color component`);
return l};return a._createClass(r)}(),ua=function(){function r(f){this._color=f;this.type=k.arrayType(k.NumberType,4)}r.parse=function(f,l){if(2!==f.length)throw Error('"to-rgba" expects 1 argument');f=n(f[1],l);return new r(f)};r.prototype.evaluate=function(f,l){return(new x(this._color.evaluate(f,l))).toRgba()};return a._createClass(r)}(),ka=function(){function r(f,l){this.type=f;this._args=l}r.parse=function(f,l){var w=f[0];if(2>f.length)throw Error(`${w} expects at least one argument`);let A=
1,I;if("array"===w){if(2<f.length){switch(f[1]){case "string":I=k.StringType;break;case "number":I=k.NumberType;break;case "boolean":I=k.BooleanType;break;default:throw Error('"array" type argument must be string, number or boolean');}A++}else I=k.ValueType;if(3<f.length){var Q=f[2];if(null!==Q&&("number"!==typeof Q||0>Q||Q!==Math.floor(Q)))throw Error('"array" length argument must be a positive integer literal');A++}I=k.arrayType(I,Q)}else switch(w){case "string":I=k.StringType;break;case "number":I=
k.NumberType;break;case "boolean":I=k.BooleanType;break;case "object":I=k.ObjectType}for(w=[];A<f.length;A++)Q=n(f[A],l),w.push(Q);return new r(I,w)};r.prototype.evaluate=function(f,l){let w;for(const A of this._args){const I=A.evaluate(f,l);w=k.getType(I);if(k.matchType(w,this.type))return I}throw Error(`Expected ${k.typeToString(this.type)} but got ${k.typeToString(w)}`);};return a._createClass(r)}(),ea=function(){function r(f,l){this.type=f;this._args=l}r.parse=function(f,l){var w=f[0];const A=
r.types[w];if(A===k.BooleanType||A===k.StringType){if(2!==f.length)throw Error(`${w} expects one argument`);}else if(2>f.length)throw Error(`${w} expects at least one argument`);w=[];for(let I=1;I<f.length;I++){const Q=n(f[I],l);w.push(Q)}return new r(A,w)};r.prototype.evaluate=function(f,l){if(this.type===k.BooleanType)return!!this._args[0].evaluate(f,l);if(this.type===k.StringType)return k.valueToString(this._args[0].evaluate(f,l));if(this.type===k.NumberType){for(const A of this._args){var w=Number(A.evaluate(f,
l));if(!isNaN(w))return w}return null}if(this.type===k.ColorType){for(w of this._args)try{const A=r.toColor(w.evaluate(f,l));if(A instanceof x)return A}catch{}return null}};r.toBoolean=function(f){return!!f};r.toString=function(f){return k.valueToString(f)};r.toNumber=function(f){const l=Number(f);if(isNaN(l))throw Error(`"${f}" is not a number`);return l};r.toColor=function(f){if(f instanceof x)return f;if("string"===typeof f){const l=x.fromString(f);if(l)return l;throw Error(`"${f}" is not a color`);
}if(Array.isArray(f))return x.fromArray(f);throw Error(`"${f}" is not a color`);};return a._createClass(r)}();ea.types={"to-boolean":k.BooleanType,"to-color":k.ColorType,"to-number":k.NumberType,"to-string":k.StringType};let va=function(){function r(f){this._val=f;this.type=k.getType(f)}r.parse=function(f){if(2!==f.length)throw Error('"literal" expects 1 argument');return new r(f[1])};r.prototype.evaluate=function(f,l){return this._val};return a._createClass(r)}(),wa=function(){function r(f){this._arg=
f;this.type=k.StringType}r.parse=function(f,l){if(2!==f.length)throw Error('"typeof" expects 1 argument');return new r(n(f[1],l))};r.prototype.evaluate=function(f,l){return k.typeToString(k.getType(this._arg.evaluate(f,l)))};return a._createClass(r)}();const ma={array:ka,boolean:ka,collator:null,format:null,image:null,literal:va,number:ka,"number-format":null,object:ka,string:ka,"to-boolean":ea,"to-color":ea,"to-number":ea,"to-string":ea,typeof:wa,accumulated:null,"feature-state":null,"geometry-type":c,
id:h,"line-progress":null,properties:e,at:V,get:Y,has:ca,in:fa,"index-of":da,length:ia,slice:X,"!":E,"!\x3d":D,"\x3c":C,"\x3c\x3d":G,"\x3d\x3d":y,"\x3e":K,"\x3e\x3d":F,all:z,any:u,case:B,coalesce:L,match:P,within:null,interpolate:M,"interpolate-hcl":M,"interpolate-lab":M,step:N,let:R,var:T,concat:ra,downcase:la,"is-supported-script":null,"resolved-locale":null,upcase:la,rgb:sa,rgba:ta,"to-rgba":ua,"-":U,"*":ba,"/":ja,"%":oa,"^":pa,"+":qa,abs:Z,acos:Z,asin:Z,atan:Z,ceil:Z,cos:Z,e:Z,floor:Z,ln:Z,ln2:Z,
log10:Z,log2:Z,max:Z,min:Z,pi:Z,round:Z,sin:Z,sqrt:Z,tan:Z,zoom:v,"heatmap-density":null,"has-id":J,none:H};b.ALL=z;b.ANY=u;b.Add=qa;b.Assert=ka;b.At=V;b.Calculate=Z;b.Case=B;b.Coalesce=L;b.Coerce=ea;b.Concat=ra;b.Div=ja;b.EQ=y;b.GE=F;b.GT=K;b.GeomType=c;b.Get=Y;b.Has=ca;b.HasID=J;b.ID=h;b.In=fa;b.IndexOf=da;b.Interpolate=M;b.LE=G;b.LT=C;b.Length=ia;b.Let=R;b.Literal=va;b.Match=P;b.Mod=oa;b.Mul=ba;b.NE=D;b.NONE=H;b.NOT=E;b.Pow=pa;b.Properties=e;b.Rgb=sa;b.Rgba=ta;b.Slice=X;b.Step=N;b.String=la;b.Sub=
U;b.ToRgba=ua;b.TypeOf=wa;b.Var=T;b.Zoom=v;b.createExpression=n;b.ops=ma;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/colorUtils":function(){define(["exports"],function(b){function a(d,h){const c=[];let e,v;if(d[0].length!==h.length)throw Error("dimensions do not match");const t=d.length,y=d[0].length;let D=0;for(e=0;e<t;e++){for(v=D=0;v<y;v++)D+=d[e][v]*h[v];c.push(D)}return c}function x(d){d=[d.r/255,d.g/255,d.b/255].map(h=>.04045>=h?h/12.92:((h+.055)/1.055)**2.4);
d=a(k,d);return{x:100*d[0],y:100*d[1],z:100*d[2]}}function m(d){d=a(n,[d.x/100,d.y/100,d.z/100]).map(h=>Math.min(1,Math.max(.0031308>=h?12.92*h:1.055*h**(1/2.4)-.055,0)));return{r:Math.round(255*d[0]),g:Math.round(255*d[1]),b:Math.round(255*d[2])}}function q(d){d=[d.x/95.047,d.y/100,d.z/108.883].map(h=>h>(6/29)**3?h**(1/3):1/3*(29/6)**2*h+4/29);return{l:116*d[1]-16,a:500*(d[0]-d[1]),b:200*(d[1]-d[2])}}function g(d){const h=d.l;d=[(h+16)/116+d.a/500,(h+16)/116,(h+16)/116-d.b/200].map(c=>c>6/29?c**
3:3*(6/29)**2*(c-4/29));return{x:95.047*d[0],y:100*d[1],z:108.883*d[2]}}function p(d){if("r"in d&&"g"in d&&"b"in d)return d;if("l"in d&&"c"in d&&"h"in d){var h=d.c,c=d.h;return m(g({l:d.l,a:h*Math.cos(c),b:h*Math.sin(c)}))}if("l"in d&&"a"in d&&"b"in d)return m(g(d));if("x"in d&&"y"in d&&"z"in d)return m(d);if("h"in d&&"s"in d&&"v"in d){c=(d.h+360)%360/60;h=d.v/100*255;d=d.s/100*h;const e=d*(1-Math.abs(c%2-1));switch(Math.floor(c)){case 0:c={r:d,g:e,b:0};break;case 1:c={r:e,g:d,b:0};break;case 2:c=
{r:0,g:d,b:e};break;case 3:c={r:0,g:e,b:d};break;case 4:c={r:e,g:0,b:d};break;case 5:case 6:c={r:d,g:0,b:e};break;default:c={r:0,g:0,b:0}}c.r=Math.round(c.r+h-d);c.g=Math.round(c.g+h-d);c.b=Math.round(c.b+h-d);return c}return d}const k=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],n=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];b.toHSV=function(d){if("h"in d&&"s"in d&&"v"in d)return d;var h=p(d);d=h.r;const c=h.g,e=h.b;h=Math.max(d,c,e);const v=h-Math.min(d,c,
e);d=0===v?0:h===d?(c-e)/v%6:h===c?(e-d)/v+2:(d-c)/v+4;0>d&&(d+=6);return{h:60*d,s:100*(0===v?0:v/h),v:100/255*h}};b.toLAB=function(d){return"l"in d&&"a"in d&&"b"in d?d:q(x(p(d)))};b.toLCH=function(d){if(!("l"in d&&"c"in d&&"h"in d)){var h=q(x(p(d)));d=h.l;var c=h.a;const e=h.b;h=Math.sqrt(c*c+e*e);c=Math.atan2(e,c);c=0<c?c:c+2*Math.PI;d={l:d,c:h,h:c}}return d};b.toRGB=p;b.toXYZ=function(d){return"x"in d&&"y"in d&&"z"in d?d:x(p(d))};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/TileClipper":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(b,a){b.GeometryType=void 0;(function(d){d[d.Unknown=0]="Unknown";d[d.Point=1]="Point";d[d.LineString=2]="LineString";d[d.Polygon=3]="Polygon"})(b.GeometryType||(b.GeometryType={}));let x=function(){function d(c,e){this.x=c;this.y=e}var h=d.prototype;h.clone=function(){return new d(this.x,this.y)};h.equals=function(c,e){return c===this.x&&e===this.y};h.isEqual=function(c){return c.x===
this.x&&c.y===this.y};h.setCoords=function(c,e){this.x=c;this.y=e};h.normalize=function(){var c=this.x;const e=this.y;c=Math.sqrt(c*c+e*e);this.x/=c;this.y/=c};h.rightPerpendicular=function(){const c=this.x;this.x=this.y;this.y=-c};h.move=function(c,e){this.x+=c;this.y+=e};h.assign=function(c){this.x=c.x;this.y=c.y};h.assignAdd=function(c,e){this.x=c.x+e.x;this.y=c.y+e.y};h.assignSub=function(c,e){this.x=c.x-e.x;this.y=c.y-e.y};h.rotate=function(c,e){const v=this.x,t=this.y;this.x=v*c-t*e;this.y=
v*e+t*c};h.scale=function(c){this.x*=c;this.y*=c};h.length=function(){const c=this.x,e=this.y;return Math.sqrt(c*c+e*e)};d.distance=function(c,e){const v=e.x-c.x;c=e.y-c.y;return Math.sqrt(v*v+c*c)};d.add=function(c,e){return new d(c.x+e.x,c.y+e.y)};d.sub=function(c,e){return new d(c.x-e.x,c.y-e.y)};return a._createClass(d)}(),m=a._createClass(function(d,h,c){this.ratio=d;this.x=h;this.y=c}),q=function(){function d(c,e,v,t=8,y=8){this._lines=[];this._starts=[];this.validateTessellation=!0;this._pixelRatio=
t;this._pixelMargin=y;this._tileSize=512*t;this._dz=c;this._yPos=e;this._xPos=v}var h=d.prototype;h.setPixelMargin=function(c){c!==this._pixelMargin&&(this._pixelMargin=c,this.setExtent(this._extent))};h.setExtent=function(c){this._extent=c;this._finalRatio=this._tileSize/c*(1<<this._dz);let e=this._pixelRatio*this._pixelMargin;e/=this._finalRatio;c>>=this._dz;e>c&&(e=c);this._margin=e;this._xmin=c*this._xPos-e;this._ymin=c*this._yPos-e;this._xmax=this._xmin+c+2*e;this._ymax=this._ymin+c+2*e};h.reset=
function(c){this._type=c;this._lines=[];this._starts=[];this._line=null;this._start=0};h.moveTo=function(c,e){this._pushLine();this._prevIsIn=this._isIn(c,e);this._moveTo(c,e,this._prevIsIn);this._prevPt=new x(c,e);this._firstPt=new x(c,e);this._dist=0};h.lineTo=function(c,e){const v=this._isIn(c,e),t=new x(c,e),y=x.distance(this._prevPt,t);if(v)if(this._prevIsIn)this._lineTo(c,e,!0);else{var D=this._prevPt;var C=t;c=this._intersect(C,D);this._start=this._dist+y*(1-this._r);this._lineTo(c.x,c.y,!0);
this._lineTo(C.x,C.y,!0)}else if(this._prevIsIn)C=this._prevPt,D=t,c=this._intersect(C,D),this._lineTo(c.x,c.y,!0),this._lineTo(D.x,D.y,!1);else{const K=this._prevPt;if(!(K.x<=this._xmin&&t.x<=this._xmin||K.x>=this._xmax&&t.x>=this._xmax||K.y<=this._ymin&&t.y<=this._ymin||K.y>=this._ymax&&t.y>=this._ymax)){c=[];if(K.x<this._xmin&&t.x>this._xmin||K.x>this._xmin&&t.x<this._xmin){e=(this._xmin-K.x)/(t.x-K.x);var G=K.y+e*(t.y-K.y);G<=this._ymin?C=!1:G>=this._ymax?C=!0:c.push(new m(e,this._xmin,G))}if(K.x<
this._xmax&&t.x>this._xmax||K.x>this._xmax&&t.x<this._xmax)e=(this._xmax-K.x)/(t.x-K.x),G=K.y+e*(t.y-K.y),G<=this._ymin?C=!1:G>=this._ymax?C=!0:c.push(new m(e,this._xmax,G));if(K.y<this._ymin&&t.y>this._ymin||K.y>this._ymin&&t.y<this._ymin)e=(this._ymin-K.y)/(t.y-K.y),G=K.x+e*(t.x-K.x),G<=this._xmin?D=!1:G>=this._xmax?D=!0:c.push(new m(e,G,this._ymin));if(K.y<this._ymax&&t.y>this._ymax||K.y>this._ymax&&t.y<this._ymax)e=(this._ymax-K.y)/(t.y-K.y),G=K.x+e*(t.x-K.x),G<=this._xmin?D=!1:G>=this._xmax?
D=!0:c.push(new m(e,G,this._ymax));if(0===c.length)D?C?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):C?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(1<c.length&&c[0].ratio>c[1].ratio)this._start=this._dist+y*c[1].ratio,this._lineTo(c[1].x,c[1].y,!0),this._lineTo(c[0].x,c[0].y,!0);else for(this._start=this._dist+y*c[0].ratio,D=0;D<c.length;D++)this._lineTo(c[D].x,c[D].y,!0)}this._lineTo(t.x,t.y,!1)}this._dist+=y;this._prevIsIn=
v;this._prevPt=t};h.close=function(){if(2<this._line.length){var c=this._firstPt,e=this._prevPt;c.x===e.x&&c.y===e.y||this.lineTo(c.x,c.y);c=this._line;for(e=c.length;4<=e;)if(c[0].x===c[1].x&&c[0].x===c[e-2].x||c[0].y===c[1].y&&c[0].y===c[e-2].y)c.pop(),c[0].x=c[e-2].x,c[0].y=c[e-2].y,--e;else break}};h.result=function(c=!0){this._pushLine();if(0===this._lines.length)return null;this._type===b.GeometryType.Polygon&&c&&k.simplify(this._tileSize,this._margin*this._finalRatio,this._lines);return this._lines};
h.resultWithStarts=function(){if(this._type!==b.GeometryType.LineString)throw Error("Only valid for lines");this._pushLine();const c=this._lines,e=c.length;if(0===e)return null;const v=[];for(let t=0;t<e;t++)v.push({line:c[t],start:this._starts[t]||0});return v};h._isIn=function(c,e){return c>=this._xmin&&c<=this._xmax&&e>=this._ymin&&e<=this._ymax};h._intersect=function(c,e){let v,t,y;if(e.x>=this._xmin&&e.x<=this._xmax)t=e.y<=this._ymin?this._ymin:this._ymax,y=(t-c.y)/(e.y-c.y),v=c.x+y*(e.x-c.x);
else if(e.y>=this._ymin&&e.y<=this._ymax)v=e.x<=this._xmin?this._xmin:this._xmax,y=(v-c.x)/(e.x-c.x),t=c.y+y*(e.y-c.y);else{t=e.y<=this._ymin?this._ymin:this._ymax;v=e.x<=this._xmin?this._xmin:this._xmax;const D=(v-c.x)/(e.x-c.x),C=(t-c.y)/(e.y-c.y);D<C?(y=D,t=c.y+D*(e.y-c.y)):(y=C,v=c.x+C*(e.x-c.x))}this._r=y;return new x(v,t)};h._pushLine=function(){this._line&&(this._type===b.GeometryType.Point?0<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===b.GeometryType.LineString?
1<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===b.GeometryType.Polygon&&3<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)));this._line=[];this._start=0};h._moveTo=function(c,e,v){this._type!==b.GeometryType.Polygon?v&&(c=Math.round((c-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line.push(new x(c,e))):(v||(c<this._xmin&&(c=this._xmin),c>this._xmax&&(c=
this._xmax),e<this._ymin&&(e=this._ymin),e>this._ymax&&(e=this._ymax)),c=Math.round((c-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line.push(new x(c,e)),this._isV=this._isH=!1)};h._lineTo=function(c,e,v){if(this._type!==b.GeometryType.Polygon)if(v){c=Math.round((c-(this._xmin+this._margin))*this._finalRatio);e=Math.round((e-(this._ymin+this._margin))*this._finalRatio);if(0<this._line.length&&(v=this._line[this._line.length-1],v.equals(c,
e)))return;this._line.push(new x(c,e))}else this._line&&0<this._line.length&&this._pushLine();else if(v||(c<this._xmin&&(c=this._xmin),c>this._xmax&&(c=this._xmax),e<this._ymin&&(e=this._ymin),e>this._ymax&&(e=this._ymax)),c=Math.round((c-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line&&0<this._line.length){v=this._line[this._line.length-1];const t=v.x===c,y=v.y===e;t&&y||(this._isH&&t?(v.x=c,v.y=e,v=this._line[this._line.length-
2],v.x===c&&v.y===e?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(v=this._line[this._line.length-2],this._isH=v.x===c,this._isV=v.y===e)):(this._isH=v.x===c,this._isV=v.y===e)):this._isV&&y?(v.x=c,v.y=e,v=this._line[this._line.length-2],v.x===c&&v.y===e?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(v=this._line[this._line.length-2],this._isH=v.x===c,this._isV=v.y===e)):(this._isH=v.x===c,this._isV=v.y===e)):(this._line.push(new x(c,e)),this._isH=t,this._isV=y))}else this._line.push(new x(c,
e))};return a._createClass(d)}(),g=function(){function d(){}var h=d.prototype;h.setExtent=function(c){this._ratio=4096===c?1:4096/c};h.reset=function(c){this._lines=[];this._line=null};h.moveTo=function(c,e){this._line&&this._lines.push(this._line);this._line=[];const v=this._ratio;this._line.push(new x(c*v,e*v))};h.lineTo=function(c,e){const v=this._ratio;this._line.push(new x(c*v,e*v))};h.close=function(){const c=this._line;c&&!c[0].isEqual(c[c.length-1])&&c.push(c[0])};h.result=function(){this._line&&
this._lines.push(this._line);return 0===this._lines.length?null:this._lines};a._createClass(d,[{key:"validateTessellation",get:function(){return 1>this._ratio}}]);return d}();var p;(function(d){d[d.sideLeft=0]="sideLeft";d[d.sideRight=1]="sideRight";d[d.sideTop=2]="sideTop";d[d.sideBottom=3]="sideBottom"})(p||(p={}));let k=function(){function d(){}d.simplify=function(h,c,e){if(e){var v=-c,t=h+c,y=-c,D=h+c;h=[];c=[];var C=e.length;for(let G=0;G<C;++G){const K=e[G];if(!K||2>K.length)continue;let F=
K[0],E;const z=K.length;for(let u=1;u<z;++u)E=K[u],F.x===E.x&&(F.x<=v&&(F.y>E.y?(h.push(G),h.push(u),h.push(p.sideLeft),h.push(-1)):(c.push(G),c.push(u),c.push(p.sideLeft),c.push(-1))),F.x>=t&&(F.y<E.y?(h.push(G),h.push(u),h.push(p.sideRight),h.push(-1)):(c.push(G),c.push(u),c.push(p.sideRight),c.push(-1)))),F.y===E.y&&(F.y<=y&&(F.x<E.x?(h.push(G),h.push(u),h.push(p.sideTop),h.push(-1)):(c.push(G),c.push(u),c.push(p.sideTop),c.push(-1))),F.y>=D&&(F.x>E.x?(h.push(G),h.push(u),h.push(p.sideBottom),
h.push(-1)):(c.push(G),c.push(u),c.push(p.sideBottom),c.push(-1)))),F=E}0!==h.length&&0!==c.length&&(d.fillParent(e,c,h),d.fillParent(e,h,c),v=[],d.calcDeltas(v,c,h),d.calcDeltas(v,h,c),d.addDeltas(v,e))}};d.fillParent=function(h,c,e){const v=e.length,t=c.length;for(let K=0;K<t;K+=4){var y=c[K],D=c[K+1];const F=c[K+2],E=h[y][D-1];y=h[y][D];D=8092;let z=-1;for(let u=0;u<v;u+=4){if(e[u+2]!==F)continue;var C=e[u];const H=e[u+1];var G=h[C][H-1];C=h[C][H];switch(F){case p.sideLeft:case p.sideRight:n(E.y,
G.y,C.y)&&n(y.y,G.y,C.y)&&(G=Math.abs(C.y-G.y),G<D&&(D=G,z=u));break;case p.sideTop:case p.sideBottom:n(E.x,G.x,C.x)&&n(y.x,G.x,C.x)&&(G=Math.abs(C.x-G.x),G<D&&(D=G,z=u))}}c[K+3]=z}};d.calcDeltas=function(h,c,e){const v=c.length;for(let t=0;t<v;t+=4){const y=d.calcDelta(t,c,e,[]);h.push(c[t]);h.push(c[t+1]);h.push(c[t+2]);h.push(y)}};d.calcDelta=function(h,c,e,v){h=c[h+3];if(-1===h)return 0;const t=v.length;if(1<t&&v[t-2]===h)return 0;v.push(h);return d.calcDelta(h,e,c,v)+1};d.addDeltas=function(h,
c){const e=h.length;let v=0;for(var t=0;t<e;t+=4){var y=h[t+3];y>v&&(v=y)}for(t=0;t<e;t+=4){y=c[h[t]];const D=h[t+1],C=v-h[t+3];switch(h[t+2]){case p.sideLeft:y[D-1].x-=C;y[D].x-=C;1===D&&(y[y.length-1].x-=C);D===y.length-1&&(y[0].x-=C);break;case p.sideRight:y[D-1].x+=C;y[D].x+=C;1===D&&(y[y.length-1].x+=C);D===y.length-1&&(y[0].x+=C);break;case p.sideTop:y[D-1].y-=C;y[D].y-=C;1===D&&(y[y.length-1].y-=C);D===y.length-1&&(y[0].y-=C);break;case p.sideBottom:y[D-1].y+=C,y[D].y+=C,1===D&&(y[y.length-
1].y+=C),D===y.length-1&&(y[0].y+=C)}}};return a._createClass(d)}();const n=(d,h,c)=>d>=h&&d<=c||d>=c&&d<=h;b.Point=x;b.SimpleBuilder=g;b.TileClipper=q;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/unitBezier":function(){define(["exports"],function(b){function a(q,g,p,k){function n(y,D){var C;let G,K;G=y;for(C=0;8>C;C++){K=((c*G+h)*G+d)*G-y;if(Math.abs(K)<D)return G;var F=(3*c*G+2*h)*G+d;if(1E-6>Math.abs(F))break;G-=K/F}F=0;C=1;G=y;if(G<F)return F;if(G>C)return C;
for(;F<C;){K=((c*G+h)*G+d)*G;if(Math.abs(K-y)<D)break;y>K?F=G:C=G;G=.5*(C-F)+F}return G}const d=3*q,h=3*(p-q)-d,c=1-d-h,e=3*g,v=3*(k-g)-e,t=1-e-v;return function(y,D=1E-6){y=n(y,D);return((t*y+v)*y+e)*y}}const x=/^cubic-bezier\((.*)\)/,m={};m.ease=a(.25,.1,.25,1);m.linear=a(0,0,1,1);m.easeIn=m["ease-in"]=a(.42,0,1,1);m.easeOut=m["ease-out"]=a(0,0,.58,1);m.easeInOut=m["ease-in-out"]=a(.42,0,.58,1);b.easingFunctions=m;b.parse=function(q){let g=m[q]||null;!g&&(q=x.exec(q))&&(q=q[1].split(",").map(p=>
parseFloat(p.trim())),4!==q.length||q.some(p=>isNaN(p))||(g=a.apply(a,q)));return g};b.unitBezier=a;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports"],function(b){function a(k,n){k%=n;return 0<=k?k:k+n}const x=Number.POSITIVE_INFINITY,m=Math.PI,q=128/m,g=256/360,p=1/Math.LN2;b.C_2PI=2*m;b.C_DEG_TO_256=g;b.C_DEG_TO_RAD=m/180;b.C_INFINITY=x;b.C_PI=m;b.C_RAD_TO_256=q;b.between=function(k,n,d){return k>=n&&k<=
d||k>=d&&k<=n};b.degToByte=function(k){return a(k*g,256)};b.interpolate=function(k,n,d){return k*(1-d)+n*d};b.log2=function(k){return Math.log(k)*p};b.positiveMod=a;b.radToByte=function(k){return a(k*q,256)};b.sqr=function(k){return k*k};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["exports","../../../../../Color"],function(b,a){function x(t,y){return{kind:"array",itemType:t,n:y}}function m(t){if("array"===t.kind){const y=
m(t.itemType);return"number"===typeof t.n?`array<${y}, ${t.n}>`:"value"===t.itemType.kind?"array":`array<${y}>`}return t.kind}function q(t){if(null===t)return p;if("string"===typeof t)return n;if("boolean"===typeof t)return d;if("number"===typeof t)return k;if(t instanceof a)return h;if(Array.isArray(t)){let y;for(const D of t){const C=q(D);if(!y)y=C;else if(y!==C){y=e;break}}return x(y||e,t.length)}return"object"===typeof t?c:e}function g(t,y){if("array"===y.kind)return"array"===t.kind&&(0===t.n&&
"value"===t.itemType.kind||g(t.itemType,y.itemType))&&("number"!==typeof y.n||y.n===t.n);if("value"===y.kind)for(const D of v)if(g(t,D))return!0;return y.kind===t.kind}const p={kind:"null"},k={kind:"number"},n={kind:"string"},d={kind:"boolean"},h={kind:"color"},c={kind:"object"},e={kind:"value"},v=[p,k,n,d,h,c,x(e)];b.BooleanType=d;b.ColorType=h;b.NullType=p;b.NumberType=k;b.ObjectType=c;b.StringType=n;b.ValueType=e;b.arrayType=x;b.getType=q;b.matchType=g;b.typeToString=m;b.valueToString=function(t){if(null===
t)return"";const y=typeof t;return"string"===y?t:"number"===y||"boolean"===y?String(t):t instanceof a?t.toString():JSON.stringify(t)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["../../../../../chunks/_rollupPluginBabelHelpers","../../../../../Color","../GeometryUtils","../expression/expression","../expression/types"],function(b,a,x,m,q){return function(){function g(k,n){this.isDataDriven=!1;this.interpolator=
null;switch(k.type){case "number":var d=!0;break;case "color":d=!0;break;case "array":d="number"===k.value;break;default:d=!1}null==n&&(n=k.default);if(Array.isArray(n)&&0<n.length&&m.ops[n[0]]){d={number:q.NumberType,color:q.ColorType,string:q.StringType,boolean:q.BooleanType,enum:q.StringType};try{var h="array"===k.type?q.arrayType(d[k.value]||q.ValueType,k.length):d[k.type];const c=m.createExpression(n,null,h);this.getValue=this._buildExpression(c,k);this.isDataDriven=!0;c instanceof m.Interpolate&&
c.input instanceof m.Zoom&&(this.interpolator=c)}catch(c){console.log(c.message),this.getValue=this._buildSimple(k.default)}}else{d&&"interval"===n.type&&(d=!1);if(h=n&&n.stops&&0<n.stops.length)for(const c of n.stops)c[1]=this._validate(c[1],k);if(this.isDataDriven=n?!!n.property:!1)if(void 0!==n.default&&(n.default=this._validate(n.default,k)),h)switch(n.type){case "identity":this.getValue=this._buildIdentity(n,k);break;case "categorical":this.getValue=this._buildCategorical(n,k);break;default:this.getValue=
d?this._buildInterpolate(n,k):this._buildInterval(n,k)}else this.getValue=this._buildIdentity(n,k);else h?this.getValue=d?this._buildZoomInterpolate(n):this._buildZoomInterval(n):(n=this._validate(n,k),this.getValue=this._buildSimple(n))}}var p=g.prototype;p._validate=function(k,n){if("number"===n.type){if(null!=n.minimum&&k<n.minimum)return n.minimum;if(null!=n.maximum&&k>n.maximum)return n.maximum}else"color"===n.type?k=g._parseColor(k):"enum"===n.type?"string"===typeof k&&(k=n.values.indexOf(k)):
"array"===n.type&&"enum"===n.value?k=k.map(d=>"string"===typeof d?n.values.indexOf(d):d):"string"===n.type&&(k=q.valueToString(k));return k};p._buildSimple=function(k){return()=>k};p._buildExpression=function(k,n){return(d,h)=>{try{const c=k.evaluate(h,d);return void 0===c?n.default:this._validate(c,n)}catch(c){return console.log(c.message),n.default}}};p._buildIdentity=function(k,n){return(d,h)=>{let c;h&&(c=h.values[k.property]);void 0!==c&&(c=this._validate(c,n));return null!=c?c:void 0!==k.default?
k.default:n.default}};p._buildCategorical=function(k,n){return(d,h)=>{let c;h&&(c=h.values[k.property]);c=this._categorical(c,k.stops);return void 0!==c?c:void 0!==k.default?k.default:n.default}};p._buildInterval=function(k,n){return(d,h)=>{let c;h&&(c=h.values[k.property]);return"number"===typeof c?this._interval(c,k.stops):void 0!==k.default?k.default:n.default}};p._buildInterpolate=function(k,n){return(d,h)=>{let c;h&&(c=h.values[k.property]);return"number"===typeof c?this._interpolate(c,k.stops,
k.base||1):void 0!==k.default?k.default:n.default}};p._buildZoomInterpolate=function(k){return n=>this._interpolate(n,k.stops,k.base||1)};p._buildZoomInterval=function(k){return n=>this._interval(n,k.stops)};p._categorical=function(k,n){const d=n.length;for(let h=0;h<d;h++)if(n[h][0]===k)return n[h][1]};p._interval=function(k,n){const d=n.length;let h=0;for(let c=0;c<d;c++)if(n[c][0]<=k)h=c;else break;return n[h][1]};p._interpolate=function(k,n,d){const h=n.length;for(let v=0;v<h;v++){const t=n[v];
if(t[0]<=k)var c=t;else{var e=t;break}}if(c&&e){n=e[0]-c[0];k-=c[0];d=1===d?k/n:(d**k-1)/(d**n-1);if(Array.isArray(c[1])){c=c[1];e=e[1];k=[];for(n=0;n<c.length;n++)k.push(x.interpolate(c[n],e[n],d));return k}return x.interpolate(c[1],e[1],d)}if(c)return c[1];if(e)return e[1]};g._isEmpty=function(k){for(const n in k)if(k.hasOwnProperty(n))return!1;return!0};g._parseColor=function(k){if(Array.isArray(k))return k;"string"===typeof k&&(k=new a(k));if(k instanceof a&&!this._isEmpty(k))return a.toUnitRGBA(k)};
return b._createClass(g)}()})},"esri/views/2d/engine/webgl/definitions":function(){define(["exports","../../../../core/has"],function(b,a){const x=256/360;a=a("featurelayer-force-marker-text-draw-order")?.5:3;b.ANGLE_FACTOR_256=x;b.ATTRIBUTE_DATA_ANIMATION=1;b.ATTRIBUTE_DATA_DD0=3;b.ATTRIBUTE_DATA_DD1=4;b.ATTRIBUTE_DATA_FILTER_FLAGS=0;b.ATTRIBUTE_DATA_GPGPU=2;b.ATTRIBUTE_DATA_VV=3;b.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;b.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};
b.BITSET_FILL_HAS_PATTERN_HEIGHT_PRECISION_FACTOR=32;b.BITSET_FILL_HAS_PATTERN_WIDTH_PRECISION_FACTOR=64;b.BITSET_FILL_HAS_UNRESOLVED_REPLACEMENT_COLOR=8;b.BITSET_FILL_RANDOM_PATTERN_OFFSET=4;b.BITSET_GENERIC_CONSIDER_ALPHA_ONLY=16;b.BITSET_GENERIC_LOCK_COLOR=2;b.BITSET_LINE_SCALE_DASH=4;b.BITSET_MARKER_ALIGNMENT_MAP=1;b.BITSET_MARKER_ALIGNMENT_SCREEN=0;b.BITSET_MARKER_OUTLINE_ALLOW_COLOR_OVERRIDE=4;b.BITSET_MARKER_SCALE_SYMBOLS_PROPORTIONALLY=8;b.BITSET_TYPE_FILL_OUTLINE=1;b.BUFFER_DATA_MINIMUM_SIZE=
128;b.BUFFER_DATA_POOL_SIZE=4;b.CHART_MAX_FIELDS=10;b.COLLISION_BOX_PADDING=16;b.COLLISION_BUCKET_SIZE=128;b.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;b.COLLISION_MAX_ZOOM_DELTA=1;b.COLLISION_PLACEMENT_PADDING=8;b.COLLISION_TILE_BOX_SIZE=4;b.COMPRESSION_FACTOR_FOR_U16=128;b.DEBUG_LABELS=!1;b.DISPLAY_RECORD_INT_PER_ELEMENT=8;b.DOT_DENSITY_MAX_FIELDS=8;b.EFFECT_FLAG_0=4;b.ENABLE_EARLY_LABEL_DISCARD=!1;b.EXTRUDE_SCALE=64;b.FILTER_FLAG_0=2;b.GLYPH_SIZE=24;b.HEURISTIC_GLYPHS_PER_FEATURE=10;b.HEURISTIC_GLYPHS_PER_LINE=
50;b.HIGHLIGHT_FLAG=1;b.HITTEST_RADIUS=a;b.MAGIC_LABEL_LINE_HEIGHT=29;b.MAX_FILTERS=2;b.MAX_GPU_UPLOADS_PER_FRAME=2;b.MAX_REPRESENTABLE_INT=16777216;b.MAX_SIZE_FOR_U16_COMPRESSION=511;b.MIN_MAX_ZOOM_PRECISION_FACTOR=10;b.NAN_MAGIC_NUMBER=1E-30;b.PATCH_PIXEL_BUFFER_ALLOC_SIZE=500;b.PATTERN_FILL_RASTERIZATION_SCALE=2;b.PICTURE_FILL_COLOR=4294967295;b.RANDOM_INSIDE_POLYGON_TEXTURE_SIZE=1024;b.RASTER_TILE_SIZE=256;b.SDF_TEXTURE_SIZE=124;b.SPRITE_PADDING=2;b.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;b.TEXTURE_BINDING_ATTRIBUTE_DATA_1=
2;b.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;b.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;b.TEXTURE_BINDING_ATTRIBUTE_DATA_4=5;b.TEXTURE_BINDING_ATTRIBUTE_DATA_5=6;b.TEXTURE_BINDING_BITMAP=0;b.TEXTURE_BINDING_GLYPH_ATLAS=0;b.TEXTURE_BINDING_GPGPU=12;b.TEXTURE_BINDING_HIGHLIGHT_0=5;b.TEXTURE_BINDING_HIGHLIGHT_1=6;b.TEXTURE_BINDING_RENDERER_0=5;b.TEXTURE_BINDING_RENDERER_1=6;b.TEXTURE_BINDING_SPRITE_ATLAS=0;b.TEXTURE_UPLOAD_MANAGER_BUDGET=4;b.TEXTURE_UPLOAD_MANAGER_CHUNK_SIZE=128;b.TEXT_PLACEMENT_PADDING=8;b.THIN_LINE_HALF_WIDTH_THRESHOLD=
1.05;b.TILE_SIZE=512;b.VTL_HIGH_RES_CUTOFF=1.15;b.VTL_TEXTURE_BINDING_UNIT_GLYPHS=6;b.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;b.WEBGL_MAX_INNER_STOPS=6;b.WEBGL_MAX_STOPS=8;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/capabilities":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","./contextUtils"],function(b,a,x){function m(e){switch(e){case x.ContextType.WEBGL1:return q();case x.ContextType.WEBGL2:return g()}}function q(){if(!k){{const e=new h,
v=p(x.ContextType.WEBGL1,e);null!=v&&(e.supportsElementIndexUint=null!==v.getExtension("OES_element_index_uint"),e.supportsStandardDerivatives=null!==v.getExtension("OES_standard_derivatives"),e.supportsInstancedArrays=null!==v.getExtension("ANGLE_instanced_arrays"),e.supportsTextureFloat=null!==v.getExtension("OES_texture_float"),e.supportsTextureHalfFloat=null!==v.getExtension("OES_texture_half_float"),e.supportsColorBufferFloat=null!==v.getExtension("WEBGL_color_buffer_float"),e.supportsColorBufferFloatBlend=
null!==v.getExtension("EXT_float_blend"),e.supportsColorBufferHalfFloat=null!==v.getExtension("EXT_color_buffer_half_float"));k=e}}return k}function g(){if(!n){{const e=new c,v=p(x.ContextType.WEBGL2,e);null!=v&&(e.supportsColorBufferFloat=null!==v.getExtension("EXT_color_buffer_float"),e.supportsColorBufferFloatBlend=null!==v.getExtension("EXT_float_blend"),e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||null!==v.getExtension("EXT_color_buffer_half_float"));n=e}}return n}function p(e,
v){if(e===x.ContextType.WEBGL1&&"undefined"===typeof WebGLRenderingContext||e===x.ContextType.WEBGL2&&"undefined"===typeof WebGL2RenderingContext)return null;const t=document.createElement("canvas");if(!t)return null;let y=x.createContext(t,e,{failIfMajorPerformanceCaveat:!0});null==y&&(y=x.createContext(t,e),null!=y&&(v.majorPerformanceCaveat=!0));if(null==y)return y;if(e===x.ContextType.WEBGL1){if(e=y.getParameter(y.VERSION)?.match(/^WebGL\s+([\d.]*)/))e=parseFloat(e[1]),v.available=.94<=e}else v.available=
!0;v.maxTextureSize=y.getParameter(y.MAX_TEXTURE_SIZE);v.supportsVertexShaderSamplers=0<y.getParameter(y.MAX_VERTEX_TEXTURE_IMAGE_UNITS);if(e=y.getShaderPrecisionFormat(y.FRAGMENT_SHADER,y.HIGH_FLOAT))v.supportsHighPrecisionFragment=0<e.precision;return y}let k,n,d=a._createClass(function(){this.majorPerformanceCaveat=this.available=!1;this.maxTextureSize=0;this.supportsColorBufferHalfFloat=this.supportsColorBufferFloatBlend=this.supportsColorBufferFloat=this.supportsTextureHalfFloat=this.supportsTextureFloat=
this.supportsInstancedArrays=this.supportsStandardDerivatives=this.supportsElementIndexUint=this.supportsHighPrecisionFragment=this.supportsVertexShaderSamplers=!1}),h=function(e){function v(){var t=e.apply(this,arguments)||this;t.type=x.ContextType.WEBGL1;return t}a._inherits(v,e);return a._createClass(v)}(d),c=function(e){function v(){var t=e.apply(this,arguments)||this;t.type=x.ContextType.WEBGL2;t.supportsElementIndexUint=!0;t.supportsStandardDerivatives=!0;t.supportsInstancedArrays=!0;t.supportsTextureFloat=
!0;t.supportsTextureHalfFloat=!0;return t}a._inherits(v,e);return a._createClass(v)}(d);b.getWebGL1Capabilities=q;b.getWebGL2Capabilities=g;b.getWebGLCapabilities=function(e){for(e=x.getContextTypes(e);1<e.length;){const v=m(e.shift());if(v.available)return v}return m(e.shift())};b.getWebGLVersionCapabilities=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/contextUtils":function(){define(["exports","../../core/has"],function(b,a){function x(q,g,p={}){g=g===b.ContextType.WEBGL1?
["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];for(const k of g)if(g=q.getContext(k,p))return g;return null}function m(q){if("3d"===q)return[b.ContextType.WEBGL2];q=a("esri-force-webgl");return q===b.ContextType.WEBGL1||q===b.ContextType.WEBGL2?[q]:a("mac")&&a("chrome")?[b.ContextType.WEBGL1,b.ContextType.WEBGL2]:[b.ContextType.WEBGL2,b.ContextType.WEBGL1]}b.ContextType=void 0;(function(q){q[q.WEBGL1=1]="WEBGL1";q[q.WEBGL2=2]="WEBGL2"})(b.ContextType||(b.ContextType={}));b.createContext=
x;b.createContextForView=function(q,g,p={}){q=m(q);for(const k of q)if(q=x(g,k,p))return q;return null};b.getContextTypes=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../request ../core/asyncUtils ../core/Error ../core/lang ../core/MultiOriginJSONSupport ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../geometry/Extent ../geometry/SpatialReference ./Layer ./mixins/APIKeyMixin ./mixins/ArcGISCachedService ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/OperationalLayer ./mixins/PortalLayer ./mixins/ScaleRangeLayer ./support/imageUtils ./support/SpriteSource ./support/TileInfo ./support/TilemapCache ./support/vectorTileLayerLoader ../portal/support/jsonContext ../portal/support/urlUtils ../chunks/persistableUrlUtils ../views/2d/engine/vectorTiles/tileInfoUtils ../views/2d/engine/vectorTiles/style/StyleRepository ../views/webgl/capabilities".split(" "),function(b,
a,x,m,q,g,p,k,n,d,h,c,e,v,t,y,D,C,G,K,F,E,z,u,H,B,L,P,M,N,R,T,V,Y,ca,fa){p=function(da){function ia(...J){J=da.call(this,...J)||this;J._spriteSourceMap=new Map;J.currentStyleInfo=null;J.style=null;J.isReference=null;J.operationalLayerType="VectorTileLayer";J.tilemapCache=null;J.type="vector-tile";J.url=null;J.showCollisionBoxes="none";J.path=null;return J}b._inherits(ia,da);var X=ia.prototype;X.normalizeCtorArgs=function(J,O){return"string"===typeof J?{url:J,...O}:J};X.destroy=function(){if(this.sourceNameToSource)for(const J of Object.values(this.sourceNameToSource))J?.destroy();
this.primarySource?.destroy();this._spriteSourceMap.clear()};X.prefetchResources=async function(J){await this.loadSpriteSource(globalThis.devicePixelRatio||1,J)};X.load=function(J){const O=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},J).catch(k.throwIfAbortError).then(async()=>{if(this.portalItem&&this.portalItem.id){var U=`${this.portalItem.itemCdnUrl}/resources/styles/root.json`;(await x(U,{...J,query:{f:"json",...this.customParameters,token:this.apiKey}})).data&&
this.read({url:U},R.createForItemRead(this.portalItem))}}).catch(k.throwIfAbortError).then(()=>this._loadStyle(J));this.addResolvingPromise(O);return Promise.resolve(this)};X.writeStyleUrl=function(J,O){J&&n.isProtocolRelative(J)&&(J=`https:${J}`);const U=T.parseKnownArcGISOnlineDomain(J);O.styleUrl=V.ensureMainOnlineDomain(J,U)};X.readTilemapCache=function(J,O){return O.capabilities?.includes("Tilemap")?new M.TilemapCache({layer:this}):null};X.readVersion=function(J,O){return O.version?parseFloat(O.version):
parseFloat(O.currentVersion)};X.loadSpriteSource=async function(J=1,O){if(!this._spriteSourceMap.has(J)){var U=fa.getWebGLCapabilities("2d").maxTextureSize;const ba=this.currentStyleInfo?.spriteUrl?n.addQueryParameters(this.currentStyleInfo.spriteUrl,{...this.customParameters,token:this.apiKey}):null;U=new L({type:"url",spriteUrl:ba,pixelRatio:J,spriteFormat:this.currentStyleInfo?.spriteFormat},U);await U.load(O);this._spriteSourceMap.set(J,U)}return this._spriteSourceMap.get(J)};X.setSpriteSource=
async function(J,O){if(!J)return null;var U=fa.getWebGLCapabilities("2d").maxTextureSize,ba=J.spriteUrl;ba=ba?n.addQueryParameters(ba,{...this.customParameters,token:this.apiKey}):null;if(!ba&&"url"===J.type)return null;U=new L(J,U);try{await U.load(O);const ja=J.pixelRatio||1;this._spriteSourceMap.clear();this._spriteSourceMap.set(ja,U);ba&&this.currentStyleInfo&&(this.currentStyleInfo.spriteUrl=ba);this.emit("spriteSource-change",{spriteSource:U});return U}catch(ja){k.throwIfAbortError(ja)}return null};
X.loadStyle=async function(J,O){const U=J||this.style||this.url;if(this._loadingTask&&"string"===typeof U&&this.url===U)return this._loadingTask.promise;this._loadingTask?.abort();this._loadingTask=m.createTask(ba=>{this._spriteSourceMap.clear();return this._getSourceAndStyle(U,{signal:ba})},O);return this._loadingTask.promise};X.getStyleLayerId=function(J){return this.styleRepository.getStyleLayerId(J)};X.getStyleLayerIndex=function(J){return this.styleRepository.getStyleLayerIndex(J)};X.getPaintProperties=
function(J){return g.clone(this.styleRepository.getPaintProperties(J))};X.setPaintProperties=function(J,O){const U=this.styleRepository.isPainterDataDriven(J);this.styleRepository.setPaintProperties(J,O);const ba=this.styleRepository.isPainterDataDriven(J);this.emit("paint-change",{layer:J,paint:O,isDataDriven:U||ba})};X.getStyleLayer=function(J){return g.clone(this.styleRepository.getStyleLayer(J))};X.setStyleLayer=function(J,O){this.styleRepository.setStyleLayer(J,O);this.emit("style-layer-change",
{layer:J,index:O})};X.deleteStyleLayer=function(J){this.styleRepository.deleteStyleLayer(J);this.emit("delete-style-layer",{layer:J})};X.getLayoutProperties=function(J){return g.clone(this.styleRepository.getLayoutProperties(J))};X.setLayoutProperties=function(J,O){this.styleRepository.setLayoutProperties(J,O);this.emit("layout-change",{layer:J,layout:O})};X.setStyleLayerVisibility=function(J,O){this.styleRepository.setStyleLayerVisibility(J,O);this.emit("style-layer-visibility-change",{layer:J,visibility:O})};
X.getStyleLayerVisibility=function(J){return this.styleRepository.getStyleLayerVisibility(J)};X.write=function(J,O){return O?.origin&&!this.styleUrl?(O.messages&&O.messages.push(new q("vectortilelayer:unsupported",`VectorTileLayer (${this.title}, ${this.id}) with style defined by JSON only are not supported`,{layer:this})),null):b._get(b._getPrototypeOf(ia.prototype),"write",this).call(this,J,O)};X.getTileUrl=function(J,O,U){return null};X._getSourceAndStyle=async function(J,O){if(!J)throw Error("invalid style!");
O=await N.loadMetadata(J,{...O,query:{...this.customParameters,token:this.apiKey}});"webp"!==O.spriteFormat||await B.checkWebPSupport("lossy")||(O.spriteFormat="png");this._set("currentStyleInfo",{...O});"string"===typeof J?(this.url=J,this.style=null):(this.url=null,this.style=J);this._set("sourceNameToSource",O.sourceNameToSource);this._set("primarySource",O.sourceNameToSource[O.primarySourceName]);this._set("styleRepository",new ca(O.style));this.read(O.layerDefinition,{origin:"service"});this.emit("load-style")};
X._getDefaultAttribution=function(J){var O=J.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i);J="OpenStreetMap_v2 OpenStreetMap_Daylight_v2 OpenStreetMap_Export_v2 OpenStreetMap_FTS_v2 OpenStreetMap_GCS_v2 World_Basemap World_Basemap_v2 World_Basemap_Export_v2 World_Basemap_GCS_v2 World_Basemap_WGS84 World_Contours_v2".split(" ");if(O){var U=O[2]&&O[2].toLowerCase();if(U){O=O[1]||"";for(const ba of J)if(ba.toLowerCase().includes(U))return n.normalize(`//static.arcgis.com/attribution/Vector${O}/${ba}`)}}};
X._loadStyle=async function(J){return this._loadingTask?.promise??this.loadStyle(null,J)};b._createClass(ia,[{key:"attributionDataUrl",get:function(){var J=this.currentStyleInfo;J=J&&J.serviceUrl&&n.urlToObject(J.serviceUrl);return J?(J=this._getDefaultAttribution(J.path))?n.addQueryParameters(J,{...this.customParameters,token:this.apiKey}):null:null}},{key:"capabilities",get:function(){const J=this.primarySource;return J?J.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}},
{key:"fullExtent",get:function(){return this.primarySource?.fullExtent||null}},{key:"parsedUrl",get:function(){return this.serviceUrl?n.urlToObject(this.serviceUrl):null}},{key:"serviceUrl",get:function(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||null}},{key:"spatialReference",get:function(){return this.tileInfo?.spatialReference??null}},{key:"styleUrl",get:function(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null}},{key:"tileInfo",get:function(){const J=
[];for(var O in this.sourceNameToSource)J.push(this.sourceNameToSource[O]);O=this.primarySource?.tileInfo||new P;if(1<J.length)for(let U=0;U<J.length;U++)Y.areSchemasOverlapping(O,J[U].tileInfo)&&(O=Y.unionTileInfos(O,J[U].tileInfo));return O}}]);return ia}(F.BlendLayer(H.ScaleRangeLayer(G.ArcGISCachedService(K.ArcGISService(z.OperationalLayer(u.PortalLayer(E.CustomParametersMixin(C.APIKeyMixin(p.MultiOriginJSONMixin(D))))))))));a.__decorate([d.property({readOnly:!0})],p.prototype,"attributionDataUrl",
null);a.__decorate([d.property({type:["show","hide"]})],p.prototype,"listMode",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],p.prototype,"blendMode",void 0);a.__decorate([d.property({readOnly:!0,json:{read:!1}})],p.prototype,"capabilities",null);a.__decorate([d.property({readOnly:!0})],p.prototype,"currentStyleInfo",void 0);a.__decorate([d.property({json:{read:!1},readOnly:!0,type:t})],p.prototype,"fullExtent",null);a.__decorate([d.property()],p.prototype,"style",void 0);a.__decorate([d.property({type:Boolean,
json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],p.prototype,"isReference",void 0);a.__decorate([d.property({type:["VectorTileLayer"]})],p.prototype,"operationalLayerType",void 0);a.__decorate([d.property({readOnly:!0})],p.prototype,"parsedUrl",null);a.__decorate([d.property({readOnly:!0})],p.prototype,"serviceUrl",null);a.__decorate([d.property({type:y,readOnly:!0})],p.prototype,"spatialReference",null);a.__decorate([d.property({readOnly:!0})],p.prototype,"styleRepository",
void 0);a.__decorate([d.property({readOnly:!0})],p.prototype,"sourceNameToSource",void 0);a.__decorate([d.property({readOnly:!0})],p.prototype,"primarySource",void 0);a.__decorate([d.property({type:String,readOnly:!0,json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],p.prototype,"styleUrl",null);a.__decorate([v.writer(["portal-item","web-document"],"styleUrl")],p.prototype,"writeStyleUrl",null);a.__decorate([d.property({json:{read:!1,origins:{service:{read:!1}}},
readOnly:!0,type:P})],p.prototype,"tileInfo",null);a.__decorate([d.property()],p.prototype,"tilemapCache",void 0);a.__decorate([c.reader("service","tilemapCache",["capabilities","tileInfo"])],p.prototype,"readTilemapCache",null);a.__decorate([d.property({json:{read:!1},readOnly:!0,value:"vector-tile"})],p.prototype,"type",void 0);a.__decorate([d.property({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],p.prototype,"url",void 0);a.__decorate([d.property({readOnly:!0})],
p.prototype,"version",void 0);a.__decorate([c.reader("version",["version","currentVersion"])],p.prototype,"readVersion",null);a.__decorate([d.property({type:String})],p.prototype,"showCollisionBoxes",void 0);a.__decorate([d.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],p.prototype,"path",void 0);return p=a.__decorate([e.subclass("esri.layers.VectorTileLayer")],p)});