// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../analysis/DimensionAnalysis ../analysis/DimensionSimpleStyle ../analysis/LengthDimension ../core/Collection ../core/MultiOriginJSONSupport ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Layer ./mixins/OperationalLayer".split(" "),function(m,c,n,r,t,u,b,p,e,A,B,C,
v,w,x,y){b=function(q){function f(a){var d=q.call(this,a)||this;d.type="dimension";d.operationalLayerType="ArcGISDimensionLayer";d.source=new n;d.opacity=1;if(a){const {source:k,style:g}=a;k&&g&&(k.style=g)}return d}m._inherits(f,q);var h=f.prototype;h.initialize=function(){this.addHandles([p.watch(()=>this.source,(a,d)=>{null!=d&&d.parent===this&&(d.parent=null);null!=a&&(a.parent=this)},p.syncAndInitial)])};h.load=async function(){this.addResolvingPromise(this.source.waitComputeExtent());return this};
h.releaseAnalysis=function(a){this.source===a&&(this.source=new n)};h.writeDimensions=function(a,d,k,g){d.dimensions=a.filter(({startPoint:l,endPoint:z})=>null!=l&&null!=z).map(l=>l.toJSON(g)).toJSON()};m._createClass(f,[{key:"spatialReference",get:function(){return this.source.spatialReference}},{key:"style",get:function(){return this.source.style},set:function(a){this.source.style=a}},{key:"fullExtent",get:function(){return this.source.extent}},{key:"analysis",get:function(){return this.source},
set:function(a){this.source=a}},{key:"dimensions",get:function(){return this.source.dimensions},set:function(a){this.source.dimensions=a}}]);return f}(y.OperationalLayer(b.MultiOriginJSONMixin(x)));c.__decorate([e.property({json:{read:!1},readOnly:!0})],b.prototype,"type",void 0);c.__decorate([e.property({type:["ArcGISDimensionLayer"]})],b.prototype,"operationalLayerType",void 0);c.__decorate([e.property({nonNullable:!0})],b.prototype,"source",void 0);c.__decorate([e.property({readOnly:!0})],b.prototype,
"spatialReference",null);c.__decorate([e.property({types:{key:"type",base:null,typeMap:{simple:r}},json:{write:{ignoreOrigin:!0}}})],b.prototype,"style",null);c.__decorate([e.property({readOnly:!0})],b.prototype,"fullExtent",null);c.__decorate([e.property({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],b.prototype,"opacity",void 0);c.__decorate([e.property({type:["show","hide"]})],b.prototype,"listMode",
void 0);c.__decorate([e.property({type:u.ofType(t),json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{ignoreOrigin:!0}}}}})],b.prototype,"dimensions",null);c.__decorate([w.writer("web-scene","dimensions")],b.prototype,"writeDimensions",null);return b=c.__decorate([v.subclass("esri.layers.DimensionLayer")],b)});