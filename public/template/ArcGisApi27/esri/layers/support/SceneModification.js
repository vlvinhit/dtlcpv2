// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/decorators/persistable ../../geometry/projection ../../geometry/Polygon".split(" "),function(k,d,c,u,v,w,l,z,x,y,m,n,p){var e;c=e=function(q){function f(b){b=
q.call(this,b)||this;b.geometry=null;b.type="clip";return b}k._inherits(f,q);var r=f.prototype;r.writeGeometry=function(b,g,h,a){if(a.layer&&a.layer.spatialReference&&!a.layer.spatialReference.equals(this.geometry.spatialReference)){if(!n.canProjectWithoutEngine(b.spatialReference,a.layer.spatialReference)){a&&a.messages&&a.messages.push(new w("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:a.layer.spatialReference,
context:a}));return}const t=new p;n.projectPolygon(b,t,a.layer.spatialReference);g[h]=t.toJSON(a)}else g[h]=b.toJSON(a);delete g[h].spatialReference};r.clone=function(){return new e({geometry:v.clone(this.geometry),type:this.type})};return k._createClass(f)}(u.JSONSupport);d.__decorate([l.property({type:p}),m.persistable()],c.prototype,"geometry",void 0);d.__decorate([y.writer(["web-scene","portal-item"],"geometry")],c.prototype,"writeGeometry",null);d.__decorate([l.property({type:["clip","mask",
"replace"],nonNullable:!0}),m.persistable()],c.prototype,"type",void 0);return c=e=d.__decorate([x.subclass("esri.layers.support.SceneModification")],c)});