// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./LabelClass".split(" "),
function(r,c,x,b,G,H,I,J,K,y,L,t,z,A,B,m,C,h,d,M,n,D,u,v,w,E,F){var p;b=p=function(k){function q(a){a=k.call(this,a)||this;a.type="cluster";a.clusterRadius=h.toPt("80px");a.clusterMinSize=h.toPt("12px");a.clusterMaxSize=h.toPt("50px");a.maxScale=0;a.popupEnabled=!0;a.popupTemplate=null;a.renderer=null;a.symbol=null;a.labelingInfo=null;a.labelsVisible=!0;a.fields=null;return a}r._inherits(q,k);var l=q.prototype;l.readRenderer=function(a,e,f){a=e.drawingInfo?.renderer;return a?.authoringInfo?.isAutoGenerated?
null:a?"simple"!==a.type||a.visualVariables?.length?t.read(a,e,f)??void 0:null:E.createDefaultRenderer(e,f)};l.readSymbol=function(a,e,f){a=e.drawingInfo?.renderer;return a?.authoringInfo?.isAutoGenerated?null:a&&"simple"===a.type&&!a.visualVariables?.length?t.read(a,e,f)?.symbol:null};l.writeSymbol=function(a,e,f,g){f=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||f)a=new y({symbol:a}),e.drawingInfo={renderer:a.write({},g)}};l.writeFields=function(a,e,f){a=a.filter(g=>"avg_angle"!==
g.statisticType).map(g=>g.toJSON());C.setDeepValue(f,a,e)};l.readFields=function(a,e,f){return a.filter(g=>!g.isAutoGenerated).map(g=>v.fromJSON(g))};l.clone=function(){return new p({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:m.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:m.clone(this.fields),maxScale:this.maxScale,renderer:m.clone(this.renderer),symbol:m.clone(this.symbol),popupEnabled:this.popupEnabled,
popupTemplate:m.clone(this.popupTemplate)})};return r._createClass(q)}(B.JSONSupport);c.__decorate([d.property({type:["cluster"],readOnly:!0,json:{write:!0}})],b.prototype,"type",void 0);c.__decorate([d.property({type:Number,cast:k=>"auto"===k?k:h.toPt(k),json:{write:!0}})],b.prototype,"clusterRadius",void 0);c.__decorate([d.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"clusterMinSize",void 0);c.__decorate([d.property({type:Number,cast:h.toPt,json:{write:!0}})],b.prototype,"clusterMaxSize",
void 0);c.__decorate([d.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],b.prototype,"maxScale",void 0);c.__decorate([d.property(w.popupEnabled)],b.prototype,"popupEnabled",void 0);c.__decorate([d.property({type:x,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],b.prototype,"popupTemplate",void 0);c.__decorate([d.property({types:z.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],b.prototype,"renderer",void 0);c.__decorate([n.reader("renderer",["drawingInfo.renderer"])],
b.prototype,"readRenderer",null);c.__decorate([d.property({types:A.symbolTypesCluster})],b.prototype,"symbol",void 0);c.__decorate([n.reader("symbol",["drawingInfo.renderer"])],b.prototype,"readSymbol",null);c.__decorate([u.writer("symbol")],b.prototype,"writeSymbol",null);c.__decorate([d.property({type:[F],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],b.prototype,"labelingInfo",void 0);c.__decorate([d.property(w.labelsVisible)],b.prototype,"labelsVisible",
void 0);c.__decorate([d.property({type:[v],json:{write:!0}})],b.prototype,"fields",void 0);c.__decorate([u.writer("fields")],b.prototype,"writeFields",null);c.__decorate([n.reader("fields")],b.prototype,"readFields",null);return b=p=c.__decorate([D.subclass("esri.layers.support.FeatureReductionCluster")],b)});