// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["../../chunks/_rollupPluginBabelHelpers","./fieldUtils"],function(m,f){function g(c){return"oid"===c.type||"esriFieldTypeOID"===c.type}function h(c){return"global-id"===c.type||"esriFieldTypeGlobalID"===c.type}return function(){function c(a=[]){this.fields=[];this._fieldsMap=new Map;this._normalizedFieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=new Set;this.dateFields=[];this.numericFields=[];this._requiredFields=null;if(a){this.fields=a;var d=[];for(const b of a){a=
b?.name;const k=f.normalizeFieldName(b?.name)?.toLowerCase()??"";if(a&&k){const l=a.trim().toLowerCase();this._fieldsMap.set(a,b);this._fieldsMap.set(l,b);this._normalizedFieldsMap.set(k,b);d.push(l);"date"===b.type||"esriFieldTypeDate"===b.type||"date-only"===b.type||"esriFieldTypeDateOnly"===b.type||"timestamp-offset"===b.type||"esriFieldTypeTimestampOffset"===b.type?(this.dateFields.push(b),this._dateFieldsSet.add(b)):f.isNumericField(b)&&(this._numericFieldsSet.add(b),this.numericFields.push(b));
g(b)||h(b)||(b.editable=null==b.editable||!!b.editable,b.nullable=null==b.nullable||!!b.nullable)}}d.sort();this.uid=d.join(",")}}var e=c.prototype;e.destroy=function(){this._fieldsMap.clear()};e.has=function(a){return null!=this.get(a)};e.get=function(a){if(a){var d=this._fieldsMap.get(a);if(d)return d;(d=this._fieldsMap.get(a.trim().toLowerCase())??this._normalizedFieldsMap.get(f.normalizeFieldName(a)?.toLowerCase()??""))&&this._fieldsMap.set(a,d);return d}};e.isDateField=function(a){return this._dateFieldsSet.has(this.get(a))};
e.isNumericField=function(a){return this._numericFieldsSet.has(this.get(a))};e.normalizeFieldName=function(a){if(a=this.get(a))return a.name??void 0};m._createClass(c,[{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];for(const a of this.fields)g(a)||h(a)||a.nullable||void 0!==f.getFieldDefaultValue(a)||this._requiredFields.push(a)}return this._requiredFields}}]);return c}()});