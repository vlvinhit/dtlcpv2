// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../request ../../core/Handles ../../core/JSONSupport ../../core/lang ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/persistable ./PolygonCollection ../../chunks/persistableUrlUtils".split(" "),function(l,e,q,r,b,t,m,n,B,u,v,w,f,x){var h;
b=h=function(p){function k(a){a=p.call(this,a)||this;a.spatialRelationship="disjoint";a.geometries=new f;a._geometriesSource=null;a._handles=new r;return a}l._inherits(k,p);var c=k.prototype;c.initialize=function(){this._handles.add(m.on(()=>this.geometries,"after-changes",()=>this.geometries=this.geometries,m.sync))};c.destroy=function(){this._handles.destroy()};c.readGeometries=function(a,g,d){Array.isArray(a)?this.geometries=f.fromJSON(a,d):this._geometriesSource={url:x.fromJSON(a,d),context:d}};
c.loadGeometries=async function(a,g){if(null!=this._geometriesSource){var {url:d,context:y}=this._geometriesSource;g=await q(d,{responseType:"json",signal:g?.signal});var z=a.toJSON();a=g.data.map(A=>({...A,spatialReference:z}));this.geometries=f.fromJSON(a,y);this._geometriesSource=null}};c.clone=function(){const a=new h({geometries:t.clone(this.geometries),spatialRelationship:this.spatialRelationship});a._geometriesSource=this._geometriesSource;return a};return l._createClass(k)}(b.JSONSupport);
e.__decorate([n.property({type:["disjoint","contains"],nonNullable:!0,json:{write:!0}})],b.prototype,"spatialRelationship",void 0);e.__decorate([n.property({type:f,nonNullable:!0,json:{write:!0}}),w.persistable({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries"})],b.prototype,"geometries",void 0);e.__decorate([u.reader(["web-scene","portal-item"],"geometries")],b.prototype,"readGeometries",null);return b=h=e.__decorate([v.subclass("esri.layers.support.SceneFilter")],b)});