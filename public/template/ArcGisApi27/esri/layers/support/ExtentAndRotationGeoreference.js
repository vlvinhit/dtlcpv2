// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/mathUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../chunks/common ../../geometry/Extent ../../geometry/Polygon ./GeoreferenceBase".split(" "),function(q,l,u,n,h,D,E,v,w,r,x,y){function t(k,f,a){a=w.toRadian(a);const c=Math.cos(a),b=Math.sin(a);return(e,g)=>[c*(e-k)+b*(g-f)+k,c*(g-f)-b*(e-
k)+f]}h=function(k){function f(a){a=k.call(this,a)||this;a.extent=null;a.rotation=0;a.type="extent-and-rotation";return a}q._inherits(f,k);q._createClass(f,[{key:"coords",get:function(){if(null==this.extent)return null;const {xmin:a,ymin:c,xmax:b,ymax:e,spatialReference:g}=this.extent;if(this.rotation){const {x:p,y:m}=this.extent.center;var d=t(p,m,this.rotation);d=[d(a,c),d(a,e),d(b,e),d(b,c)];d.push(d[0])}else d=[[a,c],[a,e],[b,e],[b,c],[a,c]];return new x({rings:[d],spatialReference:g})},set:function(a){if(null!=
a&&null!=this.extent){var c=this.extent.spatialReference;a=this.projectOrWarn(a,c);if(null!=a&&null!=a.extent){var {rings:[[b,e,g]],extent:{center:{x:d,y:p}}}=a;a=u.rad2deg(Math.PI/2-Math.atan2(e[1]-b[1],e[0]-b[0]));var m=t(d,p,-a),[z,A]=m(b[0],b[1]),[B,C]=m(g[0],g[1]);this.extent=new r({xmin:z,ymin:A,xmax:B,ymax:C,spatialReference:c});this.rotation=a}}}}]);return f}(y);l.__decorate([n.property()],h.prototype,"coords",null);l.__decorate([n.property({type:r})],h.prototype,"extent",void 0);l.__decorate([n.property({type:Number})],
h.prototype,"rotation",void 0);return h=l.__decorate([v.subclass("esri.layers.support.ExtentAndRotationGeoreference")],h)});