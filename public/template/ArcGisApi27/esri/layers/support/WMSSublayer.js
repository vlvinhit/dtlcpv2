// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/Identifiable ../../core/MultiOriginJSONSupport ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ../../geometry/Extent".split(" "),function(k,d,r,c,t,g,e,u,A,B,v,w,x,
y){var l;let z=0;c=l=function(q){function m(b){var a=q.call(this,b)||this;a.description=null;a.dimensions=null;a.fullExtent=null;a.fullExtents=null;a.legendUrl=null;a.legendEnabled=!0;a.layer=null;a.maxScale=0;a.minScale=0;a.name=null;a.parent=null;a.popupEnabled=!1;a.queryable=!1;a.sublayers=null;a.spatialReferences=null;a.title=null;a.addHandles([g.on(()=>a.sublayers,"after-add",({item:f})=>{f.parent=k._assertThisInitialized(a);f.layer=a.layer},g.sync),g.on(()=>a.sublayers,"after-remove",({item:f})=>
{f.layer=f.parent=null},g.sync),g.watch(()=>a.sublayers,(f,n)=>{if(n)for(const h of n)h.layer=h.parent=null;if(f)for(const h of f)h.parent=k._assertThisInitialized(a),h.layer=a.layer},g.sync),g.watch(()=>a.layer,f=>{if(a.sublayers)for(const n of a.sublayers)n.layer=f},g.sync)]);return a}k._inherits(m,q);var p=m.prototype;p.readLegendUrl=function(b,a){return a.legendUrl??a.legendURL??null};p.castSublayers=function(b){return x.ensureType(r.ofType(l),b)};p.clone=function(){const b=new l;this.hasOwnProperty("description")&&
(b.description=this.description);this.hasOwnProperty("fullExtent")&&(b.fullExtent=this.fullExtent.clone());this.hasOwnProperty("fullExtents")&&(b.fullExtents=this.fullExtents?.map(a=>a.clone())??null);this.hasOwnProperty("legendUrl")&&(b.legendUrl=this.legendUrl);this.hasOwnProperty("legendEnabled")&&(b.legendEnabled=this.legendEnabled);this.hasOwnProperty("layer")&&(b.layer=this.layer);this.hasOwnProperty("name")&&(b.name=this.name);this.hasOwnProperty("parent")&&(b.parent=this.parent);this.hasOwnProperty("queryable")&&
(b.queryable=this.queryable);this.hasOwnProperty("sublayers")&&(b.sublayers=this.sublayers&&this.sublayers.map(a=>a.clone()));this.hasOwnProperty("spatialReferences")&&(b.spatialReferences=this.spatialReferences?.map(a=>a));this.hasOwnProperty("visible")&&(b.visible=this.visible);this.hasOwnProperty("title")&&(b.title=this.title);return b};p._setAndNotifyLayer=function(b,a){const f=this.layer;this._get(b)!==a&&(this._set(b,a),f&&f.emit("wms-sublayer-update",{propertyName:b,id:this.id}))};k._createClass(m,
[{key:"id",get:function(){const b=this._get("id");return null==b?z++:b},set:function(b){this._set("id",b)}},{key:"effectiveScaleRange",get:function(){const {minScale:b,maxScale:a}=this;return{minScale:b,maxScale:a}}},{key:"visible",set:function(b){this._setAndNotifyLayer("visible",b)}}]);return m}(c.IdentifiableMixin(t.MultiOriginJSONSupport));d.__decorate([e.property()],c.prototype,"description",void 0);d.__decorate([e.property({readOnly:!0})],c.prototype,"dimensions",void 0);d.__decorate([e.property({type:y,
json:{name:"extent"}})],c.prototype,"fullExtent",void 0);d.__decorate([e.property()],c.prototype,"fullExtents",void 0);d.__decorate([e.property({type:Number,json:{write:{enabled:!1,overridePolicy:()=>({ignoreOrigin:!0,enabled:!0})}}})],c.prototype,"id",null);d.__decorate([e.property({type:String,json:{name:"legendUrl",write:{ignoreOrigin:!0}}})],c.prototype,"legendUrl",void 0);d.__decorate([v.reader("legendUrl",["legendUrl","legendURL"])],c.prototype,"readLegendUrl",null);d.__decorate([e.property({type:Boolean,
json:{name:"showLegend",origins:{"web-map":{read:!1,write:!1},"web-scene":{read:!1,write:!1}}}})],c.prototype,"legendEnabled",void 0);d.__decorate([e.property()],c.prototype,"layer",void 0);d.__decorate([e.property()],c.prototype,"maxScale",void 0);d.__decorate([e.property()],c.prototype,"minScale",void 0);d.__decorate([e.property({readOnly:!0})],c.prototype,"effectiveScaleRange",null);d.__decorate([e.property({type:String,json:{write:{ignoreOrigin:!0}}})],c.prototype,"name",void 0);d.__decorate([e.property()],
c.prototype,"parent",void 0);d.__decorate([e.property({type:Boolean,json:{read:{source:"showPopup"},write:{ignoreOrigin:!0,target:"showPopup"}}})],c.prototype,"popupEnabled",void 0);d.__decorate([e.property({type:Boolean,json:{write:{ignoreOrigin:!0}}})],c.prototype,"queryable",void 0);d.__decorate([e.property()],c.prototype,"sublayers",void 0);d.__decorate([u.cast("sublayers")],c.prototype,"castSublayers",null);d.__decorate([e.property({type:[Number],json:{read:{source:"spatialReferences"}}})],c.prototype,
"spatialReferences",void 0);d.__decorate([e.property({type:String,json:{write:{ignoreOrigin:!0}}})],c.prototype,"title",void 0);d.__decorate([e.property({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"}}})],c.prototype,"visible",null);return c=l=d.__decorate([w.subclass("esri.layers.support.WMSSublayer")],c)});