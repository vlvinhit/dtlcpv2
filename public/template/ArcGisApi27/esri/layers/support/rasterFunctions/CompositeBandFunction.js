// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./BaseRasterFunction ./CompositeBandFunctionArguments ./pixelUtils".split(" "),function(l,f,g,e,t,u,n,p,q,r){e=function(m){function h(){var a=m.apply(this,arguments)||this;a.functionName="CompositeBand";a.functionArguments=null;a.rasterArgumentNames=
["rasters"];return a}l._inherits(h,m);var k=h.prototype;k._bindSourceRasters=function(){var {sourceRasterInfos:a}=this,c=a[0];this.outputPixelType=this._getOutputPixelType(c.pixelType);c=c.clone();c.attributeTable=null;c.colormap=null;c.pixelType=this.outputPixelType;c.bandCount=a.map(({bandCount:b})=>b).reduce((b,d)=>b+d);if(a.every(({statistics:b})=>null!=b&&b.length)){const b=[];a.forEach(({statistics:d})=>null!=d&&b.push(...d));c.statistics=b}if(a.every(({histograms:b})=>null!=b&&b.length)){const b=
[];a.forEach(({histograms:d})=>null!=d&&b.push(...d));c.histograms=b}1<c.bandCount&&(c.colormap=null,c.attributeTable=null);a=a.every(b=>b.keyProperties.BandProperties?.length)?a.flatMap(b=>b.keyProperties.BandProperties):void 0;c.keyProperties={...c.keyProperties,BandProperties:a};this.rasterInfo=c;return{success:!0,supportsGPU:3>=c.bandCount}};k._processPixels=function(a){({pixelBlocks:a}=a);return a&&null!=a?.[0]?r.compositeBands(a):null};k._getWebGLParameters=function(){return{bandCount:this.rasterInfo.bandCount}};
return l._createClass(h)}(p);f.__decorate([g.property({json:{write:!0,name:"rasterFunction"}})],e.prototype,"functionName",void 0);f.__decorate([g.property({type:q,json:{write:!0,name:"rasterFunctionArguments"}})],e.prototype,"functionArguments",void 0);f.__decorate([g.property()],e.prototype,"rasterArgumentNames",void 0);return e=f.__decorate([n.subclass("esri.layers.support.rasterFunctions.CompositeBandFunction")],e)});