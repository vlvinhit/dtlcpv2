// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/TileInfo ../support/TileInfoTilemapCache ../support/TilemapCache ../../geometry/SpatialReference".split(" "),function(q,r,d,B,e,C,D,E,p,w,t,x,y,z){q.ArcGISCachedService=a=>{a=function(u){function m(){var b=
u.apply(this,arguments)||this;b.copyright=null;b.minScale=0;b.maxScale=0;b.spatialReference=null;b.tileInfo=null;b.tilemapCache=null;return b}r._inherits(m,u);var n=m.prototype;n.destroy=function(){this.tilemapCache?.destroy?.()};n.readMinScale=function(b,c){return null!=c.minLOD&&null!=c.maxLOD?b:0};n.readMaxScale=function(b,c){return null!=c.minLOD&&null!=c.maxLOD?b:0};n.readTilemapCache=function(b,c,A){b=c.capabilities?.includes("Tilemap");let {minLOD:g,maxLOD:h,minScale:k,maxScale:l}=c;if(null==
g&&null==h&&0!==k&&0!==l){k=k?Math.round(1E4*k)/1E4:Math.round(1E4*c.tileInfo.lods[0].scale)/1E4;l=l?Math.round(1E4*l)/1E4:Math.round(1E4*c.tileInfo.lods[c.tileInfo.lods.length-1].scale)/1E4;for(var f of c.tileInfo.lods){const v=Math.round(1E4*f.scale)/1E4;g=v>=k?f.level:g;h=v>=l?f.level:h}}return b?new y.TilemapCache({layer:this,minLOD:g,maxLOD:h}):c.tileInfo?(f=new t,f.read(c.tileInfo,A),new x(f,g,h)):null};r._createClass(m,[{key:"supportsBlankTile",get:function(){return 10.2<=this.version}}]);
return m}(a);d.__decorate([e.property({json:{read:{source:"copyrightText"}}})],a.prototype,"copyright",void 0);d.__decorate([e.property()],a.prototype,"minScale",void 0);d.__decorate([p.reader("service","minScale")],a.prototype,"readMinScale",null);d.__decorate([e.property()],a.prototype,"maxScale",void 0);d.__decorate([p.reader("service","maxScale")],a.prototype,"readMaxScale",null);d.__decorate([e.property({type:z})],a.prototype,"spatialReference",void 0);d.__decorate([e.property({readOnly:!0})],
a.prototype,"supportsBlankTile",null);d.__decorate([e.property({type:t})],a.prototype,"tileInfo",void 0);d.__decorate([e.property()],a.prototype,"tilemapCache",void 0);d.__decorate([p.reader("service","tilemapCache",["capabilities","tileInfo"])],a.prototype,"readTilemapCache",null);d.__decorate([e.property()],a.prototype,"version",void 0);return a=d.__decorate([w.subclass("esri.layers.mixins.ArcGISCachedService")],a)};Object.defineProperty(q,Symbol.toStringTag,{value:"Module"})});