// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),function(f,g,h,q,v,w,x,r,t){const k=Symbol("esri.layers.mixins.PublishableLayer");f.PublishableLayer=b=>{b=function(l){function d(){var a=l.apply(this,arguments)||this;a[u]=!0;return a}g._inherits(d,l);d.prototype._checkPublishingStatus=
function(a){let m=0;const p=async n=>{a.updating=!0;let c;try{c=await this.fetchPublishingStatus()}catch(y){c="unavailable"}if("published"===c||"unavailable"===c)"publishing"===a.status&&this.refresh(),e.remove();a.status=c;a.updating=!1;e.removed||(m=setTimeout(p,n,n+125))},e={removed:!1,remove(){this.removed=!0;clearTimeout(m)}};this.when().catch(()=>e.remove());p(250);this.own(e)};g._createClass(d,[{key:"publishingInfo",get:function(){if(this.destroyed)return null;var a=this._get("publishingInfo");
if(a)return a;a=new t;this._checkPublishingStatus(a);return a}}]);return d}(b);var u=k;h.__decorate([q.property({readOnly:!0,clonable:!1})],b.prototype,"publishingInfo",null);return b=h.__decorate([r.subclass("esri.layers.mixins.PublishableLayer")],b)};f.isPublishableLayer=function(b){return null!=b&&"object"===typeof b&&k in b};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});