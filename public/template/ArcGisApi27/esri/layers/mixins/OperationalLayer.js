// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),function(n,g,f,p,t,h,y,z,A,u,m,v,w,x,q){n.OperationalLayer=
c=>{c=function(r){function l(){var b=r.apply(this,arguments)||this;b.title=null;return b}g._inherits(l,r);var k=l.prototype;k.writeListMode=function(b,a,d,e){e&&"ground"===e.layerContainerType?a[d]=b:b&&w.willPropertyWrite(this,d,{},e)&&(a[d]=b)};k.writeOperationalLayerType=function(b,a,d,e){!b||e&&"tables"===e.layerContainerType||(a.layerType=b)};k.writeTitle=function(b,a){a.title=b??"Layer"};k.read=function(b,a){a&&(a.layer=this);v.readLoadable(this,b,d=>g._get(g._getPrototypeOf(l.prototype),"read",
this).call(this,b,d),a)};k.write=function(b,a){if(a?.origin){var d=`${a.origin}/${a.layerContainerType||"operational-layers"}`;let e=!!x.supportedTypes[d]?.[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===d&&(e=!1);"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===d&&(e=!1);if(!e)return a.messages?.push(new p("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${d}'`,
{layer:this})),null}b=g._get(g._getPrototypeOf(l.prototype),"write",this).call(this,b,{...a,layer:this});d=!!a&&!!a.messages&&!!a.messages.filter(e=>e instanceof p&&"web-document-write:property-required"===e.name).length;return t.isBlobProtocol(b?.url)?(a?.messages?.push(new p("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&d?null:b};k.beforeSave=function(){};return g._createClass(l)}(c);
f.__decorate([h.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],c.prototype,"id",void 0);f.__decorate([h.property(q.listMode)],c.prototype,"listMode",void 0);f.__decorate([m.writer("listMode")],c.prototype,"writeListMode",null);f.__decorate([h.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],c.prototype,"operationalLayerType",
void 0);f.__decorate([m.writer("operationalLayerType")],c.prototype,"writeOperationalLayerType",null);f.__decorate([h.property(q.opacity)],c.prototype,"opacity",void 0);f.__decorate([h.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],c.prototype,"title",void 0);f.__decorate([m.writer("title"),m.writer(["web-scene"],"title")],c.prototype,"writeTitle",
null);f.__decorate([h.property({type:Boolean,json:{name:"visibility"}})],c.prototype,"visible",void 0);return c=f.__decorate([u.subclass("esri.layers.mixins.OperationalLayer")],c)};n.isOperationalLayer=function(c){return"operationalLayerType"in c};Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});