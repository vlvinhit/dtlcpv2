// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define("exports ../../geometry ../../Graphic ../../core/has ../../core/lang ../../core/typedArrayUtil ../../geometry/support/jsonUtils ./dehydratedFeatures ../../geometry/SpatialReference".split(" "),function(c,W,u,X,k,l,v,w,x){function m(a){return"declaredClass"in a}function e(a){return"declaredClass"in a}function n(a){return"declaredClass"in a}function p(a){return null==a?null:m(a)?a:v.fromJSON(y(a))}function y(a){const {wkid:b,wkt:f,latestWkid:g}=a.spatialReference,d={wkid:b,wkt:f,latestWkid:g};
switch(a.type){case "point":const {x:z,y:A,z:B,m:C}=a;return{x:z,y:A,z:B,m:C,spatialReference:d};case "polygon":const {rings:D,hasZ:E,hasM:F}=a;return{rings:q(D),hasZ:E,hasM:F,spatialReference:d};case "polyline":const {paths:G,hasZ:H,hasM:I}=a;return{paths:q(G),hasZ:H,hasM:I,spatialReference:d};case "extent":const {xmin:J,xmax:K,ymin:L,ymax:M,zmin:N,zmax:O,mmin:P,mmax:Q,hasZ:R,hasM:S}=a;return{xmin:J,xmax:K,ymin:L,ymax:M,zmin:N,zmax:O,mmin:P,mmax:Q,hasZ:R,hasM:S,spatialReference:d};case "multipoint":const {points:h,
hasZ:T,hasM:U}=a;return{points:r(h)?t(h):h,hasZ:T,hasM:U,spatialReference:d}}}function q(a){return V(a)?a.map(b=>t(b)):a}function t(a){return a.map(b=>Array.from(b))}function V(a){for(const b of a)if(0!==b.length)return r(b);return!1}function r(a){return 0<a.length&&(l.isFloat32Array(a[0])||l.isFloat64Array(a[0]))}c.clonePoint=function(a,b){if(!a)return null;if(e(a)){if(null==b)return a.clone();if(e(b))return b.copy(a)}null!=b?(b.x=a.x,b.y=a.y,b.spatialReference=a.spatialReference,a.hasZ?(b.z=a.z,
b.hasZ=a.hasZ):(b.z=void 0,b.hasZ=!1),a.hasM?(b.m=a.m,b.hasM=!0):(b.m=void 0,b.hasM=!1)):(b=w.makeDehydratedPoint(a.x,a.y,a.z,a.spatialReference),a.hasM&&(b.m=a.m,b.hasM=!0));return b};c.hydrateGeometry=p;c.hydrateGraphic=function(a,b){return a?n(a)?a:new u({layer:b,sourceLayer:b,visible:a.visible,symbol:k.clone(a.symbol),attributes:k.clone(a.attributes),geometry:p(a.geometry)}):null};c.hydratedSpatialReference=function(a){const {wkid:b,wkt:f,latestWkid:g}=a;return x.fromJSON({wkid:b,wkt:f,latestWkid:g})};
c.isHydratedGeometry=m;c.isHydratedGraphic=n;c.isHydratedPoint=e;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});