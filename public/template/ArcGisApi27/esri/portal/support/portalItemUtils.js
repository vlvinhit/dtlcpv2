// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
//>>built
define(["exports","../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(d,g,m,n){async function p(a){const b=a.spatialReference;if(b.isWGS84)return a.clone();if(b.isWebMercator)return n.webMercatorToGeographic(a);const c=m.WGS84;await g.initializeProjection(b,c);return g.project(a,c)}function f(a,b){return!!a.typeKeywords?.includes(b)}const h={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",
SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service"};d.TypeKeyword=h;d.addTypeKeyword=function(a,b){if(!f(a,b)){const c=a.typeKeywords;c?c.push(b):a.typeKeywords=[b]}};d.getUserPrivileges=function(a){const {portal:b,isOrgItem:c,itemControl:k}=a;var e=b.user?.privileges;a=e?e.includes("features:user:edit"):!0;e=c?!!e?.includes("features:user:fullEdit"):!1;const l="update"===k||"admin"===k;l?e=a=!0:e&&(a=!0);return{features:{edit:a,fullEdit:e},content:{updateItem:l}}};d.getWGS84ExtentForItem=
async function(a){a=a.clone().normalize();let b;if(1<a.length)for(const c of a)b?c.width>b.width&&(b=c):b=c;else b=a[0];return p(b)};d.hasTypeKeyword=f;d.isHostedLayer=function(a){return f(a,h.HOSTED_SERVICE)};d.removeTypeKeyword=function(a,b){if(a=a.typeKeywords)b=a.indexOf(b),-1<b&&a.splice(b,1)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});