/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{_ as t}from"./chunks/tslib.es6.js";import{JSONSupport as e}from"./core/JSONSupport.js";import{c as r}from"./chunks/maybe.js";import{t as s,o as n}from"./chunks/timeUtils.js";import{property as i}from"./core/accessorSupport/decorators/property.js";import"./chunks/ensureType.js";import"./chunks/typedArrayUtil.js";import{r as o}from"./chunks/reader.js";import{subclass as l}from"./core/accessorSupport/decorators/subclass.js";import{w as a}from"./chunks/writer.js";import"./core/Accessor.js";import"./core/Handles.js";import"./chunks/get.js";import"./chunks/utils.js";import"./core/lang.js";import"./chunks/metadata.js";import"./chunks/Logger.js";import"./config.js";import"./chunks/object.js";import"./chunks/string.js";import"./chunks/ObjectPool.js";import"./chunks/ObservableBase.js";import"./chunks/tracking.js";import"./chunks/watch.js";import"./chunks/ArrayPool.js";import"./core/scheduling.js";import"./chunks/nextTick.js";import"./chunks/PooledArray.js";import"./core/promiseUtils.js";import"./core/Error.js";var u;let m=u=class extends e{static get allTime(){return p}static get empty(){return c}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?t.getTime():null}get isAllTime(){return this.equals(u.allTime)}get isEmpty(){return this.equals(u.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?t.getTime():null}clone(){return new u({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=null!=this.start?this.start.getTime():this.start,r=null!=this.end?this.end.getTime():this.end,s=null!=t.start?t.start.getTime():t.start,n=null!=t.end?t.end.getTime():t.end;return e===s&&r===n}expandTo(t){if(this.isEmpty||this.isAllTime)return this.clone();const e=r(this.start,(e=>s(e,t))),i=r(this.end,(e=>{const r=s(e,t);return e.getTime()===r.getTime()?r:n(r,1,t)}));return new u({start:e,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return u.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,s=t.start?.getTime()??-1/0,n=t.end?.getTime()??1/0;let i,o;if(s>=e&&s<=r?i=s:e>=s&&e<=n&&(i=e),r>=s&&r<=n?o=r:n>=e&&n<=r&&(o=n),null!=i&&null!=o&&!isNaN(i)&&!isNaN(o)){const t=new u;return t.start=i===-1/0?null:new Date(i),t.end=o===1/0?null:new Date(o),t}return u.empty}offset(t,e){if(this.isEmpty||this.isAllTime)return this.clone();const r=new u,{start:s,end:i}=this;return null!=s&&(r.start=n(s,t,e)),null!=i&&(r.end=n(i,t,e)),r}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return p.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new u({start:e,end:r})}};t([i({type:Date,json:{write:{allowNull:!0}}})],m.prototype,"end",void 0),t([o("end")],m.prototype,"readEnd",null),t([a("end")],m.prototype,"writeEnd",null),t([i({readOnly:!0,json:{read:!1}})],m.prototype,"isAllTime",null),t([i({readOnly:!0,json:{read:!1}})],m.prototype,"isEmpty",null),t([i({type:Date,json:{write:{allowNull:!0}}})],m.prototype,"start",void 0),t([o("start")],m.prototype,"readStart",null),t([a("start")],m.prototype,"writeStart",null),m=u=t([l("esri.TimeExtent")],m);const p=new m,c=new m({start:void 0,end:void 0}),h=m;export{h as default};
