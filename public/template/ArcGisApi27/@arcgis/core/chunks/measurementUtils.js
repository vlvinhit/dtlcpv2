/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{s as t,a as e,e as r,C as n,i as o,z as s,c as i,n as a,f}from"./vec3.js";import{c as u}from"./vec3f64.js";import{geodesicArea as c}from"../geometry/geometryEngine.js";import l from"../geometry/Polygon.js";import{projectPointToVector as m,projectPointToWGS84ComparableLonLat as g,projectVectorToWGS84ComparableLonLat as p}from"../geometry/projection.js";import h from"../geometry/SpatialReference.js";import{InverseGeodeticSolverResult as j,inverseGeodeticSolver as y}from"../geometry/support/geodesicUtils.js";import{p as d}from"./mathUtils2.js";function w(o,s){const i=s.center;t(i,0,0,0);for(let t=0;t<o.length;++t)e(i,i,o[t]);r(i,i,1/o.length);let a=0;for(let t=0;t<o.length;++t)a=Math.max(a,n(i,o[t]));s.radius=Math.sqrt(a)}function P(t,e){if(t.length<3)throw new Error("need at least 3 points to fit a plane");d(t[0],t[1],t[2],e)}function b(t,e){return o(t,e)+t[3]}function M(t,e,r){return m(t,S,r)&&m(e,U,r)?s(S,U):0}function q(t,e){if(!g(t,S)||!g(e,U))return 0;const r=new j;return y(r,[S[0],S[1]],[U[0],U[1]]),r.distance}function v(t,e,r){const n=new j;return y(n,[t[0],t[1]],[e[0],e[1]],r),n.distance}function x(t,e,r,n){const o=C;return p(t,n,S)&&p(e,n,U)&&p(r,n,z)?(o.setPoint(0,0,S),o.setPoint(0,1,U),o.setPoint(0,2,z),Math.abs(c(o,"square-meters"))):0}function E(r,n=null,s=!0){const u=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let r=0;r<t.length;++r)if(o(e,t[r])<-1e-6)return!1;return!0};if(0===r.length)return!1;if(1===r.length)return n&&i(n,r[0]),!0;t(G,0,0,0);for(let t=0;t<r.length;++t)e(G,G,r[t]);if(a(G,G),u(r,G))return n&&i(n,G),!0;if(!s)return!1;for(let t=0;t<r.length;++t)for(let e=0;e<r.length;++e)if(t!==e&&(f(G,r[t],r[e]),a(G,G),u(r,G)))return n&&i(n,G),!0;return!1}function R(t){return"mouse"!==t.pointerType||0===t.button}const S=u(),U=u(),z=u(),C=new l({rings:[[S,U,z]],spatialReference:h.WGS84}),G=u();export{w as a,P as b,q as c,M as d,E as f,R as i,b as p,v as s,x as t};
