/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{q as e,b as t}from"./dom.js";import{h as n}from"./index.js";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.4.2
 */!function(e){function t(e,t,n){throw new e("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+t+".",n)}"function"!=typeof e.requestSubmit&&(e.requestSubmit=function(e){e?(function(e,n){e instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),"submit"==e.type||t(TypeError,"The specified element is not a submit button"),e.form==n||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}(e,this),e.click()):((e=document.createElement("input")).type="submit",e.hidden=!0,this.appendChild(e),e.click(),this.removeChild(e))})}(HTMLFormElement.prototype);const o="hidden-form-input";function r(e){return"checked"in e}const i=new WeakMap,c=new WeakSet;function s(e){const{formEl:t}=e;return!!t&&(t.requestSubmit(),!0)}function u(e){e.formEl?.reset()}function a(e){const{el:n,value:o}=e,s=l(e);if(!s||function(e,n){if(t(n.parentElement,"[form]"))return!0;const o="calciteInternalFormComponentRegister";let r=!1;return e.addEventListener(o,(e=>{r=e.composedPath().some((e=>c.has(e))),e.stopPropagation()}),{once:!0}),n.dispatchEvent(new CustomEvent(o,{bubbles:!0,composed:!0})),r}(s,n))return;e.formEl=s,e.defaultValue=o,r(e)&&(e.defaultChecked=e.checked);const u=(e.onFormReset||d).bind(e);s.addEventListener("reset",u),i.set(e.el,u),c.add(n)}function l(n){const{el:o,form:r}=n;return r?e(o,{id:r}):t(o,"form")}function d(){r(this)?this.checked=this.defaultChecked:this.value=this.defaultValue}function m(e){const{el:t,formEl:n}=e;if(!n)return;const o=i.get(t);n.removeEventListener("reset",o),i.delete(t),e.formEl=null,c.delete(t)}function f(e,t){e.defaultValue=t}const p=e=>{e.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},h=e=>e.removeEventListener("change",p);function E(e,t,n){const{defaultValue:o,disabled:i,form:c,name:s,required:u}=e;t.defaultValue=o,t.disabled=i,t.name=s,t.required=u,t.tabIndex=-1,c?t.setAttribute("form",c):t.removeAttribute("form"),r(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?n||"on":""):t.value=n||"",e.syncHiddenFormInput?.(t)}const b=({component:e})=>(function(e){const{el:t,formEl:n,name:r,value:i}=e,{ownerDocument:c}=t,s=t.querySelectorAll(`input[slot="${o}"]`);if(!n||!r)return void s.forEach((e=>{h(e),e.remove()}));const u=Array.isArray(i)?i:[i],a=[],l=new Set;let d;s.forEach((t=>{const n=u.find((e=>e==t.value));null!=n?(l.add(n),E(e,t,n)):a.push(t)})),u.forEach((t=>{if(l.has(t))return;let n=a.pop();n||(n=c.createElement("input"),n.slot=o),d||(d=c.createDocumentFragment()),d.append(n),n.addEventListener("change",p),E(e,n,t)})),d&&t.append(d),a.forEach((e=>{h(e),e.remove()}))}(e),n("slot",{name:o}));export{b as H,f as a,a as c,m as d,l as f,u as r,s};
