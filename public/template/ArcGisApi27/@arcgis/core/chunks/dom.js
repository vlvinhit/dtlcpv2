/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{g as t}from"./guid.js";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.4.2
 */const e="calcite-mode-auto",n="calcite-mode-dark",r={autoMode:e,darkMode:n,lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};var o=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],i=o.join(","),a="undefined"==typeof Element,l=a?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,u=!a&&Element.prototype.getRootNode?function(t){var e;return null==t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}:function(t){return null==t?void 0:t.ownerDocument},c=function t(e,n){var r;void 0===n&&(n=!0);var o=null==e||null===(r=e.getAttribute)||void 0===r?void 0:r.call(e,"inert");return""===o||"true"===o||n&&e&&t(e.parentNode)},s=function(t,e,n){if(c(t))return[];var r=Array.prototype.slice.apply(t.querySelectorAll(i));return e&&l.call(t,i)&&r.unshift(t),r.filter(n)},d=function t(e,n,r){for(var o=[],a=Array.from(e);a.length;){var u=a.shift();if(!c(u,!1))if("SLOT"===u.tagName){var s=u.assignedElements(),d=t(s.length?s:u.children,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:u,candidates:d})}else{l.call(u,i)&&r.filter(u)&&(n||!e.includes(u))&&o.push(u);var f=u.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(u),m=!c(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(u));if(f&&m){var h=t(!0===f?u.children:f.children,!0,r);r.flatten?o.push.apply(o,h):o.push({scopeParent:u,candidates:h})}else a.unshift.apply(a,u.children)}}return o},f=function(t,e){return t.tabIndex<0&&(e||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||function(t){var e,n=null==t||null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"contenteditable");return""===n||"true"===n}(t))&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},m=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},h=function(t){return"INPUT"===t.tagName},p=function(t){var e=t.getBoundingClientRect(),n=e.width,r=e.height;return 0===n&&0===r},g=function(t,e){return!(e.disabled||c(e)||function(t){return h(t)&&"hidden"===t.type}(e)||function(t,e){var n=e.displayCheck,r=e.getShadowRoot;if("hidden"===getComputedStyle(t).visibility)return!0;var o=l.call(t,"details>summary:first-of-type")?t.parentElement:t;if(l.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return p(t)}else{if("function"==typeof r){for(var i=t;t;){var a=t.parentElement,c=u(t);if(a&&!a.shadowRoot&&!0===r(a))return p(t);t=t.assignedSlot?t.assignedSlot:a||c===t.ownerDocument?a:c.host}t=i}if(function(t){var e,n,r,o,i=t&&u(t),a=null===(e=i)||void 0===e?void 0:e.host,l=!1;if(i&&i!==t)for(l=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!=t&&null!==(o=t.ownerDocument)&&void 0!==o&&o.contains(t));!l&&a;){var c,s,d;l=!(null===(s=a=null===(c=i=u(a))||void 0===c?void 0:c.host)||void 0===s||null===(d=s.ownerDocument)||void 0===d||!d.contains(a))}return l}(t))return!t.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(e,t)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var r=e.children.item(n);if("LEGEND"===r.tagName)return!!l.call(e,"fieldset[disabled] *")||!r.contains(t)}return!0}e=e.parentElement}return!1}(e))},y=function(t,e){return!(function(t){return function(t){return h(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||u(t),r=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=r(window.CSS.escape(t.name));else try{e=r(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var o=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!o||o===t}(t)}(e)||f(e)<0||!g(t,e))},v=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},S=function t(e){var n=[],r=[];return e.forEach((function(e,o){var i=!!e.scopeParent,a=i?e.scopeParent:e,l=f(a,i),u=i?t(e.candidates):a;0===l?i?n.push.apply(n,u):n.push(a):r.push({documentOrder:o,tabIndex:l,item:e,isScope:i,content:u})})),r.sort(m).reduce((function(t,e){return e.isScope?t.push.apply(t,e.content):t.push(e.content),t}),[]).concat(n)},w=function(t,e){var n;return n=(e=e||{}).getShadowRoot?d([t],e.includeContainer,{filter:y.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:v}):s(t,e.includeContainer,y.bind(null,e)),S(n)},A=function(t,e){return(e=e||{}).getShadowRoot?d([t],e.includeContainer,{filter:g.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):s(t,e.includeContainer,g.bind(null,e))},b=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==l.call(t,i)&&y(e,t)},E=o.concat("iframe").join(","),I=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==l.call(t,E)&&g(e,t)};const N={getShadowRoot:!0};function R(e){return e?e.id=e.id||`${e.tagName.toLowerCase()}-${t()}`:""}function x(t){return Array.isArray(t)?t:Array.from(t)}function C(t){const e=$(t,`.${r.darkMode}, .${r.lightMode}`);return e?.classList.contains("calcite-mode-dark")?"dark":"light"}function D(t){const e=$(t,"[dir]");return e?e.getAttribute("dir"):"ltr"}function _(t,e,n){const r=`[${e}]`,o=t.closest(r);return o?o.getAttribute(e):n}function k(t){return t.getRootNode()}function T(t){const e=k(t);return"host"in e?e:null}function L(t){return t.host||null}function M(t,{selector:e,id:n}){return function t(r){if(!r)return null;r.assignedSlot&&(r=r.assignedSlot);const o=k(r),i=n?"getElementById"in o?o.getElementById(n):null:e?o.querySelector(e):null,a=L(o);return i||(a?t(a):null)}(t)}function $(t,e){return function t(n){return n?n.closest(e)||t(L(k(n))):null}(t)}function q(t,e){return O(t,e)}function O(t,e){if(!t)return;const n=e(t);if(void 0!==n)return n;const{parentNode:r}=t;return O(r instanceof ShadowRoot?r.host:r,e)}function P(t,e){return!!q(e,(e=>e===t||void 0))}async function F(t){if(t)return function(t){return"function"==typeof t?.setFocus}(t)?t.setFocus():t.focus()}function U(t){t&&(w(t,N)[0]||t).focus()}const j=":not([slot])";function B(t,e,n){e&&!Array.isArray(e)&&"string"!=typeof e&&(n=e,e=null);const r=e?Array.isArray(e)?e.map((t=>`[slot="${t}"]`)).join(","):`[slot="${e}"]`:j;return n?.all?function(t,e,n){let r=e===j?z(t,j):Array.from(t.querySelectorAll(e));r=n&&!1===n.direct?r:r.filter((e=>e.parentElement===t)),r=n?.matches?r.filter((t=>t?.matches(n.matches))):r;const o=n?.selector;return o?r.map((t=>Array.from(t.querySelectorAll(o)))).reduce(((t,e)=>[...t,...e]),[]).filter((t=>!!t)):r}(t,r,n):function(t,e,n){let r=e===j?z(t,j)[0]||null:t.querySelector(e);r=n&&!1===n.direct||r?.parentElement===t?r:null,r=n?.matches?r?.matches(n.matches)?r:null:r;const o=n?.selector;return o?r?.querySelector(o):r}(t,r,n)}function z(t,e){return t?Array.from(t.children||[]).filter((t=>t?.matches(e))):[]}function G(t,e){return Array.from(t.children).filter((t=>t.matches(e)))}function V(t,e,n){return"string"==typeof e&&""!==e?e:""===e?t[n]:void 0}function X(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function Y(t){return Boolean(t).toString()}function H(t){return!!J(t).length}function J(t){return t.target.assignedElements({flatten:!0})}function K(t){return!(!t.isPrimary||0!==t.button)}const Q=(t,e,n,r=!0)=>{const o=t.indexOf(e),i=0===o,a=o===t.length-1;let l;return r&&(n="previous"===n&&i?"last":"next"===n&&a?"first":n),l="previous"===n?t[o-1]||t[r?t.length-1:o]:"next"===n?t[o+1]||t[r?0:o]:"last"===n?t[t.length-1]:t[0],F(l),l};export{R as A,r as C,e as a,$ as b,P as c,n as d,T as e,F as f,D as g,Q as h,K as i,_ as j,U as k,N as l,w as m,A as n,b as o,I as p,M as q,x as r,H as s,Y as t,B as u,V as v,J as w,C as x,G as y,X as z};
