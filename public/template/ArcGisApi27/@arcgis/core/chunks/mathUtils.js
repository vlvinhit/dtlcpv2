/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{l as t,s as n}from"./vec3.js";import{s as r}from"./vec4.js";const a=new Float32Array(1);function e(t){--t;for(let n=1;n<32;n<<=1)t|=t>>n;return t+1}function u(t,n,r){return Math.min(Math.max(t,n),r)}function i(t,n){return 0===n?0:Math.round(t/n)*n}function s(t){return 0==(t&t-1)}function o(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function c(t){return 10**Math.ceil(Math.LOG10E*Math.log(t))}function f(t,n,r){return t+(n-t)*r}function h(t){return t*Math.PI/180}function M(t){return 180*t/Math.PI}function m(t,n=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),n)}function b(t){return Math.acos(u(t,-1,1))}function l(t){return Math.asin(u(t,-1,1))}function F(t,n,r=1e-6){return t===n||!(!Number.isFinite(t)||!Number.isFinite(n))&&(t>n?t-n:n-t)<=r}const N=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function g(t){return N.setFloat64(0,t),N.getBigInt64(0)}const E=BigInt("1000000"),B=I(1);function I(t){const n=g(t=Math.abs(t)),r=(a=n<=E?E:n-E,N.setBigInt64(0,a),N.getFloat64(0));var a;return Math.abs(t-r)}function p(t,n,r=B){if(t===n)return!0;if(!Number.isFinite(t)||!Number.isFinite(n))return!1;if(null!=r&&I(Math.min(Math.abs(t),Math.abs(n)))<r)return Math.abs(t-n)<=r;const a=g(t),e=g(n);return a<0==e<0&&!((a<e?e-a:a-e)>E)}function w(t,n,r=1e-6){if(t===n)return!0;if(!Number.isFinite(t)||!Number.isFinite(n))return!1;const a=Math.abs(t-n),e=Math.abs(t),u=Math.abs(n);if(0===t||0===n||e<1e-12&&u<1e-12){if(a>.01*r)return!1}else if(a/(e+u)>r)return!1;return!0}function x(t){return j(Math.max(-d,Math.min(t,d)))}function j(t){return a[0]=t,a[0]}function v(t,n,r){const a=u((r-t)/(n-t),0,1);return a*a*(3-2*a)}function y(r,a){const e=t(r),u=l(r[2]/e),i=Math.atan2(r[1]/e,r[0]/e);return n(a,e,u,i),a}function A(t,n,a){return r(t,n[0],n[1],n[2],n[3]*a)}function P(t){const n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],a=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(F(n,1)&&F(r,1)&&F(a,1))}const d=j(34028234663852886e22);export{d as N,l as a,b,u as c,h as d,o as e,c as f,y as g,A as h,s as i,F as j,w as k,f as l,x as m,e as n,m as o,i as p,P as q,M as r,v as s,p as t};
