/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{b as t}from"./mathUtils.js";import{n,i as s,f as a,s as r,l as o,e as c,a as i,x as u,b as f}from"./vec3.js";import{c as e}from"./vec3f64.js";function h(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],s=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],a=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,s,a))}function M(t,n){const s=Math.sqrt(n[0]*n[0]+n[4]*n[4]+n[8]*n[8]),a=Math.sqrt(n[1]*n[1]+n[5]*n[5]+n[9]*n[9]),o=Math.sqrt(n[2]*n[2]+n[6]*n[6]+n[10]*n[10]);return r(t,s,a,o),t}function m(t,a,o){o=o||t;const c=s(t,a);r(o,t[0]-c*a[0],t[1]-c*a[1],t[2]-c*a[2]),n(o,o)}function b(t,s,o){Math.abs(t[0])>Math.abs(t[1])?r(s,0,1,0):r(s,1,0,0),a(o,t,s),n(s,s),a(s,o,t),n(o,o)}function p(t,n){return(t%n+n)%n}function l(t,n,s,a,r,o){const c=t+(n-t)*r;return c+(s+(a-s)*r-c)*o}function q(t,n,a,r=e()){const f=o(t),h=o(n),M=s(t,n)/(f*h);if(M<.9999999999999999){const s=Math.acos(M),o=((1-a)*f+a*h)/Math.sin(s),u=o/f*Math.sin((1-a)*s),e=o/h*Math.sin(a*s);return c(w,t,u),c(y,n,e),i(r,w,y)}return u(r,t,n,a)}function j(t,a,r,h=e(),M=e()){const m=o(t),b=o(a),p=s(t,a)/(m*b);if(p<.9999999999999999){const n=Math.acos(p),s=Math.sin(n),o=Math.sin(r*n),u=Math.sin((1-r)*n),f=(1-r)*m+r*b;{const n=f/s,r=n/b*o;c(w,t,n/m*u),c(y,a,r),i(h,w,y)}{const e=1/m*(-Math.cos((1-r)*n)*n*f+u*(-m+b));c(w,t,e);const h=1/b*(Math.cos(r*n)*n*f+o*(-m+b));c(y,a,h),i(M,w,y),c(M,M,1/s)}return M}return u(h,t,a,r),f(M,a,t),n(M,M),M}function x(r,o,c){r=n(w,r),o=n(y,o);const i=t(s(r,o));if(c){const t=a(k,r,o);if(s(t,c)<0)return-i}return i}function g(t){const n=t.length;return s=>{if(s<=t[0][0])return t[0][1];if(s>=t[n-1][0])return t[n-1][1];let a=1;for(;s>t[a][0];)a++;const r=t[a-1][0],o=t[a][0],c=(o-s)/(o-r);return c*t[a-1][1]+(1-c)*t[a][1]}}function v(t,r,o,c){f(d,r,t),f(U,o,t),a(c,d,U),n(c,c),c[3]=-s(t,c)}const d=e(),U=e(),k=e(),w=e(),y=e();export{q as a,h as b,g as c,x as d,l as e,M as f,p as g,m,v as p,j as s,b as t};
