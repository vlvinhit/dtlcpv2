/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function e(e){return t[e]??[-34028234663852886e22,34028234663852886e22]}function n(t,n,s){if(t.depthCount&&t.depthCount>1)return;const{pixels:u,statistics:a,pixelType:i}=t,o=u[0].length,l=t.bandMasks??[],r=t.mask??new Uint8Array(o).fill(255),c="f32"===i||"f64"===i,f=e(i);let b=!1;for(let t=0;t<u.length;t++){const e="number"==typeof n?n:n[t];if(null==e)continue;const m=a?.[t].minValue??f[0],d=a?.[t].maxValue??f[1];if(m>e+Number.EPSILON||d<e-Number.EPSILON)continue;const h=l[t]||new Uint8Array(o).fill(255),p=u[t],N=s?.customFloatTolerance;if(c&&0!==N){let t=N;t||(t=Math.abs(e)>=9999999e31?2e-7*Math.abs(e):"f32"===i?2**-23:Number.EPSILON);for(let n=0;n<p.length;n++)h[n]&&Math.abs(p[n]-e)<t&&(p[n]=0,h[n]=0,r[n]=0,b=!0)}else for(let t=0;t<p.length;t++)h[t]&&p[t]===e&&(p[t]=0,h[t]=0,r[t]=0,b=!0);l[t]=h}b&&(t.bandMasks=l,t.mask=r),b&&"updateStatistics"in t&&t.updateStatistics()}export{n as c,e as g};
