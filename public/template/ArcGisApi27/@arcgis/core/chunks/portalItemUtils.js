/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{initializeProjection as e,project as t}from"../geometry/projection.js";import r from"../geometry/SpatialReference.js";import{webMercatorToGeographic as n}from"../geometry/support/webMercatorUtils.js";function o(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function i(e){return s(e,u.HOSTED_SERVICE)}function a(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}async function c(o){const s=o.clone().normalize();let i;if(s.length>1)for(const e of s)i?e.width>i.width&&(i=e):i=e;else i=s[0];return async function(o){const s=o.spatialReference;if(s.isWGS84)return o.clone();if(s.isWebMercator)return n(o);const i=r.WGS84;return await e(s,i),t(o,i)}(i)}const u={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service"};function l(e){const{portal:t,isOrgItem:r,itemControl:n}=e,o=t.user?.privileges;let s=!o||o.includes("features:user:edit"),i=!!r&&!!o?.includes("features:user:fullEdit");const a="update"===n||"admin"===n;return a?i=s=!0:i&&(s=!0),{features:{edit:s,fullEdit:i},content:{updateItem:a}}}export{u as T,o as a,c as b,l as g,s as h,i,a as r};
