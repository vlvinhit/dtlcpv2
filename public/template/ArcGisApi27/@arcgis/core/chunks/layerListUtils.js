/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e={hide:"hide",hideChildren:"hide-children"};function n(e){if(e)return null!=e.listMode?e.listMode:void 0}function i(e){if(!e)return"inherited";const n=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof n)return n?"independent":"inherited";const i=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof i?i?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"}function t(n){if(n&&(!("type"in n)||"wmts"!==n.type)&&n.listMode!==e.hideChildren)return"sublayers"in n?"sublayers":"layers"in n?"layers":void 0}function r(e){const n=e&&(e.get("layer.layer")||e.layer);if(!n)return!1;const i=n.get("capabilities.exportMap.supportsDynamicLayers");return"boolean"!=typeof i||i}function l(i){return n(i)!==e.hide}function a(e,n){if(!e||isNaN(n))return!1;const i=function(e){if(e)return null!=e.minScale?e.minScale:void 0}(e),t=function(e){if(e)return null!=e.maxScale?e.maxScale:void 0}(e),r=null!=i&&!isNaN(i)&&i>0&&n>i,l=null!=t&&!isNaN(t)&&t>0&&n<t;return r||l}function s(e,n){e&&e.sort(((e,i)=>{const t=n.indexOf(e.uid),r=n.indexOf(i.uid);return t>r?-1:t<r?1:0}))}function u(e,n){const i=e?.layer;if(!i)return;const r=t(i);r&&s(i.get(r),n)}function o(e){const n=e?.layer;return n&&"layers"in n?n.layers:null}function c(e,n){const i=e.layer?.uid;return null!=i?n.find((e=>e.layer?.uid===i)):null}function d(e){const n=function(e){return!!e?.layer}(e)?e:null,i=e?.parent,t="map-image"===i?.type?n?.source:null;return t&&i?{layer:i,title:"",sublayerIds:[t.mapLayerId]}:{layer:e,title:""}}export{i as a,n as b,l as c,d,o as e,c as f,t as g,u as h,a as i,r as j,s};
