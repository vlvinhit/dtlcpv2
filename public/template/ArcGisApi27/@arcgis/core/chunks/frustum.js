/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{O as T,c as _,b as O,f as R,d as r,a as n}from"./ray.js";import{m as t,c as A}from"./mat4.js";import{a as E,e as F,l as a,s as o}from"./vec3.js";import{c as s}from"./vec3f64.js";import{t as c}from"./vec4.js";import{f as e}from"./vec4f64.js";import{c as f,a as u,d as i,e as M,s as N,g as B}from"./plane.js";function G(T){return T?{ray:_(T.ray),c0:T.c0,c1:T.c1}:{ray:_(),c0:0,c1:Number.MAX_VALUE}}function H(T,_=G()){return O(T,_.ray),_.c0=0,_.c1=Number.MAX_VALUE,_}function I(T,_){return P(T,T.c0,_)}function L(T,_){return P(T,T.c1,_)}function P(T,_,O){return E(O,T.ray.origin,F(O,T.ray.direction,_))}function m(T){return T?[f(T[0]),f(T[1]),f(T[2]),f(T[3]),f(T[4]),f(T[5])]:[f(),f(),f(),f(),f(),f()]}function p(){return[s(),s(),s(),s(),s(),s(),s(),s()]}function l(T,_){for(let O=0;O<k;O++)u(T[O],_[O])}function g(T,_,O,R=C){const E=t(r.get(),_,T);A(E,E);for(let T=0;T<x;++T){const _=c(n.get(),q[T],E);o(R[T],_[0]/_[3],_[1]/_[3],_[2]/_[3])}j(O,R)}function j(T,_){i(_[V.FAR_BOTTOM_LEFT],_[V.NEAR_BOTTOM_LEFT],_[V.NEAR_TOP_LEFT],T[U.LEFT]),i(_[V.NEAR_BOTTOM_RIGHT],_[V.FAR_BOTTOM_RIGHT],_[V.FAR_TOP_RIGHT],T[U.RIGHT]),i(_[V.FAR_BOTTOM_LEFT],_[V.FAR_BOTTOM_RIGHT],_[V.NEAR_BOTTOM_RIGHT],T[U.BOTTOM]),i(_[V.NEAR_TOP_LEFT],_[V.NEAR_TOP_RIGHT],_[V.FAR_TOP_RIGHT],T[U.TOP]),i(_[V.NEAR_BOTTOM_LEFT],_[V.NEAR_BOTTOM_RIGHT],_[V.NEAR_TOP_RIGHT],T[U.NEAR]),i(_[V.FAR_BOTTOM_RIGHT],_[V.FAR_BOTTOM_LEFT],_[V.FAR_TOP_LEFT],T[U.FAR])}function y(T,_){for(let O=0;O<k;O++){const R=T[O];if(R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]>=_[3])return!1}return!0}function v(T,_){return w(T,H(_,z.get()))}function b(T,_){for(let O=0;O<k;O++){const R=T[O];if(!M(R,_))return!1}return!0}function d(T,_,O){return w(T,function(T,_,O=G()){const r=a(T.vector);return R(T.origin,_,O.ray),O.c0=0,O.c1=r,O}(_,O,z.get()))}function h(T,_){for(let O=0;O<k;O++)if(N(T[O],_)>0)return!1;return!0}function w(T,_){for(let O=0;O<k;O++)if(!B(T[O],_))return!1;return!0}var U,V;new T((()=>G())),function(T){T[T.LEFT=0]="LEFT",T[T.RIGHT=1]="RIGHT",T[T.BOTTOM=2]="BOTTOM",T[T.TOP=3]="TOP",T[T.NEAR=4]="NEAR",T[T.FAR=5]="FAR"}(U||(U={})),function(T){T[T.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",T[T.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",T[T.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",T[T.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",T[T.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",T[T.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",T[T.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",T[T.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(V||(V={}));const X={bottom:[V.FAR_BOTTOM_RIGHT,V.NEAR_BOTTOM_RIGHT,V.NEAR_BOTTOM_LEFT,V.FAR_BOTTOM_LEFT],near:[V.NEAR_BOTTOM_LEFT,V.NEAR_BOTTOM_RIGHT,V.NEAR_TOP_RIGHT,V.NEAR_TOP_LEFT],far:[V.FAR_BOTTOM_RIGHT,V.FAR_BOTTOM_LEFT,V.FAR_TOP_LEFT,V.FAR_TOP_RIGHT],right:[V.NEAR_BOTTOM_RIGHT,V.FAR_BOTTOM_RIGHT,V.FAR_TOP_RIGHT,V.NEAR_TOP_RIGHT],left:[V.FAR_BOTTOM_LEFT,V.NEAR_BOTTOM_LEFT,V.NEAR_TOP_LEFT,V.FAR_TOP_LEFT],top:[V.FAR_TOP_LEFT,V.NEAR_TOP_LEFT,V.NEAR_TOP_RIGHT,V.FAR_TOP_RIGHT]},k=6,x=8,q=[e(-1,-1,-1,1),e(1,-1,-1,1),e(1,1,-1,1),e(-1,1,-1,1),e(-1,-1,1,1),e(1,-1,1,1),e(1,1,1,1),e(-1,1,1,1)],z=new T(G),C=p();export{k as N,U as P,l as a,G as b,m as c,H as d,b as e,g as f,I as g,L as h,y as i,V as j,p as k,j as l,v as m,d as n,h as o,X as p};
