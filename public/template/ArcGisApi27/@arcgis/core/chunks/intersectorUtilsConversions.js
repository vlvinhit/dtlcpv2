/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{c as r}from"./maybe.js";import{w as t}from"./mat4.js";import{c as e}from"./vec3f64.js";import{m as n}from"./aaBoundingBox.js";import{g as a}from"./sphere.js";import{i,I as s,G as l,L as o,b as u,c}from"./Intersector2.js";import{i as p,a as g}from"./Intersector.js";import{i as f}from"./Intersector3.js";class h extends l{constructor(r,t,e,n){super(t,e),this.point=r,this.createGraphic=n}}function d(r){return i(r)&&r.intersector===s.PCL&&!!r.target}class m extends o{constructor(r,t,e,n,a){super(r),this.layerUid=r,this.sublayerUid=t,this.nodeIndex=e,this.componentIndex=n,this.triangleNr=a}}class y extends l{constructor(r,t,e){super(t,null),this.point=r,this.createVoxelGraphic=e}}function I(r){return i(r)&&r.intersector===s.I3S&&!!r.target}function V(r){return i(r)&&r.intersector===s.VOXEL&&!!r.target}function b(r,t){return u(r)||c(r)?L(r.target?.object,t):p(r)?t.map?.ground:d(r)||I(r)||g(r)||V(r)?L(r.target,t):null}function j(r,t){const e=U(r,t);return null!=e&&"graphic"===e.type?e.graphic:null}function U(r,t){if(null==r)return null;if(u(r)||c(r))return x(r.target?.object,t);if(d(r)){const t=r.target.createGraphic();return{type:"graphic",graphic:t,layer:t.layer}}if(V(r)){const t=r.target.createVoxelGraphic();return{type:"graphic",graphic:t,layer:t.layer}}return g(r)||f(r)?x(r.target,t):I(r)?function(r,t){const e=L(r,t);if(null==e)return null;const n=t.allLayerViews.find((r=>r.layer===e));return n&&!n.suspended&&"getGraphicFromIntersectorTarget"in n&&null!=(a=n.getGraphicFromIntersectorTarget(r))?{type:"graphic",graphic:a,layer:a.layer}:null;var a}(r.target,t):null}function x(r,t){if(null==r||null==r.graphicUid)return null;const e=L(r,t);if(null==e)return null;if(e===t.graphics)return null==t.graphicsView||"number"!=typeof r.graphicUid?null:t.graphicsView.getHit(r.graphicUid);const n=t.allLayerViews.find((r=>r.layer===e));return!n||n.suspended||null==r.graphicUid?null:"getHit"in n?n.getHit(r.graphicUid):null}function L(r,t){return r&&null!=r.layerUid?null!=t.graphicsView&&r.layerUid===t.graphicsView.processor.layer.id?t.graphics:t.map.findLayerByUid(r.layerUid):null}function w(e,i){if(u(e)||c(e))return a(e.target.object.boundingVolumeWorldSpace.bounds);if(f(e)){t(G,e.transformation);const r=Math.max(G[0],G[1],G[2]);return e.target.baseBoundingSphere.radius*r}return I(e)?r(function(r,t){const e=L(r,t);if(null==e)return null;const n=t.allLayerViews.find((r=>r.layer===e));return n&&!n.suspended&&"getAABBFromIntersectorTarget"in n?n.getAABBFromIntersectorTarget(r):null}(e.target,i),(r=>.5*n(r))):null}function B(r){return!u(r)&&!c(r)&&(f(r)?r.target.numLodLevels>1:!!I(r))}const G=e();export{m as I,h as P,y as V,U as a,b,w as g,B as h,I as i,j as t};
