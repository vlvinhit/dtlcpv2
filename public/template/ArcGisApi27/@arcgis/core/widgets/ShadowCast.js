/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import{substitute as t}from"../intl.js";import i from"../core/Handles.js";import{c as o,d as s,r as n}from"../chunks/maybe.js";import{watch as r,syncAndInitial as a}from"../core/reactiveUtils.js";import{c as l}from"../chunks/timeUtils.js";import{property as c}from"../core/accessorSupport/decorators/property.js";import"../chunks/ensureType.js";import"../chunks/typedArrayUtil.js";import{subclass as d}from"../core/accessorSupport/decorators/subclass.js";import p from"./Slider.js";import h,{l as u}from"./Widget.js";import m,{D as v,S as _,a as g}from"./ShadowCast/ShadowCastViewModel.js";import b from"../core/Accessor.js";import{g as k}from"../chunks/uuid.js";import{a as C,g as y}from"../chunks/locale.js";import{c as f}from"../chunks/datetime.js";import{c as w}from"../chunks/widgetUtils.js";import{t as j}from"../chunks/jsxFactory.js";import S from"../Color.js";import{c as P}from"../chunks/asyncUtils.js";import{b as T}from"../chunks/utils.js";import{throwIfAborted as M}from"../core/promiseUtils.js";import{P as V}from"../chunks/Popover.js";import{m as D}from"../chunks/messageBundle.js";import{p as E}from"../chunks/mathUtils.js";import{f as z}from"../chunks/number.js";import O from"./support/DatePicker.js";import{H as L}from"../chunks/Heading.js";import{f as x}from"../chunks/timeWidgetUtils.js";import{T as I}from"../chunks/TimezonePicker.js";import{f as $}from"../chunks/date.js";import"../chunks/Logger.js";import"../config.js";import"../chunks/object.js";import"../core/lang.js";import"../chunks/string.js";import"../chunks/messages.js";import"../core/Error.js";import"../request.js";import"../kernel.js";import"../core/urlUtils.js";import"../chunks/assets.js";import"../chunks/jsonMap.js";import"../chunks/watch.js";import"../chunks/ArrayPool.js";import"../chunks/ObjectPool.js";import"../core/scheduling.js";import"../chunks/nextTick.js";import"../chunks/PooledArray.js";import"../chunks/get.js";import"../chunks/tracking.js";import"../chunks/metadata.js";import"../core/Collection.js";import"../core/Evented.js";import"../chunks/ObservableBase.js";import"../chunks/shared.js";import"../chunks/SimpleObservable.js";import"../core/accessorSupport/decorators/cast.js";import"./Slider/SliderViewModel.js";import"../chunks/domUtils.js";import"../core/Promise.js";import"../chunks/projector.js";import"../chunks/dom.js";import"../chunks/guid.js";import"../chunks/index.js";import"../chunks/jsxWidgetSupport.js";import"../chunks/screenUtils.js";import"../chunks/vec3f64.js";import"../chunks/earthUtils.js";import"../chunks/unitUtils.js";import"../geometry/Point.js";import"../chunks/reader.js";import"../chunks/writer.js";import"../geometry/Geometry.js";import"../core/JSONSupport.js";import"../geometry/SpatialReference.js";import"../geometry/support/webMercatorUtils.js";import"../chunks/ShadowCastVisualizeTechniqueConfiguration.js";import"../chunks/mat4.js";import"../chunks/common.js";import"../chunks/mat4f64.js";import"../chunks/vec2.js";import"../chunks/vec2f64.js";import"../chunks/vec3.js";import"../chunks/ViewingMode.js";import"../chunks/_commonjsHelpers.js";import"../chunks/mathUtils2.js";import"../chunks/ShaderTechniqueConfiguration.js";import"../chunks/interfaces2.js";import"../chunks/collectionUtils.js";import"../chunks/throttle.js";import"../chunks/traversalUtils.js";import"../chunks/colorUtils.js";import"../chunks/vec4.js";import"./support/DatePickerViewModel.js";import"./support/DateTimeElementViewModel.js";import"../chunks/accessibleHandler.js";const R="esri-shadow-cast",F={base:R,esriWidget:"esri-widget--panel esri-widget",esriWidgetDisabled:"esri-widget--disabled",widgetIcon:"esri-icon-measure-building-height-shadow",timeRange:`${R}__time-range`,timeRangeIndicator:`${R}__time-range__indicator`,timeRangePrimaryTick:"primary-tick",timeRangePrimaryTickLabel:"primary-tick-label",timeRangeSecondaryTick:"secondary-tick",timeRangeAMPMLabel:"primary-tick__ampm",datePickerContainer:`${R}__date-picker-container`,visualization:`${R}__visualization`,visualizationSelect:`${R}__visualization__select`,visualizationConfigHidden:`${R}__visualization__config--hidden`},A=`${R}__label`,H=`${R}__threshold-config`,U={base:H,valueLabel:`${H}__value-label`},W=`${R}__duration-config`,B={base:W,radioGroup:`${W}__radio-group`},N={base:`${R}__discrete-config`},q=`${R}__tooltip`,G={base:q,content:`${q}__content`};let K=class extends b{constructor(){super(...arguments),this.timeRangeSlider=!0,this.timezone=!0,this.datePicker=!0,this.visualizationOptions=!0,this.colorPicker=!0,this.tooltip=!0}};e([c()],K.prototype,"timeRangeSlider",void 0),e([c()],K.prototype,"timezone",void 0),e([c()],K.prototype,"datePicker",void 0),e([c()],K.prototype,"visualizationOptions",void 0),e([c()],K.prototype,"colorPicker",void 0),e([c()],K.prototype,"tooltip",void 0),K=e([d("esri.widgets.ShadowCast.ShadowCastVisibleElements")],K);const J=K;function Z(e,t="milliseconds",i={}){const o={locale:"bs"===C()?"hr":y(),numberingSystem:"latn"};let s;return s=e?f.fromMillis(l(e,t,"milliseconds"),o).rescale():f.fromObject({seconds:0},o),s.toHuman({listStyle:"narrow",unitDisplay:"long",...i})}function Q(e,t){const{for:i,label:o,tabIndex:s,...n}=e;return j("div",{class:w(A,n?.class),key:i,...n},j("calcite-label",{for:i,scale:"s",tabIndex:s},o),t)}const X="esri-color-picker",Y={base:X,backgroundPattern:`${X}__bg-pattern`,toggleButton:`${X}__toggle-button`,popover:`${X}__popover`,opacitySliderContainer:`${X}__opacity-slider-container`,opacitySlider:`${X}__opacity-slider`,calciteColorPicker:`${X}__calcite-color-picker`};var ee;!function(e){e.ColorPickerFocus="hex-input-poll-timeout",e.ButtonFocusTimeout="button-focus-timeout"}(ee||(ee={}));let te=class extends h{constructor(e,t){super(e,t),this.value=new S,this.alphaEnabled=!0,this._handles=new i,this._containerElement=null,this._popover=null,this._popoverElement=null,this._buttonElement=null,this._colorPickerCreated=!1}initialize(){this.addHandles(r((()=>({container:this._containerElement,value:this.value})),(({container:e,value:t})=>{o(e,(e=>{e.style.setProperty("--esri-color-picker-value",t.toCss(!0))}))}),a))}loadDependencies(){return u({button:()=>import("../chunks/calcite-button.js"),"color-picker":()=>import("../chunks/calcite-color-picker.js"),label:()=>import("../chunks/calcite-label.js"),slider:()=>import("../chunks/calcite-slider.js")})}destroy(){this._destroyPopover(),this._handles=s(this._handles),this._buttonElement=null}render(){const e=this._messages,t=null!=this._popover&&this._popover.open?e.close:e.open;return j("div",{class:this.classes(Y.base,this.class),bind:this,afterCreate:this._onContainerAfterCreate},j("div",{class:Y.backgroundPattern}),j("calcite-button",{appearance:"transparent",label:t,class:Y.toggleButton,kind:"neutral",id:this.id,scale:"s",tabIndex:-1,title:t,bind:this,onclick:this._togglePopover,afterCreate:this._onButtonAfterCreate}))}_onContainerAfterCreate(e){this._containerElement=e}_onButtonAfterCreate(e){this._destroyPopover(),this._buttonElement=e,this._popover=new V({owner:this,anchorElement:e,placement:"bottom-start",renderContentFunction:this._renderPopoverContent})}_destroyPopover(){this._handles.remove(ee.ColorPickerFocus),this._popover=s(this._popover),this._popoverElement=null}_renderPopoverContent(){const e=this.value,t=this._messages;return j("div",{class:Y.popover,tabIndex:-1,bind:this,afterCreate:this._onPopoverAfterCreate,onfocusout:this._onPopoverFocusOut,onkeydown:this._onPopoverKeyDown},j("calcite-color-picker",{class:Y.calciteColorPicker,hideSaved:!0,hideChannels:!0,scale:"m",value:this._colorPickerCreated?e.toCss():null,bind:this,onCalciteColorPickerInput:this._onColorInput,afterCreate:this._onColorPickerAfterCreate,afterRemoved:()=>this._colorPickerCreated=!1}),this.alphaEnabled&&j("section",{class:Y.opacitySliderContainer},j("calcite-label",{scale:"s"},t.opacity,j("calcite-slider",{class:Y.opacitySlider,labelHandles:!0,min:0,max:1,step:.01,value:e.a,bind:this,onCalciteSliderInput:this._onOpacityChange}))))}_onColorInput(e){const t=e.target.value,i="string"==typeof t?new S(t):new S;i.a=this.value.a,this._onChange(i)}_onOpacityChange(e){const t=e.target,i=this.value.clone();i.a=t.value,this._onChange(i)}_onChange(e){this.value=e,null!=this.onChange&&this.onChange(e)}_onColorPickerAfterCreate(e){this._handles.remove(ee.ColorPickerFocus);const t=P((async t=>{await(e.componentOnReady?.()),M(t),this._colorPickerCreated=!0,await new Promise((e=>requestAnimationFrame(e))),M(t),e.setFocus()}));this._handles.add(T((()=>{t.abort(),this._colorPickerCreated=!1})),ee.ColorPickerFocus)}_togglePopover(e){null!=this._popover&&this._popover.open?this._closePopover():this._openPopover()}_openPopover(){o(this._popover,(e=>e.open=!0))}_closePopover(){this._handles.remove(ee.ColorPickerFocus),o(this._popover,(e=>e.open=!1)),this._setFocusOnButton()}_setFocusOnButton(){this._handles.remove(ee.ButtonFocusTimeout),this._handles.add(function(e,t){const i=setTimeout(e,void 0);return T((()=>clearTimeout(i)))}((()=>{o(this._buttonElement,(e=>e.setFocus()))})),ee.ButtonFocusTimeout)}_onPopoverAfterCreate(e){this._popoverElement=e}_onPopoverFocusOut(e){const t=this._popoverElement;if(null==t)return;const i=e.relatedTarget;if(i&&i instanceof Node){if(t.contains(i))return;if(i===this._buttonElement||this._isAssociatedLabel(i))return}this._closePopover()}_isAssociatedLabel(e){const t=this.id,i=e.tagName?.toLowerCase();return"calcite-label"===i&&e.for===t||"label"===i&&e.htmlFor===t}_onPopoverKeyDown(e){"Escape"!==e.key&&"Enter"!==e.key||(e.stopPropagation(),this._closePopover())}};function ie(e){return j(Q,{for:e.id,label:e.label,tabIndex:-1},j(te,{id:e.id,value:e.value,onChange:e.onChange}))}e([c()],te.prototype,"class",void 0),e([c()],te.prototype,"value",void 0),e([c()],te.prototype,"alphaEnabled",void 0),e([c()],te.prototype,"onChange",void 0),e([c()],te.prototype,"_containerElement",void 0),e([c()],te.prototype,"_popover",void 0),e([c()],te.prototype,"_popoverElement",void 0),e([c()],te.prototype,"_buttonElement",void 0),e([c(),D("esri/widgets/support/t9n/ColorPicker")],te.prototype,"_messages",void 0),e([c()],te.prototype,"_colorPickerCreated",void 0),te=e([d("esri.widgets.support.ColorPicker")],te);let oe=class extends h{constructor(e){super(e),this.colorPickerVisible=!0,this._selectId=`select-${k()}`,this._colorPickerId=`color-picker-${k()}`,this._onColorChange=e=>{this.options.color=e}}loadDependencies(){return u({label:()=>import("../chunks/calcite-label.js"),option:()=>import("../chunks/calcite-option.js"),select:()=>import("../chunks/calcite-select.js")})}render(){const e=this._messages.discrete,t=e.intervalLabel,{color:i,interval:o,intervalOptions:s}=this.options;return j("div",{class:N.base},j(Q,{for:this._selectId,label:t},j("calcite-select",{id:this._selectId,label:t,bind:this,onCalciteSelectChange:this._onIntervalChange},s.toArray().map((e=>j("calcite-option",{key:e,selected:e===o,value:String(e)},Z(e)))))),this.colorPickerVisible&&j(ie,{id:this._colorPickerId,label:e.colorLabel,value:i,onChange:this._onColorChange}))}_onIntervalChange(e){const t=e.target,i=parseInt(t.selectedOption?.value,10);Number.isFinite(i)&&(this.options.interval=i)}};e([c()],oe.prototype,"options",void 0),e([c()],oe.prototype,"colorPickerVisible",void 0),e([c(),D("esri/widgets/ShadowCast/t9n/ShadowCast")],oe.prototype,"_messages",void 0),oe=e([d("esri.widgets.ShadowCast.components.DiscreteConfigurator")],oe);let se=class extends h{constructor(e){super(e),this.colorPickerVisible=!0,this._modeSelectorId=`mode-selector-${k()}`,this._colorPickerId=`color-picker-${k()}`,this._onColorChange=e=>{this.options.color=e},this._setContinuous=()=>{this.options.mode=v.Continuous},this._setHourly=()=>{this.options.mode=v.Hourly}}loadDependencies(){return u({button:()=>import("../chunks/calcite-button.js"),label:()=>import("../chunks/calcite-label.js")})}render(){const e=this._messages.duration,{color:t,mode:i}=this.options;return j("div",{class:B.base},j(Q,{for:this._modeSelectorId,label:e.modeLabel},j("div",{class:B.radioGroup},j(ne,{active:i===v.Continuous,label:e.continuousLabel,onclick:this._setContinuous}),j(ne,{active:i===v.Hourly,label:e.hourlyLabel,onclick:this._setHourly}))),this.colorPickerVisible&&j(ie,{id:this._colorPickerId,label:e.colorLabel,value:t,onChange:this._onColorChange}))}};function ne({active:e,label:t,...i}){return j("calcite-button",{alignment:"center",appearance:e?"solid":"outline",scale:"s",width:"half",...i},t)}e([c()],se.prototype,"options",void 0),e([c()],se.prototype,"colorPickerVisible",void 0),e([c(),D("esri/widgets/ShadowCast/t9n/ShadowCast")],se.prototype,"_messages",void 0),se=e([d("esri.widgets.ShadowCast.components.DurationConfigurator")],se);const re=l(1,"minutes","milliseconds"),ae=l(15,"minutes","milliseconds");let le=class extends h{constructor(e,t){super(e,t),this.accumulatedShadowTime=null,this._messages=null}render(){const e=this._formattedContent;return j("div",{class:G.base},e&&j("div",{class:G.content},e))}get _formattedContent(){const e=this._messages,i=this.accumulatedShadowTime;if(null==e||null==i)return null;const o=E(i,i<ae?re:ae);return t(e.timeInShadow,{duration:Z(o)})}};e([c()],le.prototype,"accumulatedShadowTime",void 0),e([c()],le.prototype,"view",void 0),e([c(),D("esri/widgets/ShadowCast/t9n/ShadowCast")],le.prototype,"_messages",void 0),e([c({readOnly:!0})],le.prototype,"_formattedContent",null),le=e([d("esri.widgets.ShadowCast.components.ShadowTooltipContent")],le);let ce=class extends b{constructor(e){super(e),this._updateHandle=null,this._contentContainer=this._createContainer()}initialize(){this.container.appendChild(this._contentContainer),this._contentWidget=new le({},this._contentContainer),this._updateHandle=r((()=>{const e=this._contentContainer,{screenPoint:t,accumulatedShadowTime:i}=this.viewModel.tooltip;return{contentContainer:e,screenPoint:t,accumulatedShadowTime:i}}),(e=>this._update(e)),a)}destroy(){this._updateHandle=n(this._updateHandle),this._contentWidget=s(this._contentWidget),this.container.contains(this._contentContainer)&&this.container.removeChild(this._contentContainer)}get testData(){return{displayedValue:"none"===this._contentContainer.style.display?null:this._contentWidget.container?.innerText}}_update({contentContainer:e,screenPoint:t,accumulatedShadowTime:i}){const{style:o}=e;null!=t?(o.display="block",o.transform=`translate(${t.x}px, ${t.y}px)`,this._contentWidget.accumulatedShadowTime=i):o.display="none"}_createContainer(){const e=document.createElement("div"),{style:t}=e;return t.position="absolute",t.top="0",t.left="0",e}};e([c()],ce.prototype,"viewModel",void 0),e([c()],ce.prototype,"container",void 0),e([c()],ce.prototype,"_contentContainer",void 0),e([c()],ce.prototype,"_contentWidget",void 0),ce=e([d("esri.widgets.ShadowCast.components.ShadowTooltip")],ce);let de=class extends h{constructor(e){super(e),this.colorPickerVisible=!0,this._valueSliderId=`value-slider-${k()}`,this._colorPickerId=`color-picker-${k()}`,this._valueSlider=new p({visibleElements:{labels:!1,rangeLabels:!1},steps:l(30,"minutes","milliseconds"),labelFormatFunction:(e,t)=>{const i=l(e,"milliseconds","hours");return"tick"===t?z(i,{maximumFractionDigits:0}):""}}),this._onColorChange=e=>{this.options.color=e}}initialize(){const e=({value:e})=>{this.options.value=e};this.addHandles([r((()=>{const{value:e,minValue:t,maxValue:i}=this.options;return{value:e,minValue:t,maxValue:i}}),(({value:e,minValue:t,maxValue:i})=>{const o=this._valueSlider;o.min=t,o.max=i,o.values=[e];const s=i-t,n=Math.floor(l(s,"milliseconds","hours"));o.tickConfigs=[{mode:"count",values:2*n+1,labelsVisible:!1},{mode:"count",values:n+1,labelsVisible:!0}]}),a),this._valueSlider.on("thumb-change",e),this._valueSlider.on("thumb-drag",e)])}loadDependencies(){return u({label:()=>import("../chunks/calcite-label.js")})}destroy(){this._valueSlider=s(this._valueSlider)}render(){const e=this._messages.threshold,{color:t}=this.options;return j("div",{class:U.base},j(Q,{class:U.valueLabel,for:this._valueSliderId,label:e.valueLabel},this._valueSlider.render()),this.colorPickerVisible&&j(ie,{id:this._colorPickerId,label:e.colorLabel,value:t,onChange:this._onColorChange}))}get testData(){return{valueSlider:this._valueSlider}}};var pe;e([c()],de.prototype,"options",void 0),e([c()],de.prototype,"colorPickerVisible",void 0),e([c()],de.prototype,"testData",null),e([c()],de.prototype,"_valueSlider",void 0),e([c(),D("esri/widgets/ShadowCast/t9n/ShadowCast")],de.prototype,"_messages",void 0),de=e([d("esri.widgets.ShadowCast.components.ThresholdConfigurator")],de),function(e){e.Slider="slider"}(pe||(pe={}));const he={hour:"2-digit",minute:"2-digit",timeZone:"UTC"},ue=/(.*)\s(.*)/,me={labelFormatFunction:x,min:0,max:1439,steps:15,rangeLabelInputsEnabled:!1,visibleElements:{labels:!1,rangeLabels:!1},tickConfigs:[{mode:"position",values:[0,360,720,1080,1439],labelsVisible:!0,tickCreatedFunction:(e,t,i)=>{t.classList.add(F.timeRangePrimaryTick),i.classList.add(F.timeRangePrimaryTickLabel);const o=i.innerText.match(ue);o&&(i.innerHTML=`${o[1]}<br><div class="${F.timeRangeAMPMLabel}">${o[2]}</div>`)}},{mode:"position",values:[120,240,480,600,840,960,1200,1320],tickCreatedFunction:(e,t)=>{t.classList.add(F.timeRangeSecondaryTick)}}]};let ve=class extends h{constructor(e,t){super(e,t),this.viewModel=null,this.headingLevel=4,this.iconClass=F.widgetIcon,this.icon=null,this.visibleElements=new J,this._handles=new i,this._defaultViewModel=null,this._timeSlider=new p({...me,container:document.createElement("div")}),this._tooltip=null,this._onTimezoneChange=e=>{this.viewModel.utcOffset=e},this._onDateChange=e=>{this.viewModel.date=e},e?.viewModel||(this._defaultViewModel=new m({view:e?.view}),this.viewModel=this._defaultViewModel)}initialize(){this._handles.add([r((()=>({viewModel:this.viewModel,slider:this._timeSlider})),(e=>this._connectTimeSlider(e)),a),r((()=>({container:o(this.view,(e=>e.surface)),viewModel:this.viewModel,tooltipVisible:this.visibleElements.tooltip})),(({container:e,viewModel:t,tooltipVisible:i})=>{this._tooltip=s(this._tooltip),null!=e&&i&&(this._tooltip=new ce({viewModel:t,container:e}))}),a),r((()=>({viewModel:this.viewModel,visible:this.visible})),(({viewModel:e,visible:t})=>e.setRunning(t)),a)])}destroy(){this._handles=s(this._handles),this._timeSlider=s(this._timeSlider),null!=this._defaultViewModel&&this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}loadDependencies(){return u({select:()=>import("../chunks/calcite-select.js"),option:()=>import("../chunks/calcite-option.js")})}render(){const{visibleElements:e,viewModel:t}=this,i=t.state===_.Disabled;return j("div",{key:this,class:this.classes(F.base,F.esriWidget,{[F.esriWidgetDisabled]:i})},this._renderTimeRangeSection(),e.visualizationOptions&&this._renderVisualizationOptionsSection())}get view(){return this.viewModel?.view}set view(e){this.viewModel&&(this.viewModel.view=e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get testData(){return{tooltip:this._tooltip}}_connectTimeSlider({viewModel:e,slider:t}){if(this._handles.remove(pe.Slider),null==t)return;const i=e=>l(e,"milliseconds","minutes"),o=e=>l(e,"minutes","milliseconds"),s=({index:t,value:i})=>{0===t?e.startTimeOfDay=o(i):e.endTimeOfDay=o(i)};this._handles.add([r((()=>[e.startTimeOfDay,e.endTimeOfDay]),(e=>{t.values=e.map(i)}),a),t.on("thumb-change",s),t.on("thumb-drag",s),t.on("segment-drag",(()=>{[e.startTimeOfDay,e.endTimeOfDay]=t.values.map(o)}))],pe.Slider)}_renderTimeRangeSection(){const{visibleElements:e}=this;return e.timeRangeSlider||e.datePicker?j("section",{key:"time-range",class:F.timeRange},j(L,{level:this.headingLevel},this.messages.timeLabel),e.timeRangeSlider&&this._renderTimeRange(),e.datePicker&&this._renderDatePicker()):null}_renderTimeRange(){const{messages:e,viewModel:i,visibleElements:o}=this,{startTimeOfDay:s,endTimeOfDay:n}=i,[r,a]=[s,n].map((e=>$(new Date(e),he)));return[j("div",{key:"time-range-indicator",class:F.timeRangeIndicator},t(e.timeRange,{start:r,end:a}),o.timezone&&j(I,{value:i.utcOffset,onChange:this._onTimezoneChange})),j("div",{key:"time-slider-container",bind:this,afterCreate:this._timeSliderContainerAfterCreate,afterRemoved:this._timeSliderContainerAfterRemoved})]}_timeSliderContainerAfterCreate(e){const t=this._timeSlider?.container;t&&e.appendChild(t)}_timeSliderContainerAfterRemoved(e){const t=this._timeSlider?.container;t&&e.removeChild(t)}_renderDatePicker(){return j("div",{key:"date-picker",class:F.datePickerContainer},j(O,{value:this.viewModel.date,onChange:this._onDateChange}))}_renderVisualizationOptionsSection(){const{headingLevel:e,messages:t,viewModel:i,visibleElements:o}=this,s=o.colorPicker,n=e=>this.classes(i.visualizationType===e?null:F.visualizationConfigHidden);return j("section",{key:"visualization",class:F.visualization},j(L,{level:e},t.visualizationLabel),this._renderVisualizationSelect(),j("div",{key:"threshold-configurator",class:n(g.Threshold)},j(de,{options:i.thresholdOptions,colorPickerVisible:s})),j("div",{key:"duration-configurator",class:n(g.Duration)},j(se,{options:i.durationOptions,colorPickerVisible:s})),j("div",{key:"discrete-configurator",class:n(g.Discrete)},j(oe,{options:i.discreteOptions,colorPickerVisible:s})))}_renderVisualizationSelect(){const e=this.messages,t=this.viewModel.visualizationType;return j("calcite-select",{class:F.visualizationSelect,key:"visualization-select",label:e.visualizationLabel,bind:this,onCalciteSelectChange:this._onVisualizationTypeChange},[{type:g.Threshold,label:e.threshold.label},{type:g.Duration,label:e.duration.label},{type:g.Discrete,label:e.discrete.label}].map((({type:e,label:i})=>j("calcite-option",{value:e,selected:e===t},i))))}_onVisualizationTypeChange(e){const t=e.target,i=t.selectedOption?.value;this.viewModel.visualizationType=i??g.Threshold}};e([c()],ve.prototype,"viewModel",void 0),e([c()],ve.prototype,"view",null),e([c()],ve.prototype,"headingLevel",void 0),e([c()],ve.prototype,"iconClass",void 0),e([c()],ve.prototype,"icon",void 0),e([c()],ve.prototype,"label",null),e([c({type:J,nonNullable:!0})],ve.prototype,"visibleElements",void 0),e([c(),D("esri/widgets/ShadowCast/t9n/ShadowCast")],ve.prototype,"messages",void 0),e([c()],ve.prototype,"_defaultViewModel",void 0),e([c()],ve.prototype,"_timeSlider",void 0),e([c()],ve.prototype,"_tooltip",void 0),ve=e([d("esri.widgets.ShadowCast")],ve);const _e=ve;export{_e as default};
