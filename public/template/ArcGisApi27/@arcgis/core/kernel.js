/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{h as t}from"./chunks/typedArrayUtil.js";import{getInterceptor as e,addQueryParameter as s}from"./core/urlUtils.js";import"./config.js";import"./chunks/object.js";import"./core/lang.js";import"./core/Error.js";import"./chunks/Logger.js";import"./chunks/string.js";import"./chunks/maybe.js";const r="20230626",a="b81703b48e0b92e492f4cc6b739af02a9af50038",n="4.27";let o=n;const i={async request(t,s){const{default:r}=await import("./request.js").then((t=>t.r)),a=t.options,n=a.responseType;a.signal=s?.signal,a.responseType="native"===n||"native-request-init"===n?"native-request-init":n&&["blob","json","text"].includes(n)&&e(t.url)?.after?n:"array-buffer";const o=await r(t.url,a),i={data:o.data,httpStatus:o.httpStatus,ssl:o.ssl};switch(o.requestOptions?.responseType){case"native-request-init":return delete i.data.signal,i;case"blob":i.data=await i.data.arrayBuffer();break;case"json":i.data=(new TextEncoder).encode(JSON.stringify(i.data)).buffer;break;case"text":i.data=(new TextEncoder).encode(i.data).buffer}return{result:i,transferList:[i.data]}}};let c;function u(t){c=t}function l(t){const e=c?.findCredential(t);return e?.token?s(t,"token",e.token):t}t("host-webworker")||(console.debug(`Using ArcGIS Maps SDK for JavaScript ${n} [Date: ${r}, Revision: ${a.slice(0,8)}]`),console.warn("Only use ES modules from ArcGIS CDN for testing: https://arcg.is/1ii1Gb0"));export{l as addTokenParameter,r as buildDate,o as fullVersion,c as id,a as revision,u as setId,n as version,i as workerMessages};
