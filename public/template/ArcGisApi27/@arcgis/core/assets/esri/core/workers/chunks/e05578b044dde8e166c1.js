"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[4363,6646],{59765:(e,t,i)=>{i.d(t,{Z:()=>y,t:()=>c});var r=i(29768),n=i(66122),o=i(12047),s=i(35197),a=i(34250),l=(i(91306),i(48578),i(59465)),u=i(17533),d=i(57251);i(21972),i(60474),i(66396),i(76506),i(86656),i(92143),i(31450),i(71552),i(40642),i(379),i(62062),i(6540),i(19657),i(91055),i(6906),i(79456),i(50406),i(60991);const c=(0,d.s)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let p=class extends((0,n.J)(o.wq)){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,s.c)(this.value,this.unit,"milliseconds")}};(0,r._)([(0,l.e)(c,{nonNullable:!0})],p.prototype,"unit",void 0),(0,r._)([(0,a.Cb)({type:Number,json:{write:!0},nonNullable:!0})],p.prototype,"value",void 0),p=(0,r._)([(0,u.j)("esri.TimeInterval")],p);const y=p},62670:(e,t,i)=>{i.d(t,{a:()=>q,b:()=>N,c:()=>M,d:()=>f,e:()=>U,f:()=>v,g:()=>g,h:()=>E,i:()=>I,j:()=>j,k:()=>C,l:()=>x,m:()=>_,n:()=>T,o:()=>Z,p:()=>O,q:()=>F,r:()=>S,s:()=>h,t:()=>P,u:()=>b});var r=i(88762),n=i(96467),o=i(60991),s=i(57251),a=i(52991),l=i(17533),u=i(51899),d=i(86758),c=i(95310),p=i(34446),y=i(31292),m=i(46646);const h=new s.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function f(e,t,i,r){const n=await A(e);if(await w(e,t,r),!n.addAttachment)throw new o.Z(r,"Layer source does not support addAttachment capability");return n.addAttachment(t,i)}function w(e,t,i){const{attributes:r}=t,{objectIdField:n}=e;return e.get("capabilities.data.supportsAttachment")?t?r?n&&r[n]?Promise.resolve():Promise.reject(new o.Z(i,`feature is missing the identifying attribute ${n}`)):Promise.reject(new o.Z(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new o.Z(i,"A feature is required to add/delete/update attachments")):Promise.reject(new o.Z(i,"this layer doesn't support attachments"))}async function b(e,t,i,r,n){const s=await A(e);if(await w(e,t,n),!s.updateAttachment)throw new o.Z(n,"Layer source does not support updateAttachment capability");return s.updateAttachment(t,i,r)}async function v(e,t,r){const{applyEdits:n}=await i.e(9231).then(i.bind(i,89231)),o=await e.load();return n(o,o.source,t,r)}async function g(e,t,r){const{uploadAssets:n}=await i.e(9231).then(i.bind(i,89231)),o=await e.load();return n(o,o.source,t,r)}async function I(e,t,i,r){const n=await A(e);if(await w(e,t,r),!n.deleteAttachments)throw new o.Z(r,"Layer source does not support deleteAttachments capability");return n.deleteAttachments(t,i)}async function j(e,t,i){const r=(await e.load({signal:t?.signal})).source;if(!r.fetchRecomputedExtents)throw new o.Z(i,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(t)}async function F(e,t,i,r){t=p.Z.from(t),await e.load();const n=e.source,s=e.capabilities;if(!s?.data?.supportsAttachment)throw new o.Z(r,"this layer doesn't support attachments");const{attachmentTypes:a,objectIds:l,globalIds:u,num:d,size:c,start:y,where:m}=t;if(!s?.operations?.supportsQueryAttachments&&(a?.length>0||u?.length>0||c?.length>0||d||y||m))throw new o.Z(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(l?.length||u?.length||m))throw new o.Z(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!n.queryAttachments)throw new o.Z(r,"Layer source does not support queryAttachments capability",t);return n.queryAttachments(t)}async function C(e,t,i,r){const n=await A(e);if(!n.queryObjectIds)throw new o.Z(r,"Layer source does not support queryObjectIds capability");return n.queryObjectIds(y.Z.from(t)??e.createQuery(),i)}async function x(e,t,i,r){const n=await A(e);if(!n.queryFeatureCount)throw new o.Z(r,"Layer source does not support queryFeatureCount capability");return n.queryFeatureCount(y.Z.from(t)??e.createQuery(),i)}async function _(e,t,i,r){const n=await A(e);if(!n.queryExtent)throw new o.Z(r,"Layer source does not support queryExtent capability");return n.queryExtent(y.Z.from(t)??e.createQuery(),i)}async function T(e,t,i,r){const n=await A(e);if(!n.queryRelatedFeatures)throw new o.Z(r,"Layer source does not support queryRelatedFeatures capability");return n.queryRelatedFeatures(m.default.from(t),i)}async function Z(e,t,i,r){const n=await A(e);if(!n.queryRelatedFeaturesCount)throw new o.Z(r,"Layer source does not support queryRelatedFeaturesCount capability");return n.queryRelatedFeaturesCount(m.default.from(t),i)}async function O(e){const t=e.source;if(t?.refresh)try{const{dataChanged:i,updates:r}=await t.refresh();if(null!=r&&(e.sourceJSON={...e.sourceJSON,...r},e.read(r,{origin:"service",url:e.parsedUrl})),i)return!0}catch{}if(e.definitionExpression)try{return(await(0,a.E)(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function E(e){const t=new y.Z,i=e.get("capabilities.data"),r=e.get("capabilities.query");t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,r&&(t.compactGeometryEnabled=r.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),i&&(i.supportsZ&&null!=e.returnZ&&(t.returnZ=e.returnZ),i.supportsM&&null!=e.returnM&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:n,timeExtent:o}=e;return t.timeExtent=null!=n&&null!=o?o.offset(-n.value,n.unit):o||null,t.multipatchOption="multipatch"===e.geometryType?"xyFootprint":null,t}function S(e){const{globalIdField:t,fields:i}=e;if(t)return t;if(i)for(const e of i)if("esriFieldTypeGlobalID"===e.type)return e.name}function q(e){const{objectIdField:t,fields:i}=e;if(t)return t;if(i)for(const e of i)if("esriFieldTypeOID"===e.type)return e.name}function P(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}async function A(e){return(await e.load()).source}async function U(e,t){const i=e.parsedUrl?.path;i&&function(e){const t=e.editFieldsInfo;return!(!t?.creatorField&&!t?.editorField)||(e.userHasUpdateItemPrivileges?e.hasUpdateItemRestrictions:!!e.userHasFullEditingPrivileges&&e.hasFullEditingRestrictions)}(e)&&await async function(e,t){if(!r.id)return;if(r.id.findCredential(e))return;let i;try{const n=await(0,u.g)(e,t);n&&(i=await r.id.checkSignInStatus(`${n}/sharing`))}catch(e){}if(i)try{const i=null!=t?t.signal:null;await r.id.getCredential(e,{signal:i})}catch(e){}}(i,t)}function M(e){return!e.sourceJSON?.isMultiServicesView&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const R=(0,l.c)({types:n.QT});function N(e,t){if(e.defaultSymbol)return e.types&&e.types.length?new c.Z({defaultSymbol:R(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map((e=>({id:e.id,symbol:R(e.symbol,e,t)})))}):new d.Z({symbol:R(e.defaultSymbol,e,t)})}},47346:(e,t,i)=>{i.d(t,{d:()=>a});var r=i(92143),n=i(97546),o=i(1709),s=i(14249);function a(){return{fields:{type:[n.Z],value:null},fieldsIndex:{readOnly:!0,get(){return new o.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e){const i=this.fieldsIndex?.has(t);i||r.L.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e})}return(0,s.Q0)(this.fieldsIndex,e)}}}}},82377:(e,t,i)=>{i.d(t,{n:()=>c});var r=i(29768),n=i(93314),o=i(59765),s=i(34250),a=(i(91306),i(48578),i(97714)),l=i(17533),u=i(14249),d=i(77361);i(12047),i(21972),i(60474),i(66396),i(76506),i(86656),i(92143),i(31450),i(71552),i(40642),i(379),i(62062),i(6540),i(19657),i(91055),i(6906),i(79456),i(50406),i(60991),i(35197),i(2906),i(66122),i(59465),i(57251),i(60217),i(74569),i(21801),i(73796),i(60947),i(53785),i(91597),i(86787),i(35132),i(84069),i(44567),i(98380),i(92482),i(82426),i(72836),i(66106),i(29794),i(7200),i(92896),i(22781),i(32422),i(99983),i(36097);const c=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const i=t.timeInfo.exportOptions;if(!i)return null;const r=i.timeOffset,n=o.t.fromJSON(i.timeOffsetUnits);return r&&n?new o.Z({value:r,unit:n}):null}set timeInfo(e){(0,u.UF)(e,this.fieldsIndex),this._set("timeInfo",e)}};return(0,r._)([(0,s.Cb)({type:n.Z,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,r._)([(0,s.Cb)({type:o.Z})],t.prototype,"timeOffset",void 0),(0,r._)([(0,a.r)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,r._)([(0,s.Cb)({value:null,type:d.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,r._)([(0,s.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=(0,r._)([(0,l.j)("esri.layers.mixins.TemporalLayer")],t),t}},77361:(e,t,i)=>{i.d(t,{Z:()=>h});var r=i(29768),n=i(93314),o=i(59765),s=i(66122),a=i(12047),l=i(34250),u=(i(91306),i(48578),i(97714)),d=i(17533),c=i(2906),p=i(99983);function y(e,t){return o.Z.fromJSON({value:e,unit:t})}i(35197),i(59465),i(57251),i(71552),i(76506),i(21972),i(60474),i(66396),i(86656),i(92143),i(31450),i(40642),i(379),i(62062),i(6540),i(19657),i(91055),i(6906),i(79456),i(50406),i(60991),i(36097);let m=class extends((0,s.J)(a.wq)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;const i=new Date(t.timeExtent[0]),r=new Date(t.timeExtent[1]);return new n.Z({start:i,end:r})}writeFullTimeExtent(e,t){e&&null!=e.start&&null!=e.end?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?y(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?y(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};(0,r._)([(0,l.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],m.prototype,"cumulative",void 0),(0,r._)([(0,l.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],m.prototype,"endField",void 0),(0,r._)([(0,l.Cb)({type:n.Z,json:{write:{enabled:!0,allowNull:!0}}})],m.prototype,"fullTimeExtent",void 0),(0,r._)([(0,u.r)("fullTimeExtent",["timeExtent"])],m.prototype,"readFullTimeExtent",null),(0,r._)([(0,c.w)("fullTimeExtent")],m.prototype,"writeFullTimeExtent",null),(0,r._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"hasLiveData",void 0),(0,r._)([(0,l.Cb)({type:o.Z,json:{write:{enabled:!0,allowNull:!0}}})],m.prototype,"interval",void 0),(0,r._)([(0,u.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],m.prototype,"readInterval",null),(0,r._)([(0,c.w)("interval")],m.prototype,"writeInterval",null),(0,r._)([(0,l.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],m.prototype,"startField",void 0),(0,r._)([(0,l.Cb)({type:p.T,json:{write:{enabled:!0,allowNull:!0}}})],m.prototype,"timeReference",void 0),(0,r._)([(0,l.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],m.prototype,"trackIdField",void 0),(0,r._)([(0,l.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],m.prototype,"useTime",void 0),m=(0,r._)([(0,d.j)("esri.layers.support.TimeInfo")],m);const h=m},46646:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var r,n=i(29768),o=(i(74569),i(12047)),s=i(76506),a=i(34250),l=i(91306),u=i(17533),d=i(2906),c=i(69218),p=i(60947);i(21801),i(40642),i(71552),i(48578),i(73796),i(97714),i(21972),i(60474),i(66396),i(86656),i(92143),i(31450),i(379),i(62062),i(6540),i(19657),i(91055),i(6906),i(79456),i(50406),i(60991),i(53785),i(57251),i(91597),i(86787),i(35132),i(84069),i(44567),i(98380),i(92482),i(82426),i(72836),i(66106),i(29794),i(7200),i(92896),i(22781),i(32422),i(59465),i(97546),i(9801),i(53523),i(42911),i(46826),i(45433),i(54732);let y=r=class extends o.wq{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(t.definitionExpression="1=1")}clone(){return new r((0,s.d9)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,n._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],y.prototype,"cacheHint",void 0),(0,n._)([(0,a.Cb)({type:c.D,json:{write:!0}})],y.prototype,"dynamicDataSource",void 0),(0,n._)([(0,a.Cb)({type:String,json:{write:!0}})],y.prototype,"gdbVersion",void 0),(0,n._)([(0,a.Cb)({type:Number,json:{write:!0}})],y.prototype,"geometryPrecision",void 0),(0,n._)([(0,a.Cb)({type:Date})],y.prototype,"historicMoment",void 0),(0,n._)([(0,d.w)("historicMoment")],y.prototype,"_writeHistoricMoment",null),(0,n._)([(0,a.Cb)({type:Number,json:{write:!0}})],y.prototype,"maxAllowableOffset",void 0),(0,n._)([(0,a.Cb)({type:[Number],json:{write:!0}})],y.prototype,"objectIds",void 0),(0,n._)([(0,a.Cb)({type:[String],json:{write:!0}})],y.prototype,"orderByFields",void 0),(0,n._)([(0,a.Cb)({type:[String],json:{write:!0}})],y.prototype,"outFields",void 0),(0,n._)([(0,a.Cb)({type:p.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],y.prototype,"outSpatialReference",void 0),(0,n._)([(0,a.Cb)({json:{write:!0}})],y.prototype,"relationshipId",void 0),(0,n._)([(0,a.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],y.prototype,"start",void 0),(0,n._)([(0,d.w)("start"),(0,d.w)("num")],y.prototype,"writeStart",null),(0,n._)([(0,a.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],y.prototype,"num",void 0),(0,n._)([(0,a.Cb)({json:{write:!0}})],y.prototype,"returnGeometry",void 0),(0,n._)([(0,a.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],y.prototype,"returnM",void 0),(0,n._)([(0,a.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],y.prototype,"returnZ",void 0),(0,n._)([(0,a.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],y.prototype,"where",void 0),y=r=(0,n._)([(0,u.j)("esri.rest.support.RelationshipQuery")],y),y.from=(0,l.e)(y);const m=y}}]);