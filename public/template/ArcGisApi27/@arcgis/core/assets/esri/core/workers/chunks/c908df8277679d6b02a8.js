"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[3298,2058,5777,9914,1796,3173],{97987:(e,t,r)=>{r.d(t,{a:()=>a,c:()=>i,d:()=>o,n:()=>s,t:()=>l});var n=r(48578);function s(e,t=!1){return e<=n.N?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function a(e){return((0,n.p)(e)?e.length:e.byteLength/8)<=n.N?Array.from(e):new Float64Array(e)}function o(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function i(e,t){for(let r=0;r<t.length;++r)e[r]=t[r];return e}function l(e){return Array.isArray(e)?new Float64Array(e):e}},2795:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var n=r(48578),s=r(88994),a=r(84017);r(79456),r(98576),r(5777),r(53785),r(57251),r(71552),r(76506),r(40642),r(65775),r(29794),r(72836),r(66106),r(26923),r(1623),r(60991),r(92143),r(31450),r(82426),r(7200),r(50406),r(6540),r(66396),r(89914),r(62062),r(21801),r(34250),r(91306),r(60474),r(86656),r(17533),r(73796),r(12047),r(21972),r(379),r(19657),r(91055),r(6906),r(97714),r(60947),r(2906),r(91597),r(86787),r(35132),r(84069),r(12381),r(73173),r(82058),r(88762),r(32101),r(44567),r(98380),r(92482),r(92896),r(92624),r(92847),r(57257),r(97987),r(66705),r(66122),r(59465),r(46961),r(45274),r(45003),r(35861),r(34987),r(79641),r(84661),r(40167),r(47880);class o{async createIndex(e,t){const r=new Array;if(!e.vertexAttributes||!e.vertexAttributes.position)return new s.P;const n=this._createMeshData(e),a=null!=t?await t.invoke("createIndexThread",n,{transferList:r}):this.createIndexThread(n).result;return this._createPooledRBush().fromJSON(a)}createIndexThread(e){const t=new Float64Array(e.position),r=this._createPooledRBush();return e.components?this._createIndexComponentsThread(r,t,e.components.map((e=>new Uint32Array(e)))):this._createIndexAllThread(r,t)}_createIndexAllThread(e,t){const r=new Array(t.length/9);let n=0;for(let e=0;e<t.length;e+=9)r[n++]=i(t,e,e+3,e+6);return e.load(r),{result:e.toJSON()}}_createIndexComponentsThread(e,t,r){let n=0;for(const e of r)n+=e.length/3;const s=new Array(n);let a=0;for(const e of r)for(let r=0;r<e.length;r+=3)s[a++]=i(t,3*e[r],3*e[r+1],3*e[r+2]);return e.load(s),{result:e.toJSON()}}_createMeshData(e){const t=(e.vertexSpace.isRelative?(0,a.b)({position:e.vertexAttributes.position,normal:null,tangent:null},e.vertexSpace,e.transform,e.spatialReference).position:e.vertexAttributes.position).buffer;return!e.components||e.components.some((e=>!e.faces))?{position:t}:{position:t,components:e.components.map((e=>e.faces))}}_createPooledRBush(){return new s.P(9,(0,n.h)("esri-csp-restrictions")?e=>e:[".minX",".minY",".maxX",".maxY"])}}function i(e,t,r,n){return{minX:Math.min(e[t],e[r],e[n]),maxX:Math.max(e[t],e[r],e[n]),minY:Math.min(e[t+1],e[r+1],e[n+1]),maxY:Math.max(e[t+1],e[r+1],e[n+1]),p0:[e[t],e[t+1],e[t+2]],p1:[e[r],e[r+1],e[r+2]],p2:[e[n],e[n+1],e[n+2]]}}},88994:(e,t,r)=>{r.d(t,{P:()=>i});var n=r(48578),s=r(71252),a=r(79456),o=r(98576);class i{constructor(e=9,t){this._compareMinX=u,this._compareMinY=d,this._toBBox=e=>e,this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this._toBBox=t:this._initFormat(t)),this.clear()}destroy(){this.clear(),x.prune(),M.prune(),w.prune(),_.prune()}all(e){this._all(this._data,e)}search(e,t){let r=this._data;const n=this._toBBox;if(b(e,r))for(x.clear();r;){for(let s=0,a=r.children.length;s<a;s++){const a=r.children[s],o=r.leaf?n(a):a;b(e,o)&&(r.leaf?t(a):g(e,o)?this._all(a,t):x.push(a))}r=x.pop()}}collides(e){let t=this._data;const r=this._toBBox;if(!b(e,t))return!1;for(x.clear();t;){for(let n=0,s=t.children.length;n<s;n++){const s=t.children[n],a=t.leaf?r(s):s;if(b(e,a)){if(t.leaf||g(e,a))return!0;x.push(s)}}t=x.pop()}return!1}load(e){if(!e.length)return this;if(e.length<this._minEntries){for(let t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}let t=this._build(e.slice(0,e.length),0,e.length-1,0);if(this._data.children.length)if(this._data.height===t.height)this._splitRoot(this._data,t);else{if(this._data.height<t.height){const e=this._data;this._data=t,t=e}this._insert(t,this._data.height-t.height-1,!0)}else this._data=t;return this}insert(e){return e&&this._insert(e,this._data.height-1),this}clear(){return this._data=new S([]),this}remove(e){if(!e)return this;let t,r=this._data,a=null,o=0,i=!1;const l=this._toBBox(e);for(w.clear(),_.clear();r||w.length>0;){if(r||(r=(0,s.a)(w.pop()),a=w.data[w.length-1],o=_.pop()??0,i=!0),r.leaf&&(t=(0,n.m)(r.children,e,r.children.length,r.indexHint),-1!==t))return r.children.splice(t,1),w.push(r),this._condense(w),this;i||r.leaf||!g(r,l)?a?(o++,r=a.children[o],i=!1):r=null:(w.push(r),_.push(o),o=0,a=r,r=r.children[0])}return this}toJSON(){return this._data}fromJSON(e){return this._data=e,this}_all(e,t){let r=e;for(M.clear();r;){if(!0===r.leaf)for(const e of r.children)t(e);else M.pushArray(r.children);r=M.pop()??null}}_build(e,t,r,n){const s=r-t+1;let a=this._maxEntries;if(s<=a){const n=new S(e.slice(t,r+1));return l(n,this._toBBox),n}n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/a**(n-1)));const o=new q([]);o.height=n;const i=Math.ceil(s/a),c=i*Math.ceil(Math.sqrt(a));y(e,t,r,c,this._compareMinX);for(let s=t;s<=r;s+=c){const t=Math.min(s+c-1,r);y(e,s,t,i,this._compareMinY);for(let r=s;r<=t;r+=i){const s=Math.min(r+i-1,t);o.children.push(this._build(e,r,s,n-1))}}return l(o,this._toBBox),o}_chooseSubtree(e,t,r,n){for(;n.push(t),!0!==t.leaf&&n.length-1!==r;){let r,n=1/0,o=1/0;for(let i=0,l=t.children.length;i<l;i++){const l=t.children[i],c=f(l),h=(s=e,a=l,(Math.max(a.maxX,s.maxX)-Math.min(a.minX,s.minX))*(Math.max(a.maxY,s.maxY)-Math.min(a.minY,s.minY))-c);h<o?(o=h,n=c<n?c:n,r=l):h===o&&c<n&&(n=c,r=l)}t=r||t.children[0]}var s,a;return t}_insert(e,t,r){const n=this._toBBox,s=r?e:n(e);w.clear();const a=this._chooseSubtree(s,this._data,t,w);for(a.children.push(e),h(a,s);t>=0&&w.data[t].children.length>this._maxEntries;)this._split(w,t),t--;this._adjustParentBBoxes(s,w,t)}_split(e,t){const r=e.data[t],n=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,n);const a=this._chooseSplitIndex(r,s,n);if(!a)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const o=r.children.splice(a,r.children.length-a),i=r.leaf?new S(o):new q(o);i.height=r.height,l(r,this._toBBox),l(i,this._toBBox),t?e.data[t-1].children.push(i):this._splitRoot(r,i)}_splitRoot(e,t){this._data=new q([e,t]),this._data.height=e.height+1,l(this._data,this._toBBox)}_chooseSplitIndex(e,t,r){let n,s,a;n=s=1/0;for(let o=t;o<=r-t;o++){const t=c(e,0,o,this._toBBox),i=c(e,o,r,this._toBBox),l=p(t,i),h=f(t)+f(i);l<n?(n=l,a=o,s=h<s?h:s):l===n&&h<s&&(s=h,a=o)}return a}_chooseSplitAxis(e,t,r){const n=e.leaf?this._compareMinX:u,s=e.leaf?this._compareMinY:d;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,s)&&e.children.sort(n)}_allDistMargin(e,t,r,n){e.children.sort(n);const s=this._toBBox,a=c(e,0,t,s),o=c(e,r-t,r,s);let i=m(a)+m(o);for(let n=t;n<r-t;n++){const t=e.children[n];h(a,e.leaf?s(t):t),i+=m(a)}for(let n=r-t-1;n>=t;n--){const t=e.children[n];h(o,e.leaf?s(t):t),i+=m(o)}return i}_adjustParentBBoxes(e,t,r){for(let n=r;n>=0;n--)h(t.data[n],e)}_condense(e){for(let t=e.length-1;t>=0;t--){const r=e.data[t];if(0===r.children.length)if(t>0){const s=e.data[t-1],a=s.children;a.splice((0,n.m)(a,r,a.length,s.indexHint),1)}else this.clear();else l(r,this._toBBox)}}_initFormat(e){const t=["return a"," - b",";"];this._compareMinX=new Function("a","b",t.join(e[0])),this._compareMinY=new Function("a","b",t.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}function l(e,t){c(e,0,e.children.length,t,e)}function c(e,t,r,n,s){s||(s=new S([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let a,o=t;o<r;o++)a=e.children[o],h(s,e.leaf?n(a):a);return s}function h(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function u(e,t){return e.minX-t.minX}function d(e,t){return e.minY-t.minY}function f(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function m(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){const r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),s=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,s-r)*Math.max(0,a-n)}function g(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function b(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e,t,r,n,a){const i=[t,r];for(;i.length;){const t=(0,s.a)(i.pop()),r=(0,s.a)(i.pop());if(t-r<=n)continue;const l=r+Math.ceil((t-r)/n/2)*n;(0,o.q)(e,l,r,t,a),i.push(r,l,l,t)}}const x=new a.P,M=new a.P,w=new a.P,_=new a.P({deallocator:void 0});class v{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class O extends v{constructor(){super(...arguments),this.height=1,this.indexHint=new n.P}}class S extends O{constructor(e){super(),this.children=e,this.leaf=!0}}class q extends O{constructor(e){super(),this.children=e,this.leaf=!1}}},89914:(e,t,r)=>{r.d(t,{S:()=>s});var n=r(62062);class s extends n.O{notify(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onInvalidated(),e.onCommitted()}}}},5777:(e,t,r)=>{r.d(t,{c:()=>n,g:()=>s});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},73173:(e,t,r)=>{r.d(t,{g:()=>l});var n=r(31450),s=(r(82058),r(60991)),a=r(92143),o=r(32101);const i=a.L.getLogger("esri.assets");function l(e){if(!n.default.assetsPath)throw i.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new s.Z("assets:path-not-set","config.assetsPath is not set");return(0,o.v_)(n.default.assetsPath,e)}},16912:(e,t,r)=>{function n(){return[1,0,0,0,1,0,0,0,1]}function s(e,t,r,n,s,a,o,i,l){return[e,t,r,n,s,a,o,i,l]}function a(e,t){return new Float64Array(e,t,9)}r.d(t,{a:()=>a,c:()=>n,f:()=>s})},65775:(e,t,r)=>{r.d(t,{C:()=>u,D:()=>m,a:()=>f,b:()=>p,c:()=>i,d:()=>b,e:()=>g,f:()=>d,g:()=>h,i:()=>a,k:()=>x,l:()=>y,m:()=>l,n:()=>c,s:()=>s,t:()=>o});var n=r(29794);function s(e,t,r,n,s,a,o,i,l,c,h,u,d,f,m,p,g){return e[0]=t,e[1]=r,e[2]=n,e[3]=s,e[4]=a,e[5]=o,e[6]=i,e[7]=l,e[8]=c,e[9]=h,e[10]=u,e[11]=d,e[12]=f,e[13]=m,e[14]=p,e[15]=g,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function o(e,t){if(e===t){const r=t[1],n=t[2],s=t[3],a=t[6],o=t[7],i=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=s,e[13]=o,e[14]=i}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function i(e,t){const r=t[0],n=t[1],s=t[2],a=t[3],o=t[4],i=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],f=t[11],m=t[12],p=t[13],g=t[14],b=t[15],y=r*i-n*o,x=r*l-s*o,M=r*c-a*o,w=n*l-s*i,_=n*c-a*i,v=s*c-a*l,O=h*p-u*m,S=h*g-d*m,q=h*b-f*m,B=u*g-d*p,T=u*b-f*p,P=d*b-f*g;let C=y*P-x*T+M*B+w*q-_*S+v*O;return C?(C=1/C,e[0]=(i*P-l*T+c*B)*C,e[1]=(s*T-n*P-a*B)*C,e[2]=(p*v-g*_+b*w)*C,e[3]=(d*_-u*v-f*w)*C,e[4]=(l*q-o*P-c*S)*C,e[5]=(r*P-s*q+a*S)*C,e[6]=(g*M-m*v-b*x)*C,e[7]=(h*v-d*M+f*x)*C,e[8]=(o*T-i*q+c*O)*C,e[9]=(n*q-r*T-a*O)*C,e[10]=(m*_-p*M+b*y)*C,e[11]=(u*M-h*_-f*y)*C,e[12]=(i*S-o*B-l*O)*C,e[13]=(r*B-n*S+s*O)*C,e[14]=(p*x-m*w-g*y)*C,e[15]=(h*w-u*x+d*y)*C,e):null}function l(e,t,r){const n=t[0],s=t[1],a=t[2],o=t[3],i=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=t[9],f=t[10],m=t[11],p=t[12],g=t[13],b=t[14],y=t[15];let x=r[0],M=r[1],w=r[2],_=r[3];return e[0]=x*n+M*i+w*u+_*p,e[1]=x*s+M*l+w*d+_*g,e[2]=x*a+M*c+w*f+_*b,e[3]=x*o+M*h+w*m+_*y,x=r[4],M=r[5],w=r[6],_=r[7],e[4]=x*n+M*i+w*u+_*p,e[5]=x*s+M*l+w*d+_*g,e[6]=x*a+M*c+w*f+_*b,e[7]=x*o+M*h+w*m+_*y,x=r[8],M=r[9],w=r[10],_=r[11],e[8]=x*n+M*i+w*u+_*p,e[9]=x*s+M*l+w*d+_*g,e[10]=x*a+M*c+w*f+_*b,e[11]=x*o+M*h+w*m+_*y,x=r[12],M=r[13],w=r[14],_=r[15],e[12]=x*n+M*i+w*u+_*p,e[13]=x*s+M*l+w*d+_*g,e[14]=x*a+M*c+w*f+_*b,e[15]=x*o+M*h+w*m+_*y,e}function c(e,t,r){const n=r[0],s=r[1],a=r[2];if(t===e)e[12]=t[0]*n+t[4]*s+t[8]*a+t[12],e[13]=t[1]*n+t[5]*s+t[9]*a+t[13],e[14]=t[2]*n+t[6]*s+t[10]*a+t[14],e[15]=t[3]*n+t[7]*s+t[11]*a+t[15];else{const r=t[0],o=t[1],i=t[2],l=t[3],c=t[4],h=t[5],u=t[6],d=t[7],f=t[8],m=t[9],p=t[10],g=t[11];e[0]=r,e[1]=o,e[2]=i,e[3]=l,e[4]=c,e[5]=h,e[6]=u,e[7]=d,e[8]=f,e[9]=m,e[10]=p,e[11]=g,e[12]=r*n+c*s+f*a+t[12],e[13]=o*n+h*s+m*a+t[13],e[14]=i*n+u*s+p*a+t[14],e[15]=l*n+d*s+g*a+t[15]}return e}function h(e,t,r){const n=r[0],s=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function u(e,t,r,s){let a,o,i,l,c,h,u,d,f,m,p,g,b,y,x,M,w,_,v,O,S,q,B,T,P=s[0],C=s[1],E=s[2],k=Math.sqrt(P*P+C*C+E*E);return k<(0,n.g)()?null:(k=1/k,P*=k,C*=k,E*=k,a=Math.sin(r),o=Math.cos(r),i=1-o,l=t[0],c=t[1],h=t[2],u=t[3],d=t[4],f=t[5],m=t[6],p=t[7],g=t[8],b=t[9],y=t[10],x=t[11],M=P*P*i+o,w=C*P*i+E*a,_=E*P*i-C*a,v=P*C*i-E*a,O=C*C*i+o,S=E*C*i+P*a,q=P*E*i+C*a,B=C*E*i-P*a,T=E*E*i+o,e[0]=l*M+d*w+g*_,e[1]=c*M+f*w+b*_,e[2]=h*M+m*w+y*_,e[3]=u*M+p*w+x*_,e[4]=l*v+d*O+g*S,e[5]=c*v+f*O+b*S,e[6]=h*v+m*O+y*S,e[7]=u*v+p*O+x*S,e[8]=l*q+d*B+g*T,e[9]=c*q+f*B+b*T,e[10]=h*q+m*B+y*T,e[11]=u*q+p*B+x*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function d(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function f(e,t,r){if(0===t)return a(e);let s,o,i,l=r[0],c=r[1],h=r[2],u=Math.sqrt(l*l+c*c+h*h);return u<(0,n.g)()?null:(u=1/u,l*=u,c*=u,h*=u,s=Math.sin(t),o=Math.cos(t),i=1-o,e[0]=l*l*i+o,e[1]=c*l*i+h*s,e[2]=h*l*i-c*s,e[3]=0,e[4]=l*c*i-h*s,e[5]=c*c*i+o,e[6]=h*c*i+l*s,e[7]=0,e[8]=l*h*i+c*s,e[9]=c*h*i-l*s,e[10]=h*h*i+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function m(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function p(e,t,r,n){const s=t[0],a=t[1],o=t[2],i=t[3],l=s+s,c=a+a,h=o+o,u=s*l,d=s*c,f=s*h,m=a*c,p=a*h,g=o*h,b=i*l,y=i*c,x=i*h,M=n[0],w=n[1],_=n[2];return e[0]=(1-(m+g))*M,e[1]=(d+x)*M,e[2]=(f-y)*M,e[3]=0,e[4]=(d-x)*w,e[5]=(1-(u+g))*w,e[6]=(p+b)*w,e[7]=0,e[8]=(f+y)*_,e[9]=(p-b)*_,e[10]=(1-(u+m))*_,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function g(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function b(e,t){if(e===t)return!0;const r=e[0],s=e[1],a=e[2],o=e[3],i=e[4],l=e[5],c=e[6],h=e[7],u=e[8],d=e[9],f=e[10],m=e[11],p=e[12],g=e[13],b=e[14],y=e[15],x=t[0],M=t[1],w=t[2],_=t[3],v=t[4],O=t[5],S=t[6],q=t[7],B=t[8],T=t[9],P=t[10],C=t[11],E=t[12],k=t[13],A=t[14],L=t[15],X=(0,n.g)();return Math.abs(r-x)<=X*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(s-M)<=X*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(a-w)<=X*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(o-_)<=X*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(i-v)<=X*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(l-O)<=X*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(c-S)<=X*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(h-q)<=X*Math.max(1,Math.abs(h),Math.abs(q))&&Math.abs(u-B)<=X*Math.max(1,Math.abs(u),Math.abs(B))&&Math.abs(d-T)<=X*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(f-P)<=X*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(m-C)<=X*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(p-E)<=X*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(g-k)<=X*Math.max(1,Math.abs(g),Math.abs(k))&&Math.abs(b-A)<=X*Math.max(1,Math.abs(b),Math.abs(A))&&Math.abs(y-L)<=X*Math.max(1,Math.abs(y),Math.abs(L))}function y(e){const t=(0,n.g)(),r=e[0],s=e[1],a=e[2],o=e[4],i=e[5],l=e[6],c=e[8],h=e[9],u=e[10];return Math.abs(1-(r*r+o*o+c*c))<=t&&Math.abs(1-(s*s+i*i+h*h))<=t&&Math.abs(1-(a*a+l*l+u*u))<=t}function x(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[8]&&0===e[9]&&1===e[10]}},57532:(e,t,r)=>{function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function s(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function a(e,t){return new Float64Array(e,t,16)}r.d(t,{I:()=>o,a:()=>a,b:()=>s,c:()=>n});const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},45087:(e,t,r)=>{function n(){return[0,0,0,1]}function s(e){return[e[0],e[1],e[2],e[3]]}function a(e,t){return new Float64Array(e,t,4)}r.d(t,{I:()=>o,a:()=>a,b:()=>s,c:()=>n});const o=[0,0,0,1]},98576:(e,t,r)=>{r.d(t,{q:()=>i});var n,s,a=r(5777),o={exports:{}};n=o,void 0!==(s=function(){function e(r,n,s,a,o){for(;a>s;){if(a-s>600){var i=a-s+1,l=n-s+1,c=Math.log(i),h=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*h*(i-h)/i)*(l-i/2<0?-1:1);e(r,n,Math.max(s,Math.floor(n-l*h/i+u)),Math.min(a,Math.floor(n+(i-l)*h/i+u)),o)}var d=r[n],f=s,m=a;for(t(r,s,n),o(r[a],d)>0&&t(r,s,a);f<m;){for(t(r,f,m),f++,m--;o(r[f],d)<0;)f++;for(;o(r[m],d)>0;)m--}0===o(r[s],d)?t(r,s,m):t(r,++m,a),m<=n&&(s=m+1),n<=m&&(a=m-1)}}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}return function(t,n,s,a,o){e(t,n,s||0,a||t.length-1,o||r)}}())&&(n.exports=s);const i=(0,a.g)(o.exports)},79641:(e,t,r)=>{r.d(t,{a:()=>i,b:()=>o,c:()=>s,d:()=>h,e:()=>l,m:()=>n,n:()=>u,s:()=>c,t:()=>a});const n=r(92143).L.getLogger("esri.views.3d.support.buffer.math");function s(e,t,r){a(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function a(e,t,r,s=3,a=s){if(e.length/s!==Math.ceil(t.length/a))return n.error("source and destination buffers need to have the same number of elements"),e;const o=e.length/s,i=r[0],l=r[1],c=r[2],h=r[4],u=r[5],d=r[6],f=r[8],m=r[9],p=r[10],g=r[12],b=r[13],y=r[14];let x=0,M=0;for(let r=0;r<o;r++){const r=t[x],n=t[x+1],o=t[x+2];e[M]=i*r+h*n+f*o+g,e[M+1]=l*r+u*n+m*o+b,e[M+2]=c*r+d*n+p*o+y,x+=a,M+=s}return e}function o(e,t,r){i(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function i(e,t,r,s=3,a=s){if(e.length/s!==Math.ceil(t.length/a))return void n.error("source and destination buffers need to have the same number of elements");const o=e.length/s,i=r[0],l=r[1],c=r[2],h=r[3],u=r[4],d=r[5],f=r[6],m=r[7],p=r[8];let g=0,b=0;for(let r=0;r<o;r++){const r=t[g],n=t[g+1],o=t[g+2];e[b]=i*r+h*n+f*o,e[b+1]=l*r+u*n+m*o,e[b+2]=c*r+d*n+p*o,g+=a,b+=s}}function l(e,t,r){c(e.typedBuffer,t,r,e.typedBufferStride)}function c(e,t,r,n=3){const s=Math.min(e.length/n,t.count),a=t.typedBuffer,o=t.typedBufferStride;let i=0,l=0;for(let t=0;t<s;t++)e[l]=r*a[i],e[l+1]=r*a[i+1],e[l+2]=r*a[i+2],i+=o,l+=n}function h(e,t){u(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function u(e,t,r=3,n=r){const s=Math.min(e.length/r,t.length/n);let a=0,o=0;for(let i=0;i<s;i++){const s=t[a],i=t[a+1],l=t[a+2],c=s*s+i*i+l*l;if(c>0){const t=1/Math.sqrt(c);e[o]=t*s,e[o+1]=t*i,e[o+2]=t*l}a+=n,o+=r}}},66122:(e,t,r)=>{r.d(t,{J:()=>c,j:()=>h});var n=r(29768),s=r(21972),a=(r(48578),r(76506)),o=(r(92143),r(71252)),i=r(66396),l=r(17533);r(60474),r(86656),r(379),r(62062),r(6540),r(34250),r(91306),r(60991),r(71552),r(31450),r(40642),r(19657),r(91055),r(6906),r(79456),r(50406);const c=e=>{let t=class extends e{clone(){const e=(0,o.u)((0,i.g)(this),"unable to clone instance of non-accessor class"),t=e.metadatas,r=e.store,n={},l=new Map;for(const e in t){const o=t[e],i=r?.originOf(e),c=o.clonable;if(o.readOnly||!1===c||i!==s.O.USER&&i!==s.O.DEFAULTS&&i!==s.O.WEB_MAP&&i!==s.O.WEB_SCENE)continue;const h=this[e];let u=null;u="function"==typeof c?c(h):"reference"===c?h:(0,a.Vo)(h),null!=h&&null==u||(i===s.O.DEFAULTS?l.set(e,u):n[e]=u)}const c=new(0,Object.getPrototypeOf(this).constructor)(n);if(l.size){const e=(0,i.g)(c)?.store;if(e)for(const[t,r]of l)e.set(t,r,s.O.DEFAULTS)}return c}};return t=(0,n._)([(0,l.j)("esri.core.Clonable")],t),t};let h=class extends(c(s.Z)){};h=(0,n._)([(0,l.j)("esri.core.Clonable")],h)},66705:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(29768),s=r(66122),a=r(12047),o=r(34250),i=(r(91306),r(48578),r(59465)),l=r(17533),c=r(66106),h=r(91597);r(21972),r(60474),r(66396),r(76506),r(86656),r(92143),r(31450),r(71552),r(40642),r(379),r(62062),r(6540),r(19657),r(91055),r(6906),r(79456),r(50406),r(60991),r(57251),r(86787),r(97714),r(2906),r(73796),r(60947),r(53785),r(35132);let u=class extends((0,s.J)(a.wq)){constructor(e){super(e),this.type="georeferenced-relative",this.isRelative=!0,this.isGeoreferenced=!0,this.origin=(0,c.c)()}getOriginPoint(e){const[t,r,n]=this.origin;return new h.Z({x:t,y:r,z:n,spatialReference:e})}setOriginFormPoint({x:e,y:t,z:r}){this.origin=(0,c.f)(e,t,r??0)}};(0,n._)([(0,i.e)({georeferencedRelative:"georeferenced-relative"},{readOnly:!0})],u.prototype,"type",void 0),(0,n._)([(0,o.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],u.prototype,"origin",void 0),u=(0,n._)([(0,l.j)("esri.geometry.support.MeshGeoreferencedRelativeVertexSpace")],u);const d=u},46961:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(29768),s=r(66122),a=r(12047),o=(r(92143),r(91306),r(48578),r(60991),r(59465)),i=r(17533);r(21972),r(60474),r(66396),r(76506),r(86656),r(379),r(62062),r(6540),r(34250),r(31450),r(71552),r(40642),r(19657),r(91055),r(6906),r(79456),r(50406),r(57251);let l=class extends((0,s.J)(a.wq)){constructor(){super({}),this.type="georeferenced",this.isRelative=!1,this.isGeoreferenced=!0}};(0,n._)([(0,o.e)({georeferenced:"georeferenced"},{readOnly:!0})],l.prototype,"type",void 0),l=(0,n._)([(0,i.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],l);const c=l},45274:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(29768),s=r(66122),a=r(12047),o=r(34250),i=(r(91306),r(48578),r(59465)),l=r(17533),c=r(66106),h=r(91597);r(21972),r(60474),r(66396),r(76506),r(86656),r(92143),r(31450),r(71552),r(40642),r(379),r(62062),r(6540),r(19657),r(91055),r(6906),r(79456),r(50406),r(60991),r(57251),r(86787),r(97714),r(2906),r(73796),r(60947),r(53785),r(35132);let u=class extends((0,s.J)(a.wq)){constructor(e){super(e),this.type="local",this.isRelative=!0,this.isGeoreferenced=!1,this.origin=(0,c.c)()}getOriginPoint(e){const[t,r,n]=this.origin;return new h.Z({x:t,y:r,z:n,spatialReference:e})}setOriginFormPoint({x:e,y:t,z:r}){this.origin=(0,c.f)(e,t,r??0)}};(0,n._)([(0,i.e)({local:"local"},{readOnly:!0})],u.prototype,"type",void 0),(0,n._)([(0,o.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],u.prototype,"origin",void 0),u=(0,n._)([(0,l.j)("esri.geometry.support.MeshLocalVertexSpace")],u);const d=u},82058:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g,i:()=>p,l:()=>d,r:()=>A,s:()=>u});var n=r(31450),s=r(88762),a=r(60991),o=r(48578),i=r(76506),l=r(50406),c=r(32101);r(71552),r(92143),r(40642);const h=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function u(e){const t=(0,c.P$)(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!h.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function d(e,t,r=!1,n){return new Promise(((s,a)=>{if((0,l.Hc)(n))return void a(f());let i=()=>{u(),a(new Error(`Unable to load ${t}`))},c=()=>{const t=e;u(),s(t)},h=()=>{if(!e)return;const t=e;u(),t.src="",a(f())};const u=()=>{(0,o.h)("esri-image-decode")||(e.removeEventListener("error",i),e.removeEventListener("load",c)),i=null,c=null,e=null,null!=n&&n.removeEventListener("abort",h),h=null,r&&URL.revokeObjectURL(t)};null!=n&&n.addEventListener("abort",h),(0,o.h)("esri-image-decode")?e.decode().then(c,i):(e.addEventListener("error",i),e.addEventListener("load",c))}))}function f(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const m="Timeout exceeded";function p(e){return"object"==typeof e&&!!e&&"message"in e&&e.message===m}async function g(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=(0,c.u0)(t.query.toString().replaceAll("+"," ")));const i=(0,c.HK)(e),h=(0,c.jc)(e);h||i||(e=(0,c.Fv)(e));const d={url:e,requestOptions:{...t}};let f=(0,c.oh)(e);if(f){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(e){r=q("request:interceptor",e,t)}if((n instanceof Error||n instanceof a.Z)&&(r=q("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}(f,d);if(null!=e)return{data:e,getHeader:v,httpStatus:200,requestOptions:d.requestOptions,url:d.url};f.after||f.error||(f=null)}if(e=d.url,"image"===(t=d.requestOptions).responseType&&((0,o.h)("host-webworker")||(0,o.h)("host-node")))throw q("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),d);if("head"===t.method){if(t.body)throw q("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),d);if(i||h)throw q("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),d)}if(await async function(){(0,o.h)("host-webworker")?b||(b=await r.e(9768).then(r.bind(r,89768))):g._abortableFetch||(g._abortableFetch=globalThis.fetch.bind(globalThis))}(),b)return b.execute(e,t);const m=new AbortController;(0,l.fu)(t,(()=>m.abort()));const p={controller:m,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:f,params:d,redoRequest:!1,useIdentity:y.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},M=await async function(e){let t,r;await async function(e){const t=e.params.url,r=e.params.requestOptions,a=e.controller.signal,o=r.body;let i=null,c=null;if(x&&"HTMLFormElement"in globalThis&&(o instanceof FormData?i=o:o instanceof HTMLFormElement&&(i=new FormData(o))),"string"==typeof o&&(c=o),e.fetchOptions={cache:r.cacheBust&&!("polyfill"in g._abortableFetch)?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",priority:y.priority,redirect:"follow",signal:a},(i||c)&&(e.fetchOptions.body=i||c),"anonymous"===r.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||i?.get("token")),!e.hasToken&&n.default.apiKey&&u(t)&&(r.query||(r.query={}),r.query.token=n.default.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!T(t)&&!(0,l.Hc)(a)){let n;"immediate"===r.authMode?(await B(),n=await s.id.getCredential(t,{signal:a}),e.credential=n):"no-prompt"===r.authMode?(await B(),n=await s.id.getCredential(t,{prompt:!1,signal:a}).catch((()=>{})),e.credential=n):s.id&&(n=s.id.findCredential(t)),n&&(e.credentialToken=n.token,e.useSSL=!!n.ssl)}}(e);try{do{[t,r]=await P(e)}while(!await E(e,t,r))}catch(r){const n=q("request:server",r,e.params,t);throw n.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(n),n}const a=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(a)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!(0,c.kl)(a)){const e=(0,c.P$)(a,!0);e&&y.trustedServers.push(e)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&function(e){n.default.request.crossOriginNoCorsDomains||(n.default.request.crossOriginNoCorsDomains={});const t=n.default.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[(0,c.P$)(r)??""]=0:(t[(0,c.P$)("http://"+r)??""]=0,t[(0,c.P$)("https://"+r)??""]=0)}(r.authorizedCrossOriginNoCorsDomains)}const o=e.credential;if(o&&s.id){const e=s.id.findServerInfo(o.server);let t=e?.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=s.id.findCredential(t,o.userId);e&&-1===s.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:r,getHeader:t?e=>t?.headers.get(e):v,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(p);return f?.after?.(M),M}let b;const y=n.default.request,x="FormData"in globalThis,M=[499,498,403,401],w=["COM_0056","COM_0057","SB_0008"],_=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],v=()=>null,O=Symbol();function S(e){const t=(0,c.P$)(e);return!t||t.endsWith(".arcgis.com")||g._corsServers.includes(t)||(0,c.kl)(t)}function q(e,t,r,n){let s="Error";const o={url:r.url,requestOptions:r.requestOptions,getHeader:v,ssl:!1};if(t instanceof a.Z)return t.details?(t.details=(0,i.d9)(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=o,t;if(t){const e=n&&(e=>n.headers.get(e)),r=n?.status,a=t.message;a&&(s=a),e&&(o.getHeader=e),o.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||r||0,o.subCode=t.subcode,o.messageCode=t.messageCode,"string"==typeof t.details?o.messages=[t.details]:o.messages=t.details,o.raw=O in t?t[O]:t}return(0,l.D_)(t)?(0,l.zE)():new a.Z(e,s,o)}async function B(){s.id||await Promise.all([r.e(4078),r.e(6676),r.e(6097),r.e(7803)]).then(r.bind(r,67803))}function T(e){return _.some((t=>t.test(e)))}async function P(e){let t=e.params.url;const r=e.params.requestOptions,a=e.fetchOptions??{},i=(0,c.jc)(t)||(0,c.HK)(t),h=r.responseType||"json",u=i?0:null!=r.timeout?r.timeout:y.timeout;let d=!1;if(!i){e.useSSL&&(t=(0,c.hO)(t)),r.cacheBust&&"default"===a.cache&&(t=(0,c.ZN)(t,"request.preventCache",Date.now()));let i={...r.query};e.credentialToken&&(i.token=e.credentialToken);let l=(0,c.B7)(i);(0,o.h)("esri-url-encodes-apostrophe")&&(l=l.replaceAll("'","%27"));const h=t.length+1+l.length;let u;d="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||h>y.maxUrlLength;const f=r.useProxy||!!(0,c.ed)(t);if(f){const e=(0,c.b7)(t);u=e.path,!d&&u.length+1+h>y.maxUrlLength&&(d=!0),e.query&&(i={...e.query,...i})}if("HEAD"===a.method&&(d||f)){if(d){if(h>y.maxUrlLength)throw q("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw q("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(f)throw q("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(d?(a.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?t=(0,c.fl)(t,i):(a.body=(0,c.B7)(i),a.headers||(a.headers={}),a.headers["Content-Type"]="application/x-www-form-urlencoded")):t=(0,c.fl)(t,i),f&&(e.useProxy=!0,t=`${u}?${t}`),i.token&&x&&a.body instanceof FormData&&!(0,c.i)(t)&&a.body.set("token",i.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!(0,c.D6)(t,(0,c.TI)()))if((0,c.kl)(t))e.withCredentials=!0;else if(s.id){const r=s.id.findServerInfo(t);r?.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(a.credentials="include",function(e){const t=n.default.request.crossOriginNoCorsDomains;if(t){let r=(0,c.P$)(e);if(r)return r=r.toLowerCase(),!(0,c.D6)(r,(0,c.TI)())&&t[r]<Date.now()-36e5}return!1}(t)&&await async function(e){const t=n.default.request.crossOriginNoCorsDomains,r=(0,c.P$)(e);t&&r&&(t[r.toLowerCase()]=Date.now());const s=(0,c.mN)(e);e=s.path,"json"===s.query?.f&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}(d?(0,c.fl)(t,i):t))}let f,p,b=0,M=!1;u>0&&(b=setTimeout((()=>{M=!0,e.controller.abort()}),u));try{if("native-request-init"===r.responseType)p=a,p.url=t;else if("image"!==r.responseType||"default"!==a.cache||"GET"!==a.method||d||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!i&&!e.useProxy&&y.proxyUrl&&!S(t)){if(f=await g._abortableFetch(t,a),e.useProxy||function(e){const t=(0,c.P$)(e);t&&!g._corsServers.includes(t)&&g._corsServers.push(t)}(t),"native"===r.responseType)p=f;else if("HEAD"!==a.method)if(f.ok){switch(h){case"array-buffer":p=await f.arrayBuffer();break;case"blob":case"image":p=await f.blob();break;default:p=await f.text()}if(b&&(clearTimeout(b),b=0),"json"===h||"xml"===h||"document"===h)if(p)switch(h){case"json":p=JSON.parse(p);break;case"xml":p=C(p,"application/xml");break;case"document":p=C(p,"text/html")}else p=null;if(p){if("array-buffer"===h||"blob"===h){const e=f.headers.get("Content-Type");if(e&&/application\/json|text\/plain/i.test(e)&&p["blob"===h?"size":"byteLength"]<=750)try{const e=await new Response(p).json();e.error&&(p=e)}catch{}}"image"===h&&p instanceof Blob&&(p=await k(URL.createObjectURL(p),e,!0))}}else{p=await f.text();try{p=JSON.parse(p)}catch{}}}else p=await k(t,e)}catch(n){if("AbortError"===n.name){if(M)throw new Error(m);throw(0,l.zE)("Request canceled")}if(!(!f&&n instanceof TypeError&&y.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy||S(t))throw n;e.redoRequest=!0,(0,c.tD)({proxyUrl:y.proxyUrl,urlPrefix:(0,c.P$)(t)??""})}finally{b&&clearTimeout(b)}return[f,p]}function C(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function E(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||"native"===n.responseType||"native-request-init"===n.responseType)return!0;let a,o;if(r&&(r.error?a=r.error:"error"===r.status&&Array.isArray(r.messages)&&(a={...r},a[O]=r,a.details=r.messages)),!a&&!t.ok)throw a=new Error(`Unable to load ${t.url} status: ${t.status}`),a[O]=r,a;let i,l=null;a&&(o=Number(a.code),l=a.hasOwnProperty("subcode")?Number(a.subcode):null,i=a.messageCode,i=i?.toUpperCase());const c=n.authMode;if(403===o&&(4===l||a.message?.toLowerCase().includes("ssl")&&!a.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==c||498===o)&&void 0!==o&&M.includes(o)&&!T(e.params.url)&&(403!==o||i&&!w.includes(i)&&(null==l||2===l&&e.credentialToken))){await B();try{const t=await s.id.getCredential(e.params.url,{error:q("request:server",a,e.params),prompt:"no-prompt"!==c,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===c)return e.credential=void 0,e.credentialToken=void 0,!1;a=t}}if(a)throw a;return!0}function k(e,t,r=!1){const n=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=y.priority,s.src=e,d(s,e,r,n)}g._abortableFetch=null,g._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const A=Object.freeze(Object.defineProperty({__proto__:null,default:g},Symbol.toStringTag,{value:"Module"}))}}]);