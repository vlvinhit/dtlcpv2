"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2176,6458,8642],{21132:(e,a,t)=>{t.d(a,{a:()=>h,b:()=>u,c:()=>d,d:()=>S,f:()=>p,i:()=>m,p:()=>y,s:()=>L,t:()=>f,w:()=>b});var r=t(32101),n=t(38742);const i={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},s=Object.values(i),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),o=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function u(e){return!!l.test(e)}function y(e){if(null==e)return null;const a=(0,r.mN)(e),t=a.path.match(l)||a.path.match(o);if(!t)return null;const[,n,s,c,u]=t,y=s.indexOf("/");return{title:d(-1!==y?s.slice(y+1):s),serverType:i[c.toLowerCase()],sublayer:null!=u&&""!==u?parseInt(u,10):null,url:{path:n}}}function p(e){const a=(0,r.mN)(e).path.match(c);return a?{serviceUrl:a[1],sublayerId:Number(a[2])}:null}function d(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function f(e,a){const t=[];if(e){const a=y(e);null!=a&&a.title&&t.push(a.title)}if(a){const e=d(a);t.push(e)}if(2===t.length){if(t[0].toLowerCase().includes(t[1].toLowerCase()))return t[0];if(t[1].toLowerCase().includes(t[0].toLowerCase()))return t[1]}return t.join(" - ")}function m(e){if(!e)return!1;const a=(e=e.toLowerCase()).includes(".arcgis.com/"),t=e.includes("//services")||e.includes("//tiles")||e.includes("//features");return a&&t}function L(e,a){return e?(0,r.Qj)((0,r.Hu)(e,a)):e}function h(e){let{url:a}=e;if(!a)return{url:a};a=(0,r.Hu)(a,e.logger);const t=(0,r.mN)(a),n=y(t.path);let i;if(null!=n)null!=n.sublayer&&null==e.layer.layerId&&(i=n.sublayer),a=n.url.path;else if(e.nonStandardUrlAllowed){const e=p(t.path);null!=e&&(a=e.serviceUrl,i=e.sublayerId)}return{url:(0,r.Qj)(a),layerId:i}}function b(e,a,t,i,s){(0,n.w)(a,i,"url",s),i.url&&null!=e.layerId&&(i.url=(0,r.v_)(i.url,t,e.layerId.toString()))}function S(e){if(!e)return!1;const a=e.toLowerCase(),t=a.includes("/services/"),r=a.includes("/mapserver/wmsserver"),n=a.includes("/imageserver/wmsserver"),i=a.includes("/wmsserver");return t&&(r||n||i)}},14830:(e,a,t)=>{t.d(a,{a:()=>n,f:()=>i});var r=t(82058);async function n(e,a){const{data:t}=await(0,r.default)(e,{responseType:"json",query:{f:"json",...a?.customParameters,token:a?.apiKey}});return t}async function i(e,a){const t=await n(e,a);t.layers=t.layers.filter(s);const r={serviceJSON:t};if((t.currentVersion??0)<10.5)return r;const i=await n(e+"/layers",a);return r.layersJSON={layers:i.layers.filter(s),tables:i.tables},r}function s(e){return!e.type||"Feature Layer"===e.type}},69586:(e,a,t)=>{t.d(a,{a:()=>s,c:()=>i});var r=t(32101),n=t(49900);function i(e){return{origin:"portal-item",url:(0,r.mN)(e.itemUrl),portal:e.portal||n.Z.getDefault(),portalItem:e,readResourcePaths:[]}}function s(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?(0,r.mN)(e.itemUrl):null,portal:e.portal||n.Z.getDefault(),portalItem:e}}},92176:(e,a,t)=>{t.d(a,{populateOperationalLayers:()=>u});var r=t(15324),n=(t(48578),t(50406)),i=t(67902),s=t(56420),l=t(36458),o=t(68714);function c(e,a){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===a}async function u(e,a,t){if(!a)return;const r=[];for(const e of a){const a=w(e,t);"GroupLayer"===e.layerType?r.push(g(a,e,t)):r.push(a)}const i=await(0,n.as)(r);for(const a of i)a.value&&e.add(a.value)}t(91055),t(379),t(75067),t(21972),t(17533),t(86656),t(76506),t(66396),t(6540),t(92143),t(31450),t(71552),t(40642),t(91306),t(60991),t(60474),t(62062),t(34250),t(19657),t(6906),t(79456),t(89914),t(73173),t(82058),t(88762),t(32101),t(12047),t(81184),t(33101),t(97714),t(21801),t(73796),t(60947),t(53785),t(57251),t(2906),t(91597),t(86787),t(35132),t(49900),t(3482),t(67477),t(78533),t(74653),t(91091),t(58943),t(74742),t(28239),t(51899),t(8642),t(41617),t(74569),t(84069),t(44567),t(98380),t(92482),t(82426),t(72836),t(66106),t(29794),t(7200),t(92896),t(22781),t(32422),t(3296),t(21132),t(38742),t(14830),t(69586),t(60111),t(1623),t(65775),t(12381),t(92624),t(92847),t(41864);const y={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},p={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},d={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},f={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},m={ArcGISFeatureLayer:"FeatureLayer"},L={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"},h={...f,LinkChartLayer:"LinkChartLayer"},b={...m},S={...L};async function w(e,a){const t=await async function(e,a){const t=a.context,r=function(e){let a;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":a=d;break;case"ground":a=p;break;default:a=y}break;case"link-chart":switch(e.layerContainerType){case"basemap":a=S;break;case"tables":a=b;break;default:a=h}break;default:switch(e.layerContainerType){case"basemap":a=L;break;case"tables":a=m;break;default:a=f}}return a}(t);let n=e.layerType||e.type;!n&&a&&a.defaultLayerType&&(n=a.defaultLayerType);const o=r[n];let u=o?i.l[o]:i.l.UnknownLayer;if(M(e)){const a=t?.portal;if(e.itemId){const t=new s.default({id:e.itemId,portal:a});await t.load();const r=(await(0,l.v)(t)).className||"UnknownLayer";u=i.l[r]}}else"ArcGISFeatureLayer"===n?function(e){return c(e,"notes")}(e)||function(e){return c(e,"markup")}(e)?u=i.l.MapNotesLayer:function(e){return c(e,"route")}(e)?u=i.l.RouteLayer:I(e)&&(u=i.l.GroupLayer):e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier?u=i.l.WMTSLayer:"WFS"===n&&"2.0.0"!==e.wfsInfo?.version&&(u=i.l.UnsupportedLayer);return u()}(e,a);return async function(e,a,t){const r=new e;return r.read(a,t.context),"group"===r.type&&I(a)&&await async function(e,a,t){const r=i.l.FeatureLayer,n=await r(),s=a.featureCollection,l=s?.showLegend,o=s?.layers?.map(((r,i)=>{const s=new n;s.read(r,t);const o={...t,ignoreDefaults:!0};return s.read({id:`${e.id}-sublayer-${i}`,visibility:a.visibleLayers?.includes(i)??!0},o),null!=l&&s.read({showLegend:l},o),s}));e.layers.addMany(o??[])}(r,a,t.context),await(0,o.l)(r,t.context),r}(t,e,a)}function I(e){return"ArcGISFeatureLayer"===e.layerType&&!M(e)&&(e.featureCollection?.layers?.length??0)>1}function M(e){return"Feature Collection"===e.type}async function g(e,a,t){const n=new r.Z,i=u(n,Array.isArray(a.layers)?a.layers:[],t);try{const a=await e;try{if(await i,"group"===a.type)return a.layers.addMany(n),a}catch(e){a.destroy();for(const e of n)e.destroy();throw e}}catch(e){throw e}}},8642:(e,a,t)=>{t.d(a,{$O:()=>h,Ok:()=>b,Q4:()=>S,XX:()=>w,load:()=>p});var r=t(60991),n=t(41617),i=t(21132),s=t(14830),l=t(49900),o=t(56420),c=t(69586),u=t(60111),y=t(68714);async function p(e,a){const t=e.instance.portalItem;if(t&&t.id)return await t.load(a),function(e){const a=e.instance.portalItem;if(!a?.type||!e.supportedTypes.includes(a.type))throw new r.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:a?.type,expectedType:e.supportedTypes.join(", ")})}(e),async function(e,a){const t=e.instance,n=t.portalItem;if(!n)return;const{url:i,title:l}=n,o=(0,c.c)(n);if("group"===t.type)return t.read({title:l},o),async function(e,a){let t;const{portalItem:n}=e;if(!n)return;const i=n.type,l=a.layerModuleTypeMap,o=(0,u.h)(n,"Oriented Imagery Layer")??!1;switch(i){case"Feature Service":t=o?l.OrientedImageryLayer:l.FeatureLayer;break;case"Stream Service":t=l.StreamLayer;break;case"Scene Service":t=l.SceneLayer;break;case"Feature Collection":t=l.FeatureLayer;break;default:throw new r.Z("portal:unsupported-item-type-as-group",`The item type '${i}' is not supported as a 'IGroupLayer'`)}let[c,y]=await Promise.all([t(),L(a)]),p=()=>c;if("Feature Service"===i){if(y=n.url?await h(y,n.url):{},w(y).length){const e=l.SubtypeGroupLayer,a=await e();p=e=>"SubtypeGroupLayer"===e.layerType?a:c}const a=await async function(e){const{layersJSON:a}=await(0,s.f)(e);if(!a)return null;const t=[...a.layers,...a.tables];return e=>t.find((a=>a.id===e.id))}(n.url);return f(e,p,y,a)}return S(y)>0?f(e,p,y):async function(e,a){const{portalItem:t}=e;if(!t?.url)return;const r=await(0,s.a)(t.url);r&&f(e,a,{layers:r.layers?.map(d),tables:r.tables?.map(d)})}(e,p)}(t,e);i&&t.read({url:i},o);const p=await L(e,a);return p&&t.read(p,o),t.resourceReferences={portalItem:n,paths:o.readResourcePaths??[]},"subtype-group"!==t.type&&t.read({title:l},o),(0,y.l)(t,o)}(e,a)}function d(e){return{id:e.id,name:e.name}}function f(e,a,t,s){let l=t.layers||[];const c=t.tables||[];if("Feature Collection"===e.portalItem?.type&&(l.forEach((e=>{"Table"===e?.layerDefinition?.type&&c.push(e)})),l=l.filter((e=>"Table"!==e?.layerDefinition?.type))),"coverage"in t){const a=function(e){const{coverage:a}=e;if(!a)return null;const t=new URL(a);if(a.toLowerCase().includes("item.html")){const e=t.searchParams.get("id"),a=t.origin;return n.Z.fromPortalItem({portalItem:new o.default({id:e,url:a})})}if((0,i.b)(a))return n.Z.fromArcGISServerUrl({url:a});throw new r.Z("portal:oriented-imagery-layer-coverage","the provided coverage url couldn't be loaded as a layer")}(t);a&&e.add(a)}l.reverse().forEach((r=>{const n=s?.(r);if(n||!s){const i=m(e,a(r),t,r,n);e.add(i)}})),c.reverse().forEach((r=>{const n=s?.(r);if(n||!s){const i=m(e,a(r),t,r,n);e.tables.add(i)}}))}function m(e,a,t,r,n){const i=e.portalItem,s=new a({portalItem:i.clone(),layerId:r.id});if("sourceJSON"in s&&(s.sourceJSON=n),"subtype-group"!==s.type&&(s.sublayerTitleMode="service-name"),"Feature Collection"===i.type){const e={origin:"portal-item",portal:i.portal||l.Z.getDefault()};s.read(r,e);const a=t.showLegend;null!=a&&s.read({showLegend:a},e)}return s}async function L(e,a){if(!1===e.supportsData)return;const t=e.instance,r=t.portalItem;if(!r)return;let n=null;try{n=await r.fetchData("json",a)}catch(e){}if(function(e){return"stream"!==e.type&&"oriented-imagery"!==e.type&&"layerId"in e}(t)){let e=null,a=!0;if(n&&S(n)>0){if(null==t.layerId){const e=w(n);t.layerId="subtype-group"===t.type?e?.[0]:b(n)}e=function(e,a){const{layerId:t}=a,r=e.layers?.find((e=>e.id===t))||e.tables?.find((e=>e.id===t));return r&&function(e,a){return!("feature"===a.type&&"layerType"in e&&"SubtypeGroupLayer"===e.layerType||"subtype-group"===a.type&&!("layerType"in e))}(r,a)?r:null}(n,t),e&&(1===S(n)&&(a=!1),null!=n.showLegend&&(e.showLegend=n.showLegend))}return a&&"sublayerTitleMode"in t&&"service-name"!==t.sublayerTitleMode&&(t.sublayerTitleMode="item-title-and-service-name"),e}return n}async function h(e,a){if(null==e?.layers||null==e?.tables){const t=await(0,s.a)(a);(e=e||{}).layers=e.layers||t?.layers,e.tables=e.tables||t?.tables}return e}function b(e){const a=e.layers;if(a&&a.length)return a[0].id;const t=e.tables;return t&&t.length?t[0].id:null}function S(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function w(e){const a=[];return e?.layers?.forEach((e=>{"SubtypeGroupLayer"===e.layerType&&a.push(e.id)})),a}t(76506),t(48578),t(92143),t(31450),t(71552),t(40642),t(74569),t(91306),t(21801),t(34250),t(60474),t(66396),t(86656),t(17533),t(6540),t(73796),t(12047),t(21972),t(379),t(62062),t(19657),t(91055),t(6906),t(79456),t(50406),t(97714),t(60947),t(53785),t(57251),t(2906),t(91597),t(86787),t(35132),t(84069),t(44567),t(98380),t(92482),t(82426),t(72836),t(66106),t(29794),t(7200),t(92896),t(22781),t(32422),t(82058),t(88762),t(32101),t(75067),t(3296),t(81184),t(33101),t(38742),t(3482),t(67477),t(78533),t(74653),t(91091),t(58943),t(73173),t(74742),t(28239),t(1623),t(89914),t(65775),t(12381),t(92624),t(92847),t(41864)},67902:(e,a,t)=>{t.d(a,{l:()=>r});const r={BingMapsLayer:async()=>(await Promise.all([t.e(2758),t.e(7963)]).then(t.bind(t,37963))).default,BuildingSceneLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(8629),t.e(1577),t.e(4584),t.e(9632),t.e(9506),t.e(2311),t.e(1041),t.e(3439)]).then(t.bind(t,3439))).default,CSVLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(8629),t.e(1577),t.e(4584),t.e(9632),t.e(9506),t.e(4004)]).then(t.bind(t,44004))).default,DimensionLayer:async()=>(await Promise.all([t.e(3921),t.e(210)]).then(t.bind(t,90210))).default,ElevationLayer:async()=>(await Promise.all([t.e(5613),t.e(2204)]).then(t.bind(t,72204))).default,FeatureLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(8629),t.e(1577),t.e(4584),t.e(9632),t.e(9506),t.e(8750)]).then(t.bind(t,9506))).default,GeoJSONLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(8629),t.e(1577),t.e(4584),t.e(9039)]).then(t.bind(t,99039))).default,GeoRSSLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(2197)]).then(t.bind(t,92197))).default,GroupLayer:async()=>(await Promise.all([t.e(2758),t.e(9061)]).then(t.bind(t,59061))).default,ImageryLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(1292),t.e(9214),t.e(3864),t.e(6213),t.e(5023)]).then(t.bind(t,75023))).default,ImageryTileLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(3864),t.e(6213),t.e(1962),t.e(2552)]).then(t.bind(t,32552))).default,IntegratedMeshLayer:async()=>(await Promise.all([t.e(2311),t.e(156)]).then(t.bind(t,60156))).default,KMLLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1903)]).then(t.bind(t,21903))).default,LineOfSightLayer:async()=>(await t.e(6749).then(t.bind(t,16749))).default,LinkChartLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(8629),t.e(2274),t.e(3608),t.e(1392)]).then(t.bind(t,1392))).default,MapImageLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(4584),t.e(9214),t.e(9925),t.e(605)]).then(t.bind(t,60605))).default,MapNotesLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(8629),t.e(1577),t.e(4584),t.e(9632),t.e(9506),t.e(1135)]).then(t.bind(t,41135))).default,MediaLayer:async()=>(await Promise.all([t.e(2758),t.e(2090)]).then(t.bind(t,22090))).default,OGCFeatureLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(8629),t.e(1577),t.e(4584),t.e(3958)]).then(t.bind(t,63958))).default,OpenStreetMapLayer:async()=>(await Promise.all([t.e(2758),t.e(3799),t.e(6043)]).then(t.bind(t,16043))).default,OrientedImageryLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(8629),t.e(1577),t.e(4584),t.e(9632),t.e(9506),t.e(733)]).then(t.bind(t,80733))).default,PointCloudLayer:async()=>(await Promise.all([t.e(6748),t.e(2311),t.e(9151),t.e(5032)]).then(t.bind(t,25032))).default,RouteLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(9595)]).then(t.bind(t,39595))).default,SceneLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(8629),t.e(1577),t.e(4584),t.e(9632),t.e(9506),t.e(2311),t.e(1041),t.e(4580)]).then(t.bind(t,84580))).default,StreamLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(8629),t.e(1577),t.e(8324)]).then(t.bind(t,58324))).default,SubtypeGroupLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(4584),t.e(9632),t.e(9014),t.e(4363)]).then(t.bind(t,79014))).default,TileLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(4584),t.e(9214),t.e(5613),t.e(9925),t.e(611)]).then(t.bind(t,90611))).default,UnknownLayer:async()=>(await t.e(3117).then(t.bind(t,63117))).default,UnsupportedLayer:async()=>(await t.e(8243).then(t.bind(t,88243))).default,VectorTileLayer:async()=>(await Promise.all([t.e(2758),t.e(5613),t.e(2348),t.e(9878),t.e(6491)]).then(t.bind(t,46491))).default,VoxelLayer:async()=>(await Promise.all([t.e(6748),t.e(2311),t.e(3921),t.e(8528)]).then(t.bind(t,18528))).default,WFSLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(6970),t.e(4960),t.e(208),t.e(1292),t.e(2503),t.e(8629),t.e(1577),t.e(4797)]).then(t.bind(t,44797))).default,WMSLayer:async()=>(await Promise.all([t.e(2758),t.e(6467),t.e(6748),t.e(3561)]).then(t.bind(t,73561))).default,WMTSLayer:async()=>(await Promise.all([t.e(2758),t.e(3799),t.e(2790)]).then(t.bind(t,82790))).default,WebTileLayer:async()=>(await Promise.all([t.e(2758),t.e(3799)]).then(t.bind(t,3799)).then((e=>e.a))).default}},65775:(e,a,t)=>{t.d(a,{C:()=>y,D:()=>f,a:()=>d,b:()=>m,c:()=>l,d:()=>h,e:()=>L,f:()=>p,g:()=>u,i:()=>i,k:()=>S,l:()=>b,m:()=>o,n:()=>c,s:()=>n,t:()=>s});var r=t(29794);function n(e,a,t,r,n,i,s,l,o,c,u,y,p,d,f,m,L){return e[0]=a,e[1]=t,e[2]=r,e[3]=n,e[4]=i,e[5]=s,e[6]=l,e[7]=o,e[8]=c,e[9]=u,e[10]=y,e[11]=p,e[12]=d,e[13]=f,e[14]=m,e[15]=L,e}function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function s(e,a){if(e===a){const t=a[1],r=a[2],n=a[3],i=a[6],s=a[7],l=a[11];e[1]=a[4],e[2]=a[8],e[3]=a[12],e[4]=t,e[6]=a[9],e[7]=a[13],e[8]=r,e[9]=i,e[11]=a[14],e[12]=n,e[13]=s,e[14]=l}else e[0]=a[0],e[1]=a[4],e[2]=a[8],e[3]=a[12],e[4]=a[1],e[5]=a[5],e[6]=a[9],e[7]=a[13],e[8]=a[2],e[9]=a[6],e[10]=a[10],e[11]=a[14],e[12]=a[3],e[13]=a[7],e[14]=a[11],e[15]=a[15];return e}function l(e,a){const t=a[0],r=a[1],n=a[2],i=a[3],s=a[4],l=a[5],o=a[6],c=a[7],u=a[8],y=a[9],p=a[10],d=a[11],f=a[12],m=a[13],L=a[14],h=a[15],b=t*l-r*s,S=t*o-n*s,w=t*c-i*s,I=r*o-n*l,M=r*c-i*l,g=n*c-i*o,v=u*m-y*f,T=u*L-p*f,G=u*h-d*f,P=y*L-p*m,C=y*h-d*m,N=p*h-d*L;let A=b*N-S*C+w*P+I*G-M*T+g*v;return A?(A=1/A,e[0]=(l*N-o*C+c*P)*A,e[1]=(n*C-r*N-i*P)*A,e[2]=(m*g-L*M+h*I)*A,e[3]=(p*M-y*g-d*I)*A,e[4]=(o*G-s*N-c*T)*A,e[5]=(t*N-n*G+i*T)*A,e[6]=(L*w-f*g-h*S)*A,e[7]=(u*g-p*w+d*S)*A,e[8]=(s*C-l*G+c*v)*A,e[9]=(r*G-t*C-i*v)*A,e[10]=(f*M-m*w+h*b)*A,e[11]=(y*w-u*M-d*b)*A,e[12]=(l*T-s*P-o*v)*A,e[13]=(t*P-r*T+n*v)*A,e[14]=(m*S-f*I-L*b)*A,e[15]=(u*I-y*S+p*b)*A,e):null}function o(e,a,t){const r=a[0],n=a[1],i=a[2],s=a[3],l=a[4],o=a[5],c=a[6],u=a[7],y=a[8],p=a[9],d=a[10],f=a[11],m=a[12],L=a[13],h=a[14],b=a[15];let S=t[0],w=t[1],I=t[2],M=t[3];return e[0]=S*r+w*l+I*y+M*m,e[1]=S*n+w*o+I*p+M*L,e[2]=S*i+w*c+I*d+M*h,e[3]=S*s+w*u+I*f+M*b,S=t[4],w=t[5],I=t[6],M=t[7],e[4]=S*r+w*l+I*y+M*m,e[5]=S*n+w*o+I*p+M*L,e[6]=S*i+w*c+I*d+M*h,e[7]=S*s+w*u+I*f+M*b,S=t[8],w=t[9],I=t[10],M=t[11],e[8]=S*r+w*l+I*y+M*m,e[9]=S*n+w*o+I*p+M*L,e[10]=S*i+w*c+I*d+M*h,e[11]=S*s+w*u+I*f+M*b,S=t[12],w=t[13],I=t[14],M=t[15],e[12]=S*r+w*l+I*y+M*m,e[13]=S*n+w*o+I*p+M*L,e[14]=S*i+w*c+I*d+M*h,e[15]=S*s+w*u+I*f+M*b,e}function c(e,a,t){const r=t[0],n=t[1],i=t[2];if(a===e)e[12]=a[0]*r+a[4]*n+a[8]*i+a[12],e[13]=a[1]*r+a[5]*n+a[9]*i+a[13],e[14]=a[2]*r+a[6]*n+a[10]*i+a[14],e[15]=a[3]*r+a[7]*n+a[11]*i+a[15];else{const t=a[0],s=a[1],l=a[2],o=a[3],c=a[4],u=a[5],y=a[6],p=a[7],d=a[8],f=a[9],m=a[10],L=a[11];e[0]=t,e[1]=s,e[2]=l,e[3]=o,e[4]=c,e[5]=u,e[6]=y,e[7]=p,e[8]=d,e[9]=f,e[10]=m,e[11]=L,e[12]=t*r+c*n+d*i+a[12],e[13]=s*r+u*n+f*i+a[13],e[14]=l*r+y*n+m*i+a[14],e[15]=o*r+p*n+L*i+a[15]}return e}function u(e,a,t){const r=t[0],n=t[1],i=t[2];return e[0]=a[0]*r,e[1]=a[1]*r,e[2]=a[2]*r,e[3]=a[3]*r,e[4]=a[4]*n,e[5]=a[5]*n,e[6]=a[6]*n,e[7]=a[7]*n,e[8]=a[8]*i,e[9]=a[9]*i,e[10]=a[10]*i,e[11]=a[11]*i,e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15],e}function y(e,a,t,n){let i,s,l,o,c,u,y,p,d,f,m,L,h,b,S,w,I,M,g,v,T,G,P,C,N=n[0],A=n[1],O=n[2],F=Math.sqrt(N*N+A*A+O*O);return F<(0,r.g)()?null:(F=1/F,N*=F,A*=F,O*=F,i=Math.sin(t),s=Math.cos(t),l=1-s,o=a[0],c=a[1],u=a[2],y=a[3],p=a[4],d=a[5],f=a[6],m=a[7],L=a[8],h=a[9],b=a[10],S=a[11],w=N*N*l+s,I=A*N*l+O*i,M=O*N*l-A*i,g=N*A*l-O*i,v=A*A*l+s,T=O*A*l+N*i,G=N*O*l+A*i,P=A*O*l-N*i,C=O*O*l+s,e[0]=o*w+p*I+L*M,e[1]=c*w+d*I+h*M,e[2]=u*w+f*I+b*M,e[3]=y*w+m*I+S*M,e[4]=o*g+p*v+L*T,e[5]=c*g+d*v+h*T,e[6]=u*g+f*v+b*T,e[7]=y*g+m*v+S*T,e[8]=o*G+p*P+L*C,e[9]=c*G+d*P+h*C,e[10]=u*G+f*P+b*C,e[11]=y*G+m*P+S*C,a!==e&&(e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]),e)}function p(e,a){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=a[0],e[13]=a[1],e[14]=a[2],e[15]=1,e}function d(e,a,t){if(0===a)return i(e);let n,s,l,o=t[0],c=t[1],u=t[2],y=Math.sqrt(o*o+c*c+u*u);return y<(0,r.g)()?null:(y=1/y,o*=y,c*=y,u*=y,n=Math.sin(a),s=Math.cos(a),l=1-s,e[0]=o*o*l+s,e[1]=c*o*l+u*n,e[2]=u*o*l-c*n,e[3]=0,e[4]=o*c*l-u*n,e[5]=c*c*l+s,e[6]=u*c*l+o*n,e[7]=0,e[8]=o*u*l+c*n,e[9]=c*u*l-o*n,e[10]=u*u*l+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function f(e,a){const t=Math.sin(a),r=Math.cos(a);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(e,a,t,r){const n=a[0],i=a[1],s=a[2],l=a[3],o=n+n,c=i+i,u=s+s,y=n*o,p=n*c,d=n*u,f=i*c,m=i*u,L=s*u,h=l*o,b=l*c,S=l*u,w=r[0],I=r[1],M=r[2];return e[0]=(1-(f+L))*w,e[1]=(p+S)*w,e[2]=(d-b)*w,e[3]=0,e[4]=(p-S)*I,e[5]=(1-(y+L))*I,e[6]=(m+h)*I,e[7]=0,e[8]=(d+b)*M,e[9]=(m-h)*M,e[10]=(1-(y+f))*M,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function L(e,a){return e[0]===a[0]&&e[1]===a[1]&&e[2]===a[2]&&e[3]===a[3]&&e[4]===a[4]&&e[5]===a[5]&&e[6]===a[6]&&e[7]===a[7]&&e[8]===a[8]&&e[9]===a[9]&&e[10]===a[10]&&e[11]===a[11]&&e[12]===a[12]&&e[13]===a[13]&&e[14]===a[14]&&e[15]===a[15]}function h(e,a){if(e===a)return!0;const t=e[0],n=e[1],i=e[2],s=e[3],l=e[4],o=e[5],c=e[6],u=e[7],y=e[8],p=e[9],d=e[10],f=e[11],m=e[12],L=e[13],h=e[14],b=e[15],S=a[0],w=a[1],I=a[2],M=a[3],g=a[4],v=a[5],T=a[6],G=a[7],P=a[8],C=a[9],N=a[10],A=a[11],O=a[12],F=a[13],x=a[14],U=a[15],D=(0,r.g)();return Math.abs(t-S)<=D*Math.max(1,Math.abs(t),Math.abs(S))&&Math.abs(n-w)<=D*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(i-I)<=D*Math.max(1,Math.abs(i),Math.abs(I))&&Math.abs(s-M)<=D*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(l-g)<=D*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(o-v)<=D*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(c-T)<=D*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-G)<=D*Math.max(1,Math.abs(u),Math.abs(G))&&Math.abs(y-P)<=D*Math.max(1,Math.abs(y),Math.abs(P))&&Math.abs(p-C)<=D*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(d-N)<=D*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(f-A)<=D*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(m-O)<=D*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(L-F)<=D*Math.max(1,Math.abs(L),Math.abs(F))&&Math.abs(h-x)<=D*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(b-U)<=D*Math.max(1,Math.abs(b),Math.abs(U))}function b(e){const a=(0,r.g)(),t=e[0],n=e[1],i=e[2],s=e[4],l=e[5],o=e[6],c=e[8],u=e[9],y=e[10];return Math.abs(1-(t*t+s*s+c*c))<=a&&Math.abs(1-(n*n+l*l+u*u))<=a&&Math.abs(1-(i*i+o*o+y*y))<=a}function S(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[8]&&0===e[9]&&1===e[10]}},38742:(e,a,t)=>{t.d(a,{M:()=>f,a:()=>L,e:()=>p,f:()=>n,i:()=>u,p:()=>y,r:()=>s,t:()=>i,w:()=>l});var r=t(32101);function n(e,a){const t=a&&a.url&&a.url.path;if(e&&t&&(e=(0,r.hF)(e,t,{preserveProtocolRelative:!0}),a.portalItem&&a.readResourcePaths)){const t=(0,r.PF)(e,a.portalItem.itemUrl);null!=t&&c.test(t)&&a.readResourcePaths.push(a.portalItem.resourceFromPath(t).path)}return d(e,a&&a.portal)}function i(e,a,t=f.YES){if(null==e)return e;!(0,r.YP)(e)&&a&&a.blockedRelativeUrls&&a.blockedRelativeUrls.push(e);let n=(0,r.hF)(e);if(a){const t=a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.rootPath||a.url&&a.url.path;if(t){const i=d(t,a.portal),s=d(n,a.portal);n=(0,r.PF)(s,i,i),null!=n&&n!==s&&n!==e&&a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=p(n,a?.portal),(0,r.YP)(n)&&(n=(0,r.Fv)(n)),a?.resources&&a?.portalItem&&!(0,r.YP)(n)&&!(0,r.HK)(n)&&t===f.YES&&a.resources.toKeep.push({resource:a.portalItem.resourceFromPath(n),compress:!1}),n}function s(e,a,t){return n(e,t)}function l(e,a,t,r){const n=i(e,r);void 0!==n&&(a[t]=n)}const o=/\/items\/([^\/]+)\/resources\/(.*)/,c=/^\.\/resources\//;function u(e){const a=e?.match(o)??null;return a?.[1]??null}function y(e){const a=e?.match(o)??null;if(null==a)return null;const t=a[2],n=t.lastIndexOf("/");if(-1===n){const{path:e,extension:a}=(0,r.fZ)(t);return{prefix:null,filename:e,extension:a}}const{path:i,extension:s}=(0,r.fZ)(t.slice(n+1));return{prefix:t.slice(0,n),filename:i,extension:s}}function p(e,a){return a&&!a.isPortal&&a.urlKey&&a.customBaseUrl?(0,r.Ie)(e,`${a.urlKey}.${a.customBaseUrl}`,a.portalHostname):e}function d(e,a){if(!a||a.isPortal||!a.urlKey||!a.customBaseUrl)return e;const t=`${a.urlKey}.${a.customBaseUrl}`,n=(0,r.TI)();return(0,r.D6)(n,`${n.scheme}://${t}`)?(0,r.Ie)(e,a.portalHostname,t):(0,r.Ie)(e,t,a.portalHostname)}var f,m;(m=f||(f={}))[m.YES=0]="YES",m[m.NO=1]="NO";const L=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return f},ensureMainOnlineDomain:p,fromJSON:n,itemIdFromResourceUrl:u,prefixAndFilenameFromResourceUrl:y,read:s,toJSON:i,write:l},Symbol.toStringTag,{value:"Module"}))},60111:(e,a,t)=>{t.d(a,{T:()=>y,a:()=>s,b:()=>u,g:()=>p,h:()=>l,i:()=>o,r:()=>c});var r=t(1623),n=t(60947),i=t(35132);function s(e,a){if(!l(e,a)){const t=e.typeKeywords;t?t.push(a):e.typeKeywords=[a]}}function l(e,a){return!!e.typeKeywords?.includes(a)}function o(e){return l(e,y.HOSTED_SERVICE)}function c(e,a){const t=e.typeKeywords;if(t){const e=t.indexOf(a);e>-1&&t.splice(e,1)}}async function u(e){const a=e.clone().normalize();let t;if(a.length>1)for(const e of a)t?e.width>t.width&&(t=e):t=e;else t=a[0];return async function(e){const a=e.spatialReference;if(a.isWGS84)return e.clone();if(a.isWebMercator)return(0,i.Sx)(e);const t=n.Z.WGS84;return await(0,r.initializeProjection)(a,t),(0,r.iV)(e,t)}(t)}const y={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service"};function p(e){const{portal:a,isOrgItem:t,itemControl:r}=e,n=a.user?.privileges;let i=!n||n.includes("features:user:edit"),s=!!t&&!!n?.includes("features:user:fullEdit");const l="update"===r||"admin"===r;return l?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:l}}}},36458:(e,a,t)=>{t.d(a,{fromItem:()=>u,v:()=>y});var r=t(60991),n=t(51899),i=t(67902),s=t(56420),l=t(8642),o=t(60111),c=t(14830);async function u(e){!e.portalItem||e.portalItem instanceof s.default||(e={...e,portalItem:new s.default(e.portalItem)});const a=await async function(e){return await e.load(),async function(e){const a=e.className,t=i.l[a];return{constructor:await t(),properties:e.properties}}(await y(e))}(e.portalItem);return new(0,a.constructor)({portalItem:e.portalItem,...a.properties})}async function y(e){switch(e.type){case"Map Service":return async function(e){const a=await async function(e){return(await(0,c.a)(e.url)).tileInfo}(e);return a?{className:"TileLayer"}:{className:"MapImageLayer"}}(e);case"Feature Service":return async function(e){if((0,o.h)(e,"Oriented Imagery Layer"))return async function(e){return await e.load(),{className:"OrientedImageryLayer",properties:await e.fetchData()}}(e);const a=await p(e);if("object"==typeof a){const e={};return null!=a.id&&(e.layerId=a.id),{className:a.className||"FeatureLayer",properties:e}}return{className:"GroupLayer"}}(e);case"Feature Collection":return async function(e){await e.load();const a=(0,o.h)(e,"Map Notes"),t=(0,o.h)(e,"Markup");if(a||t)return{className:"MapNotesLayer"};if((0,o.h)(e,"Route Layer"))return{className:"RouteLayer"};const r=await e.fetchData();return 1===(0,l.Q4)(r)?{className:"FeatureLayer"}:{className:"GroupLayer"}}(e);case"Scene Service":return async function(e){const a=await p(e);if("object"==typeof a){const t={};let r;if(null!=a.id?(t.layerId=a.id,r=`${e.url}/layers/${a.id}`):r=e.url,e.typeKeywords?.length)for(const a of Object.keys(n.t))if(e.typeKeywords.includes(a))return{className:n.t[a]};const i=await(0,c.a)(r);return{className:n.t[i?.layerType]||"SceneLayer",properties:t}}if(!1===a){const a=await(0,c.a)(e.url);return"Voxel"===a?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}return{className:"GroupLayer"}}(e);case"Image Service":return async function(e){await e.load();const a=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(a.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(a.includes("tiled imagery"))return{className:"ImageryTileLayer"};const t=await e.fetchData(),r=t?.layerType;if("ArcGISTiledImageServiceLayer"===r)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===r)return{className:"ImageryLayer"};const n=await(0,c.a)(e.url),i=n.cacheType?.toLowerCase(),s=n.capabilities?.toLowerCase().includes("tilesonly");return"map"===i||s?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}(e);case"Stream Service":case"Feed":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"GeoJson":return{className:"GeoJSONLayer"};case"CSV":return{className:"CSVLayer"};case"KML":return{className:"KMLLayer"};case"WFS":return{className:"WFSLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:throw new r.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type})}}async function p(e){const a=e.url;if(!a||/\/\d+$/.test(a))return{};await e.load();const t=await e.fetchData();if("Feature Service"===e.type){const e=d(await(0,l.$O)(t,a));if("object"==typeof e){const a=(0,l.XX)(t);e.className=null!=e.id&&a.includes(e.id)?"SubtypeGroupLayer":"FeatureLayer"}return e}return(0,l.Q4)(t)>0?d(t):d(await(0,c.a)(a))}function d(e){return 1===(0,l.Q4)(e)&&{id:(0,l.Ok)(e)}}t(76506),t(48578),t(92143),t(31450),t(71552),t(40642),t(88762),t(32101),t(82058),t(50406),t(73173),t(12047),t(21972),t(17533),t(86656),t(66396),t(6540),t(91306),t(60474),t(379),t(62062),t(34250),t(19657),t(91055),t(6906),t(79456),t(81184),t(33101),t(97714),t(21801),t(73796),t(60947),t(53785),t(57251),t(2906),t(91597),t(86787),t(35132),t(49900),t(3482),t(67477),t(78533),t(74653),t(91091),t(58943),t(74742),t(28239),t(41617),t(74569),t(84069),t(44567),t(98380),t(92482),t(82426),t(72836),t(66106),t(29794),t(7200),t(92896),t(22781),t(32422),t(75067),t(3296),t(21132),t(38742),t(69586),t(68714),t(41864),t(1623),t(89914),t(65775),t(12381),t(92624),t(92847)},68714:(e,a,t)=>{t.d(a,{l:()=>s});var r=t(41864),n=t(50406),i=t(17533);async function s(e,a,t){const s=e&&e.getAtOrigin&&e.getAtOrigin("renderer",a.origin);if(s&&"unique-value"===s.type&&s.styleOrigin){const l=await(0,r.r)(s.populateFromStyle());if((0,n.k_)(t),!1===l.ok){const t=l.error;a&&a.messages&&a.messages.push(new i.W("renderer:style-reference",`Failed to create unique value renderer from style reference: ${t.message}`,{error:t,context:a})),e.clear("renderer",a?.origin)}}}},3296:(e,a,t)=>{t.d(a,{IG:()=>s,iv:()=>l});var r=t(29768),n=t(17533);t(48578),t(86656),t(76506),t(66396),t(6540),t(92143),t(31450),t(71552),t(40642),t(91306),t(60991);let i=0;const s=e=>{let a=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+i++})}};return a=(0,r._)([(0,n.j)("esri.core.Identifiable")],a),a},l=e=>{let a=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:i++})}};return a=(0,r._)([(0,n.j)("esri.core.NumericIdentifiable")],a),a};let o=class extends(s(class{})){};o=(0,r._)([(0,n.j)("esri.core.Identifiable")],o)},41617:(e,a,t)=>{t.d(a,{Z:()=>S});var r=t(29768),n=(t(74569),t(82058)),i=t(60991),s=t(75067),l=t(3296),o=t(81184),c=t(92143),u=t(50406),y=t(32101),p=t(34250),d=(t(91306),t(48578),t(17533)),f=t(31450),m=t(21801),L=t(60947);t(73796),t(12047),t(21972),t(60474),t(66396),t(76506),t(86656),t(379),t(62062),t(6540),t(19657),t(91055),t(6906),t(79456),t(71552),t(40642),t(97714),t(84069),t(2906),t(91597),t(86787),t(53785),t(57251),t(35132),t(44567),t(98380),t(92482),t(82426),t(72836),t(66106),t(29794),t(7200),t(92896),t(22781),t(32422),t(88762),t(33101);let h=0,b=class extends(s.Z.EventedMixin((0,l.IG)(o.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new m.Z(-180,-90,180,90,L.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+h++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=L.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const a="string"==typeof e?{url:e}:e;return(await t.e(6601).then(t.bind(t,66601))).fromUrl(a)}static fromPortalItem(e){return async function(e){const a="portalItem"in e?e:{portalItem:e},{fromItem:r}=await t.e(6458).then(t.bind(t,36458));try{return await r(a)}catch(e){const t=a&&a.portalItem,r=t&&t.id||"unset",n=t&&t.portal&&t.portal.url||f.default.portalUrl;throw c.L.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+n+"', id: '"+r+"')",e),e}}(e)}initialize(){this.when().catch((e=>{(0,u.D_)(e)||c.L.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){if(this.parent){const e=this,a=this.parent;"layers"in a&&a.layers.includes(e)?a.layers.remove(e):"tables"in a&&a.tables.includes(e)?a.tables.remove(e):"baseLayers"in a&&a.baseLayers.includes(e)?a.baseLayers.remove(e):"baseLayers"in a&&a.referenceLayers.includes(e)&&a.referenceLayers.remove(e)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,y.mN)(this.url)}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await(0,n.default)(e,{query:{f:"json"},responseType:"json"})).data;throw new i.Z("layer:no-attribution-data","Layer does not have attribution data")}};(0,r._)([(0,p.Cb)({type:String})],b.prototype,"attributionDataUrl",void 0),(0,r._)([(0,p.Cb)({type:m.Z})],b.prototype,"fullExtent",void 0),(0,r._)([(0,p.Cb)({readOnly:!0})],b.prototype,"hasAttributionData",null),(0,r._)([(0,p.Cb)({type:String,clonable:!1})],b.prototype,"id",void 0),(0,r._)([(0,p.Cb)({type:Boolean,nonNullable:!0})],b.prototype,"legendEnabled",void 0),(0,r._)([(0,p.Cb)({type:["show","hide","hide-children"]})],b.prototype,"listMode",void 0),(0,r._)([(0,p.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],b.prototype,"opacity",void 0),(0,r._)([(0,p.Cb)({clonable:!1})],b.prototype,"parent",void 0),(0,r._)([(0,p.Cb)({readOnly:!0})],b.prototype,"parsedUrl",null),(0,r._)([(0,p.Cb)({type:Boolean})],b.prototype,"popupEnabled",void 0),(0,r._)([(0,p.Cb)({type:Boolean})],b.prototype,"attributionVisible",void 0),(0,r._)([(0,p.Cb)({type:L.Z})],b.prototype,"spatialReference",void 0),(0,r._)([(0,p.Cb)({type:String})],b.prototype,"title",void 0),(0,r._)([(0,p.Cb)({readOnly:!0,json:{read:!1}})],b.prototype,"type",void 0),(0,r._)([(0,p.Cb)()],b.prototype,"url",void 0),(0,r._)([(0,p.Cb)({type:Boolean,nonNullable:!0})],b.prototype,"visible",void 0),b=(0,r._)([(0,d.j)("esri.layers.Layer")],b);const S=b}}]);