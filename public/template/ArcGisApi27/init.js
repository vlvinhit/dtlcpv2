// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.27/esri/copyright.txt for details.
if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&(window.dojoConfig||(window.dojoConfig={}),!window.dojoConfig.hasOwnProperty("baseUrl"))){const o=window.document.currentScript.src;let d;d=o.endsWith("/init.js")?o.slice(0,o.lastIndexOf("/"))+"/dojo":o.endsWith("/dojo/dojo.js")?o.slice(0,o.lastIndexOf("/")):o+(o.endsWith("/")?"dojo":"/dojo"),window.dojoConfig.baseUrl=d}
//>>built
(function(a,b){var c,f,g,q=function(){return"undefined"!==typeof x&&"function"!==typeof x?x:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),u=function(){},p=function(aa){for(var Ca in aa)return 0;return 1},t={}.toString,k=function(aa){return"[object Function]"==t.call(aa)},m=function(aa){return"[object String]"==t.call(aa)},e=function(aa){return"[object Array]"==t.call(aa)},d=function(aa,Ca){if(aa)for(var Oa=0;Oa<aa.length;)Ca(aa[Oa++])},l=function(aa,Ca){for(var Oa in Ca)aa[Oa]=
Ca[Oa];return aa},n=function(aa,Ca){return l(Error(aa),{src:"dojoLoader",info:Ca})},h=1,r=function(){return"_"+h++},z=function(aa,Ca,Oa){return ja(aa,Ca,Oa,0,z)},x=q,w=x.document,v=w&&w.createElement("DiV"),A=z.has=function(aa){return k(B[aa])?B[aa]=B[aa](x,w,v):B[aa]},B=A.cache=b.hasCache;k(a)&&(a=a(q));A.add=function(aa,Ca,Oa,Sa){(void 0===B[aa]||Sa)&&(B[aa]=Ca);return Oa&&A(aa)};A.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);A("host-webworker")&&
(l(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(aa,Ca){try{importScripts(aa),Ca()}catch(Oa){console.info("failed to load resource ("+aa+")"),console.error(Oa)}}});for(var C in a.has)A.add(C,a.has[C],0,1);var D=0,y=[],G=0,F=u,K=u;z.isXdUrl=u;z.initSyncLoader=function(aa,Ca,Oa){G||(G=aa,F=Ca,K=Oa);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,
syncExecStack:y,modules:ta,execQ:T,getModule:Pa,injectModule:gb,setArrived:da,signal:V,finishExec:qb,execModule:Ab,dojoRequirePlugin:G,getLegacyMode:function(){return D},guardCheckComplete:Hb}};if(A("dom")||A("host-webworker")){var M=location.protocol,O=location.host;z.isXdUrl=function(aa){return/^\./.test(aa)?!1:/^\/\//.test(aa)?!0:(aa=aa.match(/^([^\/:]+:)\/+([^\/]+)/))&&(aa[1]!=M||O&&aa[2]!=O)};A.add("dojo-force-activex-xhr",A("host-browser")&&!w.addEventListener&&"file:"==window.location.protocol);
if(A("dojo-force-activex-xhr")){var H=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(g=0;3>g;)try{var J=H[g++];new ActiveXObject(J);break}catch(aa){}var L=function(){return new ActiveXObject(J)}}else L=function(){return new XMLHttpRequest};z.getXhr=L;A.add("dojo-gettext-api",1);z.getText=function(aa,Ca,Oa){var Sa=L();Sa.open("GET",Bb(aa),!1);Sa.send(null);if(200==Sa.status||!location.host&&!Sa.status)Oa&&Oa(Sa.responseText,Ca);else throw n("xhrFailed",Sa.status);return Sa.responseText}}z.eval=
function(aa,Ca){};var N={},V=z.signal=function(aa,Ca){aa=N[aa];d(aa&&aa.slice(0),function(Oa){Oa.apply(null,e(Ca)?Ca:[Ca])})},X=z.on=function(aa,Ca){var Oa=N[aa]||(N[aa]=[]);Oa.push(Ca);return{remove:function(){for(var Sa=0;Sa<Oa.length;Sa++)if(Oa[Sa]===Ca){Oa.splice(Sa,1);break}}}},U=[],P={},fa=[],Ba={},Aa=z.map={},ma=[],ta={},ba="",ka={},Fa={},Na={},Qa=0;if(!A("foreign-loader"))var I=function(aa,Ca){Ca=!1!==Ca;var Oa,Sa;for(Oa in Fa){var bb=Fa[Oa];if(Sa=Oa.match(/^url:(.+)/))ka["url:"+Ra(Sa[1],
aa)]=bb;else if("*now"==Oa)var eb=bb;else"*noref"!=Oa&&(Sa=Da(Oa,aa,!0),ka[Sa.mid]=ka["url:"+Sa.url]=bb)}eb&&eb(sa(aa));Ca&&(Fa={})};var S=function(aa){return aa.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(Ca){return"\\"+Ca})},qa=function(aa,Ca){Ca.splice(0,Ca.length);for(var Oa in aa)Ca.push([Oa,aa[Oa],new RegExp("^"+S(Oa)+"(/|$)"),Oa.length]);Ca.sort(function(Sa,bb){return bb[3]-Sa[3]});return Ca},W=function(aa,Ca){d(aa,function(Oa){Ca.push([m(Oa[0])?new RegExp("^"+S(Oa[0])+"$"):Oa[0],Oa[1]])})},
pa=function(aa){var Ca=aa.name;Ca||(Ca=aa,aa={name:Ca});aa=l({main:"main"},aa);aa.location=aa.location?aa.location:Ca;aa.packageMap&&(Aa[Ca]=aa.packageMap);aa.main.indexOf("./")||(aa.main=aa.main.substring(2));Ba[Ca]=aa},R=[],Y=function(aa,Ca,Oa){for(var Sa in aa){"waitSeconds"==Sa&&(z.waitms=1E3*(aa[Sa]||0));"cacheBust"==Sa&&(ba=aa[Sa]?m(aa[Sa])?aa[Sa]:(new Date).getTime()+"":"");if("baseUrl"==Sa||"combo"==Sa)z[Sa]=aa[Sa];if("async"==Sa){var bb=aa[Sa];z.legacyMode=D=m(bb)&&/sync|legacyAsync/.test(bb)?
bb:bb?!1:"sync";z.async=!D}aa[Sa]!==B&&(z.rawConfig[Sa]=aa[Sa],"has"!=Sa&&A.add("config-"+Sa,aa[Sa],0,Ca))}z.baseUrl||(z.baseUrl="./");/\/$/.test(z.baseUrl)||(z.baseUrl+="/");for(Sa in aa.has)A.add(Sa,aa.has[Sa],0,Ca);d(aa.packages,pa);for(var eb in aa.packagePaths)d(aa.packagePaths[eb],function(ib){var yb=eb+"/"+ib;m(ib)&&(ib={name:ib});ib.location=yb;pa(ib)});qa(l(Aa,aa.map),ma);d(ma,function(ib){ib[1]=qa(ib[1],[]);"*"==ib[0]&&(ma.star=ib)});qa(l(P,aa.paths),fa);W(aa.aliases,U);if(!A("foreign-loader")){if(Ca)R.push({config:aa.config});
else for(Sa in aa.config)Ca=Pa(Sa,Oa),Ca.config=l(Ca.config||{},aa.config[Sa]);aa.cache&&(I(),Fa=aa.cache,I(0,!!aa.cache["*noref"]))}V("config",[aa,z.rawConfig])};z.rawConfig={};Y(b,1);Y(a,1);Y(Na,1);if(!A("foreign-loader"))var la=function(aa){Hb(function(){d(aa.deps,gb)})},ja=function(aa,Ca,Oa,Sa,bb){var eb;if(m(aa)){if((eb=Pa(aa,Sa,!0))&&eb.executed)return eb.result;throw n("undefinedModule",aa);}e(aa)||(Y(aa,0,Sa),aa=Ca,Ca=Oa);if(e(aa))if(aa.length){Oa="require*"+r();for(var ib,yb=[],Mb=0;Mb<aa.length;)ib=
aa[Mb++],yb.push(Pa(ib,Sa));eb=l(Z("",Oa,0,""),{injected:2,deps:yb,def:Ca||u,require:Sa?Sa.require:z,gc:1});ta[eb.mid]=eb;la(eb);var Qb=Cb&&"sync"!=D;Hb(function(){Ab(eb,Qb)});eb.executed||T.push(eb);ub()}else Ca&&Ca();return bb},sa=function(aa){if(!aa)return z;var Ca=aa.require;Ca||(Ca=function(Oa,Sa,bb){return ja(Oa,Sa,bb,aa,Ca)},aa.require=l(Ca,z),Ca.module=aa,Ca.toUrl=function(Oa){return Ra(Oa,aa)},Ca.toAbsMid=function(Oa){return Ua(Oa,aa)},Ca.syncLoadNls=function(Oa){Oa=Da(Oa,aa);var Sa=ta[Oa.mid];
if(!Sa||!Sa.executed)if(rb=ka[Oa.mid]||ka["url:"+Oa.url])xb(rb),Sa=ta[Oa.mid];return Sa&&Sa.executed&&Sa.result});return Ca},T=[],ha=[],ua={},Ea=function(aa){aa.injected=1;ua[aa.mid]=1;aa.url&&(ua[aa.url]=aa.pack||1);oa()},da=function(aa){aa.injected=2;delete ua[aa.mid];aa.url&&delete ua[aa.url];p(ua)&&(ca(),"xd"==D&&(D="sync"))},ra=z.idle=function(){return!ha.length&&p(ua)&&!T.length&&!Cb};var wa=function(aa,Ca){if(Ca)for(var Oa=0;Oa<Ca.length;Oa++)if(Ca[Oa][2].test(aa))return Ca[Oa];return 0},Ma=
function(aa){var Ca=[];for(aa=aa.replace(/\\/g,"/").split("/");aa.length;){var Oa=aa.shift();if(".."==Oa&&Ca.length&&".."!=Sa){Ca.pop();var Sa=Ca[Ca.length-1]}else"."!=Oa&&Ca.push(Sa=Oa)}return Ca.join("/")},Z=function(aa,Ca,Oa,Sa){var bb=z.isXdUrl(Sa);return{pid:aa,mid:Ca,pack:Oa,url:Sa,executed:0,def:0,isXd:bb,isAmd:!!(bb||Ba[aa]&&Ba[aa].isAmd)}},ia=function(aa,Ca,Oa,Sa,bb,eb,ib,yb,Mb,Qb){var Kb,Vb,Gb;var Rb=/^\./.test(aa);if(/(^\/)|(:)|(\.js$)/.test(aa)||Rb&&!Ca)return Z(0,aa,0,aa);aa=Ma(Rb?Ca.mid+
"/../"+aa:aa);if(/^\./.test(aa))throw n("irrationalPath",aa);Qb||Rb||!eb.star||(Gb=wa(aa,eb.star[1]));!Gb&&Ca&&(Gb=(Gb=wa(Ca.mid,eb))&&wa(aa,Gb[1]));Gb&&(aa=Gb[1]+aa.substring(Gb[3]));Ca=(c=aa.match(/^([^\/]+)(\/(.+))?$/))?c[1]:"";(Kb=Oa[Ca])?aa=Ca+"/"+(Vb=c[3]||Kb.main):Ca="";var Sb=0;d(yb,function(Nb){var Wb=aa.match(Nb[0]);Wb&&0<Wb.length&&(Sb=k(Nb[1])?aa.replace(Nb[0],Nb[1]):Nb[1])});if(Sb)return ia(Sb,0,Oa,Sa,bb,eb,ib,yb,Mb);if(Oa=Sa[aa])return Mb?Z(Oa.pid,Oa.mid,Oa.pack,Oa.url):Sa[aa];Sa=(Gb=
wa(aa,ib))?Gb[1]+aa.substring(Gb[3]):Ca?("/"===Kb.location.slice(-1)?Kb.location.slice(0,-1):Kb.location)+"/"+Vb:aa;/(^\/)|(:)/.test(Sa)||(Sa=bb+Sa);return Z(Ca,aa,Kb,Ma(Sa+".js"))},Da=function(aa,Ca,Oa){return ia(aa,Ca,Ba,ta,z.baseUrl,ma,fa,U,void 0,Oa)};if(!A("foreign-loader"))var ya=function(aa,Ca,Oa){return aa.normalize?aa.normalize(Ca,function(Sa){return Ua(Sa,Oa)}):Ua(Ca,Oa)},Ka=0,Pa=function(aa,Ca,Oa){var Sa;if(Sa=aa.match(/^(.+?)!(.*)$/)){var bb=Pa(Sa[1],Ca,Oa);"sync"!=D||bb.executed||(gb(bb),
2!==bb.injected||bb.executed||Hb(function(){Ab(bb)}),bb.executed?pb(bb):T.unshift(bb));5!==bb.executed||bb.load||pb(bb);bb.load?(Sa=ya(bb,Sa[2],Ca),aa=bb.mid+"!"+(bb.dynamic?++Ka+"!":"")+Sa):(Sa=Sa[2],aa=bb.mid+"!"+ ++Ka+"!waitingForPlugin");aa={plugin:bb,mid:aa,req:sa(Ca),prid:Sa}}else aa=Da(aa,Ca);return ta[aa.mid]||!Oa&&(ta[aa.mid]=aa)};var Ua=z.toAbsMid=function(aa,Ca){return Da(aa,Ca).mid},Ra=z.toUrl=function(aa,Ca){Ca=Da(aa+"/x",Ca);var Oa=Ca.url;return Bb(0===Ca.pid?aa:Oa.substring(0,Oa.length-
5))};if(!A("foreign-loader"))var Xa={injected:2,executed:5,def:3,result:3},Ta=function(aa){return ta[aa]=l({mid:aa},Xa)},za=Ta("require"),Ha=Ta("exports"),ab=Ta("module"),cb={},xa=0,pb=function(aa){var Ca=aa.result;aa.dynamic=Ca.dynamic;aa.normalize=Ca.normalize;aa.load=Ca.load;return aa},tb=function(aa){var Ca={};d(aa.loadQ,function(bb){var eb=ya(aa,bb.prid,bb.req.module),ib=aa.dynamic?bb.mid.replace(/waitingForPlugin$/,eb):aa.mid+"!"+eb;eb=l(l({},bb),{mid:ib,prid:eb,injected:0});ta[ib]&&ta[ib].injected||
nb(ta[ib]=eb);Ca[bb.mid]=ta[ib];da(bb);delete ta[bb.mid]});aa.loadQ=0;var Oa=function(bb){for(var eb=bb.deps||[],ib=0;ib<eb.length;ib++)(bb=Ca[eb[ib].mid])&&(eb[ib]=bb)},Sa;for(Sa in ta)Oa(ta[Sa]);d(T,Oa)},qb=function(aa){z.trace("loader-finish-exec",[aa.mid]);aa.executed=5;aa.defOrder=xa++;d(aa.provides,function(Ca){Ca()});aa.loadQ&&(pb(aa),tb(aa));for(g=0;g<T.length;)T[g]===aa?T.splice(g,1):g++;/^require\*/.test(aa.mid)&&delete ta[aa.mid]},Ib=[],Ab=function(aa,Ca){if(4===aa.executed)return z.trace("loader-circular-dependency",
[Ib.concat(aa.mid).join("-\x3e")]),!aa.def||Ca?cb:aa.cjs&&aa.cjs.exports;if(!aa.executed){if(!aa.def)return cb;var Oa=aa.mid,Sa=aa.deps||[],bb,eb=[],ib=0;for(aa.executed=4;bb=Sa[ib++];){bb=bb===za?sa(aa):bb===Ha?aa.cjs.exports:bb===ab?aa.cjs:Ab(bb,Ca);if(bb===cb)return aa.executed=0,z.trace("loader-exec-module",["abort",Oa]),cb;eb.push(bb)}z.trace("loader-run-factory",[aa.mid]);Ca=aa.def;y.unshift(aa);eb=k(Ca)?Ca.apply(null,eb):Ca;aa.result=void 0===eb&&aa.cjs?aa.cjs.exports:eb;y.shift(aa);qb(aa)}return aa.result},
Cb=0,Hb=function(aa){try{Cb++,aa()}catch(Ca){throw Ca;}finally{Cb--}ra()&&V("idle",[])},ub=function(){Cb||Hb(function(){F();for(var aa,Ca,Oa=0;Oa<T.length;)aa=xa,Ca=T[Oa],Ab(Ca),aa!=xa?(F(),Oa=0):Oa++})};var Bb="function"==typeof a.fixupUrl?a.fixupUrl:function(aa){aa+="";return aa+(ba?(/\?/.test(aa)?"\x26":"?")+ba:"")};void 0===A("dojo-loader-eval-hint-url")&&A.add("dojo-loader-eval-hint-url",1);var nb=function(aa){var Ca=aa.plugin;5!==Ca.executed||Ca.load||pb(Ca);var Oa=function(Sa){aa.result=Sa;
da(aa);qb(aa);ub()};Ca.load?Ca.load(aa.prid,aa.req,Oa):Ca.loadQ?Ca.loadQ.push(aa):(Ca.loadQ=[aa],T.unshift(Ca),gb(Ca))},rb=0,xb=function(aa,Ca){A("config-stripStrict")&&(aa=aa.replace(/(["'])use strict\1/g,""));aa===rb?rb.call(null):z.eval(aa,A("dojo-loader-eval-hint-url")?Ca.url:Ca.mid)},gb=function(aa){var Ca=aa.mid,Oa=aa.url;if(!(aa.executed||aa.injected||ua[Ca]||aa.url&&(aa.pack&&ua[aa.url]===aa.pack||1==ua[aa.url])))if(Ea(aa),aa.plugin)nb(aa);else{var Sa=function(){na(aa);if(2!==aa.injected){if(A("dojo-enforceDefine")){V("error",
n("noDefine",aa));return}da(aa);l(aa,Xa);z.trace("loader-define-nonmodule",[aa.url])}D?!y.length&&ub():ub()};if(rb=ka[Ca]||ka["url:"+aa.url])z.trace("loader-inject",["cache",aa.mid,Oa]),xb(rb,aa),Sa();else{if(D)if(aa.isXd)"sync"==D&&(D="xd");else if(!aa.isAmd||"sync"==D){z.trace("loader-inject",["xhr",aa.mid,Oa,"sync"!=D]);z.getText(Oa,"sync"!=D,function(bb){if("sync"==D){y.unshift(aa);xb(bb,aa);y.shift();na(aa);aa.cjs||(da(aa),qb(aa));if(aa.finish){bb=Ca+"*finish";var eb=aa.finish;delete aa.finish;
Va(bb,["dojo",("dojo/require!"+eb.join(",")).replace(/\./g,"/")],function(ib){d(eb,function(yb){ib.require(yb)})});T.unshift(Pa(bb))}Sa()}else(bb=K(aa,bb))?(xb(bb,aa),Sa()):z.injectUrl(Bb(Oa),Sa,aa)});return}z.trace("loader-inject",["script",aa.mid,Oa]);z.injectUrl(Bb(Oa),Sa,aa)}}},zb=function(aa,Ca,Oa){z.trace("loader-define-module",[aa.mid,Ca]);var Sa=aa.mid;if(2===aa.injected)return V("error",n("multipleDefine",aa)),aa;l(aa,{deps:Ca,def:Oa,cjs:{id:aa.mid,uri:aa.url,exports:aa.result={},setExports:function(eb){aa.cjs.exports=
eb},config:function(){return aa.config}}});for(var bb=0;Ca[bb];bb++)Ca[bb]=Pa(Ca[bb],aa);D&&!ua[Sa]&&(la(aa),T.push(aa),ub());da(aa);k(Oa)||Ca.length||(aa.result=Oa,qb(aa));return aa},na=function(aa,Ca){for(var Oa=[],Sa,bb;ha.length;)bb=ha.shift(),Ca&&(bb[0]=Ca.shift()),Sa=bb[0]&&Pa(bb[0])||aa,Oa.push([Sa,bb[1],bb[2]]);I(aa);d(Oa,function(eb){la(zb.apply(null,eb))})},ca=u,oa=u;A("dom");if(A("dom")){var Ia=function(aa,Ca,Oa,Sa){aa.addEventListener(Ca,Sa,!1);return function(){aa.removeEventListener(Ca,
Sa,!1)}},Za=Ia(window,"load","onload",function(){z.pageLoaded=1;try{"complete"!=w.readyState&&(w.readyState="complete")}catch(aa){}Za()});var $a=w.getElementsByTagName("script");for(g=0;!Qa;)/^dojo/.test((f=$a[g++])&&f.type)||(Qa=f);z.injectUrl=function(aa,Ca,Oa){Oa=Oa.node=w.createElement("script");var Sa=Ia(Oa,"load","onreadystatechange",function(eb){eb=eb||window.event;var ib=eb.target||eb.srcElement;if("load"===eb.type||/complete|loaded/.test(ib.readyState))Sa(),bb(),Ca&&Ca()}),bb=Ia(Oa,"error",
"onerror",function(eb){Sa();bb();V("error",n("scriptError: "+aa,[aa,eb]))});Oa.type="text/javascript";Oa.charset="utf-8";Oa.src=aa;Qa.parentNode.insertBefore(Oa,Qa);return Oa}}z.log=u;z.trace=u;if(A("foreign-loader"))Va=u;else{var Va=function(aa,Ca,Oa){var Sa=arguments.length,bb=["require","exports","module"],eb=[0,aa,Ca];1==Sa?eb=[0,k(aa)?bb:[],aa]:2==Sa&&m(aa)?eb=[aa,k(Ca)?bb:[],Ca]:3==Sa&&(eb=[aa,Ca,Oa]);z.trace("loader-define",eb.slice(0,2));(Sa=eb[0]&&Pa(eb[0]))&&!ua[Sa.mid]?la(zb(Sa,eb[1],eb[2])):
ha.push(eb)};Va.amd={vendor:"dojotoolkit.org"}}l(l(z,b.loaderPatch),a.loaderPatch);X("error",function(aa){try{if(console.error(aa),aa instanceof Error){for(var Ca in aa)console.log(Ca+":",aa[Ca]);console.log(".")}}catch(Oa){}});l(z,{uid:r,cache:ka,packs:Ba});if(!x.define&&(x.define=Va,x.require=z,!A("foreign-loader"))){d(R,function(aa){Y(aa)});var Ya=Na.deps||a.deps||b.deps,Ja=Na.callback||a.callback||b.callback;z.boot=Ya||Ja?[Ya||[],Ja]:0}})(function(a){return a.dojoConfig||a.djConfig||a.require||
{}},{async:1,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/Map":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,
b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z){g=function(x){function w(A){var B=x.call(this,A)||this;B.allLayers=new q({getCollections:()=>[B.basemap?.baseLayers,B.ground?.layers,B.layers,B.basemap?.referenceLayers],getChildrenFunction:C=>"layers"in C?C.layers:null});B.allTables=n.createFlattenedTablesCollection(a._assertThisInitialized(B));B.basemap=null;B.editableLayers=new q({getCollections:()=>[B.allLayers],itemFilterFunction:d.isEditableLayer});B.ground=new f;B._basemapCache=l.createCache();return B}a._inherits(w,
x);var v=w.prototype;v.destroy=function(){this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();this.ground?.destroy();this.basemap?.destroy();l.destroyCache(this._basemapCache);this._basemapCache=null};v.castBasemap=function(A){return l.ensureType(A,this._basemapCache)};v.castGround=function(A){A=h.ensureType(A);return null==A?this._get("ground"):A};v.findLayerById=function(A){return this.allLayers.find(B=>B.id===A)};v.findTableById=function(A){return this.allTables.find(B=>
B.id===A)};return a._createClass(w)}(z.TablesMixin(r.LayersMixin(u.EventedMixin(g))));b.__decorate([p.property({readOnly:!0,dependsOn:[]})],g.prototype,"allLayers",void 0);b.__decorate([p.property({readOnly:!0})],g.prototype,"allTables",void 0);b.__decorate([p.property({type:c})],g.prototype,"basemap",void 0);b.__decorate([t.cast("basemap")],g.prototype,"castBasemap",null);b.__decorate([p.property({readOnly:!0})],g.prototype,"editableLayers",void 0);b.__decorate([p.property({type:f,nonNullable:!0})],
g.prototype,"ground",void 0);b.__decorate([t.cast("ground")],g.prototype,"castGround",null);return g=b.__decorate([e.subclass("esri.Map")],g)})},"esri/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],function(a){function b(k,m){for(var e=0;e<m.length;e++){var d=m[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);var l=Object,n=l.defineProperty;a:{var h=d.key;if("object"===typeof h&&null!==h){var r=h[Symbol.toPrimitive];if(void 0!==r){h=r.call(h,"string");
if("object"!==typeof h)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}h=String(h)}}n.call(l,k,"symbol"===typeof h?h:String(h),d)}}function c(k){c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)};return c(k)}function f(k,m){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,d){e.__proto__=d;return e};return f(k,m)}function g(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;
if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(k){return!1}}function q(k,m,e){q=g()?Reflect.construct.bind():function(d,l,n){var h=[null];h.push.apply(h,l);d=new (Function.bind.apply(d,h));n&&f(d,n.prototype);return d};return q.apply(null,arguments)}function u(k){var m="function"===typeof Map?new Map:void 0;u=function(e){function d(){return q(e,arguments,c(this).constructor)}if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;
if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof m){if(m.has(e))return m.get(e);m.set(e,d)}d.prototype=Object.create(e.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});return f(d,e)};return u(k)}function p(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function t(){t="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(k,
m,e){var d;for(d=k;!Object.prototype.hasOwnProperty.call(d,m)&&(d=c(d),null!==d););if(d)return d=Object.getOwnPropertyDescriptor(d,m),d.get?d.get.call(3>arguments.length?k:e):d.value};return t.apply(this,arguments)}a._assertThisInitialized=p;a._createClass=function(k,m,e){m&&b(k.prototype,m);e&&b(k,e);Object.defineProperty(k,"prototype",{writable:!1});return k};a._get=t;a._getPrototypeOf=c;a._inherits=function(k,m){if("function"!==typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");
k.prototype=Object.create(m&&m.prototype,{constructor:{value:k,writable:!0,configurable:!0}});Object.defineProperty(k,"prototype",{writable:!1});m&&f(k,m)};a._possibleConstructorReturn=function(k,m){if(m&&("object"===typeof m||"function"===typeof m))return m;if(void 0!==m)throw new TypeError("Derived constructors may only return object or undefined");return p(k)};a._wrapNativeSuper=u})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){a.__awaiter=function(b,c,f,g){function q(u){return u instanceof
f?u:new f(function(p){p(u)})}return new (f||(f=Promise))(function(u,p){function t(e){try{m(g.next(e))}catch(d){p(d)}}function k(e){try{m(g["throw"](e))}catch(d){p(d)}}function m(e){e.done?u(e.value):q(e.value).then(t,k)}m((g=g.apply(b,c||[])).next())})};a.__decorate=function(b,c,f,g){var q=arguments.length,u=3>q?c:null===g?g=Object.getOwnPropertyDescriptor(c,f):g,p;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)u=Reflect.decorate(b,c,f,g);else for(var t=b.length-1;0<=t;t--)if(p=
b[t])u=(3>q?p(u):3<q?p(c,f,u):p(c,f))||u;return 3<q&&u&&Object.defineProperty(c,f,u),u}})},"esri/Basemap":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Collection ./core/collectionUtils ./core/deprecate ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./webdoc/support/writeUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A){var B;let C=0;u=B=function(G){function F(M){var O=G.call(this,M)||this;O.id=null;O.portalItem=null;O.spatialReference=null;O.thumbnailUrl=null;O.title="Basemap";O.id=Date.now().toString(16)+"-basemap-"+C++;O.baseLayers=new f;O.referenceLayers=new f;const H=J=>{J.parent&&J.parent!==b._assertThisInitialized(O)&&"remove"in J.parent&&J.parent.remove(J);J.parent=b._assertThisInitialized(O);"elevation"===J.type&&m.getLogger(b._assertThisInitialized(O)).error(`Layer '${J.title}, id:${J.id}' of type '${J.type}' is not supported as a basemap layer and will therefore be ignored.`)};
O.addHandles([O.baseLayers.on("after-add",J=>H(J.item)),O.referenceLayers.on("after-add",J=>H(J.item)),O.baseLayers.on("after-remove",J=>{J.item.parent=null}),O.referenceLayers.on("after-remove",J=>{J.item.parent=null})]);return O}b._inherits(F,G);var K=F.prototype;K.initialize=function(){this.when().catch(M=>{m.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,M)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};K.destroy=
function(){var M=this.baseLayers.removeAll();for(const O of M)O.destroy();M=this.referenceLayers.removeAll();for(const O of M)O.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem?.destroy();this.portalItem=null};K.normalizeCtorArgs=function(M){M&&"resourceInfo"in M&&(this._set("resourceInfo",M.resourceInfo),M={...M},delete M.resourceInfo);return M};K._writeBaseLayers=function(M,O,H){const J=[];M&&(H={...H,layerContainerType:"basemap"},this.baseLayers.forEach(L=>{L=
A.getLayerJSON(L,H.webmap?H.webmap.getLayerJSONFromResourceInfo(L):null,H);null!=L&&J.push(L)}),this.referenceLayers.forEach(L=>{const N=A.getLayerJSON(L,H.webmap?H.webmap.getLayerJSONFromResourceInfo(L):null,H);null!=N&&("scene"!==L.type&&(N.isReference=!0),J.push(N))}));O.baseMapLayers=J};K.writeTitle=function(M,O){O.title=M||"Basemap"};K.load=function(M){this.addResolvingPromise(this._loadFromSource(M));return Promise.resolve(this)};K.loadAll=function(){return k.loadAll(this,M=>{M(this.baseLayers,
this.referenceLayers)})};K.clone=function(){const M={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(O=>p.isClonable(O)?O.clone():O),referenceLayers:this.referenceLayers.map(O=>p.isClonable(O)?O.clone():O)};this.loaded&&(M.loadStatus="loaded");return(new B({resourceInfo:this.resourceInfo})).set(M)};K.read=function(M,O){this.resourceInfo||this._set("resourceInfo",{data:M,context:O});b._get(b._getPrototypeOf(F.prototype),"read",this).call(this,M,O)};K.write=function(M,
O){M=M||{};O&&O.origin||(O={origin:"web-map",...O});b._get(b._getPrototypeOf(F.prototype),"write",this).call(this,M,O);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(M.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(H=>{H=p.clone(H);H.url&&d.isProtocolRelative(H.url)&&(H.url=`https:${H.url}`);H.templateUrl&&d.isProtocolRelative(H.templateUrl)&&(H.templateUrl=`https:${H.templateUrl}`);return H}));return M};K._loadFromSource=async function(M){const {resourceInfo:O,portalItem:H}=
this;e.throwIfAborted(M);const J=[];O?(J.push(this._loadLayersFromJSON(O.data,O.context?O.context.url:null,M)),O.data.id&&!O.data.title&&J.push(v.getBasemapTitle(O.data.id).then(L=>{L&&this.read({title:L},O.context)}))):H&&J.push(this._loadFromItem(H,M));await Promise.all(J)};K._loadLayersFromJSON=async function(M,O,H){var J=this.resourceInfo&&this.resourceInfo.context;const L=this.portalItem&&this.portalItem.portal||J&&J.portal||null,N=y[J?.origin||""]??"web-map",{populateOperationalLayers:V}=await new Promise((X,
U)=>a(["./layers/support/layersCreator"],X,U));J=[];e.throwIfAborted(H);if(M.baseMapLayers&&Array.isArray(M.baseMapLayers)){O={context:{origin:N,url:O,portal:L,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const X=U=>"web-scene"===N&&"ArcGISSceneServiceLayer"===U.layerType||U.isReference;H=V(this.baseLayers,M.baseMapLayers.filter(U=>!X(U)),O);J.push(H);M=V(this.referenceLayers,M.baseMapLayers.filter(X),O);J.push(M)}await e.eachAlways(J)};K._loadFromItem=async function(M,O){const H=
await (await M.load(O)).fetchData("json",O),J=d.urlToObject(M.itemUrl??"");this._set("resourceInfo",{data:H.baseMap??{},context:{origin:D[M.type||""]??"web-map",portal:M.portal||x.getDefault(),url:J}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:H.spatialReference},this.resourceInfo.context);this.read({title:M.title,thumbnailUrl:M.thumbnailUrl},{origin:"portal-item",portal:M.portal||x.getDefault(),url:J});return this._loadLayersFromJSON(this.resourceInfo.data,
J,O)};F.fromId=function(M){const O=v.esriBasemapDefinitions[M];if(!O)return null;if(O.deprecated){let H=null;"dark-gray"===M?H="dark-gray-vector":"gray"===M?H="gray-vector":"streets"===M?H="streets-vector":"topo"===M&&(H="topo-vector");q.deprecated(m.getLogger("esri.Basemap"),`The ${M} basemap has entered mature support and is no longer being updated.`,{replacement:H,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return B.fromJSON(O)};b._createClass(F,[{key:"baseLayers",set:function(M){this._set("baseLayers",
g.referenceSetter(M,this._get("baseLayers")))}},{key:"referenceLayers",set:function(M){this._set("referenceLayers",g.referenceSetter(M,this._get("referenceLayers")))}}]);return F}(u.JSONSupportMixin(t));c.__decorate([l.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(G,F,K,M){this._writeBaseLayers(G,F,M)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:f}},writer(G,F,K,M){this._writeBaseLayers(G,F,M)}}}}}})],u.prototype,"baseLayers",null);c.__decorate([l.property({type:String,
json:{origins:{"web-scene":{write:!0}}}})],u.prototype,"id",void 0);c.__decorate([l.property({type:w})],u.prototype,"portalItem",void 0);c.__decorate([l.property()],u.prototype,"referenceLayers",null);c.__decorate([l.property({readOnly:!0})],u.prototype,"resourceInfo",void 0);c.__decorate([l.property({type:z})],u.prototype,"spatialReference",void 0);c.__decorate([l.property()],u.prototype,"thumbnailUrl",void 0);c.__decorate([l.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],
u.prototype,"title",void 0);c.__decorate([r.writer("title")],u.prototype,"writeTitle",null);u=B=c.__decorate([h.subclass("esri.Basemap")],u);const D={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},y={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"};return u})},"esri/core/Collection":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./ArrayPool ./Evented ./lang ./maybe ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/ensureType ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleObservable".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){function h(K){return K?K instanceof F?K.toArray():K.length?Array.prototype.slice.apply(K):[]:[]}function r(K){if(K&&K.length)return K[0]}function z(K,M,O,H){M&&M.forEach((J,L,N)=>{K.push(J);z(K,O.call(H,J,L,N),O,H)})}var x;let w=function(){function K(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}var M=K.prototype;M.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};M.reset=function(O){this.defaultPrevented=
!1;this.item=O};return a._createClass(K)}();const v=new u(w,void 0,K=>{K.item=null;K.target=null;K.defaultPrevented=!1;K.cancellable=!1}),A=()=>{},B=new Set,C=new Set,D=new Set,y=new Map;let G=0,F=x=function(K,M){function O(J){J=K.call(this,J)||this;J._chgListeners=[];J._notifications=null;J._timer=null;J._observable=new n.SimpleObservable;J.length=0;J._items=[];Object.defineProperty(a._assertThisInitialized(J),"uid",{value:G++});return J}a._inherits(O,K);O.isCollection=function(J){return null!=J&&
J instanceof x};var H=O.prototype;H.normalizeCtorArgs=function(J){return J?Array.isArray(J)||J instanceof x?{items:J}:J:{}};H.destroy=function(){this._removeAllRaw()};H[M]=function*(){yield*this.items};H.hasEventListener=function(J){return"change"===J?0<this._chgListeners.length:this._emitter.hasEventListener(J)};H.on=function(J,L){if("change"===J){const N=this._chgListeners,V={removed:!1,callback:L};N.push(V);this._notifications&&this._notifications.push({listeners:N.slice(),items:this._items.slice(),
changes:[]});return{remove(){this.remove=A;V.removed=!0;N.splice(N.indexOf(V),1)}}}return this._emitter.on(J,L)};H.once=function(J,L){const N=this.on(J,L);return{remove(){N.remove()}}};H.add=function(J,L){m.trackAccess(this._observable);if(this._emitBeforeChanges(p.ObservableChangesType.ADD))return this;L=this.getNextIndex(L??null);this._splice(L,0,[J]);this._emitAfterChanges(p.ObservableChangesType.ADD);return this};H.addMany=function(J,L=this._items.length){m.trackAccess(this._observable);if(!J||
!J.length||this._emitBeforeChanges(p.ObservableChangesType.ADD))return this;L=this.getNextIndex(L);this._splice(L,0,h(J));this._emitAfterChanges(p.ObservableChangesType.ADD);return this};H.at=function(J){m.trackAccess(this._observable);J=Math.trunc(J)||0;0>J&&(J+=this.length);if(!(0>J||J>=this.length))return this._items[J]};H.removeAll=function(){m.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(p.ObservableChangesType.REMOVE))return[];const J=this._removeAllRaw();this._emitAfterChanges(p.ObservableChangesType.REMOVE);
return J};H._removeAllRaw=function(){return 0===this.length?[]:this._splice(0,this.length)||[]};H.clone=function(){m.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(g.clone)})};H.concat=function(...J){m.trackAccess(this._observable);J=J.map(h);return this._createNewInstance({items:this._items.concat(...J)})};H.drain=function(J,L){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(p.ObservableChangesType.REMOVE)){var N=q.assumeNonNull(this._splice(0,
this.length)),V=N.length;for(let X=0;X<V;X++)J.call(L,N[X],X,N);this._emitAfterChanges(p.ObservableChangesType.REMOVE)}};H.every=function(J,L){m.trackAccess(this._observable);return this._items.every(J,L)};H.filter=function(J,L){m.trackAccess(this._observable);let N;N=2===arguments.length?this._items.filter(J,L):this._items.filter(J);return this._createNewInstance({items:N})};H.find=function(J,L){m.trackAccess(this._observable);return this._items.find(J,L)};H.findIndex=function(J,L){m.trackAccess(this._observable);
return this._items.findIndex(J,L)};H.flatten=function(J,L){m.trackAccess(this._observable);const N=[];z(N,this,J,L);return new x(N)};H.forEach=function(J,L){m.trackAccess(this._observable);return this._items.forEach(J,L)};H.getItemAt=function(J){m.trackAccess(this._observable);return this._items[J]};H.getNextIndex=function(J){m.trackAccess(this._observable);const L=this.length;J=null==J?L:J;0>J?J=0:J>L&&(J=L);return J};H.includes=function(J,L=0){m.trackAccess(this._observable);return this._items.includes(J,
L)};H.indexOf=function(J,L=0){m.trackAccess(this._observable);return this._items.indexOf(J,L)};H.join=function(J=","){m.trackAccess(this._observable);return this._items.join(J)};H.lastIndexOf=function(J,L=this.length-1){m.trackAccess(this._observable);return this._items.lastIndexOf(J,L)};H.map=function(J,L){m.trackAccess(this._observable);J=this._items.map(J,L);return new x({items:J})};H.reorder=function(J,L=this.length-1){m.trackAccess(this._observable);const N=this.indexOf(J);if(-1!==N){0>L?L=0:
L>=this.length&&(L=this.length-1);if(N!==L){if(this._emitBeforeChanges(p.ObservableChangesType.MOVE))return J;this._splice(N,1);this._splice(L,0,[J]);this._emitAfterChanges(p.ObservableChangesType.MOVE)}return J}};H.pop=function(){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(p.ObservableChangesType.REMOVE)){var J=r(this._splice(this.length-1,1));this._emitAfterChanges(p.ObservableChangesType.REMOVE);return J}};H.push=function(...J){m.trackAccess(this._observable);if(this._emitBeforeChanges(p.ObservableChangesType.ADD))return this.length;
this._splice(this.length,0,J);this._emitAfterChanges(p.ObservableChangesType.ADD);return this.length};H.reduce=function(J,L){m.trackAccess(this._observable);const N=this._items;return 2===arguments.length?N.reduce(J,L):N.reduce(J)};H.reduceRight=function(J,L){m.trackAccess(this._observable);const N=this._items;return 2===arguments.length?N.reduceRight(J,L):N.reduceRight(J)};H.remove=function(J){m.trackAccess(this._observable);return this.removeAt(this.indexOf(J))};H.removeAt=function(J){m.trackAccess(this._observable);
if(!(0>J||J>=this.length||this._emitBeforeChanges(p.ObservableChangesType.REMOVE)))return J=r(this._splice(J,1)),this._emitAfterChanges(p.ObservableChangesType.REMOVE),J};H.removeMany=function(J){m.trackAccess(this._observable);if(!J||!J.length||this._emitBeforeChanges(p.ObservableChangesType.REMOVE))return[];J=J instanceof x?J.toArray():J;const L=this._items,N=[],V=J.length;for(let fa=0;fa<V;fa++){var X=L.indexOf(J[fa]);if(-1<X){var U=fa+1,P=X+1;const Ba=Math.min(J.length-U,L.length-P);let Aa=0;
for(;Aa<Ba&&J[U+Aa]===L[P+Aa];)Aa++;U=1+Aa;(X=this._splice(X,U))&&0<X.length&&N.push.apply(N,X);fa+=U-1}}this._emitAfterChanges(p.ObservableChangesType.REMOVE);return N};H.reverse=function(){m.trackAccess(this._observable);if(this._emitBeforeChanges(p.ObservableChangesType.MOVE))return this;const J=this._splice(0,this.length);J&&(J.reverse(),this._splice(0,0,J));this._emitAfterChanges(p.ObservableChangesType.MOVE);return this};H.shift=function(){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(p.ObservableChangesType.REMOVE)){var J=
r(this._splice(0,1));this._emitAfterChanges(p.ObservableChangesType.REMOVE);return J}};H.slice=function(J=0,L=this.length){m.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(J,L)})};H.some=function(J,L){m.trackAccess(this._observable);return this._items.some(J,L)};H.sort=function(J){m.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(p.ObservableChangesType.MOVE))return this;const L=q.assumeNonNull(this._splice(0,this.length));arguments.length?
L.sort(J):L.sort();this._splice(0,0,L);this._emitAfterChanges(p.ObservableChangesType.MOVE);return this};H.splice=function(J,L,...N){m.trackAccess(this._observable);const V=(L?p.ObservableChangesType.REMOVE:0)|(N.length?p.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(V))return[];J=this._splice(J,L,N)||[];this._emitAfterChanges(V);return J};H.toArray=function(){m.trackAccess(this._observable);return this._items.slice()};H.toJSON=function(){m.trackAccess(this._observable);return this.toArray()};
H.toLocaleString=function(){m.trackAccess(this._observable);return this._items.toLocaleString()};H.toString=function(){m.trackAccess(this._observable);return this._items.toString()};H.unshift=function(...J){m.trackAccess(this._observable);if(!J.length||this._emitBeforeChanges(p.ObservableChangesType.ADD))return this.length;this._splice(0,0,J);this._emitAfterChanges(p.ObservableChangesType.ADD);return this.length};H._createNewInstance=function(J){return new this.constructor(J)};H._splice=function(J,
L,N){const V=this._items;var X=this.itemType;let U=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=t.schedule(()=>this._dispatchChange()));if(L){U=V.splice(J,L);if(this.hasEventListener("before-remove")){var P=v.acquire();P.target=this;P.cancellable=!0;for(let Aa=0,ma=U.length;Aa<ma;Aa++)L=U[Aa],P.reset(L),this.emit("before-remove",P),P.defaultPrevented&&
(U.splice(Aa,1),V.splice(J,0,L),J+=1,--Aa,--ma);v.release(P)}this.length=this._items.length;if(this.hasEventListener("after-remove")){L=v.acquire();L.target=this;L.cancellable=!1;P=U.length;for(let Aa=0;Aa<P;Aa++)L.reset(U[Aa]),this.emit("after-remove",L);v.release(L)}}if(N&&N.length){if(X){L=[];for(var fa of N)N=X.ensureType(fa),null==N&&null!=fa||L.push(N);N=L}X=this.hasEventListener("before-add");fa=this.hasEventListener("after-add");L=J===this.length;if(X||fa){var Ba=v.acquire();Ba.target=this;
Ba.cancellable=!0;P=v.acquire();P.target=this;P.cancellable=!1;for(const Aa of N)X?(Ba.reset(Aa),this.emit("before-add",Ba),Ba.defaultPrevented||(L?V.push(Aa):V.splice(J++,0,Aa),this._set("length",V.length),fa&&(P.reset(Aa),this.emit("after-add",P)))):(L?V.push(Aa):V.splice(J++,0,Aa),this._set("length",V.length),P.reset(Aa),this.emit("after-add",P));v.release(P);v.release(Ba)}else{if(L)for(Ba of N)V.push(Ba);else V.splice(J,0,...N);this._set("length",V.length)}}(N&&N.length||U&&U.length)&&this._notifyChangeEvent(N,
U);return U};H._emitBeforeChanges=function(J){let L=!1;if(this.hasEventListener("before-changes")){const N=v.acquire();N.target=this;N.cancellable=!0;N.type=J;this.emit("before-changes",N);L=N.defaultPrevented;v.release(N)}return L};H._emitAfterChanges=function(J){if(this.hasEventListener("after-changes")){const L=v.acquire();L.target=this;L.cancellable=!1;L.type=J;this.emit("after-changes",L);v.release(L)}this._observable.notify()};H._notifyChangeEvent=function(J,L){this.hasEventListener("change")&&
this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:J,removed:L})};H._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var J=this._notifications;this._notifications=null;for(const L of J){J=L.changes;B.clear();C.clear();D.clear();for(const {added:fa,removed:Ba}of J){if(fa)if(0===D.size&&0===C.size)for(const Aa of fa)B.add(Aa);else for(const Aa of fa)C.has(Aa)?(D.add(Aa),C.delete(Aa)):D.has(Aa)||B.add(Aa);
if(Ba)if(0===D.size&&0===B.size)for(const Aa of Ba)C.add(Aa);else for(const Aa of Ba)B.has(Aa)?B.delete(Aa):(D.delete(Aa),C.add(Aa))}const N=c.acquire();B.forEach(fa=>{N.push(fa)});const V=c.acquire();C.forEach(fa=>{V.push(fa)});const X=this._items,U=L.items,P=c.acquire();D.forEach(fa=>{U.indexOf(fa)!==X.indexOf(fa)&&P.push(fa)});if(L.listeners&&(N.length||V.length||P.length)){J={target:this,added:N,removed:V,moved:P};const fa=L.listeners.length;for(let Ba=0;Ba<fa;Ba++){const Aa=L.listeners[Ba];Aa.removed||
Aa.callback.call(this,J)}}c.release(N);c.release(V);c.release(P)}B.clear();C.clear();D.clear()}};a._createClass(O,[{key:"items",get:function(){m.trackAccess(this._observable);return this._items},set:function(J){this._emitBeforeChanges(p.ObservableChangesType.ADD)||(this._splice(0,this.length,h(J)),this._emitAfterChanges(p.ObservableChangesType.ADD))}}]);return O}(f.EventedAccessor,Symbol.iterator);F.ofType=K=>{if(!K)return x;if(y.has(K))return y.get(K);let M=null;if("function"===typeof K)M=K.prototype.declaredClass;
else if(K.base)M=K.base.prototype.declaredClass;else for(var O in K.typeMap){const H=K.typeMap[O].prototype.declaredClass;M=M?M+` | ${H}`:H}O=function(H){function J(){return H.apply(this,arguments)||this}a._inherits(J,H);return a._createClass(J)}(x);b.__decorate([d.shared({Type:K,ensureType:"function"===typeof K?k.ensureType(K):k.ensureOneOfType(K)})],O.prototype,"itemType",void 0);O=b.__decorate([l.subclass(`esri.core.Collection<${M}>`)],O);y.set(K,O);return O};b.__decorate([e.property()],F.prototype,
"length",void 0);b.__decorate([e.property()],F.prototype,"items",null);return F=x=b.__decorate([l.subclass("esri.core.Collection")],F)})},"esri/core/ArrayPool":function(){define(["../chunks/_rollupPluginBabelHelpers","./ObjectPool"],function(a,b){function c(q){q.length=0}let f=function(){function q(p=50,t=50){this._pool=new b(Array,void 0,c,t,p)}var u=q.prototype;u.acquire=function(){return this._pool.acquire()};u.release=function(p){this._pool.release(p)};u.prune=function(){this._pool.prune(0)};
q.acquire=function(){return g.acquire()};q.release=function(p){return g.release(p)};q.prune=function(){g.prune()};return a._createClass(q)}();const g=new f(100);return f})},"esri/core/ObjectPool":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let b=function(){function c(g,q,u,p=1,t=0){this._ctor=g;this._acquireFunction=q;this._releaseFunction=u;this.allocationSize=p;this._pool=Array(t);this._initialSize=t;if(this._ctor)for(g=0;g<t;g++)this._pool[g]=new this._ctor;this.allocationSize=
Math.max(p,1)}var f=c.prototype;f.destroy=function(){this.prune(0)};f.acquire=function(...g){if(c.test.disabled)var q=new this._ctor;else{if(0===this._pool.length){q=this.allocationSize;for(let u=0;u<q;u++)this._pool[u]=new this._ctor}q=this._pool.pop()}this._acquireFunction?this._acquireFunction(q,...g):q&&q.acquire&&"function"===typeof q.acquire&&q.acquire(...g);return q};f.release=function(g){g&&!c.test.disabled&&(this._releaseFunction?this._releaseFunction(g):g&&g.release&&"function"===typeof g.release&&
g.release(),this._pool.push(g))};f.prune=function(g=this._initialSize){if(!(g>=this._pool.length)){for(let q=g;q<this._pool.length;++q)this._dispose(this._pool[q]);this._pool.length=g}};f._dispose=function(g){g.dispose&&"function"===typeof g.dispose&&g.dispose()};return a._createClass(c)}();b.test={disabled:!1};return b})},"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,
b,c,f,g){let q=function(){function u(){this._emitter=new u.EventEmitter(this)}var p=u.prototype;p.emit=function(t,k){return this._emitter.emit(t,k)};p.on=function(t,k){return this._emitter.on(t,k)};p.once=function(t,k){return this._emitter.once(t,k)};p.hasEventListener=function(t){return this._emitter.hasEventListener(t)};return a._createClass(u)}();(function(u){let p=function(){function k(e=null){this._target=e;this._listenersMap=null}var m=k.prototype;m.clear=function(){this._listenersMap?.clear();
this._listenersMap=null};m.destroy=function(){this.clear()};m.emit=function(e,d){e=this._listenersMap&&this._listenersMap.get(e);if(!e)return!1;const l=this._target||this;[...e].forEach(n=>{n.call(l,d)});return 0<e.length};m.on=function(e,d){if(Array.isArray(e)){var l=e.map(n=>this.on(n,d));return f.handlesGroup(l)}if(e.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);l=this._listenersMap.get(e)||
[];l.push(d);this._listenersMap.set(e,l);return{remove:()=>{const n=this._listenersMap&&this._listenersMap.get(e)||[],h=n.indexOf(d);0<=h&&n.splice(h,1)}}};m.once=function(e,d){const l=this.on(e,n=>{l.remove();d.call(null,n)});return l};m.hasEventListener=function(e){e=this._listenersMap&&this._listenersMap.get(e);return null!=e&&0<e.length};return a._createClass(k)}();u.EventEmitter=p;u.EventedMixin=k=>{k=function(m){function e(){var l=m.apply(this,arguments)||this;l._emitter=new p;return l}a._inherits(e,
m);var d=e.prototype;d.destroy=function(){this._emitter.clear()};d.emit=function(l,n){return this._emitter.emit(l,n)};d.on=function(l,n){return this._emitter.on(l,n)};d.once=function(l,n){return this._emitter.once(l,n)};d.hasEventListener=function(l){return this._emitter.hasEventListener(l)};return a._createClass(e)}(k);return k=b.__decorate([g.subclass("esri.core.Evented")],k)};let t=function(k){function m(){var d=k.apply(this,arguments)||this;d._emitter=new q.EventEmitter(a._assertThisInitialized(d));
return d}a._inherits(m,k);var e=m.prototype;e.destroy=function(){this._emitter.clear()};e.emit=function(d,l){return this._emitter.emit(d,l)};e.on=function(d,l){return this._emitter.on(d,l)};e.once=function(d,l){return this._emitter.once(d,l)};e.hasEventListener=function(d){return this._emitter.hasEventListener(d)};return a._createClass(m)}(c);t=b.__decorate([g.subclass("esri.core.Evented")],t);u.EventedAccessor=t})(q||(q={}));return q})},"esri/core/Accessor":function(){define("../chunks/_rollupPluginBabelHelpers ./Handles ./maybe ./accessorSupport/beforeDestroy ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){function d(w){if(null==w)return{value:w};if(Array.isArray(w))return{type:[w[0]],value:null};switch(typeof w){case "object":return w.constructor?.__accessorMetadata__||w instanceof Date?{type:w.constructor,value:w}:w;case "boolean":return{type:Boolean,value:w};case "string":return{type:String,value:w};case "number":return{type:Number,value:w};case "function":return{type:w,value:null}}}const l=Symbol("Accessor-Handles"),n=Symbol("Accessor-Initialized");let h=function(){function w(...A){this[r]=
null;this[z]=!1;if(this.constructor===w)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const B=new u(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:B});0<A.length&&this.normalizeCtorArgs&&(B.ctorArgs=this.normalizeCtorArgs.apply(this,A));t.getAccessorInterceptor()?.onInstanceConstruct(this);x.register(this,B.propertiesByName,this)}w.createSubclass=function(A={}){if(Array.isArray(A))throw Error("Multi-inheritance unsupported since 4.16");
const {properties:B,declaredClass:C,constructor:D}=A;delete A.declaredClass;delete A.properties;delete A.constructor;const y=this;let G=function(F){function K(...M){var O=F.call(this,...M)||this;O.inherited=null;D&&D.apply(a._assertThisInitialized(O),M);return O}a._inherits(K,F);return a._createClass(K)}(y);q.getPropertiesMetadata(G.prototype);for(const F in A){const K=A[F];G.prototype[F]="function"===typeof K?function(...M){const O=this.inherited;this.inherited=function(...J){if(y.prototype[F])return y.prototype[F].apply(this,
J)};let H=void 0;try{H=K.apply(this,M)}catch(J){throw this.inherited=O,J;}this.inherited=O;return H}:A[F]}for(const F in B)A=d(B[F]),m.property(A)(G.prototype,F);return e.subclass(C)(G)};var v=w.prototype;v.postscript=function(A){const B=this.__accessor__;A=B.ctorArgs||A;B.initialize();A&&(this.set(A),B.ctorArgs=null);B.constructed();this.initialize();this[n]=!0};v.initialize=function(){};v[f.BEFORE_DESTROY_SYMBOL]=function(){this[l]=c.destroyMaybe(this[l])};v.destroy=function(){this.destroyed||(x.unregister(this),
k.removeTarget(this),this.__accessor__.destroy(),t.getAccessorInterceptor()?.onInstanceDestroy(this))};v.commitProperty=function(A){this.get(A)};v.get=function(A){return g.get(this,A)};v.hasOwnProperty=function(A){return this.__accessor__?this.__accessor__.has(A):Object.prototype.hasOwnProperty.call(this,A)};v.keys=function(){return this.__accessor__?this.__accessor__.keys():[]};v.set=function(A,B){p.set(this,A,B);return this};v.watch=function(A,B,C){return k.watch(this,A,B,C)};v.own=function(A){this.addHandles(A)};
v.addHandles=function(A,B){if(this.destroyed){A=Array.isArray(A)?A:[A];for(var C of A)C.remove()}else C=this[l],null==C&&(C=this[l]=new b),C.add(A,B)};v.removeHandles=function(A){const B=this[l];null!=B&&B.remove(A)};v.removeAllHandles=function(){const A=this[l];null!=A&&A.removeAll()};v.hasHandles=function(A){const B=this[l];return null!=B?B.has(A):!1};v._override=function(A,B){void 0===B?this.__accessor__.clearOverride(A):this.__accessor__.override(A,B)};v._clearOverride=function(A){return this.__accessor__.clearOverride(A)};
v._overrideIfSome=function(A,B){null==B?this.__accessor__.clearOverride(A):this.__accessor__.override(A,B)};v._isOverridden=function(A){return this.__accessor__.isOverridden(A)};v.notifyChange=function(A){this.__accessor__.notifyChange(A)};v._get=function(A){return this.__accessor__.internalGet(A)};v._set=function(A,B){this.__accessor__.internalSet(A,B);return this};a._createClass(w,[{key:"constructed",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"initialized",
get:function(){return this[n]}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}]);return w}();var r=l;var z=n;const x=new FinalizationRegistry(w=>{for(const v of w.values())v.destroy()});return h})},"esri/core/Handles":function(){define(["../chunks/_rollupPluginBabelHelpers","./iteratorUtils","./maybe"],function(a,b,c){return function(){function f(){this._groups=new Map}var g=f.prototype;g.destroy=function(){this.removeAll()};g.add=function(q,u){if(b.isIterable(q)){u=
this._getOrCreateGroup(u);for(const p of q)this._isHandle(p)&&u.push(p)}else this._isHandle(q)&&this._getOrCreateGroup(u).push(q);return this};g.forEach=function(q,u){if("function"===typeof q)this._groups.forEach(p=>p.forEach(q));else{const p=this._getGroup(q);p&&u&&p.forEach(u)}};g.has=function(q){return this._groups.has(this._ensureGroupKey(q))};g.remove=function(q){if("string"!==typeof q&&b.isIterable(q)){for(const u of q)this.remove(u);return this}if(!this.has(q))return this;this._removeAllFromGroup(this._getGroup(q));
this._groups.delete(this._ensureGroupKey(q));return this};g.removeAll=function(){this._groups.forEach(q=>this._removeAllFromGroup(q));this._groups.clear();return this};g._isHandle=function(q){return q&&(!!q.remove||q instanceof f)};g._getOrCreateGroup=function(q){if(this.has(q))return this._getGroup(q);const u=[];this._groups.set(this._ensureGroupKey(q),u);return u};g._getGroup=function(q){return c.assumeNonNull(this._groups.get(this._ensureGroupKey(q)))};g._ensureGroupKey=function(q){return q||"_default_"};
g._removeAllFromGroup=function(q){for(const u of q)u instanceof f?u.removeAll():u.remove()};a._createClass(f,[{key:"size",get:function(){let q=0;this._groups.forEach(u=>{q+=u.length});return q}}]);return f}()})},"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const c=[];return function*(){yield*c;for(const f of b)c.push(f),yield f}};a.find=function(b,c){for(const f of b)if(null!=f&&c(f))return f};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/maybe":function(){define(["exports"],function(a){function b(f,g){return null!=f?g(f):null}function c(f,g){if(null==f)throw Error(g??"value is None");}a.abortMaybe=function(f){f?.abort();return null};a.applySome=b;a.assertIsSome=c;a.assumeNonNull=function(f){return f};a.destroyMaybe=function(f){f?.destroy();return null};a.disposeMaybe=function(f){f?.dispose();return null};a.equalsMaybe=function(f,g,q){return null!=f&&null!=
g?null!=q?q(f,g):f.equals(g):f===g};a.forEachSome=function(f,g){for(const q of f)b(q,g)};a.mapMany=function(f,g){const q=[];for(const u of f)q.push(null!=u?g(u):null);return q};a.nullifyNonNullableForDispose=function(f){return null};a.releaseMaybe=function(f){f?.release();return null};a.removeMaybe=function(f){f?.remove();return null};a.unwrapOrThrow=function(f,g){c(f,g);return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],
function(a){const b=Symbol("Accessor-beforeDestroy");a.BEFORE_DESTROY_SYMBOL=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,b){function c(q,u){q="?"===q[q.length-1]?q.slice(0,-1):q;if(null!=u.getItemAt||Array.isArray(u)){var p=parseInt(q,10);if(!isNaN(p))return Array.isArray(u)?u[p]:u.at(p)}p=b.getProperties(u);return b.isPropertyDeclared(p,q)?p.get(q):u[q]}function f(q,u,p){if(null==q)return q;if((q=
c(u[p],q))||!(p<u.length-1))return p===u.length-1?q:f(q,u,p+1)}function g(q,u,p=0){return"string"!==typeof u||u.includes(".")?f(q,b.pathToArray(u),p):c(u,q)}a.exists=function(q,u){return void 0!==g(u,q)};a.get=function(q,u){return g(q,u)};a.valueOf=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang","../maybe"],function(a,b,c,f){function g(k){return k.__accessor__??null}function q(k,m,e){return m?
Object.keys(m).reduce((d,l)=>{let n=null;var h="merge";e&&(n=e.path?`${e.path}.${l}`:l,h=e.policy(n));if("replace"===h||"replace-arrays"===h&&Array.isArray(d[l]))return d[l]=m[l],d;if(void 0===d[l])return d[l]=c.clone(m[l]),d;let r=d[l];h=m[l];if(r===h)return d;if(Array.isArray(h)||Array.isArray(d))r=r?Array.isArray(r)?d[l]=r.concat():d[l]=[r]:d[l]=[],h&&(Array.isArray(h)||(h=[h]),h.forEach(z=>{r.includes(z)||r.push(z)}));else if(h&&"object"===typeof h)if(e){const z=e.path;e.path=f.assumeNonNull(n);
d[l]=q(r,h,e);e.path=z}else d[l]=q(r,h,null);else if(!d.hasOwnProperty(l)||m.hasOwnProperty(l))d[l]=h;return d},k||{}):k}function u(k){return Array.isArray(k)?k:k.split(".")}function p(k){return k.includes(",")?k.split(",").map(m=>m.trim()):[k.trim()]}function t(k){if(Array.isArray(k)){const m=[];for(const e of k)m.push(...p(e));return m}return p(k)}a.getDependsInfo=function(k,m){const e=g(k);return e?e.getDependsInfo(k,m,""):""};a.getProperties=g;a.isPropertyDeclared=function(k,m){return null!=k&&
k.metadatas&&null!=k.metadatas[m]};a.merge=function(k,m,e){return e?q(k,m,{policy:e,path:""}):q(k,m,null)};a.once=function(k){let m=!1;return()=>{m||(m=!0,k())}};a.parse=function(k,m,e,d){m=t(m);return 1!==m.length?(m=m.map(l=>d(k,l,e)),b.handlesGroup(m)):d(k,m[0],e)};a.parseConditionalPath=function(k){if(!k.includes("?"))return null;k=u(k);const m=Array(k.length);for(let e=0;e<k.length;e++){const d=k[e];m[e]="?"===d[d.length-1];m[e]&&(k[e]=d.slice(0,-1))}return{fullPath:k.join("."),conditional:m}};
a.pathToArray=u;a.pathToStringOrArray=function(k){return!k||"string"===typeof k&&!k.includes(".")?k:u(k)};a.splitPath=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/handleUtils":function(){define(["exports"],function(a){function b(c){return{remove:()=>{c&&(c(),c=void 0)}}}a.abortHandle=function(c){return b(()=>c?.abort())};a.asyncHandle=function(c,f){let g=!1,q=null;c.then(u=>{g?u.remove():q=u});return b(()=>{g=!0;null!=q?q.remove():null!=f&&(f.abort(),f=null)})};a.destroyHandle=
function(c){return b(null!=c?()=>c.destroy():void 0)};a.handlesGroup=function(c){return b(()=>c.forEach(f=>null!=f&&f.remove()))};a.makeHandle=b;a.refHandle=function(c){return b(()=>{const f=c();null!=f&&f.remove()})};a.timeoutHandle=function(c,f){const g=setTimeout(c,f);return b(()=>clearTimeout(g))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./typedArrayUtil"],function(a,b,c){function f(d,l){let n;if(l)for(n in d)d.hasOwnProperty(n)&&
(void 0===d[n]?delete d[n]:d[n]instanceof Object&&f(d[n],!0));else for(n in d)d.hasOwnProperty(n)&&void 0===d[n]&&delete d[n];return d}function g(d){if(!d||"object"!==typeof d||"function"===typeof d)return d;var l=m(d);if(null!=l)return l;if(u(d))return d.clone();if(p(d))return d.map(g);if(t(d))return d.clone();l={};for(const n of Object.getOwnPropertyNames(d))l[n]=g(d[n]);return l}function q(d){if(!d||"object"!==typeof d||"function"===typeof d||"HTMLElement"in globalThis&&d instanceof HTMLElement)return d;
var l=m(d);if(null!=l)return l;if(p(d)){let n=!0;d=d.map(h=>{const r=q(h);null!=h&&null==r&&(n=!1);return r});return n?d:null}if(u(d))return d.clone();if(d instanceof File||d instanceof Blob)return d;if(!t(d)){l=new (Object.getPrototypeOf(d).constructor);for(const n of Object.getOwnPropertyNames(d)){const h=d[n],r=q(h);if(null!=h&&null==r)return null;l[n]=r}return l}return null}function u(d){return"function"===typeof d.clone}function p(d){return"function"===typeof d.map&&"function"===typeof d.forEach}
function t(d){return"function"===typeof d.notifyChange&&"function"===typeof d.watch}function k(d){if("[object Object]"!==Object.prototype.toString.call(d))return!1;d=Object.getPrototypeOf(d);return null===d||d===Object.prototype}function m(d){if(c.isInt8Array(d)||c.isUint8Array(d)||c.isUint8ClampedArray(d)||c.isInt16Array(d)||c.isUint16Array(d)||c.isInt32Array(d)||c.isUint32Array(d)||c.isFloat32Array(d)||c.isFloat64Array(d))return d.slice();if(d instanceof Date)return new Date(d.getTime());if(d instanceof
ArrayBuffer)return d.slice(0,d.byteLength);if(d instanceof Map){var l=new Map;for(const [n,h]of d)l.set(n,g(h));return l}if(d instanceof Set){l=new Set;for(const n of d)l.add(g(n));return l}return null}function e(d,l){if(null===d||null===l)return!1;const n=Object.keys(d);if(null===l||Object.keys(l).length!==n.length)return!1;for(const h of n)if(d[h]!==l[h]||!Object.prototype.hasOwnProperty.call(l,h))return!1;return!0}a.clone=g;a.equals=function(d,l){return d===l||"number"===typeof d&&isNaN(d)&&"number"===
typeof l&&isNaN(l)||"function"===typeof(d||{}).getTime&&"function"===typeof(l||{}).getTime&&d.getTime()===l.getTime()||!1};a.equalsShallow=function(d,l){if(d===l)return!0;if(null===d||void 0===d||"string"===typeof d)return d===l;if("number"===typeof d)return d===l||"number"===typeof l&&isNaN(d)&&isNaN(l);if(d instanceof Date)return l instanceof Date&&d.getTime()===l.getTime();if(Array.isArray(d))return Array.isArray(l)&&b.equals(d,l);if(d instanceof Set){var n;if(n=l instanceof Set)a:if(d.size!==
l.size)n=!1;else{for(const h of d)if(!l.has(h)){n=!1;break a}n=!0}return n}if(d instanceof Map){if(n=l instanceof Map)a:if(d.size!==l.size)n=!1;else{for(const [h,r]of d)if(d=l.get(h),d!==r||void 0===d&&!l.has(h)){n=!1;break a}n=!0}return n}return k(d)?k(l)&&e(d,l):!1};a.fixJson=f;a.isAccessorLike=t;a.isClonable=u;a.isPlainObject=k;a.tryClone=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/arrayUtils":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./RandomLCG"],
function(a,b,c){function f(d){return d}function g(d,l=f){if(d&&0!==d.length){var n=d[0],h=l(n);for(let r=1;r<d.length;++r){const z=d[r],x=Number(l(z));x>h&&(h=x,n=z)}return n}}function q(d,l,n,h){h=h||k;var r=Math.max(0,h.last-10);for(let z=r;z<n;++z)if(d[z]===l)return h.last=z;n=Math.min(r,n);for(r=0;r<n;++r)if(d[r]===l)return h.last=r;return-1}function u(d){return d?(e.seed=d,()=>e.getFloat()):Math.random}const p=1/1.5,t=!!Array.prototype.fill;b=b._createClass(function(){this.last=0});const k=new b,
m=new Set,e=new c;a.EmptyArray=[];a.PositionHint=b;a.ReallocGrowthFactor=1.5;a.ReallocShrinkFactor=p;a.ReallocShrinkTreshold=.5;a.binaryFindClosest=function(d,l,n){if(d&&0!==d.length){var h=d.length-1,r=d[0];if(l<=n(r))return r;r=d[h];if(l>=n(r))return r;var z=0;r=0;for(var x=h;z<x;){r=z+Math.floor((x-z)/2);const v=d[r],A=n(v);if(A===l)return v;if(l<A){if(0<r){x=d[r-1];var w=n(x);if(l>w)return l-w>=A-l?v:x}x=r}else{if(r<h&&(z=d[r+1],w=n(z),l<w))return l-A>=w-l?z:v;z=r+1}}return d[r]}};a.binaryIndexOf=
function(d,l,n){const h=d.length;let r=0;for(var z=h-1;r<z;){const x=r+Math.floor((z-r)/2);l>d[x]?r=x+1:z=x}z=d[r];return n?l>=d[h-1]?-1:z===l?r:r-1:z===l?r:-1};a.constant=function(d,l){if(t)return Array(d).fill(l);const n=Array(d);for(let h=0;h<d;h++)n[h]=l;return n};a.difference=function(d,l,n){let h,r;n?(h=l.filter(z=>!d.some(x=>n(x,z))),r=d.filter(z=>!l.some(x=>n(x,z)))):(h=l.filter(z=>!d.includes(z)),r=d.filter(z=>!l.includes(z)));return{added:h,removed:r}};a.equals=function(d,l,n){if(null==
d&&null==l)return!0;if(null==d||null==l||d.length!==l.length)return!1;if(n)for(let h=0;h<d.length;h++){if(!n(d[h],l[h]))return!1}else for(n=0;n<d.length;n++)if(d[n]!==l[n])return!1;return!0};a.filterInPlace=function(d,l){let n=0;for(let h=0;h<d.length;++h){const r=d[h];l(r,h)&&(d[n]=r,n++)}d.length=n};a.first=function(d){if(d)return 0<d.length?d[0]:void 0};a.groupToMap=function(d,l){const n=new Map,h=d.length;for(let r=0;r<h;r++){const z=d[r],x=l(z,r,d),w=n.get(x);w?w.push(z):n.set(x,[z])}return n};
a.indexOf=q;a.intersect=function(d,l,n){return d&&l?n?d.filter(h=>-1<l.findIndex(r=>n(h,r))):d.filter(h=>l.includes(h)):[]};a.isArrayLike=function(d){return d&&"number"===typeof d.length};a.isSome=function(d,l){return null!=d};a.last=function(d){if(d){var l=d.length;return 0<l?d[l-1]:void 0}};a.max=g;a.min=function(d,l=f){return g(d,n=>-l(n))};a.pickRandom=function(d,l,n){const h=d.length;if(l>=h)return d.slice(0);n=u(n);const r=new Set,z=[];for(;z.length<l;){const x=Math.floor(n()*h);r.has(x)||(r.add(x),
z.push(d[x]))}return z};a.range=function(d,l){void 0===l&&(l=d,d=0);const n=Array(l-d);for(let h=d;h<l;h++)n[h-d]=h;return n};a.remove=function(d,l){const n=d.indexOf(l);return-1!==n?(d.splice(n,1),l):null};a.removeUnordered=function(d,l,n,h){const r=null==n?d.length:n;h=q(d,l,r,h);if(-1!==h)return d[h]=d[r-1],null==n&&d.pop(),l};a.removeUnorderedMany=function(d,l,n=d.length,h=l.length,r,z){if(0===h||0===n)return n;m.clear();for(let x=0;x<h;++x)m.add(l[x]);r=r||k;l=Math.max(0,r.last-10);for(h=l;h<
n;++h)if(m.has(d[h])&&(z&&z.push(d[h]),m.delete(d[h]),d[h]=d[n-1],--n,--h,0===m.size||0===n))return m.clear(),n;for(h=0;h<l;++h)if(m.has(d[h])&&(z&&z.push(d[h]),m.delete(d[h]),d[h]=d[n-1],--n,--h,0===m.size||0===n))return m.clear(),n;m.clear();return n};a.shuffle=function(d,l){l=u(l);for(let n=d.length-1;0<n;n--){const h=Math.floor(l()*(n+1)),r=d[n];d[n]=d[h];d[h]=r}return d};a.splitIntoChunks=function(d,l){const n=d.length;if(0===n)return[];const h=[];for(let r=0;r<n;r+=l)h.push(d.slice(r,r+l));
return h};a.unique=function(d,l){return l?d.filter((n,h,r)=>r.findIndex(l.bind(null,n))===h):d.filter((n,h,r)=>r.indexOf(n)===h)};a.update=function(d,l){let n=d.length!==l.length;n&&(d.length=l.length);for(let h=0;h<l.length;++h)d[h]!==l[h]&&(d[h]=l[h],n=!0);return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/RandomLCG":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let b=function(){function c(g=1){this._seed=g}var f=c.prototype;f.getInt=function(){return this._seed=
(c._a*this._seed+c._c)%c._m};f.getFloat=function(){return this.getInt()/(c._m-1)};f.getIntRange=function(g,q){return Math.round(this.getFloatRange(g,q))};f.getFloatRange=function(g,q){q-=g;const u=this.getInt()/c._m;return g+u*q};a._createClass(c,[{key:"seed",set:function(g){this._seed=null==g?Math.random()*c._m:g}}]);return c}();b._m=2147483647;b._a=48271;b._c=0;return b})},"esri/core/typedArrayUtil":function(){define(["exports","./has"],function(a,b){function c(d){return"Int8Array"===d?.constructor?.name}
function f(d){return"Uint8Array"===d?.constructor?.name}function g(d){return"Uint8ClampedArray"===d?.constructor?.name}function q(d){return"Int16Array"===d?.constructor?.name}function u(d){return"Uint16Array"===d?.constructor?.name}function p(d){return"Int32Array"===d?.constructor?.name}function t(d){return"Uint32Array"===d?.constructor?.name}function k(d){return"Float32Array"===d?.constructor?.name}function m(d){return"Float64Array"===d?.constructor?.name}function e(d){return!("buffer"in d)}a.NATIVE_ARRAY_MAX_SIZE=
1024;a.estimateSize=function(d){return null!=d?e(d)?8*d.length+12:d.byteLength+145:0};a.isArray=e;a.isArrayBuffer=function(d){return d instanceof ArrayBuffer};a.isFloat=function(d){return m(d)||k(d)};a.isFloat32Array=k;a.isFloat64Array=m;a.isInt16Array=q;a.isInt32Array=p;a.isInt8Array=c;a.isSigned=function(d){return m(d)||k(d)||p(d)||q(d)||c(d)};a.isUint16Array=u;a.isUint32Array=t;a.isUint8Array=f;a.isUint8ClampedArray=g;a.maximumValue=function(d){return m(d)?1.79769E308:k(d)?3.402823E38:t(d)?4294967295:
u(d)?65535:f(d)||g(d)?255:p(d)?2147483647:q(d)?32767:c(d)?127:256};a.typedArrayStaticSize=145;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/has":function(){define(function(){function a(c){return"function"===typeof b[c]?b[c]=b[c](globalThis):b[c]}let b;b=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{};a.add=(c,f,g,q)=>{if(q||void 0===b[c])b[c]=f;return g&&a(c)};a.cache=b;a.add("esri-deprecation-warnings",
!0);a.add("esri-force-fullscreen-debug",!1);(()=>{a.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var c="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;a.add("host-browser",c);a.add("dom",c);if(a("host-browser")){var f=navigator;c=f.userAgent;var g=f.appVersion;f=parseFloat(g);a.add("edge",parseFloat(c.split("Edge/")[1])||void 0);a.add("webkit",
!a("edge")&&parseFloat(c.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(c.split("Chrome/")[1])||void 0);a.add("safari",!g.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(g.split("Version/")[1]));a.add("mac",g.includes("Macintosh"));if(/(iPhone|iPod|iPad)/.test(c)){g=RegExp.$1.replace(/P/,"p");var q=/OS ([\d_]+)/.test(c)?RegExp.$1:"1";q=parseFloat(q.replace(/_/,".").replaceAll("_",""));a.add(g,q);a.add("ios",q)}a("webkit")||(c.includes("Gecko")&&!a("edge")&&a.add("mozilla",
f),a("mozilla")&&a.add("ff",parseFloat(c.split("Firefox/")[1]||c.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var c=navigator.userAgent;const f=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(c);c=/iPhone/i.test(c);f&&a.add("esri-mobile",f);c&&a.add("esri-iPhone",c);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-shared-array-buffer",()=>{const f=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in
globalThis&&!f});a.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("workers-pool-size",8);a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",
[1,1,4]);a.add("featurelayer-animation-enabled",!0);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",
24E6);a.add("mapserver-pbf-version-support",10.81);a.add("mapservice-popup-identify-max-tolerance",20);a.add("heatmap-allow-raster-fallback",!1);a.add("heatmap-force-raster",!1);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const f=new Image;f.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';f.decode().then(()=>
{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const f=window.document.createElement("a");f.href="?'";return f.href.includes("?%27")}))})();return a})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","./utils"],function(a,b,c){function f(u){let p=u.constructor.__accessorMetadata__;const t=Object.prototype.hasOwnProperty.call(u.constructor,"__accessorMetadata__");if(!p)p={},
Object.defineProperty(u.constructor,"__accessorMetadata__",{value:p,enumerable:!1,configurable:!0,writable:!0});else if(!t){p=Object.create(p);for(const k in p)p[k]=b.clone(p[k]);Object.defineProperty(u.constructor,"__accessorMetadata__",{value:p,enumerable:!1,configurable:!0,writable:!0})}return u.constructor.__accessorMetadata__}function g(u){return q.test(u)?"replace":"merge"}const q=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;a.getPropertiesMetadata=f;a.getPropertyMetadata=
function(u,p){u=f(u);let t=u[p];t||(t=u[p]={});return t};a.mergeProperty=function(u,p){return c.merge(u,p,g)};a.setPropertyMetadata=function(u,p,t){f(u)[p]=t};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Properties":function(){define("../../chunks/_rollupPluginBabelHelpers ../has ../lang ../Logger ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./tracking/Flags".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){f.getLogger("esri.core.accessorSupport.Properties");
b=function(){function d(n){this.host=n;this.propertiesByName=new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=q.Lifecycle.INITIALIZING;this.store=new t.Store;this._origin=p.OriginId.USER;n=this.host.constructor.__accessorMetadata__;for(const h in n){const r=new u.Property(h,n[h]);this.propertiesByName.set(h,r)}this.metadatas=n}var l=d.prototype;l.initialize=function(){this.lifecycle=q.Lifecycle.CONSTRUCTING};l.constructed=function(){this.lifecycle=q.Lifecycle.CONSTRUCTED};l.destroy=function(){this.destroyed=
!0;for(const [n,h]of this.propertiesByName){if(h.metadata.autoDestroy){const r=this.internalGet(n);r&&r&&"function"===typeof r.destroy&&(r.destroy(),~h.observerObject.flags&m.Flags.NonNullable&&this._internalSet(h,null))}h.destroy()}};l.get=function(n){const h=this.propertiesByName.get(n);if(h.metadata.get)return h.getComputed(this);k.trackAccess(h.observerObject);const r=this.store;return r.has(n)?r.get(n):h.metadata.value};l.originOf=function(n){const h=this.store.originOf(n);return void 0===h&&
(n=this.propertiesByName.get(n),void 0!==n&&n.observerObject.flags&m.Flags.HasDefaultValue)?"defaults":p.idToName(h)};l.has=function(n){return this.propertiesByName.has(n)?this.store.has(n):!1};l.keys=function(){return[...this.propertiesByName.keys()]};l.internalGet=function(n){const h=this.propertiesByName.get(n);if(void 0!==h)return this.store.has(n)?this.store.get(n):h.metadata.value};l.internalSet=function(n,h){n=this.propertiesByName.get(n);void 0!==n&&this._internalSet(n,h)};l.getDependsInfo=
function(n,h,r){const z=this.propertiesByName.get(h);if(void 0===z)return"";const x=new Set,w=k.runTracked({onObservableAccessed:A=>x.add(A),onTrackingEnd:()=>{}},()=>z.metadata.get?.call(n)),v=n.declaredClass.split(".").pop();h=`${r}${v}.${h}: ${w}\n`;if(0===x.size)return h;r+="  ";for(const A of x)A instanceof u.Property&&(h+=`${r}${A.propertyName}: undefined\n`);return h};l.setAtOrigin=function(n,h,r){n=this.propertiesByName.get(n);if(void 0!==n)return this._setAtOrigin(n,h,r)};l.isOverridden=
function(n){n=this.propertiesByName.get(n);return void 0!==n&&!!(n.observerObject.flags&m.Flags.Overriden)};l.clearOverride=function(n){n=this.propertiesByName.get(n);const h=n?.observerObject;h&&h.flags&m.Flags.Overriden&&(h.flags&=~m.Flags.Overriden,n.notifyChange())};l.override=function(n,h){n=this.propertiesByName.get(n);if(!(void 0===n||null==h&&n.observerObject.flags&m.Flags.NonNullable)){var r=n.metadata.cast;if(r){h=this._cast(r,h);const {valid:z,value:x}=h;e.release(h);if(!z)return;h=x}n.observerObject.flags|=
m.Flags.Overriden;this._internalSet(n,h)}};l.set=function(n,h){n=this.propertiesByName.get(n);if(!(void 0===n||null==h&&n.observerObject.flags&m.Flags.NonNullable)){var r=n.metadata.cast;if(r){h=this._cast(r,h);const {valid:z,value:x}=h;e.release(h);if(!z)return;h=x}(r=n.metadata.set)?r.call(this.host,h):this._internalSet(n,h)}};l.setDefaultOrigin=function(n){this._origin=p.nameToId(n)};l.getDefaultOrigin=function(){return p.idToName(this._origin)};l.notifyChange=function(n){n=this.propertiesByName.get(n);
void 0!==n&&n.notifyChange()};l.invalidate=function(n){n=this.propertiesByName.get(n);void 0!==n&&n.invalidate()};l.commit=function(n){n=this.propertiesByName.get(n);void 0!==n&&n.commit()};l._internalSet=function(n,h){this._setAtOrigin(n,h,this.lifecycle!==q.Lifecycle.INITIALIZING?this._origin:p.OriginId.DEFAULTS)};l._setAtOrigin=function(n,h,r){const z=this.store,x=n.propertyName;z.has(x,r)&&c.equals(h,z.get(x))&&~n.observerObject.flags&m.Flags.Overriden&&r===z.originOf(x)||(n.invalidate(),z.set(x,
h,r),n.commit(),k.initializeDependencyTracking(this.host,n))};l._cast=function(n,h){const r=e.acquire();r.valid=!0;r.value=h;n&&(r.value=n.call(this.host,h,r));return r};a._createClass(d,[{key:"initialized",get:function(){return this.lifecycle!==q.Lifecycle.INITIALIZING}}]);return d}();f=function(){function d(){this.value=null;this.valid=!0}var l=d.prototype;l.acquire=function(){this.valid=!0};l.release=function(){this.value=null};return a._createClass(d)}();const e=new g(f);return b})},"esri/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers",
"../config","./has","./string"],function(a,b,c,f){const g={info:0,warn:1,error:2,none:3};c=function(){function q(p){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=p.level&&(this.level=p.level);null!=p.writer&&(this.writer=p.writer);this._module=p.module;q._loggers.set(this.module,this);p=this.module.lastIndexOf(".");-1!==p&&(this._parent=q.getLogger(this.module.slice(0,p)))}var u=q.prototype;u.error=function(...p){this._log("error",
"always",...p)};u.warn=function(...p){this._log("warn","always",...p)};u.info=function(...p){this._log("info","always",...p)};u.errorOnce=function(...p){this._log("error","once",...p)};u.warnOnce=function(...p){this._log("warn","once",...p)};u.infoOnce=function(...p){this._log("info","once",...p)};u.errorOncePerTick=function(...p){this._log("error","oncePerTick",...p)};u.warnOncePerTick=function(...p){this._log("warn","oncePerTick",...p)};u.infoOncePerTick=function(...p){this._log("info","oncePerTick",
...p)};q.getLogger=function(p){p="string"!==typeof p?p.declaredClass:p;return q._loggers.get(p)||new q({module:p})};u._log=function(p,t,...k){if(this._matchLevel(p)){if("always"!==t&&!q._throttlingDisabled){const m=this._argsToKey(k),e=this._loggedMessages[p].get(m);if("once"===t&&null!=e||"oncePerTick"===t&&e&&e>=q._tickCounter)return;this._loggedMessages[p].set(m,q._tickCounter);q._scheduleTickCounterIncrement()}for(const m of b.log.interceptors)if(m(p,this.module,...k))return;this._inheritedWriter()(p,
this.module,...k)}};u._parentWithMember=function(p,t){let k=this;for(;null!=k;){const m=k[p];if(null!=m)return m;k=k.parent}return t};u._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};u._consoleWriter=function(p,t,...k){console[p](`[${t}]`,...k)};u._matchLevel=function(p){return g[this._parentWithMember("level",b.log.level||"warn")]<=g[p]};u._argsToKey=function(...p){return f.numericHash(JSON.stringify(p,(t,k)=>"object"!==typeof k||Array.isArray(k)?k:"[Object]"))};
q._scheduleTickCounterIncrement=function(){q._tickCounterScheduled||(q._tickCounterScheduled=!0,Promise.resolve().then(()=>{q._tickCounter++;q._tickCounterScheduled=!1}))};a._createClass(q,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},{key:"test",get:function(){const p=this;return{loggedMessages:p._loggedMessages,clearLoggedWarnings(){return p._loggedMessages.warn.clear()}}}}],[{key:"test",get:function(){return{resetLoggers(p=new Map){const t=
q._loggers;q._loggers=p;return t},set throttlingDisabled(p){q._throttlingDisabled=p}}}}]);return q}();c._loggers=new Map;c._tickCounter=0;c._tickCounterScheduled=!1;c._throttlingDisabled=!1;return c})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,c){b={analysisTheme:{accentColor:[255,127,0],textColor:"white"},apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",
geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],maxUrlLength:2E3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(c.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")),b.defaultAssetsPath=b.assetsPath);return b})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function c(g,q,u){for(const p of g){if(null==
u)return;if(!(p in u))if(q)u[p]={};else return;u=u[p]}return u}function f(g,q,u){return q?Object.keys(q).reduce((p,t)=>{let k=p[t],m=q[t];if(k===m)return p;if(void 0===k)return p[t]=b.clone(m),p;if(Array.isArray(m)||Array.isArray(p))k=k?Array.isArray(k)?p[t]=k.concat():p[t]=[k]:p[t]=[],m&&(Array.isArray(m)||(m=[m]),u?m.forEach(e=>{k.includes(e)||k.push(e)}):p[t]=m.concat());else if(m&&"object"===typeof m)p[t]=f(k,m,u);else if(!p.hasOwnProperty(t)||q.hasOwnProperty(t))p[t]=m;return p},g||{}):g}a.deepMerge=
function(g,q,u=!1){return f(g,q,u)};a.getDeepValue=function(g,q){if(null!=q)return q[g]||c(g.split("."),!1,q)};a.setDeepValue=function(g,q,u){const p=g.split(".");g=p.pop();(u=c(p,!0,u))&&g&&(u[g]=q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function c(g){return null==g?"":g}const f=/\{([^\}]+)\}/g;a.escapeRegExpString=function(g,q){return g.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,u=>q&&q.includes(u)?
u:`\\${u}`)};a.numericHash=function(g){let q=0;for(let u=0;u<g.length;u++)q=(q<<5)-q+g.charCodeAt(u),q|=0;return q};a.replace=function(g,q){return g.replaceAll(f,"object"===typeof q?(u,p)=>c(b.getDeepValue(p,q)):(u,p)=>c(q(p)))};a.stripHTML=function(g){return(new DOMParser).parseFromString(g||"","text/html").body.innerText||""};a.templateHasKey=function(g,q){return(new RegExp(`{${q}}`,"ig")).test(g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],
function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Property":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ./ObservableBase ./PropertyOrigin ./tracking ./tracking/Flags".split(" "),function(a,b,c,f,g,q){let u=function(){function t(m,e){this.propertyName=m;this.metadata=e;
this.observerObject=new p;this._handles=this._accessed=null;this.observerObject.flags=q.Flags.Dirty|(e.nonNullable?q.Flags.NonNullable:0)|(e.hasOwnProperty("value")?q.Flags.HasDefaultValue:0)|(void 0===e.get?q.Flags.DepTrackingInitialized:0)|(void 0===e.dependsOn?q.Flags.AutoTracked:0)}var k=t.prototype;k.destroy=function(){this.observerObject.destroy();this._accessed=null;this._clearObservationHandles()};k.getComputed=function(m){const e=this.observerObject;g.trackAccess(e);var d=m.store;const l=
this.propertyName;var n=e.flags;const h=d.get(l);if(n&q.Flags.Computing||~n&q.Flags.Dirty&&d.has(l))return h;e.flags|=q.Flags.Computing;m=m.host;n&q.Flags.AutoTracked?n=g.runTracked(this,this.metadata.get,m):(g.trackExplicitDependencies(m,this),n=this.metadata.get.call(m));d.set(l,n,f.OriginId.COMPUTED);d=d.get(l);d===h?e.flags&=~q.Flags.Dirty:g.runUntracked(this.commit,this);e.flags&=~q.Flags.Computing;return d};k.onObservableAccessed=function(m){if(m!==this.observerObject){var e=this._accessed;
if(null==e)this._accessed=e=[];else if(e.includes(m))return;e.push(m)}};k.onTrackingEnd=function(){this._clearObservationHandles();const m=this.observerObject;m.flags|=q.Flags.DepTrackingInitialized;const e=this._accessed;if(null!=e&&0!==e.length){var d=this._handles;null==d&&(this._handles=d=[]);for(let l=0;l<e.length;++l)d.push(e[l].observe(m));e.length=0}};k.notifyChange=function(){const m=this.observerObject;m.onInvalidated();m.onCommitted()};k.invalidate=function(){this.observerObject.onInvalidated()};
k.commit=function(){const m=this.observerObject;m.flags&=~q.Flags.Dirty;m.onCommitted()};k._clearObservationHandles=function(){const m=this._handles;if(null!==m){for(let e=0;e<m.length;++e)m[e].remove();m.length=0}};return b._createClass(t)}(),p=function(t){function k(){var e=t.apply(this,arguments)||this;e.flags=0;return e}b._inherits(k,t);var m=k.prototype;m.onInvalidated=function(){~this.flags&q.Flags.Overriden&&(this.flags|=q.Flags.Dirty);const e=this._observers;if(e&&0<e.length)for(const d of e)d.onInvalidated()};
m.onCommitted=function(){var e=this._observers;if(e&&0<e.length){e=e.slice();for(const d of e)d.onCommitted()}};m.destroy=function(){if(this.flags&q.Flags.Dirty)this.onCommitted();b._get(b._getPrototypeOf(k.prototype),"destroy",this).call(this)};return b._createClass(k)}(c.ObservableBase);a.Property=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ObservableBase":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../handleUtils","./tracking/ObservationHandle"],
function(a,b,c,f){let g=function(){function u(){this._observers=null;this.destroyed=!1}var p=u.prototype;p.observe=function(t){if(this.destroyed||t.destroyed)return q;null==this._observers&&(this._observers=[]);const k=this._observers;let m=!1,e=!1;const d=k.length;for(let l=0;l<d;++l){const n=k[l];if(n.destroyed)e=!0;else if(n===t){m=!0;break}}m||(k.push(t),e&&this._removeDestroyedObservers());return new f.ObservationHandle(k,t)};p._removeDestroyedObservers=function(){const t=this._observers;if(t&&
0!==t.length){var k=t.length,m=0;for(let e=0;e<k;++e){for(;e+m<k;)if(t[e+m].destroyed)++m;else break;if(0<m)if(e+m<k)t[e]=t[e+m];else break}t.length=k-m}};p.destroy=function(){if(!this.destroyed){this.destroyed=!0;var t=this._observers;if(null!=t){for(const k of t)k.onCommitted();this._observers=null}}};return b._createClass(u)}();const q=c.makeHandle();a.ObservableBase=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports",
"../../../chunks/_rollupPluginBabelHelpers","../../arrayUtils"],function(a,b,c){let f=function(){function g(q,u){this._observers=q;this._observer=u}g.prototype.remove=function(){c.remove(this._observers,this._observer)};return b._createClass(g)}();a.ObservationHandle=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports","../maybe"],function(a,b){function c(g){switch(g){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;
case "portal-item":return a.OriginId.PORTAL_ITEM;case "web-scene":return a.OriginId.WEB_SCENE;case "web-map":return a.OriginId.WEB_MAP;case "link-chart":return a.OriginId.LINK_CHART;case "user":return a.OriginId.USER;default:return null}}function f(g){switch(g){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.LINK_CHART:return"link-chart";
case a.OriginId.USER:return"user"}return b.assumeNonNull(void 0)}a.OriginId=void 0;(function(g){g[g.DEFAULTS=0]="DEFAULTS";g[g.COMPUTED=1]="COMPUTED";g[g.SERVICE=2]="SERVICE";g[g.PORTAL_ITEM=3]="PORTAL_ITEM";g[g.WEB_SCENE=4]="WEB_SCENE";g[g.WEB_MAP=5]="WEB_MAP";g[g.LINK_CHART=6]="LINK_CHART";g[g.USER=7]="USER"})(a.OriginId||(a.OriginId={}));a.OriginIdNum=a.OriginId.USER+1;a.idToName=f;a.idToReadableName=function(g){return f(g)};a.idToWritableName=function(g){return f(g)};a.nameToId=c;a.readableNameToId=
function(g){return c(g)};a.writableNameToId=function(g){return c(g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils","./tracking/Flags"],function(a,b,c,f,g){function q(x){n.onObservableAccessed(x)}function u(x,w,v){if(h)return p(x,w,v);n=x;l.push(x);x=w.call(v);t();return x}function p(x,w,v){const A=h;h=!0;n=x;l.push(x);x=null;try{x=w.call(v)}catch(B){r&&c.getLogger("esri.core.accessorSupport.tracking").error(B)}t();
h=A;return x}function t(){var x=l.length;if(1<x){const w=l.pop();n=l[x-2];w.onTrackingEnd()}else 1===x?(x=l.pop(),n=d,x.onTrackingEnd()):n=d}function k(x,w){const v=w.observerObject;if(!(v.flags&g.Flags.DepTrackingInitialized)){var A=r;r=!1;v.flags&g.Flags.AutoTracked?p(w,w.metadata.get,x):m(x,w);r=A}}function m(x,w){const v=w.observerObject;v.flags&g.Flags.ExplicitlyTracking||(v.flags|=g.Flags.ExplicitlyTracking,p(w,()=>{var A=w.metadata.dependsOn||z;for(const B of A)if("string"!==typeof B||B.includes(".")){A=
f.pathToArray(B);for(let C=0,D=x;C<A.length&&null!=D&&"object"===typeof D;++C)D=e(D,A[C],C!==A.length-1)}else e(x,B,!1)}),v.flags&=~g.Flags.ExplicitlyTracking)}function e(x,w,v){w="?"===w[w.length-1]?w.slice(0,-1):w;if(null!=x.getItemAt||Array.isArray(x)){var A=parseInt(w,10);if(!isNaN(A))return Array.isArray(x)?x[A]:x.at(A)}if(A=f.getProperties(x))if(A=A.propertiesByName.get(w))q(A.observerObject),k(x,A);return v?x[w]:void 0}const d={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},l=[];let n=d,
h=!1,r=!1;const z=[];a.initializeDependencyTracking=k;a.runTracked=u;a.runTrackedNoThrow=p;a.runUntracked=function(x,w){return u(d,x,w)};a.trackAccess=q;a.trackExplicitDependencies=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overriden=2]="Overriden";b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=
16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Store":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../lang","./PropertyOrigin"],function(a,b,c,f){let g=function(){function q(){this._values=new Map;this.multipleOriginsSupported=!1}var u=q.prototype;u.clone=function(p){const t=
new q;this._values.forEach((k,m)=>{p&&p.has(m)||t.set(m,c.clone(k))});return t};u.get=function(p){return this._values.get(p)};u.originOf=function(){return f.OriginId.USER};u.keys=function(){return[...this._values.keys()]};u.set=function(p,t){this._values.set(p,t)};u.delete=function(p){this._values.delete(p)};u.has=function(p){return this._values.has(p)};u.forEach=function(p){this._values.forEach(p)};return b._createClass(q)}();a.Store=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(a,b,c,f,g){function q(u,p,t){if(u&&p)if("object"===typeof p)for(var k of Object.getOwnPropertyNames(p))q(u,k,p[k]);else if(p.includes("."))p=p.split("."),k=p.splice(p.length-1,1)[0],q(g.get(u,p),k,t);else{k=u.__accessor__;if(null!=k&&c("esri-unknown-property-errors")&&null==k.metadatas[p])throw new b("set:unknown-property","setting unknown property '"+p+"' on instance of "+k.host.declaredClass);
u[p]=t}}a.set=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers","./lang","./Logger","./Message"],function(a,b,c,f){f=function(g){function q(u,p,t){return g.call(this,u,p,t)||this}a._inherits(q,g);q.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(u,p)=>{if(p&&"object"===typeof p&&"function"===typeof p.toJSON)return p;
try{return b.clone(p)}catch(t){return"[object]"}}))}}catch(u){throw c.getLogger("esri.core.Error").error(u),u;}return{name:this.name,message:this.message,details:this.details}};q.fromJSON=function(u){return new q(u.name,u.message,u.details)};return a._createClass(q)}(f);f.prototype.type="error";return f})},"esri/core/Message":function(){define(["../chunks/_rollupPluginBabelHelpers","./object"],function(a,b){function c(f,g){return f.replaceAll(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,(q,u)=>{if(""===
u)return"$";q=b.getDeepValue(u,g);return(null==q?"":q).toString()})}return function(){function f(g,q,u){this.name=g;this.details=u;this.message=(q&&c(q,u))??""}f.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a._createClass(f)}()})},"esri/core/accessorSupport/testSupport":function(){define(["exports"],function(a){let b;a.getAccessorInterceptor=function(){return b};a.setAccessorInterceptor=function(c){b=c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/watch":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./trackingUtils ./utils".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){function e(y){B.delete(y);B.add(y);C||(C=q.schedule(l))}function d(y){if(!y.removed){var G=y.oldValue,F=y.getValue();y.equals(G,F)||(y.oldValue=F,y.notify(F,G))}}function l(){let y=10;for(;C&&y--;){C=null;const G=n(),F=A.acquire();for(const K of G){const M=
K.uid;d(K);M===K.uid&&K.removed&&F.push(K)}for(const K of B)K.removed&&(F.push(K),B.delete(K));for(const K of F)v.pool.release(K);A.release(F);A.release(G);D.forEach(K=>K())}}function n(){const y=A.acquire();y.length=B.size;let G=0;for(const F of B)y[G]=F,++G;B.clear();return y}function h(y,G,F){let K=m.parse(y,G,F,(M,O,H)=>{let J,L,N=k.reactionDeferred(()=>t.valueOf(M,O),(V,X)=>{M.__accessor__.destroyed||J&&J.uid!==L?K.remove():(J||(J=v.acquireUntracked(V,H,X,M,O),L=J.uid),e(J))});return{remove:m.once(()=>
{N.remove();J&&(J.uid!==L||J.removed||(J.removed=!0,e(J)),J=null);K=N=null})}});return K}function r(y,G,F){const K=m.parse(y,G,F,(M,O,H)=>{let J=!1;return k.reaction(()=>t.valueOf(M,O),(L,N)=>{M.__accessor__.destroyed?K.remove():J||(J=!0,f.equals(N,L)||H.call(M,L,N,O,M),J=!1)})});return K}function z(y,G,F){let K,M,O=k.reactionDeferred(y,(H,J)=>{K&&K.uid!==M?O.remove():(K||(K=v.acquireTracked(H,G,J,F),M=K.uid),e(K))});return{remove:m.once(()=>{O.remove();K&&(K.uid!==M||K.removed||(K.removed=!0,e(K)),
K=null);O=null})}}function x(y,G,F){let K=!1;return k.reaction(y,(M,O)=>{K||(K=!0,F(O,M)||G(M,O),K=!1)})}var w;(function(y){y[y.Untracked=0]="Untracked";y[y.Tracked=1]="Tracked"})(w||(w={}));let v=function(){function y(){this.uid=p.generateUID();this.removed=!1;this.equals=this.path=this.target=this.getValue=this.callback=this.oldValue=this.type=null}y.acquireUntracked=function(F,K,M,O,H){return this.pool.acquire(w.Untracked,F,K,M,O,H,f.equals)};y.acquireTracked=function(F,K,M,O){return this.pool.acquire(w.Tracked,
F,K,M,null,null,O)};var G=y.prototype;G.notify=function(F,K){this.type===w.Untracked?this.callback.call(this.target,F,K,this.path,this.target):this.callback.call(null,F,K,void 0,void 0)};G.acquire=function(F,K,M,O,H,J,L){this.uid=p.generateUID();this.removed=!1;this.type=F;this.oldValue=K;this.callback=M;this.getValue=O;this.target=H;this.path=J;this.equals=L};G.release=function(){this.target=this.path=this.oldValue=this.callback=this.getValue=null;this.uid=p.generateUID();this.removed=!0};return b._createClass(y)}();
v.pool=new g.ReentrantObjectPool(v);const A=new c,B=new Set;let C;const D=new Set;a.afterDispatch=function(y){D.add(y);return{remove(){D.delete(y)}}};a.dispatch=l;a.isValueInUse=function(y){return u.someSet(B,G=>G.oldValue===y)};a.removeTarget=function(y){for(const G of B.values())G.target===y&&(G.removed=!0)};a.watch=function(y,G,F,K=!1){return!y.__accessor__||y.__accessor__.destroyed?{remove(){}}:K?r(y,G,F):h(y,G,F)};a.watchTracked=function(y,G,F=!1,K=f.equalsShallow){return F?x(y,G,K):z(y,G,K)};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ReentrantObjectPool":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./ObjectPool"],function(a,b,c,f){f=function(g){function q(){var p=g.apply(this,arguments)||this;p._set=new Set;return p}b._inherits(q,g);var u=q.prototype;u.destroy=function(){b._get(b._getPrototypeOf(q.prototype),"destroy",this).call(this);this._set=c.nullifyNonNullableForDispose(this._set)};u.acquire=function(...p){p=b._get(b._getPrototypeOf(q.prototype),
"acquire",this).call(this,...p);this._set.delete(p);return p};u.release=function(p){p&&!this._set.has(p)&&(b._get(b._getPrototypeOf(q.prototype),"release",this).call(this,p),this._set.add(p))};u._dispose=function(p){this._set.delete(p);b._get(b._getPrototypeOf(q.prototype),"_dispose",this).call(this,p)};return b._createClass(q)}(f);a.ReentrantObjectPool=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/scheduling":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./maybe ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),
function(a,b,c,f,g,q,u,p){function t(F){F=new n(F);w.push(F);B.willDispatch||(B.willDispatch=!0,f.nextTick(d));return F}function k(F){F=new l(F);v.push(F);null==C&&(h=performance.now(),C=requestAnimationFrame(m));return new A(F)}function m(){const F=performance.now();C=null;C=0<v.length?requestAnimationFrame(m):null;B.executeFrameTasks(F)}function e(){v.forAll(F=>{F.removed&&D.push(F)});v.removeUnorderedMany(D.data,D.length);D.clear()}function d(){for(;w.length;){const F=c.assumeNonNull(w.shift());
F.isActive&&F.callback()}B.willDispatch=!1}let l=b._createClass(function(F){this.phases=F;this.paused=!1;this.ticks=-1;this.removed=!1}),n=function(){function F(K){this.callback=K;this.isActive=!0}F.prototype.remove=function(){this.isActive=!1};return b._createClass(F)}(),h=0,r=0;const z={time:p.Milliseconds(0),deltaTime:p.Milliseconds(0),elapsedFrameTime:p.Milliseconds(0),frameDuration:p.Milliseconds(0)},x="prepare preRender render postRender update finish".split(" "),w=[],v=new q;let A=function(){function F(M){this._task=
M}var K=F.prototype;K.remove=function(){this._task.removed=!0};K.pause=function(){this._task.paused=!0};K.resume=function(){this._task.paused=!1};return b._createClass(F)}();const B={frameTasks:v,willDispatch:!1,clearFrameTasks:function(F=!1){v.forAll(K=>{K.removed=!0});F&&e()},dispatch:d,executeFrameTasks:function(F){const K=p.Milliseconds(F-h);h=F;var M=0<r?r:1E3/60;const O=Math.max(0,K-M);z.time=F;z.frameDuration=p.Milliseconds(M-O);for(let H=0;H<x.length;H++){M=performance.now();const J=x[H];
v.forAll(L=>{L.paused||L.removed||(0===H&&L.ticks++,L.phases[J]&&(z.elapsedFrameTime=p.Milliseconds(performance.now()-F),z.deltaTime=0===L.ticks?p.Milliseconds(0):K,L.phases[J]?.call(L,z)))});y[H].record(performance.now()-M)}e();G.record(performance.now()-F)}};let C=null;const D=new q,y=x.map(F=>new g(F)),G=new g("total");a.FrameTaskHandle=A;a.addFrameTask=k;a.debug=B;a.performanceInfo=y;a.performanceTotal=G;a.schedule=t;a.setFrameDuration=function(F){r=Math.max(0,F)};a.waitAnimationFrame=function(){const F=
u.createResolver(),K=k({postRender:()=>{K.remove();t(F)}});return F.promise};a.waitTicks=function(F=1,K){const M=u.createResolver(),O=()=>{u.isAborted(K)?M.reject(u.createAbortError()):0===F?M():(--F,f.nextTick(()=>O()))};O();return M.promise};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(c){b.push(c);1===b.length&&queueMicrotask(()=>{const f=b.slice();b.length=0;for(const g of f)g()})};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/PerformanceSampler":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(c,f=30){this.name=c;this._counter=0;this._samples=Array(f)}b.prototype.record=function(c){null!=c&&(this._samples[++this._counter%this._samples.length]=c)};a._createClass(b,[{key:"median",get:function(){return this._samples.slice().sort((c,f)=>c-f)[Math.floor(this._samples.length/2)]}},{key:"average",get:function(){return this._samples.reduce((c,
f)=>c+f,0)/this._samples.length}},{key:"last",get:function(){return this._samples[this._counter%this._samples.length]}}]);return b}()})},"esri/core/PooledArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./arrayUtils","./HeapSort"],function(a,b,c){function f(g){g.data.length>1.5*g.length&&(g.data.length=Math.floor(1.1*g.length))}return function(){function g(u){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new b.PositionHint;
u&&(u.initialSize&&(this.data=Array(u.initialSize)),u.allocator&&(this._allocator=u.allocator),void 0!==u.deallocator&&(this._deallocator=u.deallocator),u.shrink&&(this._shrink=()=>f(this)))}var q=g.prototype;q.toArray=function(){return this.data.slice(0,this.length)};q.filter=function(u){const p=[];for(let t=0;t<this._length;t++){const k=this.data[t];u(k)&&p.push(k)}return p};q.at=function(u){u=Math.trunc(u)||0;0>u&&(u+=this._length);if(!(0>u||u>=this._length))return this.data[u]};q.includes=function(u,
p){u=this.data.indexOf(u,p);return-1!==u&&u<this.length};q.clear=function(){this.length=0};q.prune=function(){this.clear();this.data=[]};q.push=function(u){this.data[this._length++]=u};q.pushArray=function(u,p=u.length){for(let t=0;t<p;t++)this.data[this._length++]=u[t]};q.fill=function(u,p){for(let t=0;t<p;t++)this.data[this._length++]=u};q.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const u=this.data[this._length];++this._length;return u};
q.unshift=function(u){this.data.unshift(u);this._length++;f(this)};q.pop=function(){if(0!==this.length){var u=this.data[this.length-1];--this.length;this._shrink();return u}};q.remove=function(u){const p=b.indexOf(this.data,u,this.length,this._hint);if(-1!==p)return this.data.splice(p,1),--this.length,u};q.removeUnordered=function(u){return this.removeUnorderedIndex(b.indexOf(this.data,u,this.length,this._hint))};q.removeUnorderedIndex=function(u){if(!(u>=this.length||0>u))return this.swapElements(u,
this.length-1),this.pop()};q.removeUnorderedMany=function(u,p=u.length,t){this.length=b.removeUnorderedMany(this.data,u,this.length,p,this._hint,t);this._shrink()};q.front=function(){if(0!==this.length)return this.data[0]};q.back=function(){if(0!==this.length)return this.data[this.length-1]};q.swapElements=function(u,p){if(!(u>=this.length||p>=this.length||u===p)){var t=this.data[u];this.data[u]=this.data[p];this.data[p]=t}};q.sort=function(u){c.sort(this.data,0,this.length,u)};q.iterableSort=function(u){return c.iterableSort(this.data,
0,this.length,u)};q.some=function(u,p){for(let t=0;t<this.length;++t)if(u.call(p,this.data[t],t,this.data))return!0;return!1};q.find=function(u,p){for(let t=0;t<this.length;++t){const k=this.data[t];if(u.call(p,k,t))return k}};q.filterInPlace=function(u,p){let t=0;for(let k=0;k<this._length;++k){const m=this.data[k];u.call(p,m,k,this.data)&&(this.data[k]=this.data[t],this.data[t]=m,t++)}if(this._deallocator)for(u=t;u<this._length;u++)this.data[u]=this._deallocator(this.data[u]);this._length=t;this._shrink();
return this};q.forAll=function(u,p){const t=this.length,k=this.data;for(let m=0;m<t;++m)u.call(p,k[m],m,k)};q.forEach=function(u,p){for(let t=0;t<this.length;++t)u.call(p,this.data[t],t,this.data)};q.map=function(u,p){const t=Array(this.length);for(let k=0;k<this.length;++k)t[k]=u.call(p,this.data[k],k,this.data);return t};q.reduce=function(u,p){for(let t=0;t<this.length;++t)p=u(p,this.data[t],t,this.data);return p};q.has=function(u){const p=this.length,t=this.data;for(let k=0;k<p;++k)if(t[k]===u)return!0;
return!1};a._createClass(g,[{key:"length",get:function(){return this._length},set:function(u){if(u>this._length)if(this._allocator)for(;this._length<u;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=u;else{if(this._deallocator)for(let p=u;p<this._length;++p)this.data[p]=this._deallocator(this.data[p]);this._length=u;this._shrink()}}}]);return g}()})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const c=(g,q,u,p)=>{let t=q;const k=u>>>1,
m=g[t-1];for(;q<=k;){q=t<<1;q<u&&0>p(g[q-1],g[q])&&++q;const e=g[q-1];if(0>=p(e,m))break;g[t-1]=e;t=q}g[t-1]=m},f=(g,q)=>g<q?-1:g>q?1:0;b.sort=function(g,q,u,p){void 0===q&&(q=0);void 0===u&&(u=g.length);void 0===p&&(p=f);for(var t=u>>>1;t>q;t--)c(g,t,u,p);t=q+1;for(--u;u>q;u--){const k=g[q];g[q]=g[u];g[u]=k;c(g,t,u,p)}};b.iterableSort=function*(g,q,u,p){void 0===q&&(q=0);void 0===u&&(u=g.length);void 0===p&&(p=f);for(var t=u>>>1;t>q;t--)c(g,t,u,p),yield;t=q+1;for(--u;u>q;u--){const k=g[q];g[q]=g[u];
g[u]=k;c(g,t,u,p);yield}}})(a||(a={}));return a})},"esri/core/promiseUtils":function(){define("exports ./clock ./Error ./events ./Logger ./maybe".split(" "),function(a,b,c,f,g,q){function u(z="Aborted"){return new c("AbortError",z)}function p(z,x="Aborted"){if(k(z))throw u(x);}function t(z){return null!=z?"aborted"in z?z:z.signal:z}function k(z){z=t(z);return null!=z&&z.aborted}function m(z,x){z=t(z);if(null!=z)if(z.aborted)x();else return f.once(z,"abort",()=>x())}function e(z){return"AbortError"===
z?.name}async function d(z){if(z){if("function"!==typeof z.forEach){const x=Object.keys(z),w=x.map(B=>z[B]),v=await d(w),A={};x.map((B,C)=>A[B]=v[C]);return A}return Promise.allSettled(z).then(x=>Array.from(z,(w,v)=>{v=x[v];return"fulfilled"===v.status?{promise:w,value:v.value}:{promise:w,error:v.reason}}))}}function l(z,x,w){const v=new AbortController;m(w,()=>v.abort());return new Promise((A,B)=>{let C=setTimeout(()=>{C=0;A(x)},z);m(v,()=>{C&&(clearTimeout(C),B(u()))})})}function n(z){return z&&
"function"===typeof z.then}function h(z){return n(z)?z:Promise.resolve(z)}function r(){let z,x;const w=new Promise((A,B)=>{z=A;x=B}),v=A=>{z(A)};v.resolve=A=>z(A);v.reject=A=>x(A);v.timeout=(A,B)=>b.clock.setTimeout(()=>v.reject(B),A);v.promise=w;return v}a.after=l;a.always=function(z,x){return z.then(x,x)};a.createAbortError=u;a.createResolver=r;a.debounce=function(z,x=-1){let w,v,A,B,C=null;const D=(...y)=>{if(w){v=y;B&&B.reject(u());B=r();y=q.assumeNonNull(B.promise);if(C){var G=C;C=null;G.abort()}return y}A=
B||r();B=null;if(0<x){const K=new AbortController,M=w=h(z(...y,K.signal));l(x).then(()=>{w===M&&(B?K.abort():C=K)})}else w=1,w=h(z(...y));y=()=>{const K=v;v=A=w=C=null;null!=K&&D(...K)};G=w;const F=A;G.then(y,y);G.then(F.resolve,F.reject);return q.assumeNonNull(F.promise)};return D};a.eachAlways=d;a.eachAlwaysValues=async function(z){return(await d(z)).filter(x=>!!x.value).map(x=>x.value)};a.filter=async function(z,x){const w=z.slice(),v=await Promise.all(z.map((A,B)=>x(A,B)));return w.filter((A,
B)=>v[B])};a.ignoreAbortErrors=async function(z){try{return await z}catch(x){if(!e(x))throw x;}};a.isAbortError=e;a.isAborted=k;a.isPromiseLike=n;a.logOnError=async function(z,x=g.getLogger("esri")){try{return await z}catch(w){e(w)||x.error(w)}};a.onAbort=m;a.onAbortOrThrow=function(z,x){z=t(z);if(null!=z)return p(z),f.once(z,"abort",()=>x(u()))};a.throwIfAbortError=function(z){if(e(z))throw z;};a.throwIfAborted=p;a.throwIfNotAbortError=function(z){if(!e(z))throw z;};a.timeout=function(z,x,w,v){const A=
w&&"abort"in w?w:null;null!=v||A||(v=w);let B=setTimeout(()=>{B=0;A&&A.abort()},x);const C=()=>v||new c("promiseUtils:timeout","The wrapped promise did not resolve within "+x+" ms");return z.then(D=>{if(0===B)throw C();clearTimeout(B);return D},D=>{clearTimeout(B);throw 0===B?C():D;})};a.waitTick=async function(z){await Promise.resolve();p(z)};a.when=h;a.whenOrAbort=function(z,x){return null==t(x)?z:new Promise((w,v)=>{let A=m(x,()=>v(u()));const B=()=>A=q.removeMaybe(A);z.then(B,B);z.then(w,v)})};
a.whenOrTimeout=function(z,x,w){return Promise.race([z,l(x).then(()=>{throw new c("timeout",`Did not resolve within ${x} milliseconds (${w??"timeout"})`);})])};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/clock":function(){define(["exports"],function(a){function b(f){return{setTimeout:(g,q)=>{const u=f.setTimeout(g,q);return{remove:()=>f.clearTimeout(u)}}}}const c=b(globalThis);a.clock=c;a.wrap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/events":function(){define(["exports"],
function(a){function b(g){return g&&("function"===typeof g.on||"function"===typeof g.addEventListener)}function c(g,q,u){if(!b(g))throw new TypeError("target is not a Evented or EventTarget object");if("on"in g)return g.on(q,u);if(Array.isArray(q)){const p=q.slice();for(const t of p)g.addEventListener(t,u);return{remove(){for(const t of p)g.removeEventListener(t,u)}}}g.addEventListener(q,u);return{remove(){g.removeEventListener(q,u)}}}const f={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",
Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:g}){return f[g]||g};a.ieKeyNormalizationMap=f;a.isEventTarget=b;a.on=c;a.once=function(g,q,u){if(!b(g))throw new TypeError("target is not a Evented or EventTarget object");if("once"in g)return g.once(q,u);const p=c(g,q,t=>{p.remove();u.call(g,t)});return{remove(){p.remove()}}};a.pausable=function(g,q,u){let p=!1;const t=c(g,
q,k=>{p||u.call(g,k)});return{resume(){p=!1},pause(){p=!0},remove(){t.remove()}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.now=function(){return performance.now()};a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/SetUtils":function(){define(["exports"],
function(a){a.someSet=function(b,c){for(const f of b.entries())if(c(f[0]))return!0;return!1};a.union=function(b,c){const f=new Set;null!=b&&b.forEach(g=>f.add(g));null!=c&&c.forEach(g=>f.add(g));return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/uid":function(){define(["exports"],function(a){let b=0;a.NullUID=0;a.generateUID=function(){return++b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports",
"./tracking","./tracking/SimpleTrackingTarget"],function(a,b,c){let f=!1;const g=[];a.autorun=function(q){function u(){if(p&&!t)if(f)g.includes(u)||g.unshift(u);else for(p.clear(),t=f=!0,b.runTracked(p,q),f=t=!1;g.length;)g.pop()()}let p=new c.SimpleTrackingTarget(u),t=!1;t=!0;b.runTracked(p,q);t=!1;return{remove:function(){p&&(p.destroy(),p=null)}}};a.reaction=function(q,u){function p(){if(t&&!m)if(f)g.includes(p)||g.unshift(p);else{var e=k;t.clear();m=f=!0;k=b.runTracked(t,q);f=m=!1;for(u(k,e);g.length;)g.pop()()}}
let t=new c.SimpleTrackingTarget(p),k=null,m=!1;m=!0;k=b.runTracked(t,q);m=!1;return{remove:function(){t&&(t.destroy(),k=t=null)}}};a.reactionDeferred=function(q,u){function p(){if(!t)return null;t.clear();return k=b.runTracked(t,q)}let t=new c.SimpleTrackingTarget(function(){u(k,p)}),k=null;p();return{remove:function(){t&&(t.destroy(),t=null);k=null}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports",
"../../../chunks/_rollupPluginBabelHelpers"],function(a,b){function c(){}let f=function(){function u(t){this._accessed=[];this._handles=[];this._observerObject=new g(t);q.register(this,new WeakRef(this._observerObject),this)}var p=u.prototype;p.destroy=function(){q.unregister(this._observerObject);this._accessed.length=0;this._observerObject?.destroy();this.clear()};p.onObservableAccessed=function(t){const k=this._accessed;k.includes(t)||k.push(t)};p.onTrackingEnd=function(){const t=this._handles,
k=this._accessed,m=this._observerObject;for(let e=0;e<k.length;++e)t.push(k[e].observe(m));k.length=0};p.clear=function(){const t=this._handles;for(let k=0;k<t.length;++k)t[k].remove();t.length=0};return b._createClass(u)}(),g=function(){function u(t){this._notify=t;this._invalidCount=0;this.destroyed=!1}var p=u.prototype;p.onInvalidated=function(){this._invalidCount++};p.onCommitted=function(){if(!this.destroyed){var t=this._invalidCount;1===t?(this._invalidCount=0,this._notify()):this._invalidCount=
0<t?t-1:0}};p.destroy=function(){this.destroyed=!0;this._notify=c};return b._createClass(u)}();const q=new FinalizationRegistry(u=>{u.deref()?.destroy()});a.SimpleTrackingTarget=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,c,f,g,q){function u(t){let k=0;var m=t;if(c.isLongFormType(t))return c.ensureLongFormType(t);for(;Array.isArray(m)&&
1===m.length&&"string"!==typeof m[0]&&"number"!==typeof m[0];)m=m[0],k++;return c.isOneOf(m)?0===k?c.ensureOneOf(m):c.ensureNArrayTyped(c.ensureOneOf(m),k):1===k?c.ensureArray(m):1<k?c.ensureNArray(m,k):t.from?t.from:c.ensureType(t)}function p(t,k){return m=>{m=+t(m);null!=k.step&&(m=Math.round(m/k.step)*k.step);null!=k.min&&(m=Math.max(k.min,m));null!=k.max&&(m=Math.min(k.max,m));return m}}a.ensureRange=p;a.property=function(t={}){return(k,m)=>{if(k===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${k.name}.${m}. Accessor does not support static properties.`);
var e=Object.getOwnPropertyDescriptor(k,m);const d=g.getPropertyMetadata(k,m);e&&(e.get||e.set?(d.get=e.get||d.get,d.set=e.set||d.set):"value"in e&&("value"in t&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${m}" on "${k.constructor.name}" already defined in the metadata`,t),d.value=t.value=e.value));null!=t.readOnly&&(d.readOnly=t.readOnly);if(k=t.aliasOf){const l="string"===typeof k?k:k.source;k="string"===typeof k?null:!0===k.overridable;
let n;d.dependsOn=[l];d.get=function(){let h=f.get(this,l);if("function"===typeof h){n||(n=l.split(".").slice(0,-1).join("."));const r=f.get(this,n);r&&(h=h.bind(r))}return h};d.readOnly||(d.set=k?function(h){this._override(m,h)}:function(h){q.set(this,l,h)})}k=t.type;e=t.types;d.cast||(k?d.cast=u(k):e&&(Array.isArray(e)?d.cast=c.ensureArrayTyped(c.ensureOneOfType(e[0])):d.cast=c.ensureOneOfType(e)));g.mergeProperty(d,t);t.range&&(d.cast=p(d.cast,t.range))}};a.propertyJSONMeta=function(t,k,m){t=g.getPropertyMetadata(t,
m);t.json||(t.json={});t=t.json;void 0!==k&&(t.origins||(t.origins={}),t.origins[k]||(t.origins[k]={}),t=t.origins[k]);return t};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../has","../Logger","../MapUtils"],function(a,b,c,f,g){function q(H){return null==H?H:new Date(H)}function u(H){return null==H?H:!!H}function p(H){return null==H?H:H.toString()}function t(H){if(null==
H)return H;H=parseFloat(H);return isNaN(H)?0:H}function k(H){return null==H?H:Math.round(parseFloat(H))}function m(H){return H&&H.constructor&&void 0!==H.constructor.__accessorMetadata__}function e(H,J){return null!=J&&H&&!(J instanceof H)}function d(H){return H&&H.Type?"function"===typeof H.Type?H.Type:H.Type.base:null}function l(H,J){var L;(L=!J||!J.constructor)||(L=J.constructor,L=!(L&&"isCollection"in L));if(L)return n(H,J)?J:new H(J);L=d(H.prototype.itemType);const N=d(J.constructor.prototype.itemType);
if(!L)return J;if(!N)return new H(J);if(L===N)return J;if(L.prototype.isPrototypeOf(N.prototype))return new H(J);n(H,J);return J}function n(H,J){return m(J)?(K.error("Accessor#set","Assigning an instance of '"+(J.declaredClass||"unknown")+"' which is not a subclass of '"+r(H)+"'"),!0):!1}function h(H,J){return null==J?J:H&&"isCollection"in H?l(H,J):e(H,J)?n(H,J)?J:new H(J):J}function r(H){return H&&H.prototype&&H.prototype.declaredClass||"unknown"}function z(H){switch(H){case Number:return t;case O:return k;
case Boolean:return u;case String:return p;case Date:return q;default:return g.getOrCreateMapValue(M,H,()=>h.bind(null,H))}}function x(H,J){const L=z(H);return 1===arguments.length?L:L(J)}function w(H,J,L){return 1===arguments.length?w.bind(null,H):J?Array.isArray(J)?J.map(N=>H(N,L)):[H(J,L)]:J}function v(H,J,L){return 0!==J&&Array.isArray(L)?L.map(N=>v(H,J-1,N)):H(L)}function A(H,J,L){if(2===arguments.length)return X=>A(H,J,X);if(!L)return L;L=v(H,J,L);let N=J;for(var V=L;0<N&&Array.isArray(V);)N--,
V=V[0];if(void 0!==V)for(V=0;V<N;V++)L=[L];return L}function B(H,J){if(2===arguments.length)return B(H).call(null,J);const L=new Set,N=H.filter(P=>"function"!==typeof P),V=H.filter(P=>"function"===typeof P);for(const P of H)"string"!==typeof P&&"number"!==typeof P||L.add(P);let X=null,U=null;return(P,fa)=>{if(null==P)return P;const Ba=typeof P,Aa="string"===Ba||"number"===Ba;if(Aa&&(L.has(P)||V.some(ma=>"string"===Ba&&ma===String||"number"===Ba&&ma===Number))||"object"===Ba&&V.some(ma=>!e(P,ma)))return P;
Aa&&N.length?(X||(X=N.map(ma=>"string"===typeof ma?`'${ma}'`:`${ma}`).join(", ")),K.error("Accessor#set",`'${P}' is not a valid value for this property, only the following values are valid: ${X}`)):"object"===typeof P&&V.length?(U||(U=V.map(ma=>r(ma)).join(", ")),K.error("Accessor#set",`'${P}' is not a valid value for this property, value must be one of ${U}`)):K.error("Accessor#set",`'${P}' is not a valid value for this property`);fa&&(fa.valid=!1);return null}}function C(H,J){if(2===arguments.length)return C(H).call(null,
J);const L={},N=[],V=[];for(const U in H.typeMap){const P=H.typeMap[U];L[U]=x(P);N.push(r(P));V.push(U)}const X="string"===typeof H.key?U=>U[H.key]:H.key;return U=>{if(H.base&&!e(H.base,U)||null==U)return U;var P=X(U)||H.defaultKeyValue;const fa=L[P];if(!fa)return K.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${N.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${V.join("', '")}'`})`),null;if(!e(H.typeMap[P],U))return U;if("string"===typeof H.key&&
!m(U)){P={};for(const Ba in U)Ba!==H.key&&(P[Ba]=U[Ba]);return fa(P)}return fa(U)}}function D(H){switch(H.type){case "native":return x(H.value);case "array":return w(D(H.value));case "one-of":return y(H);default:return null}}function y(H){let J=null;return(L,N)=>{if(F(L,H))return L;null==J&&(J=G(H));K.error("Accessor#set",`Invalid property value, value needs to be of type ${J}`);N&&(N.valid=!1);return null}}function G(H){switch(H.type){case "native":switch(H.value){case Number:return"number";case String:return"string";
case Boolean:return"boolean";case O:return"integer";case Date:return"date";default:return r(H.value)}case "array":return`array of ${G(H.value)}`;case "one-of":return H=H.values.map(J=>G(J)),`one of ${H.slice(0,H.length-1)} or ${H[H.length-1]}`}return"unknown"}function F(H,J){if(null==H)return!0;switch(J.type){case "native":switch(J.value){case Number:case O:return"number"===typeof H;case Boolean:return"boolean"===typeof H;case String:return"string"===typeof H}return H instanceof J.value;case "array":return Array.isArray(H)?
!H.some(L=>!F(L,J.value)):!1;case "one-of":return J.values.some(L=>F(H,L))}}const K=f.getLogger("esri.core.accessorSupport.ensureTypes"),M=new WeakMap;let O=b._createClass(function(){});a.Integer=O;a.ensureArray=function(H,J){return 1===arguments.length?w(L=>x(H,L)):w(L=>x(H,L),J)};a.ensureArrayTyped=w;a.ensureBoolean=u;a.ensureClass=h;a.ensureDate=q;a.ensureInteger=k;a.ensureLongFormType=D;a.ensureNArray=function(H,J,L){return 2===arguments.length?A(N=>x(H,N),J):A(N=>x(H,N),J,L)};a.ensureNArrayTyped=
A;a.ensureNumber=t;a.ensureOneOf=B;a.ensureOneOfType=C;a.ensureString=p;a.ensureType=x;a.isClassedType=m;a.isLongFormType=function(H){if(!(H&&"type"in H))return!1;switch(H.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(H){return Array.isArray(H)?!H.some(J=>{J=typeof J;return!("string"===J||"number"===J||"function"===J&&1<H.length)}):!1};a.requiresType=e;a.types={native(H){return{type:"native",value:H}},array(H){return{type:"array",value:H}},oneOf(H){return{type:"one-of",
values:H}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,c){for(const [f,g]of b)if(c(g,f))return g;return null};a.first=function(b){b=b.values().next();return!0!==b.done?b.value:null};a.getOrCreateMapValue=function(b,c,f){const g=b.get(c);if(void 0!==g)return g;f=f();b.set(c,f);return f};a.someMap=function(b,c){for(const [f,g]of b)if(c(g,f))return!0;return!1};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../has ../beforeDestroy ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),function(a,b,c,f,g,q,u,p){function t(d,l){return null==l.get?function(){var n=this.__accessor__;const h=n.propertiesByName.get(d);if(void 0!==h)return u.trackAccess(h.observerObject),n=n.store,n.has(d)?n.get(d):h.metadata.value}:function(){const n=this.__accessor__,
h=n.propertiesByName.get(d);if(void 0!==h)return h.getComputed(n)}}function k(d){const l=q.getPropertiesMetadata(d.prototype),n={};for(const h of Object.getOwnPropertyNames(l)){const r=l[h];p.processPrototypePropertyMetadata(r);n[h]={enumerable:!0,configurable:!0,get:t(h,r),set(z){const x=this.__accessor__;if(void 0===x)Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:z});else if(!Object.isFrozen(this)){if(x.initialized&&r.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${h}' of ${this.declaredClass}`);
if(x.lifecycle===g.Lifecycle.CONSTRUCTED&&r.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${h}' of ${this.declaredClass}`);x.set(h,z)}}}}Object.defineProperties(d.prototype,n)}const m=new Set,e=new Set;a.finalizeClass=k;a.subclass=function(d){return l=>{l.prototype.declaredClass=d;k(l);const n=[],h=[];for(var r=l.prototype;r;)r.hasOwnProperty("initialize")&&!m.has(r.initialize)&&(m.add(r.initialize),n.push(r.initialize)),r.hasOwnProperty("destroy")&&!e.has(r.destroy)&&
(e.add(r.destroy),h.push(r.destroy)),r=Object.getPrototypeOf(r);m.clear();e.clear();r=function(z){function x(...w){var v=z.call(this,...w)||this;if(v.constructor===x&&"function"===typeof v.postscript){n.length&&Object.defineProperty(b._assertThisInitialized(v),"initialize",{enumerable:!1,configurable:!0,value(){for(let A=n.length-1;0<=A;A--)n[A].call(this)}});if(h.length){let A=!1;const B=v[f.BEFORE_DESTROY_SYMBOL];Object.defineProperty(b._assertThisInitialized(v),"destroy",{enumerable:!1,configurable:!0,
value(){if(!A){A=!0;B.call(this);for(let C=0;C<h.length;C++)h[C].call(this)}}})}v.postscript(...w)}return v}b._inherits(x,z);return b._createClass(x)}(l);r.__accessorMetadata__=q.getPropertiesMetadata(l.prototype);r.prototype.declaredClass=d;return r}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(a,b,c,f,g,q){function u(k,m,e){k=k?.json;k?.origins&&e&&(e="link-chart"===e?k.origins[e]&&("any"===m||m in k.origins[e])?k.origins[e]:k.origins["web-map"]:k.origins[e])&&("any"===m||m in e)&&(k=e);return k}function p(k){if(k.type){var m=0;for(k=k.type;Array.isArray(k)&&!b.isOneOf(k);)k=k[0],m++;return{type:k,ndimArray:m}}}function t(k){if(k.types){var m=0;for(k=k.types;Array.isArray(k);)k=k[0],m++;return{types:k,ndimArray:m}}}a.originSpecificPropertyDefinition=function(k,m){return u(k,"any",
m?.origin)};a.originSpecificReadPropertyDefinition=function(k,m){return u(k,"read",m?.origin)};a.originSpecificWritePropertyDefinition=function(k,m){return u(k,"write",m?.origin)};a.processPrototypePropertyMetadata=function(k){if(g.process(k)){c.process(k);var m=k.json.types?t(k.json):k.type?p(k):t(k);if(k.json.origins)for(const d in k.json.origins){const l=k.json.origins[d];if(l.types){var e=l;e=e.type?p(e):t(e)}else e=m;f.create(e,l,!1);l.types&&!l.write&&k.json.write&&k.json.write.enabled&&(l.write=
{...k.json.write});q.create(e,l)}f.create(m,k.json,!0);q.create(m,k.json)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=function(b){if(b.json&&b.json.origins){const c=b.json.origins;b={"web-document":["web-scene","web-map"]};for(const f in b)if(c[f]){const g=c[f];b[f].forEach(q=>{c[q]=g});delete c[f]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,b,c,f,g,q){function u(z){var x=z.ndimArray??0;if(1<x)return m(z);if(1===x)return e(z);if("type"in z&&d(z.type)){x=z.type.prototype?.itemType?.Type;const w=e("function"===typeof x?{type:x}:{types:x});return(v,A,B)=>(v=w(v,A,B))?new z.type(v):v}return p(z)}function p(z){return"type"in z?t(z.type):h(z.types)}function t(z){return z.prototype.read?
(x,w,v)=>{if(null==x)return x;w=typeof x;if("object"!==w)r.error(`Expected JSON value of type 'object' to deserialize type '${z.prototype.declaredClass}', but got '${w}'`);else return w=new z,w.read(x,v),w}:z.fromJSON}function k(z,x,w,v){return 0!==v&&Array.isArray(x)?x.map(A=>k(z,A,w,v-1)):z(x,void 0,w)}function m(z){const x=p(z),w=k.bind(null,x),v=z.ndimArray??0;return(A,B,C)=>{if(null==A)return A;A=w(A,C,v);B=v;for(C=A;0<B&&Array.isArray(C);)B--,C=C[0];if(void 0!==C)for(C=0;C<B;C++)A=[A];return A}}
function e(z){const x=p(z);return(w,v,A)=>{if(null==w)return w;if(Array.isArray(w)){v=[];for(const B of w)w=x(B,void 0,A),void 0!==w&&v.push(w);return v}A=x(w,void 0,A);return void 0!==A?[A]:void 0}}function d(z){return q.isCollection(z)?(z=z.prototype.itemType)&&z.Type?"function"===typeof z.Type?l(z.Type):n(z.Type):!1:!1}function l(z){return Array.isArray(z)?!1:!!z&&z.prototype&&("read"in z.prototype||"fromJSON"in z||d(z))}function n(z){for(const x in z.typeMap)if(!l(z.typeMap[x]))return!1;return!0}
function h(z){let x=null;const w=z.errorContext??"type";return(v,A,B)=>{if(null==v)return v;A=typeof v;if("object"!==A)r.error(`Expected JSON value of type 'object' to deserialize, but got '${A}'`);else{if(!x){A={};for(var C in z.typeMap){const G=z.typeMap[C];var D=g.getPropertiesMetadata(G.prototype);if("function"===typeof z.key)continue;D=D[z.key];if(!D)continue;D.json?.type&&Array.isArray(D.json.type)&&1===D.json.type.length&&"string"===typeof D.json.type[0]&&(A[D.json.type[0]]=G);D=D.json?.write;
if(!D||!D.writer){A[C]=G;continue}var y=D.target;y="string"===typeof y?y:z.key;const F={};D.writer(C,F,y);F[y]&&(A[F[y]]=G)}x=A}C=z.key;if("string"===typeof C){if(A=(C=v[C])?x[C]:z.defaultKeyValue?z.typeMap[z.defaultKeyValue]:void 0)return C=new A,C.read(v,B),C;C=`Type '${C||"unknown"}' is not supported`;B&&B.messages&&v&&B.messages.push(new f(`${w}:unsupported`,C,{definition:v,context:B}));r.error(C)}}}}const r=b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=
function(z,x,w){z&&(w||x.read)&&!x.read?.reader&&!1!==x.read?.enabled&&(w="types"in z?n(z.types):l(z.type),w&&c.setDeepValue("read.reader",u(z),x))};a.createTypeReader=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Warning":function(){define(["../chunks/_rollupPluginBabelHelpers","./Message"],function(a,b){b=function(c){function f(g,q,u){return c.call(this,g,q,u)||this}a._inherits(f,c);return a._createClass(f)}(b);b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],
function(a){a.isCollection=function(b){return!!b&&b.prototype&&b.prototype.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function b(g){g.name&&(g.read?"object"===typeof g.read?void 0===g.read.source&&(g.read.source=g.name):g.read={source:g.name}:g.read={source:g.name},g.write?"object"===typeof g.write?
void 0===g.write.target&&(g.write.target=g.name):g.write={target:g.name}:g.write={target:g.name})}function c(g){"boolean"===typeof g.read?g.read={enabled:g.read}:"function"===typeof g.read?g.read={enabled:!0,reader:g.read}:g.read&&"object"===typeof g.read&&void 0===g.read.enabled&&(g.read.enabled=!0)}function f(g){"boolean"===typeof g.write?g.write={enabled:g.write}:"function"===typeof g.write?g.write={enabled:!0,writer:g.write}:g.write&&"object"===typeof g.write&&void 0===g.write.enabled&&(g.write.enabled=
!0)}a.process=function(g){g.json||(g.json={});c(g.json);f(g.json);b(g.json);if(g.json.origins)for(const q in g.json.origins)c(g.json.origins[q]),f(g.json.origins[q]),b(g.json.origins[q]);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../Error","../../../Logger","../../../object","./type"],function(a,b,c,f,g){function q(n){return(h,r,z,x)=>{if(!h||u(h,n,x))return t(h,r,
z,x)}}function u(n,h,r){for(var z in h.typeMap)if(n instanceof h.typeMap[z])return!0;r?.messages&&(z=h.errorContext??"type",h=`Values of type '${("function"!==typeof h.key?n[h.key]:n.declaredClass)??"Unknown"}' cannot be written`,r&&r.messages&&n&&r.messages.push(new b(`${z}:unsupported`,h,{definition:n,context:r})),c.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(h));return!1}function p(n){return(h,r,z,x)=>{if(!h||!Array.isArray(h))return t(h,r,z,x);h=h.filter(w=>
u(w,n,x));return t(h,r,z,x)}}function t(n,h,r,z){f.setDeepValue(r,k(n,z),h)}function k(n,h){return n&&"function"===typeof n.write?n.write({},h):n&&"function"===typeof n.toJSON?n.toJSON():"number"===typeof n?m(n):n}function m(n){return-Infinity===n?-Number.MAX_VALUE:Infinity===n?Number.MAX_VALUE:isNaN(n)?null:n}function e(n,h,r,z){null===n?n=null:n&&"function"===typeof n.map?(n=n.map(x=>k(x,z)),"function"===typeof n.toArray&&(n=n.toArray())):n=[k(n,z)];f.setDeepValue(r,n,h)}function d(n,h,r){return 0!==
r&&Array.isArray(n)?n.map(z=>d(z,h,r-1)):k(n,h)}function l(n){return(h,r,z,x)=>{if(null===h)h=null;else{h=d(h,x,n);x=n;for(var w=h;0<x&&Array.isArray(w);)x--,w=w[0];if(void 0!==w)for(w=0;w<x;w++)h=[h]}f.setDeepValue(z,h,r)}}a.create=function(n,h){if(h.write&&!h.write.writer&&(!1!==h.write.enabled||h.write.overridePolicy)){var r=n?.ndimArray??0;n&&(1===r||"type"in n&&g.isCollection(n.type))?h.write.writer=e:1<r?h.write.writer=l(r):h.types?Array.isArray(h.types)?h.write.writer=p(h.types[0]):h.write.writer=
q(h.types):h.write.writer=t}};a.numberToJSON=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObservableChangesType":function(){define(["exports"],function(a){a.ObservableChangesType=void 0;var b=a.ObservableChangesType||(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(c,
f)=>{c[f]=b}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../ObservableBase"],function(a,b,c){c=function(f){function g(){return f.apply(this,arguments)||this}b._inherits(g,f);g.prototype.notify=function(){var q=this._observers;if(q&&0<q.length){q=q.slice();for(const u of q)u.onInvalidated(),u.onCommitted()}};return b._createClass(g)}(c.ObservableBase);
a.SimpleObservable=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,b){a.castForReferenceSetter=function(c){return c};a.referenceSetter=function(c,f,g=b){f||(f=new g);if(f===c)return f;f.removeAll();c&&(Array.isArray(c)||"items"in c&&Array.isArray(c.items))?f.addMany(c):c&&f.add(c);return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/deprecate":function(){define(["exports",
"./has"],function(a,b){function c(q,u,p=!1){p&&g.has(u)||(p&&g.add(u),q.warn(`\ud83d\uded1 DEPRECATED - ${u}`))}function f(q,u,p={}){if(b("esri-deprecation-warnings")){const {replacement:t,version:k,see:m,warnOnce:e}=p;t&&(u+=`\n\t\ud83d\udee0\ufe0f Replacement: ${t}`);k&&(u+=`\n\t\u2699\ufe0f Version: ${k}`);m&&(u+=`\n\t\ud83d\udd17 See ${m} for more details.`);c(q,u,e)}}const g=new Set;a.deprecated=f;a.deprecatedFunction=function(q,u,p={}){if(b("esri-deprecation-warnings")){const {moduleName:t}=
p;f(q,`Function: ${(t?t+"::":"")+u+"()"}`,p)}};a.deprecatedModule=function(q,u,p={}){b("esri-deprecation-warnings")&&f(q,`Module: ${u}`,p)};a.deprecatedProperty=function(q,u,p={}){if(b("esri-deprecation-warnings")){const {moduleName:t}=p;f(q,`Property: ${(t?t+"::":"")+u}`,p)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/JSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){const e=d=>{d=function(l){function n(...r){r=l.call(this,...r)||this;const z=g.assumeNonNull(t.getProperties(b._assertThisInitialized(r))),x=z.store,w=new q.DefaultsStore;z.store=w;u.setupConstructedDefaults(z,x,w);return r}b._inherits(n,l);var h=n.prototype;h.read=function(r,z){p.read(this,r,z)};h.write=function(r,z){return k.write(this,r??{},z)};h.toJSON=function(r){return this.write({},r)};n.fromJSON=function(r,z){if(r){if(r.declaredClass)throw Error("JSON object is already hydrated");
var x=new this;x.read(r,z);r=x}else r=null;return r};return b._createClass(n)}(d);d=c.__decorate([m.subclass("esri.core.JSONSupport")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d};a.JSONSupport=function(d){function l(){return d.apply(this,arguments)||this}b._inherits(l,d);return b._createClass(l)}(e(f));a.JSONSupport=c.__decorate([m.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=e;a.isJSONSupport=function(d){return d&&"read"in d&&"write"in d&&"toJSON"in d};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../lang","./PropertyOrigin"],function(a,b,c,f){let g=function(){function u(){this._values=new Map;this.multipleOriginsSupported=!1}var p=u.prototype;p.clone=function(t){const k=new u;this._values.forEach((m,e)=>{t&&t.has(e)||k.set(e,c.clone(m.value),m.origin)});return k};p.get=function(t,k){k=this._normalizeOrigin(k);t=this._values.get(t);return null==
k||t?.origin===k?t?.value:void 0};p.originOf=function(t){return this._values.get(t)?.origin??f.OriginId.USER};p.keys=function(t){t=this._normalizeOrigin(t);const k=[...this._values.keys()];return null==t?k:k.filter(m=>this._values.get(m)?.origin===t)};p.set=function(t,k,m){m=this._normalizeOrigin(m);if(m===f.OriginId.DEFAULTS){const e=this._values.get(t);if(e&&null!=e.origin&&e.origin>m)return}this._values.set(t,new q(k,m))};p.delete=function(t,k){k=this._normalizeOrigin(k);null!=k&&this._values.get(t)?.origin!==
k||this._values.delete(t)};p.has=function(t,k){k=this._normalizeOrigin(k);return null!=k?this._values.get(t)?.origin===k:this._values.has(t)};p.forEach=function(t){this._values.forEach(({value:k},m)=>t(k,m))};p._normalizeOrigin=function(t){if(null!=t)return t===f.OriginId.DEFAULTS?t:f.OriginId.USER};return b._createClass(u)}(),q=b._createClass(function(u,p){this.value=u;this.origin=p});a.DefaultsStore=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports",
"./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(c,f,g){f.keys().forEach(q=>{g.set(q,f.get(q),b.OriginId.DEFAULTS)});Object.keys(c.metadatas).forEach(q=>{c.internalGet(q)&&g.set(q,c.internalGet(q),b.OriginId.DEFAULTS)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,c,f){const g={origin:"service"};a.read=function(q,u,p=g){if(u&&"object"===
typeof u){var t=c.getProperties(q),k=t.metadatas,m={};for(const v of Object.getOwnPropertyNames(u)){var e=m,d=k,l=v,n=u,h=p,r=f.originSpecificReadPropertyDefinition(d[l],h);r&&(!r.read||!1!==r.read.enabled&&!r.read.source)&&(e[l]=!0);for(const A of Object.getOwnPropertyNames(d)){r=f.originSpecificReadPropertyDefinition(d[A],h);a:{var z=l;var x=n;if(r&&r.read&&!1!==r.read.enabled&&r.read.source){r=r.read.source;if("string"===typeof r){if(r===z||r.includes(".")&&0===r.indexOf(z)&&b.exists(r,x)){z=!0;
break a}}else for(const B of r)if(B===z||B.includes(".")&&0===B.indexOf(z)&&b.exists(B,x)){z=!0;break a}z=!1}else z=!1}z&&(e[A]=!0)}}t.setDefaultOrigin(p.origin);for(var w of Object.getOwnPropertyNames(m))d=(d=(e=f.originSpecificReadPropertyDefinition(k[w],p).read)&&e.source)&&"string"===typeof d?b.valueOf(u,d):u[w],e&&e.reader&&(d=e.reader.call(q,d,u,p)),void 0!==d&&t.set(w,d);if(!p||!p.ignoreDefaults){t.setDefaultOrigin("defaults");for(const v of Object.getOwnPropertyNames(k))m[v]||(w=q,u=v,k=t,
e=p,d=f.originSpecificPropertyDefinition(k.metadatas[u],e)?.default,void 0!==d&&(w="function"===typeof d?d.call(w,u,e):d,void 0!==w&&k.set(u,w)))}t.setDefaultOrigin("user")}};a.readLoadable=function(q,u,p,t=g){u={...t,messages:[]};p(u);u.messages?.forEach(k=>{"warning"!==k.type||q.loaded?t&&t.messages&&t.messages.push(k):q.loadWarnings.push(k)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(a,b,c,f,g,q,u){function p(k,m,e,d,l){const n={};m.write?.writer?.call(k,d,n,e,l);return n}function t(k,m,e,d,l,n){if(!d||!d.write)return!1;const h=k.get(e);if(!l&&d.write.overridePolicy){var r=d.write.overridePolicy.call(k,h,e,n??void 0);void 0!==r&&(l=r)}l||(l=d.write);if(!l||!1===l.enabled)return!1;if((null===h&&!l.allowNull&&!l.writerEnsuresNonNull||void 0===h)&&l.isRequired)return(m=new c("web-document-write:property-required",`Missing value for required property '${e}' on '${k.declaredClass}'`,
{propertyName:e,target:k}),n)&&n.messages?n.messages.push(m):m&&!n&&f.getLogger("esri.core.accessorSupport.write").error(m.name,m.message),!1;if(void 0===h||null===h&&!l.allowNull&&!l.writerEnsuresNonNull)return!1;if(r=!l.alwaysWriteDefaults&&(!m.store.multipleOriginsSupported||m.store.originOf(e)===g.OriginId.DEFAULTS))r=d.default,void 0===r?r=!1:null!=d.defaultEquals?r=d.defaultEquals(h):"function"===typeof r?Array.isArray(h)?(k=r.call(k,e,n??void 0),r=b.equals(k,h)):r=!1:r=r===h;return r||!l.ignoreOrigin&&
n&&n.origin&&m.store.multipleOriginsSupported&&m.store.originOf(e)<g.nameToId(n.origin)?!1:!0}a.willPropertyWrite=function(k,m,e,d){const l=q.getProperties(k),n=u.originSpecificWritePropertyDefinition(l.metadatas[m],d);return n?t(k,l,m,n,e,d):!1};a.write=function(k,m,e){if(k&&"function"===typeof k.toJSON&&(!k.toJSON.isDefaultToJSON||!k.write))return q.merge(m,k.toJSON(e));const d=q.getProperties(k),l=d.metadatas;for(const n in l){const h=u.originSpecificWritePropertyDefinition(l[n],e);if(!t(k,d,n,
h,void 0,e))continue;const r=k.get(n),z=p(k,h,h.write&&"string"===typeof h.write.target?h.write.target:n,r,e);0<Object.keys(z).length&&(m=q.merge(m,z),e?.resources?.pendingOperations?.length&&e.resources.pendingOperations.push(Promise.all(e.resources.pendingOperations).then(()=>q.merge(m,z,()=>"replace-arrays"))),e&&e.writtenProperties&&e.writtenProperties.push({target:k,propName:n,oldOrigin:g.idToReadableName(d.store.originOf(n)),newOrigin:e.origin}))}return m};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Error ./maybe ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t){const k=m=>{m=function(e){function d(...n){var h=e.call(this,...n)||this;h._loadController=null;h.loadError=null;h.loadStatus="not-loaded";h._set("loadWarnings",[]);h.addResolvingPromise(new Promise(r=>{const z=h.load.bind(a._assertThisInitialized(h));
h.load=x=>{const w=new Promise((v,A)=>{const B=q.onAbortOrThrow(x,A);h.destroyed&&A(new c("load:instance-destroyed",`Instance of '${h.declaredClass||h.constructor.name}' is already destroyed`,{instance:a._assertThisInitialized(h)}));h.when(v,A).finally(()=>{B&&B.remove()})});if("not-loaded"===h.loadStatus){h._set("loadStatus","loading");const v=h._loadController=new AbortController;z({signal:v.signal});q.onAbort(v.signal,()=>{h._promiseProps.abort()})}r();return w}}));h.when(()=>{h._set("loadStatus",
"loaded");h._loadController=null},r=>{h._set("loadStatus","failed");h._set("loadError",r);h._loadController=null});return h}a._inherits(d,e);var l=d.prototype;l.destroy=function(){this._loadController=f.abortMaybe(this._loadController);this._set("loadError",null);this._set("loadWarnings",[])};l.load=function(){return null};l.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new c("load:cancelled","Cancelled"));this._loadController?.abort();return this};a._createClass(d,
[{key:"loaded",get:function(){return"loaded"===this.loadStatus}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}}]);return d}(m);b.__decorate([p.property({readOnly:!0})],m.prototype,"loaded",null);b.__decorate([p.property({readOnly:!0})],m.prototype,"loadError",void 0);b.__decorate([p.property({clonable:!1})],m.prototype,"loadStatus",void 0);b.__decorate([p.property({type:[u],readOnly:!0})],m.prototype,"loadWarnings",null);return m=b.__decorate([t.subclass("esri.core.Loadable")],
m)};g=function(m){function e(){return m.apply(this,arguments)||this}a._inherits(e,m);return a._createClass(e)}(k(g.EsriPromise));g=b.__decorate([t.subclass("esri.core.Loadable")],g);(function(m){m.LoadableMixin=k;m.isLoadable=function(e){return!(!e||!e.load)}})(g||(g={}));return g})},"esri/core/Promise":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u){var p;
(function(m){m[m.PENDING=0]="PENDING";m[m.RESOLVED=1]="RESOLVED";m[m.REJECTED=2]="REJECTED"})(p||(p={}));let t=function(){function m(){this._resolver=q.createResolver();this._status=p.PENDING;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=p.RESOLVED;this._cleanUp()},()=>{this._status=p.REJECTED;this._cleanUp()});this.promise=this._resolver.promise}var e=m.prototype;e.destroy=function(){this._cleanUp()};e.addResolvingPromise=function(d){this._resolvingPromises.push(d);this._tryResolve()};
e.isResolved=function(){return this._status===p.RESOLVED};e.isRejected=function(){return this._status===p.REJECTED};e.isFulfilled=function(){return this._status!==p.PENDING};e.abort=function(){this._resolver.reject(q.createAbortError())};e._cleanUp=function(){this._resolvingPromises=this._allPromise=null};e._tryResolve=function(){if(!this.isFulfilled()){var d=q.createResolver(),l=[...this._resolvingPromises,g.assumeNonNull(d.promise)],n=this._allPromise=Promise.all(l);n.then(()=>{this.isFulfilled()||
this._allPromise!==n||this._resolver.resolve()},h=>{this.isFulfilled()||this._allPromise!==n||q.isAbortError(h)||this._resolver.reject(h)});d.resolve()}};return b._createClass(m)}();const k=m=>{m=function(e){function d(...n){n=e.call(this,...n)||this;n._promiseProps=new t;n.addResolvingPromise(Promise.resolve());return n}b._inherits(d,e);var l=d.prototype;l.destroy=function(){this._promiseProps?.destroy()};l.isResolved=function(){return this._promiseProps.isResolved()};l.isRejected=function(){return this._promiseProps.isRejected()};
l.isFulfilled=function(){return this._promiseProps.isFulfilled()};l.when=function(n,h){return this._promiseProps.promise.then(()=>this).then(n,h)};l.catch=function(n){return this.when(null,n)};l.addResolvingPromise=function(n){n&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in n?n.when():n)};return b._createClass(d)}(m);return m=c.__decorate([u.subclass("esri.core.Promise")],m)};a.EsriPromise=function(m){function e(){return m.apply(this,arguments)||this}
b._inherits(e,m);return b._createClass(e)}(k(f));a.EsriPromise=c.__decorate([u.subclass("esri.core.Promise")],a.EsriPromise);a.EsriPromiseMixin=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/loadAll":function(){define(["exports","./asyncUtils","./Collection","./Loadable"],function(a,b,c,f){async function g(q,u){const p=[],t=(...m)=>{for(const e of m)null!=e&&(Array.isArray(e)?t(...e):c.isCollection(e)?e.forEach(d=>t(d)):f.isLoadable(e)&&p.push(e))};u(t);let k=null;await b.map(p,
async m=>{m=await b.result("loadAll"in m&&"function"===typeof m.loadAll?m.loadAll():m.load());!1!==m.ok||k||(k=m)});if(k)throw k.error;return q}a.loadAll=async function(q,u){await q.load();return g(q,u)};a.loadAllChildren=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/asyncUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){function t(l){return{ok:!0,value:l}}function k(l){return{ok:!1,error:l}}function m(l){return null!=l&&!0===l.ok?l.value:null}function e(l){return null!=l&&!1===l.ok?l.error:null}let d=function(l){function n(r,z){var x=l.call(this,{})||this;x._result=null;x._abortHandle=null;x.abort=()=>{x._abortController=g.abortMaybe(x._abortController)};x.remove=x.abort;x._abortController=new AbortController;const {signal:w}=x._abortController;x.promise=r(w);x.promise.then(v=>{x._result=
t(v);x._cleanup()},v=>{x._result=k(v);x._cleanup()});x._abortHandle=q.onAbort(z,x.abort);return x}b._inherits(n,l);var h=n.prototype;h.normalizeCtorArgs=function(){return{}};h.destroy=function(){this.abort()};h._cleanup=function(){this._abortHandle=g.removeMaybe(this._abortHandle);this._abortController=null};b._createClass(n,[{key:"value",get:function(){return m(this._result)}},{key:"error",get:function(){return e(this._result)}},{key:"finished",get:function(){return null!=this._result}}]);return n}(f);
c.__decorate([u.property()],d.prototype,"value",null);c.__decorate([u.property()],d.prototype,"error",null);c.__decorate([u.property()],d.prototype,"finished",null);c.__decorate([u.property()],d.prototype,"promise",void 0);c.__decorate([u.property()],d.prototype,"_result",void 0);d=c.__decorate([p.subclass("esri.core.asyncUtils.ReactiveTask")],d);a.assertResult=function(l){if(!0===l.ok)return l.value;throw l.error;};a.createTask=function(l,n){return new d(l,n)};a.forEach=function(l,n,h){return q.eachAlways(l.map((r,
z)=>n.apply(h,[r,z])))};a.makeResultError=k;a.makeResultOk=t;a.map=async function(l,n,h){return(await q.eachAlways(l.map((r,z)=>n.apply(h,[r,z])))).map(r=>r.value)};a.result=async function(l){if(null==l)return{ok:!1,error:Error("no promise provided")};try{return t(await l)}catch(n){return k(n)}};a.resultError=e;a.resultOrAbort=async function(l){try{return t(await l)}catch(n){return q.throwIfAbortError(n),k(n)}};a.resultValue=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/urlUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../config ./arrayUtils ./Error ./Logger ./maybe ../portal/support/urlUtils ../support/base64Utils".split(" "),
function(a,b,c,f,g,q,u,p,t){function k(T){if(!T)return null;const ha={path:null,query:null},ua=new I(T),Ea=T.indexOf("?");null===ua.query?ha.path=T:(ha.path=T.substring(0,Ea),ha.query=m(ua.query));ua.fragment&&(ha.hash=ua.fragment,null===ua.query&&(ha.path=ha.path.substring(0,ha.path.length-(ua.fragment.length+1))));return ha}function m(T){var ha=T.split("\x26");T={};for(const Ea of ha){if(!Ea)continue;var ua=Ea.indexOf("\x3d");0>ua?(ha=decodeURIComponent(Ea),ua=""):(ha=decodeURIComponent(Ea.slice(0,
ua)),ua=decodeURIComponent(Ea.slice(ua+1)));let da=T[ha];"string"===typeof da&&(da=T[ha]=[da]);Array.isArray(da)?da.push(ua):T[ha]=ua}return T}function e(T){return T&&"object"===typeof T&&"toJSON"in T&&"function"===typeof T.toJSON}function d(T,ha){return T?ha&&"function"===typeof ha?Object.keys(T).map(ua=>encodeURIComponent(ua)+"\x3d"+encodeURIComponent(ha(ua,T[ua]))).join("\x26"):Object.keys(T).map(ua=>{const Ea=T[ua];if(null==Ea)return"";const da=encodeURIComponent(ua)+"\x3d";return(ua=ha&&ha[ua])?
da+encodeURIComponent(ua(Ea)):Array.isArray(Ea)?Ea.map(ra=>e(ra)?da+encodeURIComponent(JSON.stringify(ra)):da+encodeURIComponent(ra)).join("\x26"):e(Ea)?da+encodeURIComponent(JSON.stringify(Ea)):da+encodeURIComponent(Ea)}).filter(ua=>ua).join("\x26"):""}function l(T){const ha=T.indexOf("?");-1!==ha?(Y.path=T.slice(0,ha),Y.query=T.slice(ha+1)):(Y.path=T,Y.query=null);return Y}function n(T){T=l(T).path;T&&"/"===T[T.length-1]||(T=`${T}/`);T=X(T,!0);return T=T.toLowerCase()}function h(T){const ha=Ba.proxyRules;
T=n(T);for(let ua=0;ua<ha.length;ua++)if(0===T.indexOf(ha[ua].urlPrefix))return ha[ua]}function r(T){T=w(T);const ha=T.indexOf("/sharing");return 0<ha?T.substring(0,ha):T.replace(/\/+$/,"")}function z(T,ha,ua=!1){if(!T||!ha)return!1;T=P(T);ha=P(ha);return!ua&&T.scheme!==ha.scheme||null==T.host||null==ha.host?!1:T.host.toLowerCase()===ha.host.toLowerCase()&&T.port===ha.port}function x(T,ha=R,ua){if(M(T))return ua&&ua.preserveProtocolRelative?T:"http"===W.scheme&&W.authority===A(T).slice(2)?`http:${T}`:
`https:${T}`;if(!O(T)){ua=u.assumeNonNull;var Ea=v;if("/"===T[0]){var da=ha.indexOf("//");da=ha.indexOf("/",da+2);ha=-1===da?ha:ha.slice(0,da)}return ua.call(u,Ea(ha,T))}return T}function w(T){T=T.trim();T=x(T);if(/^https?:\/\//i.test(T)){const ha=l(T);T=ha.path.replaceAll(/\/{2,}/g,"/");T=T.replace("/","//");ha.query&&(T+=`?${ha.query}`)}T=T.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return T=U(T)}function v(...T){var ha=T.filter(f.isSome);if(ha&&ha.length){T=[];if(B(ha[0])){var ua=ha[0],
Ea=ua.indexOf("//");-1!==Ea&&(T.push(ua.slice(0,Ea+1)),L(ha[0])&&(T[0]+="/"),ha[0]=ua.slice(Ea+2))}else"/"===ha[0][0]&&T.push("");ha=ha.reduce((da,ra)=>ra?da.concat(ra.split("/")):da,[]);for(ua=0;ua<ha.length;ua++)Ea=ha[ua],".."===Ea&&0<T.length&&".."!==T[T.length-1]?T.pop():(!Ea&&ua===ha.length-1||Ea&&("."!==Ea||0===T.length))&&T.push(Ea);return T.join("/")}}function A(T,ha=!1){if(null==T||C(T)||D(T))return null;var ua=T.indexOf("://");if(-1===ua&&M(T))ua=2;else if(-1!==ua)ua+=3;else return null;
ua=T.indexOf("/",ua);-1!==ua&&(T=T.slice(0,ua));ha&&(T=X(T,!0));return T}function B(T){return M(T)||O(T)}function C(T){return null!=T&&"blob:"===T.slice(0,5)}function D(T){return null!=T&&"data:"===T.slice(0,5)}function y(T){return(T=G(T))&&T.isBase64?t.base64ToArrayBuffer(T.data):null}function G(T){T=T.match(la);if(!T)return null;const [,ha,ua,Ea]=T;return{mediaType:ha,isBase64:!!ua,data:Ea}}function F(T){const ha=y(T);if(!ha)return null;T=G(T);return new Blob([ha],{type:T.mediaType})}function K(T,
ha){if(!T)return!1;const ua=document.createElement("a");if(!("download"in ua))return!1;T=URL.createObjectURL(T);ua.download=ha;ua.href=T;ua.style.display="none";document.body.appendChild(ua);ua.click();document.body.removeChild(ua);URL.revokeObjectURL(T);return!0}function M(T){return null!=T&&"/"===T[0]&&"/"===T[1]}function O(T){return null!=T&&Aa.test(T)}function H(T){return null!=T&&ta.test(T)||"https"===W.scheme&&M(T)}function J(T){return null!=T&&ma.test(T)||"http"===W.scheme&&M(T)}function L(T){return null!=
T&&ba.test(T)}function N(T){return M(T)?`https:${T}`:T.replace(ma,"https:")}function V(){return"https"===W.scheme}function X(T,ha=!1){if(M(T))return T.slice(2);T=T.replace(Aa,"");ha&&1<T.length&&"/"===T[0]&&"/"===T[1]&&(T=T.slice(2));return T}function U(T){const ha=Ba.httpsDomains;if(!J(T))return T;const ua=T.indexOf("/",7);let Ea;Ea=-1===ua?T:T.slice(0,ua);Ea=Ea.toLowerCase().slice(7);if(ka.test(Ea))if(Ea.endsWith(":80"))Ea=Ea.slice(0,-3),T=T.replace(":80","");else return T;if("http"===W.scheme&&
Ea===W.authority&&!Fa.test(T))return T;if(V()&&Ea===W.authority||ha&&ha.some(da=>Ea===da||Ea.endsWith(`.${da}`))||V()&&!h(T))T=N(T);return T}function P(T){if("string"===typeof T)return new I(x(T));T.scheme||(T.scheme=W.scheme);return T}const fa=q.getLogger("esri.core.urlUtils"),Ba=c.request,Aa=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,ma=/^\s*http:/i,ta=/^\s*https:/i,ba=/^\s*file:/i,ka=/:\d+$/,Fa=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Na=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),
Qa=RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");let I=function(){function T(ha=""){this.uri=ha;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;ha=u.assumeNonNull(this.uri.match(Na));this.scheme=ha[2]||(ha[1]?"":null);this.authority=ha[4]||(ha[3]?"":null);this.path=ha[5];this.query=ha[7]||(ha[6]?"":null);this.fragment=ha[9]||(ha[8]?"":null);null!=this.authority&&(ha=u.assumeNonNull(this.authority.match(Qa)),
this.user=ha[3]||null,this.password=ha[4]||null,this.host=ha[6]||ha[7],this.port=ha[9]||null)}T.prototype.toString=function(){return this.uri};return b._createClass(T)}();const S={},qa=new I(c.applicationUrl);let W=qa;const pa=function(){var T=u.assumeNonNull(W.path);T=T.substring(0,T.lastIndexOf(T.split("/")[T.split("/").length-1]));return`${`${W.scheme}://${W.host}${null!=W.port?`:${W.port}`:""}`}${T}`}();let R=pa;const Y={path:"",query:""},la=/^data:(.*?)(;base64)?,(.*)$/,ja=/([^.]*)\.([^\/]*)$/,
sa=/(^data:image\/svg|\.svg$)/i;a.Url=I;a.addProxy=function(T){var ha=h(T),ua=void 0;if(ha){var Ea=l(ha.proxyUrl);ua=Ea.path;Ea=Ea.query?m(Ea.query):null}ua&&(ha=k(T),T=ua+"?"+ha.path,(ua=d({...Ea,...ha.query}))&&(T=`${T}?${ua}`));return T};a.addProxyRule=function(T){T={proxyUrl:T.proxyUrl,urlPrefix:n(T.urlPrefix)};const ha=Ba.proxyRules,ua=T.urlPrefix;let Ea=ha.length;for(let da=0;da<ha.length;da++){const ra=ha[da].urlPrefix;if(0===ua.indexOf(ra)){if(ua.length===ra.length)return-1;Ea=da;break}0===
ra.indexOf(ua)&&(Ea=da+1)}ha.splice(Ea,0,T);return Ea};a.addQueryParameter=function(T,ha,ua){T=k(T);const Ea=T.query||{};Ea[ha]=String(ua);return`${T.path}?${d(Ea)}`};a.addQueryParameters=function(T,ha){T=k(T);const ua=T.query||{};for(const Ea in ha)ua[Ea]=ha[Ea];return(ha=d(ua))?`${T.path}?${ha}`:T.path};a.base64UrlEncode=function(T){return btoa(String.fromCharCode.apply(null,T)).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")};a.changeDomain=function(T,ha,ua){if(!(ha&&ua&&T&&B(T)))return T;
const Ea=T.indexOf("//");var da=T.indexOf("/",Ea+2);const ra=T.indexOf(":",Ea+2);da=Math.min(0>da?T.length:da,0>ra?T.length:ra);if(T.slice(Ea+2,da).toLowerCase()!==ha.toLowerCase())return T;ha=T.slice(0,Ea+2);T=T.slice(da);return`${ha}${ua}${T}`};a.dataComponents=G;a.dataToArrayBuffer=y;a.dataToBlob=F;a.downloadBlobAsFile=function(T,ha){K(T,ha)};a.downloadDataAsFile=function(T,ha){(T=F(T))&&K(T,ha)};a.getAppBaseUrl=()=>R;a.getAppUrl=()=>W;a.getFilename=function(T,ha){if(!T)return"";T=k(T).path.replace(/\/+$/,
"");T=T.substring(T.lastIndexOf("/")+1);if(!ha?.length)return T;ha=new RegExp(`.(${ha.join("|")})$`,"ig");return T.replace(ha,"")};a.getInterceptor=function(T){const ha=Ea=>null==Ea||Ea instanceof RegExp&&Ea.test(T)||"string"===typeof Ea&&T.startsWith(Ea),ua=Ba.interceptors;if(ua)for(const Ea of ua)if(Array.isArray(Ea.urls)){if(Ea.urls.some(ha))return Ea}else if(ha(Ea.urls))return Ea;return null};a.getOrigin=A;a.getPathExtension=function(T){return null==T?null:(T=T.match(ja))?T[2]:null};a.getProxyRule=
h;a.getProxyUrl=function(T=!1){let ha,ua=Ba.proxyUrl;if("string"===typeof T){if(ha=H(T),T=h(T))ua=T.proxyUrl}else ha=!!T;if(!ua)throw fa.warn("esri/config: esriConfig.request.proxyUrl is not set."),new g("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");ha&&V()&&(ua=N(ua));return k(ua)};a.hasProtocol=O;a.hasSameCanonicalArcGISOnlinePortal=function(T,ha){if(!T||!ha)return!1;T=r(T);ha=r(ha);T=p.parseKnownArcGISOnlineDomain(T);ha=p.parseKnownArcGISOnlineDomain(ha);return null!=
T&&null!=ha?T.portalHostname===ha.portalHostname:!1};a.hasSameCanonicalPortal=function(T,ha){if(!T||!ha)return!1;T=r(T);ha=r(ha);const ua=p.parseKnownArcGISOnlineDomain(T),Ea=p.parseKnownArcGISOnlineDomain(ha);return null!=ua&&null!=Ea?ua.portalHostname===Ea.portalHostname:null!=ua||null!=Ea?!1:z(T,ha,!0)};a.hasSameOrigin=z;a.hasSamePortal=function(T,ha){T=r(T);ha=r(ha);return X(T)===X(ha)};a.isAbsolute=B;a.isAppHTTPS=V;a.isBlobProtocol=C;a.isDataProtocol=D;a.isHTTPSProtocol=H;a.isProtocolRelative=
M;a.isSVG=function(T){return sa.test(T)};a.isTrustedServer=function(T){if("string"===typeof T)if(B(T))T=P(T);else return!0;if(z(T,W))return!0;const ha=Ba.trustedServers||[];for(let Ea=0;Ea<ha.length;Ea++){var ua=ha[Ea];S[ua]||(O(ua)||M(ua)?S[ua]=[new I(x(ua))]:S[ua]=[new I(`http://${ua}`),new I(`https://${ua}`)]);ua=S[ua];for(let da=0;da<ua.length;da++)if(z(T,ua[da]))return!0}return!1};a.join=v;a.makeAbsolute=x;a.makeData=function(T){return T.isBase64?`data:${T.mediaType};base64,${T.data}`:`data:${T.mediaType},${T.data}`};
a.makeRelative=function(T,ha=R,ua){if(null==T||!B(T))return T;var Ea=w(T),da=Ea.toLowerCase();ha=w(ha).toLowerCase().replace(/\/+$/,"");if((ua=ua?w(ua).toLowerCase().replace(/\/+$/,""):null)&&0!==ha.indexOf(ua))return T;const ra=(Z,ia,Da)=>{Da=Z.indexOf(ia,Da);return-1===Da?Z.length:Da};let wa=ra(da,"/",da.indexOf("//")+2),Ma=-1;for(;da.slice(0,wa+1)===ha.slice(0,wa)+"/";){Ma=wa+1;if(wa===da.length)break;wa=ra(da,"/",wa+1)}if(-1===Ma||ua&&Ma<ua.length)return T;T=Ea.slice(Ma);Ea=ha.slice(Ma-1).replaceAll(/[^/]+/g,
"").length;if(0<Ea)for(da=0;da<Ea;da++)T=`../${T}`;else T=`./${T}`;return T};a.normalize=w;a.objectToQuery=d;a.parseData=async function(T){return"string"===typeof T?G(T)??{data:T}:new Promise((ha,ua)=>{const Ea=new FileReader;Ea.readAsDataURL(T);Ea.onload=()=>ha(G(Ea.result));Ea.onerror=da=>ua(da)})};a.queryToObject=m;a.removeFile=function(T){let ha=0;if(B(T)){var ua=T.indexOf("//");-1!==ua&&(ha=ua+2)}ua=T.lastIndexOf("/");return ua<ha?T:T.slice(0,ua+1)};a.removeQueryParameter=function(T,ha){const {path:ua,
query:Ea}=k(T);if(!Ea)return T;delete Ea[ha];return(T=d(Ea))?`${ua}?${T}`:ua};a.removeQueryParameters=function(T,ha){T=k(T);const ua=Object.keys(T.query||{});0<ua.length&&ha&&ha.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${ua.join(", ")}.`);return T.path};a.removeTrailingSlash=function(T){return T.replace(/\/+$/,"")};a.splitPathExtension=function(T){if(null==T)return null;const ha=T.match(ja);return ha?{path:ha[1],extension:ha[2]}:
{path:T,extension:null}};a.test={setAppUrl:T=>W=T,setAppBaseUrl:T=>R=T,restoreUrls:()=>{W=qa;R=pa}};a.toHTTP=function(T){return M(T)?`http:${T}`:T.replace(ta,"http:")};a.toHTTPS=N;a.trustedServersUrlCache=S;a.urlToObject=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/urlUtils":function(){define(["exports"],function(a){const b=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,c={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},
qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};a.isSecureProxyService=function(f){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(f)};a.parseKnownArcGISOnlineDomain=function(f){f=f?.match(b);if(!f)return null;const [,g,q,u]=f;if(!g)return null;let p=f=null,t=null;const {devext:k,qaext:m,www:e}=c;if(q)if(f=g,u)switch(u.toLowerCase()){case "devext":({customBaseUrl:p,portalHostname:t}=k);break;
case "qa":({customBaseUrl:p,portalHostname:t}=m);break;default:return null}else({customBaseUrl:p,portalHostname:t}=e);else switch(g.toLowerCase()){case "devext":({customBaseUrl:p,portalHostname:t}=k);break;case "qaext":({customBaseUrl:p,portalHostname:t}=m);break;case "www":({customBaseUrl:p,portalHostname:t}=e);break;default:return null}return{customBaseUrl:p,isPortal:!1,portalHostname:t,urlKey:f}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/base64Utils":function(){define(["exports"],
function(a){a.base64ToArrayBuffer=function(b){b=atob(b);const c=new Uint8Array(b.length);for(let f=0;f<b.length;f++)c[f]=b.charCodeAt(f);return c.buffer};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(c,f,g){let q,u;void 0===f?(u=c,q=[void 0]):"string"!==typeof f?(u=c,q=[void 0],g=f):(u=f,q=Array.isArray(c)?c:[c]);return(p,t)=>{const k=p.constructor.prototype;for(const m of q){const e=
b.propertyJSONMeta(p,m,u);e.write&&"object"===typeof e.write||(e.write={});g&&(e.write.target=g);e.write.writer=k[t]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/SpatialReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/unitUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;c=m=function(e){function d(n){n=e.call(this,n)||this;n.latestWkid=null;n.wkid=null;n.wkt=null;n.vcsWkid=null;n.latestVcsWkid=null;n.imageCoordinateSystem=null;return n}a._inherits(d,e);d.fromJSON=function(n){if(!n)return null;if(n.wkid){if(102100===n.wkid)return m.WebMercator;if(4326===n.wkid)return m.WGS84}const h=new m;h.read(n);return h};var l=d.prototype;l.normalizeCtorArgs=function(n){return n&&"object"===typeof n?n:{["string"===typeof n?"wkt":"wkid"]:n}};
l.writeWkt=function(n,h){this.wkid||(h.wkt=n)};l.clone=function(){if(this===m.WGS84)return m.WGS84;if(this===m.WebMercator)return m.WebMercator;const n=new m;null!=this.wkid?(n.wkid=this.wkid,null!=this.latestWkid&&(n.latestWkid=this.latestWkid),null!=this.vcsWkid&&(n.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(n.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(n.wkt=this.wkt);this.imageCoordinateSystem&&(n.imageCoordinateSystem=f.clone(this.imageCoordinateSystem));return n};l.equals=function(n){if(null==
n)return!1;if(this.imageCoordinateSystem||n.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==n.imageCoordinateSystem)return!1;const {id:h,referenceServiceName:r}=n.imageCoordinateSystem,{geodataXform:z}=n.imageCoordinateSystem,x=this.imageCoordinateSystem;return null==h||z?JSON.stringify(x)===JSON.stringify(n.imageCoordinateSystem):r?x.id===h&&x.referenceServiceName===r:x.id===h}return k.equals(this,n)};l.toJSON=function(n){return this.write(void 0,n)};a._createClass(d,[{key:"isWGS84",
get:function(){return k.isWGS84(this)}},{key:"isWebMercator",get:function(){return k.isWebMercator(this)}},{key:"isGeographic",get:function(){return k.isGeographic(this)}},{key:"isWrappable",get:function(){return k.isWrappable(this)}},{key:"metersPerUnit",get:function(){return g.getMetersPerUnitForSR(this)}},{key:"unit",get:function(){return g.getUnitString(this)||(this.isGeographic?"degrees":null)}}]);return d}(c.JSONSupport);c.GCS_NAD_1927=null;c.WGS84=null;c.WebMercator=null;c.PlateCarree=null;
b.__decorate([u.property({readOnly:!0})],c.prototype,"isWGS84",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"isWebMercator",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"isGeographic",null);b.__decorate([u.property({readOnly:!0})],c.prototype,"isWrappable",null);b.__decorate([u.property({type:q.Integer,json:{write:!0}})],c.prototype,"latestWkid",void 0);b.__decorate([u.property({readOnly:!0})],c.prototype,"metersPerUnit",null);b.__decorate([u.property({readOnly:!0})],c.prototype,
"unit",null);b.__decorate([u.property({type:q.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],c.prototype,"wkid",void 0);b.__decorate([u.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],c.prototype,"wkt",void 0);b.__decorate([t.writer("wkt"),t.writer("web-scene","wkt")],c.prototype,"writeWkt",null);b.__decorate([u.property({type:q.Integer,json:{write:!0}})],c.prototype,
"vcsWkid",void 0);b.__decorate([u.property({type:q.Integer,json:{write:!0}})],c.prototype,"latestVcsWkid",void 0);b.__decorate([u.property()],c.prototype,"imageCoordinateSystem",void 0);c=m=b.__decorate([p.subclass("esri.geometry.SpatialReference")],c);c.prototype.toJSON.isDefaultToJSON=!0;c.GCS_NAD_1927=new c({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});c.WGS84=
new c(k.WGS84);c.WebMercator=new c(k.WebMercator);c.PlateCarree=new c(k.PlateCarree);Object.freeze&&(Object.freeze(c.GCS_NAD_1927),Object.freeze(c.WGS84),Object.freeze(c.WebMercator));return c})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/ellipsoidUtils ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,c,f,g,q,u){function p(N){N=H[N];if(!N)throw Error("unknown type");return N}function t(N){return O[N].baseUnit}
function k(N,V=null){V=V||p(N);return O[V].baseUnit===N}function m(N,V,X){if(V===X)return N;const U=p(V);if(U!==p(X))throw Error("incompatible units");N=k(V,U)?N:N*O[U].units[V].inBaseUnits;return k(X,U)?N:N/O[U].units[X].inBaseUnits}function e(N,V){N=m(N,V,"meters");return 3E3>Math.abs(N)?"meters":"kilometers"}function d(N,V){N=m(N,V,"meters");return 1E5>Math.abs(N)?"meters":"kilometers"}function l(N,V){N=m(N,V,"feet");return 1E3>Math.abs(N)?"feet":"miles"}function n(N,V){N=m(N,V,"feet");return 1E5>
Math.abs(N)?"feet":"miles"}function h(N,V){N=m(N,V,"square-meters");return 3E6>Math.abs(N)?"square-meters":"square-kilometers"}function r(N,V){N=m(N,V,"square-feet");return 1E6>Math.abs(N)?"square-feet":"square-miles"}function z(N){return M.fromJSON(N.toLowerCase())||null}function x(N){const V=w(N),X=f.getReferenceEllipsoid(N).metersPerDegree;return V>=X?"meters":B(N)}function w(N,V=g.earth.metersPerDegree){return v(N,!0)??V}function v(N,V=!1){const X=null!=N?N.wkid:null;N=null!=N?N.wkt:null;let U=
null;if(X){if(q.isWKIDFromMars(X))return g.mars.metersPerDegree;if(q.isWKIDFromMoon(X))return g.moon.metersPerDegree;U=G.values[G[X]];!U&&V&&K.has(X)&&(U=D)}else N&&(C(N)?U=A(y.exec(N),U):/^GEOCCS/i.test(N)&&(U=A(F.exec(N),U)));return U}function A(N,V){return N&&N[1]?parseFloat(N[1].split(",")[1]):V}function B(N){var V=null!=N?N.wkid:null,X=null!=N?N.wkt:null;N=null;if(V)N=G.units[G[V]];else if(X&&(V=C(X)?y:/^GEOCCS/i.test(X)?F:null)&&(V=V.exec(X))&&V[1]&&(V=V[1],N=(N=/[\\"\\']{1}([^\\"\\']+)/.exec(V))&&
N[1],!N||!G.units.includes(N))){V=parseFloat(V.split(",")[1]);N=null;X=G.values;for(let U=0;U<X.length;++U)if(1E-7>Math.abs(V-X[U])){N=G.units[U];break}}return null!=N?z(N):null}function C(N){return/^PROJCS/i.test(N)}const D=g.earth.radius*Math.PI/200,y=/UNIT\[([^\]]+)\]\]$/i,G=u,F=/UNIT\[([^\]]+)\]/i,K=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),M=c.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",
link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},
inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};u={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},
"square-us-feet":{inBaseUnits:(N=>N*N)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const O={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:u},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},
"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},H=(()=>{const N={};for(const V in O)for(const X in O[V].units)N[X]=V;return N})(),J="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),L=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);b=
c.strict()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"});u=c.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",
esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"});c=c.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});a.angleUnitsJSONMap=c;a.areaUnitFromSpatialReference=function(N){N=B(N);return null==N?null:L.get(N)};a.areaUnitsJSONMap=b;a.baseUnitForUnit=function(N){return t(p(N))};a.baseUnitForUnitType=t;a.convertUnit=m;a.getDefaultUnitSystem=function(N){N=
B(N);if(null==N)return null;switch(N){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerCartesianUnitForSR=function(N){return N.isGeographic?1:w(N)};a.getMetersPerUnit=
v;a.getMetersPerUnitForSR=w;a.getMetersPerVerticalUnitForSR=function(N){if(null!=N&&!q.isEarth(N))return 1;N=w(N);return 1E5<N?1:N};a.getUnitString=B;a.getVerticalUnitStringForSR=x;a.inchesPerMeter=39.37;a.isBaseUnit=k;a.isMeasurementSystem=function(N){return"imperial"===N||"metric"===N};a.isProjectedWKT=C;a.lengthToDegrees=function(N,V,X){return m(N,V,"meters")/(X*Math.PI/180)};a.lengthUnitFromSpatialReference=function(N){N=B(N);return null!=N&&J.includes(N)?N:null};a.lengthUnitsJSONMap=u;a.measurementAreaUnits=
"metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits=J;a.preferredAreaUnit=function(N,V,X){switch(X){case "metric":return h(N,V);case "imperial":return r(N,V);default:return X}};a.preferredImperialAreaUnit=r;a.preferredImperialLengthUnit=l;a.preferredImperialVerticalLengthUnit=n;a.preferredLengthUnit=function(N,V,X){switch(X){case "metric":return e(N,V);case "imperial":return l(N,
V);default:return X}};a.preferredMetricAreaUnit=h;a.preferredMetricLengthUnit=e;a.preferredMetricVerticalLengthUnit=d;a.preferredVerticalLengthUnit=function(N,V,X){switch(X){case "metric":return d(N,V);case "imperial":return n(N,V);default:return X}};a.unitFromRESTJSON=z;a.unitToRESTJSON=function(N){return M.toJSON(N)||null};a.unitType=p;a.verticalLengthUnitFromSpatialReference=function(N){N=x(N);return null!=N&&J.includes(N)?N:null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/jsonMap":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./object"],function(a,b,c){let f=function(){function g(u,p={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=u;this._options=p;this.apiValues=[];this.jsonValues=[];this._apiToJSON=this._invertMap(u);this.apiValues=this._getKeysSorted(this._apiToJSON);this.jsonValues=this._getKeysSorted(this._jsonToAPI);this.read=t=>this.fromJSON(t);this.write=(t,k,m)=>{t=this.toJSON(t);void 0!==t&&c.setDeepValue(m,t,k)};this.write.isJSONMapWriter=
!0}var q=g.prototype;q.toJSON=function(u){return null==u?null:this._apiToJSON.hasOwnProperty(u)?(u=this._apiToJSON[u],this._options.useNumericKeys?+u:u):this._options.ignoreUnknown?void 0:u};q.fromJSON=function(u){return null!=u&&this._jsonToAPI.hasOwnProperty(u)?this._jsonToAPI[u]:this._options.ignoreUnknown?void 0:u};q._invertMap=function(u){const p={};for(const t in u)p[u[t]]=t;return p};q._getKeysSorted=function(u){const p=[];for(const t in u)p.push(t);p.sort();return p};return b._createClass(g)}();
a.JSONMap=f;a.strict=function(){return function(g,q){return new f(g,{ignoreUnknown:!0,...q})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/ellipsoidUtils":function(){define(["exports","./support/Ellipsoid","./support/spatialReferenceUtils"],function(a,b,c){function f(t){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${t.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}
const g=f(b.earth),q=f(b.mars),u=f(b.moon),p={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${b.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`};a.SphericalECEFSpatialReferenceLike=g;a.SphericalPCPFMarsLike=
q;a.SphericalPCPFMoonLike=u;a.WGS84ECEFSpatialReferenceLike=p;a.getReferenceEllipsoid=function(t){return null!=t&&(c.isMars(t)||c.equals(t,q))?b.mars:null!=t&&(c.isMoon(t)||c.equals(t,u))?b.moon:b.earth};a.getReferenceEllipsoidFromWKID=function(t){return c.isWKIDFromMars(t)?b.mars:c.isWKIDFromMoon(t)?b.moon:b.earth};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Ellipsoid":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b){let c=
function(){function u(p,t,k,m){this.semiMajorAxis=p;this.flattening=t;this.outerAtmosphereRimWidth=k;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=m||2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}b._createClass(u,
[{key:"radius",get:function(){return this.semiMajorAxis}}]);return u}();const f=new c(6378137,1/298.257223563,3E5,.006694379990137799),g=new c(3396190,.005886007555525457,23E4),q=new c(1737400,0,0);a.Ellipsoid=c;a.earth=f;a.mars=g;a.moon=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/string","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,c,f){function g(h){return k(h)&&null!=h.wkid&&
!0===m[h.wkid]}function q(h){return h===c.SupportedGCSWkids.GCSMARS2000||h===c.SupportedGCSWkids.GCSMARS2000_SPHERE}function u(h){return k(h)&&null!=h.wkid&&q(h.wkid)}function p(h){return h===c.SupportedGCSWkids.GCSMOON2000}function t(h){return k(h)&&null!=h.wkid&&p(h.wkid)}function k(h){return null!=h&&(null!=h.wkid&&2E3<=h.wkid||null!=h.wkt)}const m={102113:!0,102100:!0,3857:!0,3785:!0},e={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},d=[-2.0037508342788905E7,2.0037508342788905E7],
l=[-2.0037508342787E7,2.0037508342787E7],n={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:d,origin:l,
dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:d,origin:l,dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:d,origin:l,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:d,origin:l,
dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};b={wkid:4326,wkt:b.replace(n[4326].wkTemplate,{Central_Meridian:"0.0"})};a.PlateCarree={wkid:32662};a.WGS84=b;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(h,r){return h===r?!0:null==h||null==r?!1:null!=h.wkid||null!=r.wkid?h.wkid===r.wkid||g(h)&&g(r)||null!=r.latestWkid&&h.wkid===r.latestWkid||null!=h.latestWkid&&r.wkid===h.latestWkid:h.wkt&&r.wkt?h.wkt.toUpperCase()===r.wkt.toUpperCase():!1};a.getInfo=function(h){return k(h)&&h.wkid?n[h.wkid]||null:null};a.isCGCS2000=function(h){return k(h)&&
h.wkid===c.SupportedGCSWkids.CGCS2000};a.isEarth=function(h){return!(u(h)||t(h))};a.isGeographic=function(h){return k(h)?h.wkid?null==f[h.wkid]:h.wkt?!!/^\s*GEOGCS/i.test(h.wkt):!1:!1};a.isMars=u;a.isMoon=t;a.isPlateCarree=function(h){return k(h)&&32662===h.wkid};a.isValid=k;a.isWGS84=function(h){return k(h)&&4326===h.wkid};a.isWKIDFromMars=q;a.isWKIDFromMoon=p;a.isWebMercator=g;a.isWrappable=function(h){return k(h)&&null!=h.wkid&&!0===e[h.wkid]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;const b={values:[1,.3048,.3048006096012192,
.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,
2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,
3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,
3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,
3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,
5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,
6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,
6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,
6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,
6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,
7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,
7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,
8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,
8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,
8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,
22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,
29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,
102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,
103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,
103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,
103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,
103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=
2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=
0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=
2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=
0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=
0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=
0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=
0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=
0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=
0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=
0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=9821;9865>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20047;20049>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=
0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22207;22222>=a;a++)b[a]=0;for(a=22234;22236>=
a;a++)b[a]=0;for(a=22243;22250>=a;a++)b[a]=0;for(a=22262;22265>=a;a++)b[a]=0;for(a=22307;22322>=a;a++)b[a]=0;for(a=22348;22357>=a;a++)b[a]=0;for(a=22407;22422>=a;a++)b[a]=0;for(a=22462;22465>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22607;22622>=a;a++)b[a]=0;for(a=22641;22646>=a;a++)b[a]=0;for(a=22648;22657>=a;a++)b[a]=0;for(a=22707;22722>=a;a++)b[a]=0;for(a=22762;22765>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=
a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=
a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=
a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=
a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32159>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=
a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=
a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=
a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=a;a++)b[a]=13;for(a=102951;102955>=
a;a++)b[a]=0;for(a=102961;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=
a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=
a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=
a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=
a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103890>=a;a++)b[a]=0;for(a=103891;103896>=a;a++)b[a]=2;for(a=103900;103971>=a;a++)b[a]=2;for(a=103972;103977>=a;a++)b[a]=0;for(a=112E3;112101>=
a;a++)b[a]=0;return b})},"esri/portal/Portal":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./portalDefault ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C){function D(O){const H=g.id;return()=>{const J=O.deref();J&&H.findCredential(J.restUrl)&&J.signIn().catch(()=>{})}}const y=O=>Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));var G;let F;const K={PortalGroup:()=>new Promise((O,H)=>a(["./PortalGroup"],J=>O(y(J)),H)),PortalItem:()=>new Promise((O,H)=>a(["./PortalItem"],J=>O(y(J)),H)),PortalUser:()=>new Promise((O,H)=>a(["./PortalUser"],J=>O(y(J)),
H))};p=G=function(O){function H(L){L=O.call(this,L)||this;L._esriIdCredentialCreateHandle=null;L.access=null;L.allSSL=!1;L.authMode="auto";L.authorizedCrossOriginDomains=null;L.basemapGalleryGroupQuery=null;L.basemapGalleryGroupQuery3D=null;L.bingKey=null;L.canListApps=!1;L.canListData=!1;L.canListPreProvisionedItems=!1;L.canProvisionDirectPurchase=!1;L.canSearchPublic=!0;L.canShareBingPublic=!1;L.canSharePublic=!1;L.canSignInArcGIS=!1;L.canSignInIDP=!1;L.colorSetsGroupQuery=null;L.commentsEnabled=
!1;L.created=null;L.culture=null;L.customBaseUrl=null;L.defaultBasemap=null;L.defaultDevBasemap=null;L.defaultExtent=null;L.defaultVectorBasemap=null;L.description=null;L.devBasemapGalleryGroupQuery=null;L.eueiEnabled=null;L.featuredGroups=null;L.featuredItemsGroupQuery=null;L.galleryTemplatesGroupQuery=null;L.livingAtlasGroupQuery=null;L.hasCategorySchema=!1;L.helperServices=null;L.homePageFeaturedContent=null;L.homePageFeaturedContentCount=null;L.httpPort=null;L.httpsPort=null;L.id=null;L.ipCntryCode=
null;L.isPortal=!1;L.isReadOnly=!1;L.layerTemplatesGroupQuery=null;L.maxTokenExpirationMinutes=null;L.modified=null;L.name=null;L.portalHostname=null;L.portalMode=null;L.portalProperties=null;L.region=null;L.rotatorPanels=null;L.showHomePageDescription=!1;L.sourceJSON=null;L.supportsHostedServices=!1;L.symbolSetsGroupQuery=null;L.templatesGroupQuery=null;L.units=null;L.url=f.portalUrl;L.urlKey=null;L.user=null;L.use3dBasemaps=!0;L.useStandardizedQuery=!1;L.useVectorBasemaps=!1;L.vectorBasemapGalleryGroupQuery=
null;return L}b._inherits(H,O);var J=H.prototype;J.normalizeCtorArgs=function(L){return"string"===typeof L?{url:L}:L};J.destroy=function(){M.unregister(this);this.defaultBasemap=k.destroyMaybe(this.defaultBasemap);this.defaultDevBasemap=k.destroyMaybe(this.defaultDevBasemap);this.defaultVectorBasemap=k.destroyMaybe(this.defaultVectorBasemap);this._esriIdCredentialCreateHandle=k.removeMaybe(this._esriIdCredentialCreateHandle)};J.readAuthorizedCrossOriginDomains=function(L){if(L)for(const N of L)f.request.trustedServers.includes(N)||
f.request.trustedServers.push(N);return L};J.readDefaultBasemap=function(L){return this._readBasemap(L)};J.readDefaultDevBasemap=function(L){return this._readBasemap(L)};J.readDefaultVectorBasemap=function(L){return this._readBasemap(L)};J.readUrlKey=function(L){return L?L.toLowerCase():L};J.readUser=function(L){let N=null;L&&(N=B.fromJSON(L),N.portal=this);return N};J.load=function(L){const N=(new Promise((V,X)=>a(["../Basemap"],U=>V(y(U)),X))).then(({default:V})=>{m.throwIfAborted(L);F=V}).then(()=>
this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,L)).then(V=>{if(g.id){const X=g.id;this.credential=X.findCredential(this.restUrl);this.credential||this.authMode!==G.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=X.on("credential-create",D(new WeakRef(this))),M.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=V;this.read(V)});this.addResolvingPromise(N);return Promise.resolve(this)};J.createElevationLayers=async function(){await this.load();
const L=this._getHelperService("defaultElevationLayers"),N=(await new Promise((V,X)=>a(["../layers/ElevationLayer"],U=>V(y(U)),X))).default;return L?L.map(V=>new N({id:V.id,url:V.url})):[]};J.fetchBasemaps=async function(L,N){const V=await this._fetchBasemaps(L,N);!0===N?.include3d&&!1!==this.use3dBasemaps&&(L=await this._fetchBasemaps3D(L,N),V.unshift(...L));return V};J.fetchCategorySchema=function(L){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",L).then(N=>
N.categorySchema):m.isAborted(L)?Promise.reject(m.createAbortError()):Promise.resolve([])};J.fetchFeaturedGroups=function(L){const N=this.featuredGroups,V=new v;V.num=100;V.sortField="title";if(N&&N.length){const X=[];for(const U of N)X.push(`(title:"${U.title}" AND owner:${U.owner})`);V.query=X.join(" OR ");return this.queryGroups(V,L).then(U=>U.results)}return m.isAborted(L)?Promise.reject(m.createAbortError()):Promise.resolve([])};J.fetchRegions=function(L){const N=this.user?.culture||this.culture||
x.getLocale();return this.request(this.restUrl+"/portals/regions",{...L,query:{culture:N}})};J.fetchSettings=function(L){const N=this.user?.culture||this.culture||x.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...L,query:{culture:N}})};H.getDefault=function(){return w.ensureDefaultPortalInstance(()=>new G)};J.queryGroups=function(L,N){return this.queryPortal("/community/groups",L,"PortalGroup",N)};J.queryItems=function(L,N){return this.queryPortal("/search",L,"PortalItem",
N)};J.queryUsers=function(L,N){L.sortField||(L.sortField="username");return this.queryPortal("/community/users",L,"PortalUser",N)};J.fetchSelf=function(L=this.authMode,N=!1,V){const X=this.restUrl+"/portals/self";L={authMode:L,query:{culture:x.getLocale().toLowerCase()},...V};"auto"===L.authMode&&(L.authMode="no-prompt");N&&(L.query.default=!0);return this.request(X,L)};J.queryPortal=function(L,N,V,X){const U=d.ensureType(v,N),P=fa=>this.request(this.restUrl+L,{...U.toRequestOptions(this),...X}).then(Ba=>
{const Aa=U.clone();Aa.start=Ba.nextStart;return new A({nextQueryParams:Aa,queryParams:U,total:Ba.total,results:G._resultsToTypedArray(fa,{portal:this},Ba,X)})}).then(Ba=>Promise.all(Ba.results.map(Aa=>"function"===typeof Aa.when?Aa.when():Ba)).then(()=>Ba,Aa=>{m.throwIfAbortError(Aa);return Ba}));return V&&K[V]?K[V]().then(({default:fa})=>{m.throwIfAborted(X);return P(fa)}):P()};J.signIn=function(){if(this.authMode===G.AUTH_MODE_ANONYMOUS)return Promise.reject(new u("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));
if("failed"===this.loadStatus)return Promise.reject(this.loadError);const L=N=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return N||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=N;return this.fetchSelf("immediate")});if(this.user&&this.credential===N)return null;this.credential=N;return this.fetchSelf("immediate")}).then(V=>{V&&(this.sourceJSON=V,this.read(V))});return g.id?
g.id.getCredential(this.restUrl).then(N=>L(N)):L(this.credential)};J.normalizeUrl=function(L){const N=this.credential&&this.credential.token;return this._normalizeSSL(N?L+(L.includes("?")?"\x26":"?")+"token\x3d"+N:L)};J.requestToTypedArray=function(L,N,V){return this.request(L,N).then(X=>{const U=G._resultsToTypedArray(V,{portal:this},X);return Promise.all(U.map(P=>"function"===typeof P.when?P.when():X)).then(()=>U,()=>U)})};J.request=function(L,N={}){const V={f:"json",...N.query},{authMode:X=this.authMode===
G.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:U=null,cacheBust:P=!1,method:fa="auto",responseType:Ba="json",signal:Aa}=N;N={authMode:X,body:U,cacheBust:P,method:fa,query:V,responseType:Ba,timeout:0,signal:Aa};return q(this._normalizeSSL(L),N).then(ma=>ma.data)};J.toJSON=function(){throw new u("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};H.fromJSON=function(L){if(!L)return null;if(L.declaredClass)throw Error("JSON object is already hydrated");return new G({sourceJSON:L})};
J._getHelperService=function(L){const N=this.helperServices&&this.helperServices[L];if(!N)throw new u("portal:service-not-found",`The \`helperServices\` do not include an entry named "${L}"`);return N};J._fetchBasemaps=async function(L,N){const V=new v;V.query=L||(f.apiKey&&C.supportsApiKey(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);V.disableExtraQuery=!0;L=await this.queryGroups(V,N);if(!L.total)return[];L=
L.results[0];V.num=100;V.query='type:"Web Map" -type:"Web Application"';V.sortField=L.sortField||"name";V.sortOrder=L.sortOrder||"desc";N=await L.queryItems(V,N);return N.total?N.results.filter(X=>"Web Map"===X.type).map(X=>new F({portalItem:X})):[]};J._fetchBasemaps3D=async function(L,N){L=L||this.basemapGalleryGroupQuery3D;if(!L)return[];L=new v({query:L,disableExtraQuery:!0});var V=await this.queryGroups(L,N);if(!V.total)return[];V=V.results[0];L.num=100;L.query='type:"Web Scene"';L.sortField=
V.sortField||"name";L.sortOrder=V.sortOrder||"desc";N=await V.queryItems(L,N);return N.total?N.results.filter(X=>"Web Scene"===X.type).map(X=>new F({portalItem:X})):[]};J._normalizeSSL=function(L){return L.replace(/^http:/i,"https:").replace(":7080",":7443")};J._readBasemap=function(L){return L?(L=F.fromJSON(L),L.portalItem={portal:this},L):null};H._resultsToTypedArray=function(L,N,V,X){let U=[];if(V){const P=null!=X?X.signal:null;U=V.listings||V.notifications||V.userInvitations||V.tags||V.items||
V.groups||V.comments||V.provisions||V.results||V.relatedItems||V;if(L||N)U=U.map(fa=>{fa=Object.assign(L?L.fromJSON(fa):fa,N);"function"===typeof fa.load&&fa.load(P);return fa})}else U=[];return U};b._createClass(H,[{key:"extraQuery",get:function(){const L=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!L?` AND orgid:${this.id}`:null}},{key:"isOrganization",get:function(){return!!this.access}},{key:"itemPageUrl",get:function(){return this.url?`${this.url}/home/item.html`:null}},
{key:"restUrl",get:function(){let L=this.url;if(L){const N=L.indexOf("/sharing");L=0<N?L.substring(0,N):this.url.replace(/\/+$/,"");L+="/sharing/rest"}return L}},{key:"thumbnailUrl",get:function(){const L=this.restUrl,N=this.thumbnail;return L&&N?this._normalizeSSL(L+"/portals/self/resources/"+N):null}}]);return H}(p.JSONSupportMixin(t));p.AUTH_MODE_ANONYMOUS="anonymous";p.AUTH_MODE_AUTO="auto";p.AUTH_MODE_IMMEDIATE="immediate";c.__decorate([e.property()],p.prototype,"access",void 0);c.__decorate([e.property()],
p.prototype,"allSSL",void 0);c.__decorate([e.property()],p.prototype,"authMode",void 0);c.__decorate([e.property()],p.prototype,"authorizedCrossOriginDomains",void 0);c.__decorate([h.reader("authorizedCrossOriginDomains")],p.prototype,"readAuthorizedCrossOriginDomains",null);c.__decorate([e.property()],p.prototype,"basemapGalleryGroupQuery",void 0);c.__decorate([e.property({json:{name:"3DBasemapGalleryGroupQuery"}})],p.prototype,"basemapGalleryGroupQuery3D",void 0);c.__decorate([e.property()],p.prototype,
"bingKey",void 0);c.__decorate([e.property()],p.prototype,"canListApps",void 0);c.__decorate([e.property()],p.prototype,"canListData",void 0);c.__decorate([e.property()],p.prototype,"canListPreProvisionedItems",void 0);c.__decorate([e.property()],p.prototype,"canProvisionDirectPurchase",void 0);c.__decorate([e.property()],p.prototype,"canSearchPublic",void 0);c.__decorate([e.property()],p.prototype,"canShareBingPublic",void 0);c.__decorate([e.property()],p.prototype,"canSharePublic",void 0);c.__decorate([e.property()],
p.prototype,"canSignInArcGIS",void 0);c.__decorate([e.property()],p.prototype,"canSignInIDP",void 0);c.__decorate([e.property()],p.prototype,"colorSetsGroupQuery",void 0);c.__decorate([e.property()],p.prototype,"commentsEnabled",void 0);c.__decorate([e.property({type:Date})],p.prototype,"created",void 0);c.__decorate([e.property()],p.prototype,"credential",void 0);c.__decorate([e.property()],p.prototype,"culture",void 0);c.__decorate([e.property()],p.prototype,"currentVersion",void 0);c.__decorate([e.property()],
p.prototype,"customBaseUrl",void 0);c.__decorate([e.property()],p.prototype,"defaultBasemap",void 0);c.__decorate([h.reader("defaultBasemap")],p.prototype,"readDefaultBasemap",null);c.__decorate([e.property()],p.prototype,"defaultDevBasemap",void 0);c.__decorate([h.reader("defaultDevBasemap")],p.prototype,"readDefaultDevBasemap",null);c.__decorate([e.property({type:z})],p.prototype,"defaultExtent",void 0);c.__decorate([e.property()],p.prototype,"defaultVectorBasemap",void 0);c.__decorate([h.reader("defaultVectorBasemap")],
p.prototype,"readDefaultVectorBasemap",null);c.__decorate([e.property()],p.prototype,"description",void 0);c.__decorate([e.property()],p.prototype,"devBasemapGalleryGroupQuery",void 0);c.__decorate([e.property()],p.prototype,"eueiEnabled",void 0);c.__decorate([e.property({readOnly:!0})],p.prototype,"extraQuery",null);c.__decorate([e.property()],p.prototype,"featuredGroups",void 0);c.__decorate([e.property()],p.prototype,"featuredItemsGroupQuery",void 0);c.__decorate([e.property()],p.prototype,"galleryTemplatesGroupQuery",
void 0);c.__decorate([e.property()],p.prototype,"livingAtlasGroupQuery",void 0);c.__decorate([e.property()],p.prototype,"hasCategorySchema",void 0);c.__decorate([e.property()],p.prototype,"helpBase",void 0);c.__decorate([e.property()],p.prototype,"helperServices",void 0);c.__decorate([e.property()],p.prototype,"helpMap",void 0);c.__decorate([e.property()],p.prototype,"homePageFeaturedContent",void 0);c.__decorate([e.property()],p.prototype,"homePageFeaturedContentCount",void 0);c.__decorate([e.property()],
p.prototype,"httpPort",void 0);c.__decorate([e.property()],p.prototype,"httpsPort",void 0);c.__decorate([e.property()],p.prototype,"id",void 0);c.__decorate([e.property()],p.prototype,"ipCntryCode",void 0);c.__decorate([e.property({readOnly:!0})],p.prototype,"isOrganization",null);c.__decorate([e.property()],p.prototype,"isPortal",void 0);c.__decorate([e.property()],p.prototype,"isReadOnly",void 0);c.__decorate([e.property({readOnly:!0})],p.prototype,"itemPageUrl",null);c.__decorate([e.property()],
p.prototype,"layerTemplatesGroupQuery",void 0);c.__decorate([e.property()],p.prototype,"maxTokenExpirationMinutes",void 0);c.__decorate([e.property({type:Date})],p.prototype,"modified",void 0);c.__decorate([e.property()],p.prototype,"name",void 0);c.__decorate([e.property()],p.prototype,"portalHostname",void 0);c.__decorate([e.property()],p.prototype,"portalMode",void 0);c.__decorate([e.property()],p.prototype,"portalProperties",void 0);c.__decorate([e.property()],p.prototype,"region",void 0);c.__decorate([e.property({readOnly:!0})],
p.prototype,"restUrl",null);c.__decorate([e.property()],p.prototype,"rotatorPanels",void 0);c.__decorate([e.property()],p.prototype,"showHomePageDescription",void 0);c.__decorate([e.property()],p.prototype,"sourceJSON",void 0);c.__decorate([e.property()],p.prototype,"staticImagesUrl",void 0);c.__decorate([e.property({json:{name:"2DStylesGroupQuery"}})],p.prototype,"stylesGroupQuery2d",void 0);c.__decorate([e.property({json:{name:"stylesGroupQuery"}})],p.prototype,"stylesGroupQuery3d",void 0);c.__decorate([e.property()],
p.prototype,"supportsHostedServices",void 0);c.__decorate([e.property()],p.prototype,"symbolSetsGroupQuery",void 0);c.__decorate([e.property()],p.prototype,"templatesGroupQuery",void 0);c.__decorate([e.property()],p.prototype,"thumbnail",void 0);c.__decorate([e.property({readOnly:!0})],p.prototype,"thumbnailUrl",null);c.__decorate([e.property()],p.prototype,"units",void 0);c.__decorate([e.property()],p.prototype,"url",void 0);c.__decorate([e.property()],p.prototype,"urlKey",void 0);c.__decorate([h.reader("urlKey")],
p.prototype,"readUrlKey",null);c.__decorate([e.property()],p.prototype,"user",void 0);c.__decorate([h.reader("user")],p.prototype,"readUser",null);c.__decorate([e.property()],p.prototype,"use3dBasemaps",void 0);c.__decorate([e.property()],p.prototype,"useStandardizedQuery",void 0);c.__decorate([e.property()],p.prototype,"useVectorBasemaps",void 0);c.__decorate([e.property()],p.prototype,"vectorBasemapGalleryGroupQuery",void 0);c=p=G=c.__decorate([r.subclass("esri.portal.Portal")],p);const M=new FinalizationRegistry(O=>
{O.remove()});return c})},"esri/kernel":function(){define(["require","exports","./core/has","./core/urlUtils","./support/revision"],function(a,b,c,f,g){b.id=void 0;c("host-webworker")||console.debug(`Using ArcGIS Maps SDK for JavaScript ${"4.27"} [Date: ${g.buildDate}, Revision: ${g.commitHash.slice(0,8)}]`);b.buildDate=g.buildDate;b.revision=g.commitHash;b.addTokenParameter=function(q){const u=b.id?.findCredential(q);return u?.token?f.addQueryParameter(q,"token",u.token):q};b.fullVersion="4.27";
b.setId=function(q){b.id=q};b.version="4.27";b.workerMessages={async request(q,u){const {default:p}=await new Promise((m,e)=>a(["./request"],d=>m(Object.freeze(Object.defineProperty({__proto__:null,default:d},Symbol.toStringTag,{value:"Module"}))),e)),t=q.options,k=t.responseType;t.signal=u?.signal;t.responseType="native"===k||"native-request-init"===k?"native-request-init":k&&["blob","json","text"].includes(k)&&f.getInterceptor(q.url)?.after?k:"array-buffer";q=await p(q.url,t);u={data:q.data,httpStatus:q.httpStatus,
ssl:q.ssl};switch(q.requestOptions?.responseType){case "native-request-init":return delete u.data.signal,u;case "blob":u.data=await u.data.arrayBuffer();break;case "json":u.data=(new TextEncoder).encode(JSON.stringify(u.data)).buffer;break;case "text":u.data=(new TextEncoder).encode(u.data).buffer}return{result:u,transferList:[u.data]}}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20230626";a.commitHash=
"b81703b48e0b92e492f4cc6b739af02a9af50038";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/request":function(){define("require ./config ./kernel ./core/Error ./core/has ./core/lang ./core/promiseUtils ./core/urlUtils ./portal/support/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){async function e(N,V){N instanceof URL&&(N=N.toString());V?.query instanceof URLSearchParams&&(V.query=p.queryToObject(V.query.toString().replaceAll("+",
" ")));var X=p.isDataProtocol(N);const U=p.isBlobProtocol(N);U||X||(N=p.normalize(N));const P={url:N,requestOptions:{...V}};let fa=p.getInterceptor(N);if(fa){N=await v(fa,P);if(null!=N)return{data:N,getHeader:J,httpStatus:200,requestOptions:P.requestOptions,url:P.url};fa.after||fa.error||(fa=null)}N=P.url;V=P.requestOptions;if("image"===V.responseType&&(g("host-webworker")||g("host-node")))throw n("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),
P);if("head"===V.method){if(V.body)throw n("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),P);if(X||U)throw n("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),P);}await h();if(G)return G.execute(N,V);const Ba=new AbortController;u.onAbort(V,()=>Ba.abort());X=await C({controller:Ba,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:fa,params:P,redoRequest:!1,useIdentity:F.useIdentity,
useProxy:!1,useSSL:!1,withCredentials:!1});fa?.after?.(X);return X}function d(N){(N=p.getOrigin(N))&&!e._corsServers.includes(N)&&e._corsServers.push(N)}function l(N){N=p.getOrigin(N);return!N||N.endsWith(".arcgis.com")||e._corsServers.includes(N)||p.isTrustedServer(N)}function n(N,V,X,U){let P="Error";const fa={url:X.url,requestOptions:X.requestOptions,getHeader:J,ssl:!1};if(V instanceof f)return V.details?(V.details=q.clone(V.details),V.details.url=X.url,V.details.requestOptions=X.requestOptions):
V.details=fa,V;if(V){X=U&&(Aa=>U.headers.get(Aa));const Ba=V.message;Ba&&(P=Ba);X&&(fa.getHeader=X);fa.httpStatus=(null!=V.httpCode?V.httpCode:V.code)||U?.status||0;fa.subCode=V.subcode;fa.messageCode=V.messageCode;fa.messages="string"===typeof V.details?[V.details]:V.details;fa.raw=L in V?V[L]:V}return u.isAbortError(V)?u.createAbortError():new f(N,P,fa)}async function h(){g("host-webworker")?G||(G=await new Promise((N,V)=>a(["./core/workers/request"],N,V))):e._abortableFetch||(e._abortableFetch=
globalThis.fetch.bind(globalThis))}async function r(){c.id||await new Promise((N,V)=>a(["./identity/IdentityManager"],X=>N(Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"}))),V))}async function z(N){const V=N.params.url,X=N.params.requestOptions,U=N.controller.signal,P=X.body;let fa=null,Ba=null;K&&"HTMLFormElement"in globalThis&&(P instanceof FormData?fa=P:P instanceof HTMLFormElement&&(fa=new FormData(P)));"string"===typeof P&&(Ba=P);N.fetchOptions=
{cache:!X.cacheBust||"polyfill"in e._abortableFetch?"default":"no-cache",credentials:"same-origin",headers:X.headers||{},method:"head"===X.method?"HEAD":"GET",mode:"cors",priority:F.priority,redirect:"follow",signal:U};if(fa||Ba)N.fetchOptions.body=fa||Ba;"anonymous"===X.authMode&&(N.useIdentity=!1);N.hasToken=!!(/token=/i.test(V)||X.query?.token||fa?.get("token"));!N.hasToken&&b.apiKey&&k.supportsApiKey(V)&&(X.query||(X.query={}),X.query.token=b.apiKey,N.hasToken=!0);if(N.useIdentity&&!N.hasToken&&
!N.credentialToken&&!x(V)&&!u.isAborted(U)){let Aa;"immediate"===X.authMode?(await r(),Aa=await c.id.getCredential(V,{signal:U}),N.credential=Aa):"no-prompt"===X.authMode?(await r(),Aa=await c.id.getCredential(V,{prompt:!1,signal:U}).catch(()=>{}),N.credential=Aa):c.id&&(Aa=c.id.findCredential(V));Aa&&(N.credentialToken=Aa.token,N.useSSL=!!Aa.ssl)}}function x(N){return H.some(V=>V.test(N))}async function w(N){let V=N.params.url;const X=N.params.requestOptions,U=N.fetchOptions??{},P=p.isBlobProtocol(V)||
p.isDataProtocol(V),fa=X.responseType||"json";var Ba=P?0:null!=X.timeout?X.timeout:F.timeout,Aa=!1;if(!P){N.useSSL&&(V=p.toHTTPS(V));X.cacheBust&&"default"===U.cache&&(V=p.addQueryParameter(V,"request.preventCache",Date.now()));var ma={...X.query};N.credentialToken&&(ma.token=N.credentialToken);Aa=p.objectToQuery(ma);g("esri-url-encodes-apostrophe")&&(Aa=Aa.replaceAll("'","%27"));const ka=V.length+1+Aa.length;let Fa;Aa="delete"===X.method||"post"===X.method||"put"===X.method||!!X.body||ka>F.maxUrlLength;
const Na=X.useProxy||!!p.getProxyRule(V);if(Na){const Qa=p.getProxyUrl(V);Fa=Qa.path;!Aa&&Fa.length+1+ka>F.maxUrlLength&&(Aa=!0);Qa.query&&(ma={...Qa.query,...ma})}if("HEAD"===U.method&&(Aa||Na)){if(Aa){if(ka>F.maxUrlLength)throw n("request:invalid-parameters",Error("URL exceeds maximum length"),N.params);throw n("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),N.params);}if(Na)throw n("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),
N.params);}Aa?(U.method="delete"===X.method?"DELETE":"put"===X.method?"PUT":"POST",X.body?V=p.addQueryParameters(V,ma):(U.body=p.objectToQuery(ma),U.headers||(U.headers={}),U.headers["Content-Type"]="application/x-www-form-urlencoded")):V=p.addQueryParameters(V,ma);Na&&(N.useProxy=!0,V=`${Fa}?${V}`);ma.token&&K&&U.body instanceof FormData&&!t.isSecureProxyService(V)&&U.body.set("token",ma.token);X.hasOwnProperty("withCredentials")?N.withCredentials=X.withCredentials:p.hasSameOrigin(V,p.getAppUrl())||
(p.isTrustedServer(V)?N.withCredentials=!0:c.id&&c.id.findServerInfo(V)?.webTierAuth&&(N.withCredentials=!0));N.withCredentials&&(U.credentials="include",m.isNoCorsRequestRequired(V)&&await m.sendNoCorsRequest(Aa?p.addQueryParameters(V,ma):V))}ma=0;let ta=!1;0<Ba&&(ma=setTimeout(()=>{ta=!0;N.controller.abort()},Ba));Ba=void 0;let ba;try{if("native-request-init"===X.responseType)ba=U,ba.url=V;else if("image"!==X.responseType||"default"!==U.cache||"GET"!==U.method||Aa||A(X.headers)||!P&&!N.useProxy&&
F.proxyUrl&&!l(V))if(Ba=await e._abortableFetch(V,U),N.useProxy||d(V),"native"===X.responseType)ba=Ba;else{if("HEAD"!==U.method)if(Ba.ok){switch(fa){case "array-buffer":ba=await Ba.arrayBuffer();break;case "blob":case "image":ba=await Ba.blob();break;default:ba=await Ba.text()}ma&&(clearTimeout(ma),ma=0);if("json"===fa||"xml"===fa||"document"===fa)if(ba)switch(fa){case "json":ba=JSON.parse(ba);break;case "xml":ba=B(ba,"application/xml");break;case "document":ba=B(ba,"text/html")}else ba=null;if(ba){if("array-buffer"===
fa||"blob"===fa){const ka=Ba.headers.get("Content-Type");if(ka&&/application\/json|text\/plain/i.test(ka)&&750>=ba["blob"===fa?"size":"byteLength"])try{const Fa=await (new Response(ba)).json();Fa.error&&(ba=Fa)}catch{}}"image"===fa&&ba instanceof Blob&&(ba=await y(URL.createObjectURL(ba),N,!0))}}else{ba=await Ba.text();try{ba=JSON.parse(ba)}catch{}}}else ba=await y(V,N)}catch(ka){if("AbortError"===ka.name){if(ta)throw m.createTimeoutError();throw u.createAbortError("Request canceled");}if(!Ba&&ka instanceof
TypeError&&F.proxyUrl&&!X.body&&"delete"!==X.method&&"head"!==X.method&&"post"!==X.method&&"put"!==X.method&&!N.useProxy&&!l(V))N.redoRequest=!0,p.addProxyRule({proxyUrl:F.proxyUrl,urlPrefix:p.getOrigin(V)??""});else throw ka;}finally{ma&&clearTimeout(ma)}return[Ba,ba]}async function v(N,V){if(null!=N.responseData)return N.responseData;N.headers&&(V.requestOptions.headers={...V.requestOptions.headers,...N.headers});N.query&&(V.requestOptions.query={...V.requestOptions.query,...N.query});if(N.before){let X,
U;try{U=await N.before(V)}catch(P){X=n("request:interceptor",P,V)}if(U instanceof Error||U instanceof f)X=n("request:interceptor",U,V);if(X)throw N.error&&N.error(X),X;return U}}function A(N){if(N)for(const V of Object.getOwnPropertyNames(N))if(N[V])return!0;return!1}function B(N,V){let X;try{X=(new DOMParser).parseFromString(N,V)}catch{}if(!X||X.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return X}async function C(N){await z(N);let V;try{do[V,X]=await w(N);
while(!await D(N,V,X))}catch(fa){var X=n("request:server",fa,N.params,V);X.details.ssl=N.useSSL;N.interceptor?.error&&N.interceptor.error(X);throw X;}var U=N.params.url;X&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(U)&&(N.hasToken||N.credentialToken||!X.user?.username||p.isTrustedServer(U)||(U=p.getOrigin(U,!0))&&F.trustedServers.push(U),Array.isArray(X.authorizedCrossOriginNoCorsDomains)&&m.registerNoCorsDomains(X.authorizedCrossOriginNoCorsDomains));var P=N.credential;P&&c.id&&(U=c.id.findServerInfo(P.server)?.owningSystemUrl)&&
(U=U.replace(/\/?$/,"/sharing"),(P=c.id.findCredential(U,P.userId))&&-1===c.id._getIdenticalSvcIdx(U,P)&&P.resources.unshift(U));return{data:X,getHeader:V?fa=>V?.headers.get(fa):J,httpStatus:V?.status??200,requestOptions:N.params.requestOptions,ssl:N.useSSL,url:N.params.url}}async function D(N,V,X){if(N.redoRequest)return N.redoRequest=!1;var U=N.params.requestOptions;if(!V||"native"===U.responseType||"native-request-init"===U.responseType)return!0;let P;X&&(X.error?P=X.error:"error"===X.status&&
Array.isArray(X.messages)&&(P={...X},P[L]=X,P.details=X.messages));if(!P&&!V.ok)throw P=Error(`Unable to load ${V.url} status: ${V.status}`),P[L]=X,P;let fa;V=null;let Ba;P&&(fa=Number(P.code),V=P.hasOwnProperty("subcode")?Number(P.subcode):null,Ba=P.messageCode,Ba=Ba?.toUpperCase());U=U.authMode;if(403===fa&&(4===V||P.message?.toLowerCase().includes("ssl")&&!P.message.toLowerCase().includes("permission"))){if(!N.useSSL)return N.useSSL=!0,!1}else if(!N.hasToken&&N.useIdentity&&("no-prompt"!==U||498===
fa)&&void 0!==fa&&M.includes(fa)&&!x(N.params.url)&&(403!==fa||Ba&&!O.includes(Ba)&&(null==V||2===V&&N.credentialToken))){await r();try{const Aa=await c.id.getCredential(N.params.url,{error:n("request:server",P,N.params),prompt:"no-prompt"!==U,signal:N.controller.signal,token:N.credentialToken});N.credential=Aa;N.credentialToken=Aa.token;N.useSSL=N.useSSL||Aa.ssl;return!1}catch(Aa){if("no-prompt"===U)return N.credential=void 0,N.credentialToken=void 0,!1;P=Aa}}if(P)throw P;return!0}function y(N,V,
X=!1){const U=V.controller.signal,P=new Image;P.crossOrigin=V.withCredentials?"use-credentials":"anonymous";P.alt="";P.fetchPriority=F.priority;P.src=N;return m.loadImageAsync(P,N,X,U)}let G;const F=b.request,K="FormData"in globalThis,M=[499,498,403,401],O=["COM_0056","COM_0057","SB_0008"],H=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],J=()=>null,L=Symbol();e._abortableFetch=null;e._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return e})},
"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,b){const c=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];a.isApiKey=function(f){return!!f&&4<f.length&&f.startsWith("AAPK")};a.supportsApiKey=function(f){const g=b.getOrigin(f,!0);return g?g.endsWith(".arcgis.com")&&!c.includes(g)&&!f.endsWith("/sharing/rest/generateToken"):!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestUtils":function(){define(["exports",
"../config","../core/has","../core/promiseUtils","../core/urlUtils"],function(a,b,c,f,g){function q(){try{return new DOMException("Aborted","AbortError")}catch{const u=Error();u.name="AbortError";return u}}a.createTimeoutError=function(){return Error("Timeout exceeded")};a.isNoCorsRequestRequired=function(u){const p=b.request.crossOriginNoCorsDomains;return p&&(u=g.getOrigin(u))?(u=u.toLowerCase(),!g.hasSameOrigin(u,g.getAppUrl())&&p[u]<Date.now()-36E5):!1};a.isTimeoutError=function(u){return"object"===
typeof u&&!!u&&"message"in u&&"Timeout exceeded"===u.message};a.loadImageAsync=function(u,p,t=!1,k){return new Promise((m,e)=>{if(f.isAborted(k))e(q());else{var d=()=>{h();e(Error(`Unable to load ${p}`))},l=()=>{const r=u;h();m(r)},n=()=>{if(u){var r=u;h();r.src="";e(q())}},h=()=>{c("esri-image-decode")||(u.removeEventListener("error",d),u.removeEventListener("load",l));u=l=d=null;null!=k&&k.removeEventListener("abort",n);n=null;t&&URL.revokeObjectURL(p)};null!=k&&k.addEventListener("abort",n);c("esri-image-decode")?
u.decode().then(l,d):(u.addEventListener("error",d),u.addEventListener("load",l))}})};a.registerNoCorsDomains=function(u){b.request.crossOriginNoCorsDomains||(b.request.crossOriginNoCorsDomains={});const p=b.request.crossOriginNoCorsDomains;for(let t of u)t=t.toLowerCase(),/^https?:\/\//.test(t)?p[g.getOrigin(t)??""]=0:(p[g.getOrigin("http://"+t)??""]=0,p[g.getOrigin("https://"+t)??""]=0)};a.sendNoCorsRequest=async function(u){var p=b.request.crossOriginNoCorsDomains;const t=g.getOrigin(u);p&&t&&
(p[t.toLowerCase()]=Date.now());p=g.urlToObject(u);u=p.path;"json"===p.query?.f&&(u+="?f\x3djson");try{await fetch(u,{mode:"no-cors",credentials:"include"})}catch{}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(c,f,g){let q,u;void 0===f||Array.isArray(f)?(u=c,g=f,q=[void 0]):(u=f,q=Array.isArray(c)?c:[c]);return(p,t)=>{const k=p.constructor.prototype;q.forEach(m=>
{m=b.propertyJSONMeta(p,m,u);m.read&&"object"===typeof m.read||(m.read={});m.read.reader=k[t];g&&(m.read.source=(m.read.source||[]).concat(g))})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Extent":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){function h(z,x,w){return null==x?w:null==w?x:z(x,w)}var r;g=r=function(z){function x(...v){v=z.call(this,...v)||this;v.type="extent";v.xmin=0;v.ymin=0;v.mmin=void 0;v.zmin=void 0;v.xmax=0;v.ymax=0;v.mmax=void 0;v.zmax=void 0;return v}a._inherits(x,z);var w=x.prototype;w.normalizeCtorArgs=function(v,A,B,C,D){return!v||"esri.geometry.SpatialReference"!==v.declaredClass&&null==v.wkid?"object"===typeof v?(v.spatialReference=null==v.spatialReference?m.WGS84:v.spatialReference,
v):{xmin:v,ymin:A,xmax:B,ymax:C,spatialReference:null==D?m.WGS84:D}:{spatialReference:v,xmin:0,ymin:0,xmax:0,ymax:0}};x.fromBounds=function(v,A){return new r({xmin:v[0],ymin:v[1],xmax:v[2],ymax:v[3],spatialReference:A})};x.fromPoint=function(v){return new r({xmin:v.x,ymin:v.y,zmin:v.z,xmax:v.x,ymax:v.y,zmax:v.z,spatialReference:v.spatialReference})};w.centerAt=function(v){const A=this.center;return null!=v.z&&this.hasZ?this.offset(v.x-A.x,v.y-A.y,v.z-A.z):this.offset(v.x-A.x,v.y-A.y)};w.clone=function(){const v=
new r;v.xmin=this.xmin;v.ymin=this.ymin;v.xmax=this.xmax;v.ymax=this.ymax;v.spatialReference=this.spatialReference;null!=this.zmin&&(v.zmin=this.zmin,v.zmax=this.zmax);null!=this.mmin&&(v.mmin=this.mmin,v.mmax=this.mmax);return v};w.contains=function(v){if(!v)return!1;const A=this.spatialReference,B=v.spatialReference;A&&B&&!A.equals(B)&&n.canProject(A,B)&&(v=A.isWebMercator?n.geographicToWebMercator(v):n.webMercatorToGeographic(v,!0));return"point"===v.type?e.extentContainsPoint(this,v):"extent"===
v.type?e.extentContainsExtent(this,v):!1};w.equals=function(v){if(this===v)return!0;if(null==v)return!1;const A=this.spatialReference,B=v.spatialReference;A&&B&&!A.equals(B)&&n.canProject(A,B)&&(v=A.isWebMercator?n.geographicToWebMercator(v):n.webMercatorToGeographic(v,!0));return this.xmin===v.xmin&&this.ymin===v.ymin&&this.zmin===v.zmin&&this.mmin===v.mmin&&this.xmax===v.xmax&&this.ymax===v.ymax&&this.zmax===v.zmax&&this.mmax===v.mmax};w.expand=function(v){v=.5*(1-v);var A=this.width*v;const B=
this.height*v;this.xmin+=A;this.ymin+=B;this.xmax-=A;this.ymax-=B;this.hasZ&&(A=(this.zmax-this.zmin)*v,this.zmin+=A,this.zmax-=A);this.hasM&&(v*=this.mmax-this.mmin,this.mmin+=v,this.mmax-=v);return this};w.intersects=function(v){if(null==v)return!1;"mesh"===v.type&&(v=v.extent);const A=this.spatialReference,B=v.spatialReference;A&&B&&!l.equals(A,B)&&n.canProject(A,B)&&(v=A.isWebMercator?n.geographicToWebMercator(v):n.webMercatorToGeographic(v,!0));return d.getFeatureExtentIntersector(v.type)(this,
v)};w.normalize=function(){const v=this._normalize(!1,!0);return Array.isArray(v)?v:[v]};w.offset=function(v,A,B){this.xmin+=v;this.ymin+=A;this.xmax+=v;this.ymax+=A;null!=B&&(this.zmin+=B,this.zmax+=B);return this};w.shiftCentralMeridian=function(){return this._normalize(!0)};w.union=function(v){if(this===v)return this;this.xmin=Math.min(this.xmin,v.xmin);this.ymin=Math.min(this.ymin,v.ymin);this.xmax=Math.max(this.xmax,v.xmax);this.ymax=Math.max(this.ymax,v.ymax);if(this.hasZ||v.hasZ)this.zmin=
h(Math.min,this.zmin,v.zmin),this.zmax=h(Math.max,this.zmax,v.zmax);if(this.hasM||v.hasM)this.mmin=h(Math.min,this.mmin,v.mmin),this.mmax=h(Math.max,this.mmax,v.mmax);return this};w.intersection=function(v){if(this===v)return this;if(null==v||!this.intersects(v))return null;this.xmin=Math.max(this.xmin,v.xmin);this.ymin=Math.max(this.ymin,v.ymin);this.xmax=Math.min(this.xmax,v.xmax);this.ymax=Math.min(this.ymax,v.ymax);if(this.hasZ||v.hasZ)this.zmin=h(Math.max,this.zmin,v.zmin),this.zmax=h(Math.min,
this.zmax,v.zmax);if(this.hasM||v.hasM)this.mmin=h(Math.max,this.mmin,v.mmin),this.mmax=h(Math.min,this.mmax,v.mmax);return this};w.toJSON=function(v){return this.write({},v)};w._shiftCM=function(v=l.getInfo(this.spatialReference)){if(!v||!this.spatialReference)return this;const A=this.spatialReference,B=this._getCM(v);if(B){const C=A.isWebMercator?n.webMercatorToGeographic(B):B;this.xmin-=B.x;this.xmax-=B.x;A.isWebMercator||(C.x=this._normalizeX(C.x,v).x);this.spatialReference=new m(c.replace((A.isWGS84?
v.altTemplate:null)??v.wkTemplate,{Central_Meridian:C.x}))}return this};w._getCM=function(v){let A=null;const [B,C]=v.valid;v=this.xmin;const D=this.xmax;v>=B&&v<=C&&D>=B&&D<=C||(A=this.center);return A};w._normalize=function(v,A,B){const C=this.spatialReference;if(!C)return this;B=B??l.getInfo(C);if(null==B)return this;const D=this._getParts(B).map(F=>F.extent);if(2>D.length)return D[0]||this;if(2<D.length)return v?this._shiftCM(B):this.set({xmin:B.valid[0],xmax:B.valid[1]});if(v)return this._shiftCM(B);
if(A)return D;let y=!0,G=!0;D.forEach(F=>{F.hasZ||(y=!1);F.hasM||(G=!1)});return{rings:D.map(F=>{const K=[[F.xmin,F.ymin],[F.xmin,F.ymax],[F.xmax,F.ymax],[F.xmax,F.ymin],[F.xmin,F.ymin]];if(y){var M=(F.zmax-F.zmin)/2;for(let O=0;O<K.length;O++)K[O].push(M)}if(G)for(F=(F.mmax-F.mmin)/2,M=0;M<K.length;M++)K[M].push(F);return K}),hasZ:y,hasM:G,spatialReference:C}};w._getParts=function(v){let A=this.cache._parts;if(!A){A=[];const {ymin:M,ymax:O,spatialReference:H}=this;var B=this.width,C=this.xmin,D=
this.xmax;v=v||l.getInfo(H);const [J,L]=v.valid;var y=this._normalizeX(this.xmin,v);var G=y.x,F=y.frameId;y=this._normalizeX(this.xmax,v);v=y.x;y=y.frameId;var K=G===v&&0<B;if(B>2*L){B=new r(C<D?G:v,M,L,O,H);C=new r(J,M,C<D?v:G,O,H);D=new r(0,M,L,O,H);G=new r(J,M,0,O,H);v=[];K=[];B.contains(D)&&v.push(F);B.contains(G)&&K.push(F);C.contains(D)&&v.push(y);C.contains(G)&&K.push(y);for(let N=F+1;N<y;N++)v.push(N),K.push(N);A.push({extent:B,frameIds:[F]},{extent:C,frameIds:[y]},{extent:D,frameIds:v},{extent:G,
frameIds:K})}else G>v||K?A.push({extent:new r(G,M,L,O,H),frameIds:[F]},{extent:new r(J,M,v,O,H),frameIds:[y]}):A.push({extent:new r(G,M,v,O,H),frameIds:[F]});this.cache._parts=A}y=this.hasZ;B=this.hasM;if(y||B)for(F={},y&&(F.zmin=this.zmin,F.zmax=this.zmax),B&&(F.mmin=this.mmin,F.mmax=this.mmax),y=0;y<A.length;y++)A[y].extent.set(F);return A};w._normalizeX=function(v,A){const [B,C]=A.valid;A=2*C;var D=0;v>C?(D=Math.ceil(Math.abs(v-C)/A),v-=D*A):v<B&&(D=Math.ceil(Math.abs(v-B)/A),v+=D*A,D=-D);return{x:v,
frameId:D}};a._createClass(x,[{key:"cache",get:function(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}},{key:"center",get:function(){const v=new k({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(v.z=.5*(this.zmin+
this.zmax));this.hasM&&(v.m=.5*(this.mmin+this.mmax));return v}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}}]);return x}(t);b.__decorate([f.property({readOnly:!0})],g.prototype,"cache",null);b.__decorate([f.property({readOnly:!0})],
g.prototype,"center",null);b.__decorate([f.property({readOnly:!0})],g.prototype,"extent",null);b.__decorate([f.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],g.prototype,"hasM",null);b.__decorate([f.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],g.prototype,"hasZ",null);b.__decorate([f.property({readOnly:!0})],g.prototype,"height",null);b.__decorate([f.property({readOnly:!0})],g.prototype,"width",null);b.__decorate([f.property({type:Number,json:{type:[Number,
String],write:{enabled:!0,allowNull:!0}}})],g.prototype,"xmin",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],g.prototype,"ymin",void 0);b.__decorate([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],g.prototype,"mmin",void 0);b.__decorate([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],g.prototype,"zmin",void 0);b.__decorate([f.property({type:Number,
json:{write:!0}})],g.prototype,"xmax",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],g.prototype,"ymax",void 0);b.__decorate([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],g.prototype,"mmax",void 0);b.__decorate([f.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],g.prototype,"zmax",void 0);g=r=b.__decorate([p.subclass("esri.geometry.Extent")],
g);g.prototype.toJSON.isDefaultToJSON=!0;return g})},"esri/geometry/Geometry":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),function(a,b,c,f,g,q,u,p,t,k){c=function(m){function e(...l){l=m.call(this,...l)||this;l.type=null;l.hasM=
!1;l.hasZ=!1;l.spatialReference=k.WGS84;return l}a._inherits(e,m);var d=e.prototype;d.readSpatialReference=function(l,n){if(l instanceof k)return l;if(null!=l){const h=new k;h.read(l,n);return h}return l};d.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};d.clearCache=function(){this.notifyChange("cache")};d.getCacheValue=function(l){return this.cache[l]};d.setCacheValue=function(l,n){this.cache[l]=n};a._createClass(e,[{key:"cache",get:function(){this.commitProperty("spatialReference");
return{}}},{key:"extent",get:function(){return null}}]);return e}(c.JSONSupport);b.__decorate([f.property()],c.prototype,"type",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"cache",null);b.__decorate([f.property({readOnly:!0})],c.prototype,"extent",null);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(m){return{enabled:m}}}}})],c.prototype,"hasM",void 0);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(m){return{enabled:m}}}}})],c.prototype,"hasZ",
void 0);b.__decorate([f.property({type:k,json:{write:!0},value:k.WGS84})],c.prototype,"spatialReference",void 0);b.__decorate([p.reader("spatialReference")],c.prototype,"readSpatialReference",null);return c=b.__decorate([t.subclass("esri.geometry.Geometry")],c)})},"esri/geometry/Point":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h){function r(w){return w&&("esri.geometry.SpatialReference"===w.declaredClass||null!=w.wkid)}var z;const x=[0,0];q=z=function(w){function v(...B){B=w.call(this,...B)||this;B.x=0;B.y=0;B.z=void 0;B.m=void 0;B.type="point";return B}a._inherits(v,w);v.copy=function(B,C){C._set("x",B._get("x"));C._set("y",B._get("y"));C._set("z",B._get("z"));C._set("m",B._get("m"));B=B._get("spatialReference");C._set("spatialReference",Object.isFrozen(B)?B:B.clone())};var A=v.prototype;
A.normalizeCtorArgs=function(B,C,D,y,G){let F;if(Array.isArray(B))F=B,G=C,B=F[0],C=F[1],D=F[2],y=F[3];else if(B&&"object"===typeof B){if(F=B,B=null!=F.x?F.x:F.longitude,C=null!=F.y?F.y:F.latitude,D=F.z,y=F.m,(G=F.spatialReference)&&"esri.geometry.SpatialReference"!==G.declaredClass&&(G=new d(G)),null!=F.longitude||null!=F.latitude)null==F.longitude?c.getLogger(this).warn(".longitude\x3d","Latitude was defined without longitude"):null==F.latitude?c.getLogger(this).warn(".latitude\x3d","Longitude was defined without latitude"):
!F.declaredClass&&G&&G.isWebMercator&&(C=h.lngLatToXY(F.longitude,F.latitude,x),B=C[0],C=C[1])}else r(D)?(G=D,D=null):r(y)&&(G=y,y=null);B={x:B,y:C};null==B.x&&null!=B.y?c.getLogger(this).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==B.y&&null!=B.x&&c.getLogger(this).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=G&&(B.spatialReference=G);null!=D&&(B.z=D);null!=y&&(B.m=y);return B};A.writeX=function(B,C,D){C[D]=isNaN(B)?"NaN":B};A.readX=function(B){return"string"===
typeof B?NaN:B};A.clone=function(){const B=new z;B.x=this.x;B.y=this.y;B.z=this.z;B.m=this.m;B.spatialReference=this.spatialReference;return B};A.copy=function(B){z.copy(B,this);return this};A.equals=function(B){if(null==B)return!1;const {x:C,y:D,z:y,m:G,spatialReference:F}=this,{z:K,m:M}=B;let {x:O,y:H,spatialReference:J}=B;if(!F.equals(J))if(F.isWebMercator&&J.isWGS84)[O,H]=h.lngLatToXY(O,H),J=F;else if(F.isWGS84&&J.isWebMercator)[O,H]=h.xyToLngLat(O,H),J=F;else return!1;return C===O&&D===H&&y===
K&&G===M&&F.wkid===J.wkid};A.offset=function(B,C,D){this.x+=B;this.y+=C;null!=D&&(this.z=(this.z??0)+D);return this};A.normalize=function(){if(!this.spatialReference)return this;var B=n.getInfo(this.spatialReference);if(!B)return this;let C=this.x;const [D,y]=B.valid;B=2*y;let G;C>y?(G=Math.ceil(Math.abs(C-y)/B),C-=G*B):C<D&&(G=Math.ceil(Math.abs(C-D)/B),C+=G*B);this._set("x",C);return this};A.distance=function(B){return l.distance(this,B)};A.toArray=function(){const B=this.hasZ,C=this.hasM;return B&&
C?[this.x,this.y,this.z,this.m]:B?[this.x,this.y,this.z]:C?[this.x,this.y,this.m]:[this.x,this.y]};A.toJSON=function(B){return this.write({},B)};a._createClass(v,[{key:"cache",get:function(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");return{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(B){const C=void 0!==this._get("m");B!==C&&(this._set("m",B?0:void 0),this._set("hasM",B))}},{key:"hasZ",
get:function(){return void 0!==this.z},set:function(B){const C=void 0!==this._get("z");B!==C&&(this._set("z",B?0:void 0),this._set("hasZ",B))}},{key:"latitude",get:function(){const {spatialReference:B,x:C,y:D}=this;if(B){if(B.isWebMercator)return h.xyToLngLat(C,D,x)[1];if(B.isGeographic)return D}return null},set:function(B){const {spatialReference:C,x:D}=this;null!=B&&C&&(C.isWebMercator?this._set("y",h.lngLatToXY(D,B,x)[1]):C.isGeographic&&this._set("y",B),this._set("latitude",B))}},{key:"longitude",
get:function(){const {x:B,y:C,spatialReference:D}=this;if(D){if(D.isWebMercator)return h.xyToLngLat(B,C,x)[0];if(D.isGeographic)return B}return null},set:function(B){const {y:C,spatialReference:D}=this;null!=B&&D&&(D.isWebMercator?this._set("x",h.lngLatToXY(B,C,x)[0]):D.isGeographic&&this._set("x",B),this._set("longitude",B))}}]);return v}(e);b.__decorate([f.property({readOnly:!0})],q.prototype,"cache",null);b.__decorate([f.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],
q.prototype,"hasM",null);b.__decorate([f.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],q.prototype,"hasZ",null);b.__decorate([f.property({type:Number})],q.prototype,"latitude",null);b.__decorate([f.property({type:Number})],q.prototype,"longitude",null);b.__decorate([f.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),g.cast(w=>isNaN(w)?w:m.ensureNumber(w))],q.prototype,"x",void 0);b.__decorate([k.writer("x")],q.prototype,"writeX",
null);b.__decorate([p.reader("x")],q.prototype,"readX",null);b.__decorate([f.property({type:Number,json:{write:!0}})],q.prototype,"y",void 0);b.__decorate([f.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],q.prototype,"z",void 0);b.__decorate([f.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],q.prototype,"m",void 0);q=z=b.__decorate([t.subclass("esri.geometry.Point")],q);q.prototype.toJSON.isDefaultToJSON=!0;return q})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports",
"../ensureType","../metadata"],function(a,b,c){function f(p){const t="__accessorMetadata__"in p?b.ensureType(p):p;return function(...k){k.push(t);if("number"===typeof k[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return g.apply(this,k)}}function g(p,t,k,m){c.getPropertyMetadata(p,t).cast=m}function q(p){return(t,k)=>{c.getPropertyMetadata(t,p).cast=t[k]}}const u=Object.prototype.toString;a.cast=function(...p){if(3!==p.length||"string"!==typeof p[1]){if(1===p.length&&
"[object Function]"===u.call(p[0]))return f(p[0]);if(1===p.length&&"string"===typeof p[0])return q(p[0])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/pointUtils":function(){define(["exports"],function(a){a.distance=function(b,c){const f=b.x-c.x,g=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return Math.sqrt(f*f+g*g+b*b)};a.squareDistance=function(b,c){const f=b.x-c.x,g=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return f*f+g*g+b*b};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","../SpatialReference","./Ellipsoid","./spatialReferenceUtils"],function(a,b,c,f,g){function q(m,e,d,l,n){n.spatialReference=d;if("x"in m&&"x"in n)[n.x,n.y]=e(m.x,m.y,k,l);else if("xmin"in m&&"xmin"in n)[n.xmin,n.ymin]=e(m.xmin,m.ymin,k,l),[n.xmax,n.ymax]=e(m.xmax,m.ymax,k,l);else if("paths"in m&&"paths"in n||"rings"in m&&"rings"in n){m="paths"in m?m.paths:m.rings;d=[];for(let r=0;r<m.length;r++){const z=
m[r];var h=[];d.push(h);for(let x=0;x<z.length;x++)h.push(e(z[x][0],z[x][1],[0,0],l)),2<z[x].length&&h[x].push(z[x][2]),3<z[x].length&&h[x].push(z[x][3])}"paths"in n?n.paths=d:n.rings=d}else if("points"in m&&"points"in n){m=m.points;d=[];for(h=0;h<m.length;h++)d[h]=e(m[h][0],m[h][1],[0,0],l),2<m[h].length&&d[h].push(m[h][2]),3<m[h].length&&d[h].push(m[h][3]);n.points=d}return n}function u(m,e){const d=m&&(null!=m.wkid||null!=m.wkt?m:m.spatialReference),l=e&&(null!=e.wkid||null!=e.wkt?e:e.spatialReference);
return m&&"type"in m&&"mesh"===m.type||e&&"type"in e&&"mesh"===e.type||!d||!l?!1:g.equals(l,d)?!0:g.isWebMercator(l)&&g.isWGS84(d)||g.isWebMercator(d)&&g.isWGS84(l)}function p(m,e,d=[0,0]){89.99999<e?e=89.99999:-89.99999>e&&(e=-89.99999);e*=.017453292519943;d[0]=.017453292519943*m*f.earth.radius;d[1]=f.earth.halfSemiMajorAxis*Math.log((1+Math.sin(e))/(1-Math.sin(e)));return d}function t(m,e,d=[0,0],l=!1){m=m/f.earth.radius*57.29577951308232;d[0]=l?m:m-360*Math.floor((m+180)/360);d[1]=57.29577951308232*
(Math.PI/2-2*Math.atan(Math.exp(-e/f.earth.radius)));return d}const k=[0,0];a.canProject=u;a.geographicToWebMercator=function(m,e=!1,d=b.clone(m)){return q(m,p,c.WebMercator,e,d)};a.lngLatToXY=p;a.project=function(m,e){if(null==m)return null;const d=m.spatialReference;e=e&&(null!=e.wkid||null!=e.wkt?e:e.spatialReference);return u(d,e)?g.equals(d,e)?b.clone(m):g.isWebMercator(e)?q(m,p,c.WebMercator,!1,b.clone(m)):g.isWGS84(e)?q(m,t,c.WGS84,!1,b.clone(m)):null:null};a.webMercatorToGeographic=function(m,
e=!1,d=b.clone(m)){return q(m,t,c.WGS84,e,d)};a.x2lon=function(m){return m/f.earth.radius};a.xyToLngLat=t;a.y2lat=function(m){return Math.PI/2-2*Math.atan(Math.exp(-m/f.earth.radius))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/contains":function(){define(["exports"],function(a){function b(p,t){return c(p,t[0],t[1])}function c(p,t,k,m){return t>=p.xmin&&t<=p.xmax&&k>=p.ymin&&k<=p.ymax?null!=m&&p.hasZ?m>=p.zmin&&m<=p.zmax:!0:!1}function f(p,t){return g(p.rings,
t)}function g(p,t){if(!p)return!1;if(!Array.isArray(p[0][0]))return q(!1,p,t);let k=!1;for(let m=0,e=p.length;m<e;m++)k=q(k,p[m],t);return k}function q(p,t,k){const [m,e]=k;k=0;for(let d=0,l=t.length;d<l;d++){k++;k===l&&(k=0);const [n,h]=t[d],[r,z]=t[k];(h<e&&z>=e||z<e&&h>=e)&&n+(e-h)/(z-h)*(r-n)<m&&(p=!p)}return p}const u=[0,0];a.extentContainsCoords2D=b;a.extentContainsCoords3D=function(p,t){return c(p,t[0],t[1],t[2])};a.extentContainsExtent=function(p,t){const {xmin:k,ymin:m,zmin:e,xmax:d,ymax:l,
zmax:n}=t;return p.hasZ&&t.hasZ?c(p,k,m,e)&&c(p,k,l,e)&&c(p,d,l,e)&&c(p,d,m,e)&&c(p,k,m,n)&&c(p,k,l,n)&&c(p,d,l,n)&&c(p,d,m,n):c(p,k,m)&&c(p,k,l)&&c(p,d,l)&&c(p,d,m)};a.extentContainsMultipoint=function(p,t){if(!t.points||t.points.length)return!1;for(const k of t.points)if(!b(p,k))return!1;return!0};a.extentContainsPoint=function(p,t){return null!=t?c(p,t.x,t.y,t.z):!1};a.extentContainsXYZ=c;a.polygonContainsCoords=f;a.polygonContainsPoint=function(p,t){u[1]=t.y;u[0]=t.x;return f(p,u)};a.ringsContainsCoords=
g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function c(z,x){return b.extentContainsPoint(z,x)}function f(z,x){var w=z.hasZ&&x.hasZ;if(z.xmin<=x.xmin){var v=x.xmin;if(z.xmax<v)return!1}else if(v=z.xmin,x.xmax<v)return!1;if(z.ymin<=x.ymin){if(v=x.ymin,z.ymax<v)return!1}else if(v=z.ymin,x.ymax<v)return!1;if(w&&x.hasZ)if(z.zmin<=x.zmin){if(w=x.zmin,z.zmax<w)return!1}else if(w=z.zmin,x.zmax<
w)return!1;return!0}function g(z,x){const {points:w,hasZ:v}=x;x=v?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const A of w)if(x(z,A))return!0;return!1}function q(z,x){return u(z,x.rings)}function u(z,x){m[0]=z.xmin;m[1]=z.ymax;e[0]=z.xmax;e[1]=z.ymax;d[0]=z.xmin;d[1]=z.ymin;l[0]=z.xmax;l[1]=z.ymin;for(var w of n)if(b.ringsContainsCoords(x,w))return!0;for(const v of x)if(v.length){x=v[0];if(b.extentContainsCoords2D(z,x))return!0;for(w=1;w<v.length;w++){const A=v[w];if(b.extentContainsCoords2D(z,
A)||t(x,A,h))return!0;x=A}}return!1}function p(z,x){m[0]=z.xmin;m[1]=z.ymax;e[0]=z.xmax;e[1]=z.ymax;d[0]=z.xmin;d[1]=z.ymin;l[0]=z.xmax;l[1]=z.ymin;x=x.paths;for(const w of x){if(!x.length)continue;let v=w[0];if(b.extentContainsCoords2D(z,v))return!0;for(let A=1;A<w.length;A++){const B=w[A];if(b.extentContainsCoords2D(z,B)||t(v,B,h))return!0;v=B}}return!1}function t(z,x,w){for(let v=0;v<w.length;v++)if(k(z,x,w[v][0],w[v][1]))return!0;return!1}function k(z,x,w,v,A){const [B,C]=z,[D,y]=x,[G,F]=w,[K,
M]=v;var O=K-G;z=B-G;x=D-B;const H=M-F;w=C-F;v=y-C;const J=H*x-O*v;if(0===J)return!1;O=(O*w-H*z)/J;z=(x*w-v*z)/J;return 0<=O&&1>=O&&0<=z&&1>=z?(A&&(A[0]=B+O*(D-B),A[1]=C+O*(y-C)),!0):!1}const m=[0,0],e=[0,0],d=[0,0],l=[0,0],n=[m,e,d,l],h=[[d,m],[m,e],[e,l],[l,d]],r=[0,0];a.extentIntersectsExtent=f;a.extentIntersectsMultipoint=g;a.extentIntersectsPoint=c;a.extentIntersectsPolygon=q;a.extentIntersectsPolyline=p;a.extentIntersectsRings=u;a.getFeatureExtentIntersector=function(z){switch(z){case "esriGeometryEnvelope":case "extent":return f;
case "esriGeometryMultipoint":case "multipoint":return g;case "esriGeometryPoint":case "point":return c;case "esriGeometryPolygon":case "polygon":return q;case "esriGeometryPolyline":case "polyline":return p}};a.isSelfIntersecting=function(z){for(let y=0;y<z.length;y++){const G=z[y];for(var x=0;x<G.length-1;x++){var w=G[x],v=G[x+1];for(var A=y+1;A<z.length;A++)for(var B=0;B<z[A].length-1;B++){var C=z[A][B],D=z[A][B+1];if(k(w,v,C,D,r)&&!(r[0]===w[0]&&r[1]===w[1]||r[0]===C[0]&&r[1]===C[1]||r[0]===v[0]&&
r[1]===v[1]||r[0]===D[0]&&r[1]===D[1]))return!0}}x=G.length;if(!(4>=x))for(w=0;w<x-3;w++)for(v=x-1,0===w&&(v=x-2),A=G[w],B=G[w+1],C=w+2;C<v;C++){D=G[C];const F=G[C+1];if(k(A,B,D,F,r)&&!(r[0]===A[0]&&r[1]===A[1]||r[0]===D[0]&&r[1]===D[1]||r[0]===B[0]&&r[1]===B[1]||r[0]===F[0]&&r[1]===F[1]))return!0}}return!1};a.segmentIntersects=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/locale":function(){define(["exports"],function(a){function b(){return p??globalThis.navigator?.language??
"en"}function c(){void 0===u&&(u=b());return u}function f(e=c()){return/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(e)?.[1].toLowerCase()}function g(){const e=q??b();u!==e&&(u=e,[...m].forEach(d=>{d.call(null,e)}),[...k].forEach(d=>{d.call(null,e)}))}let q=void 0,u=void 0;const p=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,t={he:!0,ar:!0},k=[],m=[];globalThis.addEventListener?.("languagechange",g);a.beforeLocaleChange=function(e){m.push(e);return{remove(){k.splice(m.indexOf(e),1)}}};a.getDefaultLocale=
b;a.getLanguage=f;a.getLocale=c;a.onLocaleChange=function(e){k.push(e);return{remove(){k.splice(k.indexOf(e),1)}}};a.prefersRTL=function(e=c()){e=f(e);return void 0!==e&&(t[e]||!1)};a.setLocale=function(e){q=e||void 0;g()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/portalDefault":function(){define(["exports"],function(a){let b;a.clearDefaultPortalInstance=function(){b=void 0};a.ensureDefaultPortalInstance=function(c){if(!b||b.destroyed)b=c();return b};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalQueryParams":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){var e;const d=new f.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",
numComments:"num-comments",numViews:"num-views"});c=e=function(l){function n(r){r=l.call(this,r)||this;r.categories=null;r.disableExtraQuery=!1;r.extent=null;r.filter=null;r.num=10;r.query=null;r.sortField=null;r.start=1;return r}a._inherits(n,l);var h=n.prototype;h.clone=function(){return new e({categories:this.categories?g.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,
sortOrder:this.sortOrder,start:this.start})};h.toRequestOptions=function(r,z){let x=[];this.categories&&(x=this.categories.map(A=>Array.isArray(A)?JSON.stringify(A):A));let w="";if(this.extent){var v=m.project(this.extent,k.WGS84);null!=v&&(w=`${v.xmin},${v.ymin},${v.xmax},${v.ymax}`)}v=this.query;!this.disableExtraQuery&&r.extraQuery&&(v="("+v+")"+r.extraQuery);r={categories:x,bbox:w,q:v,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(r.sortField=
this.sortField.split(",").map(A=>d.toJSON(A.trim())).join(","),r.sortOrder=this.sortOrder);return{query:{...z,...r}}};a._createClass(n,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(r){"asc"!==r&&"desc"!==r||this._set("sortOrder",r)}}]);return n}(c);b.__decorate([q.property()],c.prototype,"categories",void 0);b.__decorate([q.property()],c.prototype,"disableExtraQuery",void 0);b.__decorate([q.property({type:t})],c.prototype,"extent",void 0);b.__decorate([q.property()],
c.prototype,"filter",void 0);b.__decorate([q.property()],c.prototype,"num",void 0);b.__decorate([q.property()],c.prototype,"query",void 0);b.__decorate([q.property()],c.prototype,"sortField",void 0);b.__decorate([q.property()],c.prototype,"sortOrder",null);b.__decorate([q.property()],c.prototype,"start",void 0);return c=e=b.__decorate([p.subclass("esri.portal.PortalQueryParams")],c)})},"esri/portal/PortalQueryResult":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){c=function(t){function k(m){m=t.call(this,m)||this;m.nextQueryParams=null;m.queryParams=null;m.results=null;m.total=null;return m}a._inherits(k,t);return a._createClass(k)}(c);b.__decorate([f.property()],c.prototype,"nextQueryParams",void 0);b.__decorate([f.property()],c.prototype,"queryParams",void 0);b.__decorate([f.property()],c.prototype,"results",void 0);b.__decorate([f.property()],c.prototype,"total",void 0);return c=b.__decorate([p.subclass("esri.portal.PortalQueryResult")],
c)})},"esri/portal/PortalUser":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),function(a,b,c,f,g,q,u,p,t,k,m,e){var d;g=d=function(l){function n(...r){r=l.call(this,...r)||this;r.access=null;r.created=null;r.culture=null;r.description=null;
r.email=null;r.fullName=null;r.modified=null;r.orgId=null;r.portal=null;r.preferredView=null;r.privileges=null;r.region=null;r.role=null;r.roleId=null;r.sourceJSON=null;r.units=null;r.username=null;r.userType=null;return r}b._inherits(n,l);var h=n.prototype;h.addItem=function(r){const z=r&&r.item;var x=r&&r.data;r=r&&r.folder;const w={method:"post"};z&&(w.query=z.createPostQuery(),null!=x&&("string"===typeof x?w.query.text=x:"object"===typeof x&&(w.query.text=JSON.stringify(x))));x=this.userContentUrl;
r&&(x+="/"+("string"===typeof r?r:r.id));return this.portal.request(x+"/addItem",w).then(v=>{z.id=v.id;z.portal=this.portal;return z.loaded?z.reload():z.load()})};h.deleteItem=function(r){let z=this.userContentUrl;r.ownerFolder&&(z+="/"+r.ownerFolder);return this.portal.request(z+`/items/${r.id}/delete`,{method:"post"}).then(()=>{r.id=null;r.portal=null})};h.deleteItems=function(r){const z=this.userContentUrl+"/deleteItems";var x=r.map(w=>w.id);return x.length?(x={method:"post",query:{items:x.join(",")}},
this.portal.request(z,x).then(()=>{r.forEach(w=>{w.id=null;w.portal=null})})):Promise.resolve(void 0)};h.fetchFolders=function(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(r=>r&&r.folders?r.folders.map(z=>{z=m.fromJSON(z);z.portal=this.portal;return z}):[])};h.fetchGroups=function(){return this.portal.request(this.url??"").then(r=>r&&r.groups?r.groups.map(z=>{z=e.fromJSON(z);z.portal=this.portal;return z}):[])};h.fetchItems=function(r){const z=r??{};let x=this.userContentUrl??
"";z.folder&&(x+="/"+z.folder.id);let w;return(new Promise((v,A)=>a(["./PortalItem"],B=>v(Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}))),A))).then(({default:v})=>{w=v;return this.portal.request(x,{query:{folders:!1,num:z.num||10,start:z.start||1,sortField:z.sortField||"created",sortOrder:z.sortOrder||"asc"}})}).then(v=>{let A;return v&&v.items?(A=v.items.map(B=>{B=w.fromJSON(B);B.portal=this.portal;return B}),Promise.all(A.map(B=>B.load())).catch(B=>
B).then(()=>({items:A,nextStart:v.nextStart,total:v.total}))):{items:[],nextStart:-1,total:0}})};h.fetchTags=function(){return this.portal.request(this.url+"/tags").then(r=>r.tags)};h.getThumbnailUrl=function(r){let z=this.thumbnailUrl;z&&r&&(z+=`&w=${r}`);return z};h.queryFavorites=function(r){return this.favGroupId?(this._favGroup||(this._favGroup=new e({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(r)):Promise.reject(new f("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};
h.toJSON=function(){throw new f("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};n.fromJSON=function(r){if(!r)return null;if(r.declaredClass)throw Error("JSON object is already hydrated");const z=new d;z.sourceJSON=r;z.read(r);return z};b._createClass(n,[{key:"thumbnailUrl",get:function(){const r=this.url,z=this.thumbnail;return r&&z?this.portal.normalizeUrl(`${r}/info/${z}?f=json`):null}},{key:"userContentUrl",get:function(){const r=this.get("portal.restUrl");return r?
`${r}/content/users/${this.username}`:null}},{key:"url",get:function(){const r=this.get("portal.restUrl");return r?`${r}/community/users/${this.username}`:null}}]);return n}(g.JSONSupport);c.__decorate([q.property()],g.prototype,"access",void 0);c.__decorate([q.property({type:Date})],g.prototype,"created",void 0);c.__decorate([q.property()],g.prototype,"culture",void 0);c.__decorate([q.property()],g.prototype,"description",void 0);c.__decorate([q.property()],g.prototype,"email",void 0);c.__decorate([q.property()],
g.prototype,"favGroupId",void 0);c.__decorate([q.property()],g.prototype,"fullName",void 0);c.__decorate([q.property({type:Date})],g.prototype,"modified",void 0);c.__decorate([q.property()],g.prototype,"orgId",void 0);c.__decorate([q.property()],g.prototype,"portal",void 0);c.__decorate([q.property()],g.prototype,"preferredView",void 0);c.__decorate([q.property()],g.prototype,"privileges",void 0);c.__decorate([q.property()],g.prototype,"region",void 0);c.__decorate([q.property()],g.prototype,"role",
void 0);c.__decorate([q.property()],g.prototype,"roleId",void 0);c.__decorate([q.property()],g.prototype,"sourceJSON",void 0);c.__decorate([q.property()],g.prototype,"thumbnail",void 0);c.__decorate([q.property({readOnly:!0})],g.prototype,"thumbnailUrl",null);c.__decorate([q.property()],g.prototype,"units",void 0);c.__decorate([q.property({readOnly:!0})],g.prototype,"userContentUrl",null);c.__decorate([q.property({readOnly:!0})],g.prototype,"url",null);c.__decorate([q.property()],g.prototype,"username",
void 0);c.__decorate([q.property()],g.prototype,"userType",void 0);return g=d=c.__decorate([k.subclass("esri.portal.PortalUser")],g)})},"esri/portal/PortalFolder":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t){f=function(k){function m(e){e=k.call(this,
e)||this;e.created=null;e.id=null;e.portal=null;e.title=null;e.username=null;return e}a._inherits(m,k);m.prototype.toJSON=function(){throw new c("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};a._createClass(m,[{key:"url",get:function(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}}]);return m}(f.JSONSupport);b.__decorate([g.property({type:Date})],f.prototype,"created",void 0);b.__decorate([g.property()],f.prototype,
"id",void 0);b.__decorate([g.property()],f.prototype,"portal",void 0);b.__decorate([g.property()],f.prototype,"title",void 0);b.__decorate([g.property({readOnly:!0})],f.prototype,"url",null);b.__decorate([g.property()],f.prototype,"username",void 0);return f=b.__decorate([t.subclass("esri.portal.PortalFolder")],f)})},"esri/portal/PortalGroup":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){f=function(e){function d(n){n=e.call(this,n)||this;n.access=null;n.created=null;n.description=null;n.id=null;n.isInvitationOnly=!1;n.modified=null;n.owner=null;n.portal=null;n.snippet=null;n.sortField=null;n.sortOrder=null;n.tags=null;n.title=null;return n}a._inherits(d,e);var l=d.prototype;l.fetchCategorySchema=function(n){return g.unwrapOrThrow(this.portal).request(this.url+"/categorySchema",n).then(h=>{h=h.categorySchema||[];return h.some(r=>"contentCategorySetsGroupQuery.LivingAtlas"===
r.source)?this._fetchCategorySchemaSet("LivingAtlas",n):h})};l.fetchMembers=function(n){return g.unwrapOrThrow(this.portal).request(this.url+"/users",n)};l.getThumbnailUrl=function(n){let h=this.thumbnailUrl;h&&n&&(h+=`&w=${n}`);return h};l.toJSON=function(){throw new c("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};l.queryItems=function(n,h){n=u.ensureType(m,n);const r=g.unwrapOrThrow(this.portal);if(5<parseFloat(r.currentVersion))return n=n||new m,r.queryPortal(`/content/groups/${this.id}/search`,
n,"PortalItem",h);n=n?n.clone():new m;n.query="group:"+this.id+(n.query?" "+n.query:"");return r.queryItems(n,h)};l._fetchCategorySchemaSet=function(n,h){const r=g.unwrapOrThrow(this.portal);return r.fetchSelf(r.authMode,!0,h).then(z=>{if(z=z.contentCategorySetsGroupQuery){const x=new m;x.disableExtraQuery=!0;x.num=1;x.query=z;return r.queryGroups(x,h)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(z=>{if(z.total){z=z.results[0];const x=new m;
x.num=1;x.query=`typekeywords:"${n}"`;return z.queryItems(x,h)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(z=>z.total?z.results[0].fetchData("json",h).then(x=>(x=x&&x.categorySchema)&&x.length?x:[]):[])};a._createClass(d,[{key:"thumbnailUrl",get:function(){const n=this.url,h=this.thumbnail;return n&&h&&this.portal?this.portal?.normalizeUrl(`${n}/info/${h}?f=json`):null}},{key:"url",get:function(){const n=this.get("portal.restUrl");return n?
n+"/community/groups/"+this.id:null}}]);return d}(f.JSONSupport);b.__decorate([q.property()],f.prototype,"access",void 0);b.__decorate([q.property({type:Date})],f.prototype,"created",void 0);b.__decorate([q.property()],f.prototype,"description",void 0);b.__decorate([q.property()],f.prototype,"id",void 0);b.__decorate([q.property()],f.prototype,"isInvitationOnly",void 0);b.__decorate([q.property({type:Date})],f.prototype,"modified",void 0);b.__decorate([q.property()],f.prototype,"owner",void 0);b.__decorate([q.property()],
f.prototype,"portal",void 0);b.__decorate([q.property()],f.prototype,"snippet",void 0);b.__decorate([q.property()],f.prototype,"sortField",void 0);b.__decorate([q.property()],f.prototype,"sortOrder",void 0);b.__decorate([q.property()],f.prototype,"tags",void 0);b.__decorate([q.property()],f.prototype,"thumbnail",void 0);b.__decorate([q.property({readOnly:!0})],f.prototype,"thumbnailUrl",null);b.__decorate([q.property()],f.prototype,"title",void 0);b.__decorate([q.property({readOnly:!0})],f.prototype,
"url",null);return f=b.__decorate([k.subclass("esri.portal.PortalGroup")],f)})},"esri/portal/PortalItem":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../assets ../kernel ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x){var w;const v=new Set("Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;GeoJson;CSV;KML;WFS;WMTS;WMS;Feed".split(";")),A=new Set(["KML","GeoJson","CSV"]);u=w=function(B){function C(y){y=B.call(this,y)||this;y.access=null;y.accessInformation=null;y.apiKey=null;y.applicationProxies=null;y.avgRating=null;y.categories=null;y.created=null;y.culture=null;y.description=null;y.extent=null;y.groupCategories=
null;y.id=null;y.isOrgItem=!1;y.itemControl=null;y.licenseInfo=null;y.modified=null;y.name=null;y.numComments=null;y.numRatings=null;y.numViews=null;y.owner=null;y.ownerFolder=null;y.portal=null;y.screenshots=null;y.size=null;y.snippet=null;y.sourceJSON=null;y.sourceUrl=null;y.spatialReference=null;y.tags=null;y.title=null;y.type=null;y.typeKeywords=null;y.url=null;return y}b._inherits(C,B);C.from=function(y){return d.ensureClass(w,y)};var D=C.prototype;D.destroy=function(){this.portal=null};D.readExtent=
function(y){return y&&y.length?new h(y[0][0],y[0][1],y[1][0],y[1][1]):null};D.load=function(y){const G=this.portal??(this.portal=r.getDefault()),F=G.load(y).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?G.request(this.itemUrl,{signal:null!=y?y.signal:null,query:{token:this.apiKey}}):{}).then(K=>{this.sourceJSON=K;this.read(K)});this.addResolvingPromise(F);return Promise.resolve(this)};D.addRating=async function(y){const G={method:"post",query:{}};y instanceof x&&(y=y.rating);null==
y||isNaN(y)||"number"!==typeof y||(G.query.rating=y);if(!this.portal)return null;await this.portal.request(this.itemUrl+"/addRating",G);return new x({rating:y,created:new Date})};D.clone=function(){var y={access:this.access,accessInformation:this.accessInformation,applicationProxies:p.clone(this.applicationProxies),avgRating:this.avgRating,categories:p.clone(this.categories),created:p.clone(this.created),culture:this.culture,description:this.description,extent:p.clone(this.extent),groupCategories:p.clone(this.groupCategories),
id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:p.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:p.clone(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:p.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:p.clone(this.typeKeywords),
url:this.url};this.loaded&&(y.loadStatus="loaded");y=(new w({sourceJSON:this.sourceJSON})).set(y);y._set("isOrgItem",this.isOrgItem);return y};D.createPostQuery=function(){const y=this.toJSON();for(var G of["tags","typeKeywords","categories"])y[G]=y[G]?.join(", ");({extent:G}=y);G&&(y.extent=JSON.stringify(G));return y};D.deleteRating=async function(){await k.unwrapOrThrow(this.portal).request(this.itemUrl+"/deleteRating",{method:"post"})};D.fetchData=function(y="json",G){return k.unwrapOrThrow(this.portal).request(this.itemUrl+
"/data",{responseType:y,...G,query:{token:this.apiKey}})};D.fetchRating=async function(y){y=await k.unwrapOrThrow(this.portal).request(this.itemUrl+"/rating",{query:{token:this.apiKey},...y});return null!=y.rating?(y.created=new Date(y.created),new x(y)):null};D.fetchRelatedItems=function(y,G){return k.unwrapOrThrow(this.portal).requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...y,token:this.apiKey},...G},w)};D.getThumbnailUrl=function(y){let G=this.thumbnailUrl;G&&y&&(G+=`&w=${y}`);return G};
D.reload=function(){return k.unwrapOrThrow(this.portal).request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(y=>{this.sourceJSON=y;this.read(y);return this})};D.update=function(y){return this.id?this.load().then(()=>k.unwrapOrThrow(this.portal).signIn()).then(()=>{const G=y&&y.data,F={method:"post"};F.query=this.createPostQuery();for(const K in F.query)null===F.query[K]&&(F.query[K]="");F.query.clearEmptyFields=!0;null!=G&&("string"===typeof G?F.query.text=G:"object"===typeof G&&
(F.query.text=JSON.stringify(G)));return this.portal.request(`${this.userItemUrl}/update`,F).then(()=>this.reload())}):Promise.reject(new q("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};D.copy=async function(y){if(!this.id)throw new q("portal:item-does-not-exist","The item does not exist yet");await this.load();const {portal:G,itemUrl:F}=this;await k.unwrapOrThrow(G).signIn();const {copyResources:K,folder:M,tags:O,title:H}=y||{};y={method:"post",query:{copyPrivateResources:"all"===
K,folder:"string"===typeof M?M:M?.id,includeResources:!!K,tags:O?.join(","),title:H}};({itemId:y}=await G.request(`${F}/copy`,y));return new w({id:y,portal:G})};D.updateThumbnail=function(y){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const G=y.thumbnail,F=y.filename,K={method:"post"};if("string"===typeof G)m.isDataProtocol(G)?K.query={data:G}:K.query={url:m.makeAbsolute(G)},null!=F&&(K.query.filename=F);else{const M=new FormData;null!=F?M.append("file",G,F):M.append("file",
G);K.body=M}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,K).then(()=>this.reload())}):Promise.reject(new q("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};D.fetchResources=async function(y={},G){const {fetchResources:F}=await new Promise((K,M)=>a(["./support/resourceUtils"],K,M));return F(this,y,G)};D.addResource=async function(y,G,F){const {addOrUpdateResource:K}=await new Promise((M,O)=>a(["./support/resourceUtils"],M,O));y.portalItem=this;
return K(y,"add",G,F)};D.removeResource=async function(y,G){const {removeResource:F}=await new Promise((K,M)=>a(["./support/resourceUtils"],K,M));if(y.portalItem&&y.portalItem.itemUrl!==this.itemUrl)throw new q("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return F(this,y,G)};D.removeAllResources=async function(y){const {removeAllResources:G}=await new Promise((F,K)=>a(["./support/resourceUtils"],F,K));return G(this,y)};D.resourceFromPath=
function(y){return new z({portalItem:this,path:y})};D.toJSON=function(){var y=this.extent;y={accessInformation:this.accessInformation,categories:p.clone(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:y&&[[y.xmin,y.ymin],[y.xmax,y.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,
spatialReference:this.spatialReference,tags:p.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:p.clone(this.typeKeywords),url:this.url};return p.fixJson(y)};C.fromJSON=function(y){if(!y)return null;if(y.declaredClass)throw Error("JSON object is already hydrated");return new w({sourceJSON:y})};D._getPostQuery=function(){const y=this.toJSON();for(const G in y)"tags"===G&&null!==y[G]&&(y[G]=y[G].join(", ")),"typeKeywords"===G&&null!==y[G]&&(y[G]=y[G].join(", ")),
"extent"===G&&y[G]&&(y[G]=JSON.stringify(y[G]));return y};b._createClass(C,[{key:"displayName",get:function(){const y=this.type,G=this.typeKeywords||[];let F=y;"Feature Service"===y||"Feature Collection"===y?F=G.includes("Table")?"Table":G.includes("Route Layer")?"Route Layer":G.includes("Markup")?"Markup":"Feature Layer":"Image Service"===y?F=G.includes("Elevation 3D Layer")?"Elevation Layer":G.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===y?F="Scene Layer":"Video Service"===
y?F="Video Layer":"Scene Package"===y?F="Scene Layer Package":"Stream Service"===y?F="Feature Layer":"Geoprocessing Service"===y?F=G.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===y?F="Locator":"Geoenrichment Service"===y?F="GeoEnrichment Service":"Microsoft Powerpoint"===y?F="Microsoft PowerPoint":"GeoJson"===y?F="GeoJSON":"Globe Service"===y?F="Globe Layer":"Vector Tile Service"===y?F="Tile Layer":"netCDF"===y?F="NetCDF":"Map Service"===y?F=G.includes("Spatiotemporal")||
!G.includes("Hosted Service")&&!G.includes("Tiled")||G.includes("Relational")?"Map Image Layer":"Tile Layer":y&&y.toLowerCase().includes("add in")?F=y.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===y?F="Big Data File Share":"Compact Tile Package"===y?F="Tile Package (tpkx)":"OGCFeatureServer"===y?F="OGC Feature Layer":"web mapping application"===y&&G.includes("configurableApp")?F="Instant App":"Insights Page"===y?F="Insights Report":"Excalibur Imagery Project"===y&&(F="Excalibur Project");
return F}},{key:"iconUrl",get:function(){var y=this.type&&this.type.toLowerCase()||"";const G=this.typeKeywords||[];let F=!1,K=!1,M=!1,O=!1,H=!1,J=!1;0<y.indexOf("service")||"feature collection"===y||"kml"===y||"wms"===y||"wmts"===y||"wfs"===y?(F=G.includes("Hosted Service"),"feature service"===y||"feature collection"===y||"kml"===y||"wfs"===y?(K=G.includes("Table"),M=G.includes("Route Layer"),O=G.includes("Markup"),H=G.includes("Spatiotemporal"),J=G.includes("UtilityNetwork"),y=H&&K?"spatiotemporaltable":
K?"table":M?"routelayer":O?"markup":H?"spatiotemporal":F?"featureshosted":J?"utilitynetwork":"features"):y="map service"===y||"wms"===y||"wmts"===y?F||G.includes("Tiled")||"wmts"===y?"maptiles":"mapimages":"scene service"===y?G.includes("Line")?"sceneweblayerline":G.includes("3DObject")?"sceneweblayermultipatch":G.includes("Point")?"sceneweblayerpoint":G.includes("IntegratedMesh")?"sceneweblayermesh":G.includes("PointCloud")?"sceneweblayerpointcloud":G.includes("Polygon")?"sceneweblayerpolygon":G.includes("Building")?
"sceneweblayerbuilding":G.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===y?G.includes("Elevation 3D Layer")?"elevationlayer":G.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===y?"streamlayer":"video service"===y?G.includes("Live Stream")?"livestreamvideolayer":"videolayer":"vector tile service"===y?"vectortile":"datastore catalog service"===y?"datastorecollection":"geocoding service"===y?"geocodeservice":"geoprocessing service"===y?G.includes("Web Tool")?
"tool":"layers":"geodata service"===y?"geodataservice":"layers"):y="web map"===y||"cityengine web scene"===y?"maps":"web scene"===y?G.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===y&&G.includes("configurableApp")?"instantapps":"web mapping application"===y||"mobile application"===y||"application"===y||"operation view"===y||"desktop application"===y?"apps":"map document"===y||"map package"===y||"published map"===y||"scene document"===y||"globe document"===
y||"basemap package"===y||"mobile basemap package"===y||"mobile map package"===y||"project package"===y||"project template"===y||"pro map"===y||"layout"===y||"layer"===y&&G.includes("ArcGIS Pro")||"explorer map"===y&&G.indexOf("Explorer Document")?"mapsgray":"service definition"===y||"csv"===y||"shapefile"===y||"cad drawing"===y||"geojson"===y||"netcdf"===y||"administrative report"===y?"datafiles":"explorer add in"===y||"desktop add in"===y||"windows viewer add in"===y||"windows viewer configuration"===
y?"appsgray":"360 vr experience"===y?"360vr":"arcgis pro add in"===y||"arcgis pro configuration"===y?"addindesktop":"rule package"===y||"file geodatabase"===y||"sqlite geodatabase"===y||"csv collection"===y||"kml collection"===y||"windows mobile package"===y||"map template"===y||"desktop application template"===y||"gml"===y||"arcpad package"===y||"code sample"===y||"form"===y||"document link"===y||"earth configuration"===y||"operations dashboard add in"===y||"rules package"===y||"image"===y||"workflow manager package"===
y||"explorer map"===y&&G.includes("Explorer Mapping Application")||G.includes("Document")?"datafilesgray":"network analysis service"===y||"geoprocessing service"===y||"geodata service"===y||"geometry service"===y||"geoprocessing package"===y||"locator package"===y||"geoprocessing sample"===y||"workflow manager service"===y?"toolsgray":"layer"===y||"layer package"===y||"explorer layer"===y?"layersgray":"scene package"===y?"scenepackage":"mobile scene package"===y?"mobilescenepackage":"tile package"===
y||"compact tile package"===y?"tilepackage":"task file"===y?"taskfile":"report template"===y?"report-template":"statistical data collection"===y?"statisticaldatacollection":"insights workbook"===y?"workbook":"insights model"===y?"insightsmodel":"insights page"===y?"insightspage":"insights theme"===y?"insightstheme":"hub initiative"===y?"hubinitiative":"hubpage"===y?"hubpage":"hub event"===y?"hubevent":"hub site application"===y?"hubsite":"hub project"===y?"hubproject":"relational database connection"===
y?"relationaldatabaseconnection":"big data file share"===y?"datastorecollection":"image collection"===y?"imagecollection":"style"===y?"style":"desktop style"===y?"desktopstyle":"dashboard"===y?"dashboard":"raster function template"===y?"rasterprocessingtemplate":"vector tile package"===y?"vectortilepackage":"ortho mapping project"===y?"orthomappingproject":"ortho mapping template"===y?"orthomappingtemplate":"solution"===y?"solutions":"geopackage"===y?"geopackage":"deep learning package"===y?"deeplearningpackage":
"real time analytic"===y?"realtimeanalytics":"big data analytic"===y?"bigdataanalytics":"feed"===y?"feed":"excalibur imagery project"===y?"excaliburimageryproject":"notebook"===y?"notebook":"storymap"===y?"storymap":"survey123 add in"===y?"survey123addin":"mission"===y?"mission":"mission report"===y?"missionreport":"quickcapture project"===y?"quickcaptureproject":"pro report"===y?"proreport":"pro report template"===y?"proreporttemplate":"urban model"===y?"urbanmodel":"web experience"===y?"experiencebuilder":
"web experience template"===y?"webexperiencetemplate":"experience builder widget"===y?"experiencebuilderwidget":"experience builder widget package"===y?"experiencebuilderwidgetpackage":"workflow"===y?"workflow":"insights script"===y?"insightsscript":"kernel gateway connection"===y?"kernelgatewayconnection":"hub initiative template"===y?"hubinitiativetemplate":"storymap theme"===y?"storymaptheme":"knowledge graph"===y?"knowledgegraph":"native application"===y?"nativeapp":"native application installer"===
y?"nativeappinstaller":"link chart"===y?"linkchart":"investigation"===y?"investigation":"ogcfeatureserver"===y?"features":"pro project"===y?"proproject":"insights workbook package"===y?"insightsworkbookpackage":"apache parquet"===y?"apacheparquet":"notebook code snippets"===y||"notebook code snippet library"===y?"notebookcodesnippets":"suitability model"===y?"suitabilitymodel":"esri classifier definition"===y?"classifierdefinition":"esri classification schema"===y?"classificationschema":"insights data engineering workbook"===
y?"dataengineeringworkbook":"insights data engineering model"===y?"dataengineeringmodel":"deep learning studio project"===y?"deeplearningproject":"discussion"===y?"discussion":"allsource project"===y?"allsourceproject":"api key"===y?"apikey":"data pipeline"===y?"datapipelines":"maps";return y?f.getAssetUrl("esri/images/portal/"+y+"16.png"):null}},{key:"isLayer",get:function(){return null!=this.type&&v.has(this.type)}},{key:"itemCdnUrl",get:function(){let y=this.itemUrl;y&&g.id&&!g.id.findCredential(y)&&
(y=g.id._normalizeAGOLorgDomain(y),y=y.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),y=y.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),y=y.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com"));return y}},{key:"itemPageUrl",get:function(){const y=this.portal?.itemPageUrl;return y&&this.id?`${y}?id=${this.id}`:null}},{key:"itemUrl",get:function(){const y=this.portal?.restUrl;return y&&this.id?`${y}/content/items/${this.id}`:null}},{key:"thumbnailUrl",
get:function(){const y=this.itemUrl,G=this.thumbnail;return y&&G?this.portal?.normalizeUrl(`${y}/info/${G}?f=json`)??null:null}},{key:"userItemUrl",get:function(){const y=this.get("portal.restUrl");if(!y)return null;const G=this.owner||this.get("portal.user.username");return G?`${y}/content/users/${this.ownerFolder?`${G}/${this.ownerFolder}`:G}/items/${this.id}`:null}}]);return C}(u.JSONSupportMixin(t));c.__decorate([e.property({type:["private","shared","org","public"]})],u.prototype,"access",void 0);
c.__decorate([e.property()],u.prototype,"accessInformation",void 0);c.__decorate([e.property({type:String})],u.prototype,"apiKey",void 0);c.__decorate([e.property({json:{read:{source:"appProxies"}}})],u.prototype,"applicationProxies",void 0);c.__decorate([e.property()],u.prototype,"avgRating",void 0);c.__decorate([e.property()],u.prototype,"categories",void 0);c.__decorate([e.property({type:Date})],u.prototype,"created",void 0);c.__decorate([e.property()],u.prototype,"culture",void 0);c.__decorate([e.property()],
u.prototype,"description",void 0);c.__decorate([e.property({readOnly:!0})],u.prototype,"displayName",null);c.__decorate([e.property({type:h})],u.prototype,"extent",void 0);c.__decorate([l.reader("extent")],u.prototype,"readExtent",null);c.__decorate([e.property()],u.prototype,"groupCategories",void 0);c.__decorate([e.property({readOnly:!0})],u.prototype,"iconUrl",null);c.__decorate([e.property()],u.prototype,"id",void 0);c.__decorate([e.property({readOnly:!0})],u.prototype,"isLayer",null);c.__decorate([e.property({type:Boolean,
readOnly:!0})],u.prototype,"isOrgItem",void 0);c.__decorate([e.property()],u.prototype,"itemControl",void 0);c.__decorate([e.property({readOnly:!0})],u.prototype,"itemPageUrl",null);c.__decorate([e.property({readOnly:!0})],u.prototype,"itemUrl",null);c.__decorate([e.property()],u.prototype,"licenseInfo",void 0);c.__decorate([e.property({type:Date})],u.prototype,"modified",void 0);c.__decorate([e.property()],u.prototype,"name",void 0);c.__decorate([e.property()],u.prototype,"numComments",void 0);c.__decorate([e.property()],
u.prototype,"numRatings",void 0);c.__decorate([e.property()],u.prototype,"numViews",void 0);c.__decorate([e.property()],u.prototype,"owner",void 0);c.__decorate([e.property()],u.prototype,"ownerFolder",void 0);c.__decorate([e.property({type:r})],u.prototype,"portal",void 0);c.__decorate([e.property()],u.prototype,"screenshots",void 0);c.__decorate([e.property()],u.prototype,"size",void 0);c.__decorate([e.property()],u.prototype,"snippet",void 0);c.__decorate([e.property()],u.prototype,"sourceJSON",
void 0);c.__decorate([e.property({type:String})],u.prototype,"sourceUrl",void 0);c.__decorate([e.property({type:String})],u.prototype,"spatialReference",void 0);c.__decorate([e.property()],u.prototype,"tags",void 0);c.__decorate([e.property()],u.prototype,"thumbnail",void 0);c.__decorate([e.property({readOnly:!0})],u.prototype,"thumbnailUrl",null);c.__decorate([e.property()],u.prototype,"title",void 0);c.__decorate([e.property()],u.prototype,"type",void 0);c.__decorate([e.property()],u.prototype,
"typeKeywords",void 0);c.__decorate([e.property({type:String,json:{read(B,C){A.has(C.type)&&(C=this.portal?.restUrl,B||(B=C&&this.id?`${C}/content/items/${this.id}/data`:null));return B}}})],u.prototype,"url",void 0);c.__decorate([e.property({readOnly:!0})],u.prototype,"userItemUrl",null);return u=w=c.__decorate([n.subclass("esri.portal.PortalItem")],u)})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),function(a,b,c,f,g,q){function u(t){if(!b.assetsPath)throw p.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),
new f("assets:path-not-set","config.assetsPath is not set");return q.join(b.assetsPath,t)}const p=g.getLogger("esri.assets");a.fetchAsset=function(t,k){return c(u(t),k)};a.getAssetUrl=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalItemResource":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){f=function(d){function l(h){h=d.call(this,h)||this;h.portalItem=null;return h}b._inherits(l,d);var n=l.prototype;n.normalizeCtorArgs=function(h){return h&&h.portalItem&&h.path?{...h,path:this._normalizePath(h.path,h.portalItem)}:h};n._castPath=function(h){return this._normalizePath(h,this.portalItem)};n.fetch=function(h="json",r){const z=this.cdnUrl;if(null==z)throw new g("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");
return this.portalItem.portal.request(z,{responseType:h,query:{token:this.portalItem.apiKey},signal:r?.signal})};n.update=async function(h,r){const {addOrUpdateResource:z}=await new Promise((x,w)=>a(["./support/resourceUtils"],x,w));return z(this,"update",h,r)};n.hasPath=function(){return null!=this.path};n._normalizePath=function(h,r){if(null==h)return h;h=h.replace(/^\/+/,"");null!=r&&u.isAbsolute(h)&&(h=u.makeRelative(h,r.itemUrl));return h?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")};
b._createClass(l,[{key:"path",set:function(h){null!=h&&u.isAbsolute(h)?q.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",h)}},{key:"url",get:function(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}},{key:"cdnUrl",get:function(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&
this.path?`./resources/${this.path}`:null}}]);return l}(f);c.__decorate([p.property()],f.prototype,"portalItem",void 0);c.__decorate([p.property({type:String,value:null})],f.prototype,"path",null);c.__decorate([t.cast("path")],f.prototype,"_castPath",null);c.__decorate([p.property({type:String,readOnly:!0})],f.prototype,"url",null);c.__decorate([p.property({type:String,readOnly:!0})],f.prototype,"cdnUrl",null);c.__decorate([p.property({type:String,readOnly:!0})],f.prototype,"itemRelativeUrl",null);
return f=c.__decorate([e.subclass("esri.portal.PortalItemResource")],f)})},"esri/portal/PortalRating":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p){c=function(t){function k(m){m=t.call(this,m)||this;m.created=null;m.rating=null;return m}a._inherits(k,t);return a._createClass(k)}(c);
b.__decorate([f.property()],c.prototype,"created",void 0);b.__decorate([f.property()],c.prototype,"rating",void 0);return c=b.__decorate([p.subclass("esri.portal.PortalRating")],c)})},"esri/support/basemapDefinitions":function(){define(["exports","../assets","../intl/messages"],function(a,b,c){a.esriBasemapDefinitions={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},
baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",
classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",
isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray.jpg")},
baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",
classic:!0,deprecated:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",
title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,
opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",
styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",
showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",
styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",
title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",
title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",
isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},
title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},
title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",
baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",
baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",
title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",
title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",
title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,
title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",
title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",
title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",
title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};a.getBasemapTitle=async function(f){if(f){var g=f.includes("-vector")?f.slice(0,f.indexOf("-vector")):
f,q=await c.fetchMessageBundle("esri/t9n/basemaps");return q[f]||q[g]}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/messages":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../core/Error","../core/promiseUtils","./locale"],function(a,b,c,f,g){function q(h){for(const r of d.keys())p(h.pattern,r)&&d.delete(r)}async function u(h,r){const z=[];for(const x of e)if(p(x.pattern,h))try{return await x.fetchMessageBundle(h,r)}catch(w){z.push(w)}if(z.length)throw new c("intl:message-bundle-error",
`Errors occurred while loading "${h}"`,{errors:z});throw new c("intl:no-message-bundle-loader",`No loader found for message bundle "${h}"`);}function p(h,r){return"string"===typeof h?r.startsWith(h):h.test(r)}const t=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,k={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,
"zh-TW":!0},m=Object.keys(k),e=[],d=new Map;g.beforeLocaleChange(()=>{d.clear()});const l=new (function(){function h(){this._numLoading=0;this._dfd=null}var r=h.prototype;r.waitForAll=async function(){this._dfd&&await this._dfd.promise};r.add=function(z){this._increase();z.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()};r._increase=function(){this._numLoading++;this._dfd||(this._dfd=f.createResolver())};r._decrease=function(){this._numLoading=Math.max(this._numLoading-1,
0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return b._createClass(h)}()),n={cache:d,loaders:e};a.fetchMessageBundle=async function(h){const r=g.getLocale();d.has(h)||d.set(h,u(h,r));(h=d.get(h))&&await l.add(h);return h};a.messageBundlesLocales=m;a.normalizeMessageBundleLocale=function(h){if(!t.test(h))return null;h=t.exec(h);if(null===h)return null;const [,r,z]=h;h=r+(z?"-"+z.toUpperCase():"");return h in k?h:r in k?r:null};a.registerMessageBundleLoader=function(h){e.includes(h)||
(q(h),e.unshift(h));return{remove(){const r=e.indexOf(h);-1<r&&(e.splice(r,1),q(h))}}};a.test=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),function(a,b,c,f,g,q){function u(k,m){"maxScale"in k&&(m.maxScale=g.numberToJSON(k.maxScale)??void 0);"minScale"in k&&(m.minScale=
g.numberToJSON(k.minScale)??void 0)}const p=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),t=new Set("csv feature geo-rss geojson group imagery imagery-tile kml map-image map-notes media ogc-feature route stream subtype-group tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));a.disableRestrictedWriting=function(k){p.add(k);t.add(k)};a.enableRestrictedWriting=function(k){p.delete(k);t.delete(k)};
a.getLayerJSON=function(k,m,e){if(!("write"in k&&k.write))return e&&e.messages&&e.messages.push(new b("layer:unsupported",`Layers (${k.title}, ${k.id}) of type '${k.declaredClass}' cannot be persisted`,{layer:k})),null;if(e.restrictedWebMapWriting){var d="basemap"===e.layerContainerType?p:"operational-layers"===e.layerContainerType?t:null;d=null!=d?d.has(k.type)&&!q.isFeatureCollectionLayer(k):!0}else d=!0;if(d)return m={},k.write(m,e)?m:null;if(null!=m){m=c.clone(m);if(e=m)q.isFeatureCollectionLayer(k)?
(d=(d=f.getDeepValue("featureCollection.layers",e))&&d[0]&&d[0].layerDefinition)&&u(k,d):"group"!==k.type&&u(k,e);if(e&&("blendMode"in k&&(e.blendMode=k.blendMode,"normal"===e.blendMode&&delete e.blendMode),e.opacity=g.numberToJSON(k.opacity)??void 0,e.title=k.title||"Layer",e.visibility=k.visible,"legendEnabled"in k&&"wmts"!==k.type))if(q.isFeatureCollectionLayer(k)){if(e=e.featureCollection)e.showLegend=k.legendEnabled}else e.showLegend=k.legendEnabled}return m};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../kernel","../../request"],function(a,b,c){function f(q){return"scene"===q?.type}function g(q){q=q?.type;return"imagery-tile"===q||"tile"===q||"open-street-map"===q||"vector-tile"===q||"web-tile"===q||"wmts"===q}a.getEffectiveEditingEnabled=function(q){a:if("editingEnabled"in q)switch(q.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var u=
!0;break a;default:u=!1}else u=!1;return u?"effectiveEditingEnabled"in q?q.effectiveEditingEnabled:q.editingEnabled:!1};a.getEffectiveLayerCapabilities=function(q){a:if("capabilities"in q)switch(q.type){case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":case "wfs":var u=!0;break a;default:u=!1}else u=!1;return u?"effectiveCapabilities"in q?q.effectiveCapabilities:
q.capabilities:null};a.getOwningPortalUrl=async function(q,u){var p=b.id?.findServerInfo(q);if(null!=p?.currentVersion)return p.owningSystemUrl||null;p=q.toLowerCase().indexOf("/rest/services");if(-1===p)return null;q=`${q.substring(0,p)}/rest/info`;({data:u}=await c(q,{query:{f:"json"},responseType:"json",signal:null!=u?u.signal:null}));return u?.owningSystemUrl||null};a.getTileMaxtrixSetFromActiveLayer=function(q){if(q.activeLayer){const u=q.activeLayer.tileMatrixSet;if(u)return u;if(q=q.activeLayer.tileMatrixSets)return q}return null};
a.isBaseLayer=function(q){return null!=q&&null!=q.parent&&"declaredClass"in q.parent&&"esri.Basemap"===q.parent.declaredClass&&q.parent.baseLayers.includes(q)};a.isBasemap3DSupportedLayer=function(q){return g(q)||f(q)};a.isBasemapSupportedTiledLayer=g;a.isFeatureCollectionLayer=function(q){return"feature"===q?.type&&!q.url&&"memory"===q.source?.type};a.isFeatureLayer=function(q){return null!=q&&"object"===typeof q&&"type"in q&&"feature"===q.type};a.isFeatureServiceLayer=function(q){return"feature"===
q?.type&&"feature-layer"===q.source?.type};a.isGroupLayer=function(q){return null!=q&&"type"in q&&"group"===q.type};a.isImageryTileLayer=function(q){return"imagery-tile"===q?.type};a.isLayerWithFeatureLayerSource=function(q){return("feature"===q?.type||"subtype-group"===q?.type)&&"feature-layer"===q.source?.type};a.isSceneLayer=f;a.isSceneServiceLayer=function(q){q=q?.type;return"building-scene"===q||"integrated-mesh"===q||"point-cloud"===q||"scene"===q};a.isTable=function(q){return null!=q&&"object"===
typeof q&&"isTable"in q&&!!q.isTable};a.isTiledLayer=function(q){q=q?.type;return"base-tile"===q||"tile"===q||"elevation"===q||"imagery-tile"===q||"base-elevation"===q||"open-street-map"===q||"wcs"===q||"web-tile"===q||"wmts"===q||"vector-tile"===q};a.isVoxelLayer=function(q){return"voxel"===q?.type};a.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};a.serializeLayerDefinitions=
function(q){const u=/[:;]/,p=[];let t=!1;if(q&&(q.forEach((k,m)=>{p.push([m,k]);!t&&u.test(k)&&(t=!0)}),0<p.length)){if(t){const k={};p.forEach(m=>{k[m[0]]=m[1]});q=JSON.stringify(k)}else{const k=[];p.forEach(m=>{k.push(m[0]+":"+m[1])});q=k.join(";")}return q}return null};a.serializeTimeOptions=function(q){if(q){var u=[];q.forEach((p,t)=>{u.push('"'+t+'":'+JSON.stringify(p))});if(u.length)return"{"+u.join(",")+"}"}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Ground":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./webdoc/support/opacityUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w){function v(B){return"elevation"===B.type||B&&"createElevationSampler"in B}var A;t=A=function(B){function C(y){var G=B.call(this,y)||this;G.opacity=1;G.surfaceColor=null;G.navigationConstraint=null;G.layers=new g;G.addHandles([G.layers.on("after-add",F=>{F=F.item;F.parent&&F.parent!==b._assertThisInitialized(G)&&"remove"in F.parent&&F.parent.remove(F);F.parent=b._assertThisInitialized(G);"elevation"!==F.type&&"base-elevation"!==F.type&&d.getLogger(b._assertThisInitialized(G)).error(`Layer '${F.title}, id:${F.id}' of type '${F.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)}),
G.layers.on("after-remove",F=>{F.item.parent=null})]);return G}b._inherits(C,B);var D=C.prototype;D.initialize=function(){this.when().catch(y=>{l.isAbortError(y)||d.getLogger(this).error("#load()","Failed to load ground",y)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};D.destroy=function(){const y=this.layers.removeAll();for(const G of y)G.destroy();this.layers.destroy()};D.normalizeCtorArgs=function(y){y&&"resourceInfo"in y&&(this._set("resourceInfo",y.resourceInfo),
y={...y},delete y.resourceInfo);return y};D.writeLayers=function(y,G,F,K){const M=[];y&&(K={...K,layerContainerType:"ground"},y.forEach(O=>{if("write"in O){const H={};u.typeCast(O)().write(H,K)&&M.push(H)}else K&&K.messages&&K.messages.push(new p("layer:unsupported",`Layers (${O.title}, ${O.id}) of type '${O.declaredClass}' cannot be persisted in the ground`,{layer:O}))}));G.layers=M};D.load=function(y){this.addResolvingPromise(this._loadFromSource(y));return Promise.resolve(this)};D.loadAll=function(){return e.loadAll(this,
y=>{y(this.layers)})};D.queryElevation=async function(y,G){await this.load({signal:G?.signal});var {ElevationQuery:F}=await new Promise((M,O)=>a(["./layers/support/ElevationQuery"],M,O));l.throwIfAborted(G);F=new F;const K=this.layers.filter(v).toArray();return F.queryAll(K,y,G)};D.createElevationSampler=async function(y,G){await this.load({signal:G?.signal});var {ElevationQuery:F}=await new Promise((M,O)=>a(["./layers/support/ElevationQuery"],M,O));l.throwIfAborted(G);F=new F;const K=this.layers.filter(v).toArray();
return F.createSamplerAll(K,y,G)};D.clone=function(){const y={opacity:this.opacity,surfaceColor:k.clone(this.surfaceColor),navigationConstraint:k.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(y.loadStatus="loaded");return(new A({resourceInfo:this.resourceInfo})).set(y)};D.read=function(y,G){this.resourceInfo||this._set("resourceInfo",{data:y,context:G});b._get(b._getPrototypeOf(C.prototype),"read",this).call(this,y,G)};D._loadFromSource=function(y){const G=this.resourceInfo;
return G?this._loadLayersFromJSON(G.data,G.context,y):Promise.resolve()};D._loadLayersFromJSON=function(y,G,F){const K=G&&G.origin||"web-scene",M=G&&G.portal||null,O=G&&G.url||null;return(new Promise((H,J)=>a(["./layers/support/layersCreator"],H,J))).then(({populateOperationalLayers:H})=>{l.throwIfAborted(F);const J=[];y.layers&&Array.isArray(y.layers)&&J.push(H(this.layers,y.layers,{context:{origin:K,url:O,portal:M,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));
return l.eachAlways(J)}).then(()=>{})};b._createClass(C,[{key:"layers",set:function(y){this._set("layers",q.referenceSetter(y,this._get("layers")))}}]);return C}(t.JSONSupportMixin(m));c.__decorate([n.property({json:{read:!1}})],t.prototype,"layers",null);c.__decorate([z.writer("layers")],t.prototype,"writeLayers",null);c.__decorate([n.property({readOnly:!0})],t.prototype,"resourceInfo",void 0);c.__decorate([n.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:h.Integer,read:{reader:w.transparencyToOpacity,
source:"transparency"},write:{writer:(B,C)=>{C.transparency=w.opacityToTransparency(B)},target:"transparency"}}})],t.prototype,"opacity",void 0);c.__decorate([n.property({type:f,json:{type:[h.Integer],write:(B,C)=>{C.surfaceColor=B.toJSON().slice(0,3)}}})],t.prototype,"surfaceColor",void 0);c.__decorate([n.property({type:x.NavigationConstraint,json:{write:!0}})],t.prototype,"navigationConstraint",void 0);return t=A=c.__decorate([r.subclass("esri.Ground")],t)})},"esri/Color":function(){define(["./chunks/_rollupPluginBabelHelpers",
"./colorUtils","./core/mathUtils","./core/accessorSupport/ensureType"],function(a,b,c,f){function g(p){return c.clamp(f.ensureInteger(p),0,255)}function q(p,t,k){p=Number(p);return isNaN(p)?k:p<t?t:p>k?k:p}let u=function(){function p(k){this.b=this.g=this.r=255;this.a=1;k&&this.setColor(k)}p.blendColors=function(k,m,e,d=new p){d.r=Math.round(k.r+(m.r-k.r)*e);d.g=Math.round(k.g+(m.g-k.g)*e);d.b=Math.round(k.b+(m.b-k.b)*e);d.a=k.a+(m.a-k.a)*e;return d._sanitize()};p.fromRgb=function(k,m){var e=k.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);
if(e){k=e[2].split(/\s*,\s*/);e=e[1];if("rgb"===e&&3===k.length||"rgba"===e&&4===k.length)return e=k[0],"%"===e.charAt(e.length-1)?(e=k.map(d=>2.56*parseFloat(d)),4===k.length&&(e[3]=parseFloat(k[3])),p.fromArray(e,m)):p.fromArray(k.map(d=>parseFloat(d)),m);if("hsl"===e&&3===k.length||"hsla"===e&&4===k.length)return p.fromArray(b.hsla2rgba(parseFloat(k[0]),parseFloat(k[1])/100,parseFloat(k[2])/100,parseFloat(k[3])),m)}return null};p.fromHex=function(k,m=new p){if(4!==k.length&&7!==k.length||"#"!==
k[0])return null;const e=4===k.length?4:8,d=(1<<e)-1;let l=Number("0x"+k.substr(1));if(isNaN(l))return null;["b","g","r"].forEach(n=>{const h=l&d;l>>=e;m[n]=4===e?17*h:h});m.a=1;return m};p.fromArray=function(k,m=new p){m._set(Number(k[0]),Number(k[1]),Number(k[2]),Number(k[3]));isNaN(m.a)&&(m.a=1);return m._sanitize()};p.fromString=function(k,m){const e=b.isNamedColor(k)?b.getNamedColor(k):null;return e&&p.fromArray(e,m)||p.fromRgb(k,m)||p.fromHex(k,m)};p.fromJSON=function(k){return k&&new p([k[0],
k[1],k[2],k[3]/255])};p.toUnitRGB=function(k){return null!=k?[k.r/255,k.g/255,k.b/255]:null};p.toUnitRGBA=function(k){return null!=k?[k.r/255,k.g/255,k.b/255,null!=k.a?k.a:1]:null};var t=p.prototype;t.setColor=function(k){"string"===typeof k?p.fromString(k,this):Array.isArray(k)?p.fromArray(k,this):(this._set(k.r??0,k.g??0,k.b??0,k.a??1),k instanceof p||this._sanitize());return this};t.toRgb=function(){return[this.r,this.g,this.b]};t.toRgba=function(){return[this.r,this.g,this.b,this.a]};t.toHex=
function(){const k=this.r.toString(16),m=this.g.toString(16),e=this.b.toString(16);return`#${2>k.length?"0"+k:k}${2>m.length?"0"+m:m}${2>e.length?"0"+e:e}`};t.toCss=function(k=!1){const m=this.r+", "+this.g+", "+this.b;return k?`rgba(${m}, ${this.a})`:`rgb(${m})`};t.toString=function(){return this.toCss(!0)};t.toJSON=function(){return this.toArray()};t.toArray=function(k=p.AlphaMode.ALWAYS){const m=g(this.r),e=g(this.g),d=g(this.b);return k===p.AlphaMode.ALWAYS||1!==this.a?[m,e,d,g(255*this.a)]:[m,
e,d]};t.clone=function(){return new p(this.toRgba())};t.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};t.equals=function(k){return null!=k&&k.r===this.r&&k.g===this.g&&k.b===this.b&&k.a===this.a};t._sanitize=function(){this.r=Math.round(q(this.r,0,255));this.g=Math.round(q(this.g,0,255));this.b=Math.round(q(this.b,0,255));this.a=q(this.a,0,1);return this};t._set=function(k,m,e,d){this.r=k;this.g=m;this.b=e;this.a=d};a._createClass(p,[{key:"isBright",get:function(){return 127<=
.299*this.r+.587*this.g+.114*this.b}}]);return p}();u.prototype.declaredClass="esri.Color";(function(p){p=p.AlphaMode||(p.AlphaMode={});p[p.ALWAYS=0]="ALWAYS";p[p.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(u||(u={}));return u})},"esri/colorUtils":function(){define(["exports"],function(a){function b(g){return f[g]??f[g.toLowerCase()]}function c(g,q,u){0>u&&++u;1<u&&--u;const p=6*u;return 1>p?g+(q-g)*p:1>2*u?q:2>3*u?g+(q-g)*(2/3-u)*6:g}const f={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,
128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,
135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,
150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],
grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,
160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,
21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,
224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,
130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(g){return[...b(g)]};a.hex2rgba=function(g){var q=5<g.length;const u=q?8:4,p=(1<<u)-1,t=q?1:17;q=q?9===g.length:5===g.length;g=Number("0x"+g.substr(1));if(isNaN(g))return null;const k=[0,0,0,1];q&&(q=g&p,g>>=u,k[3]=t*q/255);q=g&p;g>>=u;k[2]=t*q;q=g&p;g>>=u;k[1]=t*q;q=g&p;g>>=u;k[0]=t*q;return k};a.hsla2rgba=function(g,q,u,p=1){g=(g%360+360)%360/360;q=.5>=u?u*(q+1):
u+q-u*q;u=2*u-q;return[Math.round(255*c(u,q,g+1/3)),Math.round(255*c(u,q,g)),Math.round(255*c(u,q,g-1/3)),p]};a.isNamedColor=function(g){return!!f[g]||!!f[g.toLowerCase()]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/mathUtils":function(){define(["exports","../chunks/vec3","../chunks/vec4"],function(a,b,c){function f(r,z,x){return Math.min(Math.max(r,z),x)}function g(r,z,x){return r+(z-r)*x}function q(r){return Math.asin(f(r,-1,1))}function u(r,z,x=1E-6){return r===
z?!0:Number.isFinite(r)&&Number.isFinite(z)?(r>z?r-z:z-r)<=x:!1}function p(r){d.setFloat64(0,r);return d.getBigInt64(0)}function t(r){d.setBigInt64(0,r);return d.getFloat64(0)}function k(r){r=Math.abs(r);var z=p(r);z=z<=l?t(l):t(z-l);return Math.abs(r-z)}function m(r){e[0]=r;return e[0]}const e=new Float32Array(1),d=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),l=BigInt("1000000"),n=k(1),h=m(3.4028234663852886E38);a.NUMBER_MAX_FLOAT32=h;a.acosClamped=function(r){return Math.acos(f(r,
-1,1))};a.applyOpacity=function(r,z,x){return c.set(r,z[0],z[1],z[2],z[3]*x)};a.asinClamped=q;a.cartesianToSpherical=function(r,z){const x=b.length(r),w=q(r[2]/x);b.set(z,x,w,Math.atan2(r[1]/x,r[0]/x));return z};a.clamp=f;a.clampFloat32=function(r){return m(Math.max(-h,Math.min(r,h)))};a.deg2rad=function(r){return r*Math.PI/180};a.floatEqualAbsolute=u;a.floatEqualRelative=function(r,z,x=1E-6){if(r===z)return!0;if(!Number.isFinite(r)||!Number.isFinite(z))return!1;const w=Math.abs(r-z),v=Math.abs(r),
A=Math.abs(z);if(0===r||0===z||1E-12>v&&1E-12>A){if(w>.01*x)return!1}else if(w/(v+A)>x)return!1;return!0};a.floatEqualUlp=function(r,z,x=n){if(r===z)return!0;if(!Number.isFinite(r)||!Number.isFinite(z))return!1;if(null!=x&&k(Math.min(Math.abs(r),Math.abs(z)))<x)return Math.abs(r-z)<=x;r=p(r);z=p(z);return 0>r!==0>z||(r<z?z-r:r-z)>l?!1:!0};a.hasScaling=function(r){const z=r[3]*r[3]+r[4]*r[4]+r[5]*r[5],x=r[6]*r[6]+r[7]*r[7]+r[8]*r[8];return!(u(r[0]*r[0]+r[1]*r[1]+r[2]*r[2],1)&&u(z,1)&&u(x,1))};a.isPowerOfTwo=
function(r){return 0===(r&r-1)};a.lerp=g;a.nextHighestPowerOfTen=function(r){return 10**Math.ceil(Math.LOG10E*Math.log(r))};a.nextHighestPowerOfTwo=function(r){--r;for(let z=1;32>z;z<<=1)r|=r>>z;return r+1};a.nextPowerOfTwo=function(r){r--;r|=r>>1;r|=r>>2;r|=r>>4;r|=r>>8;r|=r>>16;r++;return r};a.rad2deg=function(r){return 180*r/Math.PI};a.reciprocalClamped=function(r,z=1E-6){return(0>r?-1:1)/Math.max(Math.abs(r),z)};a.roundToNearest=function(r,z){return 0===z?0:Math.round(r/z)*z};a.scale=function(r,
z,x,w,v){return g(w,v,(r-z)/(x-z))};a.smoothstep=function(r,z,x){r=f((x-r)/(z-r),0,1);return r*r*(3-2*r)};a.sphericalToCartesian=function(r,z){const x=r[0],w=r[1];r=r[2];const v=Math.cos(w);b.set(z,x*v*Math.cos(r),x*v*Math.sin(r),x*Math.sin(w))};a.step=function(r,z){return z<r?0:1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],function(a,b,c){function f(ba){const ka=ba[0],Fa=ba[1];ba=ba[2];return Math.sqrt(ka*
ka+Fa*Fa+ba*ba)}function g(ba,ka){ba[0]=ka[0];ba[1]=ka[1];ba[2]=ka[2];return ba}function q(ba,ka,Fa,Na){ba[0]=ka;ba[1]=Fa;ba[2]=Na;return ba}function u(ba,ka,Fa){ba[0]=ka[0]+Fa[0];ba[1]=ka[1]+Fa[1];ba[2]=ka[2]+Fa[2];return ba}function p(ba,ka,Fa){ba[0]=ka[0]-Fa[0];ba[1]=ka[1]-Fa[1];ba[2]=ka[2]-Fa[2];return ba}function t(ba,ka,Fa){ba[0]=ka[0]*Fa[0];ba[1]=ka[1]*Fa[1];ba[2]=ka[2]*Fa[2];return ba}function k(ba,ka,Fa){ba[0]=ka[0]/Fa[0];ba[1]=ka[1]/Fa[1];ba[2]=ka[2]/Fa[2];return ba}function m(ba,ka){ba[0]=
Math.ceil(ka[0]);ba[1]=Math.ceil(ka[1]);ba[2]=Math.ceil(ka[2]);return ba}function e(ba,ka){ba[0]=Math.floor(ka[0]);ba[1]=Math.floor(ka[1]);ba[2]=Math.floor(ka[2]);return ba}function d(ba,ka){ba[0]=Math.abs(ka[0]);ba[1]=Math.abs(ka[1]);ba[2]=Math.abs(ka[2]);return ba}function l(ba,ka){ba[0]=Math.sign(ka[0]);ba[1]=Math.sign(ka[1]);ba[2]=Math.sign(ka[2]);return ba}function n(ba,ka,Fa){ba[0]=Math.min(ka[0],Fa[0]);ba[1]=Math.min(ka[1],Fa[1]);ba[2]=Math.min(ka[2],Fa[2]);return ba}function h(ba,ka,Fa){ba[0]=
Math.max(ka[0],Fa[0]);ba[1]=Math.max(ka[1],Fa[1]);ba[2]=Math.max(ka[2],Fa[2]);return ba}function r(ba,ka){ba[0]=Math.round(ka[0]);ba[1]=Math.round(ka[1]);ba[2]=Math.round(ka[2]);return ba}function z(ba,ka,Fa){ba[0]=ka[0]*Fa;ba[1]=ka[1]*Fa;ba[2]=ka[2]*Fa;return ba}function x(ba,ka,Fa,Na){ba[0]=ka[0]+Fa[0]*Na;ba[1]=ka[1]+Fa[1]*Na;ba[2]=ka[2]+Fa[2]*Na;return ba}function w(ba,ka){const Fa=ka[0]-ba[0],Na=ka[1]-ba[1];ba=ka[2]-ba[2];return Math.sqrt(Fa*Fa+Na*Na+ba*ba)}function v(ba,ka){const Fa=ka[0]-ba[0],
Na=ka[1]-ba[1];ba=ka[2]-ba[2];return Fa*Fa+Na*Na+ba*ba}function A(ba){const ka=ba[0],Fa=ba[1];ba=ba[2];return ka*ka+Fa*Fa+ba*ba}function B(ba,ka){ba[0]=-ka[0];ba[1]=-ka[1];ba[2]=-ka[2];return ba}function C(ba,ka){ba[0]=1/ka[0];ba[1]=1/ka[1];ba[2]=1/ka[2];return ba}function D(ba,ka){var Fa=ka[0];const Na=ka[1],Qa=ka[2];Fa=Fa*Fa+Na*Na+Qa*Qa;0<Fa&&(Fa=1/Math.sqrt(Fa),ba[0]=ka[0]*Fa,ba[1]=ka[1]*Fa,ba[2]=ka[2]*Fa);return ba}function y(ba,ka){return ba[0]*ka[0]+ba[1]*ka[1]+ba[2]*ka[2]}function G(ba,ka,
Fa){const Na=ka[0],Qa=ka[1];ka=ka[2];const I=Fa[0],S=Fa[1];Fa=Fa[2];ba[0]=Qa*Fa-ka*S;ba[1]=ka*I-Na*Fa;ba[2]=Na*S-Qa*I;return ba}function F(ba,ka,Fa,Na){const Qa=ka[0],I=ka[1];ka=ka[2];ba[0]=Qa+Na*(Fa[0]-Qa);ba[1]=I+Na*(Fa[1]-I);ba[2]=ka+Na*(Fa[2]-ka);return ba}function K(ba,ka,Fa,Na,Qa,I){const S=I*I,qa=S*(2*I-3)+1,W=S*(I-2)+I,pa=S*(I-1);I=S*(3-2*I);ba[0]=ka[0]*qa+Fa[0]*W+Na[0]*pa+Qa[0]*I;ba[1]=ka[1]*qa+Fa[1]*W+Na[1]*pa+Qa[1]*I;ba[2]=ka[2]*qa+Fa[2]*W+Na[2]*pa+Qa[2]*I;return ba}function M(ba,ka,Fa,
Na,Qa,I){var S=1-I,qa=S*S;const W=I*I,pa=qa*S;qa*=3*I;S*=3*W;I*=W;ba[0]=ka[0]*pa+Fa[0]*qa+Na[0]*S+Qa[0]*I;ba[1]=ka[1]*pa+Fa[1]*qa+Na[1]*S+Qa[1]*I;ba[2]=ka[2]*pa+Fa[2]*qa+Na[2]*S+Qa[2]*I;return ba}function O(ba,ka){ka=ka||1;var Fa=c.RANDOM;const Na=2*Fa()*Math.PI;Fa=2*Fa()-1;const Qa=Math.sqrt(1-Fa*Fa)*ka;ba[0]=Math.cos(Na)*Qa;ba[1]=Math.sin(Na)*Qa;ba[2]=Fa*ka;return ba}function H(ba,ka,Fa){const Na=ka[0],Qa=ka[1];ka=ka[2];ba[0]=Fa[0]*Na+Fa[4]*Qa+Fa[8]*ka+Fa[12];ba[1]=Fa[1]*Na+Fa[5]*Qa+Fa[9]*ka+Fa[13];
ba[2]=Fa[2]*Na+Fa[6]*Qa+Fa[10]*ka+Fa[14];return ba}function J(ba,ka,Fa){const Na=ka[0],Qa=ka[1];ka=ka[2];ba[0]=Na*Fa[0]+Qa*Fa[3]+ka*Fa[6];ba[1]=Na*Fa[1]+Qa*Fa[4]+ka*Fa[7];ba[2]=Na*Fa[2]+Qa*Fa[5]+ka*Fa[8];return ba}function L(ba,ka,Fa){const Na=Fa[0],Qa=Fa[1],I=Fa[2],S=ka[0],qa=ka[1];ka=ka[2];let W=Qa*ka-I*qa,pa=I*S-Na*ka,R=Na*qa-Qa*S;Fa=2*Fa[3];ba[0]=S+W*Fa+2*(Qa*R-I*pa);ba[1]=qa+pa*Fa+2*(I*W-Na*R);ba[2]=ka+R*Fa+2*(Na*pa-Qa*W);return ba}function N(ba,ka,Fa,Na){const Qa=[],I=[];Qa[0]=ka[0]-Fa[0];Qa[1]=
ka[1]-Fa[1];Qa[2]=ka[2]-Fa[2];I[0]=Qa[0];I[1]=Qa[1]*Math.cos(Na)-Qa[2]*Math.sin(Na);I[2]=Qa[1]*Math.sin(Na)+Qa[2]*Math.cos(Na);ba[0]=I[0]+Fa[0];ba[1]=I[1]+Fa[1];ba[2]=I[2]+Fa[2];return ba}function V(ba,ka,Fa,Na){const Qa=[],I=[];Qa[0]=ka[0]-Fa[0];Qa[1]=ka[1]-Fa[1];Qa[2]=ka[2]-Fa[2];I[0]=Qa[2]*Math.sin(Na)+Qa[0]*Math.cos(Na);I[1]=Qa[1];I[2]=Qa[2]*Math.cos(Na)-Qa[0]*Math.sin(Na);ba[0]=I[0]+Fa[0];ba[1]=I[1]+Fa[1];ba[2]=I[2]+Fa[2];return ba}function X(ba,ka,Fa,Na){const Qa=[],I=[];Qa[0]=ka[0]-Fa[0];Qa[1]=
ka[1]-Fa[1];Qa[2]=ka[2]-Fa[2];I[0]=Qa[0]*Math.cos(Na)-Qa[1]*Math.sin(Na);I[1]=Qa[0]*Math.sin(Na)+Qa[1]*Math.cos(Na);I[2]=Qa[2];ba[0]=I[0]+Fa[0];ba[1]=I[1]+Fa[1];ba[2]=I[2]+Fa[2];return ba}function U(ba,ka){g(ma,ba);g(ta,ka);D(ma,ma);D(ta,ta);ba=y(ma,ta);return 1<ba?0:-1>ba?Math.PI:Math.acos(ba)}function P(ba){return"vec3("+ba[0]+", "+ba[1]+", "+ba[2]+")"}function fa(ba,ka){return ba[0]===ka[0]&&ba[1]===ka[1]&&ba[2]===ka[2]}function Ba(ba,ka){if(ba===ka)return!0;const Fa=ba[0],Na=ba[1];ba=ba[2];const Qa=
ka[0],I=ka[1];ka=ka[2];const S=c.getEpsilon();return Math.abs(Fa-Qa)<=S*Math.max(1,Math.abs(Fa),Math.abs(Qa))&&Math.abs(Na-I)<=S*Math.max(1,Math.abs(Na),Math.abs(I))&&Math.abs(ba-ka)<=S*Math.max(1,Math.abs(ba),Math.abs(ka))}function Aa(ba,ka,Fa){const Na=Fa[0]-ka[0],Qa=Fa[1]-ka[1];ka=Fa[2]-ka[2];Fa=Na*Na+Qa*Qa+ka*ka;if(0<Fa)return Fa=1/Math.sqrt(Fa),ba[0]=Na*Fa,ba[1]=Qa*Fa,ba[2]=ka*Fa,ba;ba[0]=0;ba[1]=0;ba[2]=0;return ba}const ma=b.create(),ta=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,
abs:d,add:u,angle:U,bezier:M,ceil:m,copy:g,cross:G,direction:Aa,dist:w,distance:w,div:k,divide:k,dot:y,equals:Ba,exactEquals:fa,floor:e,hermite:K,inverse:C,len:f,length:f,lerp:F,max:h,min:n,mul:t,multiply:t,negate:B,normalize:D,random:O,rotateX:N,rotateY:V,rotateZ:X,round:r,scale:z,scaleAndAdd:x,set:q,sign:l,sqrDist:v,sqrLen:A,squaredDistance:v,squaredLength:A,str:P,sub:p,subtract:p,transformMat3:J,transformMat4:H,transformQuat:L},Symbol.toStringTag,{value:"Module"}));a.abs=d;a.add=u;a.angle=U;a.bezier=
M;a.ceil=m;a.copy=g;a.cross=G;a.direction=Aa;a.dist=w;a.distance=w;a.div=k;a.divide=k;a.dot=y;a.equals=Ba;a.exactEquals=fa;a.floor=e;a.hermite=K;a.inverse=C;a.len=f;a.length=f;a.lerp=F;a.max=h;a.min=n;a.mul=t;a.multiply=t;a.negate=B;a.normalize=D;a.random=O;a.rotateX=N;a.rotateY=V;a.rotateZ=X;a.round=r;a.scale=z;a.scaleAndAdd=x;a.set=q;a.sign=l;a.sqrDist=v;a.sqrLen=A;a.squaredDistance=v;a.squaredLength=A;a.str=P;a.sub=p;a.subtract=p;a.transformMat3=J;a.transformMat4=H;a.transformQuat=L;a.vec3=b})},
"esri/chunks/vec3f64":function(){define(["exports"],function(a){function b(){return[0,0,0]}function c(z){return[z[0],z[1],z[2]]}function f(z,x,w){return[z,x,w]}function g(z){const x=b(),w=Math.min(3,z.length);for(let v=0;v<w;++v)x[v]=z[v];return x}function q(z,x){return new Float64Array(z,x,3)}function u(){return b()}function p(){return[1,1,1]}function t(){return[1,0,0]}function k(){return[0,1,0]}function m(){return[0,0,1]}const e=b(),d=p(),l=t(),n=k(),h=m(),r=Object.freeze(Object.defineProperty({__proto__:null,
ONES:d,UNIT_X:l,UNIT_Y:n,UNIT_Z:h,ZEROS:e,clone:c,create:b,createView:q,fromArray:g,fromValues:f,ones:p,unitX:t,unitY:k,unitZ:m,zeros:u},Symbol.toStringTag,{value:"Module"}));a.ONES=d;a.UNIT_X=l;a.UNIT_Y=n;a.UNIT_Z=h;a.ZEROS=e;a.clone=c;a.create=b;a.createView=q;a.fromArray=g;a.fromValues=f;a.ones=p;a.unitX=t;a.unitY=k;a.unitZ=m;a.vec3f64=r;a.zeros=u})},"esri/chunks/common":function(){define(["exports"],function(a){function b(){return u}function c(e){u=e}function f(e){return e*t}function g(e){return e*
k}function q(e,d){return Math.abs(e-d)<=u*Math.max(1,Math.abs(e),Math.abs(d))}let u=1E-6;const p=Math.random,t=Math.PI/180,k=180/Math.PI,m=Object.freeze(Object.defineProperty({__proto__:null,RANDOM:p,equals:q,getEpsilon:b,setEpsilon:c,toDegree:g,toRadian:f},Symbol.toStringTag,{value:"Module"}));a.RANDOM=p;a.common=m;a.equals=q;a.getEpsilon=b;a.setEpsilon=c;a.toDegree=g;a.toRadian=f})},"esri/chunks/vec4":function(){define(["exports","./common"],function(a,b){function c(H,J){H[0]=J[0];H[1]=J[1];H[2]=
J[2];H[3]=J[3];return H}function f(H,J,L,N,V){H[0]=J;H[1]=L;H[2]=N;H[3]=V;return H}function g(H,J,L){H[0]=J[0]+L[0];H[1]=J[1]+L[1];H[2]=J[2]+L[2];H[3]=J[3]+L[3];return H}function q(H,J,L){H[0]=J[0]-L[0];H[1]=J[1]-L[1];H[2]=J[2]-L[2];H[3]=J[3]-L[3];return H}function u(H,J,L){H[0]=J[0]*L[0];H[1]=J[1]*L[1];H[2]=J[2]*L[2];H[3]=J[3]*L[3];return H}function p(H,J,L){H[0]=J[0]/L[0];H[1]=J[1]/L[1];H[2]=J[2]/L[2];H[3]=J[3]/L[3];return H}function t(H,J){H[0]=Math.ceil(J[0]);H[1]=Math.ceil(J[1]);H[2]=Math.ceil(J[2]);
H[3]=Math.ceil(J[3]);return H}function k(H,J){H[0]=Math.floor(J[0]);H[1]=Math.floor(J[1]);H[2]=Math.floor(J[2]);H[3]=Math.floor(J[3]);return H}function m(H,J,L){H[0]=Math.min(J[0],L[0]);H[1]=Math.min(J[1],L[1]);H[2]=Math.min(J[2],L[2]);H[3]=Math.min(J[3],L[3]);return H}function e(H,J,L){H[0]=Math.max(J[0],L[0]);H[1]=Math.max(J[1],L[1]);H[2]=Math.max(J[2],L[2]);H[3]=Math.max(J[3],L[3]);return H}function d(H,J){H[0]=Math.round(J[0]);H[1]=Math.round(J[1]);H[2]=Math.round(J[2]);H[3]=Math.round(J[3]);
return H}function l(H,J,L){H[0]=J[0]*L;H[1]=J[1]*L;H[2]=J[2]*L;H[3]=J[3]*L;return H}function n(H,J,L,N){H[0]=J[0]+L[0]*N;H[1]=J[1]+L[1]*N;H[2]=J[2]+L[2]*N;H[3]=J[3]+L[3]*N;return H}function h(H,J){const L=J[0]-H[0],N=J[1]-H[1],V=J[2]-H[2];H=J[3]-H[3];return Math.sqrt(L*L+N*N+V*V+H*H)}function r(H,J){const L=J[0]-H[0],N=J[1]-H[1],V=J[2]-H[2];H=J[3]-H[3];return L*L+N*N+V*V+H*H}function z(H){const J=H[0],L=H[1],N=H[2];H=H[3];return Math.sqrt(J*J+L*L+N*N+H*H)}function x(H){const J=H[0],L=H[1],N=H[2];
H=H[3];return J*J+L*L+N*N+H*H}function w(H,J){H[0]=-J[0];H[1]=-J[1];H[2]=-J[2];H[3]=-J[3];return H}function v(H,J){H[0]=1/J[0];H[1]=1/J[1];H[2]=1/J[2];H[3]=1/J[3];return H}function A(H,J){const L=J[0],N=J[1],V=J[2];J=J[3];let X=L*L+N*N+V*V+J*J;0<X&&(X=1/Math.sqrt(X),H[0]=L*X,H[1]=N*X,H[2]=V*X,H[3]=J*X);return H}function B(H,J){return H[0]*J[0]+H[1]*J[1]+H[2]*J[2]+H[3]*J[3]}function C(H,J,L,N){const V=J[0],X=J[1],U=J[2];J=J[3];H[0]=V+N*(L[0]-V);H[1]=X+N*(L[1]-X);H[2]=U+N*(L[2]-U);H[3]=J+N*(L[3]-J);
return H}function D(H,J){var L=b.RANDOM;J=J||1;let N,V,X,U,P,fa;do N=2*L()-1,V=2*L()-1,P=N*N+V*V;while(1<=P);do X=2*L()-1,U=2*L()-1,fa=X*X+U*U;while(1<=fa);L=Math.sqrt((1-P)/fa);H[0]=J*N;H[1]=J*V;H[2]=J*X*L;H[3]=J*U*L;return H}function y(H,J,L){const N=J[0],V=J[1],X=J[2];J=J[3];H[0]=L[0]*N+L[4]*V+L[8]*X+L[12]*J;H[1]=L[1]*N+L[5]*V+L[9]*X+L[13]*J;H[2]=L[2]*N+L[6]*V+L[10]*X+L[14]*J;H[3]=L[3]*N+L[7]*V+L[11]*X+L[15]*J;return H}function G(H,J,L){var N=J[0];const V=J[1],X=J[2],U=L[0],P=L[1],fa=L[2];L=L[3];
const Ba=L*N+P*X-fa*V,Aa=L*V+fa*N-U*X,ma=L*X+U*V-P*N;N=-U*N-P*V-fa*X;H[0]=Ba*L+N*-U+Aa*-fa-ma*-P;H[1]=Aa*L+N*-P+ma*-U-Ba*-fa;H[2]=ma*L+N*-fa+Ba*-P-Aa*-U;H[3]=J[3];return H}function F(H){return"vec4("+H[0]+", "+H[1]+", "+H[2]+", "+H[3]+")"}function K(H,J){return H[0]===J[0]&&H[1]===J[1]&&H[2]===J[2]&&H[3]===J[3]}function M(H,J){const L=H[0],N=H[1],V=H[2];H=H[3];const X=J[0],U=J[1],P=J[2];J=J[3];const fa=b.getEpsilon();return Math.abs(L-X)<=fa*Math.max(1,Math.abs(L),Math.abs(X))&&Math.abs(N-U)<=fa*
Math.max(1,Math.abs(N),Math.abs(U))&&Math.abs(V-P)<=fa*Math.max(1,Math.abs(V),Math.abs(P))&&Math.abs(H-J)<=fa*Math.max(1,Math.abs(H),Math.abs(J))}const O=Object.freeze(Object.defineProperty({__proto__:null,add:g,ceil:t,copy:c,dist:h,distance:h,div:p,divide:p,dot:B,equals:M,exactEquals:K,floor:k,inverse:v,len:z,length:z,lerp:C,max:e,min:m,mul:u,multiply:u,negate:w,normalize:A,random:D,round:d,scale:l,scaleAndAdd:n,set:f,sqrDist:r,sqrLen:x,squaredDistance:r,squaredLength:x,str:F,sub:q,subtract:q,transformMat4:y,
transformQuat:G},Symbol.toStringTag,{value:"Module"}));a.add=g;a.ceil=t;a.copy=c;a.dist=h;a.distance=h;a.div=p;a.divide=p;a.dot=B;a.equals=M;a.exactEquals=K;a.floor=k;a.inverse=v;a.len=z;a.length=z;a.lerp=C;a.max=e;a.min=m;a.mul=u;a.multiply=u;a.negate=w;a.normalize=A;a.random=D;a.round=d;a.scale=l;a.scaleAndAdd=n;a.set=f;a.sqrDist=r;a.sqrLen=x;a.squaredDistance=r;a.squaredLength=x;a.str=F;a.sub=q;a.subtract=q;a.transformMat4=y;a.transformQuat=G;a.vec4=O})},"esri/core/compilerUtils":function(){define(["exports",
"./has"],function(a,b){a.neverReached=function(c){};a.neverReachedSilent=function(c){};a.typeCast=function(c){return()=>c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/Error ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;a.NavigationConstraint=e=function(d){function l(n){n=d.call(this,n)||this;n.type="none";return n}b._inherits(l,d);l.prototype.clone=function(){return new e({type:this.type})};return b._createClass(l)}(f.JSONSupport);c.__decorate([k.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=e=c.__decorate([m.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(a,b,c){a.enumeration=function(f,g={}){f=f instanceof b.JSONMap?f:new b.JSONMap(f,g);f={type:g?.ignoreUnknown??!0?f.apiValues:String,json:{type:f.jsonValues,read:g?.readOnly?!1:{reader:f.read},write:{writer:f.write}}};void 0!==g?.readOnly&&(f.readOnly=!!g.readOnly);void 0!==g?.default&&(f.json.default=g.default);void 0!==g?.name&&(f.json.name=
g.name);void 0!==g?.nonNullable&&(f.nonNullable=g.nonNullable);return c.property(f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=function(c){c=b.ensureInteger(100*(1-c));return Math.max(0,Math.min(c,100))};a.transparencyToOpacity=function(c){return Math.max(0,Math.min(1-c/100,1))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/CollectionFlattener":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Collection ./Error ./Logger ./accessorSupport/watch ./accessorSupport/trackingUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t){f=function(k){function m(d){d=k.call(this,d)||this;d.getCollections=null;return d}a._inherits(m,k);var e=m.prototype;e.initialize=function(){this.own(u.autorun(()=>this._refresh()))};e.destroy=
function(){this.getCollections=null};e._refresh=function(){const d=null!=this.getCollections?this.getCollections():null;if(null==d)this.removeAll();else{var l=0;for(const n of d)null!=n&&(l=this._processCollection(l,n));this.splice(l,this.length)}};e._createNewInstance=function(d){return new c(d)};e._processCollection=function(d,l){if(!l)return d;const n=this.itemFilterFunction??(h=>!!h);for(const h of l)if(h&&(n(h)&&(l=this.indexOf(h,d),0<=l?l!==d&&this.reorder(h,d):this.add(h,d),++d),this.getChildrenFunction))if(l=
this.getChildrenFunction(h),Array.isArray(l))for(const r of l)d=this._processCollection(d,r);else d=this._processCollection(d,l);return d};return a._createClass(m)}(c);b.__decorate([p.property()],f.prototype,"getCollections",void 0);b.__decorate([p.property()],f.prototype,"getChildrenFunction",void 0);b.__decorate([p.property()],f.prototype,"itemFilterFunction",void 0);return f=b.__decorate([t.subclass("esri.core.CollectionFlattener")],f)})},"esri/layers/support/editableLayers":function(){define(["exports",
"./infoFor3D","./layerUtils"],function(a,b,c){a.isEditableLayer=function(f){var g;if((g=f&&"object"===typeof f&&"loaded"in f&&f.loaded&&c.getEffectiveLayerCapabilities(f)?.operations?.supportsEditing&&"type"in f&&(!("editingEnabled"in f)||c.getEffectiveEditingEnabled(f)))&&!(g="scene"!==f.type))if(f=f.infoFor3D){var {supportedFormats:q,queryFormats:u}=f;f=b.getMimeTypeFormatId("model/gltf-binary",q)??b.getFilenameFormatId("glb",q);g=null!=f&&u.includes(f)}else g=!0;return!!g};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/infoFor3D":function(){define(["exports"],function(a){function b(t,k){return[...p,...k].find(m=>g(m)===t)}function c(t,k){return[...p,...k].find(m=>q(m)===t)}function f(t,k){const m=t.toLowerCase();return[...p,...k].find(e=>u(e).some(d=>m.endsWith(d)))}function g(t){return t?.[0]}function q(t){return t?.[1]}function u(t){return t?.[2].split(",")??[]}const p=[["binary","application/octet-stream","bin",""]];a.getAssetMapTable=function(t){return t.tables?.find(k=>
"assetMaps"===k.role)};a.getFilePickerAcceptTypes=function(t){const k={};for(const m of[...p,...(t?.supportedFormats??[])]){t=q(m);const e=u(m).map(d=>`.${d}`);k[t]??(k[t]=[]);k[t].push(...e)}return[{description:"3D Models",accept:k}]};a.getFilenameFormatId=function(t,k){return g(f(t,k))};a.getFormatDescription=function(t){return t?.[3]};a.getFormatExtensions=u;a.getFormatId=g;a.getFormatIdMimeType=function(t,k){return q(b(t,k))};a.getFormatMimeType=q;a.getMimeTypeFormatId=function(t,k){return g(c(t,
k))};a.getSupportedExtensions=function(t){return[...p,...(t?.supportedFormats??[])].flatMap(u).map(k=>`.${k}`)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/urlUtils ../core/accessorSupport/ensureType ./basemapDefinitions".split(" "),function(a,b,c,f,g,q,u,p){function t(D,y){let G;if("string"===typeof D){if(!(D in p.esriBasemapDefinitions))return y=Object.entries(p.esriBasemapDefinitions).filter(([,
F])=>c.apiKey&&!F.classic||!c.apiKey&&F.classic&&!F.deprecated).map(([F])=>`"${F}"`).join(", "),A.warn(`Unable to find basemap definition for: ${D}. Try one of these: ${y}`),null;y&&(G=y[D]);G||(G=b.fromId(D),y&&(y[D]=G))}else G=u.ensureType(b,D);G?.destroyed&&(A.warn("The provided basemap is already destroyed",{basemap:G}),G=null);return G}function k(D,y){const G=new f;D.forEach(F=>{const K=y.find(M=>w(n(F),n(M)))||F;G.includes(K)?G.push(F):G.push(K)});return G}function m(D){if(e(D.url))return!0;
if("vector-tile"===D.type)for(const y in D.sourceNameToSource)if(e(D.sourceNameToSource[y]?.sourceUrl))return!0;return!1}function e(D){if(!D)return!1;D=new q.Url(q.makeAbsolute(D));return!!D.authority&&C.test(D.authority)}function d(D){return D?!D.loaded&&D.resourceInfo?h(D.resourceInfo.data):{baseLayers:l(D.baseLayers),referenceLayers:l(D.referenceLayers)}:null}function l(D){return(f.isCollection(D)?D.toArray():D).map(n)}function n(D){return{type:D.type,url:v("urlTemplate"in D&&D.urlTemplate||D.url||
"styleUrl"in D&&D.styleUrl||""),minScale:"minScale"in D&&null!=D.minScale?D.minScale:0,maxScale:"maxScale"in D&&null!=D.maxScale?D.maxScale:0,opacity:null!=D.opacity?D.opacity:1,visible:null!=D.visible?!!D.visible:!0,sublayers:"map-image"!==D.type&&"wms"!==D.type||null==D.sublayers?void 0:D.sublayers?.map(y=>({id:y.id,visible:y.visible})),activeLayerId:"wmts"===D.type?D.activeLayer?.id:void 0}}function h(D){return D?{baseLayers:r((D.baseMapLayers??[]).filter(y=>!y.isReference)),referenceLayers:r((D.baseMapLayers??
[]).filter(y=>y.isReference))}:null}function r(D){return D.map(y=>{let G;switch(y.layerType){case "VectorTileLayer":G="vector-tile";break;case "ArcGISTiledMapServiceLayer":G="tile";break;default:G="unknown"}return{type:G,url:v(y.templateUrl||y.urlTemplate||y.styleUrl||y.url),minScale:null!=y.minScale?y.minScale:0,maxScale:null!=y.maxScale?y.maxScale:0,opacity:null!=y.opacity?y.opacity:1,visible:null!=y.visibility?!!y.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function z(D,y,G){return null!=
D!==(null!=y)?"not-equal":D&&y?x(D.baseLayers,y.baseLayers)?x(D.referenceLayers,y.referenceLayers)?"equal":G.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function x(D,y){if(D.length!==y.length)return!1;for(let G=0;G<D.length;G++)if(!w(D[G],y[G]))return!1;return!0}function w(D,y){if(D.type!==y.type||"scene"===D.type||D.url!==y.url||D.minScale!==y.minScale||D.maxScale!==y.maxScale||D.visible!==y.visible||D.opacity!==y.opacity)return!1;if(null!=D.activeLayerId||null!=y.activeLayerId)return D.activeLayerId===
y.activeLayerId;if(null!=D.sublayers||null!=y.sublayers){if(null==D.sublayers||null==y.sublayers||D.sublayers.length!==y.sublayers.length)return!1;for(let G=0;G<D.sublayers.length;G++){const F=D.sublayers.at(G),K=y.sublayers.at(G);if(F?.id!==K?.id||F?.visible!==K?.visible)return!1}}return!0}function v(D){return D?q.normalize(D).replace(/^\s*https?:/i,"").toLowerCase():""}const A=g.getLogger("esri.support.basemapUtils");let B;const C=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=
function(D,y=null){D=t(D);if(!D)return null;D=D.clone();y&&(D.baseLayers=k(D.baseLayers,y.baseLayers),D.referenceLayers=k(D.referenceLayers,y.referenceLayers));return D};a.contentEquals=function(D,y){if(D===y)return!0;D=d(D);y=d(y);return"equal"===z(D,y,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(D){for(const y in D){const G=D[y];!1===G?.destroyed&&G.destroy();delete D[y]}};a.ensureType=t;a.findSpatialReference=function(D,y){if(null==y||null==D)return{spatialReference:null,
updating:!1};if("not-loaded"===y.loadStatus)return y.load(),{spatialReference:null,updating:!0};if(y.spatialReference)return{spatialReference:y.spatialReference,updating:!1};if(0===y.baseLayers.length)return{spatialReference:null,updating:!1};y=y.baseLayers.at(0);switch(y.loadStatus){case "not-loaded":y.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,updating:!1}}y=(("supportedSpatialReferences"in y?y.supportedSpatialReferences:null)||["tileInfo"in
y?y.tileInfo?.spatialReference:y.spatialReference]).filter(Boolean);const G=D.spatialReference;return G?{spatialReference:y.find(F=>G.equals(F))??y[0]??null,updating:!1}:{spatialReference:y[0],updating:!1}};a.getWellKnownBasemapId=function(D){if(B)return B(D);let y=null;D=d(D);const G=!D?.baseLayers.length;for(const K in p.esriBasemapDefinitions){var F=h(p.esriBasemapDefinitions[K]);F=z(D,F,{mustMatchReferences:G});if("equal"===F){y=K;break}"base-layers-equal"===F&&(y=K)}return y};a.hasDeveloperBasemapLayer=
function(D){return!!D?.baseLayers.concat(D.referenceLayers).some(m)};a.isBasemap3D=function(D){return"Web Scene"===D.portalItem?.type};a.isBasemapLayer=function(D,y){return D.basemap?.referenceLayers?.some(G=>G.uid===y)||D.basemap?.baseLayers?.some(G=>G.uid===y)};a.isDeveloperBasemapLayer=m;a.overrideGetWellKnownBasemapId=function(D){B=D};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/collectionUtils":function(){define(["exports","../core/CollectionFlattener"],function(a,
b){a.createFlattenedTablesCollection=function(c){return new b({getCollections:()=>[c.tables,c.layers],getChildrenFunction:f=>{const g=[];"tables"in f&&g.push(f.tables);"layers"in f&&g.push(f.layers);return g},itemFilterFunction:f=>{const g=f.parent;return!!g&&"tables"in g&&g.tables.includes(f)}})};a.destroyMap=function(c){for(const f of c.values())f?.destroy();c.clear()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/groundUtils":function(){define(["exports","../Ground",
"../core/Logger","../core/accessorSupport/ensureType"],function(a,b,c,f){const g={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(q){let u=null;"string"===typeof q?
q in g?u=new b({resourceInfo:{data:{layers:[g[q]]}}}):c.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${q}. Try "world-elevation"`):u=f.ensureType(b,q);return u};a.groundElevationLayers=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/LayersMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d){function l(n,h,r){if(n)for(let x=0,w=n.length;x<w;x++){var z=n.at(x);if(z?.[h]===r||"group"===z?.type&&(z=l(z.layers,h,r)))return z}}a.LayersMixin=n=>{n=function(h){function r(...x){var w=h.call(this,...x)||this;w.layers=new f;w.addHandles([w.layers.on("before-add",v=>{v=v.item;v.parent&&"remove"in v.parent&&v.parent.remove(v)}),w.layers.on("after-add",v=>{v=v.item;v.parent=b._assertThisInitialized(w);w.layerAdded(v);"elevation"!==v.type&&"base-elevation"!==v.type||
q.getLogger(b._assertThisInitialized(w)).error(`Layer 'title:${v.title}, id:${v.id}' of type '${v.type}' is not supported as an operational layer and will therefore be ignored.`)}),w.layers.on("after-remove",v=>{v=v.item;v.parent=null;w.layerRemoved(v)})]);return w}b._inherits(r,h);var z=r.prototype;z.destroy=function(){const x=this.layers.toArray();for(const w of x)w.destroy();this.layers.destroy()};z.add=function(x,w){const v=this.layers;w=v.getNextIndex(w);x instanceof d?x.parent===this?this.reorder(x,
w):v.add(x,w):u.isPromiseLike(x)?x.then(A=>{this.destroyed||this.add(A,w)}):q.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")};z.addMany=function(x,w){const v=this.layers;let A=v.getNextIndex(w);x.slice().forEach(B=>{B.parent===this?this.reorder(B,A):(v.add(B,A),A+=1)})};z.findLayerById=function(x){return l(this.layers,"id",x)};z.findLayerByUid=function(x){return l(this.layers,"uid",x)};z.remove=function(x){return this.layers.remove(x)};
z.removeMany=function(x){return this.layers.removeMany(x)};z.removeAll=function(){return this.layers.removeAll()};z.reorder=function(x,w){return this.layers.reorder(x,w)};z.layerAdded=function(x){};z.layerRemoved=function(x){};b._createClass(r,[{key:"layers",set:function(x){this._set("layers",g.referenceSetter(x,this._get("layers")))}}]);return r}(n);c.__decorate([p.property()],n.prototype,"layers",null);return n=c.__decorate([e.subclass("esri.support.LayersMixin")],n)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/Layer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/fromPortalItem ../geometry/Extent ../geometry/SpatialReference".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w){let v=0;f=function(A){function B(){var D=A.apply(this,arguments)||this;D.attributionDataUrl=null;D.fullExtent=new x(-180,-90,180,90,w.WGS84);D.id=Date.now().toString(16)+"-layer-"+v++;D.legendEnabled=!0;D.listMode="show";D.opacity=1;D.parent=null;D.popupEnabled=!0;D.attributionVisible=!0;D.spatialReference=w.WGS84;D.title=null;D.type=null;D.url=null;D.visible=!0;return D}b._inherits(B,A);B.fromArcGISServerUrl=async function(D){D="string"===typeof D?
{url:D}:D;return(await new Promise((y,G)=>a(["./support/arcgisLayers"],y,G))).fromUrl(D)};B.fromPortalItem=function(D){return z.fromPortalItem(D)};var C=B.prototype;C.initialize=function(){this.when().catch(D=>{m.isAbortError(D)||k.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:D})})};C.destroy=function(){if(this.parent){const D=this.parent;"layers"in D&&D.layers.includes(this)?D.layers.remove(this):"tables"in D&&D.tables.includes(this)?
D.tables.remove(this):"baseLayers"in D&&D.baseLayers.includes(this)?D.baseLayers.remove(this):"baseLayers"in D&&D.referenceLayers.includes(this)&&D.referenceLayers.remove(this)}};C.fetchAttributionData=async function(){const D=this.attributionDataUrl;if(this.hasAttributionData&&D)return(await g(D,{query:{f:"json"},responseType:"json"})).data;throw new q("layer:no-attribution-data","Layer does not have attribution data");};b._createClass(B,[{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},
{key:"parsedUrl",get:function(){return e.urlToObject(this.url)}}]);return B}(u.EventedMixin(p.IdentifiableMixin(t)));c.__decorate([d.property({type:String})],f.prototype,"attributionDataUrl",void 0);c.__decorate([d.property({type:x})],f.prototype,"fullExtent",void 0);c.__decorate([d.property({readOnly:!0})],f.prototype,"hasAttributionData",null);c.__decorate([d.property({type:String,clonable:!1})],f.prototype,"id",void 0);c.__decorate([d.property({type:Boolean,nonNullable:!0})],f.prototype,"legendEnabled",
void 0);c.__decorate([d.property({type:["show","hide","hide-children"]})],f.prototype,"listMode",void 0);c.__decorate([d.property({type:Number,range:{min:0,max:1},nonNullable:!0})],f.prototype,"opacity",void 0);c.__decorate([d.property({clonable:!1})],f.prototype,"parent",void 0);c.__decorate([d.property({readOnly:!0})],f.prototype,"parsedUrl",null);c.__decorate([d.property({type:Boolean})],f.prototype,"popupEnabled",void 0);c.__decorate([d.property({type:Boolean})],f.prototype,"attributionVisible",
void 0);c.__decorate([d.property({type:w})],f.prototype,"spatialReference",void 0);c.__decorate([d.property({type:String})],f.prototype,"title",void 0);c.__decorate([d.property({readOnly:!0,json:{read:!1}})],f.prototype,"type",void 0);c.__decorate([d.property()],f.prototype,"url",void 0);c.__decorate([d.property({type:Boolean,nonNullable:!0})],f.prototype,"visible",void 0);return f=c.__decorate([r.subclass("esri.layers.Layer")],f)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){const e={base:f,key:"type",typeMap:{extent:c,multipoint:g,point:q,polyline:p,polygon:u}};b=b.ensureOneOfType(e);a.Extent=c;a.BaseGeometry=f;a.Multipoint=g;a.Point=q;a.Polygon=u;a.Polyline=p;a.SpatialReference=t;a.featureGeometryTypeKebabDictionary=k.featureGeometryTypeKebabDictionary;a.typeKebabDictionary=k.typeKebabDictionary;a.fromJSON=m.fromJSON;a.ensureType=b;a.geometryTypes=e;a.isGeometry=function(d){return d instanceof f};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/Multipoint":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){function e(l){return(n,h)=>null==n?h:null==h?n:l(n,h)}var d;g=d=function(l){function n(...r){r=l.call(this,...r)||
this;r.points=[];r.type="multipoint";return r}a._inherits(n,l);var h=n.prototype;h.normalizeCtorArgs=function(r,z){if(!r&&!z)return{};const x={};Array.isArray(r)?(x.points=r,x.spatialReference=z):!r||"esri.geometry.SpatialReference"!==r.declaredClass&&null==r.wkid?(r.points&&(x.points=r.points),r.spatialReference&&(x.spatialReference=r.spatialReference),r.hasZ&&(x.hasZ=r.hasZ),r.hasM&&(x.hasM=r.hasM)):x.spatialReference=r;if(r=x.points&&x.points[0])void 0===x.hasZ&&void 0===x.hasM?(x.hasZ=2<r.length,
x.hasM=!1):void 0===x.hasZ?x.hasZ=3<r.length:void 0===x.hasM&&(x.hasM=3<r.length);return x};h.writePoints=function(r,z){z.points=c.clone(this.points)};h.addPoint=function(r){m.updateSupportFromPoint(this,r);Array.isArray(r)?this.points.push(r):this.points.push(r.toArray());this.notifyChange("points");return this};h.clone=function(){const r={points:c.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(r.hasZ=!0);this.hasM&&(r.hasM=!0);return new d(r)};h.getPoint=function(r){if(!this._validateInputs(r))return null;
r=this.points[r];const z={x:r[0],y:r[1],spatialReference:this.spatialReference};let x=2;this.hasZ&&(z.z=r[2],x=3);this.hasM&&(z.m=r[x]);return new k(z)};h.removePoint=function(r){if(!this._validateInputs(r))return null;r=new k(this.points.splice(r,1)[0],this.spatialReference);this.notifyChange("points");return r};h.setPoint=function(r,z){if(!this._validateInputs(r))return this;m.updateSupportFromPoint(this,z);Array.isArray(z)||(z=z.toArray());this.points[r]=z;this.notifyChange("points");return this};
h.toJSON=function(r){return this.write({},r)};h._validateInputs=function(r){return null!=r&&0<=r&&r<this.points.length};a._createClass(n,[{key:"cache",get:function(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const r=this.points;if(!r.length)return null;const z=new p,x=this.hasZ,w=this.hasM,v=x?3:2;var A=r[0];const B=e(Math.min),C=e(Math.max);let [D,y]=A,[G,F]=A,K,M,O,H;for(let J=
0,L=r.length;J<L;J++){A=r[J];const [N,V]=A;D=B(D,N);y=B(y,V);G=C(G,N);F=C(F,V);if(x&&2<A.length){const X=A[2];K=B(K,X);O=C(O,X)}w&&A.length>v&&(A=A[v],M=B(M,A),H=C(H,A))}z.xmin=D;z.ymin=y;z.xmax=G;z.ymax=F;z.spatialReference=this.spatialReference;x?(z.zmin=K,z.zmax=O):(z.zmin=void 0,z.zmax=void 0);w?(z.mmin=M,z.mmax=H):(z.mmin=void 0,z.mmax=void 0);return z}}]);return n}(t);b.__decorate([f.property({readOnly:!0})],g.prototype,"cache",null);b.__decorate([f.property()],g.prototype,"extent",null);b.__decorate([f.property({type:[[Number]],
json:{write:{isRequired:!0}}})],g.prototype,"points",void 0);b.__decorate([u.writer("points")],g.prototype,"writePoints",null);g=d=b.__decorate([q.subclass("esri.geometry.Multipoint")],g);g.prototype.toJSON.isDefaultToJSON=!0;return g})},"esri/geometry/support/zmUtils":function(){define(["exports"],function(a){a.updateSupportFromPoint=function(b,c,f=!1){let {hasM:g,hasZ:q}=b;Array.isArray(c)?4!==c.length||g||q?3===c.length&&f&&!g?(q=!0,g=!1):3===c.length&&g&&q&&(q=g=!1):q=g=!0:(q=!q&&c.hasZ&&(!g||
c.hasM),g=!g&&c.hasM&&(!q||c.hasZ));b.hasZ=q;b.hasM=g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polygon":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x){var w;q=w=function(v){function A(...C){C=v.call(this,...C)||this;C.rings=[];C.type="polygon";return C}a._inherits(A,v);A.fromExtent=function(C){var D=C.clone().normalize();C=C.spatialReference;let y=!1,G=!1;for(const F of D)F.hasZ&&(y=!0),F.hasM&&(G=!0);D={rings:D.map(F=>{const K=[[F.xmin,F.ymin],[F.xmin,F.ymax],[F.xmax,F.ymax],[F.xmax,F.ymin],[F.xmin,F.ymin]];if(y&&F.hasZ){var M=F.zmin+.5*(F.zmax-F.zmin);for(let O=0;O<K.length;O++)K[O].push(M)}if(G&&
F.hasM)for(F=F.mmin+.5*(F.mmax-F.mmin),M=0;M<K.length;M++)K[M].push(F);return K}),spatialReference:C};y&&(D.hasZ=!0);G&&(D.hasM=!0);return new w(D)};var B=A.prototype;B.normalizeCtorArgs=function(C,D){let y=null,G,F,K=null;C&&!Array.isArray(C)?(y=C.rings??null,D||(C.spatialReference?D=C.spatialReference:C.rings||(D=C)),G=C.hasZ,F=C.hasM):y=C;y=y||[];D=D||e.WGS84;y.length&&y[0]&&null!=y[0][0]&&"number"===typeof y[0][0]&&(y=[y]);if(K=y[0]&&y[0][0])void 0===G&&void 0===F?(G=2<K.length,F=3<K.length):
void 0===G?G=F?3<K.length:2<K.length:void 0===F&&(F=G?3<K.length:2<K.length);return{rings:y,spatialReference:D,hasZ:G,hasM:F}};B.writeRings=function(C,D){D.rings=f.clone(this.rings)};B.addRing=function(C){if(C){var D=this.rings,y=D.length;if(Array.isArray(C[0]))D[y]=C.concat();else{const G=[];for(let F=0,K=C.length;F<K;F++)G[F]=C[F].toArray();D[y]=G}this.notifyChange("rings");return this}};B.clone=function(){const C=new w;C.spatialReference=this.spatialReference;C.rings=f.clone(this.rings);C.hasZ=
this.hasZ;C.hasM=this.hasM;return C};B.equals=function(C){if(this===C)return!0;if(null==C)return!1;var D=this.spatialReference,y=C.spatialReference;if(null!=D!==(null!=y)||null!=D&&null!=y&&!D.equals(y)||this.rings.length!==C.rings.length)return!1;D=([G,F,K,M],[O,H,J,L])=>G===O&&F===H&&(null==K&&null==J||K===J)&&(null==M&&null==L||M===L);for(y=0;y<this.rings.length;y++)if(!c.equals(this.rings[y],C.rings[y],D))return!1;return!0};B.contains=function(C){if(!C)return!1;const D=z.project(C,this.spatialReference);
return l.polygonContainsPoint(this,null!=D?D:C)};B.isClockwise=function(C){C=Array.isArray(C[0])?C:C.map(D=>this.hasZ?this.hasM?[D.x,D.y,D.z,D.m]:[D.x,D.y,D.z]:[D.x,D.y]);return n.isClockwise(C,this.hasM,this.hasZ)};B.getPoint=function(C,D){if(!this._validateInputs(C,D))return null;C=this.rings[C][D];D=this.hasZ;const y=this.hasM;return D&&!y?new m(C[0],C[1],C[2],void 0,this.spatialReference):y&&!D?new m(C[0],C[1],void 0,C[2],this.spatialReference):D&&y?new m(C[0],C[1],C[2],C[3],this.spatialReference):
new m(C[0],C[1],this.spatialReference)};B.insertPoint=function(C,D,y){if(!this._validateInputs(C,D,!0))return this;x.updateSupportFromPoint(this,y);Array.isArray(y)||(y=y.toArray());this.rings[C].splice(D,0,y);this.notifyChange("rings");return this};B.removePoint=function(C,D){if(!this._validateInputs(C,D))return null;C=new m(this.rings[C].splice(D,1)[0],this.spatialReference);this.notifyChange("rings");return C};B.removeRing=function(C){if(!this._validateInputs(C,null))return null;C=this.rings.splice(C,
1)[0];const D=this.spatialReference;C=C.map(y=>new m(y,D));this.notifyChange("rings");return C};B.setPoint=function(C,D,y){if(!this._validateInputs(C,D))return this;x.updateSupportFromPoint(this,y);Array.isArray(y)||(y=y.toArray());this.rings[C][D]=y;this.notifyChange("rings");return this};B._validateInputs=function(C,D,y=!1){return null==C||0>C||C>=this.rings.length||null!=D&&(C=this.rings[C],y&&(0>D||D>C.length)||!y&&(0>D||D>=C.length))?!1:!0};B.toJSON=function(C){return this.write({},C)};a._createClass(A,
[{key:"cache",get:function(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"centroid",get:function(){const C=d.polygonCentroid(this);if(!C||isNaN(C[0])||isNaN(C[1])||this.hasZ&&isNaN(C[2]))return null;const D=new m;D.x=C[0];D.y=C[1];D.spatialReference=this.spatialReference;this.hasZ&&(D.z=C[2]);return D}},{key:"extent",get:function(){const {spatialReference:C}=this;var D=h.getPolygonExtent(this);if(!D)return null;
D=new t(D);D.spatialReference=C;return D}},{key:"isSelfIntersecting",get:function(){return r.isSelfIntersecting(this.rings)}}]);return A}(k);b.__decorate([g.property({readOnly:!0})],q.prototype,"cache",null);b.__decorate([g.property({readOnly:!0})],q.prototype,"centroid",null);b.__decorate([g.property({readOnly:!0})],q.prototype,"extent",null);b.__decorate([g.property({readOnly:!0})],q.prototype,"isSelfIntersecting",null);b.__decorate([g.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],
q.prototype,"rings",void 0);b.__decorate([p.writer("rings")],q.prototype,"writeRings",null);q=w=b.__decorate([u.subclass("esri.geometry.Polygon")],q);q.prototype.toJSON.isDefaultToJSON=!0;return q})},"esri/geometry/support/centroid":function(){define(["exports","../geometryCursorCollectUtils","./coordsUtils"],function(a,b,c){function f(k,m){if(!k||!k.length)return null;const e=[],d=[],l=m?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let n=
0,h=k.length;n<h;n++){const r=g(k[n],m,l);r&&d.push(r)}d.sort((n,h)=>{let r=n[2]-h[2];0===r&&m&&(r=n[4]-h[4]);return r});d.length&&(e[0]=d[0][0],e[1]=d[0][1],m&&(e[2]=d[0][3]),e[0]<l[0]||e[0]>l[1]||e[1]<l[2]||e[1]>l[3]||m&&(e[2]<l[4]||e[2]>l[5]))&&(e.length=0);if(!e.length)if(k=k[0]&&k[0].length?q(k[0],m):null)e[0]=k[0],e[1]=k[1],m&&2<k.length&&(e[2]=k[2]);else return null;return e}function g(k,m,e){let d=0,l=0,n=0,h=0,r=0;const z=k.length?k[0][0]:0,x=k.length?k[0][1]:0,w=k.length&&m?k[0][2]:0;for(let C=
0;C<k.length;C++){var v=k[C],A=k[(C+1)%k.length];const [D,y,G]=v;var B=D-z;const F=y-x,[K,M,O]=A,H=K-z,J=M-x,L=B*J-H*F;h+=L;d+=(B+H)*L;l+=(F+J)*L;m&&2<v.length&&2<A.length&&(v=G-w,A=O-w,B=B*A-H*v,n+=(v+A)*B,r+=B);D<e[0]&&(e[0]=D);D>e[1]&&(e[1]=D);y<e[2]&&(e[2]=y);y>e[3]&&(e[3]=y);m&&(G<e[4]&&(e[4]=G),G>e[5]&&(e[5]=G))}0<h&&(h*=-1);0<r&&(r*=-1);if(!h)return null;h*=.5;r*=.5;k=[d/(6*h)+z,l/(6*h)+x,h];m&&(e[4]===e[5]||0===r?(k[3]=(e[4]+e[5])/2,k[4]=0):(k[3]=n/(6*r)+w,k[4]=r));return k}function q(k,m){const e=
m?[0,0,0]:[0,0],d=m?[0,0,0]:[0,0];let l=0,n=0,h=0,r=0;for(let x=0,w=k.length;x<w-1;x++){var z=k[x];const v=k[x+1];if(z&&v){e[0]=z[0];e[1]=z[1];d[0]=v[0];d[1]=v[1];m&&2<z.length&&2<v.length&&(e[2]=z[2],d[2]=v[2]);const A=c.getLength(e,d);A&&(l+=A,z=c.getMidpoint(z,v),n+=A*z[0],h+=A*z[1],m&&2<z.length&&(r+=A*z[2]))}}return 0<l?m?[n/l,h/l,r/l]:[n/l,h/l]:k.length?k[0]:null}function u(k){const {hasZ:m,numPaths:e}=k;if(0===e)return null;const d=[],l=[],n=m?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,
Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(k.reset();k.nextPath();){const h=g(b.collectPath(k),k.hasZ,n);h&&l.push(h)}l.sort((h,r)=>{let z=h[2]-r[2];0===z&&m&&(z=h[4]-r[4]);return z});l.length&&(d[0]=l[0][0],d[1]=l[0][1],m&&(d[2]=l[0][3]),d[0]<n[0]||d[0]>n[1]||d[1]<n[2]||d[1]>n[3]||m&&(d[2]<n[4]||d[2]>n[5]))&&(d.length=0);if(!d.length)if(k.reset(),
k.nextPath(),k=k.numPoints?p(k):null)d[0]=k[0],d[1]=k[1],m&&2<k.length&&(d[2]=k[2]);else return null;return d}function p(k){const {hasZ:m}=k,e=m?[0,0,0]:[0,0],d=m?[0,0,0]:[0,0];let l=0,n=0,h=0,r=0;if(k.nextPoint()){var z=k.x,x=k.y;let w=k.z;for(;k.nextPoint();){const v=k.x,A=k.y,B=k.z;e[0]=z;e[1]=x;d[0]=v;d[1]=A;m&&(e[2]=w,d[2]=B);if(z=c.getLength(e,d))l+=z,x=c.getMidpoint(e,d),n+=z*x[0],h+=z*x[1],m&&2<x.length&&(r+=z*x[2]);z=v;x=A;w=B}}return 0<l?m?[n/l,h/l,r/l]:[n/l,h/l]:k.numPoints?(k.seekPathStart(),
k.nextPoint(),[k.x,k.y]):null}const t=1/3;a.extentCentroid=function(k){return k?k.hasZ?[k.xmax-k.xmin/2,k.ymax-k.ymin/2,k.zmax-k.zmin/2]:[k.xmax-k.xmin/2,k.ymax-k.ymin/2]:null};a.lineCentroid=q;a.lineCentroidCursor=p;a.polygonCentroid=function(k){return k?f(k.rings,k.hasZ??!1):null};a.ringCentroid=g;a.ringsCentroid=f;a.ringsCentroidCursor=u;a.weightedAreaCentroid=function(k){let m=0;for(k.reset();k.nextPath();)m+=c.getRingAreaCursor(k);if(1E-6>m)return(k=u(k))?[k[0],k[1]]:null;const e=[0,0];k.reset();
if(!k.nextPath()||!k.nextPoint())return null;const d=[k.x,k.y];for(k.reset();k.nextPath();)a:{let z=void 0;var l=e,n=d,h=k;if(!l||!h||3>h.numPoints)break a;h.nextPoint();var r=h.x;const x=h.y;h.nextPoint();let w=h.x-r,v=h.y-x,A=0,B=0;for(;h.nextPoint();)A=h.x-r,B=h.y-x,z=.5*t*(A*v-B*w),l[0]+=z*(w+A),l[1]+=z*(v+B),w=A,v=B;h=c.getRingAreaCursor(h);r=[r,x];r[0]-=n[0];r[1]-=n[1];r[0]*=h;r[1]*=h;l[0]+=r[0];l[1]+=r[1]}e[0]*=1/m;e[1]*=1/m;e[0]+=d[0];e[1]+=d[1];return e};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/geometryCursorCollectUtils":function(){define(["exports"],function(a){a.collectMultipath=function(b){const c=[];for(b.reset();b.nextPath();){const f=[];for(;b.nextPoint();)f.push([b.x,b.y]);c.push(f)}b.reset();return c};a.collectPath=function(b){const c=[];for(;b.nextPoint();)c.push([b.x,b.y]);b.seekPathStart();return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/coordsUtils":function(){define(["exports","../../core/arrayUtils",
"./spatialReferenceUtils"],function(a,b,c){function f(e,d){const l=d[0]-e[0],n=d[1]-e[1];return 2<e.length&&2<d.length?(e=e[2]-d[2],Math.sqrt(l*l+n*n+e*e)):Math.sqrt(l*l+n*n)}function g(e,d,l){const n=e[0]+l*(d[0]-e[0]),h=e[1]+l*(d[1]-e[1]);return 2<e.length&&2<d.length?[n,h,e[2]+l*(d[2]-e[2])]:[n,h]}function q(e,d,l,n,h,r){let z=h-l,x=r-n;if(0!==z||0!==x){const w=((e-l)*z+(d-n)*x)/(z*z+x*x);1<w?(l=h,n=r):0<w&&(l+=z*w,n+=x*w)}z=e-l;x=d-n;return z*z+x*x}function u(e,d,l){const n=e.length;let h=0,r=
0,z=0;for(let x=0;x<n;x++){const w=e[x],v=e[(x+1)%n];let A=2;h+=w[0]*v[1]-v[0]*w[1];2<w.length&&2<v.length&&l&&(r+=w[0]*v[2]-v[0]*w[2],A=3);w.length>A&&v.length>A&&d&&(z+=w[0]*v[A]-v[0]*w[A])}return 0>=h&&0>=r&&0>=z}function p(e){const d=e.length;return 2<d&&b.equals(e[0],e[d-1])}function t(e){if("rings"in e)for(const d of e.rings)p(d)||d.push(d[0].slice())}function k(e,d){var l=c.getInfo(d);if(l){d=l.valid[0];l=l.valid[1];var n=l-d;for(const h of e){e=Infinity;let r=-Infinity;for(const z of h){const x=
m(z[0],d,l);e=Math.min(e,x);r=Math.max(r,x);z[0]=x}e=r-e;n-e<e&&h.forEach(z=>{0>z[0]&&(z[0]+=n)})}}}function m(e,d,l){const n=l-d;return e<d?l-(d-e)%n:e>l?d+(e-d)%n:e}a.closeRings=t;a.closeRingsAndFixWinding=function(e){if("rings"in e&&(t(e),0<e.rings.length&&!u(e.rings[0],e.hasM??!1,e.hasZ??!1)))for(const d of e.rings)d.reverse()};a.distanceFromPointToPolygon=function(e,d,l){let n=!1,h=Infinity,r,z,x,w;for(l.reset();l.nextPath();)if(l.nextPoint())for(r=l.x,z=l.y;l.nextPoint();)x=l.x,w=l.y,z>d!==
w>d&&e<(x-r)*(d-z)/(w-z)+r&&(n=!n),h=Math.min(h,q(e,d,r,z,x,w)),r=x,z=w;return 0===h?0:(n?1:-1)*Math.sqrt(h)};a.distanceToSegmentSquared=q;a.geometryToCoordinates=function(e){if(!e)return null;if(Array.isArray(e))return e;const d=e.hasZ,l=e.hasM;if("point"===e.type)return l&&d?[e.x,e.y,e.z,e.m]:d?[e.x,e.y,e.z]:l?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice(0);if("polyline"===e.type)return e.paths.slice(0);if("multipoint"===e.type)return e.points.slice(0);if("extent"===e.type){e=
e.clone().normalize();if(!e)return null;let n=!1,h=!1;e.forEach(r=>{r.hasZ&&(n=!0);r.hasM&&(h=!0)});return e.map(r=>{const z=[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]];if(n&&r.hasZ){var x=.5*(r.zmax-r.zmin);for(let w=0;w<z.length;w++)z[w].push(x)}if(h&&r.hasM)for(r=.5*(r.mmax-r.mmin),x=0;x<z.length;x++)z[x].push(r);return z})}return null};a.getLength=f;a.getMidpoint=function(e,d){return g(e,d,.5)};a.getPathLength=function(e){const d=e.length;let l=0;for(let n=
0;n<d-1;++n)l+=f(e[n],e[n+1]);return l};a.getPointOnPath=function(e,d){if(0>=d)return e[0];const l=e.length;let n=0;for(let h=0;h<l-1;++h){const r=f(e[h],e[h+1]);if(d-n<r)return g(e[h],e[h+1],(d-n)/r);n+=r}return e[l-1]};a.getRingArea=function(e){if(!e||3>e.length)return 0;let d=0;const l=e.length-1;for(let n=0;n<l;n++)d+=(e[n][0]-e[n+1][0])*(e[n][1]+e[n+1][1]);d+=(e[l][0]-e[0][0])*(e[l][1]+e[0][1]);return-.5*d};a.getRingAreaCursor=function(e){if(!e||3>e.numPoints)return 0;let d=0,l,n;e.seekPathStart();
if(!e.nextPoint())return 0;l=e.x;n=e.y;const h=l,r=n;for(;e.nextPoint();)d+=(l-e.x)*(n+e.y),l=e.x,n=e.y;return-.5*(d+(l-h)*(n+r))};a.hasCompatibleTopology=function(e,d){if(e===d)return!0;if(e.type!==d.type)return!1;if("point"===e.type||"mesh"===e.type||"extent"===e.type)return!0;if("multipoint"===e.type)return e.points.length===d.points.length;const [l,n]="polyline"===e.type?[e.paths,d.paths]:[e.rings,d.rings];return l.length===n.length&&l.every((h,r)=>h.length===n[r].length)};a.isClockwise=u;a.isClosed=
p;a.projectPointOnLine=function(e,d,l,n){const [h,r]=d,[z,x]=l[n],[w,v]=l[n+1];d=w-z;l=v-x;n=Math.min(1,Math.max(0,((h-z)*d+(r-x)*l)/(d*d+l*l)));e[0]=z+d*n;e[1]=x+l*n;return e};a.unnormalizeGeometryOnDatelineCrossing=function(e){if("polygon"!==e.type&&"polyline"!==e.type)return e;k("polygon"===e.type?e.rings:e.paths,e.spatialReference);return e};a.unnormalizeVerticesOnDatelineCrossing=k;a.unnormalizedCoordinate=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/extentUtils":function(){define(["exports",
"./boundsUtils"],function(a,b){function c(t,k=!1,m=!1){return k?m?{xmin:t[0],ymin:t[1],zmin:t[2],mmin:t[3],xmax:t[4],ymax:t[5],zmax:t[6],mmax:t[7]}:{xmin:t[0],ymin:t[1],zmin:t[2],xmax:t[3],ymax:t[4],zmax:t[5]}:m?{xmin:t[0],ymin:t[1],mmin:t[2],xmax:t[3],ymax:t[4],mmax:t[5]}:{xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]}}function f(t){const {hasZ:k,hasM:m,points:e}=t;return c(b.getPointsBounds(p,e,k??!1,m??!1),k,m)}function g(t){const {x:k,y:m,z:e,m:d}=t;t=null!=d;return null!=e?t?{xmin:k,ymin:m,zmin:e,
mmin:d,xmax:k,ymax:m,zmax:e,mmax:d}:{xmin:k,ymin:m,zmin:e,xmax:k,ymax:m,zmax:e}:t?{xmin:k,ymin:m,mmin:d,xmax:k,ymax:m,mmax:d}:{xmin:k,ymin:m,xmax:k,ymax:m}}function q(t){const {hasZ:k,hasM:m,rings:e}=t;return(t=b.getRingsOrPathsBounds(p,e,k??!1,m??!1))?c(t,k,m):null}function u(t){const {hasZ:k,hasM:m,paths:e}=t;return(t=b.getRingsOrPathsBounds(p,e,k??!1,m??!1))?c(t,k,m):null}const p=[];a.getGeometryExtent=function(t){return t?void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?t:void 0!==
t.x&&void 0!==t.y?g(t):void 0!==t.rings?q(t):void 0!==t.paths?u(t):void 0!==t.points?f(t):null:null};a.getMultipointExtent=f;a.getPointExtent=g;a.getPolygonExtent=q;a.getPolylineExtent=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/boundsUtils":function(){define(["exports","./aaBoundingRect"],function(a,b){function c(m){return void 0!==m.xmin&&void 0!==m.ymin&&void 0!==m.xmax&&void 0!==m.ymax}function f(m){return function(e,d){return null==e?d:null==d?e:m(e,
d)}}function g(m){let e,d,l,n;e=l=Infinity;for(d=n=-Infinity;m.nextPoint();)e=Math.min(m.x,e),l=Math.min(m.y,l),d=Math.max(m.x,d),n=Math.max(m.y,n);return b.create([e,l,d,n])}function q(m,e,d,l){const n=d?3:2;if(!e.length||!e[0].length)return null;let [h,r]=e[0][0],[z,x]=e[0][0],w=void 0,v=void 0,A=void 0;var B=void 0;for(let C=0;C<e.length;C++){const D=e[C];for(let y=0;y<D.length;y++){const G=D[y],[F,K]=G;h=t(h,F);r=t(r,K);z=k(z,F);x=k(x,K);if(d&&2<G.length){const M=G[2];w=t(w,M);v=k(v,M)}l&&G.length>
n&&(B=G[n],A=t(w,B),B=k(v,B))}}if(d){if(l)return m[0]=h,m[1]=r,m[2]=w,m[3]=A,m[4]=z,m[5]=x,m[6]=v,m[7]=B,m.length=8,m;m[0]=h;m[1]=r;m[2]=w;m[3]=z;m[4]=x;m[5]=v;m.length=6;return m}if(l)return m[0]=h,m[1]=r,m[2]=A,m[3]=z,m[4]=x,m[5]=B,m.length=6,m;m[0]=h;m[1]=r;m[2]=z;m[3]=x;m.length=4;return m}function u(m,e,d,l,n,h){d=e.xmin;l=e.xmax;const r=e.ymin,z=e.ymax;let x=e.zmin,w=e.zmax,v=e.mmin;e=e.mmax;if(n){x=x||0;w=w||0;if(h)return m[0]=d,m[1]=r,m[2]=x,m[3]=v||0,m[4]=l,m[5]=z,m[6]=w,m[7]=e||0,m;m[0]=
d;m[1]=r;m[2]=x;m[3]=l;m[4]=z;m[5]=w;return m}if(h)return m[0]=d,m[1]=r,m[2]=v||0,m[3]=l,m[4]=z,m[5]=e||0,m;m[0]=d;m[1]=r;m[2]=l;m[3]=z;return m}function p(m,e,d,l,n,h){const r=d?3:2;l=l&&h;d=d&&n;if(!e.length||!e[0].length)return null;let [z,x]=e[0],[w,v]=e[0],A=void 0,B=void 0,C=void 0;var D=void 0;for(let y=0;y<e.length;y++){const G=e[y],[F,K]=G;z=t(z,F);x=t(x,K);w=k(w,F);v=k(v,K);if(d&&2<G.length){const M=G[2];A=t(A,M);B=k(B,M)}l&&G.length>r&&(D=G[r],C=t(A,D),D=k(B,D))}if(n){A=A||0;B=B||0;if(h)return m[0]=
z,m[1]=x,m[2]=A,m[3]=C||0,m[4]=w,m[5]=v,m[6]=B,m[7]=D||0,m;m[0]=z;m[1]=x;m[2]=A;m[3]=w;m[4]=v;m[5]=B;return m}if(h)return m[0]=z,m[1]=x,m[2]=C||0,m[3]=w,m[4]=v,m[5]=D||0,m;m[0]=z;m[1]=x;m[2]=w;m[3]=v;return m}const t=f(Math.min),k=f(Math.max);a.currPathBounds=g;a.getBoundsXY=function(m,e){if(void 0!==e.paths)return q(m,e.paths,!1,!1);if(void 0!==e.rings)return q(m,e.rings,!1,!1);if(void 0!==e.points)return p(m,e.points,!1,!1,!1,!1);if(c(e))return u(m,e);void 0!==e.x&&void 0!==e.y&&(m[0]=e.x,m[1]=
e.y,m[2]=e.x,m[3]=e.y);return m};a.getBoundsXYZ=function(m,e){if(void 0!==e.paths)return q(m,e.paths,!0,!1);if(void 0!==e.rings)return q(m,e.rings,!0,!1);if(void 0!==e.points)return p(m,e.points,!0,!1,!0,!1);if(c(e))return u(m,e,!0,!1,!0,!1);void 0!==e.x&&void 0!==e.y&&(m[0]=e.x,m[1]=e.y,m[2]=e.z,m[3]=e.x,m[4]=e.y,m[5]=e.z);return m};a.getCursorBoundsXY=function(m){m.reset();let e,d,l,n;e=l=Infinity;for(d=n=-Infinity;m.nextPath();){const h=g(m);e=Math.min(h[0],e);l=Math.min(h[1],l);d=Math.max(h[2],
d);n=Math.max(h[3],n)}return b.create([e,l,d,n])};a.getExtentBounds=u;a.getPointsBounds=p;a.getRingsOrPathsBounds=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../Extent"],function(a,b,c,f){function g(d=e){return[d[0],d[1],d[2],d[3]]}function q(d,l){d!==l&&(d[0]=l[0],d[1]=l[1],d[2]=l[2],d[3]=l[3]);return d}function u(d){return null==d||d[0]>=d[2]?0:d[2]-d[0]}function p(d){return d[1]>=
d[3]?0:d[3]-d[1]}function t(d,l,n){return l>=d[0]&&n>=d[1]&&l<=d[2]&&n<=d[3]}function k(d){return null!=d&&4===d.length}const m=[Infinity,Infinity,-Infinity,-Infinity],e=[0,0,0,0];a.NEGATIVE_INFINITY=m;a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];a.UNIT=[0,0,1,1];a.ZERO=e;a.allFinite=function(d){for(let l=0;4>l;l++)if(!isFinite(d[l]))return!1;return!0};a.area=function(d){return u(d)*p(d)};a.center=function(d,l=[0,0]){l[0]=(d[0]+d[2])/2;l[1]=(d[1]+d[3])/2;return l};a.clone=function(d){return[d[0],
d[1],d[2],d[3]]};a.contains=function(d,l){return l[0]>=d[0]&&l[2]<=d[2]&&l[1]>=d[1]&&l[3]<=d[3]};a.containsPoint=function(d,l){return t(d,l[0],l[1])};a.containsPointObject=function(d,l){return t(d,l.x,l.y)};a.containsPointWithMargin=function(d,l,n){return l[0]>=d[0]-n&&l[1]>=d[1]-n&&l[0]<=d[2]+n&&l[1]<=d[3]+n};a.containsXY=t;a.containsXYWithMargin=function(d,l,n,h){return l>=d[0]-h&&n>=d[1]-h&&l<=d[2]+h&&n<=d[3]+h};a.copy=q;a.create=g;a.distance=function(d,l){const n=(d[1]+d[3])/2,h=Math.max(Math.abs(l[0]-
(d[0]+d[2])/2)-u(d)/2,0);d=Math.max(Math.abs(l[1]-n)-p(d)/2,0);return Math.sqrt(h*h+d*d)};a.empty=function(d){return d?q(d,m):g(m)};a.equals=function(d,l){return k(d)&&k(l)?d[0]===l[0]&&d[1]===l[1]&&d[2]===l[2]&&d[3]===l[3]:d===l};a.expand=function(d,l,n){if(null==l)q(n,d);else if("length"in l)if(k(l))n[0]=Math.min(d[0],l[0]),n[1]=Math.min(d[1],l[1]),n[2]=Math.max(d[2],l[2]),n[3]=Math.max(d[3],l[3]);else{if(2===l.length||3===l.length)n[0]=Math.min(d[0],l[0]),n[1]=Math.min(d[1],l[1]),n[2]=Math.max(d[2],
l[0]),n[3]=Math.max(d[3],l[1])}else switch(l.type){case "extent":n[0]=Math.min(d[0],l.xmin);n[1]=Math.min(d[1],l.ymin);n[2]=Math.max(d[2],l.xmax);n[3]=Math.max(d[3],l.ymax);break;case "point":n[0]=Math.min(d[0],l.x),n[1]=Math.min(d[1],l.y),n[2]=Math.max(d[2],l.x),n[3]=Math.max(d[3],l.y)}};a.expandPointInPlace=function(d,l){l[0]<d[0]&&(d[0]=l[0]);l[0]>d[2]&&(d[2]=l[0]);l[1]<d[1]&&(d[1]=l[1]);l[1]>d[3]&&(d[3]=l[1])};a.expandWithNestedArray=function(d,l,n=d){const h=l.length;let r=d[0],z=d[1],x=d[2];
d=d[3];for(let w=0;w<h;w++){const v=l[w];r=Math.min(r,v[0]);z=Math.min(z,v[1]);x=Math.max(x,v[0]);d=Math.max(d,v[1])}n[0]=r;n[1]=z;n[2]=x;n[3]=d;return n};a.fromExtent=function(d,l=g()){l[0]=d.xmin;l[1]=d.ymin;l[2]=d.xmax;l[3]=d.ymax;return l};a.fromValues=function(d,l,n,h,r=g()){r[0]=d;r[1]=l;r[2]=n;r[3]=h;return r};a.height=p;a.intersection=function(d,l,n){if(null==l)return q(n,d);const h=l[0],r=l[1],z=l[2];l=l[3];n[0]=c.clamp(d[0],h,z);n[1]=c.clamp(d[1],r,l);n[2]=c.clamp(d[2],h,z);n[3]=c.clamp(d[3],
r,l);return n};a.intersects=function(d,l){return Math.max(l[0],d[0])<=Math.min(l[2],d[2])&&Math.max(l[1],d[1])<=Math.min(l[3],d[3])};a.intersectsSegment=function(d,l,n){const h=d[0],r=d[1],z=d[2];d=d[3];const {x,y:w}=l,{x:v,y:A}=n;var B=(D,y)=>0>(A-w)*D+(x-v)*y+(v*w-x*A);l=B(h,d);n=B(z,d);const C=B(z,r);B=B(h,r);return l===n&&n===C&&C===B&&B===l||x<h&&v<h||x>z&&v>z||w>d&&A>d||w<r&&A<r?!1:!0};a.intersectsSphere=function(d,l){const n=l[3];var h=Math.abs(l[0]-.5*(d[0]+d[2]));const r=.5*(d[2]-d[0]);if(h>
n+r)return!1;var z=.5*(d[3]-d[1]);d=Math.abs(l[1]-.5*(d[1]+d[3]));if(d>n+z)return!1;if(h<r||d<z)return!0;h-=r;z=d-z;return h*h+z*z<=n*n};a.is=k;a.isPoint=function(d){return(0===u(d)||!isFinite(d[0]))&&(0===p(d)||!isFinite(d[1]))};a.offset=function(d,l,n,h=d){h[0]=d[0]+l;h[1]=d[1]+n;h[2]=d[2]+l;h[3]=d[3]+n;return h};a.pad=function(d,l,n=d){n[0]=d[0]-l;n[1]=d[1]-l;n[2]=d[2]+l;n[3]=d[3]+l;return n};a.setMax=function(d,l,n=d){n[2]=l[0];n[3]=l[1];n!==d&&(n[0]=d[0],n[1]=d[1]);return d};a.setMin=function(d,
l,n=d){n[0]=l[0];n[1]=l[1];n!==d&&(n[2]=d[2],n[3]=d[3]);return n};a.size=function(d,l){l[0]=d[2]-d[0];l[1]=d[3]-d[1]};a.toExtent=function(d,l){return new f({xmin:d[0],ymin:d[1],xmax:d[2],ymax:d[3],spatialReference:l})};a.width=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polyline":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d){var l;g=l=function(n){function h(...z){z=n.call(this,...z)||this;z.paths=[];z.type="polyline";return z}a._inherits(h,n);var r=h.prototype;r.normalizeCtorArgs=function(z,x){let w=null,v,A,B=null;z&&!Array.isArray(z)?(w=z.paths??null,x||(z.spatialReference?x=z.spatialReference:z.paths||(x=z)),v=z.hasZ,A=z.hasM):w=z;w=w||[];x=x||m.WGS84;w.length&&w[0]&&null!=w[0][0]&&"number"===typeof w[0][0]&&(w=[w]);if(B=w[0]&&w[0][0])void 0===v&&void 0===A?(v=2<B.length,A=!1):void 0===
v?v=!A&&3<B.length:void 0===A&&(A=!v&&3<B.length);return{paths:w,spatialReference:x,hasZ:v,hasM:A}};r.writePaths=function(z,x){x.paths=c.clone(this.paths)};r.addPath=function(z){if(z){var x=this.paths,w=x.length;if(Array.isArray(z[0]))x[w]=z.concat();else{const v=[];for(let A=0,B=z.length;A<B;A++)v[A]=z[A].toArray();x[w]=v}this.notifyChange("paths");return this}};r.clone=function(){const z=new l;z.spatialReference=this.spatialReference;z.paths=c.clone(this.paths);z.hasZ=this.hasZ;z.hasM=this.hasM;
return z};r.getPoint=function(z,x){if(!this._validateInputs(z,x))return null;z=this.paths[z][x];x=this.hasZ;const w=this.hasM;return x&&!w?new k(z[0],z[1],z[2],void 0,this.spatialReference):w&&!x?new k(z[0],z[1],void 0,z[2],this.spatialReference):x&&w?new k(z[0],z[1],z[2],z[3],this.spatialReference):new k(z[0],z[1],this.spatialReference)};r.insertPoint=function(z,x,w){if(!this._validateInputs(z,x,!0))return this;d.updateSupportFromPoint(this,w);Array.isArray(w)||(w=w.toArray());this.paths[z].splice(x,
0,w);this.notifyChange("paths");return this};r.removePath=function(z){if(!this._validateInputs(z,null))return null;z=this.paths.splice(z,1)[0];const x=this.spatialReference;z=z.map(w=>new k(w,x));this.notifyChange("paths");return z};r.removePoint=function(z,x){if(!this._validateInputs(z,x))return null;z=new k(this.paths[z].splice(x,1)[0],this.spatialReference);this.notifyChange("paths");return z};r.setPoint=function(z,x,w){if(!this._validateInputs(z,x))return this;d.updateSupportFromPoint(this,w);
Array.isArray(w)||(w=w.toArray());this.paths[z][x]=w;this.notifyChange("paths");return this};r._validateInputs=function(z,x,w=!1){return null==z||0>z||z>=this.paths.length||null!=x&&(z=this.paths[z],w&&(0>x||x>z.length)||!w&&(0>x||x>=z.length))?!1:!0};r.toJSON=function(z){return this.write({},z)};a._createClass(h,[{key:"cache",get:function(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const {spatialReference:z}=
this;var x=e.getPolylineExtent(this);if(!x)return null;x=new p(x);x.spatialReference=z;return x}}]);return h}(t);b.__decorate([f.property({readOnly:!0})],g.prototype,"cache",null);b.__decorate([f.property({readOnly:!0})],g.prototype,"extent",null);b.__decorate([f.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],g.prototype,"paths",void 0);b.__decorate([u.writer("paths")],g.prototype,"writePaths",null);g=l=b.__decorate([q.subclass("esri.geometry.Polyline")],g);g.prototype.toJSON.isDefaultToJSON=
!0;return g})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const c=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=c;a.typeKebabDictionary=
b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,c,f,g,q,u){function p(l){return void 0!==l.xmin&&void 0!==l.ymin&&void 0!==l.xmax&&void 0!==l.ymax}function t(l){return void 0!==l.points}function k(l){return void 0!==l.x&&void 0!==l.y}function m(l){return void 0!==l.paths}function e(l){return void 0!==l.rings}const d={esriGeometryPoint:g,
esriGeometryPolyline:u,esriGeometryPolygon:q,esriGeometryEnvelope:b,esriGeometryMultipoint:f};a.fromJSON=function(l){return null==l?null:l instanceof c?l:k(l)?g.fromJSON(l):m(l)?u.fromJSON(l):e(l)?q.fromJSON(l):t(l)?f.fromJSON(l):p(l)?b.fromJSON(l):null};a.getGeometryType=function(l){return l&&d[l]||null};a.getJsonType=function(l){return l?k(l)?"esriGeometryPoint":m(l)?"esriGeometryPolyline":e(l)?"esriGeometryPolygon":p(l)?"esriGeometryEnvelope":t(l)?"esriGeometryMultipoint":null:null};a.isExtent=
p;a.isMesh=function(l){return void 0!==l.vertexAttributes};a.isMultipoint=t;a.isPoint=k;a.isPolygon=e;a.isPolyline=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Identifiable":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./accessorSupport/decorators/subclass"],function(a,b,c,f){let g=0;const q=u=>{u=function(p){function t(...k){k=p.call(this,...k)||this;Object.defineProperty(b._assertThisInitialized(k),"uid",{writable:!1,configurable:!1,
value:Date.now().toString(16)+"-object-"+g++});return k}b._inherits(t,p);return b._createClass(t)}(u);return u=c.__decorate([f.subclass("esri.core.Identifiable")],u)};a.Identifiable=function(u){function p(){return u.apply(this,arguments)||this}b._inherits(p,u);return b._createClass(p)}(q(function(){return b._createClass(function(){})}()));a.Identifiable=c.__decorate([f.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=q;a.NumericIdentifiableMixin=u=>{u=function(p){function t(...k){k=
p.call(this,...k)||this;Object.defineProperty(b._assertThisInitialized(k),"uid",{writable:!1,configurable:!1,value:g++});return k}b._inherits(t,p);return b._createClass(t)}(u);return u=c.__decorate([f.subclass("esri.core.NumericIdentifiable")],u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fromPortalItem":function(){define(["require","exports","../../config","../../core/Logger"],function(a,b,c,f){b.fromPortalItem=async function(g){g="portalItem"in g?g:{portalItem:g};
var {fromItem:q}=await new Promise((u,p)=>a(["../../portal/support/portalLayers"],u,p));try{return await q(g)}catch(u){throw g=(q=g&&g.portalItem)&&q.id||"unset",q=q&&q.portal&&q.portal.url||c.portalUrl,f.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+q+"', id: '"+g+"')",u),u;}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/support/TablesMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){function e(d,l,n){if(d)for(let r=0,z=d.length;r<z;r++){var h=d.at(r);if(h[l]===n||"group"===h?.type&&(h=e(h.tables,l,n)))return h}}a.TablesMixin=d=>{d=function(l){function n(...r){var z=l.call(this,...r)||this;z.tables=new f;z.addHandles([z.tables.on("after-add",x=>{x=x.item;x.parent&&x.parent!==b._assertThisInitialized(z)&&"tables"in x.parent&&x.parent.tables.remove(x);x.parent=b._assertThisInitialized(z);"feature"!==x.type&&q.getLogger(b._assertThisInitialized(z)).error(`Layer 'title:${x.title}, id:${x.id}' of type '${x.type}' is not supported as a table and will therefore be ignored.`)}),
z.tables.on("after-remove",x=>{x.item.parent=null})]);return z}b._inherits(n,l);var h=n.prototype;h.destroy=function(){const r=this.tables.removeAll();for(const z of r)z.destroy();this.tables.destroy()};h.findTableById=function(r){return e(this.tables,"id",r)};h.findTableByUid=function(r){return e(this.tables,"uid",r)};b._createClass(n,[{key:"tables",set:function(r){this._set("tables",g.referenceSetter(r,this._get("tables")))}}]);return n}(d);c.__decorate([u.property()],d.prototype,"tables",null);
return d=c.__decorate([m.subclass("esri.support.TablesMixin")],d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Viewpoint":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Camera ./geometry ./core/JSONSupport ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){function e(){return{enabled:!this.camera}}
var d;g=d=function(l){function n(r){r=l.call(this,r)||this;r.rotation=0;r.scale=0;r.targetGeometry=null;r.camera=null;return r}a._inherits(n,l);var h=n.prototype;h.castRotation=function(r){r%=360;0>r&&(r+=360);return r};h.clone=function(){return new d({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})};return a._createClass(n)}(g.JSONSupport);b.__decorate([q.property({type:Number,json:{write:!0,
origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:e}}}}})],g.prototype,"rotation",void 0);b.__decorate([u.cast("rotation")],g.prototype,"castRotation",null);b.__decorate([q.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:e}}}}})],g.prototype,"scale",void 0);b.__decorate([q.property({types:f.geometryTypes,json:{read:m.fromJSON,write:!0,origins:{"web-scene":{read:m.fromJSON,write:{overridePolicy:e}}}}})],g.prototype,
"targetGeometry",void 0);b.__decorate([q.property({type:c,json:{write:!0}})],g.prototype,"camera",void 0);return g=d=b.__decorate([k.subclass("esri.Viewpoint")],g)})},"esri/Camera":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Clonable ./core/Cyclical ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){c=function(h){function r(...x){x=h.call(this,...x)||this;x.position=new n([0,0,0]);x.heading=0;x.tilt=0;x.fov=55;return x}a._inherits(r,h);var z=r.prototype;z.normalizeCtorArgs=function(x,w,v,A){return x&&"object"===typeof x&&("x"in x||Array.isArray(x))?(x={position:x},null!=w&&(x.heading=w),null!=v&&(x.tilt=v),null!=A&&(x.fov=A),x):x};z.writePosition=function(x,w,v,A){const B=x.clone();B.x=l.ensureNumber(x.x||0);B.y=l.ensureNumber(x.y||0);B.z=x.hasZ?l.ensureNumber(x.z||
0):x.z;w[v]=B.write({},A)};z.readPosition=function(x,w){const v=new n;v.read(x,w);v.x=l.ensureNumber(v.x||0);v.y=l.ensureNumber(v.y||0);v.z=v.hasZ?l.ensureNumber(v.z||0):v.z;return v};z.equals=function(x){return null==x?!1:this.tilt===x.tilt&&this.heading===x.heading&&this.fov===x.fov&&this.position.equals(x.position)};return a._createClass(r)}(c.ClonableMixin(g.JSONSupport));b.__decorate([u.property({type:n,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0);b.__decorate([d.writer("position")],
c.prototype,"writePosition",null);b.__decorate([m.reader("position")],c.prototype,"readPosition",null);b.__decorate([u.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),p.cast(h=>f.cyclicalDegrees.normalize(l.ensureNumber(h)))],c.prototype,"heading",void 0);b.__decorate([u.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),p.cast(h=>q.clamp(l.ensureNumber(h),-180,180))],c.prototype,"tilt",void 0);b.__decorate([u.property({type:Number,nonNullable:!0,json:{read:!1,
write:!1}})],c.prototype,"fov",void 0);return c=b.__decorate([e.subclass("esri.Camera")],c)})},"esri/core/Clonable":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){g=e=>{e=function(d){function l(){return d.apply(this,arguments)||this}b._inherits(l,d);l.prototype.clone=function(){var n=
p.unwrapOrThrow(k.getProperties(this),"unable to clone instance of non-accessor class"),h=n.metadatas;const r=n.store,z={};n=new Map;for(var x in h){var w=h[x];const v=r?.originOf(x),A=w.clonable;if(w.readOnly||!1===A||v!==t.OriginId.USER&&v!==t.OriginId.DEFAULTS&&v!==t.OriginId.WEB_MAP&&v!==t.OriginId.WEB_SCENE)continue;w=this[x];let B=null;B="function"===typeof A?A(w):"reference"===A?w:q.tryClone(w);if(null==w||null!=B)v===t.OriginId.DEFAULTS?n.set(x,B):z[x]=B}h=new (Object.getPrototypeOf(this).constructor)(z);
if(n.size&&(x=k.getProperties(h)?.store))for(const [v,A]of n)x.set(v,A,t.OriginId.DEFAULTS);return h};return b._createClass(l)}(e);return e=c.__decorate([m.subclass("esri.core.Clonable")],e)};a.Clonable=function(e){function d(){return e.apply(this,arguments)||this}b._inherits(d,e);return b._createClass(d)}(g(f));a.Clonable=c.__decorate([m.subclass("esri.core.Clonable")],a.Clonable);a.ClonableMixin=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Cyclical":function(){define(["exports",
"../chunks/_rollupPluginBabelHelpers","./mathUtils"],function(a,b,c){function f(t){for(const k in t){const m=t[k];m instanceof Function&&(t[k]=m.bind(t))}return t}let g=function(){function t(m,e){this.min=m;this.max=e;this.range=e-m}var k=t.prototype;k.ndiff=function(m,e=0){return Math.ceil((m-e)/this.range)*this.range+e};k._normalize=function(m,e,d,l=0,n=!1){d-=l;d<m?d+=this.ndiff(m-d):d>e&&(d-=this.ndiff(d-e));n&&d===e&&(d=m);return d+l};k.normalize=function(m,e=0,d=!1){return this._normalize(this.min,
this.max,m,e,d)};k.clamp=function(m,e=0){return c.clamp(m-e,this.min,this.max)+e};k.monotonic=function(m,e,d){return m<e?e:e+this.ndiff(m-e,d)};k.minimalMonotonic=function(m,e,d){return this._normalize(m,m+this.range,e,d)};k.center=function(m,e,d){e=this.monotonic(m,e,d);return this.normalize((m+e)/2,d)};k.diff=function(m,e,d){return this.monotonic(m,e,d)-m};k.shortestSignedDiff=function(m,e){m=this.normalize(m);e=this.normalize(e);const d=e-m;m=e<m?this.minimalMonotonic(m,e)-m:e-this.minimalMonotonic(e,
m);return Math.abs(d)<Math.abs(m)?d:m};k.contains=function(m,e,d){e=this.minimalMonotonic(m,e);d=this.minimalMonotonic(m,d);return d>m&&d<e};return b._createClass(t)}();const q=f(new g(0,2*Math.PI)),u=f(new g(-Math.PI,Math.PI)),p=f(new g(0,360));a.Cyclical=g;a.cyclical2PI=q;a.cyclicalDegrees=p;a.cyclicalPI=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){a.OperationalLayer=h=>{h=function(r){function z(){var w=r.apply(this,arguments)||this;w.title=null;return w}b._inherits(z,r);var x=z.prototype;x.writeListMode=function(w,v,A,B){B&&"ground"===B.layerContainerType?v[A]=w:w&&d.willPropertyWrite(this,A,{},B)&&(v[A]=w)};x.writeOperationalLayerType=function(w,v,A,B){!w||B&&"tables"===B.layerContainerType||(v.layerType=w)};x.writeTitle=function(w,v){v.title=w??"Layer"};x.read=function(w,v){v&&(v.layer=this);e.readLoadable(this,
w,A=>b._get(b._getPrototypeOf(z.prototype),"read",this).call(this,w,A),v)};x.write=function(w,v){if(v?.origin){var A=`${v.origin}/${v.layerContainerType||"operational-layers"}`;let B=!!l.supportedTypes[A]?.[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===A&&(B=!1);"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===A&&(B=!1);if(!B)return v.messages?.push(new f("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${A}'`,
{layer:this})),null}w=b._get(b._getPrototypeOf(z.prototype),"write",this).call(this,w,{...v,layer:this});A=!!v&&!!v.messages&&!!v.messages.filter(B=>B instanceof f&&"web-document-write:property-required"===B.name).length;return g.isBlobProtocol(w?.url)?(v?.messages?.push(new f("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&A?null:w};x.beforeSave=function(){};return b._createClass(z)}(h);
c.__decorate([q.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],h.prototype,"id",void 0);c.__decorate([q.property(n.listMode)],h.prototype,"listMode",void 0);c.__decorate([m.writer("listMode")],h.prototype,"writeListMode",null);c.__decorate([q.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],h.prototype,"operationalLayerType",
void 0);c.__decorate([m.writer("operationalLayerType")],h.prototype,"writeOperationalLayerType",null);c.__decorate([q.property(n.opacity)],h.prototype,"opacity",void 0);c.__decorate([q.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],h.prototype,"title",void 0);c.__decorate([m.writer("title"),m.writer(["web-scene"],"title")],h.prototype,"writeTitle",
null);c.__decorate([q.property({type:Boolean,json:{name:"visibility"}})],h.prototype,"visible",void 0);return h=c.__decorate([k.subclass("esri.layers.mixins.OperationalLayer")],h)};a.isOperationalLayer=function(h){return"operationalLayerType"in h};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){const b={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,
ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},c={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,
VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},f={ArcGISFeatureLayer:!0};a.supportedTypes={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,
CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":b,"web-map/basemap":c,"web-map/tables":f,"link-chart/operational-layers":{...b,
LinkChartLayer:!0},"link-chart/basemap":c,"link-chart/tables":f,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/commonProperties":function(){define("exports ../../TimeExtent ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../support/timeUtils ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,f,g,q,u,p){const t={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},k={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(x,w){return!w.disablePopup}},write:{enabled:!0,writer(x,w,v){w[v]=!x}}}},m={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:!0}};g={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:g.write}}};const e={type:Boolean,
value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}};u={value:null,type:u,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};var d={write:!0,read:!0};const l={type:Number,json:{origins:{"web-document":d,"portal-item":{write:!0}}}};d={...l,json:{...l.json,origins:{"web-document":{...d,write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency",
"drawingInfo.transparency"],reader(x,w,v){if((!v||"service"===v.origin)&&w.drawingInfo&&void 0!==w.drawingInfo.transparency)return p.transparencyToOpacity(w.drawingInfo.transparency);if(w.layerDefinition&&w.layerDefinition.drawingInfo&&void 0!==w.layerDefinition.drawingInfo.transparency)return p.transparencyToOpacity(w.layerDefinition.drawingInfo.transparency)}}}};const n={type:c,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(x,w)=>{x=c.fromJSON(x);null!=
w.spatialReference&&"object"===typeof w.spatialReference&&(x.spatialReference=f.fromJSON(w.spatialReference));return x}}}},read:!1}},h={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},r={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},z={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}};a.combinedViewLayerTimeExtentProperty=
{type:b,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const {datesInUnknownTimezone:x,timeOffset:w,useViewTime:v}=this.layer;var A=this.view?.timeExtent,B=this.layer.timeExtent;x&&(B=q.toLocalTimeExtent(B));A=v?A&&B?A.intersection(B):A||B:B;if(!A||A.isEmpty||A.isAllTime)return A;w&&(A=A.offset(-w.value,w.unit));x&&(A=q.toUTCTimeExtent(A));B=this._get("timeExtent");return A.equals(B)?B:A}};a.elevationInfo=u;a.id=h;a.labelsVisible=m;a.legendEnabled=e;a.listMode={json:{write:{ignoreOrigin:!0},
origins:{"web-map":{read:!1,write:!1}}}};a.maxScale=z;a.minScale=r;a.opacity=l;a.opacityDrawingInfo=d;a.popupEnabled=k;a.readOnlyService=function(x){return{type:x,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=n;a.screenSizePerspectiveEnabled=t;a.url=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeExtent":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/maybe ./core/timeUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;c=d=function(h){function r(x){x=h.call(this,x)||this;x.end=null;x.start=null;return x}a._inherits(r,h);var z=r.prototype;z.readEnd=function(x,w){return null!=w.end?new Date(w.end):null};z.writeEnd=function(x,w){w.end=x?x.getTime():null};z.readStart=function(x,w){return null!=w.start?new Date(w.start):null};z.writeStart=function(x,w){w.start=x?x.getTime():null};z.clone=function(){return new d({end:this.end,start:this.start})};z.equals=function(x){if(!x)return!1;
const w=null!=this.start?this.start.getTime():this.start,v=null!=this.end?this.end.getTime():this.end,A=null!=x.start?x.start.getTime():x.start;x=null!=x.end?x.end.getTime():x.end;return w===A&&v===x};z.expandTo=function(x){if(this.isEmpty||this.isAllTime)return this.clone();const w=f.applySome(this.start,A=>g.truncateDate(A,x)),v=f.applySome(this.end,A=>{const B=g.truncateDate(A,x);return A.getTime()===B.getTime()?B:g.offsetDate(B,1,x)});return new d({start:w,end:v})};z.intersection=function(x){if(!x)return this.clone();
if(this.isEmpty||x.isEmpty)return d.empty;if(this.isAllTime)return x.clone();if(x.isAllTime)return this.clone();var w=this.start?.getTime()??-Infinity;const v=this.end?.getTime()??Infinity,A=x.start?.getTime()??-Infinity;x=x.end?.getTime()??Infinity;let B,C;A>=w&&A<=v?B=A:w>=A&&w<=x&&(B=w);v>=A&&v<=x?C=v:x>=w&&x<=v&&(C=x);return null==B||null==C||isNaN(B)||isNaN(C)?d.empty:(w=new d,w.start=-Infinity===B?null:new Date(B),w.end=Infinity===C?null:new Date(C),w)};z.offset=function(x,w){if(this.isEmpty||
this.isAllTime)return this.clone();const v=new d,{start:A,end:B}=this;null!=A&&(v.start=g.offsetDate(A,x,w));null!=B&&(v.end=g.offsetDate(B,x,w));return v};z.union=function(x){if(!x||x.isEmpty)return this.clone();if(this.isEmpty)return x.clone();if(this.isAllTime||x.isAllTime)return l.clone();const w=null!=this.start&&null!=x.start?new Date(Math.min(this.start.getTime(),x.start.getTime())):null;x=null!=this.end&&null!=x.end?new Date(Math.max(this.end.getTime(),x.end.getTime())):null;return new d({start:w,
end:x})};a._createClass(r,[{key:"isAllTime",get:function(){return this.equals(d.allTime)}},{key:"isEmpty",get:function(){return this.equals(d.empty)}}],[{key:"allTime",get:function(){return l}},{key:"empty",get:function(){return n}}]);return r}(c.JSONSupport);b.__decorate([q.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"end",void 0);b.__decorate([k.reader("end")],c.prototype,"readEnd",null);b.__decorate([e.writer("end")],c.prototype,"writeEnd",null);b.__decorate([q.property({readOnly:!0,
json:{read:!1}})],c.prototype,"isAllTime",null);b.__decorate([q.property({readOnly:!0,json:{read:!1}})],c.prototype,"isEmpty",null);b.__decorate([q.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"start",void 0);b.__decorate([k.reader("start")],c.prototype,"readStart",null);b.__decorate([e.writer("start")],c.prototype,"writeStart",null);c=d=b.__decorate([m.subclass("esri.TimeExtent")],c);const l=new c,n=new c({start:void 0,end:void 0});return c})},"esri/core/timeUtils":function(){define(["exports",
"./has"],function(a,b){function c(q,u,p){return 0===q?0:q*f[u]/f[p]}const f={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8},g={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",
setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};a.convertTime=c;a.isValidDate=function(q){return q instanceof Date&&!isNaN(q.getTime())};a.makeUTCTime=function(q,u,p="milliseconds"){u=new Date(c(u,p,"milliseconds"));
u.setUTCFullYear(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate());return u};a.offsetDate=function(q,u,p){q=new Date(q.getTime());if(u&&p){const {getter:k,setter:m,multiplier:e}=g[p];if("months"===p){p=q.getFullYear();var t=q.getMonth()+u;p=new Date(p,t+1,1);p.setDate(0);p=p.getDate();q.getDate()>p&&q.setDate(p)}q[m](q[k]()+u*e)}return q};a.offsetDateUTC=function(q,u,p="milliseconds"){q=q.getTime();u=c(u,p,"milliseconds");return new Date(q+u)};a.resetUTCDate=function(q,u){q=new Date(q.getTime());
q.setUTCFullYear(u.getFullYear(),u.getMonth(),u.getDate());return q};a.timeSinceUTCMidnight=function(q,u="milliseconds"){const p=c(q.getUTCHours(),"hours","milliseconds"),t=c(q.getUTCMinutes(),"minutes","milliseconds"),k=c(q.getUTCSeconds(),"seconds","milliseconds");q=q.getUTCMilliseconds();return c(p+t+k+q,"milliseconds",u)};a.truncateDate=function(q,u){switch(u){case "milliseconds":return new Date(q.getTime());case "seconds":return new Date(q.getFullYear(),q.getMonth(),q.getDate(),q.getHours(),
q.getMinutes(),q.getSeconds());case "minutes":return new Date(q.getFullYear(),q.getMonth(),q.getDate(),q.getHours(),q.getMinutes());case "hours":return new Date(q.getFullYear(),q.getMonth(),q.getDate(),q.getHours());case "days":return new Date(q.getFullYear(),q.getMonth(),q.getDate());case "weeks":return new Date(q.getFullYear(),q.getMonth(),q.getDate()-q.getDay());case "months":return new Date(q.getFullYear(),q.getMonth(),1);case "years":return new Date(q.getFullYear(),0,1);case "decades":return new Date(q.getFullYear()-
q.getFullYear()%10,0,1);case "centuries":return new Date(q.getFullYear()-q.getFullYear()%100,0,1);default:return new Date}};a.truncateLocalTime=function(q){const u=new Date(0);u.setHours(0);u.setMinutes(0);u.setSeconds(0);u.setMilliseconds(0);u.setFullYear(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate());return u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../core/urlUtils"],function(a,b){function c(l,n){var h=
n&&n.url&&n.url.path;l&&h&&(l=b.makeAbsolute(l,h,{preserveProtocolRelative:!0}),n.portalItem&&n.readResourcePaths&&(h=b.makeRelative(l,n.portalItem.itemUrl),null!=h&&e.test(h)&&n.readResourcePaths.push(n.portalItem.resourceFromPath(h).path)));return k(l,n&&n.portal)}function f(l,n,h=a.MarkKeep.YES){if(null==l)return l;!b.isAbsolute(l)&&n&&n.blockedRelativeUrls&&n.blockedRelativeUrls.push(l);let r=b.makeAbsolute(l);if(n){var z=n.verifyItemRelativeUrls&&n.verifyItemRelativeUrls.rootPath||n.url&&n.url.path;
if(z){z=k(z,n.portal);const x=k(r,n.portal);r=b.makeRelative(x,z,z);null!=r&&r!==x&&r!==l&&n.verifyItemRelativeUrls&&n.verifyItemRelativeUrls.writtenUrls.push(r)}}r=t(r,n?.portal);b.isAbsolute(r)&&(r=b.normalize(r));n?.resources&&n?.portalItem&&!b.isAbsolute(r)&&!b.isDataProtocol(r)&&h===a.MarkKeep.YES&&n.resources.toKeep.push({resource:n.portalItem.resourceFromPath(r),compress:!1});return r}function g(l,n,h){return c(l,h)}function q(l,n,h,r){l=f(l,r);void 0!==l&&(n[h]=l)}function u(l){return(l?.match(m)??
null)?.[1]??null}function p(l){l=l?.match(m)??null;if(null==l)return null;l=l[2];const n=l.lastIndexOf("/");if(-1===n){const {path:z,extension:x}=b.splitPathExtension(l);return{prefix:null,filename:z,extension:x}}const {path:h,extension:r}=b.splitPathExtension(l.slice(n+1));return{prefix:l.slice(0,n),filename:h,extension:r}}function t(l,n){return n&&!n.isPortal&&n.urlKey&&n.customBaseUrl?b.changeDomain(l,`${n.urlKey}.${n.customBaseUrl}`,n.portalHostname):l}function k(l,n){if(!n||n.isPortal||!n.urlKey||
!n.customBaseUrl)return l;const h=`${n.urlKey}.${n.customBaseUrl}`,r=b.getAppUrl();return b.hasSameOrigin(r,`${r.scheme}://${h}`)?b.changeDomain(l,n.portalHostname,h):b.changeDomain(l,h,n.portalHostname)}const m=/\/items\/([^\/]+)\/resources\/(.*)/,e=/^\.\/resources\//;a.MarkKeep=void 0;(function(l){l[l.YES=0]="YES";l[l.NO=1]="NO"})(a.MarkKeep||(a.MarkKeep={}));const d=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return a.MarkKeep},ensureMainOnlineDomain:t,fromJSON:c,itemIdFromResourceUrl:u,
prefixAndFilenameFromResourceUrl:p,read:g,toJSON:f,write:q},Symbol.toStringTag,{value:"Module"}));a.ensureMainOnlineDomain=t;a.fromJSON=c;a.itemIdFromResourceUrl=u;a.persistableUrlUtils=d;a.prefixAndFilenameFromResourceUrl=p;a.read=g;a.toJSON=f;a.write=q})},"esri/support/timeUtils":function(){define(["exports","../TimeExtent","../core/arrayUtils","../core/promiseUtils","../core/timeUtils"],function(a,b,c,f,g){function q(u){return void 0!==u.timeInfo}a.getTimeExtentFromLayers=async function(u,p){if(0===
u.length)return b.allTime;const t=u.filter(q);await Promise.all(t.map(e=>e.load({signal:p})));u=[];var k=[];for(var m of t)"feature"!==m?.type&&"map-image"!==m?.type||!m.timeInfo?.hasLiveData?k.push(m):u.push(m);m=e=>null==e||e.isAllTime;k=k.map(e=>e.timeInfo?.fullTimeExtent);if(k.some(m))return b.allTime;u=u.map(async e=>{const {timeExtent:d}=await e.fetchRecomputedExtents({signal:p});return d?d:e.timeInfo?.fullTimeExtent});u=(await f.eachAlways(u)).map(e=>e.value);return u.some(m)?b.allTime:[...u,
...k].filter(c.isSome).reduce((e,d)=>e.union(d))};a.toLocalTimeExtent=function(u){if(!u)return u;const {start:p,end:t}=u;return new b({start:null!=p?g.offsetDate(p,p.getTimezoneOffset(),"minutes"):p,end:null!=t?g.offsetDate(t,t.getTimezoneOffset(),"minutes"):t})};a.toUTCTimeExtent=function(u){if(!u)return u;const {start:p,end:t}=u;return new b({start:null!=p?g.offsetDate(p,-p.getTimezoneOffset(),"minutes"):p,end:null!=t?g.offsetDate(t,-t.getTimezoneOffset(),"minutes"):t})};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l){var n;u=c.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});c=new c.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});f=n=function(h){function r(x){x=h.call(this,x)||this;x.offset=null;return x}a._inherits(r,h);var z=r.prototype;z.readFeatureExpressionInfo=function(x,w){if(null!=x)return x;if(w.featureExpression&&
0===w.featureExpression.value)return{expression:"0"}};z.writeFeatureExpressionInfo=function(x,w,v,A){w[v]=x.write({},A);"0"===x.expression&&(w.featureExpression={value:0})};z.write=function(x,w){return this.offset||this.mode||this.featureExpressionInfo||this.unit?a._get(a._getPrototypeOf(r.prototype),"write",this).call(this,x,w):null};z.clone=function(){return new n({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};
z.equals=function(x){return this.mode===x.mode&&this.offset===x.offset&&this.unit===x.unit&&g.equalsMaybe(this.featureExpressionInfo,x.featureExpressionInfo)};a._createClass(r,[{key:"mode",get:function(){const {offset:x,featureExpressionInfo:w}=this;return this._isOverridden("mode")?this._get("mode"):null!=x||w?"relative-to-ground":"on-the-ground"},set:function(x){this._override("mode",x)}},{key:"unit",set:function(x){this._set("unit",x)}}]);return r}(f.JSONSupport);b.__decorate([q.property({type:d,
json:{write:!0}})],f.prototype,"featureExpressionInfo",void 0);b.__decorate([k.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],f.prototype,"readFeatureExpressionInfo",null);b.__decorate([e.writer("featureExpressionInfo",{featureExpressionInfo:{type:d},"featureExpression.value":{type:[0]}})],f.prototype,"writeFeatureExpressionInfo",null);b.__decorate([q.property({type:u.apiValues,nonNullable:!0,json:{type:u.jsonValues,read:u.read,write:{writer:u.write,isRequired:!0}}})],
f.prototype,"mode",null);b.__decorate([q.property({type:Number,json:{write:!0}})],f.prototype,"offset",void 0);b.__decorate([q.property({type:l.supportedUnits,json:{type:String,read:c.read,write:c.write}})],f.prototype,"unit",null);return f=n=b.__decorate([m.subclass("esri.layers.support.ElevationInfo")],f)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;c=k=function(m){function e(l){return m.call(this,l)||this}a._inherits(e,m);var d=e.prototype;d.collectRequiredFields=async function(l,n){return t.collectArcadeFieldNames(l,n,this.expression)};d.clone=function(){return new k({expression:this.expression,title:this.title})};d.equals=function(l){return this.expression===l.expression&&this.title===l.title};return a._createClass(e)}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"expression",
void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=k=b.__decorate([p.subclass("esri.layers.support.FeatureExpressionInfo")],c)})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/Error ../../core/object ./domainUtils ../../support/arcadeOnDemand".split(" "),function(a,b,c,f,g,q){function u(W,pa,R){if(W)for(const Y of W)(W=(W=f.getDeepValue(Y,pa))&&"function"!==typeof W&&R.get(W))&&f.setDeepValue(Y,W.name,pa)}function p(W,
pa){if(!W||!pa)return[];P.clear();t(P,W,pa);return Array.from(P).sort()}function t(W,pa,R){if(R)if(pa?.fields?.length)if(R.includes("*"))for(const {name:Y}of pa.fields)W.add(Y);else for(const Y of R)k(W,pa,Y);else if(R.includes("*"))W.clear(),W.add("*");else for(const Y of R)null!=Y&&W.add(Y)}function k(W,pa,R){"string"===typeof R&&(pa?(pa=pa.get(R))&&W.add(pa.name):W.add(R))}async function m(W,pa,R){if(R){var {arcadeUtils:Y}=await q.loadArcade();R=Y.extractFieldNames(R,pa?.fields?.map(la=>la.name));
for(const la of R)k(W,pa,la)}}async function e(W,pa,R){if(R&&"1\x3d1"!==R){var {WhereClause:Y}=await new Promise((la,ja)=>a(["../../core/sql/WhereClause"],la,ja));Y=Y.create(R,pa);if(!Y.isStandardized)throw new c("fieldUtils:collectFilterFields","Where clause is not standardized",{where:R});t(W,pa,Y.fieldNames)}}function d(W,pa){for(const R of W)if(R&&R.valueType&&R.valueType===pa)return R.name;return null}async function l(W,pa){if(pa){var R=pa.elevationInfo?.featureExpressionInfo;if(R)return R.collectRequiredFields(W,
pa.fieldsIndex)}}async function n(W,pa,R){const Y=[];R?.expressionInfos&&Y.push(...R.expressionInfos.map(la=>m(W,pa.fieldsIndex,la.expression)));R=R?.content;if(Array.isArray(R))for(const la of R)"expression"===la.type&&la.expressionInfo&&Y.push(m(W,pa.fieldsIndex,la.expressionInfo.expression));await Promise.all(Y)}async function h(W,pa,R){pa&&R&&(R.valueExpression?await m(W,pa.fieldsIndex,R.valueExpression):R.field&&k(W,pa.fieldsIndex,R.field))}function r(W){if(!W)return[];const pa=W.geometryFieldsInfo;
return pa?p(W.fieldsIndex,[pa.shapeAreaField,pa.shapeLengthField]):[]}function z(W){const pa=new Set;w(W).forEach(R=>pa.add(R));r(W).forEach(R=>pa.add(R.toLowerCase()));if(W=W&&"infoFor3D"in W?W.infoFor3D:void 0)Object.values(W.assetMapFieldRoles).forEach(R=>pa.add(R.toLowerCase())),Object.values(W.transformFieldRoles).forEach(R=>pa.add(R.toLowerCase()));return Array.from(pa)}function x(W){if(!W)return[];W="editFieldsInfo"in W&&W.editFieldsInfo;if(!W)return[];const {creationDateField:pa,creatorField:R,
editDateField:Y,editorField:la}=W;return[pa,R,Y,la].filter(Boolean)}function w(W){return x(W).map(pa=>pa.toLowerCase())}async function v(W,pa){const {labelingInfo:R,fieldsIndex:Y}=pa;R&&R.length&&await Promise.all(R.map(la=>A(W,Y,la)))}async function A(W,pa,R){if(R){var Y=R.getLabelExpression();R=R.where;"arcade"===Y.type?await m(W,pa,Y.expression):(Y=Y.expression.match(/{[^}]*}/g))&&Y.forEach(la=>{k(W,pa,la.slice(1,-1))});await e(W,pa,R)}}function B(W){return"number"===typeof W&&!isNaN(W)&&isFinite(W)}
function C(W){return null===W||B(W)}function D(W){return null===W||ma(W)}function y(W){return null!=W&&"string"===typeof W}function G(W){return null===W||y(W)}function F(){return!0}function K(W,pa){let R;switch(W.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":R=W.nullable?D:ma;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":R=W.nullable?
C:B;break;case "string":case "esriFieldTypeString":R=W.nullable?G:y;break;default:R=F}return 1===arguments.length?R:R(pa)}function M(W){return null!=W&&ba.has(W.type)}function O(W,pa){return null==W||W.nullable&&null===pa?null:M(W)&&!H(W.type,Number(pa))?b.NumericRangeValidationError.OUT_OF_RANGE:K(W,pa)?W.domain?g.validateDomainValue(W.domain,pa):null:b.TypeValidationError.INVALID_TYPE}function H(W,pa){W="string"===typeof W?J(W):W;if(!W)return!1;const R=W.min,Y=W.max;return W.isInteger?ma(pa)&&pa>=
R&&pa<=Y:pa>=R&&pa<=Y}function J(W){switch(W){case "esriFieldTypeSmallInteger":case "small-integer":return Na;case "esriFieldTypeInteger":case "integer":return Qa;case "esriFieldTypeBigInteger":case "big-integer":return I;case "esriFieldTypeSingle":case "single":return S;case "esriFieldTypeDouble":case "double":return qa}}function L(W,pa,R){if(!pa||!pa.attributes||!W){if(null!=R)for(var Y of W??[])R.add(Y);return!0}pa=pa.attributes;Y=!1;for(const la of W)if(!(la in pa))if(Y=!0,null!=R)R.add(la);else break;
return Y}const N=/^([0-9_])/,V=/[^a-z0-9_\u0080-\uffff]+/gi,X="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),U=["field","normalizationField"],P=new Set,fa=["oid","global-id","guid"],Ba=["oid","global-id"],Aa=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],
ma=(()=>"isInteger"in Number?Number.isInteger:W=>"number"===typeof W&&isFinite(W)&&Math.floor(W)===W)(),ta=["integer","small-integer","single","double"],ba=new Set([...ta,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),ka=["date","date-only","time-only","timestamp-offset"],Fa=new Set([...ka,"esriFieldTypeDate","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);b.NumericRangeValidationError=void 0;(b.NumericRangeValidationError||
(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";b.TypeValidationError=void 0;(b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const Na={min:-32768,max:32767,isInteger:!0},Qa={min:-2147483648,max:2147483647,isInteger:!0},I={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0},S={min:-3.4E38,max:1.2E38,isInteger:!1},qa={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.bigIntegerRange=
I;b.collectArcadeFieldNames=m;b.collectElevationFields=l;b.collectFeatureReductionFields=async function(W,pa,R){if(pa&&R&&"fields"in R){var Y=[];Y.push(n(W,pa,R.popupTemplate));R.fields&&Y.push(...R.fields.map(async la=>{la.onStatisticExpression?m(W,pa.fieldsIndex,la.onStatisticExpression.expression):W.add(la.onStatisticField)}));await Promise.all(Y)}};b.collectField=k;b.collectFields=t;b.collectFilterFields=async function(W,pa,R){pa&&(pa.timeInfo&&null!=R&&R.timeExtent&&t(W,pa.fieldsIndex,[pa.timeInfo.startField,
pa.timeInfo.endField]),pa.floorInfo&&t(W,pa.fieldsIndex,[pa.floorInfo.floorField]),null!=R&&null!=R.where&&await e(W,pa.fieldsIndex,R.where))};b.collectLabelingFields=v;b.collectOrderByInfos=async function(W,pa,R){pa&&R&&await Promise.all(R.map(Y=>h(W,pa,Y)))};b.collectPopupTemplateFields=n;b.dateTypes=ka;b.doubleRange=qa;b.featureHasFields=function(W,pa){return!L(W,pa,null)};b.fixFields=p;b.fixRendererFields=function(W,pa){if(null!=W&&null!=pa)for(const R of Array.isArray(W)?W:[W])if(u(X,R,pa),"visualVariables"in
R&&R.visualVariables)for(const Y of R.visualVariables)u(U,Y,pa)};b.fixTimeInfoFields=function(W,pa){if(null!=W&&pa?.fields?.length)if("startField"in W){var R=pa.get(W.startField);pa=pa.get(W.endField);W.startField=R?.name??null;W.endField=pa?.name??null}else R=pa.get(W.startTimeField),pa=pa.get(W.endTimeField),W.startTimeField=R?.name??null,W.endTimeField=pa?.name??null};b.getDisplayFieldName=function({displayField:W,fields:pa}){if(W)return W;if(!pa||!pa.length)return null;if(!(W=d(pa,"name-or-title")||
d(pa,"unique-identifier")||d(pa,"type-or-category")))a:{for(const R of pa)if(R&&R.name&&(pa=R.name.toLowerCase(),pa.includes("name")||pa.includes("title"))){W=R.name;break a}W=null}return W};b.getEditTrackingFields=x;b.getElevationFields=async function(W){if(!W)return[];const pa=new Set;await l(pa,W);return Array.from(pa).sort()};b.getExpressionFields=async function(W,pa){const R=new Set;for(const Y of pa)await m(R,W.fieldsIndex,Y);return Array.from(R).sort()};b.getFeatureEditFields=function(W){return W?
p(W.fieldsIndex,x(W)):[]};b.getFeatureGeometryFields=r;b.getFieldDefaultValue=function(W){const pa=W.defaultValue;if(void 0!==pa&&K(W,pa))return pa;if(W.nullable)return null};b.getFieldRange=function(W){const pa=g.getDomainRange(W.domain);if(pa)return pa;if(M(W))return J(W.type)};b.getLabelingFields=async function(W){if(!W)return[];const pa=new Set;await v(pa,W);return Array.from(pa).sort()};b.getLowerCaseDefaultHiddenFields=z;b.getLowerCaseEditTrackingFields=w;b.getNumericTypeForValue=function(W){if(!B(W))return null;
if(ma(W)){if(W>=Na.min&&W<=Na.max)return"esriFieldTypeSmallInteger";if(W>=Qa.min&&W<=Qa.max)return"esriFieldTypeInteger"}return W>=S.min&&W<=S.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.getTimeFields=async function(W){if(!W)return[];const pa="timeInfo"in W&&W.timeInfo;return pa?p(W.fieldsIndex,[W.trackIdField,pa.startField,pa.endField]):[]};b.integerRange=Qa;b.isDateField=function(W){return null!=W&&Fa.has(W.type)};b.isFieldEditable=function(W,pa){return W.editable&&!fa.includes(W.type)&&
!w(pa).includes(W.name?.toLowerCase()??"")};b.isFieldVisibleByDefault=function(W,pa){const R=W.name?.toLowerCase()??"";return!(null!=pa?.objectIdField&&R===pa.objectIdField.toLowerCase())&&!(null!=pa?.globalIdField&&R===pa.globalIdField.toLowerCase())&&!z(pa).includes(R)&&!Ba.includes(W.type)&&!Aa.some(Y=>Y.test(R))};b.isNumberInRange=H;b.isNumericField=M;b.isRasterPixelValueField=function(W){return W?["raster.itempixelvalue","raster.servicepixelvalue"].some(pa=>W.toLowerCase().startsWith(pa)):!1};
b.isStringField=function(W){return null!=W&&("string"===W.type||"esriFieldTypeString"===W.type)};b.isValidFieldValue=function(W,pa){return null===O(W,pa)};b.isValueMatchingFieldType=K;b.normalizeFieldName=function(W){return null==W?null:W.trim().replaceAll(V,"_").replace(N,"F$1")||null};b.numericTypes=ta;b.packFields=function(W,pa,R=1){if(!pa||!W)return[];if(pa.includes("*"))return["*"];pa=p(W,pa);return pa.length/W.fields.length>=R?["*"]:pa};b.populateMissingFields=L;b.rendererFields=X;b.sanitizeNullFieldValue=
function(W){return null==W||"number"===typeof W&&isNaN(W)?null:W};b.singleRange=S;b.smallIntegerRange=Na;b.unpackFieldNames=function(W,pa){return null==pa||null==W?[]:pa.includes("*")?(W.fields??[]).map(R=>R.name):pa};b.validateFieldValue=O;b.validationErrorToString=function(W,pa,R){switch(W){case g.DomainValidationError.INVALID_CODED_VALUE:return`Value ${R} is not in the coded domain - field: ${pa.name}, domain: ${JSON.stringify(pa.domain)}`;case g.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${R} is out of the range of valid values - field: ${pa.name}, domain: ${JSON.stringify(pa.domain)}`;
case b.TypeValidationError.INVALID_TYPE:return`Value ${R} is not a valid value for the field type - field: ${pa.name}, type: ${pa.type}, nullable: ${pa.nullable}`;case b.NumericRangeValidationError.OUT_OF_RANGE:const {min:Y,max:la}=J(pa.type);return`Value ${R} is out of range for the number type - field: ${pa.name}, type: ${pa.type}, value range is ${Y} to ${la}`}};b.visualVariableFields=U;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports"],
function(a){a.DomainValidationError=void 0;(function(b){b.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";b.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));a.getDomainRange=function(b){if(b&&"range"===b.type)return{min:"range"in b?b.range[0]:b.minValue,max:"range"in b?b.range[1]:b.maxValue}};a.validateDomainValue=function(b,c){switch(b.type){case "range":const f="range"in b?b.range[0]:b.minValue;b="range"in
b?b.range[1]:b.maxValue;if(null!=f&&+c<f||null!=b&&+c>b)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":if(null==b.codedValues||b.codedValues.every(g=>null==g||g.code!==c))return a.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==b.codedValues||b.codedValues.every(g=>null==g||g.code!==c))return a.DomainValidationError.INVALID_CODED_VALUE}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../geometry ../core/Error ../core/Logger ../geometry/SpatialReference".split(" "),
function(a,b,c,f,g,q,u){function p(){k||(k=(async()=>{const e=await new Promise((d,l)=>a(["./arcadeUtils"],d,l));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})());return k}const t=q.getLogger("esri.support.arcadeOnDemand");let k;f=(e,d,l)=>m.create(e,d,l,null,["$feature","$view"],[]);let m=function(){function e(l,n,h,r,z,x,w){this.services=null;this.script=l;this.evaluate=r;this.fields=Array.isArray(x)?x:x.fields;this._syntaxTree=h;this._arcade=n;this._arcadeFeature=
z;this._spatialReference=w;this._referencesGeometry=n.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}e.create=async function(l,n,h,r,z,x){const {arcade:w,Feature:v,Dictionary:A}=await p(),B=u.fromJSON(n);let C;try{C=w.parseScript(l,x)}catch(M){return t.error(new g("arcade-bad-expression","Failed to parse arcade script",{script:l,error:M})),null}z=z.reduce((M,O)=>({...M,[O]:null}),{});let D=null;null!=r&&(D=new A(r),D.immutable=
!0,z.$config=null);x=(r=w.scriptUsesGeometryEngine(C))&&w.enableGeometrySupport();const y=w.scriptUsesFeatureSet(C)&&w.enableFeatureSetSupport(),G=(n=w.scriptIsAsync(C))&&w.enableAsyncSupport();z={vars:z,spatialReference:B,useAsync:!!G};await Promise.all([x,y,G]);x=new Set;await w.loadDependentModules(x,C,null,n,r);const F=new A;F.immutable=!1;F.setField("scale",0);const K=w.compileScript(C,z);return new e(l,w,C,(M,O)=>{"$view"in M&&M.$view&&(F.setField("scale","object"===typeof M.$view&&"scale"in
M.$view?M.$view.scale:void 0),M.$view=F);D&&(M.$config=D);return K({vars:M,spatialReference:B,services:O})},new v,h,B)};var d=e.prototype;d.repurposeFeature=function(l){l.geometry&&!l.geometry.spatialReference&&(l.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(l.geometry,l.attributes,{fields:this.fields});return this._arcadeFeature};d.referencesGeometry=function(){return this._referencesGeometry};d.referencesScale=function(){return this._referencesScale};
return c._createClass(e)}();b.ArcadeExpression=m;b.createDictionaryExpression=(e,d,l,n)=>m.create(e,d,l,n,["$feature","$view"],[]);b.createLabelExpression=(e,d,l)=>m.create(e,d,l,null,["$feature"],[]);b.createRendererExpression=f;b.createVVExpression=f;b.loadArcade=p;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../renderers/support/lengthUtils"],function(a,b){const c=function(){const f=Object.keys(b.meterIn);
f.sort();return f}();a.getMetersPerUnit=function(f){return 1/(b.meterIn[f]||1)};a.supportedUnits=c;a.supportsUnit=function(f){return!!f&&null!=b.meterIn[f]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],function(a,b,c){b={unknown:1,inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,"meters","us-feet"),
yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",c.earth.radius)};a.meterIn=b;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../config ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../support/layerUtils ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser ../../portal/support/portalItemUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D){var y=null,G=null;b.PortalLayer=F=>{F=function(K){function M(){var H=K.apply(this,arguments)||this;H.resourceReferences={portalItem:null,paths:[]};H.userHasEditingPrivileges=!0;H.userHasFullEditingPrivileges=!1;H.userHasUpdateItemPrivileges=!1;return H}c._inherits(M,K);var O=M.prototype;O.destroy=function(){this.portalItem=m.destroyMaybe(this.portalItem);this.resourceReferences.portalItem=null;this.resourceReferences.paths.length=0};O.readPortalItem=
function(H,J,L){if(J.itemId)return new B({id:J.itemId,portal:L&&L.portal})};O.writePortalItem=function(H,J){H&&H.id&&(J.itemId=H.id)};O.loadFromPortal=async function(H,J){if(this.portalItem&&this.portalItem.id)try{const {load:L}=await new Promise((N,V)=>a(["../../portal/support/layersLoader"],N,V));e.throwIfAborted(J);return await L({instance:this,supportedTypes:H.supportedTypes,validateItem:H.validateItem,supportsData:H.supportsData,layerModuleTypeMap:H.layerModuleTypeMap},J)}catch(L){throw e.isAbortError(L)||
k.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${L}`),L;}};O.finishLoadEditablePortalLayer=async function(H){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(H).catch(J=>{e.throwIfAbortError(J);return!0}))};O._setUserPrivileges=async function(H,J){if(!g.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(J);if(this.url)try{const {features:{edit:L,fullEdit:N},content:{updateItem:V}}=await this._fetchUserPrivileges(H,
J);this._set("userHasEditingPrivileges",L);this._set("userHasFullEditingPrivileges",N);this._set("userHasUpdateItemPrivileges",V)}catch(L){e.throwIfAbortError(L)}};O._fetchUserPrivileges=async function(H,J){let L=this.portalItem;if(!H||!L||!L.loaded||L.sourceUrl)return this._fetchFallbackUserPrivileges(J);const N=H===L.id;if(N&&L.portal.user)return D.getUserPrivileges(L);let V;if(N)V=L.portal.url;else try{V=await v.getOwningPortalUrl(this.url,J)}catch(U){e.throwIfAbortError(U)}if(!V||!d.hasSameCanonicalPortal(V,
L.portal.url))return this._fetchFallbackUserPrivileges(J);let X;try{const U=null!=J?J.signal:null;X=await q.id?.getCredential(`${V}/sharing`,{prompt:!1,signal:U})}catch(U){e.throwIfAbortError(U)}if(!X)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(N?await L.reload():(L=new B({id:H,portal:{url:V}}),await L.load(J)),L.portal.user)return D.getUserPrivileges(L)}catch(U){e.throwIfAbortError(U)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}};O._fetchFallbackUserPrivileges=
async function(H){let J=!0;try{J=await this._fetchUserHasEditingPrivileges(H)}catch(L){e.throwIfAbortError(L)}return{features:{edit:J,fullEdit:!1},content:{updateItem:!1}}};O._fetchUserHasEditingPrivileges=async function(H){const J=this.url?q.id?.findCredential(this.url):null;if(!J)return!0;H=y===J?G:await this._fetchEditingUser(H);y=J;G=H;return null==H||null==H.privileges||H.privileges.includes("features:user:edit")};O._fetchEditingUser=async function(H){var J=this.portalItem?.portal?.user;if(J)return J;
J=q.id.findServerInfo(this.url??"");if(!J?.owningSystemUrl)return null;J=`${J.owningSystemUrl}/sharing/rest`;const L=A.getDefault();if(L&&L.loaded&&d.normalize(L.restUrl)===d.normalize(J))return L.user;H=await p.result(u(`${J}/community/self`,{authMode:"no-prompt",query:{f:"json"},signal:null!=H?H.signal:null}));return H.ok?C.fromJSON(H.value.data):null};O.read=function(H,J){J&&(J.layer=this);c._get(c._getPrototypeOf(M.prototype),"read",this).call(this,H,J)};O.write=function(H,J){const L=J&&J.portal,
N=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||A.getDefault());return L&&N&&!d.hasSamePortal(N.restUrl,L.restUrl)?(J.messages&&J.messages.push(new t("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):c._get(c._getPrototypeOf(M.prototype),"write",this).call(this,
H,{...J,layer:this})};c._createClass(M,[{key:"portalItem",set:function(H){H!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",H))}}]);return M}(F);f.__decorate([l.property({type:B})],F.prototype,"portalItem",null);f.__decorate([z.reader("web-document","portalItem",["itemId"])],F.prototype,"readPortalItem",null);f.__decorate([w.writer("web-document","portalItem",{itemId:{type:String}})],F.prototype,"writePortalItem",null);f.__decorate([l.property({clonable:!1})],F.prototype,
"resourceReferences",void 0);f.__decorate([l.property({type:Boolean,readOnly:!0})],F.prototype,"userHasEditingPrivileges",void 0);f.__decorate([l.property({type:Boolean,readOnly:!0})],F.prototype,"userHasFullEditingPrivileges",void 0);f.__decorate([l.property({type:Boolean,readOnly:!0})],F.prototype,"userHasUpdateItemPrivileges",void 0);return F=f.__decorate([x.subclass("esri.layers.mixins.PortalLayer")],F)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalItemUtils":function(){define(["exports",
"../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(a,b,c,f){async function g(p){const t=p.spatialReference;if(t.isWGS84)return p.clone();if(t.isWebMercator)return f.webMercatorToGeographic(p);const k=c.WGS84;await b.initializeProjection(t,k);return b.project(p,k)}function q(p,t){return!!p.typeKeywords?.includes(t)}const u={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",
SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service"};a.TypeKeyword=u;a.addTypeKeyword=function(p,t){if(!q(p,t)){const k=p.typeKeywords;k?k.push(t):p.typeKeywords=[t]}};a.getUserPrivileges=function(p){const {portal:t,isOrgItem:k,itemControl:m}=p;var e=t.user?.privileges;p=e?e.includes("features:user:edit"):!0;e=k?!!e?.includes("features:user:fullEdit"):!1;const d="update"===m||"admin"===m;d?e=p=!0:e&&(p=!0);return{features:{edit:p,fullEdit:e},content:{updateItem:d}}};a.getWGS84ExtentForItem=
async function(p){p=p.clone().normalize();let t;if(1<p.length)for(const k of p)t?k.width>t.width&&(t=k):t=k;else t=p[0];return g(t)};a.hasTypeKeyword=q;a.isHostedLayer=function(p){return q(p,u.HOSTED_SERVICE)};a.removeTypeKeyword=function(p,t){if(p=p.typeKeywords)t=p.indexOf(t),-1<t&&p.splice(t,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D,y){function G(){return!!Xa&&h.isLoaded()}function F(na){null==za&&(za=Promise.all([h.load(),(new Promise((ca,oa)=>a(["../chunks/geometryEngineBase"],ca,oa))).then(ca=>ca.geometryEngineBase),new Promise((ca,oa)=>a(["./geometryAdapters/hydrated"],ca,oa))]));return za.then(([,ca,{hydratedAdapter:oa}])=>{q.throwIfAborted(na);Ta=oa;Xa=ca.default;Xa._enableProjection(h.pe);ab.notify()})}function K(na,ca,oa=null,Ia=null){return Array.isArray(na)?
0===na.length?[]:M(Ta,na,na[0].spatialReference,ca,oa,Ia):M(Ta,[na],na.spatialReference,ca,oa,Ia)[0]}function M(na,ca,oa,Ia,Za=null,$a=null){if(null==oa||null==Ia)return ca;if(L(oa,Ia,Za))return ca.map(Va=>N(Va,oa,Ia));if(null==Za){const Va=B.cacheKey(oa,Ia);void 0!==Ha[Va]?Za=Ha[Va]:(Za=H(oa,Ia,void 0),null==Za&&(Za=new B),Ha[Va]=Za)}if(null==Xa||null==na)throw new cb;return null!=$a?Xa._project(na,ca,oa,Ia,Za,$a):Xa._project(na,ca,oa,Ia,Za)}function O(na,ca){if(!G())for(const oa of na)if(null!=
oa&&!C.equals(oa.spatialReference,ca)&&C.isValid(oa.spatialReference)&&C.isValid(ca)&&!L(oa.spatialReference,ca))return p.trackAccess(ab),{pending:F(),geometries:null};return{pending:null,geometries:na.map(oa=>null==oa?null:C.equals(oa.spatialReference,ca)?oa:C.isValid(oa.spatialReference)&&C.isValid(ca)?J(oa,ca):null)}}function H(na,ca,oa=null){if(null==na||null==ca)return null;if(null==Xa||null==Ta)throw new cb;na=Xa._getTransformation(Ta,na,ca,oa,oa?.spatialReference);return null!==na?B.fromGE(na):
null}function J(na,ca){try{const oa=K(na,ca);if(null==oa)return null;"xmin"in na&&"xmin"in oa&&(oa.zmin=na.zmin,oa.zmax=na.zmax);const Ia=y.getGeometryZScaler(oa.type,na.spatialReference,ca);null!=Ia&&Ia(oa);return oa}catch(oa){if(!(oa instanceof cb))throw oa;return null}}function L(na,ca,oa){return oa?!1:C.equals(na,ca)?!0:C.isValid(na)&&C.isValid(ca)&&!!Pa(na,ca,Cb)}function N(na,ca,oa){return na?"x"in na?V(na,ca,new r,oa,0):"xmin"in na?fa(na,ca,new l,oa,0):"rings"in na?P(na,ca,new z,oa,0):"paths"in
na?U(na,ca,new x,oa,0):"points"in na?X(na,ca,new n,oa,0):null:null}function V(na,ca,oa,Ia,Za){gb[0]=na.x;gb[1]=na.y;const $a=na.z;gb[2]=void 0!==$a?$a:Za;if(!ta(gb,ca,0,gb,Ia,0,1))return null;oa.x=gb[0];oa.y=gb[1];oa.spatialReference=Ia;void 0===$a?(oa.z=void 0,oa.hasZ=!1):(oa.z=gb[2],oa.hasZ=!0);void 0===na.m?(oa.m=void 0,oa.hasM=!1):(oa.m=na.m,oa.hasM=!0);return oa}function X(na,ca,oa,Ia,Za){const {points:$a,hasZ:Va,hasM:Ya}=na;na=[];const Ja=$a.length,aa=[];for(var Ca of $a)aa.push(Ca[0],Ca[1],
Va?Ca[2]:Za);if(!ta(aa,ca,0,aa,Ia,0,Ja))return null;for(ca=0;ca<Ja;++ca){Za=3*ca;Ca=aa[Za];const Oa=aa[Za+1];Va&&Ya?na.push([Ca,Oa,aa[Za+2],$a[ca][3]]):Va?na.push([Ca,Oa,aa[Za+2]]):Ya?na.push([Ca,Oa,$a[ca][2]]):na.push([Ca,Oa])}oa.points=na;oa.spatialReference=Ia;oa.hasZ=Va;oa.hasM=Ya;return oa}function U(na,ca,oa,Ia,Za){const {paths:$a,hasZ:Va,hasM:Ya}=na;na=[];if(!ba($a,Va??!1,Ya??!1,ca,na,Ia,Za))return null;oa.paths=na;oa.spatialReference=Ia;oa.hasZ=Va;oa.hasM=Ya;return oa}function P(na,ca,oa,
Ia,Za){const {rings:$a,hasZ:Va,hasM:Ya}=na;na=[];if(!ba($a,Va??!1,Ya??!1,ca,na,Ia,Za))return null;oa.rings=na;oa.spatialReference=Ia;oa.hasZ=Va;oa.hasM=Ya;return oa}function fa(na,ca,oa,Ia,Za){const {xmin:$a,ymin:Va,xmax:Ya,ymax:Ja,hasZ:aa,hasM:Ca}=na;if(!Ba($a,Va,aa?na.zmin:Za,ca,gb,Ia))return null;oa.xmin=gb[0];oa.ymin=gb[1];aa&&(oa.zmin=gb[2]);if(!Ba(Ya,Ja,aa?na.zmax:Za,ca,gb,Ia))return null;oa.xmax=gb[0];oa.ymax=gb[1];aa&&(oa.zmax=gb[2]);Ca&&(oa.mmin=na.mmin,oa.mmax=na.mmax);oa.spatialReference=
Ia;return oa}function Ba(na,ca,oa,Ia,Za,$a){nb[0]=na;nb[1]=ca;nb[2]=oa;return ta(nb,Ia,0,Za,$a,0,1)}function Aa(na,ca,oa,Ia){if(null==ca||null==Ia||2>na.length)return!1;2===na.length&&(nb[0]=na[0],nb[1]=na[1],nb[2]=0,na=nb);return ta(na,ca,0,oa,Ia,0,1)}function ma(na,ca,oa){if(null==ca)return!1;ca=Qa(ca,Ib);ca=qb[ca][xa.WGS84_COMPARABLE_LON_LAT];if(null==ca)return!1;ca(na,0,nb,0);oa!==nb&&(oa[0]=nb[0],oa[1]=nb[1],2<oa.length&&(oa[2]=nb[2]));return!0}function ta(na,ca,oa,Ia,Za,$a,Va=1){ca=Pa(ca,Za,
Cb);if(null==ca)return!1;if(ca===I){if(na===Ia&&oa===$a)return!0;Va=oa+3*Va;for(let Ya=oa,Ja=$a;Ya<Va;Ya++,Ja++)Ia[Ja]=na[Ya];return!0}Va=oa+3*Va;for(let Ya=oa,Ja=$a;Ya<Va;Ya+=3,Ja+=3)ca(na,Ya,Ia,Ja);return!0}function ba(na,ca,oa,Ia,Za,$a,Va=0){const Ya=[];for(const Ja of na)for(const aa of Ja)Ya.push(aa[0],aa[1],ca?aa[2]:Va);if(!ta(Ya,Ia,0,Ya,$a,0,Ya.length/3))return!1;Ia=0;Za.length=0;for(const Ja of na){na=[];for(const aa of Ja)ca&&oa?na.push([Ya[Ia++],Ya[Ia++],Ya[Ia++],aa[3]]):ca?na.push([Ya[Ia++],
Ya[Ia++],Ya[Ia++]]):(oa?na.push([Ya[Ia++],Ya[Ia++],aa[2]]):na.push([Ya[Ia++],Ya[Ia++]]),Ia++);Za.push(na)}return!0}function ka(na,ca,oa,Ia){ca=Ia+ca;if(ca<Ia/2||oa>ca)return Number.MAX_VALUE;na=Math.abs(ub*na)+Math.asin(oa/ca);return na>=Math.PI/2?Number.MAX_VALUE:oa/Math.cos(na)}function Fa(na,ca,oa){const Ia=Math.sin(na);na=Math.cos(na);const Za=Math.sin(ca);ca=Math.cos(ca);oa[0]=-Ia;oa[4]=-Za*na;oa[8]=ca*na;oa[12]=0;oa[1]=na;oa[5]=-Za*Ia;oa[9]=ca*Ia;oa[13]=0;oa[2]=0;oa[6]=ca;oa[10]=Za;oa[14]=0;
oa[3]=0;oa[7]=0;oa[11]=0;oa[15]=1;return oa}function Na(na,ca,oa){Fa(na,ca,oa);k.transpose(oa,oa);return oa}function Qa(na,ca){if(!na)return xa.UNKNOWN;if(ca.spatialReference===na)return ca.spatialReferenceId;ca.spatialReference=na;"metersPerUnit"in ca&&(ca.metersPerUnit=u.getMetersPerUnitForSR(na,1));return na.wkt===d.SphericalECEFSpatialReferenceLike.wkt?ca.spatialReferenceId=xa.SPHERICAL_ECEF:C.isWGS84(na)?ca.spatialReferenceId=xa.WGS84:C.isWebMercator(na)?ca.spatialReferenceId=xa.WEB_MERCATOR:
C.isPlateCarree(na)?ca.spatialReferenceId=xa.PLATE_CARREE:na.wkt===d.WGS84ECEFSpatialReferenceLike.wkt?ca.spatialReferenceId=xa.WGS84_ECEF:na.wkid===D.SupportedGCSWkids.CGCS2000?ca.spatialReferenceId=xa.CGCS2000:na.wkt===d.SphericalPCPFMarsLike.wkt?ca.spatialReferenceId=xa.SPHERICAL_MARS_PCPF:na.wkt===d.SphericalPCPFMoonLike.wkt?ca.spatialReferenceId=xa.SPHERICAL_MOON_PCPF:C.isMars(na)?ca.spatialReferenceId=xa.GCSMARS2000:C.isMoon(na)?ca.spatialReferenceId=xa.GCSMOON2000:ca.spatialReferenceId=xa.UNKNOWN}
function I(na,ca,oa,Ia){na!==oa&&(oa[Ia++]=na[ca++],oa[Ia++]=na[ca++],oa[Ia]=na[ca])}function S(na,ca,oa,Ia){oa[Ia++]=Bb*(na[ca++]/v.earth.radius);oa[Ia++]=Bb*(Math.PI/2-2*Math.atan(Math.exp(-na[ca++]/v.earth.radius)));oa[Ia]=na[ca]}function qa(na,ca,oa,Ia){S(na,ca,oa,Ia);ua(oa,Ia,oa,Ia)}function W(na,ca,oa,Ia){S(na,ca,oa,Ia);ia(oa,Ia,oa,Ia)}function pa(na,ca,oa,Ia,Za){var $a=.4999999*Math.PI;$a=g.clamp(ub*na[ca+1],-$a,$a);$a=Math.sin($a);oa[Ia++]=ub*na[ca]*Za.radius;oa[Ia++]=Za.halfSemiMajorAxis*
Math.log((1+$a)/(1-$a));oa[Ia]=na[ca+2]}function R(na,ca,oa,Ia){pa(na,ca,oa,Ia,v.earth)}function Y(na,ca,oa,Ia){oa[Ia]=na[ca]*pb;oa[Ia+1]=na[ca+1]*pb;oa[Ia+2]=na[ca+2]}function la(na,ca,oa,Ia){oa[Ia]=na[ca]*tb;oa[Ia+1]=na[ca+1]*tb;oa[Ia+2]=na[ca+2]}function ja(na,ca,oa,Ia){S(na,ca,oa,Ia);Y(oa,Ia,oa,Ia)}function sa(na,ca,oa,Ia,Za){Za+=na[ca+2];const $a=ub*na[ca+1];na=ub*na[ca];ca=Math.cos($a);oa[Ia++]=Math.cos(na)*ca*Za;oa[Ia++]=Math.sin(na)*ca*Za;oa[Ia]=Math.sin($a)*Za}function T(na,ca,oa,Ia){sa(na,
ca,oa,Ia,v.moon.radius)}function ha(na,ca,oa,Ia){sa(na,ca,oa,Ia,v.mars.radius)}function ua(na,ca,oa,Ia){sa(na,ca,oa,Ia,v.earth.radius)}function Ea(na,ca,oa,Ia,Za){var $a=na[ca];const Va=na[ca+1];ca=na[ca+2];na=Math.sqrt($a*$a+Va*Va+ca*ca);ca=g.asinClamped(ca/(0===na?1:na));$a=Math.atan2(Va,$a);oa[Ia++]=Bb*$a;oa[Ia++]=Bb*ca;oa[Ia]=na-Za}function da(na,ca,oa,Ia){Ea(na,ca,oa,Ia,v.moon.radius)}function ra(na,ca,oa,Ia){Ea(na,ca,oa,Ia,v.mars.radius)}function wa(na,ca,oa,Ia){Ea(na,ca,oa,Ia,v.earth.radius)}
function Ma(na,ca,oa,Ia){wa(na,ca,oa,Ia);R(oa,Ia,oa,Ia)}function Z(na,ca,oa,Ia){wa(na,ca,oa,Ia);ia(oa,Ia,oa,Ia)}function ia(na,ca,oa,Ia){var Za=v.earth;const $a=ub*na[ca];var Va=ub*na[ca+1];na=na[ca+2];ca=Math.sin(Va);Va=Math.cos(Va);const Ya=Za.radius/Math.sqrt(1-Za.eccentricitySquared*ca*ca);oa[Ia++]=(Ya+na)*Va*Math.cos($a);oa[Ia++]=(Ya+na)*Va*Math.sin($a);oa[Ia++]=(Ya*(1-Za.eccentricitySquared)+na)*ca}function Da(na,ca,oa,Ia){var Za=A.earthEllipsoidConstants,$a=na[ca],Va=na[ca+1];na=na[ca+2];let Ya;
ca=Math.abs(na);var Ja=$a*$a+Va*Va;var aa=Math.sqrt(Ja);var Ca=Ja+na*na;var Oa=Math.sqrt(Ca);$a=Math.atan2(Va,$a);var Sa=na*na/Ca;Ca=Ja/Ca;Va=Za.a2/Oa;Ja=Za.a3-Za.a4/Oa;.3<Ca?(Sa=ca/Oa*(1+Ca*(Za.a1+Va+Sa*Ja)/Oa),Oa=Math.asin(Sa),Va=Sa*Sa,Ca=Math.sqrt(1-Va)):(Ca=aa/Oa*(1-Sa*(Za.a5-Va-Ca*Ja)/Oa),Oa=Math.acos(Ca),Va=1-Ca*Ca,Sa=Math.sqrt(Va));Ya=1-v.earth.eccentricitySquared*Va;Va=v.earth.radius/Math.sqrt(Ya);Za=Za.a6*Va;Va=aa-Va*Ca;Ja=ca-Za*Sa;ca=Ca*Va+Sa*Ja;aa=Ca*Ja-Sa*Va;Za=aa/(Za/Ya+ca);Oa+=Za;0>
na&&(Oa=-Oa);oa[Ia++]=Bb*$a;oa[Ia++]=Bb*Oa;oa[Ia]=ca+aa*Za/2}function ya(na,ca,oa,Ia){Da(na,ca,oa,Ia);ua(oa,Ia,oa,Ia)}function Ka(na,ca,oa,Ia){Da(na,ca,oa,Ia);R(oa,Ia,oa,Ia)}function Pa(na,ca,oa=Ra()){return null==na||null==ca?null:Ua(na,ca,oa).projector}function Ua(na,ca,oa){if(null==na||null==ca||oa.source.spatialReference===na&&oa.dest.spatialReference===ca)return oa;const Ia=Qa(na,oa.source),Za=Qa(ca,oa.dest);Ia===xa.UNKNOWN&&Za===xa.UNKNOWN?C.equals(na,ca)?oa.projector=I:oa.projector=null:oa.projector=
qb[Ia][Za];return oa}function Ra(){return{source:{spatialReference:null,spatialReferenceId:xa.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:xa.UNKNOWN,metersPerUnit:1},projector:I}}let Xa=null,Ta=null,za=null,Ha={};const ab=new t.SimpleObservable;let cb=function(na){function ca(){return na.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}c._inherits(ca,na);return c._createClass(ca)}(f);var xa;(function(na){na[na.UNKNOWN=
0]="UNKNOWN";na[na.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";na[na.WGS84=2]="WGS84";na[na.WEB_MERCATOR=3]="WEB_MERCATOR";na[na.WGS84_ECEF=4]="WGS84_ECEF";na[na.CGCS2000=5]="CGCS2000";na[na.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";na[na.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";na[na.GCSMARS2000=8]="GCSMARS2000";na[na.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";na[na.GCSMOON2000=10]="GCSMOON2000";na[na.LON_LAT=11]="LON_LAT";na[na.PLATE_CARREE=12]="PLATE_CARREE"})(xa||(xa={}));const pb=v.earth.radius*
Math.PI/180,tb=180/(v.earth.radius*Math.PI),qb={[xa.WGS84]:{[xa.CGCS2000]:null,[xa.GCSMARS2000]:null,[xa.GCSMOON2000]:null,[xa.LON_LAT]:I,[xa.WGS84_COMPARABLE_LON_LAT]:I,[xa.SPHERICAL_ECEF]:ua,[xa.SPHERICAL_MARS_PCPF]:null,[xa.SPHERICAL_MOON_PCPF]:null,[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:R,[xa.PLATE_CARREE]:Y,[xa.WGS84]:I,[xa.WGS84_ECEF]:ia},[xa.CGCS2000]:{[xa.CGCS2000]:I,[xa.GCSMARS2000]:null,[xa.GCSMOON2000]:null,[xa.LON_LAT]:I,[xa.WGS84_COMPARABLE_LON_LAT]:I,[xa.SPHERICAL_ECEF]:ua,[xa.SPHERICAL_MARS_PCPF]:null,
[xa.SPHERICAL_MOON_PCPF]:null,[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:null,[xa.PLATE_CARREE]:Y,[xa.WGS84]:null,[xa.WGS84_ECEF]:ia},[xa.GCSMARS2000]:{[xa.CGCS2000]:null,[xa.GCSMARS2000]:I,[xa.GCSMOON2000]:null,[xa.LON_LAT]:I,[xa.WGS84_COMPARABLE_LON_LAT]:null,[xa.SPHERICAL_ECEF]:null,[xa.SPHERICAL_MARS_PCPF]:ha,[xa.SPHERICAL_MOON_PCPF]:null,[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:null,[xa.PLATE_CARREE]:null,[xa.WGS84]:null,[xa.WGS84_ECEF]:null},[xa.GCSMOON2000]:{[xa.CGCS2000]:null,[xa.GCSMARS2000]:null,[xa.GCSMOON2000]:I,
[xa.LON_LAT]:I,[xa.WGS84_COMPARABLE_LON_LAT]:null,[xa.SPHERICAL_ECEF]:null,[xa.SPHERICAL_MARS_PCPF]:null,[xa.SPHERICAL_MOON_PCPF]:T,[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:null,[xa.PLATE_CARREE]:null,[xa.WGS84]:null,[xa.WGS84_ECEF]:null},[xa.WEB_MERCATOR]:{[xa.CGCS2000]:null,[xa.GCSMARS2000]:null,[xa.GCSMOON2000]:null,[xa.LON_LAT]:S,[xa.WGS84_COMPARABLE_LON_LAT]:S,[xa.SPHERICAL_ECEF]:qa,[xa.SPHERICAL_MARS_PCPF]:null,[xa.SPHERICAL_MOON_PCPF]:null,[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:I,[xa.PLATE_CARREE]:ja,
[xa.WGS84]:S,[xa.WGS84_ECEF]:W},[xa.WGS84_ECEF]:{[xa.CGCS2000]:Da,[xa.GCSMARS2000]:null,[xa.GCSMOON2000]:null,[xa.LON_LAT]:Da,[xa.WGS84_COMPARABLE_LON_LAT]:Da,[xa.SPHERICAL_ECEF]:ya,[xa.SPHERICAL_MARS_PCPF]:null,[xa.SPHERICAL_MOON_PCPF]:null,[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:Ka,[xa.PLATE_CARREE]:function(na,ca,oa,Ia){Da(na,ca,oa,Ia);Y(oa,Ia,oa,Ia)},[xa.WGS84]:Da,[xa.WGS84_ECEF]:I},[xa.SPHERICAL_ECEF]:{[xa.CGCS2000]:wa,[xa.GCSMARS2000]:null,[xa.GCSMOON2000]:null,[xa.LON_LAT]:wa,[xa.WGS84_COMPARABLE_LON_LAT]:wa,
[xa.SPHERICAL_ECEF]:I,[xa.SPHERICAL_MARS_PCPF]:null,[xa.SPHERICAL_MOON_PCPF]:null,[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:Ma,[xa.PLATE_CARREE]:function(na,ca,oa,Ia){wa(na,ca,oa,Ia);Y(oa,Ia,oa,Ia)},[xa.WGS84]:wa,[xa.WGS84_ECEF]:Z},[xa.SPHERICAL_MARS_PCPF]:{[xa.CGCS2000]:null,[xa.GCSMARS2000]:ra,[xa.GCSMOON2000]:null,[xa.LON_LAT]:ra,[xa.WGS84_COMPARABLE_LON_LAT]:null,[xa.SPHERICAL_ECEF]:null,[xa.SPHERICAL_MARS_PCPF]:I,[xa.SPHERICAL_MOON_PCPF]:null,[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:null,[xa.PLATE_CARREE]:null,
[xa.WGS84]:null,[xa.WGS84_ECEF]:null},[xa.SPHERICAL_MOON_PCPF]:{[xa.CGCS2000]:null,[xa.GCSMARS2000]:null,[xa.GCSMOON2000]:da,[xa.LON_LAT]:da,[xa.WGS84_COMPARABLE_LON_LAT]:null,[xa.SPHERICAL_ECEF]:null,[xa.SPHERICAL_MARS_PCPF]:null,[xa.SPHERICAL_MOON_PCPF]:I,[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:null,[xa.PLATE_CARREE]:null,[xa.WGS84]:null,[xa.WGS84_ECEF]:null},[xa.UNKNOWN]:{[xa.CGCS2000]:null,[xa.GCSMARS2000]:null,[xa.GCSMOON2000]:null,[xa.LON_LAT]:null,[xa.WGS84_COMPARABLE_LON_LAT]:null,[xa.SPHERICAL_ECEF]:null,
[xa.SPHERICAL_MARS_PCPF]:null,[xa.SPHERICAL_MOON_PCPF]:null,[xa.UNKNOWN]:I,[xa.WEB_MERCATOR]:null,[xa.PLATE_CARREE]:null,[xa.WGS84]:null,[xa.WGS84_ECEF]:null},[xa.LON_LAT]:{[xa.CGCS2000]:I,[xa.GCSMARS2000]:I,[xa.GCSMOON2000]:I,[xa.LON_LAT]:I,[xa.WGS84_COMPARABLE_LON_LAT]:I,[xa.SPHERICAL_ECEF]:ua,[xa.SPHERICAL_MARS_PCPF]:ha,[xa.SPHERICAL_MOON_PCPF]:T,[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:R,[xa.PLATE_CARREE]:Y,[xa.WGS84]:I,[xa.WGS84_ECEF]:ia},[xa.WGS84_COMPARABLE_LON_LAT]:{[xa.CGCS2000]:null,[xa.GCSMARS2000]:null,
[xa.GCSMOON2000]:null,[xa.LON_LAT]:I,[xa.WGS84_COMPARABLE_LON_LAT]:I,[xa.SPHERICAL_ECEF]:ua,[xa.SPHERICAL_MARS_PCPF]:null,[xa.SPHERICAL_MOON_PCPF]:null,[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:null,[xa.PLATE_CARREE]:Y,[xa.WGS84]:I,[xa.WGS84_ECEF]:ia},[xa.PLATE_CARREE]:{[xa.CGCS2000]:la,[xa.GCSMARS2000]:null,[xa.GCSMOON2000]:null,[xa.LON_LAT]:la,[xa.WGS84_COMPARABLE_LON_LAT]:la,[xa.SPHERICAL_ECEF]:function(na,ca,oa,Ia){la(na,ca,oa,Ia);ua(oa,Ia,oa,Ia)},[xa.SPHERICAL_MARS_PCPF]:null,[xa.SPHERICAL_MOON_PCPF]:null,
[xa.UNKNOWN]:null,[xa.WEB_MERCATOR]:function(na,ca,oa,Ia){la(na,ca,oa,Ia);R(oa,Ia,oa,Ia)},[xa.PLATE_CARREE]:I,[xa.WGS84]:la,[xa.WGS84_ECEF]:function(na,ca,oa,Ia){la(na,ca,oa,Ia);ia(oa,Ia,oa,Ia)}}},Ib={spatialReference:null,spatialReferenceId:xa.UNKNOWN},Ab={spatialReference:null,spatialReferenceId:xa.UNKNOWN},Cb=Ra(),Hb=Ra(),ub=g.deg2rad(1),Bb=g.rad2deg(1),nb=e.create(),rb=e.create(),xb=e.create(),gb=e.create(),zb=e.create();b.canProjectToWGS84ComparableLonLat=function(na){if(null==na)return!1;na=
Qa(na,Ib);return!!qb[na][xa.WGS84_COMPARABLE_LON_LAT]};b.canProjectWithoutEngine=L;b.computeENUToSphericalPCPFLocalRotation=Fa;b.computeSphericalPCPFToENULocalRotation=Na;b.computeTranslationToOriginAndRotation=function(na,ca,oa,Ia){if(null==na||null==Ia)return!1;var Za=Qa(na,Ib),$a=Qa(Ia,Ab);if(Za===$a&&$a!==xa.SPHERICAL_ECEF&&$a!==xa.SPHERICAL_MARS_PCPF&&$a!==xa.SPHERICAL_MOON_PCPF&&(Za!==xa.UNKNOWN||C.equals(na,Ia)))return k.fromTranslation(oa,ca),!0;if($a===xa.SPHERICAL_ECEF||$a===xa.SPHERICAL_MARS_PCPF||
$a===xa.SPHERICAL_MOON_PCPF){Za=qb[Za][xa.LON_LAT];$a=qb[xa.LON_LAT][$a];if(null==Za||null==$a)return!1;Za(ca,0,rb,0);$a(rb,0,xb,0);Fa(ub*rb[0],ub*rb[1],oa);oa[12]=xb[0];oa[13]=xb[1];oa[14]=xb[2];return!0}if(($a===xa.WEB_MERCATOR||$a===xa.PLATE_CARREE)&&(Za===xa.WGS84||Za===xa.CGCS2000&&$a===xa.PLATE_CARREE||Za===xa.SPHERICAL_ECEF||Za===xa.WEB_MERCATOR)){na=qb[Za][xa.LON_LAT];$a=qb[xa.LON_LAT][$a];if(null==na||null==$a)return!1;na(ca,0,rb,0);$a(rb,0,xb,0);Za===xa.SPHERICAL_ECEF?Na(ub*rb[0],ub*rb[1],
oa):k.identity(oa);oa[12]=xb[0];oa[13]=xb[1];oa[14]=xb[2];return!0}return!1};b.getProjectorName=function(na,ca){switch(Pa(na,ca,Cb)){case I:return"copy3";case ua:return"wgs84ToSphericalECEF";case R:return"wgs84ToWebMercator";case Y:return"wgs84ToPlateCarree";case ia:return"wgs84ToWGS84ECEF";case S:return"webMercatorToWGS84";case qa:return"webMercatorToSphericalECEF";case W:return"webMercatorToWGS84ECEF";case ja:return"webMercatorToPlateCarree";case Da:return"wgs84ECEFToWGS84";case ya:return"wgs84ECEFToSphericalECEF";
case Ka:return"wgs84ECEFToWebMercator";case wa:return"sphericalECEFToWGS84";case Ma:return"sphericalECEFToWebMercator";case ra:return"sphericalMarsPCPFToMars2000";case da:return"sphericalMoonPCPFToMoon2000";case Z:return"sphericalECEFToWGS84ECEF";case ha:return"mars2000ToSphericalPCPF";case T:return"moon2000ToSphericalPCPF";default:return null}};b.getTransformation=H;b.getTransformations=function(na,ca,oa=null){if(null==Xa||null==Ta)throw new cb;na=Xa._getTransformationBySuitability(Ta,na,ca,oa,oa?.spatialReference);
if(null!==na){ca=[];for(const Ia of na)ca.push(B.fromGE(Ia));return ca}return[]};b.initializeProjection=async function(na,ca,oa,Ia){if(G())return q.waitTick(Ia);if(Array.isArray(na))for(const {source:Za,dest:$a,geographicTransformation:Va}of na){if(!L(Za,$a,Va))return F(Ia)}else if(!L(na,ca,oa))return F(Ia);return q.waitTick(Ia)};b.isLoaded=G;b.load=F;b.localLinearScaleFactors=function(na,ca,oa,Ia){if(null==ca||null==Ia)return!1;const Za=Qa(ca,Ib);var $a=Qa(Ia,Ab);if(Za===$a&&Za!==xa.UNKNOWN||C.equals(ca,
Ia))return oa[0]=1,oa[1]=1,oa[2]=1,!0;if(Za===xa.SPHERICAL_ECEF){ca=m.length(na);na=ca/Math.sqrt(na[0]*na[0]+na[1]*na[1]);ca/=v.earth.radius;if($a===xa.WEB_MERCATOR)return oa[0]=na*ca,oa[1]=na*ca,oa[2]=1,!0;if($a===xa.WGS84||$a===xa.CGCS2000)return $a=tb,oa[0]=$a*na*ca,oa[1]=$a*ca,oa[2]=1,!0}else if(Za===xa.PLATE_CARREE){if($a===xa.WGS84||$a===xa.CGCS2000)return oa[0]=tb,oa[1]=tb,oa[2]=1,!0;if($a===xa.WEB_MERCATOR)return $a=na[1]/v.earth.radius,oa[0]=1,oa[1]=1/Math.cos($a),oa[2]=1,!0}return!1};b.lonLatToSphericalPCPF=
function(na,ca,oa,Ia){const Za=Math.cos(oa);na[0]=Math.cos(ca)*Za*Ia;na[1]=Math.sin(ca)*Za*Ia;na[2]=Math.sin(oa)*Ia};b.lonLatToWebMercatorComparable=pa;b.project=K;b.projectBoundingRect=function(na,ca,oa,Ia){if(null==na)return!1;if(C.equals(ca,Ia))return w.copy(oa,na),!0;nb[0]=na[0];nb[1]=na[1];nb[2]=0;if(!ta(nb,ca,0,nb,Ia,0,1))return!1;oa[0]=nb[0];oa[1]=nb[1];nb[0]=na[2];nb[1]=na[3];nb[2]=0;if(!ta(nb,ca,0,nb,Ia,0,1))return!1;oa[2]=nb[0];oa[3]=nb[1];return!0};b.projectBoundingSphere=function(na,ca,
oa,Ia){if(null==ca||null==Ia)return!1;ca=Ua(ca,Ia,Hb);if(ca.projector===I)return oa[0]=na[0],oa[1]=na[1],oa[2]=na[2],oa[3]=na[3],!0;if(null==ca.projector)return!1;const {source:Za,dest:$a}=ca;if($a.spatialReferenceId===xa.WEB_MERCATOR){ca=qb[Za.spatialReferenceId][xa.WGS84];if(null==ca)return!1;ca(na,0,rb,0);R(rb,0,oa,0);oa[3]=ka(rb[1],na[2],na[3],v.earth.radius);return!0}if(Za.spatialReferenceId!==xa.WGS84&&Za.spatialReferenceId!==xa.CGCS2000||$a.spatialReferenceId!==xa.PLATE_CARREE)ca.projector(na,
0,oa,0),oa[3]=na[3]*(Za.metersPerUnit??1)/($a.metersPerUnit??1);else{Ia=qb[xa.SPHERICAL_ECEF][xa.PLATE_CARREE];let Va=na[3];null!=qb[Za.spatialReferenceId][xa.SPHERICAL_ECEF]&&null!=Ia&&(Va=ka(na[1],na[2],na[3],v.earth.radius));ca.projector(na,0,oa,0);oa[3]=Va}return!0};b.projectBuffer=ta;b.projectDirection=function(na,ca,oa,Ia,Za){m.copy(gb,na);m.add(zb,na,ca);Aa(gb,oa,gb,Za);Aa(zb,oa,zb,Za);m.subtract(Ia,zb,gb);m.normalize(Ia,Ia)};b.projectExtent=function(na,ca,oa=ca.spatialReference,Ia=0){return null!=
na.spatialReference&&null!=oa&&null!=fa(na,na.spatialReference,ca,oa,Ia)};b.projectMany=M;b.projectMultipoint=function(na,ca,oa=ca.spatialReference,Ia=0){return null!=na.spatialReference&&null!=oa&&null!=X(na,na.spatialReference,ca,oa,Ia)};b.projectOrLoad=function(na,ca){na=O([na],ca);return null!=na.pending?{pending:na.pending,geometry:null}:null!=na.geometries?{pending:null,geometry:na.geometries[0]}:{pending:null,geometry:null}};b.projectOrLoadMany=O;b.projectPoint=function(na,ca,oa=ca.spatialReference,
Ia=0){return null!=oa&&null!=na.spatialReference&&null!=V(na,na.spatialReference,ca,oa,Ia)};b.projectPointToVector=function(na,ca,oa,Ia=0){gb[0]=na.x;gb[1]=na.y;const Za=na.z;gb[2]=void 0!==Za?Za:Ia;return ta(gb,na.spatialReference,0,ca,oa,0,1)};b.projectPointToWGS84ComparableLonLat=function(na,ca){gb[0]=na.x;gb[1]=na.y;const oa=na.z;gb[2]=void 0!==oa?oa:0;return ma(gb,na.spatialReference,ca)};b.projectPolygon=function(na,ca,oa=ca.spatialReference,Ia=0){return null!=na.spatialReference&&null!=oa&&
null!=P(na,na.spatialReference,ca,oa,Ia)};b.projectPolygonToWGS84ComparableLonLat=function({hasZ:na,spatialReference:ca,rings:oa},Ia,Za=0){ca=Qa(ca,Ib);ca=qb[ca][xa.WGS84_COMPARABLE_LON_LAT];if(null==ca)return!1;na=na?$a=>$a:$a=>m.set(gb,$a[0],$a[1],Za);for(const $a of oa){oa=[];for(const Va of $a){const Ya=[0,0,Za];ca(na(Va),0,Ya,0);oa.push(Ya)}Ia.push(oa)}return!0};b.projectPolyline=function(na,ca,oa=ca.spatialReference,Ia=0){return null!=na.spatialReference&&null!=oa&&null!=U(na,na.spatialReference,
ca,oa,Ia)};b.projectPolylineToWGS84ComparableLonLat=function({hasZ:na,spatialReference:ca,paths:oa},Ia,Za=0){ca=Qa(ca,Ib);ca=qb[ca][xa.WGS84_COMPARABLE_LON_LAT];if(null==ca)return!1;na=na?$a=>$a:$a=>m.set(gb,$a[0],$a[1],Za);for(const $a of oa){oa=[];for(const Va of $a){const Ya=[0,0,Za];ca(na(Va),0,Ya,0);oa.push(Ya)}Ia.push(oa)}return!0};b.projectVectorToDehydratedPoint=function(na,ca,oa){return ta(na,ca,0,gb,oa.spatialReference,0,1)?(oa.x=gb[0],oa.y=gb[1],oa.z=gb[2],oa):null};b.projectVectorToPoint=
function(na,ca,oa){if(null==ca||null==oa)return null;const Ia=new r({spatialReference:oa});return ta(na,ca,0,gb,oa,0,1)?(Ia.x=gb[0],Ia.y=gb[1],Ia.z=gb[2],Ia):null};b.projectVectorToVector=Aa;b.projectVectorToWGS84ComparableLonLat=function(na,ca,oa){return ma(na,ca,oa)};b.projectWithoutEngine=N;b.projectXYZToVector=Ba;b.sphericalPCPFtoLonLatElevation=Ea;b.test={get loadPromise(){return za}};b.tryProjectWithZConversion=J;b.unload=function(){za=Ta=Xa=null;Ha={}};Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(a,b,c){function f(I,S){I[0]=S[0];I[1]=S[1];I[2]=S[2];I[3]=S[3];I[4]=S[4];I[5]=S[5];I[6]=S[6];I[7]=S[7];I[8]=S[8];I[9]=S[9];I[10]=S[10];I[11]=S[11];I[12]=S[12];I[13]=S[13];I[14]=S[14];I[15]=S[15];return I}function g(I,S,qa,W,pa,R,Y,la,ja,sa,T,ha,ua,Ea,da,ra,wa){I[0]=S;I[1]=qa;I[2]=W;I[3]=pa;I[4]=R;I[5]=Y;I[6]=la;I[7]=ja;I[8]=sa;I[9]=T;I[10]=ha;I[11]=ua;I[12]=Ea;I[13]=da;I[14]=ra;I[15]=wa;return I}
function q(I){I[0]=1;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=1;I[6]=0;I[7]=0;I[8]=0;I[9]=0;I[10]=1;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function u(I,S){if(I===S){const qa=S[1],W=S[2],pa=S[3],R=S[6],Y=S[7],la=S[11];I[1]=S[4];I[2]=S[8];I[3]=S[12];I[4]=qa;I[6]=S[9];I[7]=S[13];I[8]=W;I[9]=R;I[11]=S[14];I[12]=pa;I[13]=Y;I[14]=la}else I[0]=S[0],I[1]=S[4],I[2]=S[8],I[3]=S[12],I[4]=S[1],I[5]=S[5],I[6]=S[9],I[7]=S[13],I[8]=S[2],I[9]=S[6],I[10]=S[10],I[11]=S[14],I[12]=S[3],I[13]=S[7],I[14]=S[11],I[15]=
S[15];return I}function p(I,S){t(I,S)||q(I);return I}function t(I,S){const qa=S[0],W=S[1],pa=S[2],R=S[3],Y=S[4],la=S[5],ja=S[6],sa=S[7],T=S[8],ha=S[9],ua=S[10],Ea=S[11],da=S[12],ra=S[13],wa=S[14];S=S[15];const Ma=qa*la-W*Y,Z=qa*ja-pa*Y,ia=qa*sa-R*Y,Da=W*ja-pa*la,ya=W*sa-R*la,Ka=pa*sa-R*ja,Pa=T*ra-ha*da,Ua=T*wa-ua*da,Ra=T*S-Ea*da,Xa=ha*wa-ua*ra,Ta=ha*S-Ea*ra,za=ua*S-Ea*wa;let Ha=Ma*za-Z*Ta+ia*Xa+Da*Ra-ya*Ua+Ka*Pa;if(!Ha)return null;Ha=1/Ha;I[0]=(la*za-ja*Ta+sa*Xa)*Ha;I[1]=(pa*Ta-W*za-R*Xa)*Ha;I[2]=
(ra*Ka-wa*ya+S*Da)*Ha;I[3]=(ua*ya-ha*Ka-Ea*Da)*Ha;I[4]=(ja*Ra-Y*za-sa*Ua)*Ha;I[5]=(qa*za-pa*Ra+R*Ua)*Ha;I[6]=(wa*ia-da*Ka-S*Z)*Ha;I[7]=(T*Ka-ua*ia+Ea*Z)*Ha;I[8]=(Y*Ta-la*Ra+sa*Pa)*Ha;I[9]=(W*Ra-qa*Ta-R*Pa)*Ha;I[10]=(da*ya-ra*ia+S*Ma)*Ha;I[11]=(ha*ia-T*ya-Ea*Ma)*Ha;I[12]=(la*Ua-Y*Xa-ja*Pa)*Ha;I[13]=(qa*Xa-W*Ua+pa*Pa)*Ha;I[14]=(ra*Z-da*Da-wa*Ma)*Ha;I[15]=(T*Da-ha*Z+ua*Ma)*Ha;return I}function k(I,S){const qa=S[0],W=S[1],pa=S[2],R=S[3],Y=S[4],la=S[5],ja=S[6],sa=S[7],T=S[8],ha=S[9],ua=S[10],Ea=S[11],
da=S[12],ra=S[13],wa=S[14];S=S[15];I[0]=la*(ua*S-Ea*wa)-ha*(ja*S-sa*wa)+ra*(ja*Ea-sa*ua);I[1]=-(W*(ua*S-Ea*wa)-ha*(pa*S-R*wa)+ra*(pa*Ea-R*ua));I[2]=W*(ja*S-sa*wa)-la*(pa*S-R*wa)+ra*(pa*sa-R*ja);I[3]=-(W*(ja*Ea-sa*ua)-la*(pa*Ea-R*ua)+ha*(pa*sa-R*ja));I[4]=-(Y*(ua*S-Ea*wa)-T*(ja*S-sa*wa)+da*(ja*Ea-sa*ua));I[5]=qa*(ua*S-Ea*wa)-T*(pa*S-R*wa)+da*(pa*Ea-R*ua);I[6]=-(qa*(ja*S-sa*wa)-Y*(pa*S-R*wa)+da*(pa*sa-R*ja));I[7]=qa*(ja*Ea-sa*ua)-Y*(pa*Ea-R*ua)+T*(pa*sa-R*ja);I[8]=Y*(ha*S-Ea*ra)-T*(la*S-sa*ra)+da*(la*
Ea-sa*ha);I[9]=-(qa*(ha*S-Ea*ra)-T*(W*S-R*ra)+da*(W*Ea-R*ha));I[10]=qa*(la*S-sa*ra)-Y*(W*S-R*ra)+da*(W*sa-R*la);I[11]=-(qa*(la*Ea-sa*ha)-Y*(W*Ea-R*ha)+T*(W*sa-R*la));I[12]=-(Y*(ha*wa-ua*ra)-T*(la*wa-ja*ra)+da*(la*ua-ja*ha));I[13]=qa*(ha*wa-ua*ra)-T*(W*wa-pa*ra)+da*(W*ua-pa*ha);I[14]=-(qa*(la*wa-ja*ra)-Y*(W*wa-pa*ra)+da*(W*ja-pa*la));I[15]=qa*(la*ua-ja*ha)-Y*(W*ua-pa*ha)+T*(W*ja-pa*la);return I}function m(I){const S=I[0],qa=I[1],W=I[2],pa=I[3],R=I[4],Y=I[5],la=I[6],ja=I[7],sa=I[8],T=I[9],ha=I[10],
ua=I[11],Ea=I[12],da=I[13],ra=I[14];I=I[15];return(S*Y-qa*R)*(ha*I-ua*ra)-(S*la-W*R)*(T*I-ua*da)+(S*ja-pa*R)*(T*ra-ha*da)+(qa*la-W*Y)*(sa*I-ua*Ea)-(qa*ja-pa*Y)*(sa*ra-ha*Ea)+(W*ja-pa*la)*(sa*da-T*Ea)}function e(I,S,qa){const W=S[0],pa=S[1],R=S[2],Y=S[3],la=S[4],ja=S[5],sa=S[6],T=S[7],ha=S[8],ua=S[9],Ea=S[10],da=S[11],ra=S[12],wa=S[13],Ma=S[14];S=S[15];let Z=qa[0],ia=qa[1],Da=qa[2],ya=qa[3];I[0]=Z*W+ia*la+Da*ha+ya*ra;I[1]=Z*pa+ia*ja+Da*ua+ya*wa;I[2]=Z*R+ia*sa+Da*Ea+ya*Ma;I[3]=Z*Y+ia*T+Da*da+ya*S;Z=
qa[4];ia=qa[5];Da=qa[6];ya=qa[7];I[4]=Z*W+ia*la+Da*ha+ya*ra;I[5]=Z*pa+ia*ja+Da*ua+ya*wa;I[6]=Z*R+ia*sa+Da*Ea+ya*Ma;I[7]=Z*Y+ia*T+Da*da+ya*S;Z=qa[8];ia=qa[9];Da=qa[10];ya=qa[11];I[8]=Z*W+ia*la+Da*ha+ya*ra;I[9]=Z*pa+ia*ja+Da*ua+ya*wa;I[10]=Z*R+ia*sa+Da*Ea+ya*Ma;I[11]=Z*Y+ia*T+Da*da+ya*S;Z=qa[12];ia=qa[13];Da=qa[14];ya=qa[15];I[12]=Z*W+ia*la+Da*ha+ya*ra;I[13]=Z*pa+ia*ja+Da*ua+ya*wa;I[14]=Z*R+ia*sa+Da*Ea+ya*Ma;I[15]=Z*Y+ia*T+Da*da+ya*S;return I}function d(I,S,qa){const W=qa[0],pa=qa[1];qa=qa[2];if(S===
I)I[12]=S[0]*W+S[4]*pa+S[8]*qa+S[12],I[13]=S[1]*W+S[5]*pa+S[9]*qa+S[13],I[14]=S[2]*W+S[6]*pa+S[10]*qa+S[14],I[15]=S[3]*W+S[7]*pa+S[11]*qa+S[15];else{const R=S[0],Y=S[1],la=S[2],ja=S[3],sa=S[4],T=S[5],ha=S[6],ua=S[7],Ea=S[8],da=S[9],ra=S[10],wa=S[11];I[0]=R;I[1]=Y;I[2]=la;I[3]=ja;I[4]=sa;I[5]=T;I[6]=ha;I[7]=ua;I[8]=Ea;I[9]=da;I[10]=ra;I[11]=wa;I[12]=R*W+sa*pa+Ea*qa+S[12];I[13]=Y*W+T*pa+da*qa+S[13];I[14]=la*W+ha*pa+ra*qa+S[14];I[15]=ja*W+ua*pa+wa*qa+S[15]}return I}function l(I,S,qa){const W=qa[0],pa=
qa[1];qa=qa[2];I[0]=S[0]*W;I[1]=S[1]*W;I[2]=S[2]*W;I[3]=S[3]*W;I[4]=S[4]*pa;I[5]=S[5]*pa;I[6]=S[6]*pa;I[7]=S[7]*pa;I[8]=S[8]*qa;I[9]=S[9]*qa;I[10]=S[10]*qa;I[11]=S[11]*qa;I[12]=S[12];I[13]=S[13];I[14]=S[14];I[15]=S[15];return I}function n(I,S,qa,W){let pa=W[0],R=W[1];W=W[2];let Y=Math.sqrt(pa*pa+R*R+W*W);var la=void 0,ja=void 0;let sa=void 0,T=void 0,ha=void 0,ua=void 0,Ea=void 0,da=void 0,ra=void 0,wa=void 0,Ma=void 0,Z=void 0,ia=void 0,Da=void 0,ya=void 0,Ka=void 0,Pa=void 0,Ua=void 0,Ra=void 0,
Xa=void 0,Ta=void 0,za=void 0;ja=la=void 0;if(Y<c.getEpsilon())return null;Y=1/Y;pa*=Y;R*=Y;W*=Y;la=Math.sin(qa);ja=Math.cos(qa);sa=1-ja;T=S[0];ha=S[1];ua=S[2];Ea=S[3];da=S[4];ra=S[5];wa=S[6];Ma=S[7];Z=S[8];ia=S[9];Da=S[10];ya=S[11];Ka=pa*pa*sa+ja;Pa=R*pa*sa+W*la;Ua=W*pa*sa-R*la;Ra=pa*R*sa-W*la;Xa=R*R*sa+ja;Ta=W*R*sa+pa*la;za=pa*W*sa+R*la;la=R*W*sa-pa*la;ja=W*W*sa+ja;I[0]=T*Ka+da*Pa+Z*Ua;I[1]=ha*Ka+ra*Pa+ia*Ua;I[2]=ua*Ka+wa*Pa+Da*Ua;I[3]=Ea*Ka+Ma*Pa+ya*Ua;I[4]=T*Ra+da*Xa+Z*Ta;I[5]=ha*Ra+ra*Xa+ia*
Ta;I[6]=ua*Ra+wa*Xa+Da*Ta;I[7]=Ea*Ra+Ma*Xa+ya*Ta;I[8]=T*za+da*la+Z*ja;I[9]=ha*za+ra*la+ia*ja;I[10]=ua*za+wa*la+Da*ja;I[11]=Ea*za+Ma*la+ya*ja;S!==I&&(I[12]=S[12],I[13]=S[13],I[14]=S[14],I[15]=S[15]);return I}function h(I,S,qa){const W=Math.sin(qa);qa=Math.cos(qa);const pa=S[4],R=S[5],Y=S[6],la=S[7],ja=S[8],sa=S[9],T=S[10],ha=S[11];S!==I&&(I[0]=S[0],I[1]=S[1],I[2]=S[2],I[3]=S[3],I[12]=S[12],I[13]=S[13],I[14]=S[14],I[15]=S[15]);I[4]=pa*qa+ja*W;I[5]=R*qa+sa*W;I[6]=Y*qa+T*W;I[7]=la*qa+ha*W;I[8]=ja*qa-
pa*W;I[9]=sa*qa-R*W;I[10]=T*qa-Y*W;I[11]=ha*qa-la*W;return I}function r(I,S,qa){const W=Math.sin(qa);qa=Math.cos(qa);const pa=S[0],R=S[1],Y=S[2],la=S[3],ja=S[8],sa=S[9],T=S[10],ha=S[11];S!==I&&(I[4]=S[4],I[5]=S[5],I[6]=S[6],I[7]=S[7],I[12]=S[12],I[13]=S[13],I[14]=S[14],I[15]=S[15]);I[0]=pa*qa-ja*W;I[1]=R*qa-sa*W;I[2]=Y*qa-T*W;I[3]=la*qa-ha*W;I[8]=pa*W+ja*qa;I[9]=R*W+sa*qa;I[10]=Y*W+T*qa;I[11]=la*W+ha*qa;return I}function z(I,S,qa){const W=Math.sin(qa);qa=Math.cos(qa);const pa=S[0],R=S[1],Y=S[2],la=
S[3],ja=S[4],sa=S[5],T=S[6],ha=S[7];S!==I&&(I[8]=S[8],I[9]=S[9],I[10]=S[10],I[11]=S[11],I[12]=S[12],I[13]=S[13],I[14]=S[14],I[15]=S[15]);I[0]=pa*qa+ja*W;I[1]=R*qa+sa*W;I[2]=Y*qa+T*W;I[3]=la*qa+ha*W;I[4]=ja*qa-pa*W;I[5]=sa*qa-R*W;I[6]=T*qa-Y*W;I[7]=ha*qa-la*W;return I}function x(I,S){I[0]=1;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=1;I[6]=0;I[7]=0;I[8]=0;I[9]=0;I[10]=1;I[11]=0;I[12]=S[0];I[13]=S[1];I[14]=S[2];I[15]=1;return I}function w(I,S){I[0]=S[0];I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=S[1];I[6]=0;I[7]=0;I[8]=
0;I[9]=0;I[10]=S[2];I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function v(I,S,qa){if(0===S)return q(I);let W=qa[0],pa=qa[1];qa=qa[2];let R=Math.sqrt(W*W+pa*pa+qa*qa),Y=void 0,la=void 0,ja=void 0;if(R<c.getEpsilon())return null;R=1/R;W*=R;pa*=R;qa*=R;Y=Math.sin(S);la=Math.cos(S);ja=1-la;I[0]=W*W*ja+la;I[1]=pa*W*ja+qa*Y;I[2]=qa*W*ja-pa*Y;I[3]=0;I[4]=W*pa*ja-qa*Y;I[5]=pa*pa*ja+la;I[6]=qa*pa*ja+W*Y;I[7]=0;I[8]=W*qa*ja+pa*Y;I[9]=pa*qa*ja-W*Y;I[10]=qa*qa*ja+la;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=
1;return I}function A(I,S){const qa=Math.sin(S);S=Math.cos(S);I[0]=1;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=S;I[6]=qa;I[7]=0;I[8]=0;I[9]=-qa;I[10]=S;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function B(I,S){const qa=Math.sin(S);S=Math.cos(S);I[0]=S;I[1]=0;I[2]=-qa;I[3]=0;I[4]=0;I[5]=1;I[6]=0;I[7]=0;I[8]=qa;I[9]=0;I[10]=S;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function C(I,S){const qa=Math.sin(S);S=Math.cos(S);I[0]=S;I[1]=qa;I[2]=0;I[3]=0;I[4]=-qa;I[5]=S;I[6]=0;I[7]=0;I[8]=0;I[9]=0;I[10]=
1;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function D(I,S,qa){var W=S[0],pa=S[1],R=S[2],Y=S[3],la=W+W,ja=pa+pa;const sa=R+R;S=W*la;const T=W*ja;W*=sa;const ha=pa*ja;pa*=sa;R*=sa;la*=Y;ja*=Y;Y*=sa;I[0]=1-(ha+R);I[1]=T+Y;I[2]=W-ja;I[3]=0;I[4]=T-Y;I[5]=1-(S+R);I[6]=pa+la;I[7]=0;I[8]=W+ja;I[9]=pa-la;I[10]=1-(S+ha);I[11]=0;I[12]=qa[0];I[13]=qa[1];I[14]=qa[2];I[15]=1;return I}function y(I,S){const qa=Qa,W=-S[0],pa=-S[1],R=-S[2],Y=S[3],la=S[4],ja=S[5],sa=S[6],T=S[7],ha=W*W+pa*pa+R*R+Y*Y;0<ha?(qa[0]=
2*(la*Y+T*W+ja*R-sa*pa)/ha,qa[1]=2*(ja*Y+T*pa+sa*W-la*R)/ha,qa[2]=2*(sa*Y+T*R+la*pa-ja*W)/ha):(qa[0]=2*(la*Y+T*W+ja*R-sa*pa),qa[1]=2*(ja*Y+T*pa+sa*W-la*R),qa[2]=2*(sa*Y+T*R+la*pa-ja*W));D(I,S,qa);return I}function G(I,S){I[0]=S[12];I[1]=S[13];I[2]=S[14];return I}function F(I,S){const qa=S[0],W=S[1],pa=S[2],R=S[4],Y=S[5],la=S[6],ja=S[8],sa=S[9];S=S[10];I[0]=Math.sqrt(qa*qa+W*W+pa*pa);I[1]=Math.sqrt(R*R+Y*Y+la*la);I[2]=Math.sqrt(ja*ja+sa*sa+S*S);return I}function K(I,S){const qa=S[0]+S[5]+S[10];let W=
0;0<qa?(W=2*Math.sqrt(qa+1),I[3]=.25*W,I[0]=(S[6]-S[9])/W,I[1]=(S[8]-S[2])/W,I[2]=(S[1]-S[4])/W):S[0]>S[5]&&S[0]>S[10]?(W=2*Math.sqrt(1+S[0]-S[5]-S[10]),I[3]=(S[6]-S[9])/W,I[0]=.25*W,I[1]=(S[1]+S[4])/W,I[2]=(S[8]+S[2])/W):S[5]>S[10]?(W=2*Math.sqrt(1+S[5]-S[0]-S[10]),I[3]=(S[8]-S[2])/W,I[0]=(S[1]+S[4])/W,I[1]=.25*W,I[2]=(S[6]+S[9])/W):(W=2*Math.sqrt(1+S[10]-S[0]-S[5]),I[3]=(S[1]-S[4])/W,I[0]=(S[8]+S[2])/W,I[1]=(S[6]+S[9])/W,I[2]=.25*W);return I}function M(I,S,qa,W){var pa=S[0],R=S[1],Y=S[2],la=S[3],
ja=pa+pa,sa=R+R,T=Y+Y;S=pa*ja;const ha=pa*sa;pa*=T;const ua=R*sa;R*=T;Y*=T;ja*=la;sa*=la;la*=T;T=W[0];const Ea=W[1];W=W[2];I[0]=(1-(ua+Y))*T;I[1]=(ha+la)*T;I[2]=(pa-sa)*T;I[3]=0;I[4]=(ha-la)*Ea;I[5]=(1-(S+Y))*Ea;I[6]=(R+ja)*Ea;I[7]=0;I[8]=(pa+sa)*W;I[9]=(R-ja)*W;I[10]=(1-(S+ua))*W;I[11]=0;I[12]=qa[0];I[13]=qa[1];I[14]=qa[2];I[15]=1;return I}function O(I,S,qa,W,pa){var R=S[0],Y=S[1],la=S[2],ja=S[3],sa=R+R,T=Y+Y,ha=la+la;S=R*sa;var ua=R*T,Ea=R*ha;R=Y*T;Y*=ha;var da=la*ha;la=ja*sa;T*=ja;const ra=ja*
ha;var wa=W[0],Ma=W[1];ha=W[2];W=pa[0];ja=pa[1];pa=pa[2];sa=(1-(R+da))*wa;const Z=(ua+ra)*wa;wa*=Ea-T;ua=(ua-ra)*Ma;da=(1-(S+da))*Ma;Ma*=Y+la;Ea=(Ea+T)*ha;Y=(Y-la)*ha;S=(1-(S+R))*ha;I[0]=sa;I[1]=Z;I[2]=wa;I[3]=0;I[4]=ua;I[5]=da;I[6]=Ma;I[7]=0;I[8]=Ea;I[9]=Y;I[10]=S;I[11]=0;I[12]=qa[0]+W-(sa*W+ua*ja+Ea*pa);I[13]=qa[1]+ja-(Z*W+da*ja+Y*pa);I[14]=qa[2]+pa-(wa*W+Ma*ja+S*pa);I[15]=1;return I}function H(I,S){var qa=S[0],W=S[1],pa=S[2];S=S[3];var R=qa+qa,Y=W+W;const la=pa+pa;qa*=R;const ja=W*R;W*=Y;const sa=
pa*R,T=pa*Y;pa*=la;R*=S;Y*=S;S*=la;I[0]=1-W-pa;I[1]=ja+S;I[2]=sa-Y;I[3]=0;I[4]=ja-S;I[5]=1-qa-pa;I[6]=T+R;I[7]=0;I[8]=sa+Y;I[9]=T-R;I[10]=1-qa-W;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function J(I,S,qa,W,pa,R,Y){const la=1/(qa-S),ja=1/(pa-W),sa=1/(R-Y);I[0]=2*R*la;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=2*R*ja;I[6]=0;I[7]=0;I[8]=(qa+S)*la;I[9]=(pa+W)*ja;I[10]=(Y+R)*sa;I[11]=-1;I[12]=0;I[13]=0;I[14]=Y*R*2*sa;I[15]=0;return I}function L(I,S,qa,W,pa){S=1/Math.tan(S/2);let R=void 0;I[0]=S/qa;I[1]=
0;I[2]=0;I[3]=0;I[4]=0;I[5]=S;I[6]=0;I[7]=0;I[8]=0;I[9]=0;I[11]=-1;I[12]=0;I[13]=0;I[15]=0;null!=pa&&Infinity!==pa?(R=1/(W-pa),I[10]=(pa+W)*R,I[14]=2*pa*W*R):(I[10]=-1,I[14]=-2*W);return I}function N(I,S,qa,W){const pa=Math.tan(S.upDegrees*Math.PI/180),R=Math.tan(S.downDegrees*Math.PI/180),Y=Math.tan(S.leftDegrees*Math.PI/180);S=Math.tan(S.rightDegrees*Math.PI/180);const la=2/(Y+S),ja=2/(pa+R);I[0]=la;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=ja;I[6]=0;I[7]=0;I[8]=-((Y-S)*la*.5);I[9]=(pa-R)*ja*.5;I[10]=W/
(qa-W);I[11]=-1;I[12]=0;I[13]=0;I[14]=W*qa/(qa-W);I[15]=0;return I}function V(I,S,qa,W,pa,R,Y){const la=1/(S-qa),ja=1/(W-pa),sa=1/(R-Y);I[0]=-2*la;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=-2*ja;I[6]=0;I[7]=0;I[8]=0;I[9]=0;I[10]=2*sa;I[11]=0;I[12]=(S+qa)*la;I[13]=(pa+W)*ja;I[14]=(Y+R)*sa;I[15]=1;return I}function X(I,S,qa,W){const pa=S[0],R=S[1];S=S[2];let Y=pa-qa[0],la=R-qa[1];qa=S-qa[2];var ja=c.getEpsilon();if(Math.abs(Y)<ja&&Math.abs(la)<ja&&Math.abs(qa)<ja)q(I);else{var sa=1/Math.sqrt(Y*Y+la*la+qa*qa);
Y*=sa;la*=sa;qa*=sa;sa=W[0];var T=W[1];ja=W[2];W=T*qa-ja*la;ja=ja*Y-sa*qa;T=sa*la-T*Y;(sa=Math.sqrt(W*W+ja*ja+T*T))?(sa=1/sa,W*=sa,ja*=sa,T*=sa):T=ja=W=0;var ha=la*T-qa*ja,ua=qa*W-Y*T,Ea=Y*ja-la*W;(sa=Math.sqrt(ha*ha+ua*ua+Ea*Ea))?(sa=1/sa,ha*=sa,ua*=sa,Ea*=sa):Ea=ua=ha=0;I[0]=W;I[1]=ha;I[2]=Y;I[3]=0;I[4]=ja;I[5]=ua;I[6]=la;I[7]=0;I[8]=T;I[9]=Ea;I[10]=qa;I[11]=0;I[12]=-(W*pa+ja*R+T*S);I[13]=-(ha*pa+ua*R+Ea*S);I[14]=-(Y*pa+la*R+qa*S);I[15]=1}}function U(I,S,qa,W){const pa=S[0],R=S[1];S=S[2];var Y=
W[0];const la=W[1];var ja=W[2];W=pa-qa[0];let sa=R-qa[1];qa=S-qa[2];let T=W*W+sa*sa+qa*qa;0<T&&(T=1/Math.sqrt(T),W*=T,sa*=T,qa*=T);let ha=la*qa-ja*sa;ja=ja*W-Y*qa;Y=Y*sa-la*W;T=ha*ha+ja*ja+Y*Y;0<T&&(T=1/Math.sqrt(T),ha*=T,ja*=T,Y*=T);I[0]=ha;I[1]=ja;I[2]=Y;I[3]=0;I[4]=sa*Y-qa*ja;I[5]=qa*ha-W*Y;I[6]=W*ja-sa*ha;I[7]=0;I[8]=W;I[9]=sa;I[10]=qa;I[11]=0;I[12]=pa;I[13]=R;I[14]=S;I[15]=1;return I}function P(I){return"mat4("+I[0]+", "+I[1]+", "+I[2]+", "+I[3]+", "+I[4]+", "+I[5]+", "+I[6]+", "+I[7]+", "+I[8]+
", "+I[9]+", "+I[10]+", "+I[11]+", "+I[12]+", "+I[13]+", "+I[14]+", "+I[15]+")"}function fa(I){return Math.sqrt(I[0]**2+I[1]**2+I[2]**2+I[3]**2+I[4]**2+I[5]**2+I[6]**2+I[7]**2+I[8]**2+I[9]**2+I[10]**2+I[11]**2+I[12]**2+I[13]**2+I[14]**2+I[15]**2)}function Ba(I,S,qa){I[0]=S[0]+qa[0];I[1]=S[1]+qa[1];I[2]=S[2]+qa[2];I[3]=S[3]+qa[3];I[4]=S[4]+qa[4];I[5]=S[5]+qa[5];I[6]=S[6]+qa[6];I[7]=S[7]+qa[7];I[8]=S[8]+qa[8];I[9]=S[9]+qa[9];I[10]=S[10]+qa[10];I[11]=S[11]+qa[11];I[12]=S[12]+qa[12];I[13]=S[13]+qa[13];
I[14]=S[14]+qa[14];I[15]=S[15]+qa[15];return I}function Aa(I,S,qa){I[0]=S[0]-qa[0];I[1]=S[1]-qa[1];I[2]=S[2]-qa[2];I[3]=S[3]-qa[3];I[4]=S[4]-qa[4];I[5]=S[5]-qa[5];I[6]=S[6]-qa[6];I[7]=S[7]-qa[7];I[8]=S[8]-qa[8];I[9]=S[9]-qa[9];I[10]=S[10]-qa[10];I[11]=S[11]-qa[11];I[12]=S[12]-qa[12];I[13]=S[13]-qa[13];I[14]=S[14]-qa[14];I[15]=S[15]-qa[15];return I}function ma(I,S,qa){I[0]=S[0]*qa;I[1]=S[1]*qa;I[2]=S[2]*qa;I[3]=S[3]*qa;I[4]=S[4]*qa;I[5]=S[5]*qa;I[6]=S[6]*qa;I[7]=S[7]*qa;I[8]=S[8]*qa;I[9]=S[9]*qa;I[10]=
S[10]*qa;I[11]=S[11]*qa;I[12]=S[12]*qa;I[13]=S[13]*qa;I[14]=S[14]*qa;I[15]=S[15]*qa;return I}function ta(I,S,qa,W){I[0]=S[0]+qa[0]*W;I[1]=S[1]+qa[1]*W;I[2]=S[2]+qa[2]*W;I[3]=S[3]+qa[3]*W;I[4]=S[4]+qa[4]*W;I[5]=S[5]+qa[5]*W;I[6]=S[6]+qa[6]*W;I[7]=S[7]+qa[7]*W;I[8]=S[8]+qa[8]*W;I[9]=S[9]+qa[9]*W;I[10]=S[10]+qa[10]*W;I[11]=S[11]+qa[11]*W;I[12]=S[12]+qa[12]*W;I[13]=S[13]+qa[13]*W;I[14]=S[14]+qa[14]*W;I[15]=S[15]+qa[15]*W;return I}function ba(I,S){return I[0]===S[0]&&I[1]===S[1]&&I[2]===S[2]&&I[3]===S[3]&&
I[4]===S[4]&&I[5]===S[5]&&I[6]===S[6]&&I[7]===S[7]&&I[8]===S[8]&&I[9]===S[9]&&I[10]===S[10]&&I[11]===S[11]&&I[12]===S[12]&&I[13]===S[13]&&I[14]===S[14]&&I[15]===S[15]}function ka(I,S){if(I===S)return!0;const qa=I[0],W=I[1],pa=I[2],R=I[3],Y=I[4],la=I[5],ja=I[6],sa=I[7],T=I[8],ha=I[9],ua=I[10],Ea=I[11],da=I[12],ra=I[13],wa=I[14];I=I[15];const Ma=S[0],Z=S[1],ia=S[2],Da=S[3],ya=S[4],Ka=S[5],Pa=S[6],Ua=S[7],Ra=S[8],Xa=S[9],Ta=S[10],za=S[11],Ha=S[12],ab=S[13],cb=S[14];S=S[15];const xa=c.getEpsilon();return Math.abs(qa-
Ma)<=xa*Math.max(1,Math.abs(qa),Math.abs(Ma))&&Math.abs(W-Z)<=xa*Math.max(1,Math.abs(W),Math.abs(Z))&&Math.abs(pa-ia)<=xa*Math.max(1,Math.abs(pa),Math.abs(ia))&&Math.abs(R-Da)<=xa*Math.max(1,Math.abs(R),Math.abs(Da))&&Math.abs(Y-ya)<=xa*Math.max(1,Math.abs(Y),Math.abs(ya))&&Math.abs(la-Ka)<=xa*Math.max(1,Math.abs(la),Math.abs(Ka))&&Math.abs(ja-Pa)<=xa*Math.max(1,Math.abs(ja),Math.abs(Pa))&&Math.abs(sa-Ua)<=xa*Math.max(1,Math.abs(sa),Math.abs(Ua))&&Math.abs(T-Ra)<=xa*Math.max(1,Math.abs(T),Math.abs(Ra))&&
Math.abs(ha-Xa)<=xa*Math.max(1,Math.abs(ha),Math.abs(Xa))&&Math.abs(ua-Ta)<=xa*Math.max(1,Math.abs(ua),Math.abs(Ta))&&Math.abs(Ea-za)<=xa*Math.max(1,Math.abs(Ea),Math.abs(za))&&Math.abs(da-Ha)<=xa*Math.max(1,Math.abs(da),Math.abs(Ha))&&Math.abs(ra-ab)<=xa*Math.max(1,Math.abs(ra),Math.abs(ab))&&Math.abs(wa-cb)<=xa*Math.max(1,Math.abs(wa),Math.abs(cb))&&Math.abs(I-S)<=xa*Math.max(1,Math.abs(I),Math.abs(S))}function Fa(I){const S=c.getEpsilon(),qa=I[0],W=I[1],pa=I[2],R=I[4],Y=I[5],la=I[6],ja=I[8],sa=
I[9];I=I[10];return Math.abs(1-(qa*qa+R*R+ja*ja))<=S&&Math.abs(1-(W*W+Y*Y+sa*sa))<=S&&Math.abs(1-(pa*pa+la*la+I*I))<=S}function Na(I){return 1===I[0]&&0===I[1]&&0===I[2]&&0===I[4]&&1===I[5]&&0===I[6]&&0===I[8]&&0===I[9]&&1===I[10]}const Qa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:Ba,adjoint:k,copy:f,determinant:m,equals:ka,exactEquals:ba,frob:fa,fromQuat:H,fromQuat2:y,fromRotation:v,fromRotationTranslation:D,fromRotationTranslationScale:M,fromRotationTranslationScaleOrigin:O,
fromScaling:w,fromTranslation:x,fromXRotation:A,fromYRotation:B,fromZRotation:C,frustum:J,getRotation:K,getScaling:F,getTranslation:G,hasIdentityRotation:Na,identity:q,invert:t,invertOrIdentity:p,isOrthoNormal:Fa,lookAt:X,mul:e,multiply:e,multiplyScalar:ma,multiplyScalarAndAdd:ta,ortho:V,perspective:L,perspectiveFromFieldOfView:N,rotate:n,rotateX:h,rotateY:r,rotateZ:z,scale:l,set:g,str:P,sub:Aa,subtract:Aa,targetTo:U,translate:d,transpose:u},Symbol.toStringTag,{value:"Module"}));a.add=Ba;a.adjoint=
k;a.copy=f;a.determinant=m;a.equals=ka;a.exactEquals=ba;a.frob=fa;a.fromQuat=H;a.fromQuat2=y;a.fromRotation=v;a.fromRotationTranslation=D;a.fromRotationTranslationScale=M;a.fromRotationTranslationScaleOrigin=O;a.fromScaling=w;a.fromTranslation=x;a.fromXRotation=A;a.fromYRotation=B;a.fromZRotation=C;a.frustum=J;a.getRotation=K;a.getScaling=F;a.getTranslation=G;a.hasIdentityRotation=Na;a.identity=q;a.invert=t;a.invertOrIdentity=p;a.isOrthoNormal=Fa;a.lookAt=X;a.mat4=b;a.mul=e;a.multiply=e;a.multiplyScalar=
ma;a.multiplyScalarAndAdd=ta;a.ortho=V;a.perspective=L;a.perspectiveFromFieldOfView=N;a.rotate=n;a.rotateX=h;a.rotateY=r;a.rotateZ=z;a.scale=l;a.set=g;a.str=P;a.sub=Aa;a.subtract=Aa;a.targetTo=U;a.translate=d;a.transpose=u})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(a,b,c,f,g){function q(){return!!b._pe}function u(){return!!g("esri-wasm")}function p(){return l?l:l=(new Promise((h,r)=>a(["./pe-wasm"],h,r))).then(h=>h.peWasm).then(({default:h})=>
h({locateFile:r=>f.getAssetUrl(`esri/geometry/support/${r}`)})).then(h=>{t(h)})}function t(h){function r(w,v,A){w[v]=A(w[v])}b._pe=h;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=function(w){function v(){return w.apply(this,arguments)||this}c._inherits(v,w);v.prototype.destroy=function(){b._pe.destroy(this)};return c._createClass(v)}(b._pe.PeGCSExtent);h=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,
b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var z of h)r(z.prototype,"getName",w=>function(){return w.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const w of[b._pe.PeGeogtran,b._pe.PeProjcs])r(w.prototype,"getParameters",v=>function(){const A=Array(b.PeDefs.PE_PARM_MAX);let B=v.call(this);for(let C=0;C<A.length;C++){const D=b._pe.getValue(B,"*");A[C]=D?b._pe.wrapPointer(D,b._pe.PeParameter):null;B+=Int32Array.BYTES_PER_ELEMENT}return A});r(b._pe.PeHorizon.prototype,"getCoord",
w=>function(){const v=this.getSize();if(!v)return null;const A=[],B=w.call(this);d(A,v,B);return A});r(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",w=>{const v=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let A=null;var B=w.call(this);if(!b._pe.compare(B,b._pe.NULL)){A=[B];const C=this.getSteps();if(1<C){B=b._pe.getPointer(B);for(let D=1;D<C;D++)A.push(b._pe.wrapPointer(B+v*D,b._pe.PeGTlistExtendedGTs))}}return A}});const x=b._pe._pe_getPeHorizonSize();z=w=>function(){let v=this._cache;
v||(this._cache=v=new Map);if(v.has(w))return v.get(w);let A=null;var B=w.call(this);if(!b._pe.compare(B,b._pe.NULL)){A=[B];const C=B.getNump();if(1<C){B=b._pe.getPointer(B);for(let D=1;D<C;D++)A.push(b._pe.wrapPointer(B+x*D,b._pe.PeHorizon))}}v.set(w,A);return A};r(b._pe.PeProjcs.prototype,"horizonGcsGenerate",z);r(b._pe.PeProjcs.prototype,"horizonPcsGenerate",z);b._pe.PeObject.prototype.toString=function(w=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();const v=b._pe.getPointer(this),A=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));
return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(v,w,A))}}function k(h){if(h){var r=b._pe.getClass(h);r&&(r=b._pe.getCache(r))&&(h=b._pe.getPointer(h))&&delete r[h]}}function m(h,r){const z=[];r=Array(r);for(let x=0;x<h;x++)z.push(b._pe.ensureInt8(r));return z}function e(h){let r;Array.isArray(h[0])?(r=[],h.forEach(z=>{r.push(z[0],z[1])})):r=h;return r}function d(h,r,z,x=!1){if(x)for(x=0;x<2*r;x++)h[x]=b._pe.getValue(z+x*Float64Array.BYTES_PER_ELEMENT,"double");else{x=0===h.length;for(let w=
0;w<r;w++)x&&(h[w]=Array(2)),h[w][0]=b._pe.getValue(z,"double"),h[w][1]=b._pe.getValue(z+Float64Array.BYTES_PER_ELEMENT,"double"),z+=2*Float64Array.BYTES_PER_ELEMENT}}let l;b._pe=null;b.PeCSTransformations=void 0;(function(h){function r(w,v,A){b._pe.ensureCache.prepare();var B=e(A);const C=A===B;B=b._pe.ensureFloat64(B);(w=b._pe._pe_geog_to_proj(b._pe.getPointer(w),v,B))&&d(A,v,B,C);return w}function z(w,v,A){return x(w,v,A,0)}function x(w,v,A,B){b._pe.ensureCache.prepare();var C=e(A);const D=A===
C;C=b._pe.ensureFloat64(C);(w=b._pe._pe_proj_to_geog_center(b._pe.getPointer(w),v,C,B))&&d(A,v,C,D);return w}h.geogToProj=r;h.projGeog=function(w,v,A,B){switch(B){case b.PeDefs.PE_TRANSFORM_P_TO_G:return z(w,v,A);case b.PeDefs.PE_TRANSFORM_G_TO_P:return r(w,v,A)}return 0};h.projToGeog=z;h.projToGeogCenter=x})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(h){h.init=function(){h.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;h.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;
h.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;h.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;h.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;h.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;h.PE_DMS_MAX=b._pe.PeDefs.prototype.PE_DMS_MAX;h.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;h.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;h.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;h.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;h.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.PE_TYPE_PROJCS;h.PE_TYPE_GEOGTRAN=
b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;h.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;h.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;h.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;h.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;h.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;h.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;h.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;h.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;h.PE_PARM_ND=
b._pe.PeDefs.prototype.PE_PARM_ND;h.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;h.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;h.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;h.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;h.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;h.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;h.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;h.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||
(b.PeDefs={}));b.PeFactory=void 0;(function(h){function r(v,A){let B=null,C=z[v];C||(C={},z[v]=C);C.hasOwnProperty(String(A))?B=C[A]:(v=b._pe.PeFactory.prototype.factoryByType(v,A),b._pe.compare(v,b._pe.NULL)||(B=v,C[A]=B));return B=w(B)}const z={},x={},w=v=>{if(v){const A=v.getType();switch(A){case b.PeDefs.PE_TYPE_GEOGCS:v=b._pe.castObject(v,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:v=b._pe.castObject(v,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:v=b._pe.castObject(v,b._pe.PeGeogtran);
break;default:A&b.PeDefs.PE_TYPE_UNIT&&(v=b._pe.castObject(v,b._pe.PeUnit))}}return v};h.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};h.coordsys=function(v){return r(b.PeDefs.PE_TYPE_COORDSYS,v)};h.factoryByType=r;h.fromString=function(v,A){let B=null,C=x[v];C||(C={},x[v]=C);C.hasOwnProperty(A)?B=C[A]:(v=b._pe.PeFactory.prototype.fromString(v,A),b._pe.compare(v,b._pe.NULL)||(B=v,C[A]=B));return B=w(B)};h.geogcs=function(v){return r(b.PeDefs.PE_TYPE_GEOGCS,v)};h.geogtran=function(v){return r(b.PeDefs.PE_TYPE_GEOGTRAN,
v)};h.getCode=function(v){return b._pe.PeFactory.prototype.getCode(v)};h.projcs=function(v){return r(b.PeDefs.PE_TYPE_PROJCS,v)};h.unit=function(v){return r(b.PeDefs.PE_TYPE_UNIT,v)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(h){let r;h.init=function(){h.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;r=b._pe._pe_getPeGTlistExtendedEntrySize()};h.getGTlist=function(z,x,w,v,A,B){let C=null;const D=new b._pe.PeInteger(B);try{const y=
b._pe.PeGTlistExtended.prototype.getGTlist(z,x,w,v,A,D);if(B=D.val)if(C=[y],1<B){const G=b._pe.getPointer(y);for(z=1;z<B;z++)C.push(b._pe.wrapPointer(G+r*z,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(D)}return C}})(b.PeGTlistExtended||(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(h){h.destroy=function(r){if(r&&r.length){for(const z of r)k(z),z.getEntries().forEach(x=>{k(x);x=x.getGeogtran();k(x);x.getParameters().forEach(k);[x.getGeogcs1(),x.getGeogcs2()].forEach(w=>{k(w);
const v=w.getDatum();k(v);k(v.getSpheroid());k(w.getPrimem());k(w.getUnit())})});b._pe.PeGTlistExtendedEntry.prototype.Delete(r[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(h){h.geogToGeog=function(r,z,x,w,v){b._pe.ensureCache.prepare();var A=e(x);const B=x===A;A=b._pe.ensureFloat64(A);let C=0;w&&(C=b._pe.ensureFloat64(w));(r=b._pe._pe_geog_to_geog(b._pe.getPointer(r),z,A,C,v))&&d(x,z,A,B);return r}})(b.PeGTTransformations||(b.PeGTTransformations=
{}));b.PeNotationDms=void 0;(function(h){const r=(x,w,v,A,B,C)=>{b._pe.ensureCache.prepare();switch(x){case "dd":var D=b._pe._pe_geog_to_dd;var y=b.PeDefs.PE_DD_MAX;break;case "ddm":D=b._pe._pe_geog_to_ddm;y=b.PeDefs.PE_DDM_MAX;break;case "dms":D=b._pe._pe_geog_to_dms,y=b.PeDefs.PE_DMS_MAX}x=0;w&&(x=b._pe.getPointer(w));w=e(A);w=b._pe.ensureFloat64(w);y=m(v,y);A=b._pe.ensureInt32(y);if(B=D(x,v,w,B,A))for(D=0;D<v;D++)C[D]=b._pe.UTF8ToString(y[D]);return B},z=(x,w,v,A,B)=>{b._pe.ensureCache.prepare();
switch(x){case "dd":var C=b._pe._pe_dd_to_geog;break;case "ddm":C=b._pe._pe_ddm_to_geog;break;case "dms":C=b._pe._pe_dms_to_geog}x=0;w&&(x=b._pe.getPointer(w));w=A.map(D=>b._pe.ensureString(D));A=b._pe.ensureInt32(w);w=b._pe.ensureFloat64(Array(2*v));(C=C(x,v,A,w))&&d(B,v,w);return C};h.geogToDms=function(x,w,v,A,B){return r("dms",x,w,v,A,B)};h.dmsToGeog=function(x,w,v,A){return z("dms",x,w,v,A)};h.geogToDdm=function(x,w,v,A,B){return r("ddm",x,w,v,A,B)};h.ddmToGeog=function(x,w,v,A){return z("ddm",
x,w,v,A)};h.geogToDd=function(x,w,v,A,B){return r("dd",x,w,v,A,B)};h.ddToGeog=function(x,w,v,A){return z("dd",x,w,v,A)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(h){h.init=function(){h.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;h.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;h.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;h.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;
h.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};h.geogToMgrsExtended=function(r,z,x,w,v,A,B){b._pe.ensureCache.prepare();let C=0;r&&(C=b._pe.getPointer(r));r=e(x);x=b._pe.ensureFloat64(r);r=m(z,b.PeDefs.PE_MGRS_MAX);const D=b._pe.ensureInt32(r);if(w=b._pe._pe_geog_to_mgrs_extended(C,z,x,w,v,A,D))for(v=0;v<z;v++)B[v]=b._pe.UTF8ToString(r[v]);return w};h.mgrsToGeogExtended=function(r,z,x,w,v){b._pe.ensureCache.prepare();let A=0;r&&(A=b._pe.getPointer(r));r=x.map(B=>b._pe.ensureString(B));
x=b._pe.ensureInt32(r);r=b._pe.ensureFloat64(Array(2*z));(w=b._pe._pe_mgrs_to_geog_extended(A,z,x,w,r))&&d(v,z,r);return w}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(h){h.geogToUsng=function(r,z,x,w,v,A,B){b._pe.ensureCache.prepare();let C=0;r&&(C=b._pe.getPointer(r));r=e(x);x=b._pe.ensureFloat64(r);r=m(z,b.PeDefs.PE_MGRS_MAX);const D=b._pe.ensureInt32(r);if(w=b._pe._pe_geog_to_usng(C,z,x,w,v,A,D))for(v=0;v<z;v++)B[v]=b._pe.UTF8ToString(r[v]);return w};h.usngToGeog=
function(r,z,x,w){b._pe.ensureCache.prepare();var v=0;r&&(v=b._pe.getPointer(r));r=x.map(A=>b._pe.ensureString(A));x=b._pe.ensureInt32(r);r=b._pe.ensureFloat64(Array(2*z));(v=b._pe._pe_usng_to_geog(v,z,x,r))&&d(w,z,r);return v}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(h){h.init=function(){h.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;h.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;h.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};
h.geogToUtm=function(r,z,x,w,v){b._pe.ensureCache.prepare();var A=0;r&&(A=b._pe.getPointer(r));r=e(x);x=b._pe.ensureFloat64(r);r=m(z,b.PeDefs.PE_UTM_MAX);const B=b._pe.ensureInt32(r);if(w=b._pe._pe_geog_to_utm(A,z,x,w,B))for(A=0;A<z;A++)v[A]=b._pe.UTF8ToString(r[A]);return w};h.utmToGeog=function(r,z,x,w,v){b._pe.ensureCache.prepare();let A=0;r&&(A=b._pe.getPointer(r));r=x.map(B=>b._pe.ensureString(B));x=b._pe.ensureInt32(r);r=b._pe.ensureFloat64(Array(2*z));(w=b._pe._pe_utm_to_geog(A,z,x,w,r))&&
d(v,z,r);return w}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=void 0;(function(h){const r=new Map;h.init=function(){h.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;h.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;h.PE_POLE_OUTSIDE_BOUNDARY=b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;h.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};h.generate=function(z,x=h.PE_PCSINFO_OPTION_DOMAIN){let w=null,v=null;r.has(z)&&(v=r.get(z),
v[x]&&(w=v[x]));w||(w=b._pe.PePCSInfo.prototype.generate(z,x),v||(v=[],r.set(z,v)),v[x]=w);return w}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(h){h.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const n=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTTransformations(){return b.PeGTTransformations},
get PeGTlistExtended(){return b.PeGTlistExtended},get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:t,get _pe(){return b._pe},isLoaded:q,isSupported:u,load:p},Symbol.toStringTag,{value:"Module"}));b._init=t;b.isLoaded=q;b.isSupported=
u;b.load=p;b.pe=n})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(a,b){const c=Math.PI/180;var f=b.earth.radius;const g=b.earth.eccentricitySquared;f={a1:f*g,a2:f*g*f*g,a3:f*g*g/2,a4:f*g*f*g*2.5,a5:f*g+f*g*g/2,a6:1-g};b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,
f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},
104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,
f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,
f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;a.earthEllipsoidConstants=f;a.spheroids=b;a.toRadians=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["../../chunks/_rollupPluginBabelHelpers","./GeographicTransformationStep"],function(a,b){return function(){function c(g){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;
if(g&&g.steps)for(const q of g.steps)q instanceof b?this.steps.push(q):this.steps.push(new b({wkid:q.wkid,wkt:q.wkt,isInverse:q.isInverse}))}c.cacheKey=function(g,q){return[void 0!==g.wkid&&null!==g.wkid?g.wkid.toString():"-1",void 0!==g.wkt&&null!==g.wkt?g.wkt.toString():"",void 0!==q.wkid&&null!==q.wkid?q.wkid.toString():"-1",void 0!==q.wkt&&null!==q.wkt?q.wkt.toString():""].join()};c.fromGE=function(g){const q=new c;let u="";for(const p of g.steps)g=b.fromGE(p),q.steps.push(g),u+=g.uid.toString()+
",";q._cachedProjection={};q._gtlistentry=null;q._chain=u;return q};var f=c.prototype;f.getInverse=function(){const g=new c;g.steps=[];for(let q=this.steps.length-1;0<=q;q--)g.steps.push(this.steps[q].getInverse());return g};f.getGTListEntry=function(){let g="";for(const q of this.steps)g+=q.uid.toString()+",";g!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=g);return this._gtlistentry};f.assignCachedGe=function(g,q,u){this._cachedProjection[c.cacheKey(g,q)]=u};f.getCachedGeTransformation=
function(g,q){let u="";for(const p of this.steps)u+=p.uid.toString()+",";u!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=u);g=this._cachedProjection[c.cacheKey(g,q)];return void 0===g?null:g};return a._createClass(c)}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){let b=0;return function(){function c(f){this.uid=b++;f?(this._wkt=null!=f.wkt?f.wkt:null,this._wkid=null!=f.wkid?f.wkid:-1,
this._isInverse=null!=f.isInverse?!0===f.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}c.fromGE=function(f){const g=new c;g._wkt=f.wkt;g._wkid=f.wkid;g._isInverse=f.isInverse;return g};c.prototype.getInverse=function(){const f=new c;f._wkt=this.wkt;f._wkid=this._wkid;f._isInverse=!this.isInverse;return f};a._createClass(c,[{key:"wkt",get:function(){return this._wkt},set:function(f){this._wkt=f;this.uid=b++}},{key:"wkid",get:function(){return this._wkid},set:function(f){this._wkid=
f;this.uid=b++}},{key:"isInverse",get:function(){return this._isInverse},set:function(f){this._isInverse=f;this.uid=b++}}]);return c}()})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","./spatialReferenceUtils"],function(a,b,c){a.getGeometryZScaler=function(f,g,q){if(null==g||null==q||q.vcsWkid||c.equals(g,q))return null;g=b.getMetersPerVerticalUnitForSR(g);q=b.getMetersPerVerticalUnitForSR(q);const u=g/q;if(1===u)return null;switch(f){case "point":case "esriGeometryPoint":return p=>
{p&&null!=p.z&&(p.z*=u)};case "polyline":case "esriGeometryPolyline":return p=>{if(p)for(const t of p.paths)for(const k of t)2<k.length&&(k[2]*=u)};case "polygon":case "esriGeometryPolygon":return p=>{if(p)for(const t of p.rings)for(const k of t)2<k.length&&(k[2]*=u)};case "multipoint":case "esriGeometryMultipoint":return p=>{if(p)for(const t of p.points)2<t.length&&(t[2]*=u)};case "extent":case "esriGeometryEnvelope":return p=>{p&&null!=p.zmin&&null!=p.zmax&&(p.zmin*=u,p.zmax*=u)};default:return null}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p){a.ScaleRangeLayer=t=>{t=function(k){function m(){var e=k.apply(this,arguments)||this;e.minScale=0;e.maxScale=
0;return e}b._inherits(m,k);b._createClass(m,[{key:"effectiveScaleRange",get:function(){const e={minScale:this.minScale,maxScale:this.maxScale};var d=this.parent;d&&"effectiveScaleRange"in d&&(d=d.effectiveScaleRange,e.minScale=0<e.minScale?0<d.minScale?Math.min(e.minScale,d.minScale):e.minScale:d.minScale,e.maxScale=0<e.maxScale?0<d.maxScale?Math.max(e.maxScale,d.maxScale):e.maxScale:d.maxScale);return(d=this._get("effectiveScaleRange"))&&d.minScale===e.minScale&&d.maxScale===e.maxScale?d:e}}]);
return m}(t);c.__decorate([f.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0);c.__decorate([f.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0);c.__decorate([f.property({readOnly:!0})],t.prototype,"effectiveScaleRange",null);return t=c.__decorate([p.subclass("esri.layers.mixins.ScaleRangeLayer")],t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./refresh".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){a.RefreshableLayer=e=>{e=function(d){function l(...h){var r=d.call(this,...h)||this;r.refreshInterval=0;r.refreshTimestamp=0;r._debounceHasDataChanged=g.debounce(()=>r.hasDataChanged());r.when().then(()=>{r.destroyed||m.registerLayer(b._assertThisInitialized(r))},()=>{});return r}b._inherits(l,d);var n=l.prototype;n.destroy=function(){m.unregisterLayer(this)};n.refresh=function(h=Date.now()){g.ignoreAbortErrors(this._debounceHasDataChanged()).then(r=>{r&&this._set("refreshTimestamp",
h);this.emit("refresh",{dataChanged:r})},r=>{f.getLogger(this).error(r);this.emit("refresh",{dataChanged:!1,error:r})})};n.hasDataChanged=async function(){return!0};b._createClass(l,[{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}}]);return l}(e);c.__decorate([q.property({type:Number,cast:d=>.1<=d?d:0>=d?0:.1,json:{write:!0}})],e.prototype,"refreshInterval",void 0);c.__decorate([q.property({readOnly:!0})],e.prototype,"refreshTimestamp",void 0);c.__decorate([q.property()],
e.prototype,"refreshParameters",null);return e=c.__decorate([k.subclass("esri.layers.mixins.RefreshableLayer")],e)};a.isRefreshableLayer=function(e){return null!=e&&"object"===typeof e&&"refreshTimestamp"in e&&"refresh"in e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/refresh":function(){define("exports ../../core/Collection ../../core/Error ../../core/Logger ../../core/accessorSupport/watch ../../core/accessorSupport/trackingUtils".split(" "),function(a,b,
c,f,g,q){function u(l){return null!=l&&"object"===typeof l&&"refreshInterval"in l&&"refresh"in l}function p(l,n){return Number.isFinite(l)&&Number.isFinite(n)?0>=n?l:p(n,l%n):0}function t(){const l=Date.now();for(const n of k)if(n.refreshInterval){const h=m.get(n)??0;l-h+5>=6E4*n.refreshInterval&&(m.set(n,l),n.refresh(l))}}const k=new b,m=new WeakMap;let e=0,d=0;q.autorun(()=>{const l=Date.now();let n=0;for(const h of k)n=p(Math.round(6E4*h.refreshInterval),n),h.refreshInterval?m.get(h)||m.set(h,
l):m.delete(h);n!==d&&(d=n,clearInterval(e),e=0===d?0:setInterval(t,d))});a.registerLayer=function(l){u(l)&&k.push(l)};a.test={get hasRefreshTimer(){return 0<e},get tickInterval(){return d},forceRefresh(){t()},hasLayer(l){return u(l)&&k.includes(l)},clear(){for(const l of k)m.delete(l);k.removeAll()}};a.unregisterLayer=function(l){u(l)&&k.includes(l)&&k.remove(l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layersCreator":function(){define("exports ../../core/Collection ../../core/has ../../core/promiseUtils ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),
function(a,b,c,f,g,q,u,p,t){async function k(y,G,F){if(G){var K=[];for(const M of G)G=m(M,F),"GroupLayer"===M.layerType?K.push(n(G,M,F)):K.push(G);F=await f.eachAlways(K);for(const M of F)M.value&&y.add(M.value)}}async function m(y,G){const F=await d(y,G);return e(F,y,G)}async function e(y,G,F){y=new y;y.read(G,F.context);"group"===y.type&&l(G)&&await h(y,G,F.context);await t.loadStyleRenderer(y,F.context);return y}async function d(y,G){var F=G.context;let K;switch(F.origin){case "web-scene":switch(F.layerContainerType){case "basemap":K=
x;break;case "ground":K=z;break;default:K=r}break;case "link-chart":switch(F.layerContainerType){case "basemap":K=D;break;case "tables":K=C;break;default:K=B}break;default:switch(F.layerContainerType){case "basemap":K=A;break;case "tables":K=v;break;default:K=w}}let M=y.layerType||y.type;!M&&G&&G.defaultLayerType&&(M=G.defaultLayerType);G=(G=K[M])?g.layerLookupMap[G]:g.layerLookupMap.UnknownLayer;"Feature Collection"===y.type?(F=F?.portal,y.itemId&&(y=new q({id:y.itemId,portal:F}),await y.load(),
y=(await p.selectLayerClassPath(y)).className||"UnknownLayer",G=g.layerLookupMap[y])):"ArcGISFeatureLayer"===M?u.isMapNotesLayer(y)||u.isMarkupLayer(y)?G=g.layerLookupMap.MapNotesLayer:u.isRouteLayer(y)?G=g.layerLookupMap.RouteLayer:l(y)&&(G=g.layerLookupMap.GroupLayer):y.wmtsInfo&&y.wmtsInfo.url&&y.wmtsInfo.layerIdentifier?G=g.layerLookupMap.WMTSLayer:"WFS"===M&&"2.0.0"!==y.wfsInfo?.version&&(G=g.layerLookupMap.UnsupportedLayer);return G()}function l(y){return"ArcGISFeatureLayer"!==y.layerType||
"Feature Collection"===y.type?!1:1<(y.featureCollection?.layers?.length??0)}async function n(y,G,F){const K=new b;G=k(K,Array.isArray(G.layers)?G.layers:[],F);try{const M=await y;try{if(await G,"group"===M.type)return M.layers.addMany(K),M}catch(O){M.destroy();for(const H of K)H.destroy();throw O;}}catch(M){throw M;}}async function h(y,G,F){const K=await (0,g.layerLookupMap.FeatureLayer)();var M=G.featureCollection;const O=M?.showLegend;M=M?.layers?.map((H,J)=>{const L=new K;L.read(H,F);H={...F,ignoreDefaults:!0};
L.read({id:`${y.id}-sublayer-${J}`,visibility:G.visibleLayers?.includes(J)??!0},H);null!=O&&L.read({showLegend:O},H);return L});y.layers.addMany(M??[])}const r={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",
ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},z={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},
x={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},w={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",
ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",
SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},v={ArcGISFeatureLayer:"FeatureLayer"},A={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",
BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"},B={...w,LinkChartLayer:"LinkChartLayer"},C={...v},D={...A};a.populateOperationalLayers=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports"],function(a,b){const c=f=>Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));b.layerLookupMap={BingMapsLayer:async()=>
(await new Promise((f,g)=>a(["../BingMapsLayer"],q=>f(c(q)),g))).default,BuildingSceneLayer:async()=>(await new Promise((f,g)=>a(["../BuildingSceneLayer"],q=>f(c(q)),g))).default,CSVLayer:async()=>(await new Promise((f,g)=>a(["../CSVLayer"],q=>f(c(q)),g))).default,DimensionLayer:async()=>(await new Promise((f,g)=>a(["../DimensionLayer"],q=>f(c(q)),g))).default,ElevationLayer:async()=>(await new Promise((f,g)=>a(["../ElevationLayer"],q=>f(c(q)),g))).default,FeatureLayer:async()=>(await new Promise((f,
g)=>a(["../FeatureLayer"],q=>f(c(q)),g))).default,GeoJSONLayer:async()=>(await new Promise((f,g)=>a(["../GeoJSONLayer"],q=>f(c(q)),g))).default,GeoRSSLayer:async()=>(await new Promise((f,g)=>a(["../GeoRSSLayer"],q=>f(c(q)),g))).default,GroupLayer:async()=>(await new Promise((f,g)=>a(["../GroupLayer"],q=>f(c(q)),g))).default,ImageryLayer:async()=>(await new Promise((f,g)=>a(["../ImageryLayer"],q=>f(c(q)),g))).default,ImageryTileLayer:async()=>(await new Promise((f,g)=>a(["../ImageryTileLayer"],q=>
f(c(q)),g))).default,IntegratedMeshLayer:async()=>(await new Promise((f,g)=>a(["../IntegratedMeshLayer"],q=>f(c(q)),g))).default,KMLLayer:async()=>(await new Promise((f,g)=>a(["../KMLLayer"],q=>f(c(q)),g))).default,LineOfSightLayer:async()=>(await new Promise((f,g)=>a(["../LineOfSightLayer"],q=>f(c(q)),g))).default,LinkChartLayer:async()=>(await new Promise((f,g)=>a(["../LinkChartLayer"],q=>f(c(q)),g))).default,MapImageLayer:async()=>(await new Promise((f,g)=>a(["../MapImageLayer"],q=>f(c(q)),g))).default,
MapNotesLayer:async()=>(await new Promise((f,g)=>a(["../MapNotesLayer"],q=>f(c(q)),g))).default,MediaLayer:async()=>(await new Promise((f,g)=>a(["../MediaLayer"],q=>f(c(q)),g))).default,OGCFeatureLayer:async()=>(await new Promise((f,g)=>a(["../OGCFeatureLayer"],q=>f(c(q)),g))).default,OpenStreetMapLayer:async()=>(await new Promise((f,g)=>a(["../OpenStreetMapLayer"],q=>f(c(q)),g))).default,OrientedImageryLayer:async()=>(await new Promise((f,g)=>a(["../OrientedImageryLayer"],q=>f(c(q)),g))).default,
PointCloudLayer:async()=>(await new Promise((f,g)=>a(["../PointCloudLayer"],q=>f(c(q)),g))).default,RouteLayer:async()=>(await new Promise((f,g)=>a(["../RouteLayer"],q=>f(c(q)),g))).default,SceneLayer:async()=>(await new Promise((f,g)=>a(["../SceneLayer"],q=>f(c(q)),g))).default,StreamLayer:async()=>(await new Promise((f,g)=>a(["../StreamLayer"],q=>f(c(q)),g))).default,SubtypeGroupLayer:async()=>(await new Promise((f,g)=>a(["../SubtypeGroupLayer"],q=>f(c(q)),g))).default,TileLayer:async()=>(await new Promise((f,
g)=>a(["../TileLayer"],q=>f(c(q)),g))).default,UnknownLayer:async()=>(await new Promise((f,g)=>a(["../UnknownLayer"],q=>f(c(q)),g))).default,UnsupportedLayer:async()=>(await new Promise((f,g)=>a(["../UnsupportedLayer"],q=>f(c(q)),g))).default,VectorTileLayer:async()=>(await new Promise((f,g)=>a(["../VectorTileLayer"],q=>f(c(q)),g))).default,VoxelLayer:async()=>(await new Promise((f,g)=>a(["../VoxelLayer"],q=>f(c(q)),g))).default,WFSLayer:async()=>(await new Promise((f,g)=>a(["../WFSLayer"],q=>f(c(q)),
g))).default,WMSLayer:async()=>(await new Promise((f,g)=>a(["../WMSLayer"],q=>f(c(q)),g))).default,WMTSLayer:async()=>(await new Promise((f,g)=>a(["../WMTSLayer"],q=>f(c(q)),g))).default,WebTileLayer:async()=>(await new Promise((f,g)=>a(["../WebTileLayer"],q=>f(c(q)),g))).default};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports"],function(a){function b(c,f){return c.layerType&&"ArcGISFeatureLayer"===c.layerType?
c.featureCollectionType===f?!0:!1:!1}a.isMapNotesLayer=function(c){return b(c,"notes")};a.isMarkupLayer=function(c){return b(c,"markup")};a.isRouteLayer=function(c){return b(c,"route")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalLayers":function(){define("exports ../../core/Error ../../layers/support/layerUtils ../../layers/support/lazyLayerLoader ../PortalItem ./layersLoader ./portalItemUtils ../../support/requestPresets".split(" "),function(a,b,c,
f,g,q,u,p){async function t(v){await v.load();v=await k(v);return m(v)}async function k(v){switch(v.type){case "Map Service":return e(v);case "Feature Service":return d(v);case "Feature Collection":return n(v);case "Scene Service":return l(v);case "Image Service":return h(v);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "GeoJson":return{className:"GeoJSONLayer"};case "CSV":return{className:"CSVLayer"};case "KML":return{className:"KMLLayer"};
case "WFS":return{className:"WFSLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};case "Feed":return{className:"StreamLayer"};default:throw new b("portal:unknown-item-type","Unknown item type '${type}'",{type:v.type});}}async function m(v){return{constructor:await (0,f.layerLookupMap[v.className])(),properties:v.properties}}async function e(v){return await z(v)?{className:"TileLayer"}:{className:"MapImageLayer"}}async function d(v){if(u.hasTypeKeyword(v,"Oriented Imagery Layer"))return r(v);
v=await x(v);if("object"===typeof v){const A={};null!=v.id&&(A.layerId=v.id);return{className:v.className||"FeatureLayer",properties:A}}return{className:"GroupLayer"}}async function l(v){const A=await x(v);if("object"===typeof A){const B={};let C=void 0;null!=A.id?(B.layerId=A.id,C=`${v.url}/layers/${A.id}`):C=v.url;if(v.typeKeywords?.length)for(const D of Object.keys(c.sceneServiceLayerTypeToClassName))if(v.typeKeywords.includes(D))return{className:c.sceneServiceLayerTypeToClassName[D]};v=await p.fetchArcGISServiceJSON(C);
return{className:c.sceneServiceLayerTypeToClassName[v?.layerType]||"SceneLayer",properties:B}}return!1===A&&"Voxel"===(await p.fetchArcGISServiceJSON(v.url))?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}async function n(v){await v.load();const A=u.hasTypeKeyword(v,"Map Notes"),B=u.hasTypeKeyword(v,"Markup");if(A||B)return{className:"MapNotesLayer"};if(u.hasTypeKeyword(v,"Route Layer"))return{className:"RouteLayer"};v=await v.fetchData();return 1===q.getNumLayersAndTables(v)?{className:"FeatureLayer"}:
{className:"GroupLayer"}}async function h(v){await v.load();var A=v.typeKeywords?.map(B=>B.toLowerCase())??[];if(A.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(A.includes("tiled imagery"))return{className:"ImageryTileLayer"};A=(await v.fetchData())?.layerType;if("ArcGISTiledImageServiceLayer"===A)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===A)return{className:"ImageryLayer"};A=await p.fetchArcGISServiceJSON(v.url);v=A.cacheType?.toLowerCase();A=A.capabilities?.toLowerCase().includes("tilesonly");
return"map"===v||A?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}async function r(v){await v.load();return{className:"OrientedImageryLayer",properties:await v.fetchData()}}async function z(v){return(await p.fetchArcGISServiceJSON(v.url)).tileInfo}async function x(v){const A=v.url;if(!A||/\/\d+$/.test(A))return{};await v.load();var B=await v.fetchData();if("Feature Service"===v.type)return v=await q.preprocessFSItemData(B,A),v=w(v),"object"===typeof v&&(B=q.getSubtypeGroupLayerIds(B),v.className=
null!=v.id&&B.includes(v.id)?"SubtypeGroupLayer":"FeatureLayer"),v;if(0<q.getNumLayersAndTables(B))return w(B);B=await p.fetchArcGISServiceJSON(A);return w(B)}function w(v){return 1===q.getNumLayersAndTables(v)?{id:q.getFirstLayerOrTableId(v)}:!1}a.fromItem=async function(v){!v.portalItem||v.portalItem instanceof g||(v={...v,portalItem:new g(v.portalItem)});const A=await t(v.portalItem);return new A.constructor({portalItem:v.portalItem,...A.properties})};a.selectLayerClassPath=k;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/layersLoader":function(){define("exports ../../core/Error ../../layers/Layer ../../layers/support/arcgisLayerUrl ../../layers/support/fetchService ../Portal ../PortalItem ./jsonContext ./portalItemUtils ../../renderers/support/styleUtils ../../support/requestPresets".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){async function e(y,G){const F=y.instance,K=F.portalItem;if(K){var {url:M,title:O}=K,H=p.createForItemRead(K);if("group"===F.type)return F.read({title:O},
H),d(F,y);M&&F.read({url:M},H);(y=await z(y,G))&&F.read(y,H);F.resourceReferences={portalItem:K,paths:H.readResourcePaths??[]};"subtype-group"!==F.type&&F.read({title:O},H);return k.loadStyleRenderer(F,H)}}async function d(y,G){var {portalItem:F}=y;if(F){var K=F.type,M=G.layerModuleTypeMap;var O=t.hasTypeKeyword(F,"Oriented Imagery Layer")??!1;switch(K){case "Feature Service":O=O?M.OrientedImageryLayer:M.FeatureLayer;break;case "Stream Service":O=M.StreamLayer;break;case "Scene Service":O=M.SceneLayer;
break;case "Feature Collection":O=M.FeatureLayer;break;default:throw new b("portal:unsupported-item-type-as-group",`The item type '${K}' is not supported as a 'IGroupLayer'`);}var [H,J]=await Promise.all([O(),z(G)]);G=()=>H;if("Feature Service"===K){J=F.url?await x(J,F.url):{};if(C(J).length){const L=await (0,M.SubtypeGroupLayer)();G=N=>"SubtypeGroupLayer"===N.layerType?L:H}F=await D(F.url);return h(y,G,J,F)}return 0<A(J)?h(y,G,J):l(y,G)}}async function l(y,G){var {portalItem:F}=y;F?.url&&(F=await m.fetchArcGISServiceJSON(F.url))&&
h(y,G,{layers:F.layers?.map(n),tables:F.tables?.map(n)})}function n(y){return{id:y.id,name:y.name}}function h(y,G,F,K){let M=F.layers||[];const O=F.tables||[];"Feature Collection"===y.portalItem?.type&&(M.forEach(H=>{"Table"===H?.layerDefinition?.type&&O.push(H)}),M=M.filter(H=>"Table"!==H?.layerDefinition?.type));if("coverage"in F){const H=B(F);H&&y.add(H)}M.reverse().forEach(H=>{const J=K?.(H);if(J||!K)H=r(y,G(H),F,H,J),y.add(H)});O.reverse().forEach(H=>{const J=K?.(H);if(J||!K)H=r(y,G(H),F,H,J),
y.tables.add(H)})}function r(y,G,F,K,M){y=y.portalItem;G=new G({portalItem:y.clone(),layerId:K.id});"sourceJSON"in G&&(G.sourceJSON=M);"subtype-group"!==G.type&&(G.sublayerTitleMode="service-name");"Feature Collection"===y.type&&(M={origin:"portal-item",portal:y.portal||q.getDefault()},G.read(K,M),F=F.showLegend,null!=F&&G.read({showLegend:F},M));return G}async function z(y,G){if(!1!==y.supportsData){y=y.instance;var F=y.portalItem;if(F){var K=null;try{K=await F.fetchData("json",G)}catch(M){}G="stream"===
y.type||"oriented-imagery"===y.type?!1:"layerId"in y;return G?(F=null,G=!0,K&&0<A(K)&&(null==y.layerId&&(F=C(K),y.layerId="subtype-group"===y.type?F?.[0]:w(K)),F=v(K,y))&&(1===A(K)&&(G=!1),null!=K.showLegend&&(F.showLegend=K.showLegend)),G&&"sublayerTitleMode"in y&&"service-name"!==y.sublayerTitleMode&&(y.sublayerTitleMode="item-title-and-service-name"),F):K}}}async function x(y,G){if(null==y?.layers||null==y?.tables)G=await m.fetchArcGISServiceJSON(G),y=y||{},y.layers=y.layers||G?.layers,y.tables=
y.tables||G?.tables;return y}function w(y){const G=y.layers;return G&&G.length?G[0].id:(y=y.tables)&&y.length?y[0].id:null}function v(y,G){const {layerId:F}=G;y=y.layers?.find(M=>M.id===F)||y.tables?.find(M=>M.id===F);var K;if(K=y)K="feature"===G.type&&"layerType"in y&&"SubtypeGroupLayer"===y.layerType||"subtype-group"===G.type&&!("layerType"in y)?!1:!0;return K?y:null}function A(y){return(y?.layers?.length??0)+(y?.tables?.length??0)}function B(y){var {coverage:G}=y;if(!G)return null;y=new URL(G);
if(G.toLowerCase().includes("item.html"))return G=y.searchParams.get("id"),c.fromPortalItem({portalItem:new u({id:G,url:y.origin})});if(f.isArcGISUrl(G))return c.fromArcGISServerUrl({url:G});throw new b("portal:oriented-imagery-layer-coverage","the provided coverage url couldn't be loaded as a layer");}function C(y){const G=[];y?.layers?.forEach(F=>{"SubtypeGroupLayer"===F.layerType&&G.push(F.id)});return G}async function D(y){({layersJSON:y}=await g.fetchFeatureService(y));if(!y)return null;const G=
[...y.layers,...y.tables];return F=>G.find(K=>K.id===F.id)}a.getFirstLayerOrTableId=w;a.getNumLayersAndTables=A;a.getSubtypeGroupLayerIds=C;a.load=async function(y,G){var F=y.instance.portalItem;if(F&&F.id){await F.load(G);F=y.instance.portalItem;if(!F?.type||!y.supportedTypes.includes(F.type))throw new b("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:F?.type,expectedType:y.supportedTypes.join(", ")});return e(y,G)}};a.preprocessFSItemData=x;
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function f(e){if(null==e)return null;e=b.urlToObject(e);e=e.path.match(t)||e.path.match(k);if(!e)return null;const [,d,l,n,h]=e;e=l.indexOf("/");return{title:q(-1!==e?l.slice(e+1):l),serverType:u[n.toLowerCase()],sublayer:null!=h&&""!==h?parseInt(h,10):null,url:{path:d}}}function g(e){return(e=b.urlToObject(e).path.match(m))?
{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function q(e){e=e.replaceAll(/\s*[/_]+\s*/g," ");return e[0].toUpperCase()+e.slice(1)}const u={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},p=Object.values(u),t=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${p.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),k=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${p.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,
"i"),m=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=q;a.isArcGISUrl=function(e){return!!t.test(e)};a.isHostedAgolService=function(e){if(!e)return!1;e=e.toLowerCase();const d=e.includes(".arcgis.com/");e=e.includes("//services")||e.includes("//tiles")||e.includes("//features");return d&&e};a.isServerOrServicesAGOLUrl=function(e){if(!e)return!1;e=(new b.Url(b.makeAbsolute(e))).authority?.toLowerCase();return"server.arcgisonline.com"===e||"services.arcgisonline.com"===e};a.isWmsServer=function(e){if(!e)return!1;
var d=e.toLowerCase();e=d.includes("/services/");const l=d.includes("/mapserver/wmsserver"),n=d.includes("/imageserver/wmsserver");d=d.includes("/wmsserver");return e&&(l||n||d)};a.parse=f;a.parseNonStandardSublayerUrl=g;a.sanitizeUrl=function(e,d){return e?b.removeTrailingSlash(b.removeQueryParameters(e,d)):e};a.sanitizeUrlWithLayerId=function(e){let {url:d}=e;if(!d)return{url:d};d=b.removeQueryParameters(d,e.logger);const l=b.urlToObject(d),n=f(l.path);let h=void 0;null!=n?(null!=n.sublayer&&null==
e.layer.layerId&&(h=n.sublayer),d=n.url.path):e.nonStandardUrlAllowed&&(e=g(l.path),null!=e&&(d=e.serviceUrl,h=e.sublayerId));return{url:b.removeTrailingSlash(d),layerId:h}};a.serverTypes=p;a.titleFromUrlAndName=function(e,d){const l=[];e&&(e=f(e),null!=e&&e.title&&l.push(e.title));d&&(d=q(d),l.push(d));if(2===l.length){if(l[0].toLowerCase().includes(l[1].toLowerCase()))return l[0];if(l[1].toLowerCase().includes(l[0].toLowerCase()))return l[1]}return l.join(" - ")};a.writeUrlWithLayerId=function(e,
d,l,n,h){c.write(d,n,"url",h);n.url&&null!=e.layerId&&(n.url=b.join(n.url,l,e.layerId.toString()))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fetchService":function(){define(["exports","../../support/requestPresets"],function(a,b){function c(f){return!f.type||"Feature Layer"===f.type}a.fetchFeatureService=async function(f,g){const q=await b.fetchArcGISServiceJSON(f,g);q.layers=q.layers.filter(c);const u={serviceJSON:q};if(10.5>(q.currentVersion??0))return u;
f=await b.fetchArcGISServiceJSON(f+"/layers",g);u.layersJSON={layers:f.layers.filter(c),tables:f.tables};return u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestPresets":function(){define(["exports","../request"],function(a,b){a.fetchArcGISServiceJSON=async function(c,f){({data:c}=await b(c,{responseType:"json",query:{f:"json",...f?.customParameters,token:f?.apiKey}}));return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/jsonContext":function(){define(["exports",
"../../core/urlUtils","../Portal"],function(a,b,c){a.createForItemRead=function(f){return{origin:"portal-item",url:b.urlToObject(f.itemUrl),portal:f.portal||c.getDefault(),portalItem:f,readResourcePaths:[]}};a.createForItemWrite=function(f){return{origin:"portal-item",messages:[],writtenProperties:[],url:f.itemUrl?b.urlToObject(f.itemUrl):null,portal:f.portal||c.getDefault(),portalItem:f}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/styleUtils":function(){define(["exports",
"../../core/asyncUtils","../../core/promiseUtils","../../core/Warning"],function(a,b,c,f){a.loadStyleRenderer=async function(g,q,u){var p=g&&g.getAtOrigin&&g.getAtOrigin("renderer",q.origin);p&&"unique-value"===p.type&&p.styleOrigin&&(p=await b.result(p.populateFromStyle()),c.throwIfAborted(u),!1===p.ok&&(u=p.error,q&&q.messages&&q.messages.push(new f("renderer:style-reference",`Failed to create unique value renderer from style reference: ${u.message}`,{error:u,context:q})),g.clear("renderer",q?.origin)))};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/PieChartRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../request ../symbols ../core/Clonable ../core/Collection ../core/Error ../core/Handles ../core/lang ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../form/FormTemplate ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/EditBusLayer ./mixins/FeatureEffectLayer ./mixins/FeatureLayerBase ./mixins/FeatureReductionLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/PublishableLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/featureLayerUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/serviceCapabilitiesUtils ./support/TimeInfo ./support/versionUtils ./support/source/DataLayerSource ../renderers/support/styleUtils ../rest/support/FeatureSet ../rest/support/Query ../rest/support/TopFeaturesQuery ../support/popupUtils ../webdoc/support/opacityUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D,y,G,F,K,M,O,H,J,L,N,V,X,U,P,fa,Ba,Aa,ma,ta,ba,ka,Fa,Na,Qa,I,S,qa,W,pa,R,Y,la,ja,sa,T,ha,ua,Ea,da,ra,wa,Ma,Z,ia,Da,ya){function Ka(Ra,Xa){return new x("layer:unsupported",`Layer (${Ra.title}, ${Ra.id}) of type '${Ra.declaredClass}' ${Xa}`,{layer:Ra})}function Pa(Ra,Xa,Ta){Ra=!!Ta?.writeLayerSchema;return{enabled:Ra,ignoreOrigin:Ra}}const Ua=A.getLogger("esri.layers.FeatureLayer");g=ja.defineFieldProperties();r=function(Ra){function Xa(...za){za=
Ra.call(this,...za)||this;za._handles=new w;za.charts=null;za.copyright=null;za.displayField=null;za.dynamicDataSource=null;za.fields=null;za.fieldsIndex=null;za.formTemplate=null;za.fullExtent=null;za.geometryType=null;za.hasM=void 0;za.hasZ=void 0;za.infoFor3D=null;za.isTable=!1;za.labelsVisible=!0;za.labelingInfo=null;za.legendEnabled=!0;za.objectIdField=null;za.outFields=null;za.path=null;za.popupEnabled=!0;za.popupTemplate=null;za.screenSizePerspectiveEnabled=!0;za.spatialReference=N.WGS84;za.subtypeCode=
null;za.templates=null;za.timeInfo=null;za.title=null;za.sublayerTitleMode="item-title";za.type="feature";za.typeIdField=null;za.types=null;za.visible=!0;return za}b._inherits(Xa,Ra);var Ta=Xa.prototype;Ta.destroy=function(){this.source?.destroy();this._handles=B.destroyMaybe(this._handles)};Ta.normalizeCtorArgs=function(za,Ha){return"string"===typeof za?{url:za,...Ha}:za};Ta.load=function(za){const Ha=null!=za?za.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(Ha).then(cb=>
this.initLayerProperties(cb))),Promise.resolve(this);const ab=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},za).catch(y.throwIfAbortError).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const cb=await this._fetchFirstLayerId(Ha);null!=cb&&(this.layerId=cb)}if(!this.url&&!this._hasMemorySource())throw new x("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(Ha))}).then(()=>
this._setUserPrivileges(this.serviceItemId,za)).then(()=>R.ensureLayerCredential(this,za));this.addResolvingPromise(ab);return Promise.resolve(this)};Ta.readCapabilities=function(za,Ha){Ha=Ha.layerDefinition||Ha;return ua.getFeatureLayerCapabilities(Ha,this.url)};Ta.readEditingEnabled=function(za,Ha){return this._readEditingEnabled(Ha,!1)};Ta.readEditingEnabledFromWebMap=function(za,Ha,ab){return this._readEditingEnabled(Ha,!0,ab)};Ta.writeEditingEnabled=function(za,Ha){this._writeEditingEnabled(za,
Ha,!1)};Ta.writeEditingEnabledToWebMap=function(za,Ha,ab,cb){this._writeEditingEnabled(za,Ha,!0,cb)};Ta.readIsTable=function(za,Ha){Ha=Ha?.layerDefinition??Ha;return"Table"===Ha.type||!Ha.geometryType};Ta.writeIsTable=function(za,Ha,ab,cb){cb?.writeLayerSchema&&D.setDeepValue(ab,za?"Table":"Feature Layer",Ha)};Ta.readGlobalIdField=function(za,Ha){return R.readGlobalIdField(Ha.layerDefinition||Ha)};Ta.readObjectIdField=function(za,Ha){return R.readObjectIdField(Ha.layerDefinition||Ha)};Ta.readRenderer=
function(za,Ha,ab){Ha=Ha.layerDefinition||Ha;return(za=Ha.drawingInfo?.renderer)?((za=d.read(za,Ha,ab)??void 0)||Ua.error("Failed to create renderer",{rendererDefinition:Ha.drawingInfo.renderer,layer:this,context:ab}),za):R.createDefaultRenderer(Ha,ab)};Ta.castSource=function(za){return za?Array.isArray(za)||za instanceof z?new X.MemorySource({layer:this,items:za}):za:null};Ta.readSource=function(za,Ha){za=Ma.fromJSON(Ha.featureSet);return new X.MemorySource({layer:this,items:za?.features??[]})};
Ta.readTemplates=function(za,Ha){var ab=Ha.editFieldsInfo;Ha=ab&&ab.creatorField;ab=ab&&ab.editorField;za=za&&za.map(cb=>Y.fromJSON(cb));this._fixTemplates(za,Ha);this._fixTemplates(za,ab);return za};Ta.readTitle=function(za,Ha){za=Ha.layerDefinition?.name??Ha.name;Ha=Ha.title||Ha.layerDefinition&&Ha.layerDefinition.title;if(za){Ha=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?W.titleFromUrlAndName(this.url,za):za;if(!za&&this.url){const ab=W.parse(this.url);
null!=ab&&(za=ab.title)}if(!za)return;"item-title-and-service-name"===this.sublayerTitleMode&&Ha&&Ha!==za&&(za=Ha+" - "+za);return W.cleanTitle(za)}if("item-title"===this.sublayerTitleMode&&Ha)return Ha};Ta.readTitleFromWebMap=function(za,Ha){return Ha.title||Ha.layerDefinition&&Ha.layerDefinition.name};Ta.readTypeIdField=function(za,Ha){Ha=Ha.layerDefinition||Ha;let ab=Ha.typeIdField;ab&&Ha.fields&&(ab=ab.toLowerCase(),za=Ha.fields.find(cb=>cb.name.toLowerCase()===ab))&&(ab=za.name);return ab};Ta.readTypes=
function(za,Ha){Ha=Ha.layerDefinition||Ha;za=Ha.types;const ab=(Ha=Ha.editFieldsInfo)&&Ha.creatorField,cb=Ha&&Ha.editorField;return za&&za.map(xa=>{xa=la.fromJSON(xa);this._fixTemplates(xa.templates,ab);this._fixTemplates(xa.templates,cb);return xa})};Ta.readVisible=function(za,Ha){if(Ha.layerDefinition&&null!=Ha.layerDefinition.defaultVisibility)return!!Ha.layerDefinition.defaultVisibility;if(null!=Ha.visibility)return!!Ha.visibility};Ta.addAttachment=async function(za,Ha){return R.addAttachment(this,
za,Ha,"FeatureLayer")};Ta.updateAttachment=async function(za,Ha,ab){return R.updateAttachment(this,za,Ha,ab,"FeatureLayer")};Ta.applyEdits=async function(za,Ha){return R.applyEdits(this,za,Ha)};Ta.uploadAssets=async function(za,Ha){return R.uploadAssets(this,za,Ha)};Ta.on=function(za,Ha){return b._get(b._getPrototypeOf(Xa.prototype),"on",this).call(this,za,Ha)};Ta.createPopupTemplate=function(za){return Da.createPopupTemplate(this,za)};Ta.createGraphicsSource=async function(za){if(this._hasMemorySource()&&
this.source)return this.source.load({signal:za});const {default:Ha}=await y.whenOrAbort(new Promise((ab,cb)=>a(["./graphics/sources/FeatureLayerSource"],xa=>ab(Object.freeze(Object.defineProperty({__proto__:null,default:xa},Symbol.toStringTag,{value:"Module"}))),cb)),za);return(new Ha({layer:this})).load({signal:za})};Ta.createQuery=function(){const za=R.createQuery(this);za.dynamicDataSource=this.dynamicDataSource;const Ha=G.sqlAnd(this.definitionExpression,null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:
null);za.where=Ha||"1\x3d1";return za};Ta.deleteAttachments=async function(za,Ha){return R.deleteAttachments(this,za,Ha,"FeatureLayer")};Ta.fetchRecomputedExtents=async function(za){return R.fetchRecomputedExtents(this,za,"FeatureLayer")};Ta.getFeatureType=function(za){const {typeIdField:Ha,types:ab}=this;if(!Ha||!za)return null;const cb=za.attributes?za.attributes[Ha]:void 0;if(null==cb)return null;let xa=null;ab?.some(pb=>{const {id:tb}=pb;if(null==tb)return!1;tb.toString()===cb.toString()&&(xa=
pb);return!!xa});return xa};Ta.getFieldDomain=function(za,Ha){return(Ha=this.getFeatureType(Ha?.feature))&&(Ha=Ha.domains&&Ha.domains[za])&&"inherited"!==Ha.type?Ha:this._getLayerDomain(za)};Ta.getField=function(za){return this.fieldsIndex.get(za)};Ta.queryAttachments=async function(za,Ha){return R.queryAttachments(this,za,Ha,"FeatureLayer")};Ta.queryFeatures=async function(za,Ha){const ab=await this.load();za=await ab.source.queryFeatures(Z.from(za)??ab.createQuery(),Ha);if(za?.features)for(const cb of za.features)cb.layer=
cb.sourceLayer=ab;return za};Ta.queryObjectIds=async function(za,Ha){return R.queryObjectIds(this,za,Ha,"FeatureLayer")};Ta.queryFeatureCount=async function(za,Ha){return R.queryFeatureCount(this,za,Ha,"FeatureLayer")};Ta.queryExtent=async function(za,Ha){return R.queryExtent(this,za,Ha,"FeatureLayer")};Ta.queryRelatedFeatures=async function(za,Ha){return R.queryRelatedFeatures(this,za,Ha,"FeatureLayer")};Ta.queryRelatedFeaturesCount=async function(za,Ha){return R.queryRelatedFeaturesCount(this,za,
Ha,"FeatureLayer")};Ta.queryTopFeatures=async function(za,Ha){const {source:ab,capabilities:cb}=await this.load();if(!ab.queryTopFeatures||!cb?.query?.supportsTopFeaturesQuery)throw new x("FeatureLayer","Layer source does not support queryTopFeatures capability");za=await ab.queryTopFeatures(ia.from(za),Ha);if(za?.features)for(const xa of za.features)xa.layer=xa.sourceLayer=this;return za};Ta.queryTopObjectIds=async function(za,Ha){const {source:ab,capabilities:cb}=await this.load();if(!ab.queryTopObjectIds||
!cb?.query.supportsTopFeaturesQuery)throw new x("FeatureLayer","Layer source does not support queryTopObjectIds capability");return ab.queryTopObjectIds(ia.from(za),Ha)};Ta.queryTopFeaturesExtent=async function(za,Ha){const {source:ab,capabilities:cb}=await this.load();if(!ab.queryTopExtents||!cb?.query?.supportsTopFeaturesQuery)throw new x("FeatureLayer","Layer source does not support queryTopExtents capability");return ab.queryTopExtents(ia.from(za),Ha)};Ta.queryTopFeatureCount=async function(za,
Ha){const {source:ab,capabilities:cb}=await this.load();if(!ab.queryTopCount||!cb?.query?.supportsTopFeaturesQuery)throw new x("FeatureLayer","Layer source does not support queryFeatureCount capability");return ab.queryTopCount(ia.from(za),Ha)};Ta.read=function(za,Ha){const ab=za.featureCollection;if(ab){const cb=ab.layers;cb&&1===cb.length&&(b._get(b._getPrototypeOf(Xa.prototype),"read",this).call(this,cb[0],Ha),null!=ab.showLegend&&b._get(b._getPrototypeOf(Xa.prototype),"read",this).call(this,{showLegend:ab.showLegend},
Ha))}b._get(b._getPrototypeOf(Xa.prototype),"read",this).call(this,za,Ha);Ha&&"service"===Ha.origin&&(this.revert(["objectIdField","fields","timeInfo"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))};Ta.write=function(za,Ha){Ha={...Ha,origin:Ha?.origin??void 0,writeLayerSchema:Ha?.writeLayerSchema??this._hasMemorySource()};const {origin:ab,layerContainerType:cb,messages:xa}=Ha;if(this.dynamicDataSource)return xa?.push(Ka(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),
null;if(this.isTable){if("web-scene"===ab||"web-map"===ab&&"tables"!==cb)return xa?.push(Ka(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return xa?.push(Ka(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===ab&&"tables"===cb)return xa?.push(Ka(this,"using a non-table source cannot be written to tables in web maps")),null;return b._get(b._getPrototypeOf(Xa.prototype),
"write",this).call(this,za,Ha)};Ta.clone=function(){if(this._hasMemorySource())throw new x("FeatureLayer",`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return b._get(b._getPrototypeOf(Xa.prototype),"clone",this).call(this)};Ta.serviceSupportsSpatialReference=function(za){return this.loaded?"memory"===this.source?.type?!0:da.serviceSupportsSpatialReference(this,za):!1};Ta.save=async function(za){const {save:Ha}=await new Promise((ab,cb)=>a(["./save/featureLayerUtils"],
ab,cb));return Ha(this,za)};Ta.saveAs=async function(za,Ha){const {saveAs:ab}=await new Promise((cb,xa)=>a(["./save/featureLayerUtils"],cb,xa));return ab(this,za,Ha)};Ta._readEditingEnabled=function(za,Ha,ab){let cb=za.layerDefinition?.capabilities;if(cb)return this._hasEditingCapability(cb);cb=za.capabilities;if(Ha&&"web-map"===ab?.origin&&!this._hasMemorySource()&&cb)return this._hasEditingCapability(cb)};Ta._hasEditingCapability=function(za){return za.toLowerCase().split(",").map(Ha=>Ha.trim()).includes("editing")};
Ta._writeEditingEnabled=function(za,Ha,ab,cb){za||(za=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query",D.setDeepValue("layerDefinition.capabilities",za,Ha),ab&&!cb?.writeLayerSchema&&(Ha.capabilities=za))};Ta._getLayerDomain=function(za){return(za=this.fieldsIndex.get(za))?za.domain:null};Ta._fetchFirstLayerId=function(za){return n(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:za}).then(Ha=>{if(Ha=Ha.data){if(Array.isArray(Ha.layers)&&
0<Ha.layers.length)return Ha.layers[0].id;if(Array.isArray(Ha.tables)&&0<Ha.tables.length)return Ha.tables[0].id}})};Ta.initLayerProperties=async function(za){this._set("source",za);za.sourceJSON&&(this.sourceJSON=za.sourceJSON,this.read(za.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}));this._verifySource();this._verifyFields();sa.fixRendererFields(this.renderer,this.fieldsIndex);sa.fixTimeInfoFields(this.timeInfo,this.fieldsIndex);return wa.loadStyleRenderer(this,
{origin:"service"})};Ta.hasDataChanged=async function(){return R.hasDataChanged(this)};Ta.fetchPublishingStatus=async function(){const za=this.source;return za?.fetchPublishingStatus?za.fetchPublishingStatus():"unavailable"};Ta._verifyFields=function(){const za=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+za+")");this.isTable||this._hasMemorySource()||-1!==za.search(/\/FeatureServer\//i)||this.fields?.some(Ha=>"geometry"===
Ha.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+za+")")};Ta._fixTemplates=function(za,Ha){za&&za.forEach(ab=>{(ab=ab.prototype&&ab.prototype.attributes)&&Ha&&delete ab[Ha]})};Ta._verifySource=function(){if(this._hasMemorySource()){if(this.url)throw new x("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");
}else if(!this.url)throw new x("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");};Ta._initMemorySource=function(za){za.forEach(Ha=>{Ha.layer=this;Ha.sourceLayer=this});this._handles.add([za.on("after-add",Ha=>{Ha.item.layer=this;Ha.item.sourceLayer=this}),za.on("after-remove",Ha=>{Ha.item.layer=null;Ha.item.sourceLayer=null})],"fl-source")};Ta._resetMemorySource=function(za){za.forEach(Ha=>{Ha.layer=null;Ha.sourceLayer=null});this._handles.remove("fl-source")};
Ta._hasMemorySource=function(){return!(this.url||!this.source)};b._createClass(Xa,[{key:"createQueryVersion",get:function(){this.commitProperty("definitionExpression");this.commitProperty("dynamicDataSource");this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")??
0)+1}},{key:"editingEnabled",get:function(){return this.loaded&&!this.capabilities?.operations.supportsEditing?!1:this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges},set:function(za){this._overrideIfSome("editingEnabled",za)}},{key:"effectiveEditingEnabled",get:function(){return R.computeEffectiveEditingEnabled(this)}},{key:"parsedUrl",get:function(){const za=F.urlToObject(this.url);null!=za&&(null!=this.dynamicDataSource?za.path=
F.join(za.path,"dynamicLayer"):null!=this.layerId&&(za.path=F.join(za.path,this.layerId.toString())));return za}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(za){sa.fixRendererFields(za,this.fieldsIndex);this._set("renderer",za)}},{key:"source",set:function(za){const Ha=this._get("source");Ha!==za&&(Ha&&Ha instanceof z&&this._resetMemorySource(Ha),za&&za instanceof z&&this._initMemorySource(za),this._set("source",za))}}]);return Xa}(ta.FeatureLayerBase(ba.FeatureReductionLayer(ma.FeatureEffectLayer(Qa.PublishableLayer(Aa.EditBusLayer(fa.BlendLayer(Fa.OrderedLayer(qa.TemporalLayer(S.ScaleRangeLayer(I.RefreshableLayer(P.ArcGISService(ka.OperationalLayer(Na.PortalLayer(C.MultiOriginJSONMixin(Ba.CustomParametersMixin(U.APIKeyMixin(r.ClonableMixin(V))))))))))))))))));
c.__decorate([O.reader("service","capabilities")],r.prototype,"readCapabilities",null);c.__decorate([K.property({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],r.prototype,"charts",void 0);c.__decorate([K.property({readOnly:!0})],r.prototype,"createQueryVersion",null);c.__decorate([K.property({json:{read:{source:"layerDefinition.copyrightText"}}})],r.prototype,"copyright",void 0);c.__decorate([K.property({json:{read:{source:"layerDefinition.displayField"}}})],r.prototype,"displayField",
void 0);c.__decorate([K.property({types:h.symbolTypes,readOnly:!0})],r.prototype,"defaultSymbol",void 0);c.__decorate([K.property({type:ra.DataLayerSource})],r.prototype,"dynamicDataSource",void 0);c.__decorate([K.property({type:Boolean})],r.prototype,"editingEnabled",null);c.__decorate([O.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],r.prototype,"readEditingEnabled",null);c.__decorate([O.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],
r.prototype,"readEditingEnabledFromWebMap",null);c.__decorate([J.writer(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],r.prototype,"writeEditingEnabled",null);c.__decorate([J.writer("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],r.prototype,"writeEditingEnabledToWebMap",null);c.__decorate([K.property({readOnly:!0})],r.prototype,"effectiveEditingEnabled",null);c.__decorate([K.property({...g.fields,
json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Pa}}}}})],r.prototype,"fields",void 0);c.__decorate([K.property(g.fieldsIndex)],r.prototype,"fieldsIndex",void 0);c.__decorate([K.property({type:L,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],r.prototype,"formTemplate",void 0);c.__decorate([K.property({json:{read:{source:"layerDefinition.extent"}}})],r.prototype,"fullExtent",
void 0);c.__decorate([K.property({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Pa,writer(Ra,Xa,Ta){(Ra=Ra?R.geometryTypeKebabDict.toJSON(Ra):null)&&D.setDeepValue(Ta,Ra,Xa)}}}},read:{source:"layerDefinition.geometryType",reader:R.geometryTypeKebabDict.read}}})],r.prototype,"geometryType",void 0);c.__decorate([K.property({json:{read:{source:"layerDefinition.hasM"}}})],r.prototype,"hasM",void 0);c.__decorate([K.property({json:{read:{source:"layerDefinition.hasZ"}}})],
r.prototype,"hasZ",void 0);c.__decorate([K.property(pa.id)],r.prototype,"id",void 0);c.__decorate([K.property({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],r.prototype,"infoFor3D",void 0);c.__decorate([K.property({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],r.prototype,"isTable",void 0);c.__decorate([O.reader("service","isTable",["type","geometryType"]),O.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],r.prototype,"readIsTable",null);
c.__decorate([J.writer("web-map","isTable")],r.prototype,"writeIsTable",null);c.__decorate([K.property(pa.labelsVisible)],r.prototype,"labelsVisible",void 0);c.__decorate([K.property({type:[T],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:ha.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:ha.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],r.prototype,"labelingInfo",void 0);
c.__decorate([K.property((()=>{const Ra=v.clone(pa.opacityDrawingInfo);Ra.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(Xa,Ta,za){D.setDeepValue(za,ya.opacityToTransparency(Xa),Ta)}}};return Ra})())],r.prototype,"opacity",void 0);c.__decorate([K.property(pa.legendEnabled)],r.prototype,"legendEnabled",void 0);c.__decorate([K.property({type:["show","hide"],json:(()=>{const Ra=v.clone(pa.listMode.json);Ra.origins["portal-item"]={read:!1,write:!1};return Ra})()})],
r.prototype,"listMode",void 0);c.__decorate([O.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],r.prototype,"readGlobalIdField",null);c.__decorate([K.property({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Pa}}}}})],r.prototype,"objectIdField",void 0);c.__decorate([O.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],r.prototype,"readObjectIdField",null);c.__decorate([K.property({value:"ArcGISFeatureLayer",
type:["ArcGISFeatureLayer"]})],r.prototype,"operationalLayerType",void 0);c.__decorate([K.property(g.outFields)],r.prototype,"outFields",void 0);c.__decorate([K.property({readOnly:!0})],r.prototype,"parsedUrl",null);c.__decorate([K.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],r.prototype,"path",void 0);c.__decorate([K.property(pa.popupEnabled)],r.prototype,"popupEnabled",void 0);c.__decorate([K.property({type:f,json:{name:"popupInfo",write:!0}})],r.prototype,"popupTemplate",
void 0);c.__decorate([K.property({readOnly:!0})],r.prototype,"defaultPopupTemplate",null);c.__decorate([K.property({types:l.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:l.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(Ra,Xa,Ta){return{ignoreOrigin:Ta?.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(Ra,Xa,Ta){return{ignoreOrigin:Ta?.writeLayerSchema}}}}})],
r.prototype,"renderer",null);c.__decorate([O.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),O.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],r.prototype,"readRenderer",null);c.__decorate([K.property((()=>{const Ra=v.clone(pa.screenSizePerspectiveEnabled);Ra.json.origins["portal-item"]={read:!1,write:!1};return Ra})())],r.prototype,"screenSizePerspectiveEnabled",void 0);c.__decorate([K.property({clonable:!1})],r.prototype,"source",
null);c.__decorate([M.cast("source")],r.prototype,"castSource",null);c.__decorate([O.reader("portal-item","source",["featureSet"]),O.reader("web-map","source",["featureSet"])],r.prototype,"readSource",null);c.__decorate([K.property({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],r.prototype,"spatialReference",void 0);c.__decorate([K.property({type:Number})],r.prototype,"subtypeCode",void 0);c.__decorate([K.property({type:[Y]})],r.prototype,"templates",void 0);c.__decorate([O.reader("templates",
["editFieldsInfo","creatorField","editorField","templates"])],r.prototype,"readTemplates",null);c.__decorate([K.property({type:Ea})],r.prototype,"timeInfo",void 0);c.__decorate([K.property()],r.prototype,"title",void 0);c.__decorate([O.reader("service","title",["name"]),O.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],r.prototype,"readTitle",null);c.__decorate([O.reader("web-map","title",["layerDefinition.name","title"])],r.prototype,"readTitleFromWebMap",
null);c.__decorate([K.property({type:String})],r.prototype,"sublayerTitleMode",void 0);c.__decorate([K.property({json:{read:!1}})],r.prototype,"type",void 0);c.__decorate([K.property({type:String})],r.prototype,"typeIdField",void 0);c.__decorate([O.reader("service","typeIdField"),O.reader("typeIdField",["layerDefinition.typeIdField"])],r.prototype,"readTypeIdField",null);c.__decorate([K.property({type:[la]})],r.prototype,"types",void 0);c.__decorate([O.reader("service","types",["types"]),O.reader("types",
["layerDefinition.types"])],r.prototype,"readTypes",null);c.__decorate([K.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],r.prototype,"visible",void 0);c.__decorate([O.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],r.prototype,"readVisible",null);return r=c.__decorate([H.subclass("esri.layers.FeatureLayer")],r)})},"esri/PopupTemplate":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Clonable ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/RelationshipContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D,y,G,F,K,M,O,H){const J=u.getLogger("esri.PopupTemplate");u=f.ofType({key:"type",defaultKeyValue:"button",base:A,typeMap:{button:B,toggle:C}});const L={base:O,key:"type",typeMap:{media:D,custom:H,text:y,attachments:G,fields:F,expression:K,relationship:M}},N="attachments fields media text expression relationship".split(" ");c=function(V){function X(){var P=V.apply(this,arguments)||this;P.actions=null;P.content="";P.expressionInfos=null;P.fieldInfos=
null;P.layerOptions=null;P.lastEditInfoEnabled=!0;P.outFields=null;P.overwriteActions=!1;P.returnGeometry=!1;P.title="";return P}a._inherits(X,V);var U=X.prototype;U.castContent=function(P){if(Array.isArray(P))return P.map(fa=>l.ensureOneOfType(L,fa));if("string"===typeof P||"function"===typeof P||P instanceof HTMLElement||p.isPromiseLike(P))return P;J.error("content error","unsupported content value",{value:P});return null};U.readContent=function(P,fa){({popupElements:P}=fa);return Array.isArray(P)&&
0<P.length?this._readPopupInfoElements(fa.description,fa.mediaInfos,P):this._readPopupInfo(fa)};U.writeContent=function(P,fa,Ba,Aa){"string"===typeof P?fa.description=P:Array.isArray(P)&&(fa.popupElements=P.filter(ma=>N.includes(ma.type)).map(ma=>ma&&ma.toJSON(Aa)),fa.popupElements.forEach(ma=>{"attachments"===ma.type?this._writeAttachmentContent(fa):"media"===ma.type?this._writeMediaContent(ma,fa):"text"===ma.type?this._writeTextContent(ma,fa):"relationship"===ma.type&&this._writeRelationshipContent(ma,
fa)}))};U.writeFieldInfos=function(P,fa,Ba,Aa){({content:Ba}=this);Ba=Array.isArray(Ba)?Ba:null;if(P){const ma=Ba?Ba.filter(ba=>"fields"===ba.type):[],ta=ma.length&&ma.every(ba=>ba.fieldInfos?.length);fa.fieldInfos=P.filter(Boolean).map(ba=>{ba=ba.toJSON(Aa);ta&&(ba.visible=!1);return ba})}if(Ba)for(const ma of Ba)"fields"===ma.type&&this._writeFieldsContent(ma,fa)};U.writeLayerOptions=function(P,fa,Ba,Aa){fa[Ba]=!P||null===P.showNoDataRecords&&null===P.returnTopmostRaster?null:P.toJSON(Aa)};U.writeTitle=
function(P,fa){fa.title=P||""};U.collectRequiredFields=async function(P,fa){const Ba=this.expressionInfos||[];await this._collectExpressionInfoFields(P,fa,[...Ba,...this._getContentExpressionInfos(this.content,Ba)]);n.collectFields(P,fa,[...(this.outFields||[]),...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])};U.getRequiredFields=async function(P){const fa=new Set;await this.collectRequiredFields(fa,P);return[...fa].sort()};U._writeFieldsContent=
function(P,fa){Array.isArray(P.fieldInfos)&&P.fieldInfos.length&&(P=q.clone(P.fieldInfos),Array.isArray(fa.fieldInfos)?P.forEach(Ba=>{const Aa=fa.fieldInfos.find(ma=>ma.fieldName.toLowerCase()===Ba.fieldName.toLowerCase());Aa?Aa.visible=!0:fa.fieldInfos.push(Ba)}):fa.fieldInfos=P)};U._writeAttachmentContent=function(P){P.showAttachments||(P.showAttachments=!0)};U._writeRelationshipContent=function(P,fa){var Ba=P.orderByFields?.map(Aa=>this._toFieldOrderJSON(Aa,P.relationshipId))||[];Ba=[...(fa.relatedRecordsInfo?.orderByFields||
[]),...Ba];fa.relatedRecordsInfo={showRelatedRecords:!0,...(Ba?.length&&{orderByFields:Ba})}};U._writeTextContent=function(P,fa){!fa.description&&P.text&&(fa.description=P.text)};U._writeMediaContent=function(P,fa){Array.isArray(P.mediaInfos)&&P.mediaInfos.length&&(P=q.clone(P.mediaInfos),Array.isArray(fa.mediaInfos)?fa.mediaInfos=[...fa.mediaInfos,...P]:fa.mediaInfos=P)};U._readPopupInfoElements=function(P,fa,Ba){var Aa=!1,ma=!1;return Ba.map(ta=>{if("media"===ta.type)return ta.mediaInfos||!fa||
ma||(ta.mediaInfos=fa,ma=!0),D.fromJSON(ta);if("text"===ta.type)return ta.text||!P||Aa||(ta.text=P,Aa=!0),y.fromJSON(ta);if("attachments"===ta.type)return G.fromJSON(ta);if("fields"===ta.type)return F.fromJSON(ta);if("expression"===ta.type)return K.fromJSON(ta);if("relationship"===ta.type)return M.fromJSON(ta)}).filter(Boolean)};U._toRelationshipContent=function(P){const {field:fa,order:Ba}=P;if(!fa?.startsWith("relationships/"))return null;var Aa=fa.replace("relationships/","").split("/");if(2!==
Aa.length)return null;P=parseInt(Aa[0],10);Aa=Aa[1];return"number"===typeof P&&Aa?M.fromJSON({relationshipId:P,orderByFields:[{field:Aa,order:Ba}]}):null};U._toFieldOrderJSON=function(P,fa){const {order:Ba,field:Aa}=P;return{field:`${"relationships/"}${fa}/${Aa}`,order:Ba}};U._readPopupInfo=function({description:P,mediaInfos:fa,showAttachments:Ba,relatedRecordsInfo:Aa={showRelatedRecords:!1}}){const ma=[];P?ma.push(new y({text:P})):ma.push(new F);Array.isArray(fa)&&fa.length&&ma.push(D.fromJSON({mediaInfos:fa}));
Ba&&ma.push(G.fromJSON({displayType:"auto"}));const {showRelatedRecords:ta,orderByFields:ba}=Aa;ta&&ba?.length&&ba.forEach(ka=>{(ka=this._toRelationshipContent(ka))&&ma.push(ka)});return ma.length?ma:P};U._getContentElementFields=function(P){var fa=P?.type;return"attachments"===fa?[...this._extractFieldNames(P.title),...this._extractFieldNames(P.description)]:"custom"===fa?P.outFields||[]:"fields"===fa?[...this._extractFieldNames(P.title),...this._extractFieldNames(P.description),...this._getFieldInfoFields(P.fieldInfos??
this.fieldInfos)]:"media"===fa?(fa=P.mediaInfos||[],[...this._extractFieldNames(P.title),...this._extractFieldNames(P.description),...fa.reduce((Ba,Aa)=>[...Ba,...this._getMediaInfoFields(Aa)],[])]):"text"===fa?this._extractFieldNames(P.text):[]};U._getMediaInfoFields=function(P){const {caption:fa,title:Ba,value:Aa}=P,{fields:ma,normalizeField:ta,tooltipField:ba,sourceURL:ka,linkURL:Fa}=Aa||{};P=[...this._extractFieldNames(Ba),...this._extractFieldNames(fa),...this._extractFieldNames(ka),...this._extractFieldNames(Fa),
...(ma??[])];ta&&P.push(ta);ba&&P.push(ba);return P};U._getContentExpressionInfos=function(P,fa){return Array.isArray(P)?P.reduce((Ba,Aa)=>[...Ba,...("expression"===Aa.type&&Aa.expressionInfo?[Aa.expressionInfo]:[])],fa):[]};U._getContentFields=function(P){return"string"===typeof P?this._extractFieldNames(P):Array.isArray(P)?P.reduce((fa,Ba)=>[...fa,...this._getContentElementFields(Ba)],[]):[]};U._collectExpressionInfoFields=async function(P,fa,Ba){Ba&&await Promise.all(Ba.map(Aa=>n.collectArcadeFieldNames(P,
fa,Aa.expression)))};U._getFieldInfoFields=function(P){return P?P.filter(fa=>void 0===fa.visible||!!fa.visible).map(fa=>fa.fieldName).filter(fa=>!fa.startsWith("relationships/")&&!fa.startsWith("expression/")):[]};U._getActionsFields=function(P){return P?P.toArray().reduce((fa,Ba)=>[...fa,...this._getActionFields(Ba)],[]):[]};U._getActionFields=function(P){const {className:fa,title:Ba,type:Aa}=P;P="button"===Aa||"toggle"===Aa?P.image:"";return[...this._extractFieldNames(Ba),...this._extractFieldNames(fa),
...this._extractFieldNames(P)]};U._getTitleFields=function(P){return"string"===typeof P?this._extractFieldNames(P):[]};U._extractFieldNames=function(P){if(!P||"string"!==typeof P)return[];P=P.match(/{[^}]*}/g);if(!P)return[];const fa=/\{(\w+):.+\}/;return(P=P.filter(Ba=>!(0===Ba.indexOf("{relationships/")||0===Ba.indexOf("{expression/"))).map(Ba=>Ba.replace(fa,"{$1}")))?P.map(Ba=>Ba.slice(1,-1)):[]};return a._createClass(X)}(c.ClonableMixin(g.JSONSupport));b.__decorate([t.property({type:u})],c.prototype,
"actions",void 0);b.__decorate([t.property()],c.prototype,"content",void 0);b.__decorate([k.cast("content")],c.prototype,"castContent",null);b.__decorate([m.reader("content","description fieldInfos popupElements mediaInfos showAttachments relatedRecordsInfo".split(" "))],c.prototype,"readContent",null);b.__decorate([d.writer("content",{popupElements:{type:f.ofType(h.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:f.ofType(v.types)},description:{type:String},relatedRecordsInfo:{type:w}})],
c.prototype,"writeContent",null);b.__decorate([t.property({type:[r],json:{write:!0}})],c.prototype,"expressionInfos",void 0);b.__decorate([t.property({type:[z]})],c.prototype,"fieldInfos",void 0);b.__decorate([d.writer("fieldInfos")],c.prototype,"writeFieldInfos",null);b.__decorate([t.property({type:x})],c.prototype,"layerOptions",void 0);b.__decorate([d.writer("layerOptions")],c.prototype,"writeLayerOptions",null);b.__decorate([t.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},
default:!0}})],c.prototype,"lastEditInfoEnabled",void 0);b.__decorate([t.property()],c.prototype,"outFields",void 0);b.__decorate([t.property()],c.prototype,"overwriteActions",void 0);b.__decorate([t.property()],c.prototype,"returnGeometry",void 0);b.__decorate([t.property({json:{type:String}})],c.prototype,"title",void 0);b.__decorate([d.writer("title")],c.prototype,"writeTitle",null);return c=b.__decorate([e.subclass("esri.PopupTemplate")],c)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/RelationshipContent ./content/TextContent".split(" "),
function(a,b,c,f,g,q,u,p,t){const k={base:null,key:"type",typeMap:{attachment:b,media:u,text:t,expression:g,field:q,relationship:p}};a.AttachmentsContent=b;a.BaseContent=c;a.CustomContent=f;a.ExpressionContent=g;a.FieldsContent=q;a.MediaContent=u;a.RelationshipContent=p;a.TextContent=t;a.isContent=function(m){return m instanceof c};a.persistableTypes=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(e){e=k.call(this,e)||this;e.description=null;e.displayType="auto";e.title=null;e.type="attachments";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({description:this.description,displayType:this.displayType,title:this.title})};return a._createClass(m)}(p);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"description",void 0);b.__decorate([c.property({type:["auto","preview","list"],json:{write:!0}})],
f.prototype,"displayType",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"title",void 0);b.__decorate([c.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=t=b.__decorate([u.subclass("esri.popup.content.AttachmentsContent")],f)})},"esri/popup/content/Content":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){c=function(t){function k(m){m=t.call(this,m)||this;m.type=null;return m}a._inherits(k,t);return a._createClass(k)}(c.JSONSupport);b.__decorate([f.property({type:"attachments custom fields media text expression relationship".split(" "),readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([p.subclass("esri.popup.content.Content")],c)})},"esri/popup/content/CustomContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,f,g,q,u){var p;g=p=function(t){function k(m){m=t.call(this,m)||this;m.creator=null;m.destroyer=null;m.outFields=null;m.type="custom";return m}a._inherits(k,t);k.prototype.clone=function(){return new p({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?c.clone(this.outFields):null})};return a._createClass(k)}(u);b.__decorate([f.property()],g.prototype,"creator",void 0);b.__decorate([f.property()],g.prototype,"destroyer",void 0);b.__decorate([f.property()],
g.prototype,"outFields",void 0);b.__decorate([f.property({type:["custom"],readOnly:!0})],g.prototype,"type",void 0);return g=p=b.__decorate([q.subclass("esri.popup.content.CustomContent")],g)})},"esri/popup/content/ExpressionContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(d){d=m.call(this,d)||this;d.expressionInfo=null;d.type="expression";return d}a._inherits(e,m);e.prototype.clone=function(){return new k({expressionInfo:this.expressionInfo?.clone()})};return a._createClass(e)}(t);b.__decorate([c.property({type:p,json:{write:!0}})],f.prototype,"expressionInfo",void 0);b.__decorate([c.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=k=b.__decorate([u.subclass("esri.popup.content.ExpressionContent")],
f)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(e){e=k.call(this,e)||this;e.title=null;e.expression=null;e.returnType="dictionary";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({title:this.title,
expression:this.expression})};return a._createClass(m)}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([f.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"returnType",void 0);return c=t=b.__decorate([p.subclass("esri.popup.ElementExpressionInfo")],c)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;g=k=function(m){function e(l){l=m.call(this,l)||this;l.attributes=null;l.description=null;l.fieldInfos=null;l.title=null;l.type="fields";return l}a._inherits(e,m);var d=e.prototype;d.writeFieldInfos=function(l,n){n.fieldInfos=l&&l.map(h=>h.toJSON())};d.clone=function(){return new k(c.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))};return a._createClass(e)}(t);b.__decorate([f.property({type:Object,json:{write:!0}})],
g.prototype,"attributes",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"description",void 0);b.__decorate([f.property({type:[p]})],g.prototype,"fieldInfos",void 0);b.__decorate([u.writer("fieldInfos")],g.prototype,"writeFieldInfos",null);b.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"title",void 0);b.__decorate([f.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],g.prototype,"type",void 0);return g=k=b.__decorate([q.subclass("esri.popup.content.FieldsContent")],
g)})},"esri/popup/FieldInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),function(a,b,c,f,g,q,u,p,t,k){var m;f=m=function(e){function d(l){l=e.call(this,l)||this;l.fieldName=null;l.format=null;l.isEditable=!0;l.label=
null;l.stringFieldOption="text-box";l.statisticType=null;l.tooltip=null;l.visible=!0;return l}a._inherits(d,e);d.prototype.clone=function(){return new m({fieldName:this.fieldName,format:this.format?g.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};return a._createClass(d)}(f.JSONSupport);b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"fieldName",
void 0);b.__decorate([q.property({type:k,json:{write:!0}})],f.prototype,"format",void 0);b.__decorate([q.property({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],f.prototype,"isEditable",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"label",void 0);b.__decorate([p.enumeration(new c.JSONMap({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],f.prototype,"stringFieldOption",void 0);b.__decorate([q.property({type:"count sum min max avg stddev var".split(" "),
json:{write:!0}})],f.prototype,"statisticType",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"tooltip",void 0);b.__decorate([q.property({type:Boolean,json:{write:!0}})],f.prototype,"visible",void 0);return f=m=b.__decorate([t.subclass("esri.popup.FieldInfo")],f)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date ../../intl/number".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){c=function(d){function l(h){h=d.call(this,h)||this;h.dateFormat=null;h.digitSeparator=!1;h.places=null;return h}a._inherits(l,d);var n=l.prototype;n.formatNumber=function(h){return e.formatNumber(h,e.convertNumberFormatToIntlOptions(this))};n.formatDate=function(h,r=!1){return this.dateFormat?m.formatDate(h,{...m.convertDateFormatToIntlOptions(this.dateFormat),...(r&&m.utcTimeZone)}):this.formatNumber(h)};n.formatDateOnly=function(h){const r=(this.dateFormat&&m.convertDateFormatToIntlOptions(this.dateFormat))??
void 0;return m.formatDateOnly(h,r)};n.formatTimeOnly=function(h){const r=(this.dateFormat&&m.convertDateFormatToIntlOptions(this.dateFormat))??void 0;return m.formatTimeOnly(h,r)};n.formatTimestamp=function(h){const r=(this.dateFormat&&m.convertDateFormatToIntlOptions(this.dateFormat))??void 0;return m.formatTimestamp(h,r)};n.formatRasterPixelValue=function(h){return h.includes("-")?h:h.trim().includes(",")?this._formatDelimitedString(h,",",", "):h.trim().includes(";")?this._formatDelimitedString(h,
";","; "):h.trim().includes(" ")?this._formatDelimitedString(h," "," "):this.formatNumber(Number(h))};n._formatDelimitedString=function(h,r,z){return h&&r&&z?h.trim().split(r).map(x=>this.formatNumber(Number(x))).join(z):h};return a._createClass(l)}(c.ClonableMixin(f.JSONSupport));b.__decorate([t.enumeration(m.dateFormatJSONMap)],c.prototype,"dateFormat",void 0);b.__decorate([g.property({type:Boolean,json:{write:!0}})],c.prototype,"digitSeparator",void 0);b.__decorate([g.property({type:q.Integer,
json:{write:!0}})],c.prototype,"places",void 0);return c=b.__decorate([k.subclass("esri.popup.support.FieldInfoFormat")],c)})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale","../chunks/datetime"],function(a,b,c,f){function g(v){v=v||w;var A=x.get(v);A||(A=c.getLocale(),A=new Intl.DateTimeFormat(z[A]||A,v),x.set(v,A));return A}function q(v,A){return g(A).format(v)}const u={year:void 0,month:void 0,day:void 0,weekday:void 0},p={hour:void 0,minute:void 0,second:void 0},t=
{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},k={timeZone:"Etc/UTC"},m={year:"numeric",month:"numeric",day:"numeric"},e={year:"numeric",month:"long",day:"numeric"},d={year:"numeric",month:"short",day:"numeric"},l={year:"numeric",month:"long",weekday:"long",day:"numeric"},n={hour:"numeric",minute:"numeric"},h={...n,second:"numeric"},r={"short-date":m,"short-date-short-time":{...m,...n},"short-date-short-time-24":{...m,...n,hour12:!1},"short-date-long-time":{...m,...h},"short-date-long-time-24":{...m,
...h,hour12:!1},"short-date-le":m,"short-date-le-short-time":{...m,...n},"short-date-le-short-time-24":{...m,...n,hour12:!1},"short-date-le-long-time":{...m,...h},"short-date-le-long-time-24":{...m,...h,hour12:!1},"long-month-day-year":e,"long-month-day-year-short-time":{...e,...n},"long-month-day-year-short-time-24":{...e,...n,hour12:!1},"long-month-day-year-long-time":{...e,...h},"long-month-day-year-long-time-24":{...e,...h,hour12:!1},"day-short-month-year":d,"day-short-month-year-short-time":{...d,
...n},"day-short-month-year-short-time-24":{...d,...n,hour12:!1},"day-short-month-year-long-time":{...d,...h},"day-short-month-year-long-time-24":{...d,...h,hour12:!1},"long-date":l,"long-date-short-time":{...l,...n},"long-date-short-time-24":{...l,...n,hour12:!1},"long-date-long-time":{...l,...h},"long-date-long-time-24":{...l,...h,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":n,"long-time":h};b=b.strict()({shortDate:"short-date",
shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",
longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",
longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const z={ar:"ar-u-nu-latn-ca-gregory"};let x=new WeakMap,w=r["short-date-short-time"];c.beforeLocaleChange(()=>{x=new WeakMap;w=r["short-date-short-time"]});a.convertDateFormatToIntlOptions=function(v){return r[v]};a.dateFormatJSONMap=b;a.formatDate=q;a.formatDateOnly=function(v,A=r["short-date"]){return q(new Date(v),
{...A,...k,...p})};a.formatTimeOnly=function(v,A=r["short-time"]){return q(new Date(`1970-01-01T${v}Z`),{...A,...k,...u})};a.formatTimestamp=function(v,A=r["short-date-short-time"]){v=f.DateTime.fromISO(v,{setZone:!0});const B=c.getLocale();return v.toLocaleString({...t,...A},{locale:z[B]??B})};a.getDateTimeFormatter=g;a.utcTimeZone=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],function(a){function b(E,Q={}){const ea=JSON.stringify([E,
Q]);let va=oc[ea];va||(va=new Intl.ListFormat(E,Q),oc[ea]=va);return va}function c(E,Q={}){const ea=JSON.stringify([E,Q]);let va=bc[ea];va||(va=new Intl.DateTimeFormat(E,Q),bc[ea]=va);return va}function f(E,Q={}){const ea=JSON.stringify([E,Q]);let va=cc[ea];va||(va=new Intl.NumberFormat(E,Q),cc[ea]=va);return va}function g(E,Q={}){const {base:ea,...va}=Q,Ga=JSON.stringify([E,va]);let La=dc[Ga];La||(La=new Intl.RelativeTimeFormat(E,Q),dc[Ga]=La);return La}function q(E){const Q=[];for(let ea=1;12>=
ea;ea++){const va=jb.utc(2016,ea,1);Q.push(E(va))}return Q}function u(E){const Q=[];for(let ea=1;7>=ea;ea++){const va=jb.utc(2016,11,13+ea);Q.push(E(va))}return Q}function p(E,Q,ea,va,Ga){E=E.listingMode(ea);return"error"===E?null:"en"===E?va(Q):Ga(Q)}function t(E,Q){if(k(E)||null===E)return Q;if(E instanceof Tb)return E;if("string"===typeof E){const ea=E.toLowerCase();return"default"===ea?Q:"local"===ea||"system"===ea?Yb.instance:"utc"===ea||"gmt"===ea?Db.utcInstance:Db.parseSpecifier(ea)||Lb.create(E)}return m(E)?
Db.instance(E):"object"===typeof E&&E.offset&&"number"===typeof E.offset?E:new Nc(E)}function k(E){return"undefined"===typeof E}function m(E){return"number"===typeof E}function e(E){return"number"===typeof E&&0===E%1}function d(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(E){return!1}}function l(E,Q,ea){if(0!==E.length)return E.reduce((va,Ga)=>{Ga=[Q(Ga),Ga];return va?ea(va[0],Ga[0])===va[0]?va:Ga:Ga},null)[1]}function n(E,Q){return Q.reduce((ea,va)=>{ea[va]=E[va];return ea},
{})}function h(E,Q){return Object.prototype.hasOwnProperty.call(E,Q)}function r(E,Q,ea){return e(E)&&E>=Q&&E<=ea}function z(E,Q=2){return 0>E?"-"+(""+-E).padStart(Q,"0"):(""+E).padStart(Q,"0")}function x(E){if(!k(E)&&null!==E&&""!==E)return parseInt(E,10)}function w(E){if(!k(E)&&null!==E&&""!==E)return parseFloat(E)}function v(E){if(!k(E)&&null!==E&&""!==E)return E=1E3*parseFloat("0."+E),Math.floor(E)}function A(E,Q,ea=!1){Q=10**Q;return(ea?Math.trunc:Math.round)(E*Q)/Q}function B(E){return 0===E%
4&&(0!==E%100||0===E%400)}function C(E,Q){var ea=Q-1;ea=ea-12*Math.floor(ea/12)+1;return 2===ea?B(E+(Q-ea)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][ea-1]}function D(E){let Q=Date.UTC(E.year,E.month-1,E.day,E.hour,E.minute,E.second,E.millisecond);100>E.year&&0<=E.year&&(Q=new Date(Q),Q.setUTCFullYear(E.year,E.month-1,E.day));return+Q}function y(E){var Q=E-1;Q=(Q+Math.floor(Q/4)-Math.floor(Q/100)+Math.floor(Q/400))%7;return 4===(E+Math.floor(E/4)-Math.floor(E/100)+Math.floor(E/400))%7||3===
Q?53:52}function G(E){return 99<E?E:E>wb.twoDigitCutoffYear?1900+E:2E3+E}function F(E,Q,ea,va=null){E=new Date(E);const Ga={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};va&&(Ga.timeZone=va);return(Q=(new Intl.DateTimeFormat(ea,{timeZoneName:Q,...Ga})).formatToParts(E).find(La=>"timezonename"===La.type.toLowerCase()))?Q.value:null}function K(E,Q){E=parseInt(E,10);Number.isNaN(E)&&(E=0);Q=parseInt(Q,10)||0;Q=0>E||Object.is(E,-0)?-Q:Q;return 60*E+Q}function M(E){const Q=
Number(E);if("boolean"===typeof E||""===E||Number.isNaN(Q))throw new $a(`Invalid unit value ${E}`);return Q}function O(E,Q){const ea={};for(const va in E)if(h(E,va)){const Ga=E[va];void 0!==Ga&&null!==Ga&&(ea[Q(va)]=M(Ga))}return ea}function H(E,Q){const ea=Math.trunc(Math.abs(E/60)),va=Math.trunc(Math.abs(E%60));E=0<=E?"+":"-";switch(Q){case "short":return`${E}${z(ea,2)}:${z(va,2)}`;case "narrow":return`${E}${ea}${0<va?`:${va}`:""}`;case "techie":return`${E}${z(ea,2)}${z(va,2)}`;default:throw new RangeError(`Value format ${Q} is out of range for property format`);
}}function J(E){return n(E,["hour","minute","second","millisecond"])}function L(E){switch(E){case "narrow":return[...Oc];case "short":return[...pc];case "long":return[...Pc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function N(E){switch(E){case "narrow":return[...Qc];case "short":return[...qc];case "long":return[...rc];case "numeric":return"1234567".split("");default:return null}}function V(E){switch(E){case "narrow":return[...Rc];
case "short":return[...Sc];case "long":return[...Tc];default:return null}}function X(E,Q,ea="always",va=!1){const Ga={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var La=-1===["hours","minutes","seconds"].indexOf(E);if("auto"===ea&&La)switch(ea="days"===E,Q){case 1:return ea?"tomorrow":`next ${Ga[E][0]}`;case -1:return ea?"yesterday":`last ${Ga[E][0]}`;
case 0:return ea?"today":`this ${Ga[E][0]}`}ea=Object.is(Q,-0)||0>Q;Q=Math.abs(Q);La=1===Q;const Wa=Ga[E];E=va?La?Wa[1]:Wa[2]||Wa[1]:La?Ga[E][0]:E;return ea?`${Q} ${E} ago`:`in ${Q} ${E}`}function U(E,Q){let ea="";for(const va of E)ea=va.literal?ea+va.val:ea+Q(va.val);return ea}function P(...E){E=E.reduce((Q,ea)=>Q+ea.source,"");return RegExp(`^${E}$`)}function fa(...E){return Q=>E.reduce(([ea,va,Ga],La)=>{const [Wa,db,fb]=La(Q,Ga);return[{...ea,...Wa},db||va,fb]},[{},null,1]).slice(0,2)}function Ba(E,
...Q){if(null==E)return[null,null];for(const [ea,va]of Q)if(Q=ea.exec(E))return va(Q);return[null,null]}function Aa(...E){return(Q,ea)=>{const va={};let Ga;for(Ga=0;Ga<E.length;Ga++)va[E[Ga]]=x(Q[ea+Ga]);return[va,null,ea+Ga]}}function ma(E,Q,ea){E=E[Q];return k(E)?ea:x(E)}function ta(E,Q){return[{hours:ma(E,Q,0),minutes:ma(E,Q+1,0),seconds:ma(E,Q+2,0),milliseconds:v(E[Q+3])},null,Q+4]}function ba(E,Q){const ea=!E[Q]&&!E[Q+1];E=K(E[Q+1],E[Q+2]);return[{},ea?null:Db.instance(E),Q+3]}function ka(E,
Q){return[{},E[Q]?Lb.create(E[Q]):null,Q+1]}function Fa(E){const [Q,ea,va,Ga,La,Wa,db,fb,kb]=E,hb="-"===Q[0];E=fb&&"-"===fb[0];const mb=(lb,Eb=!1)=>void 0!==lb&&(Eb||lb&&hb)?-lb:lb;return[{years:mb(w(ea)),months:mb(w(va)),weeks:mb(w(Ga)),days:mb(w(La)),hours:mb(w(Wa)),minutes:mb(w(db)),seconds:mb(w(fb),"-0"===fb),milliseconds:mb(v(kb),E)}]}function Na(E,Q,ea,va,Ga,La,Wa){Q={year:2===Q.length?G(x(Q)):x(Q),month:pc.indexOf(ea)+1,day:x(va),hour:x(Ga),minute:x(La)};Wa&&(Q.second=x(Wa));E&&(Q.weekday=
3<E.length?rc.indexOf(E)+1:qc.indexOf(E)+1);return Q}function Qa(E){const [,Q,ea,va,Ga,La,Wa,db,fb,kb,hb,mb]=E;E=Na(Q,Ga,va,ea,La,Wa,db);let lb;lb=fb?Uc[fb]:kb?0:K(hb,mb);return[E,new Db(lb)]}function I(E){const [,Q,ea,va,Ga,La,Wa,db]=E;return[Na(Q,Ga,va,ea,La,Wa,db),Db.utcInstance]}function S(E){const [,Q,ea,va,Ga,La,Wa,db]=E;return[Na(Q,db,ea,va,Ga,La,Wa),Db.utcInstance]}function qa(E,Q,ea=!1){E={values:ea?Q.values:{...E.values,...(Q.values||{})},loc:E.loc.clone(Q.loc),conversionAccuracy:Q.conversionAccuracy||
E.conversionAccuracy,matrix:Q.matrix||E.matrix};return new ob(E)}function W(E,Q,ea,va,Ga){E=E[Ga][ea];var La=Q[ea]/E;La=Math.sign(La)!==Math.sign(va[Ga])&&0!==va[Ga]&&1>=Math.abs(La)?0>La?Math.floor(La):Math.ceil(La):Math.trunc(La);va[Ga]+=La;Q[ea]-=La*E}function pa(E,Q){Vc.reduce((ea,va)=>{if(k(Q[va]))return ea;ea&&W(E,Q,ea,Q,va);return va},null)}function R(E,Q){E=Q.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-E.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(ob.fromMillis(E).as("days"))}
function Y(E,Q,ea){const va=[["years",(fb,kb)=>kb.year-fb.year],["quarters",(fb,kb)=>kb.quarter-fb.quarter+4*(kb.year-fb.year)],["months",(fb,kb)=>kb.month-fb.month+12*(kb.year-fb.year)],["weeks",(fb,kb)=>{fb=R(fb,kb);return(fb-fb%7)/7}],["days",R]],Ga={},La=E;let Wa,db;for(const [fb,kb]of va)0<=ea.indexOf(fb)&&(Wa=fb,Ga[fb]=kb(E,Q),db=La.plus(Ga),db>Q?(Ga[fb]--,E=La.plus(Ga)):E=db);return[E,Ga,db,Wa]}function la(E,Q,ea,va){let [Ga,La,Wa,db]=Y(E,Q,ea);E=Q-Ga;ea=ea.filter(fb=>0<=["hours","minutes",
"seconds","milliseconds"].indexOf(fb));0===ea.length&&(Wa<Q&&(Wa=Ga.plus({[db]:1})),Wa!==Ga&&(La[db]=(La[db]||0)+E/(Wa-Ga)));Q=ob.fromObject(La,va);return 0<ea.length?ob.fromMillis(E,va).shiftTo(...ea).plus(Q):Q}function ja({numberingSystem:E},Q=""){return new RegExp(`${ec[E||"latn"]}${Q}`)}function sa(E,Q=ea=>ea){return{regex:E,deser:([ea])=>{{let va=parseInt(ea,10);if(isNaN(va)){va="";for(let Ga=0;Ga<ea.length;Ga++){const La=ea.charCodeAt(Ga);if(-1!==ea[Ga].search(ec.hanidec))va+=Wc.indexOf(ea[Ga]);
else for(const Wa in sc){const [db,fb]=sc[Wa];La>=db&&La<=fb&&(va+=La-db)}}ea=parseInt(va,10)}else ea=va}return Q(ea)}}}function T(E){return E.replace(/\./g,"\\.?").replace(fc,tc)}function ha(E,Q){return null===E?null:{regex:RegExp(E.map(T).join("|")),deser:([ea])=>E.findIndex(va=>ea.replace(/\./g,"").replace(fc," ").toLowerCase()===va.replace(/\./g,"").replace(fc," ").toLowerCase())+Q}}function ua(E,Q){return{regex:E,deser:([,ea,va])=>K(ea,va),groups:Q}}function Ea(E){return{regex:E,deser:([Q])=>
Q}}function da(E,Q){const ea=ja(Q),va=ja(Q,"{2}"),Ga=ja(Q,"{3}"),La=ja(Q,"{4}"),Wa=ja(Q,"{6}"),db=ja(Q,"{1,2}"),fb=ja(Q,"{1,3}"),kb=ja(Q,"{1,6}"),hb=ja(Q,"{1,9}"),mb=ja(Q,"{2,4}"),lb=ja(Q,"{4,6}"),Eb=Ob=>({regex:RegExp(Ob.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([gc])=>gc,literal:!0}),Ub=(Ob=>{if(E.literal)return Eb(Ob);switch(Ob.val){case "G":return ha(Q.eras("short",!1),0);case "GG":return ha(Q.eras("long",!1),0);case "y":return sa(kb);case "yy":return sa(mb,G);case "yyyy":return sa(La);
case "yyyyy":return sa(lb);case "yyyyyy":return sa(Wa);case "M":return sa(db);case "MM":return sa(va);case "MMM":return ha(Q.months("short",!0,!1),1);case "MMMM":return ha(Q.months("long",!0,!1),1);case "L":return sa(db);case "LL":return sa(va);case "LLL":return ha(Q.months("short",!1,!1),1);case "LLLL":return ha(Q.months("long",!1,!1),1);case "d":return sa(db);case "dd":return sa(va);case "o":return sa(fb);case "ooo":return sa(Ga);case "HH":return sa(va);case "H":return sa(db);case "hh":return sa(va);
case "h":return sa(db);case "mm":return sa(va);case "m":return sa(db);case "q":return sa(db);case "qq":return sa(va);case "s":return sa(db);case "ss":return sa(va);case "S":return sa(fb);case "SSS":return sa(Ga);case "u":return Ea(hb);case "uu":return Ea(db);case "uuu":return sa(ea);case "a":return ha(Q.meridiems(),0);case "kkkk":return sa(La);case "kk":return sa(mb,G);case "W":return sa(db);case "WW":return sa(va);case "E":case "c":return sa(ea);case "EEE":return ha(Q.weekdays("short",!1,!1),1);
case "EEEE":return ha(Q.weekdays("long",!1,!1),1);case "ccc":return ha(Q.weekdays("short",!0,!1),1);case "cccc":return ha(Q.weekdays("long",!0,!1),1);case "Z":case "ZZ":return ua(new RegExp(`([+-]${db.source})(?::(${va.source}))?`),2);case "ZZZ":return ua(new RegExp(`([+-]${db.source})(${va.source})?`),2);case "z":return Ea(/[a-z_+-/]{1,256}?/i);case " ":return Ea(/[^\S\n\r]/);default:return Eb(Ob)}})(E)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};Ub.token=E;return Ub}function ra(E){return[`^${E.map(Q=>
Q.regex).reduce((Q,ea)=>`${Q}(${ea.source})`,"")}$`,E]}function wa(E,Q,ea){if(E=E.match(Q)){Q={};let va=1;for(const Ga in ea)if(h(ea,Ga)){const La=ea[Ga],Wa=La.groups?La.groups+1:1;!La.literal&&La.token&&(Q[La.token.val[0]]=La.deser(E.slice(va,va+Wa)));va+=Wa}return[E,Q]}return[E,{}]}function Ma(E){const Q=Ga=>{switch(Ga){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";
case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};let ea=null,va;k(E.z)||(ea=Lb.create(E.z));k(E.Z)||(ea||(ea=new Db(E.Z)),va=E.Z);k(E.q)||(E.M=3*(E.q-1)+1);k(E.h)||(12>E.h&&1===E.a?E.h+=12:12===E.h&&0===E.a&&(E.h=0));0===E.G&&E.y&&(E.y=-E.y);k(E.u)||(E.S=v(E.u));return[Object.keys(E).reduce((Ga,La)=>{const Wa=Q(La);Wa&&(Ga[Wa]=E[La]);return Ga},{}),ea,va]}function Z(E,Q){return Array.prototype.concat(...E.map(ea=>
{if(!ea.literal){var va=Fb.macroTokenToFormatOpts(ea.val);va=Da(va,Q);ea=null==va||va.includes(void 0)?ea:va}return ea}))}function ia(E,Q,ea){ea=Z(Fb.parseFormat(ea),E);var va=ea.map(lb=>da(lb,E));const Ga=va.find(lb=>lb.invalidReason);if(Ga)return{input:Q,tokens:ea,invalidReason:Ga.invalidReason};const [La,Wa]=ra(va);va=RegExp(La,"i");const [db,fb]=wa(Q,va,Wa),[kb,hb,mb]=fb?Ma(fb):[null,null,void 0];if(h(fb,"a")&&h(fb,"H"))throw new Ia("Can't include meridiem when specifying 24-hour format");return{input:Q,
tokens:ea,regex:va,rawMatches:db,matches:fb,result:kb,zone:hb,specificOffset:mb}}function Da(E,Q){if(!E)return null;Q=Fb.create(Q,E);var ea=Q.formatDateTimeParts;hc||(hc=jb.fromMillis(1555555555555));return ea.call(Q,hc).map(va=>{{const {type:La,value:Wa}=va;if("literal"===La)va=/^\s+$/.test(Wa),va={literal:!va,val:va?" ":Wa};else{va=E[La];var Ga=Xc[La];"object"===typeof Ga&&(Ga=Ga[va]);va=Ga?{literal:!1,val:Ga}:void 0}}return va})}function ya(E,Q){return new Jb("unit out of range",`you specified ${Q} (of type ${typeof Q}) as a ${E}, which is invalid`)}
function Ka(E,Q,ea){Q=new Date(Date.UTC(E,Q-1,ea));100>E&&0<=E&&Q.setUTCFullYear(Q.getUTCFullYear()-1900);E=Q.getUTCDay();return 0===E?7:E}function Pa(E,Q){E=B(E)?ic:jc;const ea=E.findIndex(va=>va<Q);return{month:ea+1,day:Q-E[ea]}}function Ua(E){const {year:Q,month:ea,day:va}=E;var Ga=va+(B(Q)?ic:jc)[ea-1];const La=Ka(Q,ea,va);Ga=Math.floor((Ga-La+10)/7);let Wa;1>Ga?(Wa=Q-1,Ga=y(Wa)):Ga>y(Q)?(Wa=Q+1,Ga=1):Wa=Q;return{weekYear:Wa,weekNumber:Ga,weekday:La,...J(E)}}function Ra(E){const {weekYear:Q,weekNumber:ea,
weekday:va}=E;var Ga=Ka(Q,1,4),La=B(Q)?366:365;Ga=7*ea+va-Ga-3;1>Ga?(La=Q-1,Ga+=B(La)?366:365):Ga>La?(La=Q+1,Ga-=B(Q)?366:365):La=Q;const {month:Wa,day:db}=Pa(La,Ga);return{year:La,month:Wa,day:db,...J(E)}}function Xa(E){const {year:Q,month:ea,day:va}=E;var Ga=va+(B(Q)?ic:jc)[ea-1];return{year:Q,ordinal:Ga,...J(E)}}function Ta(E){const {year:Q,ordinal:ea}=E,{month:va,day:Ga}=Pa(Q,ea);return{year:Q,month:va,day:Ga,...J(E)}}function za(E){const Q=e(E.year),ea=r(E.month,1,12),va=r(E.day,1,C(E.year,E.month));
return Q?ea?va?!1:ya("day",E.day):ya("month",E.month):ya("year",E.year)}function Ha(E){const {hour:Q,minute:ea,second:va,millisecond:Ga}=E;E=r(Q,0,23)||24===Q&&0===ea&&0===va&&0===Ga;const La=r(ea,0,59),Wa=r(va,0,59),db=r(Ga,0,999);return E?La?Wa?db?!1:ya("millisecond",Ga):ya("second",va):ya("minute",ea):ya("hour",Q)}function ab(E){return new Jb("unsupported zone",`the zone "${E.name}" is not supported`)}function cb(E){null===E.weekData&&(E.weekData=Ua(E.c));return E.weekData}function xa(E,Q){E={ts:E.ts,
zone:E.zone,c:E.c,o:E.o,loc:E.loc,invalid:E.invalid};return new jb({...E,...Q,old:E})}function pb(E,Q,ea){let va=E-6E4*Q;const Ga=ea.offset(va);if(Q===Ga)return[va,Q];va-=6E4*(Ga-Q);Q=ea.offset(va);return Ga===Q?[va,Ga]:[E-6E4*Math.min(Ga,Q),Math.max(Ga,Q)]}function tb(E,Q){E=new Date(E+6E4*Q);return{year:E.getUTCFullYear(),month:E.getUTCMonth()+1,day:E.getUTCDate(),hour:E.getUTCHours(),minute:E.getUTCMinutes(),second:E.getUTCSeconds(),millisecond:E.getUTCMilliseconds()}}function qb(E,Q,ea){return pb(D(E),
Q,ea)}function Ib(E,Q){const ea=E.o;var va=E.c.year+Math.trunc(Q.years);const Ga=E.c.month+Math.trunc(Q.months)+3*Math.trunc(Q.quarters);va={...E.c,year:va,month:Ga,day:Math.min(E.c.day,C(va,Ga))+Math.trunc(Q.days)+7*Math.trunc(Q.weeks)};Q=ob.fromObject({years:Q.years-Math.trunc(Q.years),quarters:Q.quarters-Math.trunc(Q.quarters),months:Q.months-Math.trunc(Q.months),weeks:Q.weeks-Math.trunc(Q.weeks),days:Q.days-Math.trunc(Q.days),hours:Q.hours,minutes:Q.minutes,seconds:Q.seconds,milliseconds:Q.milliseconds}).as("milliseconds");
va=D(va);let [La,Wa]=pb(va,ea,E.zone);0!==Q&&(La+=Q,Wa=E.zone.offset(La));return{ts:La,o:Wa}}function Ab(E,Q,ea,va,Ga,La){const {setZone:Wa,zone:db}=ea;return E&&0!==Object.keys(E).length||Q?(E=jb.fromObject(E,{...ea,zone:Q||db,specificOffset:La}),Wa?E:E.setZone(db)):jb.invalid(new Jb("unparsable",`the input "${Ga}" can't be parsed as ${va}`))}function Cb(E,Q,ea=!0){return E.isValid?Fb.create(sb.create("en-US"),{allowZ:ea,forceSimple:!0}).formatDateTimeFromString(E,Q):null}function Hb(E,Q){const ea=
9999<E.c.year||0>E.c.year;let va="";ea&&0<=E.c.year&&(va+="+");va+=z(E.c.year,ea?6:4);Q?(va=va+"-"+z(E.c.month),va=va+"-"+z(E.c.day)):(va+=z(E.c.month),va+=z(E.c.day));return va}function ub(E,Q,ea,va,Ga,La){let Wa=z(E.c.hour);Q?(Wa=Wa+":"+z(E.c.minute),0===E.c.second&&ea||(Wa+=":")):Wa+=z(E.c.minute);0===E.c.second&&ea||(Wa+=z(E.c.second),0===E.c.millisecond&&va||(Wa=Wa+"."+z(E.c.millisecond,3)));Ga&&(E.isOffsetFixed&&0===E.offset&&!La?Wa+="Z":0>E.o?(Wa=Wa+"-"+z(Math.trunc(-E.o/60)),Wa=Wa+":"+z(Math.trunc(-E.o%
60))):(Wa=Wa+"+"+z(Math.trunc(E.o/60)),Wa=Wa+":"+z(Math.trunc(E.o%60))));La&&(Wa+="["+E.zone.ianaName+"]");return Wa}function Bb(E){const Q={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",
weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[E.toLowerCase()];if(!Q)throw new Za(E);return Q}function nb(E,Q){const ea=t(Q.zone,wb.defaultZone);Q=sb.fromObject(Q);const va=wb.now();var Ga;if(k(E.year))E=va;else{for(const La of uc)k(E[La])&&(E[La]=vc[La]);if(Ga=za(E)||Ha(E))return jb.invalid(Ga);Ga=ea.offset(va);[E,Ga]=qb(E,Ga,ea)}return new jb({ts:E,zone:ea,loc:Q,o:Ga})}function rb(E,Q,ea){const va=k(ea.round)?!0:ea.round,Ga=(Wa,db)=>{Wa=A(Wa,va||ea.calendary?0:2,!0);return Q.loc.clone(ea).relFormatter(ea).format(Wa,
db)},La=Wa=>ea.calendary?Q.hasSame(E,Wa)?0:Q.startOf(Wa).diff(E.startOf(Wa),Wa).get(Wa):Q.diff(E,Wa).get(Wa);if(ea.unit)return Ga(La(ea.unit),ea.unit);for(const Wa of ea.units){const db=La(Wa);if(1<=Math.abs(db))return Ga(db,Wa)}return Ga(E>Q?-0:0,ea.units[ea.units.length-1])}function xb(E){let Q={};0<E.length&&"object"===typeof E[E.length-1]?(Q=E[E.length-1],E=Array.from(E).slice(0,E.length-1)):E=Array.from(E);return[Q,E]}function gb(E){if(jb.isDateTime(E))return E;if(E&&E.valueOf&&m(E.valueOf()))return jb.fromJSDate(E);
if(E&&"object"===typeof E)return jb.fromObject(E);throw new $a(`Unknown datetime argument: ${E}, of type ${typeof E}`);}class zb extends Error{}class na extends zb{constructor(E){super(`Invalid DateTime: ${E.toMessage()}`)}}class ca extends zb{constructor(E){super(`Invalid Interval: ${E.toMessage()}`)}}class oa extends zb{constructor(E){super(`Invalid Duration: ${E.toMessage()}`)}}class Ia extends zb{}class Za extends zb{constructor(E){super(`Invalid unit ${E}`)}}class $a extends zb{}class Va extends zb{constructor(){super("Zone is an abstract class")}}
const Ya={year:"numeric",month:"numeric",day:"numeric"},Ja={year:"numeric",month:"short",day:"numeric"},aa={year:"numeric",month:"short",day:"numeric",weekday:"short"},Ca={year:"numeric",month:"long",day:"numeric"},Oa={year:"numeric",month:"long",day:"numeric",weekday:"long"},Sa={hour:"numeric",minute:"numeric"},bb={hour:"numeric",minute:"numeric",second:"numeric"},eb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},ib={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},
yb={hour:"numeric",minute:"numeric",hourCycle:"h23"},Mb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},Qb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},Kb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},Vb={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},Gb={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Rb={year:"numeric",
month:"short",day:"numeric",hour:"numeric",minute:"numeric"},Sb={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Nb={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},Wb={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},wc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},xc={year:"numeric",month:"long",
day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},yc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"};class Tb{get type(){throw new Va;}get name(){throw new Va;}get ianaName(){return this.name}get isUniversal(){throw new Va;}offsetName(E,Q){throw new Va;}formatOffset(E,Q){throw new Va;}offset(E){throw new Va;}equals(E){throw new Va;}get isValid(){throw new Va;}}let kc=null;class Yb extends Tb{static get instance(){null===
kc&&(kc=new Yb);return kc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(E,{format:Q,locale:ea}){return F(E,Q,ea)}formatOffset(E,Q){return H(this.offset(E),Q)}offset(E){return-(new Date(E)).getTimezoneOffset()}equals(E){return"system"===E.type}get isValid(){return!0}}let Zb={};const Yc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let $b={};class Lb extends Tb{static create(E){$b[E]||($b[E]=new Lb(E));return $b[E]}static resetCache(){$b=
{};Zb={}}static isValidSpecifier(E){return this.isValidZone(E)}static isValidZone(E){if(!E)return!1;try{return(new Intl.DateTimeFormat("en-US",{timeZone:E})).format(),!0}catch(Q){return!1}}constructor(E){super();this.zoneName=E;this.valid=Lb.isValidZone(E)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(E,{format:Q,locale:ea}){return F(E,Q,ea,this.name)}formatOffset(E,Q){return H(this.offset(E),Q)}offset(E){E=new Date(E);if(isNaN(E))return NaN;var Q=this.name;
Zb[Q]||(Zb[Q]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Q,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}));Q=Zb[Q];if(Q.formatToParts){Q=Q.formatToParts(E);var ea=[];for(let hb=0;hb<Q.length;hb++){const {type:mb,value:lb}=Q[hb],Eb=Yc[mb];"era"===mb?ea[Eb]=lb:k(Eb)||(ea[Eb]=parseInt(lb,10))}Q=ea}else{Q=Q.format(E).replace(/\u200E/g,"");Q=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Q);const [,hb,mb,lb,Eb,Ub,Ob,gc]=Q;Q=
[lb,hb,mb,Eb,Ub,Ob,gc]}let [va,Ga,La,Wa,db,fb,kb]=Q;"BC"===Wa&&(va=-Math.abs(va)+1);Q=D({year:va,month:Ga,day:La,hour:24===db?0:db,minute:fb,second:kb,millisecond:0});E=+E;ea=E%1E3;return(Q-(E-(0<=ea?ea:1E3+ea)))/6E4}equals(E){return"iana"===E.type&&E.name===this.name}get isValid(){return this.valid}}let oc={},bc={},cc={},dc={},ac=null;class Zc{constructor(E,Q,ea){this.padTo=ea.padTo||0;this.floor=ea.floor||!1;const {padTo:va,floor:Ga,...La}=ea;if(!Q||0<Object.keys(La).length)Q={useGrouping:!1,...ea},
0<ea.padTo&&(Q.minimumIntegerDigits=ea.padTo),this.inf=f(E,Q)}format(E){if(this.inf)return this.inf.format(this.floor?Math.floor(E):E);E=this.floor?Math.floor(E):A(E,3);return z(E,this.padTo)}}class $c{constructor(E,Q,ea){this.opts=ea;ea=this.originalZone=void 0;this.opts.timeZone?this.dt=E:"fixed"===E.zone.type?(ea=E.offset/60*-1,ea=0<=ea?`Etc/GMT+${ea}`:`Etc/GMT${ea}`,0!==E.offset&&Lb.create(ea).valid?this.dt=E:(ea="UTC",this.dt=0===E.offset?E:E.setZone("UTC").plus({minutes:E.offset}),this.originalZone=
E.zone)):"system"===E.zone.type?this.dt=E:"iana"===E.zone.type?(this.dt=E,ea=E.zone.name):(ea="UTC",this.dt=E.setZone("UTC").plus({minutes:E.offset}),this.originalZone=E.zone);E={...this.opts};E.timeZone=E.timeZone||ea;this.dtf=c(Q,E)}format(){return this.originalZone?this.formatToParts().map(({value:E})=>E).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const E=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?E.map(Q=>{if("timeZoneName"===Q.type){const ea=this.originalZone.offsetName(this.dt.ts,
{locale:this.dt.locale,format:this.opts.timeZoneName});return{...Q,value:ea}}return Q}):E}resolvedOptions(){return this.dtf.resolvedOptions()}}class ad{constructor(E,Q,ea){this.opts={style:"long",...ea};!Q&&d()&&(this.rtf=g(E,ea))}format(E,Q){return this.rtf?this.rtf.format(E,Q):X(Q,E,this.opts.numeric,"long"!==this.opts.style)}formatToParts(E,Q){return this.rtf?this.rtf.formatToParts(E,Q):[]}}class sb{static fromOpts(E){return sb.create(E.locale,E.numberingSystem,E.outputCalendar,E.defaultToEN)}static create(E,
Q,ea,va=!1){E=E||wb.defaultLocale;var Ga;(Ga=E)||(va?va="en-US":(ac||(ac=(new Intl.DateTimeFormat).resolvedOptions().locale),va=ac),Ga=va);return new sb(Ga,Q||wb.defaultNumberingSystem,ea||wb.defaultOutputCalendar,E)}static resetCache(){ac=null;bc={};cc={};dc={}}static fromObject({locale:E,numberingSystem:Q,outputCalendar:ea}={}){return sb.create(E,Q,ea)}constructor(E,Q,ea,va){var Ga=E.indexOf("-x-");-1!==Ga&&(E=E.substring(0,Ga));Ga=E.indexOf("-u-");if(-1===Ga)var La=[E];else{try{La=c(E).resolvedOptions();
var Wa=E}catch(lb){Wa=E.substring(0,Ga),La=c(Wa).resolvedOptions()}const {numberingSystem:hb,calendar:mb}=La;La=[Wa,hb,mb]}const [db,fb,kb]=La;this.locale=db;this.numberingSystem=Q||fb||null;this.outputCalendar=ea||kb||null;Q=this.locale;ea=this.numberingSystem;if((La=this.outputCalendar)||ea)Q.includes("-u-")||(Q+="-u"),La&&(Q+=`-ca-${La}`),ea&&(Q+=`-nu-${ea}`);this.intl=Q;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache=
{};this.specifiedLocale=va;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var E=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=E}return this.fastNumbersCached}listingMode(){const E=this.isEnglish(),Q=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||
"gregory"===this.outputCalendar);return E&&Q?"en":"intl"}clone(E){return E&&0!==Object.getOwnPropertyNames(E).length?sb.create(E.locale||this.specifiedLocale,E.numberingSystem||this.numberingSystem,E.outputCalendar||this.outputCalendar,E.defaultToEN||!1):this}redefaultToEN(E={}){return this.clone({...E,defaultToEN:!0})}redefaultToSystem(E={}){return this.clone({...E,defaultToEN:!1})}months(E,Q=!1,ea=!0){return p(this,E,ea,L,()=>{const va=Q?{month:E,day:"numeric"}:{month:E},Ga=Q?"format":"standalone";
this.monthsCache[Ga][E]||(this.monthsCache[Ga][E]=q(La=>this.extract(La,va,"month")));return this.monthsCache[Ga][E]})}weekdays(E,Q=!1,ea=!0){return p(this,E,ea,N,()=>{const va=Q?{weekday:E,year:"numeric",month:"long",day:"numeric"}:{weekday:E},Ga=Q?"format":"standalone";this.weekdaysCache[Ga][E]||(this.weekdaysCache[Ga][E]=u(La=>this.extract(La,va,"weekday")));return this.weekdaysCache[Ga][E]})}meridiems(E=!0){return p(this,void 0,E,()=>zc,()=>{if(!this.meridiemCache){const Q={hour:"numeric",hourCycle:"h12"};
this.meridiemCache=[jb.utc(2016,11,13,9),jb.utc(2016,11,13,19)].map(ea=>this.extract(ea,Q,"dayperiod"))}return this.meridiemCache})}eras(E,Q=!0){return p(this,E,Q,V,()=>{const ea={era:E};this.eraCache[E]||(this.eraCache[E]=[jb.utc(-40,1,1),jb.utc(2017,1,1)].map(va=>this.extract(va,ea,"era")));return this.eraCache[E]})}extract(E,Q,ea){return(E=this.dtFormatter(E,Q).formatToParts().find(va=>va.type.toLowerCase()===ea))?E.value:null}numberFormatter(E={}){return new Zc(this.intl,E.forceSimple||this.fastNumbers,
E)}dtFormatter(E,Q={}){return new $c(E,this.intl,Q)}relFormatter(E={}){return new ad(this.intl,this.isEnglish(),E)}listFormatter(E={}){return b(this.intl,E)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(E){return this.locale===E.locale&&this.numberingSystem===E.numberingSystem&&this.outputCalendar===E.outputCalendar}}let lc=null;class Db extends Tb{static get utcInstance(){null===
lc&&(lc=new Db(0));return lc}static instance(E){return 0===E?Db.utcInstance:new Db(E)}static parseSpecifier(E){return E&&(E=E.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Db(K(E[1],E[2])):null}constructor(E){super();this.fixed=E}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${H(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${H(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(E,Q){return H(this.fixed,Q)}get isUniversal(){return!0}offset(){return this.fixed}equals(E){return"fixed"===
E.type&&E.fixed===this.fixed}get isValid(){return!0}}class Nc extends Tb{constructor(E){super();this.zoneName=E}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Ac=()=>Date.now(),Bc="system",Cc=null,Dc=null,Ec=null,Fc=60,Gc;class wb{static get now(){return Ac}static set now(E){Ac=E}static set defaultZone(E){Bc=E}static get defaultZone(){return t(Bc,
Yb.instance)}static get defaultLocale(){return Cc}static set defaultLocale(E){Cc=E}static get defaultNumberingSystem(){return Dc}static set defaultNumberingSystem(E){Dc=E}static get defaultOutputCalendar(){return Ec}static set defaultOutputCalendar(E){Ec=E}static get twoDigitCutoffYear(){return Fc}static set twoDigitCutoffYear(E){Fc=E%100}static get throwOnInvalid(){return Gc}static set throwOnInvalid(E){Gc=E}static resetCaches(){sb.resetCache();Lb.resetCache()}}const Pc="January February March April May June July August September October November December".split(" "),
pc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Oc="JFMAMJJASOND".split(""),rc="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),qc="Mon Tue Wed Thu Fri Sat Sun".split(" "),Qc="MTWTFSS".split(""),zc=["AM","PM"],Tc=["Before Christ","Anno Domini"],Sc=["BC","AD"],Rc=["B","A"],bd={D:Ya,DD:Ja,DDD:Ca,DDDD:Oa,t:Sa,tt:bb,ttt:eb,tttt:ib,T:yb,TT:Mb,TTT:Qb,TTTT:Kb,f:Vb,ff:Rb,fff:Wb,ffff:xc,F:Gb,FF:Sb,FFF:wc,FFFF:yc};class Fb{static create(E,Q={}){return new Fb(E,Q)}static parseFormat(E){let Q=
null,ea="",va=!1;const Ga=[];for(let La=0;La<E.length;La++){const Wa=E.charAt(La);"'"===Wa?(0<ea.length&&Ga.push({literal:va||/^\s+$/.test(ea),val:ea}),Q=null,ea="",va=!va):va?ea+=Wa:Wa===Q?ea+=Wa:(0<ea.length&&Ga.push({literal:/^\s+$/.test(ea),val:ea}),Q=ea=Wa)}0<ea.length&&Ga.push({literal:va||/^\s+$/.test(ea),val:ea});return Ga}static macroTokenToFormatOpts(E){return bd[E]}constructor(E,Q){this.opts=Q;this.loc=E;this.systemLoc=null}formatWithSystemDefault(E,Q){null===this.systemLoc&&(this.systemLoc=
this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(E,{...this.opts,...Q}).format()}formatDateTime(E,Q={}){return this.loc.dtFormatter(E,{...this.opts,...Q}).format()}formatDateTimeParts(E,Q={}){return this.loc.dtFormatter(E,{...this.opts,...Q}).formatToParts()}formatInterval(E,Q={}){return this.loc.dtFormatter(E.start,{...this.opts,...Q}).dtf.formatRange(E.start.toJSDate(),E.end.toJSDate())}resolvedOptions(E,Q={}){return this.loc.dtFormatter(E,{...this.opts,...Q}).resolvedOptions()}num(E,
Q=0){if(this.opts.forceSimple)return z(E,Q);const ea={...this.opts};0<Q&&(ea.padTo=Q);return this.loc.numberFormatter(ea).format(E)}formatDateTimeFromString(E,Q){const ea="en"===this.loc.listingMode(),va=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Ga=(hb,mb)=>this.loc.extract(E,hb,mb),La=hb=>E.isOffsetFixed&&0===E.offset&&hb.allowZ?"Z":E.isValid?E.zone.formatOffset(E.ts,hb.format):"",Wa=(hb,mb)=>ea?L(hb)[E.month-1]:Ga(mb?{month:hb}:{month:hb,day:"numeric"},"month"),db=(hb,mb)=>ea?
N(hb)[E.weekday-1]:Ga(mb?{weekday:hb}:{weekday:hb,month:"long",day:"numeric"},"weekday"),fb=hb=>{const mb=Fb.macroTokenToFormatOpts(hb);return mb?this.formatWithSystemDefault(E,mb):hb},kb=hb=>ea?V(hb)[0>E.year?0:1]:Ga({era:hb},"era");return U(Fb.parseFormat(Q),hb=>{switch(hb){case "S":return this.num(E.millisecond);case "u":case "SSS":return this.num(E.millisecond,3);case "s":return this.num(E.second);case "ss":return this.num(E.second,2);case "uu":return this.num(Math.floor(E.millisecond/10),2);
case "uuu":return this.num(Math.floor(E.millisecond/100));case "m":return this.num(E.minute);case "mm":return this.num(E.minute,2);case "h":return this.num(0===E.hour%12?12:E.hour%12);case "hh":return this.num(0===E.hour%12?12:E.hour%12,2);case "H":return this.num(E.hour);case "HH":return this.num(E.hour,2);case "Z":return La({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return La({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return La({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return E.zone.offsetName(E.ts,
{format:"short",locale:this.loc.locale});case "ZZZZZ":return E.zone.offsetName(E.ts,{format:"long",locale:this.loc.locale});case "z":return E.zoneName;case "a":return ea?zc[12>E.hour?0:1]:Ga({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return va?Ga({day:"numeric"},"day"):this.num(E.day);case "dd":return va?Ga({day:"2-digit"},"day"):this.num(E.day,2);case "c":return this.num(E.weekday);case "ccc":return db("short",!0);case "cccc":return db("long",!0);case "ccccc":return db("narrow",!0);case "E":return this.num(E.weekday);
case "EEE":return db("short",!1);case "EEEE":return db("long",!1);case "EEEEE":return db("narrow",!1);case "L":return va?Ga({month:"numeric",day:"numeric"},"month"):this.num(E.month);case "LL":return va?Ga({month:"2-digit",day:"numeric"},"month"):this.num(E.month,2);case "LLL":return Wa("short",!0);case "LLLL":return Wa("long",!0);case "LLLLL":return Wa("narrow",!0);case "M":return va?Ga({month:"numeric"},"month"):this.num(E.month);case "MM":return va?Ga({month:"2-digit"},"month"):this.num(E.month,
2);case "MMM":return Wa("short",!1);case "MMMM":return Wa("long",!1);case "MMMMM":return Wa("narrow",!1);case "y":return va?Ga({year:"numeric"},"year"):this.num(E.year);case "yy":return va?Ga({year:"2-digit"},"year"):this.num(E.year.toString().slice(-2),2);case "yyyy":return va?Ga({year:"numeric"},"year"):this.num(E.year,4);case "yyyyyy":return va?Ga({year:"numeric"},"year"):this.num(E.year,6);case "G":return kb("short");case "GG":return kb("long");case "GGGGG":return kb("narrow");case "kk":return this.num(E.weekYear.toString().slice(-2),
2);case "kkkk":return this.num(E.weekYear,4);case "W":return this.num(E.weekNumber);case "WW":return this.num(E.weekNumber,2);case "o":return this.num(E.ordinal);case "ooo":return this.num(E.ordinal,3);case "q":return this.num(E.quarter);case "qq":return this.num(E.quarter,2);case "X":return this.num(Math.floor(E.ts/1E3));case "x":return this.num(E.ts);default:return fb(hb)}})}formatDurationFromString(E,Q){const ea=Ga=>{switch(Ga[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";
case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};Q=Fb.parseFormat(Q);const va=Q.reduce((Ga,{literal:La,val:Wa})=>La?Ga:Ga.concat(Wa),[]);E=E.shiftTo(...va.map(ea).filter(Ga=>Ga));return U(Q,(Ga=>La=>{const Wa=ea(La);return Wa?this.num(Ga.get(Wa),La.length):La})(E))}}class Jb{constructor(E,Q){this.reason=E;this.explanation=Q}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Hc=
/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Ic=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,mc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Jc=RegExp(`${mc.source}${`(?:${Ic.source}?(?:\\[(${Hc.source})\\])?)?`}`),nc=RegExp(`(?:T${Jc.source})?`),cd=Aa("weekYear","weekNumber","weekDay"),dd=Aa("year","ordinal"),Kc=RegExp(`${mc.source} ?(?:${Ic.source}|(${Hc.source}))?`),ed=RegExp(`(?: ${Kc.source})?`),fd=RegExp(`^T?${mc.source}$`),gd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,
Uc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},hd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,id=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,jd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
kd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,ld=P(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,nc),md=P(/(\d{4})-?W(\d\d)(?:-?(\d))?/,nc),nd=P(/(\d{4})-?(\d{3})/,nc),od=P(Jc),Lc=fa(function(E,Q){return[{year:ma(E,Q),month:ma(E,Q+1,1),day:ma(E,Q+2,1)},null,Q+3]},ta,ba,ka),pd=fa(cd,ta,ba,ka),qd=fa(dd,ta,ba,ka),rd=fa(ta,ba,ka),sd=fa(ta),td=P(/(\d{4})-(\d\d)-(\d\d)/,ed),ud=P(Kc),vd=fa(ta,ba,ka),Mc={weeks:{days:7,hours:168,
minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},wd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,
milliseconds:2592E6},...Mc},xd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Mc},Pb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Vc=Pb.slice(0).reverse();
class ob{constructor(E){const Q="longterm"===E.conversionAccuracy||!1;let ea=Q?xd:wd;E.matrix&&(ea=E.matrix);this.values=E.values;this.loc=E.loc||sb.create();this.conversionAccuracy=Q?"longterm":"casual";this.invalid=E.invalid||null;this.matrix=ea;this.isLuxonDuration=!0}static fromMillis(E,Q){return ob.fromObject({milliseconds:E},Q)}static fromObject(E,Q={}){if(null==E||"object"!==typeof E)throw new $a(`Duration.fromObject: argument expected to be an object, got ${null===E?"null":typeof E}`);return new ob({values:O(E,
ob.normalizeUnit),loc:sb.fromObject(Q),conversionAccuracy:Q.conversionAccuracy,matrix:Q.matrix})}static fromDurationLike(E){if(m(E))return ob.fromMillis(E);if(ob.isDuration(E))return E;if("object"===typeof E)return ob.fromObject(E);throw new $a(`Unknown duration argument ${E} of type ${typeof E}`);}static fromISO(E,Q){const [ea]=Ba(E,[gd,Fa]);return ea?ob.fromObject(ea,Q):ob.invalid("unparsable",`the input "${E}" can't be parsed as ISO 8601`)}static fromISOTime(E,Q){const [ea]=Ba(E,[fd,sd]);return ea?
ob.fromObject(ea,Q):ob.invalid("unparsable",`the input "${E}" can't be parsed as ISO 8601`)}static invalid(E,Q=null){if(!E)throw new $a("need to specify a reason the Duration is invalid");E=E instanceof Jb?E:new Jb(E,Q);if(wb.throwOnInvalid)throw new oa(E);return new ob({invalid:E})}static normalizeUnit(E){const Q={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",
minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[E?E.toLowerCase():E];if(!Q)throw new Za(E);return Q}static isDuration(E){return E&&E.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(E,Q={}){Q={...Q,floor:!1!==Q.round&&!1!==Q.floor};return this.isValid?Fb.create(this.loc,Q).formatDurationFromString(this,E):"Invalid Duration"}toHuman(E=
{}){const Q=Pb.map(ea=>{const va=this.values[ea];return k(va)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...E,unit:ea.slice(0,-1)}).format(va)}).filter(ea=>ea);return this.loc.listFormatter({type:"conjunction",style:E.listStyle||"narrow",...E}).format(Q)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let E="P";0!==this.years&&(E+=this.years+"Y");if(0!==this.months||0!==this.quarters)E+=this.months+3*this.quarters+"M";0!==this.weeks&&(E+=
this.weeks+"W");0!==this.days&&(E+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)E+="T";0!==this.hours&&(E+=this.hours+"H");0!==this.minutes&&(E+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)E+=A(this.seconds+this.milliseconds/1E3,3)+"S";"P"===E&&(E+="T0S");return E}toISOTime(E={}){if(!this.isValid)return null;var Q=this.toMillis();if(0>Q||864E5<=Q)return null;E={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",
...E};Q=this.shiftTo("hours","minutes","seconds","milliseconds");let ea="basic"===E.format?"hhmm":"hh:mm";E.suppressSeconds&&0===Q.seconds&&0===Q.milliseconds||(ea+="basic"===E.format?"ss":":ss",E.suppressMilliseconds&&0===Q.milliseconds||(ea+=".SSS"));Q=Q.toFormat(ea);E.includePrefix&&(Q="T"+Q);return Q}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(E){if(!this.isValid)return this;E=ob.fromDurationLike(E);
const Q={};for(const ea of Pb)if(h(E.values,ea)||h(this.values,ea))Q[ea]=E.get(ea)+this.get(ea);return qa(this,{values:Q},!0)}minus(E){if(!this.isValid)return this;E=ob.fromDurationLike(E);return this.plus(E.negate())}mapUnits(E){if(!this.isValid)return this;const Q={};for(const ea of Object.keys(this.values))Q[ea]=M(E(this.values[ea],ea));return qa(this,{values:Q},!0)}get(E){return this[ob.normalizeUnit(E)]}set(E){if(!this.isValid)return this;E={...this.values,...O(E,ob.normalizeUnit)};return qa(this,
{values:E})}reconfigure({locale:E,numberingSystem:Q,conversionAccuracy:ea,matrix:va}={}){E={loc:this.loc.clone({locale:E,numberingSystem:Q}),matrix:va,conversionAccuracy:ea};return qa(this,E)}as(E){return this.isValid?this.shiftTo(E).get(E):NaN}normalize(){if(!this.isValid)return this;const E=this.toObject();pa(this.matrix,E);return qa(this,{values:E},!0)}rescale(){if(!this.isValid)return this;var E=this.normalize().shiftToAll().toObject();const Q={};for(const [ea,va]of Object.entries(E))0!==va&&
(Q[ea]=va);return qa(this,{values:Q},!0)}shiftTo(...E){if(!this.isValid||0===E.length)return this;E=E.map(La=>ob.normalizeUnit(La));const Q={},ea={},va=this.toObject();let Ga;for(const La of Pb)if(0<=E.indexOf(La)){Ga=La;let Wa=0;for(const fb in ea)Wa+=this.matrix[fb][La]*ea[fb],ea[fb]=0;m(va[La])&&(Wa+=va[La]);const db=Math.trunc(Wa);Q[La]=db;ea[La]=(1E3*Wa-1E3*db)/1E3;for(const fb in va)Pb.indexOf(fb)>Pb.indexOf(La)&&W(this.matrix,va,fb,Q,La)}else m(va[La])&&(ea[La]=va[La]);for(const La in ea)0!==
ea[La]&&(Q[Ga]+=La===Ga?ea[La]:ea[La]/this.matrix[Ga][La]);return qa(this,{values:Q},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const E={};for(const Q of Object.keys(this.values))E[Q]=0===this.values[Q]?0:-this.values[Q];return qa(this,{values:E},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||
0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?
this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(E){if(!this.isValid||!E.isValid||!this.loc.equals(E.loc))return!1;for(const va of Pb){var Q=this.values[va];var ea=E.values[va];Q=void 0===Q||0===Q?void 0===ea||0===ea:Q===ea;if(!Q)return!1}return!0}}class vb{constructor(E){this.s=E.start;this.e=E.end;this.invalid=E.invalid||null;this.isLuxonInterval=!0}static invalid(E,Q=null){if(!E)throw new $a("need to specify a reason the Interval is invalid");
E=E instanceof Jb?E:new Jb(E,Q);if(wb.throwOnInvalid)throw new ca(E);return new vb({invalid:E})}static fromDateTimes(E,Q){E=gb(E);Q=gb(Q);var ea=E&&E.isValid?Q&&Q.isValid?Q<E?vb.invalid("end before start",`The end of an interval must be after its start, but you had start=${E.toISO()} and end=${Q.toISO()}`):null:vb.invalid("missing or invalid end"):vb.invalid("missing or invalid start");return null==ea?new vb({start:E,end:Q}):ea}static after(E,Q){Q=ob.fromDurationLike(Q);E=gb(E);return vb.fromDateTimes(E,
E.plus(Q))}static before(E,Q){Q=ob.fromDurationLike(Q);E=gb(E);return vb.fromDateTimes(E.minus(Q),E)}static fromISO(E,Q){const [ea,va]=(E||"").split("/",2);if(ea&&va){let Wa;try{var Ga=jb.fromISO(ea,Q);Wa=Ga.isValid}catch(fb){Wa=!1}let db;try{var La=jb.fromISO(va,Q);db=La.isValid}catch(fb){db=!1}if(Wa&&db)return vb.fromDateTimes(Ga,La);if(Wa){if(La=ob.fromISO(va,Q),La.isValid)return vb.after(Ga,La)}else if(db&&(Ga=ob.fromISO(ea,Q),Ga.isValid))return vb.before(La,Ga)}return vb.invalid("unparsable",
`the input "${E}" can't be parsed as ISO 8601`)}static isInterval(E){return E&&E.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(E="milliseconds"){return this.isValid?this.toDuration(...[E]).get(E):NaN}count(E="milliseconds"){if(!this.isValid)return NaN;
const Q=this.start.startOf(E),ea=this.end.startOf(E);return Math.floor(ea.diff(Q,E).get(E))+(ea.valueOf()!==this.end.valueOf())}hasSame(E){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,E):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(E){return this.isValid?this.s>E:!1}isBefore(E){return this.isValid?this.e<=E:!1}contains(E){return this.isValid?this.s<=E&&this.e>E:!1}set({start:E,end:Q}={}){return this.isValid?vb.fromDateTimes(E||this.s,Q||this.e):this}splitAt(...E){if(!this.isValid)return[];
E=E.map(gb).filter(La=>this.contains(La)).sort();const Q=[];let {s:ea}=this,va=0;for(;ea<this.e;){var Ga=E[va]||this.e;Ga=+Ga>+this.e?this.e:Ga;Q.push(vb.fromDateTimes(ea,Ga));ea=Ga;va+=1}return Q}splitBy(E){E=ob.fromDurationLike(E);if(!this.isValid||!E.isValid||0===E.as("milliseconds"))return[];let {s:Q}=this,ea=1;const va=[];for(;Q<this.e;){var Ga=this.start.plus(E.mapUnits(La=>La*ea));Ga=+Ga>+this.e?this.e:Ga;va.push(vb.fromDateTimes(Q,Ga));Q=Ga;ea+=1}return va}divideEqually(E){return this.isValid?
this.splitBy(this.length()/E).slice(0,E):[]}overlaps(E){return this.e>E.s&&this.s<E.e}abutsStart(E){return this.isValid?+this.e===+E.s:!1}abutsEnd(E){return this.isValid?+E.e===+this.s:!1}engulfs(E){return this.isValid?this.s<=E.s&&this.e>=E.e:!1}equals(E){return this.isValid&&E.isValid?this.s.equals(E.s)&&this.e.equals(E.e):!1}intersection(E){if(!this.isValid)return this;const Q=this.s>E.s?this.s:E.s;E=this.e<E.e?this.e:E.e;return Q>=E?null:vb.fromDateTimes(Q,E)}union(E){return this.isValid?vb.fromDateTimes(this.s<
E.s?this.s:E.s,this.e>E.e?this.e:E.e):this}static merge(E){const [Q,ea]=E.sort((va,Ga)=>va.s-Ga.s).reduce(([va,Ga],La)=>Ga?Ga.overlaps(La)||Ga.abutsStart(La)?[va,Ga.union(La)]:[va.concat([Ga]),La]:[va,La],[[],null]);ea&&Q.push(ea);return Q}static xor(E){let Q=null,ea=0;const va=[];E=E.map(Ga=>[{time:Ga.s,type:"s"},{time:Ga.e,type:"e"}]);E=Array.prototype.concat(...E).sort((Ga,La)=>Ga.time-La.time);for(const Ga of E)ea+="s"===Ga.type?1:-1,1===ea?Q=Ga.time:(Q&&+Q!==+Ga.time&&va.push(vb.fromDateTimes(Q,
Ga.time)),Q=null);return vb.merge(va)}difference(...E){return vb.xor([this].concat(E)).map(Q=>this.intersection(Q)).filter(Q=>Q&&!Q.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toLocaleString(E=Ya,Q={}){return this.isValid?Fb.create(this.s.loc.clone(Q),E).formatInterval(this):"Invalid Interval"}toISO(E){return this.isValid?`${this.s.toISO(E)}/${this.e.toISO(E)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:
"Invalid Interval"}toISOTime(E){return this.isValid?`${this.s.toISOTime(E)}/${this.e.toISOTime(E)}`:"Invalid Interval"}toFormat(E,{separator:Q=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(E)}${Q}${this.e.toFormat(E)}`:"Invalid Interval"}toDuration(E,Q){return this.isValid?this.e.diff(this.s,E,Q):ob.invalid(this.invalidReason)}mapEndpoints(E){return vb.fromDateTimes(E(this.s),E(this.e))}}class Xb{static hasDST(E=wb.defaultZone){const Q=jb.now().setZone(E).set({month:12});return!E.isUniversal&&
Q.offset!==Q.set({month:6}).offset}static isValidIANAZone(E){return Lb.isValidZone(E)}static normalizeZone(E){return t(E,wb.defaultZone)}static months(E="long",{locale:Q=null,numberingSystem:ea=null,locObj:va=null,outputCalendar:Ga="gregory"}={}){return(va||sb.create(Q,ea,Ga)).months(E)}static monthsFormat(E="long",{locale:Q=null,numberingSystem:ea=null,locObj:va=null,outputCalendar:Ga="gregory"}={}){return(va||sb.create(Q,ea,Ga)).months(E,!0)}static weekdays(E="long",{locale:Q=null,numberingSystem:ea=
null,locObj:va=null}={}){return(va||sb.create(Q,ea,null)).weekdays(E)}static weekdaysFormat(E="long",{locale:Q=null,numberingSystem:ea=null,locObj:va=null}={}){return(va||sb.create(Q,ea,null)).weekdays(E,!0)}static meridiems({locale:E=null}={}){return sb.create(E).meridiems()}static eras(E="short",{locale:Q=null}={}){return sb.create(Q,null,"gregory").eras(E)}static features(){return{relative:d()}}}const ec={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",
deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},sc={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],
beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Wc=ec.hanidec.replace(/[\[|\]]/g,"").split(""),tc=`[ ${String.fromCharCode(160)}]`,fc=new RegExp(tc,"g"),Xc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d",
"2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let hc=null;const jc=[0,31,59,90,120,151,181,212,243,273,304,334],ic=[0,31,60,91,121,152,182,213,244,274,305,335],vc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},zd={ordinal:1,hour:0,minute:0,second:0,
millisecond:0},uc="year month day hour minute second millisecond".split(" "),Ad="weekYear weekNumber weekday hour minute second millisecond".split(" "),Bd="year ordinal hour minute second millisecond".split(" ");class jb{constructor(E){const Q=E.zone||wb.defaultZone;let ea=E.invalid||(Number.isNaN(E.ts)?new Jb("invalid input"):null)||(Q.isValid?null:ab(Q));this.ts=k(E.ts)?wb.now():E.ts;let va=null;var Ga=null;ea||(E.old&&E.old.ts===this.ts&&E.old.zone.equals(Q)?[va,Ga]=[E.old.c,E.old.o]:(Ga=Q.offset(this.ts),
va=tb(this.ts,Ga),va=(ea=Number.isNaN(va.year)?new Jb("invalid input"):null)?null:va,Ga=ea?null:Ga));this._zone=Q;this.loc=E.loc||sb.create();this.invalid=ea;this.weekData=null;this.c=va;this.o=Ga;this.isLuxonDateTime=!0}static now(){return new jb({})}static local(){const [E,Q]=xb(arguments),[ea,va,Ga,La,Wa,db,fb]=Q;return nb({year:ea,month:va,day:Ga,hour:La,minute:Wa,second:db,millisecond:fb},E)}static utc(){const [E,Q]=xb(arguments),[ea,va,Ga,La,Wa,db,fb]=Q;E.zone=Db.utcInstance;return nb({year:ea,
month:va,day:Ga,hour:La,minute:Wa,second:db,millisecond:fb},E)}static fromJSDate(E,Q={}){E="[object Date]"===Object.prototype.toString.call(E)?E.valueOf():NaN;if(Number.isNaN(E))return jb.invalid("invalid input");const ea=t(Q.zone,wb.defaultZone);return ea.isValid?new jb({ts:E,zone:ea,loc:sb.fromObject(Q)}):jb.invalid(ab(ea))}static fromMillis(E,Q={}){if(m(E))return-864E13>E||864E13<E?jb.invalid("Timestamp out of range"):new jb({ts:E,zone:t(Q.zone,wb.defaultZone),loc:sb.fromObject(Q)});throw new $a(`fromMillis requires a numerical input, but received a ${typeof E} with value ${E}`);
}static fromSeconds(E,Q={}){if(m(E))return new jb({ts:1E3*E,zone:t(Q.zone,wb.defaultZone),loc:sb.fromObject(Q)});throw new $a("fromSeconds requires a numerical input");}static fromObject(E,Q={}){E=E||{};var ea=t(Q.zone,wb.defaultZone);if(!ea.isValid)return jb.invalid(ab(ea));var va=wb.now();const Ga=k(Q.specificOffset)?ea.offset(va):Q.specificOffset,La=O(E,Bb);var Wa=!k(La.ordinal),db=!k(La.year),fb=!k(La.month)||!k(La.day);db=db||fb;var kb=La.weekYear||La.weekNumber;Q=sb.fromObject(Q);if((db||Wa)&&
kb)throw new Ia("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(fb&&Wa)throw new Ia("Can't mix ordinal dates with month/day");fb=kb||La.weekday&&!db;let hb=tb(va,Ga);fb?(va=Ad,kb=yd,hb=Ua(hb)):Wa?(va=Bd,kb=zd,hb=Xa(hb)):(va=uc,kb=vc);let mb=!1;for(var lb of va)k(La[lb])?La[lb]=mb?kb[lb]:hb[lb]:mb=!0;fb?(lb=e(La.weekYear),va=r(La.weekNumber,1,y(La.weekYear)),kb=r(La.weekday,1,7),lb=lb?va?kb?!1:ya("weekday",La.weekday):ya("week",La.week):ya("weekYear",La.weekYear)):Wa?(lb=
e(La.year),va=r(La.ordinal,1,B(La.year)?366:365),lb=lb?va?!1:ya("ordinal",La.ordinal):ya("year",La.year)):lb=za(La);if(lb=lb||Ha(La))return jb.invalid(lb);Wa=fb?Ra(La):Wa?Ta(La):La;const [Eb,Ub]=qb(Wa,Ga,ea);ea=new jb({ts:Eb,zone:ea,o:Ub,loc:Q});return La.weekday&&db&&E.weekday!==ea.weekday?jb.invalid("mismatched weekday",`you can't specify both a weekday of ${La.weekday} and a date of ${ea.toISO()}`):ea}static fromISO(E,Q={}){const [ea,va]=Ba(E,[ld,Lc],[md,pd],[nd,qd],[od,rd]);return Ab(ea,va,Q,
"ISO 8601",E)}static fromRFC2822(E,Q={}){const [ea,va]=Ba(E.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[hd,Qa]);return Ab(ea,va,Q,"RFC 2822",E)}static fromHTTP(E,Q={}){const [ea,va]=Ba(E,[id,I],[jd,I],[kd,S]);return Ab(ea,va,Q,"HTTP",Q)}static fromFormat(E,Q,ea={}){if(k(E)||k(Q))throw new $a("fromFormat requires an input string and a format");const {locale:va=null,numberingSystem:Ga=null}=ea,La=sb.fromOpts({locale:va,numberingSystem:Ga,defaultToEN:!0}),{result:Wa,zone:db,specificOffset:fb,
invalidReason:kb}=ia(La,E,Q),[hb,mb,lb,Eb]=[Wa,db,fb,kb];return Eb?jb.invalid(Eb):Ab(hb,mb,ea,`format ${Q}`,E,lb)}static fromString(E,Q,ea={}){return jb.fromFormat(E,Q,ea)}static fromSQL(E,Q={}){const [ea,va]=Ba(E,[td,Lc],[ud,vd]);return Ab(ea,va,Q,"SQL",E)}static invalid(E,Q=null){if(!E)throw new $a("need to specify a reason the DateTime is invalid");E=E instanceof Jb?E:new Jb(E,Q);if(wb.throwOnInvalid)throw new na(E);return new jb({invalid:E})}static isDateTime(E){return E&&E.isLuxonDateTime||!1}static parseFormatForOpts(E,
Q={}){return(E=Da(E,sb.fromObject(Q)))?E.map(ea=>ea?ea.val:null).join(""):null}static expandFormat(E,Q={}){return Z(Fb.parseFormat(E),sb.fromObject(Q)).map(ea=>ea.val).join("")}get(E){return this[E]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:
null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:
NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?cb(this).weekYear:NaN}get weekNumber(){return this.isValid?cb(this).weekNumber:NaN}get weekday(){return this.isValid?cb(this).weekday:NaN}get ordinal(){return this.isValid?Xa(this.c).ordinal:NaN}get monthShort(){return this.isValid?Xb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Xb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?
Xb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Xb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?
!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return B(this.year)}get daysInMonth(){return C(this.year,this.month)}get daysInYear(){return this.isValid?B(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?y(this.weekYear):NaN}resolvedLocaleOptions(E={}){const {locale:Q,numberingSystem:ea,calendar:va}=Fb.create(this.loc.clone(E),E).resolvedOptions(this);return{locale:Q,numberingSystem:ea,outputCalendar:va}}toUTC(E=0,Q={}){return this.setZone(Db.instance(E),
Q)}toLocal(){return this.setZone(wb.defaultZone)}setZone(E,{keepLocalTime:Q=!1,keepCalendarTime:ea=!1}={}){E=t(E,wb.defaultZone);if(E.equals(this.zone))return this;if(E.isValid){let va=this.ts;if(Q||ea)Q=E.offset(this.ts),ea=this.toObject(),[va]=qb(ea,Q,E);return xa(this,{ts:va,zone:E})}return jb.invalid(ab(E))}reconfigure({locale:E,numberingSystem:Q,outputCalendar:ea}={}){E=this.loc.clone({locale:E,numberingSystem:Q,outputCalendar:ea});return xa(this,{loc:E})}setLocale(E){return this.reconfigure({locale:E})}set(E){if(!this.isValid)return this;
E=O(E,Bb);var Q=!k(E.weekYear)||!k(E.weekNumber)||!k(E.weekday);const ea=!k(E.ordinal),va=!k(E.year),Ga=!k(E.month)||!k(E.day),La=E.weekYear||E.weekNumber;if((va||Ga||ea)&&La)throw new Ia("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Ga&&ea)throw new Ia("Can't mix ordinal dates with month/day");Q?Q=Ra({...Ua(this.c),...E}):k(E.ordinal)?(Q={...this.toObject(),...E},k(E.day)&&(Q.day=Math.min(C(Q.year,Q.month),Q.day))):Q=Ta({...Xa(this.c),...E});const [Wa,db]=qb(Q,this.o,
this.zone);return xa(this,{ts:Wa,o:db})}plus(E){if(!this.isValid)return this;E=ob.fromDurationLike(E);return xa(this,Ib(this,E))}minus(E){if(!this.isValid)return this;E=ob.fromDurationLike(E).negate();return xa(this,Ib(this,E))}startOf(E){if(!this.isValid)return this;const Q={};E=ob.normalizeUnit(E);switch(E){case "years":Q.month=1;case "quarters":case "months":Q.day=1;case "weeks":case "days":Q.hour=0;case "hours":Q.minute=0;case "minutes":Q.second=0;case "seconds":Q.millisecond=0}"weeks"===E&&(Q.weekday=
1);"quarters"===E&&(Q.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(Q)}endOf(E){return this.isValid?this.plus({[E]:1}).startOf(E).minus(1):this}toFormat(E,Q={}){return this.isValid?Fb.create(this.loc.redefaultToEN(Q)).formatDateTimeFromString(this,E):"Invalid DateTime"}toLocaleString(E=Ya,Q={}){return this.isValid?Fb.create(this.loc.clone(Q),E).formatDateTime(this):"Invalid DateTime"}toLocaleParts(E={}){return this.isValid?Fb.create(this.loc.clone(E),E).formatDateTimeParts(this):[]}toISO({format:E=
"extended",suppressSeconds:Q=!1,suppressMilliseconds:ea=!1,includeOffset:va=!0,extendedZone:Ga=!1}={}){if(!this.isValid)return null;E="extended"===E;let La=Hb(this,E);return La=La+"T"+ub(this,E,Q,ea,va,Ga)}toISODate({format:E="extended"}={}){return this.isValid?Hb(this,"extended"===E):null}toISOWeekDate(){return Cb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:E=!1,suppressSeconds:Q=!1,includeOffset:ea=!0,includePrefix:va=!1,extendedZone:Ga=!1,format:La="extended"}={}){return this.isValid?
(va?"T":"")+ub(this,"extended"===La,Q,E,ea,Ga):null}toRFC2822(){return Cb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Cb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Hb(this,!0):null}toSQLTime({includeOffset:E=!0,includeZone:Q=!1,includeOffsetSpace:ea=!0}={}){let va="HH:mm:ss.SSS";if(Q||E)ea&&(va+=" "),Q?va+="z":E&&(va+="ZZ");return Cb(this,va,!0)}toSQL(E={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(E)}`:null}toString(){return this.isValid?
this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(E={}){if(!this.isValid)return{};const Q={...this.c};E.includeConfig&&(Q.outputCalendar=this.outputCalendar,Q.numberingSystem=this.loc.numberingSystem,Q.locale=this.loc.locale);return Q}toJSDate(){return new Date(this.isValid?
this.ts:NaN)}diff(E,Q="milliseconds",ea={}){if(!this.isValid||!E.isValid)return ob.invalid("created by diffing an invalid DateTime");ea={locale:this.locale,numberingSystem:this.numberingSystem,...ea};const va=(Array.isArray(Q)?Q:[Q]).map(ob.normalizeUnit);Q=E.valueOf()>this.valueOf();E=la(Q?this:E,Q?E:this,va,ea);return Q?E.negate():E}diffNow(E="milliseconds",Q={}){return this.diff(jb.now(),E,Q)}until(E){return this.isValid?vb.fromDateTimes(this,E):this}hasSame(E,Q){if(!this.isValid)return!1;const ea=
E.valueOf();E=this.setZone(E.zone,{keepLocalTime:!0});return E.startOf(Q)<=ea&&ea<=E.endOf(Q)}equals(E){return this.isValid&&E.isValid&&this.valueOf()===E.valueOf()&&this.zone.equals(E.zone)&&this.loc.equals(E.loc)}toRelative(E={}){if(!this.isValid)return null;const Q=E.base||jb.fromObject({},{zone:this.zone}),ea=E.padding?this<Q?-E.padding:E.padding:0;let va="years months days hours minutes seconds".split(" "),Ga=E.unit;Array.isArray(E.unit)&&(va=E.unit,Ga=void 0);return rb(Q,this.plus(ea),{...E,
numeric:"always",units:va,unit:Ga})}toRelativeCalendar(E={}){return this.isValid?rb(E.base||jb.fromObject({},{zone:this.zone}),this,{...E,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...E){if(!E.every(jb.isDateTime))throw new $a("min requires all arguments be DateTimes");return l(E,Q=>Q.valueOf(),Math.min)}static max(...E){if(!E.every(jb.isDateTime))throw new $a("max requires all arguments be DateTimes");return l(E,Q=>Q.valueOf(),Math.max)}static fromFormatExplain(E,
Q,ea={}){const {locale:va=null,numberingSystem:Ga=null}=ea;ea=sb.fromOpts({locale:va,numberingSystem:Ga,defaultToEN:!0});return ia(ea,E,Q)}static fromStringExplain(E,Q,ea={}){return jb.fromFormatExplain(E,Q,ea)}static get DATE_SHORT(){return Ya}static get DATE_MED(){return Ja}static get DATE_MED_WITH_WEEKDAY(){return aa}static get DATE_FULL(){return Ca}static get DATE_HUGE(){return Oa}static get TIME_SIMPLE(){return Sa}static get TIME_WITH_SECONDS(){return bb}static get TIME_WITH_SHORT_OFFSET(){return eb}static get TIME_WITH_LONG_OFFSET(){return ib}static get TIME_24_SIMPLE(){return yb}static get TIME_24_WITH_SECONDS(){return Mb}static get TIME_24_WITH_SHORT_OFFSET(){return Qb}static get TIME_24_WITH_LONG_OFFSET(){return Kb}static get DATETIME_SHORT(){return Vb}static get DATETIME_SHORT_WITH_SECONDS(){return Gb}static get DATETIME_MED(){return Rb}static get DATETIME_MED_WITH_SECONDS(){return Sb}static get DATETIME_MED_WITH_WEEKDAY(){return Nb}static get DATETIME_FULL(){return Wb}static get DATETIME_FULL_WITH_SECONDS(){return wc}static get DATETIME_HUGE(){return xc}static get DATETIME_HUGE_WITH_SECONDS(){return yc}}
a.DateTime=jb;a.Duration=ob;a.FixedOffsetZone=Db;a.IANAZone=Lb;a.Info=Xb;a.Interval=vb;a.SystemZone=Yb;a.Zone=Tb})},"esri/intl/number":function(){define(["exports","../core/maybe","./locale"],function(a,b,c){function f(p){const t=p||u;if(!q.has(t)){var k=c.getLocale();k=g[c.getLocale()]||k;q.set(t,new Intl.NumberFormat(k,p))}return b.assumeNonNull(q.get(t))}const g={ar:"ar-u-nu-latn"};let q=new WeakMap,u={};c.beforeLocaleChange(()=>{q=new WeakMap;u={}});a.convertNumberFormatToIntlOptions=function(p=
{}){const t={};null!=p.digitSeparator&&(t.useGrouping=p.digitSeparator);null!=p.places&&(t.minimumFractionDigits=t.maximumFractionDigits=p.places);return t};a.formatNumber=function(p,t){Object.is(p,-0)&&(p=0);return f(t).format(p)};a.getFormatter=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/MediaContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){var h;g=h=function(r){function z(w){w=r.call(this,w)||this;w.activeMediaInfoIndex=null;w.attributes=null;w.description=null;w.mediaInfos=null;w.title=null;w.type="media";return w}a._inherits(z,r);var x=z.prototype;x.readMediaInfos=function(w){return w&&w.map(v=>{if("image"===v.type)return e.fromJSON(v);if("barchart"===v.type)return t.fromJSON(v);if("columnchart"===v.type)return k.fromJSON(v);if("linechart"===v.type)return d.fromJSON(v);if("piechart"===v.type)return l.fromJSON(v)}).filter(Boolean)};
x.writeMediaInfos=function(w,v){v.mediaInfos=w&&w.map(A=>A.toJSON())};x.clone=function(){return new h(c.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))};return a._createClass(z)}(m);b.__decorate([f.property()],g.prototype,"activeMediaInfoIndex",void 0);b.__decorate([f.property({type:Object,json:{write:!0}})],g.prototype,"attributes",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],
g.prototype,"description",void 0);b.__decorate([f.property({types:[n.types]})],g.prototype,"mediaInfos",void 0);b.__decorate([q.reader("mediaInfos")],g.prototype,"readMediaInfos",null);b.__decorate([p.writer("mediaInfos")],g.prototype,"writeMediaInfos",null);b.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"title",void 0);b.__decorate([f.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],g.prototype,"type",void 0);return g=h=b.__decorate([u.subclass("esri.popup.content.MediaContent")],
g)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(d){d=m.call(this,d)||this;d.type="bar-chart";return d}a._inherits(e,m);e.prototype.clone=
function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return a._createClass(e)}(p);b.__decorate([c.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:t.chartTypeKebabDict.write}})],f.prototype,"type",void 0);return f=k=b.__decorate([u.subclass("esri.popup.content.BarChartMediaInfo")],f)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,c,f,g,q,u,p,t){f=function(k){function m(e){e=k.call(this,e)||this;e.type=null;e.value=null;return e}a._inherits(m,k);return a._createClass(m)}(p);b.__decorate([c.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);b.__decorate([c.property({type:t,json:{write:!0}})],f.prototype,"value",void 0);return f=b.__decorate([u.subclass("esri.popup.content.mixins.ChartMediaInfo")],f)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){c=function(t){function k(m){m=t.call(this,m)||this;m.altText=null;m.caption="";m.title="";m.type=null;return m}a._inherits(k,t);return a._createClass(k)}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"altText",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"caption",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([f.property({type:["image","bar-chart",
"column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([p.subclass("esri.popup.content.mixins.MediaInfo")],c)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),
function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(e){e=k.call(this,e)||this;e.fields=[];e.normalizeField=null;e.series=[];e.tooltipField=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({fields:f.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})};return a._createClass(m)}(c.JSONSupport);b.__decorate([g.property({type:[String],json:{write:!0}})],c.prototype,"fields",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],
c.prototype,"normalizeField",void 0);b.__decorate([g.property({type:[p],json:{read:!1}})],c.prototype,"series",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=t=b.__decorate([u.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(e){e=k.call(this,e)||this;e.fieldName=null;e.tooltip=null;e.value=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})};return a._createClass(m)}(c);b.__decorate([f.property()],c.prototype,"fieldName",void 0);b.__decorate([f.property()],c.prototype,"tooltip",void 0);b.__decorate([f.property()],c.prototype,"value",void 0);return c=t=b.__decorate([p.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],
c)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(d){d=m.call(this,d)||this;d.type="column-chart";return d}a._inherits(e,m);e.prototype.clone=function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return a._createClass(e)}(p);b.__decorate([c.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:t.chartTypeKebabDict.write}})],f.prototype,"type",void 0);return f=k=b.__decorate([u.subclass("esri.popup.content.ColumnChartMediaInfo")],
f)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(d){d=m.call(this,d)||this;d.refreshInterval=null;d.type="image";d.value=null;return d}a._inherits(e,
m);e.prototype.clone=function(){return new k({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};return a._createClass(e)}(p);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"refreshInterval",void 0);b.__decorate([c.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);b.__decorate([c.property({type:t,json:{write:!0}})],f.prototype,"value",void 0);return f=
k=b.__decorate([u.subclass("esri.popup.content.ImageMediaInfo")],f)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(e){e=k.call(this,
e)||this;e.linkURL=null;e.sourceURL=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({linkURL:this.linkURL,sourceURL:this.sourceURL})};return a._createClass(m)}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"sourceURL",void 0);return c=t=b.__decorate([p.subclass("esri.popup.content.support.ImageMediaInfoValue")],c)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(d){d=m.call(this,d)||this;d.type="line-chart";return d}a._inherits(e,m);e.prototype.clone=function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return a._createClass(e)}(p);b.__decorate([c.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:t.chartTypeKebabDict.write}})],f.prototype,"type",void 0);return f=k=b.__decorate([u.subclass("esri.popup.content.LineChartMediaInfo")],
f)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(d){d=m.call(this,d)||this;d.type="pie-chart";return d}a._inherits(e,m);e.prototype.clone=
function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return a._createClass(e)}(p);b.__decorate([c.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:t.chartTypeKebabDict.write}})],f.prototype,"type",void 0);return f=k=b.__decorate([u.subclass("esri.popup.content.PieChartMediaInfo")],f)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,c,f,g,q,u){a.types={base:u,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":c,"line-chart":g,"pie-chart":q,image:f}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/RelationshipContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Content ../support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,f,g,q,u,p,t,k){c=function(m){function e(d){d=m.call(this,d)||this;d.description=null;d.displayCount=null;d.displayType="list";d.orderByFields=null;d.relationshipId=null;d.title=null;d.type="relationship";return d}a._inherits(e,m);return a._createClass(e)}(c.ClonableMixin(t));b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([f.property({type:Number,json:{type:g.Integer,write:!0}})],c.prototype,"displayCount",void 0);b.__decorate([f.property({type:["list"],
json:{write:!0}})],c.prototype,"displayType",void 0);b.__decorate([f.property({type:[k],json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([f.property({type:Number,json:{type:g.Integer,write:!0}})],c.prototype,"relationshipId",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([f.property({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([p.subclass("esri.popup.content.RelationshipContent")],
c)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(e){e=k.call(this,e)||this;e.field=null;e.order=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({field:this.field,
order:this.order})};return a._createClass(m)}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([f.property({type:["asc","desc"],json:{write:!0}})],c.prototype,"order",void 0);return c=t=b.__decorate([p.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],c)})},"esri/popup/content/TextContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(e){e=k.call(this,e)||this;e.text=null;e.type="text";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({text:this.text})};return a._createClass(m)}(p);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"text",void 0);b.__decorate([c.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=t=b.__decorate([u.subclass("esri.popup.content.TextContent")],f)})},"esri/popup/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(e){e=k.call(this,e)||this;e.name=null;e.title=null;e.expression=null;e.returnType=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return a._createClass(m)}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"title",
void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([f.property({type:["string","number"],json:{write:!0}})],c.prototype,"returnType",void 0);return c=t=b.__decorate([p.subclass("esri.popup.ExpressionInfo")],c)})},"esri/popup/LayerOptions":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(e){e=k.call(this,e)||this;e.returnTopmostRaster=null;e.showNoDataRecords=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};return a._createClass(m)}(c.JSONSupport);b.__decorate([f.property({type:Boolean,json:{write:!0}})],c.prototype,"returnTopmostRaster",void 0);b.__decorate([f.property({type:Boolean,json:{write:!0}})],c.prototype,
"showNoDataRecords",void 0);return c=t=b.__decorate([p.subclass("esri.popup.LayerOptions")],c)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(e){e=k.call(this,e)||this;e.showRelatedRecords=
null;e.orderByFields=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?f.clone(this.orderByFields):null})};return a._createClass(m)}(c.JSONSupport);b.__decorate([g.property({type:Boolean,json:{write:!0}})],c.prototype,"showRelatedRecords",void 0);b.__decorate([g.property({type:[p],json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=t=b.__decorate([u.subclass("esri.popup.RelatedRecordsInfo")],
c)})},"esri/support/actions/ActionBase":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t){var k;c=k=function(m){function e(d){d=m.call(this,d)||this;d.active=!1;d.className=null;d.disabled=!1;d.icon=null;d.id=null;d.indicator=
!1;d.title=null;d.type=null;d.visible=!0;return d}a._inherits(e,m);e.prototype.clone=function(){return new k({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};return a._createClass(e)}(f.IdentifiableMixin(c));b.__decorate([g.property()],c.prototype,"active",void 0);b.__decorate([g.property()],c.prototype,"className",void 0);b.__decorate([g.property()],c.prototype,"disabled",void 0);b.__decorate([g.property()],
c.prototype,"icon",void 0);b.__decorate([g.property()],c.prototype,"id",void 0);b.__decorate([g.property()],c.prototype,"indicator",void 0);b.__decorate([g.property()],c.prototype,"title",void 0);b.__decorate([g.property()],c.prototype,"type",void 0);b.__decorate([g.property()],c.prototype,"visible",void 0);return c=k=b.__decorate([t.subclass("esri.support.actions.ActionBase")],c)})},"esri/support/actions/ActionButton":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(e){e=k.call(this,e)||this;e.image=null;e.type="button";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};return a._createClass(m)}(p);b.__decorate([c.property()],f.prototype,"image",void 0);return f=t=b.__decorate([u.subclass("esri.support.Action.ActionButton")],
f)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(e){e=k.call(this,e)||this;e.image=null;e.type="toggle";e.value=!1;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({active:this.active,
className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};return a._createClass(m)}(p);b.__decorate([c.property()],f.prototype,"image",void 0);b.__decorate([c.property()],f.prototype,"value",void 0);return f=t=b.__decorate([u.subclass("esri.support.Action.ActionToggle")],f)})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w){var v;f=new f.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const A=d.ensureType(r);n=v=function(B){function C(y){y=B.call(this,y)||this;y._compiledValueExpression={valueExpression:null,compiledFunction:null};y.backgroundFillSymbol=null;y.classBreakInfos=null;y.defaultLabel=null;y.defaultSymbol=null;y.field=null;y.isMaxInclusive=!0;y.legendOptions=null;y.normalizationField=null;y.normalizationTotal=
null;y.type="class-breaks";y.valueExpression=null;y.valueExpressionTitle=null;y._set("classBreakInfos",[]);return y}a._inherits(C,B);var D=C.prototype;D.readClassBreakInfos=function(y,G,F){if(Array.isArray(y)){var K=G.minValue;return y.map(M=>{const O=new r;O.read(M,F);null==O.minValue&&(O.minValue=K);null==O.maxValue&&(O.maxValue=O.minValue);K=O.maxValue;return O})}};D.writeClassBreakInfos=function(y,G,F,K){y=y.map(M=>M.write({},K));this._areClassBreaksConsecutive()&&y.forEach(M=>delete M.classMinValue);
G[F]=y};D.castField=function(y){return null==y?y:"function"===typeof y?(q.getLogger(this).error(".field: field must be a string value"),null):d.ensureString(y)};D.addClassBreakInfo=function(y,G,F){let K=null;K="number"===typeof y?new r({minValue:y,maxValue:G,symbol:c.ensureType(F)}):A(g.clone(y));this.classBreakInfos.push(K);1===this.classBreakInfos.length&&this.notifyChange("minValue")};D.removeClassBreakInfo=function(y,G){const F=this.classBreakInfos.length;for(let K=0;K<F;K++){const M=[this.classBreakInfos[K].minValue,
this.classBreakInfos[K].maxValue];if(M[0]===y&&M[1]===G){this.classBreakInfos.splice(K,1);break}}};D.getBreakIndex=function(y,G){!this.valueExpression||null!=G&&null!=G.arcade||q.getLogger(this).warn("");return this.valueExpression?this._getBreakIndexForExpression(y,G):this._getBreakIndexForField(y)};D.getClassBreakInfo=async function(y,G){let F=G;!this.valueExpression||null!=G&&null!=G.arcade||(F={...F,arcade:await w.loadArcade()});y=this.getBreakIndex(y,F);return-1!==y?this.classBreakInfos[y]:null};
D.getSymbol=function(y,G){if(!this.valueExpression||null!=G&&null!=G.arcade)return y=this.getBreakIndex(y,G),-1<y?this.classBreakInfos[y].symbol:this.defaultSymbol;q.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")};D.getSymbolAsync=async function(y,G){let F=G;if(this.valueExpression&&(null==G||null==G.arcade)){G=await w.loadArcade();const {arcadeUtils:K}=G;K.hasGeometryOperations(this.valueExpression)&&await K.enableGeometryOperations();F={...F,arcade:G}}y=
this.getBreakIndex(y,F);return-1<y?this.classBreakInfos[y].symbol:this.defaultSymbol};D.getSymbols=function(){const y=[];this.classBreakInfos.forEach(G=>{G.symbol&&y.push(G.symbol)});this.defaultSymbol&&y.push(this.defaultSymbol);return y};D.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((y,G)=>y+G.getAttributeHash(),"")};D.getMeshHash=function(){const y=JSON.stringify(this.backgroundFillSymbol),G=JSON.stringify(this.defaultSymbol),F=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,
K=this.classBreakInfos.reduce((M,O)=>M+O.getMeshHash(),"");return`${y}.${G}.${K}.${F}.${this.field}.${this.valueExpression}`};D.clone=function(){return new v({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:g.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,
normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:g.clone(this.visualVariables),legendOptions:g.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};D.collectRequiredFields=async function(y,G){y=[this.collectVVRequiredFields(y,G),this.collectSymbolFields(y,G)];await Promise.all(y)};D.collectSymbolFields=async function(y,G){const F=[...this.getSymbols().map(K=>K.collectRequiredFields(y,
G)),l.collectArcadeFieldNames(y,G,this.valueExpression)];l.collectField(y,G,this.field);l.collectField(y,G,this.normalizationField);await Promise.all(F)};D._getBreakIndexForExpression=function(y,G){const {viewingMode:F,scale:K,spatialReference:M,arcade:O}=G??{};({valueExpression:G}=this);var H=this._compiledValueExpression.valueExpression===G?this._compiledValueExpression.compiledFunction:null;const J=O.arcadeUtils;H||(H=J.createSyntaxTree(G),H=J.createFunction(H),this._compiledValueExpression.compiledFunction=
H);this._compiledValueExpression.valueExpression=G;y=J.executeFunction(H,J.createExecContext(y,J.getViewInfo({viewingMode:F,scale:K,spatialReference:M})));return this._getBreakIndexfromInfos(y)};D._getBreakIndexForField=function(y){var G=y.attributes;y=this.normalizationType;let F=parseFloat(G[this.field]);if(y){const K=this.normalizationTotal;G=parseFloat(this.normalizationField?G[this.normalizationField]:void 0);if("log"===y)F=Math.log(F)*Math.LOG10E;else if("percent-of-total"===y&&null!=K&&!isNaN(K))F=
F/K*100;else if("field"===y&&!isNaN(G)){if(isNaN(F)||isNaN(G))return-1;F/=G}}return this._getBreakIndexfromInfos(F)};D._getBreakIndexfromInfos=function(y){const G=this.isMaxInclusive;if(null!=y&&"number"===typeof y&&!isNaN(y))for(let F=0;F<this.classBreakInfos.length;F++){const K=[this.classBreakInfos[F].minValue,this.classBreakInfos[F].maxValue];if(K[0]<=y&&(G?y<=K[1]:y<K[1]))return F}return-1};D._areClassBreaksConsecutive=function(){const y=this.classBreakInfos,G=y.length;for(let F=1;F<G;F++)if(y[F-
1].maxValue!==y[F].minValue)return!1;return!0};a._createClass(C,[{key:"minValue",get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}},{key:"normalizationType",get:function(){let y=this._get("normalizationType");const G=!!this.normalizationField,F=null!=this.normalizationTotal;if(G||F)y=G&&"field"||F&&"percent-of-total"||null,G&&F&&q.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===y||"percent-of-total"===
y)y=null;return y},set:function(y){this._set("normalizationType",y)}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return C}(h.VisualVariablesMixin(n));b.__decorate([u.property(z.rendererBackgroundFillSymbolProperty)],n.prototype,"backgroundFillSymbol",void 0);b.__decorate([u.property({type:[r]})],n.prototype,"classBreakInfos",void 0);b.__decorate([k.reader("classBreakInfos")],n.prototype,"readClassBreakInfos",null);b.__decorate([e.writer("classBreakInfos")],
n.prototype,"writeClassBreakInfos",null);b.__decorate([u.property({type:String,json:{write:!0}})],n.prototype,"defaultLabel",void 0);b.__decorate([u.property(z.rendererSymbolProperty)],n.prototype,"defaultSymbol",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],n.prototype,"field",void 0);b.__decorate([p.cast("field")],n.prototype,"castField",null);b.__decorate([u.property({type:Boolean})],n.prototype,"isMaxInclusive",void 0);b.__decorate([u.property({type:x.LegendOptions,json:{write:!0}})],
n.prototype,"legendOptions",void 0);b.__decorate([u.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],n.prototype,"minValue",null);b.__decorate([u.property({type:String,json:{write:!0}})],n.prototype,"normalizationField",void 0);b.__decorate([u.property({type:Number,cast:B=>d.ensureNumber(B),json:{write:!0}})],n.prototype,"normalizationTotal",void 0);b.__decorate([u.property({type:f.apiValues,
value:null,json:{type:f.jsonValues,read:f.read,write:f.write}})],n.prototype,"normalizationType",null);b.__decorate([t.enumeration({classBreaks:"class-breaks"})],n.prototype,"type",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],n.prototype,"valueExpression",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],n.prototype,"valueExpressionTitle",void 0);return n=v=b.__decorate([m.subclass("esri.renderers.ClassBreaksRenderer")],n)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./chunks/LineCallout3DBorder".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D,y,G,F,K,M,O,H){const J={base:C,key:"type",typeMap:{"simple-fill":v,"picture-fill":r,"picture-marker":z,"simple-line":A,"simple-marker":B,text:G,"label-3d":k,"line-3d":m,"mesh-3d":l,"point-3d":x,"polygon-3d":w,"web-style":M,cim:f},errorContext:"symbol"},L={base:C,key:"type",typeMap:{"picture-marker":z,"simple-marker":B,text:G,"web-style":M,cim:f},errorContext:"symbol"};c=c.createTypeReader({types:J});const N={base:C,key:"type",typeMap:{"simple-fill":v,
"picture-fill":r,"picture-marker":z,"simple-line":A,"simple-marker":B,text:G,"line-3d":m,"mesh-3d":l,"point-3d":x,"polygon-3d":w,"web-style":M,cim:f},errorContext:"symbol"},V={base:C,key:"type",typeMap:{text:G,"label-3d":k},errorContext:"symbol"},X={base:C,key:"type",typeMap:{"label-3d":k,"line-3d":m,"mesh-3d":l,"point-3d":x,"polygon-3d":w,"web-style":M},errorContext:"symbol"},U={base:C,key:"type",typeMap:{"line-3d":m,"mesh-3d":l,"point-3d":x,"polygon-3d":w,"web-style":M,cim:f},errorContext:"symbol"},
P={base:C,key:"type",typeMap:{"label-3d":k},errorContext:"symbol"};b=b.ensureOneOfType(J);a.CIMSymbol=f;a.ExtrudeSymbol3DLayer=g;a.BaseFillSymbol=q;a.FillSymbol3DLayer=u;a.Font=p;a.IconSymbol3DLayer=t;a.LabelSymbol3D=k;a.LineSymbol3D=m;a.LineSymbol3DLayer=e;a.BaseMarkerSymbol=d;a.MeshSymbol3D=l;a.ObjectSymbol3DLayer=n;a.PathSymbol3DLayer=h;a.PictureFillSymbol=r;a.PictureMarkerSymbol=z;a.PointSymbol3D=x;a.PolygonSymbol3D=w;a.SimpleFillSymbol=v;a.SimpleLineSymbol=A;a.SimpleMarkerSymbol=B;a.BaseSymbol=
C;a.BaseSymbol3D=D;a.BaseSymbol3DLayer=y;a.TextSymbol=G;a.TextSymbol3DLayer=F;a.WaterSymbol3DLayer=K;a.WebStyleSymbol=M;a.LineCallout3D=O;a.LineCallout3DBorder=H.LineCallout3DBorder;a.ensureType=b;a.isSymbol=function(fa){return fa instanceof C};a.isSymbol2D=function(fa){if(!fa)return!1;switch(fa.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(fa){if(!fa)return!1;switch(fa.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;
default:return!1}};a.readSymbol=c;a.symbolTypes=J;a.symbolTypes3D=X;a.symbolTypesCluster=L;a.symbolTypesLabel=V;a.symbolTypesLabel3D=P;a.symbolTypesRenderer=N;a.symbolTypesRenderer3D=U;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/CIMSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;q=d=function(l){function n(r){r=l.call(this,r)||this;r.data=null;r.type="cim";return r}a._inherits(n,l);var h=n.prototype;h.readData=function(r,z){return z};h.writeData=function(r,z){Object.assign(z,r)};h.collectRequiredFields=async function(r,z){if("CIMSymbolReference"===this.data?.type){var x=this.data.primitiveOverrides;x&&(x=x.map(w=>m.collectArcadeFieldNames(r,z,w.valueExpressionInfo.expression)),await Promise.all(x))}};h.clone=function(){return new d({data:c.clone(this.data)})};
h.hash=function(){return f.numericHash(JSON.stringify(this.data)).toString()};return a._createClass(n)}(e);b.__decorate([g.property({json:{write:!1}})],q.prototype,"color",void 0);b.__decorate([g.property({json:{write:!0}})],q.prototype,"data",void 0);b.__decorate([p.reader("data",["symbol"])],q.prototype,"readData",null);b.__decorate([k.writer("data",{})],q.prototype,"writeData",null);b.__decorate([u.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],q.prototype,"type",void 0);return q=d=b.__decorate([t.subclass("esri.symbols.CIMSymbol")],
q)})},"esri/symbols/Symbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){f=new f.JSONMap({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",
esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let e=0;g=function(d){function l(h){h=d.call(this,h)||this;h.id=`sym${e++}`;h.type=null;h.color=new c([0,0,0,1]);return h}a._inherits(l,d);var n=l.prototype;n.readColor=function(h){return h&&null!=h[0]?[h[0],h[1],h[2],h[3]/255]:h};n.collectRequiredFields=async function(h,r){};n.hash=
function(){return JSON.stringify(this.toJSON())};n.clone=function(){};return a._createClass(l)}(g.JSONSupport);b.__decorate([q.property({type:f.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:f.write}}})],g.prototype,"type",void 0);b.__decorate([q.property({type:c,json:{write:{allowNull:!0}}})],g.prototype,"color",void 0);b.__decorate([k.reader("color")],g.prototype,"readColor",null);return g=b.__decorate([m.subclass("esri.symbols.Symbol")],g)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;f=e=function(d){function l(n){n=d.call(this,n)||this;n.type="extrude";n.size=1;n.material=null;n.castShadows=!0;n.edges=null;return n}a._inherits(l,d);l.prototype.clone=function(){return new e({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,size:this.size})};return a._createClass(l)}(t);b.__decorate([u.enumeration({Extrude:"extrude"},{readOnly:!0})],f.prototype,"type",
void 0);b.__decorate([c.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],f.prototype,"size",void 0);b.__decorate([c.property({type:m.Symbol3DMaterial,json:{write:!0}})],f.prototype,"material",void 0);b.__decorate([c.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],f.prototype,"castShadows",void 0);b.__decorate([c.property(k.symbol3dEdgesProperty)],f.prototype,"edges",void 0);return f=e=b.__decorate([p.subclass("esri.symbols.ExtrudeSymbol3DLayer")],
f)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),function(a,b,c,f,g,q,u,p,t){c=function(k){function m(e){e=k.call(this,e)||this;e.enabled=!0;e.type=null;e.ignoreDrivers=!1;return e}a._inherits(m,k);m.prototype.writeEnabled=
function(e,d,l){e||(d[l]=e)};return a._createClass(m)}(c.JSONSupport);b.__decorate([f.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],c.prototype,"enabled",void 0);b.__decorate([t.writer("enabled")],c.prototype,"writeEnabled",null);b.__decorate([f.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],c.prototype,"type",void 0);return c=b.__decorate([p.subclass("esri.symbols.Symbol3DLayer")],c)})},"esri/symbols/edges/utils":function(){define(["exports",
"./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,c,f){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:f,sketch:c}},json:{write:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k){f=function(m){function e(l){l=m.call(this,l)||this;l.color=new c([0,0,0,1]);l.extensionLength=0;l.size=q.px2pt(1);return l}a._inherits(e,m);var d=e.prototype;d.clone=function(){};d.cloneProperties=function(){return{color:g.clone(this.color),size:this.size,extensionLength:this.extensionLength}};return a._createClass(e)}(f.JSONSupport);b.__decorate([u.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],f.prototype,"type",void 0);b.__decorate([u.property(k.colorAndTransparencyProperty)],
f.prototype,"color",void 0);b.__decorate([u.property({...k.screenSizeProperty,json:{write:{overridePolicy(m){return{enabled:!!m}}}}})],f.prototype,"extensionLength",void 0);b.__decorate([u.property(k.screenSizeProperty)],f.prototype,"size",void 0);return f=b.__decorate([t.subclass("esri.symbols.edges.Edges3D")],f)})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(f){return f?72*f/96:0}const c=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=function(f){return f};
a.castRenderScreenPointArray3=function(f){return f};a.castScreenPointArray=function(f){return f};a.createRenderScreenPoint=function(f=0,g=0){return{x:f,y:g}};a.createRenderScreenPointArray=function(f=0,g=0){return[f,g]};a.createRenderScreenPointArray3=function(f=0,g=0,q=0){return[f,g,q]};a.createScreenPoint=function(f=0,g=0){return{x:f,y:g}};a.createScreenPointArray=function(f=0,g=0){return[f,g]};a.pt2px=function(f){return f?f/72*96:0};a.px2pt=b;a.screenPointArrayToObject=function(f,g){return g?(g.x=
f[0],g.y=f[1],g):{x:f[0],y:f[1]}};a.screenPointObjectToArray=function(f,g){return g?(g[0]=f.x,g[1]=f.y,2<g.length&&(g[2]=0),g):[f.x,f.y]};a.toPt=function(f){if("string"===typeof f){var g=f.match(c);if(g){var q=Number(g[1]);g=g[3]&&g[3].toLowerCase();f="-"===f.charAt(0);q="px"===g?b(q):q;return f?-q:q}console.warn("screenUtils.toPt: input not recognized!");return null}return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/materialUtils":function(){define(["exports",
"../../Color","../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,c,f,g){c={type:Number,cast:c.toPt,json:{write:!0}};a.colorAndTransparencyProperty={type:b,json:{type:[f.Integer],default:null,read:{source:["color","transparency"],reader:function(q,u){q=null!=u.transparency?g.transparencyToOpacity(u.transparency):1;return(u=u.color)&&Array.isArray(u)?new b([u[0]||0,u[1]||0,u[2]||0,q]):null}},write:{target:{color:{type:[f.Integer]},transparency:{type:f.Integer}},
writer:function(q,u){u.color=q.toJSON().slice(0,3);q=g.opacityToTransparency(q.a);0!==q&&(u.transparency=q)}}}};a.screenSizeProperty=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;c=m=function(e){function d(l){l=e.call(this,l)||this;l.type="sketch";return l}a._inherits(d,e);d.prototype.clone=function(){return new m(this.cloneProperties())};return a._createClass(d)}(k);b.__decorate([p.enumeration({sketch:"sketch"},{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([t.subclass("esri.symbols.edges.SketchEdges3D")],c)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;c=m=function(e){function d(l){l=e.call(this,l)||this;l.type="solid";return l}a._inherits(d,e);d.prototype.clone=function(){return new m(this.cloneProperties())};return a._createClass(d)}(k);b.__decorate([p.enumeration({solid:"solid"},{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([t.subclass("esri.symbols.support.SolidEdges3D")],c)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;a.Symbol3DMaterial=m=function(e){function d(l){l=e.call(this,l)||this;l.color=null;return l}b._inherits(d,e);d.prototype.clone=function(){const l={color:null!=this.color?this.color.clone():null};return new m(l)};return b._createClass(d)}(f.JSONSupport);c.__decorate([g.property(k.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=m=c.__decorate([t.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),function(a,b,c,f,g,q,u,p,t){f=function(k){function m(e){e=k.call(this,e)||this;e.outline=null;e.type=null;return e}a._inherits(m,k);m.prototype.hash=function(){return`${this.type}.${this.outline&&
this.outline.hash()}`};return a._createClass(m)}(t);b.__decorate([c.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":p}},json:{default:null,write:!0}})],f.prototype,"outline",void 0);b.__decorate([c.property({type:["simple-fill","picture-fill"],readOnly:!0})],f.prototype,"type",void 0);return f=b.__decorate([u.subclass("esri.symbols.FillSymbol")],f)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;c=new c.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});k=e=function(d){function l(...h){h=d.call(this,...h)||this;h.type="simple-line";
h.style="solid";h.cap="round";h.join="round";h.marker=null;h.miterLimit=2;return h}a._inherits(l,d);var n=l.prototype;n.normalizeCtorArgs=function(h,r,z,x,w,v){if(h&&"string"!==typeof h)return h;const A={};null!=h&&(A.style=h);null!=r&&(A.color=r);null!=z&&(A.width=g.toPt(z));null!=x&&(A.cap=x);null!=w&&(A.join=w);null!=v&&(A.miterLimit=g.toPt(v));return A};n.clone=function(){return new e({color:f.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,
marker:this.marker?.clone()})};n.hash=function(){return`${a._get(a._getPrototypeOf(l.prototype),"hash",this).call(this)}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`};return a._createClass(l)}(k);b.__decorate([p.enumeration({esriSLS:"simple-line"},{readOnly:!0})],k.prototype,"type",void 0);b.__decorate([q.property({type:c.apiValues,json:{read:c.read,write:c.write}})],k.prototype,"style",void 0);b.__decorate([q.property({type:["butt","round",
"square"],json:{write:{overridePolicy:(d,l,n)=>({enabled:"round"!==d&&(null==n||null==n.origin)})}}})],k.prototype,"cap",void 0);b.__decorate([q.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(d,l,n)=>({enabled:"round"!==d&&(null==n||null==n.origin)})}}})],k.prototype,"join",void 0);b.__decorate([q.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":m}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],k.prototype,"marker",void 0);b.__decorate([q.property({type:Number,
json:{read:!1,write:!1}})],k.prototype,"miterLimit",void 0);return k=e=b.__decorate([t.subclass("esri.symbols.SimpleLineSymbol")],k)})},"esri/symbols/LineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),function(a,b,c,f,g,q,u,
p,t,k){g=function(m){function e(d){d=m.call(this,d)||this;d.type="simple-line";d.width=.75;return d}a._inherits(e,m);e.prototype.hash=function(){return`${this.type}.${this.width}`};return a._createClass(e)}(k);b.__decorate([p.enumeration({esriSLS:"simple-line"},{readOnly:!0})],g.prototype,"type",void 0);b.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],g.prototype,"width",void 0);return g=b.__decorate([t.subclass("esri.symbols.LineSymbol")],g)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/lineMarkers".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;f=d=function(l){function n(r){r=l.call(this,r)||this;r.placement="begin-end";r.type="line-marker";r.style="arrow";return r}a._inherits(n,l);var h=n.prototype;h.writeStyle=function(r,z,x,w){z[x]="web-map"===w?.origin?"arrow":r};h.readColor=function(r){return r&&null!=r[0]?[r[0],r[1],r[2],r[3]/255]:r};h.writeColor=function(r,z,x,w){"web-map"!==w?.origin&&(z[x]=r)};h.clone=function(){return new d({color:g.clone(this.color),placement:this.placement,style:this.style})};
h.hash=function(){return`${this.placement}.${this.color?.hash()}.${this.style}`};a._createClass(n,[{key:"color",set:function(r){this._set("color",r)}}]);return n}(f.JSONSupport);b.__decorate([q.property({type:["begin","end","begin-end"],json:{write:!0}})],f.prototype,"placement",void 0);b.__decorate([p.enumeration({"line-marker":"line-marker"},{readOnly:!0}),q.property({json:{origins:{"web-map":{write:!1}}}})],f.prototype,"type",void 0);b.__decorate([q.property({type:e.lineMarkerStyles})],f.prototype,
"style",void 0);b.__decorate([m.writer("style")],f.prototype,"writeStyle",null);b.__decorate([q.property({type:c,value:null,json:{write:{allowNull:!0}}})],f.prototype,"color",null);b.__decorate([t.reader("color")],f.prototype,"readColor",null);b.__decorate([m.writer("color")],f.prototype,"writeColor",null);return f=d=b.__decorate([k.subclass("esri.symbols.LineSymbolMarker")],f)})},"esri/symbols/support/lineMarkers":function(){define(["exports"],function(a){a.lineMarkerPlacements=["begin","end","begin-end"];
a.lineMarkerStyles="arrow circle square diamond cross x".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h){var r;f=r=function(z){function x(w){w=z.call(this,w)||this;w.type="fill";w.material=null;w.pattern=null;w.castShadows=!0;w.outline=null;w.edges=null;return w}a._inherits(x,z);x.prototype.clone=function(){const w={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():
null};return new r(w)};x.fromSimpleFillSymbol=function(w){const v=w.outline&&w.outline.style&&"inside-frame"!==w.outline.style&&"solid"!==w.outline.style?new m({style:w.outline.style}):null,A={size:w.outline?.width??0,color:(w.outline?.color??l.white).clone(),pattern:v};v&&w.outline?.cap&&(A.patternCap=w.outline.cap);return new r({material:new n.Symbol3DFillMaterial({color:(w.color??l.transparentWhite).clone()}),pattern:w.style&&"solid"!==w.style?new e({style:w.style}):null,outline:A})};return a._createClass(x)}(t);
b.__decorate([u.enumeration({Fill:"fill"},{readOnly:!0})],f.prototype,"type",void 0);b.__decorate([c.property({type:n.Symbol3DFillMaterial,json:{write:!0}})],f.prototype,"material",void 0);b.__decorate([c.property(d.symbol3dPatternProperty)],f.prototype,"pattern",void 0);b.__decorate([c.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],f.prototype,"castShadows",void 0);b.__decorate([c.property({type:h.Symbol3DOutline,json:{write:!0}})],f.prototype,"outline",void 0);b.__decorate([c.property(k.symbol3dEdgesProperty)],
f.prototype,"edges",void 0);return f=r=b.__decorate([p.subclass("esri.symbols.FillSymbol3DLayer")],f)})},"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;c=c.strict()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});k=e=function(d){function l(n){n=d.call(this,n)||this;n.type="style";n.style="solid";return n}a._inherits(l,d);l.prototype.clone=function(){return new e({style:this.style})};
return a._createClass(l)}(k);b.__decorate([f.property({type:["style"]})],k.prototype,"type",void 0);b.__decorate([p.enumeration(c),f.property({type:m.lineStyles})],k.prototype,"style",void 0);return k=e=b.__decorate([t.subclass("esri.symbols.patterns.LineStylePattern3D")],k)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){c=function(t){function k(m){return t.call(this,m)||this}a._inherits(k,t);k.prototype.clone=function(){};return a._createClass(k)}(c.JSONSupport);b.__decorate([f.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([p.subclass("esri.symbols.patterns.LinePattern3D")],c)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(d){d=m.call(this,d)||this;d.type="style";d.style="solid";
return d}a._inherits(e,m);e.prototype.clone=function(){return new k({style:this.style})};return a._createClass(e)}(p);b.__decorate([c.property({type:["style"]})],f.prototype,"type",void 0);b.__decorate([c.property({type:t,json:{read:!0,write:!0}})],f.prototype,"style",void 0);return f=k=b.__decorate([u.subclass("esri.symbols.patterns.StylePattern3D")],f)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){c=function(t){function k(m){return t.call(this,m)||this}a._inherits(k,t);k.prototype.clone=function(){};return a._createClass(k)}(c.JSONSupport);b.__decorate([f.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([p.subclass("esri.symbols.patterns.Pattern3D")],c)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["exports","./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,c,f,g){f={types:{key:"type",base:f,typeMap:{style:g}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:c}},json:{write:!0}};a.symbol3dPatternProperty=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,b){const c=new b("white"),
f=new b("black");b=new b([255,255,255,0]);a.black=f;a.isBlack=function(g){return 0===g.r&&0===g.g&&0===g.b};a.transparentWhite=b;a.white=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Symbol3DMaterial".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;a.Symbol3DFillMaterial=e=function(d){function l(n){n=d.call(this,n)||this;n.colorMixMode=null;return n}b._inherits(l,d);l.prototype.clone=function(){const n={color:null!=this.color?this.color.clone():null,colorMixMode:this.colorMixMode};return new e(n)};return b._createClass(l)}(m.Symbol3DMaterial);c.__decorate([t.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=e=
c.__decorate([k.subclass("esri.symbols.support.Symbol3DFillMaterial")],a.Symbol3DFillMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l){var n;a.Symbol3DOutline=n=function(h){function r(z){z=h.call(this,z)||this;z.color=new f([0,0,0,1]);z.size=q.px2pt(1);z.pattern=null;z.patternCap="butt";return z}b._inherits(r,h);r.prototype.clone=function(){const z={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new n(z)};return b._createClass(r)}(g.JSONSupport);c.__decorate([u.property(d.colorAndTransparencyProperty)],
a.Symbol3DOutline.prototype,"color",void 0);c.__decorate([u.property(d.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",void 0);c.__decorate([u.property(e.symbol3dLinePatternProperty)],a.Symbol3DOutline.prototype,"pattern",void 0);c.__decorate([u.property({type:l.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],a.Symbol3DOutline.prototype,"patternCap",void 0);a.Symbol3DOutline=n=c.__decorate([m.subclass("esri.symbols.support.Symbol3DOutline")],
a.Symbol3DOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports","../../core/has","../../chunks/vec3f64","../../geometry/support/aaBoundingBox"],function(a,b,c,f){const g=f.fromValues(-.5,-.5,-.5,.5,.5,.5),q=f.fromValues(-.5,-.5,0,.5,.5,1),u=f.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];f=[...b,"none"];a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_TETRAHEDRON=u;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CUBE=
g;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CYLINDER=q;a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerPrimitiveBoundingBox=function(p){switch(p){case "sphere":case "cube":case "diamond":return g;case "cylinder":case "cone":case "inverted-cone":return q;case "tetrahedron":return u}};a.objectSymbolLayerSizeWithResourceSize=function(p,{isPrimitive:t,width:k,depth:m,height:e}){t=t?10:1;if(null==k&&null==e&&null==m)return[t*p[0],t*p[1],t*p[2]];k=c.fromValues(k,m,e);let d;for(m=0;3>
m;m++)if(e=k[m],null!=e){d=e/p[m];break}for(m=0;3>m;m++)null==k[m]&&(k[m]=p[m]*d);return k};a.pathCaps=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../Extent","./aaBoundingRect"],function(a,b,c){function f(n=d){return[n[0],n[1],n[2],n[3],n[4],n[5]]}function g(n,h,r,z,x,w,v=f()){v[0]=n;v[1]=h;v[2]=r;v[3]=z;v[4]=x;v[5]=w;return v}function q(n){return n[0]>=n[3]?0:n[3]-n[0]}function u(n){return n[1]>=n[4]?0:n[4]-
n[1]}function p(n){return n[2]>=n[5]?0:n[5]-n[2]}function t(n,h){return Math.max(h[0],n[0])<=Math.min(h[3],n[3])&&Math.max(h[1],n[1])<=Math.min(h[4],n[4])&&Math.max(h[2],n[2])<=Math.min(h[5],n[5])}function k(n,h){n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];return n}function m(n){return 6===n.length}const e=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],d=[0,0,0,0,0,0],l=f();a.NEGATIVE_INFINITY=e;a.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];
a.ZERO=d;a.allFinite=function(n){for(let h=0;6>h;h++)if(!isFinite(n[h]))return!1;return!0};a.center=function(n,h=[0,0,0]){h[0]=n[0]+q(n)/2;h[1]=n[1]+u(n)/2;h[2]=n[2]+p(n)/2;return h};a.contains=function(n,h){return h[0]>=n[0]&&h[1]>=n[1]&&h[2]>=n[2]&&h[3]<=n[3]&&h[4]<=n[4]&&h[5]<=n[5]};a.containsPoint=function(n,h){return h[0]>=n[0]&&h[1]>=n[1]&&h[2]>=n[2]&&h[0]<=n[3]&&h[1]<=n[4]&&h[2]<=n[5]};a.containsPointWithMargin=function(n,h,r){return h[0]>=n[0]-r&&h[1]>=n[1]-r&&h[2]>=n[2]-r&&h[0]<=n[3]+r&&
h[1]<=n[4]+r&&h[2]<=n[5]+r};a.create=f;a.depth=u;a.diameter=function(n){const h=q(n),r=p(n);n=u(n);return Math.sqrt(h*h+r*r+n*n)};a.empty=function(n){return n?k(n,e):f(e)};a.equals=function(n,h,r){if(null==n||null==h)return n===h;if(!m(n)||!m(h))return!1;if(r)for(let z=0;z<n.length;z++){if(!r(n[z],h[z]))return!1}else for(r=0;r<n.length;r++)if(n[r]!==h[r])return!1;return!0};a.expandWithAABB=function(n,h){n[0]=Math.min(n[0],h[0]);n[1]=Math.min(n[1],h[1]);n[2]=Math.min(n[2],h[2]);n[3]=Math.max(n[3],
h[3]);n[4]=Math.max(n[4],h[4]);n[5]=Math.max(n[5],h[5])};a.expandWithBuffer=function(n,h,r=0,z=h.length/3){let x=n[0],w=n[1],v=n[2],A=n[3],B=n[4],C=n[5];for(let D=0;D<z;D++)x=Math.min(x,h[r+3*D]),w=Math.min(w,h[r+3*D+1]),v=Math.min(v,h[r+3*D+2]),A=Math.max(A,h[r+3*D]),B=Math.max(B,h[r+3*D+1]),C=Math.max(C,h[r+3*D+2]);n[0]=x;n[1]=w;n[2]=v;n[3]=A;n[4]=B;n[5]=C};a.expandWithNestedArray=function(n,h,r){const z=h.length;let x=n[0],w=n[1],v=n[2],A=n[3],B=n[4],C=n[5];if(r)for(r=0;r<z;r++){var D=h[r];x=Math.min(x,
D[0]);w=Math.min(w,D[1]);v=Math.min(v,D[2]);A=Math.max(A,D[0]);B=Math.max(B,D[1]);C=Math.max(C,D[2])}else for(r=0;r<z;r++)D=h[r],x=Math.min(x,D[0]),w=Math.min(w,D[1]),A=Math.max(A,D[0]),B=Math.max(B,D[1]);n[0]=x;n[1]=w;n[2]=v;n[3]=A;n[4]=B;n[5]=C};a.expandWithOffset=function(n,h,r,z){n[0]=Math.min(n[0],n[0]+h);n[3]=Math.max(n[3],n[3]+h);n[1]=Math.min(n[1],n[1]+r);n[4]=Math.max(n[4],n[4]+r);n[2]=Math.min(n[2],n[2]+z);n[5]=Math.max(n[5],n[5]+z)};a.expandWithRect=function(n,h){n[0]=Math.min(n[0],h[0]);
n[1]=Math.min(n[1],h[1]);n[3]=Math.max(n[3],h[2]);n[4]=Math.max(n[4],h[3])};a.expandWithVec3=function(n,h){n[0]=Math.min(n[0],h[0]);n[1]=Math.min(n[1],h[1]);n[2]=Math.min(n[2],h[2]);n[3]=Math.max(n[3],h[0]);n[4]=Math.max(n[4],h[1]);n[5]=Math.max(n[5],h[2])};a.fromExtent=function(n,h=f()){h[0]=n.xmin;h[1]=n.ymin;h[2]=n.hasZ?n.zmin:-Infinity;h[3]=n.xmax;h[4]=n.ymax;h[5]=n.hasZ?n.zmax:Infinity;return h};a.fromMinMax=function(n,h,r=f()){r[0]=n[0];r[1]=n[1];r[2]=n[2];r[3]=h[0];r[4]=h[1];r[5]=h[2];return r};
a.fromRect=function(n,h){n[0]=h[0];n[1]=h[1];n[2]=Number.NEGATIVE_INFINITY;n[3]=h[2];n[4]=h[3];n[5]=Number.POSITIVE_INFINITY;return n};a.fromRectValues=function(n,h,r,z,x){n[0]=h;n[1]=r;n[2]=Number.NEGATIVE_INFINITY;n[3]=z;n[4]=x;n[5]=Number.POSITIVE_INFINITY;return n};a.fromValues=g;a.getMax=function(n,h){h[0]=n[3];h[1]=n[4];h[2]=n[5];return h};a.getMin=function(n,h){h[0]=n[0];h[1]=n[1];h[2]=n[2];return h};a.height=p;a.intersects=t;a.intersectsClippingArea=function(n,h){return null==h?!0:t(n,h)};
a.is=m;a.isPoint=function(n){return 0===q(n)&&0===u(n)&&0===p(n)};a.maximumDimension=function(n){return Math.max(q(n),p(n),u(n))};a.offset=function(n,h,r,z,x=n){x[0]=n[0]+h;x[1]=n[1]+r;x[2]=n[2]+z;x[3]=n[3]+h;x[4]=n[4]+r;x[5]=n[5]+z;return x};a.scale=function(n,h,r=n){const z=n[0]+q(n)/2,x=n[1]+u(n)/2,w=n[2]+p(n)/2;r[0]=z+(n[0]-z)*h;r[1]=x+(n[1]-x)*h;r[2]=w+(n[2]-w)*h;r[3]=z+(n[3]-z)*h;r[4]=x+(n[4]-x)*h;r[5]=w+(n[5]-w)*h;return r};a.set=k;a.setMax=function(n,h,r=n){r[3]=h[0];r[4]=h[1];r[5]=h[2];r!==
n&&(r[0]=n[0],r[1]=n[1],r[2]=n[2]);return n};a.setMin=function(n,h,r=n){r[0]=h[0];r[1]=h[1];r[2]=h[2];r!==n&&(r[3]=n[3],r[4]=n[4],r[5]=n[5]);return r};a.size=function(n,h=[0,0,0]){h[0]=q(n);h[1]=u(n);h[2]=p(n);return h};a.toExtent=function(n,h){return isFinite(n[2])||isFinite(n[5])?new b({xmin:n[0],xmax:n[3],ymin:n[1],ymax:n[4],zmin:n[2],zmax:n[5],spatialReference:h}):new b({xmin:n[0],xmax:n[3],ymin:n[1],ymax:n[4],spatialReference:h})};a.toRect=function(n,h){h||(h=c.create());h[0]=n[0];h[1]=n[1];
h[2]=n[3];h[3]=n[4];return h};a.width=q;a.wrap=function(n,h,r,z,x,w){return g(n,h,r,z,x,w,l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/Font":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/textUtils".split(" "),function(a,b,c,f,
g,q,u,p,t,k){var m;c=m=function(e){function d(n){n=e.call(this,n)||this;n.decoration="none";n.family="sans-serif";n.size=9;n.style="normal";n.weight="normal";return n}a._inherits(d,e);var l=d.prototype;l.castSize=function(n){return f.toPt(n)};l.clone=function(){return new m({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};l.hash=function(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`};return a._createClass(d)}(c.JSONSupport);
b.__decorate([g.property({type:k.fontDecorations,json:{default:"none",write:!0}})],c.prototype,"decoration",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"family",void 0);b.__decorate([g.property({type:Number,json:{write:{overridePolicy(e,d,l){return{enabled:!l||!l.textSymbol3D}}}}})],c.prototype,"size",void 0);b.__decorate([q.cast("size")],c.prototype,"castSize",null);b.__decorate([g.property({type:k.fontStyles,json:{default:"normal",write:!0}})],c.prototype,"style",
void 0);b.__decorate([g.property({type:k.fontWeights,json:{default:"normal",write:!0}})],c.prototype,"weight",void 0);return c=m=b.__decorate([t.subclass("esri.symbols.Font")],c)})},"esri/symbols/support/textUtils":function(){define(["exports","../../core/mathUtils","../../core/accessorSupport/ensureType"],function(a,b,c){const f={type:Number,cast:t=>{t=c.ensureNumber(t);return 0===t?1:b.clamp(t,.1,4)},nonNullable:!0},g=["left","right","center"],q=["baseline","top","middle","bottom"],u={type:g,nonNullable:!0},
p={type:q,nonNullable:!0};a.BACKGROUND_PADDING=8;a.fontDecorations=["none","underline","line-through"];a.fontStyles=["normal","italic","oblique"];a.fontWeights=["normal","lighter","bold","bolder"];a.horizontalAlignmentProperty=u;a.horizontalAlignments=g;a.lineHeightProperty=f;a.verticalAlignmentProperty=p;a.verticalAlignments=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r){function z(A){const B="width"in A?A.width:A.size,C="height"in A?A.height:A.size,D=x(A.xoffset);A=x(A.yoffset);return(D||A)&&B&&C?{x:-D/B,y:A/C}:null}function x(A){return isFinite(A)?A:0}var w;q=w=function(A){function B(C){C=A.call(this,C)||this;C.material=null;C.resource=null;C.type="icon";C.size=12;C.anchor="center";C.anchorPosition=null;C.outline=null;return C}a._inherits(B,A);B.prototype.clone=function(){return new w({anchor:this.anchor,anchorPosition:this.anchorPosition&&
this.anchorPosition.clone(),enabled:this.enabled,material:null!=this.material?this.material.clone():null,outline:null!=this.outline?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};B.fromSimpleMarkerSymbol=function(C){const D=C.color||e.white,y=z(C),G=C.outline&&0<C.outline.width?{size:C.outline.width,color:(C.outline.color||e.white).clone()}:null;var F=w,K=C.size;{C=C.style;const M=v[C];M?C=M:(c.getLogger("esri.symbols.IconSymbol3DLayer").warn(`${C} cannot be mapped to Icon symbol. Fallback to "circle"`),
C="circle")}return new F({size:K,resource:{primitive:C},material:{color:D},outline:G,anchor:y?"relative":void 0,anchorPosition:y})};B.fromPictureMarkerSymbol=function(C){const D=!C.color||e.isBlack(C.color)?e.white:C.color,y=z(C);return new w({size:C.width<=C.height?C.height:C.width,resource:{href:C.url},material:{color:D.clone()},anchor:y?"relative":void 0,anchorPosition:y})};B.fromCIMSymbol=function(C){return new w({resource:{href:f.makeData({mediaType:"application/json",data:JSON.stringify(C.data)})}})};
return a._createClass(B)}(m);b.__decorate([g.property({type:r.Symbol3DMaterial,json:{write:!0}})],q.prototype,"material",void 0);b.__decorate([g.property({type:d.IconSymbol3DLayerResource,json:{write:!0}})],q.prototype,"resource",void 0);b.__decorate([t.enumeration({Icon:"icon"},{readOnly:!0})],q.prototype,"type",void 0);b.__decorate([g.property(l.screenSizeProperty)],q.prototype,"size",void 0);b.__decorate([t.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",
topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),g.property({json:{default:"center"}})],q.prototype,"anchor",void 0);b.__decorate([g.property({type:n.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:A=>new n.Symbol3DAnchorPosition2D({x:A[0],y:A[1]})},write:{writer:(A,B)=>{B.anchorPosition=[A.x,A.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],q.prototype,"anchorPosition",void 0);b.__decorate([g.property({type:h.Symbol3DIconOutline,
json:{write:!0}})],q.prototype,"outline",void 0);q=w=b.__decorate([k.subclass("esri.symbols.IconSymbol3DLayer")],q);const v={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return q})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){var h;f=f.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=h=function(r){function z(w){return r.call(this,w)||this}b._inherits(z,r);var x=z.prototype;x.readHref=function(w,v,A){return w?n.fromJSON(w,A):v.dataURI};x.writeHref=function(w,v,A,B){w&&(q.isDataProtocol(w)?v.dataURI=w:(v.href=n.toJSON(w,B),q.isAbsolute(v.href)&&(v.href=q.normalize(v.href))))};x.clone=function(){return new h({href:this.href,
primitive:this.primitive})};return b._createClass(z)}(g.JSONSupport);c.__decorate([u.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);c.__decorate([e.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);c.__decorate([l.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);c.__decorate([m.enumeration(f)],a.IconSymbol3DLayerResource.prototype,"primitive",
void 0);a.IconSymbol3DLayerResource=h=c.__decorate([d.subclass("esri.symbols.support.IconSymbol3DLayerResource")],a.IconSymbol3DLayerResource);a.defaultPrimitive="circle";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;a.Symbol3DAnchorPosition2D=k=function(m){function e(){var d=m.apply(this,arguments)||this;d.x=0;d.y=0;return d}b._inherits(e,m);e.prototype.clone=function(){return new k({x:this.x,y:this.y})};return b._createClass(e)}(f);c.__decorate([g.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);c.__decorate([g.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=k=c.__decorate([t.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],
a.Symbol3DAnchorPosition2D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,c,f,g,q,u,
p,t,k,m,e){var d;a.Symbol3DIconOutline=d=function(l){function n(h){h=l.call(this,h)||this;h.color=new f([0,0,0,1]);h.size=q.px2pt(1);return h}b._inherits(n,l);n.prototype.clone=function(){const h={color:null!=this.color?this.color.clone():null,size:this.size};return new d(h)};return b._createClass(n)}(g.JSONSupport);c.__decorate([u.property(e.colorAndTransparencyProperty)],a.Symbol3DIconOutline.prototype,"color",void 0);c.__decorate([u.property(e.screenSizeProperty)],a.Symbol3DIconOutline.prototype,
"size",void 0);a.Symbol3DIconOutline=d=c.__decorate([m.subclass("esri.symbols.support.Symbol3DIconOutline")],a.Symbol3DIconOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;const l=c.ofType({base:null,key:"type",typeMap:{text:k}});c=d=function(n){function h(z){z=n.call(this,z)||this;z.verticalOffset=null;z.callout=null;z.styleOrigin=null;z.symbolLayers=new l;z.type="label-3d";return z}a._inherits(h,n);var r=h.prototype;r.supportsCallout=function(){return!0};r.hasVisibleCallout=function(){return m.hasVisibleCallout(this)};r.hasVisibleVerticalOffset=function(){return m.hasVisibleVerticalOffset(this)};r.clone=function(){return new d({styleOrigin:f.clone(this.styleOrigin),
symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail),callout:f.clone(this.callout),verticalOffset:f.clone(this.verticalOffset)})};h.fromTextSymbol=function(z){return new d({symbolLayers:[k.fromTextSymbol(z)]})};return a._createClass(h)}(t);b.__decorate([g.property({type:e,json:{write:!0}})],c.prototype,"verticalOffset",void 0);b.__decorate([g.property(m.calloutProperty)],c.prototype,"callout",void 0);b.__decorate([g.property({json:{read:!1,write:!1}})],c.prototype,"styleOrigin",
void 0);b.__decorate([g.property({type:l})],c.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=d=b.__decorate([p.subclass("esri.symbols.LabelSymbol3D")],c)})},"esri/symbols/Symbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D,y,G,F){const K={icon:x,object:v,line:w,path:A,fill:z,extrude:r,text:D,water:y};k=c.ofType({base:C,key:"type",typeMap:K,errorContext:"symbol-layer"});B=function(M){function O(J){J=M.call(this,J)||this;J.styleOrigin=null;J.thumbnail=null;J.type=null;const L=J.__accessor__&&J.__accessor__.metadatas&&J.__accessor__.metadatas.symbolLayers;J._set("symbolLayers",new (L&&L.type||c));return J}a._inherits(O,M);var H=O.prototype;H.readStyleOrigin=function(J,
L,N){if(J.styleUrl&&J.name)return L=h.fromJSON(J.styleUrl,N),new G({styleUrl:L,name:J.name});if(J.styleName&&J.name)return new G({portal:N&&N.portal||n.getDefault(),styleName:J.styleName,name:J.name});N&&N.messages&&N.messages.push(new u("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:N,definition:J}))};H.writeStyleOrigin=function(J,L,N,V){J.styleUrl&&J.name?(N=h.toJSON(J.styleUrl,V),q.isAbsolute(N)&&(N=q.normalize(N)),L.styleOrigin=
{styleUrl:N,name:J.name}):J.styleName&&J.name&&(J.portal&&V&&V.portal&&!q.hasSamePortal(J.portal.restUrl,V.portal.restUrl)?V&&V.messages&&V.messages.push(new u("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):L.styleOrigin={styleName:J.styleName,name:J.name})};H.normalizeCtorArgs=function(J){return J instanceof C||J&&K[J.type]?{symbolLayers:[J]}:Array.isArray(J)?{symbolLayers:J}:J};a._createClass(O,
[{key:"color",get:function(){return null},set:function(J){this.constructed&&g.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}},{key:"symbolLayers",set:function(J){f.referenceSetter(J,this._get("symbolLayers"))}}]);return O}(B);b.__decorate([p.property({json:{read:!1,write:!1}})],B.prototype,"color",null);b.__decorate([p.property({type:k,nonNullable:!0,json:{write:!0}}),t.cast(f.castForReferenceSetter)],
B.prototype,"symbolLayers",null);b.__decorate([p.property({type:G})],B.prototype,"styleOrigin",void 0);b.__decorate([e.reader("styleOrigin")],B.prototype,"readStyleOrigin",null);b.__decorate([l.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],B.prototype,"writeStyleOrigin",null);b.__decorate([p.property({type:F.Thumbnail,json:{read:!1}})],B.prototype,"thumbnail",void 0);b.__decorate([p.property({type:["point-3d","line-3d",
"polygon-3d","mesh-3d","label-3d"],readOnly:!0})],B.prototype,"type",void 0);return B=b.__decorate([d.subclass("esri.symbols.Symbol3D")],B)})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineStyleMarker3D ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r){var z;g=z=function(x){function w(v){v=x.call(this,v)||this;v.material=null;v.type="line";v.join="miter";v.cap="butt";v.size=c.px2pt(1);v.pattern=null;v.marker=null;return v}a._inherits(w,x);w.prototype.clone=function(){const v={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new z(v)};
w.fromSimpleLineSymbol=function(v){v={enabled:!0,size:v.width??c.px2pt(1),cap:v.cap||"butt",join:v.join||"miter",pattern:v.style&&"inside-frame"!==v.style?new e({style:v.style}):null,material:new h.Symbol3DMaterial({color:(v.color||l.white).clone()}),marker:v.marker?new k({placement:v.marker.placement,style:v.marker.style,color:v.marker.color?.clone()??null}):null};return new z(v)};return a._createClass(w)}(m);b.__decorate([f.property({type:h.Symbol3DMaterial,json:{write:!0}})],g.prototype,"material",
void 0);b.__decorate([p.enumeration({Line:"line"},{readOnly:!0})],g.prototype,"type",void 0);b.__decorate([f.property({type:r.lineJoins,json:{write:!0,default:"miter"}})],g.prototype,"join",void 0);b.__decorate([f.property({type:r.lineCaps,json:{write:!0,default:"butt"}})],g.prototype,"cap",void 0);b.__decorate([f.property(n.screenSizeProperty)],g.prototype,"size",void 0);b.__decorate([f.property(d.symbol3dLinePatternProperty)],g.prototype,"pattern",void 0);b.__decorate([f.property({types:{key:"type",
base:k,typeMap:{style:k}},json:{write:!0}})],g.prototype,"marker",void 0);return g=z=b.__decorate([t.subclass("esri.symbols.LineSymbol3DLayer")],g)})},"esri/symbols/LineStyleMarker3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/Clonable ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/lineMarkers".split(" "),function(a,
b,c,f,g,q,u,p,t,k,m){f=function(e){function d(l){l=e.call(this,l)||this;l.type="style";l.placement="begin-end";l.style="arrow";l.color=null;return l}a._inherits(d,e);d.prototype.equals=function(l){return null!=l&&l.placement===this.placement&&l.style===this.style&&(null==this.color&&null==l.color||null!=this.color&&null!=l.color&&this.color.toJSON()===l.color.toJSON())};return a._createClass(d)}(f.ClonableMixin(g.JSONSupport));b.__decorate([q.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],
f.prototype,"type",void 0);b.__decorate([q.property({type:m.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],f.prototype,"placement",void 0);b.__decorate([q.property({type:m.lineMarkerStyles,json:{default:"arrow",write:!0}})],f.prototype,"style",void 0);b.__decorate([q.property({type:c,json:{type:[u.Integer],default:null,write:!0}})],f.prototype,"color",void 0);return f=b.__decorate([k.subclass("esri.symbols.LineStyleMarker3D")],f)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;f=d=function(l){function n(h){h=l.call(this,h)||this;h.material=null;h.castShadows=!0;h.resource=null;h.type="object";h.width=void 0;h.height=void 0;h.depth=void 0;h.anchor=void 0;h.anchorPosition=void 0;h.heading=void 0;h.tilt=void 0;h.roll=void 0;return h}a._inherits(n,l);n.prototype.clone=function(){return new d({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,
enabled:this.enabled,height:this.height,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};a._createClass(n,[{key:"isPrimitive",get:function(){return!this.resource||"string"!==typeof this.resource.href}}]);return n}(t);b.__decorate([c.property({type:e.Symbol3DMaterial,json:{write:!0}})],f.prototype,"material",void 0);b.__decorate([c.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],
f.prototype,"castShadows",void 0);b.__decorate([c.property({type:k.ObjectSymbol3DLayerResource,json:{write:!0}})],f.prototype,"resource",void 0);b.__decorate([u.enumeration({Object:"object"},{readOnly:!0})],f.prototype,"type",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"width",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"height",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"depth",void 0);b.__decorate([u.enumeration({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),c.property({json:{default:"origin"}})],f.prototype,"anchor",void 0);b.__decorate([c.property({type:m.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:l=>new m.Symbol3DAnchorPosition3D({x:l[0],y:l[1],z:l[2]})},write:{writer:(l,n)=>{n.anchorPosition=[l.x,l.y,l.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],f.prototype,"anchorPosition",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,
"heading",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"tilt",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"roll",void 0);b.__decorate([c.property({readOnly:!0})],f.prototype,"isPrimitive",null);return f=d=b.__decorate([p.subclass("esri.symbols.ObjectSymbol3DLayer")],f)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;f=f.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=d=function(l){function n(){return l.apply(this,arguments)||this}b._inherits(n,l);n.prototype.clone=function(){return new d({href:this.href,primitive:this.primitive})};return b._createClass(n)}(g.JSONSupport);c.__decorate([q.property({type:String,json:{read:e.read,write:e.write}})],
a.ObjectSymbol3DLayerResource.prototype,"href",void 0);c.__decorate([k.enumeration(f)],a.ObjectSymbol3DLayerResource.prototype,"primitive",void 0);a.ObjectSymbol3DLayerResource=d=c.__decorate([m.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.defaultPrimitive="sphere";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;a.Symbol3DAnchorPosition3D=k=function(m){function e(){var d=m.apply(this,arguments)||this;d.x=0;d.y=0;d.z=0;return d}b._inherits(e,m);e.prototype.clone=function(){return new k({x:this.x,y:this.y,z:this.z})};return b._createClass(e)}(f);c.__decorate([g.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);c.__decorate([g.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);c.__decorate([g.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,
"z",void 0);a.Symbol3DAnchorPosition3D=k=c.__decorate([t.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],a.Symbol3DAnchorPosition3D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;f=d=function(l){function n(r){r=l.call(this,r)||this;r.material=null;r.castShadows=!0;r.type="path";r.profile="circle";r.join="miter";r.cap="butt";r.width=void 0;r.height=void 0;r.anchor="center";r.profileRotation="all";return r}a._inherits(n,l);var h=n.prototype;h.readWidth=function(r,z){return null!=r?r:null==z.height&&null!=z.size?z.size:void 0};h.readHeight=function(r,z){return null!=r?r:null==z.width&&null!=z.size?z.size:void 0};h.clone=function(){return new d({enabled:this.enabled,
material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};return a._createClass(n)}(k);b.__decorate([c.property({type:m.Symbol3DMaterial,json:{write:!0}})],f.prototype,"material",void 0);b.__decorate([c.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],f.prototype,"castShadows",void 0);b.__decorate([u.enumeration({Path:"path"},
{readOnly:!0})],f.prototype,"type",void 0);b.__decorate([c.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],f.prototype,"profile",void 0);b.__decorate([c.property({type:e.lineJoins,json:{write:!0,default:"miter"}})],f.prototype,"join",void 0);b.__decorate([c.property({type:e.pathCaps,json:{write:!0,default:"butt"}})],f.prototype,"cap",void 0);b.__decorate([c.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],f.prototype,"width",void 0);
b.__decorate([p.reader("width",["width","size","height"])],f.prototype,"readWidth",null);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"height",void 0);b.__decorate([p.reader("height",["height","size","width"])],f.prototype,"readHeight",null);b.__decorate([c.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],f.prototype,"anchor",void 0);b.__decorate([c.property({type:["heading","all"],json:{write:!0,default:"all"}})],f.prototype,"profileRotation",void 0);
return f=d=b.__decorate([t.subclass("esri.symbols.PathSymbol3DLayer")],f)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial ./support/Symbol3DTextBackground ./support/textUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){var h;g=h=function(r){function z(w){w=r.call(this,w)||this;w._userSize=void 0;w.halo=null;w.horizontalAlignment="center";w.lineHeight=1;w.material=null;w.background=null;w.text=null;w.type="text";w.verticalAlignment="baseline";return w}a._inherits(z,r);var x=z.prototype;x.writeFont=function(w,v,A,B){v.font=w.write({},{...B,textSymbol3D:!0});delete v.font.size};x.clone=function(){const w=new h({enabled:this.enabled,font:this.font&&c.clone(this.font),halo:this.halo&&
c.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:c.clone(this.background)});w._userSize=this._userSize;return w};z.fromTextSymbol=function(w){var v=h,A=null!=w.font?w.font.clone():new t;var B=w.haloColor;var C=w.haloSize;B=B&&null!=C&&0<C?new e.Symbol3DHalo({color:c.clone(B),size:C}):null;return new v({font:A,halo:B,horizontalAlignment:w.horizontalAlignment,
lineHeight:w.lineHeight,material:w.color?new d.Symbol3DMaterial({color:w.color.clone()}):null,text:w.text,verticalAlignment:w.verticalAlignment,background:w.backgroundColor?new l.Symbol3DTextBackground({color:w.backgroundColor.clone()}):null})};a._createClass(z,[{key:"font",get:function(){return this._get("font")||null},set:function(w){null!=w&&null!=this._userSize&&(w.size=this._userSize);this._set("font",w)}},{key:"size",get:function(){return null!=this._userSize?this._userSize:null!=this.font&&
null!=this.font.size?this.font.size:9},set:function(w){this._userSize=w;null!=this.font&&(this.font.size=this._userSize);this.notifyChange("size")}}]);return z}(k);b.__decorate([f.property({type:t,json:{write:!0}})],g.prototype,"font",null);b.__decorate([p.writer("font")],g.prototype,"writeFont",null);b.__decorate([f.property({type:e.Symbol3DHalo,json:{write:!0}})],g.prototype,"halo",void 0);b.__decorate([f.property({...n.horizontalAlignmentProperty,json:{default:"center",write:!0}})],g.prototype,
"horizontalAlignment",void 0);b.__decorate([f.property({...n.lineHeightProperty,json:{default:1,write:!0}})],g.prototype,"lineHeight",void 0);b.__decorate([f.property({type:d.Symbol3DMaterial,json:{write:!0}})],g.prototype,"material",void 0);b.__decorate([f.property({type:l.Symbol3DTextBackground,json:{write:!0}})],g.prototype,"background",void 0);b.__decorate([f.property(m.screenSizeProperty)],g.prototype,"size",null);b.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"text",void 0);
b.__decorate([q.enumeration({Text:"text"},{readOnly:!0})],g.prototype,"type",void 0);b.__decorate([f.property({...n.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],g.prototype,"verticalAlignment",void 0);return g=h=b.__decorate([u.subclass("esri.symbols.TextSymbol3DLayer")],g)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;a.Symbol3DHalo=m=function(e){function d(){var l=e.apply(this,arguments)||this;l.color=new f([0,0,0,1]);l.size=0;return l}b._inherits(d,e);d.prototype.clone=function(){const l={color:q.clone(this.color),size:this.size};return new m(l)};return b._createClass(d)}(g.JSONSupport);c.__decorate([u.property(k.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);c.__decorate([u.property(k.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=
m=c.__decorate([t.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DTextBackground":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){a.Symbol3DTextBackground=function(e){function d(l){l=e.call(this,l)||this;l.color=null;return l}b._inherits(d,e);return b._createClass(d)}(f.ClonableMixin(g.JSONSupport));c.__decorate([q.property(m.colorAndTransparencyProperty)],a.Symbol3DTextBackground.prototype,"color",void 0);a.Symbol3DTextBackground=c.__decorate([k.subclass("esri.symbols.support.Symbol3DTextBackground")],a.Symbol3DTextBackground);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;t=k=function(e){function d(l){l=e.call(this,l)||this;l.color=m.clone();l.type="water";l.waterbodySize="medium";l.waveDirection=null;l.waveStrength="moderate";return l}a._inherits(d,e);d.prototype.clone=function(){return new k({color:f.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};return a._createClass(d)}(t);b.__decorate([g.property({type:c,nonNullable:!0,json:{type:[q.Integer],write:(e,d,l)=>
d[l]=e.toArray(c.AlphaMode.UNLESS_OPAQUE),default:()=>m.clone(),defaultEquals:e=>e.toCss(!0)===m.toCss(!0)}})],t.prototype,"color",void 0);b.__decorate([u.enumeration({Water:"water"},{readOnly:!0})],t.prototype,"type",void 0);b.__decorate([g.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],t.prototype,"waterbodySize",void 0);b.__decorate([g.property({type:Number,json:{write:!0,default:null}})],t.prototype,"waveDirection",void 0);b.__decorate([g.property({type:["calm",
"rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],t.prototype,"waveStrength",void 0);t=k=b.__decorate([p.subclass("esri.symbols.WaterSymbol3DLayer")],t);const m=new c([0,119,190]);return t})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;c=k=function(m){function e(d){d=m.call(this,d)||this;d.name=null;d.styleUrl=null;d.styleName=null;d.portal=null;return d}a._inherits(e,m);e.prototype.clone=function(){return new k({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};return a._createClass(e)}(c);b.__decorate([f.property({type:String})],c.prototype,"name",void 0);b.__decorate([f.property({type:String})],c.prototype,"styleUrl",void 0);b.__decorate([f.property({type:String})],
c.prototype,"styleName",void 0);b.__decorate([f.property({type:t})],c.prototype,"portal",void 0);return c=k=b.__decorate([p.subclass("esri.symbols.support.StyleOrigin")],c)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,f,g,q,u,p,t){var k;a.Thumbnail=k=function(m){function e(){var d=m.apply(this,arguments)||this;d.url="";return d}b._inherits(e,m);e.prototype.clone=function(){return new k({url:this.url})};return b._createClass(e)}(f);c.__decorate([g.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=k=c.__decorate([t.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports",
"./Callout3D","./LineCallout3D"],function(a,b,c){function f(g){if(!g)return!1;g=g.verticalOffset;return!g||0>=g.screenLength||null!=g.maxWorldLength&&0>=g.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:b,typeMap:{line:c}},json:{write:!0}};a.hasCalloutSupport=function(g){return"point-3d"===g.type||"label-3d"===g.type};a.hasVisibleCallout=function(g){if(!g||!g.supportsCallout||!g.supportsCallout())return!1;const q=g.callout;return q&&q.visible?f(g)?!0:!1:!1};a.hasVisibleVerticalOffset=
f;a.textSymbolLayerSupportsVerticalOffset=function(g){return"center"===g.horizontalAlignment};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p){c=
function(t){function k(m){m=t.call(this,m)||this;m.visible=!0;return m}a._inherits(k,t);k.prototype.clone=function(){};return a._createClass(k)}(c.JSONSupport);b.__decorate([f.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"visible",void 0);return c=b.__decorate([p.subclass("esri.symbols.callouts.Callout3D")],c)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ../../chunks/LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;u=d=function(l){function n(h){h=l.call(this,h)||this;h.type="line";h.color=new c([0,0,0,1]);h.size=g.px2pt(1);h.border=null;return h}a._inherits(n,l);n.prototype.clone=function(){return new d({color:f.clone(this.color),size:this.size,border:f.clone(this.border)})};a._createClass(n,[{key:"visible",get:function(){return 0<this.size&&null!=this.color&&0<this.color.a}}]);return n}(k);b.__decorate([p.enumeration({line:"line"},{readOnly:!0})],u.prototype,"type",void 0);
b.__decorate([q.property(e.colorAndTransparencyProperty)],u.prototype,"color",void 0);b.__decorate([q.property(e.screenSizeProperty)],u.prototype,"size",void 0);b.__decorate([q.property({type:m.LineCallout3DBorder$1,json:{write:!0}})],u.prototype,"border",void 0);b.__decorate([q.property({readOnly:!0})],u.prototype,"visible",null);return u=d=b.__decorate([t.subclass("esri.symbols.callouts.LineCallout3D")],u)})},"esri/chunks/LineCallout3DBorder":function(){define("exports ./_rollupPluginBabelHelpers ./tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../symbols/support/materialUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;g=m=function(e){function d(){var l=e.apply(this,arguments)||this;l.color=new f("white");return l}b._inherits(d,e);d.prototype.clone=function(){return new m({color:q.clone(this.color)})};return b._createClass(d)}(g.JSONSupport);c.__decorate([u.property(k.colorAndTransparencyProperty)],g.prototype,"color",void 0);c=g=m=c.__decorate([t.subclass("esri.symbols.callouts.LineCallout3DBorder")],g);u=Object.freeze(Object.defineProperty({__proto__:null,default:c},Symbol.toStringTag,
{value:"Module"}));a.LineCallout3DBorder=u;a.LineCallout3DBorder$1=c})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,c,f,g,q,u,p,t){var k;c=k=function(m){function e(d){d=m.call(this,d)||
this;d.screenLength=0;d.minWorldLength=0;d.maxWorldLength=null;return d}a._inherits(e,m);e.prototype.clone=function(){return new k({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};return a._createClass(e)}(c.JSONSupport);b.__decorate([f.property(t.screenSizeProperty)],c.prototype,"screenLength",void 0);b.__decorate([f.property({type:Number,nonNullable:!0,json:{write:!0,default:0}})],c.prototype,"minWorldLength",void 0);b.__decorate([f.property({type:Number,
json:{write:!0}})],c.prototype,"maxWorldLength",void 0);return c=k=b.__decorate([p.subclass("esri.symbols.support.Symbol3DVerticalOffset")],c)})},"esri/symbols/LineSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;const d=c.ofType({base:null,key:"type",typeMap:{line:t,path:k}});c=c.ofType({base:null,key:"type",typeMap:{line:t,path:k}});m=e=function(l){function n(h){h=l.call(this,h)||this;h.symbolLayers=new d;h.type="line-3d";return h}a._inherits(n,l);n.prototype.clone=function(){return new e({styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})};n.fromSimpleLineSymbol=function(h){return new e({symbolLayers:[t.fromSimpleLineSymbol(h)]})};
return a._createClass(n)}(m);b.__decorate([g.property({type:d,json:{type:c}})],m.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],m.prototype,"type",void 0);return m=e=b.__decorate([p.subclass("esri.symbols.LineSymbol3D")],m)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,f,g,q,u,p,t){g=function(k){function m(e){e=k.call(this,e)||this;e.angle=0;e.type=null;e.xoffset=0;e.yoffset=0;e.size=9;return e}a._inherits(m,k);m.prototype.hash=function(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`};return a._createClass(m)}(t);b.__decorate([f.property({type:Number,json:{read:k=>k&&-1*k,write:(k,m)=>m.angle=k&&-1*k}})],g.prototype,"angle",void 0);b.__decorate([f.property({type:["simple-marker","picture-marker"],readOnly:!0})],g.prototype,
"type",void 0);b.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],g.prototype,"xoffset",void 0);b.__decorate([f.property({type:Number,cast:c.toPt,json:{write:!0}})],g.prototype,"yoffset",void 0);b.__decorate([f.property({type:Number,cast:k=>"auto"===k?k:c.toPt(k),json:{write:!0}})],g.prototype,"size",void 0);return g=b.__decorate([p.subclass("esri.symbols.MarkerSymbol")],g)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;const e=c.ofType({base:null,key:"type",typeMap:{fill:t}});c=m=function(d){function l(n){n=d.call(this,n)||this;n.symbolLayers=new e;n.type="mesh-3d";return n}a._inherits(l,d);l.prototype.clone=function(){return new m({styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})};l.fromSimpleFillSymbol=function(n){return new m({symbolLayers:[t.fromSimpleFillSymbol(n)]})};return a._createClass(l)}(k);b.__decorate([g.property({type:e})],
c.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([p.subclass("esri.symbols.MeshSymbol3D")],c)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;q=m=function(e){function d(...n){n=e.call(this,...n)||this;n.type="picture-fill";n.url=null;n.xscale=1;n.yscale=1;n.width=12;n.height=12;n.xoffset=0;n.yoffset=0;n.source=null;return n}a._inherits(d,e);var l=d.prototype;l.normalizeCtorArgs=function(n,h,r,z){if(n&&"string"!==typeof n&&null==n.imageData)return n;const x={};n&&(x.url=n);h&&(x.outline=h);null!=r&&(x.width=f.toPt(r));null!=z&&(x.height=f.toPt(z));return x};l.clone=function(){const n=new m({color:c.clone(this.color),
height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});n._set("source",c.clone(this.source));return n};l.hash=function(){return`${a._get(a._getPrototypeOf(d.prototype),"hash",this).call(this)}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`};return a._createClass(d)}(t);b.__decorate([u.enumeration({esriPFS:"picture-fill"},
{readOnly:!0})],q.prototype,"type",void 0);b.__decorate([g.property(k.urlPropertyDefinition)],q.prototype,"url",void 0);b.__decorate([g.property({type:Number,json:{write:!0}})],q.prototype,"xscale",void 0);b.__decorate([g.property({type:Number,json:{write:!0}})],q.prototype,"yscale",void 0);b.__decorate([g.property({type:Number,cast:f.toPt,json:{write:!0}})],q.prototype,"width",void 0);b.__decorate([g.property({type:Number,cast:f.toPt,json:{write:!0}})],q.prototype,"height",void 0);b.__decorate([g.property({type:Number,
cast:f.toPt,json:{write:!0}})],q.prototype,"xoffset",void 0);b.__decorate([g.property({type:Number,cast:f.toPt,json:{write:!0}})],q.prototype,"yoffset",void 0);b.__decorate([g.property(k.sourcePropertyDefinition)],q.prototype,"source",void 0);return q=m=b.__decorate([p.subclass("esri.symbols.PictureFillSymbol")],q)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function f(p,t,k){return t.imageData?b.makeData({mediaType:t.contentType||
"image/png",isBase64:!0,data:t.imageData}):g(t.url,k)}function g(p,t){return null==t||"service"!==t.origin&&"portal-item"!==t.origin||"feature"!==t.layer?.type&&"stream"!==t.layer?.type||b.isAbsolute(p)||!t?.layer?.parsedUrl?c.fromJSON(p,t):b.join(t.layer.parsedUrl.path,"images",p)}function q(p,t,k,m){if(b.isDataProtocol(p)){if(p=b.dataComponents(p))t.contentType=p.mediaType,t.imageData=p.data,k&&k.imageData===t.imageData&&k.url&&c.write(k.url,t,"url",m)}else c.write(p,t,"url",m)}const u={json:{read:{source:["imageData",
"url"],reader:f},write:{writer(p,t,k,m){q(p,t,this.source,m)}}}};a.read=g;a.readImageDataOrUrl=f;a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader(p,t,k){p={};t.imageData&&(p.imageData=t.imageData);t.contentType&&(p.contentType=t.contentType);t.url&&(p.url=g(t.url,k));return p}}}};a.urlPropertyDefinition=u;a.writeImageDataAndUrl=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;q=e=function(d){function l(...h){h=d.call(this,...h)||this;h.color=null;h.type="picture-marker";h.url=null;h.source=null;h.height=12;h.width=12;h.size=null;return h}a._inherits(l,d);var n=l.prototype;n.normalizeCtorArgs=function(h,r,z){if(h&&"string"!==typeof h&&null==h.imageData)return h;const x={};h&&(x.url=h);null!=r&&(x.width=f.toPt(r));null!=z&&(x.height=f.toPt(z));return x};n.readHeight=function(h,r){return r.size||h};n.readWidth=function(h,r){return r.size||
h};n.clone=function(){const h=new e({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});h._set("source",c.clone(this.source));return h};n.hash=function(){return`${a._get(a._getPrototypeOf(l.prototype),"hash",this).call(this)}.${this.height}.${this.url}.${this.width}`};return a._createClass(l)}(k);b.__decorate([g.property({json:{write:!1}})],q.prototype,"color",void 0);b.__decorate([u.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],
q.prototype,"type",void 0);b.__decorate([g.property(m.urlPropertyDefinition)],q.prototype,"url",void 0);b.__decorate([g.property(m.sourcePropertyDefinition)],q.prototype,"source",void 0);b.__decorate([g.property({type:Number,cast:f.toPt,json:{write:!0}})],q.prototype,"height",void 0);b.__decorate([p.reader("height",["height","size"])],q.prototype,"readHeight",null);b.__decorate([g.property({type:Number,cast:f.toPt,json:{write:!0}})],q.prototype,"width",void 0);b.__decorate([g.property({json:{write:!1}})],
q.prototype,"size",void 0);return q=e=b.__decorate([t.subclass("esri.symbols.PictureMarkerSymbol")],q)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l){var n;const h=c.ofType({base:null,key:"type",typeMap:{icon:t,object:k,text:e}});c=n=function(r){function z(w){w=r.call(this,w)||this;w.verticalOffset=null;w.callout=null;w.symbolLayers=new h;w.type="point-3d";return w}a._inherits(z,r);var x=z.prototype;x.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const w of this.symbolLayers.items)switch(w.type){case "icon":case "text":case "object":continue;default:return!1}return!0};
x.hasVisibleCallout=function(){return d.hasVisibleCallout(this)};x.hasVisibleVerticalOffset=function(){return d.hasVisibleVerticalOffset(this)};x.clone=function(){return new n({verticalOffset:f.clone(this.verticalOffset),callout:f.clone(this.callout),styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})};z.fromSimpleMarkerSymbol=function(w){return new n({symbolLayers:[t.fromSimpleMarkerSymbol(w)]})};z.fromPictureMarkerSymbol=function(w){return new n({symbolLayers:[t.fromPictureMarkerSymbol(w)]})};
z.fromCIMSymbol=function(w){return"CIMPointSymbol"!==w.data?.symbol?.type?null:w.data.symbol?.callout?new n({symbolLayers:[t.fromCIMSymbol(w)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new n({symbolLayers:[t.fromCIMSymbol(w)]})};z.fromTextSymbol=function(w){return new n({symbolLayers:[e.fromTextSymbol(w)]})};return a._createClass(z)}(m);b.__decorate([g.property({type:l,json:{write:!0}})],c.prototype,"verticalOffset",void 0);b.__decorate([g.property(d.calloutProperty)],
c.prototype,"callout",void 0);b.__decorate([g.property({type:h,json:{origins:{"web-scene":{write:!0}}}})],c.prototype,"symbolLayers",void 0);b.__decorate([u.enumeration({PointSymbol3D:"point-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=n=b.__decorate([p.subclass("esri.symbols.PointSymbol3D")],c)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h){var r;const z=c.ofType({base:null,key:"type",typeMap:{extrude:t,fill:k,icon:m,line:e,object:d,text:n,water:h}});c=r=function(x){function w(v){v=x.call(this,v)||this;v.symbolLayers=new z;v.type="polygon-3d";return v}a._inherits(w,x);w.prototype.clone=function(){return new r({styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})};w.fromJSON=function(v){const A=new r;A.read(v);if(2===A.symbolLayers.length&&
"fill"===A.symbolLayers.at(0).type&&"line"===A.symbolLayers.at(1).type){const B=A.symbolLayers.at(0),C=A.symbolLayers.at(1);!C.enabled||v.symbolLayers&&v.symbolLayers[1]&&!1===v.symbolLayers[1].enable||(B.outline={size:C.size,color:null!=C.material?C.material.color:null});A.symbolLayers.removeAt(1)}return A};w.fromSimpleFillSymbol=function(v){return new r({symbolLayers:[k.fromSimpleFillSymbol(v)]})};return a._createClass(w)}(l);b.__decorate([g.property({type:z,json:{write:!0}})],c.prototype,"symbolLayers",
void 0);b.__decorate([u.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=r=b.__decorate([p.subclass("esri.symbols.PolygonSymbol3D")],c)})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;f=new f.JSONMap({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});k=e=function(d){function l(...h){h=d.call(this,...h)||this;h.color=new c([0,0,0,.25]);h.outline=new m;h.type="simple-fill";h.style="solid";return h}a._inherits(l,d);var n=l.prototype;n.normalizeCtorArgs=
function(h,r,z){if(h&&"string"!==typeof h)return h;const x={};h&&(x.style=h);r&&(x.outline=r);z&&(x.color=z);return x};n.clone=function(){return new e({color:g.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};n.hash=function(){return`${a._get(a._getPrototypeOf(l.prototype),"hash",this).call(this)}${this.style}.${this.color&&this.color.hash()}`};return a._createClass(l)}(k);b.__decorate([q.property()],k.prototype,"color",void 0);b.__decorate([q.property()],k.prototype,
"outline",void 0);b.__decorate([p.enumeration({esriSFS:"simple-fill"},{readOnly:!0})],k.prototype,"type",void 0);b.__decorate([q.property({type:f.apiValues,json:{read:f.read,write:f.write}})],k.prototype,"style",void 0);return k=e=b.__decorate([t.subclass("esri.symbols.SimpleFillSymbol")],k)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d){var l;f=new f.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});e=l=function(n){function h(...z){z=n.call(this,...z)||this;z.color=new c([255,255,255,.25]);z.type="simple-marker";z.size=12;z.style="circle";z.outline=new d;return z}a._inherits(h,n);var r=h.prototype;r.normalizeCtorArgs=function(z,x,w,v){if(z&&"string"!==typeof z)return z;const A={};z&&
(A.style=z);null!=x&&(A.size=q.toPt(x));w&&(A.outline=w);v&&(A.color=v);return A};r.writeColor=function(z,x){z&&"x"!==this.style&&"cross"!==this.style&&(x.color=z.toJSON());null===z&&(x.color=null)};r.clone=function(){return new l({angle:this.angle,color:g.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};r.hash=function(){return`${a._get(a._getPrototypeOf(h.prototype),"hash",this).call(this)}.${this.color&&
this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`};a._createClass(h,[{key:"path",set:function(z){this.style="path";this._set("path",z)}}]);return h}(e);b.__decorate([u.property()],e.prototype,"color",void 0);b.__decorate([m.writer("color")],e.prototype,"writeColor",null);b.__decorate([t.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],e.prototype,"type",void 0);b.__decorate([u.property()],e.prototype,"size",void 0);b.__decorate([u.property({type:f.apiValues,json:{read:f.read,
write:f.write}})],e.prototype,"style",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],e.prototype,"path",null);b.__decorate([u.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":d}},json:{default:null,write:!0}})],e.prototype,"outline",void 0);return e=l=b.__decorate([k.subclass("esri.symbols.SimpleMarkerSymbol")],e)})},"esri/symbols/TextSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol ./support/textUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d){var l;e=l=function(n){function h(...z){z=n.call(this,...z)||this;z.backgroundColor=null;z.borderLineColor=null;z.borderLineSize=null;z.font=new m;z.horizontalAlignment="center";z.kerning=!0;z.haloColor=null;z.haloSize=null;z.rightToLeft=null;z.rotated=!1;z.text="";z.type="text";z.verticalAlignment="baseline";z.xoffset=0;z.yoffset=0;z.angle=0;z.width=null;z.lineWidth=192;z.lineHeight=1;return z}a._inherits(h,n);var r=h.prototype;r.normalizeCtorArgs=function(z,x,
w){if(z&&"string"!==typeof z)return z;const v={};z&&(v.text=z);x&&(v.font=x);w&&(v.color=w);return v};r.writeLineWidth=function(z,x,w,v){v&&"string"!==typeof v||(x[w]=z)};r.castLineWidth=function(z){return g.toPt(z)};r.writeLineHeight=function(z,x,w,v){v&&"string"!==typeof v||(x[w]=z)};r.clone=function(){return new l({angle:this.angle,backgroundColor:f.clone(this.backgroundColor),borderLineColor:f.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:f.clone(this.color),font:this.font&&
this.font.clone(),haloColor:f.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};r.hash=function(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&
this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`};return a._createClass(h)}(e);b.__decorate([q.property({type:c,json:{write:!0}})],e.prototype,"backgroundColor",void 0);b.__decorate([q.property({type:c,json:{write:!0}})],e.prototype,"borderLineColor",void 0);
b.__decorate([q.property({type:Number,json:{write:!0},cast:g.toPt})],e.prototype,"borderLineSize",void 0);b.__decorate([q.property({type:m,json:{write:!0}})],e.prototype,"font",void 0);b.__decorate([q.property({...d.horizontalAlignmentProperty,json:{write:!0}})],e.prototype,"horizontalAlignment",void 0);b.__decorate([q.property({type:Boolean,json:{write:!0}})],e.prototype,"kerning",void 0);b.__decorate([q.property({type:c,json:{write:!0}})],e.prototype,"haloColor",void 0);b.__decorate([q.property({type:Number,
cast:g.toPt,json:{write:!0}})],e.prototype,"haloSize",void 0);b.__decorate([q.property({type:Boolean,json:{write:!0}})],e.prototype,"rightToLeft",void 0);b.__decorate([q.property({type:Boolean,json:{write:!0}})],e.prototype,"rotated",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],e.prototype,"text",void 0);b.__decorate([p.enumeration({esriTS:"text"},{readOnly:!0})],e.prototype,"type",void 0);b.__decorate([q.property({...d.verticalAlignmentProperty,json:{write:!0}})],e.prototype,
"verticalAlignment",void 0);b.__decorate([q.property({type:Number,cast:g.toPt,json:{write:!0}})],e.prototype,"xoffset",void 0);b.__decorate([q.property({type:Number,cast:g.toPt,json:{write:!0}})],e.prototype,"yoffset",void 0);b.__decorate([q.property({type:Number,json:{read:n=>n&&-1*n,write:(n,h)=>h.angle=n&&-1*n}})],e.prototype,"angle",void 0);b.__decorate([q.property({type:Number,json:{write:!0}})],e.prototype,"width",void 0);b.__decorate([q.property({type:Number})],e.prototype,"lineWidth",void 0);
b.__decorate([k.writer("lineWidth")],e.prototype,"writeLineWidth",null);b.__decorate([u.cast("lineWidth")],e.prototype,"castLineWidth",null);b.__decorate([q.property(d.lineHeightProperty)],e.prototype,"lineHeight",void 0);b.__decorate([k.writer("lineHeight")],e.prototype,"writeLineHeight",null);return e=l=b.__decorate([t.subclass("esri.symbols.TextSymbol")],e)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){var h;u=h=function(r){function z(w){w=r.call(this,w)||this;w.styleName=null;w.portal=null;w.styleUrl=null;w.thumbnail=null;w.name=null;w.type="web-style";return w}b._inherits(z,r);var x=z.prototype;x.read=function(w,v){this.portal=v?.portal;b._get(b._getPrototypeOf(z.prototype),"read",this).call(this,w,v)};x.clone=function(){return new h({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};x.fetchSymbol=function(w){return this._fetchSymbol("webRef",
w)};x.fetchCIMSymbol=function(w){return this._fetchSymbol("cimRef",w)};x._fetchSymbol=async function(w,v){const A=null!=v?v.cache:null,B=A?this._fetchCacheKey:null;if(null!=A){var C=B&&A.get(B);if(C)return C.clone()}({resolveWebStyleSymbol:C}=await new Promise((D,y)=>a(["./support/webStyleSymbolUtils"],D,y)));g.throwIfAborted(v);v=C(this,{portal:this.portal},w,v);v.catch(D=>{f.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",D)});v=await v;if(!("webRef"===w&&"point-3d"===
v.type||"cimRef"===w&&"cim"===v.type))return null;null!=A&&A.set(B,v.clone());return v};b._createClass(z,[{key:"_fetchCacheKey",get:function(){const w=null!=this.portal?this.portal:e.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${w.user?w.user.username:null}:${w.url}`}}]);return z}(l);c.__decorate([q.property({json:{write:!1}})],u.prototype,"color",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],u.prototype,"styleName",void 0);c.__decorate([q.property({type:e,
json:{write:!1}})],u.prototype,"portal",void 0);c.__decorate([q.property({type:String,json:{read:d.read,write:d.write}})],u.prototype,"styleUrl",void 0);c.__decorate([q.property({type:n.Thumbnail,json:{read:!1}})],u.prototype,"thumbnail",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],u.prototype,"name",void 0);c.__decorate([k.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],u.prototype,"type",void 0);c.__decorate([q.property()],u.prototype,"_fetchCacheKey",null);return u=
h=c.__decorate([m.subclass("esri.symbols.WebStyleSymbol")],u)})},"esri/renderers/Renderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),function(a,b,c,f,g,q,u,p,t,k){c=new c.JSONMap({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",
heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});f=function(m){function e(l){l=m.call(this,l)||this;l.authoringInfo=null;l.type=null;return l}a._inherits(e,m);var d=e.prototype;d.getRequiredFields=async function(l){if(!this.collectRequiredFields)return[];const n=new Set;await this.collectRequiredFields(n,l);return Array.from(n).sort()};d.getSymbol=function(l,n){};d.getSymbolAsync=async function(l,n){};d.getSymbols=function(){return[]};d.getAttributeHash=
function(){return JSON.stringify(this)};d.getMeshHash=function(){return JSON.stringify(this)};return a._createClass(e)}(f.JSONSupport);b.__decorate([g.property({type:k,json:{write:!0}})],f.prototype,"authoringInfo",void 0);b.__decorate([g.property({type:c.apiValues,readOnly:!0,json:{type:c.jsonValues,read:!1,write:{writer:c.write,ignoreOrigin:!0}}})],f.prototype,"type",void 0);return f=b.__decorate([t.subclass("esri.renderers.Renderer")],f)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;const l=new c.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),n=new c.JSONMap({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",
dotDensity:"dot-density",flow:"flow"});c=new c.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});const h="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");f=d=function(r){function z(w){w=r.call(this,w)||this;w.colorRamp=null;w.fadeRatio=null;w.isAutoGenerated=!1;w.lengthUnit=null;
w.maxSliderValue=null;w.minSliderValue=null;w.visualVariables=null;return w}a._inherits(z,r);var x=z.prototype;x.readColorRamp=function(w){return w?e.fromJSON(w):void 0};x.clone=function(){return new d({classificationMethod:this.classificationMethod,colorRamp:g.clone(this.colorRamp),fadeRatio:g.clone(this.fadeRatio),fields:this.fields&&this.fields.slice(0),field1:g.clone(this.field1),field2:g.clone(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,
minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(w=>w.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})};a._createClass(z,[{key:"classificationMethod",get:function(){const w=this._get("classificationMethod"),v=this.type;return v&&"relationship"!==v?"class-breaks-size"===
v||"class-breaks-color"===v?w||"manual":null:w},set:function(w){this._set("classificationMethod",w)}},{key:"fields",get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(w){this._set("fields",w)}},{key:"field1",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(w){this._set("field1",w)}},{key:"field2",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(w){this._set("field2",
w)}},{key:"flowTheme",get:function(){return"flow"===this.type?this._get("flowTheme"):null},set:function(w){this._set("flowTheme",w)}},{key:"focus",get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(w){this._set("focus",w)}},{key:"numClasses",get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(w){this._set("numClasses",w)}},{key:"statistics",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===
this.univariateTheme?this._get("statistics"):null},set:function(w){this._set("statistics",w)}},{key:"standardDeviationInterval",get:function(){const w=this.type;return w&&"relationship"!==w&&"class-breaks-size"!==w&&"class-breaks-color"!==w?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(w){this._set("standardDeviationInterval",w)}},{key:"type",get:function(){return this._get("type")},set:function(w){let v=
w;"classed-size"===w?v="class-breaks-size":"classed-color"===w&&(v="class-breaks-color");this._set("type",v)}},{key:"univariateSymbolStyle",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null},set:function(w){this._set("univariateSymbolStyle",w)}},{key:"univariateTheme",get:function(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null},set:function(w){this._set("univariateTheme",w)}}]);
return z}(f.JSONSupport);b.__decorate([q.property({type:l.apiValues,value:null,json:{type:l.jsonValues,read:l.read,write:l.write,origins:{"web-document":{default:"manual",type:l.jsonValues,read:l.read,write:l.write}}}})],f.prototype,"classificationMethod",null);b.__decorate([q.property({types:e.types,json:{write:!0}})],f.prototype,"colorRamp",void 0);b.__decorate([p.reader("colorRamp")],f.prototype,"readColorRamp",null);b.__decorate([q.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],
f.prototype,"fadeRatio",void 0);b.__decorate([q.property({type:[String],value:null,json:{write:!0}})],f.prototype,"fields",null);b.__decorate([q.property({type:k.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],f.prototype,"field1",null);b.__decorate([q.property({type:k.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],f.prototype,"field2",null);b.__decorate([q.property({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],f.prototype,"flowTheme",null);
b.__decorate([q.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],f.prototype,"focus",null);b.__decorate([q.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],f.prototype,"isAutoGenerated",void 0);b.__decorate([q.property({type:Number,value:null,json:{type:u.Integer,write:!0}})],f.prototype,"numClasses",null);b.__decorate([q.property({type:h,json:{type:h,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],f.prototype,"lengthUnit",void 0);
b.__decorate([q.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],f.prototype,"maxSliderValue",void 0);b.__decorate([q.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],f.prototype,"minSliderValue",void 0);b.__decorate([q.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],f.prototype,"statistics",null);b.__decorate([q.property({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],
f.prototype,"standardDeviationInterval",null);b.__decorate([q.property({type:n.apiValues,value:null,json:{type:n.jsonValues,read:n.read,write:n.write,origins:{"web-scene":{type:c.jsonValues,write:{writer:c.write,overridePolicy(r){return{enabled:"flow"!==r}}}}}}})],f.prototype,"type",null);b.__decorate([q.property({type:[m],json:{write:!0}})],f.prototype,"visualVariables",void 0);b.__decorate([q.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),
value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],f.prototype,"univariateSymbolStyle",null);b.__decorate([q.property({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],f.prototype,"univariateTheme",null);return f=d=b.__decorate([t.subclass("esri.renderers.support.AuthoringInfo")],f)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;a.AuthoringInfoFieldInfo=k=function(m){function e(d){d=m.call(this,d)||this;d.field="";d.normalizationField="";d.label="";d.classBreakInfos=[];return d}b._inherits(e,m);e.prototype.clone=function(){return new k({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:g.clone(this.classBreakInfos)})};return b._createClass(e)}(f.JSONSupport);c.__decorate([q.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,
"field",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);c.__decorate([q.property({type:[t.AuthoringInfoClassBreakInfo],json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=k=c.__decorate([p.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t){var k;a.AuthoringInfoClassBreakInfo=k=function(m){function e(d){d=
m.call(this,d)||this;d.minValue=0;d.maxValue=0;return d}b._inherits(e,m);e.prototype.clone=function(){return new k({minValue:this.minValue,maxValue:this.maxValue})};return b._createClass(e)}(f.JSONSupport);c.__decorate([g.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);c.__decorate([g.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"maxValue",void 0);a.AuthoringInfoClassBreakInfo=k=c.__decorate([t.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],
a.AuthoringInfoClassBreakInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u){var p;const t=new c.JSONMap({percentTotal:"percent-of-total",
ratio:"ratio",percent:"percent"});c=new c.JSONMap({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});const k={key(l){return"number"===typeof l?"number":"string"},typeMap:{number:Number,string:String},base:null},m=["high-to-low","above-and-below","centered-on","extremes"],e=[...(new Set("high-to-low above-and-below centered-on extremes 90-10 above below high-to-low above-and-below 90-10 above below".split(" ")))],d="seconds minutes hours days months years".split(" ");
f=p=function(l){function n(r){r=l.call(this,r)||this;r.endTime=null;r.field=null;r.maxSliderValue=null;r.minSliderValue=null;r.startTime=null;r.type=null;r.units=null;return r}a._inherits(n,l);var h=n.prototype;h.castEndTime=function(r){return"string"===typeof r||"number"===typeof r?r:null};h.castStartTime=function(r){return"string"===typeof r||"number"===typeof r?r:null};h.clone=function(){return new p({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,
startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};a._createClass(n,[{key:"style",get:function(){return"color"===this.type?this._get("style"):null},set:function(r){this._set("style",r)}},{key:"theme",get:function(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null},set:function(r){this._set("theme",r)}}]);return n}(f.JSONSupport);b.__decorate([g.property({types:k,json:{write:!0}})],f.prototype,"endTime",void 0);b.__decorate([q.cast("endTime")],
f.prototype,"castEndTime",null);b.__decorate([g.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);b.__decorate([g.property({type:Number,json:{write:!0}})],f.prototype,"maxSliderValue",void 0);b.__decorate([g.property({type:Number,json:{write:!0}})],f.prototype,"minSliderValue",void 0);b.__decorate([g.property({types:k,json:{write:!0}})],f.prototype,"startTime",void 0);b.__decorate([q.cast("startTime")],f.prototype,"castStartTime",null);b.__decorate([g.property({type:t.apiValues,
value:null,json:{type:t.jsonValues,read:t.read,write:t.write}})],f.prototype,"style",null);b.__decorate([g.property({type:e,value:null,json:{type:e,origins:{"web-scene":{type:m,write:{writer:(l,n)=>{m.includes(l)&&(n.theme=l)}}}},write:!0}})],f.prototype,"theme",null);b.__decorate([g.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],f.prototype,"type",void 0);b.__decorate([g.property({type:d,json:{type:d,write:!0}})],f.prototype,"units",void 0);return f=p=b.__decorate([u.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],
f)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,c,f){c={key:"type",base:c,typeMap:{algorithmic:b,multipart:f}};a.fromJSON=function(g){return g&&g.type?"algorithmic"===g.type?b.fromJSON(g):"multipart"===g.type?f.fromJSON(g):null:null};a.types=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;t=k=function(m){function e(d){d=m.call(this,d)||this;d.algorithm=null;d.fromColor=null;d.toColor=null;d.type="algorithmic";return d}a._inherits(e,m);e.prototype.clone=function(){return new k({fromColor:f.clone(this.fromColor),toColor:f.clone(this.toColor),algorithm:this.algorithm})};return a._createClass(e)}(t);b.__decorate([u.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],t.prototype,"algorithm",void 0);b.__decorate([g.property({type:c,
json:{type:[q.Integer],write:!0}})],t.prototype,"fromColor",void 0);b.__decorate([g.property({type:c,json:{type:[q.Integer],write:!0}})],t.prototype,"toColor",void 0);b.__decorate([g.property({type:["algorithmic"]})],t.prototype,"type",void 0);return t=k=b.__decorate([p.subclass("esri.rest.support.AlgorithmicColorRamp")],t)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){c=function(t){function k(m){m=t.call(this,m)||this;m.type=null;return m}a._inherits(k,t);return a._createClass(k)}(c.JSONSupport);b.__decorate([f.property({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([p.subclass("esri.rest.support.ColorRamp")],c)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,c,f,g,q,u,p){var t;g=t=function(k){function m(e){e=k.call(this,e)||this;e.colorRamps=null;e.type="multipart";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({colorRamps:c.clone(this.colorRamps)})};return a._createClass(m)}(p);b.__decorate([f.property({type:[u],json:{write:!0}})],g.prototype,"colorRamps",void 0);b.__decorate([f.property({type:["multipart"]})],g.prototype,"type",void 0);return g=t=b.__decorate([q.subclass("esri.rest.support.MultipartColorRamp")],g)})},
"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../support/randomRotationExpression ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z){const x={base:r,key:"type",typeMap:{opacity:l,color:d,rotation:n,size:h}};a.VisualVariablesMixin=w=>{w=function(v){function A(){var C=v.apply(this,arguments)||this;C._vvFactory=new z;return C}b._inherits(A,v);var B=A.prototype;B.readVisualVariables=function(C,D,y){return this._vvFactory.readVariables(C,D,y)};B.writeVisualVariables=function(C,D,y,G){D[y]=this._vvFactory.writeVariables(C,G)};B.hasVisualVariables=function(C,D){return C?0<this.getVisualVariablesForType(C,
D).length:0<this.getVisualVariablesForType("size",D).length||0<this.getVisualVariablesForType("color",D).length||0<this.getVisualVariablesForType("opacity",D).length||0<this.getVisualVariablesForType("rotation",D).length};B.getVisualVariablesForType=function(C,D){const y=this.visualVariables;return y?y.filter(G=>G.type===C&&("string"===typeof D?G.target===D:!1===D?!G.target:!0)):[]};B.collectVVRequiredFields=async function(C,D){var y=[];this.visualVariables&&(y=y.concat(this.visualVariables));for(const F of y)if(F&&
(F.field&&m.collectField(C,D,F.field),F.normalizationField&&m.collectField(C,D,F.normalizationField),F.valueExpression)){{y=C;var G=D;const K=e.matchRandomRotationExpression(F.valueExpression);null!=K?(m.collectField(y,G,K),y=!0):y=!1}y||await m.collectArcadeFieldNames(C,D,F.valueExpression)}};b._createClass(A,[{key:"visualVariables",set:function(C){this._vvFactory.visualVariables=C;this._set("visualVariables",this._vvFactory.visualVariables)}},{key:"arcadeRequiredForVisualVariables",get:function(){if(!this.visualVariables)return!1;
for(const C of this.visualVariables)if(C.arcadeRequired)return!0;return!1}}]);return A}(w);c.__decorate([f.property({types:[x],value:null,json:{write:!0}})],w.prototype,"visualVariables",null);c.__decorate([p.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],w.prototype,"readVisualVariables",null);c.__decorate([k.writer("visualVariables")],w.prototype,"writeVisualVariables",null);return w=c.__decorate([t.subclass("esri.renderers.mixins.VisualVariablesMixin")],w)};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/randomRotationExpression":function(){define(["exports"],function(a){const b=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;a.matchRandomRotationExpression=function(c){return c.match(b)?.[1]?.replace(/\\'/g,"'")??null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(l){l=m.call(this,l)||this;l.type="color";l.normalizationField=null;return l}a._inherits(e,m);var d=e.prototype;d.clone=function(){return new k({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(l=>l.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};d.getAttributeHash=function(){return`${a._get(a._getPrototypeOf(e.prototype),
"getAttributeHash",this).call(this)}-${this.normalizationField}`};d._interpolateData=function(){return this.stops&&this.stops.map(l=>l.value||0)};a._createClass(e,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(l){l&&Array.isArray(l)&&(l=l.filter(n=>!!n),l.sort((n,h)=>n.value-h.value));this._set("stops",l)}}]);return e}(p);b.__decorate([c.property({readOnly:!0})],f.prototype,"cache",null);b.__decorate([c.property({type:["color"],
json:{type:["colorInfo"]}})],f.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"normalizationField",void 0);b.__decorate([c.property({type:[t],json:{write:!0}})],f.prototype,"stops",null);return f=k=b.__decorate([u.subclass("esri.renderers.visualVariables.ColorVariable")],f)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,c,f,g,q,u,p,t,k){c=new c.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});f=function(m){function e(l){l=m.call(this,l)||this;l.index=null;l.type=null;l.field=null;l.valueExpression=null;l.valueExpressionTitle=null;l.legendOptions=null;return l}a._inherits(e,m);var d=e.prototype;d.castField=function(l){return null==l?l:"function"===typeof l?(g.getLogger(this).error(".field: field must be a string value"),null):t.ensureString(l)};d.clone=function(){};
d.getAttributeHash=function(){return`${this.type}-${this.field}-${this.valueExpression}`};a._createClass(e,[{key:"arcadeRequired",get:function(){return!!this.valueExpression}}]);return e}(f.JSONSupport);b.__decorate([q.property()],f.prototype,"index",void 0);b.__decorate([q.property({type:c.apiValues,readOnly:!0,json:{read:c.read,write:c.write}})],f.prototype,"type",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);b.__decorate([u.cast("field")],f.prototype,
"castField",null);b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"valueExpressionTitle",void 0);b.__decorate([q.property({readOnly:!0})],f.prototype,"arcadeRequired",null);b.__decorate([q.property({type:k,json:{write:!0}})],f.prototype,"legendOptions",void 0);return f=b.__decorate([p.subclass("esri.renderers.visualVariables.VisualVariable")],f)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../support/LegendOptions".split(" "),
function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(){var e=k.apply(this,arguments)||this;e.showLegend=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({title:this.title,showLegend:this.showLegend})};return a._createClass(m)}(p.LegendOptions);b.__decorate([c.property({type:Boolean,json:{write:!0}})],f.prototype,"showLegend",void 0);return f=t=b.__decorate([u.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],f)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;a.LegendOptions=k=function(m){function e(){var d=m.apply(this,arguments)||this;d.title=null;return d}b._inherits(e,m);e.prototype.clone=function(){return new k({title:this.title})};return b._createClass(e)}(f.JSONSupport);c.__decorate([g.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=k=c.__decorate([t.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),function(a,b,c,f,g,q,u,p,t,k){var m;f=m=function(e){function d(n){n=e.call(this,
n)||this;n.color=null;n.label=null;n.value=null;return n}a._inherits(d,e);var l=d.prototype;l.writeValue=function(n,h,r){h[r]=null==n?0:n};l.clone=function(){return new m({color:this.color&&this.color.clone(),label:this.label,value:this.value})};return a._createClass(d)}(f.JSONSupport);b.__decorate([g.property({type:c,json:{type:[q.Integer],write:!0}})],f.prototype,"color",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],f.prototype,"label",void 0);b.__decorate([g.property({type:Number,
json:{write:{writerEnsuresNonNull:!0}}})],f.prototype,"value",void 0);b.__decorate([k.writer("value")],f.prototype,"writeValue",null);return f=m=b.__decorate([t.subclass("esri.renderers.visualVariables.support.ColorStop")],f)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(l){l=m.call(this,l)||this;l.type="opacity";l.normalizationField=null;return l}a._inherits(e,m);var d=e.prototype;d.clone=function(){return new k({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(l=>l.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};d.getAttributeHash=function(){return`${a._get(a._getPrototypeOf(e.prototype),
"getAttributeHash",this).call(this)}-${this.normalizationField}`};d._interpolateData=function(){return this.stops&&this.stops.map(l=>l.value||0)};a._createClass(e,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(l){l&&Array.isArray(l)&&(l=l.filter(n=>!!n),l.sort((n,h)=>n.value-h.value));this._set("stops",l)}}]);return e}(p);b.__decorate([c.property({readOnly:!0})],f.prototype,"cache",null);b.__decorate([c.property({type:["opacity"],
json:{type:["transparencyInfo"]}})],f.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"normalizationField",void 0);b.__decorate([c.property({type:[t],json:{write:!0}})],f.prototype,"stops",null);return f=k=b.__decorate([u.subclass("esri.renderers.visualVariables.OpacityVariable")],f)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;c=e=function(d){function l(h){h=d.call(this,h)||this;h.label=null;h.opacity=null;h.value=null;return h}a._inherits(l,d);var n=l.prototype;n.readOpacity=function(h,r){return m.transparencyToOpacity(r.transparency)};n.writeOpacity=function(h,r,z){r[z]=m.opacityToTransparency(h)};n.clone=function(){return new e({label:this.label,opacity:this.opacity,value:this.value})};return a._createClass(l)}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],
c.prototype,"label",void 0);b.__decorate([f.property({type:Number,json:{type:g.Integer,write:{target:"transparency"}}})],c.prototype,"opacity",void 0);b.__decorate([p.reader("opacity",["transparency"])],c.prototype,"readOpacity",null);b.__decorate([k.writer("opacity")],c.prototype,"writeOpacity",null);b.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"value",void 0);return c=e=b.__decorate([t.subclass("esri.renderers.visualVariables.support.OpacityStop")],c)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;g=m=function(e){function d(n){n=e.call(this,n)||this;n.axis=null;n.type="rotation";n.rotationType="geographic";n.valueExpressionTitle=null;return n}a._inherits(d,e);var l=d.prototype;l.writeValueExpressionTitleWebScene=function(n,h,r,z){z&&z.messages&&z.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:z}))};l.clone=function(){return new m({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};a._createClass(d,[{key:"cache",get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}}]);return d}(k);b.__decorate([f.property({readOnly:!0})],g.prototype,"cache",null);b.__decorate([f.property({type:["heading",
"tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],g.prototype,"axis",void 0);b.__decorate([f.property({type:["rotation"],json:{type:["rotationInfo"]}})],g.prototype,"type",void 0);b.__decorate([f.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],g.prototype,"rotationType",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"valueExpressionTitle",void 0);b.__decorate([t.writer("web-scene",
"valueExpressionTitle")],g.prototype,"writeValueExpressionTitleWebScene",null);return g=m=b.__decorate([p.subclass("esri.renderers.visualVariables.RotationVariable")],g)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h){function r(B){if(null!=B){if("string"===typeof B||"number"===typeof B)return q.toPt(B);if("size"===B.type){if(n.isSizeVariable(B))return B;B={...B};delete B.type;return new A(B)}}}function z(B,C,D){if("object"!==typeof B)return B;C=new A;C.read(B,D);return C}var x;const w=new f.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),v=new f.JSONMap({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles",
"nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let A=x=function(B){function C(y){y=B.call(this,y)||this;y.axis=null;y.legendOptions=null;y.normalizationField=null;y.scaleBy=null;y.target=null;y.type="size";y.useSymbolValue=null;y.valueExpression=null;y.valueRepresentation=null;y.valueUnit=null;return y}a._inherits(C,B);var D=C.prototype;D.castMaxSize=function(y){return r(y)};
D.readMaxSize=function(y,G,F){return z(y,G,F)};D.castMinSize=function(y){return r(y)};D.readMinSize=function(y,G,F){return z(y,G,F)};D.readValueExpression=function(y,G){return y||G.expression&&"$view.scale"};D.writeValueExpressionWebScene=function(y,G,F,K){"$view.scale"===y?K&&K.messages&&(y=this.index,K.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,
propertyName:("string"===typeof y?y:`visualVariables[${y}]`)+".valueExpression",context:K}))):G[F]=y};D.readValueUnit=function(y){return y?v.read(y):null};D.clone=function(){return new x({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:n.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:n.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,
normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(y=>y.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};D.flipSizes=function(){if(this.transformationType===n.TransformationType.ClampedLinear){const {minSize:y,maxSize:G}=this;this.minSize=G;this.maxSize=y;return this}if(this.transformationType===n.TransformationType.Stops){const y=
this.stops;if(!y)return this;const G=y.map(K=>K.size).reverse(),F=y.length;for(let K=0;K<F;K++)y[K].size=G[K]}return this};D.getAttributeHash=function(){return`${a._get(a._getPrototypeOf(C.prototype),"getAttributeHash",this).call(this)}-${this.target}-${this.normalizationField}`};D._interpolateData=function(){return this.stops&&this.stops.map(y=>y.value||0)};a._createClass(C,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=
this.valueExpression&&h.viewScaleRE.test(this.valueExpression)}}},{key:"expression",set:function(y){g.getLogger(this).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===y?(this.valueExpression="$view.scale",this._set("expression",y)):this._set("expression",null)}},{key:"index",set:function(y){n.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${y}].maxSize`);n.isSizeVariable(this.minSize)&&
(this.minSize.index=`visualVariables[${y}].minSize`);this._set("index",y)}},{key:"inputValueType",get:function(){return n.getInputValueType(this)}},{key:"maxDataValue",set:function(y){y&&this.stops&&(g.getLogger(this).warn("cannot set maxDataValue when stops is not null."),y=null);this._set("maxDataValue",y)}},{key:"maxSize",set:function(y){y&&this.stops&&(g.getLogger(this).warn("cannot set maxSize when stops is not null."),y=null);this._set("maxSize",y)}},{key:"minDataValue",set:function(y){y&&this.stops&&
(g.getLogger(this).warn("cannot set minDataValue when stops is not null."),y=null);this._set("minDataValue",y)}},{key:"minSize",set:function(y){y&&this.stops&&(g.getLogger(this).warn("cannot set minSize when stops is not null."),y=null);this._set("minSize",y)}},{key:"arcadeRequired",get:function(){return this.valueExpression?!0:null!=this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}},{key:"stops",
set:function(y){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?y&&Array.isArray(y)&&(y=y.filter(G=>!!G),y.sort((G,F)=>G.value-F.value)):y&&(g.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),y=null);this._set("stops",y)}},{key:"transformationType",get:function(){return n.getTransformationType(this,this.inputValueType)}}]);return C}(e);b.__decorate([u.property({readOnly:!0})],A.prototype,"cache",
null);b.__decorate([u.property({type:w.apiValues,json:{type:w.jsonValues,origins:{"web-map":{read:!1}},read:w.read,write:w.write}})],A.prototype,"axis",void 0);b.__decorate([u.property({type:String,value:null,json:{read:!1}})],A.prototype,"expression",null);b.__decorate([u.property()],A.prototype,"index",null);b.__decorate([u.property({type:String,readOnly:!0})],A.prototype,"inputValueType",null);b.__decorate([u.property({type:l,json:{write:!0}})],A.prototype,"legendOptions",void 0);b.__decorate([u.property({type:Number,
value:null,json:{write:!0}})],A.prototype,"maxDataValue",null);b.__decorate([u.property({type:Number,value:null,json:{write:!0}})],A.prototype,"maxSize",null);b.__decorate([p.cast("maxSize")],A.prototype,"castMaxSize",null);b.__decorate([t.reader("maxSize")],A.prototype,"readMaxSize",null);b.__decorate([u.property({type:Number,value:null,json:{write:!0}})],A.prototype,"minDataValue",null);b.__decorate([u.property({type:Number,value:null,json:{write:!0}})],A.prototype,"minSize",null);b.__decorate([p.cast("minSize")],
A.prototype,"castMinSize",null);b.__decorate([t.reader("minSize")],A.prototype,"readMinSize",null);b.__decorate([u.property({type:String,json:{write:!0}})],A.prototype,"normalizationField",void 0);b.__decorate([u.property({readOnly:!0})],A.prototype,"arcadeRequired",null);b.__decorate([u.property({type:String})],A.prototype,"scaleBy",void 0);b.__decorate([u.property({type:[d],value:null,json:{write:!0}})],A.prototype,"stops",null);b.__decorate([u.property({type:["outline"],json:{write:!0}})],A.prototype,
"target",void 0);b.__decorate([u.property({type:String,readOnly:!0})],A.prototype,"transformationType",null);b.__decorate([u.property({type:["size"],json:{type:["sizeInfo"]}})],A.prototype,"type",void 0);b.__decorate([u.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],A.prototype,"useSymbolValue",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],A.prototype,"valueExpression",void 0);b.__decorate([t.reader("valueExpression",["valueExpression","expression"])],A.prototype,
"readValueExpression",null);b.__decorate([m.writer("web-scene","valueExpression")],A.prototype,"writeValueExpressionWebScene",null);b.__decorate([u.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],A.prototype,"valueRepresentation",void 0);b.__decorate([u.property({type:v.apiValues,json:{write:v.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],A.prototype,"valueUnit",void 0);b.__decorate([t.reader("valueUnit")],A.prototype,"readValueUnit",
null);return A=x=b.__decorate([k.subclass("esri.renderers.visualVariables.SizeVariable")],A)})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,
u,p,t){var k;c=k=function(m){function e(d){d=m.call(this,d)||this;d.label=null;d.size=null;d.value=null;return d}a._inherits(e,m);e.prototype.clone=function(){return new k({label:this.label,size:this.size,value:this.value})};return a._createClass(e)}(c.JSONSupport);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([g.property({type:Number,cast:f.toPt,json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([g.property({type:Number,json:{write:!0}})],
c.prototype,"value",void 0);return c=k=b.__decorate([t.subclass("esri.renderers.visualVariables.support.SizeStop")],c)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),
function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(){var e=k.apply(this,arguments)||this;e.customValues=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};return a._createClass(m)}(p);b.__decorate([c.property({type:[Number],json:{write:!0}})],f.prototype,"customValues",void 0);return f=t=b.__decorate([u.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],
f)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],function(a){function b(c){return c.valueExpression?a.InputValueType.Expression:c.field&&"string"===typeof c.field?a.InputValueType.Field:a.InputValueType.Unknown}a.InputValueType=void 0;(function(c){c.Unknown="unknown";c.Expression="expression";c.Field="field"})(a.InputValueType||(a.InputValueType={}));a.TransformationType=void 0;(function(c){c.Unknown="unknown";c.Stops="stops";c.ClampedLinear="clamped-linear";
c.Proportional="proportional";c.Additive="additive";c.Constant="constant";c.Identity="identity";c.RealWorldSize="real-world-size"})(a.TransformationType||(a.TransformationType={}));a.getInputValueType=b;a.getTransformationType=function(c,f){return(f||b(c))===a.InputValueType.Unknown?a.TransformationType.Constant:c.stops?a.TransformationType.Stops:null!=c.minSize&&null!=c.maxSize&&null!=c.minDataValue&&null!=c.maxDataValue?a.TransformationType.ClampedLinear:"unknown"===(c.valueUnit||"unknown")?null!=
c.minSize&&null!=c.minDataValue?c.minSize&&c.minDataValue?a.TransformationType.Proportional:a.TransformationType.Additive:a.TransformationType.Identity:a.TransformationType.RealWorldSize};a.isSizeVariable=function(c){return c&&"esri.renderers.visualVariables.SizeVariable"===c.declaredClass};a.isValidNumber=function(c){return null!=c&&!isNaN(c)&&isFinite(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../support/lengthUtils ./sizeVariableUtils".split(" "),
function(a,b,c,f,g,q,u){function p(w,v,A){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(M=>"color"===M.type):w)if("esri.renderers.visualVariables.ColorVariable"!==w.declaredClass)r.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var B="number"===typeof v,C=B?null:v,D=C&&C.attributes,y=B?v:null,G=w.field,{ipData:F,hasExpression:K}=w.cache;v=w.cache.compiledFunc;if(!G&&!K)return(A=w.stops)&&A[0]&&A[0].color;if("number"!==typeof y)if(K){if(null==
A||null==A.arcade){r.error("Use of arcade expressions requires an arcade context");return}y=A.arcade.arcadeUtils;G=y.getViewInfo({viewingMode:A.viewingMode,scale:A.scale,spatialReference:A.spatialReference});C=y.createExecContext(C,G);v||(v=y.createSyntaxTree(w.valueExpression),v=y.createFunction(v),w.cache.compiledFunc=v);y=y.executeFunction(v,C)}else D&&(y=D[G]);C=w.normalizationField;D=null!=D&&null!=C?parseFloat(D[C]):void 0;if(null!=y&&(!C||B||!isNaN(D)&&0!==D)&&(isNaN(D)||B||(y/=D),B=h(y,F)))return D=
B[0],C=B[1],A=D===C?w.stops[D].color:b.blendColors(w.stops[D].color,w.stops[C].color,B[2],null!=A?A.color:void 0),new b(A)}}function t(w,v,A){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(M=>"opacity"===M.type):w)if("esri.renderers.visualVariables.OpacityVariable"!==w.declaredClass)r.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var B="number"===typeof v,C=B?null:v,D=C&&C.attributes,y=B?v:null,G=w.field,{ipData:F,hasExpression:K}=
w.cache;v=w.cache.compiledFunc;if(!G&&!K)return(w=w.stops)&&w[0]&&w[0].opacity;if("number"!==typeof y)if(K){if(null==A||null==A.arcade){r.error("Use of arcade expressions requires an arcade context");return}y=A.arcade.arcadeUtils;A=y.getViewInfo({viewingMode:A.viewingMode,scale:A.scale,spatialReference:A.spatialReference});A=y.createExecContext(C,A);v||(C=y.createSyntaxTree(w.valueExpression),v=y.createFunction(C),w.cache.compiledFunc=v);y=y.executeFunction(v,A)}else D&&(y=D[G]);A=w.normalizationField;
D=null!=D&&null!=A?parseFloat(D[A]):void 0;if(null!=y&&(!A||B||!isNaN(D)&&0!==D)&&(isNaN(D)||B||(y/=D),B=h(y,F))){A=B[0];D=B[1];if(A===D)return w.stops[A].opacity;A=w.stops[A].opacity;return A+(w.stops[D].opacity-A)*B[2]}}}function k(w,v,A){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(M=>"rotation"===M.type):w)if("esri.renderers.visualVariables.RotationVariable"!==w.declaredClass)r.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");
else{var B=w.axis||"heading",C="heading"===B&&"arithmetic"===w.rotationType?90:0;B="heading"===B&&"arithmetic"===w.rotationType?-1:1;var D="number"===typeof v?null:v,y=D&&D.attributes,G=w.field,{hasExpression:F}=w.cache;v=w.cache.compiledFunc;var K=0;if(!G&&!F)return K;if(F){if(null==A||null==A.arcade){r.error("Use of arcade expressions requires an arcade context");return}y=A.arcade.arcadeUtils;A=y.getViewInfo({viewingMode:A.viewingMode,scale:A.scale,spatialReference:A.spatialReference});A=y.createExecContext(D,
A);v||(v=y.createSyntaxTree(w.valueExpression),v=y.createFunction(v),w.cache.compiledFunc=v);K=y.executeFunction(v,A)}else y&&(K=y[G]||0);return K="number"!==typeof K||isNaN(K)?null:C+B*K}}function m(w,v,A){const B="number"===typeof v;var C=B?null:v;const D=C&&C.attributes;var y=B?v:null;const {isScaleDriven:G}=w.cache;v=w.cache.compiledFunc;if(G)C=null!=A?A.scale:void 0,A=null!=A?A.view:void 0,null==C||"3d"===A?(C=A=null,(C=w.stops)?(A=C[0].value,C=C[C.length-1].value):(A=w.minDataValue||0,C=w.maxDataValue||
0),A=(A+C)/2):A=C,y=A;else if(!B)switch(w.inputValueType){case u.InputValueType.Expression:if(null==A||null==A.arcade){r.error("Use of arcade expressions requires an arcade context");return}y=A.arcade.arcadeUtils;A=y.getViewInfo({viewingMode:A.viewingMode,scale:A.scale,spatialReference:A.spatialReference});A=y.createExecContext(C,A);v||(C=y.createSyntaxTree(w.valueExpression),v=y.createFunction(C),w.cache.compiledFunc=v);y=y.executeFunction(v,A);break;case u.InputValueType.Field:D&&(y=D[w.field]);
break;case u.InputValueType.Unknown:y=null}if(!u.isValidNumber(y))return null;if(B||!w.normalizationField)return y;w=D?parseFloat(D[w.normalizationField]):null;return u.isValidNumber(w)&&0!==w?y/w:null}function e(w,v,A){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(C=>"size"===C.type):w)if("esri.renderers.visualVariables.SizeVariable"!==w.declaredClass)r.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var B=m(w,v,A);v=n(B,
w,v,A,w.cache.ipData);return null===v||void 0===v||isNaN(v)?0:v}}function d(w,v,A){return null==w?null:u.isSizeVariable(w)?e(w,v,A):u.isValidNumber(w)?w:null}function l(w,v,A){return u.isValidNumber(A)&&w>A?A:u.isValidNumber(v)&&w<v?v:w}function n(w,v,A,B,C){switch(v.transformationType){case u.TransformationType.Additive:return B=d(v.minSize,A,B),w+((B||v.minDataValue)??0);case u.TransformationType.Constant:return w=(w=v.stops)&&w.length&&w[0].size,null==w&&(w=v.minSize),d(w,A,B);case u.TransformationType.ClampedLinear:C=
(w-v.minDataValue)/(v.maxDataValue-v.minDataValue);var D=d(v.minSize,A,B);A=d(v.maxSize,A,B);B=null!=B?B.shape:void 0;w<=v.minDataValue?v=D:w>=v.maxDataValue?v=A:null==D||null==A?v=null:"area"===v.scaleBy&&B?(w=(v="circle"===B)?x*(D/2)**2:D*D,w+=C*((v?x*(A/2)**2:A*A)-w),v=v?2*Math.sqrt(w/x):Math.sqrt(w)):v=D+C*(A-D);return v;case u.TransformationType.Proportional:return C=null!=B?B.shape:void 0,w/=v.minDataValue,D=d(v.minSize,A,B),v=d(v.maxSize,A,B),B=null,B="circle"===C?2*Math.sqrt(w*(D/2)**2):"square"===
C||"diamond"===C||"image"===C?Math.sqrt(w*D**2):w*D,l(B,D,v);case u.TransformationType.Stops:{const [y,G,F]=h(w,C);y===G?v=d(v.stops?.[y].size,A,B):(w=d(v.stops?.[y].size,A,B),v=d(v.stops?.[G].size,A,B),v=w+(v-w)*F)}return v;case u.TransformationType.RealWorldSize:return C=(null!=B&&B.resolution?B.resolution:1)*q.meterIn[v.valueUnit],D=d(v.minSize,A,B),B=d(v.maxSize,A,B),{valueRepresentation:v}=v,A=null,A="area"===v?2*Math.sqrt(w/x)/C:"radius"===v||"distance"===v?2*w/C:w/C,l(A,D,B);case u.TransformationType.Identity:return w;
case u.TransformationType.Unknown:return null}}function h(w,v){if(v){var A=0,B=v.length-1;v.some((C,D)=>{if(w<C)return B=D,!0;A=D;return!1});return[A,B,(w-v[A])/(v[B]-v[A])]}}const r=g.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),z=new c,x=Math.PI;a.getAllSizes=function(w,v,A){const B=["proportional","proportional","proportional"];for(const C of w)switch(w=C.useSymbolValue?"symbol-value":e(C,v,A),C.axis){case "width":B[0]=w;break;case "depth":B[1]=w;break;case "height":B[2]=
w;break;case "width-and-depth":B[0]=w;B[1]=w;break;case "all":case void 0:case null:B[0]=w;B[1]=w;B[2]=w;break;default:f.neverReached(C.axis)}return B};a.getColor=p;a.getOpacity=t;a.getRotationAngle=k;a.getSize=e;a.getSizeForValue=n;a.getSizeFromNumberOrVariable=d;a.getSizeRangeAtScale=function(w,v,A){const {isScaleDriven:B}=w.cache;if(!(B&&"3d"===A||v))return null;A={scale:v,view:A};v=d(w.minSize,z,A);w=d(w.maxSize,z,A);if(null!=v||null!=w)return v>w&&(A=w,w=v,v=A),{minSize:v,maxSize:w}};a.getVisualVariableValues=
function(w,v,A){if(w.visualVariables){var B=[],C=[],D=[],y=[],G=[];for(const F of w.visualVariables)switch(F.type){case "color":C.push(F);break;case "opacity":D.push(F);break;case "rotation":G.push(F);break;case "size":y.push(F)}C.forEach(F=>{const K=p(F,v,A);B.push({variable:F,value:K})});D.forEach(F=>{const K=t(F,v,A);B.push({variable:F,value:K})});G.forEach(F=>{const K=k(F,v,A);B.push({variable:F,value:K})});y.forEach(F=>{const K=e(F,v,A);B.push({variable:F,value:K})});return B.filter(F=>null!=
F.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Graphic":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./geometry ./PopupTemplate ./symbols ./core/Clonable ./core/JSONSupport ./core/uid ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,
b,c,f,g,q,u,p,t,k,m,e,d,l){var n;q=n=function(h){function r(...x){x=h.call(this,...x)||this;x.isAggregate=!1;x.layer=null;x.popupTemplate=null;x.sourceLayer=null;Object.defineProperty(a._assertThisInitialized(x),"uid",{value:p.generateUID(),configurable:!0});return x}a._inherits(r,h);var z=r.prototype;z.normalizeCtorArgs=function(x,w,v,A){return x&&!x.declaredClass?x:{geometry:x,symbol:w,attributes:v,popupTemplate:A}};z.cloneShallow=function(){return new n({aggregateGeometries:this.aggregateGeometries,
attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible})};z.getEffectivePopupTemplate=function(x=!1){if(this.popupTemplate)return this.popupTemplate;for(const w of[this.sourceLayer,this.layer])if(w){if("popupTemplate"in w&&w.popupTemplate)return w.popupTemplate;if(x&&"defaultPopupTemplate"in w&&null!=w.defaultPopupTemplate)return w.defaultPopupTemplate}return null};
z.getAttribute=function(x){return this.attributes?.[x]};z.setAttribute=function(x,w){if(this.attributes){const v=this.getAttribute(x);this.attributes[x]=w;this._notifyLayer("attributes",v,w,x)}else this.attributes={[x]:w},this._notifyLayer("attributes",void 0,w,x)};z.getObjectId=function(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};z.toJSON=function(){var x=this.aggregateGeometries;if(null==
x)x=null;else{var w={};for(const v in x){const A=x[v];A&&(w[v]=A.toJSON())}x=0!==Object.keys(w).length?w:null}return{aggregateGeometries:x,geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};z.notifyGeometryChanged=function(){this._notifyLayer("geometry",this.geometry,this.geometry)};z.notifyMeshTransformChanged=function(x={}){var {geometry:w}=this;
"mesh"===w?.type&&(w={origin:w.origin,transform:w.transform},this._notifyLayer("origin-transform",w,w,x.action))};z._notifyLayer=function(x,w,v,A){this.layer&&"graphicChanged"in this.layer&&(w={graphic:this,property:x,oldValue:w,newValue:v},"origin-transform"===x&&(w.action=A),"attributes"===x&&(w.attributeName=A),this.layer.graphicChanged(w))};a._createClass(r,[{key:"aggregateGeometries",set:function(x){const w=this._get("aggregateGeometries");JSON.stringify(w)!==JSON.stringify(x)&&this._set("aggregateGeometries",
x)}},{key:"attributes",set:function(x){const w=this._get("attributes");w!==x&&(this._set("attributes",x),this._notifyLayer("attributes",w,x))}},{key:"geometry",set:function(x){const w=this._get("geometry");w!==x&&(this._set("geometry",x),this._notifyLayer("geometry",w,x))}},{key:"symbol",set:function(x){const w=this._get("symbol");w!==x&&(this._set("symbol",x),this._notifyLayer("symbol",w,x))}},{key:"visible",set:function(x){const w=this._get("visible");w!==x&&(this._set("visible",x),this._notifyLayer("visible",
w,x))}}]);return r}(q.ClonableMixin(u.JSONSupport));b.__decorate([t.property({value:null,json:{read:function(h){if(!h)return null;const r={};for(const z in h){const x=l.fromJSON(h[z]);x&&(r[z]=x)}return 0!==Object.keys(r).length?r:null}}})],q.prototype,"aggregateGeometries",null);b.__decorate([t.property({value:null})],q.prototype,"attributes",null);b.__decorate([t.property({value:null,types:c.geometryTypes,json:{read:l.fromJSON}})],q.prototype,"geometry",null);b.__decorate([t.property({type:Boolean})],
q.prototype,"isAggregate",void 0);b.__decorate([t.property({clonable:"reference"})],q.prototype,"layer",void 0);b.__decorate([t.property({type:f})],q.prototype,"popupTemplate",void 0);b.__decorate([t.property({clonable:"reference"})],q.prototype,"sourceLayer",void 0);b.__decorate([t.property({value:null,types:g.symbolTypes})],q.prototype,"symbol",null);b.__decorate([t.property({type:Boolean,value:!0})],q.prototype,"visible",null);q=n=b.__decorate([d.subclass("esri.Graphic")],q);(q||(q={})).generateUID=
p.generateUID;return q})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),function(a,b,c,
f,g,q,u,p,t,k,m,e,d,l,n){const h={color:e,size:n,opacity:d,rotation:l},r=new f.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),z=/^\[([^\]]+)\]$/i;c=function(x){function w(){var A=x.apply(this,arguments)||this;A.colorVariables=null;A.opacityVariables=null;A.rotationVariables=null;A.sizeVariables=null;return A}a._inherits(w,x);var v=w.prototype;v.readVariables=function(A,B,C){const {rotationExpression:D,rotationType:y}=B;if(B=(B=D&&D.match(z))&&B[1])A||
(A=[]),A.push({type:"rotationInfo",rotationType:y,field:B});if(A)return A.map(G=>{var F=r.read(G.type);const K=h[F];K||(g.getLogger(this).warn(`Unknown variable type: ${F}`),C&&C.messages&&C.messages.push(new q("visual-variable:unsupported",`visualVariable of type '${F}' is not supported`,{definition:G,context:C})));F=new K;F.read(G,C);return F})};v.writeVariables=function(A,B){const C=[];for(const D of A)(A=D.toJSON(B))&&C.push(A);return C};v._resetVariables=function(){this.colorVariables=[];this.opacityVariables=
[];this.rotationVariables=[];this.sizeVariables=[]};a._createClass(w,[{key:"visualVariables",set:function(A){this._resetVariables();if((A=A&&A.filter(C=>!!C))&&A.length){for(var B of A)switch(B.type){case "color":this.colorVariables.push(B);break;case "opacity":this.opacityVariables.push(B);break;case "rotation":this.rotationVariables.push(B);break;case "size":this.sizeVariables.push(B)}this.sizeVariables.length&&this.sizeVariables.some(C=>!!C.target)&&A.sort((C,D)=>{let y=null;return y=C.target===
D.target?0:C.target?1:-1});for(B=0;B<A.length;B++)A[B].index=B}this._set("visualVariables",A)}}]);return w}(c);b.__decorate([u.property()],c.prototype,"visualVariables",null);return c=b.__decorate([m.subclass("esri.renderers.visualVariables.VisualVariableFactory")],c)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;c=k=function(m){function e(l){l=m.call(this,l)||this;l.description=null;l.label=null;l.minValue=null;l.maxValue=0;l.symbol=null;return l}a._inherits(e,m);var d=e.prototype;d.clone=function(){return new k({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};d.getMeshHash=function(){const l=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${l}`};return a._createClass(e)}(c.JSONSupport);
b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([f.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0);b.__decorate([f.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0);b.__decorate([f.property(t.rendererSymbolProperty)],
c.prototype,"symbol",void 0);return c=k=b.__decorate([p.subclass("esri.renderers.support.ClassBreakInfo")],c)})},"esri/renderers/support/commonProperties":function(){define("exports ../../symbols ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/support/jsonUtils ../../symbols/Symbol ../../symbols/PolygonSymbol3D".split(" "),function(a,b,c,f,g,q){c={types:b.symbolTypesRenderer,json:{write:{writer:f.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,write:{writer:f.write},
read:{reader:c.createTypeReader({types:b.symbolTypesRenderer3D})}}}}};const u={cast:p=>null==p||"string"===typeof p||"number"===typeof p?p:`${p}`,json:{type:String,write:{writer:(p,t)=>{t.value=p?.toString()}}}};a.rendererBackgroundFillSymbolProperty={types:{base:g,key:"type",typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:f.write},origins:{"web-scene":{type:q,write:{writer:f.write}}}}};
a.rendererSymbolProperty=c;a.uniqueValueProperty=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/jsonUtils":function(){define("exports ../../symbols ../../core/Error ../../layers/support/layerUtils ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),function(a,b,c,f,g,q,u){function p(t,k,m){if(null==t)return null;const {context:e,isLabelSymbol:d}=m;var l=e?.origin;m=e?.messages;if("web-scene"===l&&!(t instanceof g||t instanceof u)){l=q.to3D(t,{retainCIM:!0,
hasLabelingContext:d});if(null!=l.symbol)return l.symbol.write(k,e);m?.push(new c("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:e,error:l.error}));return null}return("web-map"===l||"portal-item"===l&&!f.isSceneServiceLayer(e?.layer))&&(t instanceof g||t instanceof u)?(m?.push(new c("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,
{symbol:t,context:e})),null):t.write(k,e)}a.fromJSON=function(t,k){return b.readSymbol(t,null,k)};a.write=function(t,k,m,e){t=p(t,{},{context:e,isLabelSymbol:!1});null!=t&&(k[m]=t)};a.writeLabelSymbol=function(t,k,m,e){t=p(t,{},{context:e,isLabelSymbol:!0});null!=t&&(k[m]=t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../symbols ../../core/Error ../WebStyleSymbol ../PointSymbol3D ../SimpleLineSymbol ../LineSymbol3D ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../MeshSymbol3D ../PolygonSymbol3D ../TextSymbol ../LabelSymbol3D".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l){const n={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};a.defaultTo3DOptions=n;a.to3D=function(h,r=n){if(!h)return{symbol:null};const {retainId:z=n.retainId,ignoreDrivers:x=n.ignoreDrivers,hasLabelingContext:w=n.hasLabelingContext,retainCIM:v=n.retainCIM}=r;let A=null;if(b.isSymbol3D(h)||h instanceof f)A=h.clone();else if("cim"===h.type){r=h.data?.symbol?.type;if("CIMPointSymbol"!==r)return{error:new c("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${r||
"unknown"}' is unsupported in 3D`,{symbol:h})};A=v?h.clone():g.fromCIMSymbol(h)}else if(h instanceof q)A=u.fromSimpleLineSymbol(h);else if(h instanceof p)A=g.fromSimpleMarkerSymbol(h);else if(h instanceof t)A=g.fromPictureMarkerSymbol(h);else if(h instanceof k)A=r.geometryType&&"mesh"===r.geometryType?m.fromSimpleFillSymbol(h):e.fromSimpleFillSymbol(h);else if(h instanceof d)A=w?l.fromTextSymbol(h):g.fromTextSymbol(h);else return{error:new c("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${h.type||
h.declaredClass}' is unsupported in 3D`,{symbol:h})};z&&A&&"cim"!==A.type&&(A.id=h.id);x&&b.isSymbol3D(A)&&A.symbolLayers.forEach(B=>B.ignoreDrivers=!0);return{symbol:A}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;g=e=function(d){function l(h){h=d.call(this,h)||this;h.config=null;h.fieldMap=null;h.scaleExpression=null;h.scaleExpressionTitle=null;h.url=null;h.type="dictionary";return h}a._inherits(l,d);var n=l.prototype;n.writeData=function(h,r){h&&(r.scalingExpressionInfo={expression:h,returnType:"number"})};n.writeVisualVariables=function(h,r,z,x){x?.origin||a._get(a._getPrototypeOf(l.prototype),"writeVisualVariables",this).call(this,h,r,z,x)};n.clone=function(){return new e({config:c.clone(this.config),
scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:c.clone(this.fieldMap),url:c.clone(this.url),visualVariables:c.clone(this.visualVariables)})};n.getSymbolAsync=async function(h,r){return this._loader.getSymbolAsync(h,r)};n.collectRequiredFields=async function(h,r){await this.collectVVRequiredFields(h,r);this.scaleExpression&&await p.collectArcadeFieldNames(h,r,this.scaleExpression);for(const z in this.fieldMap){const x=this.fieldMap[z];r.has(x)&&h.add(x)}};
n.getSymbol=function(){return null};n.getSymbols=function(){return[]};n.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((h,r)=>h+r.getAttributeHash(),"")};n.getMeshHash=function(){return`${this.url}-${JSON.stringify(this.fieldMap)}`};n.getSymbolFields=function(){return this._loader.getSymbolFields()};a._createClass(l,[{key:"_loader",get:function(){return new m.DictionaryLoader(this.url,this.config,this.fieldMap)}},{key:"arcadeRequired",get:function(){return!0}}]);
return l}(k.VisualVariablesMixin(t));b.__decorate([f.property({type:m.DictionaryLoader})],g.prototype,"_loader",null);b.__decorate([f.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],g.prototype,"config",void 0);b.__decorate([f.property({type:Object,json:{write:!0}})],g.prototype,"fieldMap",void 0);b.__decorate([f.property({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],g.prototype,"scaleExpression",void 0);b.__decorate([u.writer("scaleExpression")],
g.prototype,"writeData",null);b.__decorate([f.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(d){return{enabled:!!d&&!!this.scaleExpression}}}}})],g.prototype,"scaleExpressionTitle",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"url",void 0);b.__decorate([u.writer("visualVariables")],g.prototype,"writeVisualVariables",null);return g=e=b.__decorate([q.subclass("esri.renderers.DictionaryRenderer")],
g)})},"esri/renderers/support/DictionaryLoader":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../Color ../../request ../../core/Error ../../core/has ../../core/Logger ../../core/LRUCache ../../core/promiseUtils ../../core/string ../../core/Version ../../layers/support/FieldsIndex ../../support/arcadeOnDemand ../../symbols/CIMSymbol".split(" "),function(a,b,c,f,g,q,u,p,t,k,m,e,d,l){function n(r,z){if(r&&(r=r.symbolLayers))for(var x=r.length;x--;){var w=r[x];if(w&&!1!==w.enable)switch(w.type){case "CIMVectorMarker":var v=
z;if(w=w.markerGraphics)for(const A of w)if(A&&(w=A.symbol))switch(w.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":n(w,v);break;case "CIMTextSymbol":w.fieldMap=v}}}}const h={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};q=function(){function r(x,w,v){this.url=this.fieldMap=this.config=null;this._ongoingRequests=new Map;this._symbolCache=new p.LRUCache(100);this._dictionaryPromise=this._fieldIndex=
this._dictionaryVersion=null;this.url=x;this.config=w;this.fieldMap=v}var z=r.prototype;z.getSymbolFields=function(){return this._symbolFields};z.getSymbolAsync=async function(x,w){this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(w));try{var v=await this._dictionaryPromise}catch(G){if(t.isAbortError(G))return this._dictionaryPromise=null}var A=this._dictionaryVersion&&this._dictionaryVersion.since(4,0),B={};if(this.fieldMap)for(var C of this._symbolFields){var D=this._getFieldName(this.fieldMap[C]);
B[C]=D?A?x.attributes[D]:""+x.attributes[D]:""}A=null;try{A=v?.(B,w)}catch(G){return null}if(!A||"string"!==typeof A)return null;const y=k.numericHash(A).toString();if(v=this._symbolCache.get(y))return v.catch(()=>{this._symbolCache.pop(y)}),v;A=A.split(";");v=[];B=[];for(const G of A)if(G)if(G.includes("po:"))D=G.substr(3).split("|"),3===D.length&&(A=D[0],C=D[1],D=D[2],"DashTemplate"===C?D=D.split(" ").map(F=>Number(F)):"Color"===C?(D=(new c(D)).toRgba(),D=[D[0],D[1],D[2],255*D[3]]):D=Number(D),
B.push({primitiveName:A,propertyName:C,value:D}));else if(G.includes("|"))for(const F of G.split("|")){if(this._itemNames.has(F)){v.push(F);break}}else this._itemNames.has(G)&&v.push(G);x=this._cimPartsToCIMSymbol(v,B,null==x.geometry||!x.geometry.hasZ&&"point"===x.geometry.type?!0:!1,w);this._symbolCache.put(y,x,1);return x};z.fetchResources=async function(x){if(this._dictionaryPromise)return this._dictionaryPromise;if(this.url){var w=f(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",
query:{f:"json"},signal:null!=x?x.signal:null}),[{data:v}]=await Promise.all([w,d.loadArcade()]);if(!v)throw this._dictionaryPromise=null,new g("esri.renderers.DictionaryRenderer","Bad dictionary data!");var {authoringInfo:A,dictionary_version:B,expression:C,itemsNames:D}=v;w=!1;B&&(this._dictionaryVersion=m.Version.parse(B),w=this._dictionaryVersion.since(4,0));this._refSymbolUrlTemplate=this.url+"/"+v.cimRefTemplateUrl;this._itemNames=new Set(D);this._symbolFields=A.symbol;v={};if(this.config){const F=
this.config;for(var y in F)v[y]=F[y]}if(A.configuration)for(var G of A.configuration)v.hasOwnProperty(G.name)||(v[G.name]=G.value);y=[];if(null!=x&&x.fields&&this.fieldMap)for(const F of this._symbolFields){const K=this.fieldMap[F];G=x.fields.filter(M=>M.name.toLowerCase()===K?.toLowerCase());0<G.length&&y.push({...G[0],type:w?G[0].type:"esriFieldTypeString"})}0<y.length&&(this._fieldIndex=new e(y));return this._dictionaryPromise=x=d.createDictionaryExpression(C,null!=x?x.spatialReference:null,y,
v).then(F=>{const K={scale:0};return(M,O)=>{if(null==F)return null;M=F.repurposeFeature({geometry:null,attributes:M});K.scale=null!=O?O.scale??void 0:void 0;return F.evaluate({$feature:M,$view:K},F.services)}}).catch(F=>{u.getLogger("esri.renderers.support.DictionaryLoader").error("Creating dictinoary expression failed:",F);return null})}u.getLogger("esri.renderers.support.DictionaryLoader").error("no valid URL!")};z._cimPartsToCIMSymbol=async function(x,w,v,A){const B=Array(x.length);for(let C=0;C<
x.length;C++)B[C]=this._getSymbolPart(x[C],A);x=await Promise.all(B);if(A=this.fieldMap)for(const C of x)n(C,A);return new l({data:this._combineSymbolParts(x,w,v)})};z._getSymbolPart=async function(x,w){if(this._ongoingRequests.has(x))return this._ongoingRequests.get(x).then(A=>A.data);const v=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,x);w=f(v,{responseType:"json",query:{f:"json"},...w});this._ongoingRequests.set(x,w);try{return(await w).data}catch(A){throw this._ongoingRequests.delete(x),
A;}};z._combineSymbolParts=function(x,w,v){if(!x||0===x.length)return null;const A={...x[0]};if(1<x.length){A.symbolLayers=[];for(const B of x)A.symbolLayers.unshift(...B.symbolLayers)}v&&(A.callout=h);return{type:"CIMSymbolReference",symbol:A,primitiveOverrides:w}};z._getFieldName=function(x){if(null!==this._fieldIndex){const w=this._fieldIndex.get(x);return w?w.name:x}return x};return b._createClass(r)}();a.DictionaryLoader=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/LRUCache":function(){define(["exports",
"../chunks/_rollupPluginBabelHelpers","./MemCache"],function(a,b,c){let f=function(){function g(u,p){this._storage=new c.MemCacheStorage;this.name=this.id="";this.size=0;this._storage.maxSize=u;this._storage.register(this);p&&this._storage.registerRemoveFunc("",p)}var q=g.prototype;q.destroy=function(){this._storage.deregister(this);this._storage.destroy()};q.put=function(u,p,t=1){this._storage.put(this,u,p,t,1)};q.pop=function(u){return this._storage.pop(this,u)};q.get=function(u){return this._storage.get(this,
u)};q.clear=function(){this._storage.clearAll()};q.resetHitRate=function(){};b._createClass(g,[{key:"maxSize",get:function(){return this._storage.maxSize},set:function(u){this._storage.maxSize=u}}]);return g}();a.LRUCache=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./PooledArray"],function(a,b,c){a.RemoveMode=void 0;(function(u){u[u.ALL=0]="ALL";u[u.SOME=1]="SOME"})(a.RemoveMode||(a.RemoveMode=
{}));let f=function(){function u(t,k,m){this.name=t;this._storage=k;this.id=`${q++}:`;this.maxSize=this.size=0;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);m&&(this._storage.registerRemoveFunc(this.id,m),this._removeFunc=!0)}var p=u.prototype;p.destroy=function(){this._storage.clear(this);this._removeFunc&&this._storage.deregisterRemoveFunc(this.id);this._storage.deregister(this);this._storage=null};p.resetHitRate=function(){this._hit=this._miss=0};p.put=function(t,k,m,
e=0){this._storage.put(this,t,k,m,e)};p.get=function(t){t=this._storage.get(this,t);void 0===t?++this._miss:++this._hit;return t};p.pop=function(t){t=this._storage.pop(this,t);void 0===t?++this._miss:++this._hit;return t};p.updateSize=function(t,k,m){this._storage.updateSize(this,t,k,m)};p.clear=function(){this._storage.clear(this)};p.clearAll=function(){this._storage.clearAll()};p.resetStats=function(){this._storage.resetStats()};b._createClass(u,[{key:"hitRate",get:function(){return this._hit/(this._hit+
this._miss)}},{key:"sizeAll",get:function(){return this._storage.size}},{key:"performanceInfo",get:function(){return this._storage.performanceInfo}}]);return u}(),g=function(){function u(t=10485760){this._maxSize=t;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new c;this._users=new c}var p=u.prototype;p.destroy=function(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null};p.register=function(t){this._users.push(t)};p.deregister=function(t){this._users.removeUnordered(t)};
p.registerRemoveFunc=function(t,k){this._removeFuncs.push([t,k])};p.deregisterRemoveFunc=function(t){this._removeFuncs.filterInPlace(k=>k[0]!==t)};p.put=function(t,k,m,e,d){k=t.id+k;const l=this._db.get(k);l&&(this._size-=l.size,t.size-=l.size,this._db.delete(k),l.entry!==m&&this._notifyRemove(k,l.entry,a.RemoveMode.ALL));e>this._maxSize?this._notifyRemove(k,m,a.RemoveMode.ALL):void 0===m?console.warn("Refusing to cache undefined entry "):!e||0>e?console.warn("Refusing to cache entry with invalid size "+
e):(d=1+Math.max(d,-3)- -3,this._db.set(k,{entry:m,size:e,lifetime:d,lives:d}),this._size+=e,t.size+=e,this._checkSizeLimits())};p.updateSize=function(t,k,m,e){k=t.id+k;const d=this._db.get(k);if(d&&d.entry===m){this._size-=d.size;for(t.size-=d.size;e>this._maxSize;)if(e=this._notifyRemove(k,m,a.RemoveMode.SOME),!(null!=e&&0<e)){this._db.delete(k);return}d.size=e;this._size+=e;t.size+=e;this._checkSizeLimits()}};p.pop=function(t,k){k=t.id+k;const m=this._db.get(k);if(m)return this._size-=m.size,t.size-=
m.size,this._db.delete(k),++this._hit,m.entry;++this._miss};p.get=function(t,k){k=t.id+k;t=this._db.get(k);if(void 0===t)++this._miss;else return this._db.delete(k),t.lives=t.lifetime,this._db.set(k,t),++this._hit,t.entry};p.resetStats=function(){this._hit=this._miss=0;this._users.forAll(t=>t.resetHitRate())};p.clear=function(t){const k=t.id;this._db.forEach((m,e)=>{e.startsWith(k)&&(this._size-=m.size,this._db.delete(e),this._notifyRemove(e,m.entry,a.RemoveMode.ALL))});t.size=0};p.clearAll=function(){this._db.forEach((t,
k)=>this._notifyRemove(k,t.entry,a.RemoveMode.ALL));this._users.forEach(t=>t.size=0);this._size=0;this._db.clear()};p._getHitRate=function(){return this._hit/(this._hit+this._miss)};p._notifyRemove=function(t,k,m){let e;this._removeFuncs.some(d=>t.startsWith(d[0])?(d=d[1](k,m),"number"===typeof d&&(e=d),!0):!1);return e};p._checkSizeLimits=function(){if(this._size>this._maxSize)for(const [t,k]of this._db)if(this._purgeItem(t,k),this._size<=.9*this.maxSize)return;this._users.forEach(t=>{if(0<t.maxSize&&
t.size>t.maxSize)for(const [k,m]of this._db)if(k.startsWith(t.id)&&(this._purgeItem(k,m,t),t.size<=.9*t.maxSize))break})};p._purgeItem=function(t,k,m=this._users.find(e=>t.startsWith(e.id))){this._db.delete(t);if(1>=k.lives){this._size-=k.size;m&&(m.size-=k.size);const e=this._notifyRemove(t,k.entry,a.RemoveMode.SOME);null!=e&&0<e&&(this._size+=e,m&&(m.size+=e),k.lives=k.lifetime,k.size=e,this._db.set(t,k))}else--k.lives,this._db.set(t,k)};b._createClass(u,[{key:"size",get:function(){return this._size}},
{key:"maxSize",get:function(){return this._maxSize},set:function(t){this._maxSize=Math.max(t,0);this._checkSizeLimits()}},{key:"performanceInfo",get:function(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},k={},m=[];this._db.forEach((l,n)=>{const h=l.lifetime;m[h]=(m[h]||0)+l.size;this._users.forAll(r=>{const {id:z,name:x}=r;n.startsWith(z)&&(k[x]=(k[x]||0)+l.size)})});const e=
{};this._users.forAll(l=>{const n=l.name;"hitRate"in l&&"number"===typeof l.hitRate&&!isNaN(l.hitRate)&&0<l.hitRate?(k[n]=k[n]||0,e[n]=Math.round(100*l.hitRate)+"%"):e[n]="0%"});var d=Object.keys(k);d.sort((l,n)=>k[n]-k[l]);d.forEach(l=>t[l]=Math.round(k[l]/2**20)+"MB / "+e[l]);for(d=m.length-1;0<=d;--d){const l=m[d];l&&(t["Priority "+(d+-3-1)]=Math.round(l/this._size*100)+"%")}return t}}]);return u}(),q=0;a.MIN_PRIORITY=-3;a.MemCache=f;a.MemCacheStorage=g;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/Version":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./Error"],function(a,b,c){let f=function(){function g(u,p,t=""){this.major=u;this.minor=p;this._context=t}var q=g.prototype;q.lessThan=function(u,p){return this.major<u||u===this.major&&this.minor<p};q.since=function(u,p){return!this.lessThan(u,p)};q.validate=function(u){if(this.major!==u.major)throw new c((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&
this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:u});};q.clone=function(){return new g(this.major,this.minor,this._context)};g.parse=function(u,p=""){const [t,k]=u.split(".");var m=/^\s*\d+\s*$/;if(!t||!t.match||!m.test(t))throw new c((p&&p+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:u});if(!k||!k.match||!m.test(k))throw new c((p&&p+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",
{version:u});u=parseInt(t,10);m=parseInt(k,10);return new g(u,m,p)};return b._createClass(g)}();a.Version=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FieldsIndex":function(){define(["../../chunks/_rollupPluginBabelHelpers","./fieldUtils"],function(a,b){function c(g){return"oid"===g.type||"esriFieldTypeOID"===g.type}function f(g){return"global-id"===g.type||"esriFieldTypeGlobalID"===g.type}return function(){function g(u=[]){this.fields=[];this._fieldsMap=
new Map;this._normalizedFieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=new Set;this.dateFields=[];this.numericFields=[];this._requiredFields=null;if(u){this.fields=u;var p=[];for(const t of u){u=t?.name;const k=b.normalizeFieldName(t?.name)?.toLowerCase()??"";if(u&&k){const m=u.trim().toLowerCase();this._fieldsMap.set(u,t);this._fieldsMap.set(m,t);this._normalizedFieldsMap.set(k,t);p.push(m);"date"===t.type||"esriFieldTypeDate"===t.type||"date-only"===t.type||"esriFieldTypeDateOnly"===
t.type||"timestamp-offset"===t.type||"esriFieldTypeTimestampOffset"===t.type?(this.dateFields.push(t),this._dateFieldsSet.add(t)):b.isNumericField(t)&&(this._numericFieldsSet.add(t),this.numericFields.push(t));c(t)||f(t)||(t.editable=null==t.editable||!!t.editable,t.nullable=null==t.nullable||!!t.nullable)}}p.sort();this.uid=p.join(",")}}var q=g.prototype;q.destroy=function(){this._fieldsMap.clear()};q.has=function(u){return null!=this.get(u)};q.get=function(u){if(u){var p=this._fieldsMap.get(u);
if(p)return p;(p=this._fieldsMap.get(u.trim().toLowerCase())??this._normalizedFieldsMap.get(b.normalizeFieldName(u)?.toLowerCase()??""))&&this._fieldsMap.set(u,p);return p}};q.isDateField=function(u){return this._dateFieldsSet.has(this.get(u))};q.isNumericField=function(u){return this._numericFieldsSet.has(this.get(u))};q.normalizeFieldName=function(u){if(u=this.get(u))return u.name??void 0};a._createClass(g,[{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];for(const u of this.fields)c(u)||
f(u)||u.nullable||void 0!==b.getFieldDefaultValue(u)||this._requiredFields.push(u)}return this._requiredFields}}]);return g}()})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){var h;q=h=function(r){function z(w){w=r.call(this,w)||this;w.attributes=null;w.backgroundColor=new c([0,0,0,0]);w.dotBlendingEnabled=!0;w.dotShape="square";w.dotSize=1;w.legendOptions=null;w.outline=new n;w.dotValue=null;w.referenceScale=null;w.seed=1;w.type="dot-density";return w}a._inherits(z,r);var x=z.prototype;x.calculateDotValue=function(w){if(null==this.referenceScale)return this.dotValue;w=w/this.referenceScale*this.dotValue;return 1>w?1:w};x.getSymbol=
function(){return new l({outline:this.outline})};x.getSymbolAsync=async function(){return this.getSymbol()};x.getSymbols=function(){return[this.getSymbol()]};x.getAttributeHash=function(){return this.attributes?.reduce((w,v)=>w+v.getAttributeHash(),"")??""};x.getMeshHash=function(){return JSON.stringify(this.outline)};x.clone=function(){return new h({attributes:f.clone(this.attributes),backgroundColor:f.clone(this.backgroundColor),dotBlendingEnabled:f.clone(this.dotBlendingEnabled),dotShape:f.clone(this.dotShape),
dotSize:f.clone(this.dotSize),dotValue:f.clone(this.dotValue),legendOptions:f.clone(this.legendOptions),outline:f.clone(this.outline),referenceScale:f.clone(this.referenceScale),visualVariables:f.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};x.getControllerHash=function(){const w=this.attributes?.map(A=>A.field||A.valueExpression||""),v=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${w}-${v}`};x.collectRequiredFields=async function(w,
v){await this.collectVVRequiredFields(w,v);for(const A of this.attributes??[])A.valueExpression&&await t.collectArcadeFieldNames(w,v,A.valueExpression),A.field&&w.add(A.field)};return a._createClass(z)}(m.VisualVariablesMixin(k));b.__decorate([g.property({type:[e],json:{write:!0}})],q.prototype,"attributes",void 0);b.__decorate([g.property({type:c,json:{write:!0}})],q.prototype,"backgroundColor",void 0);b.__decorate([g.property({type:Boolean,json:{write:!0}})],q.prototype,"dotBlendingEnabled",void 0);
b.__decorate([g.property({type:String,json:{write:!1}})],q.prototype,"dotShape",void 0);b.__decorate([g.property({type:Number,json:{write:!0}})],q.prototype,"dotSize",void 0);b.__decorate([g.property({type:d,json:{write:!0}})],q.prototype,"legendOptions",void 0);b.__decorate([g.property({type:n,json:{default:null,write:!0}})],q.prototype,"outline",void 0);b.__decorate([g.property({type:Number,json:{write:!0}})],q.prototype,"dotValue",void 0);b.__decorate([g.property({type:Number,json:{write:!0}})],
q.prototype,"referenceScale",void 0);b.__decorate([g.property({type:Number,json:{write:!0}})],q.prototype,"seed",void 0);b.__decorate([u.enumeration({dotDensity:"dot-density"})],q.prototype,"type",void 0);return q=h=b.__decorate([p.subclass("esri.renderers.DotDensityRenderer")],q)})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;f=e=function(d){function l(h){h=d.call(this,h)||this;h.color=null;h.field=null;h.label=null;h.valueExpression=null;h.valueExpressionTitle=null;return h}a._inherits(l,d);var n=l.prototype;n.castField=function(h){return null==h?h:"function"===typeof h?(g.getLogger(this).error(".field: field must be a string value"),null):m.ensureString(h)};n.getAttributeHash=function(){return`${this.field}-${this.valueExpression}`};n.clone=function(){return new e({color:this.color&&
this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};return a._createClass(l)}(f.JSONSupport);b.__decorate([q.property({type:c,json:{type:[Number],write:!0}})],f.prototype,"color",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);b.__decorate([u.cast("field")],f.prototype,"castField",null);b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"label",void 0);
b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"valueExpressionTitle",void 0);return f=e=b.__decorate([k.subclass("esri.renderers.support.AttributeColorInfo")],f)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(){var e=k.apply(this,arguments)||this;e.unit=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({unit:this.unit})};return a._createClass(m)}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"unit",void 0);return c=t=b.__decorate([p.subclass("esri.renderers.support.DotDensityLegendOptions")],c)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../symbols ../core/deprecate ../core/lang ../core/Logger ../core/scheduling ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/utils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/AuthoringInfo ./support/HeatmapColorStop ./support/HeatmapLegendOptions ./support/heatmapUtils ../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v){function A(D){if(null!=D){const {maxDensity:y,minDensity:G,radius:F}=D;if(null!=y||null!=G||null!=F){const {blurRadius:K,maxPixelIntensity:M,minPixelIntensity:O,...H}=D;return H}}return D}var B;const C=u.getLogger("esri.renderers.HeatmapRenderer");f=B=function(D){function y(F){F=D.call(this,F)||this;F.authoringInfo=null;F.colorStops=[new z({ratio:0,color:new c("rgba(255, 140, 0, 0)")}),new z({ratio:.75,color:new c("rgba(255, 140, 0, 1)")}),new z({ratio:.9,
color:new c("rgba(255, 0,   0, 1)")})];F.field=null;F.fieldOffset=0;F.legendOptions=null;F.maxDensity=.04;F.minDensity=0;F.radius=18;F.referenceScale=0;F.type="heatmap";F.valueExpression=null;F.valueExpressionTitle=null;F._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1};return F}a._inherits(y,D);var G=y.prototype;G.normalizeCtorArgs=function(F){return A(F)};G._warnAboutDeprecatedGaussianBlurProp=function(F,K){this._warnedProps[F]||"user"!==e.getProperties(this).getDefaultOrigin()||
(this._warnedProps[F]=!0,p.schedule(()=>{g.deprecatedProperty(C,F,{replacement:`${String(K)} (suggested value: ${this._get(K)})`,version:"4.24"})}))};G.read=function(F,K){F=A(F);a._get(a._getPrototypeOf(y.prototype),"read",this).call(this,F,K)};G.getSymbol=function(){return new v};G.getSymbolAsync=async function(){return this.getSymbol()};G.getSymbols=function(){return[this.getSymbol()]};G.collectRequiredFields=async function(F,K){const M=this.field,O=this.valueExpression;M&&"string"===typeof M&&
await n.collectField(F,K,M);O&&"string"===typeof O&&await n.collectArcadeFieldNames(F,K,O)};G.getAttributeHash=function(){return null};G.getMeshHash=function(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`};G.clone=function(){return new B({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:q.clone(this.colorStops),field:this.field,legendOptions:q.clone(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,
valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};a._createClass(y,[{key:"blurRadius",get:function(){return w.kernelDensityRadiusPtToGaussianBlurRadiusPx(this.radius)},set:function(F){const K=this.maxPixelIntensity,M=this.minPixelIntensity;this._set("radius",w.gaussianBlurRadiusPxToKernelDensityRadiusPt(F));this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius");this._set("maxDensity",K*this._pixelIntensityToDensity);this._set("minDensity",M*this._pixelIntensityToDensity)}},
{key:"maxPixelIntensity",get:function(){return this.maxDensity/this._pixelIntensityToDensity},set:function(F){this._set("maxDensity",F*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}},{key:"minPixelIntensity",get:function(){return this.minDensity/this._pixelIntensityToDensity},set:function(F){this._set("minDensity",F*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}},{key:"_pixelIntensityToDensity",
get:function(){return 24/(w.MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR**2*this.blurRadius**4)}}]);return y}(h);b.__decorate([k.property({type:r,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],f.prototype,"authoringInfo",void 0);b.__decorate([k.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],f.prototype,"blurRadius",null);b.__decorate([k.property({type:[z],json:{write:!0}})],f.prototype,"colorStops",void 0);b.__decorate([k.property({type:String,
json:{write:!0}})],f.prototype,"field",void 0);b.__decorate([k.property({type:Number,json:{write:{overridePolicy:(D,y,G)=>({enabled:null==G})},origins:{"web-scene":{write:!1}}}})],f.prototype,"fieldOffset",void 0);b.__decorate([k.property({type:x.HeatmapLegendOptions,json:{write:!0}})],f.prototype,"legendOptions",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],f.prototype,"maxDensity",void 0);b.__decorate([k.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],
f.prototype,"maxPixelIntensity",null);b.__decorate([k.property({type:Number,json:{write:!0}})],f.prototype,"minDensity",void 0);b.__decorate([k.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],f.prototype,"minPixelIntensity",null);b.__decorate([k.property({type:Number,cast:t.toPt,json:{write:!0}})],f.prototype,"radius",void 0);b.__decorate([k.property({type:Number,range:{min:0},json:{default:0,write:!0}})],f.prototype,"referenceScale",void 0);b.__decorate([d.enumeration({heatmap:"heatmap"})],
f.prototype,"type",void 0);b.__decorate([k.property({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],f.prototype,"valueExpression",void 0);b.__decorate([k.property({type:String})],f.prototype,"valueExpressionTitle",void 0);b.__decorate([k.property({readOnly:!0})],f.prototype,"_pixelIntensityToDensity",null);return f=B=b.__decorate([l.subclass("esri.renderers.HeatmapRenderer")],f)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(d){d=m.call(this,d)||this;d.color=null;d.ratio=null;return d}a._inherits(e,m);e.prototype.clone=function(){return new k({color:this.color,ratio:this.ratio})};return a._createClass(e)}(f.JSONSupport);b.__decorate([g.property({type:c,json:{type:[q.Integer],default:null,write:!0}})],f.prototype,"color",void 0);b.__decorate([g.property({type:Number,json:{write:!0}})],f.prototype,"ratio",void 0);return f=k=b.__decorate([t.subclass("esri.renderers.support.HeatmapColorStop")],
f)})},"esri/renderers/support/HeatmapLegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t,k){a.HeatmapLegendOptions=function(m){function e(){var d=m.apply(this,arguments)||this;d.minLabel=null;d.maxLabel=
null;d.title=null;return d}b._inherits(e,m);return b._createClass(e)}(f.ClonableMixin(g.JSONSupport));c.__decorate([q.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"minLabel",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"maxLabel",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"title",void 0);a.HeatmapLegendOptions=c.__decorate([k.subclass("esri.renderers.support.HeatmapLegendOptions")],
a.HeatmapLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec4","../../chunks/vec4f64"],function(a,b,c,f,g){function q(k,m,e,d){let {color:l,ratio:n}=m,{color:h,ratio:r}=e;r===n&&(1===r?n-=1E-6:r+=1E-6);m=b.clamp((d-n)/(r-n),0,1);f.lerp(k,l.toArray(),h.toArray(),m)}function u(k,m,e,d,l){k=new Uint32Array(k*k);m="buffer"in m?m:new Float64Array(m);
e="buffer"in e?new Uint32Array(e.buffer):new Uint32Array((new Uint8Array(e)).buffer);l=e.length/(l-d);for(let n=0;n<m.length;n++)k[n]=e[b.clamp(Math.floor((m[n]-d)*l),0,e.length-1)];return k.buffer}function p(k,m,e){k=Math.sqrt(k**2+m**2)/e;return 1<k?0:3/(Math.PI*e**2)*(1-k**2)**2}function t(k,m){return null!=k?"string"===typeof m?e=>-1*+e.readAttribute(k):e=>+e.readAttribute(k)+m:e=>1}a.MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR=2.4;a.calculateHeatmapIntensityInfoReaders=function(k,m,e,d){const {radius:l,
fieldOffset:n,field:h}=m;m=Math.round(c.pt2px(l));const r=new Float64Array(e*d);let z=Number.NEGATIVE_INFINITY;const x=t(h,n),w=new Set;for(const C of k)for(k=C.getCursor();k.next();){var v=k.getObjectId();if(w.has(v))continue;w.add(v);v=k.readLegacyPointGeometry();if(-128>v.x||v.x>=e+128||-128>v.y||v.y>d+128)continue;const D=+x(k),y=Math.max(0,Math.round(v.x)-m);var A=Math.max(0,Math.round(v.y)-m);const G=Math.min(d,Math.round(v.y)+m),F=Math.min(e,Math.round(v.x)+m);for(;A<G;A++)for(let K=y;K<F;K++){var B=
A*e+K;const M=p(v.x-K,v.y-A,m);B=r[B]+=M*D;B>z&&(z=B)}}return{matrix:r.buffer,max:z}};a.createHeatmapImageData=u;a.createValueFunction=function(k,m){return"function"===typeof k?k:k?"string"===typeof m?e=>-1*+e[k]:e=>+e[k]+m:()=>1};a.createValueFunctionCursor=t;a.drawHeatmap=function(k,m,e,d,l,n){k.canvas.width=k.canvas.height=m;k.clearRect(0,0,m,m);const h=k.getImageData(0,0,m,m);e&&d&&h.data.set(new Uint8ClampedArray(u(m,e,d,l,n)));k.putImageData(h,0,0)};a.evaluateDensityKernel=p;a.gaussianBlurRadiusPxToKernelDensityRadiusPt=
function(k){return c.px2pt(2.4*k)};a.generateGradient=function(k){const m=new Uint8ClampedArray(2048);k=k.filter(({ratio:h})=>0<=h&&1>=h).sort((h,r)=>h.ratio-r.ratio).map(({color:h,ratio:r})=>({color:h,ratio:Math.max(r,.001)}));if(1>k.length)return m;let e=k[0],d=k[0],l=1;const n=g.create();for(let h=0;512>h;h++){const r=(h+.5)/512;for(;r>d.ratio&&l<k.length;)e=d,d=k[l++];q(n,e,d,r);m.set(n,4*h)}return m};a.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(k){return c.pt2px(k)/2.4};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec4f64":function(){define(["exports"],function(a){function b(){return[0,0,0,0]}function c(w){return[w[0],w[1],w[2],w[3]]}function f(w,v,A,B){return[w,v,A,B]}function g(w){const v=b(),A=Math.min(4,w.length);for(let B=0;B<A;++B)v[B]=w[B];return v}function q(w,v){return new Float64Array(w,v,4)}function u(){return b()}function p(){return[1,1,1,1]}function t(){return[1,0,0,0]}function k(){return[0,1,0,0]}function m(){return[0,0,1,0]}function e(){return[0,
0,0,1]}const d=b(),l=p(),n=t(),h=k(),r=m(),z=e(),x=Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_W:z,UNIT_X:n,UNIT_Y:h,UNIT_Z:r,ZEROS:d,clone:c,create:b,createView:q,fromArray:g,fromValues:f,ones:p,unitW:e,unitX:t,unitY:k,unitZ:m,zeros:u},Symbol.toStringTag,{value:"Module"}));a.ONES=l;a.UNIT_W=z;a.UNIT_X=n;a.UNIT_Y=h;a.UNIT_Z=r;a.ZEROS=d;a.clone=c;a.create=b;a.createView=q;a.fromArray=g;a.fromValues=f;a.ones=p;a.unitW=e;a.unitX=t;a.unitY=k;a.unitZ=m;a.vec4f64=x;a.zeros=u})},"esri/renderers/PieChartRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../symbols ../core/arrayUtils ../core/Clonable ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/OthersCategory ./support/PieChartLegendOptions ../symbols/SimpleMarkerSymbol ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v){f=function(A){function B(D){D=A.call(this,D)||this;D.attributes=null;D.backgroundFillSymbol=null;D.defaultColor=new c([0,0,0,0]);D.defaultLabel=null;D.holePercentage=0;D.othersCategory=new r.OthersCategory;D.legendOptions=null;D.outline=null;D.size=12;D.type="pie-chart";return D}a._inherits(B,A);var C=B.prototype;C.getSymbol=function(){return new x({size:this.size?this.size/2+(this.outline?.width||0):0})};C.getSymbolAsync=async function(){return this.getSymbol()};
C.getSymbols=function(){return[this.getSymbol(),this.backgroundFillSymbol].filter(g.isSome)};C.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((D,y)=>D+y.getAttributeHash(),"")};C.getMeshHash=function(){return this.getSymbols().reduce((D,y)=>D+=JSON.stringify(y),"")};C.collectRequiredFields=async function(D,y){await this.collectVVRequiredFields(D,y);for(const G of this.attributes)G.valueExpression&&await d.collectArcadeFieldNames(D,y,G.valueExpression),G.field&&
D.add(G.field)};return a._createClass(B)}(n.VisualVariablesMixin(q.ClonableMixin(l)));b.__decorate([p.property({type:[h],json:{write:!0}})],f.prototype,"attributes",void 0);b.__decorate([p.property({type:w,json:{default:null,write:!0}})],f.prototype,"backgroundFillSymbol",void 0);b.__decorate([p.property({type:c,json:{write:!0}})],f.prototype,"defaultColor",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],f.prototype,"defaultLabel",void 0);b.__decorate([p.property({type:Number,range:{min:0,
max:1},json:{write:!0}})],f.prototype,"holePercentage",void 0);b.__decorate([p.property({type:r.OthersCategory,json:{write:!0}})],f.prototype,"othersCategory",void 0);b.__decorate([p.property({type:z.PieChartLegendOptions,json:{write:!0}})],f.prototype,"legendOptions",void 0);b.__decorate([p.property({type:v,json:{default:null,write:!0}})],f.prototype,"outline",void 0);b.__decorate([p.property({type:Number,cast:u.toPt,json:{write:!0}})],f.prototype,"size",void 0);b.__decorate([m.enumeration({pieChart:"pie-chart"})],
f.prototype,"type",void 0);return f=b.__decorate([e.subclass("esri.renderers.PieChartRenderer")],f)})},"esri/renderers/support/OthersCategory":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){a.OthersCategory=
function(e){function d(){var l=e.apply(this,arguments)||this;l.color=new f([0,0,0,0]);l.label=null;l.threshold=0;return l}b._inherits(d,e);return b._createClass(d)}(g.ClonableMixin(q.JSONSupport));c.__decorate([u.property({type:f,json:{write:!0}})],a.OthersCategory.prototype,"color",void 0);c.__decorate([u.property({type:String,json:{write:!0}})],a.OthersCategory.prototype,"label",void 0);c.__decorate([u.property({type:Number,range:{min:0,max:1},json:{write:!0}})],a.OthersCategory.prototype,"threshold",
void 0);a.OthersCategory=c.__decorate([m.subclass("esri.renderers.support.OthersCategory")],a.OthersCategory);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/PieChartLegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k){a.PieChartLegendOptions=function(m){function e(){var d=m.apply(this,arguments)||this;d.title=null;return d}b._inherits(e,m);return b._createClass(e)}(f.ClonableMixin(g.JSONSupport));c.__decorate([q.property({type:String,json:{write:!0}})],a.PieChartLegendOptions.prototype,"title",void 0);a.PieChartLegendOptions=c.__decorate([k.subclass("esri.renderers.support.PieChartLegendOptions")],a.PieChartLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/renderers/SimpleRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),function(a,b,c,f,g,q,u,p,t,k){var m;g=m=function(e){function d(n){n=e.call(this,n)||this;n.description=null;n.label=null;n.symbol=null;
n.type="simple";return n}a._inherits(d,e);var l=d.prototype;l.collectRequiredFields=async function(n,h){await Promise.all([this.collectSymbolFields(n,h),this.collectVVRequiredFields(n,h)])};l.collectSymbolFields=async function(n,h){await Promise.all(this.getSymbols().map(r=>r.collectRequiredFields(n,h)))};l.getSymbol=function(n,h){return this.symbol};l.getSymbolAsync=async function(n,h){return this.symbol};l.getSymbols=function(){return this.symbol?[this.symbol]:[]};l.getAttributeHash=function(){return this.visualVariables&&
this.visualVariables.reduce((n,h)=>n+h.getAttributeHash(),"")};l.getMeshHash=function(){return this.getSymbols().reduce((n,h)=>n+=JSON.stringify(h),"")};l.clone=function(){return new m({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:c.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};a._createClass(d,[{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}}]);return d}(t.VisualVariablesMixin(p));
b.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"description",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"label",void 0);b.__decorate([f.property(k.rendererSymbolProperty)],g.prototype,"symbol",void 0);b.__decorate([q.enumeration({simple:"simple"})],g.prototype,"type",void 0);return g=m=b.__decorate([u.subclass("esri.renderers.SimpleRenderer")],g)})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/Error ../core/lang ../core/Logger ../core/object ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValue ./support/UniqueValueClass ./support/UniqueValueGroup ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/support/styleUtils ../symbols/WebStyleSymbol".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D,y,G,F,K,M){function O(N){const {field1:V,field2:X,field3:U,fieldDelimiter:P,uniqueValueInfos:fa,valueExpression:Ba}=N,Aa=!(!V||!X);return[{classes:(fa??[]).map(ma=>{const {symbol:ta,label:ba,value:ka,description:Fa}=ma,[Na,Qa,I]=Aa?ka?.toString()?.split(P||"")||[]:[ka];ma=[];(V||Ba)&&ma.push(Na);X&&ma.push(Qa);U&&ma.push(I);return{symbol:ta,label:ba,values:[ma],description:Fa}})}]}var H;const J=q.getLogger("esri.renderers.UniqueValueRenderer"),
L=h.ensureType(y);q=H=function(N){function V(U){U=N.call(this,U)||this;U._valueInfoMap={};U._isDefaultSymbolDerived=!1;U._isInfosSource=null;U.type="unique-value";U.backgroundFillSymbol=null;U.orderByClassesEnabled=!1;U.valueExpressionTitle=null;U.legendOptions=null;U.defaultLabel=null;U.portal=null;U.styleOrigin=null;U.diff={uniqueValueInfos(P,fa){if(P||fa){if(!P||!fa)return{type:"complete",oldValue:P,newValue:fa};var Ba=!1,Aa={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let ma=
0;ma<fa.length;ma++){const ta=P.find(ba=>ba.value===fa[ma].value);ta?n.diff(ta,fa[ma])?(Aa.changed.push({type:"complete",oldValue:ta,newValue:fa[ma]}),Ba=!0):Aa.unchanged.push({oldValue:ta,newValue:fa[ma]}):(Aa.added.push(fa[ma]),Ba=!0)}for(let ma=0;ma<P.length;ma++)fa.find(ta=>ta.value===P[ma].value)||(Aa.removed.push(P[ma]),Ba=!0);return Ba?Aa:void 0}}};U._set("uniqueValueInfos",[]);U._set("uniqueValueGroups",[]);return U}a._inherits(V,N);var X=V.prototype;X.castField=function(U){return null==U||
"function"===typeof U?U:h.ensureString(U)};X.writeField=function(U,P,fa,Ba){"string"===typeof U?P[fa]=U:Ba&&Ba.messages?Ba.messages.push(new f("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):J.error(".field: cannot write field to JSON since it's not a string value")};X.readPortal=function(U,P,fa){return fa.portal||z.getDefault()};X.readStyleOrigin=function(U,P,fa){if(P.styleName)return Object.freeze({styleName:P.styleName});if(P.styleUrl)return U=F.fromJSON(P.styleUrl,
fa),Object.freeze({styleUrl:U})};X.writeStyleOrigin=function(U,P,fa,Ba){U.styleName?P.styleName=U.styleName:U.styleUrl&&(P.styleUrl=F.toJSON(U.styleUrl,Ba))};X.addUniqueValueInfo=function(U,P){this.styleOrigin?J.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(U="object"===typeof U?L(U):new y({value:U,symbol:c.ensureType(P)}),this.uniqueValueInfos?.push(U),this._valueInfoMap[U.value]=U,this._updateGroupsFromInfos(),this._isInfosSource=
!0,this._watchUniqueValueInfos())};X.removeUniqueValueInfo=function(U){if(this.styleOrigin)J.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else{var P=this.uniqueValueInfos;if(P)for(let fa=0;fa<P.length;fa++)if(P[fa].value===U+""){delete this._valueInfoMap[U];P.splice(fa,1);break}this._updateGroupsFromInfos();this._isInfosSource=!0;this._watchUniqueValueInfos()}};X.getUniqueValueInfo=async function(U,P){let fa=P;!this.valueExpression||
null!=P&&null!=P.arcade||(fa={...fa,arcade:await G.loadArcade()});return this._getUniqueValueInfo(U,fa)};X.getSymbol=function(U,P){if(!this.valueExpression||null!=P&&null!=P.arcade)return(U=this._getUniqueValueInfo(U,P))&&U.symbol||this.defaultSymbol;J.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")};X.getSymbolAsync=async function(U,P){if(this.valueExpression&&(null==P||null==P.arcade)){const fa=await G.loadArcade(),{arcadeUtils:Ba}=fa;Ba.hasGeometryOperations(this.valueExpression)&&
await Ba.enableGeometryOperations();P={...P,arcade:fa}}return(U=this._getUniqueValueInfo(U,P))&&U.symbol||this.defaultSymbol};X.getSymbols=function(){const U=[];for(const P of this.uniqueValueInfos??[])P.symbol&&U.push(P.symbol);this.defaultSymbol&&U.push(this.defaultSymbol);return U};X.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((U,P)=>U+P.getAttributeHash(),"")};X.getMeshHash=function(){const U=JSON.stringify(this.backgroundFillSymbol),P=JSON.stringify(this.defaultSymbol),
fa=this.uniqueValueInfos?.reduce((Ba,Aa)=>Ba+Aa.getMeshHash(),"");return`${U}.${P}.${fa}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`};X.clone=function(){const U=new H({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:g.clone(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,
visualVariables:g.clone(this.visualVariables),legendOptions:g.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:g.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(U._isDefaultSymbolDerived=!0);U._set("portal",this.portal);const P=g.clone(this.uniqueValueInfos),fa=g.clone(this.uniqueValueGroups);this.styleOrigin&&(U._set("styleOrigin",Object.freeze(g.clone(this.styleOrigin))),Object.freeze(P),Object.freeze(fa));U._set("uniqueValueInfos",
P);U._updateValueInfoMap();U._set("uniqueValueGroups",fa);U._isInfosSource=this._isInfosSource;U._watchUniqueValueInfosAndGroups();return U};X.collectRequiredFields=async function(U,P){U=[this.collectVVRequiredFields(U,P),this.collectSymbolFields(U,P)];await Promise.all(U)};X.collectSymbolFields=async function(U,P){const fa=[...this.getSymbols().map(Ba=>Ba.collectRequiredFields(U,P)),r.collectArcadeFieldNames(U,P,this.valueExpression)];r.collectField(U,P,this.field);r.collectField(U,P,this.field2);
r.collectField(U,P,this.field3);await Promise.all(fa)};X.populateFromStyle=function(){return K.fetchStyle(this.styleOrigin,{portal:this.portal}).then(U=>{const P=[];this._valueInfoMap={};U&&U.data&&Array.isArray(U.data.items)&&U.data.items.forEach(fa=>{var Ba=new M({styleUrl:U.styleUrl,styleName:U.styleName,portal:this.portal,name:fa.name});this.defaultSymbol||fa.name!==U.data.defaultItem||(this.defaultSymbol=Ba,this._isDefaultSymbolDerived=!0);Ba=new y({value:fa.name,symbol:Ba});P.push(Ba);this._valueInfoMap[fa.name]=
Ba});this._set("uniqueValueInfos",Object.freeze(P));this._updateGroupsFromInfos(!0);this._isInfosSource=null;this._watchUniqueValueInfos();!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})};X._updateFieldDelimiter=function(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")};X._updateUniqueValues=function(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():
this._updateInfosFromGroups())};X._updateValueInfoMap=function(){this._valueInfoMap={};const {uniqueValueInfos:U}=this;if(U)for(const P of U)this._valueInfoMap[P.value+""]=P};X._watchUniqueValueInfosAndGroups=function(){this._watchUniqueValueInfos();this._watchUniqueValueGroups()};X._watchUniqueValueInfos=function(){this.removeHandles("uvInfos-watcher");const {uniqueValueInfos:U}=this;if(U){const P=[];for(const fa of U)P.push(p.watch(()=>({symbol:fa.symbol,value:fa.value,label:fa.label,description:fa.description}),
(Ba,Aa)=>{Ba!==Aa&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(P,"uvInfos-watcher")}};X._watchUniqueValueGroups=function(){this.removeHandles("uvGroups-watcher");const {uniqueValueGroups:U}=this;if(U){const P=[];for(const fa of U){P.push(p.watch(()=>({classes:fa.classes}),(Ba,Aa)=>{Ba!==Aa&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const Ba of fa.classes??[])P.push(p.watch(()=>({symbol:Ba.symbol,values:Ba.values,label:Ba.label,
description:Ba.description}),(Aa,ma)=>{Aa!==ma&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(P,"uvGroups-watcher")}};X._updateInfosFromGroups=function(){if(this.uniqueValueGroups){var U=[],{field:P,field2:fa,field3:Ba,fieldDelimiter:Aa,uniqueValueGroups:ma,valueExpression:ta}=this;if(P||ta){var ba=!(!P||!fa);for(const Fa of ma)for(const Na of Fa.classes??[]){const {symbol:Qa,label:I,values:S,description:qa}=Na;for(const W of S??[]){const {value:pa,value2:R,value3:Y}=
W;var ka=[pa];fa&&ka.push(R);Ba&&ka.push(Y);ka=ba?ka.join(Aa||""):ka[0];U.push(new y({symbol:Qa,label:I,value:ka,description:qa}))}}}this._set("uniqueValueInfos",U)}else this._set("uniqueValueInfos",null);this._updateValueInfoMap();this._watchUniqueValueInfos()};X._updateGroupsFromInfos=function(U=!1){if(this.uniqueValueInfos){var {field:P,field2:fa,valueExpression:Ba,fieldDelimiter:Aa,uniqueValueInfos:ma}=this;if((P||Ba)&&ma.length){var ta=!(!P||!fa),ba=ma.map(ka=>{const {symbol:Fa,label:Na,value:Qa,
description:I}=ka,[S,qa,W]=ta?Qa?.toString()?.split(Aa||"")||[]:[Qa];return new C({symbol:Fa,label:Na,description:I,values:[new B({value:S,value2:qa,value3:W})]})});ba=[new D({classes:ba})];U&&Object.freeze(ba);this._set("uniqueValueGroups",ba)}else this._set("uniqueValueGroups",[])}else this._set("uniqueValueGroups",null);this._watchUniqueValueGroups()};X._getUniqueValueInfo=function(U,P){return this.valueExpression?this._getUnqiueValueInfoForExpression(U,P):this._getUnqiueValueInfoForFields(U)};
X._getUnqiueValueInfoForExpression=function(U,P){const {viewingMode:fa,scale:Ba,spatialReference:Aa,arcade:ma}=P??{};var ta=this._cache.compiledFunc;P=ma.arcadeUtils;ta||(ta=P.createSyntaxTree(this.valueExpression),ta=P.createFunction(ta),this._cache.compiledFunc=ta);U=P.executeFunction(ta,P.createExecContext(U,P.getViewInfo({viewingMode:fa,scale:Ba,spatialReference:Aa})));return this._valueInfoMap[U+""]};X._getUnqiueValueInfoForFields=function(U){const P=this.field,fa=U.attributes;if("function"!==
typeof P&&this.field2){U=this.field2;var Ba=this.field3;const Aa=[];P&&Aa.push(fa[P]);U&&Aa.push(fa[U]);Ba&&Aa.push(fa[Ba]);Ba=Aa.join(this.fieldDelimiter||"")}else"function"===typeof P?Ba=P(U):P&&(Ba=fa[P]);return this._valueInfoMap[Ba+""]};V.fromPortalStyle=function(U,P){const fa=new H(P&&P.properties);fa._set("styleOrigin",Object.freeze({styleName:U}));fa._set("portal",P&&P.portal||z.getDefault());P=fa.populateFromStyle();P.catch(Ba=>{J.error(`#fromPortalStyle('${U}'[, ...])`,"Failed to create unique value renderer from style name",
Ba)});return P};V.fromStyleUrl=function(U,P){P=new H(P&&P.properties);P._set("styleOrigin",Object.freeze({styleUrl:U}));P=P.populateFromStyle();P.catch(fa=>{J.error(`#fromStyleUrl('${U}'[, ...])`,"Failed to create unique value renderer from style URL",fa)});return P};a._createClass(V,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"field",set:function(U){this._set("field",U);this._updateFieldDelimiter();this._updateUniqueValues()}},{key:"field2",set:function(U){this._set("field2",U);
this._updateFieldDelimiter();this._updateUniqueValues()}},{key:"field3",set:function(U){this._set("field3",U);this._updateUniqueValues()}},{key:"valueExpression",set:function(U){this._set("valueExpression",U);this._updateUniqueValues()}},{key:"defaultSymbol",set:function(U){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",U)}},{key:"fieldDelimiter",set:function(U){this._set("fieldDelimiter",U);this._updateUniqueValues()}},{key:"uniqueValueGroups",set:function(U){this.styleOrigin?J.error("#uniqueValueGroups\x3d",
"Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",U),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}},{key:"uniqueValueInfos",set:function(U){this.styleOrigin?J.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",U),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}},
{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return V}(w.VisualVariablesMixin(x));b.__decorate([t.property({readOnly:!0})],q.prototype,"_cache",null);b.__decorate([m.enumeration({uniqueValue:"unique-value"})],q.prototype,"type",void 0);b.__decorate([t.property(v.rendererBackgroundFillSymbolProperty)],q.prototype,"backgroundFillSymbol",void 0);b.__decorate([t.property({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],
q.prototype,"field",null);b.__decorate([k.cast("field")],q.prototype,"castField",null);b.__decorate([l.writer("field")],q.prototype,"writeField",null);b.__decorate([t.property({type:String,value:null,json:{write:!0}})],q.prototype,"field2",null);b.__decorate([t.property({type:String,value:null,json:{write:!0}})],q.prototype,"field3",null);b.__decorate([t.property({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],q.prototype,"orderByClassesEnabled",
void 0);b.__decorate([t.property({type:String,value:null,json:{write:!0}})],q.prototype,"valueExpression",null);b.__decorate([t.property({type:String,json:{write:!0}})],q.prototype,"valueExpressionTitle",void 0);b.__decorate([t.property({type:A.LegendOptions,json:{write:!0}})],q.prototype,"legendOptions",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],q.prototype,"defaultLabel",void 0);b.__decorate([t.property(u.deepMerge({...v.rendererSymbolProperty},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},
origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],q.prototype,"defaultSymbol",null);b.__decorate([t.property({type:String,value:null,json:{write:!0}})],q.prototype,"fieldDelimiter",null);b.__decorate([t.property({type:z,readOnly:!0})],q.prototype,"portal",void 0);b.__decorate([e.reader("portal",["styleName"])],q.prototype,"readPortal",null);b.__decorate([t.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],q.prototype,
"styleOrigin",void 0);b.__decorate([e.reader("styleOrigin",["styleName","styleUrl"])],q.prototype,"readStyleOrigin",null);b.__decorate([l.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],q.prototype,"writeStyleOrigin",null);b.__decorate([t.property({type:[D],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(N,V,X)=>(V.uniqueValueGroups||O(V)).map(U=>D.fromJSON(U,X))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],q.prototype,
"uniqueValueGroups",null);b.__decorate([t.property({type:[y],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],q.prototype,"uniqueValueInfos",null);return q=H=b.__decorate([d.subclass("esri.renderers.UniqueValueRenderer")],q)})},"esri/core/reactiveUtils":function(){define("exports ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,c,f,g,q,u){function p(d,l,n={}){return t(d,l,n,m)}
function t(d,l,n={},h){let r=null;const z=n.once?(x,w)=>{h(x)&&(f.removeMaybe(r),l(x,w))}:(x,w)=>{h(x)&&l(x,w)};r=q.watchTracked(d,z,n.sync,n.equals);n.initial&&(d=d(),z(d,d));return r}function k(d,l,n){if(g.isAborted(n))return Promise.reject(g.createAbortError());const h=d();if(l?.(h))return Promise.resolve(h);let r=null;return new Promise((z,x)=>{r=c.handlesGroup([g.onAbort(n,()=>{r=f.removeMaybe(r);x(g.createAbortError())}),t(d,w=>{r=f.removeMaybe(r);z(w)},{sync:!1,once:!0},l??m)])})}function m(d){return!0}
function e(d){return!!d}a.autorun=u.autorun;a.initial={initial:!0};a.on=function(d,l,n,h={}){function r(){x&&w&&(w.remove(),h.onListenerRemove?.(x),w=x=null)}function z(B){h.once&&h.once&&f.removeMaybe(v);n(B)}let x=null,w=null,v=null;const A=p(d,(B,C)=>{r();b.isEventTarget(B)&&(x=B,w=b.on(B,l,z),h.onListenerAdd?.(B))},{sync:h.sync,initial:!0});return v=c.makeHandle(()=>{A.remove();r()})};a.once=function(d,l){return k(d,null,l)};a.pausable=function(d,l,n={}){let h=!1;const r=p(d,(z,x)=>{h||l(z,x)},
n);return{remove(){r.remove()},pause(){h=!0},resume(){h=!1}}};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=p;a.when=function(d,l,n={}){return t(d,l,n,e)};a.whenOnce=function(d,l){return k(d,e,l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../Accessor","../Collection","./utils"],function(a,b,c,f){function g(d){return d instanceof c?Object.keys(d.items):d instanceof b?f.getProperties(d).keys():
d?Object.keys(d):[]}function q(d,l){return d instanceof c?d.items[l]:d[l]}function u(d,l){return Array.isArray(d)&&Array.isArray(l)?d.length!==l.length:!1}function p(d){return d?d.declaredClass:null}function t(d,l){const n=d.diff;if(n&&"function"===typeof n)return n(d,l);const h=g(d),r=g(l);if(0!==h.length||0!==r.length){if(!h.length||!r.length||u(d,l))return{type:"complete",oldValue:d,newValue:l};var z=r.filter(v=>!h.includes(v)),x=h.filter(v=>!r.includes(v));x=h.filter(v=>r.includes(v)&&q(d,v)!==
q(l,v)).concat(z,x).sort();if((z=p(d))&&e.includes(z)&&x.length)return{type:"complete",oldValue:d,newValue:l};var w;z=d instanceof b&&l instanceof b;for(const v of x){x=q(d,v);const A=q(l,v);if((z||"function"!==typeof x&&"function"!==typeof A)&&x!==A&&(null!=x||null!=A)){if(n&&n[v]&&"function"===typeof n[v])x=n[v]?.(x,A);else if(x instanceof Date&&A instanceof Date){if(x.getTime()===A.getTime())continue;x={type:"complete",oldValue:x,newValue:A}}else x="object"===typeof x&&"object"===typeof A&&p(x)===
p(A)?t(x,A):{type:"complete",oldValue:x,newValue:A};null!=x&&(null!=w?w.diff[v]=x:w={type:"partial",diff:{[v]:x}})}}return w}}function k(d,l){if(null==d)return!1;l=l.split(".");for(const n of l){if("complete"===d.type)break;if("partial"===d.type){if(d=d.diff[n],!d)return!1}else return!1}return!0}function m(d){if(null==d)return!0;switch(d.type){case "complete":return!1;case "collection":for(const l of d.added)if(!m(l))return!1;for(const l of d.removed)if(!m(l))return!1;for(const l of d.changed)if(!m(l))return!1;
return!0;case "partial":for(const l in d.diff)if(!m(d.diff[l]))return!1;return!0}}const e=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];a.diff=function(d,l){if("function"!==typeof d&&"function"!==typeof l&&(null!=d||null!=l))return null==d||null==l||"object"===typeof d&&"object"===typeof l&&p(d)!==p(l)?{type:"complete",oldValue:d,newValue:l}:t(d,l)};a.hasDiff=k;a.hasDiffAny=function(d,l){for(const n of l)if(k(d,
n))return!0;return!1};a.isEmpty=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/UniqueValue":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,c,f,g,q,u,p,t,k){c=function(m){function e(d){d=
m.call(this,d)||this;d.value=null;d.value2=null;d.value3=null;return d}a._inherits(e,m);return a._createClass(e)}(c.ClonableMixin(f.JSONSupport));b.__decorate([g.property(k.uniqueValueProperty)],c.prototype,"value",void 0);b.__decorate([g.property(k.uniqueValueProperty)],c.prototype,"value2",void 0);b.__decorate([g.property(k.uniqueValueProperty)],c.prototype,"value3",void 0);return c=b.__decorate([t.subclass("esri.renderers.support.UniqueValue")],c)})},"esri/renderers/support/UniqueValueClass":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/arrayUtils ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties ./UniqueValue".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){f=function(e){function d(l){l=e.call(this,l)||this;l.description=null;l.label=null;l.symbol=null;l.values=null;return l}a._inherits(d,e);d.prototype.castValues=function(l){if(null==l)return null;l=Array.isArray(l)?l:[l];const n=typeof l[0];return"string"===n||"number"===n?l.map(h=>new m({value:h})):"object"===n?l[0]instanceof m?l:l.map(h=>new m(h)):null};return a._createClass(d)}(f.ClonableMixin(g.JSONSupport));b.__decorate([q.property({type:String,json:{write:!0}})],
f.prototype,"description",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"label",void 0);b.__decorate([q.property(k.rendererSymbolProperty)],f.prototype,"symbol",void 0);b.__decorate([q.property({type:[m],json:{type:[[String]],read:{reader:e=>e?e.map(d=>new m({value:d[0],value2:d[1],value3:d[2]})):null},write:{writer:(e,d)=>{const l=[];for(const n of e)e=[n.value,n.value2,n.value3].filter(c.isSome).map(h=>h.toString()),l.push(e);d.values=l}}}})],f.prototype,"values",
void 0);b.__decorate([u.cast("values")],f.prototype,"castValues",null);return f=b.__decorate([t.subclass("esri.renderers.support.UniqueValueClass")],f)})},"esri/renderers/support/UniqueValueGroup":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./UniqueValueClass".split(" "),
function(a,b,c,f,g,q,u,p,t,k){c=function(m){function e(d){d=m.call(this,d)||this;d.heading=null;d.classes=null;return d}a._inherits(e,m);return a._createClass(e)}(c.ClonableMixin(f.JSONSupport));b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"heading",void 0);b.__decorate([g.property({type:[k],json:{write:!0}})],c.prototype,"classes",void 0);return c=b.__decorate([t.subclass("esri.renderers.support.UniqueValueGroup")],c)})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;c=k=function(m){function e(l){l=m.call(this,l)||this;l.description=null;l.label=null;l.symbol=null;l.value=null;return l}a._inherits(e,m);var d=e.prototype;d.clone=function(){return new k({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};d.getMeshHash=function(){const l=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${l}`};return a._createClass(e)}(c.JSONSupport);b.__decorate([f.property({type:String,
json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([f.property(t.rendererSymbolProperty)],c.prototype,"symbol",void 0);b.__decorate([f.property(t.uniqueValueProperty)],c.prototype,"value",void 0);return c=k=b.__decorate([p.subclass("esri.renderers.support.UniqueValueInfo")],c)})},"esri/symbols/support/styleUtils":function(){define("exports ../../request ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags".split(" "),
function(a,b,c,f,g,q,u,p){async function t(d,l){try{return{data:(await e(d,l)).data,baseUrl:g.removeFile(d),styleUrl:d}}catch(n){return f.throwIfAbortError(n),null}}function k(d,l,n){l=null!=l.portal?l.portal:q.getDefault();let h;const r=`${l.url} - ${l.user&&l.user.username} - ${d}`;a.cachedStyles[r]||(a.cachedStyles[r]=m(d,l,n).then(z=>{h=z;return z.fetchData()}).then(z=>({data:z,baseUrl:h.itemUrl??"",styleName:d})));return a.cachedStyles[r]}function m(d,l,n){return l.load(n).then(()=>{const h=
new u({disableExtraQuery:!0,query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${d}"`});return l.queryItems(h,n)}).then(({results:h})=>{let r=null;const z=d.toLowerCase();if(h&&Array.isArray(h))for(const x of h)if(x.typeKeywords?.some(w=>w.toLowerCase()===z)&&"Style"===x.type&&"esri_en"===x.owner){r=x;break}if(!r)throw new c("symbolstyleutils:style-not-found",`The style '${d}' could not be found`,{styleName:d});return r.load(n)})}function e(d,l){l={responseType:"json",query:{f:"json"},
...l};return b(g.normalize(d),l)}a.cachedStyles={};a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";a.cleanupStyleUtilsCache=function(){a.cachedStyles&&(a.cachedStyles={})};a.fetchStyle=function(d,l,n){return d&&null!=d.styleUrl?t(d.styleUrl,n):d&&null!=d.styleName?k(d.styleName,l,n):Promise.reject(new c("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))};
a.makeCIMSymbolRef=function(d){return null===d||"CIMSymbolReference"===d.type?d:{type:"CIMSymbolReference",symbol:d}};a.requestJSON=e;a.symbolUrlFromStyleItem=function(d,l,n=["gltf"]){if("cimRef"===l)return d.cimRef;if(d.formatInfos&&!p.enableWebStyleForceWOSR())for(const h of n)if(l=d.formatInfos.find(r=>r.type===h))return l.href;return d.webRef};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/featureFlags":function(){define(["exports","../core/has"],function(a,b){const c=
()=>b.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0),f=()=>b.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),g=()=>b.add("enable-i3s-patching",!0,!0,!0),q=()=>b.add("enable-i3s-patching",!1,!0,!0),u=(p="i3s-patching")=>{q();f();b.add("enable-feature:SceneLayer-editing",!0,!0,!0);switch(p){case "feature-layer-view":c();break;case "i3s-patching":g()}};u("i3s-patching");a.direct3DObjectFeatureLayerDisplayEnabled=()=>!!b("enable-feature:direct-3d-object-feature-layer-display");
a.disableDirect3DObjectFeatureLayerDisplay=f;a.disableI3SPatching=q;a.disableIDBCache=()=>b.add("disable-feature:idb-cache",!0,!0,!0);a.disableSceneLayerEditing=()=>{q();f();b.add("enable-feature:SceneLayer-editing",!1,!0,!0)};a.enableDirect3DObjectFeatureLayerDisplay=c;a.enableI3SPatching=g;a.enableSceneLayerEditing=u;a.enableWebStyleForceWOSR=()=>!!b("enable-feature:force-wosr");a.i3sPatchingEnabled=()=>!!b("enable-i3s-patching");a.sceneLayerEditingEnabled=()=>!!b("enable-feature:SceneLayer-editing");
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./types"],function(a,b,c,f){function g(u,p,t){return u?u&&(u.styleName||u.styleUrl)&&"uniqueValue"!==u.type?(t&&t.messages&&t.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+u.type+"'",{definition:u,context:t})),null):
q(u,p,t):null}const q=c.createTypeReader({types:f.rendererTypes});a.fromJSON=function(u,p){return g(u,null,p)};a.read=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/types":function(){define("exports ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../PieChartRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),function(a,b,c,f,g,q,u,p,t){const k={key:"type",base:u,typeMap:{simple:p,"unique-value":t,
"class-breaks":b,heatmap:g},errorContext:"renderer"};a.rendererTypes={key:"type",base:u,typeMap:{heatmap:g,simple:p,"unique-value":t,"class-breaks":b,"dot-density":f,dictionary:c,"pie-chart":q},errorContext:"renderer"};a.webSceneRendererTypes=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t){const k=e=>{e=function(d){function l(...h){return d.call(this,...h)||this}b._inherits(l,d);var n=l.prototype;n.clear=function(h,r="user"){return u.getProperties(this).store.delete(h,q.nameToId(r))};n.write=function(h,r){h=h||{};p.write(this,h,r);return h};n.setAtOrigin=function(h,r,z){u.getProperties(this).setAtOrigin(h,r,q.nameToId(z))};n.removeOrigin=function(h){const r=u.getProperties(this).store;h=q.nameToId(h);const z=r.keys(h);for(const x of z)r.originOf(x)===h&&
r.set(x,r.get(x,h),q.OriginId.USER)};n.updateOrigin=function(h,r){const z=u.getProperties(this).store;r=q.nameToId(r);const x=this.get(h);for(let w=r+1;w<q.OriginIdNum;++w)z.delete(h,w);z.set(h,x,r)};n.toJSON=function(h){return this.write({},h)};return b._createClass(l)}(e);e=c.__decorate([t.subclass("esri.core.WriteableMultiOriginJSONSupport")],e);e.prototype.toJSON.isDefaultToJSON=!0;return e},m=e=>{e=function(d){function l(...n){return d.call(this,...n)||this}b._inherits(l,d);return b._createClass(l)}(k(g.ReadOnlyMultiOriginJSONMixin(e)));
return e=c.__decorate([t.subclass("esri.core.MultiOriginJSONSupport")],e)};a.MultiOriginJSONSupport=function(e){function d(){return e.apply(this,arguments)||this}b._inherits(d,e);return b._createClass(d)}(m(f));a.MultiOriginJSONSupport=c.__decorate([t.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/defaultsStoreUtils ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){const e=d=>{d=function(l){function n(...r){r=l.call(this,...r)||this;const z=g.assumeNonNull(k.getProperties(b._assertThisInitialized(r))),x=z.store,w=new u;z.store=w;q.setupConstructedDefaults(z,x,w);return r}b._inherits(n,l);var h=n.prototype;h.read=function(r,z){t.read(this,r,z)};h.getAtOrigin=function(r,z){const x=k.getProperties(this).store,w=p.nameToId(z);if("string"===typeof r)return x.get(r,w);const v={};r.forEach(A=>{v[A]=x.get(A,w)});return v};h.originOf=
function(r){return p.idToName(this.originIdOf(r))};h.originIdOf=function(r){return k.getProperties(this).store.originOf(r)};h.revert=function(r,z){const x=k.getProperties(this).store,w=p.nameToId(z),v=k.getProperties(this);("string"===typeof r?"*"===r?x.keys(w):[r]:r).forEach(A=>{v.invalidate(A);x.revert(A,w);v.commit(A)})};return b._createClass(n)}(d);return d=c.__decorate([m.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],d)};a.ReadOnlyMultiOriginJSONSupport=function(d){function l(){return d.apply(this,
arguments)||this}b._inherits(l,d);return b._createClass(l)}(e(f));a.ReadOnlyMultiOriginJSONSupport=c.__decorate([m.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../../chunks/_rollupPluginBabelHelpers","../lang","../maybe","./PropertyOrigin"],function(a,b,c,f){return function(){function g(){this._propertyOriginMap=
new Map;this._originStores=Array(f.OriginIdNum);this._values=new Map;this.multipleOriginsSupported=!0}var q=g.prototype;q.clone=function(u){const p=new g;var t=this._originStores[f.OriginId.DEFAULTS];t&&t.forEach((k,m)=>{p.set(m,b.clone(k),f.OriginId.DEFAULTS)});for(let k=f.OriginId.SERVICE;k<f.OriginIdNum;k++)(t=this._originStores[k])&&t.forEach((m,e)=>{u&&u.has(e)||p.set(e,b.clone(m),k)});return p};q.get=function(u,p){return(p=void 0===p?this._values:this._originStores[p])?p.get(u):void 0};q.keys=
function(u){return(u=null==u?this._values:this._originStores[u])?[...u.keys()]:[]};q.set=function(u,p,t=f.OriginId.USER){var k=this._originStores[t];k||(k=new Map,this._originStores[t]=k);k.set(u,p);return!this._values.has(u)||c.assumeNonNull(this._propertyOriginMap.get(u))<=t?(k=this._values.get(u),this._values.set(u,p),this._propertyOriginMap.set(u,t),k!==p):!1};q.delete=function(u,p=f.OriginId.USER){var t=this._originStores[p];if(t){var k=t.get(u);t.delete(u);if(this._values.has(u)&&this._propertyOriginMap.get(u)===
p)for(this._values.delete(u),--p;0<=p;p--)if((t=this._originStores[p])&&t.has(u)){this._values.set(u,t.get(u));this._propertyOriginMap.set(u,p);break}return k}};q.has=function(u,p){return(p=void 0===p?this._values:this._originStores[p])?p.has(u):!1};q.revert=function(u,p){for(;0<p&&!this.has(u,p);)--p;var t=this._originStores[p];t=t&&t.get(u);const k=this._values.get(u);this._values.set(u,t);this._propertyOriginMap.set(u,p);return k!==t};q.originOf=function(u){return this._propertyOriginMap.get(u)||
f.OriginId.DEFAULTS};q.forEach=function(u){this._values.forEach(u)};return a._createClass(g)}()})},"esri/core/sql":function(){define(["require","exports"],function(a,b){b.parseWhereClause=async function(c,f){const {WhereClause:g}=await new Promise((q,u)=>a(["./sql/WhereClause"],q,u));return g.create(c,f)};b.sqlAnd=function(c,f){return null!=c?null!=f?`(${c}) AND (${f})`:c:f};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/form/FormTemplate":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/elements".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;const l=e.buildTypeMaps(m);c=d=function(n){function h(z){z=n.call(this,z)||this;z.description=null;z.elements=null;z.expressionInfos=null;z.preserveFieldValuesWhenHidden=!1;z.title=null;return z}a._inherits(h,n);var r=h.prototype;r.castElements=function(z){return e.ensureType(z,l)};r.readElements=function(z,x){return e.fromJSON(x.formElements,l)};r.writeElements=function(z,x){x.formElements=e.toJSON(z,l)};r.clone=function(){return new d({description:this.description,
expressionInfos:f.clone(this.expressionInfos),elements:f.clone(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})};return a._createClass(h)}(c.JSONSupport);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([g.property({json:{write:!0}})],c.prototype,"elements",void 0);b.__decorate([q.cast("elements")],c.prototype,"castElements",null);b.__decorate([u.reader("elements",["formElements"])],c.prototype,
"readElements",null);b.__decorate([t.writer("elements")],c.prototype,"writeElements",null);b.__decorate([g.property({type:[k],json:{write:!0}})],c.prototype,"expressionInfos",void 0);b.__decorate([g.property({type:Boolean,json:{default:!1,write:!0}})],c.prototype,"preserveFieldValuesWhenHidden",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=d=b.__decorate([p.subclass("esri.form.FormTemplate")],c)})},"esri/form/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(e){e=k.call(this,e)||this;e.expression=null;e.name=null;e.returnType="boolean";e.title=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return a._createClass(m)}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,
"name",void 0);b.__decorate([f.property({type:["boolean","date","number","string"],json:{write:!0}})],c.prototype,"returnType",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=t=b.__decorate([p.subclass("esri.form.ExpressionInfo")],c)})},"esri/form/elements/GroupElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./Element ../support/elements".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;t=m=function(d){function l(h){h=d.call(this,h)||this;h.elements=null;h.initialState="expanded";h.type="group";return h}a._inherits(l,d);var n=l.prototype;n.castElements=function(h){return k.ensureType(h,e,!1)};n.readElements=function(h,r){return k.fromJSON(r.formElements,e,!1)};n.writeElements=function(h,r){r.formElements=k.toJSON(h,e,!1)};n.clone=function(){return new m({description:this.description,elements:c.clone(this.elements),initialState:this.initialState,
label:this.label,visibilityExpression:this.visibilityExpression})};return a._createClass(l)}(t);b.__decorate([f.property({json:{write:!0}})],t.prototype,"elements",void 0);b.__decorate([g.cast("elements")],t.prototype,"castElements",null);b.__decorate([q.reader("elements",["formElements"])],t.prototype,"readElements",null);b.__decorate([p.writer("elements")],t.prototype,"writeElements",null);b.__decorate([f.property({type:["collapsed","expanded"],json:{write:!0}})],t.prototype,"initialState",void 0);
b.__decorate([f.property({type:String,json:{read:!1,write:!0}})],t.prototype,"type",void 0);t=m=b.__decorate([u.subclass("esri.form.elements.GroupElement")],t);const e=k.buildTypeMaps(t);return t})},"esri/form/elements/Element":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,c,f,g){c=function(q){function u(p){p=q.call(this,p)||
this;p.description=null;p.label=null;p.type=null;p.visibilityExpression=null;return p}a._inherits(u,q);return a._createClass(u)}(c.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([f.property()],c.prototype,"type",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],c.prototype,"visibilityExpression",void 0);return c=b.__decorate([g.subclass("esri.form.elements.Element")],
c)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement".split(" "),function(a,b,c,f,g,q){a.buildTypeMaps=function(u){return{typesWithGroup:{base:f,key:"type",typeMap:{attachment:c,field:g,group:u,relationship:q}},typesWithoutGroup:{base:f,key:"type",typeMap:{attachment:c,field:g,relationship:q}}}};a.ensureType=function(u,p,t=!0){return u?u.map(k=>
b.ensureOneOfType(t?p.typesWithGroup:p.typesWithoutGroup,k)):null};a.fromJSON=function(u,p,t=!0){if(!u)return null;const k=t?p.typesWithGroup.typeMap:p.typesWithoutGroup.typeMap;return u.filter(m=>k[m.type]).map(m=>k[m.type].fromJSON(m))};a.toJSON=function(u,p,t=!0){if(!u)return null;const k=t?p.typesWithGroup.typeMap:p.typesWithoutGroup.typeMap;return u.filter(m=>k[m.type]).map(m=>m.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Element ./inputs/AttachmentInput".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(d){d=m.call(this,d)||this;d.attachmentKeyword=null;d.editable=!0;d.input=null;d.type="attachment";return d}a._inherits(e,m);e.prototype.clone=function(){return new k({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})};return a._createClass(e)}(p);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,
"attachmentKeyword",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],f.prototype,"editable",void 0);b.__decorate([c.property({type:t,json:{read:{source:"inputType"},write:{target:"inputType"}}})],f.prototype,"input",void 0);b.__decorate([c.property({type:["attachment"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=k=b.__decorate([u.subclass("esri.form.elements.AttachmentElement")],f)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(e){e=k.call(this,e)||this;e.type=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({type:this.type})};return a._createClass(m)}(c.JSONSupport);b.__decorate([f.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],c.prototype,"type",void 0);return c=t=b.__decorate([p.subclass("esri.form.elements.inputs.AttachmentInput")],c)})},"esri/form/elements/FieldElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/deprecate ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Element ./support/inputs ../../layers/support/domains".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;const l=f.getLogger("esri.form.elements.FieldElement");f=d=function(n){function h(r){r=n.call(this,r)||this;r.domain=null;r.editableExpression=null;r.fieldName=null;r.hint=null;r.input=null;r.requiredExpression=null;r.type="field";r.valueExpression=null;return r}a._inherits(h,n);h.prototype.clone=function(){return new d({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,
hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})};a._createClass(h,[{key:"editable",get:function(){c.deprecatedProperty(l,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0});return this._get("editable")??!0},set:function(r){c.deprecatedProperty(l,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0});this._set("editable",r)}}]);return h}(k);
b.__decorate([g.property({types:e.types,json:{read:{reader:e.fromJSON},write:!0}})],f.prototype,"domain",void 0);b.__decorate([g.property({type:Boolean,json:{write:!0}})],f.prototype,"editable",null);b.__decorate([g.property({type:String,json:{write:!0}})],f.prototype,"editableExpression",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],f.prototype,"fieldName",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],f.prototype,"hint",void 0);b.__decorate([g.property({types:m.types,
json:{read:{source:"inputType"},write:{target:"inputType"}}})],f.prototype,"input",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],f.prototype,"requiredExpression",void 0);b.__decorate([g.property({type:String,json:{read:!1,write:!0}})],f.prototype,"type",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0);return f=d=b.__decorate([t.subclass("esri.form.elements.FieldElement")],f)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/SwitchInput ../inputs/TextAreaInput ../inputs/TextBoxInput".split(" "),
function(a,b,c,f,g,q,u,p,t){a.types={base:g,key:"type",typeMap:{"barcode-scanner":b,"combo-box":c,"datetime-picker":f,"radio-buttons":q,switch:u,"text-area":p,"text-box":t}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(e){e=k.call(this,e)||this;e.type="barcode-scanner";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({maxLength:this.maxLength,minLength:this.minLength})};return a._createClass(m)}(p);b.__decorate([c.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=t=b.__decorate([u.subclass("esri.form.elements.inputs.BarcodeScannerInput")],f)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,f,g,q,u,p){f=function(t){function k(m){m=t.call(this,m)||this;m.maxLength=null;m.minLength=0;return m}a._inherits(k,t);return a._createClass(k)}(p);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"maxLength",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],f.prototype,"minLength",void 0);return f=b.__decorate([u.subclass("esri.form.elements.inputs.TextInput")],f)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){c=function(t){function k(m){m=t.call(this,m)||this;m.type=null;return m}a._inherits(k,t);return a._createClass(k)}(c.JSONSupport);b.__decorate([f.property()],c.prototype,"type",void 0);return c=b.__decorate([p.subclass("esri.form.elements.inputs.Input")],c)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(e){e=k.call(this,e)||this;e.noValueOptionLabel=null;e.showNoValueOption=!0;e.type="combo-box";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})};return a._createClass(m)}(p);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],f.prototype,
"showNoValueOption",void 0);b.__decorate([c.property({type:["combo-box"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=t=b.__decorate([u.subclass("esri.form.elements.inputs.ComboBoxInput")],f)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,f,g,q,u,p,t,k){function m(d){return null!=d?new Date(d):null}var e;f=e=function(d){function l(h){h=d.call(this,h)||this;h.includeTime=!1;h.max=null;h.min=null;h.type="datetime-picker";return h}a._inherits(l,d);var n=l.prototype;n.readMax=function(h,r){return m(r.max)};n.writeMax=function(h,r){r.max=h?h.getTime():null};n.readMin=function(h,r){return m(r.min)};n.writeMin=function(h,r){r.min=h?h.getTime():null};n.clone=function(){return new e({includeTime:this.includeTime,max:this.max,
min:this.min})};return a._createClass(l)}(k);b.__decorate([c.property({type:Boolean,json:{write:!0}})],f.prototype,"includeTime",void 0);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],f.prototype,"max",void 0);b.__decorate([u.reader("max")],f.prototype,"readMax",null);b.__decorate([t.writer("max")],f.prototype,"writeMax",null);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],f.prototype,"min",void 0);b.__decorate([u.reader("min")],f.prototype,"readMin",null);
b.__decorate([t.writer("min")],f.prototype,"writeMin",null);b.__decorate([c.property({type:["datetime-picker"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=e=b.__decorate([p.subclass("esri.form.elements.inputs.DateTimePickerInput")],f)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(e){e=k.call(this,e)||this;e.noValueOptionLabel=null;e.showNoValueOption=!0;e.type="radio-buttons";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})};return a._createClass(m)}(p);b.__decorate([c.property({type:String,json:{write:!0}})],f.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],f.prototype,
"showNoValueOption",void 0);b.__decorate([c.property({type:["radio-buttons"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=t=b.__decorate([u.subclass("esri.form.elements.inputs.RadioButtonsInput")],f)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(e){e=k.call(this,e)||this;e.offValue=null;e.onValue=null;e.type="switch";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({offValue:this.offValue,onValue:this.onValue})};return a._createClass(m)}(p);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],f.prototype,"offValue",void 0);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],f.prototype,"onValue",void 0);b.__decorate([c.property({type:["switch"],
json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=t=b.__decorate([u.subclass("esri.form.elements.inputs.SwitchInput")],f)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),function(a,b,c,f,g,q,u,p){var t;
f=t=function(k){function m(e){e=k.call(this,e)||this;e.type="text-area";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({maxLength:this.maxLength,minLength:this.minLength})};return a._createClass(m)}(p);b.__decorate([c.property({type:["text-area"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=t=b.__decorate([u.subclass("esri.form.elements.inputs.TextAreaInput")],f)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(e){e=k.call(this,e)||this;e.type="text-box";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({maxLength:this.maxLength,minLength:this.minLength})};return a._createClass(m)}(p);b.__decorate([c.property({type:["text-box"],json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=t=b.__decorate([u.subclass("esri.form.elements.inputs.TextBoxInput")],f)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,c,f,g,q){b={key:"type",base:f,typeMap:{range:q,"coded-value":c,inherited:g}};a.CodedValueDomain=c;a.DomainBase=f;a.InheritedDomain=g;a.RangeDomain=q;a.fromJSON=function(u){if(!u||!u.type)return null;switch(u.type){case "range":return q.fromJSON(u);case "codedValue":return c.fromJSON(u);case "inherited":return g.fromJSON(u)}return null};a.types=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;g=k=function(m){function e(l){l=m.call(this,l)||this;l.codedValues=null;l.type="coded-value";return l}a._inherits(e,m);var d=e.prototype;d.getName=function(l){let n=null;if(this.codedValues){const h=String(l);this.codedValues.some(r=>{String(r.code)===h&&(n=r.name);return!!n})}return n};d.clone=function(){return new k({codedValues:c.clone(this.codedValues),name:this.name})};return a._createClass(e)}(t);b.__decorate([f.property({type:[p.CodedValue],json:{write:!0}})],
g.prototype,"codedValues",void 0);b.__decorate([q.enumeration({codedValue:"coded-value"})],g.prototype,"type",void 0);return g=k=b.__decorate([u.subclass("esri.layers.support.CodedValueDomain")],g)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;a.CodedValue=k=function(m){function e(d){d=m.call(this,d)||this;d.name=null;d.code=null;return d}b._inherits(e,m);e.prototype.clone=function(){return new k({name:this.name,code:this.code})};return b._createClass(e)}(f.JSONSupport);c.__decorate([g.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);c.__decorate([g.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=k=c.__decorate([t.subclass("esri.layers.support.CodedValue")],
a.CodedValue);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t,k){c=new c.JSONMap({inherited:"inherited",
codedValue:"coded-value",range:"range"});f=function(m){function e(d){d=m.call(this,d)||this;d.name=null;d.type=null;return d}a._inherits(e,m);return a._createClass(e)}(f.JSONSupport);b.__decorate([g.property({type:String,json:{write:!0}})],f.prototype,"name",void 0);b.__decorate([t.enumeration(c)],f.prototype,"type",void 0);return f=b.__decorate([k.subclass("esri.layers.support.Domain")],f)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;c=m=function(e){function d(l){l=e.call(this,l)||this;l.type="inherited";return l}a._inherits(d,e);d.prototype.clone=function(){return new m};return a._createClass(d)}(k);b.__decorate([p.enumeration({inherited:"inherited"})],c.prototype,"type",void 0);return c=m=b.__decorate([t.subclass("esri.layers.support.InheritedDomain")],c)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(d){d=m.call(this,d)||this;d.maxValue=null;d.minValue=null;d.type="range";return d}a._inherits(e,m);e.prototype.clone=function(){return new k({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return a._createClass(e)}(t);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(m,e){return e.range&&e.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},
target:"range",writer(m,e,d){e[d]=[this.minValue||0,m]}}}})],f.prototype,"maxValue",void 0);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(m,e){return e.range&&e.range[0]}},write:{target:"range",writer(m,e,d){e[d]=[m,this.maxValue||0]}}}})],f.prototype,"minValue",void 0);b.__decorate([u.enumeration({range:"range"})],f.prototype,"type",void 0);return f=k=b.__decorate([p.subclass("esri.layers.support.RangeDomain")],f)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,f,g,q,u,p){var t;g=t=function(k){function m(e){e=k.call(this,e)||this;e.displayCount=null;e.displayType="list";e.editableExpression=null;e.orderByFields=null;e.relationshipId=null;e.type="relationship";return e}a._inherits(m,k);m.prototype.clone=function(){return new t({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:c.clone(this.orderByFields),relationshipId:this.relationshipId,
visibilityExpression:this.visibilityExpression})};return a._createClass(m)}(u);b.__decorate([f.property({type:Number,json:{write:!0}})],g.prototype,"displayCount",void 0);b.__decorate([f.property({type:["list"],json:{write:!0}})],g.prototype,"displayType",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"editableExpression",void 0);b.__decorate([f.property({type:[p],json:{write:!0}})],g.prototype,"orderByFields",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],
g.prototype,"relationshipId",void 0);b.__decorate([f.property({type:["relationship"],json:{read:!1,write:!0}})],g.prototype,"type",void 0);return g=t=b.__decorate([q.subclass("esri.form.elements.RelationshipElement")],g)})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/HandleOwner ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C){let D=0;const y=m.getLogger("esri.layers.graphics.sources.MemorySource");a.MemorySource=function(G){function F(M){M=G.call(this,M)||this;M._idToClientGraphic=null;M.type="memory";return M}b._inherits(F,G);var K=F.prototype;K.load=function(M){this.addResolvingPromise(this._startWorker(null!=M?M.signal:null));return Promise.resolve(this)};K.destroy=function(){this._connection?.close();this._connection=null};K.applyEdits=function(M){return this.load().then(()=>
this._applyEdits(M))};K.openPorts=function(){return this.load().then(()=>this._connection.openPorts())};K.queryFeatures=async function(M,O={}){await this.load(O);O=await this._connection.invoke("queryFeatures",M?M.toJSON():null,O);w.applyFeatureSetZUnitScaling(M,this.layer.spatialReference,O);M=v.fromJSON(O);if(!this._requiresClientGraphicMapping())return M;O=this.layer.objectIdField;for(const H of M.features){const J=this._idToClientGraphic.get(H.attributes[O]);J&&(H.geometry=J.geometry)}M.geometryType=
this.layer.geometryType;return M};K.queryFeaturesJSON=async function(M,O={}){if(this._requiresClientGraphicMapping())throw new u("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(O);O=await this._connection.invoke("queryFeatures",M?M.toJSON():null,O);w.applyFeatureSetZUnitScaling(M,this.layer.spatialReference,O);return O};K.queryFeatureCount=function(M,O={}){return this.load(O).then(()=>this._connection.invoke("queryFeatureCount",
M?M.toJSON():null,O))};K.queryObjectIds=function(M,O={}){return this.load(O).then(()=>this._connection.invoke("queryObjectIds",M?M.toJSON():null,O))};K.queryExtent=function(M,O={}){return this.load(O).then(()=>this._connection.invoke("queryExtent",M?M.toJSON():null,O)).then(H=>({count:H.count,extent:A.fromJSON(H.extent)}))};K.querySnapping=function(M,O={}){return this.load(O).then(()=>this._connection.invoke("querySnapping",M,O))};K._applyEdits=async function(M){if(!this._connection)throw new u("feature-layer-source:edit-failure",
"Memory source not loaded");const O=this.layer.objectIdField;let H=null;const J=[],L=[];await Promise.all([this._prepareClientMapping(M.addFeatures,null),this._prepareClientMapping(M.updateFeatures,null)]);const N=P=>"objectId"in P&&null!=P.objectId?P.objectId:"attributes"in P&&null!=P.attributes[O]?P.attributes[O]:null;M.addFeatures&&(H=this._prepareAddFeatures(M.addFeatures));if(M.deleteFeatures)for(var V of M.deleteFeatures){const P=N(V);null!=P&&J.push(P)}V=M.updateFeatures&&this._idToClientGraphic?
new Map:null;if(M.updateFeatures)for(const P of M.updateFeatures)L.push(this._serializeFeature(P)),V&&(M=N(P),null!=M&&V.set(M,P));x.unapplyEditsZUnitScaling(H?H.features:null,L,this.layer.spatialReference);const {fullExtent:X,featureEditResults:U}=await this._connection.invoke("applyEdits",{adds:H?H.features:[],updates:L,deletes:J});this.fullExtent=X;H&&H.finish(U.uidToObjectId);this._updateClientGraphicIds(V,U);return this._createEditsResult(U)};K._prepareClientMapping=async function(M,O){if("mesh"===
this._layerOrSourceGeometryType&&null!=M){var H=[];for(const {geometry:J}of M)null==J||"mesh"!==J.type||J.hasExtent||J.loaded||H.push(J.load({signal:O}));H.length&&await Promise.all(H)}};K._updateClientGraphicIds=function(M,O){if(this._idToClientGraphic){if(M)for(const H of O.updateResults){if(!H.success)continue;const J=M.get(H.objectId);null!=J&&this._addIdToClientGraphic(J)}for(const H of O.deleteResults)H.success&&this._idToClientGraphic.delete(H.objectId)}};K._createEditsResult=function(M){return{addFeatureResults:M.addResults?
M.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:M.updateResults?M.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:M.deleteResults?M.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};K._createFeatureEditResult=function(M){const O=!0===M.success?null:M.error||{code:void 0,description:void 0};return{objectId:M.objectId,globalId:M.globalId,error:O?new u("feature-layer-source:edit-failure",
O.description,{code:O.code}):null}};K._prepareAddFeatures=function(M){const O=new Map,H=Array(M.length);let J=null;for(let N=0;N<M.length;N++){const V=M[N],X=this._serializeFeature(V);J||null==V.geometry||(J=V.geometry.type);H[N]=X;O.set(`${X.uid}`,V)}const L=this;return{features:H,inferredGeometryType:J,finish(N){const V=L.sourceJSON.objectIdField;for(const X in N){const U=N[X],P=O.get(X);P&&(P.attributes||(P.attributes={}),-1===U?delete P.attributes[V]:P.attributes[V]=U,L._addIdToClientGraphic(P))}}}};
K._addIdToClientGraphic=function(M){if(this._idToClientGraphic){var O=this.sourceJSON.objectIdField;O=M.attributes&&M.attributes[O];null!=O&&this._idToClientGraphic.set(O,M)}};K._requiresClientGraphicMapping=function(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)};K._geometryRequiresClientGraphicMapping=function(M){return this._geometryTypeRequiresClientGraphicMapping(M.type)};K._geometryTypeRequiresClientGraphicMapping=function(M){return"mesh"===M||"multipatch"===
M||"extent"===M};K._serializeFeature=function(M){const {attributes:O}=M;M=this._geometryForSerialization(M);const H=(D++).toString();return M?{uid:H,geometry:M.toJSON(),attributes:O}:{uid:H,attributes:O}};K._geometryForSerialization=function(M){({geometry:M}=M);return null==M?null:this._geometryRequiresClientGraphicMapping(M)?M.extent?B.fromExtent(M.extent):null:M};K._startWorker=async function(M){this._connection=await d.open("MemorySourceWorker",{strategy:t("feature-layers-workers")?"dedicated":
"local",signal:M});const {fields:O,spatialReference:H,objectIdField:J,hasM:L,hasZ:N,timeInfo:V}=this.layer;var X="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,M);const U=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",fa=>{y.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");fa.preventDefault()}));X={features:U.features,fields:O&&O.map(fa=>fa.toJSON()),geometryType:C.typeKebabDictionary.toJSON(this._workerGeometryType),
hasM:"mesh"!==this._layerOrSourceGeometryType&&L,hasZ:"mesh"===this._layerOrSourceGeometryType||N,objectIdField:J,spatialReference:X?null:H&&H.toJSON(),timeInfo:V?V.toJSON():null};M=await this._connection.invoke("load",X,{signal:M});for(var P of M.warnings)y.warn(P.message,{layer:this.layer,warning:P});M.featureErrors.length&&y.warn(`Encountered ${M.featureErrors.length} validation errors while loading features`,M.featureErrors);P=M.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(U.inferredGeometryType)&&
(P.geometryType=C.typeKebabDictionary.toJSON(U.inferredGeometryType));this.sourceJSON=P;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);U.finish(M.assignedObjectIds)};b._createClass(F,[{key:"_workerGeometryType",get:function(){const M=this.layer?.geometryType;return M?this._geometryTypeRequiresClientGraphicMapping(M)?"polygon":M:null}},{key:"_layerOrSourceGeometryType",get:function(){return this.layer?.geometryType??this.sourceJSON?.geometryType}}]);return F}(k.LoadableMixin(e.EsriPromiseMixin(p.HandleOwnerMixin(q))));
c.__decorate([r.shared({Type:g,ensureType:n.ensureType(g)})],a.MemorySource.prototype,"itemType",void 0);c.__decorate([l.property()],a.MemorySource.prototype,"type",void 0);c.__decorate([l.property({constructOnly:!0})],a.MemorySource.prototype,"layer",void 0);c.__decorate([l.property({readOnly:!0})],a.MemorySource.prototype,"_workerGeometryType",null);c.__decorate([l.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=c.__decorate([z.subclass("esri.layers.graphics.sources.MemorySource")],
a.MemorySource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/HandleOwner":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Handles ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./support/WatchUpdatingTracking".split(" "),function(a,b,c,f,g,q,u,p){const t=k=>{k=function(m){function e(){var d=m.apply(this,arguments)||this;d._handles=new g;d._updatingHandles=new p.WatchUpdatingTracking;return d}
b._inherits(e,m);e.prototype.destroy=function(){this.destroyed||(this._handles.destroy(),this._updatingHandles.destroy())};b._createClass(e,[{key:"handles",get:function(){return this._handles}},{key:"updatingHandles",get:function(){return this._updatingHandles}}]);return e}(k);c.__decorate([q.property({readOnly:!0})],k.prototype,"handles",null);c.__decorate([q.property({readOnly:!0})],k.prototype,"updatingHandles",null);return k=c.__decorate([u.subclass("esri.core.HandleOwner")],k)};a.HandleOwner=
function(k){function m(){return k.apply(this,arguments)||this}b._inherits(m,k);return b._createClass(m)}(t(f));a.HandleOwner=c.__decorate([u.subclass("esri.core.HandleOwner")],a.HandleOwner);a.HandleOwnerMixin=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/support/WatchUpdatingTracking":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../Accessor ../Handles ../handleUtils ../reactiveUtils ../scheduling ../accessorSupport/decorators/property ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k){a.WatchUpdatingTracking=function(m){function e(){var l=m.apply(this,arguments)||this;l.updating=!1;l._handleId=0;l._handles=new g;l._scheduleHandleId=0;l._pendingPromises=new Set;return l}b._inherits(e,m);var d=e.prototype;d.destroy=function(){this.removeAll();this._handles.destroy()};d.add=function(l,n,h={}){return this._installWatch(l,n,h,u.watch)};d.addWhen=function(l,n,h={}){return this._installWatch(l,n,h,u.when)};d.addOnCollectionChange=function(l,n,{initial:h=
!1,final:r=!1}={}){const z=++this._handleId;this._handles.add([u.on(l,"after-changes",this._createSyncUpdatingCallback(),u.sync),u.on(l,"change",n,{onListenerAdd:h?x=>n({added:x.toArray(),removed:[]}):void 0,onListenerRemove:r?x=>n({added:[],removed:x.toArray()}):void 0})],z);return q.makeHandle(()=>this._handles.remove(z))};d.addPromise=function(l){if(null==l)return l;const n=++this._handleId;this._handles.add({remove:()=>{this._pendingPromises.delete(l)&&(0!==this._pendingPromises.size||this._handles.has(-42)||
this._set("updating",!1))}},n);this._pendingPromises.add(l);this._set("updating",!0);const h=()=>this._handles.remove(n);l.then(h,h);return l};d.removeAll=function(){this._pendingPromises.clear();this._handles.removeAll();this._set("updating",!1)};d._installWatch=function(l,n,h={},r){const z=++this._handleId;h.sync||this._installSyncUpdatingWatch(l,z);l=r(l,n,h);this._handles.add(l,z);return q.makeHandle(()=>this._handles.remove(z))};d._installSyncUpdatingWatch=function(l,n){const h=this._createSyncUpdatingCallback();
l=u.watch(l,h,{sync:!0,equals:()=>!1});this._handles.add(l,n);return l};d._createSyncUpdatingCallback=function(){return()=>{this._handles.remove(-42);++this._scheduleHandleId;const l=this._scheduleHandleId;this._get("updating")||this._set("updating",!0);this._handles.add(p.schedule(()=>{l===this._scheduleHandleId&&(this._set("updating",0<this._pendingPromises.size),this._handles.remove(-42))}),-42)}};return b._createClass(e)}(f);c.__decorate([t.property({readOnly:!0})],a.WatchUpdatingTracking.prototype,
"updating",void 0);a.WatchUpdatingTracking=c.__decorate([k.subclass("esri.core.support.WatchUpdatingTracking")],a.WatchUpdatingTracking);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workers":function(){define("require exports ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),function(a,b,c,f,g,q,u,p){function t(z){if(z&&z.__esModule)return z;const x=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(z)for(const w in z)if("default"!==
w){const v=Object.getOwnPropertyDescriptor(z,w);Object.defineProperty(x,w,v.get?v:{enumerable:!0,get:()=>z[w]})}x.default=z;return Object.freeze(x)}async function k(z,x){const w=new q;await w.open(z,x);return w}async function m(){if(h)return h;r=new AbortController;const z=[];for(let x=0;x<d;x++){const w=p.create(x).then(v=>n[x]=v);z.push(w)}return h=Promise.all(z)}const e=f("host-browser")?Math.min(navigator.hardwareConcurrency-1,f("workers-pool-size")):0;let d=f("esri-mobile")?Math.min(e,3):e;d||
(d=f("safari")&&f("mac")?7:2);let l=0;const n=[];let h=null,r;b.Connection=q;b.RemoteClient=u;b.initialize=function(){m()};b.open=async function(z,x={}){if("string"!==typeof z)throw new c("workers:undefined-module","modulePath is missing");var w=x.strategy||"distributed";f("host-webworker")&&!f("esri-workers")&&(w="local");if("local"===w){var v=await u.loadWorker(z);v||(v=await new Promise((A,B)=>a([z],C=>A(t(C)),B)));g.throwIfAborted(x.signal);w=x.client||v;v=u.connect(v);return k([v],{...x,client:w})}await m();
g.throwIfAborted(x.signal);if("dedicated"===w)return w=l++%d,w=await n[w].open(z,x),k([w],x);if(x.maxNumWorkers&&0<x.maxNumWorkers&&(w=Math.min(x.maxNumWorkers,d),w<d)){v=Array(w);for(let A=0;A<w;++A){const B=l++%d;v[A]=n[B].open(z,x)}return k(v,x)}w=n.map(A=>A.open(z,x));return k(w,x)};b.openWithPorts=function(z,x){return k(z,{client:x})};b.terminate=function(){h&&(r.abort(),h=null);for(let z=0;z<n.length;z++)n[z]&&n[z].terminate();n.length=0};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/core/workers/Connection":function(){define("../../chunks/_rollupPluginBabelHelpers ../handleUtils ../Logger ../promiseUtils ../Queue ./RemoteClient".split(" "),function(a,b,c,f,g,q){return function(){function u(){this._inUseClients=[];this._clients=[];this._clientPromises=[];this._ongoingJobsQueue=new g}var p=u.prototype;p.destroy=function(){this.close()};p.open=function(t,k){return new Promise((m,e)=>{let d=!0;const l=n=>{f.throwIfAborted(k.signal);d&&(d=!1,n())};this._clients.length=t.length;
this._clientPromises.length=t.length;this._inUseClients.length=t.length;for(let n=0;n<t.length;++n){const h=t[n];f.isPromiseLike(h)?this._clientPromises[n]=h.then(r=>{this._clients[n]=new q(r,k,()=>this._ongoingJobsQueue.pop()??null);l(m);return this._clients[n]},()=>{l(e);return null}):(this._clients[n]=new q(h,k,()=>this._ongoingJobsQueue.pop()??null),this._clientPromises[n]=Promise.resolve(this._clients[n]),l(m))}})};p.broadcast=function(t,k,m){const e=Array(this._clientPromises.length);for(let d=
0;d<this._clientPromises.length;++d)e[d]=this._clientPromises[d].then(l=>l?.invoke(t,k,m));return e};p.close=function(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(f.createAbortError(`Worker closing, aborting job calling '${t.methodName}'`));for(const k of this._clientPromises)k.then(m=>m?.close());this._clients.length=0;this._clientPromises.length=0;this._inUseClients.length=0};p.invoke=function(t,k,m){let e;Array.isArray(m)?(c.getLogger("esri.core.workers.Connection").warn("invoke()",
"The transferList parameter is deprecated, use the options object instead"),e={transferList:m}):e=m;m=f.createResolver();this._ongoingJobsQueue.push({methodName:t,data:k,invokeOptions:e,resolver:m});for(t=0;t<this._clientPromises.length;t++)(k=this._clients[t])?k.jobAdded():this._clientPromises[t].then(d=>d?.jobAdded());return m.promise};p.on=function(t,k){return Promise.all(this._clientPromises).then(()=>b.handlesGroup(this._clients.map(m=>m.on(t,k))))};p.openPorts=function(){return new Promise(t=>
{const k=Array(this._clientPromises.length);let m=k.length;for(let e=0;e<this._clientPromises.length;++e)this._clientPromises[e].then(d=>{d&&(k[e]=d.openPort());0===--m&&t(k)})})};a._createClass(u,[{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"test",get:function(){return{numClients:this._clients.length}}}]);return u}()})},"esri/core/Queue":function(){define(["../chunks/_rollupPluginBabelHelpers","./maybe","./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],
function(a,b,c,f){return function(g){function q(p=t=>t.values().next().value){this._peeker=p;this._observable=new f.SimpleObservable;this._items=new Set}var u=q.prototype;u.clear=function(){0!==this.length&&(this._items.clear(),this._observable.notify())};u.last=function(){if(0!==this.length){for(var p of this._items);return p}};u.peek=function(){if(0!==this.length)return this._peeker(this._items)};u.push=function(p){this.contains(p)||(this._items.add(p),this._observable.notify())};u.contains=function(p){c.trackAccess(this._observable);
return this._items.has(p)};u.pop=function(){if(0!==this.length){var p=this.peek();this._items.delete(b.assumeNonNull(p));this._observable.notify();return p}};u.popLast=function(){if(0!==this.length){var p=this.last();this._items.delete(b.assumeNonNull(p));this._observable.notify();return p}};u.remove=function(p){this.contains(p)&&(this._items.delete(p),this._observable.notify())};u.filter=function(p){const t=this.length;this._items.forEach(k=>{p(k)||this._items.delete(k)});t!==this._items.size&&this._observable.notify();
return this};u[g]=function*(){c.trackAccess(this._observable);yield*this._items};a._createClass(q,[{key:"length",get:function(){c.trackAccess(this._observable);return this._items.size}}]);return q}(Symbol.iterator)})},"esri/core/workers/RemoteClient":function(){define("../../chunks/_rollupPluginBabelHelpers ../../kernel ../Error ../events ../maybe ../promiseUtils ./registry ./utils ../../support/revision".split(" "),function(a,b,c,f,g,q,u,p,t){const {CLOSE:k,ABORT:m,INVOKE:e,RESPONSE:d,OPEN_PORT:l,
ON:n}=p.MessageType;let h=function(){function z(w){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=w;this._timer=null;this._process=this._process.bind(this)}var x=z.prototype;x.push=function(w){w.type===p.MessageType.ABORT?this._cancelledJobIds.add(w.jobId):(this._invokeMessages.push(w),null===this._timer&&(this._timer=setTimeout(this._process,0)))};x.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};x._process=function(){this._timer=
null;for(const w of this._invokeMessages)this._cancelledJobIds.has(w.jobId)||this._invoke(w);this._cancelledJobIds.clear();this._invokeMessages.length=0};return a._createClass(z)}(),r=function(){function z(w,v,A){this._port=w;this._getNextJob=A;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new h(B=>this._onInvokeMessage(B));this._client=v.client;this._onMessage=this._onMessage.bind(this);this._channel=v.channel;this._schedule=v.schedule;this._port.addEventListener("message",this._onMessage);
this._port.start()}z.connect=function(w){const v=new MessageChannel;w="function"===typeof w?new w:"default"in w&&"function"===typeof w.default?new w.default:w;const A=new z(v.port1,{channel:v,client:w},()=>null);"object"===typeof w&&"remoteClient"in w&&(w.remoteClient=A);z.clients.set(A,w);return v.port2};z.loadWorker=function(w){return(w=u.registry[w])?w():Promise.resolve(null)};var x=z.prototype;x.close=function(){this._post({type:k});this._close()};x.isBusy=function(){return 0<this._outJobs.size};
x.invoke=function(w,v,A){const B=A?.signal,C=A?.transferList;if(!this._port)return Promise.reject(new c("worker:port-closed",`Cannot call invoke('${w}'), port is closed`,{methodName:w,data:v}));const D=p.newJobId();return new Promise((y,G)=>{if(q.isAborted(B))this._processWork(),G(q.createAbortError());else{var F=q.onAbort(B,()=>{const K=this._outJobs.get(D);K&&(this._outJobs.delete(D),this._processWork(),g.removeMaybe(K.abortHandle),this._post({type:m,jobId:D}),G(q.createAbortError()))});this._outJobs.set(D,
{resolve:y,reject:G,abortHandle:F,debugInfo:w});this._post({type:e,jobId:D,methodName:w,abortable:null!=B},v,C)}})};x.on=function(w,v){function A(C){v(C.data)}const B=new MessageChannel;this._port.postMessage({type:p.MessageType.ON,eventType:w,port:B.port2},[B.port2]);B.port1.addEventListener("message",A);B.port1.start();return{remove(){B.port1.postMessage({type:p.MessageType.CLOSE});B.port1.close();B.port1.removeEventListener("message",A)}}};x.jobAdded=function(){this._processWork()};x.openPort=
function(){const w=new MessageChannel;this._post({type:l,port:w.port2});return w.port1};x._processWork=function(){if(!(2<=this._outJobs.size)){var w=this._getNextJob();if(w){var {methodName:v,data:A,invokeOptions:B,resolver:C}=w;this.invoke(v,A,B).then(D=>C.resolve(D)).catch(D=>C.reject(D))}}};x._close=function(){this._channel&&(this._channel=void 0);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(w=>{g.removeMaybe(w.abortHandle);w.reject(q.createAbortError(`Worker closing, aborting job calling '${w.debugInfo}'`))});
this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._schedule=this._client=this._port=null};x._onMessage=function(w){null!=this._schedule?this._schedule(()=>this._processMessage(w)):this._processMessage(w)};x._processMessage=function(w){if(w=p.receiveMessage(w))switch(w.type){case d:this._onResponseMessage(w);break;case e:this._invokeQueue.push(w);break;case m:this._onAbortMessage(w);break;case k:this._onCloseMessage();break;case l:this._onOpenPortMessage(w);break;case n:this._onOnMessage(w)}};
x._onAbortMessage=function(w){const v=this._inJobs,A=w.jobId,B=v.get(A);this._invokeQueue.push(w);B&&(B.controller&&B.controller.abort(),v.delete(A))};x._onCloseMessage=function(){const w=this._client;this._close();w&&"destroy"in w&&z.clients.get(this)===w&&w.destroy();z.clients.delete(this);w?.remoteClient&&(w.remoteClient=null)};x._onInvokeMessage=function(w){const {methodName:v,jobId:A,data:B,abortable:C}=w;w=C?new AbortController:null;const D=this._inJobs;let y=this._client,G=y[v],F;try{if(!G&&
v&&v.includes(".")){const K=v.split(".");for(let M=0;M<K.length-1;M++)y=y[K[M]],G=y[K[M+1]]}if("function"!==typeof G)throw new TypeError(`${v} is not a function`);F=G.call(y,B,{client:this,signal:w?w.signal:null})}catch(K){this._post({type:d,jobId:A,error:p.toInvokeError(K)});return}q.isPromiseLike(F)?(D.set(A,{controller:w,promise:F}),F.then(K=>{D.has(A)&&(D.delete(A),this._post({type:d,jobId:A},K))},K=>{D.has(A)&&(D.delete(A),q.isAbortError(K)||this._post({type:d,jobId:A,error:p.toInvokeError(K||
{message:`Error encountered at method ${v}`})}))})):this._post({type:d,jobId:A},F)};x._onOpenPortMessage=function(w){new z(w.port,{client:this._client},()=>null)};x._onOnMessage=function(w){const {port:v}=w,A=this._client.on(w.eventType,C=>{v.postMessage(C)}),B=f.on(w.port,"message",C=>{p.receiveMessage(C)?.type===p.MessageType.CLOSE&&(B.remove(),A.remove(),v.close())})};x._onResponseMessage=function(w){const {jobId:v,error:A,data:B}=w;w=this._outJobs;if(w.has(v)){var C=w.get(v);w.delete(v);this._processWork();
g.removeMaybe(C.abortHandle);A?C.reject(c.fromJSON(JSON.parse(A))):C.resolve(B)}};x._post=function(w,v,A){return p.postMessage(this._port,w,v,A)};return a._createClass(z)}();r.kernelInfo={buildDate:t.buildDate,fullVersion:b.fullVersion,revision:t.commitHash};r.clients=new Map;return r})},"esri/core/workers/registry":function(){define(["require","exports"],function(a,b){const c=f=>Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));b.registry={statsWorker:()=>
new Promise((f,g)=>a(["../../smartMapping/statistics/support/statsWorker"],f,g)),geometryEngineWorker:()=>new Promise((f,g)=>a(["../../geometry/geometryEngineWorker"],f,g)),CSVSourceWorker:()=>new Promise((f,g)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],q=>f(c(q)),g)),EdgeProcessingWorker:()=>new Promise((f,g)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],q=>f(c(q)),g)),ElevationSamplerWorker:()=>new Promise((f,g)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],
q=>f(c(q)),g)),FeatureServiceSnappingSourceWorker:()=>new Promise((f,g)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],q=>f(c(q)),g)),GeoJSONSourceWorker:()=>new Promise((f,g)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],q=>f(c(q)),g)),LercWorker:()=>new Promise((f,g)=>a(["../../layers/support/LercWorker"],q=>f(c(q)),g)),MemorySourceWorker:()=>new Promise((f,g)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],
q=>f(c(q)),g)),PBFDecoderWorker:()=>new Promise((f,g)=>a(["../../views/3d/support/PBFDecoderWorker"],q=>f(c(q)),g)),Pipeline:()=>new Promise((f,g)=>a(["../../views/2d/layers/features/Pipeline"],q=>f(c(q)),g)),PointCloudWorker:()=>new Promise((f,g)=>a(["../../views/3d/layers/PointCloudWorker"],q=>f(c(q)),g)),RasterWorker:()=>new Promise((f,g)=>a(["../../layers/support/RasterWorker"],q=>f(c(q)),g)),SceneLayerSnappingSourceWorker:()=>new Promise((f,g)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],
q=>f(c(q)),g)),SceneLayerWorker:()=>new Promise((f,g)=>a(["../../views/3d/layers/SceneLayerWorker"],f,g)),WFSSourceWorker:()=>new Promise((f,g)=>a(["../../layers/graphics/sources/WFSSourceWorker"],q=>f(c(q)),g)),WorkerTileHandler:()=>new Promise((f,g)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],q=>f(c(q)),g))};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,b){function c(p){return p&&"object"===
typeof p&&("result"in p||"transferList"in p)}function f(p){return p?"string"===typeof p?JSON.stringify({name:"message",message:p}):p.toJSON?JSON.stringify(p):JSON.stringify({name:p.name,message:p.message,details:p.details||{stack:p.stack}}):null}function g(p,t,k,m){if(t.type===a.MessageType.OPEN_PORT)p.postMessage(t,[t.port]);else if(t.type!==a.MessageType.INVOKE&&t.type!==a.MessageType.RESPONSE)p.postMessage(t);else if(c(k)?(m=q(k.transferList),t.data=k.result):(m=q(m),t.data=k),m){if(b("ff"))for(const e of m)if("byteLength"in
e&&267386880<e.byteLength)switch(t.type){case a.MessageType.INVOKE:throw"Worker call with large ArrayBuffer would crash Firefox";case a.MessageType.RESPONSE:g(p,{type:a.MessageType.RESPONSE,jobId:t.jobId,error:f("Worker call with large ArrayBuffer would crash Firefox")});return}p.postMessage(t,m)}else p.postMessage(t)}function q(p){if(!p||!p.length)return null;if(b("esri-workers-arraybuffer-transfer"))return p;p=p.filter(t=>!(t instanceof ArrayBuffer||"ArrayBuffer"===t?.constructor?.name));return p.length?
p:null}a.MessageType=void 0;(function(p){p[p.HANDSHAKE=0]="HANDSHAKE";p[p.OPEN=1]="OPEN";p[p.OPENED=2]="OPENED";p[p.RESPONSE=3]="RESPONSE";p[p.INVOKE=4]="INVOKE";p[p.ABORT=5]="ABORT";p[p.CLOSE=6]="CLOSE";p[p.OPEN_PORT=7]="OPEN_PORT";p[p.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let u=0;a.isTranferableResult=c;a.newJobId=function(){return u++};a.postMessage=g;a.receiveMessage=function(p){return p?(p=p.data)?"string"===typeof p?JSON.parse(p):p:null:null};a.toInvokeError=f;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerOwner":function(){define("../../chunks/_rollupPluginBabelHelpers ../../kernel ../Error ../Logger ../maybe ../promiseUtils ./utils ./workerFactory".split(" "),function(a,b,c,f,g,q,u,p){const {ABORT:t,INVOKE:k,OPEN:m,OPENED:e,RESPONSE:d}=u.MessageType;return function(){function l(h,r){this._outJobs=new Map;this._inJobs=new Map;this.worker=h;this.id=r;h.addEventListener("message",this._onMessage.bind(this));h.addEventListener("error",z=>
{z.preventDefault();f.getLogger("esri.core.workers.WorkerOwner").error(z)})}l.create=async function(h){const r=await p.createWorker();return new l(r,h)};var n=l.prototype;n.terminate=function(){this.worker.terminate()};n.open=async function(h,r={}){const {signal:z}=r,x=u.newJobId();return new Promise((w,v)=>{const A=q.onAbortOrThrow(z,()=>{this._outJobs.delete(x);this._post({type:t,jobId:x})});this._outJobs.set(x,{resolve:w,reject:v,abortHandle:A});this._post({type:m,jobId:x,modulePath:h})})};n._onMessage=
function(h){if(h=u.receiveMessage(h))switch(h.type){case e:this._onOpenedMessage(h);break;case d:this._onResponseMessage(h);break;case t:this._onAbortMessage(h);break;case k:this._onInvokeMessage(h)}};n._onAbortMessage=function(h){const r=this._inJobs;h=h.jobId;const z=r.get(h);z&&(z.controller&&z.controller.abort(),r.delete(h))};n._onInvokeMessage=function(h){const {methodName:r,jobId:z,data:x,abortable:w}=h;h=w?new AbortController:null;const v=this._inJobs,A=b.workerMessages[r];let B;try{if("function"!==
typeof A)throw new TypeError(`${r} is not a function`);B=A.call(null,x,{signal:h?h.signal:null})}catch(C){this._post({type:d,jobId:z,error:u.toInvokeError(C)});return}q.isPromiseLike(B)?(v.set(z,{controller:h,promise:B}),B.then(C=>{v.has(z)&&(v.delete(z),this._post({type:d,jobId:z},C))},C=>{v.has(z)&&(v.delete(z),C||(C={message:"Error encountered at method"+r}),q.isAbortError(C)||this._post({type:d,jobId:z,error:u.toInvokeError(C||{message:`Error encountered at method ${r}`})}))})):this._post({type:d,
jobId:z},B)};n._onOpenedMessage=function(h){const {jobId:r,data:z}=h;if(h=this._outJobs.get(r))this._outJobs.delete(r),g.removeMaybe(h.abortHandle),h.resolve(z)};n._onResponseMessage=function(h){const {jobId:r,error:z,data:x}=h;if(h=this._outJobs.get(r))this._outJobs.delete(r),g.removeMaybe(h.abortHandle),z?h.reject(c.fromJSON(JSON.parse(z))):h.resolve(x)};n._post=function(h,r,z){return u.postMessage(this.worker,h,r,z)};return a._createClass(l)}()})},"esri/core/workers/workerFactory":function(){define("exports ../../assets ../../config ../../intl ../../kernel ../has ../Logger ../urlUtils ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d){async function l(w){return new Promise(v=>{function A(C){(C=k.receiveMessage(C))&&C.type===h&&(w.removeEventListener("message",A),w.removeEventListener("error",B),v(w))}function B(C){C.preventDefault();w.removeEventListener("message",A);w.removeEventListener("error",B);n.warn("Failed to create Worker. Fallback to execute module in main thread",C);w=new m;w.addEventListener("message",A);w.addEventListener("error",B)}w.addEventListener("message",A);w.addEventListener("error",
B)})}const n=u.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:h}=k.MessageType;let r,z,x=0;a.createWorker=async function(){if(!q("esri-workers")||(q("mozilla"),0))return l(new m);if(!r&&!z)try{var w=["let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3dJSON.parse(",');self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;return new Promise(((r,s)\x3d\x3e{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!\x3dt,data:o})}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,fullVersion:r}\x3dconfiguration.kernelInfo,{revision:t,fullVersion:n,version:s}\x3de.kernelInfo;esriConfig.assetsPath!\x3d\x3desriConfig.defaultAssetsPath\x26\x26o!\x3d\x3dt\x26\x26console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case OPEN:let n;function t(e){const o\x3dn.connect(e);self.postMessage({type:OPENED,jobId:r,data:o},[o])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((e\x3d\x3e(n\x3de.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case RESPONSE:if(outgoing.has(r)){const s\x3doutgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'],
v=w.join;let C;if(null!=c["default"]){const F={...c};delete F["default"];C=JSON.parse(JSON.stringify(F))}else C=JSON.parse(JSON.stringify(c));C.assetsPath=p.makeAbsolute(C.assetsPath);C.defaultAssetsPath=C.defaultAssetsPath?p.makeAbsolute(C.defaultAssetsPath):void 0;C.request.interceptors=[];C.log.interceptors=[];C.locale=e.getLocale();C.has={"esri-csp-restrictions":q("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":q("esri-2d-update-debug"),"esri-2d-log-updating":q("esri-2d-log-updating"),
"featurelayer-pbf":q("featurelayer-pbf"),"featurelayer-simplify-thresholds":q("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":q("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":q("featurelayer-simplify-mobile-factor"),"esri-atomics":q("esri-atomics"),"esri-shared-array-buffer":q("esri-shared-array-buffer"),"esri-tiles-debug":q("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":q("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":q("feature-polyline-generalization-factor"),
"host-webworker":1,"polylabel-placement-enabled":q("polylabel-placement-enabled")};C.workers.loaderUrl?C.workers.loaderUrl=p.makeAbsolute(C.workers.loaderUrl):t.DEFAULT_LOADER_URL&&(C.workers.loaderUrl=t.DEFAULT_LOADER_URL);C.workers.workerPath=C.workers.workerPath?p.makeAbsolute(C.workers.workerPath):"esri/core/workers/RemoteClient";C.workers.useDynamicImport=!1;const D=c.workers.loaderConfig,y=t.loaderConfig({baseUrl:D?.baseUrl,locale:e.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,
"host-webworker":1,...D?.has},map:{...D?.map},paths:{...D?.paths},packages:D?.packages||[]});var A=JSON.stringify({esriConfig:C,loaderConfig:y,kernelInfo:{buildDate:d.buildDate,fullVersion:g.fullVersion,revision:d.commitHash}});const G=v.call(w,`'${A}'`);r=URL.createObjectURL(new Blob([G],{type:"text/javascript"}))}catch(C){z=C||{}}let B;if(r)try{B=new Worker(r,{name:`esri-worker-${x++}`})}catch(C){n.warn("Failed to create Worker. Fallback to execute module in main thread",z),B=new m}else n.warn("Failed to create Worker. Fallback to execute module in main thread",
z),B=new m;return l(B)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),function(a,b,c,f,g,q,u,p){q.registerMessageBundleLoader(u.createJSONLoader({pattern:"esri/",location:p.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.convertNumberFormatToIntlOptions=c.convertNumberFormatToIntlOptions;
a.formatNumber=c.formatNumber;a.substitute=f.substitute;a.getLocale=g.getLocale;a.onLocaleChange=g.onLocaleChange;a.prefersRTL=g.prefersRTL;a.setLocale=g.setLocale;a.fetchMessageBundle=q.fetchMessageBundle;a.normalizeMessageBundleLocale=q.normalizeMessageBundleLocale;a.registerMessageBundleLoader=q.registerMessageBundleLoader;a.createJSONLoader=u.createJSONLoader;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),
function(a,b,c,f,g,q){function u(t){switch(typeof t){case "string":return t;case "number":return q.formatNumber(t);case "boolean":return""+t;default:return t instanceof Date?g.formatDate(t):""}}const p=b.getLogger("esri.intl.substitute");a.substitute=function(t,k,m={}){const {format:e={}}=m;return f.replace(t,d=>{{const h=d.indexOf(":");if(-1===h)var l=d.trim();else{l=d.slice(0,h).trim();var n=d.slice(h+1).trim()}if(l)if(d=c.getDeepValue(l,k),null==d)n="";else if(l=(n?e?.[n]:null)??e?.[l])b:switch(l.type){case "date":n=
g.formatDate(d,l.intlOptions);break b;case "number":n=q.formatNumber(d,l.intlOptions);break b;default:p.warn("missing format descriptor for key {key}"),n=u(d)}else if(n)b:switch(n.toLowerCase()){case "dateformat":n=g.formatDate(d);break b;case "numberformat":n=q.formatNumber(d);break b;default:p.warn(`inline format is unsupported since 4.12: ${n}`),n=/^(dateformat|datestring)/i.test(n)?g.formatDate(d):/^numberformat/i.test(n)?q.formatNumber(d):u(d)}else n=u(d);else n=""}return n})};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/intl/t9n":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../request","../core/Error","./messages"],function(a,b,c,f,g){async function q(k,m,e,d){var l=m.exec(e);if(!l)throw new f("esri-intl:invalid-bundle",`Bundle id "${e}" is not compatible with the pattern "${m}"`);m=l[1]?`${l[1]}/`:"";l=l[2];const n=g.normalizeMessageBundleLocale(d);d=`${m}${l}.json`;m=n?`${m}${l}_${n}.json`:d;let h;try{h=await u(k(m))}catch(r){if(m===d)throw new f("intl:unknown-bundle",
`Bundle "${e}" cannot be loaded`,{error:r});try{h=await u(k(d))}catch(z){throw new f("intl:unknown-bundle",`Bundle "${e}" cannot be loaded`,{error:z});}}return h}async function u(k){if(null!=t.fetchBundleAsset)return t.fetchBundleAsset(k);k=await c(k,{responseType:"text"});return JSON.parse(k.data)}let p=function(){function k({base:m="",pattern:e,location:d=new URL(window.location.href)}){let l;l="string"===typeof d?n=>(new URL(n,new URL(d,window.location.href))).href:d instanceof URL?n=>(new URL(n,
d)).href:d;this.pattern="string"===typeof e?new RegExp(`^${e}`):e;this.getAssetUrl=l;m=m?m.endsWith("/")?m:m+"/":"";this.matcher=new RegExp(`^${m}(?:(.*)/)?(.*)$`)}k.prototype.fetchMessageBundle=function(m,e){return q(this.getAssetUrl,this.matcher,m,e)};return b._createClass(k)}();const t={};a.JSONLoader=p;a.createJSONLoader=function(k){return new p(k)};a.test=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/loaderConfig":function(){define(["exports","../../assets",
"../has","../urlUtils"],function(a,b,c,f){a.DEFAULT_LOADER_URL=null;a.DEFAULT_LOADER_URL=f.makeAbsolute(b.getAssetUrl("esri/core/workers/init.js"));var g=f.makeAbsolute(b.getAssetUrl("dojo/"));var q=[{name:"esri",location:"../esri"}];a.loaderConfig=function(u){const p={async:u.async,isDebug:u.isDebug,locale:u.locale,baseUrl:u.baseUrl,has:{...u.has},map:{...u.map},packages:u.packages&&u.packages.concat()||[],paths:{...u.paths}};u.hasOwnProperty("async")||(p.async=!0);u.hasOwnProperty("isDebug")||(p.isDebug=
!1);u.baseUrl||(p.baseUrl=g);q?.forEach(t=>{a:{var k=p.packages??[];for(const m of k)if(m.name===t.name)break a;k.push(t)}});return p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerFallback":function(){define(["require","../../chunks/_rollupPluginBabelHelpers","../nextTick","./RemoteClient","./utils"],function(a,b,c,f,g){function q(p){if(p&&p.__esModule)return p;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(p)for(const k in p)if("default"!==
k){const m=Object.getOwnPropertyDescriptor(p,k);Object.defineProperty(t,k,m.get?m:{enumerable:!0,get:()=>p[k]})}t.default=p;return Object.freeze(t)}let u=b._createClass(function(){const p=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(t=>{this[t]=(...k)=>p[t](...k)})});return function(){function p(){this._dispatcher=new u;this._workerPostMessage({type:g.MessageType.HANDSHAKE})}var t=p.prototype;t.terminate=function(){};t.postMessage=function(k){c.nextTick(()=>
{this._workerMessageHandler(new MessageEvent("message",{data:k}))})};t.dispatchEvent=function(k){return this._dispatcher.dispatchEvent(k)};t.addEventListener=function(k,m,e){this._dispatcher.addEventListener(k,m,e)};t.removeEventListener=function(k,m,e){this._dispatcher.removeEventListener(k,m,e)};t._workerPostMessage=function(k){c.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:k}))})};t._workerMessageHandler=async function(k){if((k=g.receiveMessage(k))&&k.type===g.MessageType.OPEN){const {modulePath:m,
jobId:e}=k;(k=await f.loadWorker(m))||(k=await new Promise((d,l)=>a([m],n=>d(q(n)),l)));k=f.connect(k);this._workerPostMessage({type:g.MessageType.OPENED,jobId:e,data:k})}};b._createClass(p,[{key:"onmessage",get:function(){return this._onmessageHandler},set:function(k){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=k)&&this.addEventListener("message",k)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(k){this._onmessageerrorHandler&&
this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=k)&&this.addEventListener("messageerror",k)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(k){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=k)&&this.addEventListener("error",k)}}]);return p}()})},"esri/rest/query/operations/editsZScale":function(){define(["exports","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],
function(a,b,c){function f(q,u,p){if(null==q.hasM||q.hasZ)for(const t of u)for(const k of t)2<k.length&&(k[2]*=p)}function g(q,u,p){if(q)for(const k of q){q=k.geometry;var t=p;if(null!=q&&q.spatialReference&&!c.equals(q.spatialReference,u)&&(t=b.getMetersPerVerticalUnitForSR(q.spatialReference)/t,1!==t))if("x"in q)null!=q.z&&(q.z*=t);else if("rings"in q)f(q,q.rings,t);else if("paths"in q)f(q,q.paths,t);else if("points"in q&&(null==q.hasM||q.hasZ))for(const m of q.points)2<m.length&&(m[2]*=t)}}a.unapplyEditsZUnitScaling=
function(q,u,p){if((q||u)&&p){var t=b.getMetersPerVerticalUnitForSR(p);g(q,p,t);g(u,p,t)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","../../../geometry/support/zscale"],function(a,b){a.applyFeatureSetZUnitScaling=function(c,f,g){if(g&&g.features&&g.hasZ&&(c=b.getGeometryZScaler(g.geometryType,f,c.outSpatialReference),null!=c))for(const q of g.features)c(q.geometry)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){var h;const r=new g.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});g=h=function(z){function x(v){v=z.call(this,v)||this;v.displayFieldName=null;v.exceededTransferLimit=!1;v.features=[];v.fields=null;v.geometryType=null;v.hasM=!1;v.hasZ=!1;v.queryGeometry=null;v.spatialReference=null;return v}a._inherits(x,z);var w=x.prototype;
w.readFeatures=function(v,A){A=d.fromJSON(A.spatialReference);const B=[];for(let y=0;y<v.length;y++){var C=v[y];const G=f.fromJSON(C);var D=C.geometry&&C.geometry.spatialReference;null==G.geometry||D||(G.geometry.spatialReference=A);C=C.aggregateGeometries;D=G.aggregateGeometries;if(C&&null!=D)for(const F in D){const K=D[F],M=C[F]?.spatialReference;null==K||M||(K.spatialReference=A)}B.push(G)}return B};w.writeGeometryType=function(v,A,B,C){if(v)r.write(v,A,B,C);else if({features:v}=this,v)for(const D of v)if(D&&
null!=D.geometry){r.write(D.geometry.type,A,B,C);break}};w.readQueryGeometry=function(v,A){if(!v)return null;const B=!!v.spatialReference;(v=l.fromJSON(v))&&!B&&A.spatialReference&&(v.spatialReference=d.fromJSON(A.spatialReference));return v};w.writeSpatialReference=function(v,A){if(v)A.spatialReference=v.toJSON();else if({features:v}=this,v)for(const B of v)if(B&&null!=B.geometry&&B.geometry.spatialReference){A.spatialReference=B.geometry.spatialReference.toJSON();break}};w.clone=function(){return new h(this.cloneProperties())};
w.cloneProperties=function(){return u.clone({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})};w.toJSON=function(v){const A=this.write();if(A.features&&Array.isArray(v)&&0<v.length)for(let B=0;B<A.features.length;B++){const C=A.features[B];if(C.geometry){const D=
v&&v[B];C.geometry=D&&D.toJSON()||C.geometry}}return A};w.quantize=function(v){const {scale:[A,B],translate:[C,D]}=v,y=this.features,G=this._getQuantizationFunction(this.geometryType,F=>Math.round((F-C)/A),F=>Math.round((D-F)/B));for(let F=0,K=y.length;F<K;F++)G?.(y[F].geometry)||(y.splice(F,1),F--,K--);this.transform=v;return this};w.unquantize=function(){const {geometryType:v,features:A,transform:B}=this;if(!B)return this;const {translate:[C,D],scale:[y,G]}=B;var F=null;let K=null;if(this.hasZ&&
null!=B?.scale?.[2]){const {translate:[,,M],scale:[,,O]}=B;F=H=>H*O+M}if(this.hasM&&null!=B?.scale?.[3]){const {translate:[,,,M],scale:[,,,O]}=B;K=H=>null==H?H:H*O+M}F=this._getHydrationFunction(v,M=>M*y+C,M=>D-M*G,F,K);for(const {geometry:M}of A)null!=M&&F&&F(M);this.transform=null;return this};w._quantizePoints=function(v,A,B){let C,D;const y=[];for(let F=0,K=v.length;F<K;F++){var G=v[F];if(0<F){const M=A(G[0]);G=B(G[1]);if(M!==C||G!==D)y.push([M-C,G-D]),C=M,D=G}else C=A(G[0]),D=B(G[1]),y.push([C,
D])}return 0<y.length?y:null};w._getQuantizationFunction=function(v,A,B){return"point"===v?C=>{C.x=A(C.x);C.y=B(C.y);return C}:"polyline"===v||"polygon"===v?C=>{const D=l.isPolygon(C)?C.rings:C.paths,y=[];for(let G=0,F=D.length;G<F;G++){const K=this._quantizePoints(D[G],A,B);K&&y.push(K)}return 0<y.length?(l.isPolygon(C)?C.rings=y:C.paths=y,C):null}:"multipoint"===v?C=>{const D=this._quantizePoints(C.points,A,B);return D&&0<D.length?(C.points=D,C):null}:"extent"===v?C=>C:null};w._getHydrationFunction=
function(v,A,B,C,D){return"point"===v?y=>{y.x=A(y.x);y.y=B(y.y);C&&(y.z=C(y.z))}:"polyline"===v||"polygon"===v?y=>{y=l.isPolygon(y)?y.rings:y.paths;for(let K=0,M=y.length;K<M;K++){const O=y[K];for(let H=0,J=O.length;H<J;H++){const L=O[H];if(0<H)G+=L[0],F+=L[1];else{var G=L[0];var F=L[1]}L[0]=A(G);L[1]=B(F)}}if(C&&D)for(let K=0,M=y.length;K<M;K++){G=y[K];for(let O=0,H=G.length;O<H;O++)F=G[O],F[2]=C(F[2]),F[3]=D(F[3])}else if(C)for(let K=0,M=y.length;K<M;K++){G=y[K];for(let O=0,H=G.length;O<H;O++)F=
G[O],F[2]=C(F[2])}else if(D)for(let K=0,M=y.length;K<M;K++){G=y[K];for(let O=0,H=G.length;O<H;O++)F=G[O],F[2]=D(F[2])}}:"extent"===v?y=>{y.xmin=A(y.xmin);y.ymin=B(y.ymin);y.xmax=A(y.xmax);y.ymax=B(y.ymax);C&&null!=y.zmax&&null!=y.zmin&&(y.zmax=C(y.zmax),y.zmin=C(y.zmin));D&&null!=y.mmax&&null!=y.mmin&&(y.mmax=D(y.mmax),y.mmin=D(y.mmin))}:"multipoint"===v?y=>{y=y.points;let G;for(let K=0,M=y.length;K<M;K++){const O=y[K];if(0<K)F+=O[0],G+=O[1];else{var F=O[0];G=O[1]}O[0]=A(F);O[1]=B(G)}if(C&&D)for(let K=
0,M=y.length;K<M;K++)F=y[K],F[2]=C(F[2]),F[3]=D(F[3]);else if(C)for(let K=0,M=y.length;K<M;K++)F=y[K],F[2]=C(F[2]);else if(D)for(let K=0,M=y.length;K<M;K++)F=y[K],F[2]=D(F[2])}:null};return a._createClass(x)}(q.JSONSupport);b.__decorate([p.property({type:String,json:{write:!0}})],g.prototype,"displayFieldName",void 0);b.__decorate([p.property({type:Boolean,json:{write:{overridePolicy(z){return{enabled:z}}}}})],g.prototype,"exceededTransferLimit",void 0);b.__decorate([p.property({type:[f],json:{write:!0}})],
g.prototype,"features",void 0);b.__decorate([k.reader("features")],g.prototype,"readFeatures",null);b.__decorate([p.property({type:[n],json:{write:!0}})],g.prototype,"fields",void 0);b.__decorate([p.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:r.read}}})],g.prototype,"geometryType",void 0);b.__decorate([e.writer("geometryType")],g.prototype,"writeGeometryType",null);b.__decorate([p.property({type:Boolean,json:{write:{overridePolicy(z){return{enabled:z}}}}})],
g.prototype,"hasM",void 0);b.__decorate([p.property({type:Boolean,json:{write:{overridePolicy(z){return{enabled:z}}}}})],g.prototype,"hasZ",void 0);b.__decorate([p.property({types:c.geometryTypes,json:{write:!0}})],g.prototype,"queryGeometry",void 0);b.__decorate([k.reader("queryGeometry")],g.prototype,"readQueryGeometry",null);b.__decorate([p.property({type:d,json:{write:!0}})],g.prototype,"spatialReference",void 0);b.__decorate([e.writer("spatialReference")],g.prototype,"writeSpatialReference",
null);b.__decorate([p.property({json:{write:!0}})],g.prototype,"transform",void 0);g=h=b.__decorate([m.subclass("esri.rest.support.FeatureSet")],g);g.prototype.toJSON.isDefaultToJSON=!0;return g})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d){var l;const n=new c.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});c=l=function(h){function r(x){x=h.call(this,x)||this;
x.alias=null;x.defaultValue=void 0;x.description=null;x.domain=null;x.editable=!0;x.length=-1;x.name=null;x.nullable=!0;x.type=null;x.valueType=null;x.visible=!0;return x}a._inherits(r,h);var z=r.prototype;z.readDescription=function(x,{description:w}){x=null;try{x=w?JSON.parse(w):null}catch(v){}return x?.value??null};z.readValueType=function(x,{description:w}){x=null;try{x=w?JSON.parse(w):null}catch(v){}return x?n.fromJSON(x.fieldValueType):null};z.clone=function(){return new l({alias:this.alias,
defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})};return a._createClass(r)}(f.JSONSupport);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);b.__decorate([g.property({type:[String,Number],json:{write:{allowNull:!0}}})],c.prototype,"defaultValue",void 0);b.__decorate([g.property()],
c.prototype,"description",void 0);b.__decorate([k.reader("description")],c.prototype,"readDescription",null);b.__decorate([g.property({types:e.types,json:{read:{reader:e.fromJSON},write:!0}})],c.prototype,"domain",void 0);b.__decorate([g.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",void 0);b.__decorate([g.property({type:q.Integer,json:{write:!0}})],c.prototype,"length",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([g.property({type:Boolean,
json:{write:!0}})],c.prototype,"nullable",void 0);b.__decorate([t.enumeration(d.kebabDict)],c.prototype,"type",void 0);b.__decorate([g.property()],c.prototype,"valueType",void 0);b.__decorate([k.reader("valueType",["description"])],c.prototype,"readValueType",null);b.__decorate([g.property({type:Boolean,json:{read:!1}})],c.prototype,"visible",void 0);return c=l=b.__decorate([m.subclass("esri.layers.support.Field")],c)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],
function(a,b){b=new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",
esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});a.kebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p){a.APIKeyMixin=
t=>{t=function(k){function m(){return k.apply(this,arguments)||this}b._inherits(m,k);b._createClass(m,[{key:"apiKey",get:function(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null},set:function(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}}]);return m}(t);c.__decorate([f.property({type:String})],t.prototype,"apiKey",null);return t=c.__decorate([p.subclass("esri.layers.mixins.APIKeyMixin")],
t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),function(a,b,c,f,g,q,u,p,t,k){a.ArcGISService=m=>{m=function(e){function d(){return e.apply(this,
arguments)||this}b._inherits(d,e);b._createClass(d,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const l=k.parse(this.url);if(null!=l&&l.title)return l.title}return this._get("title")||""},set:function(l){this._set("title",l)}},{key:"url",set:function(l){this._set("url",k.sanitizeUrl(l,f.getLogger(this)))}}]);return d}(m);c.__decorate([g.property()],m.prototype,"title",null);c.__decorate([g.property({type:String})],m.prototype,
"url",null);return m=c.__decorate([t.subclass("esri.layers.mixins.ArcGISService")],m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils".split(" "),function(a,b,c,f,g,q,u,p,t){const k=
{read:{reader:t.read},write:{allowNull:!0,writer:t.write}};a.BlendLayer=m=>{m=function(e){function d(){var l=e.apply(this,arguments)||this;l.blendMode="normal";l.effect=null;return l}b._inherits(d,e);return b._createClass(d)}(m);c.__decorate([f.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),
nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],m.prototype,"blendMode",void 0);c.__decorate([f.property({json:{read:!1,write:!1,origins:{"web-map":k,"portal-item":k}}})],m.prototype,"effect",void 0);return m=c.__decorate([p.subclass("esri.layers.mixins.BlendLayer")],m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error","../../core/object",
"./parser","./utils"],function(a,b,c,f,g){function q(k){return(k=f.parse(k))?g.isEffectFunctions(k)?k.map(m=>m.toJSON()):k.map(({scale:m,effects:e})=>({scale:m,value:e.map(d=>d.toJSON())})):null}function u(k){if(!k||0===k.length)return null;var m=(m=k[0])?"scale"in m:!1;if(m){m=[];for(const e of k)m.push({scale:e.scale,value:p(e.value)});return m}return p(k)}function p(k){if(!k||!k.length)return"";const m=[];for(const n of k){k=[];switch(n.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":k=
[t(n,"amount")];break;case "blur":k=[t(n,"radius","pt")];break;case "hue-rotate":k=[t(n,"angle","deg")];break;case "drop-shadow":k=t(n,"xoffset","pt");var e=t(n,"yoffset","pt"),d=t(n,"blurRadius","pt"),l=n;if(null==l.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${l.type} effect`,{effect:l});l=l.color;k=[k,e,d,`rgba(${l[0]||0}, ${l[1]||0}, ${l[2]||0}, ${l[3]/255||0})`];break;case "bloom":k=[t(n,"strength"),t(n,"radius","pt"),t(n,"threshold")]}k=`${n.type}(${k.filter(Boolean).join(" ")})`;
f.parse(k);m.push(k)}return m.join(" ")}function t(k,m,e){if(null==k[m])throw new b("effect:missing-parameter",`Missing parameter '${m}' in ${k.type} effect`,{effect:k});return e?k[m]+e:""+k[m]}a.effectFunctionsFromJSON=p;a.fromJSON=u;a.read=function(k,m,e){try{return u(k)}catch(d){e?.messages?.push(d)}return null};a.toJSON=q;a.write=function(k,m,e,d){try{const l=q(k);c.setDeepValue(e,l,m)}catch(l){d.messages&&d.messages.push(l)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/parser":function(){define("exports ../../colorUtils ../../core/Error ./effects ../../chunks/_commonjsHelpers ./utils".split(" "),
function(a,b,c,f,g,q){function u(v){let A;if(!v)return[];try{A=h.parse(v)}catch(B){throw new c("effect:invalid-syntax","Invalid effect syntax",{value:v,error:B});}return A.map(B=>p(B))}function p(v){try{switch(v.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var A=1;t(v.parameters,1);1===v.parameters.length&&(A=e(v.parameters[0]));return new f.ColorMatrixEffect(v.name,A);case "opacity":return A=1,t(v.parameters,1),1===v.parameters.length&&(A=e(v.parameters[0])),
new f.OpacityEffect(A);case "hue-rotate":A=0;t(v.parameters,1);if(1===v.parameters.length){var B=v.parameters[0];if("quantity"!==B.type||!(0===B.value&&null===B.unit||B.unit&&null!=r[B.unit]))throw new c("effect:type-error",`Expected <angle>, Actual: ${k(B)}`,{term:B});A=B.value*r[B.unit]||0}return new f.HueRotateEffect(A);case "blur":return A=0,t(v.parameters,1),1===v.parameters.length&&(A=d(v.parameters[0]),m(A,v.parameters[0])),new f.BlurEffect(A);case "drop-shadow":const F=[];let K=null;for(const M of v.parameters)if("color"===
M.type){F.length&&Object.freeze(F);if(K)throw new c("effect:type-error","Accepts only one color",{});a:{B=void 0;var C=M;switch(C.colorType){case "hex":K=b.hex2rgba(C.value);break a;case "named":K=l(C.value);break a;case "function":A=C.value;t(A.parameters,4);if(x.test(A.name))B=[e(A.parameters[0]),e(A.parameters[1]),e(A.parameters[2]),A.parameters[3]?e(A.parameters[3]):1];else if(w.test(A.name)){C=b;var D=C.hsla2rgba,y=A.parameters[0],G=y;if("quantity"!==G.type||null!==G.unit)throw new c("effect:type-error",
`Expected <double>, Actual: ${k(G)}`,{term:G});m(y.value,y);B=D.call(C,y.value,e(A.parameters[1]),e(A.parameters[2]),A.parameters[3]?e(A.parameters[3]):1)}else throw new c("effect:syntax-error",`Invalid color function '${A.name}'`,{colorFunction:A});K=B;break a}K=void 0}}else{const O=d(M);if(Object.isFrozen(F))throw new c("effect:type-error","\x3clength\x3e parameters not consecutive",{lengths:F});F.push(O);3===F.length&&m(O,M)}if(2>F.length||3<F.length)throw new c("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${F.length}}`,
{lengths:F});return new f.DropShadowEffect(F[0],F[1],F[2]||0,K||l("black"));case "bloom":return A=1,y=D=0,t(v.parameters,3),v.parameters[0]&&(A=e(v.parameters[0])),v.parameters[1]&&(D=d(v.parameters[1]),m(D,v.parameters[1])),v.parameters[2]&&(y=e(v.parameters[2])),new f.BloomEffect(A,D,y)}}catch(F){throw F.details.filter=v,F;}throw new c("effect:unknown-effect",`Effect '${v.name}' is not supported`,{effect:v});}function t(v,A){if(v.length>A)throw new c("effect:type-error",`Function supports up to ${A} parameters, Actual: ${v.length}`,
{parameters:v});}function k(v){if("color"===v.type)return"\x3ccolor\x3e";if(v.unit){if(v.unit in z)return"\x3clength\x3e";if(v.unit in r)return"\x3cangle\x3e";if("%"===v.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function m(v,A){if(0>v)throw new c("effect:type-error",`Negative values are not allowed, Actual: ${v}`,{term:A});}function e(v){if("quantity"!==v.type||null!==v.unit&&"%"!==v.unit)throw new c("effect:type-error",`Expected <double> or <percentage>, Actual: ${k(v)}`,{term:v});const A=
v.value;m(A,v);return"%"===v.unit?.01*A:A}function d(v){if("quantity"!==v.type||!(0===v.value&&null===v.unit||v.unit&&null!=z[v.unit]))throw new c("effect:type-error",`Expected <length>, Actual: ${k(v)}`,{term:v});return v.value*z[v.unit]||0}function l(v){if(!b.isNamedColor(v))throw new c("effect:unknown-color",`color '${v}' isn't valid`,{namedColor:v});return b.getNamedColorCopy(v)}var n={exports:{}};n.exports;(function(v){(function(A,B){v.exports&&(v.exports=B())})(g.commonjsGlobal,function(){function A(C,
D,y,G){C=Error.call(this,C);Object.setPrototypeOf&&Object.setPrototypeOf(C,A.prototype);C.expected=D;C.found=y;C.location=G;C.name="SyntaxError";return C}function B(C,D,y){y=y||" ";if(C.length>D)return C;D-=C.length;y+=y.repeat(D);return C+y.slice(0,D)}(function(C,D){function y(){this.constructor=C}y.prototype=D.prototype;C.prototype=new y})(A,Error);A.prototype.format=function(C){var D="Error: "+this.message;if(this.location){var y=null,G;for(G=0;G<C.length;G++)if(C[G].source===this.location.source){y=
C[G].text.split(/\r\n|\n|\r/g);break}C=this.location.start;G=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(C):C;var F=this.location.source+":"+G.line+":"+G.column;if(y){var K=this.location.end,M=B("",G.line.toString().length," ");y=y[C.line-1];K=(C.line===K.line?K.column:y.length+1)-C.column||1;D+="\n --\x3e "+F+"\n"+M+" |\n"+G.line+" | "+y+"\n"+M+" | "+B("",C.column-1," ")+B("",K,"^")}else D+="\n at "+F}return D};A.buildMessage=function(C,D){function y(O){return O.charCodeAt(0).toString(16).toUpperCase()}
function G(O){return O.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(H){return"\\x0"+y(H)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(H){return"\\x"+y(H)})}function F(O){return O.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(H){return"\\x0"+
y(H)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(H){return"\\x"+y(H)})}function K(O){return M[O.type](O)}var M={literal:function(O){return'"'+G(O.text)+'"'},class:function(O){var H=O.parts.map(function(J){return Array.isArray(J)?F(J[0])+"-"+F(J[1]):F(J)});return"["+(O.inverted?"^":"")+H.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(O){return O.description}};return"Expected "+function(O){O=O.map(K);var H,J;O.sort();if(0<O.length){for(J=H=1;H<
O.length;H++)O[H-1]!==O[H]&&(O[J]=O[H],J++);O.length=J}switch(O.length){case 1:return O[0];case 2:return O[0]+" or "+O[1];default:return O.slice(0,-1).join(", ")+", or "+O[O.length-1]}}(C)+" but "+(D?'"'+G(D)+'"':"end of input")+" found."};return{SyntaxError:A,parse:function(C,D){function y(Ya,Ja){return{type:"literal",text:Ya,ignoreCase:Ja}}function G(Ya,Ja,aa){return{type:"class",parts:Ya,inverted:Ja,ignoreCase:aa}}function F(Ya){return{type:"other",description:Ya}}function K(Ya){var Ja=Ia[Ya],
aa;if(!Ja){for(aa=Ya-1;!Ia[aa];)aa--;Ja=Ia[aa];for(Ja={line:Ja.line,column:Ja.column};aa<Ya;)10===C.charCodeAt(aa)?(Ja.line++,Ja.column=1):Ja.column++,aa++;Ia[Ya]=Ja}return Ja}function M(Ya,Ja,aa){var Ca=K(Ya),Oa=K(Ja);Ya={source:fa,start:{offset:Ya,line:Ca.line,column:Ca.column},end:{offset:Ja,line:Oa.line,column:Oa.column}};aa&&fa&&"function"===typeof fa.offset&&(Ya.start=fa.offset(Ya.start),Ya.end=fa.offset(Ya.end));return Ya}function O(Ya){ca<Za||(ca>Za&&(Za=ca,$a=[]),$a.push(Ya))}function H(){Va++;
var Ya=ca;N();if(C.substr(ca,4)===ma){var Ja=ma;ca+=4}else Ja=P,0===Va&&O(Ma);Ja!==P?(N(),oa=Ya,Ya=[]):(ca=Ya,Ya=P);Va--;Ya===P&&0===Va&&O(wa);if(Ya===P)if(Ya=[],Ja=J(),Ja!==P)for(;Ja!==P;)Ya.push(Ja),Ja=J();else Ya=P;return Ya}function J(){var Ya=ca;N();Va++;var Ja=ca;var aa=V();if(aa!==P){if(40===C.charCodeAt(ca)){var Ca=ka;ca++}else Ca=P,0===Va&&O(Pa);Ca!==P?(oa=Ja,Ja=aa):(ca=Ja,Ja=P)}else ca=Ja,Ja=P;Va--;Ja===P&&(aa=P,0===Va&&O(Ka));if(Ja!==P){N();aa=ca;Ca=L();if(Ca!==P){var Oa=[];var Sa=ca;var bb=
N();if(44===C.charCodeAt(ca)){var eb=ba;ca++}else eb=P,0===Va&&O(ia);eb===P&&(eb=null);var ib=N();var yb=L();yb!==P?Sa=bb=[bb,eb,ib,yb]:(ca=Sa,Sa=P);for(;Sa!==P;)Oa.push(Sa),Sa=ca,bb=N(),44===C.charCodeAt(ca)?(eb=ba,ca++):(eb=P,0===Va&&O(ia)),eb===P&&(eb=null),ib=N(),yb=L(),yb!==P?Sa=bb=[bb,eb,ib,yb]:(ca=Sa,Sa=P);oa=aa;aa=0<Oa.length?[Ca].concat(U(Oa,3)):[Ca]}else ca=aa,aa=P;aa===P&&(aa=null);N();41===C.charCodeAt(ca)?(Ca=ta,ca++):(Ca=P,0===Va&&O(Z));Ca!==P?(N(),oa=Ya,Ya={type:"function",name:Ja,
parameters:aa||[]}):(ca=Ya,Ya=P)}else ca=Ya,Ya=P;return Ya}function L(){var Ya=ca;Va++;var Ja=ca;N();var aa=X();if(aa!==P){if(37===C.charCodeAt(ca)){var Ca=Fa;ca++}else Ca=P,0===Va&&O(Ta);Ca!==P?(oa=Ja,Ja={value:aa,unit:"%"}):(ca=Ja,Ja=P)}else ca=Ja,Ja=P;Va--;Ja===P&&0===Va&&O(Xa);Ja===P&&(Va++,Ja=ca,N(),aa=X(),aa!==P?(C.substr(ca,2)===Na?(Ca=Na,ca+=2):(Ca=P,0===Va&&O(Ha)),Ca!==P?(oa=Ja,Ja={value:aa,unit:"px"}):(ca=Ja,Ja=P)):(ca=Ja,Ja=P),Ja===P&&(Ja=ca,N(),aa=X(),aa!==P?(C.substr(ca,2)===Qa?(Ca=Qa,
ca+=2):(Ca=P,0===Va&&O(ab)),Ca!==P?(oa=Ja,Ja={value:aa,unit:"cm"}):(ca=Ja,Ja=P)):(ca=Ja,Ja=P),Ja===P&&(Ja=ca,N(),aa=X(),aa!==P?(C.substr(ca,2)===I?(Ca=I,ca+=2):(Ca=P,0===Va&&O(cb)),Ca!==P?(oa=Ja,Ja={value:aa,unit:"mm"}):(ca=Ja,Ja=P)):(ca=Ja,Ja=P),Ja===P&&(Ja=ca,N(),aa=X(),aa!==P?(C.substr(ca,2)===S?(Ca=S,ca+=2):(Ca=P,0===Va&&O(xa)),Ca!==P?(oa=Ja,Ja={value:aa,unit:"in"}):(ca=Ja,Ja=P)):(ca=Ja,Ja=P),Ja===P&&(Ja=ca,N(),aa=X(),aa!==P?(C.substr(ca,2)===qa?(Ca=qa,ca+=2):(Ca=P,0===Va&&O(pb)),Ca!==P?(oa=Ja,
Ja={value:aa,unit:"pt"}):(ca=Ja,Ja=P)):(ca=Ja,Ja=P),Ja===P&&(Ja=ca,N(),aa=X(),aa!==P?(C.substr(ca,2)===W?(Ca=W,ca+=2):(Ca=P,0===Va&&O(tb)),Ca!==P?(oa=Ja,Ja={value:aa,unit:"pc"}):(ca=Ja,Ja=P)):(ca=Ja,Ja=P)))))),Va--,Ja===P&&0===Va&&O(za),Ja===P&&(Va++,Ja=ca,aa=X(),aa!==P?(C.substr(ca,3)===pa?(Ca=pa,ca+=3):(Ca=P,0===Va&&O(Ib)),Ca!==P?(oa=Ja,Ja={value:aa,unit:"deg"}):(ca=Ja,Ja=P)):(ca=Ja,Ja=P),Ja===P&&(Ja=ca,aa=X(),aa!==P?(C.substr(ca,3)===R?(Ca=R,ca+=3):(Ca=P,0===Va&&O(Ab)),Ca!==P?(oa=Ja,Ja={value:aa,
unit:"rad"}):(ca=Ja,Ja=P)):(ca=Ja,Ja=P),Ja===P&&(Ja=ca,aa=X(),aa!==P?(C.substr(ca,4)===Y?(Ca=Y,ca+=4):(Ca=P,0===Va&&O(Cb)),Ca!==P?(oa=Ja,Ja={value:aa,unit:"grad"}):(ca=Ja,Ja=P)):(ca=Ja,Ja=P),Ja===P&&(Ja=ca,aa=X(),aa!==P?(C.substr(ca,4)===la?(Ca=la,ca+=4):(Ca=P,0===Va&&O(Hb)),Ca!==P?(oa=Ja,Ja={value:aa,unit:"turn"}):(ca=Ja,Ja=P)):(ca=Ja,Ja=P)))),Va--,Ja===P&&(aa=P,0===Va&&O(qb)),Ja===P&&(Va++,Ja=ca,N(),aa=X(),aa!==P?(oa=Ja,Ja={value:aa,unit:null}):(ca=Ja,Ja=P),Va--,Ja===P&&0===Va&&O(ub))));Ja!==P&&
(oa=Ya,Ja={type:"quantity",value:Ja.value,unit:Ja.unit});Ya=Ja;if(Ya===P){Ya=ca;Va++;Ja=ca;35===C.charCodeAt(ca)?(aa=ja,ca++):(aa=P,0===Va&&O(nb));if(aa!==P){aa=[];Ea.test(C.charAt(ca))?(Ca=C.charAt(ca),ca++):(Ca=P,0===Va&&O(rb));if(Ca!==P)for(;Ca!==P;)aa.push(Ca),Ea.test(C.charAt(ca))?(Ca=C.charAt(ca),ca++):(Ca=P,0===Va&&O(rb));else aa=P;aa!==P?(oa=Ja,Ja={type:"hex",value:C.substring(oa,ca)}):(ca=Ja,Ja=P)}else ca=Ja,Ja=P;Ja===P&&(Ja=ca,aa=J(),aa!==P&&(oa=Ja,aa={type:"function",value:aa}),Ja=aa,Ja===
P&&(Ja=ca,aa=V(),aa!==P&&(oa=Ja,aa={type:"named",value:C.substring(oa,ca)}),Ja=aa));Va--;Ja===P&&(aa=P,0===Va&&O(Bb));Ja!==P&&(oa=Ya,Ja={type:"color",colorType:Ja.type,value:Ja.value});Ya=Ja}return Ya}function N(){Va++;var Ya=[];if(ha.test(C.charAt(ca))){var Ja=C.charAt(ca);ca++}else Ja=P,0===Va&&O(ya);for(;Ja!==P;)Ya.push(Ja),ha.test(C.charAt(ca))?(Ja=C.charAt(ca),ca++):(Ja=P,0===Va&&O(ya));Va--;Ja=P;0===Va&&O(Da);return Ya}function V(){Va++;var Ya=ca;var Ja=[];if(ua.test(C.charAt(ca))){var aa=C.charAt(ca);
ca++}else aa=P,0===Va&&O(Ra);if(aa!==P)for(;aa!==P;)Ja.push(aa),ua.test(C.charAt(ca))?(aa=C.charAt(ca),ca++):(aa=P,0===Va&&O(Ra));else Ja=P;Ja!==P&&(oa=Ya,Ja=C.substring(oa,ca));Ya=Ja;Va--;Ya===P&&(Ja=P,0===Va&&O(Ua));return Ya}function X(){var Ya=ca;da.test(C.charAt(ca))?(C.charAt(ca),ca++):0===Va&&O(xb);var Ja=ca;var aa=[];if(ra.test(C.charAt(ca))){var Ca=C.charAt(ca);ca++}else Ca=P,0===Va&&O(gb);for(;Ca!==P;)aa.push(Ca),ra.test(C.charAt(ca))?(Ca=C.charAt(ca),ca++):(Ca=P,0===Va&&O(gb));46===C.charCodeAt(ca)?
(Ca=sa,ca++):(Ca=P,0===Va&&O(zb));if(Ca!==P){var Oa=[];if(ra.test(C.charAt(ca))){var Sa=C.charAt(ca);ca++}else Sa=P,0===Va&&O(gb);if(Sa!==P)for(;Sa!==P;)Oa.push(Sa),ra.test(C.charAt(ca))?(Sa=C.charAt(ca),ca++):(Sa=P,0===Va&&O(gb));else Oa=P;Oa!==P?Ja=aa=[aa,Ca,Oa]:(ca=Ja,Ja=P)}else ca=Ja,Ja=P;if(Ja===P)if(Ja=[],ra.test(C.charAt(ca))?(aa=C.charAt(ca),ca++):(aa=P,0===Va&&O(gb)),aa!==P)for(;aa!==P;)Ja.push(aa),ra.test(C.charAt(ca))?(aa=C.charAt(ca),ca++):(aa=P,0===Va&&O(gb));else Ja=P;if(Ja!==P){aa=
ca;101===C.charCodeAt(ca)?(Ca=T,ca++):(Ca=P,0===Va&&O(na));if(Ca!==P){da.test(C.charAt(ca))?(Oa=C.charAt(ca),ca++):(Oa=P,0===Va&&O(xb));Oa===P&&(Oa=null);Sa=[];ra.test(C.charAt(ca))?(Ja=C.charAt(ca),ca++):(Ja=P,0===Va&&O(gb));if(Ja!==P)for(;Ja!==P;)Sa.push(Ja),ra.test(C.charAt(ca))?(Ja=C.charAt(ca),ca++):(Ja=P,0===Va&&O(gb));else Sa=P;Sa!==P?aa=Ca=[Ca,Oa,Sa]:(ca=aa,aa=P)}else ca=aa,aa=P;aa===P&&(aa=null);oa=Ya;Ya=parseFloat(C.substring(oa,ca))}else ca=Ya,Ya=P;return Ya}function U(Ya,Ja){return Ya.map(function(aa){return aa[Ja]})}
D=void 0!==D?D:{};var P={},fa=D.grammarSource,Ba={start:H},Aa=H,ma="none",ta=")",ba=",",ka="(",Fa="%",Na="px",Qa="cm",I="mm",S="in",qa="pt",W="pc",pa="deg",R="rad",Y="grad",la="turn",ja="#",sa=".",T="e",ha=/^[ \t\n\r]/,ua=/^[a-z\-]/,Ea=/^[0-9a-fA-F]/,da=/^[+\-]/,ra=/^[0-9]/,wa=F("none"),Ma=y("none",!1),Z=y(")",!1),ia=y(",",!1),Da=F("whitespace"),ya=G([" ","\t","\n","\r"],!1,!1),Ka=F("function"),Pa=y("(",!1),Ua=F("identifier"),Ra=G([["a","z"],"-"],!1,!1),Xa=F("percentage"),Ta=y("%",!1),za=F("length"),
Ha=y("px",!1),ab=y("cm",!1),cb=y("mm",!1),xa=y("in",!1),pb=y("pt",!1),tb=y("pc",!1),qb=F("angle"),Ib=y("deg",!1),Ab=y("rad",!1),Cb=y("grad",!1),Hb=y("turn",!1),ub=F("number"),Bb=F("color"),nb=y("#",!1),rb=G([["0","9"],["a","f"],["A","F"]],!1,!1),xb=G(["+","-"],!1,!1),gb=G([["0","9"]],!1,!1),zb=y(".",!1),na=y("e",!1),ca=0,oa=0,Ia=[{line:1,column:1}],Za=0,$a=[],Va=0;if("startRule"in D){if(!(D.startRule in Ba))throw Error("Can't start parsing from rule \""+D.startRule+'".');Aa=Ba[D.startRule]}D=Aa();
if(D!==P&&ca===C.length)return D;D!==P&&ca<C.length&&O({type:"end"});throw function(Ya,Ja,aa){return new A(A.buildMessage(Ya,Ja),Ya,Ja,aa)}($a,Za<C.length?C.charAt(Za):null,Za<C.length?M(Za,Za+1):M(Za,Za));}}})})(n);var h=n.exports;const r={deg:1,grad:.9,rad:180/Math.PI,turn:360},z={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},x=/^rgba?/i,w=/^hsla?/i;a.parse=function(v){if(!v||0===v.length)return null;if("string"===typeof v)return(v=u(v))&&0!==v.length?v:null;v=v.map(A=>{if(!Number.isFinite(A.scale)||
0>=A.scale)throw new c("effect:invalid-scale","scale must be finite and greater than 0",{stop:A});return{scale:A.scale,effects:u(A.value)}});v.sort((A,B)=>B.effects.length-A.effects.length);for(let A=0;A<v.length-1;A++){if(!q.canInterpolateEffects(v[A].effects,v[A+1].effects))throw new c("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:v[A].effects,b:v[A+1].effects});q.normalizeEffects(v[A].effects,v[A+1].effects)}v.sort((A,B)=>B.scale-A.scale);return v};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/effects":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../colorUtils ../../core/screenUtils ../../chunks/mat4f32 ./colorMatrixFunctions".split(" "),function(a,b,c,f,g,q){function u(n,h,r){return n+(h-n)*r}function p(n){return Math.round(1E3*f.px2pt(n))/1E3}let t=function(){function n(r,z,x){this.strength=r;this.radius=z;this.threshold=x;this.type="bloom"}var h=n.prototype;h.interpolate=function(r,
z,x){this.strength=u(r.strength,z.strength,x);this.radius=u(r.radius,z.radius,x);this.threshold=u(r.threshold,z.threshold,x)};h.clone=function(){return new n(this.strength,this.radius,this.threshold)};h.toJSON=function(){return{type:"bloom",radius:p(this.radius),strength:this.strength,threshold:this.threshold}};return b._createClass(n)}(),k=function(){function n(r){this.radius=r;this.type="blur"}var h=n.prototype;h.interpolate=function(r,z,x){this.radius=Math.round(u(r.radius,z.radius,x))};h.clone=
function(){return new n(this.radius)};h.toJSON=function(){return{type:"blur",radius:p(this.radius)}};return b._createClass(n)}(),m=function(){function n(r,z){this.type=r;this.amount=z;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}var h=n.prototype;h.interpolate=function(r,z,x){this.amount=u(r.amount,z.amount,x);this._updateMatrix()};h.clone=function(){return new n(this.type,this.amount)};h.toJSON=function(){return{type:this.type,amount:this.amount}};
h._updateMatrix=function(){const r=this._colorMatrix||g.create();switch(this.type){case "brightness":this._colorMatrix=q.brightness(r,this.amount);break;case "contrast":this._colorMatrix=q.contrast(r,this.amount);break;case "grayscale":this._colorMatrix=q.grayscale(r,this.amount);break;case "invert":this._colorMatrix=q.invert(r,this.amount);break;case "saturate":this._colorMatrix=q.saturate(r,this.amount);break;case "sepia":this._colorMatrix=q.sepia(r,this.amount)}};b._createClass(n,[{key:"colorMatrix",
get:function(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}}]);return n}(),e=function(){function n(r,z,x,w){this.offsetX=r;this.offsetY=z;this.blurRadius=x;this.color=w;this.type="drop-shadow"}var h=n.prototype;h.interpolate=function(r,z,x){this.offsetX=u(r.offsetX,z.offsetX,x);this.offsetY=u(r.offsetY,z.offsetY,x);this.blurRadius=u(r.blurRadius,z.blurRadius,x);this.color[0]=Math.round(u(r.color[0],z.color[0],x));this.color[1]=Math.round(u(r.color[1],z.color[1],x));this.color[2]=
Math.round(u(r.color[2],z.color[2],x));this.color[3]=u(r.color[3],z.color[3],x)};h.clone=function(){return new n(this.offsetX,this.offsetY,this.blurRadius,[...this.color])};h.toJSON=function(){const r=[...this.color];r[3]*=255;return{type:"drop-shadow",xoffset:p(this.offsetX),yoffset:p(this.offsetY),blurRadius:p(this.blurRadius),color:r}};return b._createClass(n)}(),d=function(){function n(r){this.angle=r;this.type="hue-rotate"}var h=n.prototype;h.interpolate=function(r,z,x){this.angle=u(r.angle,
z.angle,x);this._updateMatrix()};h.clone=function(){return new n(this.angle)};h.toJSON=function(){return{type:"hue-rotate",angle:this.angle}};h._updateMatrix=function(){const r=this._colorMatrix||g.create();this._colorMatrix=q.rotateHue(r,this.angle)};b._createClass(n,[{key:"colorMatrix",get:function(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}}]);return n}(),l=function(){function n(r){this.amount=r;this.type="opacity";this.amount=Math.min(this.amount,1)}var h=n.prototype;h.interpolate=
function(r,z,x){this.amount=u(r.amount,z.amount,x)};h.clone=function(){return new n(this.amount)};h.toJSON=function(){return{type:"opacity",amount:this.amount}};return b._createClass(n)}();a.BloomEffect=t;a.BlurEffect=k;a.ColorMatrixEffect=m;a.DropShadowEffect=e;a.HueRotateEffect=d;a.OpacityEffect=l;a.createEffectWithInitialValues=function(n){switch(n.type){case "grayscale":case "sepia":case "invert":return new m(n.type,0);case "saturate":case "brightness":case "contrast":return new m(n.type,1);case "opacity":return new l(1);
case "hue-rotate":return new d(0);case "blur":return new k(0);case "drop-shadow":return new e(0,0,0,[...c.getNamedColor("transparent")]);case "bloom":return new t(0,0,1)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4f32":function(){define(["exports"],function(a){function b(){const p=new Float32Array(16);p[0]=1;p[5]=1;p[10]=1;p[15]=1;return p}function c(p){const t=new Float32Array(16);t[0]=p[0];t[1]=p[1];t[2]=p[2];t[3]=p[3];t[4]=p[4];t[5]=p[5];t[6]=p[6];t[7]=p[7];
t[8]=p[8];t[9]=p[9];t[10]=p[10];t[11]=p[11];t[12]=p[12];t[13]=p[13];t[14]=p[14];t[15]=p[15];return t}function f(p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B){const C=new Float32Array(16);C[0]=p;C[1]=t;C[2]=k;C[3]=m;C[4]=e;C[5]=d;C[6]=l;C[7]=n;C[8]=h;C[9]=r;C[10]=z;C[11]=x;C[12]=w;C[13]=v;C[14]=A;C[15]=B;return C}function g(p,t){return new Float32Array(p,t,16)}const q=b(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:q,clone:c,create:b,createView:g,fromValues:f},Symbol.toStringTag,{value:"Module"}));
a.IDENTITY=q;a.clone=c;a.create=b;a.createView=g;a.fromValues=f;a.mat4f32=u})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../chunks/mat4"],function(a,b){a.brightness=(c,f)=>{c=b.set(c,f,0,0,0,0,f,0,0,0,0,f,0,0,0,0,1);return b.transpose(c,c)};a.contrast=(c,f)=>{c=b.set(c,f,0,0,.5-.5*f,0,f,0,.5-.5*f,0,0,f,.5-.5*f,0,0,0,1);return b.transpose(c,c)};a.grayscale=(c,f)=>{f=1-f;c=b.set(c,.2126+.7874*f,.7152-.7152*f,.0722-.0722*f,0,.2126-.2126*f,.7152+.2848*f,.0722-.0722*f,
0,.2126-.2126*f,.7152-.7152*f,.0722+.9278*f,0,0,0,0,1);return b.transpose(c,c)};a.invert=(c,f)=>{const g=1-2*f;c=b.set(c,g,0,0,f,0,g,0,f,0,0,g,f,0,0,0,1);return b.transpose(c,c)};a.rotateHue=(c,f)=>{const g=Math.sin(f*Math.PI/180);f=Math.cos(f*Math.PI/180);c=b.set(c,.213+.787*f-.213*g,.715-.715*f-.715*g,.072-.072*f+.928*g,0,.213-.213*f+.143*g,.715+.285*f+.14*g,.072-.072*f-.283*g,0,.213-.213*f-.787*g,.715-.715*f+.715*g,.072+.928*f+.072*g,0,0,0,0,1);return b.transpose(c,c)};a.saturate=(c,f)=>{c=b.set(c,
.213+.787*f,.715-.715*f,.072-.072*f,0,.213-.213*f,.715+.285*f,.072-.072*f,0,.213-.213*f,.715-.715*f,.072+.928*f,0,0,0,0,1);return b.transpose(c,c)};a.sepia=(c,f)=>{f=1-f;c=b.set(c,.393+.607*f,.769-.769*f,.189-.189*f,0,.349-.349*f,.686+.314*f,.168-.168*f,0,.272-.272*f,.534-.534*f,.131+.869*f,0,0,0,0,1);return b.transpose(c,c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(a){a.commonjsGlobal="undefined"!==typeof globalThis?
globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};a.getAugmentedNamespace=function(b){if(b.__esModule)return b;var c=b.default;if("function"==typeof c){var f=function q(){if(this instanceof q){var u=[null];u.push.apply(u,arguments);return new (Function.bind.apply(c,u))}return c.apply(this,arguments)};f.prototype=c.prototype}else f={};Object.defineProperty(f,"__esModule",{value:!0});Object.keys(b).forEach(function(g){var q=Object.getOwnPropertyDescriptor(b,
g);Object.defineProperty(f,g,q.get?q:{enumerable:!0,get:function(){return b[g]}})});return f};a.getDefaultExportFromCjs=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,b){a.canInterpolateEffects=function(c,f){const g=c.length>f.length?c:f;return(c.length>f.length?f:c).every((q,u)=>q.type===g[u].type)};a.isEffectFunctions=function(c){return(c=c[0])?"type"in c:!1};
a.normalizeEffects=function(c,f){const g=c.length>f.length?c:f;c=c.length>f.length?f:c;for(f=c.length;f<g.length;f++)c.push(b.createEffectWithInitialValues(g[f]))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){a.CustomParametersMixin=t=>{t=function(k){function m(){var e=k.apply(this,arguments)||this;e.customParameters=null;return e}b._inherits(m,k);return b._createClass(m)}(t);c.__decorate([f.property({type:Object,json:{write:{overridePolicy(k){return{enabled:!!(k&&0<Object.keys(k).length)}}}}})],t.prototype,"customParameters",void 0);return t=c.__decorate([p.subclass("esri.layers.mixins.CustomParametersMixin")],t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/mixins/EditBusLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Evented ../../core/lang ../../core/promiseUtils ../../core/Logger ../../core/accessorSupport/ensureType ../../core/Error ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){const e=new f.EventEmitter,d=Symbol("esri.layers.mixins.EditBusLayer");a.EditBusLayer=l=>{l=function(h){function r(...z){var x=h.call(this,...z)||
this;x[n]=!0;x.when().then(()=>{x.own([e.on("apply-edits",w=>{const {serviceUrl:v,layerId:A,mayReceiveServiceEdits:B,result:C}=w,D=null!=A&&null!=x.layerId&&A===x.layerId;v===x.url&&(D||B)&&(w=C.then(y=>{if(D&&(y.addedFeatures.length||y.updatedFeatures.length||y.deletedFeatures.length||y.addedAttachments.length||y.updatedAttachments.length||y.deletedAttachments.length))return x.emit("edits",g.clone(y)),y;const G=y.editedFeatures?.find(({layerId:F})=>F===x.layerId);if(G){const {adds:F,updates:K,deletes:M}=
G.editedFeatures;y={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:F?F.map(({attributes:O})=>({objectId:x.objectIdField&&O[x.objectIdField],globalId:x.globalIdField&&O[x.globalIdField]})):[],deletedFeatures:M?M.map(({attributes:O})=>({objectId:x.objectIdField&&O[x.objectIdField],globalId:x.globalIdField&&O[x.globalIdField]})):[],updatedFeatures:K?K.map(({current:{attributes:O}})=>({objectId:x.objectIdField&&O[x.objectIdField],globalId:x.globalIdField&&O[x.globalIdField]})):
[],editedFeatures:g.clone(y.editedFeatures),exceededTransferLimit:!1};x.emit("edits",y);return y}return{edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:g.clone(y.editedFeatures),exceededTransferLimit:!1}}),x.emit("apply-edits",{result:w}))})])},()=>{});return x}b._inherits(r,h);return b._createClass(r)}(l);var n=d;return l=c.__decorate([m.subclass("esri.layers.mixins.EditBusLayer")],l)};a.emitApplyEditsEvent=
function(l,n,h=!1){const r=q.createResolver();e.emit("apply-edits",{serviceUrl:l,layerId:n,mayReceiveServiceEdits:null==n?!0:h,result:r.promise});return r};a.isEditBusLayer=function(l){return null!=l&&"object"===typeof l&&d in l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),
function(a,b,c,f,g,q,u,p,t){const k={write:{allowNull:!0}};a.FeatureEffectLayer=m=>{m=function(e){function d(){var l=e.apply(this,arguments)||this;l.featureEffect=null;return l}b._inherits(d,e);return b._createClass(d)}(m);c.__decorate([f.property({type:t,json:{origins:{"web-map":k,"portal-item":k}}})],m.prototype,"featureEffect",void 0);return m=c.__decorate([p.subclass("esri.layers.mixins.FeatureEffectLayer")],m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureEffect":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){var d;u={read:{reader:m.read},write:{writer:m.write,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}};m={read:{reader:m.read},write:{writer:m.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}};p={name:"showExcludedLabels",default:!0};f=d=function(l){function n(r){r=l.call(this,r)||this;r.filter=null;r.includedEffect=null;r.excludedEffect=null;r.excludedLabelsVisible=
!1;return r}a._inherits(n,l);var h=n.prototype;h.write=function(r,z){r=a._get(a._getPrototypeOf(n.prototype),"write",this).call(this,r,z);if(z?.origin){if(r.filter){const x=Object.keys(r.filter);if(1<x.length||"where"!==x[0])return z.messages?.push(new c("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:z.layer,effect:this})),null}if("showExcludedLabels"in r)return z.messages?.push(new c("web-document-write:unsupported-feature-effect",
"Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:z.layer,effect:this})),null}return r};h.clone=function(){return new d({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})};return a._createClass(n)}(f.JSONSupport);b.__decorate([q.property({type:e,json:{write:{allowNull:!0,writer(l,n,h,r){(l=l?.write({},r))&&0!==Object.keys(l).length?g.setDeepValue(h,
l,n):g.setDeepValue(h,null,n)}}}})],f.prototype,"filter",void 0);b.__decorate([q.property({json:{write:!0,origins:{"web-map":u,"portal-item":u}}})],f.prototype,"includedEffect",void 0);b.__decorate([q.property({json:{write:!0,origins:{"web-map":m,"portal-item":m}}})],f.prototype,"excludedEffect",void 0);b.__decorate([q.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":p,"portal-item":p}}})],f.prototype,"excludedLabelsVisible",void 0);return f=d=b.__decorate([k.subclass("esri.layers.support.FeatureEffect")],
f)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../rest/support/Query".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){var e;t=new g.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",
esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});g=new g.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});
q=e=function(d){function l(h){h=d.call(this,h)||this;h.where=null;h.geometry=null;h.spatialRelationship="intersects";h.distance=void 0;h.objectIds=null;h.units=null;h.timeExtent=null;return h}a._inherits(l,d);var n=l.prototype;n.createQuery=function(h={}){const {where:r,geometry:z,spatialRelationship:x,timeExtent:w,objectIds:v,units:A,distance:B}=this;return new m({geometry:u.clone(z),objectIds:u.clone(v),spatialRelationship:x,timeExtent:u.clone(w),where:r,units:A,distance:B,...h})};n.clone=function(){const {where:h,
geometry:r,spatialRelationship:z,timeExtent:x,objectIds:w,units:v,distance:A}=this;return new e({geometry:u.clone(r),objectIds:u.clone(w),spatialRelationship:z,timeExtent:u.clone(x),where:h,units:v,distance:A})};return a._createClass(l)}(q.JSONSupport);b.__decorate([p.property({type:String,json:{write:!0}})],q.prototype,"where",void 0);b.__decorate([p.property({types:c.geometryTypes,json:{write:!0}})],q.prototype,"geometry",void 0);b.__decorate([p.property({type:t.apiValues,json:{name:"spatialRel",
read:{reader:t.read},write:{allowNull:!1,writer:t.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],q.prototype,"spatialRelationship",void 0);b.__decorate([p.property({type:Number,json:{write:{overridePolicy(d){return{enabled:null!=d&&null!=this.geometry}}}}})],q.prototype,"distance",void 0);b.__decorate([p.property({type:[Number],json:{write:!0}})],q.prototype,"objectIds",void 0);b.__decorate([p.property({type:g.apiValues,json:{read:g.read,write:{writer:g.write,overridePolicy(d){return{enabled:null!=
d&&null!=this.geometry}}}}})],q.prototype,"units",void 0);b.__decorate([p.property({type:f,json:{write:!0}})],q.prototype,"timeExtent",void 0);return q=e=b.__decorate([k.subclass("esri.layers.support.FeatureFilter")],q)})},"esri/rest/support/Query":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./FullTextSearch ./QuantizationParameters ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w){var v;const A=new g.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});g=new g.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});q=v=function(B){function C(y){y=B.call(this,y)||this;y.aggregateIds=null;y.cacheHint=void 0;y.compactGeometryEnabled=!1;y.datumTransformation=null;y.defaultSpatialReferenceEnabled=!1;y.distance=void 0;y.dynamicDataSource=void 0;y.formatOf3DObjects=null;y.fullText=null;y.gdbVersion=null;y.geometry=null;y.geometryPrecision=void 0;y.groupByFieldsForStatistics=
null;y.having=null;y.historicMoment=null;y.maxAllowableOffset=void 0;y.maxRecordCountFactor=1;y.multipatchOption=null;y.num=void 0;y.objectIds=null;y.orderByFields=null;y.outFields=null;y.outSpatialReference=null;y.outStatistics=null;y.parameterValues=null;y.pixelSize=null;y.quantizationParameters=null;y.rangeValues=null;y.relationParameter=null;y.resultType=null;y.returnCentroid=!1;y.returnDistinctValues=!1;y.returnExceededLimitFeatures=!0;y.returnGeometry=!1;y.returnQueryGeometry=!1;y.returnM=void 0;
y.returnZ=void 0;y.sourceSpatialReference=null;y.spatialRelationship="intersects";y.start=void 0;y.sqlFormat=null;y.text=null;y.timeExtent=null;y.timeReferenceUnknownClient=!1;y.units=null;y.where=null;return y}a._inherits(C,B);C.from=function(y){return d.ensureClass(v,y)};var D=C.prototype;D.castDatumTransformation=function(y){return"number"===typeof y||"object"===typeof y?y:null};D.writeHistoricMoment=function(y,G){G.historicMoment=y&&y.getTime()};D.writeParameterValues=function(y,G){if(y){const F=
{};for(const K in y){const M=y[K];Array.isArray(M)?F[K]=M.map(O=>O instanceof Date?O.getTime():O):F[K]=M instanceof Date?M.getTime():M}G.parameterValues=F}};D.writeStart=function(y,G){G.resultOffset=this.start;G.resultRecordCount=this.num||10;G.where="1\x3d1"};D.writeWhere=function(y,G){G.where=y||"1\x3d1"};D.clone=function(){return new v(u.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,
defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,
num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,
returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))};return a._createClass(C)}(q.JSONSupport);
q.MAX_MAX_RECORD_COUNT_FACTOR=5;b.__decorate([p.property({json:{write:!0}})],q.prototype,"aggregateIds",void 0);b.__decorate([p.property({type:Boolean,json:{write:!0}})],q.prototype,"cacheHint",void 0);b.__decorate([p.property({type:Boolean,json:{default:!1,write:!0}})],q.prototype,"compactGeometryEnabled",void 0);b.__decorate([p.property({json:{write:!0}})],q.prototype,"datumTransformation",void 0);b.__decorate([t.cast("datumTransformation")],q.prototype,"castDatumTransformation",null);b.__decorate([p.property({type:Boolean,
json:{default:!1,write:!0}})],q.prototype,"defaultSpatialReferenceEnabled",void 0);b.__decorate([p.property({type:Number,json:{write:{overridePolicy(B){return{enabled:0<B}}}}})],q.prototype,"distance",void 0);b.__decorate([p.property({type:n.DataLayerSource,json:{write:!0}})],q.prototype,"dynamicDataSource",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],q.prototype,"formatOf3DObjects",void 0);b.__decorate([p.property({type:[h],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=
this.fullText&&0<this.fullText.length}}}}})],q.prototype,"fullText",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],q.prototype,"gdbVersion",void 0);b.__decorate([p.property({types:c.geometryTypes,json:{read:l.fromJSON,write:!0}})],q.prototype,"geometry",void 0);b.__decorate([p.property({type:Number,json:{write:!0}})],q.prototype,"geometryPrecision",void 0);b.__decorate([p.property({type:[String],json:{write:!0}})],q.prototype,"groupByFieldsForStatistics",void 0);b.__decorate([p.property({type:String,
json:{write:!0}})],q.prototype,"having",void 0);b.__decorate([p.property({type:Date})],q.prototype,"historicMoment",void 0);b.__decorate([e.writer("historicMoment")],q.prototype,"writeHistoricMoment",null);b.__decorate([p.property({type:Number,json:{write:!0}})],q.prototype,"maxAllowableOffset",void 0);b.__decorate([p.property({type:Number,cast(B){return 1>B?1:B>v.MAX_MAX_RECORD_COUNT_FACTOR?v.MAX_MAX_RECORD_COUNT_FACTOR:B},json:{write:{overridePolicy(B){return{enabled:1<B}}}}})],q.prototype,"maxRecordCountFactor",
void 0);b.__decorate([p.property({type:["xyFootprint"],json:{write:!0}})],q.prototype,"multipatchOption",void 0);b.__decorate([p.property({type:Number,json:{read:{source:"resultRecordCount"}}})],q.prototype,"num",void 0);b.__decorate([p.property({json:{write:!0}})],q.prototype,"objectIds",void 0);b.__decorate([p.property({type:[String],json:{write:!0}})],q.prototype,"orderByFields",void 0);b.__decorate([p.property({type:[String],json:{write:!0}})],q.prototype,"outFields",void 0);b.__decorate([p.property({type:x,
json:{name:"outSR",write:!0}})],q.prototype,"outSpatialReference",void 0);b.__decorate([p.property({type:[z],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&0<this.outStatistics.length}}}}})],q.prototype,"outStatistics",void 0);b.__decorate([p.property({json:{write:!0}})],q.prototype,"parameterValues",void 0);b.__decorate([e.writer("parameterValues")],q.prototype,"writeParameterValues",null);b.__decorate([p.property({type:w,json:{write:!0}})],q.prototype,"pixelSize",
void 0);b.__decorate([p.property({type:r,json:{write:!0}})],q.prototype,"quantizationParameters",void 0);b.__decorate([p.property({type:[Object],json:{write:!0}})],q.prototype,"rangeValues",void 0);b.__decorate([p.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],q.prototype,"relationParameter",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],q.prototype,"resultType",
void 0);b.__decorate([p.property({type:Boolean,json:{default:!1,write:!0}})],q.prototype,"returnCentroid",void 0);b.__decorate([p.property({type:Boolean,json:{default:!1,write:!0}})],q.prototype,"returnDistinctValues",void 0);b.__decorate([p.property({type:Boolean,json:{default:!0,write:!0}})],q.prototype,"returnExceededLimitFeatures",void 0);b.__decorate([p.property({type:Boolean,json:{write:!0}})],q.prototype,"returnGeometry",void 0);b.__decorate([p.property({type:Boolean,json:{default:!1,write:!0}})],
q.prototype,"returnQueryGeometry",void 0);b.__decorate([p.property({type:Boolean,json:{default:!1,write:!0}})],q.prototype,"returnM",void 0);b.__decorate([p.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:B}}}}})],q.prototype,"returnZ",void 0);b.__decorate([p.property({type:x,json:{write:!0}})],q.prototype,"sourceSpatialReference",void 0);b.__decorate([k.enumeration(A,{ignoreUnknown:!1,name:"spatialRel"})],q.prototype,"spatialRelationship",void 0);b.__decorate([p.property({type:Number,
json:{read:{source:"resultOffset"}}})],q.prototype,"start",void 0);b.__decorate([e.writer("start"),e.writer("num")],q.prototype,"writeStart",null);b.__decorate([p.property({type:String,json:{write:!0}})],q.prototype,"sqlFormat",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],q.prototype,"text",void 0);b.__decorate([p.property({type:f,json:{write:!0}})],q.prototype,"timeExtent",void 0);b.__decorate([p.property({type:Boolean,json:{default:!1,write:!0}})],q.prototype,"timeReferenceUnknownClient",
void 0);b.__decorate([k.enumeration(g,{ignoreUnknown:!1}),p.property({json:{write:{overridePolicy(B){return{enabled:!!B&&null!=this.distance&&0<this.distance}}}}})],q.prototype,"units",void 0);b.__decorate([p.property({type:String,json:{write:{overridePolicy(B){return{enabled:null!=B||null!=this.start&&0<this.start}}}}})],q.prototype,"where",void 0);b.__decorate([e.writer("where")],q.prototype,"writeWhere",null);return q=v=b.__decorate([m.subclass("esri.rest.support.Query")],q)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r){function z(){A||(A=e.createTypeReader({types:x()}));return A}function x(){B||(B={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":l.MapLayerSource}});return B}var w,v;f=f.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=w=function(C){function D(G){G=C.call(this,G)||this;G.type="join-table";return G}b._inherits(D,C);var y=D.prototype;y.readLeftTableSource=function(G,F,K){return z()(G,
F,K)};y.castLeftTableSource=function(G){return m.ensureOneOfType(x(),G)};y.readRightTableSource=function(G,F,K){return z()(G,F,K)};y.castRightTableSource=function(G){return m.ensureOneOfType(x(),G)};y.clone=function(){const {leftTableKey:G,rightTableKey:F,leftTableSource:K,rightTableSource:M,joinType:O}=this,H={leftTableKey:G,rightTableKey:F,leftTableSource:K?.clone()??void 0,rightTableSource:M?.clone()??void 0,joinType:O};return new w(H)};return b._createClass(D)}(g.JSONSupport);c.__decorate([p.enumeration({joinTable:"join-table"})],
a.JoinTableDataSource.prototype,"type",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableKey",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);c.__decorate([q.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);c.__decorate([t.reader("leftTableSource")],a.JoinTableDataSource.prototype,"readLeftTableSource",null);c.__decorate([u.cast("leftTableSource")],
a.JoinTableDataSource.prototype,"castLeftTableSource",null);c.__decorate([q.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableSource",void 0);c.__decorate([t.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);c.__decorate([u.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);c.__decorate([p.enumeration(f)],a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=w=c.__decorate([k.subclass("esri.layers.support.source.JoinTableDataSource")],
a.JoinTableDataSource);let A=null,B=null;u={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,"query-table":n.QueryTableDataSource,raster:h.RasterDataSource,table:r.TableDataSource}};a.DataLayerSource=v=function(C){function D(y){y=C.call(this,y)||this;y.type="data-layer";return y}b._inherits(D,C);D.prototype.clone=function(){const {fields:y,dataSource:G}=this;return new v({fields:y,dataSource:G})};return b._createClass(D)}(g.JSONSupport);c.__decorate([p.enumeration({dataLayer:"data-layer"})],
a.DataLayerSource.prototype,"type",void 0);c.__decorate([q.property({type:[d],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);c.__decorate([q.property({types:u,json:{write:!0}})],a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=v=c.__decorate([k.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=m.ensureType(a.DataLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;a.MapLayerSource=m=function(e){function d(l){l=e.call(this,l)||this;l.type="map-layer";return l}b._inherits(d,e);d.prototype.clone=function(){const {mapLayerId:l,gdbVersion:n}=this;return new m({mapLayerId:l,gdbVersion:n})};return b._createClass(d)}(f.JSONSupport);c.__decorate([t.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);c.__decorate([g.property({type:q.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);
c.__decorate([g.property({type:String,json:{write:!0}})],a.MapLayerSource.prototype,"gdbVersion",void 0);a.MapLayerSource=m=c.__decorate([k.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d){var l;a.QueryTableDataSource=l=function(n){function h(r){r=n.call(this,r)||this;r.type="query-table";return r}b._inherits(h,n);h.prototype.clone=function(){const {workspaceId:r,query:z,oidFields:x,spatialReference:w,geometryType:v}=this,A={workspaceId:r,query:z,oidFields:x,spatialReference:w?.clone()??void 0,geometryType:v};return new l(A)};return b._createClass(h)}(g.JSONSupport);c.__decorate([k.enumeration({queryTable:"query-table"})],a.QueryTableDataSource.prototype,
"type",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"workspaceId",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);c.__decorate([q.property({type:e,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);c.__decorate([k.enumeration(d.featureGeometryTypeKebabDictionary)],
a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=l=c.__decorate([m.subclass("esri.layers.support.source.QueryTableDataSource")],a.QueryTableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;a.RasterDataSource=m=function(e){function d(l){l=e.call(this,l)||this;l.type="raster";return l}b._inherits(d,e);d.prototype.clone=function(){const {workspaceId:l,dataSourceName:n}=this;return new m({workspaceId:l,dataSourceName:n})};return b._createClass(d)}(f.JSONSupport);c.__decorate([t.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);c.__decorate([g.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",
void 0);c.__decorate([g.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=m=c.__decorate([k.subclass("esri.layers.support.source.RasterDataSource")],a.RasterDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;a.TableDataSource=m=function(e){function d(l){l=e.call(this,l)||this;l.type="table";return l}b._inherits(d,e);d.prototype.clone=function(){const {workspaceId:l,gdbVersion:n,dataSourceName:h}=this;return new m({workspaceId:l,gdbVersion:n,dataSourceName:h})};return b._createClass(d)}(f.JSONSupport);c.__decorate([t.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);c.__decorate([g.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,
"workspaceId",void 0);c.__decorate([g.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);c.__decorate([g.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=m=c.__decorate([k.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t){c=function(k){function m(e){e=k.call(this,e)||this;e.onFields=null;e.operator=null;e.searchTerm=null;e.searchType=null;return e}a._inherits(m,k);return a._createClass(m)}(c.ClonableMixin(f.JSONSupport));b.__decorate([g.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&0<this.onFields.length}}}}})],c.prototype,"onFields",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"operator",void 0);b.__decorate([g.property({type:String,
json:{write:!0}})],c.prototype,"searchTerm",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"searchType",void 0);return c=b.__decorate([t.subclass("esri.rest.support.FullTextSearch")],c)})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),
function(a,b,c,f,g,q,u,p,t,k){var m;c=new f.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});g=m=function(e){function d(l){l=e.call(this,l)||this;l.extent=null;l.mode="view";l.originPosition="upper-left";l.tolerance=1;return l}a._inherits(d,e);d.prototype.clone=function(){return new m(q.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};return a._createClass(d)}(g.JSONSupport);b.__decorate([u.property({type:k,json:{write:{overridePolicy(){return{enabled:"view"===
this.mode}}}}})],g.prototype,"extent",void 0);b.__decorate([u.property({type:["view","edit"],json:{write:!0}})],g.prototype,"mode",void 0);b.__decorate([u.property({type:String,json:{read:c.read,write:c.write}})],g.prototype,"originPosition",void 0);b.__decorate([u.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],g.prototype,"tolerance",void 0);return g=m=b.__decorate([t.subclass("esri.rest.support.QuantizationParameters")],g)})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;c=new c.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});f=k=function(m){function e(l){l=m.call(this,l)||this;l.maxPointCount=void 0;l.maxRecordCount=void 0;l.maxVertexCount=void 0;l.onStatisticField=
null;l.outStatisticFieldName=null;l.statisticType=null;l.statisticParameters=null;return l}a._inherits(e,m);var d=e.prototype;d.writeStatisticParameters=function(l,n){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)n.statisticParameters=g.clone(l)};d.clone=function(){return new k({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,
statisticType:this.statisticType,statisticParameters:g.clone(this.statisticParameters)})};return a._createClass(e)}(f.JSONSupport);b.__decorate([q.property({type:Number,json:{write:!0}})],f.prototype,"maxPointCount",void 0);b.__decorate([q.property({type:Number,json:{write:!0}})],f.prototype,"maxRecordCount",void 0);b.__decorate([q.property({type:Number,json:{write:!0}})],f.prototype,"maxVertexCount",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"onStatisticField",void 0);
b.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"outStatisticFieldName",void 0);b.__decorate([q.property({type:String,json:{read:{source:"statisticType",reader:c.read},write:{target:"statisticType",writer:c.write}}})],f.prototype,"statisticType",void 0);b.__decorate([q.property({type:Object})],f.prototype,"statisticParameters",void 0);b.__decorate([t.writer("statisticParameters")],f.prototype,"writeStatisticParameters",null);return f=k=b.__decorate([p.subclass("esri.rest.support.StatisticDefinition")],
f)})},"esri/layers/mixins/FeatureLayerBase":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/Extent ../../geometry/HeightModelInfo ../../geometry/SpatialReference ../support/arcgisLayerUrl ../support/commonProperties ../support/EditFieldsInfo ../support/FeatureIndex ../support/featureLayerUtils ../support/GeometryFieldsInfo ../support/LayerFloorInfo ../support/Relationship ../support/serviceCapabilitiesUtils ../../time/TimeReference".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C){a.FeatureLayerBase=D=>{D=function(y){function G(){var K=y.apply(this,arguments)||this;K.capabilities=null;K.copyright=null;K.dateFieldsTimeReference=null;K.datesInUnknownTimezone=!1;K.displayField=null;K.definitionExpression=null;K.editFieldsInfo=null;K.editingInfo=null;K.elevationInfo=null;K.floorInfo=null;K.fullExtent=null;K.gdbVersion=null;K.geometryFieldsInfo=null;K.geometryType=null;K.hasM=void 0;K.hasZ=void 0;K.heightModelInfo=null;K.historicMoment=
null;K.isTable=!1;K.layerId=void 0;K.minScale=0;K.maxScale=0;K.globalIdField=null;K.objectIdField=null;K.preferredTimeReference=null;K.relationships=null;K.sourceJSON=null;K.returnM=void 0;K.returnZ=void 0;K.serviceDefinitionExpression=null;K.serviceItemId=null;K.spatialReference=l.WGS84;K.subtypeField=null;K.trackIdField=null;K.indexes=new (f.ofType(z.FeatureIndex));K.version=void 0;return K}b._inherits(G,y);var F=G.prototype;F.readCapabilitiesFromService=function(K,M){return B.getFeatureLayerCapabilities(M,
this.url)};F.readEditingInfo=function(K,M){({editingInfo:K}=M);return K?{lastEditDate:null!=K.lastEditDate?new Date(K.lastEditDate):null}:null};F.readIsTableFromService=function(K,M){return"Table"===M.type};F.readMinScale=function(K,M){return M.effectiveMinScale||K||0};F.readMaxScale=function(K,M){return M.effectiveMaxScale||K||0};F.readGlobalIdFieldFromService=function(K,M){return x.readGlobalIdField(M)};F.readObjectIdFieldFromService=function(K,M){return x.readObjectIdField(M)};F.readServiceDefinitionExpression=
function(K,M){return M.definitionQuery||M.definitionExpression};F.writeUrl=function(K,M,O,H){n.writeUrlWithLayerId(this,K,null,M,H)};F.readVersion=function(K,M){return x.readVersion(M)};b._createClass(G,[{key:"effectiveCapabilities",get:function(){var K=this.capabilities;if(!K)return null;K=g.clone(K);const {operations:M,editing:O}=K;if(this.sourceJSON?.isMultiServicesView)return this.userHasUpdateItemPrivileges&&(M.supportsQuery=!0),K;if(this.userHasUpdateItemPrivileges)return M.supportsAdd=M.supportsDelete=
M.supportsEditing=M.supportsQuery=M.supportsUpdate=O.supportsDeleteByOthers=O.supportsGeometryUpdate=O.supportsUpdateByOthers=!0,K;this.userHasFullEditingPrivileges&&M.supportsEditing&&(M.supportsAdd=M.supportsDelete=M.supportsUpdate=O.supportsGeometryUpdate=!0);return K}},{key:"hasFullEditingRestrictions",get:function(){const K=this.capabilities;if(!K||this.sourceJSON?.isMultiServicesView)return!1;const {operations:M,editing:O}=K;return M.supportsEditing&&!(M.supportsAdd&&M.supportsDelete&&M.supportsUpdate&&
O.supportsGeometryUpdate)}},{key:"hasUpdateItemRestrictions",get:function(){const K=this.capabilities;if(!K)return!1;const {operations:M,editing:O}=K;return this.sourceJSON?.isMultiServicesView?!M.supportsQuery:!(M.supportsAdd&&M.supportsDelete&&M.supportsEditing&&M.supportsQuery&&M.supportsUpdate&&O.supportsDeleteByOthers&&O.supportsGeometryUpdate&&O.supportsUpdateByOthers)}},{key:"url",set:function(K){K=n.sanitizeUrlWithLayerId({layer:this,url:K,nonStandardUrlAllowed:!0,logger:q.getLogger(this)});
this._set("url",K.url);null!=K.layerId&&this._set("layerId",K.layerId)}}]);return G}(D);c.__decorate([u.property({readOnly:!0,json:{read:!1,origins:{service:{read:{source:"advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" ")}}}}})],
D.prototype,"capabilities",void 0);c.__decorate([t.reader("service","capabilities")],D.prototype,"readCapabilitiesFromService",null);c.__decorate([u.property({readOnly:!0})],D.prototype,"effectiveCapabilities",null);c.__decorate([u.property({readOnly:!0})],D.prototype,"hasFullEditingRestrictions",null);c.__decorate([u.property({readOnly:!0})],D.prototype,"hasUpdateItemRestrictions",null);c.__decorate([u.property({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],D.prototype,
"copyright",void 0);c.__decorate([u.property({type:C})],D.prototype,"dateFieldsTimeReference",void 0);c.__decorate([u.property({type:Boolean})],D.prototype,"datesInUnknownTimezone",void 0);c.__decorate([u.property({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],D.prototype,"displayField",void 0);c.__decorate([u.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],D.prototype,"definitionExpression",
void 0);c.__decorate([u.property({readOnly:!0,type:r})],D.prototype,"editFieldsInfo",void 0);c.__decorate([u.property({readOnly:!0})],D.prototype,"editingInfo",void 0);c.__decorate([t.reader("editingInfo")],D.prototype,"readEditingInfo",null);c.__decorate([u.property((()=>{const y=g.clone(h.elevationInfo),G=y.json.origins;G["web-map"]={read:!1,write:!1};G["portal-item"]={read:!1,write:!1};return y})())],D.prototype,"elevationInfo",void 0);c.__decorate([u.property({type:v,json:{read:{source:"layerDefinition.floorInfo"},
write:{target:"layerDefinition.floorInfo"}}})],D.prototype,"floorInfo",void 0);c.__decorate([u.property({type:e,json:{origins:{service:{read:{source:"extent"}}}}})],D.prototype,"fullExtent",void 0);c.__decorate([u.property()],D.prototype,"gdbVersion",void 0);c.__decorate([u.property({readOnly:!0,type:w,json:{read:{source:"geometryProperties"}}})],D.prototype,"geometryFieldsInfo",void 0);c.__decorate([u.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:x.geometryTypeKebabDict.read}}}})],
D.prototype,"geometryType",void 0);c.__decorate([u.property({type:Boolean,json:{origins:{service:{read:!0}}}})],D.prototype,"hasM",void 0);c.__decorate([u.property({type:Boolean,json:{origins:{service:{read:!0}}}})],D.prototype,"hasZ",void 0);c.__decorate([u.property({readOnly:!0,type:d})],D.prototype,"heightModelInfo",void 0);c.__decorate([u.property({type:Date})],D.prototype,"historicMoment",void 0);c.__decorate([u.property({readOnly:!0})],D.prototype,"isTable",void 0);c.__decorate([t.reader("service",
"isTable",["type"])],D.prototype,"readIsTableFromService",null);c.__decorate([u.property({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],D.prototype,"layerId",void 0);c.__decorate([u.property(h.minScale)],D.prototype,"minScale",void 0);c.__decorate([t.reader("service","minScale",["minScale","effectiveMinScale"])],D.prototype,"readMinScale",null);c.__decorate([u.property(h.maxScale)],D.prototype,"maxScale",void 0);c.__decorate([t.reader("service",
"maxScale",["maxScale","effectiveMaxScale"])],D.prototype,"readMaxScale",null);c.__decorate([u.property({type:String})],D.prototype,"globalIdField",void 0);c.__decorate([t.reader("service","globalIdField",["globalIdField","fields"])],D.prototype,"readGlobalIdFieldFromService",null);c.__decorate([u.property({type:String})],D.prototype,"objectIdField",void 0);c.__decorate([t.reader("service","objectIdField",["objectIdField","fields"])],D.prototype,"readObjectIdFieldFromService",null);c.__decorate([u.property({type:C})],
D.prototype,"preferredTimeReference",void 0);c.__decorate([u.property({type:[A],readOnly:!0})],D.prototype,"relationships",void 0);c.__decorate([u.property()],D.prototype,"sourceJSON",void 0);c.__decorate([u.property({type:Boolean})],D.prototype,"returnM",void 0);c.__decorate([u.property({type:Boolean})],D.prototype,"returnZ",void 0);c.__decorate([u.property({readOnly:!0})],D.prototype,"serviceDefinitionExpression",void 0);c.__decorate([t.reader("service","serviceDefinitionExpression",["definitionQuery",
"definitionExpression"])],D.prototype,"readServiceDefinitionExpression",null);c.__decorate([u.property({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],D.prototype,"serviceItemId",void 0);c.__decorate([u.property({type:l,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],D.prototype,"spatialReference",void 0);c.__decorate([u.property({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],D.prototype,"subtypeField",void 0);c.__decorate([u.property({type:String,
json:{read:{source:"timeInfo.trackIdField"}}})],D.prototype,"trackIdField",void 0);c.__decorate([u.property({readOnly:!0,json:{write:!1}})],D.prototype,"serverGens",void 0);c.__decorate([u.property({type:f.ofType(z.FeatureIndex),readOnly:!0})],D.prototype,"indexes",void 0);c.__decorate([u.property(h.url)],D.prototype,"url",null);c.__decorate([m.writer("url")],D.prototype,"writeUrl",null);c.__decorate([u.property({json:{origins:{service:{read:!0}},read:!1}})],D.prototype,"version",void 0);c.__decorate([t.reader("service",
"version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],D.prototype,"readVersion",null);return D=c.__decorate([k.subclass("esri.layers.mixins.FeatureLayerBase")],D)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/HeightModelInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d){function l(z,x){return new u("height-unit:unsupported",`Height unit of value '${z}' is not supported`,x)}var n;const h=f.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});t=h.jsonValues.slice();c.removeUnordered(t,"orthometric");const r=f.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards",
"sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});c=n=function(z){function x(v){v=z.call(this,v)||this;v.heightModel="gravity-related-height";v.heightUnit="meters";v.vertCRS=null;return v}a._inherits(x,z);var w=x.prototype;
w.writeHeightModel=function(v,A,B){return h.write(v,A,B)};w.readHeightModel=function(v,A,B){if(A=h.read(v))return A;if(B&&B.messages){A=B.messages;var C=A.push;v=new u("height-model:unsupported",`Height model of value '${v}' is not supported`,{context:B});C.call(A,v)}return null};w.readHeightUnit=function(v,A,B){if(A=r.read(v))return A;B&&B.messages&&B.messages.push(l(v,{context:B}));return null};w.readHeightUnitService=function(v,A,B){if(A=q.unitFromRESTJSON(v)||r.read(v))return A;B&&B.messages&&
B.messages.push(l(v,{context:B}));return null};w.readVertCRS=function(v,A){return A.vertCRS||A.ellipsoid||A.geoid};w.clone=function(){return new n({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})};w.equals=function(v){return v?this===v?!0:this.heightModel===v.heightModel&&this.heightUnit===v.heightUnit&&this.vertCRS===v.vertCRS:!1};x.deriveUnitFromSR=function(v,A){A=q.getVerticalUnitStringForSR(A);return new n({heightModel:v.heightModel,heightUnit:A,vertCRS:v.vertCRS})};
w.write=function(v,A){A={origin:"web-scene",...A};return a._get(a._getPrototypeOf(x.prototype),"write",this).call(this,v,A)};x.fromJSON=function(v){if(!v)return null;const A=new n;A.read(v,{origin:"web-scene"});return A};return a._createClass(x)}(g.JSONSupport);b.__decorate([p.property({type:h.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:t,default:"ellipsoidal"}}}})],c.prototype,"heightModel",void 0);b.__decorate([d.writer("web-scene","heightModel")],c.prototype,"writeHeightModel",
null);b.__decorate([m.reader(["web-scene","service"],"heightModel")],c.prototype,"readHeightModel",null);b.__decorate([p.property({type:r.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:r.jsonValues,write:r.write}}}})],c.prototype,"heightUnit",void 0);b.__decorate([m.reader("web-scene","heightUnit")],c.prototype,"readHeightUnit",null);b.__decorate([m.reader("service","heightUnit")],c.prototype,"readHeightUnitService",null);b.__decorate([p.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],
c.prototype,"vertCRS",void 0);b.__decorate([m.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],c.prototype,"readVertCRS",null);return c=n=b.__decorate([e.subclass("esri.geometry.HeightModelInfo")],c)})},"esri/layers/support/EditFieldsInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../time/TimeReference".split(" "),
function(a,b,c,f,g,q,u,p,t,k){c=function(m){function e(d){d=m.call(this,d)||this;d.creatorField=null;d.creationDateField=null;d.editorField=null;d.editDateField=null;d.realm=null;d.dateFieldsTimeReference=null;return d}a._inherits(e,m);return a._createClass(e)}(c.ClonableMixin(f.JSONSupport));b.__decorate([g.property()],c.prototype,"creatorField",void 0);b.__decorate([g.property()],c.prototype,"creationDateField",void 0);b.__decorate([g.property()],c.prototype,"editorField",void 0);b.__decorate([g.property()],
c.prototype,"editDateField",void 0);b.__decorate([g.property()],c.prototype,"realm",void 0);b.__decorate([g.property({type:k})],c.prototype,"dateFieldsTimeReference",void 0);return c=b.__decorate([t.subclass("esri.layers.support.EditFieldsInfo")],c)})},"esri/time/TimeReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Clonable ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./timeReferenceUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){c=function(d){function l(h){h=d.call(this,h)||this;h.legacy=null;h.timeZone="system";return h}a._inherits(l,d);var n=l.prototype;n.readLegacy=function(h,r){const {timeZone:z,respectsDaylightSaving:x}=r;return{timeZone:z,respectsDaylightSaving:x}};n.readTimeZone=function(h,r){return"timeZoneIANA"in r?r.timeZoneIANA:e.convertLegacyTimeZone(r)};n.writeTimeZone=function(h,r){r.timeZoneIANA=h};n.equals=function(h){return null==h||null==this.timeZone||null==h.timeZone?
!1:this.timeZone===h.timeZone};return a._createClass(l)}(c.ClonableMixin(f.JSONSupport));b.__decorate([g.property()],c.prototype,"legacy",void 0);b.__decorate([t.reader("legacy",["timeZone"])],c.prototype,"readLegacy",null);b.__decorate([g.property({type:String,nonNullable:!0})],c.prototype,"timeZone",void 0);b.__decorate([t.reader("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],c.prototype,"readTimeZone",null);b.__decorate([m.writer("timeZone")],c.prototype,"writeTimeZone",null);
return c=b.__decorate([k.subclass("esri.time.TimeReference")],c)})},"esri/time/timeReferenceUtils":function(){define(["exports","./legacyTimeZoneMap","../chunks/datetime"],function(a,b,c){a.convertLegacyTimeZone=function(f,g="system"){if(!f||!b.legacyTimeZoneMap.has(f.timeZone))return g;g=b.legacyTimeZoneMap.get(f.timeZone);if(f.timeZone.startsWith("UTC")||f.respectsDaylightSaving)return g;f=c.DateTime.local().setZone(g);f=Math.min(f.set({month:1,day:1}).offset,f.set({month:5}).offset);f=0===f?"Etc/UTC":
`Etc/GMT${c.FixedOffsetZone.instance(-f).formatOffset(0,"narrow")}`;return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/legacyTimeZoneMap":function(){define(["exports"],function(a){const b=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time",
"Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time",
"Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time",
"Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time",
"Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time",
"America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],
["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time",
"Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)",
"America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time",
"Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],
["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],
["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],
["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],
["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);a.legacyTimeZoneMap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k){a.FeatureIndex=function(m){function e(d){return m.call(this,d)||this}b._inherits(e,m);return b._createClass(e)}(f.ClonableMixin(g.JSONSupport));c.__decorate([q.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"name",void 0);c.__decorate([q.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"fields",void 0);c.__decorate([q.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isAscending",void 0);c.__decorate([q.property({constructOnly:!0,
json:{write:!0}})],a.FeatureIndex.prototype,"indexType",void 0);c.__decorate([q.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isUnique",void 0);c.__decorate([q.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"description",void 0);a.FeatureIndex=c.__decorate([k.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/featureLayerUtils":function(){define("require exports ../../kernel ../../symbols ../../core/Error ../../core/jsonMap ../../core/sql ../../core/accessorSupport/extensions/serializableProperty/reader ./layerUtils ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../rest/support/AttachmentQuery ../../rest/support/Query ../../rest/support/RelationshipQuery".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l){function n(x,w,v){const {attributes:A}=w,{objectIdField:B}=x;return x.get("capabilities.data.supportsAttachment")?w?A?B&&A[B]?Promise.resolve():Promise.reject(new g(v,`feature is missing the identifying attribute ${B}`)):Promise.reject(new g(v,"'attributes' are required on a feature to query attachments")):Promise.reject(new g(v,"A feature is required to add/delete/update attachments")):Promise.reject(new g(v,"this layer doesn't support attachments"))}async function h(x){return(await x.load()).source}
async function r(x,w){if(c.id&&!c.id.findCredential(x)){var v;try{const A=await t.getOwningPortalUrl(x,w);A&&(v=await c.id.checkSignInStatus(`${A}/sharing`))}catch(A){}if(v)try{await c.id.getCredential(x,{signal:null!=w?w.signal:null})}catch(A){}}}q=new q.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});const z=p.createTypeReader({types:f.symbolTypesRenderer});b.addAttachment=
async function(x,w,v,A){const B=await h(x);await n(x,w,A);if(!B.addAttachment)throw new g(A,"Layer source does not support addAttachment capability");return B.addAttachment(w,v)};b.applyEdits=async function(x,w,v){const {applyEdits:A}=await new Promise((B,C)=>a(["../graphics/editingSupport"],B,C));x=await x.load();return A(x,x.source,w,v)};b.computeEffectiveEditingEnabled=function(x){return x.sourceJSON?.isMultiServicesView?!1:x.userHasUpdateItemPrivileges||x.editingEnabled};b.createDefaultRenderer=
function(x,w){if(x.defaultSymbol)return x.types&&x.types.length?new m({defaultSymbol:z(x.defaultSymbol,x,w),field:x.typeIdField,uniqueValueInfos:x.types.map(v=>({id:v.id,symbol:z(v.symbol,v,w)}))}):new k({symbol:z(x.defaultSymbol,x,w)})};b.createQuery=function(x){const w=new d,v=x.get("capabilities.data"),A=x.get("capabilities.query");w.historicMoment=x.historicMoment;w.gdbVersion=x.gdbVersion;w.returnGeometry=!0;A&&(w.compactGeometryEnabled=A.supportsCompactGeometry,w.defaultSpatialReferenceEnabled=
A.supportsDefaultSpatialReference);v&&(v.supportsZ&&null!=x.returnZ&&(w.returnZ=x.returnZ),v.supportsM&&null!=x.returnM&&(w.returnM=x.returnM));w.outFields=["*"];const {timeOffset:B,timeExtent:C}=x;w.timeExtent=null!=B&&null!=C?C.offset(-B.value,B.unit):C||null;w.multipatchOption="multipatch"===x.geometryType?"xyFootprint":null;return w};b.deleteAttachments=async function(x,w,v,A){const B=await h(x);await n(x,w,A);if(!B.deleteAttachments)throw new g(A,"Layer source does not support deleteAttachments capability");
return B.deleteAttachments(w,v)};b.ensureLayerCredential=async function(x,w){const v=x.parsedUrl?.path;if(v){{const A=x.editFieldsInfo;x=A?.creatorField||A?.editorField?!0:x.userHasUpdateItemPrivileges?x.hasUpdateItemRestrictions:x.userHasFullEditingPrivileges?x.hasFullEditingRestrictions:!1}x&&await r(v,w)}};b.fetchRecomputedExtents=async function(x,w,v){x=(await x.load({signal:w?.signal})).source;if(!x.fetchRecomputedExtents)throw new g(v,"Layer source does not support fetchUpdates capability");
return x.fetchRecomputedExtents(w)};b.geometryTypeKebabDict=q;b.hasDataChanged=async function(x){const w=x.source;if(w?.refresh)try{const {dataChanged:v,updates:A}=await w.refresh();null!=A&&(x.sourceJSON={...x.sourceJSON,...A},x.read(A,{origin:"service",url:x.parsedUrl}));if(v)return!0}catch{}if(x.definitionExpression)try{return(await u.parseWhereClause(x.definitionExpression,x.fieldsIndex)).hasDateFunctions}catch{}return!1};b.queryAttachments=async function(x,w,v,A){w=e.from(w);await x.load();v=
x.source;x=x.capabilities;if(!x?.data?.supportsAttachment)throw new g(A,"this layer doesn't support attachments");const {attachmentTypes:B,objectIds:C,globalIds:D,num:y,size:G,start:F,where:K}=w;if(!x?.operations?.supportsQueryAttachments&&(0<B?.length||0<D?.length||0<G?.length||y||F||K))throw new g(A,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",w);if(!(C?.length||D?.length||K))throw new g(A,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",
w);if(!v.queryAttachments)throw new g(A,"Layer source does not support queryAttachments capability",w);return v.queryAttachments(w)};b.queryExtent=async function(x,w,v,A){const B=await h(x);if(!B.queryExtent)throw new g(A,"Layer source does not support queryExtent capability");return B.queryExtent(d.from(w)??x.createQuery(),v)};b.queryFeatureCount=async function(x,w,v,A){const B=await h(x);if(!B.queryFeatureCount)throw new g(A,"Layer source does not support queryFeatureCount capability");return B.queryFeatureCount(d.from(w)??
x.createQuery(),v)};b.queryObjectIds=async function(x,w,v,A){const B=await h(x);if(!B.queryObjectIds)throw new g(A,"Layer source does not support queryObjectIds capability");return B.queryObjectIds(d.from(w)??x.createQuery(),v)};b.queryRelatedFeatures=async function(x,w,v,A){x=await h(x);if(!x.queryRelatedFeatures)throw new g(A,"Layer source does not support queryRelatedFeatures capability");return x.queryRelatedFeatures(l.from(w),v)};b.queryRelatedFeaturesCount=async function(x,w,v,A){x=await h(x);
if(!x.queryRelatedFeaturesCount)throw new g(A,"Layer source does not support queryRelatedFeaturesCount capability");return x.queryRelatedFeaturesCount(l.from(w),v)};b.readGlobalIdField=function(x){const {globalIdField:w,fields:v}=x;if(w)return w;if(v)for(const A of v)if("esriFieldTypeGlobalID"===A.type)return A.name};b.readObjectIdField=function(x){const {objectIdField:w,fields:v}=x;if(w)return w;if(v)for(const A of v)if("esriFieldTypeOID"===A.type)return A.name};b.readVersion=function(x){return x.currentVersion?
x.currentVersion:x.hasOwnProperty("capabilities")||x.hasOwnProperty("drawingInfo")||x.hasOwnProperty("hasAttachments")||x.hasOwnProperty("htmlPopupType")||x.hasOwnProperty("relationships")||x.hasOwnProperty("timeInfo")||x.hasOwnProperty("typeIdField")||x.hasOwnProperty("types")?10:9.3};b.updateAttachment=async function(x,w,v,A,B){const C=await h(x);await n(x,w,B);if(!C.updateAttachment)throw new g(B,"Layer source does not support updateAttachment capability");return C.updateAttachment(w,v,A)};b.uploadAssets=
async function(x,w,v){const {uploadAssets:A}=await new Promise((B,C)=>a(["../graphics/editingSupport"],B,C));x=await x.load();return A(x,x.source,w,v)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AttachmentQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(d){d=k.call(this,d)||this;d.attachmentTypes=null;d.attachmentsWhere=null;d.cacheHint=void 0;d.keywords=null;d.globalIds=null;d.name=null;d.num=null;d.objectIds=null;d.returnMetadata=!1;d.size=null;d.start=null;d.where=null;return d}a._inherits(m,k);var e=m.prototype;e.writeStart=function(d,l){l.resultOffset=this.start;l.resultRecordCount=this.num||10};e.clone=function(){return new t(f.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,
cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))};return a._createClass(m)}(c.JSONSupport);b.__decorate([g.property({type:[String],json:{write:!0}})],c.prototype,"attachmentTypes",void 0);b.__decorate([g.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],c.prototype,
"attachmentsWhere",void 0);b.__decorate([g.property({type:Boolean,json:{write:!0}})],c.prototype,"cacheHint",void 0);b.__decorate([g.property({type:[String],json:{write:!0}})],c.prototype,"keywords",void 0);b.__decorate([g.property({type:[Number],json:{write:!0}})],c.prototype,"globalIds",void 0);b.__decorate([g.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([g.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([g.property({type:[Number],
json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([g.property({type:Boolean,json:{default:!1,write:!0}})],c.prototype,"returnMetadata",void 0);b.__decorate([g.property({type:[Number],json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([g.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([p.writer("start"),p.writer("num")],c.prototype,"writeStart",null);b.__decorate([g.property({type:String,json:{read:{source:"definitionExpression"},
write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);c=t=b.__decorate([u.subclass("esri.rest.support.AttachmentQuery")],c);c.from=q.ensureType(c);return c})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/source/DataLayerSource ../../geometry/SpatialReference".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;c=e=function(d){function l(h){h=d.call(this,h)||this;h.cacheHint=void 0;h.dynamicDataSource=void 0;h.gdbVersion=null;h.geometryPrecision=void 0;h.historicMoment=null;h.maxAllowableOffset=void 0;h.objectIds=null;h.orderByFields=null;h.outFields=null;h.outSpatialReference=null;h.relationshipId=void 0;h.start=void 0;h.num=void 0;h.returnGeometry=!1;h.returnM=void 0;h.returnZ=void 0;h.where=null;return h}a._inherits(l,d);var n=l.prototype;n._writeHistoricMoment=function(h,
r){r.historicMoment=h&&h.getTime()};n.writeStart=function(h,r){r.resultOffset=this.start;r.resultRecordCount=this.num||10;0<this.start&&null==this.where&&(r.definitionExpression="1\x3d1")};n.clone=function(){return new e(g.clone({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,
orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))};return a._createClass(l)}(f.JSONSupport);b.__decorate([q.property({type:Boolean,json:{write:!0}})],c.prototype,"cacheHint",void 0);b.__decorate([q.property({type:k.DataLayerSource,json:{write:!0}})],c.prototype,"dynamicDataSource",void 0);
b.__decorate([q.property({type:String,json:{write:!0}})],c.prototype,"gdbVersion",void 0);b.__decorate([q.property({type:Number,json:{write:!0}})],c.prototype,"geometryPrecision",void 0);b.__decorate([q.property({type:Date})],c.prototype,"historicMoment",void 0);b.__decorate([t.writer("historicMoment")],c.prototype,"_writeHistoricMoment",null);b.__decorate([q.property({type:Number,json:{write:!0}})],c.prototype,"maxAllowableOffset",void 0);b.__decorate([q.property({type:[Number],json:{write:!0}})],
c.prototype,"objectIds",void 0);b.__decorate([q.property({type:[String],json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([q.property({type:[String],json:{write:!0}})],c.prototype,"outFields",void 0);b.__decorate([q.property({type:m,json:{read:{source:"outSR"},write:{target:"outSR"}}})],c.prototype,"outSpatialReference",void 0);b.__decorate([q.property({json:{write:!0}})],c.prototype,"relationshipId",void 0);b.__decorate([q.property({type:Number,json:{read:{source:"resultOffset"}}})],
c.prototype,"start",void 0);b.__decorate([t.writer("start"),t.writer("num")],c.prototype,"writeStart",null);b.__decorate([q.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([q.property({json:{write:!0}})],c.prototype,"returnGeometry",void 0);b.__decorate([q.property({type:Boolean,json:{write:{overridePolicy(d){return{enabled:d}}}}})],c.prototype,"returnM",void 0);b.__decorate([q.property({type:Boolean,json:{write:{overridePolicy(d){return{enabled:d}}}}})],
c.prototype,"returnZ",void 0);b.__decorate([q.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);c=e=b.__decorate([p.subclass("esri.rest.support.RelationshipQuery")],c);c.from=u.ensureType(c);return c})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k){c=function(m){function e(d){d=m.call(this,d)||this;d.shapeAreaField=null;d.shapeLengthField=null;d.units=null;return d}a._inherits(e,m);return a._createClass(e)}(c.ClonableMixin(f.JSONSupport));b.__decorate([q.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],c.prototype,"shapeAreaField",void 0);b.__decorate([q.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],c.prototype,"shapeLengthField",void 0);b.__decorate([q.property({type:String,
json:{read:m=>g.areaUnitsJSONMap.read(m)||g.lengthUnitsJSONMap.read(m)}})],c.prototype,"units",void 0);return c=b.__decorate([k.subclass("esri.layers.support.GeometryFieldsInfo")],c)})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;f=k=function(m){function e(d){d=m.call(this,d)||this;d.floorField=null;d.viewAllMode=!1;d.viewAllLevelIds=new c;return d}a._inherits(e,m);e.prototype.clone=function(){return new k({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})};return a._createClass(e)}(f.JSONSupport);b.__decorate([g.property({type:String,json:{write:!0}})],f.prototype,"floorField",void 0);b.__decorate([g.property({json:{read:!1,write:!1}})],f.prototype,
"viewAllMode",void 0);b.__decorate([g.property({json:{read:!1,write:!1}})],f.prototype,"viewAllLevelIds",void 0);return f=k=b.__decorate([t.subclass("esri.layers.support.LayerFloorInfo")],f)})},"esri/layers/support/Relationship":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k){u=new f.JSONMap({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});f=new f.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});c=function(m){function e(d){d=m.call(this,d)||this;d.cardinality=null;d.composite=null;d.id=null;d.keyField=null;d.keyFieldInRelationshipTable=null;d.name=null;d.relatedTableId=null;d.relationshipTableId=null;d.role=null;return d}a._inherits(e,
m);return a._createClass(e)}(c.ClonableMixin(g.JSONSupport));b.__decorate([q.property({json:{read:u.read,write:u.write}})],c.prototype,"cardinality",void 0);b.__decorate([q.property({json:{read:!0,write:!0}})],c.prototype,"composite",void 0);b.__decorate([q.property({json:{read:!0,write:!0}})],c.prototype,"id",void 0);b.__decorate([q.property({json:{read:!0,write:!0}})],c.prototype,"keyField",void 0);b.__decorate([q.property({json:{read:!0,write:!0}})],c.prototype,"keyFieldInRelationshipTable",void 0);
b.__decorate([q.property({json:{read:!0,write:!0}})],c.prototype,"name",void 0);b.__decorate([q.property({json:{read:!0,write:!0}})],c.prototype,"relatedTableId",void 0);b.__decorate([q.property({json:{read:!0,write:!0}})],c.prototype,"relationshipTableId",void 0);b.__decorate([q.property({json:{read:f.read,write:f.write}})],c.prototype,"role",void 0);return c=b.__decorate([k.subclass("esri.layers.support.Relationship")],c)})},"esri/layers/support/serviceCapabilitiesUtils":function(){define(["exports",
"../../core/has","./arcgisLayerUrl"],function(a,b,c){function f(e,d,l){return!!g(e,d,l)}function g(e,d,l){return e&&e.hasOwnProperty(d)?e[d]:l}function q(e){e=e?.supportedSpatialAggregationStatistics?.map(d=>d.toLowerCase());return{envelope:!!e?.includes("envelopeaggregate"),centroid:!!e?.includes("centroidaggregate"),convexHull:!!e?.includes("convexhullaggregate")}}function u(e,d){return!!e?.supportedOperationsWithCacheHint?.map(l=>l.toLowerCase())?.includes(d.toLowerCase())}function p(e){const d=
e.attachmentProperties,l={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:u(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:f(e,"supportsAttachmentsResizing",!1)};d&&Array.isArray(d)&&d.forEach(n=>{const h=m[n.name];h&&(l[h]=!!n.isEnabled)});return l}function t(e,d,l){e=e?e.toLowerCase().split(",").map(v=>v.trim()):[];l=l?c.parse(l):null;l=e.includes(null!=l&&"MapServer"===l.serverType?"data":"query");const n=e.includes("editing")&&
!d.datesInUnknownTimezone;let h=n&&e.includes("create"),r=n&&e.includes("delete"),z=n&&e.includes("update");const x=e.includes("changetracking"),w=d.advancedQueryCapabilities;!n||h||r||z||(h=r=z=!0);return{supportsCalculate:f(d,"supportsCalculate",!1),supportsTruncate:f(d,"supportsTruncate",!1),supportsValidateSql:f(d,"supportsValidateSql",!1),supportsAdd:h,supportsDelete:r,supportsEditing:n,supportsChangeTracking:x,supportsQuery:l,supportsQueryAnalytics:f(w,"supportsQueryAnalytic",!1),supportsQueryAttachments:f(w,
"supportsQueryAttachments",!1),supportsQueryTopFeatures:f(w,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:f(d,"supportsAttachmentsResizing",!1),supportsSync:e.includes("sync"),supportsUpdate:z,supportsExceedsLimitStatistics:f(d,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:f(d,"supportsAsyncConvert3D",!1)}}function k(e,d){const l=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,h=e.archivingInfo;var r=e.currentVersion;r=!d?.includes("MapServer")||r>=
b("mapserver-pbf-version-support");d=c.isHostedAgolService(d);const z=new Set((e.supportedQueryFormats??"").split(",").map(x=>x.toLowerCase().trim()));return{supportsStatistics:f(l,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:f(l,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:f(l,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:q(l),supportsCentroid:f(l,"supportsReturningGeometryCentroid",!1),supportsDistance:f(l,
"supportsQueryWithDistance",!1),supportsDistinct:f(l,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:f(l,"supportsReturningQueryExtent",!1),supportsGeometryProperties:f(l,"supportsReturningGeometryProperties",!1),supportsHavingClause:f(l,"supportsHavingClause",!1),supportsOrderBy:f(l,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:f(l,"supportsPagination",!1),supportsQuantization:f(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:f(e,"supportsQuantizationEditMode",
!1),supportsQueryGeometry:f(e,"supportsReturningQueryGeometry",!1),supportsResultType:f(l,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:f(l,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:f(l,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:f(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:f(l,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:f(n,"allowOthersToQuery",!0),supportsHistoricMoment:f(h,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:r&&
z.has("pbf"),supportsDisjointSpatialRelationship:f(l,"supportsDisjointSpatialRel",!1),supportsCacheHint:f(l,"supportsQueryWithCacheHint",!1)||u(l,"query"),supportsDefaultSpatialReference:f(l,"supportsDefaultSR",!1),supportsCompactGeometry:d,supportsFullTextSearch:f(l,"supportsFullTextSearch",!1),maxRecordCountFactor:g(e,"maxRecordCountFactor",void 0),maxRecordCount:g(e,"maxRecordCount",void 0),standardMaxRecordCount:g(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:g(e,"tileMaxRecordCount",
void 0)}}const m={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};a.getFeatureLayerCapabilities=function(e,d){var l={supportsCacheHint:u(e.advancedQueryCapabilities,"queryAnalytics")},n=p(e);var h={isVersioned:f(e,"isDataVersioned",!1),supportsAttachment:f(e,"hasAttachments",!1),supportsM:f(e,"hasM",!1),supportsZ:f(e,"hasZ",!1)};var r={supportsAdvancedFieldProperties:f(e,"supportsFieldDescriptionProperty",!1)},z=t(e.capabilities,
e,d);d=k(e,d);var x=e.advancedQueryCapabilities;var w=f(x,"supportsAdvancedQueryRelated",!1);x={supportsPagination:f(x,"supportsQueryRelatedPagination",!1),supportsCount:w,supportsOrderBy:w,supportsCacheHint:u(x,"queryRelated")};w={supportsCacheHint:u(e.advancedQueryCapabilities,"queryTopFilter")};const v=e.ownershipBasedAccessControlForFeatures,A=e?e.advancedEditingCapabilities:void 0;e={supportsGeometryUpdate:f(e,"allowGeometryUpdates",!0),supportsGlobalId:f(e,"supportsApplyEditsWithGlobalIds",
!1),supportsReturnServiceEditsInSourceSpatialReference:f(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:f(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:f(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:f(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:f(v,"allowAnonymousToDelete",!0),supportsDeleteByOthers:f(v,"allowOthersToDelete",!0),supportsUpdateByAnonymous:f(v,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:f(v,"allowOthersToUpdate",
!0),supportsAsyncApplyEdits:f(A,"supportsAsyncApplyEdits",!1)};return{analytics:l,attachment:n,data:h,metadata:r,operations:z,query:d,queryRelated:x,queryTopFeatures:w,editing:e}};a.getVideoLayerCapabilities=function(e){return{operations:{supportsExportClip:f(e,"supportsExportClip",!1),supportsMensuration:f(e,"supportsMensuration",!1)},query:{supportsCoverageQuery:f(e,"supportsCoverageQuery",!1)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/FeatureReductionLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/AggregateField ../support/featureReductionUtils ../../views/2d/layers/support/clusterUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){a.FeatureReductionLayer=e=>{e=function(d){function l(...n){var h=d.call(this,...n)||this;h.own(h.watch("renderer",()=>{if(h.featureReduction){const r=h._normalizeFeatureReduction(h.featureReduction);h._set("featureReduction",r)}},!0));return h}b._inherits(l,d);l.prototype._normalizeFeatureReduction=function(n){if("cluster"!==n?.type)return n;const h=n.clone(),r=[new t({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],z=(h.fields??[]).filter(x=>!x.isAutoGenerated);
if(n.renderer&&!n.renderer.authoringInfo?.isAutoGenerated)return h.fields=[...r,...z],h;if(n.symbol)return h.fields=[...r,...z],h.renderer=null,h;if(!this.renderer)return n;n=m.createClusterRenderer(r,this.renderer,n,null,!1);h.fields=[...r,...z];h.renderer=n;return h};b._createClass(l,[{key:"featureReduction",set:function(n){n=this._normalizeFeatureReduction(n);this._set("featureReduction",n)}},{key:"renderer",set:function(n){}}]);return l}(e);c.__decorate([f.property(k.featureReductionProperty)],
e.prototype,"featureReduction",null);return e=c.__decorate([p.subclass("esri.layers.mixins.FeatureReductionLayer")],e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/AggregateField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ExpressionInfo".split(" "),
function(a,b,c,f,g,q,u,p){var t;c=t=function(k){function m(e){e=k.call(this,e)||this;e.isAutoGenerated=!1;e.name=null;e.alias=null;e.onStatisticField=null;e.onStatisticExpression=null;e.statisticType=null;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:f.clone(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})};return a._createClass(m)}(c.JSONSupport);
b.__decorate([g.property({type:Boolean,json:{write:!0}})],c.prototype,"isAutoGenerated",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"onStatisticField",void 0);b.__decorate([g.property({type:p,json:{write:!0}})],c.prototype,"onStatisticExpression",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],
c.prototype,"statisticType",void 0);return c=t=b.__decorate([u.subclass("esri.layers.support.AggregateField")],c)})},"esri/layers/support/ExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t){c=function(k){function m(e){e=
k.call(this,e)||this;e.expression=null;e.title=null;e.returnType=null;return e}a._inherits(m,k);return a._createClass(m)}(c.ClonableMixin(f.JSONSupport));b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"returnType",void 0);return c=b.__decorate([t.subclass("esri.layers.support.ExpressionInfo")],c)})},"esri/layers/support/featureReductionUtils":function(){define(["exports",
"./FeatureReduction","./FeatureReductionBinning","./FeatureReductionCluster","./FeatureReductionSelection"],function(a,b,c,f,g){const q={key:"type",base:b.FeatureReduction,typeMap:{cluster:f,binning:c}};a.featureReductionProperty={types:{key:"type",base:b.FeatureReduction,typeMap:{selection:g,cluster:f,binning:c}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:q},"portal-item":{types:q},"web-scene":{types:{key:"type",base:b.FeatureReduction,typeMap:{selection:g}}}}}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t){a.FeatureReduction=function(k){function m(){var e=k.apply(this,arguments)||this;
e.type=null;return e}b._inherits(m,k);return b._createClass(m)}(f.JSONSupport);c.__decorate([g.property({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=c.__decorate([t.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionBinning":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../core/lang ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./FeatureReduction ./LabelClass".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D,y){var G;f=G=function(F){function K(O){O=F.call(this,O)||this;O.type="binning";O.binType="geohash";O.fixedBinLevel=3;O.labelingInfo=null;O.labelsVisible=!0;O.maxScale=0;O.popupEnabled=!0;O.popupTemplate=null;O.fields=[];O.renderer=null;return O}a._inherits(K,F);var M=K.prototype;M.writeFields=function(O,H,J){O=O.filter(L=>"avg_angle"!==L.statisticType).map(L=>L.toJSON());n.setDeepValue(J,O,H)};M.readRenderer=function(O,H,J){return(O=H.drawingInfo?.renderer)?
e.read(O,H,J)??void 0:C.createDefaultRenderer(H,J)};M.clone=function(){return new G({fields:l.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:l.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:l.clone(this.popupTemplate),renderer:l.clone(this.renderer)})};return a._createClass(K)}(D.FeatureReduction);b.__decorate([z.enumeration({binning:"binning"})],f.prototype,"type",void 0);b.__decorate([z.enumeration({geohash:"geohash"})],
f.prototype,"binType",void 0);b.__decorate([h.property({type:Number,range:{min:1,max:9},json:{write:!0}})],f.prototype,"fixedBinLevel",void 0);b.__decorate([h.property({type:[y],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],f.prototype,"labelingInfo",void 0);b.__decorate([h.property(B.labelsVisible)],f.prototype,"labelsVisible",void 0);b.__decorate([h.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],f.prototype,"maxScale",void 0);
b.__decorate([h.property(B.popupEnabled)],f.prototype,"popupEnabled",void 0);b.__decorate([h.property({type:c,json:{name:"popupInfo",write:!0}})],f.prototype,"popupTemplate",void 0);b.__decorate([h.property({type:[A],json:{write:!0}})],f.prototype,"fields",void 0);b.__decorate([v.writer("fields")],f.prototype,"writeFields",null);b.__decorate([h.property({types:d.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],f.prototype,"renderer",void 0);b.__decorate([x.reader("renderer",["drawingInfo.renderer"])],
f.prototype,"readRenderer",null);return f=G=b.__decorate([w.subclass("esri.layers.support.FeatureReductionBinning")],f)})},"esri/layers/support/LabelClass":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ./layerUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r){function z(A,B,C){return{enabled:!n.isSceneServiceLayer(C?.layer)}}function x(A){return A?"service"===A.origin?!1:"map-image"!==A.layer?.type:!0}function w(A){return"map-image"===A?.type?!!A.capabilities?.exportMap?.supportsArcadeExpressionForLabeling:!1}var v;f=new f.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",
esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",
esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});g=v=function(A){function B(D){D=A.call(this,D)||this;D.type="label";D.name=null;D.allowOverrun=!1;D.deconflictionStrategy="static";D.labelExpression=null;D.labelExpressionInfo=null;D.labelPlacement=null;D.labelPosition="curved";D.maxScale=0;D.minScale=0;D.repeatLabel=!0;D.repeatLabelDistance=null;D.symbol=h.defaultTextSymbol2D;D.useCodedValues=void 0;D.where=null;return D}a._inherits(B,A);B.evaluateWhere=function(D,y){const G=(F,K,M)=>{switch(K){case "\x3d":return F==M;case "\x3c\x3e":return F!=
M;case "\x3e":return F>M;case "\x3e\x3d":return F>=M;case "\x3c":return F<M;case "\x3c\x3d":return F<=M}return!1};try{if(null==D)return!0;const F=D.split(" ");if(3===F.length)return G(y[F[0]],F[1],F[2]);if(7===F.length){const K=G(y[F[0]],F[1],F[2]),M=F[3],O=G(y[F[4]],F[5],F[6]);switch(M){case "AND":return K&&O;case "OR":return K||O}}return!1}catch(F){console.log("Error.: can't parse \x3d "+D)}};var C=B.prototype;C.readLabelExpression=function(D,y){y=y.labelExpressionInfo;if(!y||!y.value&&!y.expression)return D};
C.writeLabelExpression=function(D,y,G){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)D=l.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const F=l.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);F&&(D="["+F+"]")}null!=D&&(y[G]=D)};C.writeLabelExpressionInfo=function(D,y,G,F){if(null==D&&null!=this.labelExpression&&x(F))D=new d({expression:this.getLabelExpressionArcade()});else if(!D)return;D=D.toJSON(F);
D.expression&&(y[G]=D)};C.writeMaxScale=function(D,y){if(D||this.minScale)y.maxScale=D};C.writeMinScale=function(D,y){if(D||this.maxScale)y.minScale=D};C.getLabelExpression=function(){return l.getLabelExpression(this)};C.getLabelExpressionArcade=function(){return l.getLabelExpressionArcade(this)};C.getLabelExpressionSingleField=function(){return l.getLabelExpressionSingleField(this)};C.hash=function(){return JSON.stringify(this)};C.clone=function(){return new v({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,
labelExpression:this.labelExpression,labelExpressionInfo:q.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:q.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};return a._createClass(B)}(g.JSONSupport);b.__decorate([p.property({type:String,json:{write:!0}})],g.prototype,"name",void 0);
b.__decorate([p.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:z}}}}})],g.prototype,"allowOverrun",void 0);b.__decorate([p.property({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:z}}}}})],g.prototype,"deconflictionStrategy",void 0);b.__decorate([p.property({type:String,json:{write:{overridePolicy(A,B,C){return this.labelExpressionInfo&&
"service"===C?.origin&&w(C.layer)?{enabled:!1}:{allowNull:!0}}}}})],g.prototype,"labelExpression",void 0);b.__decorate([k.reader("labelExpression")],g.prototype,"readLabelExpression",null);b.__decorate([e.writer("labelExpression")],g.prototype,"writeLabelExpression",null);b.__decorate([p.property({type:d,json:{write:{overridePolicy(A,B,C){return x(C)||w(C?.layer)?{allowNull:!0}:{enabled:!1}}}}})],g.prototype,"labelExpressionInfo",void 0);b.__decorate([e.writer("labelExpressionInfo")],g.prototype,
"writeLabelExpressionInfo",null);b.__decorate([p.property({type:f.apiValues,json:{type:f.jsonValues,read:f.read,write:f.write}})],g.prototype,"labelPlacement",void 0);b.__decorate([p.property({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],g.prototype,"labelPosition",void 0);b.__decorate([p.property({type:Number})],g.prototype,"maxScale",void 0);b.__decorate([e.writer("maxScale")],g.prototype,"writeMaxScale",null);b.__decorate([p.property({type:Number})],
g.prototype,"minScale",void 0);b.__decorate([e.writer("minScale")],g.prototype,"writeMinScale",null);b.__decorate([p.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:z}}}}})],g.prototype,"repeatLabel",void 0);b.__decorate([p.property({type:Number,cast:u.toPt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:z}}}}})],g.prototype,"repeatLabelDistance",void 0);b.__decorate([p.property({types:c.symbolTypesLabel,
json:{origins:{"web-scene":{types:c.symbolTypesLabel3D,write:r.writeLabelSymbol,default:null}},write:r.writeLabelSymbol,default:null}})],g.prototype,"symbol",void 0);b.__decorate([p.property({type:Boolean,json:{write:!0}})],g.prototype,"useCodedValues",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],g.prototype,"where",void 0);return g=v=b.__decorate([m.subclass("esri.layers.support.LabelClass")],g)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){var e;c=e=function(d){function l(){var h=d.apply(this,arguments)||this;h.expression=null;h.title=null;h.value=null;return h}a._inherits(l,d);var n=l.prototype;n.readExpression=function(h,r){return r.value?m.convertTemplatedStringToArcade(r.value):h};n.writeExpression=function(h,r,z){null!=this.value&&(h=m.convertTemplatedStringToArcade(this.value));null!=h&&(r[z]=h)};n.clone=function(){return new e({expression:this.expression,title:this.title,value:this.value})};return a._createClass(l)}(c.JSONSupport);
b.__decorate([f.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],c.prototype,"expression",void 0);b.__decorate([p.reader("expression",["expression","value"])],c.prototype,"readExpression",null);b.__decorate([k.writer("expression")],c.prototype,"writeExpression",null);b.__decorate([f.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"title",void 0);b.__decorate([f.property({json:{read:!1,write:!1}})],c.prototype,"value",void 0);return c=e=b.__decorate([t.subclass("esri.layers.support.LabelExpressionInfo")],
c)})},"esri/layers/support/labelUtils":function(){define(["exports","../../core/string"],function(a,b){function c(h){return h.replaceAll(RegExp("\\[","g"),"{").replaceAll(RegExp("\\]","g"),"}")}function f(h){const r={expression:"",type:"none"};h.labelExpressionInfo?h.labelExpressionInfo.value?(r.expression=h.labelExpressionInfo.value,r.type="conventional"):h.labelExpressionInfo.expression&&(r.expression=h.labelExpressionInfo.expression,r.type="arcade"):null!=h.labelExpression&&(r.expression=c(h.labelExpression),
r.type="conventional");return r}function g(h){h?(h=b.replace(h,r=>'__begin__$feature["'+r+'"]__end__'),h=k.test(h)?h.replace(k,""):'"'+h,h=m.test(h)?h.replace(m,""):h+'"',h=h.replaceAll(p,'" + ').replaceAll(t,' + "')):h='""';return h}function q(h){return(h=h?.match(e))&&h[1].trim()||null}function u(h){if(!h)return null;let r=d.exec(h)||l.exec(h);return r?r[1]||r[3]:(r=n.exec(h))?r[2]:null}const p=RegExp("__begin__","ig"),t=RegExp("__end__","ig"),k=RegExp("^__begin__","i"),m=RegExp("__end__$","i"),
e=/^\s*\{([^}]+)\}\s*$/i,d=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,l=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,n=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=g;a.getLabelExpression=f;a.getLabelExpressionArcade=function(h){h=f(h);if(!h)return null;switch(h.type){case "conventional":return g(h.expression);case "arcade":return h.expression}return null};
a.getLabelExpressionSingleField=function(h){h=f(h);if(!h)return null;switch(h.type){case "conventional":return q(h.expression);case "arcade":return u(h.expression)}return null};a.getSingleFieldArcadeExpression=u;a.getSingleFieldTemplatedString=q;a.sqlToTemplateString=c;a.templateStringToSql=function(h){return h.replaceAll(RegExp("\\{","g"),"[").replaceAll(RegExp("\\}","g"),"]")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),
function(a,b,c,f,g,q,u){const p=g.fromJSON(u.defaultPointSymbolJSON),t=f.fromJSON(u.defaultPolylineSymbolJSON),k=c.fromJSON(u.defaultPolygonSymbolJSON);b=q.fromJSON(u.defaultTextSymbolJSON);g=g.fromJSON(u.errorPointSymbolJSON);f=f.fromJSON(u.errorPolylineSymbolJSON);c=c.fromJSON(u.errorPolygonSymbolJSON);a.defaultPointSymbol2D=p;a.defaultPolygonSymbol2D=k;a.defaultPolylineSymbol2D=t;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=g;a.errorPolygonSymbol2D=c;a.errorPolylineSymbol2D=f;a.getDefaultSymbol2D=
function(m){if(null==m)return null;switch(m.type){case "point":case "multipoint":return p;case "polyline":return t;case "polygon":case "extent":return k}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(a){const b=[252,146,31,255],c={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},f={type:"esriSLS",style:"esriSLSSolid",
width:.75,color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=c;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=f;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,
text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./LabelClass".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D,y,G){var F;f=F=function(K){function M(H){H=K.call(this,H)||this;H.type="cluster";H.clusterRadius=z.toPt("80px");H.clusterMinSize=z.toPt("12px");H.clusterMaxSize=z.toPt("50px");H.maxScale=0;H.popupEnabled=!0;H.popupTemplate=null;H.renderer=null;H.symbol=null;H.labelingInfo=null;H.labelsVisible=!0;H.fields=null;return H}a._inherits(M,K);var O=M.prototype;O.readRenderer=function(H,J,L){H=J.drawingInfo?.renderer;return H?.authoringInfo?.isAutoGenerated?
null:H?"simple"!==H.type||H.visualVariables?.length?e.read(H,J,L)??void 0:null:y.createDefaultRenderer(J,L)};O.readSymbol=function(H,J,L){H=J.drawingInfo?.renderer;return H?.authoringInfo?.isAutoGenerated?null:H&&"simple"===H.type&&!H.visualVariables?.length?e.read(H,J,L)?.symbol:null};O.writeSymbol=function(H,J,L,N){L=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||L)H=new k({symbol:H}),J.drawingInfo={renderer:H.write({},N)}};O.writeFields=function(H,J,L){H=H.filter(N=>"avg_angle"!==
N.statisticType).map(N=>N.toJSON());r.setDeepValue(L,H,J)};O.readFields=function(H,J,L){return H.filter(N=>!N.isAutoGenerated).map(N=>C.fromJSON(N))};O.clone=function(){return new F({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:h.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:h.clone(this.fields),maxScale:this.maxScale,renderer:h.clone(this.renderer),symbol:h.clone(this.symbol),popupEnabled:this.popupEnabled,
popupTemplate:h.clone(this.popupTemplate)})};return a._createClass(M)}(n.JSONSupport);b.__decorate([x.property({type:["cluster"],readOnly:!0,json:{write:!0}})],f.prototype,"type",void 0);b.__decorate([x.property({type:Number,cast:K=>"auto"===K?K:z.toPt(K),json:{write:!0}})],f.prototype,"clusterRadius",void 0);b.__decorate([x.property({type:Number,cast:z.toPt,json:{write:!0}})],f.prototype,"clusterMinSize",void 0);b.__decorate([x.property({type:Number,cast:z.toPt,json:{write:!0}})],f.prototype,"clusterMaxSize",
void 0);b.__decorate([x.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],f.prototype,"maxScale",void 0);b.__decorate([x.property(D.popupEnabled)],f.prototype,"popupEnabled",void 0);b.__decorate([x.property({type:c,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],f.prototype,"popupTemplate",void 0);b.__decorate([x.property({types:d.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],f.prototype,"renderer",void 0);b.__decorate([v.reader("renderer",["drawingInfo.renderer"])],
f.prototype,"readRenderer",null);b.__decorate([x.property({types:l.symbolTypesCluster})],f.prototype,"symbol",void 0);b.__decorate([v.reader("symbol",["drawingInfo.renderer"])],f.prototype,"readSymbol",null);b.__decorate([B.writer("symbol")],f.prototype,"writeSymbol",null);b.__decorate([x.property({type:[G],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],f.prototype,"labelingInfo",void 0);b.__decorate([x.property(D.labelsVisible)],f.prototype,"labelsVisible",
void 0);b.__decorate([x.property({type:[C],json:{write:!0}})],f.prototype,"fields",void 0);b.__decorate([B.writer("fields")],f.prototype,"writeFields",null);b.__decorate([v.reader("fields")],f.prototype,"readFields",null);return f=F=b.__decorate([A.subclass("esri.layers.support.FeatureReductionCluster")],f)})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),
function(a,b,c,f,g,q,u,p){var t;f=t=function(k){function m(e){e=k.call(this,e)||this;e.type="selection";return e}a._inherits(m,k);m.prototype.clone=function(){return new t};return a._createClass(m)}(p.FeatureReduction);b.__decorate([c.property({type:["selection"]})],f.prototype,"type",void 0);return f=t=b.__decorate([u.subclass("esri.layers.support.FeatureReductionSelection")],f)})},"esri/views/2d/layers/support/clusterUtils":function(){define("exports ../../../../core/Error ../../../../core/has ../../../../core/Logger ../../../../core/MD5 ../../../../layers/support/AggregateField ../../../../layers/support/ExpressionInfo ../../../../renderers/support/AuthoringInfo ../../../../renderers/visualVariables/SizeVariable ../../../../renderers/visualVariables/support/SizeStop ../../engine/LevelDependentSizeVariable".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){function e(v,A,B){switch(v){case "sum":return`cluster_sum_${A}`;case "avg":case "avg_angle":return`cluster_avg_${A}`;case "mode":return`cluster_type_${A}`;case "avg_norm":return v=A.toLowerCase()+",norm:field,"+B.toLowerCase(),"cluster_avg_"+g.createMD5Hash(v)}}function d(v,A,B,C){const D=g.createMD5Hash(A),y="mode"===B?`cluster_type_${D}`:"sum"===B?`cluster_sum_${D}`:`cluster_avg_${D}`;v.some(G=>G.name===y)||v.push(new q({name:y,isAutoGenerated:!0,onStatisticExpression:new u({expression:A,
returnType:C}),statisticType:B}));return y}function l(v,A,B,C,D){if("cluster_count"===A||v.some(G=>G.name===A))return A;const y=e(B,A,D);v.some(G=>G.name===y)||("avg_norm"===B?v.push(new q({name:y,isAutoGenerated:!0,onStatisticExpression:new u({expression:`$feature.${A} / $feature.${D}`,returnType:C}),statisticType:"avg"})):v.push(new q({name:y,isAutoGenerated:!0,onStatisticField:A,statisticType:B})));return y}const n=f.getLogger("esri.views.2d.layers.support.clusterUtils");c.add("esri-cluster-arcade-enabled",
!0);const h=c("esri-cluster-arcade-enabled"),r=v=>{for(const A of v)if("size"===A.type)return A;return null},z=v=>{for(const A of v)if("cluster_count"===A.field)return!0;return!1},x=(v,A)=>{const B=[new k({value:0,size:0}),new k({value:1})];if(null==A)return new t({field:"cluster_count",stops:[...B,new k({value:2,size:0})]});const C=Object.keys(A).reduce((D,y)=>({...D,[y]:[...B,new k({value:Math.max(2,A[y].minValue),size:v.clusterMinSize}),new k({value:Math.max(3,A[y].maxValue),size:v.clusterMaxSize})]}),
{});return new m.LevelDependentSizeVariable({field:"cluster_count",levels:C})},w=v=>{const A=B=>n.error(new b("Unsupported-renderer",B,{renderer:v}));if(!v)return!1;switch(v.type){case "unique-value":if(v.field2||v.field3)return A("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case "class-breaks":if(v.normalizationField){const B=v.normalizationType;if("field"!==B)return A(`FeatureReductionCluster does not support a normalizationType of ${B}`),!1}break;case "simple":case "pie-chart":break;
default:return A(`FeatureReductionCluster does not support renderers of type ${v.type}`),!1}if(!h){if("valueExpression"in v&&v.valueExpression)return A("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in v&&v.visualVariables||[]).some(B=>!!("valueExpression"in B&&B.valueExpression)))return A("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),
!1}return!0};a.createClusterCountSizeVariable=x;a.createClusterRenderer=(v,A,B,C,D)=>{A=A.clone();if(!w(A))return A;A.authoringInfo||(A.authoringInfo=new p);A.authoringInfo.isAutoGenerated=!0;if("visualVariables"in A){const y=(A.visualVariables||[]).filter(F=>"$view.scale"!==F.valueExpression),G=r(y);y.forEach(F=>{"rotation"===F.type?F.field?F.field=l(v,F.field,"avg_angle","number"):F.valueExpression&&(F.field=d(v,F.valueExpression,"avg_angle","number"),F.valueExpression=null):F.normalizationField?
(F.field=l(v,F.field,"avg_norm","number",F.normalizationField),F.normalizationField=null):F.field?F.field=l(v,F.field,"avg","number"):F.valueExpression&&(F.field=d(v,F.valueExpression,"avg","number"),F.valueExpression=null)});null==G&&!z(y)&&D&&(y.push(x(B,C)),A.dynamicClusterSize=!0);A.visualVariables=y}switch(A.type){case "pie-chart":for(const y of A.attributes)y.field?y.field=l(v,y.field,"sum","number"):y.valueExpression&&(y.field=d(v,y.valueExpression,"sum","number"),y.valueExpression=null);break;
case "unique-value":A.field?A.field=l(v,A.field,"mode","string"):A.valueExpression&&(A.field=d(v,A.valueExpression,"mode","string"),A.valueExpression=null);break;case "class-breaks":A.normalizationField?(A.field=l(v,A.field,"avg_norm","number",A.normalizationField),A.normalizationField=null):A.field?A.field=l(v,A.field,"avg","number"):A.valueExpression&&(A.field=d(v,A.valueExpression,"avg","number"),A.valueExpression=null)}return A};a.findSizeVV=r;a.hasClusterCountVV=z;a.injectDynamicLevelDependentSizeVisualVariable=
function(v,A,B){v=v.clone();let C=!1;if("visualVariables"in v){const D=(v.visualVariables||[]).filter(y=>"$view.scale"!==y.valueExpression);null==r(D)&&(v.visualVariables||(v.visualVariables=[]),v.visualVariables.push(x(A,B)),C=v.dynamicClusterSize=!0)}return{renderer:v,didInject:C}};a.isClusterCompatibleRenderer=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MD5":function(){define(["exports"],function(a){function b(p,t){const k=(p&65535)+(t&65535);return(p>>16)+(t>>
16)+(k>>16)<<16|k&65535}function c(p,t,k,m,e,d){p=b(b(t,p),b(m,d));return b(p<<e|p>>>32-e,k)}function f(p,t,k,m,e,d,l){return c(t&k|~t&m,p,t,e,d,l)}function g(p,t,k,m,e,d,l){return c(t&m|k&~m,p,t,e,d,l)}function q(p,t,k,m,e,d,l){return c(k^(t|~m),p,t,e,d,l)}const u={Base64:0,Hex:1,String:2,Raw:3};a.createMD5Hash=function(p,t=u.Hex){t=t||u.Base64;var k=[];for(let l=0,n=8*p.length;l<n;l+=8)k[l>>5]|=(p.charCodeAt(l/8)&255)<<l%32;p=8*p.length;k[p>>5]|=128<<p%32;k[(p+64>>>9<<4)+14]=p;p=1732584193;var m=
-271733879;let e=-1732584194,d=271733878;for(let l=0;l<k.length;l+=16){const n=p,h=m,r=e,z=d;p=f(p,m,e,d,k[l],7,-680876936);d=f(d,p,m,e,k[l+1],12,-389564586);e=f(e,d,p,m,k[l+2],17,606105819);m=f(m,e,d,p,k[l+3],22,-1044525330);p=f(p,m,e,d,k[l+4],7,-176418897);d=f(d,p,m,e,k[l+5],12,1200080426);e=f(e,d,p,m,k[l+6],17,-1473231341);m=f(m,e,d,p,k[l+7],22,-45705983);p=f(p,m,e,d,k[l+8],7,1770035416);d=f(d,p,m,e,k[l+9],12,-1958414417);e=f(e,d,p,m,k[l+10],17,-42063);m=f(m,e,d,p,k[l+11],22,-1990404162);p=f(p,
m,e,d,k[l+12],7,1804603682);d=f(d,p,m,e,k[l+13],12,-40341101);e=f(e,d,p,m,k[l+14],17,-1502002290);m=f(m,e,d,p,k[l+15],22,1236535329);p=g(p,m,e,d,k[l+1],5,-165796510);d=g(d,p,m,e,k[l+6],9,-1069501632);e=g(e,d,p,m,k[l+11],14,643717713);m=g(m,e,d,p,k[l],20,-373897302);p=g(p,m,e,d,k[l+5],5,-701558691);d=g(d,p,m,e,k[l+10],9,38016083);e=g(e,d,p,m,k[l+15],14,-660478335);m=g(m,e,d,p,k[l+4],20,-405537848);p=g(p,m,e,d,k[l+9],5,568446438);d=g(d,p,m,e,k[l+14],9,-1019803690);e=g(e,d,p,m,k[l+3],14,-187363961);
m=g(m,e,d,p,k[l+8],20,1163531501);p=g(p,m,e,d,k[l+13],5,-1444681467);d=g(d,p,m,e,k[l+2],9,-51403784);e=g(e,d,p,m,k[l+7],14,1735328473);m=g(m,e,d,p,k[l+12],20,-1926607734);p=c(m^e^d,p,m,k[l+5],4,-378558);d=c(p^m^e,d,p,k[l+8],11,-2022574463);e=c(d^p^m,e,d,k[l+11],16,1839030562);m=c(e^d^p,m,e,k[l+14],23,-35309556);p=c(m^e^d,p,m,k[l+1],4,-1530992060);d=c(p^m^e,d,p,k[l+4],11,1272893353);e=c(d^p^m,e,d,k[l+7],16,-155497632);m=c(e^d^p,m,e,k[l+10],23,-1094730640);p=c(m^e^d,p,m,k[l+13],4,681279174);d=c(p^m^
e,d,p,k[l],11,-358537222);e=c(d^p^m,e,d,k[l+3],16,-722521979);m=c(e^d^p,m,e,k[l+6],23,76029189);p=c(m^e^d,p,m,k[l+9],4,-640364487);d=c(p^m^e,d,p,k[l+12],11,-421815835);e=c(d^p^m,e,d,k[l+15],16,530742520);m=c(e^d^p,m,e,k[l+2],23,-995338651);p=q(p,m,e,d,k[l],6,-198630844);d=q(d,p,m,e,k[l+7],10,1126891415);e=q(e,d,p,m,k[l+14],15,-1416354905);m=q(m,e,d,p,k[l+5],21,-57434055);p=q(p,m,e,d,k[l+12],6,1700485571);d=q(d,p,m,e,k[l+3],10,-1894986606);e=q(e,d,p,m,k[l+10],15,-1051523);m=q(m,e,d,p,k[l+1],21,-2054922799);
p=q(p,m,e,d,k[l+8],6,1873313359);d=q(d,p,m,e,k[l+15],10,-30611744);e=q(e,d,p,m,k[l+6],15,-1560198380);m=q(m,e,d,p,k[l+13],21,1309151649);p=q(p,m,e,d,k[l+4],6,-145523070);d=q(d,p,m,e,k[l+11],10,-1120210379);e=q(e,d,p,m,k[l+2],15,718787259);m=q(m,e,d,p,k[l+9],21,-343485551);p=b(p,n);m=b(m,h);e=b(e,r);d=b(d,z)}k=[p,m,e,d];switch(t){case u.Raw:return k;case u.Hex:t=[];for(let l=0,n=4*k.length;l<n;l++)t.push("0123456789abcdef".charAt(k[l>>2]>>l%4*8+4&15)+"0123456789abcdef".charAt(k[l>>2]>>l%4*8&15));return t.join("");
case u.String:t=[];for(let l=0,n=32*k.length;l<n;l+=8)t.push(String.fromCharCode(k[l>>5]>>>l%32&255));return t.join("");case u.Base64:t=[];for(let l=0,n=4*k.length;l<n;l+=3)for(p=(k[l>>2]>>l%4*8&255)<<16|(k[l+1>>2]>>(l+1)%4*8&255)<<8|k[l+2>>2]>>(l+2)%4*8&255,m=0;4>m;m++)8*l+6*m>32*k.length?t.push("\x3d"):t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(p>>6*(3-m)&63));return t.join("")}};a.outputTypes=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/2d/engine/LevelDependentSizeVariable":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../renderers/visualVariables/SizeVariable ../../../renderers/visualVariables/support/sizeVariableUtils".split(" "),function(a,b,c,f,g,q,u,p,t,
k){var m;a.LevelDependentSizeVariable=m=function(e){function d(){return e.apply(this,arguments)||this}b._inherits(d,e);var l=d.prototype;l.writeLevels=function(n,h,r){for(const z in n){h.stops=this.levels[z];break}};l.clone=function(){return new m({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:k.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:k.isSizeVariable(this.minSize)?
this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(n=>n.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:f.clone(this.levels)})};return b._createClass(d)}(t);c.__decorate([g.property()],a.LevelDependentSizeVariable.prototype,"levels",void 0);c.__decorate([p.writer("levels")],a.LevelDependentSizeVariable.prototype,
"writeLevels",null);a.LevelDependentSizeVariable=m=c.__decorate([u.subclass("esri.views.2d.engine.LevelDependentSizeVariable")],a.LevelDependentSizeVariable);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),
function(a,b,c,f,g,q,u,p,t,k){function m(d,l,n){if(!d)return null;d=d.find(h=>!!h.field);if(!d)return null;l=new k;l.read(d,n);return[l]}function e(d,l,n,h){(d=d.find(r=>!!r.field))&&f.setDeepValue(n,[d.toJSON()],l)}a.OrderedLayer=d=>{d=function(l){function n(){var h=l.apply(this,arguments)||this;h.orderBy=null;return h}b._inherits(n,l);return b._createClass(n)}(d);c.__decorate([g.property({type:[k],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:m},write:{target:"layerDefinition.orderBy",
writer:e}}})],d.prototype,"orderBy",void 0);return d=c.__decorate([t.subclass("esri.layers.mixins.OrderedLayer")],d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t){var k;c=new c.JSONMap({asc:"ascending",desc:"descending"});f=k=function(m){function e(d){d=m.call(this,d)||this;d.field=null;d.valueExpression=null;d.order="ascending";return d}a._inherits(e,m);e.prototype.clone=function(){return new k({field:this.field,valueExpression:this.valueExpression,order:this.order})};return a._createClass(e)}(f.JSONSupport);b.__decorate([g.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);b.__decorate([g.property({type:String,
json:{write:!0}})],f.prototype,"valueExpression",void 0);b.__decorate([g.property({type:c.apiValues,json:{read:c.read,write:c.write}})],f.prototype,"order",void 0);return f=k=b.__decorate([t.subclass("esri.layers.support.OrderByInfo")],f)})},"esri/layers/mixins/PublishableLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),
function(a,b,c,f,g,q,u,p,t){const k=Symbol("esri.layers.mixins.PublishableLayer");a.PublishableLayer=m=>{m=function(d){function l(){var n=d.apply(this,arguments)||this;n[e]=!0;return n}b._inherits(l,d);l.prototype._checkPublishingStatus=function(n){let h=0;const r=async x=>{n.updating=!0;let w;try{w=await this.fetchPublishingStatus()}catch(v){w="unavailable"}if("published"===w||"unavailable"===w)"publishing"===n.status&&this.refresh(),z.remove();n.status=w;n.updating=!1;z.removed||(h=setTimeout(r,
x,x+125))},z={removed:!1,remove(){this.removed=!0;clearTimeout(h)}};this.when().catch(()=>z.remove());r(250);this.own(z)};b._createClass(l,[{key:"publishingInfo",get:function(){if(this.destroyed)return null;var n=this._get("publishingInfo");if(n)return n;n=new t;this._checkPublishingStatus(n);return n}}]);return l}(m);var e=k;c.__decorate([f.property({readOnly:!0,clonable:!1})],m.prototype,"publishingInfo",null);return m=c.__decorate([p.subclass("esri.layers.mixins.PublishableLayer")],m)};a.isPublishableLayer=
function(m){return null!=m&&"object"===typeof m&&k in m};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PublishingInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p){c=function(t){function k(){var m=t.apply(this,
arguments)||this;m.updating=!1;m.status="unknown";return m}a._inherits(k,t);return a._createClass(k)}(c);b.__decorate([f.property()],c.prototype,"updating",void 0);b.__decorate([f.property()],c.prototype,"status",void 0);return c=b.__decorate([p.subclass("esri.layers.support.PublishingInfo")],c)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/fieldUtils ../support/TimeInfo ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l){a.TemporalLayer=n=>{n=function(h){function r(){var z=h.apply(this,arguments)||this;z.timeExtent=null;z.timeOffset=null;z.useViewTime=!0;return z}b._inherits(r,h);r.prototype.readOffset=function(z,x){x=x.timeInfo.exportOptions;if(!x)return null;z=x.timeOffset;x=l.timeUnitKebabDictionary.fromJSON(x.timeOffsetUnits);return z&&x?new g({value:z,unit:x}):null};b._createClass(r,[{key:"timeInfo",set:function(z){e.fixTimeInfoFields(z,this.fieldsIndex);this._set("timeInfo",
z)}}]);return r}(n);c.__decorate([q.property({type:f,json:{write:!1}})],n.prototype,"timeExtent",void 0);c.__decorate([q.property({type:g})],n.prototype,"timeOffset",void 0);c.__decorate([k.reader("service","timeOffset",["timeInfo.exportOptions"])],n.prototype,"readOffset",null);c.__decorate([q.property({value:null,type:d,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],n.prototype,"timeInfo",null);c.__decorate([q.property({type:Boolean,json:{read:{source:"timeAnimation"},
write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],n.prototype,"useViewTime",void 0);return n=c.__decorate([m.subclass("esri.layers.mixins.TemporalLayer")],n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeInterval":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Clonable ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/enumeration ./core/accessorSupport/decorators/subclass ./portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){c=function(d){function l(n){n=d.call(this,n)||this;n.unit="milliseconds";n.value=0;return n}a._inherits(l,d);l.prototype.toMilliseconds=function(){return g.convertTime(this.value,this.unit,"milliseconds")};return a._createClass(l)}(c.ClonableMixin(f.JSONSupport));b.__decorate([k.enumeration(e.timeUnitKebabDictionary,{nonNullable:!0})],c.prototype,"unit",void 0);b.__decorate([q.property({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",void 0);return c=
b.__decorate([m.subclass("esri.TimeInterval")],c)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports","../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});
a.timeUnitKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../time/TimeReference".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l){g=function(n){function h(z){z=n.call(this,z)||this;z.cumulative=!1;z.endField=null;z.fullTimeExtent=null;z.hasLiveData=!1;z.interval=null;z.startField=null;z.timeReference=null;z.trackIdField=null;z.useTime=!0;return z}a._inherits(h,n);var r=h.prototype;r.readFullTimeExtent=function(z,x){return x.timeExtent&&Array.isArray(x.timeExtent)&&2===x.timeExtent.length?new c({start:new Date(x.timeExtent[0]),end:new Date(x.timeExtent[1])}):null};r.writeFullTimeExtent=function(z,
x){x.timeExtent=z&&null!=z.start&&null!=z.end?[z.start.getTime(),z.end.getTime()]:null};r.readInterval=function(z,x){return x.timeInterval&&x.timeIntervalUnits?f.fromJSON({value:x.timeInterval,unit:x.timeIntervalUnits}):x.defaultTimeInterval&&x.defaultTimeIntervalUnits?f.fromJSON({value:x.defaultTimeInterval,unit:x.defaultTimeIntervalUnits}):null};r.writeInterval=function(z,x){x.timeInterval=z?.toJSON().value??null;x.timeIntervalUnits=z?.toJSON().unit??null};return a._createClass(h)}(g.ClonableMixin(q.JSONSupport));
b.__decorate([u.property({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],g.prototype,"cumulative",void 0);b.__decorate([u.property({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],g.prototype,"endField",void 0);b.__decorate([u.property({type:c,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"fullTimeExtent",void 0);b.__decorate([m.reader("fullTimeExtent",["timeExtent"])],g.prototype,"readFullTimeExtent",null);b.__decorate([d.writer("fullTimeExtent")],
g.prototype,"writeFullTimeExtent",null);b.__decorate([u.property({type:Boolean,json:{write:!0}})],g.prototype,"hasLiveData",void 0);b.__decorate([u.property({type:f,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"interval",void 0);b.__decorate([m.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],g.prototype,"readInterval",null);b.__decorate([d.writer("interval")],g.prototype,"writeInterval",null);b.__decorate([u.property({type:String,
json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],g.prototype,"startField",void 0);b.__decorate([u.property({type:l,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"timeReference",void 0);b.__decorate([u.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"trackIdField",void 0);b.__decorate([u.property({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],g.prototype,"useTime",void 0);return g=b.__decorate([e.subclass("esri.layers.support.TimeInfo")],
g)})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t,k){f=new f.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",
esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});c=function(m){function e(d){d=
m.call(this,d)||this;d.name=null;d.description=null;d.drawingTool=null;d.prototype=null;d.thumbnail=null;return d}a._inherits(e,m);return a._createClass(e)}(c.ClonableMixin(g.JSONSupport));b.__decorate([q.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([q.property({json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([q.property({json:{read:f.read,write:f.write}})],c.prototype,"drawingTool",void 0);b.__decorate([q.property({json:{write:!0}})],c.prototype,"prototype",
void 0);b.__decorate([q.property({json:{write:!0}})],c.prototype,"thumbnail",void 0);return c=b.__decorate([k.subclass("esri.layers.support.FeatureTemplate")],c)})},"esri/layers/support/FeatureType":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d){c=function(l){function n(r){r=l.call(this,r)||this;r.id=null;r.name=null;r.domains=null;r.templates=null;return r}a._inherits(n,l);var h=n.prototype;h.readDomains=function(r){const z={};for(const x of Object.keys(r))z[x]=e.fromJSON(r[x]);return z};h.writeDomains=function(r,z){const x={};for(const w of Object.keys(r))r[w]&&(x[w]=r[w]?.toJSON());z.domains=x};return a._createClass(n)}(c.ClonableMixin(f.JSONSupport));b.__decorate([g.property({json:{write:!0}})],c.prototype,
"id",void 0);b.__decorate([g.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([g.property({json:{write:!0}})],c.prototype,"domains",void 0);b.__decorate([t.reader("domains")],c.prototype,"readDomains",null);b.__decorate([m.writer("domains")],c.prototype,"writeDomains",null);b.__decorate([g.property({type:[d],json:{write:!0}})],c.prototype,"templates",void 0);return c=b.__decorate([k.subclass("esri.layers.support.FeatureType")],c)})},"esri/layers/support/fieldProperties":function(){define(["exports",
"../../core/Logger","./Field","./FieldsIndex","./fieldUtils"],function(a,b,c,f,g){a.defineFieldProperties=function(){return{fields:{type:[c],value:null},fieldsIndex:{readOnly:!0,get(){return new f(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(q){this._userOutFields=q;this.notifyChange("outFields")},get:function(){const q=this._userOutFields;if(!q||!q.length)return null;if(q.includes("*"))return["*"];if(!this.fields)return q;for(const u of q)this.fieldsIndex?.has(u)||b.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",
`Invalid field ${u} found in outFields`,{layer:this,outFields:q});return g.fixFields(this.fieldsIndex,q)}}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/labelingInfo":function(){define(["exports","../../core/Error","../../core/lang","../../core/Logger","./LabelClass"],function(a,b,c,f,g){const q=f.getLogger("esri.layers.support.labelingInfo"),u=/\[([^\[\]]+)\]/gi,p={esriGeometryPoint:"above-right above-center above-left center-center center-left center-right below-center below-left below-right".split(" "),
esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};a.reader=function(t,k,m){return t?t.map(e=>{const d=new g;d.read(e,m);if(d.labelExpression){const l=k.fields||k.layerDefinition&&k.layerDefinition.fields||this.fields;d.labelExpression=d.labelExpression.replaceAll(u,(n,h)=>{a:if(l){n=h.toLowerCase();for(let r=0;r<l.length;r++){const z=l[r].name;if(z.toLowerCase()===n){h=z;break a}}}return`[${h}]`})}return d}):null};a.validateLabelingInfo=function(t,
k){t=c.clone(t);return t.some(m=>{{const d=m.labelPlacement;var e=p[k];m.symbol?e?(e.includes(d)||(e=e[0],d&&q.warn(`Found invalid label placement type ${d} for ${k}. Defaulting to ${e}`),m.labelPlacement=e),m=!1):(q.error(new b("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${k}' is not supported`)),m=!0):(q.warn("No ILabelClass symbol specified."),m=!0)}return m})?[]:t};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/versionUtils":function(){define(["exports",
"./arcgisLayerUrl"],function(a,b){const c=[];c.push([10.91,()=>{const f=new Set([9709,9716,9741,9761,9766]);for(var g=9712;9713>=g;g++)f.add(g);for(g=9748;9749>=g;g++)f.add(g);for(g=20904;20932>=g;g++)f.add(g);for(g=21004;21032>=g;g++)f.add(g);for(g=21207;21264>=g;g++)f.add(g);for(g=21307;21364>=g;g++)f.add(g);for(g=102759;102760>=g;g++)f.add(g);for(g=102901;102955>=g;g++)f.add(g);return f}]);c.push([10.9,()=>{const f=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,
103872,104028]);for(var g=9356;9360>=g;g++)f.add(g);for(g=9404;9407>=g;g++)f.add(g);for(g=9476;9482>=g;g++)f.add(g);for(g=9487;9494>=g;g++)f.add(g);for(g=9697;9699>=g;g++)f.add(g);return f}]);c.push([10.81,()=>{const f=new Set([9265,9333,103598,103699]);for(var g=9248;9254>=g;g++)f.add(g);for(g=9271;9273>=g;g++)f.add(g);for(g=9284;9285>=g;g++)f.add(g);for(g=21453;21463>=g;g++)f.add(g);return f}]);c.push([10.8,()=>{const f=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,
9017,9191]);for(var g=8035;8036>=g;g++)f.add(g);for(g=8455;8456>=g;g++)f.add(g);for(g=8518;8529>=g;g++)f.add(g);for(g=8533;8536>=g;g++)f.add(g);for(g=8538;8540>=g;g++)f.add(g);for(g=8677;8679>=g;g++)f.add(g);for(g=8902;8903>=g;g++)f.add(g);for(g=8907;8910>=g;g++)f.add(g);for(g=8949;8951>=g;g++)f.add(g);for(g=8972;8987>=g;g++)f.add(g);for(g=9039;9040>=g;g++)f.add(g);for(g=9068;9069>=g;g++)f.add(g);for(g=9140;9141>=g;g++)f.add(g);for(g=9148;9150>=g;g++)f.add(g);for(g=9153;9159>=g;g++)f.add(g);for(g=
9205;9218>=g;g++)f.add(g);for(g=9221;9222>=g;g++)f.add(g);for(g=54098;54101>=g;g++)f.add(g);return f}]);c.push([10.71,()=>{const f=new Set([6316]);for(var g=8351;8353>=g;g++)f.add(g);for(g=9294;9297>=g;g++)f.add(g);for(g=22619;22621>=g;g++)f.add(g);for(g=103586;103594>=g;g++)f.add(g);return f}]);c.push([10.7,()=>{const f=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(var g=8065;8068>=g;g++)f.add(g);for(g=8082;8083>=g;g++)f.add(g);for(g=8379;8385>=g;g++)f.add(g);for(g=
8836;8840>=g;g++)f.add(g);for(g=8857;8860>=g;g++)f.add(g);for(g=53035;53037>=g;g++)f.add(g);for(g=54090;54091>=g;g++)f.add(g);for(g=102498;102499>=g;g++)f.add(g);return f}]);c.push([10.61,()=>new Set([102497])]);c.push([10.6,()=>{const f=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(var g=7755;7787>=g;g++)f.add(g);for(g=7791;7795>=g;g++)f.add(g);for(g=7799;7801>=g;g++)f.add(g);for(g=7825;7831>=g;g++)f.add(g);for(g=7877;7878>=g;g++)f.add(g);for(g=7882;7883>=g;g++)f.add(g);
for(g=7991;7992>=g;g++)f.add(g);for(g=8042;8043>=g;g++)f.add(g);for(g=8058;8059>=g;g++)f.add(g);for(g=8311;8348>=g;g++)f.add(g);for(g=9060;9067>=g;g++)f.add(g);for(g=102562;102568>=g;g++)f.add(g);for(g=102799;102900>=g;g++)f.add(g);return f}]);c.push([10.51,()=>{const f=new Set([7683,7881,7886,7899,8888,9E3]);for(var g=8013;8032>=g;g++)f.add(g);for(g=9053;9057>=g;g++)f.add(g);for(g=104017;104018>=g;g++)f.add(g);for(g=104971;104974>=g;g++)f.add(g);return f}]);c.push([10.5,()=>{const f=new Set([6962,
7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(var g=4087;4088>=g;g++)f.add(g);for(g=5896;5899>=g;g++)f.add(g);for(g=7005;7007>=g;g++)f.add(g);for(g=7057;7070>=g;g++)f.add(g);for(g=7073;7082>=g;g++)f.add(g);for(g=7109;7128>=g;g++)f.add(g);for(g=7844;7859>=g;g++)f.add(g);return f}]);a.serviceSupportsSpatialReference=function(f,g){if(b.isHostedAgolService(f.url??""))return!0;({wkid:g}=g);for(const q of c){if((f.version??0)>=q[0])break;"function"===typeof q[1]&&(q[1]=q[1]());if(q[1].has(g))return!1}return!0};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/TopFeaturesQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/support/jsonUtils ./TopFilter ../../geometry/SpatialReference".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l){var n;const h=new g.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});g=new g.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});q=n=function(r){function z(w){w=r.call(this,w)||this;w.cacheHint=void 0;w.distance=void 0;w.geometry=null;w.geometryPrecision=void 0;w.maxAllowableOffset=void 0;w.num=void 0;w.objectIds=null;w.orderByFields=null;w.outFields=null;w.outSpatialReference=null;w.resultType=null;w.returnGeometry=!1;w.returnM=void 0;w.returnZ=void 0;w.start=void 0;w.spatialRelationship=
"intersects";w.timeExtent=null;w.topFilter=void 0;w.units=null;w.where="1\x3d1";return w}a._inherits(z,r);var x=z.prototype;x.writeStart=function(w,v){v.resultOffset=this.start;v.resultRecordCount=this.num||10};x.clone=function(){return new n(u.clone({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,
outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))};return a._createClass(z)}(q.JSONSupport);b.__decorate([p.property({type:Boolean,json:{write:!0}})],q.prototype,"cacheHint",void 0);b.__decorate([p.property({type:Number,json:{write:{overridePolicy(r){return{enabled:0<
r}}}}})],q.prototype,"distance",void 0);b.__decorate([p.property({types:c.geometryTypes,json:{read:e.fromJSON,write:!0}})],q.prototype,"geometry",void 0);b.__decorate([p.property({type:Number,json:{write:!0}})],q.prototype,"geometryPrecision",void 0);b.__decorate([p.property({type:Number,json:{write:!0}})],q.prototype,"maxAllowableOffset",void 0);b.__decorate([p.property({type:Number,json:{read:{source:"resultRecordCount"}}})],q.prototype,"num",void 0);b.__decorate([p.property({json:{write:!0}})],
q.prototype,"objectIds",void 0);b.__decorate([p.property({type:[String],json:{write:!0}})],q.prototype,"orderByFields",void 0);b.__decorate([p.property({type:[String],json:{write:!0}})],q.prototype,"outFields",void 0);b.__decorate([p.property({type:l,json:{read:{source:"outSR"},write:{target:"outSR"}}})],q.prototype,"outSpatialReference",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],q.prototype,"resultType",void 0);b.__decorate([p.property({json:{write:!0}})],q.prototype,"returnGeometry",
void 0);b.__decorate([p.property({type:Boolean,json:{write:{overridePolicy(r){return{enabled:r}}}}})],q.prototype,"returnM",void 0);b.__decorate([p.property({type:Boolean,json:{write:{overridePolicy(r){return{enabled:r}}}}})],q.prototype,"returnZ",void 0);b.__decorate([p.property({type:Number,json:{read:{source:"resultOffset"}}})],q.prototype,"start",void 0);b.__decorate([m.writer("start"),m.writer("num")],q.prototype,"writeStart",null);b.__decorate([p.property({type:String,json:{read:{source:"spatialRel",
reader:h.read},write:{target:"spatialRel",writer:h.write}}})],q.prototype,"spatialRelationship",void 0);b.__decorate([p.property({type:f,json:{write:!0}})],q.prototype,"timeExtent",void 0);b.__decorate([p.property({type:d,json:{write:!0}})],q.prototype,"topFilter",void 0);b.__decorate([p.property({type:String,json:{read:g.read,write:{writer:g.write,overridePolicy(r){return{enabled:null!=r&&null!=this.distance&&0<this.distance}}}}})],q.prototype,"units",void 0);b.__decorate([p.property({type:String,
json:{write:!0}})],q.prototype,"where",void 0);q=n=b.__decorate([k.subclass("esri.rest.support.TopFeaturesQuery")],q);q.from=t.ensureType(q);return q})},"esri/rest/support/TopFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p){var t;c=
t=function(k){function m(e){e=k.call(this,e)||this;e.groupByFields=void 0;e.topCount=void 0;e.orderByFields=void 0;return e}a._inherits(m,k);m.prototype.clone=function(){return new t({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})};return a._createClass(m)}(c.JSONSupport);b.__decorate([f.property({type:[String],json:{write:!0}})],c.prototype,"groupByFields",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],c.prototype,"topCount",void 0);b.__decorate([f.property({type:[String],
json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=t=b.__decorate([p.subclass("esri.rest.support.TopFilter")],c)})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/RelationshipContent ../popup/content/TextContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d){function l(A,B){const C=A;B&&(A=A.filter(D=>!B.includes(D.type)));A===C&&(A=A.slice());A.sort(n);return A}function n(A,B){return"oid"===A.type?-1:"oid"===B.type?1:w(A)?-1:w(B)?1:(A.alias||A.name).toLocaleLowerCase().localeCompare((B.alias||B.name).toLocaleLowerCase())}function h(A,B){const C=B?.visibleFieldNames;return l(A.fields??[],B?.ignoreFieldTypes||v).map(D=>{var y=D.name,G=c.isFieldEditable(D,A),F=D.alias,K=x(D),M={...A,visibleFieldNames:C};D=M.visibleFieldNames?
M.visibleFieldNames.has(D.name):c.isFieldVisibleByDefault(D,M);return new e({fieldName:y,isEditable:G,label:F,format:K,visible:D})})}function r(A,B){return A.map(C=>new e({fieldName:C.name,isEditable:!1,label:C.alias,format:z(C,B),visible:!0}))}function z(A,B){const {onStatisticField:C,onStatisticExpression:D,statisticType:y}=A;return C&&(A=B.find(G=>C===G.name))?x(A):"number"===D?.returnType?new d({digitSeparator:!0,places:2}):"count"===y?new d({digitSeparator:!0,places:0}):null}function x(A){switch(A.type){case "small-integer":case "integer":case "single":return new d({digitSeparator:!0,
places:0});case "double":return new d({digitSeparator:!0,places:2});case "date":return new d({dateFormat:"long-month-day-year"});default:return"string"===A.type&&c.isRasterPixelValueField(A.name)?new d({digitSeparator:!0,places:0}):null}}function w(A){return"name"===(A.name&&A.name.toLowerCase())||"name"===(A.alias&&A.alias.toLowerCase())?!0:!1}const v=["geometry","blob","raster","guid","xml"];a.createFieldInfos=h;a.createFieldsContent=function(A,B){return new p({fieldInfos:h(A,B).filter(C=>C.visible)})};
a.createPopupTemplate=function({displayField:A,editFieldsInfo:B,fields:C,objectIdField:D,title:y},G){if(!C)return null;B=h({editFieldsInfo:B,fields:C,objectIdField:D},G);if(!B.length)return null;C={titleBase:y,fields:C,displayField:A};A=c.getDisplayFieldName(C);({titleBase:C}=C);A=A?`${C}: {${A.trim()}}`:C??"";C=[new p,new f];return new b({title:A,content:C,fieldInfos:B})};a.createPopupTemplateForFeatureReduction=function(A){const {fields:B,featureReduction:C,title:D}=A;A=C.fields;if(!A)return null;
A=r(A,B??[]);if(!A.length)return null;var y=[new p];return new b({title:D,content:y,fieldInfos:A})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("require ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../kernel ../../../request ../../../TimeExtent ../../../core/arrayUtils ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/Logger ../../../core/object ../../../core/promiseUtils ../../../core/unitUtils ../../../core/urlUtils ../../../core/uuid ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/projection ../../../geometry/support/jsonUtils ../../../geometry/support/meshVertexSpaceUtils ../../../geometry/support/meshUtils/External ../editingSupport ./support/clientSideDefaults ./support/QueryTask ../../support/arcgisLayerUrl ../../support/infoFor3D ../../../rest/query/executeQueryJSON ../../../rest/query/operations/editsZScale ../../../rest/support/Query ../../../geometry/SpatialReference".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D,y,G,F,K,M,O,H,J,L,N,V){const X=new e.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),U=new Set(["Feature Layer","Oriented Imagery Layer","Table"]),P=new e.JSONMap({Started:"published",Publishing:"publishing",Stopped:"unavailable"});f=function(fa){function Ba(){var ma=fa.apply(this,arguments)||this;ma.type="feature-layer";ma.refresh=h.debounce(async()=>{await ma.load();var ta=ma.sourceJSON.editingInfo?.lastEditDate;
if(null==ta)return{dataChanged:!0,updates:{}};try{await ma._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}ta=ta!==ma.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:ta,updates:ta?{editingInfo:ma.sourceJSON.editingInfo,extent:ma.sourceJSON.extent}:null}});ma._ongoingAssetUploads=new Map;return ma}b._inherits(Ba,fa);var Aa=Ba.prototype;Aa.load=function(ma){this.addResolvingPromise(this._fetchService(this.layer.sourceJSON,null!=ma?ma.signal:null));return Promise.resolve(this)};Aa.addAttachment=
async function(ma,ta){await this.load();ma=ma.attributes[this.layer.objectIdField];const ba=this.layer.parsedUrl.path+"/"+ma+"/addAttachment",ka=this._getLayerRequestOptions();ta=this._getFormDataForAttachment(ta,ka.query);try{const Fa=await u(ba,{body:ta});return this._createFeatureEditResult(Fa.data.addAttachmentResult)}catch(Fa){throw this._createAttachmentErrorResult(ma,Fa);}};Aa.updateAttachment=async function(ma,ta,ba){await this.load();ma=ma.attributes[this.layer.objectIdField];const ka=this.layer.parsedUrl.path+
"/"+ma+"/updateAttachment";ta=this._getLayerRequestOptions({query:{attachmentId:ta}});ba=this._getFormDataForAttachment(ba,ta.query);try{const Fa=await u(ka,{body:ba});return this._createFeatureEditResult(Fa.data.updateAttachmentResult)}catch(Fa){throw this._createAttachmentErrorResult(ma,Fa);}};Aa.applyEdits=async function(ma,ta){await this.load();const {layer:ba}=this,ka=ba.infoFor3D;var Fa=null!=ka,Na=Fa||(ta?.globalIdUsed??!1);const Qa=Fa?await this._uploadMeshesAndGetAssetMapEditsJSON(ma):null;
var I=ma.addFeatures?.map(pa=>this._getFeatureJSON(pa,ka))??[];I=(await Promise.all(I)).filter(t.isSome);var S=ma.updateFeatures?.map(pa=>this._getFeatureJSON(pa,ka))??[];S=(await Promise.all(S)).filter(t.isSome);const qa=this._getFeatureIds(ma.deleteFeatures,Na);L.unapplyEditsZUnitScaling(I,S,ba.spatialReference);ma=await this._getAttachmentEditsJSON(ma);Fa=ba.capabilities.editing.supportsAsyncApplyEdits&&Fa;const W={gdbVersion:ta?.gdbVersion||ba.gdbVersion,rollbackOnFailure:ta?.rollbackOnFailureEnabled,
useGlobalIds:Na,returnEditMoment:ta?.returnEditMoment,usePreviousEditMoment:ta?.usePreviousEditMoment,sessionId:ta?.sessionId,async:Fa};ta?.returnServiceEditsOption?(W.edits=JSON.stringify([{id:ba.layerId,adds:I,updates:S,deletes:qa,attachments:ma,assetMaps:Qa}]),W.returnServiceEditsOption=X.toJSON(ta?.returnServiceEditsOption),W.returnServiceEditsInSourceSR=ta?.returnServiceEditsInSourceSR):(W.adds=I.length?JSON.stringify(I):null,W.updates=S.length?JSON.stringify(S):null,W.deletes=qa.length?Na?JSON.stringify(qa):
qa.join(","):null,W.attachments=ma&&JSON.stringify(ma),W.assetMaps=null!=Qa?JSON.stringify(Qa):void 0);Na=this._getLayerRequestOptions({method:"post",query:W});ta=ta?.returnServiceEditsOption?ba.url:ba.parsedUrl.path;ta=Fa?await this._asyncApplyEdits(ta+"/applyEdits",Na):await u(ta+"/applyEdits",Na);!ba.capabilities.operations?.supportsEditing&&ba.effectiveCapabilities?.operations?.supportsEditing&&await q.id?.findCredential(ba.url)?.refreshToken();return this._createEditsResult(ta)};Aa.deleteAttachments=
async function(ma,ta){await this.load();ma=ma.attributes[this.layer.objectIdField];const ba=this.layer.parsedUrl.path+"/"+ma+"/deleteAttachments";try{return(await u(ba,this._getLayerRequestOptions({query:{attachmentIds:ta.join(",")},method:"post"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(ka){throw this._createAttachmentErrorResult(ma,ka);}};Aa.fetchRecomputedExtents=function(ma={}){return this.load({signal:ma.signal}).then(async()=>{var ta=this._getLayerRequestOptions({...ma,
query:{returnUpdates:!0}});const {layerId:ba,url:ka}=this.layer;({data:ta}=await u(`${ka}/${ba}`,ta));const {id:Fa,extent:Na,fullExtent:Qa,timeExtent:I}=ta;ta=Na||Qa;return{id:Fa,fullExtent:ta&&B.fromJSON(ta),timeExtent:I&&p.fromJSON({start:I[0],end:I[1]})}})};Aa.queryAttachments=async function(ma,ta={}){await this.load();ta=this._getLayerRequestOptions(ta);return this.queryTask.executeAttachmentQuery(ma,ta)};Aa.queryFeatures=async function(ma,ta){await this.load();return this.queryTask.execute(ma,
{...ta,query:this._createRequestQueryOptions(ta)})};Aa.queryFeaturesJSON=async function(ma,ta){await this.load();return this.queryTask.executeJSON(ma,{...ta,query:this._createRequestQueryOptions(ta)})};Aa.queryObjectIds=async function(ma,ta){await this.load();return this.queryTask.executeForIds(ma,{...ta,query:this._createRequestQueryOptions(ta)})};Aa.queryFeatureCount=async function(ma,ta){await this.load();return this.queryTask.executeForCount(ma,{...ta,query:this._createRequestQueryOptions(ta)})};
Aa.queryExtent=async function(ma,ta){await this.load();return this.queryTask.executeForExtent(ma,{...ta,query:this._createRequestQueryOptions(ta)})};Aa.queryRelatedFeatures=async function(ma,ta){await this.load();return this.queryTask.executeRelationshipQuery(ma,{...ta,query:this._createRequestQueryOptions(ta)})};Aa.queryRelatedFeaturesCount=async function(ma,ta){await this.load();return this.queryTask.executeRelationshipQueryForCount(ma,{...ta,query:this._createRequestQueryOptions(ta)})};Aa.queryTopFeatures=
async function(ma,ta){await this.load();return this.queryTask.executeTopFeaturesQuery(ma,{...ta,query:this._createRequestQueryOptions(ta)})};Aa.queryTopObjectIds=async function(ma,ta){await this.load();return this.queryTask.executeForTopIds(ma,{...ta,query:this._createRequestQueryOptions(ta)})};Aa.queryTopExtents=async function(ma,ta){await this.load();return this.queryTask.executeForTopExtents(ma,{...ta,query:this._createRequestQueryOptions(ta)})};Aa.queryTopCount=async function(ma,ta){await this.load();
return this.queryTask.executeForTopCount(ma,{...ta,query:this._createRequestQueryOptions(ta)})};Aa.fetchPublishingStatus=async function(){if(!O.isHostedAgolService(this.layer.url))return"unavailable";var ma=z.join(this.layer.url,"status");ma=await u(ma,{query:{f:"json"}});return P.fromJSON(ma.data.status)};Aa.uploadAssets=async function(ma,ta){const {uploadAssets:ba}=await new Promise((ka,Fa)=>a(["./support/uploadAssets"],ka,Fa));return ba(ma,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},
ta)};Aa._asyncApplyEdits=async function(ma,ta){for(ma=(await u(ma,ta)).data.statusUrl;;){ta=(await u(ma,{query:{f:"json"},responseType:"json"})).data;switch(ta.status){case "Completed":return u(ta.resultUrl,{query:{f:"json"},responseType:"json"});case "CompletedWithErrors":throw new k("async-applyEdits-failed","asynchronous applyEdits call failed.");case "Failed ImportChanges":case "InProgress":case "Pending":case "ExportAttachments":case "ExportChanges":case "ExportingData":case "ExportingSnapshot":case "ImportAttachments":case "ProvisioningReplica":case "UnRegisteringReplica":break;
default:throw new k("async-applyEdits-failed","asynchronous applyEdits call failed (undefined response status)");}await h.after(1E3)}};Aa._createRequestQueryOptions=function(ma){ma={...this.layer.customParameters,token:this.layer.apiKey,...ma?.query};this.layer.datesInUnknownTimezone&&(ma.timeReferenceUnknownClient=!0);return ma};Aa._fetchService=async function(ma,ta){ma||({data:ma}=await u(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:m("featurelayer-advanced-symbols")?{returnAdvancedSymbols:!0}:
{},signal:ta})));this.sourceJSON=await this._patchServiceJSON(ma,ta);ta=ma.type;if(!U.has(ta))throw new k("feature-layer-source:unsupported-type",`Source type "${ta}" is not supported`);};Aa._patchServiceJSON=async function(ma,ta){if("Table"!==ma.type&&ma.geometryType&&!ma?.drawingInfo?.renderer&&!ma.defaultSymbol){const ba=K.createDrawingInfo(ma.geometryType).renderer;n.setDeepValue("drawingInfo.renderer",ba,ma)}"esriGeometryMultiPatch"===ma.geometryType&&ma.infoFor3D&&(ma.geometryType="mesh");if(null==
ma.extent)try{const {data:ba}=await u(this.layer.url,this._getLayerRequestOptions({signal:ta}));ba.spatialReference&&(ma.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:ba.spatialReference})}catch(ba){h.throwIfAbortError(ba)}return ma};Aa._getFeatureJSON=async function(ma,ta){var {geometry:ba}=ma;ma={...ma.attributes};if(null!=ta&&"mesh"===ba?.type){({transformFieldRoles:ta}=ta);const {origin:ka,spatialReference:Fa,transform:Na}=ba,Qa=this.layer.spatialReference;await C.initializeProjection(Fa,
Qa);const I=C.project(ka,Qa);ma[ta.originX]=I.x;ma[ta.originY]=I.y;ma[ta.originZ]=I.z??0;if(null!=Na){const {translation:S,scale:qa,rotation:W}=Na;({vertexSpace:ba}=ba);ba=ba.isGeoreferenced?1:r.getMetersPerCartesianUnitForSR(Fa)/r.getMetersPerCartesianUnitForSR(Qa);ma[ta.translationX]=S[0]*ba;ma[ta.translationY]=-S[2]*ba;ma[ta.translationZ]=S[1]*ba;ma[ta.scaleX]=qa[0];ma[ta.scaleY]=qa[2];ma[ta.scaleZ]=qa[1];ma[ta.rotationX]=W[0];ma[ta.rotationY]=W[2];ma[ta.rotationZ]=W[1];ma[ta.rotationDeg]=W[3]}return{geometry:null,
attributes:ma}}return null==ba?{attributes:ma}:"mesh"===ba.type||"extent"===ba.type?null:{geometry:ba.toJSON(),attributes:ma}};Aa._getAttachmentEditsJSON=async function(ma){const ta=await Promise.all((ma.addAttachments??[]).map(ka=>this._getAttachmentEditJSON(ka))),ba=await Promise.all((ma.updateAttachments??[]).map(ka=>this._getAttachmentEditJSON(ka)));ma=ma.deleteAttachments??[];return ta.length||ba.length||ma.length?{adds:ta,updates:ba,deletes:[...ma]}:null};Aa._getAttachmentEditJSON=async function(ma){const {feature:ta,
attachment:ba}=ma,{globalId:ka,name:Fa,contentType:Na,data:Qa,uploadId:I}=ba;ma={globalId:ka,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};ta&&(ma.parentGlobalId="attributes"in ta?ta.attributes&&ta.attributes[this.layer.globalIdField]:ta.globalId);if(I)ma.uploadId=I;else if(Qa){const S=await z.parseData(Qa);S&&(ma.contentType=S.mediaType,ma.data=S.data);Qa instanceof File&&(ma.name=Qa.name)}Fa&&(ma.name=Fa);Na&&(ma.contentType=Na);return ma};Aa._uploadMeshesAndGetAssetMapEditsJSON=
async function(ma){var {addAssetFeatures:ta}=ma;if(!ta?.length)return null;ma=await this._filterRedundantAssetMaps(ta);if(!ta?.length)return null;ta=[];const ba=new Map;for(const Fa of ma){const {geometry:Na}=Fa;var {vertexSpace:ka}=Na;ka.isRelative?ta.push(Na):(ka=y.toRelativeVertexSpace(Na),ba.set(ka,Na),Fa.geometry=ka,ta.push(ka))}await this.uploadAssets(ta);for(const [Fa,Na]of ba)Na.addExternalSources(Fa.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(ma),updates:[],deletes:[]}};
Aa._getAssetMapEditsJSON=function(ma){const ta=[],ba=this.layer.globalIdField,ka=this.layer.parsedUrl;for(const Qa of ma){var Fa=Qa.geometry;({metadata:ma}=Fa);var Na=ma.getExternalSourcesOnService(ka);ma=Qa.getAttribute(ba);if(0===Na.length)l.getLogger(this).error(`Skipping feature ${ma}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);else{({source:Na}=Na.find(G.isOriginalExternal)??Na[0]);({vertexSpace:Fa}=Fa);Fa=Fa.isGeoreferenced?["PROJECT_VERTICES"]:
[];for(const I of Na)1!==I.parts.length?l.getLogger(this).error(`Skipping asset ${I.assetName}. It does not have exactly one part, so we cannot map it to a feature.`):ta.push({globalId:x.generateBracedUUID(),parentGlobalId:ma,assetName:I.assetName,assetHash:I.parts[0].partHash,flags:Fa})}}return ta};Aa._getFeatureIds=function(ma,ta){if(!ma||0===ma.length)return[];if(ta&&F.isFeatureIdentifierArrayWithGlobalId(ma))return ma.map(Fa=>Fa.globalId);if(F.isFeatureIdentifierArrayWithObjectId(ma))return ma.map(Fa=>
Fa.objectId);const {layer:ba}=this,ka=ta?ba.globalIdField:ba.objectIdField;return ka?ma.map(Fa=>Fa.getAttribute(ka)):[]};Aa._createEditsResult=function(ma){const ta=ma.data,{layerId:ba}=this.layer;ma=[];let ka=null;if(Array.isArray(ta))for(var Fa of ta)ma.push({id:Fa.id,editedFeatures:Fa.editedFeatures}),Fa.id===ba&&(ka={addResults:Fa.addResults??[],updateResults:Fa.updateResults??[],deleteResults:Fa.deleteResults??[],attachments:Fa.attachments,editMoment:Fa.editMoment});else ka=ta;if(Fa=ka?.assetMaps){for(var Na of Fa.addResults)Na.success||
l.getLogger(this).error(`Failed to map asset to feature with globalId ${Na.globalId}.`);for(const Qa of Fa.updateResults)Qa.success||l.getLogger(this).error(`Failed to map asset to feature with globalId ${Qa.globalId}.`)}Na=ka?.attachments;Na={addFeatureResults:ka?.addResults?.map(this._createFeatureEditResult,this)??[],updateFeatureResults:ka?.updateResults?.map(this._createFeatureEditResult,this)??[],deleteFeatureResults:ka?.deleteResults?.map(this._createFeatureEditResult,this)??[],addAttachmentResults:Na&&
Na.addResults?Na.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:Na&&Na.updateResults?Na.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:Na&&Na.deleteResults?Na.deleteResults.map(this._createFeatureEditResult,this):[]};ka?.editMoment&&(Na.editMoment=ka.editMoment);if(0<ma.length){Na.editedFeatureResults=[];for(const Qa of ma){({editedFeatures:ma}=Qa);const I=ma?.spatialReference?new V(ma.spatialReference):null;Na.editedFeatureResults.push({layerId:Qa.id,
editedFeatures:{adds:ma?.adds?.map(S=>this._createEditedFeature(S,I))||[],updates:ma?.updates?.map(S=>({original:this._createEditedFeature(S[0],I),current:this._createEditedFeature(S[1],I)}))||[],deletes:ma?.deletes?.map(S=>this._createEditedFeature(S,I))||[],spatialReference:I}})}}return Na};Aa._createEditedFeature=function(ma,ta){return new g({attributes:ma.attributes,geometry:D.fromJSON({...ma.geometry,spatialReference:ta})})};Aa._createFeatureEditResult=function(ma){const ta=!0===ma.success?null:
ma.error||{code:void 0,description:void 0};return{objectId:ma.objectId,globalId:ma.globalId,error:ta?new k("feature-layer-source:edit-failure",ta.description,{code:ta.code}):null}};Aa._createAttachmentErrorResult=function(ma,ta){return{objectId:ma,globalId:null,error:new k("feature-layer-source:attachment-failure",ta.details.messages&&ta.details.messages[0]||ta.message,{code:ta.details.httpStatus||ta.details.messageCode})}};Aa._getFormDataForAttachment=function(ma,ta){if(ma=ma instanceof FormData?
ma:ma&&ma.elements?new FormData(ma):null)for(const ba in ta){const ka=ta[ba];null!=ka&&(ma.set?ma.set(ba,ka):ma.append(ba,ka))}return ma};Aa._getLayerRequestOptions=function(ma={}){const {parsedUrl:ta,gdbVersion:ba,dynamicDataSource:ka}=this.layer;return{...ma,query:{gdbVersion:ba,layer:ka?JSON.stringify({source:ka}):void 0,...ta.query,f:"json",...this._createRequestQueryOptions(ma)},responseType:"json"}};Aa._filterRedundantAssetMaps=async function(ma){var {layer:ta}=this;const {globalIdField:ba,
infoFor3D:ka,parsedUrl:Fa}=ta;if(null==ka||null==ba)return ma;ta=H.getAssetMapTable(ka);if(null==ta)return ma;var Na=z.join(Fa.path,`../${ta.id}`);ta=[];const Qa=[];for(var I of ma)0<I.geometry.metadata.getExternalSourcesOnService(Fa).length?Qa.push(I):ta.push(I);I=Qa.map(R=>R.getAttribute(ba)).filter(t.isSome);if(0===I.length)return ma;const {assetMapFieldRoles:{parentGlobalId:S,assetHash:qa}}=ka,W=new N;W.where=`${S} IN (${I.map(R=>`'${R}'`)})`;W.outFields=[qa,S];W.returnGeometry=!1;Na=await J.executeQueryJSON(Na,
W);const {features:pa}=Na;return 0===pa.length?ma:[...ta,...Qa.filter(R=>{const Y=R.getAttribute(ba);if(!Y)return!0;({metadata:R}=R.geometry);const la=pa.filter(sa=>sa.getAttribute(S)===Y);if(0===la.length)return!0;const ja=la.map(sa=>sa.getAttribute(qa));return R.getExternalSourcesOnService(Fa).flatMap(({source:sa})=>sa.flatMap(T=>T.parts.map(ha=>ha.partHash))).some(sa=>ja.every(T=>sa!==T))})]};b._createClass(Ba,[{key:"queryTask",get:function(){const {capabilities:ma,parsedUrl:ta,dynamicDataSource:ba,
infoFor3D:ka,gdbVersion:Fa,spatialReference:Na,fieldsIndex:Qa}=this.layer,I=m("featurelayer-pbf")&&ma?.query.supportsFormatPBF&&null==ka;return new M({url:ta.path,pbfSupported:I,fieldsIndex:Qa,infoFor3D:ka,dynamicDataSource:ba,gdbVersion:Fa,sourceSpatialReference:Na,queryAttachmentsSupported:ma?.operations?.supportsQueryAttachments??!1})}}]);return Ba}(d);c.__decorate([w.property()],f.prototype,"type",void 0);c.__decorate([w.property({constructOnly:!0})],f.prototype,"layer",void 0);c.__decorate([w.property({readOnly:!0})],
f.prototype,"queryTask",null);return f=c.__decorate([A.subclass("esri.layers.graphics.sources.FeatureLayerSource")],f)})},"esri/core/uuid":function(){define(["exports"],function(a){function b(){if(c)return crypto.randomUUID();const f=crypto.getRandomValues(new Uint16Array(8));f[3]=f[3]&4095|16384;f[4]=f[4]&16383|32768;const g=q=>f[q].toString(16).padStart(4,"0");return g(0)+g(1)+"-"+g(2)+"-"+g(3)+"-"+g(4)+"-"+g(5)+g(6)+g(7)}const c="randomUUID"in crypto;a.generateBracedUUID=function(){return`{${b()}}`};
a.generateUUID=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshVertexSpaceUtils":function(){define(["exports","../../chunks/mat4","../../chunks/mat4f64","./MeshGeoreferencedRelativeVertexSpace","../../chunks/vec32"],function(a,b,c,f,g){const q=c.create();a.toRelativeVertexSpace=function(u){var {vertexSpace:p}=u;if(p.isRelative)return u.clone();({anchor:p}=u);var t=p.clone();p=b.fromTranslation(q,[-t.x,-t.y,-t.z]);t=new f({origin:[t.x,t.y,t.z]});u=u.cloneWithVertexSpace(t);
({position:t}=u.vertexAttributes);u.vertexAttributes.position=g.transformMat4(new Float64Array(t.length),t,p);u.vertexAttributesChanged();return u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4f64":function(){define(["exports"],function(a){function b(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function c(p){return[p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]]}function f(p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B){return[p,t,k,m,e,d,l,
n,h,r,z,x,w,v,A,B]}function g(p,t){return new Float64Array(p,t,16)}const q=b(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:q,clone:c,create:b,createView:g,fromValues:f},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=q;a.clone=c;a.create=b;a.createView=g;a.fromValues=f;a.mat4f64=u})},"esri/geometry/support/MeshGeoreferencedRelativeVertexSpace":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/vec3f64 ../Point".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){c=function(d){function l(h){h=d.call(this,h)||this;h.type="georeferenced-relative";h.isRelative=!0;h.isGeoreferenced=!0;h.origin=m.create();return h}a._inherits(l,d);var n=l.prototype;n.getOriginPoint=function(h){const [r,z,x]=this.origin;return new e({x:r,y:z,z:x,spatialReference:h})};n.setOriginFormPoint=function({x:h,y:r,z}){this.origin=m.fromValues(h,r,z??0)};return a._createClass(l)}(c.ClonableMixin(f.JSONSupport));b.__decorate([t.enumeration({georeferencedRelative:"georeferenced-relative"},
{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([g.property({type:[Number],nonNullable:!0,json:{write:!0}})],c.prototype,"origin",void 0);return c=b.__decorate([k.subclass("esri.geometry.support.MeshGeoreferencedRelativeVertexSpace")],c)})},"esri/chunks/vec32":function(){define(["exports","../geometry/support/buffer/math/common"],function(a,b){function c(d,l,n){f(d.typedBuffer,l.typedBuffer,n,d.typedBufferStride,l.typedBufferStride)}function f(d,l,n,h=3,r=h){if(d.length/h!==Math.ceil(l.length/
r))return b.mathLogger.error("source and destination buffers need to have the same number of elements"),d;const z=d.length/h,x=n[0],w=n[1],v=n[2],A=n[4],B=n[5],C=n[6],D=n[8],y=n[9],G=n[10],F=n[12],K=n[13];n=n[14];let M=0,O=0;for(let H=0;H<z;H++){const J=l[M],L=l[M+1],N=l[M+2];d[O]=x*J+A*L+D*N+F;d[O+1]=w*J+B*L+y*N+K;d[O+2]=v*J+C*L+G*N+n;M+=r;O+=h}return d}function g(d,l,n){q(d.typedBuffer,l.typedBuffer,n,d.typedBufferStride,l.typedBufferStride)}function q(d,l,n,h=3,r=h){if(d.length/h!==Math.ceil(l.length/
r))b.mathLogger.error("source and destination buffers need to have the same number of elements");else{var z=d.length/h,x=n[0],w=n[1],v=n[2],A=n[3],B=n[4],C=n[5],D=n[6],y=n[7];n=n[8];var G=0,F=0;for(let K=0;K<z;K++){const M=l[G],O=l[G+1],H=l[G+2];d[F]=x*M+A*O+D*H;d[F+1]=w*M+B*O+y*H;d[F+2]=v*M+C*O+n*H;G+=r;F+=h}}}function u(d,l,n){p(d.typedBuffer,l,n,d.typedBufferStride)}function p(d,l,n,h=3){const r=Math.min(d.length/h,l.count),z=l.typedBuffer;l=l.typedBufferStride;let x=0,w=0;for(let v=0;v<r;v++)d[w]=
n*z[x],d[w+1]=n*z[x+1],d[w+2]=n*z[x+2],x+=l,w+=h}function t(d,l){k(d.typedBuffer,l.typedBuffer,d.typedBufferStride,l.typedBufferStride)}function k(d,l,n=3,h=n){const r=Math.min(d.length/n,l.length/h);let z=0,x=0;for(let v=0;v<r;v++){const A=l[z],B=l[z+1],C=l[z+2];var w=A*A+B*B+C*C;0<w&&(w=1/Math.sqrt(w),d[x]=w*A,d[x+1]=w*B,d[x+2]=w*C);z+=h;x+=n}}function m(d,l,n){const h=Math.min(d.count,l.count),r=d.typedBuffer;d=d.typedBufferStride;const z=l.typedBuffer;l=l.typedBufferStride;let x=0,w=0;for(let v=
0;v<h;v++)r[w]=z[x]>>n,r[w+1]=z[x+1]>>n,r[w+2]=z[x+2]>>n,x+=l,w+=d}const e=Object.freeze(Object.defineProperty({__proto__:null,normalize:k,normalizeView:t,scale:p,scaleView:u,shiftRight:m,transformMat3:q,transformMat3View:g,transformMat4:f,transformMat4View:c},Symbol.toStringTag,{value:"Module"}));a.normalize=k;a.normalizeView=t;a.scale=p;a.scaleView=u;a.shiftRight=m;a.transformMat3=q;a.transformMat3View=g;a.transformMat4=f;a.transformMat4View=c;a.vec3=e})},"esri/geometry/support/buffer/math/common":function(){define(["exports",
"../../../../core/Logger"],function(a,b){b=b.getLogger("esri.views.3d.support.buffer.math");a.mathLogger=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/External":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../request ../../../core/arrayUtils ../../../core/promiseUtils ../../../layers/support/infoFor3D".split(" "),function(a,b,c,f,g,q){function u(h){return Array.isArray(h)?h.every(r=>r instanceof e):!1}function p(h){return h?
Array.isArray(h)?h.some(t):t(h):!1}function t(h){if(h instanceof File){const {type:r,name:z}=h;return l.test(r)||n.test(z)}return l.test(h.assetMimeType)||n.test(h.assetName)}function k(h,r){return Array.isArray(h)?h.every(z=>m(z,r)):m(h,r)}function m(h,r){return h instanceof e&&h.isOnService(r)}let e=function(){function h(z,x,w){this.assetName=z;this.assetMimeType=x;this.parts=w}var r=h.prototype;r.equals=function(z){return this===z||this.assetName===z.assetName&&this.assetMimeType===z.assetMimeType&&
f.equals(this.parts,z.parts,(x,w)=>x.equals(w))};r.isOnService=function(z){return this.parts.every(x=>x.isOnService(z))};r.makeHash=function(){let z="";for(const x of this.parts)z+=x.partHash;return z};r.toBlob=async function(z){var {parts:x}=this;if(1===x.length)return x[0].toBlob(z);x=await Promise.all(x.map(w=>w.toBlob(z)));g.throwIfAborted(z);return new Blob(x)};return b._createClass(h)}(),d=function(){function h(z,x){this.partUrl=z;this.partHash=x}var r=h.prototype;r.equals=function(z){return this===
z||this.partUrl===z.partUrl&&this.partHash===z.partHash};r.isOnService=function(z){return this.partUrl.startsWith(`${z.path}/assets/`)};r.toBlob=async function(z){const {data:x}=await c(this.partUrl,{responseType:"blob"});g.throwIfAborted(z);return x};return b._createClass(h)}();const l=/^(model\/gltf\+json)|(model\/gltf-binary)$/,n=/\.(gltf|glb)/i;a.ServiceAsset=e;a.ServiceAssetPart=d;a.assetFormatId=function(h,r){return h instanceof File?q.getFilenameFormatId(h.name,r)??q.getMimeTypeFormatId(h.type,
r):q.getMimeTypeFormatId(h.assetMimeType,r)??q.getFilenameFormatId(h.assetName,r)};a.assetIsOnService=m;a.externalIsOnService=function(h,r){if(!h)return!1;({source:h}=h);return k(h,r)};a.externalSourceToMultiPart=function(h){return Array.isArray(h)?h:[h]};a.externalSourcesAreEqual=function(h,r){if(h===r)return!0;({source:h}=h);({source:r}=r);if(h===r)return!0;if(u(h)&&u(r)){if(h.length!==r.length)return!1;var z=(x,w)=>x.assetName<w.assetName?-1:x.assetName>w.assetName?1:0;h=[...h].sort(z);r=[...r].sort(z);
for(z=0;z<h.length;++z)if(!h[z].equals(r[z]))return!1;return!0}return!1};a.isDisplayAsset=t;a.isDisplayExternal=function(h){return p(h?.source)};a.isDisplaySource=p;a.isOriginalExternal=function(h){return!!h.original};a.sourceIsOnService=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/editingSupport":function(){define("exports ../../Graphic ../../core/Collection ../../core/Error ../../core/lang ../../core/Logger ../../core/promiseUtils ../../core/urlUtils ../../geometry/support/normalizeUtils ../mixins/EditBusLayer ../support/infoFor3D ../support/layerUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){function d(B){return"object"===typeof B&&null!=B&&"objectId"in B&&!!B.objectId}function l(B){return"object"===typeof B&&null!=B&&"globalId"in B&&!!B.globalId}async function n(B,C,D,y){await B.load();if(!C||null==C.applyEdits)throw new f(`${B.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:B});if(!e.getEffectiveEditingEnabled(B))throw new f(`${B.type}-layer:editing-disabled`,"Editing is disabled for layer",{layer:B});const {edits:G,
options:F}=await h(B,D,y);return G.addFeatures?.length||G.updateFeatures?.length||G.deleteFeatures?.length||G.addAttachments?.length||G.updateAttachments?.length||G.deleteAttachments?.length?{edits:G,results:await C.applyEdits(G,F)}:{edits:G,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function h(B,C,D){var y=C&&(C.addFeatures||C.updateFeatures||C.deleteFeatures),G=C&&(C.addAttachments||
C.updateAttachments||C.deleteAttachments);const F=null!=B.infoFor3D;if(!C||!y&&!G)throw new f(`${B.type}-layer:missing-parameters`,"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");y=e.getEffectiveLayerCapabilities(B);if(!y.data.isVersioned&&D?.gdbVersion)throw new f(`${B.type}-layer:invalid-parameter`,"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");
if(!y.editing.supportsRollbackOnFailure&&D?.rollbackOnFailureEnabled)throw new f(`${B.type}-layer:invalid-parameter`,"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");if(!y.editing.supportsGlobalId&&D?.globalIdUsed)throw new f(`${B.type}-layer:invalid-parameter`,"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!y.editing.supportsGlobalId&&G)throw new f(`${B.type}-layer:invalid-parameter`,
"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");if(!D?.globalIdUsed&&G)throw new f(`${B.type}-layer:invalid-parameter`,"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");G={...D};null!=G.rollbackOnFailureEnabled||y.editing.supportsRollbackOnFailure||(G.rollbackOnFailureEnabled=!0);G.rollbackOnFailureEnabled||"original-and-current-features"!==
G.returnServiceEditsOption||(!1===G.rollbackOnFailureEnabled&&q.getLogger("esri.layers.graphics.editingSupport").warn(`${B.type}-layer:invalid-parameter`,"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwrritten and set to true."),G.rollbackOnFailureEnabled=!0);if(!y.editing.supportsReturnServiceEditsInSourceSpatialReference&&G.returnServiceEditsInSourceSR)throw new f(`${B.type}-layer:invalid-parameter`,
"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'");if(G.returnServiceEditsInSourceSR&&"original-and-current-features"!==G.returnServiceEditsOption)throw new f(`${B.type}-layer:invalid-parameter`,"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'");const K={...C};K.addFeatures=C&&c.isCollection(C.addFeatures)?C.addFeatures.toArray():
K.addFeatures||[];K.updateFeatures=C&&c.isCollection(C.updateFeatures)?C.updateFeatures.toArray():K.updateFeatures||[];K.deleteFeatures=C&&c.isCollection(C.deleteFeatures)?C.deleteFeatures.toArray():K.deleteFeatures||[];if(K.addFeatures.length&&!y.operations.supportsAdd)throw new f(`${B.type}-layer:unsupported-operation`,"Layer does not support adding features.");if(K.updateFeatures.length&&!y.operations.supportsUpdate)throw new f(`${B.type}-layer:unsupported-operation`,"Layer does not support updating features.");
if(K.deleteFeatures.length&&!y.operations.supportsDelete)throw new f(`${B.type}-layer:unsupported-operation`,"Layer does not support deleting features.");K.addAttachments=K.addAttachments||[];K.updateAttachments=K.updateAttachments||[];K.deleteAttachments=K.deleteAttachments||[];K.addFeatures=K.addFeatures.map(v);K.updateFeatures=K.updateFeatures.map(v);K.addAssetFeatures=[];const M=D?.globalIdUsed||F;K.addFeatures.forEach(O=>{r(O,B,M);z(O,B)});K.updateFeatures.forEach(O=>{r(O,B,M);z(O,B);const H=
e.getEffectiveLayerCapabilities(B);if("geometry"in O&&null!=O.geometry&&!H?.editing.supportsGeometryUpdate)throw new f(`${B.type}-layer:unsupported-operation`,"Layer does not support geometry updates.");});K.deleteFeatures.forEach(O=>{r(O,B,M)});K.addAttachments.forEach(O=>x(O,B));K.updateAttachments.forEach(O=>x(O,B));F&&await A(K,B);return{edits:await w(K),options:G}}function r(B,C,D){if(D){if("attributes"in B&&!B.attributes[C.globalIdField])throw new f(`${C.type}-layer:invalid-parameter`,"Feature should have 'globalId' when 'globalIdUsed' is true");
if(!("attributes"in B||B.globalId))throw new f(`${C.type}-layer:invalid-parameter`,"'globalId' of the feature should be passed when 'globalIdUsed' is true");}if("geometry"in B&&null!=B.geometry){if(B.geometry.hasZ&&!1===C.capabilities?.data.supportsZ)throw new f(`${C.type}-layer:z-unsupported`,"Layer does not support z values while feature has z values.");if(B.geometry.hasM&&!1===C.capabilities?.data.supportsM)throw new f(`${C.type}-layer:m-unsupported`,"Layer does not support m values while feature has m values.");
}}function z(B,C){if("geometry"in B&&"mesh"===B.geometry?.type&&({geometry:B}=B,B.vertexSpace.isGeoreferenced))throw new f(`${C.type}-layer:georeferenced-mesh-unsupported`,"Uploading georeferenced meshes to a layer is not supported.");}function x(B,C){const {feature:D,attachment:y}=B;if(!D||"attributes"in D&&!D.attributes[C.globalIdField])throw new f(`${C.type}-layer:invalid-parameter`,"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in D||D.globalId))throw new f(`${C.type}-layer:invalid-parameter`,
"Attachment should have reference to 'globalId' of the parent feature");if(!y.globalId)throw new f(`${C.type}-layer:invalid-parameter`,"Attachment should have 'globalId'");if(!y.data&&!y.uploadId)throw new f(`${C.type}-layer:invalid-parameter`,"Attachment should have 'data' or 'uploadId'");if(!(y.data instanceof File&&y.data.name||y.name))throw new f(`${C.type}-layer:invalid-parameter`,"'name' is required when attachment is specified as Base64 encoded string using 'data'");if(!C.capabilities?.editing.supportsUploadWithItemId&&
y.uploadId)throw new f(`${C.type}-layer:invalid-parameter`,"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"===typeof y.data&&(B=p.dataComponents(y.data))&&!B.isBase64)throw new f(`${C.type}-layer:invalid-parameter`,"Attachment 'data' should be a Blob, File or Base64 encoded string");}async function w(B){const C=B.addFeatures??[],D=B.updateFeatures??[];var y=C.concat(D).map(K=>K.geometry);y=await t.normalizeCentralMeridian(y);const G=
C.length,F=D.length;y.slice(0,G).forEach((K,M)=>C[M].geometry=K);y.slice(G,G+F).forEach((K,M)=>D[M].geometry=K);return B}function v(B){const C=new b;B.attributes||(B.attributes={});C.geometry=B.geometry;C.attributes=B.attributes;return C}async function A(B,C){if(null!=C.infoFor3D){var {infoFor3D:D}=C,y=m.getMimeTypeFormatId("model/gltf-binary",D.supportedFormats)??m.getFilenameFormatId("glb",D.supportedFormats);if(!y||!D.editFormats.includes(y))throw new f(`${C.type}-layer:binary-gltf-asset-not-supported`,
"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.");B.addAssetFeatures??(B.addAssetFeatures=[]);({addAssetFeatures:C}=B);for(const G of B.addFeatures??[])"mesh"===G?.geometry?.type&&C.push(G);for(const G of B.updateFeatures??[])"mesh"===G?.geometry?.type&&C.push(G)}}a.applyEdits=async function(B,C,D,y={}){let G;k.isEditBusLayer(B)&&B.url?G=k.emitApplyEditsEvent(B.url,B.layerId,"original-and-current-features"===y.returnServiceEditsOption):(G=u.createResolver(),G.promise.then(F=>
{(F.addedFeatures.length||F.updatedFeatures.length||F.deletedFeatures.length||F.addedAttachments.length||F.updatedAttachments.length||F.deletedAttachments.length)&&B.emit("edits",F)}),B.emit("apply-edits",{result:G.promise}));try{const {results:F,edits:K}=await n(B,C,D,y);C=O=>O.filter(H=>!H.error).map(g.clone);const M={edits:K,addedFeatures:C(F.addFeatureResults),updatedFeatures:C(F.updateFeatureResults),deletedFeatures:C(F.deleteFeatureResults),addedAttachments:C(F.addAttachmentResults),updatedAttachments:C(F.updateAttachmentResults),
deletedAttachments:C(F.deleteAttachmentResults),exceededTransferLimit:!1};F.editedFeatureResults?.length&&(M.editedFeatures=F.editedFeatureResults);G.resolve(M);return F}catch(F){throw G.reject(F),F;}};a.isFeatureIdentifierArrayWithGlobalId=function(B){return B.every(l)};a.isFeatureIdentifierArrayWithObjectId=function(B){return B.every(d)};a.isFeatureIdentifierWithGlobalId=l;a.isFeatureIdentifierWithObjectId=d;a.uploadAssets=function(B,C,D,y){if(!C||null==C.applyEdits)throw new f(`${B.type}-layer:no-editing-support`,
"Layer source does not support applyEdits capability",{layer:B});if(!C.uploadAssets)throw new f(`${B.type}-layer:no-asset-upload-support`,"Layer source does not support uploadAssets capability",{layer:B});return C.uploadAssets(D,y)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/Error ../../core/Logger ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometryService/cut ../../rest/geometryService/simplify".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m){function e(x){const w=[];let v=0,A=0;for(let B=0;B<x.length;B++){const C=x[B];let D=null;for(let y=0;y<C.length;y++)D=C[y],w.push(D),0===y?A=v=D[0]:(v=Math.min(v,D[0]),A=Math.max(A,D[0]));D&&w.push([(v+A)/2,0])}return w}function d(x,w){if(!(x instanceof q||x instanceof g))throw z.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new c("straightLineDensify: the input geometry is neither polyline nor polygon");var v=u.getGeometryParts(x);
const A=[];for(const C of v){v=[];A.push(v);v.push([C[0][0],C[0][1]]);for(let D=0;D<C.length-1;D++){const y=C[D][0],G=C[D][1],F=C[D+1][0],K=C[D+1][1];var B=Math.sqrt((F-y)*(F-y)+(K-G)*(K-G));const M=(K-G)/B,O=(F-y)/B,H=B/w;if(1<H){for(let J=1;J<=H-1;J++){const L=J*w;v.push([O*L+y,M*L+G])}B=(B+Math.floor(H-1)*w)/2;v.push([O*B+y,M*B+G])}v.push([F,K])}}return"polygon"===x.type?new g({rings:A,spatialReference:x.spatialReference}):new q({paths:A,spatialReference:x.spatialReference})}function l(x,w,v){w&&
(x=d(x,1E6),x=t.webMercatorToGeographic(x,!0));v&&(x=u.updatePolyGeometry(x,v));return x}function n(x,w,v){if(Array.isArray(x)){var A=x[0];A>w?(v=u.offsetMagnitude(A,w),x[0]=A+-2*v*w):A<v&&(w=u.offsetMagnitude(A,v),x[0]=A+-2*w*v)}else A=x.x,A>w?(v=u.offsetMagnitude(A,w),x=x.clone().offset(-2*v*w,0)):A<v&&(w=u.offsetMagnitude(A,v),x=x.clone().offset(-2*w*v,0));return x}function h(x,w){let v=-1;for(let A=0;A<w.cutIndexes.length;A++){const B=w.cutIndexes[A],C=w.geometries[A],D=u.getGeometryParts(C);
for(let y=0;y<D.length;y++){const G=D[y];G.some(F=>{if(180>F[0])return!0;F=0;for(var K=0;K<G.length;K++){var M=G[K][0];F=M>F?M:F}F=Number(F.toFixed(9));F=-360*u.offsetMagnitude(F,180);for(K=0;K<G.length;K++)M=C.getPoint(y,K),C.setPoint(y,K,M.clone().offset(F,0));return!0})}if(B===v)if("polygon"===x[0].type)for(const y of u.getGeometryParts(C))x[B]=x[B].addRing(y);else{if("polyline"===x[0].type)for(const y of u.getGeometryParts(C))x[B]=x[B].addPath(y)}else v=B,x[B]=C}return x}async function r(x,w,
v){if(!Array.isArray(x))return r([x],w);w&&"string"!==typeof w&&z.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");var A="string"===typeof w?w:w?.url??b.geometryServiceUrl;let B,C,D;let y=0;var G=[];w=[];for(var F of x)if(null==F)w.push(F);else{if(!K){var K=F.spatialReference;var M=p.getInfo(K);var O=(B=K.isWebMercator)?102100:4326;C=u.cutParams[O].maxX;D=u.cutParams[O].minX;var H=u.cutParams[O].plus180Line;O=u.cutParams[O].minus180Line}if(M)if("mesh"===
F.type)w.push(F);else if("point"===F.type)w.push(n(F.clone(),C,D));else if("multipoint"===F.type){var J=F.clone();J.points=J.points.map(L=>n(L,C,D));w.push(J)}else if("extent"===F.type)J=F.clone()._normalize(!1,!1,M),w.push(J.rings?new g(J):J);else if(F.extent){J=F.extent;const L=2*u.offsetMagnitude(J.xmin,D)*C;let N=0===L?F.clone():u.updatePolyGeometry(F.clone(),L);J.offset(L,0);J.intersects(H)&&J.xmax!==C?(y=J.xmax>y?J.xmax:y,N=l(N,B),G.push(N),w.push("cut")):J.intersects(O)&&J.xmin!==D?(y=2*J.xmax*
C>y?2*J.xmax*C:y,N=l(N,B,360),G.push(N),w.push("cut")):w.push(N)}else w.push(F.clone());else w.push(F)}K=u.offsetMagnitude(y,C);M=-90;H=K;for(F=new q;0<K;)O=-180+360*K,F.addPath([[O,M],[O,-1*M]]),M*=-1,K--;if(0<G.length&&0<H){K=await k.cut(A,G,F,v);K=h(G,K);M=[];G=[];for(H=0;H<w.length;H++)F=w[H],"cut"!==F?G.push(F):(F=K.shift(),O=x[H],null!=O&&"polygon"===O.type&&O.rings&&1<O.rings.length&&F.rings.length>=O.rings.length?(M.push(F),G.push("simplify")):G.push(B?t.geographicToWebMercator(F):F));if(!M.length)return G;
w=await m.simplify(A,M,v);x=[];for(v=0;v<G.length;v++)A=G[v],"simplify"!==A?x.push(A):x.push(B?t.geographicToWebMercator(w.shift()):w.shift());return x}x=[];for(v=0;v<w.length;v++)A=w[v],"cut"!==A?x.push(A):(A=G.shift(),x.push(!0===B?t.geographicToWebMercator(A):A));return x}const z=f.getLogger("esri.geometry.support.normalizeUtils");a.getDenormalizedExtent=function(x){if(!x)return null;const w=x.extent;if(!w)return null;var v=x.spatialReference&&p.getInfo(x.spatialReference);if(!v)return w;const [A,
B]=v.valid;({width:v}=w);let {xmin:C,xmax:D}=w;[C,D]=[D,C];if("extent"===x.type||0===v||v<=B||v>2*B||C<A||D>B)return w;let y;switch(x.type){case "polygon":if(1<x.rings.length)y=e(x.rings);else return w;break;case "polyline":if(1<x.paths.length)y=e(x.paths);else return w;break;case "multipoint":y=x.points}x=w.clone();for(let G=0;G<y.length;G++){let F=y[G][0];0>F?(F+=B,D=Math.max(F,D)):(F-=B,C=Math.min(F,C))}x.xmin=C;x.xmax=D;return x.width<v?(x.xmin-=B,x.xmax-=B,x):w};a.normalizeCentralMeridian=r;
a.normalizeMapX=function(x,w){if(w=p.getInfo(w)){const [v,A]=w.valid;w=A-v;if(x<v)for(;x<v;)x+=w;if(x>A)for(;x>A;)x-=w}return x};a.straightLineDensify=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(a,b,c,f){function g(q){return f.isPolygon(q)?q.rings:q.paths}b={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,
-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};a.cutParams=b;a.getGeometryParts=g;a.offsetMagnitude=function(q,
u){return Math.ceil((q-u)/(2*u))};a.updatePolyGeometry=function(q,u){const p=g(q);for(const t of p)for(const k of t)k[0]+=u;return q};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/cut":function(){define(["exports","../../geometry","../../request","../../geometry/support/jsonUtils","../utils"],function(a,b,c,f,g){a.cut=async function(q,u,p,t){q=g.parseUrl(q);const k=u[0].spatialReference;u={...t,query:{...q.query,f:"json",sr:JSON.stringify(k),target:JSON.stringify({geometryType:f.getJsonType(u[0]),
geometries:u}),cutter:JSON.stringify(p)}};u=await c(q.path+"/cut",u);const {cutIndexes:m,geometries:e=[]}=u.data;return{cutIndexes:m,geometries:e.map(d=>{d=f.fromJSON(d);d.spatialReference=k;return d})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/utils":function(){define("exports ../config ../kernel ../core/lang ../core/urlUtils ../support/apiKeyUtils".split(" "),function(a,b,c,f,g,q){function u(p,t,k){const m={};for(const d in p)if("declaredClass"!==d){var e=p[d];
if(null!=e&&"function"!==typeof e)if(Array.isArray(e)){m[d]=[];for(let l=0;l<e.length;l++)m[d][l]=u(e[l])}else"object"===typeof e?e.toJSON?(e=e.toJSON(k&&k[d]),m[d]=t?e:JSON.stringify(e)):m[d]=t?e:JSON.stringify(e):m[d]=e}return m}a.asValidOptions=function(p,t){return t?{...t,query:{...(p??{}),...t.query}}:{query:p}};a.encode=u;a.getToken=function(p,t){return p?q.supportsApiKey(p)&&(t||b.apiKey)?t||b.apiKey:c.id?.findCredential(p)?.token:null};a.parseUrl=function(p){return"string"===typeof p?g.urlToObject(p):
f.clone(p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/simplify":function(){define(["exports","../../request","../../core/urlUtils","../../geometry/support/jsonUtils","./utils"],function(a,b,c,f,g){a.simplify=async function(q,u,p){const t="string"===typeof q?c.urlToObject(q):q;q=u[0].spatialReference;const k=f.getJsonType(u[0]);u={...p,query:{...t.query,f:"json",sr:q.wkid??JSON.stringify(q),geometries:JSON.stringify(g.encodeGeometries(u))}};({data:u}=
await b(t.path+"/simplify",u));return g.decodeGeometries(u.geometries,k,q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],function(a,b){a.decodeGeometries=function(c,f,g){const q=b.getGeometryType(f);return c.map(u=>{u=q.fromJSON(u);u.spatialReference=g;return u})};a.encodeGeometries=function(c){return{geometryType:b.getJsonType(c[0]),geometries:c.map(f=>f.toJSON())}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang","../../data/QueryEngineCapabilities","../../../../symbols/support/defaultsJSON"],function(a,b,c,f,g){const q=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let u=1;a.createCapabilities=function(p,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:p},metadata:{supportsAdvancedFieldProperties:!1},
operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:f.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},
editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1}}};a.createDefaultAttributesFunction=function(p,t){if(b("esri-csp-restrictions"))return()=>({[t]:null,...p});try{let k=`this.${t} = null;`;for(const e in p){const d=q.test(e)?
`.${e}`:`["${e}"]`;k+=`this${d} = ${JSON.stringify(p[e])};`}const m=(new Function(`\n      return class AttributesClass$${u++} {\n        constructor() {\n          ${k};\n        }\n      }\n    `))();return()=>new m}catch(k){return()=>({[t]:null,...p})}};a.createDefaultTemplate=function(p={}){return[{name:"New Feature",description:"",prototype:{attributes:c.clone(p)}}]};a.createDrawingInfo=function(p){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===p||"esriGeometryMultipoint"===p?g.defaultPointSymbolJSON:
"esriGeometryPolyline"===p?g.defaultPolylineSymbolJSON:g.defaultPolygonSymbolJSON}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(a){a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,
supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,
supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/QueryTask":function(){define("require ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Error ../../../../core/has ../../../../core/promiseUtils ../../../../core/urlUtils ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/accessorSupport/decorators/subclass ../../../support/infoFor3D ../../../support/source/DataLayerSource ../../../../rest/utils ../../../../rest/query/executeForCount ../../../../rest/query/executeForExtent ../../../../rest/query/executeForIds ../../../../rest/query/executeQueryJSON ../../../../rest/query/executeQueryPBF ../../../../rest/support/FeatureSet ../../../../rest/support/Query".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A){const B=C=>Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"}));f=function(C){function D(G){G=C.call(this,G)||this;G.dynamicDataSource=null;G.fieldsIndex=null;G.gdbVersion=null;G.infoFor3D=null;G.pbfSupported=!1;G.queryAttachmentsSupported=!1;G.sourceSpatialReference=null;G.url=null;return G}b._inherits(D,C);var y=D.prototype;y.execute=async function(G,F){const K=await this.executeJSON(G,F);return this.featureSetFromJSON(G,
K,F)};y.executeJSON=async function(G,F){const K=this._normalizeQuery(G);G=null!=G.outStatistics?.[0];const M=q("featurelayer-pbf-statistics");G=!G||M;let O;if(this.pbfSupported&&G)try{O=await w.executeRawQueryPBF(this.url,K,F)}catch(H){if("query:parsing-pbf"===H.name)this.pbfSupported=!1;else throw H;}this.pbfSupported&&G||(O=await x.executeRawQueryJSON(this.url,K,F));this._normalizeFields(O.fields);return O};y.featureSetFromJSON=async function(G,F,K){if(!this._queryIs3DObjectFormat(G)||null==this.infoFor3D||
!F.features)return v.fromJSON(F);({meshFeatureSetFromJSON:K}=await u.whenOrAbort(new Promise((M,O)=>a(["../../../../rest/support/meshFeatureSet"],M,O)),K));return K(G,this.infoFor3D,F)};y.executeForCount=function(G,F){return h.executeForCount(this.url,this._normalizeQuery(G),F)};y.executeForExtent=function(G,F){return r.executeForExtent(this.url,this._normalizeQuery(G),F)};y.executeForIds=function(G,F){return z.executeForIds(this.url,this._normalizeQuery(G),F)};y.executeRelationshipQuery=async function(G,
F){const [{default:K},{executeRelationshipQuery:M}]=await u.whenOrAbort(Promise.all([new Promise((O,H)=>a(["../../../../rest/support/RelationshipQuery"],J=>O(B(J)),H)),new Promise((O,H)=>a(["../../../../rest/query/executeRelationshipQuery"],O,H))]),F);G=K.from(G);if(this.gdbVersion||this.dynamicDataSource)G=G.clone(),G.gdbVersion=G.gdbVersion||this.gdbVersion,G.dynamicDataSource=G.dynamicDataSource||this.dynamicDataSource;return M(this.url,G,F)};y.executeRelationshipQueryForCount=async function(G,
F){const [{default:K},{executeRelationshipQueryForCount:M}]=await u.whenOrAbort(Promise.all([new Promise((O,H)=>a(["../../../../rest/support/RelationshipQuery"],J=>O(B(J)),H)),new Promise((O,H)=>a(["../../../../rest/query/executeRelationshipQuery"],O,H))]),F);G=K.from(G);if(this.gdbVersion||this.dynamicDataSource)G=G.clone(),G.gdbVersion=G.gdbVersion||this.gdbVersion,G.dynamicDataSource=G.dynamicDataSource||this.dynamicDataSource;return M(this.url,G,F)};y.executeAttachmentQuery=async function(G,F){const {executeAttachmentQuery:K,
fetchAttachments:M,processAttachmentQueryResult:O}=await u.whenOrAbort(new Promise((J,L)=>a(["../../../../rest/query/operations/queryAttachments"],J,L)),F),H=n.parseUrl(this.url);G=await (this.queryAttachmentsSupported?K(H,G,F):M(H,G,F));return O(H,G)};y.executeTopFeaturesQuery=async function(G,F){const {executeTopFeaturesQuery:K}=await u.whenOrAbort(new Promise((M,O)=>a(["../../../../rest/query/executeTopFeaturesQuery"],M,O)),F);return K(this.parsedUrl,G,this.sourceSpatialReference,F)};y.executeForTopIds=
async function(G,F){const {executeForTopIds:K}=await u.whenOrAbort(new Promise((M,O)=>a(["../../../../rest/query/executeForTopIds"],M,O)),F);return K(this.parsedUrl,G,F)};y.executeForTopExtents=async function(G,F){const {executeForTopExtents:K}=await u.whenOrAbort(new Promise((M,O)=>a(["../../../../rest/query/executeForTopExtents"],M,O)),F);return K(this.parsedUrl,G,F)};y.executeForTopCount=async function(G,F){const {executeForTopCount:K}=await u.whenOrAbort(new Promise((M,O)=>a(["../../../../rest/query/executeForTopCount"],
M,O)),F);return K(this.parsedUrl,G,F)};y._normalizeQuery=function(G){let F=A.from(G);F.sourceSpatialReference=F.sourceSpatialReference||this.sourceSpatialReference;if(this.gdbVersion||this.dynamicDataSource)F=F===G?F.clone():F,F.gdbVersion=G.gdbVersion||this.gdbVersion,F.dynamicDataSource=G.dynamicDataSource?l.DataLayerSource.from(G.dynamicDataSource):this.dynamicDataSource;const {infoFor3D:K}=this;if(null!=K&&this._queryIs3DObjectFormat(G)){F=F===G?F.clone():F;F.formatOf3DObjects=null;const {supportedFormats:M,
queryFormats:O}=K,H=d.getMimeTypeFormatId("model/gltf-binary",M)??d.getFilenameFormatId("glb",M),J=d.getMimeTypeFormatId("model/gltf+json",M)??d.getFilenameFormatId("gtlf",M);for(const L of O){if(L===H){F.formatOf3DObjects=L;break}L!==J||F.formatOf3DObjects||(F.formatOf3DObjects=L)}if(!F.formatOf3DObjects)throw new g("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(null==F.outFields||!F.outFields.includes("*")){F=
F===G?F.clone():F;null==F.outFields&&(F.outFields=[]);const {originX:L,originY:N,originZ:V,translationX:X,translationY:U,translationZ:P,scaleX:fa,scaleY:Ba,scaleZ:Aa,rotationX:ma,rotationY:ta,rotationZ:ba,rotationDeg:ka}=K.transformFieldRoles;F.outFields.push(L,N,V,X,U,P,fa,Ba,Aa,ma,ta,ba,ka)}}return F};y._normalizeFields=function(G){if(null!=this.fieldsIndex&&null!=G)for(const F of G)(G=this.fieldsIndex.get(F.name))&&Object.assign(F,G.toJSON())};y._queryIs3DObjectFormat=function(G){return null!=
this.infoFor3D&&!0===G.returnGeometry&&"xyFootprint"!==G.multipatchOption&&!G.outStatistics};b._createClass(D,[{key:"parsedUrl",get:function(){return p.urlToObject(this.url)}}]);return D}(f);c.__decorate([t.property({type:l.DataLayerSource})],f.prototype,"dynamicDataSource",void 0);c.__decorate([t.property()],f.prototype,"fieldsIndex",void 0);c.__decorate([t.property()],f.prototype,"gdbVersion",void 0);c.__decorate([t.property()],f.prototype,"infoFor3D",void 0);c.__decorate([t.property({readOnly:!0})],
f.prototype,"parsedUrl",null);c.__decorate([t.property()],f.prototype,"pbfSupported",void 0);c.__decorate([t.property()],f.prototype,"queryAttachmentsSupported",void 0);c.__decorate([t.property()],f.prototype,"sourceSpatialReference",void 0);c.__decorate([t.property({type:String})],f.prototype,"url",void 0);return f=c.__decorate([e.subclass("esri.tasks.QueryTask")],f)})},"esri/rest/query/executeForCount":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,
c,f){a.executeForCount=async function(g,q,u){g=b.parseUrl(g);return c.executeQueryForCount(g,f.from(q),{...u}).then(p=>p.data.count)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/query":function(){define("exports ../../../request ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),function(a,b,c,f,g,q,u,p){function t(d,l){if(l&&"extent"===
d.type)return`${d.xmin},${d.ymin},${d.xmax},${d.ymax}`;if(l&&"point"===d.type)return`${d.x},${d.y}`;d=d.toJSON();delete d.spatialReference;return JSON.stringify(d)}function k(d,l){const n=d.geometry,h=d.toJSON();delete h.compactGeometryEnabled;delete h.defaultSpatialReferenceEnabled;let r,z,x;null!=n&&(z=n.spatialReference,x=n.spatialReference.wkid||JSON.stringify(n.spatialReference),h.geometryType=f.getJsonType(n),h.geometry=t(n,d.compactGeometryEnabled),h.inSR=x);h.groupByFieldsForStatistics&&(h.groupByFieldsForStatistics=
h.groupByFieldsForStatistics.join(","));h.objectIds&&(h.objectIds=h.objectIds.join(","));h.orderByFields&&(h.orderByFields=h.orderByFields.join(","));!h.outFields||!h.returnDistinctValues&&(l?.returnCountOnly||l?.returnExtentOnly||l?.returnIdsOnly)?delete h.outFields:h.outFields.includes("*")?h.outFields="*":h.outFields=h.outFields.join(",");h.outSR?(h.outSR=h.outSR.wkid||JSON.stringify(h.outSR),r=d.outSpatialReference):n&&(h.returnGeometry||h.returnCentroid)&&(h.outSR=h.inSR,r=z);h.returnGeometry&&
delete h.returnGeometry;h.outStatistics&&(h.outStatistics=JSON.stringify(h.outStatistics));h.fullText&&(h.fullText=JSON.stringify(h.fullText));h.pixelSize&&(h.pixelSize=JSON.stringify(h.pixelSize));h.quantizationParameters&&(d.defaultSpatialReferenceEnabled&&null!=z&&null!=d.quantizationParameters&&null!=d.quantizationParameters.extent&&z.equals(d.quantizationParameters.extent.spatialReference)&&delete h.quantizationParameters.extent.spatialReference,h.quantizationParameters=JSON.stringify(h.quantizationParameters));
h.parameterValues&&(h.parameterValues=JSON.stringify(h.parameterValues));h.rangeValues&&(h.rangeValues=JSON.stringify(h.rangeValues));h.dynamicDataSource&&(h.layer=JSON.stringify({source:h.dynamicDataSource}),delete h.dynamicDataSource);if(h.timeExtent){const {start:w,end:v}=h.timeExtent;if(null!=w||null!=v)h.time=w===v?w:`${null==w?"null":w},${null==v?"null":v}`;delete h.timeExtent}d.defaultSpatialReferenceEnabled&&null!=z&&null!=r&&z.equals(r)&&(h.defaultSR=h.inSR,delete h.inSR,delete h.outSR);
return h}function m(d,l,n){return e(d,l,"pbf",n)}async function e(d,l,n,h={},r={}){d="string"===typeof d?c.urlToObject(d):d;var z=l.geometry?[l.geometry]:[];h.responseType="pbf"===n?"array-buffer":"json";z=(z=await g.normalizeCentralMeridian(z,null,h))&&z[0];null!=z&&(l=l.clone(),l.geometry=z);n=q.mapParameters({...d.query,f:n,...r,...k(l,r)});return b(c.join(d.path,null==l.formatOf3DObjects||r.returnCountOnly||r.returnExtentOnly||r.returnIdsOnly?"query":"query3d"),{...h,query:{...n,...h.query}})}
a.encodeGeometry=t;a.executeQuery=async function(d,l,n,h){d=null!=l.timeExtent&&l.timeExtent.isEmpty?{data:{features:[]}}:await e(d,l,"json",h);p.applyFeatureSetZUnitScaling(l,n,d.data);return d};a.executeQueryForCount=function(d,l,n){return null!=l.timeExtent&&l.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):e(d,l,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=async function(d,l,n){if(null!=l.timeExtent&&l.timeExtent.isEmpty)return{data:{count:0,extent:null}};d=await e(d,
l,"json",n,{returnExtentOnly:!0,returnCountOnly:!0});l=d.data;if(l.hasOwnProperty("extent"))return d;if(l.features)throw Error("Layer does not support extent calculation.");if(l.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return d};a.executeQueryForIds=function(d,l,n){return null!=l.timeExtent&&l.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):e(d,l,"json",n,{returnIdsOnly:!0})};a.executeQueryPBF=async function(d,l,n,h){if(null!=l.timeExtent&&l.timeExtent.isEmpty)return{data:n.createFeatureResult()};
d=await m(d,l,h);d.data=u.parsePBFFeatureQuery(d.data,n);return d};a.executeQueryPBFBuffer=m;a.queryToQueryStringParameters=k;a.runQuery=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/operations/urlUtils":function(){define(["exports"],function(a){function b(c){const f={};for(const g in c){if("declaredClass"===g)continue;const q=c[g];if(null!=q&&"function"!==typeof q)if(Array.isArray(q)){f[g]=[];for(let u=0;u<q.length;u++)f[g][u]=b(q[u])}else"object"===typeof q?q.toJSON&&
(f[g]=JSON.stringify(q)):f[g]=q}return f}a.mapParameters=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,b){a.parsePBFFeatureQuery=function(c,f){var g=b.parseFeatureQuery(c,f);c=g.queryResult.featureResult;f=g.queryResult.queryGeometry;g=g.queryResult.queryGeometryType;if(c&&c.features&&c.features.length&&c.objectIdFieldName){const q=c.objectIdFieldName;for(const u of c.features)u.attributes&&
(u.objectId=u.attributes[q])}c&&(c.queryGeometry=f,c.queryGeometryType=g);return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define(["exports","../../../core/Error","../../../core/pbf","../../../layers/graphics/OptimizedGeometry","./pbfOptimizedFeatureSet"],function(a,b,c,f,g){function q(C){return C>=v.length?null:v[C]}function u(C,D,y){C=C.asUnsafe();for(y=D.createPointGeometry(y);C.next();)switch(C.tag()){case 3:var G=
C.getUInt32();G=C.pos()+G;let F=0;for(;C.pos()<G;)D.addCoordinatePoint(y,C.getSInt64(),F++);break;default:C.skip()}return y}function p(C,D,y){C=C.asUnsafe();const G=D.createGeometry(y);for(y=2+(y.hasZ?1:0)+(y.hasM?1:0);C.next();)switch(C.tag()){case 2:var F=C.getUInt32();F=C.pos()+F;for(var K=0;C.pos()<F;)D.addLength(G,C.getUInt32(),K++);break;case 3:F=C.getUInt32();F=C.pos()+F;K=0;for(D.allocateCoordinates(G);C.pos()<F;)D.addCoordinate(G,C.getSInt64(),K),K++,K===y&&(K=0);break;default:C.skip()}return G}
function t(C){C=C.asUnsafe();const D=new f;let y="esriGeometryPoint";for(;C.next();)switch(C.tag()){case 2:var G=C.getUInt32();for(G=C.pos()+G;C.pos()<G;)D.lengths.push(C.getUInt32());break;case 3:G=C.getUInt32();for(G=C.pos()+G;C.pos()<G;)D.coords.push(C.getSInt64());break;case 1:y=g.OPTIMIZED_GEOMETRY_TYPES[C.getEnum()];break;default:C.skip()}return{queryGeometry:D,queryGeometryType:y}}function k(C){for(C=C.asUnsafe();C.next();)switch(C.tag()){case 1:return C.getString();case 2:return C.getFloat();
case 3:return C.getDouble();case 4:return C.getSInt32();case 5:return C.getUInt32();case 6:return C.getInt64();case 7:return C.getUInt64();case 8:return C.getSInt64();case 9:return C.getBool();default:return C.skip(),null}return null}function m(C){C=C.asUnsafe();const D={type:q(0)};for(;C.next();)switch(C.tag()){case 1:D.name=C.getString();break;case 2:D.type=q(C.getEnum());break;case 3:D.alias=C.getString();break;case 4:var y=C.getEnum();y=y>=A.length?null:A[y];D.sqlType=y;break;case 5:C.skip();
break;case 6:D.defaultValue=C.getString();break;default:C.skip()}return D}function e(C){const D={};for(C=C.asUnsafe();C.next();)switch(C.tag()){case 1:D.name=C.getString();break;case 2:D.isSystemMaintained=C.getBool();break;default:C.skip()}return D}function d(C,D,y,G){const F=D.createFeature(y);let K=0;for(;C.next();)switch(C.tag()){case 1:const M=G[K++].name;F.attributes[M]=C.processMessage(k);break;case 2:F.geometry=C.processMessageWithArgs(p,D,y);break;case 4:F.centroid=C.processMessageWithArgs(u,
D,y);break;default:C.skip()}return F}function l(C){const D=[1,1,1,1];for(C=C.asUnsafe();C.next();)switch(C.tag()){case 1:D[0]=C.getDouble();break;case 2:D[1]=C.getDouble();break;case 4:D[2]=C.getDouble();break;case 3:D[3]=C.getDouble();break;default:C.skip()}return D}function n(C){const D=[0,0,0,0];for(C=C.asUnsafe();C.next();)switch(C.tag()){case 1:D[0]=C.getDouble();break;case 2:D[1]=C.getDouble();break;case 4:D[2]=C.getDouble();break;case 3:D[3]=C.getDouble();break;default:C.skip()}return D}function h(C){const D=
{originPosition:0>=B.length?null:B[0]};for(C=C.asUnsafe();C.next();)switch(C.tag()){case 1:var y=C.getEnum();D.originPosition=y>=B.length?null:B[y];break;case 2:D.scale=C.processMessage(l);break;case 3:D.translate=C.processMessage(n);break;default:C.skip()}return D}function r(C){const D={};for(C=C.asUnsafe();C.next();)switch(C.tag()){case 1:D.shapeAreaFieldName=C.getString();break;case 2:D.shapeLengthFieldName=C.getString();break;case 3:D.units=C.getString();break;default:C.skip()}return D}function z(C,
D){for(D=D.createSpatialReference();C.next();)switch(C.tag()){case 1:D.wkid=C.getUInt32();break;case 5:D.wkt=C.getString();break;case 2:D.latestWkid=C.getUInt32();break;case 3:D.vcsWkid=C.getUInt32();break;case 4:D.latestVcsWkid=C.getUInt32();break;default:C.skip()}return D}function x(C,D){const y=D.createFeatureResult();C=C.asUnsafe();y.geometryType=0>=D.geometryTypes.length?null:D.geometryTypes[0];let G=!1;for(;C.next();)switch(C.tag()){case 1:y.objectIdFieldName=C.getString();break;case 3:y.globalIdFieldName=
C.getString();break;case 4:y.geohashFieldName=C.getString();break;case 5:y.geometryProperties=C.processMessage(r);break;case 7:var F=C.getEnum();y.geometryType=F>=D.geometryTypes.length?null:D.geometryTypes[F];break;case 8:y.spatialReference=C.processMessageWithArgs(z,D);break;case 10:y.hasZ=C.getBool();break;case 11:y.hasM=C.getBool();break;case 12:y.transform=C.processMessage(h);break;case 9:F=C.getBool();y.exceededTransferLimit=F;break;case 13:D.addField(y,C.processMessage(m));break;case 15:G||
(D.prepareFeatures(y),G=!0);D.addFeature(y,C.processMessageWithArgs(d,D,y,y.fields));break;case 2:y.uniqueIdField=C.processMessage(e);break;default:C.skip()}D.finishFeatureResult(y);return y}function w(C,D){const y={};let G=null;for(;C.next();)switch(C.tag()){case 4:G=C.processMessageWithArgs(t);break;case 1:y.featureResult=C.processMessageWithArgs(x,D);break;default:C.skip()}null!=G&&y.featureResult&&D.addQueryGeometry(y,G);return y}const v="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML esriFieldTypeBigInteger esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "),
A="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),B=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(C,D){try{const y=new c(new Uint8Array(C),new DataView(C));
for(C={};y.next();)switch(y.tag()){case 2:C.queryResult=y.processMessageWithArgs(w,D);break;default:y.skip()}return C}catch(y){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:y});}};a.parseField=m;a.parseFieldType=q;a.parseTransform=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/pbf":function(){define(["../chunks/_rollupPluginBabelHelpers","./has","./ObjectPool"],function(a,b,c){var f;(function(u){u[u.varint=0]="varint";u[u.fixed64=
1]="fixed64";u[u.delimited=2]="delimited";u[u.fixed32=5]="fixed32";u[u.unknown=99]="unknown"})(f||(f={}));const g=new TextDecoder("utf-8"),q=b("safari")||b("ios")?6:b("ff")?12:32;b=function(){function u(t,k,m=0,e=t?t.byteLength:0){this._tag=0;this._dataType=f.unknown;this._init(t,k,m,e)}var p=u.prototype;p._init=function(t,k,m,e){this._data=t;this._dataView=k;this._pos=m;this._end=e};p.asUnsafe=function(){return this};p.clone=function(){return new u(this._data,this._dataView,this._pos,this._end)};
p.pos=function(){return this._pos};p.move=function(t){this._pos=t};p.nextTag=function(t){for(;;){if(this._pos===this._end)return!1;const k=this._decodeVarint();this._tag=k>>3;this._dataType=k&7;if(!t||t===this._tag)break;this.skip()}return!0};p.next=function(){if(this._pos===this._end)return!1;const t=this._decodeVarint();this._tag=t>>3;this._dataType=t&7;return!0};p.empty=function(){return this._pos>=this._end};p.tag=function(){return this._tag};p.getInt32=function(){return this._decodeVarint()};
p.getInt64=function(){return this._decodeVarint()};p.getUInt32=function(){let t=4294967295;t=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return t;t=(t|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return t;t=(t|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return t;t=(t|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return t;t=(t|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return t};p.getUInt64=
function(){return this._decodeVarint()};p.getSInt32=function(){const t=this.getUInt32();if(void 0!==t)return t>>>1^-(t&1)|0};p.getSInt64=function(){return this._decodeSVarint()};p.getBool=function(){const t=0!==this._data[this._pos];this._skip(1);return t};p.getEnum=function(){return this._decodeVarint()};p.getFixed64=function(){var t=this._dataView;const k=this._pos;t=t.getUint32(k,!0)+4294967296*t.getUint32(k+4,!0);this._skip(8);return t};p.getSFixed64=function(){var t=this._dataView;const k=this._pos;
t=t.getUint32(k,!0)+4294967296*t.getInt32(k+4,!0);this._skip(8);return t};p.getDouble=function(){const t=this._dataView.getFloat64(this._pos,!0);this._skip(8);return t};p.getFixed32=function(){const t=this._dataView.getUint32(this._pos,!0);this._skip(4);return t};p.getSFixed32=function(){const t=this._dataView.getInt32(this._pos,!0);this._skip(4);return t};p.getFloat=function(){const t=this._dataView.getFloat32(this._pos,!0);this._skip(4);return t};p.getString=function(){const t=this._getLength();
var k=this._pos;k=this._toString(this._data,k,k+t);this._skip(t);return k};p.getBytes=function(){const t=this._getLength();var k=this._pos;k=this._toBytes(this._data,k,k+t);this._skip(t);return k};p.getLength=function(){return this._getLengthUnsafe()};p.processMessageWithArgs=function(t,k,m,e){const d=this.getMessage();t=t(d,k,m,e);d.release();return t};p.processMessage=function(t){const k=this.getMessage();t=t(k);k.release();return t};p.getMessage=function(){const t=this._getLength(),k=u.pool.acquire();
k._init(this._data,this._dataView,this._pos,this._pos+t);this._skip(t);return k};p.release=function(){u.pool.release(this)};p.dataType=function(){return this._dataType};p.skip=function(){switch(this._dataType){case f.varint:this._decodeVarint();break;case f.fixed64:this._skip(8);break;case f.delimited:this._skip(this._getLength());break;case f.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}};p.skipLen=function(t){this._skip(t)};p._skip=function(t){if(this._pos+t>this._end)throw Error("Attempt to skip past the end of buffer!");
this._pos+=t};p._decodeVarint=function(){const t=this._data;let k=this._pos,m=0,e=0;if(10<=this._end-k){if(e=t[k++],m|=e&127,0!==(e&128)&&(e=t[k++],m|=(e&127)<<7,0!==(e&128)&&(e=t[k++],m|=(e&127)<<14,0!==(e&128)&&(e=t[k++],m|=(e&127)<<21,0!==(e&128)&&(e=t[k++],m+=268435456*(e&127),0!==(e&128)&&(e=t[k++],m+=34359738368*(e&127),0!==(e&128)&&(e=t[k++],m+=4398046511104*(e&127),0!==(e&128)&&(e=t[k++],m+=562949953421312*(e&127),0!==(e&128)&&(e=t[k++],m+=72057594037927936*(e&127),0!==(e&128)&&(e=t[k++],
m+=0x7fffffffffffffff*(e&127),0!==(e&128)))))))))))throw Error("Varint too long!");}else{let d=1;for(;k!==this._end;){e=t[k];if(0===(e&128))break;++k;m+=(e&127)*d;d*=128}if(k===this._end)throw Error("Varint overrun!");++k;m+=e*d}this._pos=k;return m};p._decodeSVarint=function(){const t=this._data;let k=this._pos,m=0,e=0;const d=t[k]&1;if(10<=this._end-k){if(e=t[k++],m|=e&127,0!==(e&128)&&(e=t[k++],m|=(e&127)<<7,0!==(e&128)&&(e=t[k++],m|=(e&127)<<14,0!==(e&128)&&(e=t[k++],m|=(e&127)<<21,0!==(e&128)&&
(e=t[k++],m+=268435456*(e&127),0!==(e&128)&&(e=t[k++],m+=34359738368*(e&127),0!==(e&128)&&(e=t[k++],m+=4398046511104*(e&127),0!==(e&128)&&(e=t[k++],m+=562949953421312*(e&127),0!==(e&128)&&(e=t[k++],m+=72057594037927936*(e&127),0!==(e&128)&&(e=t[k++],m+=0x7fffffffffffffff*(e&127),0!==(e&128)))))))))))throw Error("Varint too long!");}else{let l=1;for(;k!==this._end;){e=t[k];if(0===(e&128))break;++k;m+=(e&127)*l;l*=128}if(k===this._end)throw Error("Varint overrun!");++k;m+=e*l}this._pos=k;return d?-(m+
1)/2:m/2};p._getLength=function(){if(this._dataType!==f.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()};p._getLengthUnsafe=function(){return this.getUInt32()};p._toString=function(t,k,m){m=Math.min(this._end,m);if(m-k>q)return t=t.subarray(k,m),g.decode(t);let e="",d="";for(;k<m;++k){const l=t[k];l&128?d+="%"+l.toString(16):(e+=decodeURIComponent(d)+String.fromCharCode(l),d="")}d.length&&(e+=decodeURIComponent(d));return e};p._toBytes=function(t,k,m){m=Math.min(this._end,
m);return new Uint8Array(t.buffer,k,m-k)};return a._createClass(u)}();b.pool=new c(b,void 0,u=>{u._data=null;u._dataView=null});return b})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(f=[],g=[],q=!1){this.lengths=f??[];this.coords=g??[];this.hasIndeterminateRingOrder=q}b.fromRect=function(f){const [g,q,u,p]=f;f=u-g;const t=p-q;return new b([5],[g,q,f,0,0,t,-f,0,0,-t])};var c=b.prototype;c.forEachVertex=
function(f){let g=0;this.lengths.length||f(this.coords[0],this.coords[1]);for(let q=0;q<this.lengths.length;q++){const u=this.lengths[q];for(let p=0;p<u;p++)f(this.coords[2*(p+g)],this.coords[2*(p+g)+1]);g+=u}};c.clone=function(f){return f?(f.set(this.coords),new b(this.lengths.slice(),f,this.hasIndeterminateRingOrder)):new b(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};a._createClass(b,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},
{key:"size",get:function(){return this.lengths.reduce((f,g)=>f+g)}}]);return b}()})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),function(a,b,c,f,g,q,u){const p=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline",
"esriGeometryPolygon"];let t=function(){function k(e){this._options=e;this.geometryTypes=p;this._vertexDimension=this._coordinatePtr=0}var m=k.prototype;m.createFeatureResult=function(){return new q};m.prepareFeatures=function(e){this._vertexDimension=2;e.hasZ&&this._vertexDimension++;e.hasM&&this._vertexDimension++};m.finishFeatureResult=function(e){if(e&&e.features&&e.hasZ&&this._options.sourceSpatialReference&&e.spatialReference&&!f.equals(e.spatialReference,this._options.sourceSpatialReference)&&
!e.spatialReference.vcsWkid){var d=c.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),l=c.getMetersPerVerticalUnitForSR(e.spatialReference);d/=l;if(1!==d)for(const n of e.features)if(g.hasGeometry(n))for(e=n.geometry.coords,l=2;l<e.length;l+=3)e[l]*=d}};m.addFeature=function(e,d){e.features.push(d)};m.createFeature=function(){return new g.OptimizedFeature};m.createSpatialReference=function(){return{wkid:0}};m.createGeometry=function(){return new u};m.addField=function(e,d){e.fields.push(d)};
m.allocateCoordinates=function(e){e.coords.length=e.lengths.reduce((d,l)=>d+l,0)*this._vertexDimension;this._coordinatePtr=0};m.addCoordinate=function(e,d){e.coords[this._coordinatePtr++]=d};m.addCoordinatePoint=function(e,d){e.coords.push(d)};m.addLength=function(e,d){e.lengths.push(d)};m.addQueryGeometry=function(e,d){e.queryGeometry=d.queryGeometry;e.queryGeometryType=d.queryGeometryType};m.createPointGeometry=function(){return new u};return b._createClass(k)}();a.OPTIMIZED_GEOMETRY_TYPES=p;a.OptimizedFeatureSetParserContext=
t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b){let c=function(){function g(q=null,u={},p,t){this.geometry=q;this.attributes=u;this.centroid=p;this.objectId=t;this.geohashY=this.geohashX=this.displayId=0}g.prototype.weakClone=function(){const q=new g(this.geometry,this.attributes,this.centroid,this.objectId);q.displayId=this.displayId;q.geohashX=this.geohashX;
q.geohashY=this.geohashY;return q};return b._createClass(g)}(),f=function(g){function q(){return g.apply(this,arguments)||this}b._inherits(q,g);return b._createClass(q)}(c);a.OptimizedFeature=c;a.OptimizedFeatureWithGeometry=f;a.hasGeometry=function(g){return!(null==g.geometry||!g.geometry.coords||!g.geometry.coords.length)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(){this.spatialReference=
this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}b.prototype.weakClone=function(){const c=new b;c.objectIdFieldName=this.objectIdFieldName;c.globalIdFieldName=this.globalIdFieldName;c.geohashFieldName=this.geohashFieldName;c.geometryProperties=this.geometryProperties;
c.geometryType=this.geometryType;c.spatialReference=this.spatialReference;c.hasZ=this.hasZ;c.hasM=this.hasM;c.features=this.features;c.fields=this.fields;c.transform=this.transform;c.exceededTransferLimit=this.exceededTransferLimit;c.uniqueIdField=this.uniqueIdField;c.queryGeometry=this.queryGeometry;c.queryGeometryType=this.queryGeometryType;return c};return a._createClass(b)}()})},"esri/rest/query/executeForExtent":function(){define("exports ../../geometry ../utils ./operations/query ../support/Query ../../geometry/Extent".split(" "),
function(a,b,c,f,g,q){a.executeForExtent=async function(u,p,t){u=c.parseUrl(u);return f.executeQueryForExtent(u,g.from(p),{...t}).then(k=>({count:k.data.count,extent:q.fromJSON(k.data.extent)}))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeForIds":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,c,f){a.executeForIds=async function(g,q,u){g=b.parseUrl(g);return c.executeQueryForIds(g,f.from(q),{...u}).then(p=>
p.data.objectIds)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryJSON":function(){define(["exports","../utils","./operations/query","../support/FeatureSet","../support/Query"],function(a,b,c,f,g){async function q(u,p,t){u=b.parseUrl(u);t={...t};p=g.from(p);({data:p}=await c.executeQuery(u,p,p.sourceSpatialReference,t));return p}a.executeQueryJSON=async function(u,p,t){u=await q(u,p,t);return f.fromJSON(u)};a.executeRawQueryJSON=q;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),function(a,b,c,f,g,q){async function u(p,t,k){p=b.parseUrl(p);k={...k};t=q.from(t);({data:t}=await f.executeQueryPBF(p,t,new c.JSONFeatureSetParserContext({sourceSpatialReference:t.sourceSpatialReference,applyTransform:!t.quantizationParameters}),k));return t}a.executeQueryPBF=async function(p,
t,k){p=await u(p,q.from(t),k);return g.fromJSON(p)};a.executeRawQueryPBF=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/maybe","../../../geometry/support/zscale","../../../layers/graphics/featureConversionUtils"],function(a,b,c,f,g){function q(l,n){return n}function u(l,n,h,r){switch(h){case 0:return m(l,n+r,0);case 1:return"lowerLeft"===l.originPosition?
m(l,n+r,1):e(l,n+r,1)}}function p(l,n,h,r){switch(h){case 2:return m(l,n,2);default:return u(l,n,h,r)}}function t(l,n,h,r){switch(h){case 2:return m(l,n,3);default:return u(l,n,h,r)}}function k(l,n,h,r){switch(h){case 3:return m(l,n,3);default:return p(l,n,h,r)}}function m({translate:l,scale:n},h,r){return l[r]+h*n[r]}function e({translate:l,scale:n},h,r){return l[r]-h*n[r]}let d=function(){function l(h){this._options=h;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline",
"esriGeometryPolygon"];this._previousCoordinate=[0,0];this._transform=null;this._applyTransform=q;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;this._attributesConstructor=function(){return b._createClass(function(){})}()}var n=l.prototype;n.createFeatureResult=function(){return{fields:[],features:[]}};n.finishFeatureResult=function(h){this._options.applyTransform&&(h.transform=null);this._attributesConstructor=
function(){return b._createClass(function(){})}();this._coordinateBuffer=null;this._lengths.length=0;if(h.hasZ){var r=f.getGeometryZScaler(h.geometryType,this._options.sourceSpatialReference,h.spatialReference);if(null!=r)for(const z of h.features)r(z.geometry)}};n.createSpatialReference=function(){return{}};n.addField=function(h,r){h=h.fields;c.assertIsSome(h);h.push(r);const z=h.map(x=>x.name);this._attributesConstructor=function(){for(const x of z)this[x]=null}};n.addFeature=function(h,r){h.features.push(r)};
n.prepareFeatures=function(h){this._transform=h.transform;this._options.applyTransform&&h.transform&&(this._applyTransform=this._deriveApplyTransform(h));this._vertexDimension=2;h.hasZ&&this._vertexDimension++;h.hasM&&this._vertexDimension++;switch(h.geometryType){case "esriGeometryPoint":this.addCoordinate=(r,z,x)=>this.addCoordinatePoint(r,z,x);this.createGeometry=r=>this.createPointGeometry(r);break;case "esriGeometryPolygon":this.addCoordinate=(r,z,x)=>this._addCoordinatePolygon(r,z,x);this.createGeometry=
r=>this._createPolygonGeometry(r);break;case "esriGeometryPolyline":this.addCoordinate=(r,z,x)=>this._addCoordinatePolyline(r,z,x);this.createGeometry=r=>this._createPolylineGeometry(r);break;case "esriGeometryMultipoint":this.addCoordinate=(r,z,x)=>this._addCoordinateMultipoint(r,z,x),this.createGeometry=r=>this._createMultipointGeometry(r)}};n.createFeature=function(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;this._coordinateBuffer=
null;this._coordinateBufferPtr=0;return{attributes:new this._attributesConstructor}};n.allocateCoordinates=function(){};n.addLength=function(h,r,z){0===this._lengths.length&&(this._toAddInCurrentPath=r);this._lengths.push(r)};n.addQueryGeometry=function(h,r){const {queryGeometry:z,queryGeometryType:x}=r;r=g.unquantizeOptimizedGeometry(z.clone(),z,!1,!1,this._transform);r=g.convertToGeometry(r,x,!1,!1);h.queryGeometryType=x;h.queryGeometry={...r}};n.createPointGeometry=function(h){const r={x:0,y:0,
spatialReference:h.spatialReference};h.hasZ&&(r.z=0);h.hasM&&(r.m=0);return r};n.addCoordinatePoint=function(h,r,z){const x=c.unwrapOrThrow(this._transform,"transform");r=this._applyTransform(x,r,z,0);switch(z){case 0:h.x=r;break;case 1:h.y=r;break;case 2:"z"in h?h.z=r:h.m=r;break;case 3:h.m=r}};n._transformPathLikeValue=function(h,r){let z=0;1>=r&&(z=this._previousCoordinate[r],this._previousCoordinate[r]+=h);const x=c.unwrapOrThrow(this._transform,"transform");return this._applyTransform(x,h,r,
z)};n._addCoordinatePolyline=function(h,r,z){this._dehydratedAddPointsCoordinate(h.paths,r,z)};n._addCoordinatePolygon=function(h,r,z){this._dehydratedAddPointsCoordinate(h.rings,r,z)};n._addCoordinateMultipoint=function(h,r,z){0===z&&h.points.push([]);r=this._transformPathLikeValue(r,z);h.points[h.points.length-1].push(r)};n._createPolygonGeometry=function(h){return{rings:[[]],spatialReference:h.spatialReference,hasZ:!!h.hasZ,hasM:!!h.hasM}};n._createPolylineGeometry=function(h){return{paths:[[]],
spatialReference:h.spatialReference,hasZ:!!h.hasZ,hasM:!!h.hasM}};n._createMultipointGeometry=function(h){return{points:[],spatialReference:h.spatialReference,hasZ:!!h.hasZ,hasM:!!h.hasM}};n._dehydratedAddPointsCoordinate=function(h,r,z){0===z&&0===this._toAddInCurrentPath--&&(h.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);r=this._transformPathLikeValue(r,z);h=h[h.length-1];0===z&&(this._coordinateBufferPtr=
0,this._coordinateBuffer=Array(this._vertexDimension),h.push(this._coordinateBuffer));this._coordinateBuffer[this._coordinateBufferPtr++]=r};n._deriveApplyTransform=function(h){const {hasZ:r,hasM:z}=h;return r&&z?k:r?p:z?t:u};return b._createClass(l)}();a.JSONFeatureSetParserContext=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(a,b,c,f,g,q,u,p,t,k){function m(R,Y){return R?Y?4:3:Y?3:2}function e(R,Y,la,ja){if(R){if(la)return Y&&ja?S:Qa;if(Y&&ja)return I}else if(Y&&ja)return Qa;return Na}function d({scale:R,translate:Y},la){return Math.round((la-Y[0])/R[0])}function l({scale:R,translate:Y},la){return Math.round((Y[1]-la)/R[1])}function n({scale:R,translate:Y},la,ja){return la*R[ja]+Y[ja]}function h(R){R=R.coords;return{x:R[0],y:R[1]}}function r(R,Y){R.coords[0]=Y.x;R.coords[1]=Y.y;return R}function z(R){R=R.coords;
return{x:R[0],y:R[1],z:R[2]}}function x(R,Y){R.coords[0]=Y.x;R.coords[1]=Y.y;R.coords[2]=Y.z;return R}function w(R){R=R.coords;return{x:R[0],y:R[1],m:R[2]}}function v(R,Y){R.coords[0]=Y.x;R.coords[1]=Y.y;R.coords[2]=Y.m;return R}function A(R){R=R.coords;return{x:R[0],y:R[1],z:R[2],m:R[3]}}function B(R,Y){R.coords[0]=Y.x;R.coords[1]=Y.y;R.coords[2]=Y.z;R.coords[3]=Y.m;return R}function C(R,Y){return R&&Y?B:R?x:Y?v:r}function D(R,Y,la,ja,sa){la=C(la,ja);for(const {geometry:T,attributes:ha}of Y)Y=null!=
T?la(new k,T):null,R.push(new p.OptimizedFeature(Y,ha,null,sa?ha[sa]:void 0));return R}function y(R,Y,la,ja){for(const {geometry:sa,attributes:T}of Y)R.push({attributes:T,geometry:null!=sa?G(sa,la,ja):null});return R}function G(R,Y,la){if(null==R)return null;const ja=m(Y,la),sa=[];for(let T=0;T<R.coords.length;T+=ja){const ha=[];for(let ua=0;ua<ja;ua++)ha.push(R.coords[T+ua]);sa.push(ha)}return Y?la?{points:sa,hasZ:Y,hasM:la}:{points:sa,hasZ:Y}:la?{points:sa,hasM:la}:{points:sa}}function F(R,Y,la,
ja,sa){la=m(la,ja);for(const {geometry:T,attributes:ha}of Y)Y=null!=T?K(new k,T,la):null,R.push(new p.OptimizedFeature(Y,ha,null,sa?ha[sa]:void 0));return R}function K(R,Y,la=m(Y.hasZ,Y.hasM)){R.lengths[0]=Y.points.length;const ja=R.coords;let sa=0;for(const T of Y.points)for(Y=0;Y<la;Y++)ja[sa++]=T[Y];return R}function M(R,Y,la){if(!R)return null;const ja=m(Y,la),{coords:sa,lengths:T}=R;R=[];let ha=0;for(const ua of T){const Ea=[];for(let da=0;da<ua;da++){const ra=[];for(let wa=0;wa<ja;wa++)ra.push(sa[ha++]);
Ea.push(ra)}R.push(Ea)}return Y?la?{paths:R,hasZ:Y,hasM:la}:{paths:R,hasZ:Y}:la?{paths:R,hasM:la}:{paths:R}}function O(R,Y,la,ja,sa){la=m(la,ja);for(const {geometry:T,attributes:ha}of Y)Y=null!=T?H(new k,T,la):null,R.push(new p.OptimizedFeature(Y,ha,null,sa?ha[sa]:void 0));return R}function H(R,Y,la=m(Y.hasZ,Y.hasM)){const {lengths:ja,coords:sa}=R;let T=0;for(const ha of Y.paths){for(const ua of ha)for(Y=0;Y<la;Y++)sa[T++]=ua[Y];ja.push(ha.length)}return R}function J(R,Y,la){if(!R)return null;const ja=
m(Y,la),{coords:sa,lengths:T}=R;R=[];let ha=0;for(const ua of T){const Ea=[];for(let da=0;da<ua;da++){const ra=[];for(let wa=0;wa<ja;wa++)ra.push(sa[ha++]);Ea.push(ra)}R.push(Ea)}return Y?la?{rings:R,hasZ:Y,hasM:la}:{rings:R,hasZ:Y}:la?{rings:R,hasM:la}:{rings:R}}function L(R,Y,la,ja,sa){for(const {geometry:T,centroid:ha,attributes:ua}of Y){Y=null!=T?N(new k,T,la,ja):null;const Ea=sa?ua[sa]:void 0;null!=ha?R.push(new p.OptimizedFeature(Y,ua,r(new k,ha),Ea)):R.push(new p.OptimizedFeature(Y,ua,null,
Ea))}return R}function N(R,Y,la=Y.hasZ,ja=Y.hasM){return V(R,Y.rings,la,ja)}function V(R,Y,la,ja){la=m(la,ja);const {lengths:sa,coords:T}=R;ja=0;ta(R);for(const ha of Y){for(const ua of ha)for(Y=0;Y<la;Y++)T[ja++]=ua[Y];sa.push(ha.length)}return R}function X(R,Y,la,ja,sa,T){ba(R);if(!la){for(const ha of Y)R.push(new p.OptimizedFeature(null,ha.attributes,null,T?ha.attributes[T]:void 0));return R}switch(la){case "esriGeometryPoint":return D(R,Y,ja,sa,T);case "esriGeometryMultipoint":return F(R,Y,ja,
sa,T);case "esriGeometryPolyline":return O(R,Y,ja,sa,T);case "esriGeometryPolygon":return L(R,Y,ja,sa,T);default:ka.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${la}'`)),ba(R)}return R}function U(R,Y,la,ja){R=R&&("coords"in R?R:R.geometry);if(null==R)return null;switch(Y){case "esriGeometryPoint":return Y=h,la&&ja?Y=A:la?Y=z:ja&&(Y=w),Y(R);case "esriGeometryMultipoint":return G(R,la,ja);case "esriGeometryPolyline":return M(R,la,ja);case "esriGeometryPolygon":return J(R,
la,ja);default:return ka.error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${Y}'`)),null}}function P(R,Y,la,ja,sa){ba(R);if(null==la){for(const ha of Y)R.push({attributes:ha.attributes});return R}switch(la){case "esriGeometryPoint":la=h;ja&&sa?la=A:ja?la=z:sa&&(la=w);for(var T of Y){const {geometry:ha,attributes:ua}=T;ja=null!=ha?la(ha):null;R.push({attributes:ua,geometry:ja})}break;case "esriGeometryMultipoint":return y(R,Y,ja,sa);case "esriGeometryPolyline":for(const {geometry:ha,
attributes:ua}of Y)R.push({attributes:ua,geometry:null!=ha?M(ha,ja,sa):null});break;case "esriGeometryPolygon":for(const {geometry:ha,attributes:ua,centroid:Ea}of Y)T=null!=ha?J(ha,ja,sa):null,null!=Ea?(Y=h(Ea),R.push({attributes:ua,centroid:Y,geometry:T})):R.push({attributes:ua,geometry:T});break;default:ka.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${la}'`))}return R}function fa(R,Y,la,ja,sa,T,ha=la,ua=ja){ta(R);if(null==Y||!Y.coords.length)return null;
sa=Fa[sa];const {coords:Ea,lengths:da}=Y;Y=m(la,ja);const ra=m(la&&ha,ja&&ua);la=e(la,ja,ha,ua);if(!da.length)return la(R.coords,Ea,0,0,d(T,Ea[0]),l(T,Ea[1])),ta(R,Y,0),R;let wa,Ma=0,Z,ia=0;for(const Da of da){if(Da<sa)continue;let ya=0;Z=ia;ua=ja=d(T,Ea[Ma]);wa=ha=l(T,Ea[Ma+1]);la(R.coords,Ea,Z,Ma,ua,wa);ya++;Ma+=Y;Z+=ra;for(let Ka=1;Ka<Da;Ka++,Ma+=Y)if(ua=d(T,Ea[Ma]),wa=l(T,Ea[Ma+1]),ua!==ja||wa!==ha)la(R.coords,Ea,Z,Ma,ua-ja,wa-ha),Z+=ra,ya++,ja=ua,ha=wa;ya>=sa&&(R.lengths.push(ya),ia=Z)}ba(R.coords,
ia);return R.coords.length?R:null}function Ba(R,Y,la,ja,sa,T,ha){let ua=ja,Ea=0;for(let ra=T+la;ra<ha;ra+=la){var da=Y[ra];const wa=Y[ra+1],Ma=Y[ha],Z=Y[ha+1];let ia=Y[T],Da=Y[T+1],ya=Ma-ia,Ka=Z-Da;if(0!==ya||0!==Ka){const Pa=((da-ia)*ya+(wa-Da)*Ka)/(ya*ya+Ka*Ka);1<Pa?(ia=Ma,Da=Z):0<Pa&&(ia+=ya*Pa,Da+=Ka*Pa)}ya=da-ia;Ka=wa-Da;da=ya*ya+Ka*Ka;da>ua&&(Ea=ra,ua=da)}ua>ja&&(Ea-T>la&&Ba(R,Y,la,ja,sa,T,Ea),sa(R,Y,R.length,Ea,Y[Ea],Y[Ea+1]),ha-Ea>la&&Ba(R,Y,la,ja,sa,Ea,ha))}function Aa(R,Y,la,ja,sa){const {coords:T,
lengths:ha}=Y;la=m(la,ja);if(!T.length)return R!==Y&&ta(R),R;f.assertIsSome(sa);const {originPosition:ua,scale:Ea,translate:da}=sa;sa=pa;sa.originPosition=ua;ja=sa.scale;ja[0]=Ea[0]??1;ja[1]=-(Ea[1]??1);ja[2]=Ea[2]??1;ja[3]=Ea[3]??1;var ra=sa.translate;ra[0]=da[0]??0;ra[1]=da[1]??0;ra[2]=da[2]??0;ra[3]=da[3]??0;if(!ha.length){for(ja=0;ja<la;++ja)R.coords[ja]=n(sa,T[ja],ja);R!==Y&&ta(R,la,0);return R}ra=0;for(let Ma=0;Ma<ha.length;Ma++){const Z=ha[Ma];R.lengths[Ma]=Z;for(var wa=0;wa<la;++wa)R.coords[ra+
wa]=n(sa,T[ra+wa],wa);wa=R.coords[ra];let ia=R.coords[ra+1];ra+=la;for(let Da=1;Da<Z;Da++,ra+=la){wa+=T[ra]*ja[0];ia+=T[ra+1]*ja[1];R.coords[ra]=wa;R.coords[ra+1]=ia;for(let ya=2;ya<la;++ya)R.coords[ra+ya]=n(sa,T[ra+ya],ya)}}R!==Y&&ta(R,T.length,ha.length);return R}function ma(R,Y,la,ja){let sa=0,T=R[ja*Y],ha=R[ja*(Y+1)];for(let ua=1;ua<la;ua++){const Ea=T+R[ja*(Y+ua)],da=ha+R[ja*(Y+ua)+1],ra=(Ea-T)*(da+ha);T=Ea;ha=da;sa+=ra}return.5*sa}function ta(R,Y=0,la=0){ba(R.lengths,la);ba(R.coords,Y)}function ba(R,
Y=0){R.length!==Y&&(R.length=Y)}const ka=c.getLogger("esri.layers.graphics.featureConversionUtils"),Fa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryEnvelope:0},Na=(R,Y,la,ja,sa,T)=>{R[la]=sa;R[la+1]=T},Qa=(R,Y,la,ja,sa,T)=>{R[la]=sa;R[la+1]=T;R[la+2]=Y[ja+2]},I=(R,Y,la,ja,sa,T)=>{R[la]=sa;R[la+1]=T;R[la+2]=Y[ja+3]},S=(R,Y,la,ja,sa,T)=>{R[la]=sa;R[la+1]=T;R[la+2]=Y[ja+2];R[la+3]=Y[ja+3]},qa=[],W=[],pa={originPosition:"lowerLeft",scale:[1,1,
1,1],translate:[0,0,0,0]};a.convertFromFeature=function(R,Y,la,ja,sa){qa[0]=R;[R]=X(W,qa,Y,la,ja,sa);ba(qa);ba(W);return R};a.convertFromFeatureSet=function(R,Y){const la=new t,{hasM:ja,hasZ:sa,features:T,objectIdFieldName:ha,spatialReference:ua,geometryType:Ea,exceededTransferLimit:da,transform:ra,fields:wa}=R;wa&&(la.fields=wa);la.geometryType=Ea??null;la.objectIdFieldName=ha??Y??null;la.spatialReference=ua??null;if(!la.objectIdFieldName)return ka.error(new b("optimized-features:invalid-objectIdFieldName",
"objectIdFieldName is missing")),la;T&&X(la.features,T,Ea,sa,ja,la.objectIdFieldName);da&&(la.exceededTransferLimit=da);ja&&(la.hasM=ja);sa&&(la.hasZ=sa);ra&&(la.transform=ra);return la};a.convertFromFeatures=X;a.convertFromGeometry=function(R,Y,la){if(null==R)return null;const ja=new k;"hasZ"in R&&null==Y&&(Y=R.hasZ);"hasM"in R&&null==la&&(la=R.hasM);if(u.isPoint(R))return C(null!=Y?Y:null!=R.z,null!=la?la:null!=R.m)(ja,R);if(u.isPolygon(R))return N(ja,R,Y,la);if(u.isPolyline(R))return H(ja,R,m(Y,
la));if(u.isMultipoint(R))return K(ja,R,m(Y,la));ka.error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${R}'`))};a.convertFromGraphics=function(R,Y,la,ja,sa,T){const ha=R.length;switch(la){case "esriGeometryPoint":D(R,Y,ja,sa,T);break;case "esriGeometryMultipoint":F(R,Y,ja,sa,T);break;case "esriGeometryPolyline":O(R,Y,ja,sa,T);break;case "esriGeometryPolygon":L(R,Y,ja,sa,T);break;default:ka.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${la}'`))}for(ja=
0;ja<Y.length;ja++)R[ja+ha].geometryType=la,R[ja+ha].insertAfter=Y[ja].insertAfter,R[ja+ha].groupId=Y[ja].groupId;return R};a.convertFromMultipoint=K;a.convertFromMultipointFeatures=F;a.convertFromNestedArray=V;a.convertFromPoint=function(R,Y,la=C(null!=Y.z,null!=Y.m)){return la(R,Y)};a.convertFromPointFeatures=D;a.convertFromPolygon=N;a.convertFromPolyline=H;a.convertFromPolylineFeatures=O;a.convertToFeature=function(R,Y,la,ja){W[0]=R;P(qa,W,Y,la,ja);R=qa[0];ba(qa);ba(W);return R};a.convertToFeatureSet=
function(R){const {objectIdFieldName:Y,spatialReference:la,transform:ja,fields:sa,hasM:T,hasZ:ha,features:ua,geometryType:Ea,exceededTransferLimit:da,uniqueIdField:ra,queryGeometry:wa,queryGeometryType:Ma}=R;R=P([],ua,Ea,ha,T);const Z=U(wa,Ma,!1,!1);R={features:R,fields:sa,geometryType:Ea,objectIdFieldName:Y,spatialReference:la,uniqueIdField:ra,queryGeometry:Z};ja&&(R.transform=ja);da&&(R.exceededTransferLimit=da);T&&(R.hasM=T);ha&&(R.hasZ=ha);return R};a.convertToFeatures=P;a.convertToGeometry=U;
a.convertToMultipoint=G;a.convertToMultipointFeatures=y;a.convertToPoint=function(R,Y,la){return R?Y?la?A(R):z(R):la?w(R):h(R):null};a.convertToPolygon=J;a.convertToPolyline=M;a.deltaDecodeGeometry=function(R,Y){if(null==R)return null;const la=R.clone(),ja=R.coords;R=R.lengths;let sa=0;for(let ua=0;ua<R.length;ua++){const Ea=R[ua];var T=ja[Y*sa],ha=ja[Y*sa+1];for(let da=1;da<Ea;da++)T+=ja[Y*(sa+da)],ha+=ja[Y*(sa+da)+1],la.coords[Y*(sa+da)]=T,la.coords[Y*(sa+da)+1]=ha;sa+=Ea}return la};a.deltaEncodeGeometry=
function(R,Y){const la=R.clone(),ja=R.coords;R=R.lengths;let sa=0;for(let ha=0;ha<R.length;ha++){const ua=R[ha];let Ea=ja[Y*sa];var T=ja[Y*sa+1];for(let da=1;da<ua;da++){const ra=ja[Y*(sa+da)],wa=ja[Y*(sa+da)+1];T=wa-T;la.coords[Y*(sa+da)]=ra-Ea;la.coords[Y*(sa+da)+1]=T;Ea=ra;T=wa}sa+=ua}return la};a.generalizeOptimizedGeometry=function(R,Y,la,ja,sa,T,ha=la,ua=ja){ta(R);if(!Y||!Y.coords.length)return null;sa=Fa[sa];const {coords:Ea,lengths:da}=Y;Y=m(la,ja);const ra=m(la&&ha,ja&&ua);la=e(la,ja,ha,
ua);if(!da.length)return la(R.coords,Ea,0,0,Ea[0],Ea[1]),ta(R,Y,0),R;ja=0;T*=T;for(const wa of da){if(wa<sa){ja+=wa*Y;continue}ha=R.coords.length/ra;ua=ja;const Ma=ja+(wa-1)*Y;la(R.coords,Ea,R.coords.length,ua,Ea[ua],Ea[ua+1]);Ba(R.coords,Ea,Y,T,la,ua,Ma);la(R.coords,Ea,R.coords.length,Ma,Ea[Ma],Ea[Ma+1]);ua=R.coords.length/ra-ha;ua>=sa?R.lengths.push(ua):ba(R.coords,ha*ra);ja+=wa*Y}return R.coords.length?R:null};a.getBoundsOptimizedGeometry=function(R,Y,la,ja){if(null==Y||!Y.coords||!Y.coords.length)return null;
la=m(la,ja);let sa=ja=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY,ha=Number.NEGATIVE_INFINITY;if(Y&&Y.coords){Y=Y.coords;for(let ua=0;ua<Y.length;ua+=la){const Ea=Y[ua],da=Y[ua+1];ja=Math.min(ja,Ea);T=Math.max(T,Ea);sa=Math.min(sa,da);ha=Math.max(ha,da)}}g.is(R)?g.fromRectValues(R,ja,sa,T,ha):q.fromValues(ja,sa,T,ha,R);return R};a.getQuantizedArea=function(R,Y){const {coords:la,lengths:ja}=R;let sa=R=0;for(let T=0;T<ja.length;T++){const ha=ja[T];sa+=ma(la,R,ha,Y);R+=ha}return Math.abs(sa)};
a.getQuantizedBoundsOptimizedGeometry=function(R,Y,la,ja){la=m(la,ja);const {lengths:sa,coords:T}=Y;ja=Y=Number.POSITIVE_INFINITY;let ha=Number.NEGATIVE_INFINITY,ua=Number.NEGATIVE_INFINITY,Ea=0;for(const da of sa){let ra=T[Ea],wa=T[Ea+1];Y=Math.min(ra,Y);ja=Math.min(wa,ja);ha=Math.max(ra,ha);ua=Math.max(wa,ua);Ea+=la;for(let Ma=1;Ma<da;Ma++,Ea+=la){const Z=T[Ea],ia=T[Ea+1];ra+=Z;wa+=ia;0>Z&&(Y=Math.min(Y,ra));0<Z&&(ha=Math.max(ha,ra));0>ia?ja=Math.min(ja,wa):0<ia&&(ua=Math.max(ua,wa))}}R[0]=Y;R[1]=
ja;R[2]=ha;R[3]=ua;return R};a.getSignedQuantizedRingArea=ma;a.quantizeOptimizedFeatureSet=function(R,Y){const {geometryType:la,features:ja,hasM:sa,hasZ:T}=Y;if(!R)return Y;for(let ha=0;ha<ja.length;ha++){const ua=ja[ha],Ea=ua.weakClone();Ea.geometry=new k;fa(Ea.geometry,ua.geometry,sa,T,la,R);ua.centroid&&(Ea.centroid=new k,fa(Ea.centroid,ua.centroid,sa,T,"esriGeometryPoint",R));ja[ha]=Ea}Y.transform=R;return Y};a.quantizeOptimizedGeometry=fa;a.quantizeX=d;a.quantizeY=l;a.removeCollinearVectices=
function(R,Y,la,ja,sa){if(!Y||!Y.coords||!Y.coords.length)return null;la=Fa[la];const {coords:T,lengths:ha}=Y;Y=e(ja,sa,ja,sa);ja=m(ja,sa);let ua=sa=0,Ea=0,da=0;for(const Ma of ha){ua=da;Y(R.coords,T,ua,sa,T[sa],T[sa+1]);sa+=ja;var ra=T[sa];let Z=T[sa+1],ia=ra,Da=Z;var wa=Z/ra;ua+=ja;Y(R.coords,T,ua,sa,ia,Da);sa+=ja;for(let ya=2;ya<Ma;ya++){ra=T[sa];Z=T[sa+1];const Ka=Z/ra,Pa=wa===Ka||!isFinite(wa)&&!isFinite(Ka);wa=Pa&&isFinite(Ka)?0<=wa&&0<=Ka||0>=wa&&0>=Ka:0<=Da&&0<=Z||0>=Da&&0>=Z;Pa&&wa?(ia+=
ra,Da+=Z):(ia=ra,Da=Z,ua+=ja);Y(R.coords,T,ua,sa,ia,Da);sa+=ja;wa=Ka}ua+=ja;ra=(ua-da)/ja;ra>=la&&(R.lengths[Ea]=ra,da=ua,Ea++)}R.coords.length>da&&(R.coords.length=da);R.lengths.length>Ea&&(R.lengths.length=Ea);return R.coords.length&&R.lengths.length?R:null};a.removeZMValues=function(R,Y,la,ja,sa,T){ta(R);R.lengths.push(...Y.lengths);if(la===sa&&ja===T)for(var ha=0;ha<Y.coords.length;ha++)R.coords.push(Y.coords[ha]);else for(ha=m(la,ja),la=e(la,ja,sa,T),Y=Y.coords,ja=0;ja<Y.length;ja+=ha)la(R.coords,
Y,R.coords.length,ja,Y[ja],Y[ja+1]);return R};a.unquantizeOptimizedFeatureSet=function(R){const {transform:Y,features:la,hasM:ja,hasZ:sa}=R;if(!Y)return R;for(const T of la)null!=T.geometry&&Aa(T.geometry,T.geometry,ja,sa,Y),null!=T.centroid&&Aa(T.centroid,T.centroid,ja,sa,Y);R.transform=null;return R};a.unquantizeOptimizedGeometry=Aa;a.unquantizeValue=n;a.unquantizeX=function(R,Y){return n(R,Y,0)};a.unquantizeY=function(R,Y){return n(R,-Y,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/View":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Map ../TimeExtent ../core/Accessor ../core/asyncUtils ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/HandleOwner ../core/handleUtils ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/AnalysesCollection ../support/GraphicsCollection ../time/TimeReference ./BasemapView ./LayerViewManager ./Magnifier ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D,y,G,F,K,M,O,H,J,L,N,V,X,U,P){function fa(Aa){return Aa.layerViews}var Ba;g=Ba=function(Aa){function ma(ba){var ka=Aa.call(this,ba)||this;ka._userSpatialReference=null;ka._cursor=null;ka.allLayerViews=new p({getCollections:()=>[ka.basemapView?.baseLayerViews,ka.groundView?.layerViews,ka.layerViews,ka.basemapView?.referenceLayerViews],getChildrenFunction:fa});ka.groundView=null;ka.basemapView=null;ka.fatalError=null;ka.graphics=new M.GraphicsCollection;
ka.analyses=new K.AnalysesCollection;ka.typeSpecificPreconditionsReady=!0;ka.layerViews=new u;ka.magnifier=new L;ka.padding={left:0,top:0,right:0,bottom:0};ka.ready=!1;ka.spatialReferenceWarningDelay=1E3;ka.supportsGround=!0;ka.timeExtent=null;ka.timeReference=new O;ka.type=null;ka.scale=null;ka.updating=!1;ka.initialExtentRequired=!0;ka.input=new V;ka.navigation=new U;ka.layerViewManager=null;ka.analysisViewManager=null;ka.isHeightModelInfoRequired=!1;ka.width=null;ka.height=null;ka.resizing=!1;
ka.suspended=!1;ka.viewEvents=new X.ViewEvents(a._assertThisInitialized(ka));ka.persistableViewModels=new u;ka._isValid=!1;ka._readyCycleForced=!1;ka._currentSpatialReference=null;ka.handles.add(z.watch(()=>ka.preconditionsReady,Fa=>{Fa?(ka._currentSpatialReference=ka.spatialReference,Ba.views.add(a._assertThisInitialized(ka))):(ka._currentSpatialReference=null,Ba.views.remove(a._assertThisInitialized(ka)));ka.notifyChange("spatialReference");!Fa&&ka.ready?(ka.toolViewManager?.detach(),null!=ka.analysisViewManager&&
ka.analysisViewManager.detach(),ka.layerViewManager?.clear(),ka._teardown()):Fa&&!ka.ready&&(ka._startup(),null!=ka.analysisViewManager&&ka.analysisViewManager.attach(),ka.toolViewManager.attach())},z.sync));return ka}a._inherits(ma,Aa);var ta=ma.prototype;ta.initialize=function(){this.addResolvingPromise(this.validate().then(()=>{this._isValid=!0;return z.whenOnce(()=>this.ready)}));this.basemapView=new H.BasemapView({view:this});this.layerViewManager=new J({view:this,layerViewImporter:{importLayerView:ba=>
this.importLayerView(ba),hasLayerViewModule:ba=>this.hasLayerViewModule(ba)},supportsGround:this.supportsGround});this.toolViewManager=new N.ToolViewManager({view:this});this._setupSpatialReferenceLogger();this.handles.add([z.watch(()=>this.initialExtentRequired,ba=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:ba},{sync:!0,initial:!0}),z.watch(()=>this.ready,ba=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=ba,this.defaultsFromMap.userSpatialReference=ba?this.spatialReference:
this._userSpatialReference)},{sync:!0}),z.watch(()=>this._userSpatialReference,ba=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=ba)},{sync:!0,initial:!0})])};ta._setupSpatialReferenceLogger=function(){let ba=null;this.handles.add([z.watch(()=>this.defaultsFromMap?.ready,ka=>{const Fa=0<this.map?.allLayers.length;ka&&!this.spatialReference&&Fa?null==ba&&(ka=e.makeHandle(()=>ba=n.abortMaybe(ba)),ba=q.createTask(async Na=>{try{await r.after(this.spatialReferenceWarningDelay,null,
Na)}catch{return}finally{ba=null}l.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.handles.add(ka,"spatial-reference-logger-task")):this.handles.remove("spatial-reference-logger-task")},{sync:!0})])};ta.destroy=function(){this.destroyed||(Ba.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=n.destroyMaybe(this.graphics),
this.analyses=n.destroyMaybe(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),n.destroyMaybe(this.analysisViewManager),this.toolViewManager=n.destroyMaybe(this.toolViewManager),this.layerViewManager=n.destroyMaybe(this.layerViewManager),this.basemapView=n.destroyMaybe(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(ba=>ba.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.removeAll(),
this.map=n.destroyMaybe(this.map))};ta._startup=function(){this._set("ready",!0)};ta._teardown=function(){this._set("ready",!1)};ta.whenReady=function(){return Promise.resolve(this)};ta.toMap=function(){l.getLogger(this).error("#toMap()","Not implemented on this instance of View");return null};ta._spatialReferenceChanged=function(ba){};ta.whenLayerView=function(ba){return this.layerViewManager?.whenLayerView(ba)??Promise.reject()};ta.getDefaultSpatialReference=function(){return this.defaultsFromMap?.spatialReference};
ta.getDefaultHeightModelInfo=function(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null};ta.importLayerView=function(ba){throw new t("importLayerView() not implemented");};ta.hasLayerViewModule=function(ba){return!1};ta.validate=async function(){};ta.invalidate=function(){this._isValid=!1};ta.getSpatialReferenceSupport=function(){return{constraints:null}};ta._validateSpatialReference=function(ba){return null!=this.getSpatialReferenceSupport({spatialReference:ba})};
ta.when=function(ba,ka){this.isResolved()&&!this.ready&&l.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() \x3d\x3e view.ready).then(...) instead.");return a._get(a._getPrototypeOf(ma.prototype),"when",this).call(this,ba,ka)};ta.forceReadyCycle=function(){this.ready&&(z.when(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=
!0)};ta.addAndActivateTool=function(ba){this.toolViewManager.tools.add(ba);this.activeTool=ba};ta.tryFatalErrorRecovery=function(){this.fatalError=null};a._createClass(ma,[{key:"activeTool",get:function(){return this.toolViewManager?.activeTool},set:function(ba){this.toolViewManager&&(this.toolViewManager.activeTool=ba)}},{key:"animation",get:function(){return this._get("animation")},set:function(ba){this._set("animation",ba)}},{key:"center",get:function(){return null}},{key:"_defaultsFromMapSettings",
get:function(){return{}}},{key:"defaultsFromMap",get:function(){return new P.DefaultsFromMap({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:ba=>this.getSpatialReferenceSupport(ba),...this._defaultsFromMapSettings})}},{key:"extent",get:function(){return this._get("extent")},set:function(ba){this._set("extent",ba)}},{key:"heightModelInfo",get:function(){return this.getDefaultHeightModelInfo()}},{key:"interacting",get:function(){return this.navigating}},
{key:"navigating",get:function(){return!1}},{key:"preconditionsReady",get:function(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||d.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}},{key:"resolution",get:function(){return 0}},{key:"map",set:function(ba){const ka=this._get("map");
ba!==ka&&(ba?.destroyed&&(l.getLogger(this).warn("#map","The provided map is already destroyed",{map:ba}),ba=null),d.isLoadable(ba)&&ba.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",ba))}},{key:"spatialReference",get:function(){let ba=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;ba&&this.defaultsFromMap?.required?.heightModelInfo&&(ba=ba.clone(),ba.vcsWkid=this.defaultsFromMap.vcsWkid,
ba.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);return ba},set:function(ba){const ka=!F.equals(ba,this._get("spatialReference"));this._set("_userSpatialReference",ba);ka&&(this._set("spatialReference",ba),this._spatialReferenceChanged(ba))}},{key:"stationary",get:function(){return!this.animation&&!this.navigating&&!this.resizing}},{key:"tools",get:function(){return this.toolViewManager?.tools}},{key:"initialExtent",get:function(){return this.defaultsFromMap?.extent}},{key:"cursor",get:function(){const ba=
this.toolViewManager?this.toolViewManager.cursor:null;return null!=ba?ba:this._cursor||"default"},set:function(ba){this._cursor=ba;this.notifyChange("cursor")}},{key:"size",get:function(){return[this.width,this.height]}}]);return ma}(m.HandleOwnerMixin(k.EventedMixin(h.EsriPromiseMixin(g))));g.views=new u;b.__decorate([x.property()],g.prototype,"_userSpatialReference",void 0);b.__decorate([x.property()],g.prototype,"activeTool",null);b.__decorate([x.property({readOnly:!0})],g.prototype,"allLayerViews",
void 0);b.__decorate([x.property()],g.prototype,"groundView",void 0);b.__decorate([x.property()],g.prototype,"animation",null);b.__decorate([x.property()],g.prototype,"basemapView",void 0);b.__decorate([x.property()],g.prototype,"center",null);b.__decorate([x.property({readOnly:!0})],g.prototype,"_defaultsFromMapSettings",null);b.__decorate([x.property()],g.prototype,"defaultsFromMap",null);b.__decorate([x.property()],g.prototype,"fatalError",void 0);b.__decorate([x.property({type:D})],g.prototype,
"extent",null);b.__decorate([x.property(C.owningCollectionProperty(M.GraphicsCollection,"graphics"))],g.prototype,"graphics",void 0);b.__decorate([x.property(C.owningCollectionProperty(K.AnalysesCollection,"analyses"))],g.prototype,"analyses",void 0);b.__decorate([x.property({readOnly:!0,type:y})],g.prototype,"heightModelInfo",null);b.__decorate([x.property({readOnly:!0})],g.prototype,"interacting",null);b.__decorate([x.property({readOnly:!0})],g.prototype,"navigating",null);b.__decorate([x.property({readOnly:!0,
dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _currentSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],g.prototype,"preconditionsReady",null);b.__decorate([x.property({readOnly:!0})],g.prototype,"typeSpecificPreconditionsReady",void 0);b.__decorate([x.property({type:u,readOnly:!0})],g.prototype,"layerViews",void 0);b.__decorate([x.property()],g.prototype,"resolution",null);b.__decorate([x.property({type:L})],g.prototype,
"magnifier",void 0);b.__decorate([x.property({value:null,type:c})],g.prototype,"map",null);b.__decorate([x.property()],g.prototype,"padding",void 0);b.__decorate([x.property({readOnly:!0})],g.prototype,"ready",void 0);b.__decorate([x.property({type:G})],g.prototype,"spatialReference",null);b.__decorate([x.property()],g.prototype,"spatialReferenceWarningDelay",void 0);b.__decorate([x.property()],g.prototype,"stationary",null);b.__decorate([x.property({readOnly:!0})],g.prototype,"supportsGround",void 0);
b.__decorate([x.property({type:f})],g.prototype,"timeExtent",void 0);b.__decorate([x.property({type:O,nonNullable:!0})],g.prototype,"timeReference",void 0);b.__decorate([x.property()],g.prototype,"tools",null);b.__decorate([x.property()],g.prototype,"toolViewManager",void 0);b.__decorate([x.property({readOnly:!0})],g.prototype,"type",void 0);b.__decorate([x.property({type:Number})],g.prototype,"scale",void 0);b.__decorate([x.property({readOnly:!0})],g.prototype,"updating",void 0);b.__decorate([x.property({readOnly:!0})],
g.prototype,"initialExtentRequired",void 0);b.__decorate([x.property({readOnly:!0})],g.prototype,"initialExtent",null);b.__decorate([x.property()],g.prototype,"cursor",null);b.__decorate([x.property({readOnly:!0})],g.prototype,"input",void 0);b.__decorate([x.property({type:U,nonNullable:!0})],g.prototype,"navigation",void 0);b.__decorate([x.property()],g.prototype,"layerViewManager",void 0);b.__decorate([x.property()],g.prototype,"analysisViewManager",void 0);b.__decorate([x.property()],g.prototype,
"width",void 0);b.__decorate([x.property()],g.prototype,"height",void 0);b.__decorate([x.property({readOnly:!0})],g.prototype,"resizing",void 0);b.__decorate([x.property({value:null,readOnly:!0})],g.prototype,"size",null);b.__decorate([x.property({readOnly:!0})],g.prototype,"suspended",void 0);b.__decorate([x.property({readOnly:!0})],g.prototype,"viewEvents",void 0);b.__decorate([x.property({readOnly:!0})],g.prototype,"persistableViewModels",void 0);b.__decorate([x.property()],g.prototype,"_isValid",
void 0);b.__decorate([x.property()],g.prototype,"_readyCycleForced",void 0);b.__decorate([x.property()],g.prototype,"_currentSpatialReference",void 0);return g=Ba=b.__decorate([B.subclass("esri.views.View")],g)})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../Collection ../collectionUtils ../HandleOwner ../has ../Logger ../accessorSupport/decorators/property ../accessorSupport/ensureType ../arrayUtils ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e){a.OwningCollection=function(d){function l(h){var r=d.call(this,h)||this;r.handles.add([r.on("before-add",z=>{null==z.item&&z.preventDefault()}),r.on("after-add",z=>r._own(z.item)),r.on("after-remove",z=>r._release(z.item))]);return r}b._inherits(l,d);var n=l.prototype;n._ownAll=function(){for(const h of this.items)this._own(h)};n._releaseAll=function(){for(const h of this.items)this._release(h)};n._createNewInstance=function(h){return this.itemType?new (f.ofType(this.itemType.Type))(h):
new f(h)};b._createClass(l,[{key:"owner",get:function(){return this._get("owner")},set:function(h){h!==this._get("owner")&&(this._releaseAll(),this._set("owner",h),this._ownAll())}}]);return l}(q.HandleOwnerMixin(f));c.__decorate([t.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=c.__decorate([e.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(d,l){return{type:d,cast:g.castForReferenceSetter,set(n){n=g.referenceSetter(n,
this._get(l),d);n.owner=this;this._set(l,n)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/Error ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,c,f,g,q,u,p,t,k){a.AnalysesCollection=function(m){function e(l){var n=m.call(this,
l)||this;n.handles.add(n.on("before-add",h=>{null!=h.item&&h.item.parent===n.owner&&(f.getLogger(b._assertThisInitialized(n)).warn("Analysis inside the collection must be unique. Not adding this element again."),h.preventDefault())}));return n}b._inherits(e,m);var d=e.prototype;d._own=function(l){l.parent=this.owner};d._release=function(l){l.parent=null};return b._createClass(e)}(k.OwningCollection);a.AnalysesCollection=c.__decorate([t.subclass("esri.support.AnalysesCollection")],a.AnalysesCollection);
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/Error ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,c,f,g,q,u,p,t,k,m,e){a.GraphicsCollection=function(d){function l(){return d.apply(this,
arguments)||this}b._inherits(l,d);var n=l.prototype;n._own=function(h){h.layer&&"remove"in h.layer&&h.layer!==this.owner&&h.layer.remove(h);h.layer=this.owner};n._release=function(h){h.layer===this.owner&&(h.layer=null)};return b._createClass(l)}(e.OwningCollection);c.__decorate([k.shared({Type:f,ensureType:q.ensureType(f)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=c.__decorate([m.subclass("esri.support.GraphicsCollection")],a.GraphicsCollection);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/views/BasemapView":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t,k,m){a.BasemapView=function(e){function d(l){var n=e.call(this,l)||this;n.view=null;n.baseLayerViews=new g;
n.referenceLayerViews=new g;n._loadingHandle=q.watch(()=>n.view?.map?.basemap,h=>{h&&h.load().catch(()=>{})},q.initial);return n}b._inherits(d,e);d.prototype.destroy=function(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const l of this.baseLayerViews)l.destroy();this.baseLayerViews.length=0;for(const l of this.referenceLayerViews)l.destroy();this.referenceLayerViews.length=0};b._createClass(d,[{key:"suspended",get:function(){return this.view?
this.view.suspended:!0}},{key:"updating",get:function(){if(this.view&&this.view.suspended)return!1;const l=this.view?.map?.basemap;return l&&l.loaded?this.baseLayerViews.some(n=>n.updating)||this.referenceLayerViews.some(n=>n.updating):!1}}]);return d}(f);c.__decorate([u.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);c.__decorate([u.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);c.__decorate([u.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",
void 0);c.__decorate([u.property({readOnly:!0})],a.BasemapView.prototype,"suspended",null);c.__decorate([u.property({type:Boolean,readOnly:!0})],a.BasemapView.prototype,"updating",null);a.BasemapView=c.__decorate([m.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/LayerViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/reactiveUtils ../core/scheduling ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../core/support/WatchUpdatingTracking ../support/collectionUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r){let z=function(){function x(v,A,B){this.layer=v;this.view=A;this.layerViewImporter=B;this._controller=new AbortController;this._deferred=p.createResolver();this.done=this._started=!1;this.promise=this._deferred.promise;p.onAbort(this._controller.signal,()=>{const C=new f("cancelled:layerview-create","layerview creation cancelled",{layer:v});this._deferred.reject(C)})}var w=x.prototype;w.tryRecycle=function(v){if(!(this.done&&this.layerView&&"tryRecycleWith"in
this.layerView))return null;const A=this.layer.type,B=this._controller.signal;for(let C=0;C<v.length;C++){const D=v[C];if(D.type!==A)continue;const y=this.layerView.tryRecycleWith(D,{signal:B});if(y){v.splice(C,1);this.layer=D;const G=this.layerView,F=G.view;return this.promise=Promise.race([y.then(()=>{p.throwIfAborted(this._controller.signal);D.emit("layerview-destroy",{view:F,layerView:G});F.emit("layerview-destroy",{view:F,layerView:G});D.emit("layerview-create",{view:F,layerView:G});F.emit("layerview-create",
{view:F,layerView:G});return G}),new Promise((K,M)=>p.onAbort(this._controller.signal,()=>M(p.createAbortError())))])}}return null};w.destroy=function(){this._controller.abort();const {layerView:v}=this;if(v){const {layer:A,view:B}=this;A.emit("layerview-destroy",{view:B,layerView:v});B.emit("layerview-destroy",{layer:A,layerView:v})}this.done=!0;this._map=this.layerViewImporter=this.view=this.layerView=this.layer=null};w.start=async function(){if(!this._started){this._started=!0;var {_controller:{signal:v},
layer:A,view:B}=this;this._map=B.map;try{await A.load({signal:v});"prefetchResources"in A&&await A.prefetchResources?.({signal:v});let D;if("createLayerView"in A&&null!=A.createLayerView)D=await A.createLayerView(B,{signal:v});else{if(!this.layerViewImporter.hasLayerViewModule(A))throw new f("layer:view-not-supported","No layerview implementation was found");var C=await this.layerViewImporter.importLayerView(A);p.throwIfAborted(v);D="default"in C?new C.default({layer:A,view:B}):new C({layer:A,view:B})}let y;
C=()=>{y=u.removeMaybe(y);D.destroyed||D.destroy();D.layer=null;D.parent=null;D.view=null;this.done=!0};y=p.onAbort(v,C);p.throwIfAborted(v);try{await D.when()}catch(G){throw C(),G;}this._map?.allLayers?.includes(A)?(this.layerView=D,A.emit("layerview-create",{view:B,layerView:D}),B.emit("layerview-create",{layer:A,layerView:D}),this.done=!0,this._deferred.resolve(D)):(C(),this._deferred.reject(new f("view:no-layerview-for-layer","The layer has been removed from the map",{layer:A})))}catch(D){A.emit("layerview-create-error",
{view:B,error:D}),B.emit("layerview-create-error",{layer:A,error:D}),this.done=!0,this._deferred.reject(new f("layerview:create-error","layerview creation failed",{layer:A,error:D}))}}};return a._createClass(x)}();c=function(x){function w(A){var B=x.call(this,A)||this;B._layerLayerViewInfoMap=new Map;B._recyclingInfoMap=new Map;B._watchUpdatingTracking=new h.WatchUpdatingTracking;B.supportsGround=!0;B._preloadLayerViewModules=()=>{const C=B.view.map?.allLayers;if(C)for(const D of C)B.layerViewImporter.hasLayerViewModule(D)&&
B.layerViewImporter.importLayerView(D)};B._reschedule=()=>{if(B.destroyed)return Promise.reject();null==B._workPromise&&(B._workPromise=p.createResolver(),B._workPromise.promise.catch(()=>{}));B.removeHandles("reschedule");B.addHandles(k.schedule(B._doWork),"reschedule");return B._workPromise.promise};B._doWork=()=>{if(!B.destroyed){var C=B.view.map;B._map!==C&&(B.clear(),B._map=C);if(null==B._workPromise)B.notifyChange("updating");else{B.removeHandles("reschedule");B.removeHandles("collection-change");
var D=new Set,y=[],G=B.view.ready,F=O=>{if(null!=O)for(const H of O)H&&(D.add(H),(O=B._layerLayerViewInfoMap.get(H))&&G?O.start():O||B._recyclingInfoMap.has(H)||y.push(H),"layers"in H&&H.layers&&F(H.layers))};for(var K of B._rootCollectionNames)F(B.get(K));for(const [O,H]of B._layerLayerViewInfoMap)D.has(O)||(B._layerLayerViewInfoMap.delete(H.layer),(K=H.tryRecycle(y))?(B.notifyChange("updating"),B._recyclingInfoMap.set(H.layer,H),K.then(()=>{B.notifyChange("updating");B._recyclingInfoMap.delete(H.layer);
B._layerLayerViewInfoMap.set(H.layer,H);B._reschedule()}).catch(()=>{B.notifyChange("updating");B._recyclingInfoMap.delete(H.layer);H.destroy();B._reschedule()})):H.destroy());for(const [O,H]of B._recyclingInfoMap)D.has(O)||(B.notifyChange("updating"),B._recyclingInfoMap.delete(H.layer),H.destroy());for(const O of y)B._createLayerView(O);B._refreshCollections();var M=[C?.ground?.layers,C?.basemap?.baseLayers,C?.basemap?.referenceLayers,C?.layers].filter(O=>!!O);D.forEach(O=>"layers"in O&&M.push(O.layers));
B.addHandles(M.map(O=>B._watchUpdatingTracking.addOnCollectionChange(()=>O,B._reschedule)),"collection-change");B._workPromise.resolve();B._workPromise=null}}};return B}a._inherits(w,x);var v=w.prototype;v.initialize=function(){this.own([t.on(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),t.watch(()=>{const A=this.view,B=A?.map;return[B?.basemap,B?.ground,B?.layers,A?.ready]},()=>this._reschedule(),t.syncAndInitial)]);this._preloadLayerViewModules();
this._reschedule()};v.destroy=function(){this.clear();r.destroyMap(this._recyclingInfoMap);r.destroyMap(this._layerLayerViewInfoMap);this._watchUpdatingTracking.destroy();this._map=null;null!=this._workPromise&&(this._workPromise.reject(p.createAbortError()),this._workPromise=null)};v.clear=function(){this.destroyed||(r.destroyMap(this._layerLayerViewInfoMap),this._refreshCollections())};v.whenLayerView=async function(A){await this._reschedule();if(!this._layerLayerViewInfoMap.has(A)){if(this._recyclingInfoMap.has(A))return this._recyclingInfoMap.get(A).promise;
throw new f("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:A});}return this._layerLayerViewInfoMap.get(A).promise};v._refreshCollections=function(){for(const [A,B]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(A),this.get(B),this.view);this.notifyChange("updating");this.notifyChange("updatingRemaining")};v._populateLayerViewsOwners=function(A,B,C){if(A&&B){var D=0;for(const y of A)(A=this._layerLayerViewInfoMap.get(y))&&A.layerView&&(A=A.layerView,
A.layer=y,A.parent=C,B.at(D)!==A&&B.splice(D,0,A),y.layers&&this._populateLayerViewsOwners(y.layers,A.layerViews,A),D+=1);D<B.length&&B.splice(D,B.length)}else B&&B.removeAll()};v._createLayerView=function(A){A.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(A)&&this.layerViewImporter.importLayerView(A);const B=new z(A,this.view,this.layerViewImporter);B.promise.then(()=>this._refreshCollections(),C=>{C&&(p.isAbortError(C)||"cancelled:layerview-create"===C.name)||g.getLogger(this).error(`Failed to create layerview for layer title:'${A.title??
"no title"}', id:'${A.id??"no id"}' of type '${A.type}'.`,{layer:A,error:C});this._refreshCollections()});this._layerLayerViewInfoMap.set(A,B);this.view.ready&&B.start();this.notifyChange("updating");this.notifyChange("updatingRemaining")};a._createClass(w,[{key:"_layersToLayerViews",get:function(){const A=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];this.supportsGround&&
A.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(A)}},{key:"_rootCollectionNames",get:function(){return Array.from(this._layersToLayerViews.keys())}},{key:"updating",get:function(){return null!=this._workPromise||this._watchUpdatingTracking.updating||q.someMap(this._layerLayerViewInfoMap,A=>!A.done)||0<this._recyclingInfoMap.size}},{key:"updatingRemaining",get:function(){let A=0;for(const B of this._layerLayerViewInfoMap.values())B.done||++A;return A}}]);return w}(c);
b.__decorate([m.property()],c.prototype,"_workPromise",void 0);b.__decorate([m.property({readOnly:!0})],c.prototype,"_watchUpdatingTracking",void 0);b.__decorate([m.property({readOnly:!0})],c.prototype,"_layersToLayerViews",null);b.__decorate([m.property({readOnly:!0})],c.prototype,"_rootCollectionNames",null);b.__decorate([m.property()],c.prototype,"layerViewImporter",void 0);b.__decorate([m.property()],c.prototype,"supportsGround",void 0);b.__decorate([m.property({readOnly:!0})],c.prototype,"updating",
null);b.__decorate([m.property({readOnly:!0})],c.prototype,"updatingRemaining",null);b.__decorate([m.property({constructOnly:!0})],c.prototype,"view",void 0);return c=b.__decorate([n.subclass("esri.views.LayerViewManager")],c)})},"esri/views/Magnifier":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p,t){c=function(k){function m(e){e=k.call(this,e)||this;e.factor=1.5;e.offset=f.createScreenPoint(0,0);e.position=null;e.size=120;e.maskUrl=null;e.maskEnabled=!0;e.overlayUrl=null;e.overlayEnabled=!0;e.visible=!0;return e}a._inherits(m,k);a._createClass(m,[{key:"version",get:function(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");
this.commitProperty("overlayUrl");this.commitProperty("overlayEnabled");return(this._get("version")||0)+1}}]);return m}(c);b.__decorate([g.property({type:Number})],c.prototype,"factor",void 0);b.__decorate([g.property({nonNullable:!0})],c.prototype,"offset",void 0);b.__decorate([g.property()],c.prototype,"position",void 0);b.__decorate([g.property({type:Number,range:{min:0}})],c.prototype,"size",void 0);b.__decorate([g.property()],c.prototype,"maskUrl",void 0);b.__decorate([g.property()],c.prototype,
"maskEnabled",void 0);b.__decorate([g.property()],c.prototype,"overlayUrl",void 0);b.__decorate([g.property()],c.prototype,"overlayEnabled",void 0);b.__decorate([g.property({readOnly:!0})],c.prototype,"version",null);b.__decorate([g.property({type:Boolean})],c.prototype,"visible",void 0);return c=b.__decorate([t.subclass("esri.views.Magnifier")],c)})},"esri/views/ToolViewManager":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/clock ../core/Collection ../core/HandleOwner ../core/handleUtils ../core/has ../core/Logger ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./3d/support/TextureCollection ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/interfaces ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A){a.ToolViewManager=function(B){function C(y){var G=B.call(this,y)||this;G._clock=g.clock;G._manipulatorState=new A.ToolViewManagerManipulatorState;G.tools=new q;G.cursor=null;G._interacting=!1;G._interactingTimeout=null;G._forEachTool=F=>{for(const K of G.tools.items)if(F(K))break};return G}b._inherits(C,B);var D=C.prototype;D.initialize=function(){this.handles.add([this.view.on(x.eventTypes,y=>{this._handleInputEvent(y)},z.ViewEventPriorities.TOOL),
...w.getToolCollectionHandles(this.tools),this.tools.on("before-add",({item:y})=>{this._updateToolEditableFlag(y)}),this.tools.on("before-remove",({item:y})=>{this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs);this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])};D.destroy=function(){this.detach();this.handles.removeAll()};D._clearInteractingTimeout=function(){this._interactingTimeout=m.removeMaybe(this._interactingTimeout)};D._startInteractingTimeout=
function(){this._clearInteractingTimeout();this._interactingTimeout=this._clock.setTimeout(()=>this._interacting=!1,1E3)};D.attach=function(){"3d"===this.view.type?(this._set("textures",new r.TextureCollection(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([e.watch(()=>{const {state:y}=this.view;return"camera"in y&&y.camera},()=>this._forEachManipulator(y=>y.onViewChange())),this.view.elevationProvider?.on("elevation-change",y=>this._forEachManipulator(G=>G.onElevationChange(y))),
p.makeHandle(()=>this._set("textures",m.destroyMaybe(this.textures)))],"attached")):this.handles.add(e.watch(()=>this.view.extent,()=>this._forEachManipulator(y=>y.onViewChange())))};D.detach=function(){this.activeTool=null;this.tools.removeAll();this.handles.remove("attached");this._clearInteractingTimeout();this._interacting=!1};D._forEachManipulator=function(y){this._forEachTool(G=>{G.manipulators&&G.manipulators.forEach(({manipulator:F})=>y(F,G))})};D._handleInputEvent=function(y){let G=!1;const F=
{...y,stopPropagation:()=>{G=!0;y.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(F):this._forEachTool(K=>{!G&&K.visible&&K.handleInputEvent(F)});!G&&"key-down"===y.type&&"Escape"===y.key&&this.activeTool&&(y.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(F,this._manipulatorStateEventArgs);G||null==this.activeTool||this.activeTool.handleInputEventAfter(F);this._manipulatorState.handleHoverEvent(F,this._forEachTool);
this._updateCursor();"pointer-move"===y.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())};D._refreshToolWatchers=function(){this.handles.remove("tools");this._forEachTool(y=>{if(y instanceof f){const G=e.watch(()=>[y.cursor,y.visible,y.editable],()=>{w.areToolManipulatorsEditable(y)||this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs);this._updateCursor()});this.handles.add(G,"tools")}y.manipulators&&
this.handles.add([y.manipulators.on("after-remove",G=>{this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs,!0,G.item.manipulator)}),y.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()})],"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()};D._updateToolEditableFlag=function(y){y.setEditableFlag?.(v.EditableFlag.MANAGER,null==this.activeTool||y===
this.activeTool)};D._updateCursor=function(){let y=this._manipulatorState.cursor;null==y&&this._forEachTool(G=>null!=G.cursor&&G.visible?(y=G.cursor,!0):!1);this._get("cursor")!==y&&this._set("cursor",y)};D._removeIncompleteTools=function(y){this.tools.filter(G=>(null==y||G!==y)&&!G.created&&G.removeIncompleteOnCancel).forEach(G=>{this.tools.remove(G)})};b._createClass(C,[{key:"_manipulatorStateEventArgs",get:function(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:y=>
{this.activeTool=y},view:this.view}}},{key:"activeTool",set:function(y){if(null!=y&&!this.view.ready)k.getLogger(this).error("Cannot set active tool while view is not ready.");else if(y!==this.activeTool){var G=this.activeTool;this._set("activeTool",y);null!=G&&G.deactivate();null!=y&&y.activate();this._removeIncompleteTools(y);for(const F of this.tools)this._updateToolEditableFlag(F),y=w.areToolManipulatorsEditable(F),null!=this.activeTool&&y||this._manipulatorState.clearPointers(F,this._manipulatorStateEventArgs,
!y);this._updateCursor()}}},{key:"updating",get:function(){return this.updatingHandles.updating||this.tools.some(y=>y.updating)||(this.textures?.updating??!1)}},{key:"interacting",get:function(){return this._interacting}},{key:"test",get:function(){return{setClock:y=>this._clock=y}}}]);return C}(u.HandleOwner);c.__decorate([d.property({constructOnly:!0,nonNullable:!0})],a.ToolViewManager.prototype,"view",void 0);c.__decorate([d.property({readOnly:!0,nonNullable:!0})],a.ToolViewManager.prototype,"textures",
void 0);c.__decorate([d.property({value:null})],a.ToolViewManager.prototype,"activeTool",null);c.__decorate([d.property({readOnly:!0,type:q})],a.ToolViewManager.prototype,"tools",void 0);c.__decorate([d.property({readOnly:!0})],a.ToolViewManager.prototype,"cursor",void 0);c.__decorate([d.property({readOnly:!0})],a.ToolViewManager.prototype,"updating",null);c.__decorate([d.property()],a.ToolViewManager.prototype,"_interacting",void 0);c.__decorate([d.property({readOnly:!0})],a.ToolViewManager.prototype,
"interacting",null);a.ToolViewManager=c.__decorate([h.subclass("esri.views.ToolViewManager")],a.ToolViewManager);a.INTERACTING_TIMEOUT=1E3;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/TextureCollection":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../support/Scheduler".split(" "),
function(a,b,c,f,g,q,u,p,t,k){a.TextureCollection=function(e){function d(n,h){var r=e.call(this,{})||this;r._stage=n;r._textureRequests=new Map;r._frameTask=h?.registerTask(k.TaskPriority.TEXTURE_UNLOAD)??k.ImmediateTask;return r}b._inherits(d,e);var l=d.prototype;l.normalizeCtorArgs=function(){return{}};l.destroy=function(){b._get(b._getPrototypeOf(d.prototype),"destroy",this).call(this);this._frameTask?.remove();this._textureRequests?.forEach(n=>this._releaseTextureRequest(n));this._textureRequests?.clear()};
l.fromData=function(n,h,r){const z=this.makeUid(n);n=this._textureRequests.get(z);n||(r=new m(r),r.texture=h(),this._stage?.add(r.texture),this._stage?.loadImmediate(r.texture),this._textureRequests.set(z,r),n=r);n.referenceCount++;return{uid:z,texture:n.texture,release:()=>this._release(z)}};l._release=function(n){const h=this._textureRequests.get(n);h?(1>h.referenceCount&&console.warn("TextureCollection: reference count is \x3c 1 for "+n),h.referenceCount--,1>h.referenceCount&&this._frameTask.schedule(()=>
this._releaseNow(n))):console.warn(`TextureCollection: texture doesn't exist: '${n}'`)};l._releaseNow=function(n){if(this._textureRequests){var h=this._textureRequests.get(n);!h||0<h.referenceCount||(this._releaseTextureRequest(h),this._textureRequests.delete(n))}};l._releaseTextureRequest=function(n){if(n.onRemove)n.onRemove();n.texture?this._stage?.remove(n.texture):n.abortController&&(n.abortController.abort(),n.abortController=null)};l.makeUid=function(n,h=null){return null!=h?`${n}.${h}px`:n};
b._createClass(d,[{key:"updating",get:function(){return this._frameTask.updating}},{key:"test",get:function(){return{textureRequests:this._textureRequests}}}]);return d}(f);c.__decorate([g.property()],a.TextureCollection.prototype,"_frameTask",void 0);c.__decorate([g.property()],a.TextureCollection.prototype,"updating",null);a.TextureCollection=c.__decorate([t.subclass("esri.views.3d.support.TextureCollection")],a.TextureCollection);let m=b._createClass(function(e){this.onRemove=e;this.referenceCount=
0});a.TextureRequest=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/Scheduler":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Handles ../../core/has ../../core/Logger ../../core/maybe ../../core/PerformanceSampler ../../core/PooledArray ../../core/promiseUtils ../../core/reactiveUtils ../../core/signal ../../core/time ../../layers/support/PromiseQueue ./debugFlags ./RenderState".split(" "),function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){function h(y){return r.has(y)?
r.get(y):"number"===typeof y?y:1}a.Task=void 0;(function(y){y[y.YIELD=1]="YIELD"})(a.Task||(a.Task={}));a.TaskPriority=void 0;(function(y){y.RESOURCE_CONTROLLER_IMMEDIATE="immediate";y.RESOURCE_CONTROLLER="schedule";y.SLIDE="slide";y.STREAM_DATA_LOADER="stream loader";y.ELEVATION_QUERY="elevation query";y.TERRAIN_SURFACE="terrain";y.SURFACE_GEOMETRY_UPDATES="surface geometry updates";y.LOD_RENDERER="LoD renderer";y.GRAPHICS_CORE="Graphics3D";y.I3S_CONTROLLER="I3S";y.POINT_CLOUD_LAYER="point cloud";
y.FEATURE_TILE_FETCHER="feature fetcher";y.OVERLAY="overlay";y.STAGE="stage";y.GRAPHICS_DECONFLICTOR="graphics deconflictor";y.FILTER_VISIBILITY="Graphics3D filter visibility";y.SCALE_VISIBILITY="Graphics3D scale visibility";y.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";y.POINT_OF_INTEREST_FREQUENT="POI frequent";y.POINT_OF_INTEREST_INFREQUENT="POI infrequent";y.LABELER="labeler";y.FEATURE_QUERY_ENGINE="feature query";y.FEATURE_TILE_TREE="feature tile tree";y.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";
y.ELEVATION_ALIGNMENT="elevation alignment";y.TEXT_TEXTURE_ATLAS="text texture atlas";y.TEXTURE_UNLOAD="texture unload";y.LINE_OF_SIGHT_TOOL="line of sight tool";y.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";y.ELEVATION_PROFILE="elevation profile";y.SNAPPING="snapping";y.SHADOW_ACCUMULATOR="shadow accumulator";y.CLOUDS_GENERATOR="clouds generator";y[y.NONE=0]="NONE";y[y.TEST_PRIO=1]="TEST_PRIO"})(a.TaskPriority||(a.TaskPriority={}));const r=new Map([[a.TaskPriority.RESOURCE_CONTROLLER_IMMEDIATE,
0],[a.TaskPriority.RESOURCE_CONTROLLER,4],[a.TaskPriority.SLIDE,0],[a.TaskPriority.STREAM_DATA_LOADER,0],[a.TaskPriority.ELEVATION_QUERY,0],[a.TaskPriority.TERRAIN_SURFACE,1],[a.TaskPriority.SURFACE_GEOMETRY_UPDATES,1],[a.TaskPriority.LOD_RENDERER,2],[a.TaskPriority.GRAPHICS_CORE,2],[a.TaskPriority.I3S_CONTROLLER,2],[a.TaskPriority.POINT_CLOUD_LAYER,2],[a.TaskPriority.FEATURE_TILE_FETCHER,2],[a.TaskPriority.OVERLAY,4],[a.TaskPriority.STAGE,4],[a.TaskPriority.GRAPHICS_DECONFLICTOR,4],[a.TaskPriority.FILTER_VISIBILITY,
4],[a.TaskPriority.SCALE_VISIBILITY,4],[a.TaskPriority.FRUSTUM_VISIBILITY,4],[a.TaskPriority.CLOUDS_GENERATOR,4],[a.TaskPriority.POINT_OF_INTEREST_FREQUENT,6],[a.TaskPriority.POINT_OF_INTEREST_INFREQUENT,30],[a.TaskPriority.LABELER,8],[a.TaskPriority.FEATURE_QUERY_ENGINE,8],[a.TaskPriority.FEATURE_TILE_TREE,16],[a.TaskPriority.FEATURE_TILE_TREE_ACTIVE,0],[a.TaskPriority.ELEVATION_ALIGNMENT,12],[a.TaskPriority.TEXT_TEXTURE_ATLAS,12],[a.TaskPriority.TEXTURE_UNLOAD,12],[a.TaskPriority.LINE_OF_SIGHT_TOOL,
16],[a.TaskPriority.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[a.TaskPriority.SNAPPING,0],[a.TaskPriority.SHADOW_ACCUMULATOR,30]]),z=e.Milliseconds(6.5),x=e.Milliseconds(1),w=e.Milliseconds(30),v=e.Milliseconds(1E3/30),A=e.Milliseconds(100);var B;(function(y){let G=function(){function M(){this._updating=m.signal(!0);this._microTaskQueued=!1;this._frameNumber=0;this.performanceInfo={total:new u("total"),tasks:new Map};this._frameTaskTimes=new Map;this._budget=new K;this._state=n.RenderState.INTERACTING;this._tasks=
new p;this._runQueue=new p;this._load=0;this._idleStateCallbacks=new p;this._debug=this._forceTask=this._idleUpdatesStartFired=!1;this._debugHandle=k.watch(()=>l.SCHEDULER_LOG_SLOW_TASKS,J=>this._debug=J,k.initial);for(const J of Object.keys(a.TaskPriority))this.performanceInfo.tasks.set(a.TaskPriority[J],new u(a.TaskPriority[J]));const H=this;this._test={FRAME_SAFETY_BUDGET:z,INTERACTING_BUDGET:v,IDLE_BUDGET:A,get availableBudget(){return H._budget.budget},usedBudget:0,getBudget:()=>H._budget,setBudget:J=>
H._budget=J,updateTask:J=>this._updateTask(J),getState:J=>this._getState(J),getRuntime:J=>this._getRuntime(J),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}var O=M.prototype;O._updatingChanged=function(){this._updating.value=this._tasks.some(H=>H.needsUpdate)};O.destroy=function(){this._tasks.toArray().forEach(H=>H.remove());this._tasks.clear();q.removeMaybe(this._debugHandle);this._microTaskQueued=!1;this._updatingChanged()};O.taskRunningChanged=
function(H){this._updatingChanged();H&&0<this._budget.remaining&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,0<this._budget.remaining&&this._schedule()&&this.frame())}))};O.registerTask=function(H,J){const L=h(H);J=new F(this,H,J,L);this._tasks.push(J);this._updatingChanged();this.performanceInfo.tasks.has(H)||this.performanceInfo.tasks.set(H,new u(H));return J};O.registerIdleStateCallbacks=function(H,J){const L={idleBegin:H,
idleEnd:J};this._idleStateCallbacks.push(L);this.state===n.RenderState.IDLE&&this._idleUpdatesStartFired&&L.idleBegin();const N=this;return{remove:()=>this._removeIdleStateCallbacks(L),set idleBegin(V){N._idleUpdatesStartFired&&(L.idleEnd(),N._state===n.RenderState.IDLE&&V());L.idleBegin=V},set idleEnd(V){L.idleEnd=V}}};O.updateBudget=function(H){this._test.usedBudget=0;++this._frameNumber;let J=z,L=H.frameDuration,N=x;switch(this.state){case n.RenderState.IDLE:J=e.Milliseconds(0);L=e.Milliseconds(Math.max(A,
H.frameDuration));N=w;break;case n.RenderState.INTERACTING:L=e.Milliseconds(Math.max(v,H.frameDuration))}L=e.Milliseconds(L-H.elapsedFrameTime-J);if(this.state!==n.RenderState.IDLE&&L<x&&!this._forceTask)return this._forceTask=!0,!1;L=e.Milliseconds(Math.max(L,N));this._budget.reset(L,this.state);this._updateLoad();return this._schedule()};O.frame=function(){this._microTaskQueued=this._forceTask=!1;switch(this.state){case n.RenderState.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=
!0,this._idleStateCallbacks.forAll(H=>H.idleBegin()));this._runIdle();break;case n.RenderState.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};O.stopFrame=function(){this._budget.reset(e.Milliseconds(0),this._state);this._budget.madeProgress()};O._removeIdleStateCallbacks=function(H){this._idleUpdatesStartFired&&H.idleEnd();this._idleStateCallbacks.removeUnordered(H)};O.removeTask=function(H){this._tasks.removeUnordered(H);this._runQueue.removeUnordered(H);
this._updatingChanged()};O._updateTask=function(H){this._tasks.forAll(J=>{J.name===H&&J.setPriority(H)})};O._getState=function(H){if(this._runQueue.some(L=>L.name===H))return a.TaskState.SCHEDULED;let J=a.TaskState.IDLE;this._tasks.forAll(L=>{L.name===H&&L.needsUpdate&&(1>=L.schedulePriority?J=a.TaskState.READY:J!==a.TaskState.READY&&(J=a.TaskState.WAITING))});return J};O._getRuntime=function(H){let J=0;this._tasks.forAll(L=>{L.name===H&&(J+=L.runtime)});return J};O._resetRuntimes=function(){this._tasks.forAll(H=>
H.runtime=0)};O._getRunning=function(){const H=new Map;this._tasks.forAll(L=>{L.needsUpdate&&H.set(L.name,(H.get(L.name)||0)+1)});if(0===H.size)return null;let J="";H.forEach((L,N)=>{J=1<L?J+` ${L}x ${N}`:J+` ${N}`});return J};O._runIdle=function(){this._run()};O._runInteracting=function(){this._run()};O._runAnimating=function(){this._run()};O._updateLoad=function(){const H=this._tasks.reduce((J,L)=>L.needsUpdate?++J:J,0);this._load=.9*this._load+H*(1-.9)};O._schedule=function(){this._runQueue.filterInPlace(H=>
{if(H.needsUpdate)return!0;H.schedulePriority=H.basePriority;return!1});for(this._tasks.forAll(H=>{0===H.basePriority&&H.needsUpdate&&!this._runQueue.includes(H)&&H.blockFrame!==this._frameNumber&&this._runQueue.unshift(H)});0===this._runQueue.length;){let H=!1;this._tasks.forAll(J=>{if(J.needsUpdate&&0!==J.schedulePriority&&0!==J.basePriority&&J.blockFrame!==this._frameNumber)switch(H=!0,J.schedulePriority){case 1:J.schedulePriority=0;this._runQueue.push(J);break;default:--J.schedulePriority}});
if(!H)return this._updatingChanged(),!1}this._updatingChanged();return!0};O._run=function(){const H=this._budget.now();this._startFrameTaskTimes();do for(;0<this._runQueue.length;){var J=this._budget.now();const L=this._runQueue.pop();this._budget.resetProgress();try{L.task.runTask(this._budget)===a.Task.YIELD&&(L.blockFrame=this._frameNumber)}catch(N){g.getLogger("esri.views.support.Scheduler").error(`Exception in task "${L.name}"`,N)}!this._budget.hasProgressed&&L.blockFrame!==this._frameNumber&&
L.needsUpdate&&(L.blockFrame=this._frameNumber);L.schedulePriority=L.basePriority;J=this._budget.now()-J;L.runtime+=J;this._frameTaskTimes.set(L.priority,this._frameTaskTimes.get(L.priority)+J);this._debug&&J>2*this._budget.budget&&console.log("Task",L.name,"used",J,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining){this._updatingChanged();this._recordFrameTaskTimes(this._budget.now()-H);return}}while(this._schedule());this._updatingChanged();this._recordFrameTaskTimes(this._budget.now()-
H)};O._startFrameTaskTimes=function(){for(const H of Object.keys(a.TaskPriority))this._frameTaskTimes.set(a.TaskPriority[H],0)};O._recordFrameTaskTimes=function(H){this._frameTaskTimes.forEach((J,L)=>this.performanceInfo.tasks.get(L).record(J));this.performanceInfo.total.record(H)};b._createClass(M,[{key:"updating",get:function(){return this._updating.value}},{key:"load",get:function(){return this._load}},{key:"state",get:function(){return this._state},set:function(H){this._state!==H&&(this._state=
H,this.state!==n.RenderState.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(J=>J.idleEnd())))}},{key:"test",get:function(){return this._test}}]);return M}();y.Scheduler=G;let F=function(){function M(H,J,L,N){this._scheduler=H;this.name=J;this._basePriority=N;this.runtime=this.blockFrame=0;this._queue=new d.PromiseQueue;this._handles=new c;this.schedulePriority=this._basePriority;this._task=m.signal(null!=L?L:this._queue);this._handles.add(k.when(()=>
this.task.running,V=>H.taskRunningChanged(V)))}var O=M.prototype;O.remove=function(){this.processQueue(C);this._scheduler.removeTask(this);this.schedule=D.schedule;this.reschedule=D.reschedule;this._handles.destroy()};O.setPriority=function(H){this.name=H;H=h(H);if(0===this._basePriority||0!==this.schedulePriority)this.schedulePriority=H;this._basePriority=H};O.schedule=function(H,J,L){return this._queue.push(H,J,L)};O.reschedule=function(H,J,L){return this._queue.unshift(H,J,L)};O.processQueue=function(H){this._queue.runTask(H)};
b._createClass(M,[{key:"task",get:function(){return this._task.value}},{key:"updating",get:function(){return this._queue.running}},{key:"basePriority",get:function(){return this._basePriority}},{key:"priority",get:function(){return this.name},set:function(H){this.setPriority(H)}},{key:"needsUpdate",get:function(){return this.updating||this.task.running}}]);return M}(),K=function(){function M(){this._begin="undefined"!==typeof performance?performance.now():0;this._budget=0;this._state=n.RenderState.IDLE;
this._progressed=this._done=!1;this._enabled=!0}var O=M.prototype;O.run=function(H){if(this.done)return!1;!0===H()&&this.madeProgress();return!0};O.madeProgress=function(){this._progressed=!0;return this._done=this.elapsed>=this._budget&&this._enabled};O.reset=function(H,J){this._begin=this.now();this._budget=H;this._state=J;this.resetProgress()};O.now=function(){return performance.now()};O.resetProgress=function(){this._done=this._progressed=!1};b._createClass(M,[{key:"done",get:function(){return this._done}},
{key:"budget",get:function(){return this._budget}},{key:"state",get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},set:function(H){this._enabled=H}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return performance.now()-this._begin}},{key:"hasProgressed",get:function(){return this._progressed}}]);return M}();y.Budget=K})(B||(B={}));a.TaskState=void 0;(function(y){y.SCHEDULED="s";y.READY="r";y.WAITING=
"w";y.IDLE="i"})(a.TaskState||(a.TaskState={}));const C=(()=>{const y=new B.Budget;y.enabled=!1;return y})(),D=new (function(){function y(){}var G=y.prototype;G.remove=function(){};G.processQueue=function(){};G.schedule=function(F,K,M){try{if(t.isAborted(K)){const O=t.createAbortError();return M?Promise.resolve(M(O)):Promise.reject(O)}return t.when(F(C))}catch(O){return Promise.reject(O)}};G.reschedule=function(F,K,M){return this.schedule(F,K,M)};return b._createClass(y)}());a.ImmediateTask=D;a.getTaskPriority=
h;a.newScheduler=function(){return new B.Scheduler};a.noBudget=C;a.taskPriorities=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/signal":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./lang","./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b,c,f,g){let q=function(){function u(p,t){this._observable=new g.SimpleObservable;this._value=p;this._equalityFunction=t}u.prototype.mutate=function(p){p(this._value);this._observable.notify()};
b._createClass(u,[{key:"value",get:function(){f.trackAccess(this._observable);return this._value},set:function(p){this._equalityFunction(p,this._value)||(this._value=p,this._observable.notify())}}]);return u}();a.signal=function(u,p=c.equalsShallow){return new q(u,p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PromiseQueue":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/promiseUtils","../../core/signal"],function(a,b,c,f){let g=
function(){function u(){this._tasks=[];this._running=f.signal(!1)}var p=u.prototype;p.destroy=function(){this.cancelAll()};p.runTask=function(t){for(;!t.done&&this._process(t);)t.madeProgress()};p.push=function(t,k,m){this._running.value=!0;return new Promise((e,d)=>this._tasks.push(new q(e,d,t,k,m)))};p.unshift=function(t,k,m){this._running.value=!0;return new Promise((e,d)=>this._tasks.unshift(new q(e,d,t,k,m)))};p._process=function(t){if(0===this._tasks.length)return!1;const k=this._tasks.shift();
try{const m=c.isAborted(k.signal);if(m&&!k.abortCallback)k.reject(c.createAbortError());else{const e=m?k.abortCallback?.(c.createAbortError()):k.callback(t);c.isPromiseLike(e)?e.then(k.resolve,k.reject):k.resolve(e)}}catch(m){k.reject(m)}this._running.value=0<this._tasks.length;return!0};p.cancelAll=function(){const t=c.createAbortError();for(const k of this._tasks)if(k.abortCallback){const m=k.abortCallback(t);k.resolve(m)}else k.reject(t);this._tasks.length=0;this._running.value=!1};b._createClass(u,
[{key:"length",get:function(){return this._tasks.length}},{key:"running",get:function(){return this._running.value}}]);return u}(),q=b._createClass(function(u,p,t,k,m){this.resolve=u;this.reject=p;this.callback=t;this.signal=k;this.abortCallback=m});a.PromiseQueue=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/debugFlags":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){c=function(t){function k(){var m=t.apply(this,arguments)||this;m.SCHEDULER_LOG_SLOW_TASKS=!1;m.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1;return m}a._inherits(k,t);return a._createClass(k)}(c);b.__decorate([f.property()],c.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);b.__decorate([f.property()],c.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);c=b.__decorate([p.subclass("esri.views.support.DebugFlags")],c);return new c})},"esri/views/support/RenderState":function(){define(["exports"],
function(a){a.RenderState=void 0;var b=a.RenderState||(a.RenderState={});b[b.ANIMATING=0]="ANIMATING";b[b.INTERACTING=1]="INTERACTING";b[b.IDLE=2]="IDLE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputManager":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../3d/support/PropertiesPool ./keys ./handlers/LatestPointer ./handlers/MultiTouch".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){a.InputManager=function(w){function v(B){var C=w.call(this,B)||this;C._pointerCaptures=new Map;C._nameToGroup={};C._handlers=[];C._handlersPriority=[];C._currentPropagation=null;C._updateDependenciesAfterPropagation=!1;C._sourceEvents=new Set;C._keyModifiers=new Set;C._activeKeyModifiers=new Set;C._stoppedPropagationEventIds=new Set;C.primaryKey=d.primaryKey;C._latestPointerType="mouse";C._propertiesPool=new e.PropertiesPool({latestPointerLocation:x},b._assertThisInitialized(C));
C.latestPointerLocation=null;C._paused=!1;C.test={timestamp:void 0,hasCurrentPropagation:()=>!!C._currentPropagation};return C}b._inherits(v,w);var A=v.prototype;A.initialize=function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()};A.destroy=function(){const B=Object.keys(this._nameToGroup);for(const C of B)this.uninstallHandlers(C);this.eventSource.destroy();this._currentPropagation=null;this._propertiesPool.destroy()};A.installHandlers=function(B,
C,D=z.INTERNAL){if(this._nameToGroup[B])g.getLogger(this).error("There is already an InputHandler group registered under the name `"+B+"`");else if(0===C.length)g.getLogger(this).error("Can't register a group of zero handlers");else{var y={name:B,handlers:C.map(G=>({handler:G,active:!0,removed:!1,priorityIndex:0,groupPriority:D,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[B]=y;for(B=y.handlers.length-1;0<=B;B--){const G=y.handlers[B];this._handlers.push(G);G.handler.onInstall({updateDependencies:()=>
{this.updateDependencies()},emit:(F,K,M,O,H)=>{this._emitInputEvent(G.priorityIndex+1,F,K,M,H,O)},setPointerCapture:(F,K)=>{this._setPointerCapture(y,G,F,K)},setEventCallback:F=>{G.eventCallback=F},setUninstallCallback:F=>{G.uninstallCallback=F},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}};A.uninstallHandlers=function(B){const C=this._nameToGroup[B];C?(C.handlers.forEach(D=>{D.removed=!0;D.uninstallCallback?.()}),delete this._nameToGroup[B],this._currentPropagation?
this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):g.getLogger(this).error("There is no InputHandler group registered under the name `"+B+"`")};A.hasHandlers=function(B){return void 0!==this._nameToGroup[B]};A.updateDependencies=function(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var B=new Set,C=new Set;this._handlersPriority=[];for(var D=this._handlers.length-1;0<=D;D--){var y=
this._handlers[D];y.priorityIndex=D;this._handlersPriority.push(y)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(D=this._handlersPriority.length-1;0<=D;D--){y=this._handlersPriority[D];y.priorityIndex=D;let G=y.handler.hasSideEffects;if(!G)for(const F of y.handler.outgoingEventTypes)if(B.has(F)){G=!0;break}if(G)for(const F of y.handler.incomingEventMatches){B.add(F.eventType);for(const K of F.keyModifiers)d.isSystemModifier(K)||C.add(K)}y.active=G}this._sourceEvents=
B;this._keyModifiers=C;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}};A._setLatestPointer=function(B,C,D){this._latestPointerType=B;B=this._get("latestPointerLocation");if(null==B||B.x!==C||B.y!==D)B=this._propertiesPool.get("latestPointerLocation"),B.x=C,B.y=D,this._set("latestPointerLocation",B)};A._onEventReceived=
function(B,C){"pointer-capture-lost"===B&&this._pointerCaptures.delete(C.native.pointerId);this._updateKeyModifiers(B,C);this._emitInputEventFromSource(B,C,null!=this.test.timestamp?this.test.timestamp:C.native?C.native.timestamp:void 0,C.native?C.native.cancelable:void 0)};A._updateKeyModifiers=function(B,C){if(C){var D=!1,y=()=>{if(!D){const F=new Set;this._activeKeyModifiers.forEach(K=>{F.add(K)});this._activeKeyModifiers=F;D=!0}},G=(F,K)=>{K&&!this._activeKeyModifiers.has(F)?(y(),this._activeKeyModifiers.add(F)):
!K&&this._activeKeyModifiers.has(F)&&(y(),this._activeKeyModifiers.delete(F))};if("key-down"===B||"key-up"===B){const F=C.key;this._keyModifiers.has(F)&&G(F,"key-down"===B)}B=C.native;G("Alt",!(!B||!B.altKey));G("Ctrl",!(!B||!B.ctrlKey));G("Shift",!(!B||!B.shiftKey));G("Meta",!(!B||!B.metaKey));G("Primary",this._activeKeyModifiers.has(this.primaryKey))}};A._installRecognizers=function(){this._latestPointerHandler=new l.LatestPointer((B,C,D)=>this._setLatestPointer(B,C,D));this._multiTouchHandler=
new n.MultiTouch;this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],z.ALWAYS);0<this.recognizers.length&&this.installHandlers("default",this.recognizers,z.INTERNAL)};A._setPointerCapture=function(B,C,D,y){B=B.name+"-"+C.priorityIndex;C=this._pointerCaptures.get(D.pointerId)||new Set;this._pointerCaptures.set(D.pointerId,C);y?(C.add(B),1===C.size&&this.eventSource&&this.eventSource.setPointerCapture(D,!0)):C.has(B)&&(C.delete(B),0===C.size&&(this._pointerCaptures.delete(D.pointerId),
this.eventSource&&this.eventSource.setPointerCapture(D,!1)))};A._garbageCollectRemovedHandlers=function(){this._handlers=this._handlers.filter(B=>!B.removed);this.updateDependencies()};A._emitInputEventFromSource=function(B,C,D,y){this._emitInputEvent(0,B,C,D,y)};A._emitInputEvent=function(B,C,D,y,G,F){y=void 0!==y?y:this._currentPropagation?this._currentPropagation.timestamp:performance.now();B={event:new h(C,D,y,F||this._activeKeyModifiers,void 0!==G?G:!1),priorityIndex:B};this._currentPropagation?
this._currentPropagation.events.push(B):this._doNewPropagation(B)};A._doNewPropagation=function(B){this._currentPropagation={events:new q,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:B.event.timestamp};this._currentPropagation.events.push(B);this._continuePropagation()};A._continuePropagation=function(){this._paused=!1;const B=this._currentPropagation;if(B){for(;0<B.events.length;){const {event:C,priorityIndex:D}=B.events.pop(),y=C.data&&C.data.eventId;if(null==y||!this._stoppedPropagationEventIds.has(y))for(B.currentHandler=
this._handlersPriority[D];B.currentHandler;){if(B.currentHandler.removed)B.needsHandlerGarbageCollect=!0;else{B.currentHandler.active&&!C.shouldStopPropagation()&&B.currentHandler.eventCallback?.(C);if(C.shouldStopPropagation()){null!=y&&this._stoppedPropagationEventIds.add(y);break}if(C.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:C,priorityIndex:B.currentHandler.priorityIndex+1});return}}B.currentHandler=this._handlersPriority[B.currentHandler.priorityIndex+
1]}}B.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()}};A._pausePropagation=function(B){const C=new q;C.push(B);if(B=this._currentPropagation){for(;B.events.length;)C.push(B.events.pop());B.events=C;B.currentHandler=null;this._paused=!0}};A._compareHandlerPriority=function(B,C){if(B.handler.hasSideEffects!==C.handler.hasSideEffects)return B.handler.hasSideEffects?
1:-1;if(B.groupPriority!==C.groupPriority)return B.groupPriority>C.groupPriority?-1:1;for(const D of B.handler.incomingEventMatches)for(const y of C.handler.incomingEventMatches){if(D.eventType!==y.eventType)continue;const G=D.keyModifiers.filter(F=>y.keyModifiers.includes(F));if(G.length===D.keyModifiers.length!==(G.length===y.keyModifiers.length))return D.keyModifiers.length>y.keyModifiers.length?-1:1}return B.priorityIndex>C.priorityIndex?-1:1};A._sortHandlersPriority=function(B){const C=[];for(const D of B){for(B=
0;B<C.length&&0<=this._compareHandlerPriority(D,C[B]);)B++;C.splice(B,0,D)}return C};b._createClass(v,[{key:"hasPendingInputs",get:function(){return this._handlers.some(B=>B.handler.hasPendingInputs)}},{key:"latestPointerType",get:function(){return this._latestPointerType}},{key:"multiTouchActive",get:function(){return this._multiTouchHandler.multiTouchActive}},{key:"updating",get:function(){return this.hasPendingInputs||this._paused}},{key:"debug",get:function(){const B=C=>{const D=this._setPointerCapture;
this._setPointerCapture=()=>{};C();this._setPointerCapture=D};return{injectEvent:(C,D)=>{B(()=>{this._onEventReceived(C,D)})},disablePointerCapture:B}}}]);return v}(f);c.__decorate([u.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);c.__decorate([u.property({constructOnly:!0})],a.InputManager.prototype,"eventSource",void 0);c.__decorate([u.property({constructOnly:!0})],a.InputManager.prototype,"recognizers",void 0);c.__decorate([u.property()],a.InputManager.prototype,"_latestPointerType",
void 0);c.__decorate([u.property()],a.InputManager.prototype,"latestPointerType",null);c.__decorate([u.property()],a.InputManager.prototype,"multiTouchActive",null);c.__decorate([u.property({readOnly:!0})],a.InputManager.prototype,"latestPointerLocation",void 0);c.__decorate([u.property()],a.InputManager.prototype,"_paused",void 0);c.__decorate([u.property({readOnly:!0})],a.InputManager.prototype,"updating",null);a.InputManager=c.__decorate([m.subclass("esri.views.input.InputManager")],a.InputManager);
let h=function(){function w(A,B,C,D,y){this.type=A;this.data=B;this.timestamp=C;this.modifiers=D;this.cancelable=y;this._propagationState=r.NONE;this._resumeCallback=null}var v=w.prototype;v.stopPropagation=function(){this._propagationState|=r.STOPPED};v.shouldStopPropagation=function(){return 0!==(this._propagationState&r.STOPPED)};v.async=function(A){this._propagationState|=r.PAUSED;const B=(C,D)=>{this._propagationState&=~r.PAUSED;const y=this._resumeCallback;this._resumeCallback=null;y&&y();if(D)throw C;
return C};return("function"===typeof A?A():A).then(C=>B(C,!1),C=>B(C,!0))};v.shouldPausePropagation=function(A){return this._propagationState&r.PAUSED?(this._resumeCallback=A,!0):!1};v.preventDefault=function(){this.data.native.preventDefault()};return b._createClass(w)}();var r;(function(w){w[w.NONE=0]="NONE";w[w.STOPPED=1]="STOPPED";w[w.PAUSED=2]="PAUSED"})(r||(r={}));const z={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},x=b._createClass(function(){});a.ViewEventPriorities=z;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/PropertiesPool":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/ReentrantObjectPool","../../../core/accessorSupport/watch"],function(a,b,c,f){let g=function(){function q(p,t){this._owner=t;this._properties={};this._afterDispatchHandle=null;for(const k in p)t=new c.ReentrantObjectPool(p[k],void 0,void 0,2,2),this._properties[k]={pool:t,acquired:[]};this._afterDispatchHandle=f.afterDispatch(()=>this._release())}
var u=q.prototype;u.destroy=function(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const p in this._properties){const t=this._properties[p];for(const k of t.acquired)f.isValueInUse(k)||t.pool.release(k);t.pool.destroy();t.pool=null;t.acquired=null}this._owner=this._properties=null};u.get=function(p){const t=this._owner._get(p);p=this._properties[p];let k=p.pool.acquire();for(p.acquired.push(k);k===t;)p.acquired.push(k),k=p.pool.acquire();return k};
u._release=function(){for(const p in this._properties){const t=this._properties[p];let k=0;for(const m of t.acquired)f.isValueInUse(m)?t.acquired[k++]=m:t.pool.release(m);t.acquired.length=k}};return b._createClass(q)}();a.PropertiesPool=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/keys":function(){define(["exports","../../core/events","../../core/has"],function(a,b,c){c=c("mac")?"Meta":"Ctrl";const f={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",
34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(var g=48;58>g;g++)f[g]=String.fromCharCode(g);for(g=1;25>g;g++)f[111+g]=`F${g}`;for(g=65;91>g;g++)f[g]=[String.fromCharCode(g+32),String.fromCharCode(g)];a.eventKey=function(q){if(void 0!==q.key)return b.eventKey(q);const u=f[q.keyCode];return Array.isArray(u)?q.shiftKey?u[1]:u[0]:u};a.isSystemModifier=function(q){switch(q){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}return!1};
a.primaryKey=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/LatestPointer":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../InputHandler"],function(a,b,c){c=function(f){function g(q){var u=f.call(this,!0)||this;u._onChange=q;u._value="mouse";u._x=null;u._y=null;u.registerIncoming("pointer-move",p=>{u._update(p.data)});return u}b._inherits(g,f);g.prototype._update=function(q){const u="touch"===q.native.pointerType?"touch":"mouse",
{x:p,y:t}=q;if(u!==this._value||this._x!==p||this._y!==t)this._value=u,this._x=p,this._y=t,this._onChange(u,p,t)};return b._createClass(g)}(c.InputHandler);a.LatestPointer=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputHandler":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/Logger","./EventMatch"],function(a,b,c,f){const g=c.getLogger("esri.views.input.InputHandler");c=function(){function p(k){this._manager=null;this._incoming=
{};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=k}var t=p.prototype;t.onInstall=function(k){this._manager?g.error("This InputHandler has already been registered with an InputManager"):(k.setEventCallback(m=>this._handleEvent(m)),k.setUninstallCallback(()=>this._onUninstall()),this._manager=k)};t.onUninstall=function(){};t.registerIncoming=function(k,m,e){"function"===typeof m?(e=m,m=[]):m=m||[];k="string"===typeof k?new f.EventMatch(k,
m):k;const d=()=>{this._incomingEventMatches=this._incomingEventTypes=null};m=l=>{const n=this._incoming[l.match.eventType];n&&(l=n.indexOf(l),n.splice(l,1),d(),this._manager&&this._manager.updateDependencies())};e=new q(k,e,{onPause:m,onRemove:m,onResume:l=>{const n=this._incoming[l.match.eventType];n&&!n.includes(l)&&(n.push(l),d(),this._manager&&this._manager.updateDependencies())}});m=this._incoming[k.eventType];m||(m=[],this._incoming[k.eventType]=m);m.push(e);d();this._manager&&this._manager.updateDependencies();
return e};t.registerOutgoing=function(k){if(this._outgoing[k])throw Error("There is already a callback registered for this outgoing InputEvent: "+k);const m=new u(k,{onEmit:(e,d,l,n)=>{this._manager?.emit(e.eventType,d,l,n)},onRemove:e=>{delete this._outgoing[e.eventType];this._manager?.updateDependencies()}});this._outgoing[k]=m;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return m};t.startCapturingPointer=function(k){this._manager?.setPointerCapture(k,!0)};t.stopCapturingPointer=
function(k){this._manager?.setPointerCapture(k,!1)};t.refreshHasPendingInputs=function(){this._manager?.refreshHasPendingInputs()};t._onUninstall=function(){this._manager?(this.onUninstall(),this._manager=null):g.error("This InputHandler is not registered with an InputManager")};t._handleEvent=function(k){const m=this._incoming[k.type];if(m)for(const e of m)if(e.match.matches(k)&&(e.callback?.(k),k.shouldStopPropagation()))break};b._createClass(p,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=
[];for(const k in this._incoming){const m=this._incoming[k];for(const e of m)this._incomingEventMatches.push(e.match)}}return this._incomingEventMatches}},{key:"incomingEventTypes",get:function(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(k=>k.eventType));return this._incomingEventTypes}},{key:"outgoingEventTypes",get:function(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}},{key:"hasSideEffects",
get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}}]);return p}();let q=function(){function p(k,m,e){this.match=k;this._callback=m;this._handler=e}var t=p.prototype;t.pause=function(){this._handler.onPause(this)};t.resume=function(){this._handler.onResume(this)};t.remove=function(){this._handler.onRemove(this)};b._createClass(p,[{key:"callback",get:function(){return this._callback}}]);return p}(),u=function(){function p(k,m){this.eventType=k;this._removed=
!1;this._handler=m}var t=p.prototype;t.emit=function(k,m,e){if(!this._removed)this._handler.onEmit(this,k,m,e)};t.remove=function(){this._removed=!0;this._handler.onRemove(this)};return b._createClass(p)}();a.InputHandler=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/EventMatch":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b){let c=function(){function f(g,q=[]){this.eventType=g;this.keyModifiers=q}f.prototype.matches=function(g){if(g.type!==
this.eventType)return!1;if(0===this.keyModifiers.length)return!0;g=g.modifiers;for(const q of this.keyModifiers)if(!g.has(q))return!1;return!0};return b._createClass(f)}();a.EventMatch=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/MultiTouch":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/signal","../InputHandler"],function(a,b,c,f){f=function(g){function q(){var u=g.call(this,!0)||this;u._activeTouchPointerIds=
new Set;u._multiTouchActive=c.signal(!1);u._onPointerAdd=({data:p})=>{"touch"===p.pointerType&&(u._activeTouchPointerIds.add(p.native.pointerId),u._update())};u._onPointerRemove=({data:p})=>{"touch"===p.pointerType&&(u._activeTouchPointerIds.delete(p.native.pointerId),u._update())};u.registerIncoming("pointer-down",u._onPointerAdd);u.registerIncoming("pointer-up",u._onPointerRemove);u.registerIncoming("pointer-capture-lost",u._onPointerRemove);u.registerIncoming("pointer-cancel",u._onPointerRemove);
return u}b._inherits(q,g);q.prototype._update=function(){this._multiTouchActive.value=1<this._activeTouchPointerIds.size};b._createClass(q,[{key:"multiTouchActive",get:function(){return this._multiTouchActive.value}}]);return q}(f.InputHandler);a.MultiTouch=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/ViewEvents":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/has ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager ./IViewEvents".split(" "),
function(a,b,c,f,g,q,u,p){function t(l){return!!m[l]}function k(l){for(const n of l)if(!t(n))return!1;return!0}c="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");const m={};c.forEach(l=>{m[l]=!0});let e=function(){function l(h){this._handlers=new Map;this._counter=0;this._handlerCounts=new Map;this.view=h;this.inputManager=null}var n=l.prototype;
n.connect=function(h){h&&this.disconnect();this.inputManager=h;this._handlers.forEach(({handler:r,priority:z},x)=>this.inputManager?.installHandlers(x,[r],z))};n.disconnect=function(){this.inputManager&&this._handlers.forEach((h,r)=>this.inputManager?.uninstallHandlers(r));this.inputManager=null};n.destroy=function(){this.disconnect();this._handlers.clear();this.view=null};n.on=function(h,r,z,x){const w=Array.isArray(h)?h:h.split(",");if(!k(w))return w.some(t)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),
null;if(Array.isArray(r))h=r;else{var v=r;h=[]}"function"===typeof z?v=z:x=z;x=null!=x?x:u.ViewEventPriorities.DEFAULT;const A=this._createUniqueGroupName();z=new d(this.view,w,h,v);this._handlers.set(A,{handler:z,priority:x});for(const B of w)v=this._handlerCounts.get(B)||0,this._handlerCounts.set(B,v+1);this.inputManager&&this.inputManager.installHandlers(A,[z],x);return{remove:()=>this._removeHandler(A,w)}};n.hasHandler=function(h){return!!this._handlerCounts.get(h)};n._removeHandler=function(h,
r){if(this._handlers.has(h)){this._handlers.delete(h);for(const z of r)r=this._handlerCounts.get(z),void 0===r?console.error("Trying to remove handler for event that has no handlers registered: ",z):1===r?this._handlerCounts.delete(z):this._handlerCounts.set(z,r-1)}this.inputManager&&this.inputManager.uninstallHandlers(h)};n._createUniqueGroupName=function(){this._counter+=1;return`viewEvents_${this._counter}`};return b._createClass(l)}(),d=function(l){function n(r,z,x,w){var v=l.call(this,!0)||this;
v._latestDragStart=void 0;v.view=r;for(const A of z)switch(A){case "click":v.registerIncoming("click",x,B=>w(v._wrapClick(B)));break;case "double-click":v.registerIncoming("double-click",x,B=>w(v._wrapDoubleClick(B)));break;case "immediate-click":v.registerIncoming("immediate-click",x,B=>w(v._wrapImmediateClick(B)));break;case "immediate-double-click":v.registerIncoming("immediate-double-click",x,B=>w(v._wrapImmediateDoubleClick(B)));break;case "hold":v.registerIncoming("hold",x,B=>w(v._wrapHold(B)));
break;case "drag":v.registerIncoming("drag",x,B=>{(B=v._wrapDrag(B))&&w(B)});break;case "key-down":v.registerIncoming("key-down",x,B=>w(v._wrapKeyDown(B)));break;case "key-up":v.registerIncoming("key-up",x,B=>w(v._wrapKeyUp(B)));break;case "pointer-down":v.registerIncoming("pointer-down",x,B=>w(v._wrapPointer(B,"pointer-down")));break;case "pointer-move":v.registerIncoming("pointer-move",x,B=>w(v._wrapPointer(B,"pointer-move")));break;case "pointer-up":v.registerIncoming("pointer-up",x,B=>w(v._wrapPointer(B,
"pointer-up")));break;case "pointer-drag":v.registerIncoming("pointer-drag",x,B=>w(v._wrapPointerDrag(B)));break;case "mouse-wheel":v.registerIncoming("mouse-wheel",x,B=>w(v._wrapMouseWheel(B)));break;case "pointer-enter":v.registerIncoming("pointer-enter",x,B=>w(v._wrapPointer(B,"pointer-enter")));break;case "pointer-leave":v.registerIncoming("pointer-leave",x,B=>w(v._wrapPointer(B,"pointer-leave")));break;case "gamepad":v.registerIncoming("gamepad",x,B=>{w(v._wrapGamepad(B))});break;case "focus":v.registerIncoming("focus",
x,B=>{w(v._wrapFocus(B))});break;case "blur":v.registerIncoming("blur",x,B=>{w(v._wrapBlur(B))})}return v}b._inherits(n,l);var h=n.prototype;h._wrapFocus=function(r){return{type:"focus",timestamp:r.timestamp,native:r.data.native,cancelable:r.cancelable,stopPropagation:()=>r.stopPropagation(),async:z=>r.async(z),preventDefault:()=>r.preventDefault()}};h._wrapBlur=function(r){return{type:"blur",timestamp:r.timestamp,native:r.data.native,cancelable:r.cancelable,stopPropagation:()=>r.stopPropagation(),
async:z=>r.async(z),preventDefault:()=>r.preventDefault()}};h._wrapClick=function(r){const {pointerType:z,button:x,buttons:w,x:v,y:A,native:B,eventId:C}=r.data,{cancelable:D,timestamp:y}=r,G=g.createScreenPoint(v,A),F=this._getMapPoint(v,A);return{type:"click",pointerType:z,button:x,buttons:w,x:v,y:A,native:B,timestamp:y,screenPoint:G,mapPoint:F,eventId:C,cancelable:D,stopPropagation:()=>r.stopPropagation(),async:K=>r.async(K),preventDefault:()=>r.preventDefault()}};h._wrapDoubleClick=function(r){const {pointerType:z,
button:x,buttons:w,x:v,y:A,native:B,eventId:C}=r.data,{cancelable:D,timestamp:y}=r;return{type:"double-click",pointerType:z,button:x,buttons:w,x:v,y:A,native:B,timestamp:y,mapPoint:this._getMapPoint(v,A),eventId:C,cancelable:D,stopPropagation:()=>r.stopPropagation(),async:G=>r.async(G),preventDefault:()=>r.preventDefault()}};h._wrapImmediateClick=function(r){const {pointerType:z,button:x,buttons:w,x:v,y:A,native:B,eventId:C}=r.data,D=B.pointerId,{cancelable:y,timestamp:G}=r;return{type:"immediate-click",
pointerId:D,pointerType:z,button:x,buttons:w,x:v,y:A,native:B,timestamp:G,mapPoint:this._getMapPoint(v,A),eventId:C,cancelable:y,stopPropagation:()=>r.stopPropagation(),async:F=>r.async(F),preventDefault:()=>r.preventDefault()}};h._wrapImmediateDoubleClick=function(r){const {pointerType:z,button:x,buttons:w,x:v,y:A,native:B,eventId:C}=r.data,D=B.pointerId,{cancelable:y,timestamp:G}=r;return{type:"immediate-double-click",pointerId:D,pointerType:z,button:x,buttons:w,x:v,y:A,native:B,timestamp:G,mapPoint:this._getMapPoint(v,
A),eventId:C,cancelable:y,stopPropagation:()=>r.stopPropagation(),async:F=>r.async(F),preventDefault:()=>r.preventDefault()}};h._wrapHold=function(r){const {pointerType:z,button:x,buttons:w,x:v,y:A,native:B}=r.data,{cancelable:C,timestamp:D}=r;return{type:"hold",pointerType:z,button:x,buttons:w,x:v,y:A,native:B,timestamp:D,mapPoint:this._getMapPoint(v,A),cancelable:C,stopPropagation:()=>r.stopPropagation(),async:y=>r.async(y),preventDefault:()=>r.preventDefault()}};h._getMapPoint=function(r,z){return this.view.toMap(g.createScreenPoint(r,
z),{exclude:[]})};h._wrapDrag=function(r){const z=r.data,{x,y:w}=z.center,{action:v,pointerType:A,button:B}=z;"start"===v&&(this._latestDragStart=z);if(this._latestDragStart){var C=z.pointer.native,D=z.buttons,{cancelable:y,timestamp:G}=r,F={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};"end"===v&&(this._latestDragStart=void 0);return{type:"drag",action:v,x,y:w,origin:F,pointerType:A,button:B,buttons:D,radius:z.radius,angle:f.rad2deg(z.angle),native:C,timestamp:G,cancelable:y,
stopPropagation:()=>r.stopPropagation(),async:K=>r.async(K),preventDefault:()=>r.preventDefault()}}};h._wrapKeyDown=function(r){const {key:z,repeat:x,native:w}=r.data,{cancelable:v,timestamp:A}=r;return{type:"key-down",key:z,repeat:x,native:w,timestamp:A,cancelable:v,stopPropagation:()=>r.stopPropagation(),async:B=>r.async(B),preventDefault:()=>r.preventDefault()}};h._wrapKeyUp=function(r){const {key:z,native:x}=r.data,{cancelable:w,timestamp:v}=r;return{type:"key-up",key:z,native:x,timestamp:v,cancelable:w,
stopPropagation:()=>r.stopPropagation(),async:A=>r.async(A),preventDefault:()=>r.preventDefault()}};h._wrapPointer=function(r,z){const {x,y:w,button:v,buttons:A,native:B,eventId:C}=r.data,D=B.pointerId,y=B.pointerType,{cancelable:G,timestamp:F}=r;return{type:z,x,y:w,pointerId:D,pointerType:y,button:v,buttons:A,native:B,timestamp:F,eventId:C,cancelable:G,stopPropagation:()=>r.stopPropagation(),async:K=>r.async(K),preventDefault:()=>r.preventDefault()}};h._wrapPointerDrag=function(r){const {x:z,y:x,
buttons:w,native:v,eventId:A}=r.data.currentEvent,{button:B}=r.data.startEvent,C=r.data.startEvent.native.pointerId,D=r.data.startEvent.native.pointerType,y=r.data.action,G={x:r.data.startEvent.x,y:r.data.startEvent.y},{cancelable:F,timestamp:K}=r;return{type:"pointer-drag",x:z,y:x,pointerId:C,pointerType:D,button:B,buttons:w,action:y,origin:G,native:v,timestamp:K,eventId:A,cancelable:F,stopPropagation:()=>r.stopPropagation(),async:M=>r.async(M),preventDefault:()=>r.preventDefault()}};h._wrapMouseWheel=
function(r){const {cancelable:z,data:x,timestamp:w}=r,{x:v,y:A,deltaY:B,native:C}=x;return{type:"mouse-wheel",x:v,y:A,deltaY:B,native:C,timestamp:w,cancelable:z,stopPropagation:()=>r.stopPropagation(),async:D=>r.async(D),preventDefault:()=>r.preventDefault()}};h._wrapGamepad=function(r){const {action:z,state:x,device:w}=r.data,{cancelable:v,timestamp:A}=r,{buttons:B,axes:C}=x;return{type:"gamepad",device:w,timestamp:A,action:z,buttons:B,axes:C,cancelable:v,stopPropagation:()=>r.stopPropagation(),
async:D=>r.async(D),preventDefault:()=>r.preventDefault()}};return b._createClass(n)}(q.InputHandler);Object.defineProperty(a,"MouseButton",{enumerable:!0,get:()=>p.MouseButton});a.ViewEvents=e;a.eventTypes=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/IViewEvents":function(){define(["exports"],function(a){a.MouseButton=void 0;var b=a.MouseButton||(a.MouseButton={});b[b.Left=0]="Left";b[b.Middle=1]="Middle";b[b.Right=2]="Right";Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports","../../core/Logger","./interfaces"],function(a,b,c){a.areToolManipulatorsEditable=function(f){return f.visible&&null!=f.getEditableFlag&&f.getEditableFlag(c.EditableFlag.USER)&&f.getEditableFlag(c.EditableFlag.MANAGER)};a.getToolCollectionHandles=function(f){return[f.on("before-add",g=>{const q=g.item;if(null==q||f.includes(q))b.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),
g.preventDefault();else q.onAdd()}),f.on("after-remove",g=>{g=g.item;g.active&&(g.view.activeTool=null);g.destroy()})]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interfaces":function(){define(["exports"],function(a){a.EditableFlag=void 0;(function(b){b[b.USER=0]="USER";b[b.MANAGER=1]="MANAGER"})(a.EditableFlag||(a.EditableFlag={}));a.ManipulatorStateFlags=void 0;(function(b){b[b.None=0]="None";b[b.Unfocused=1]="Unfocused";b[b.Focused=2]="Focused";b[b.Unselected=
4]="Unselected";b[b.Selected=8]="Selected";b[b.All=15]="All"})(a.ManipulatorStateFlags||(a.ManipulatorStateFlags={}));a.ManipulatorStateCustomFlags=void 0;(function(b){b[b.None=0]="None";b[b.Custom1=16]="Custom1";b[b.Custom2=32]="Custom2";b[b.Custom3=64]="Custom3";b[b.Custom4=128]="Custom4";b[b.Custom5=256]="Custom5";b[b.Custom6=512]="Custom6";b[b.Custom7=1024]="Custom7";b[b.Custom8=2048]="Custom8";b[b.Custom9=4096]="Custom9";b[b.Custom10=8192]="Custom10";b[b.Custom11=16384]="Custom11";b[b.Custom12=
32768]="Custom12";b[b.All=65520]="All"})(a.ManipulatorStateCustomFlags||(a.ManipulatorStateCustomFlags={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/iteratorUtils ../../core/MapUtils ../../core/mathUtils ../../core/maybe ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),function(a,b,c,f,g,q,u,p,t){let k=function(){function m(){this._pointerLocations=
new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;this._revertToNullActiveTool=this._stopDrag=!1;this._cursor=null}var e=m.prototype;e.hasFocusedManipulators=function(){return 0<this._grabbedManipulators.size||0<this._draggedManipulators.size};e.handleInputEvent=function(d,l){var n=()=>d.stopPropagation();switch(d.type){case "pointer-move":"mouse"===d.pointerType&&this._pointerLocations.set(d.pointerId,{x:d.x,y:d.y,pointerType:d.pointerType});
break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&(d.stopPropagation(),"end"===d.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===d.pointerType&&0!==d.button)break;n=t.createScreenPointFromEvent(d);var h=this._intersect(n,d.pointerType,l.forEachTool);if(null==h)break;var r=h.manipulator,z=h.tool;null==r||null==z||!r.interactive||r.grabbable&&r.grabbableForEvent(d)||!r.grabbing||r.dragging||this._ungrabManipulatorBeforeDragging(r,d,l);null!=
r&&null!=z&&r.interactive&&r.grabbable&&r.grabbableForEvent(d)&&!r.grabbing&&(this._grabbedManipulators.set(d.pointerId,{manipulator:r,tool:z,start:n,pointerType:d.pointerType}),1===this._grabbedManipulators.size&&null==l.activeTool&&(this._revertToNullActiveTool=!0,l.setActiveTool(h.tool)),r.grabbing=!0,r.events.emit("grab-changed",{action:"start",pointerType:d.pointerType,screenPoint:n}),d.stopPropagation());break;case "pointer-up":this._draggedManipulators.has(d.pointerId)||this._handlePointerEnd(d,
l);break;case "pointer-drag":if("mouse"===d.pointerType&&0!==d.button)break;z=this._grabbedManipulators.get(d.pointerId);n=q.applySome(z,({manipulator:B})=>B);h=q.applySome(z,({tool:B})=>B);if(null==n||null==h)break;r=t.createScreenPointFromEvent(d);r.x=g.clamp(r.x,0,l.view.width);r.y=g.clamp(r.y,0,l.view.height);z=z.start;const x=this._draggedManipulators.get(d.pointerId);switch(d.action){case "start":case "update":if("update"===d.action||1===this._grabbedManipulators.size)n.dragging=!0,x?n.events.emit("drag",
{action:"update",start:z,screenPoint:r}):n.events.emit("drag",{action:"start",start:z,screenPoint:r,pointerType:d.pointerType}),this._draggedManipulators.set(d.pointerId,{tool:h,manipulator:n,start:z});break;case "end":n.dragging=!1,x&&n.events.emit("drag",{action:"end",start:z,screenPoint:r}),this._draggedManipulators.delete(d.pointerId),this._handlePointerEnd(d,l)}d.stopPropagation();break;case "immediate-click":h=t.createScreenPointFromEvent(d);const w=this._intersect(h,d.pointerType,l.forEachTool);
d.native.shiftKey||l.forEachTool(B=>{if((null==w||w.tool!==B||B.automaticManipulatorSelection)&&B.manipulators){let C=!1;B.manipulators.forEach(({manipulator:D})=>{D.selected&&(D.selected=!1,C=!0)});if(C&&B.onManipulatorSelectionChanged)B.onManipulatorSelectionChanged()}});if(null==w)break;const {manipulator:v,tool:A}=w;if(!v.interactive)break;if(v.selectable&&A.automaticManipulatorSelection&&(v.selected=!v.selected,A.onManipulatorSelectionChanged))A.onManipulatorSelectionChanged();v.events.emit("immediate-click",
{screenPoint:h,button:d.button,pointerType:d.pointerType,shiftKey:d.native.shiftKey,stopPropagation:n});break;case "click":n=t.createScreenPointFromEvent(d);h=this._intersect(n,d.pointerType,l.forEachTool);h=null!=h?h.manipulator:null;if(null==h||!h.interactive)break;h.events.emit(d.type,{screenPoint:n,button:d.button,pointerType:d.pointerType,shiftKey:d.native.shiftKey});d.stopPropagation();break;case "double-click":h=t.createScreenPointFromEvent(d);r=this._intersect(h,d.pointerType,l.forEachTool);
r=null!=r?r.manipulator:null;if(null==r||!r.interactive)break;r.events.emit("double-click",{screenPoint:h,button:d.button,pointerType:d.pointerType,shiftKey:d.native.shiftKey,stopPropagation:n});break;case "immediate-double-click":h=t.createScreenPointFromEvent(d),r=this._intersect(h,d.pointerType,l.forEachTool),r=null!=r?r.manipulator:null,null!=r&&r.interactive&&r.events.emit("immediate-double-click",{screenPoint:h,button:d.button,pointerType:d.pointerType,shiftKey:d.native.shiftKey,stopPropagation:n})}this._onFocusChange(l.forEachTool)};
e._ungrabManipulatorBeforeDragging=function(d,l,n){d.grabbing=!1;d.events.emit("grab-changed",{action:"end",pointerType:l.pointerType,screenPoint:t.createScreenPointFromEvent(l)});this._grabbedManipulators.forEach(({manipulator:h},r)=>{h===d&&this._grabbedManipulators.delete(r)});this._afterManipulatorUngrab(n.setActiveTool)};e._handlePointerEnd=function(d,l){const n=q.applySome(this._grabbedManipulators.get(d.pointerId),({manipulator:h})=>h);null!=n&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",
{action:"end",pointerType:d.pointerType,screenPoint:t.createScreenPointFromEvent(d)}),this._grabbedManipulators.delete(d.pointerId),this._afterManipulatorUngrab(l.setActiveTool))};e._cursorFromMap=function(d){let l=null;f.someMap(d,({manipulator:n})=>{if(null!=n&&n.interactive){if(n.grabbing&&n.grabCursor)return l=n.grabCursor,!0;if(n.cursor)return l=n.cursor,!0}return!1});return l};e._onFocusChange=function(d){this._updateCursor();this._updateFocusedManipulatorTools(d)};e._updateCursor=function(){this._cursor=
0<this._grabbedManipulators.size?this._cursorFromMap(this._grabbedManipulators)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators)||"pointer":null};e._updateFocusedManipulatorTools=function(d){const l=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:h})=>{l.add(h)});this._hoveredManipulators.forEach(({tool:h})=>{n.add(h)});d(h=>{h.hasGrabbedManipulators=l.has(h);h.hasHoveredManipulators=n.has(h);var r=this._grabbedManipulators.values();r=c.find(r,
({tool:z})=>z===h);h.firstGrabbedManipulator=null!=r?r.manipulator:null})};e.clearPointers=function(d,{forEachTool:l,setActiveTool:n},h=!0,r){this._grabbedManipulators.forEach(({tool:z,manipulator:x,pointerType:w},v)=>{z!==d||null!=r&&r!==x||(this._grabbedManipulators.delete(v),x.grabbing=!1,x.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:w}))});this._draggedManipulators.forEach(({tool:z,manipulator:x},w)=>{z!==d||null!=r&&r!==x||(this._draggedManipulators.delete(w),x.dragging=
!1,x.events.emit("drag",{action:"cancel"}))});h&&this._hoveredManipulators.forEach(({tool:z,manipulator:x},w)=>{z!==d||null!=r&&r!==x||(this._hoveredManipulators.delete(w),x.hovering=!1)});this._afterManipulatorUngrab(n);this._onFocusChange(l)};e._intersect=function(d,l,n){let h=null;n(r=>{if(null==r.manipulators||!p.areToolManipulatorsEditable(r))return!1;const z=r.manipulators.intersect(d,l);if(null==z)return!1;h={tool:r,manipulator:z};return!0});return h};e.updateHoveredStateFromKnownPointers=
function(d){this._pointerLocations.forEach((l,n)=>{this._updateHoveredStateForPointerAtScreenPosition(u.createScreenPoint(l.x,l.y),n,l.pointerType,d)})};e.handleHoverEvent=function(d,l){"pointer-up"!==d.type&&"immediate-click"!==d.type&&"pointer-move"!==d.type||"mouse"!==d.pointerType||this._updateHoveredStateForPointerAtScreenPosition(t.createScreenPointFromEvent(d),d.pointerId,d.pointerType,l)};e._updateHoveredStateForPointerAtScreenPosition=function(d,l,n,h){d=this._intersect(d,n,h);n=q.applySome(this._hoveredManipulators.get(l),
({manipulator:r})=>r);null==d||d.manipulator.interactive||(d=null);if(null==d||n!==d.manipulator)null!=n&&(n.hovering=!1),null!=d?(d.manipulator.hovering=!0,this._hoveredManipulators.set(l,d)):this._hoveredManipulators.delete(l),this._onFocusChange(h)};e._afterManipulatorUngrab=function(d){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(d(null),this._revertToNullActiveTool=!1)};b._createClass(m,[{key:"cursor",get:function(){return this._cursor}}]);return m}();a.ToolViewManagerManipulatorState=
k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has","../../core/screenUtils"],function(a,b,c){function f(q){return c.createScreenPoint(q.x,q.y)}function g(q,u){return(q=(q instanceof HTMLElement?q:q.surface)?.getBoundingClientRect())?c.createScreenPoint(u.clientX-q.left,u.clientY-q.top):c.createScreenPoint(0,0)}a.createScreenPointArrayFromEvent=function(q){return c.createScreenPointArray(q.x,q.y)};a.createScreenPointFromEvent=
f;a.createScreenPointFromNativeEvent=g;a.createScreenPointFromSupportedEvent=function(q,u){return u instanceof Event?g(q,u):f(u)};a.isSupportedScreenPointEvent=function(q){if(q instanceof Event)return!0;if("object"===typeof q&&"type"in q)switch(q.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/Input":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,f,g,q,u,p,t){c=function(k){function m(){var e=k.apply(this,arguments)||this;e.gamepad=new t;
return e}a._inherits(m,k);return a._createClass(m)}(c);b.__decorate([f.property({readOnly:!0})],c.prototype,"gamepad",void 0);return c=b.__decorate([p.subclass("esri.views.input.Input")],c)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),
function(a,b,c,f,g,q,u,p,t,k){c=function(m){function e(...d){d=m.call(this,...d)||this;d.devices=new f;d.enabledFocusMode="document";return d}a._inherits(e,m);return a._createClass(e)}(c);b.__decorate([g.property({type:f.ofType(k),readOnly:!0})],c.prototype,"devices",void 0);b.__decorate([g.property({type:["document","view","none"]})],c.prototype,"enabledFocusMode",void 0);return c=b.__decorate([t.subclass("esri.views.input.gamepad.GamepadSettings")],c)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,f,g,q,u,p){c=function(m){function e(d){var l=m.call(this)||this;l.nativeIndex=null;l._detectedDeviceType="unknown";"standard"===d.mapping?l._detectedDeviceType="standard":t.test(d.id)?l._detectedDeviceType="spacemouse":l._detectedDeviceType="unknown";l.nativeIndex=d.index;return l}a._inherits(e,m);a._createClass(e,[{key:"native",get:function(){const d=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<d.length?d[this.nativeIndex]:null}},
{key:"deviceType",get:function(){return this._detectedDeviceType}},{key:"axisThreshold",get:function(){return k[this.deviceType]}}]);return e}(c);b.__decorate([f.property({nonNullable:!0,readOnly:!0})],c.prototype,"nativeIndex",void 0);b.__decorate([f.property({type:String,readOnly:!0})],c.prototype,"deviceType",null);b.__decorate([f.property({type:Number,readOnly:!0})],c.prototype,"axisThreshold",null);c=b.__decorate([p.subclass("esri.views.input.gamepad.GamepadInputDevice")],c);const t=RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))",
"i"),k={standard:.15,spacemouse:.025,unknown:0};return c})},"esri/views/navigation/Navigation":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,f,g,q,u,p,t){c=function(k){function m(e){e=k.call(this,e)||this;e.browserTouchPanEnabled=
!0;e.gamepad=new t;e.momentumEnabled=!0;e.mouseWheelZoomEnabled=!0;return e}a._inherits(m,k);return a._createClass(m)}(c);b.__decorate([f.property({type:Boolean})],c.prototype,"browserTouchPanEnabled",void 0);b.__decorate([f.property({type:t,nonNullable:!0})],c.prototype,"gamepad",void 0);b.__decorate([f.property({type:Boolean})],c.prototype,"momentumEnabled",void 0);b.__decorate([f.property({type:Boolean})],c.prototype,"mouseWheelZoomEnabled",void 0);return c=b.__decorate([p.subclass("esri.views.navigation.Navigation")],
c)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),function(a,b,c,f,g,q,u,p,t){c=function(k){function m(e){e=k.call(this,e)||this;e.enabled=!0;e.device=null;
e.mode="pan";e.tiltDirection="forward-down";e.velocityFactor=1;return e}a._inherits(m,k);return a._createClass(m)}(c);b.__decorate([f.property({type:Boolean,nonNullable:!0})],c.prototype,"enabled",void 0);b.__decorate([f.property({type:t})],c.prototype,"device",void 0);b.__decorate([f.property({type:["pan","zoom"],nonNullable:!0})],c.prototype,"mode",void 0);b.__decorate([f.property({type:["forward-down","forward-up"],nonNullable:!0})],c.prototype,"tiltDirection",void 0);b.__decorate([f.property({type:Number,
nonNullable:!0})],c.prototype,"velocityFactor",void 0);return c=b.__decorate([p.subclass("esri.views.navigation.gamepad.GamepadSettings")],c)})},"esri/views/support/DefaultsFromMap":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/asyncUtils ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../geometry/support/heightModelInfoUtils ../ViewingMode ./projectionUtils".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n){a.DefaultsFromMap=function(r){function z(w){w=r.call(this,w)||this;w.required={tileInfo:!1,heightModelInfo:!1,extent:!1};w.defaultSpatialReference=null;w.userSpatialReference=null;w.sourcePreloadCount=10;w.priorityCollection=null;w.requiresExtentInSpatialReference=!0;w.suspended=!1;w._projectExtentTask={task:null,input:null,output:null,spatialReference:null};return w}b._inherits(z,r);var x=z.prototype;x.destroy=function(){this._projectExtentTask.task&&(this._projectExtentTask.task=
q.abortMaybe(this._projectExtentTask.task));this._set("map",null)};x._narrowDownSpatialReferenceCandidates=function(w,v){if(null==w)return v;const A=[];for(const C of w)for(const D of v)if(C.spatialReference.equals(D.spatialReference)){w=C.viewingMode;var B=D.viewingMode;w=null!=w?null!=B?w===B?w:!1:w:B;if(!1!==w){A.push({spatialReference:C.spatialReference,viewingMode:w});break}}return 0<A.length?A:null};x._pickSpatialReferenceCandidate=function(w){const v=this.defaultSpatialReference;if(null==w||
1>w.length)return null!=v?{spatialReference:v,viewingMode:null}:null;null!=v&&1<w.length&&w.some(({spatialReference:A})=>A.equals(v))&&(w=w.filter(({spatialReference:A})=>A.equals(v)));1<w.length&&w.some(({viewingMode:A})=>A!==l.ViewingMode.Local)&&(w=w.filter(({viewingMode:A})=>A!==l.ViewingMode.Local));return w[0]};x._getSupportedSpatialReferences=function(w){var v="supportedSpatialReferences"in w&&w.supportedSpatialReferences||(w.spatialReference?[w.spatialReference]:[]);if(0===v.length)return[];
const A=[];for(const B of v)if(v=this.getSpatialReferenceSupport({spatialReference:B,layer:w}),null!=v){v=null!=v.constraints?v.constraints:[{spatialReference:B,viewingMode:null}];for(const {spatialReference:C,viewingMode:D}of v)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!C.equals(this.userSpatialReference)||A.push({spatialReference:C,viewingMode:D})}return A};x._pickExtentCandidate=function(w){const v=this.spatialReference;return w.find(({extent:A})=>v.equals(A.spatialReference))||
w[0]};x._collectLayers=function(w){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const v=new h;for(const A of w)if(this._collectCollection(A,v),v.preloading===this.sourcePreloadCount)break;return{layers:v.layers,updating:v.updating}};x._collectCollection=function(w,v){if(w.layers){switch(this._loadMaybe(w.parent)){case "loading":v.updating=!0;++v.preloading;return;case "failed":return}for(const A of w.layers){switch(this._loadMaybe(A)){case "failed":continue;case "loading":v.updating=
!0;++v.preloading;break;case "loaded":v.updating||v.layers.push(A),"layers"in A&&this._collectCollection({layers:A.layers},v)}if(v.preloading===this.sourcePreloadCount)break}}};x._loadMaybe=function(w){return w&&"loadStatus"in w&&null!=w.loadStatus?"not-loaded"===w.loadStatus?(w.load().catch(v=>{u.isAbortError(v)||console.log(v)}),"loading"):w.loadStatus:"loaded"};b._createClass(z,[{key:"ready",get:function(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}},
{key:"heightModelInfoReady",get:function(){return!this._heightModelInfoTask.updating}},{key:"spatialReference",get:function(){return null!=this.userSpatialReference?this.userSpatialReference:this._spatialReferenceTask.spatialReference}},{key:"extent",get:function(){return this._extentTask.extent}},{key:"heightModelInfo",get:function(){return this._heightModelInfoTask.heightModelInfo}},{key:"vcsWkid",get:function(){return this._heightModelInfoTask.vcsWkid}},{key:"latestVcsWkid",get:function(){return this._heightModelInfoTask.latestVcsWkid}},
{key:"viewingMode",get:function(){return null==this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}},{key:"tileInfo",get:function(){return this._tileInfoTask.tileInfo}},{key:"mapCollections",get:function(){const w=this.map?.(),v=[];null!=this.priorityCollection&&v.push(this.priorityCollection);v.push({parent:w?.basemap,layers:w?.basemap?.baseLayers},{layers:w?.layers},{parent:w?.ground,layers:w?.ground?.layers},
{parent:w?.basemap,layers:w?.basemap?.referenceLayers});return v}},{key:"_allLayers",get:function(){return this._collectLayers(this.mapCollections)}},{key:"_spatialReferenceTask",get:function(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const {layers:w,updating:v}=this._allLayers;var A=null;for(const C of w){var B=this._getSupportedSpatialReferences(C);0<B.length&&(B=this._narrowDownSpatialReferenceCandidates(A,B),null!=B&&(A=B));if(null!=A&&1===A.length)break}if(v&&
(null==A||1!==A.length))return{updating:!0};A=this._pickSpatialReferenceCandidate(A);return{spatialReference:null!=A?A.spatialReference:null,viewingMode:null!=A?A.viewingMode:null,updating:!1}}},{key:"_tileInfoTask",get:function(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const {layers:w,updating:v}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},
{layers:this.map?.()?.layers}]);if(w&&0<w.length&&"tileInfo"in w[0]){const A=w[0].tileInfo;return{tileInfo:A&&A.spatialReference.equals(this.spatialReference)?A:null,updating:!1}}return{updating:v}}},{key:"_heightModelInfoTask",get:function(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};const {layers:w,updating:v}=this._allLayers;for(const A of w)if(d.supportsHeightModelInfo(A)){const B=
d.deriveHeightModelInfoFromLayer(A);if(B)return{heightModelInfo:B,vcsWkid:A.spatialReference?.vcsWkid,latestVcsWkid:A.spatialReference?.latestVcsWkid,updating:!1}}return{updating:v}}},{key:"_extentCandidatesTask",get:function(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};var w=this._allLayers;const v=w.updating,A=[];for(const C of w.layers){w="fullExtents"in C&&C.fullExtents||
(null!=C.fullExtent?[C.fullExtent]:[]);var B=this.requiresExtentInSpatialReference?null:w[0];if(B=w.find(D=>D.spatialReference.equals(this.spatialReference))??B)return{candidates:[{extent:B,layer:C}],updating:!1};if(0<this._getSupportedSpatialReferences(C).length)for(const D of w)A.push({extent:D,layer:C})}return{candidates:A,updating:v}}},{key:"_extentTask",get:function(){const {candidates:w,updating:v}=this._extentCandidatesTask;if(v)return{updating:v};if(null==w||0===w.length)return{updating:!1};
if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const A=this._pickExtentCandidate(w),B=this.spatialReference;if(A.extent.equals(this._projectExtentTask.input)&&B.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished};null!=this._projectExtentTask.task&&(this._projectExtentTask.task=q.abortMaybe(this._projectExtentTask.task));this._projectExtentTask=
{input:A.extent.clone(),output:null,spatialReference:B.clone(),task:g.createTask(async C=>{try{const D=await n.projectWithEngineOrService(A.extent,B,"portalItem"in A.layer?A.layer.portalItem:void 0,C);this._projectExtentTask={...this._projectExtentTask,task:null,output:D}}catch(D){u.isAborted(C)||(this._projectExtentTask={...this._projectExtentTask,task:null})}})};return{updating:!0}}}]);return z}(f);c.__decorate([p.property()],a.DefaultsFromMap.prototype,"required",void 0);c.__decorate([p.property({constructOnly:!0})],
a.DefaultsFromMap.prototype,"map",void 0);c.__decorate([p.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"getSpatialReferenceSupport",void 0);c.__decorate([p.property()],a.DefaultsFromMap.prototype,"defaultSpatialReference",void 0);c.__decorate([p.property()],a.DefaultsFromMap.prototype,"userSpatialReference",void 0);c.__decorate([p.property()],a.DefaultsFromMap.prototype,"sourcePreloadCount",void 0);c.__decorate([p.property()],a.DefaultsFromMap.prototype,"priorityCollection",void 0);c.__decorate([p.property()],
a.DefaultsFromMap.prototype,"requiresExtentInSpatialReference",void 0);c.__decorate([p.property()],a.DefaultsFromMap.prototype,"suspended",void 0);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"ready",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfoReady",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"spatialReference",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"extent",null);
c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfo",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"vcsWkid",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"latestVcsWkid",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"viewingMode",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"tileInfo",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,
"mapCollections",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_allLayers",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_spatialReferenceTask",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_tileInfoTask",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_heightModelInfoTask",null);c.__decorate([p.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_extentCandidatesTask",null);c.__decorate([p.property()],
a.DefaultsFromMap.prototype,"_extentTask",null);c.__decorate([p.property()],a.DefaultsFromMap.prototype,"_projectExtentTask",void 0);a.DefaultsFromMap=c.__decorate([e.subclass("esri.views.support.DefaultsFromMap")],a.DefaultsFromMap);let h=b._createClass(function(){this.layers=[];this.preloading=-1;this.updating=!1});Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/heightModelInfoUtils":function(){define(["exports","../../core/has","../../core/Error","../HeightModelInfo",
"../../layers/support/arcgisLayerUrl"],function(a,b,c,f,g){function q(l,n,h){if(!u(l)||!u(n))return e.Unsupported;if(null==l||null==n)return e.Ok;if(!h&&l.heightUnit!==n.heightUnit)return e.Units;if(l.heightModel!==n.heightModel)return e.HeightModel;switch(l.heightModel){case "gravity-related-height":return e.Ok;case "ellipsoidal":return l.vertCRS===n.vertCRS?e.Ok:e.CRS;default:return e.Unsupported}}function u(l){return null==l||null!=l.heightModel&&null!=l.heightUnit}function p(l){const n=l.url?
g.parse(l.url):void 0;return(null!=l.spatialReference?.vcsWkid||null==n||"ImageServer"!==n.serverType)&&"heightModelInfo"in l&&l.heightModelInfo?l.heightModelInfo:k(l)?f.deriveUnitFromSR(d,l.spatialReference):null}function t(l){if("unknown"===l.type||!("capabilities"in l))return!1;switch(l.type){case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "oriented-imagery":case "wfs":case "knowledge-graph-sublayer":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case "elevation":case null:return!1;
default:return!1}}function k(l){return t(l)?!!(l.capabilities&&l.capabilities.data&&l.capabilities.data.supportsZ):m(l)}function m(l){switch(l.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":case "voxel":return!0}return!1}var e;(function(l){l[l.Ok=0]="Ok";l[l.Units=1]="Units";l[l.HeightModel=2]="HeightModel";l[l.CRS=3]="CRS";l[l.Unsupported=4]="Unsupported"})(e||(e={}));const d=new f({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=
p;a.rejectLayerError=function(l,n,h){const r=p(l),z=q(r,n,h);if(r){const x=f.deriveUnitFromSR(r,l.spatialReference).heightUnit;if(!h&&x!==r.heightUnit)return n=new c("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${x})`,{horizontalUnit:x}),new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r,error:n})}if(!("heightModelInfo"in l&&null!=l.heightModelInfo||null!=l.spatialReference)&&
k(l)||z===e.Unsupported)return new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r});switch(z){case e.Units:return l=r?.heightUnit||"unknown",h=n?.heightUnit||"unknown",l=new c("layerview:incompatible-height-unit",`The vertical units of the layer (${l}) must match the vertical units of the scene (${h})`,{layerUnit:l,sceneUnit:h}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",
{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:l});case e.HeightModel:return l=r?.heightModel||"unknown",h=n?.heightModel||"unknown",l=new c("layerview:incompatible-height-model",`The height model of the layer (${l}) must match the height model of the scene (${h})`,{layerHeightModel:l,sceneHeightModel:h}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:l});case e.CRS:return l=
r?.vertCRS||"unknown",h=n?.vertCRS||"unknown",l=new c("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${l}) must match the vertical datum of the scene (${h})`,{layerDatum:l,sceneDatum:h}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:l})}return null};a.supportsHeightModelInfo=function(l){return null!=l.layers||m(l)||t(l)||"heightModelInfo"in
l};a.validateWebSceneError=function(l,n){if(!l)return null;if(!u(l))return new c("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:l});const h=l.heightUnit;l=f.deriveUnitFromSR(l,n).heightUnit;return h!==l?new c("webscene:incompatible-height-unit",`The vertical units of the scene (${h}) must match the horizontal units of the scene (${l})`,{verticalUnit:h,horizontalUnit:l}):null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/ViewingMode":function(){define(["exports"],function(a){a.ViewingMode=void 0;(function(b){b[b.Global=1]="Global";b[b.Local=2]="Local"})(a.ViewingMode||(a.ViewingMode={}));a.stringFromViewingMode=function(b){return b===a.ViewingMode.Global?"global":"local"};a.viewingModeFromString=function(b){return"global"===b?a.ViewingMode.Global:a.ViewingMode.Local};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/projectionUtils":function(){define(["require","exports",
"../../core/promiseUtils","../../geometry/projection"],function(a,b,c,f){async function g(t){u||(u=(new Promise((k,m)=>a(["../../portal/support/geometryServiceUtils"],k,m))).then(k=>p=k));await u;c.throwIfAborted(t)}async function q(t,k,m,e){if(!t)return null;const d=t.spatialReference;if(f.isLoaded()||f.canProjectWithoutEngine(d,k))return f.project(t,k);if(p)return p.projectGeometry(t,k,m,e);await Promise.race([g(e),f.load(e)]);return q(t,k,m,e)}let u=null,p;b.projectWithEngineOrService=q;Object.defineProperty(b,
Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewAnimation":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t,k){f=function(m){function e(l){l=m.call(this,l)||this;l.state="running";l.target=null;l._resolver=null;return l}a._inherits(e,
m);var d=e.prototype;d.initialize=function(){this._resolver=g.createResolver();this.addResolvingPromise(this._resolver.promise)};d.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new c("ViewAnimation stopped")))};d.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())};d.update=function(l,n){n||(n=g.isPromiseLike(l)?"waiting-for-target":"running");this._set("target",
l);this._set("state",n)};a._createClass(e,[{key:"done",get:function(){return"finished"===this.state||"stopped"===this.state}}]);return e}(f.EsriPromise);b.__decorate([q.property({readOnly:!0})],f.prototype,"done",null);b.__decorate([q.property({readOnly:!0,type:String})],f.prototype,"state",void 0);b.__decorate([q.property()],f.prototype,"target",void 0);f=b.__decorate([k.subclass("esri.views.ViewAnimation")],f);(f||(f={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};
return f})},"esri/views/layers/LayerView":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/HandleOwner ../../core/Identifiable ../../core/Logger ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,f,g,q,u,p,t,k,m,e,d){c=function(l){function n(r){r=l.call(this,
r)||this;r.layer=null;r.parent=null;return r}a._inherits(n,l);var h=n.prototype;h.initialize=function(){this.when().catch(r=>{if("layerview:create-error"!==r.name){const z=this.layer&&this.layer.id||"no id",x=this.layer&&this.layer.title||"no title";u.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${x}', id: '${z}')`,r)}})};h.canResume=function(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1};h.getSuspendInfo=function(){const r=
this.parent&&this.parent.suspended?this.parent.suspendInfo:{};this.view&&this.view.ready||(r.viewNotReady=!0);this.layer&&this.layer.loaded||(r.layerNotLoaded=!0);this.visible||(r.layerInvisible=!0);return r};h.isUpdating=function(){return!1};a._createClass(n,[{key:"fullOpacity",get:function(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}},{key:"suspended",get:function(){return!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",
get:function(){return!this.suspended&&!0===this.layer?.legendEnabled}},{key:"updating",get:function(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}},{key:"updatingProgress",get:function(){return this.updating?0:1}},{key:"visible",get:function(){return!0===this.layer?.visible},set:function(r){this._overrideIfSome("visible",r)}}]);return n}(g.HandleOwnerMixin(q.IdentifiableMixin(p.EsriPromiseMixin(f.EventedMixin(c)))));b.__decorate([t.property()],c.prototype,"fullOpacity",null);b.__decorate([t.property()],
c.prototype,"layer",void 0);b.__decorate([t.property()],c.prototype,"parent",void 0);b.__decorate([t.property({readOnly:!0})],c.prototype,"suspended",null);b.__decorate([t.property({readOnly:!0})],c.prototype,"suspendInfo",null);b.__decorate([t.property({readOnly:!0})],c.prototype,"legendEnabled",null);b.__decorate([t.property({type:Boolean,readOnly:!0})],c.prototype,"updating",null);b.__decorate([t.property({readOnly:!0})],c.prototype,"updatingProgress",null);b.__decorate([t.property()],c.prototype,
"visible",null);b.__decorate([t.property()],c.prototype,"view",void 0);return c=b.__decorate([d.subclass("esri.views.layers.LayerView")],c)})},"esri/widgets/Widget":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../intl ../core/domUtils ../core/Evented ../core/events ../core/Handles ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ./support/componentsUtils ./support/jsxWidgetSupport ./support/symbols ./support/tests ./support/vnodeCache ./support/widgetUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,c,f,g,q,u,p,t,k,m,e,d,l,n,h,r,z,x,w,v,A,B,C,D,y,G,F,K){function M(L,N){for(const V in N)null!=L[V]&&("object"===typeof L[V]&&"object"===typeof N[V]?M(L[V],N?.[V]):L[V]=N[V]);return L}let O=0;const H=v.createAdvancedProjector({postProcessProjectionOptions(L){const N=L.eventHandlerInterceptor,V=/capture$/i;L.eventHandlerInterceptor=(X,U,P,fa)=>{const Ba=N?.(X,U,P,fa),Aa=V.test(X);X=X.replace(V,"");if(!(X.toLowerCase()in P)||Aa){const ma=X[2].toLowerCase()+X.slice(3),ta=ka=>Ba?.call(P,ka);
P.addEventListener(ma,ta,Aa);const ba=fa.afterRemoved;fa.afterRemoved=ka=>{ba?.(ka);P.removeEventListener(ma,ta,Aa)}}return Ba}},handleInterceptedEvent(L,N,V,X){const {eventPhase:U,type:P}=X,fa=U===Event.CAPTURING_PHASE;let Ba=`on${P}${fa?"capture":""}`;N=N.properties;if(!(N&&Ba in N||(Ba=`on${P[0].toUpperCase()}${P.slice(1)}${fa?"Capture":""}`,N&&Ba in N)))return;y.clearVNodeCache();L.scheduleRender();N[Ba].call(N.bind||V,X)}});let J=!1;g=function(L,N){function V(U,P){var fa=L.call(this,U,P)||this;
fa._attached=!1;fa._internalHandles=new u;fa._projector=H;fa._readyForTrueRender=!1;fa.iconClass="esri-icon-checkbox-unchecked";fa.icon=null;fa.key=a._assertThisInitialized(fa);fa._loadLocale=d.debounce(async()=>{if(fa._messageBundleProps&&fa._messageBundleProps.length){const ta=await d.eachAlways(fa._messageBundleProps.map(async({bundlePath:ba,propertyName:ka})=>{fa.destroyed||(ba=await K.fetchMessageBundle(ba),fa.uiStrings&&Object.keys(fa.uiStrings)&&(ba=M(t.clone(ba),fa.uiStrings)),fa[ka]=ba)}));
if(fa.destroyed)return;for(const ba of ta)ba.error&&k.getLogger(a._assertThisInitialized(fa)).error("widget-intl:locale-error",fa.declaredClass,ba.error)}await fa.loadLocale()});A.commitAssetPath();const Ba="esri-widget-uid-"+n.generateUUID(),Aa=fa.render.bind(a._assertThisInitialized(fa));fa._trackingTarget=new w.SimpleTrackingTarget(()=>fa.scheduleRender());const ma=()=>{if(!fa._readyForTrueRender||fa.destroyed)return null;const ta=Aa();let {properties:ba}=ta;ba||(ta.properties=ba={});const {key:ka}=
ba;ka||(ba.key=Ba);fa.visible?ba.styles||(ba.styles={}):(ba.class="",ba.styles={display:"none"});ba.styles.display||(ba.styles.display="");let Fa=0;ta.children?.forEach(Na=>{if(!B.isWidgetConstructor(Na.vnodeSelector)){var {properties:Qa}=Na;Qa||(Na.properties=Qa={});Qa.key||(Qa.key=`${fa.id}--${Fa++}`)}});return B.processWidgets(a._assertThisInitialized(fa),ta)};fa.render=()=>{if(J)return ma();let ta=y.getVNodeCache(a._assertThisInitialized(fa))??null;if(ta)return ta;fa._trackingTarget.clear();J=
!0;try{ta=x.runTracked(fa._trackingTarget,ma)}catch(ba){throw console.error(ba),ba;}finally{J=!1}ta&&y.setVNodeCache(a._assertThisInitialized(fa),ta);return ta};fa.addResolvingPromise(fa._resourcesFetch=fa.beforeFirstRender().then(()=>{fa._readyForTrueRender=!0;fa._postInitialize()}));D.registerLoading(fa._resourcesFetch);return fa}a._inherits(V,L);var X=V.prototype;X.normalizeCtorArgs=function(U,P){U={...U};P&&(U.container=P);return U};X.postInitialize=function(){};X.beforeFirstRender=function(){return Promise.all([this.loadDependencies(),
this._loadLocale()]).then(()=>{}).catch(d.throwIfNotAbortError)};X.loadDependencies=async function(){};X.loadLocale=async function(){};X.destroy=function(){this.destroyed||(m.destroyMaybe(this._trackingTarget),m.destroyMaybe(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,y.deleteVNodeCache(this))};X.castContainer=function(U){return f.byId(U)};X.render=function(){throw Error("not implemented");
};X.scheduleRender=function(){this.destroyed||(y.deleteVNodeCache(this),this._projector.scheduleRender())};X.classes=function(...U){return G.classes.apply(this,U)};X.renderNow=function(){y.deleteVNodeCache(this);this._projector.renderNow()};X._postInitialize=function(){if(!this.destroyed){this.scheduleRender();this._delegatedEventNames?.length&&this._internalHandles.add(l.watch(()=>this.viewModel,(P,fa)=>{fa&&this._internalHandles.remove("delegated-events");P&&q.isEventTarget(P)&&this._internalHandles.add(this._delegatedEventNames.map(Ba=>
q.on(P,Ba,Aa=>{this.emit(Ba,Aa)})),"delegated-events")},l.initial));this.postInitialize();var U=async()=>{await this._loadLocale().catch(d.throwIfNotAbortError);this.scheduleRender()};this._internalHandles.add([F.onLocaleChange(U),l.watch(()=>this.uiStrings,U),l.when(()=>this.container,P=>{this.destroyed||this._attach(P)},{initial:!0,once:!0})])}};X._attach=function(U){U&&(this._projector.merge(U,this.render),this._attached=!0)};X._detach=function(U){this._attached&&(this._projector.detach(this.render),
this._attached=!1);U?.parentNode?.removeChild(U)};a._createClass(V,[{key:"container",set:function(U){this._get("container")||this._set("container",U)}},{key:"domNode",get:function(){return this.container},set:function(U){this.container=U}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+O++},set:function(U){U&&this._set("id",U)}},{key:"label",get:function(){return this.declaredClass.split(".").pop()},set:function(U){this._overrideIfSome("label",
U)}},{key:"renderable",get:function(){return this._resourcesFetch}},{key:"visible",get:function(){return this._get("visible")},set:function(U){this._set("visible",U)}},{key:N,get:function(){return{projector:this._projector}}}]);return V}(e.EsriPromiseMixin(g.EventedAccessor),(c=C.WIDGET_SYMBOL,C.WIDGET_TEST_DATA_SYMBOL));g[c]=!0;b.__decorate([h.property()],g.prototype,"_readyForTrueRender",void 0);b.__decorate([h.property({value:null})],g.prototype,"container",null);b.__decorate([r.cast("container")],
g.prototype,"castContainer",null);b.__decorate([h.property()],g.prototype,"iconClass",void 0);b.__decorate([h.property()],g.prototype,"icon",void 0);b.__decorate([h.property()],g.prototype,"id",null);b.__decorate([h.property()],g.prototype,"label",null);b.__decorate([h.property()],g.prototype,"renderable",null);b.__decorate([h.property()],g.prototype,"uiStrings",void 0);b.__decorate([h.property()],g.prototype,"viewModel",void 0);b.__decorate([h.property({value:!0})],g.prototype,"visible",null);b.__decorate([h.property()],
g.prototype,"key",void 0);b.__decorate([h.property()],g.prototype,"children",void 0);b.__decorate([h.property()],g.prototype,"afterCreate",void 0);b.__decorate([h.property()],g.prototype,"afterUpdate",void 0);b.__decorate([h.property()],g.prototype,"afterRemoved",void 0);return g=b.__decorate([z.subclass("esri.widgets.Widget")],g)})},"esri/core/domUtils":function(){define(["exports"],function(a){const b=(()=>"function"===typeof Element.prototype.closest?(c,f)=>c.closest(f):(c,f)=>{do{if(c.matches(f))return c;
c=c.parentElement}while(null!==c&&1===c.nodeType);return null})();a.byId=function(c){return"string"===typeof c?document.getElementById(c):c??null};a.closest=b;a.empty=function(c){for(;c.hasChildNodes();)c.removeChild(c.firstChild)};a.insertAfter=function(c,f){const g=f.parentNode;g&&(g.lastChild===f?g.appendChild(c):g.insertBefore(c,f.nextSibling))};a.insertBefore=function(c,f){const g=f.parentNode;g&&g.insertBefore(c,f)};a.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};a.reparent=
function(c,f){for(;;){const g=c.firstChild;if(!g)break;f.appendChild(g)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/projector":function(){define(["exports","../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,c,f,g){const q=(t,k)=>{const m=[];for(;t&&t!==k;)m.push(t),t=t.parentNode;return m},u=(t,k)=>t.find(k),p=(t,k,m=!1)=>{let e=t;k.forEach((d,l)=>{const n=e?.children?u(e.children,h=>h.domNode===
d):void 0;if(!m||n||l===k.length-1)e=n});return e};a.createAdvancedProjector=t=>{let k;const m={...f.defaultAdvancedProjectorOptions,...t},e=g.applyDefaultProjectionOptions(m),d=e.performanceLogger;let l=!0,n,h=!1;const r=[],z=[],x=(v,A,B)=>{let C;e.eventHandlerInterceptor=(y,G,F,K)=>function(M){d("domEvent",M);var O=q(M.currentTarget,C.domNode);const H=O.some(L=>customElements.get(L?.tagName?.toLowerCase()));M.eventPhase!==Event.CAPTURING_PHASE&&H?(O=M.composedPath(),O=O.slice(O.indexOf(M.currentTarget),
O.indexOf(C.domNode)).filter(L=>L.getRootNode()===L.ownerDocument).reverse(),O=p(C.getLastRender(),O,!0)):(O.reverse(),O=p(C.getLastRender(),O));let J;O&&(J=m.handleInterceptedEvent(k,O,this,M));d("domEventProcessed",M);return J};m.postProcessProjectionOptions?.(e);const D=B();C=v(A,D,e);r.push(C);z.push(B);m.afterFirstVNodeRendered&&m.afterFirstVNodeRendered(C,D)};let w=()=>{n=void 0;if(l){l=!1;d("renderStart",void 0);for(let v=0;v<r.length;v++){const A=z[v]();d("rendered",void 0);r[v].update(A);
d("patched",void 0)}d("renderDone",void 0);l=!0}};m.modifyDoRenderImplementation&&(w=m.modifyDoRenderImplementation(w,r,z));return k={renderNow:w,scheduleRender:()=>{n||h||(n=requestAnimationFrame(w))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0);h=!0},resume:()=>{h=!1;l=!0;k.scheduleRender()},append:(v,A)=>{x(b.dom.append,v,A)},insertBefore:(v,A)=>{x(b.dom.insertBefore,v,A)},merge:(v,A)=>{x(b.dom.merge,v,A)},replace:(v,A)=>{x(b.dom.replace,v,A)},detach:v=>{for(let A=0;A<z.length;A++)if(z[A]===
v)return z.splice(A,1),r.splice(A,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,b){const c={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(f,g,q)=>{"-"===g.charAt(0)?f.style.setProperty(g,q):f.style[g]=q}};a.applyDefaultProjectionOptions=f=>b.extend(c,f);a.dom={create:(f,g)=>{g=b.extend(c,g);b.createDom(f,document.createElement("div"),
void 0,g);return b.createProjection(f,g)},append:(f,g,q)=>{q=b.extend(c,q);b.createDom(g,f,void 0,q);return b.createProjection(g,q)},insertBefore:(f,g,q)=>{q=b.extend(c,q);b.createDom(g,f.parentNode,f,q);return b.createProjection(g,q)},merge:(f,g,q)=>{q=b.extend(c,q);g.domNode=f;b.initPropertiesAndChildren(f,g,q);return b.createProjection(g,q)},replace:(f,g,q)=>{q=b.extend(c,q);b.createDom(g,f.parentNode,f,q);f.parentNode.removeChild(f);return b.createProjection(g,q)}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/libs/maquette/projection":function(){define(["exports","../../widgets/support/widgetUtils"],function(a,b){function c(w){if(!(w instanceof Element&&w.tagName.includes("-")))return!1;const v=window.customElements.get(w.tagName.toLowerCase());return!!v&&w instanceof v}let f=[],g=(w,v)=>{let A={};Object.keys(w).forEach(B=>{A[B]=w[B]});v&&Object.keys(v).forEach(B=>{A[B]=v[B]});return A},q=(w,v)=>w.vnodeSelector!==v.vnodeSelector?!1:w.properties&&v.properties?w.properties.key!==
v.properties.key?!1:w.properties.bind===v.properties.bind:!w.properties&&!v.properties,u=w=>{if("string"!==typeof w)throw Error("Style values must be strings");},p=(w,v,A,B)=>{let C=w[v];if(""!==C.vnodeSelector){var D=C.properties;if(!(D&&(void 0===D.key?D.bind:D.key)))for(D=0;D<w.length;D++)if(D!==v&&q(w[D],C))throw Error(`${A.vnodeSelector} had a ${C.vnodeSelector} child ${"added"===B?B:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);
}},t=[],k=!1,m=w=>{(w.children||[]).forEach(m);w.properties&&w.properties.afterRemoved&&w.properties.afterRemoved.apply(w.properties.bind||w.properties,[w.domNode])},e=()=>{k=!1;t.forEach(m);t.length=0},d=w=>{t.push(w);k||(k=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(e,{timeout:16}):setTimeout(e,16))},l=w=>{let v=w.domNode;if(w.properties){let A=w.properties.exitAnimation;if(A){v.style.pointerEvents="none";A(v,()=>{v.parentNode&&(v.parentNode.removeChild(v),
d(w))},w.properties);return}}v.parentNode&&(v.parentNode.removeChild(v),d(w))},n=(w,v,A)=>{if(v){var B=A.eventHandlerInterceptor,C=Object.keys(v),D=C.length;for(let M=0;M<D;M++){var y=C[M];let O=v[y];if("className"===y)throw Error('Property "className" is not supported, use "class".');if("class"===y)x(w,O,!0);else if("classes"===y){y=Object.keys(O);var G=y.length;for(var F=0;F<G;F++){var K=y[F];O[K]&&w.classList.add(K)}}else if("styles"===y)for(y=Object.keys(O),G=y.length,F=0;F<G;F++){K=y[F];let H=
O[K];H&&(u(H),A.styleApplyer(w,K,H))}else"key"!==y&&null!==O&&void 0!==O&&(G=typeof O,"function"===G?(0===y.lastIndexOf("on",0)&&(B&&(O=B(y,O,w,v)),"oninput"===y&&function(){let H=O;O=function(J){H.apply(this,[J]);J.target["oninput-value"]=J.target.value}}()),w[y]=O):"http://www.w3.org/2000/svg"===A.namespace?"href"===y?w.setAttributeNS("http://www.w3.org/1999/xlink",y,O):w.setAttribute(y,O):"string"===G&&"value"!==y?"innerHTML"===y?w[y]=b.renderingSanitizer.sanitize(O):c(w)&&y in w?w[y]=O:w.setAttribute(y,
O):w[y]=O)}}},h=(w,v,A)=>{var B=v.children;if(B)for(let C of B)r(C,w,void 0,A);v.text&&(w.textContent=v.text);n(w,v.properties,A);v.properties&&v.properties.afterCreate&&v.properties.afterCreate.apply(v.properties.bind||v.properties,[w,A,v.vnodeSelector,v.properties,v.children])},r=(w,v,A,B)=>{let C;var D=0;let y=w.vnodeSelector,G=v.ownerDocument;if(""===y)C=w.domNode=G.createTextNode(w.text),void 0!==A?v.insertBefore(C,A):v.appendChild(C);else{for(let K=0;K<=y.length;++K){var F=y.charAt(K);if(K===
y.length||"."===F||"#"===F)F=y.charAt(D-1),D=y.slice(D,K),"."===F?C.classList.add(D):"#"===F?C.id=D:("svg"===D&&(B=g(B,{namespace:"http://www.w3.org/2000/svg"})),void 0!==B.namespace?C=w.domNode=G.createElementNS(B.namespace,D):(C=w.domNode=w.domNode||G.createElement(D),"input"===D&&w.properties&&void 0!==w.properties.type&&C.setAttribute("type",w.properties.type)),void 0!==A?v.insertBefore(C,A):C.parentNode!==v&&v.appendChild(C)),D=K+1}h(C,w,B)}},z,x=(w,v,A)=>{v&&v.split(" ").forEach(B=>{B&&w.classList.toggle(B,
A)})};z=(w,v,A)=>{let B=w.domNode;if(w===v)return!1;let C=!1;if(""===v.vnodeSelector){if(v.text!==w.text)return w=B.ownerDocument.createTextNode(v.text),B.parentNode.replaceChild(w,B),v.domNode=w,!0;v.domNode=B}else{0===v.vnodeSelector.lastIndexOf("svg",0)&&(A=g(A,{namespace:"http://www.w3.org/2000/svg"}));w.text!==v.text&&(C=!0,void 0===v.text?B.removeChild(B.firstChild):B.textContent=v.text);v.domNode=B;var D=w.children;var y=v.children,G=A;if(D===y)D=!1;else{D=D||f;y=y||f;for(var F=D.length,K=
y.length,M=0,O=0,H=!1;O<K;){var J=M<F?D[M]:void 0,L=y[O];if(void 0!==J&&q(J,L))H=z(J,L,G)||H,M++;else{b:{J=D;var N=L,V=M+1;if(""!==N.vnodeSelector)for(;V<J.length;V++)if(q(J[V],N)){J=V;break b}J=-1}if(0<=J){for(;M<J;M++)l(D[M]),p(D,M,v,"removed");H=z(D[J],L,G)||H;M=J+1}else r(L,B,M<F?D[M].domNode:void 0,G),L.properties&&(J=L.properties.enterAnimation)&&J(L.domNode,L.properties),p(y,O,v,"added")}O++}if(F>M)for(;M<F;M++)l(D[M]),p(D,M,v,"removed");D=H}C=D||C;D=w.properties;y=v.properties;G=A;if(y){F=
!1;K=Object.keys(y);O=K.length;for(H=0;H<O;H++)if(J=K[H],L=y[J],M=D[J],"class"===J)M!==L&&(x(B,M,!1),x(B,L,!0));else if("classes"===J){J=B.classList;N=Object.keys(L);V=N.length;for(var X=0;X<V;X++){var U=N[X];let P=!!L[U];P!==!!M[U]&&(F=!0,P?J.add(U):J.remove(U))}}else if("styles"===J)for(J=Object.keys(L),N=J.length,V=0;V<N;V++)X=J[V],U=L[X],U!==M[X]&&(F=!0,U?(u(U),G.styleApplyer(B,X,U)):G.styleApplyer(B,X,""));else L||"string"!==typeof M||(L=""),"value"===J?(N=B[J],N!==L&&(B["oninput-value"]?N===
B["oninput-value"]:L!==M)&&(B[J]=L,B["oninput-value"]=void 0),L!==M&&(F=!0)):L!==M&&(M=typeof L,"function"===M&&G.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===G.namespace?"href"===J?B.setAttributeNS("http://www.w3.org/1999/xlink",J,L):B.setAttribute(J,L):"string"===M?"innerHTML"===J?B[J]=b.renderingSanitizer.sanitize(L):"role"===J&&""===L?B.removeAttribute(J):c(B)&&J in B?B[J]=L:B.setAttribute(J,L):B[J]!==L&&(B[J]=L),F=!0));D=F}else D=void 0;C=D||C;v.properties&&v.properties.afterUpdate&&
v.properties.afterUpdate.apply(v.properties.bind||v.properties,[B,A,v.vnodeSelector,v.properties,v.children])}C&&v.properties&&v.properties.updateAnimation&&v.properties.updateAnimation(B,v.properties,w.properties);return!1};a.createDom=r;a.createProjection=(w,v)=>({getLastRender:()=>w,update:A=>{if(w.vnodeSelector!==A.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let B=w;w=A;z(B,A,v)},domNode:w.domNode});
a.extend=g;a.initPropertiesAndChildren=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widgetUtils":function(){define("exports ../../core/ArrayPool ../../core/handleUtils ../../core/has ../../core/Logger ../../core/reactiveUtils ./vnodeCache".split(" "),function(a,b,c,f,g,q,u){function p(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,
"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,
"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,
"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,
"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,
"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,
"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,
"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,
"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,
overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,
rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,
"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,
visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function t(da){da=da||{};var ra={},wa;for(wa in da)ra[wa]=da[wa];da=ra;da.whiteList=da.whiteList||J.whiteList;da.onAttr=da.onAttr||J.onAttr;da.onIgnoreAttr=da.onIgnoreAttr||
J.onIgnoreAttr;da.safeAttrValue=da.safeAttrValue||J.safeAttrValue;this.options=da}function k(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],
div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align",
"valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function m(da){return da.replace(P,"\x26lt;").replace(fa,"\x26gt;")}function e(da){return da.replace(Ba,"\x26quot;")}function d(da){return da.replace(Aa,'"')}function l(da){return da.replace(ma,function(ra,wa){return"x"===wa[0]||"X"===wa[0]?String.fromCharCode(parseInt(wa.substr(1),16)):String.fromCharCode(parseInt(wa,
10))})}function n(da){return da.replace(ta,":").replace(ba," ")}function h(da){for(var ra="",wa=0,Ma=da.length;wa<Ma;wa++)ra+=32>da.charCodeAt(wa)?" ":da.charAt(wa);return X.trim(ra)}function r(da){da=d(da);da=l(da);da=n(da);return da=h(da)}function z(da){da=e(da);return da=m(da)}function x(da,ra){for(;ra<da.length;ra++){var wa=da[ra];if(" "!==wa)return"\x3d"===wa?ra:-1}}function w(da,ra){for(;ra<da.length;ra++){var wa=da[ra];if(" "!==wa)return"'"===wa||'"'===wa?ra:-1}}function v(da,ra){for(;0<ra;ra--){var wa=
da[ra];if(" "!==wa)return"\x3d"===wa?ra:-1}}function A(da){var ra='"'===da[0]&&'"'===da[da.length-1]||"'"===da[0]&&"'"===da[da.length-1]?!0:!1;return ra?da.substr(1,da.length-2):da}function B(da){var ra=R.spaceIndex(da);if(-1===ra)return{html:"",closing:"/"===da[da.length-2]};da=R.trim(da.slice(ra+1,-1));(ra="/"===da[da.length-1])&&(da=R.trim(da.slice(0,-1)));return{html:da,closing:ra}}function C(da){var ra={},wa;for(wa in da)Array.isArray(da[wa])?ra[wa.toLowerCase()]=da[wa].map(function(Ma){return Ma.toLowerCase()}):
ra[wa.toLowerCase()]=da[wa];return ra}function D(da){da=da||{};var ra={},wa;for(wa in da)ra[wa]=da[wa];da=ra;da.stripIgnoreTag&&(da.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),da.onIgnoreTag=qa.onIgnoreTagStripAll);da.whiteList=da.whiteList||da.allowList?C(da.whiteList||da.allowList):qa.whiteList;da.onTag=da.onTag||qa.onTag;da.onTagAttr=da.onTagAttr||qa.onTagAttr;da.onIgnoreTag=da.onIgnoreTag||qa.onIgnoreTag;da.onIgnoreTagAttr=
da.onIgnoreTagAttr||qa.onIgnoreTagAttr;da.safeAttrValue=da.safeAttrValue||qa.safeAttrValue;da.escapeHtml=da.escapeHtml||qa.escapeHtml;this.options=da;!1===da.css?this.cssFilter=!1:(da.css=da.css||{},this.cssFilter=new S(da.css))}function y(da){da=da?.closest("[dir]");return null!==da&&da instanceof HTMLElement&&"rtl"===da.dir||"rtl"===document.dir}var G=function(da){if("object"!==typeof da||null===da||"[object Object]"!==Object.prototype.toString.call(da))return!1;var ra=Object.getPrototypeOf(da);
if(null===ra)return!0;for(;null!==Object.getPrototypeOf(ra);)ra=Object.getPrototypeOf(ra);return Object.getPrototypeOf(da)===ra},F={exports:{}},K={};f={exports:{}};var M={},O=/javascript\s*:/gim;M.whiteList=p();M.getDefaultWhiteList=p;M.onAttr=function(da,ra,wa){};M.onIgnoreAttr=function(da,ra,wa){};M.safeAttrValue=function(da,ra){return O.test(ra)?"":ra};var H={indexOf:function(da,ra){var wa;if(Array.prototype.indexOf)return da.indexOf(ra);var Ma=0;for(wa=da.length;Ma<wa;Ma++)if(da[Ma]===ra)return Ma;
return-1},forEach:function(da,ra,wa){var Ma;if(Array.prototype.forEach)return da.forEach(ra,wa);var Z=0;for(Ma=da.length;Z<Ma;Z++)ra.call(wa,da[Z],Z,da)},trim:function(da){return String.prototype.trim?da.trim():da.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(da){return String.prototype.trimRight?da.trimRight():da.replace(/(\s*$)/g,"")}},J=M,L=function(da,ra){function wa(){if(!Z){var Pa=H.trim(da.slice(ia,Da)),Ua=Pa.indexOf(":");if(-1!==Ua){var Ra=H.trim(Pa.slice(0,Ua));Ua=H.trim(Pa.slice(Ua+1));
Ra&&(Pa=ra(ia,ya.length,Ra,Ua,Pa))&&(ya+=Pa+"; ")}}ia=Da+1}da=H.trimRight(da);";"!==da[da.length-1]&&(da+=";");for(var Ma=da.length,Z=!1,ia=0,Da=0,ya="";Da<Ma;Da++){var Ka=da[Da];if("/"===Ka&&"*"===da[Da+1]){Ka=da.indexOf("*/",Da+2);if(-1===Ka)break;Da=Ka+1;ia=Da+1;Z=!1}else"("===Ka?Z=!0:")"===Ka?Z=!1:";"===Ka?Z||wa():"\n"===Ka&&wa()}return H.trim(ya)};t.prototype.process=function(da){da=(da||"").toString();if(!da)return"";var ra=this.options,wa=ra.whiteList,Ma=ra.onAttr,Z=ra.onIgnoreAttr,ia=ra.safeAttrValue;
return L(da,function(Da,ya,Ka,Pa,Ua){var Ra=wa[Ka],Xa=!1;!0===Ra?Xa=Ra:"function"===typeof Ra?Xa=Ra(Pa):Ra instanceof RegExp&&(Xa=Ra.test(Pa));!0!==Xa&&(Xa=!1);if(Pa=ia(Ka,Pa)){Da={position:ya,sourcePosition:Da,source:Ua,isWhite:Xa};if(Xa)return Xa=Ma(Ka,Pa,Da),void 0===Xa||null===Xa?Ka+":"+Pa:Xa;Xa=Z(Ka,Pa,Da);if(void 0!==Xa&&null!==Xa)return Xa}})};(function(da,ra){ra=da.exports=function(Ma,Z){return(new t(Z)).process(Ma)};ra.FilterCSS=t;for(var wa in M)ra[wa]=M[wa]})(f,f.exports);var N={indexOf:function(da,
ra){var wa;if(Array.prototype.indexOf)return da.indexOf(ra);var Ma=0;for(wa=da.length;Ma<wa;Ma++)if(da[Ma]===ra)return Ma;return-1},forEach:function(da,ra,wa){var Ma;if(Array.prototype.forEach)return da.forEach(ra,wa);var Z=0;for(Ma=da.length;Z<Ma;Z++)ra.call(wa,da[Z],Z,da)},trim:function(da){return String.prototype.trim?da.trim():da.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(da){return(da=/\s|\n|\t/.exec(da))?da.index:-1}},V=f.exports.getDefaultWhiteList,X=N,U=new f.exports.FilterCSS,P=/</g,
fa=/>/g,Ba=/"/g,Aa=/&quot;/g,ma=/&#([a-zA-Z0-9]*);?/gim,ta=/&colon;?/gim,ba=/&newline;?/gim,ka=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Fa=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Na=/u\s*r\s*l\s*\(.*/gi;K.whiteList=k();K.getDefaultWhiteList=k;K.onTag=function(da,ra,wa){};K.onIgnoreTag=function(da,ra,wa){};K.onTagAttr=function(da,ra,wa){};K.onIgnoreTagAttr=function(da,ra,wa){};K.safeAttrValue=function(da,ra,wa,Ma){wa=r(wa);if("href"===ra||"src"===
ra){wa=X.trim(wa);if("#"===wa)return"#";if("http://"!==wa.substr(0,7)&&"https://"!==wa.substr(0,8)&&"mailto:"!==wa.substr(0,7)&&"tel:"!==wa.substr(0,4)&&"data:image/"!==wa.substr(0,11)&&"ftp://"!==wa.substr(0,6)&&"./"!==wa.substr(0,2)&&"../"!==wa.substr(0,3)&&"#"!==wa[0]&&"/"!==wa[0])return""}else if("background"===ra){if(ka.lastIndex=0,ka.test(wa))return""}else if("style"===ra){Fa.lastIndex=0;if(Fa.test(wa))return"";Na.lastIndex=0;if(Na.test(wa)&&(ka.lastIndex=0,ka.test(wa)))return"";!1!==Ma&&(Ma=
Ma||U,wa=Ma.process(wa))}return wa=z(wa)};K.escapeHtml=m;K.escapeQuote=e;K.unescapeQuote=d;K.escapeHtmlEntities=l;K.escapeDangerHtml5Entities=n;K.clearNonPrintableCharacter=h;K.friendlyAttrValue=r;K.escapeAttrValue=z;K.onIgnoreTagStripAll=function(){return""};K.StripTagBody=function(da,ra){"function"!==typeof ra&&(ra=function(){});var wa=!Array.isArray(da),Ma=[],Z=!1;return{onIgnoreTag:function(ia,Da,ya){var Ka=wa?!0:-1!==X.indexOf(da,ia);if(Ka){if(ya.isClosing)return Ma.push([!1!==Z?Z:ya.position,
ya.position+10]),Z=!1,"[/removed]";Z||(Z=ya.position);return"[removed]"}return ra(ia,Da,ya)},remove:function(ia){var Da="",ya=0;X.forEach(Ma,function(Ka){Da+=ia.slice(ya,Ka[0]);ya=Ka[1]});return Da+=ia.slice(ya)}}};K.stripCommentTag=function(da){for(var ra="",wa=0;wa<da.length;){var Ma=da.indexOf("\x3c!--",wa);if(-1===Ma){ra+=da.slice(wa);break}ra+=da.slice(wa,Ma);wa=da.indexOf("--\x3e",Ma);if(-1===wa)break;wa+=3}return ra};K.stripBlankChar=function(da){da=da.split("");da=da.filter(function(ra){ra=
ra.charCodeAt(0);return 127===ra?!1:31>=ra?10===ra||13===ra?!0:!1:!0});return da.join("")};K.cssFilter=U;K.getDefaultCSSWhiteList=V;var Qa={},I=/[^a-zA-Z0-9\\_:.-]/gim;Qa.parseTag=function(da,ra,wa){var Ma="",Z=0,ia=!1,Da=!1,ya=0,Ka=da.length,Pa="",Ua="";ya=0;a:for(;ya<Ka;ya++)if(Ua=da.charAt(ya),!1===ia)"\x3c"===Ua&&(ia=ya);else if(!1===Da)if("\x3c"===Ua)Ma+=wa(da.slice(Z,ya)),Z=ia=ya;else if("\x3e"===Ua)Ma+=wa(da.slice(Z,ia)),Ua=da.slice(ia,ya+1),Z=void 0,Z=Ua,Pa=N.spaceIndex(Z),Z=-1===Pa?Z.slice(1,
-1):Z.slice(1,Pa+1),Z=N.trim(Z).toLowerCase(),"/"===Z.slice(0,1)&&(Z=Z.slice(1)),"/"===Z.slice(-1)&&(Z=Z.slice(0,-1)),Pa=Z,Ma+=ra(ia,Ma.length,Pa,Ua,"\x3c/"===Ua.slice(0,2)),Z=ya+1,ia=!1;else{if('"'===Ua||"'"===Ua){Pa=1;for(var Ra=da.charAt(ya-Pa);""===Ra.trim()||"\x3d"===Ra;){if("\x3d"===Ra){Da=Ua;continue a}Ra=da.charAt(ya-++Pa)}}}else Ua===Da&&(Da=!1);Z<da.length&&(Ma+=wa(da.substr(Z)));return Ma};Qa.parseAttr=function(da,ra){function wa(Ua,Ra){Ua=N.trim(Ua);Ua=Ua.replace(I,"").toLowerCase();1>
Ua.length||(Ua=ra(Ua,Ra||""))&&ia.push(Ua)}for(var Ma=0,Z=0,ia=[],Da=!1,ya=da.length,Ka=0;Ka<ya;Ka++){var Pa=da.charAt(Ka);if(!1===Da&&"\x3d"===Pa)Da=da.slice(Ma,Ka),Ma=Ka+1,Z='"'===da.charAt(Ma)||"'"===da.charAt(Ma)?Ma:w(da,Ka+1);else{if(!1!==Da&&Ka===Z)if(Pa=da.indexOf(Pa,Ka+1),-1===Pa)break;else{Ma=N.trim(da.slice(Z+1,Pa));wa(Da,Ma);Da=!1;Ka=Pa;Ma=Ka+1;continue}/\s|\n|\t/.test(Pa)&&(da=da.replace(/\s|\n|\t/g," "),!1===Da?(Pa=x(da,Ka),-1===Pa?(Ma=N.trim(da.slice(Ma,Ka)),wa(Ma),Da=!1,Ma=Ka+1):Ka=
Pa-1):(Pa=v(da,Ka-1),-1===Pa&&(Ma=N.trim(da.slice(Ma,Ka)),Ma=A(Ma),wa(Da,Ma),Da=!1,Ma=Ka+1)))}}Ma<da.length&&(!1===Da?wa(da.slice(Ma)):wa(Da,A(N.trim(da.slice(Ma)))));return N.trim(ia.join(" "))};var S=f.exports.FilterCSS,qa=K,W=Qa.parseTag,pa=Qa.parseAttr,R=N;D.prototype.process=function(da){da=(da||"").toString();if(!da)return"";var ra=this.options,wa=ra.whiteList,Ma=ra.onTag,Z=ra.onIgnoreTag,ia=ra.onTagAttr,Da=ra.onIgnoreTagAttr,ya=ra.safeAttrValue,Ka=ra.escapeHtml,Pa=this.cssFilter;ra.stripBlankChar&&
(da=qa.stripBlankChar(da));ra.allowCommentTag||(da=qa.stripCommentTag(da));var Ua=!1;ra.stripIgnoreTagBody&&(Ua=qa.StripTagBody(ra.stripIgnoreTagBody,Z),Z=Ua.onIgnoreTag);da=W(da,function(Ra,Xa,Ta,za,Ha){Ra={sourcePosition:Ra,position:Xa,isClosing:Ha,isWhite:Object.prototype.hasOwnProperty.call(wa,Ta)};Xa=Ma(Ta,za,Ra);if(void 0!==Xa&&null!==Xa)return Xa;if(Ra.isWhite){if(Ra.isClosing)return"\x3c/"+Ta+"\x3e";Ra=B(za);var ab=wa[Ta];Xa=pa(Ra.html,function(cb,xa){var pb=-1!==R.indexOf(ab,cb),tb=ia(Ta,
cb,xa,pb);if(void 0!==tb&&null!==tb)return tb;if(pb)return(xa=ya(Ta,cb,xa,Pa))?cb+'\x3d"'+xa+'"':cb;tb=Da(Ta,cb,xa,pb);if(void 0!==tb&&null!==tb)return tb});za="\x3c"+Ta;Xa&&(za+=" "+Xa);Ra.closing&&(za+=" /");return za+"\x3e"}Xa=Z(Ta,za,Ra);return void 0!==Xa&&null!==Xa?Xa:Ka(za)},Ka);Ua&&(da=Ua.remove(da));return da};(function(da,ra){function wa(Z,ia){return(new Ma(ia)).process(Z)}var Ma=D;ra=da.exports=wa;ra.filterXSS=wa;ra.FilterXSS=Ma;(function(){for(var Z in K)ra[Z]=K[Z];for(var ia in Qa)ra[ia]=
Qa[ia]})();"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=da.exports)})(F,F.exports);f=function(){function da(ra,wa){var Ma=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],
h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),th:"align colspan height nowrap rowspan style valign width".split(" "),u:[],ul:[],
video:"autoplay controls height loop muted poster preload width".split(" ")};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(ia,Da,ya,Ka){return"a"===ia&&"href"===Da||("img"===
ia||"source"===ia)&&"src"===Da?Ma.sanitizeUrl(ya):F.exports.safeAttrValue(ia,Da,ya,Ka)}};this._entityMap={"\x26":"\x26#x38;","\x3c":"\x26#x3C;","\x3e":"\x26#x3E;",'"':"\x26#x22;","'":"\x26#x27;","/":"\x26#x2F;"};if(ra&&!wa)var Z=ra;else ra&&wa?(Z=Object.create(this.arcgisFilterOptions),Object.keys(ra).forEach(function(ia){"whiteList"===ia?Z.whiteList=Ma._extendObjectOfArrays([Ma.arcgisWhiteList,ra.whiteList||{}]):Z[ia]=ra[ia]})):(Z=Object.create(this.arcgisFilterOptions),Z.whiteList=this.arcgisWhiteList);
this.xssFilterOptions=Z;this._xssFilter=new F.exports.FilterXSS(Z)}da.prototype.sanitize=function(ra,wa){void 0===wa&&(wa={});switch(typeof ra){case "number":return isNaN(ra)||!isFinite(ra)?null:ra;case "boolean":return ra;case "string":return this._xssFilter.process(ra);case "object":return this._iterateOverObject(ra,wa);default:if(!wa.allowUndefined||"undefined"!==typeof ra)return null}};da.prototype.sanitizeUrl=function(ra,wa){wa=(null!==wa&&void 0!==wa?wa:{}).isProtocolRequired;wa=void 0===wa?
!0:wa;var Ma=this._trim(ra.substring(0,ra.indexOf(":"))),Z="/"===ra,ia=/^#/.test(ra),Da=Ma&&-1<this.allowedProtocols.indexOf(Ma.toLowerCase());return Z||ia||Da?F.exports.escapeAttrValue(ra):Ma||wa?"":F.exports.escapeAttrValue("https://".concat(ra))};da.prototype.sanitizeHTMLAttribute=function(ra,wa,Ma,Z){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(ra,wa,Ma,Z):F.exports.safeAttrValue(ra,wa,Ma,Z)};da.prototype.validate=function(ra,wa){void 0===wa&&
(wa={});wa=this.sanitize(ra,wa);return{isValid:ra===wa,sanitized:wa}};da.prototype.encodeHTML=function(ra){var wa=this;return String(ra).replace(/[&<>"'\/]/g,function(Ma){return wa._entityMap[Ma]})};da.prototype.encodeAttrValue=function(ra){var wa=/^[a-zA-Z0-9]$/;return String(ra).replace(/[\x00-\xFF]/g,function(Ma,Z){return wa.test(Ma)?Ma:"\x26#x".concat(Number(ra.charCodeAt(Z)).toString(16),";")})};da.prototype._extendObjectOfArrays=function(ra){var wa={};ra.forEach(function(Ma){Object.keys(Ma).forEach(function(Z){Array.isArray(Ma[Z])&&
Array.isArray(wa[Z])?wa[Z]=wa[Z].concat(Ma[Z]):wa[Z]=Ma[Z]})});return wa};da.prototype._iterateOverObject=function(ra,wa){var Ma=this;void 0===wa&&(wa={});try{var Z=!1,ia=void 0;if(Array.isArray(ra))ia=ra.reduce(function(Da,ya){var Ka=Ma.validate(ya,wa);if(Ka.isValid)return Da.concat([ya]);Z=!0;return Da.concat([Ka.sanitized])},[]);else if(G(ra))ia=Object.keys(ra).reduce(function(Da,ya){var Ka=ra[ya],Pa=Ma.validate(Ka,wa);Pa.isValid?Da[ya]=Ka:(Z=!0,Da[ya]=Pa.sanitized);return Da},{});else return wa.allowUndefined&&
"undefined"===typeof ra?void 0:null;return Z?ia:ra}catch(Da){return null}};da.prototype._trim=function(ra){return String.prototype.trim?ra.trim():ra.replace(/(^\s*)|(\s*$)/g,"")};return da}();var Y,la,ja=function(da){if("WebkitTransition"in da.style)Y="webkitTransitionEnd",la="webkitAnimationEnd";else if("transition"in da.style)Y="transitionend",la="animationend";else throw Error("Your browser is not supported!");},sa=function(da,ra){void 0===ra&&(ra=da+"-active");return function(wa){Y||ja(wa);var Ma=
!1,Z=function(ia){Ma||(Ma=!0,wa.removeEventListener(Y,Z),wa.removeEventListener(la,Z),wa.classList.remove(da),wa.classList.remove(ra))};wa.classList.add(da);wa.addEventListener(Y,Z);wa.addEventListener(la,Z);requestAnimationFrame(function(){wa.classList.add(ra)})}},T=function(da,ra){void 0===ra&&(ra=da+"-active");return function(wa,Ma){Y||ja(wa);var Z=!1,ia=function(Da){Z||(Z=!0,wa.removeEventListener(Y,ia),wa.removeEventListener(la,ia),Ma())};wa.classList.add(da);wa.addEventListener(Y,ia);wa.addEventListener(la,
ia);requestAnimationFrame(function(){wa.classList.add(ra)})}};const ha=g.getLogger("esri.widgets.support.widgetUtils");g=(()=>{const da=new Map,ra=new ResizeObserver(Ma=>{u.clearVNodeCache();for(const Z of Ma)da.get(Z.target)?.(Z)}),wa=(Ma,Z,ia)=>{da.has(Ma)&&ha.error("Already observing element",Ma);da.set(Ma,Z);ra.observe(Ma,ia);return c.makeHandle(()=>{ra.unobserve(Ma);da.delete(Ma)})};return(Ma,Z,ia)=>{let Da=null;return q.watch(()=>"function"===typeof Ma?Ma():Ma,ya=>{Da?.remove();ya&&(Da=wa(ya,
Z,ia))},q.syncAndInitial)}})();V="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");const ua=V.reduce((da,ra)=>{da[ra]=[];return da},{}),Ea="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");
f=new f({whiteList:ua,onTagAttr:(da,ra,wa)=>{da=`${ra}="${wa}"`;if(Ea.includes(ra))return da},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);a.additionalAllowedTags=V;a.classes=function(da){const ra=b.acquire();for(var wa=0;wa<arguments.length;wa++){const Ma=arguments[wa],Z=typeof Ma;if("string"===Z)ra.push(Ma);else if(Array.isArray(Ma))ra.push.apply(ra,Ma);else if("object"===Z)for(const ia in Ma)Ma[ia]&&ra.push(ia)}wa=ra.join(" ");b.release(ra);return wa};a.cssTransition=function(da,
ra){return("enter"===da?sa:T)(ra)};a.discardNode=function(da){this[da.getAttribute("data-node-ref")]=null};a.getDir=function(da){return y(da)?"rtl":"ltr"};a.isActivationKey=function(da){return"Enter"===da||" "===da};a.isRTL=y;a.keepMenuItemWithinView=function(da,ra){const wa=da.getBoundingClientRect();ra=ra.getBoundingClientRect();const Ma=wa.top,Z=ra.top;(wa.top+wa.height>ra.top+ra.height||Ma<Z)&&da.scrollIntoView({block:"end"})};a.onResize=g;a.renderingSanitizer=f;a.safeAttrs=Ea;a.storeNode=function(da){this[da.getAttribute("data-node-ref")]=
da};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/vnodeCache":function(){define(["exports"],function(a){const b=new Map;a.clearVNodeCache=function(){b.clear()};a.deleteVNodeCache=function(c){b.delete(c)};a.getVNodeCache=function(c){return b.get(c)};a.setVNodeCache=function(c,f){b.set(c,f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,b){let c;c=Array.prototype.find?
(q,u)=>q.find(u):(q,u)=>q.filter(u)[0];let f=(q,u)=>{let p=q;u.forEach(t=>{p=p&&p.children?c(p.children,k=>k.domNode===t):void 0});return p},g=(q,u,p)=>{let t=function(k){p("domEvent",k);var m=u(),e=k.currentTarget,d=m.domNode;let l=[];for(;e&&e!==d;)l.push(e),e=e.parentNode;l.reverse();m=f(m.getLastRender(),l);q.scheduleRender();let n;m&&(n=m.properties[`on${k.type}`].apply(m.properties.bind||this,arguments));p("domEventProcessed",k);return n};return(k,m,e,d)=>t};a.createProjector=q=>{let u,p=b.applyDefaultProjectionOptions(q),
t=p.performanceLogger,k=!0,m,e=!1,d=[],l=[],n=(r,z,x)=>{let w;p.eventHandlerInterceptor=g(u,()=>w,t);w=r(z,x(),p);d.push(w);l.push(x)},h=()=>{m=void 0;if(k){k=!1;t("renderStart",void 0);for(let r=0;r<d.length;r++){let z=l[r]();t("rendered",void 0);d[r].update(z);t("patched",void 0)}t("renderDone",void 0);k=!0}};return u={renderNow:h,scheduleRender:()=>{m||e||(m=requestAnimationFrame(h))},stop:()=>{m&&(cancelAnimationFrame(m),m=void 0);e=!0},resume:()=>{e=!1;k=!0;u.scheduleRender()},append:(r,z)=>
{n(b.dom.append,r,z)},insertBefore:(r,z)=>{n(b.dom.insertBefore,r,z)},merge:(r,z)=>{n(b.dom.merge,r,z)},replace:(r,z)=>{n(b.dom.replace,r,z)},detach:r=>{for(let z=0;z<l.length;z++)if(l[z]===r)return l.splice(z,1),d.splice(z,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,
c,f,g)=>{b.scheduleRender();return c.properties[`on${g.type}`].apply(c.properties.bind||f,[g])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(c,f,g)=>{c.style[f]=g}};a.applyDefaultProjectionOptions=c=>({...b,...c});Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/componentsUtils":function(){define("exports ../../chunks/dom ../../assets ../../core/has ../../core/urlUtils ../../chunks/index".split(" "),
function(a,b,c,f,g,q){function u(){const {classList:p}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,k=()=>p.contains(b.darkMode)||p.contains(b.autoMode)&&t?"dark":"light",m=d=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:d}}));let e=k();m(e);window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",d=>{d=d.matches?"dark":"light";e!==d&&m(d);e=d});(new MutationObserver(()=>{var d=k();e!==d&&m(d);e=d})).observe(document.body,
{attributes:!0,attributeFilter:["class"]})}(function(){"undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document&&("interactive"===document.readyState?u():document.addEventListener("DOMContentLoaded",()=>u(),{once:!0}))})();a.commitAssetPath=function(){try{q.getAssetPath(".")}catch{q.setAssetPath(g.makeAbsolute(c.getAssetUrl("esri/widgets/support/components/assets")))}};a.loadCalciteComponents=function(p){const t=
[];for(const k of Object.keys(p))customElements.get(`calcite-${k}`)||t.push(p[k]?.());return Promise.all(t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/dom":function(){define(["exports","./guid"],function(a,b){function c(L,N){function V(X){if(X){var U;(U=X.closest(N))||(X=X.getRootNode().host||null,U=V(X));X=U}else X=null;return X}return V(L)}function f(L,N){return g(L,N)}function g(L,N){if(L){var V=N(L);if(void 0!==V)return V;({parentNode:L}=L);return g(L instanceof
ShadowRoot?L.host:L,N)}}async function q(L){if(L)return"function"===typeof L?.setFocus?L.setFocus():L.focus()}function u(L,N){return L?Array.from(L.children||[]).filter(V=>V?.matches(N)):[]}function p(L,N,V){N=":not([slot])"===N?u(L,":not([slot])"):Array.from(L.querySelectorAll(N));N=V&&!1===V.direct?N:N.filter(U=>U.parentElement===L);N=V?.matches?N.filter(U=>U?.matches(V.matches)):N;const X=V?.selector;return X?N.map(U=>Array.from(U.querySelectorAll(X))).reduce((U,P)=>[...U,...P],[]).filter(U=>!!U):
N}function t(L,N,V){N=":not([slot])"===N?u(L,":not([slot])")[0]||null:L.querySelector(N);N=V&&!1===V.direct?N:N?.parentElement===L?N:null;N=V?.matches?N?.matches(V.matches)?N:null:N;return(L=V?.selector)?N?.querySelector(L):N}function k(L){return L.target.assignedElements({flatten:!0})}const m={autoMode:"calcite-mode-auto",darkMode:"calcite-mode-dark",lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",
calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};var e='input:not([inert]) select:not([inert]) textarea:not([inert]) a[href]:not([inert]) button:not([inert]) [tabindex]:not(slot):not([inert]) audio[controls]:not([inert]) video[controls]:not([inert]) [contenteditable]:not([contenteditable\x3d"false"]):not([inert]) details\x3esummary:first-of-type:not([inert]) details:not([inert])'.split(" "),
d=e.join(","),l="undefined"===typeof Element,n=l?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,h=!l&&Element.prototype.getRootNode?function(L){var N;return null===L||void 0===L?void 0:null===(N=L.getRootNode)||void 0===N?void 0:N.call(L)}:function(L){return null===L||void 0===L?void 0:L.ownerDocument},r=function X(N,V){var U;void 0===V&&(V=!0);var P=null===N||void 0===N?void 0:null===(U=N.getAttribute)||void 0===U?void 0:U.call(N,
"inert");return""===P||"true"===P||V&&N&&X(N.parentNode)},z=function(N,V,X){if(r(N))return[];var U=Array.prototype.slice.apply(N.querySelectorAll(d));V&&n.call(N,d)&&U.unshift(N);return U=U.filter(X)},x=function P(V,X,U){for(var fa=[],Ba=Array.from(V);Ba.length;){var Aa=Ba.shift();if(!r(Aa,!1))if("SLOT"===Aa.tagName){var ma=Aa.assignedElements();ma=P(ma.length?ma:Aa.children,!0,U);U.flatten?fa.push.apply(fa,ma):fa.push({scopeParent:Aa,candidates:ma})}else{n.call(Aa,d)&&U.filter(Aa)&&(X||!V.includes(Aa))&&
fa.push(Aa);ma=Aa.shadowRoot||"function"===typeof U.getShadowRoot&&U.getShadowRoot(Aa);var ta=!r(ma,!1)&&(!U.shadowRootFilter||U.shadowRootFilter(Aa));ma&&ta?(ma=P(!0===ma?Aa.children:ma.children,!0,U),U.flatten?fa.push.apply(fa,ma):fa.push({scopeParent:Aa,candidates:ma})):Ba.unshift.apply(Ba,Aa.children)}}return fa},w=function(V,X){if(0>V.tabIndex){if(!(X=X||/^(AUDIO|VIDEO|DETAILS)$/.test(V.tagName))){var U;X=null===V||void 0===V?void 0:null===(U=V.getAttribute)||void 0===U?void 0:U.call(V,"contenteditable");
X=""===X||"true"===X}if(X&&isNaN(parseInt(V.getAttribute("tabindex"),10)))return 0}return V.tabIndex},v=function(V,X){return V.tabIndex===X.tabIndex?V.documentOrder-X.documentOrder:V.tabIndex-X.tabIndex},A=function(V){return"DETAILS"===V.tagName&&Array.prototype.slice.apply(V.children).some(function(X){return"SUMMARY"===X.tagName})},B=function(V,X){for(var U=0;U<V.length;U++)if(V[U].checked&&V[U].form===X)return V[U]},C=function(V){if(!V.name)return!0;var X=V.form||h(V),U=function(fa){return X.querySelectorAll('input[type\x3d"radio"][name\x3d"'+
fa+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)var P=U(window.CSS.escape(V.name));else try{P=U(V.name)}catch(fa){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",fa.message),!1}U=B(P,V.form);return!U||U===V},D=function(V){V=V.getBoundingClientRect();var X=V.height;return 0===V.width&&0===X},y=function(V,X){var U=X.displayCheck;
X=X.getShadowRoot;if("hidden"===getComputedStyle(V).visibility)return!0;var P=n.call(V,"details\x3esummary:first-of-type")?V.parentElement:V;if(n.call(P,"details:not([open]) *"))return!0;if(!U||"full"===U||"legacy-full"===U){if("function"===typeof X){for(P=V;V;){var fa=V.parentElement,Ba=h(V);if(fa&&!fa.shadowRoot&&!0===X(fa))return D(V);V=V.assignedSlot?V.assignedSlot:fa||Ba===V.ownerDocument?fa:Ba.host}V=P}X=V;var Aa;P=X&&h(X);fa=null===(Aa=P)||void 0===Aa?void 0:Aa.host;Aa=!1;if(P&&P!==X){var ma,
ta,ba;for(Aa=!!(null!==(ma=fa)&&void 0!==ma&&null!==(ta=ma.ownerDocument)&&void 0!==ta&&ta.contains(fa)||null!==X&&void 0!==X&&null!==(ba=X.ownerDocument)&&void 0!==ba&&ba.contains(X));!Aa&&fa;){var ka,Fa,Na;P=h(fa);fa=null===(ka=P)||void 0===ka?void 0:ka.host;Aa=!(null===(Fa=fa)||void 0===Fa||null===(Na=Fa.ownerDocument)||void 0===Na||!Na.contains(fa))}}if(Aa)return!V.getClientRects().length;if("legacy-full"!==U)return!0}else if("non-zero-area"===U)return D(V);return!1},G=function(V,X){var U;(U=
X.disabled||r(X))||(U="INPUT"===X.tagName&&"hidden"===X.type);if(!(V=U||y(X,V)||A(X)))a:{if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(X.tagName))for(V=X.parentElement;V;){if("FIELDSET"===V.tagName&&V.disabled){for(U=0;U<V.children.length;U++){var P=V.children.item(U);if("LEGEND"===P.tagName){V=n.call(V,"fieldset[disabled] *")?!0:!P.contains(X);break a}}V=!0;break a}V=V.parentElement}V=!1}return V?!1:!0},F=function(V,X){return"INPUT"===X.tagName&&"radio"===X.type&&!C(X)||0>w(X)||!G(V,X)?!1:!0},K=function(V){V=
parseInt(V.getAttribute("tabindex"),10);return isNaN(V)||0<=V?!0:!1},M=function U(X){var P=[],fa=[];X.forEach(function(Ba,Aa){var ma=!!Ba.scopeParent,ta=ma?Ba.scopeParent:Ba,ba=w(ta,ma),ka=ma?U(Ba.candidates):ta;0===ba?ma?P.push.apply(P,ka):P.push(ta):fa.push({documentOrder:Aa,tabIndex:ba,item:Ba,isScope:ma,content:ka})});return fa.sort(v).reduce(function(Ba,Aa){Aa.isScope?Ba.push.apply(Ba,Aa.content):Ba.push(Aa.content);return Ba},[]).concat(P)},O=function(X,U){U=U||{};X=U.getShadowRoot?x([X],U.includeContainer,
{filter:F.bind(null,U),flatten:!1,getShadowRoot:U.getShadowRoot,shadowRootFilter:K}):z(X,U.includeContainer,F.bind(null,U));return M(X)},H=e.concat("iframe").join(",");const J={getShadowRoot:!0};a.CSS_UTILITY=m;a.autoMode="calcite-mode-auto";a.closestElementCrossShadowBoundary=c;a.containsCrossShadowBoundary=function(X,U){return!!f(U,P=>P===X?!0:void 0)};a.darkMode="calcite-mode-dark";a.ensureId=function(X){return X?X.id=X.id||`${X.tagName.toLowerCase()}-${b.guid()}`:""};a.filterDirectChildren=function(X,
U){return Array.from(X.children).filter(P=>P.matches(U))};a.focusElement=q;a.focusElementInGroup=(X,U,P,fa=!0)=>{U=X.indexOf(U);const Ba=U===X.length-1;fa&&(P="previous"===P&&0===U?"last":"next"===P&&Ba?"first":P);X="previous"===P?X[U-1]||X[fa?X.length-1:U]:"next"===P?X[U+1]||X[fa?0:U]:"last"===P?X[X.length-1]:X[0];q(X);return X};a.focusFirstTabbable=function(X){X&&(O(X,J)[0]||X).focus()};a.focusable=function(X,U){U=U||{};return U.getShadowRoot?x([X],U.includeContainer,{filter:G.bind(null,U),flatten:!0,
getShadowRoot:U.getShadowRoot}):z(X,U.includeContainer,G.bind(null,U))};a.getElementDir=function(X){return(X=c(X,"[dir]"))?X.getAttribute("dir"):"ltr"};a.getElementProp=function(X,U,P){return(X=X.closest(`[${U}]`))?X.getAttribute(U):P};a.getModeName=function(X){return c(X,`.${m.darkMode}, .${m.lightMode}`)?.classList.contains("calcite-mode-dark")?"dark":"light"};a.getShadowRootNode=function(X){X=X.getRootNode();return"host"in X?X:null};a.getSlotted=function(X,U,P){U&&!Array.isArray(U)&&"string"!==
typeof U&&(P=U,U=null);U=U?Array.isArray(U)?U.map(fa=>`[slot="${fa}"]`).join(","):`[slot="${U}"]`:":not([slot])";return P?.all?p(X,U,P):t(X,U,P)};a.intersects=function(X,U){return!(U.left>X.right||U.right<X.left||U.top>X.bottom||U.bottom<X.top)};a.isFocusable=function(X,U){U=U||{};if(!X)throw Error("No node provided");return!1===n.call(X,H)?!1:G(U,X)};a.isPrimaryPointerButton=function(X){return!(!X.isPrimary||0!==X.button)};a.isTabbable=function(X,U){U=U||{};if(!X)throw Error("No node provided");
return!1===n.call(X,d)?!1:F(U,X)};a.nodeListToArray=function(X){return Array.isArray(X)?X:Array.from(X)};a.queryElementRoots=function(X,{selector:U,id:P}){function fa(Ba){if(!Ba)return null;Ba.assignedSlot&&(Ba=Ba.assignedSlot);var Aa=Ba.getRootNode();Ba=P?"getElementById"in Aa?Aa.getElementById(P):null:U?Aa.querySelector(U):null;Aa=Aa.host||null;return Ba?Ba:Aa?fa(Aa):null}return fa(X)};a.setRequestedIcon=function(X,U,P){if("string"===typeof U&&""!==U)return U;if(""===U)return X[P]};a.slotChangeGetAssignedElements=
k;a.slotChangeHasAssignedElement=function(X){return!!k(X).length};a.tabbable=O;a.tabbableOptions=J;a.toAriaBoolean=function(X){return(!!X).toString()}})},"esri/chunks/guid":function(){define(["exports"],function(a){function b(c){return c.map(f=>{let g="";for(let q=0;q<f;q++)g+=(65536*(1+Math.random())|0).toString(16).substring(1);return g}).join("-")}a.guid=()=>b([2,1,1,1,3])})},"esri/chunks/index":function(){define(["exports"],function(a){let b,c,f,g=!1,q=!1,u=!1,p=!1,t=!1;const k=(Z,ia)=>()=>{},
m={},e=Z=>{Z=typeof Z;return"object"===Z||"function"===Z},d=(Z,ia,...Da)=>{let ya=null,Ka=null,Pa=null,Ua=!1,Ra=!1;const Xa=[],Ta=za=>{for(let Ha=0;Ha<za.length;Ha++)if(ya=za[Ha],Array.isArray(ya))Ta(ya);else if(null!=ya&&"boolean"!==typeof ya){if(Ua="function"!==typeof Z&&!e(ya))ya=String(ya);Ua&&Ra?Xa[Xa.length-1].$text$+=ya:Xa.push(Ua?l(null,ya):ya);Ra=Ua}};Ta(Da);if(ia){ia.key&&(Ka=ia.key);ia.name&&(Pa=ia.name);const za=ia.className||ia.class;za&&(ia.class="object"!==typeof za?za:Object.keys(za).filter(Ha=>
za[Ha]).join(" "))}if("function"===typeof Z)return Z(null===ia?{}:ia,Xa,h);Da=l(Z,null);Da.$attrs$=ia;0<Xa.length&&(Da.$children$=Xa);Da.$key$=Ka;Da.$name$=Pa;return Da},l=(Z,ia)=>({$flags$:0,$tag$:Z,$text$:ia,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),n={},h={forEach:(Z,ia)=>Z.map(r).forEach(ia),map:(Z,ia)=>Z.map(r).map(ia).map(z)},r=Z=>({vattrs:Z.$attrs$,vchildren:Z.$children$,vkey:Z.$key$,vname:Z.$name$,vtag:Z.$tag$,vtext:Z.$text$}),z=Z=>{if("function"===typeof Z.vtag){var ia=
Object.assign({},Z.vattrs);Z.vkey&&(ia.key=Z.vkey);Z.vname&&(ia.name=Z.vname);return d(Z.vtag,ia,...(Z.vchildren||[]))}ia=l(Z.vtag,Z.vtext);ia.$attrs$=Z.vattrs;ia.$children$=Z.vchildren;ia.$key$=Z.vkey;ia.$name$=Z.vname;return ia},x=Z=>pa.map(ia=>ia(Z)).find(ia=>!!ia),w=(Z,ia)=>{if(null!=Z&&!e(Z)){if(ia&4)return"false"===Z?!1:""===Z||!!Z;if(ia&2)return parseFloat(Z);if(ia&1)return String(Z)}return Z},v=new WeakMap,A=(Z,ia,Da)=>{let ya=W.get(Z);ha&&Da?(ya=ya||new CSSStyleSheet,"string"===typeof ya?
ya=ia:ya.replaceSync(ia)):ya=ia;W.set(Z,ya)},B=(Z,ia)=>"sc-"+(ia&&Z.$flags$&32?Z.$tagName$+"-"+ia:Z.$tagName$),C=(Z,ia,Da,ya,Ka,Pa)=>{if(Da!==ya){let Xa=ia in Z,Ta=ia.toLowerCase();if("class"===ia){Z=Z.classList;const za=Da?Da.split(D):[],Ha=ya?ya.split(D):[];Z.remove(...za.filter(ab=>ab&&!Ha.includes(ab)));Z.add(...Ha.filter(ab=>ab&&!za.includes(ab)))}else if("style"===ia){for(var Ua in Da)ya&&null!=ya[Ua]||(Ua.includes("-")?Z.style.removeProperty(Ua):Z.style[Ua]="");for(var Ra in ya)Da&&ya[Ra]===
Da[Ra]||(Ra.includes("-")?Z.style.setProperty(Ra,ya[Ra]):Z.style[Ra]=ya[Ra])}else if("key"!==ia)if("ref"===ia)ya&&ya(Z);else if(Z.__lookupSetter__(ia)||"o"!==ia[0]||"n"!==ia[1]){Ua=e(ya);if((Xa||Ua&&null!==ya)&&!Ka)try{if(Z.tagName.includes("-"))Z[ia]=ya;else if(Ra=null==ya?"":ya,"list"===ia)Xa=!1;else if(null==Da||Z[ia]!=Ra)Z[ia]=Ra}catch(za){}Da=!1;Ta!==(Ta=Ta.replace(/^xlink:?/,""))&&(ia=Ta,Da=!0);if(null==ya||!1===ya){if(!1!==ya||""===Z.getAttribute(ia))Da?Z.removeAttributeNS("http://www.w3.org/1999/xlink",
ia):Z.removeAttribute(ia)}else(!Xa||Pa&4||Ka)&&!Ua&&(ya=!0===ya?"":ya,Da?Z.setAttributeNS("http://www.w3.org/1999/xlink",ia,ya):Z.setAttribute(ia,ya))}else ia="-"===ia[2]?ia.slice(3):Ta in R?Ta.slice(2):Ta[2]+ia.slice(3),Da&&ja.rel(Z,ia,Da,!1),ya&&ja.ael(Z,ia,ya,!1)}},D=/\s/,y=(Z,ia,Da,ya)=>{const Ka=11===ia.$elm$.nodeType&&ia.$elm$.host?ia.$elm$.host:ia.$elm$;Z=Z&&Z.$attrs$||m;const Pa=ia.$attrs$||m;for(ya in Z)ya in Pa||C(Ka,ya,Z[ya],void 0,Da,ia.$flags$);for(ya in Pa)C(Ka,ya,Z[ya],Pa[ya],Da,ia.$flags$)},
G=(Z,ia,Da,ya)=>{ia=ia.$children$[Da];let Ka=0,Pa;g||(u=!0,"slot"===ia.$tag$&&(b&&ya.classList.add(b+"-s"),ia.$flags$|=ia.$children$?2:1));if(null!==ia.$text$)ya=ia.$elm$=Y.createTextNode(ia.$text$);else if(ia.$flags$&1)ya=ia.$elm$=Y.createTextNode("");else{p||(p="svg"===ia.$tag$);ya=ia.$elm$=Y.createElementNS(p?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ia.$flags$&2?"slot-fb":ia.$tag$);p&&"foreignObject"===ia.$tag$&&(p=!1);y(null,ia,p);null!=b&&ya["s-si"]!==b&&ya.classList.add(ya["s-si"]=
b);if(ia.$children$)for(Ka=0;Ka<ia.$children$.length;++Ka)(Pa=G(Z,ia,Ka,ya))&&ya.appendChild(Pa);"svg"===ia.$tag$?p=!1:"foreignObject"===ya.tagName&&(p=!0)}ya["s-hn"]=f;ia.$flags$&3&&(ya["s-sr"]=!0,ya["s-cr"]=c,ya["s-sn"]=ia.$name$||"",(Da=Z&&Z.$children$&&Z.$children$[Da])&&Da.$tag$===ia.$tag$&&Z.$elm$&&F(Z.$elm$,!1));return ya},F=(Z,ia)=>{ja.$flags$|=1;Z=Z.childNodes;for(let Da=Z.length-1;0<=Da;Da--){const ya=Z[Da];ya["s-hn"]!==f&&ya["s-ol"]&&((ya["s-ol"]?ya["s-ol"]:ya).parentNode.insertBefore(ya,
ya&&ya["s-ol"]||ya),ya["s-ol"].remove(),ya["s-ol"]=void 0,u=!0);ia&&F(ya,ia)}ja.$flags$&=-2},K=(Z,ia,Da,ya,Ka,Pa)=>{let Ua=Z["s-cr"]&&Z["s-cr"].parentNode||Z,Ra;Ua.shadowRoot&&Ua.tagName===f&&(Ua=Ua.shadowRoot);for(;Ka<=Pa;++Ka)ya[Ka]&&(Ra=G(null,Da,Ka,Z))&&(ya[Ka].$elm$=Ra,Ua.insertBefore(Ra,ia&&ia["s-ol"]||ia))},M=(Z,ia,Da,ya,Ka)=>{for(;ia<=Da;++ia)if(ya=Z[ia])Ka=ya.$elm$,X(ya),q=!0,Ka["s-ol"]?Ka["s-ol"].remove():F(Ka,!0),Ka.remove()},O=(Z,ia)=>Z.$tag$===ia.$tag$?"slot"===Z.$tag$?Z.$name$===ia.$name$:
Z.$key$===ia.$key$:!1,H=(Z,ia)=>{const Da=ia.$elm$=Z.$elm$,ya=Z.$children$,Ka=ia.$children$,Pa=ia.$tag$;var Ua=ia.$text$;if(null===Ua){p="svg"===Pa?!0:"foreignObject"===Pa?!1:p;"slot"!==Pa&&y(Z,ia,p);if(null!==ya&&null!==Ka){var Ra=Ua=Z=0,Xa=0;let za=ya.length-1,Ha=ya[0],ab=ya[za],cb=Ka.length-1,xa=Ka[0],pb=Ka[cb];for(;Z<=za&&Ua<=cb;)if(null==Ha)Ha=ya[++Z];else if(null==ab)ab=ya[--za];else if(null==xa)xa=Ka[++Ua];else if(null==pb)pb=Ka[--cb];else if(O(Ha,xa))H(Ha,xa),Ha=ya[++Z],xa=Ka[++Ua];else if(O(ab,
pb))H(ab,pb),ab=ya[--za],pb=Ka[--cb];else if(O(Ha,pb))"slot"!==Ha.$tag$&&"slot"!==pb.$tag$||F(Ha.$elm$.parentNode,!1),H(Ha,pb),Da.insertBefore(Ha.$elm$,ab.$elm$.nextSibling),Ha=ya[++Z],pb=Ka[--cb];else if(O(ab,xa))"slot"!==Ha.$tag$&&"slot"!==pb.$tag$||F(ab.$elm$.parentNode,!1),H(ab,xa),Da.insertBefore(ab.$elm$,Ha.$elm$),ab=ya[--za],xa=Ka[++Ua];else{Ra=-1;for(Xa=Z;Xa<=za;++Xa)if(ya[Xa]&&null!==ya[Xa].$key$&&ya[Xa].$key$===xa.$key$){Ra=Xa;break}0<=Ra?(Xa=ya[Ra],Xa.$tag$!==xa.$tag$?Ra=G(ya&&ya[Ua],ia,
Ra,Da):(H(Xa,xa),ya[Ra]=void 0,Ra=Xa.$elm$)):Ra=G(ya&&ya[Ua],ia,Ua,Da);xa=Ka[++Ua];if(Ra){Xa=Ha.$elm$;Xa=(Xa["s-ol"]?Xa["s-ol"]:Xa).parentNode;var Ta=Ha.$elm$;Xa.insertBefore.call(Xa,Ra,Ta&&Ta["s-ol"]||Ta)}}Z>za?K(Da,null==Ka[cb+1]?null:Ka[cb+1].$elm$,ia,Ka,Ua,cb):Ua>cb&&M(ya,Z,za)}else null!==Ka?(null!==Z.$text$&&(Da.textContent=""),K(Da,null,ia,Ka,0,Ka.length-1)):null!==ya&&M(ya,0,ya.length-1);p&&"svg"===Pa&&(p=!1)}else(ia=Da["s-cr"])?ia.parentNode.textContent=Ua:Z.$text$!==Ua&&(Da.data=Ua)},J=
Z=>{Z=Z.childNodes;let ia,Da,ya,Ka,Pa,Ua;Da=0;for(ya=Z.length;Da<ya;Da++)if(ia=Z[Da],1===ia.nodeType){if(ia["s-sr"])for(Pa=ia["s-sn"],ia.hidden=!1,Ka=0;Ka<ya;Ka++)if(Ua=Z[Ka].nodeType,Z[Ka]["s-hn"]!==ia["s-hn"]||""!==Pa){if(1===Ua&&Pa===Z[Ka].getAttribute("slot")){ia.hidden=!0;break}}else if(1===Ua||3===Ua&&""!==Z[Ka].textContent.trim()){ia.hidden=!0;break}J(ia)}},L=[],N=Z=>{let ia,Da,ya,Ka,Pa,Ua=0;const Ra=Z.childNodes,Xa=Ra.length;for(;Ua<Xa;Ua++){Z=Ra[Ua];if(Z["s-sr"]&&(ia=Z["s-cr"])&&ia.parentNode)for(Da=
ia.parentNode.childNodes,ya=Z["s-sn"],Pa=Da.length-1;0<=Pa;Pa--)ia=Da[Pa],ia["s-cn"]||ia["s-nr"]||ia["s-hn"]===Z["s-hn"]||(V(ia,ya)?(Ka=L.find(Ta=>Ta.$nodeToRelocate$===ia),q=!0,ia["s-sn"]=ia["s-sn"]||ya,Ka?Ka.$slotRefNode$=Z:L.push({$slotRefNode$:Z,$nodeToRelocate$:ia}),ia["s-sr"]&&L.map(Ta=>{V(Ta.$nodeToRelocate$,ia["s-sn"])&&(Ka=L.find(za=>za.$nodeToRelocate$===ia))&&!Ta.$slotRefNode$&&(Ta.$slotRefNode$=Ka.$slotRefNode$)})):L.some(Ta=>Ta.$nodeToRelocate$===ia)||L.push({$nodeToRelocate$:ia}));1===
Z.nodeType&&N(Z)}},V=(Z,ia)=>1===Z.nodeType?null===Z.getAttribute("slot")&&""===ia||Z.getAttribute("slot")===ia?!0:!1:Z["s-sn"]===ia?!0:""===ia,X=Z=>{Z.$attrs$&&Z.$attrs$.ref&&Z.$attrs$.ref(null);Z.$children$&&Z.$children$.map(X)},U=(Z,ia)=>{const Da=Z.$hostElement$;var ya=Z.$cmpMeta$,Ka=Z.$vnode$||l(null,null);const Pa=ia&&ia.$tag$===n?ia:d(null,null,ia);f=Da.tagName;ya.$attrsToReflect$&&(Pa.$attrs$=Pa.$attrs$||{},ya.$attrsToReflect$.map(([Ua,Ra])=>Pa.$attrs$[Ra]=Da[Ua]));Pa.$tag$=null;Pa.$flags$|=
4;Z.$vnode$=Pa;Pa.$elm$=Ka.$elm$=Da.shadowRoot||Da;b=Da["s-sc"];c=Da["s-cr"];g=0!==(ya.$flags$&1);q=!1;H(Ka,Pa);ja.$flags$|=1;if(u){N(Pa.$elm$);let Ua,Ra;for(ya=0;ya<L.length;ya++)Ka=L[ya],Z=Ka.$nodeToRelocate$,Z["s-ol"]||(Ka=Y.createTextNode(""),Ka["s-nr"]=Z,Z.parentNode.insertBefore(Z["s-ol"]=Ka,Z));for(ya=0;ya<L.length;ya++)if(Ka=L[ya],Z=Ka.$nodeToRelocate$,Ka.$slotRefNode$){ia=Ka.$slotRefNode$.parentNode;Ua=Ka.$slotRefNode$.nextSibling;for(Ka=Z["s-ol"];Ka=Ka.previousSibling;)if((Ra=Ka["s-nr"])&&
Ra["s-sn"]===Z["s-sn"]&&ia===Ra.parentNode&&(Ra=Ra.nextSibling,!Ra||!Ra["s-nr"])){Ua=Ra;break}(Ua||ia===Z.parentNode)&&Z.nextSibling===Ua||Z===Ua||(!Z["s-hn"]&&Z["s-ol"]&&(Z["s-hn"]=Z["s-ol"].parentNode.nodeName),ia.insertBefore(Z,Ua))}else 1===Z.nodeType&&(Z.hidden=!0)}q&&J(Pa.$elm$);ja.$flags$&=-2;L.length=0},P=(Z,ia)=>{Z.$flags$|=16;return Ma(()=>fa(Z,ia))},fa=(Z,ia)=>{const Da=Z.$hostElement$,ya=k("scheduleUpdate",Z.$cmpMeta$.$tagName$);let Ka;Ka=ia?Aa(Da,"componentWillLoad"):Aa(Da,"componentWillUpdate");
Ka=ma(Ka,()=>Aa(Da,"componentWillRender"));ya();return ma(Ka,()=>Ba(Z,Da,ia))},Ba=async(Z,ia,Da)=>{var ya=Z.$hostElement$,Ka=k("update",Z.$cmpMeta$.$tagName$);ya["s-rc"];if(Da){var Pa=Z.$cmpMeta$;Da=Z.$hostElement$;ya=Pa.$flags$;const Ha=k("attachStyles",Pa.$tagName$);var Ua,Ra=Da.shadowRoot?Da.shadowRoot:Da.getRootNode(),Xa;Pa=B(Pa,Z.$modeName$);const ab=W.get(Pa);Ra=11===Ra.nodeType?Ra:Y;if(ab)if("string"===typeof ab){Ra=Ra.head||Ra;let cb=v.get(Ra),xa;cb||v.set(Ra,cb=new Set);if(!cb.has(Pa)){xa=
Y.createElement("style");xa.innerHTML=ab;if(null===(Xa=ja.$nonce$)||void 0===Xa){var Ta,za;Xa=null!==(za=null===(Ta=null===(Ua=Y.head)||void 0===Ua?void 0:Ua.querySelector('meta[name\x3d"csp-nonce"]'))||void 0===Ta?void 0:Ta.getAttribute("content"))&&void 0!==za?za:void 0}Ua=Xa;null!=Ua&&xa.setAttribute("nonce",Ua);Ra.insertBefore(xa,Ra.querySelector("link"));cb&&cb.add(Pa)}}else Ra.adoptedStyleSheets.includes(ab)||(Ra.adoptedStyleSheets=[...Ra.adoptedStyleSheets,ab]);Ua=Pa;ya&10&&(Da["s-sc"]=Ua,
Da.classList.add(Ua+"-h"),ya&2&&Da.classList.add(Ua+"-s"));Ha()}Ua=k("render",Z.$cmpMeta$.$tagName$);try{ia=ia.render&&ia.render(),Z.$flags$&=-17,Z.$flags$|=2,U(Z,ia)}catch(Ha){(0,console.error)(Ha,Z.$hostElement$)}Ua();Ka();Ka=Z.$hostElement$;ia=k("postUpdate",Z.$cmpMeta$.$tagName$);Z.$ancestorComponent$;Aa(Ka,"componentDidRender");Z.$flags$&64?Aa(Ka,"componentDidUpdate"):(Z.$flags$|=64,Aa(Ka,"componentDidLoad"));ia()},Aa=(Z,ia,Da)=>{if(Z&&Z[ia])try{return Z[ia](Da)}catch(ya){(0,console.error)(ya,
void 0)}},ma=(Z,ia)=>Z&&Z.then?Z.then(ia):ia(),ta=(Z,ia,Da,ya)=>{const Ka=qa.get(Z),Pa=Ka.$instanceValues$.get(ia),Ua=Ka.$flags$;Da=w(Da,ya.$members$[ia][0]);const Ra=Number.isNaN(Pa)&&Number.isNaN(Da);Da===Pa||Ra||(Ka.$instanceValues$.set(ia,Da),ya.$watchers$&&Ua&128&&(ya=ya.$watchers$[ia])&&ya.map(Xa=>{try{Z[Xa](Da,Pa,ia)}catch(Ta){(0,console.error)(Ta,Z)}}),2!==(Ua&18)||Z.componentShouldUpdate&&!1===Z.componentShouldUpdate(Da,Pa,ia)||P(Ka,!1))},ba=(Z,ia,Da)=>{if(ia.$members$){Z.watchers&&(ia.$watchers$=
Z.watchers);Da=Object.entries(ia.$members$);const ya=Z.prototype;Da.map(([Pa,[Ua]])=>{(Ua&31||Ua&32)&&Object.defineProperty(ya,Pa,{get(){return qa.get(this).$instanceValues$.get(Pa)},set(Ra){ta(this,Pa,Ra,ia)},configurable:!0,enumerable:!0})});const Ka=new Map;ya.attributeChangedCallback=function(Pa,Ua,Ra){ja.jmp(()=>{const Xa=Ka.get(Pa);if(this.hasOwnProperty(Xa))Ra=this[Xa],delete this[Xa];else if(ya.hasOwnProperty(Xa)&&"number"===typeof this[Xa]&&this[Xa]==Ra)return;this[Xa]=null===Ra&&"boolean"===
typeof this[Xa]?!1:Ra})};Z.observedAttributes=Da.filter(([,Pa])=>Pa[0]&15).map(([Pa,Ua])=>{const Ra=Ua[1]||Pa;Ka.set(Ra,Pa);Ua[0]&512&&ia.$attrsToReflect$.push([Pa,Ra]);return Ra})}return Z},ka=async(Z,ia,Da,ya,Ka)=>{0===(ia.$flags$&32)&&(Ka=Z.constructor,ia.$flags$|=32,customElements.whenDefined(Da.$tagName$).then(()=>ia.$flags$|=128),Ka.style&&(ya=Ka.style,"string"!==typeof ya&&(ya=ya[ia.$modeName$=x(Z)]),Z=B(Da,ia.$modeName$),W.has(Z)||(Ka=k("registerStyles",Da.$tagName$),A(Z,ya,!!(Da.$flags$&
1)),Ka())));ia.$ancestorComponent$;P(ia,!0)},Fa=Z=>{if(0===(ja.$flags$&1)){const ia=qa.get(Z),Da=ia.$cmpMeta$,ya=k("connectedCallback",Da.$tagName$);ia.$flags$&1?I(Z,ia,Da.$listeners$):(ia.$flags$|=1,Da.$flags$&12&&Na(Z),Da.$members$&&Object.entries(Da.$members$).map(([Ka,[Pa]])=>{Pa&31&&Z.hasOwnProperty(Ka)&&(Pa=Z[Ka],delete Z[Ka],Z[Ka]=Pa)}),ka(Z,ia,Da));ya()}},Na=Z=>{const ia=Z["s-cr"]=Y.createComment("");ia["s-cn"]=!0;Z.insertBefore(ia,Z.firstChild)},Qa=Z=>{0===(ja.$flags$&1)&&(Z=qa.get(Z),Z.$rmListeners$&&
(Z.$rmListeners$.map(ia=>ia()),Z.$rmListeners$=void 0))},I=(Z,ia,Da,ya)=>{Da&&Da.map(([Ka,Pa,Ua])=>{const Ra=Ka&4?Y:Ka&8?R:Ka&16?Y.body:Z,Xa=S(ia,Ua),Ta=sa?{passive:0!==(Ka&1),capture:0!==(Ka&2)}:0!==(Ka&2);ja.ael(Ra,Pa,Xa,Ta);(ia.$rmListeners$=ia.$rmListeners$||[]).push(()=>ja.rel(Ra,Pa,Xa,Ta))})},S=(Z,ia)=>Da=>{try{Z.$hostElement$[ia](Da)}catch(ya){(0,console.error)(ya,void 0)}},qa=new WeakMap,W=new Map,pa=[],R="undefined"!==typeof window?window:{};null;const Y=R.document||{head:{}},la=R.HTMLElement||
class{},ja={$flags$:0,$resourcesUrl$:"",jmp:Z=>Z(),raf:Z=>requestAnimationFrame(Z),ael:(Z,ia,Da,ya)=>Z.addEventListener(ia,Da,ya),rel:(Z,ia,Da,ya)=>Z.removeEventListener(ia,Da,ya),ce:(Z,ia)=>new CustomEvent(Z,ia)},sa=(()=>{let Z=!1;try{Y.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Z=!0}}))}catch(ia){}return Z})();a:{try{new CSSStyleSheet;var T="function"===typeof(new CSSStyleSheet).replaceSync;break a}catch(Z){}T=!1}const ha=T,ua=[],Ea=[];T=(Z,ia)=>Da=>{Z.push(Da);t||(t=!0,
ia&&ja.$flags$&4?(Da=ra,Promise.resolve(void 0).then(Da)):ja.raf(ra))};const da=Z=>{for(let ia=0;ia<Z.length;ia++)try{Z[ia](performance.now())}catch(Da){(0,console.error)(Da,void 0)}Z.length=0},ra=()=>{da(ua);da(Ea);(t=0<ua.length)&&ja.raf(ra)},wa=T(ua,!1),Ma=T(Ea,!0);a.Build={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1};a.Fragment=(Z,ia)=>ia;a.H=la;a.Host=n;a.createEvent=(Z,ia,Da)=>({emit:ya=>{ya=ja.ce(ia,{bubbles:!!(Da&4),composed:!!(Da&2),cancelable:!!(Da&1),detail:ya});Z.dispatchEvent(ya);
return ya}});a.forceUpdate=Z=>{Z=qa.get(Z);const ia=Z.$hostElement$.isConnected;ia&&2===(Z.$flags$&18)&&P(Z,!1);return ia};a.getAssetPath=Z=>{Z=new URL(Z,ja.$resourcesUrl$);return Z.origin!==R.location.origin?Z.href:Z.pathname};a.h=d;a.proxyCustomElement=(Z,ia)=>{const Da={$flags$:ia[0],$tagName$:ia[1]};Da.$members$=ia[2];Da.$listeners$=ia[3];Da.$watchers$=Z.$watchers$;Da.$attrsToReflect$=[];const ya=Z.prototype.connectedCallback,Ka=Z.prototype.disconnectedCallback;Object.assign(Z.prototype,{__registerHost(){const Pa=
{$flags$:0,$hostElement$:this,$cmpMeta$:Da,$instanceValues$:new Map};I(this,Pa,Da.$listeners$);qa.set(this,Pa)},connectedCallback(){Fa(this);ya&&ya.call(this)},disconnectedCallback(){Qa(this);Ka&&Ka.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(Da.$flags$&16)})}});Z.is=Da.$tagName$;return ba(Z,Da)};a.readTask=wa;a.setAssetPath=Z=>ja.$resourcesUrl$=Z})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports","../../core/handleUtils","./symbols"],function(a,
b,c){function f(e,d){let l=d.children;if(l&&l.length)for(var n=0;n<l.length;++n)l[n]=f(e,l[n]);else l=t;n=d.vnodeSelector;if(p(n)){d=d.properties||k;const h=d.key||n;return{vnodeSelector:"div",properties:{key:h,afterCreate:g,afterUpdate:q,afterRemoved:u,parentWidget:e,widgetConstructor:n,widgetProperties:{...d,key:h,children:l}},children:void 0,text:void 0,domNode:null}}return d}function g(e,d,l,{parentWidget:n,widgetConstructor:h,widgetProperties:r}){d=new h(r);d.container=e;m.set(e,d);d.afterCreate?.(d,
e);n._internalHandles.add(b.makeHandle(()=>u(e)))}function q(e,d,l,{widgetProperties:n}){if(d=m.get(e))d.set(n),d.afterUpdate?.(d,e)}function u(e){const d=m.get(e);d&&(d.afterRemoved?.(d,e),d.destroy(),m.delete(e))}function p(e){return"function"===typeof e&&e[c.WIDGET_SYMBOL]}const t=[],k={},m=new WeakMap;a.isWidgetConstructor=p;a.processWidgets=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/symbols":function(){define(["exports"],function(a){const b=Symbol("widget"),
c=Symbol("widget-test-data");a.WIDGET_SYMBOL=b;a.WIDGET_TEST_DATA_SYMBOL=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/tests":function(){define(["exports"],function(a){const b=new Set;a.hasPendingLoading=function(){return 0<b.size};a.registerLoading=function(c){b.add(c);c.finally(()=>b.delete(c))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/vmEvent ./jsxFactory ./widgetUtils ../../support/themeUtils".split(" "),
function(a,b,c,f,g,q,u){a.accessibleHandler=b.accessibleHandler;a.messageBundle=c.messageBundle;a.vmEvent=f.vmEvent;a.tsx=g.tsx;a.tsxFragment=g.tsxFragment;a.additionalAllowedTags=q.additionalAllowedTags;a.classes=q.classes;a.cssTransition=q.cssTransition;a.discardNode=q.discardNode;a.getDir=q.getDir;a.isActivationKey=q.isActivationKey;a.isRTL=q.isRTL;a.keepMenuItemWithinView=q.keepMenuItemWithinView;a.onResize=q.onResize;a.renderingSanitizer=q.renderingSanitizer;a.safeAttrs=q.safeAttrs;a.storeNode=
q.storeNode;a.getCalciteThemeClass=u.getCalciteThemeClass;a.isDarkTheme=u.isDarkTheme;a.setCalciteThemeClass=u.setCalciteThemeClass;a.hasDomNode=function(p){return p&&"function"===typeof p.postMixInProperties&&"function"===typeof p.buildRendering&&"function"===typeof p.postCreate&&"function"===typeof p.startup};a.isWidget=function(p){return p&&"function"===typeof p.render};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports",
"../widgetUtils"],function(a,b){function c(f){return function(g,...q){const u=g?.type;g instanceof KeyboardEvent||"keyup"===u||"keydown"===u||"keypress"===u?b.isActivationKey(g.key)&&(g.preventDefault(),g.stopPropagation(),g.target.click()):f.call(this,g,...q)}}a.accessibleHandler=function(){return function(f,g){if(!f[g])throw new TypeError(`Cannot auto bind undefined function '${String(g)}'`);return{value:c(f[g])}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],
function(a){a.messageBundle=function(b){return(c,f)=>{c.hasOwnProperty("_messageBundleProps")||(c._messageBundleProps=c._messageBundleProps?c._messageBundleProps.slice():[]);c._messageBundleProps.push({bundlePath:b,propertyName:f})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports"],function(a){function b(c){return c.split(",").map(f=>f.trim())}a.vmEvent=function(c){return f=>{f.hasOwnProperty("_delegatedEventNames")||
(f._delegatedEventNames=f._delegatedEventNames?f._delegatedEventNames.slice():[]);f=f._delegatedEventNames;const g=Array.isArray(c)?c:b(c);f.push(...g)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var c=function(g,q){for(var u=0,p=g.length;u<p;u++){var t=g[u];Array.isArray(t)?c(t,q):null!==t&&void 0!==t&&!1!==t&&(t.hasOwnProperty("vnodeSelector")||(t={vnodeSelector:"",properties:void 0,
children:void 0,text:t.toString(),domNode:null}),q.push(t))}},f=function(g,q){for(var u=[],p=2;p<arguments.length;p++)u[p-2]=arguments[p];if(1===u.length&&"string"===typeof u[0])return{vnodeSelector:g,properties:q||void 0,children:void 0,text:u[0],domNode:null};p=[];c(u,p);return{vnodeSelector:g,properties:q||void 0,children:p,text:void 0,domNode:null}};a.tsx=function(g,q,...u){return"function"!==typeof g||b.isWidgetConstructor(g)?f(g,q,...u):g(q,...u)};a.tsxFragment=function(...g){return g};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/support/themeUtils":function(){define(["exports"],function(a){function b(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"").startsWith("dark")}function c(){return`${"calcite-mode-"}${b()?"dark":"light"}`}function f(g){Array.from(g.classList).forEach(q=>{q.startsWith("calcite-mode-")&&g.classList.remove(q)})}a.getCalciteThemeClass=c;a.isDarkTheme=b;a.setCalciteThemeClass=function(g){f(g);g.classList.add(c())};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});require.boot&&require.apply(null,require.boot);