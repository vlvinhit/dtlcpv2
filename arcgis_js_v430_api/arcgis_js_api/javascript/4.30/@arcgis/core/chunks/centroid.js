/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
function t(t,n){return t?n?4:3:n?3:2}function n(n,N,l,s){if(!N?.lengths.length)return null;n.lengths.length&&(n.lengths.length=0),n.coords.length&&(n.coords.length=0);const c=n.coords,T=[],f=l?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:h,coords:g}=N,i=t(l,s);let E=0;for(const t of h){const n=e(f,g,E,t,l,s);n&&T.push(n),E+=t*i}if(T.sort(((t,n)=>{let e=t[2]-n[2];return 0===e&&l&&(e=t[4]-n[4]),e})),T.length){let t=6*T[0][2];c[0]=T[0][0]/t,c[1]=T[0][1]/t,l&&(t=6*T[0][4],c[2]=0!==t?T[0][3]/t:0),(c[0]<f[0]||c[0]>f[1]||c[1]<f[2]||c[1]>f[3]||l&&(c[2]<f[4]||c[2]>f[5]))&&(c.length=0)}if(!c.length){const n=N.lengths[0]?function(n,e,N,l,s){const c=t(l,s);let T=0,f=0+c,h=0,g=0,i=0,E=0;for(let t=0,e=N-1;t<e;t++,T+=c,f+=c){const t=n[T],e=n[T+1],N=n[T+2],s=n[f],c=n[f+1],b=n[f+2],m=l?I(t,e,N,s,c,b):r(t,e,s,c);if(m)if(h+=m,l){const n=o(t,e,N,s,c,b);g+=m*n[0],i+=m*n[1],E+=m*n[2]}else{const n=u(t,e,s,c);g+=m*n[0],i+=m*n[1]}}return h>0?l?[g/h,i/h,E/h]:[g/h,i/h]:N>0?l?[n[0],n[1],n[2]]:[n[0],n[1]]:null}(g,0,h[0],l,s):null;if(!n)return null;c[0]=n[0],c[1]=n[1],l&&n.length>2&&(c[2]=n[2])}return n}function e(n,e,r,I,u,o){const N=t(u,o);let l=r,s=r+N,c=0,T=0,f=0,h=0,g=0;for(let t=0,r=I-1;t<r;t++,l+=N,s+=N){const t=e[l],r=e[l+1],I=e[l+2],o=e[s],N=e[s+1],i=e[s+2];let E=t*N-o*r;h+=E,c+=(t+o)*E,T+=(r+N)*E,u&&(E=t*i-o*I,f+=(I+i)*E,g+=E),t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t),r<n[2]&&(n[2]=r),r>n[3]&&(n[3]=r),u&&(I<n[4]&&(n[4]=I),I>n[5]&&(n[5]=I))}if(h>0&&(h*=-1),g>0&&(g*=-1),!h)return null;const i=[c,T,.5*h];return u&&(i[3]=f,i[4]=.5*g),i}function r(t,n,e,r){const I=e-t,u=r-n;return Math.sqrt(I*I+u*u)}function I(t,n,e,r,I,u){const o=r-t,N=I-n,l=u-e;return Math.sqrt(o*o+N*N+l*l)}function u(t,n,e,r){return[t+.5*(e-t),n+.5*(r-n)]}function o(t,n,e,r,I,u){return[t+.5*(r-t),n+.5*(I-n),e+.5*(u-e)]}export{n as g};
