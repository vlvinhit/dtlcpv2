/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{d as t}from"./mathUtils.js";import{t as s,c as n,l as r}from"./mat4.js";import{c as o}from"./vec3f64.js";import{c as a,s as u,d as i,P as E,b as c}from"./projectBuffer.js";import{f}from"./unitUtils.js";function C(t,s,n){const r=Math.sin(t),o=Math.cos(t),a=Math.sin(s),u=Math.cos(s),i=n;return i[0]=-r,i[4]=-a*o,i[8]=u*o,i[12]=0,i[1]=o,i[5]=-a*r,i[9]=u*r,i[13]=0,i[2]=0,i[6]=u,i[10]=a,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1,i}function l(t,o,l,R){if(null==t||null==R)return!1;const e=a(t,u),P=a(R,i);if(e===P&&!A(P)&&(e!==E.UNKNOWN||f(t,R)))return n(l,o),!0;if(A(P)){const t=c[e][E.LON_LAT],s=c[E.LON_LAT][P];return null!=t&&null!=s&&(t(o,0,_,0),s(_,0,m,0),C(L*_[0],L*_[1],l),l[12]=m[0],l[13]=m[1],l[14]=m[2],!0)}if(!(P!==E.WEB_MERCATOR&&P!==E.PLATE_CARREE&&P!==E.WGS84&&P!==E.CGCS2000||e!==E.WGS84&&e!==E.SPHERICAL_ECEF&&e!==E.WEB_MERCATOR&&e!==E.CGCS2000)){const t=c[e][E.LON_LAT],n=c[E.LON_LAT][P];return null!=t&&null!=n&&(t(o,0,_,0),n(_,0,m,0),e===E.SPHERICAL_ECEF?function(t,n,r){C(t,n,r),s(r,r)}(L*_[0],L*_[1],l):r(l),l[12]=m[0],l[13]=m[1],l[14]=m[2],!0)}return!1}function A(t){return t===E.SPHERICAL_ECEF||t===E.SPHERICAL_MARS_PCPF||t===E.SPHERICAL_MOON_PCPF}const L=t(1),_=o(),m=o();export{C as a,l as c};
