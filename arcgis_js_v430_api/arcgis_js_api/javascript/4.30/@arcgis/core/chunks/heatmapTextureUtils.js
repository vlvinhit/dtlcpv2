/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import e from"../core/Error.js";import{b as t,c as r,d as o,S as a}from"./enums.js";class l{constructor(e,t,r,o){this.dataType=e,this.samplingMode=t,this.pixelFormat=r,this.internalFormat=o}}function n(n,s){const{textureFloatLinear:i,colorBufferFloat:f}=n.capabilities,u=f?.textureFloat,_=f?.textureHalfFloat,c=f?.floatBlend,d=n.driverTest.floatBufferBlend.result;if(!u&&!_)throw new e("heatmap:missing-color-buffer-float","HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");if(!(c&&d||_))throw new e("heatmap:missing-float-blend","HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float."+(d?"":" This device claims support for EXT_float_blend, but does not actually support it."));const m=u&&c&&d,p=_,h=i,b=!!f?.R32F,R=!!f?.R16F;if(m&&h)return h||s.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."),new l(t.FLOAT,h?r.LINEAR:r.NEAREST,b?o.RED:o.RGBA,b?a.R32F:o.RGBA);if(p)return new l(t.HALF_FLOAT,r.LINEAR,R?o.RED:o.RGBA,R?a.R16F:o.RGBA);throw new e("heatmap:missing-hardware-support","HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.")}export{n as l};
