/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import e from"../config.js";const t="arial-unicode-ms",n="woff2",r=new Map,s=new Set;class o{constructor(e,t){this.fontFace=e,this.promise=t}}async function a(a){const i=function(e){const n=f(e)+l(e);return(e.family||t)+(n.length>0?n:"-regular")}(a),c=u(a),d=r.get(i);if(d)return d.promise;const w=new FontFace(a.family,`url('${e.fontsUrl}/woff2/${c}.${n}') format('${n}')`,{style:a.style,weight:a.weight}),h=document.fonts;if(h.has(w)&&"loading"===w.status)return w.loaded;const m=w.load().then((()=>(h.add(w),w)));return r.set(i,new o(w,m)),s.add(w),m}function i(e){return s.has(e)}function c(e){if(!e)return t;const n=e.toLowerCase().split(" ").join("-");switch(n){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return n}}function u(e){const t=f(e)+l(e);return c(e.family)+(t.length>0?t:"-regular")}function f(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}function l(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}export{u as a,t as d,c as g,i,a as l};
