/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{b as t}from"./quantityUtils.js";import{a3 as o}from"./unitUtils.js";import{e as r}from"./earcut.js";import{s as n,o as s,k as e}from"./vec3.js";import{c as i}from"./vec3f64.js";import{p as a}from"./projectVectorToVector.js";import{f as l,w as f,g as c,p as u}from"./plane.js";import{a as p}from"./triangle.js";import{c as m}from"./euclideanLengthMeasurementUtils.js";function g(r,g={positionsWorldCoords:[]}){return function(r,g,d=r.hasZ){const C=m(r.spatialReference),U=o(C);if(null==U)return null;let W=0;for(const t of r.rings){const o=t.length;if(o<3)continue;const{positionsWorldCoords:m}=g;for(;m.length<o;)m.push(i());const U=j,R=n(h,0,0,0),V=1/o;for(let e=0;e<o;e++){if(w=U,(y=t[e]).length<2||(n(w,y[0],y[1],d&&y[2]||0),0))return null;if(!a(U,r.spatialReference,m[e],C))return null;s(R,R,m[e],V)}const b=l(m[0],m[1],R,f());if(0===e(c(b)))continue;for(let t=0;t<o;t++)u(b,R,m[t],m[t]);const k=v(m);for(let t=0;t<k.length;t+=3)W+=p(m[k[t]],m[k[t+1]],m[k[t+2]])}var w,y;return t(W,U)}(r,g,!1)}const j=i(),h=i();function d(){return{positionsWorldCoords:[]}}function v(t){return r(function(t){const o=new Float64Array(2*t.length);for(let r=0;r<t.length;++r){const n=t[r],s=2*r;o[s]=n[0],o[s+1]=n[1]}return o}(t),[],2)}export{d as c,g as e,v as t};
