/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{O as T,a as _,g as O,e as R}from"./ray.js";import{m as r,i as n}from"./mat4.js";import{i as t,b as A,l as E,s as F}from"./vec3.js";import{c as a}from"./vec3f64.js";import{t as o}from"./vec4.js";import{f as s}from"./vec4f64.js";import{c,h as e,a as f,x as i,f as u,y as M,z as B,A as N}from"./plane.js";function G(T){return T?{ray:_(T.ray),c0:T.c0,c1:T.c1}:{ray:_(),c0:0,c1:Number.MAX_VALUE}}function H(T,_=G()){return O(T,_.ray),_.c0=0,_.c1=Number.MAX_VALUE,_}function I(T,_){return P(T,T.c0,_)}function L(T,_){return P(T,T.c1,_)}function P(T,_,O){return t(O,T.ray.origin,A(O,T.ray.direction,_))}function m(T){return[c(),c(),c(),c(),c(),c()]}function p(){return[a(),a(),a(),a(),a(),a(),a(),a()]}function l(T,_){for(let O=0;O<X;O++)e(T[O],_[O]);return T}function g(T,_,O,R=C){const t=r(f.get(),_,T);n(t,t);for(let T=0;T<k;++T){const _=o(i.get(),q[T],t);F(R[T],_[0]/_[3],_[1]/_[3],_[2]/_[3])}y(O,R)}function y(T,_){u(_[U.FAR_BOTTOM_LEFT],_[U.NEAR_BOTTOM_LEFT],_[U.NEAR_TOP_LEFT],T[x.LEFT]),u(_[U.NEAR_BOTTOM_RIGHT],_[U.FAR_BOTTOM_RIGHT],_[U.FAR_TOP_RIGHT],T[x.RIGHT]),u(_[U.FAR_BOTTOM_LEFT],_[U.FAR_BOTTOM_RIGHT],_[U.NEAR_BOTTOM_RIGHT],T[x.BOTTOM]),u(_[U.NEAR_TOP_LEFT],_[U.NEAR_TOP_RIGHT],_[U.FAR_TOP_RIGHT],T[x.TOP]),u(_[U.NEAR_BOTTOM_LEFT],_[U.NEAR_BOTTOM_RIGHT],_[U.NEAR_TOP_RIGHT],T[x.NEAR]),u(_[U.FAR_BOTTOM_RIGHT],_[U.FAR_BOTTOM_LEFT],_[U.FAR_TOP_LEFT],T[x.FAR])}function j(T,_){for(let O=0;O<X;O++){const R=T[O];if(R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]>=_[3])return!1}return!0}function v(T,_){return w(T,H(_,z.get()))}function b(T,_){for(let O=0;O<X;O++){const R=T[O];if(!M(R,_))return!1}return!0}function h(T,_,O){return w(T,function(T,_,O=G()){const r=E(T.vector);return R(T.origin,_,O.ray),O.c0=0,O.c1=r,O}(_,O,z.get()))}function d(T,_){for(let O=0;O<X;O++)if(B(T[O],_)>0)return!1;return!0}function w(T,_){for(let O=0;O<X;O++)if(!N(T[O],_))return!1;return!0}var x,U;new T((()=>G())),function(T){T[T.LEFT=0]="LEFT",T[T.RIGHT=1]="RIGHT",T[T.BOTTOM=2]="BOTTOM",T[T.TOP=3]="TOP",T[T.NEAR=4]="NEAR",T[T.FAR=5]="FAR"}(x||(x={})),function(T){T[T.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",T[T.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",T[T.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",T[T.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",T[T.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",T[T.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",T[T.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",T[T.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(U||(U={}));const V={bottom:[U.FAR_BOTTOM_RIGHT,U.NEAR_BOTTOM_RIGHT,U.NEAR_BOTTOM_LEFT,U.FAR_BOTTOM_LEFT],near:[U.NEAR_BOTTOM_LEFT,U.NEAR_BOTTOM_RIGHT,U.NEAR_TOP_RIGHT,U.NEAR_TOP_LEFT],far:[U.FAR_BOTTOM_RIGHT,U.FAR_BOTTOM_LEFT,U.FAR_TOP_LEFT,U.FAR_TOP_RIGHT],right:[U.NEAR_BOTTOM_RIGHT,U.FAR_BOTTOM_RIGHT,U.FAR_TOP_RIGHT,U.NEAR_TOP_RIGHT],left:[U.FAR_BOTTOM_LEFT,U.NEAR_BOTTOM_LEFT,U.NEAR_TOP_LEFT,U.FAR_TOP_LEFT],top:[U.FAR_TOP_LEFT,U.NEAR_TOP_LEFT,U.NEAR_TOP_RIGHT,U.FAR_TOP_RIGHT]},X=6,k=8,q=[s(-1,-1,-1,1),s(1,-1,-1,1),s(1,1,-1,1),s(-1,1,-1,1),s(-1,-1,1,1),s(1,-1,1,1),s(1,1,1,1),s(-1,1,1,1)],z=new T(G),C=p();export{U as P,b as a,L as b,G as c,d,x as e,H as f,I as g,m as h,j as i,l as j,g as k,p as l,y as m,v as n,h as o,V as p,X as q};
