"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[5844],{72076:(e,t,r)=>{r.d(t,{O:()=>s});var n=r(32816),o=(r(20266),r(32773),r(6407),r(69421)),i=r(89754);let a=class extends i.A{constructor(e){super(e)}};a=(0,n._)([(0,o.$)("esri.rest.knowledgeGraph.ObjectValue")],a);const s=a},55844:(e,t,r)=>{r.r(t),r.d(t,{registerFunctions:()=>I});var n=r(90740),o=(r(94345),r(22976)),i=r(29023),a=r(2160),s=r(78281),p=r(29208),l=r(82408),u=r(43059),c=r(64604),d=r(36544),f=r(77037),h=r(69033),y=r(13978),m=r(32816),g=r(99924),w=r(29298),v=(r(32773),r(20266),r(69421)),S=r(69763),A=(r(41390),r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(6407),r(44600),r(49877),r(7969));r(56273),r(93804),r(18683),r(29512),r(99063),r(64752),r(48844),r(36533),r(84200),r(97827),r(91695),r(18169),r(48402),r(16699),r(26809),r(2589),r(18527),r(67504);let R=class extends g.oY{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((e=>e.toJSON())),t=this.geometries[0],r={};return r.outSR=(0,S.Y)(this.outSpatialReference),r.inSR=(0,S.Y)(t.spatialReference),r.geometries=JSON.stringify({geometryType:(0,f.$B)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};(0,m._)([(0,w.MZ)()],R.prototype,"geometries",void 0),(0,m._)([(0,w.MZ)({json:{read:{source:"outSR"}}})],R.prototype,"outSpatialReference",void 0),(0,m._)([(0,w.MZ)()],R.prototype,"transformation",void 0),(0,m._)([(0,w.MZ)()],R.prototype,"transformForward",void 0),R=(0,m._)([(0,v.$)("esri.rest.support.ProjectParameters")],R);const _=R,G=(0,d.e)(_);var x=r(14658),M=r(49197),b=r(72076),k=r(5370),j=r(76999);r(92517),r(26589),r(133),r(54483),r(59192),r(44864),r(88663),r(95637),r(59930),r(45862),r(72762),r(71613),r(17872),r(13317),r(83637),r(47239),r(79875),r(30011),r(55270),r(50214),r(78016),r(95779),r(13262),r(346),r(93049),r(44945),r(47387),r(46728),r(64102),r(73509),r(28276),r(69277),r(70580),r(75191),r(24319),r(62092),r(89935),r(49813),r(1178),r(10043),r(89754),r(56833);let N=null;async function O(e,t){const n=new u.default({portal:e,id:t});return await n.load(),null===N&&(N=await r.e(3551).then(r.bind(r,43551)).then((e=>e.k))),await N.fetchKnowledgeGraph(n.url)}function Z(e,t,r,n,i){if(null===e)return null;if((0,o.s)(e)||(0,o.y)(e))return e;if((0,o.O)(e))return e.toJSDate();if((0,o.O)(e))return e.toJSDate();if((0,o.Q)(e))return e.toStorageFormat();if((0,o.P)(e))return e.toStorageString();if((0,o.am)(e)){const o={};for(const s of e.keys())o[s]=Z(e.field(s),t,r,n,i),o[s]instanceof a.A&&i.push({container:o,indexer:s});return o}if((0,o.t)(e)){const o=e.map((e=>Z(e,t,r,n,i)));for(let e=0;e<o.length;e++)o[e]instanceof a.A&&i.push({container:o,indexer:e});return o}return(0,o.an)(e)?e.spatialReference.isWGS84?e:e.spatialReference.isWebMercator&&t?(0,p.ci)(e):e:void 0}function P(e,t){if(!e)return null;const r={};for(const n in e)r[n]=J(e[n],t);return r}function J(e,t){return null===e?null:(0,o.t)(e)?e.map((e=>J(e,t))):e instanceof x.A?{graphTypeName:e.typeName,id:e.id,graphType:"entity",properties:P(e.properties,t)}:e instanceof b.O?{graphType:"object",properties:P(e.properties,t)}:e instanceof j.A?{graphTypeName:e.typeName,id:e.id,graphType:"relationship",originId:e.originId??null,destinationId:e.destinationId??null,properties:P(e.properties,t)}:e instanceof k.A?{graphType:"path",path:e.path?e.path.map((e=>J(e,t))):null}:(0,o.an)(e)?function(e,t){if(!e)return e;if(e.spatialReference.isWGS84&&t.spatialReference.isWebMercator)return(0,p.Gh)(e);if(e.spatialReference.equals(t.spatialReference))return e;throw new o.A(t,o.E.WrongSpatialReference,null)}(e,t):(0,o.s)(e)||(0,o.y)(e)||(0,o.ao)(e)?e:null}function I(e){"async"===e.mode&&(e.functions.knowledgegraphbyportalitem=function(t,r){return e.standardFunctionAsync(t,r,((e,n,a)=>{if((0,o.p)(a,2,2,t,r),null===a[0])throw new o.A(t,o.E.PortalRequired,r);if(a[0]instanceof o.a1){const e=(0,o.C)(a[1]);let r;return r=t.services?.portal?t.services.portal:l.A.getDefault(),O((0,i.g)(a[0],r),e)}if(!1===(0,o.s)(a[0]))throw new o.A(t,o.E.InvalidParameter,r);const s=(0,o.C)(a[0]);return O(t.services?.portal??l.A.getDefault(),s)}))},e.signatures.push({name:"knowledgegraphbyportalitem",min:2,max:2}),e.functions.querygraph=function(t,i){return e.standardFunctionAsync(t,i,(async(e,a,p)=>{(0,o.p)(p,2,4,t,i);const l=p[0];if(!(0,o.al)(l))throw new o.A(t,o.E.InvalidParameter,i);const u=p[1];if(!(0,o.s)(u))throw new o.A(t,o.E.InvalidParameter,i);null===N&&(N=await r.e(3551).then(r.bind(r,43551)).then((e=>e.k)));let d=null;const m=(0,o.R)(p[2],null);if(!(m instanceof o.D||null===m))throw new o.A(t,o.E.InvalidParameter,i);if(m){let e=[];d=Z(m,!0,!1,t,e),e=e.filter((e=>!e.container[e.indexer].spatialReference.isWGS84)),e.length>0&&await async function(e){const t=n.A.geometryServiceUrl??"";if(!t){(0,s.isLoaded)()||await(0,s.load)();for(const t of e)t.container[t.indexer]=(0,s.project)(t.container[t.indexer],A.A.WGS84);return}const r=e.map((e=>e.container[e.indexer])),o=new _({geometries:r,outSpatialReference:A.A.WGS84}),i=await async function(e,t,r){t=G(t);const n=(0,h.p)(e),o={...n.query,f:"json",...t.toJSON()},i=t.outSpatialReference,a=(0,f.$B)(t.geometries[0]),s=(0,h.a)(o,void 0);return(0,c.A)(n.path+"/project",s).then((({data:{geometries:e}})=>(0,y.d)(e,a,i)))}(t,o);for(let t=0;t<i.length;t++){const r=e[t];r.container[r.indexer]=i[t]}}(e)}const g=new M.A({openCypherQuery:u,bindParameters:d});(l?.serviceDefinition?.currentVersion??11.3)>11.2&&(g.outputSpatialReference=t.spatialReference);const w=(await N.executeQueryStreaming(l,g)).resultRowsStream.getReader(),v=[];try{for(;;){const{done:e,value:r}=await w.read();if(e)break;if((0,o.t)(r))for(const e of r)v.push(J(e,t));else{const e=[];for(const n of r)e.push(J(r[n],t));v.push(e)}}}catch(e){throw e}return o.D.convertJsonToArcade(v,(0,o._)(t),!1,!0)}))},e.signatures.push({name:"querygraph",min:2,max:4}))}},29023:(e,t,r)=>{r.d(t,{g:()=>o});var n=r(82408);function o(e,t){return null===e?t:new n.A({url:e.field("url")})}},69033:(e,t,r)=>{r.d(t,{a:()=>i,e:()=>s,p:()=>a}),r(90740),r(29512);var n=r(32773),o=r(99063);function i(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function a(e){return"string"==typeof e?(0,o.An)(e):(0,n.o8)(e)}function s(e,t,r){const n={};for(const o in e){if("declaredClass"===o)continue;const i=e[o];if(null!=i&&"function"!=typeof i)if(Array.isArray(i))n[o]=i.map((e=>s(e)));else if("object"==typeof i)if(i.toJSON){const e=i.toJSON(r?.[o]);n[o]=t?e:JSON.stringify(e)}else n[o]=t?i:JSON.stringify(i);else n[o]=i}return n}r(64604)},13978:(e,t,r)=>{r.d(t,{d:()=>i,e:()=>o});var n=r(77037);function o(e){return{geometryType:(0,n.$B)(e[0]),geometries:e.map((e=>e.toJSON()))}}function i(e,t,r){const o=(0,n.xD)(t);return e.map((e=>{const t=o.fromJSON(e);return t.spatialReference=r,t}))}},14658:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(32816),o=(r(94345),r(29298)),i=(r(32773),r(20266),r(69421)),a=r(10043),s=r(64752);r(36544),r(44600),r(2160),r(99924),r(41390),r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(6407),r(90740),r(49877),r(7969),r(69763),r(93804),r(18683),r(64604),r(29512),r(99063),r(56273),r(29208),r(36533),r(48844),r(84200),r(97827),r(91695),r(18169),r(48402),r(16699),r(26809),r(2589),r(18527),r(67504),r(92517),r(77037),r(89754);let p=class extends a.A{constructor(e){super(e),this.layoutGeometry=null}};(0,n._)([(0,o.MZ)({type:s.A,json:{write:!0}})],p.prototype,"layoutGeometry",void 0),p=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.Entity")],p);const l=p},10043:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(32816),o=r(29298),i=(r(32773),r(20266),r(69421)),a=r(89754);r(36544),r(93181),r(13671),r(40499),r(6407),r(90740),r(91047),r(99924),r(41390),r(58498),r(45371),r(80959);let s=class extends a.A{constructor(e){super(e),this.typeName=null,this.id=null}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],s.prototype,"typeName",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],s.prototype,"id",void 0),s=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.GraphNamedObject")],s);const p=s},89754:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(32816),o=r(99924),i=r(29298),a=(r(32773),r(20266),r(69421));r(41390),r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(6407),r(90740),r(36544);let s=class extends o.oY{constructor(e){super(e),this.properties=null}};(0,n._)([(0,i.MZ)({json:{write:!0}})],s.prototype,"properties",void 0),s=(0,n._)([(0,a.$)("esri.rest.knowledgeGraph.GraphObject")],s);const p=s},56833:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(32816),o=r(41390),i=r(29298),a=(r(32773),r(20266),r(69421));r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(6407),r(90740),r(36544);let s=class extends o.T{constructor(e){super(e),this.openCypherQuery=""}};(0,n._)([(0,i.MZ)()],s.prototype,"openCypherQuery",void 0),s=(0,n._)([(0,a.$)("esri.rest.knowledgeGraph.GraphQuery")],s);const p=s},49197:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(32816),o=r(29298),i=(r(32773),r(20266),r(69421)),a=r(56833);r(36544),r(93181),r(13671),r(40499),r(6407),r(90740),r(91047),r(41390),r(58498),r(45371),r(80959);let s=class extends a.A{constructor(e){super(e),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};(0,n._)([(0,o.MZ)()],s.prototype,"bindParameters",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"bindGeometryQuantizationParameters",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"outputQuantizationParameters",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"outputSpatialReference",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"provenanceBehavior",void 0),s=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.GraphQueryStreaming")],s);const p=s},5370:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(32816),o=r(99924),i=r(29298),a=(r(32773),r(20266),r(69421)),s=r(89754);r(41390),r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(6407),r(90740),r(36544);let p=class extends o.oY{constructor(e){super(e),this.path=null}};(0,n._)([(0,i.MZ)({type:[s.A],json:{write:!0}})],p.prototype,"path",void 0),p=(0,n._)([(0,a.$)("esri.rest.knowledgeGraph.Path")],p);const l=p},76999:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(32816),o=(r(94345),r(29298)),i=(r(32773),r(20266),r(69421)),a=r(10043),s=r(67504);r(36544),r(44600),r(2160),r(99924),r(41390),r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(6407),r(90740),r(49877),r(7969),r(69763),r(93804),r(18683),r(64604),r(29512),r(99063),r(56273),r(64752),r(48844),r(29208),r(36533),r(84200),r(97827),r(91695),r(18169),r(48402),r(16699),r(26809),r(2589),r(18527),r(92517),r(77037),r(89754);let p=class extends a.A{constructor(e){super(e),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"originId",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"destinationId",void 0),(0,n._)([(0,o.MZ)({type:s.A,json:{write:!0}})],p.prototype,"layoutGeometry",void 0),p=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.Relationship")],p);const l=p}}]);