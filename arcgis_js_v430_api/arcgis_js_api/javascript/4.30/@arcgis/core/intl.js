/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
export{c as convertDateFormatToIntlOptions,f as formatDate,d as formatDateOnly,b as formatTimeOnly,a as formatTimestamp}from"./chunks/date.js";export{c as convertNumberFormatToIntlOptions,f as formatNumber}from"./chunks/number.js";export{s as substitute}from"./chunks/substitute.js";export{g as getLocale,o as onLocaleChange,p as prefersRTL,s as setLocale}from"./chunks/locale.js";import{n as t,r as e}from"./chunks/messages.js";export{f as fetchMessageBundle}from"./chunks/messages.js";import r from"./request.js";import n from"./core/Error.js";import{g as i}from"./chunks/assets.js";import"./chunks/jsonMap.js";import"./config.js";import"./core/lang.js";import"./chunks/timeZoneUtils.js";import"./chunks/datetime.js";import"./chunks/Logger.js";import"./chunks/handleUtils.js";import"./core/promiseUtils.js";import"./chunks/maybe.js";import"./kernel.js";import"./core/urlUtils.js";import"./core/JSONSupport.js";import"./chunks/tslib.es6.js";import"./core/Accessor.js";import"./core/Handles.js";import"./core/accessorSupport/decorators/subclass.js";import"./chunks/metadata.js";import"./chunks/utils.js";import"./chunks/tracking.js";import"./chunks/ensureType.js";import"./core/accessorSupport/decorators/property.js";import"./chunks/ObservableBase.js";import"./core/scheduling.js";async function m(s){if(null!=h.fetchBundleAsset)return h.fetchBundleAsset(s);const t=await r(s,{responseType:"text"});return JSON.parse(t.data)}class u{constructor({base:s="",pattern:t,location:e=new URL(window.location.href)}){let r;r="string"==typeof e?s=>new URL(s,new URL(e,window.location.href)).href:e instanceof URL?s=>new URL(s,e).href:e,this.pattern="string"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=r,s=s?s.endsWith("/")?s:s+"/":"",this.matcher=new RegExp(`^${s}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(s,e){return async function(s,e,r,o){const a=e.exec(r);if(!a)throw new n("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${e}"`);const c=a[1]?`${a[1]}/`:"",i=a[2],p=t(o),u=`${c}${i}.json`,l=p?`${c}${i}_${p}.json`:u;let h;try{h=await m(s(l))}catch(t){if(l===u)throw new n("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:t});try{h=await m(s(u))}catch(s){throw new n("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:s})}}return h}(this.getAssetUrl,this.matcher,s,e)}}function l(s){return new u(s)}const h={};e(l({pattern:"esri/",location:i}));export{l as createJSONLoader,t as normalizeMessageBundleLocale,e as registerMessageBundleLoader};
