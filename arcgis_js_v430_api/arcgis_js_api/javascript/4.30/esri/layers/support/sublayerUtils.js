// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define(["exports","../../core/accessorSupport/PropertyOrigin"],function(f,g){function h(e,b){if(!e?.length||null==b)return!0;b=b.slice().reverse().flatten(({sublayers:c})=>c&&c.toArray().reverse()).map(c=>c.id).toArray();if(e.length>b.length)return!1;let d=0;const a=b.length;for(const {id:c}of e){for(;d<a&&b[d]!==c;)d++;if(d>=a)return!1}return!0}f.isExportDynamic=function(e,b,d){return e.some(a=>{var c=a.source;c=!c||"map-layer"===c.type&&c.mapLayerId===a.id&&(null==c.gdbVersion||c.gdbVersion===d);
a.commitProperty("renderer");a.commitProperty("labelingInfo");a.commitProperty("opacity");a.commitProperty("labelsVisible");return!c||a.originIdOf("renderer")>g.OriginId.SERVICE||a.originIdOf("labelingInfo")>g.OriginId.SERVICE||a.originIdOf("opacity")>g.OriginId.SERVICE||a.originIdOf("labelsVisible")>g.OriginId.SERVICE})?!0:!h(e,b)};f.isSublayerOverhaul=function(e){return!!e&&e.some(b=>null!=b.minScale||null!=b.layerDefinition?.minScale)};f.shouldWriteSublayerStructure=function(e,b,d){return b.flatten(({sublayers:a})=>
a).length!==e.length||e.some(a=>a.originIdOf("minScale")>d||a.originIdOf("maxScale")>d||a.originIdOf("renderer")>d||a.originIdOf("labelingInfo")>d||a.originIdOf("opacity")>d||a.originIdOf("labelsVisible")>d||a.originIdOf("source")>d)?!0:!h(e,b)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});