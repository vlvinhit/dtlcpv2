// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define(["exports","./utils","../../portal/support/jsonContext","../../portal/support/portalItemUtils","../../webdoc/support/resourceUtils"],function(e,g,h,f,k){function l(a){return{isValid:"media"===a.type,errorMessage:"Layer.type should be 'media'"}}function m(a){return a.layerJSON}async function n(a,b){b.extent=a.fullExtent?await f.getWGS84ExtentForItem(a.fullExtent):null}async function q(a,b){b.title||(b.title=a.title);await n(a,b);f.removeTypeKeyword(b,f.typeKeyword.METADATA)}const p=["media-layer:unsupported-source"];
e.save=async function(a,b){return g.save({layer:a,itemType:"Media Layer",validateLayer:l,createJSONContext:c=>h.createForItemWrite(c,"portal-item",!0),createItemData:m,errorNamePrefix:"media-layer-save",supplementalUnsupportedErrors:p,setItemProperties:n,saveResources:(c,d)=>k.saveResources(a.resourceReferences,d)},b)};e.saveAs=async function(a,b,c){return g.saveAs({layer:a,itemType:"Media Layer",validateLayer:l,createJSONContext:d=>h.createForItemWrite(d,"portal-item",!0),createItemData:m,errorNamePrefix:"media-layer-save-as",
supplementalUnsupportedErrors:p,newItem:b,setItemProperties:q,saveResources:(d,r)=>k.saveResources(a.resourceReferences,r)},c)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});