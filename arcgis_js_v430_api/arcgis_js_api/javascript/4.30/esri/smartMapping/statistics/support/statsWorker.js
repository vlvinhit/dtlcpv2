// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
require({cache:{"esri/smartMapping/statistics/support/utils":function(){define("exports ../../../geometry ../../../core/Error ../../../core/screenUtils ../../../core/timeUtils ../../../geometry/SpatialReference ../../../geometry/support/quantizationUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/support/fieldUtils ../../../renderers/support/heatmapUtils ../../support/utils ../../../statistics/utils ../../../support/arcadeOnDemand ../../../geometry/Point".split(" "),function(f,
h,r,k,n,m,u,F,z,C,w,B,t,l){function D(b){b=V.exec(b);if(!b)return null;const {hh:x,mm:G,ss:K,ms:ca}=b.groups;return Number(x)*n.millisecondsPerTimeUnit.hours+Number(G)*n.millisecondsPerTimeUnit.minutes+Number(K)*n.millisecondsPerTimeUnit.seconds+Number(ca||0)}function J(b,x){b=null!=b?b:"";null!=x&&x&&(b=b?"("+b+") AND ("+x+")":x);return b}function Q(b){const x=b.layer;return b.fields.filter(G=>!x.getField(G))}function A(b){const x=b.layer;return b.fields.filter(G=>{G=x.getFieldUsageInfo(G);return!G||
!G.supportsStatistics})}let H=null;const V=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;f.calculateHeatmapStats=function(b,x=18,G,K,ca){const na=new Float64Array(K*ca);x=Math.round(k.pt2px(x));let ea=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY;G=C.createValueFunction(G);for(const {geometry:e,attributes:g}of b){const {x:q,y:E}=e;b=Math.max(0,q-x);var y=Math.max(0,E-x);const R=Math.min(ca,E+x),S=Math.min(K,q+x),Y=+G(g);for(;y<R;y++)for(let X=b;X<
S;X++){var c=y*K+X;const aa=C.evaluateDensityKernel(X-q,y-E,x)*Y;c=na[c]+=aa;ea=Math.min(ea,c);T=Math.max(T,c)}}return{min:ea,max:T}};f.getDataValues=async function(b,x,G=!0){if(!x)return[];const {field:K,field2:ca,field3:na,fieldDelimiter:ea,fieldInfos:T,timeZone:y}=b;var c=K&&T?.find(la=>la.name.toLowerCase()===K.toLowerCase());const e=c?z.isTimeOnlyField(c):!1,g=c?w.isAnyDateField(c):!1,q=b.valueExpression,E=b.normalizationType,R=b.normalizationField,S=b.normalizationTotal,Y=[];c=b.viewInfoParams;
let X=null,aa=null;if(q){if(!H){const {arcadeUtils:la}=await t.loadArcade();H=la}H.hasGeometryOperations(q)&&await H.enableGeometryOperations();X=H.createFunction(q);aa=c?H.getViewInfo({viewingMode:c.viewingMode,scale:c.scale,spatialReference:new m(c.spatialReference)}):null}b=b.fieldInfos;const fa=x[0]&&"declaredClass"in x[0]&&"esri.Graphic"===x[0].declaredClass||!b?null:{fields:b};x.forEach(la=>{var ka=la.attributes;if(q){var ia=H.createExecContext(fa?{...la,layer:fa}:la,aa,y);ia=H.executeFunction(X,
ia)}else ka&&(ia=ka[K],ca?(ia=`${B.processNullValue(ia)}${ea}${B.processNullValue(ka[ca])}`,na&&(ia=`${ia}${ea}${B.processNullValue(ka[na])}`)):"string"===typeof ia&&G&&(g?ia=ia?(new Date(ia)).getTime():null:e&&(ia=ia?D(ia):null)));E&&"number"===typeof ia&&isFinite(ia)&&(ka=ka&&parseFloat(ka[R]),ia=B.getNormalizedValue(ia,E,ka,S));Y.push(ia)});return Y};f.getRangeExpr=function(b,x,G){x=null!=x?b+" \x3e\x3d "+x:"";b=null!=G?b+" \x3c\x3d "+G:"";G="";return(G=x&&b?J(x,b):x||b)?"("+G+")":""};f.getSQLFilterForNormalization=
function(b){const x=b.field,G=b.normalizationType;b=b.normalizationField;let K;if("field"===G)K="(NOT "+b+" \x3d 0)";else if("log"===G||"natural-log"===G||"square-root"===G)K=`(${x} > 0)`;return K};f.getSumOfAttributesExpr=function(b,x,G){const K=[],ca=[],na=[],ea=[],T=[];b.forEach((e,g)=>{const q=e.field?"field":"expression",E=e.field||e.valueExpression;e.field?(T.push(E),ca.push(`var ${q}${g} = Number($feature["${E}"]);`)):(K.push(`function getValueForExpr${g}() {\n  ${E} \n}`),ca.push(`var ${q}${g} = Number(getValueForExpr${g}());`));
G||na.push(`${q}${g} = IIf(${q}${g} < 0, 0, ${q}${g});`);ea.push(`${q}${g}`)});b="return sum;";const y=K.length?null:T.reduce((e,g)=>`${e} + ${g}`);let c=null;x||G?x?G||(b="return IIf(sum \x3e\x3d 0, sum, null);",y&&(c=`(( ${y} ) >= 0)`)):(b="return IIf(sum !\x3d 0, sum, null);",y&&(c=`(( ${y} ) <> 0)`)):(b="return IIf(sum \x3e 0, sum, null);",y&&(c=`(( ${y} ) > 0)`));return{valueExpression:[K.length?K.join("\n"):"",ca.join("\n"),na.join("\n"),`var sum = ${ea.join(" + ")};`,b].filter(Boolean).join("\n\n"),
sqlExpression:y,sqlWhere:c}};f.mergeWhereClauses=J;f.quantizeFeatures=function(b,x,G,K){const ca=F.isWrappable(G)?F.getInfo(G):null,na=ca?Math.round((ca.valid[1]-ca.valid[0])/x.scale[0]):null;return b.map(ea=>{const T=new l(ea.geometry);u.quantizePoint(x,T,T);if(ca){var y=na??0,c=K[0];0>T.x?T.x+=y:T.x>c&&(T.x-=y)}ea.geometry=T;return ea})};f.timeOnlyToMilliseconds=D;f.verifyBasicFieldValidity=function(b,x,G){const K=Q({layer:b,fields:x});if(K.length)return new r(G,"Unknown fields: "+K.join(", ")+
". You can only use fields defined in the layer schema");b=A({layer:b,fields:x});if(b.length)return new r(G,"Unsupported fields: "+b.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true")};f.verifyFieldType=function(b,x,G,K){let ca;x?x.name!==b.objectIdField&&K.includes(x.type)||(ca=new r(G,"'field' should be one of these types: "+K.join(","))):ca=new r(G,"'field' is not defined in the layer schema");return ca};f.verifyFilterValidty=
function(b,x){if(b&&"intersects"!==b.spatialRelationship)return new r(x,"Only 'intersects' spatialRelationship is supported for featureFilter")};f.verifyNumericField=function(b,x,G){let K;x?x.name!==b.objectIdField&&z.isNumericField(x)||(K=new r(G,"'field' should be one of these numeric types: "+z.numericTypes.join(","))):K=new r(G,"'field' is not defined in the layer schema");return K};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/screenUtils":function(){define(["exports"],
function(f){function h(k){return k?72*k/96:0}const r=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;f.castRenderScreenPointArray=function(k){return k};f.castRenderScreenPointArray3=function(k){return k};f.castScreenPointArray=function(k){return k};f.createRenderScreenPoint=function(k=0,n=0){return{x:k,y:n}};f.createRenderScreenPointArray=function(k=0,n=0){return[k,n]};f.createRenderScreenPointArray3=function(k=0,n=0,m=0){return[k,n,m]};f.createScreenPoint=function(k=0,n=0){return{x:k,y:n}};f.createScreenPointArray=
function(k=0,n=0){return[k,n]};f.pt2px=function(k){return k?k/72*96:0};f.px2pt=h;f.screenPointArrayToObject=function(k,n){return n?(n.x=k[0],n.y=k[1],n):{x:k[0],y:k[1]}};f.screenPointObjectToArray=function(k,n){return n?(n[0]=k.x,n[1]=k.y,2<n.length&&(n[2]=0),n):[k.x,k.y]};f.toPt=function(k){if("string"===typeof k){var n=k.match(r);if(n){var m=Number(n[1]);n=n[3]&&n[3].toLowerCase();k="-"===k.charAt(0);m="px"===n?h(m):m;return k?-m:m}console.warn("screenUtils.toPt: input not recognized!");return null}return k};
Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/timeZoneUtils","../chunks/datetime"],function(f,h,r,k){function n(F,z,C){return 0===F?0:F*u[z]/u[C]}function m(F){switch(F){case "milliseconds":return"millisecond";case "seconds":return"second";case "minutes":return"minute";case "hours":return"hour";case "days":return"day";case "weeks":return"week";case "months":return"month";case "years":return"year"}}const u=
{milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};f.convertTime=n;f.isValidDate=function(F){return F instanceof Date&&!isNaN(F.getTime())};f.makeUTCTime=function(F,z,C="milliseconds"){z=new Date(n(z,C,"milliseconds"));z.setUTCFullYear(F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate());return z};f.mergeTimeExtents=function(F,z){return F&&z?F.intersection(z):F||z};f.millisecondsPerTimeUnit=u;f.offsetDate=function(F,
z,C,w=r.system){w=new k.IANAZone(h.resolveTimeZone(w));F=k.DateTime.fromJSDate(F,{zone:w});w="decades"===C||"centuries"===C?"year":m(C);"decades"===C&&(z*=10);"centuries"===C&&(z*=100);return F.plus({[w]:z}).toJSDate()};f.offsetDateUTC=function(F,z,C="milliseconds"){F=F.getTime();z=n(z,C,"milliseconds");return new Date(F+z)};f.resetUTCDate=function(F,z){F=new Date(F.getTime());F.setUTCFullYear(z.getFullYear(),z.getMonth(),z.getDate());return F};f.timeSinceUTCMidnight=function(F,z="milliseconds"){const C=
n(F.getUTCHours(),"hours","milliseconds"),w=n(F.getUTCMinutes(),"minutes","milliseconds"),B=n(F.getUTCSeconds(),"seconds","milliseconds");F=F.getUTCMilliseconds();return n(C+w+B+F,"milliseconds",z)};f.truncateDate=function(F,z,C=r.system){C=new k.IANAZone(h.resolveTimeZone(C));F=k.DateTime.fromJSDate(F,{zone:C});if("decades"===z||"centuries"===z)return F=F.startOf("year"),{year:C}=F,F.set({year:C-C%("decades"===z?10:100)}).toJSDate();z=m(z);return F.startOf(z).toJSDate()};f.truncateLocalTime=function(F){const z=
new Date(0);z.setHours(0);z.setMinutes(0);z.setSeconds(0);z.setMilliseconds(0);z.setFullYear(F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate());return z};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(f,h){function r(c){if("lowerLeft"===c.originPosition&&4===c.scale.length&&4===c.translate.length)return c;const {originPosition:e,scale:g,translate:q}=c;c=g[1]??1;return{originPosition:"lowerLeft",
scale:[g[0]??1,"lowerLeft"===e?c:-c,g[2]??1,g[3]??1],translate:[q[0]??0,q[1]??0,q[2]??0,q[3]??0]}}function k({scale:c,translate:e},g){return Math.round((g-e[0])/c[0])}function n({scale:c,translate:e},g){return Math.round((g-e[1])/c[1])}function m({scale:c,translate:e},g){return Math.round(((g??0)-e[2])/c[2])}function u({scale:c,translate:e},g){return g?Math.round((g-e[3])/c[3]):0}function F(c,e){return c&&e?ca:c&&!e?G:!c&&e?K:x}function z({scale:c,translate:e},g){return g*c[0]+e[0]}function C({scale:c,
translate:e},g){return g*c[1]+e[1]}function w({scale:c,translate:e},g){return(g??0)*c[2]+e[2]}function B({scale:c,translate:e},g){return g?g*c[3]+e[3]:0}function t(c,e){return c&&e?y:c&&!e?ea:!c&&e?T:na}function l(c,e,g){const q=Array(g.length);for(let E=0;E<g.length;E++)q[E]=e(c,g[E]);return q}function D(c,e,g){let [q,E]=g[0],R=Math.min(q,e[0]),S=Math.min(E,e[1]),Y=Math.max(q,e[2]);e=Math.max(E,e[3]);for(let X=1;X<g.length;X++){const [aa,fa]=g[X];q+=aa;E+=fa;0>aa&&(R=Math.min(R,q));0<aa&&(Y=Math.max(Y,
q));0>fa?S=Math.min(S,E):0<fa&&(e=Math.max(e,E))}c[0]=R;c[1]=S;c[2]=Y;c[3]=e;return c}function J(c,e){if(!e.length)return null;c[0]=c[1]=Number.POSITIVE_INFINITY;c[2]=c[3]=Number.NEGATIVE_INFINITY;for(let g=0;g<e.length;g++)D(c,c,e[g]);return c}function Q(c,e,g){c=r(c);e.xmin=k(c,g.xmin);e.ymin=n(c,g.ymin);e.xmax=k(c,g.xmax);e.ymax=n(c,g.ymax);g.hasZ&&(e.zmin=m(c,g.zmin),e.zmax=m(c,g.zmax));g.hasM&&(e.mmin=u(c,g.mmin),e.mmax=u(c,g.mmax));e.hasZ=g.hasZ??!1;e.hasM=g.hasM??!1;return e}function A(c,e,
g){c=r(c);e.points=F(g.hasZ,g.hasM)(c,g.points)??[];e.hasZ=g.hasZ??!1;e.hasM=g.hasM??!1;return e}function H(c,e,g){c=r(c);e.x=k(c,g.x);e.y=n(c,g.y);null!=g.z&&(e.z=m(c,g.z));null!=g.m&&(e.m=u(c,g.m));return e}function V(c,e,g){{c=r(c);var q=g.rings;const E=[],R=F(g.hasZ,g.hasM);for(let S=0;S<q.length;S++){const Y=R(c,q[S]);Y&&3<=Y.length&&E.push(Y)}c=E.length?E:null}if(!c)return null;e.rings=c;e.hasZ=g.hasZ??!1;e.hasM=g.hasM??!1;return e}function b(c,e,g){{c=r(c);var q=g.paths;const E=[],R=F(g.hasZ,
g.hasM);for(let S=0;S<q.length;S++){const Y=R(c,q[S]);Y&&2<=Y.length&&E.push(Y)}c=E.length?E:null}if(!c)return null;e.paths=c;e.hasZ=g.hasZ??!1;e.hasM=g.hasM??!1;return e}const x=(c,e)=>{const g=[];if(!e.length)return null;var q=e[0];let E=k(c,q[0]);q=n(c,q[1]);g.push([E,q]);for(let R=1;R<e.length;R++){const [S,Y]=e[R],X=k(c,S),aa=n(c,Y);X===E&&aa===q||g.push([X-E,aa-q]);E=X;q=aa}return g},G=(c,e)=>{const g=[];if(!e.length)return null;var q=e[0];let E=k(c,q[0]),R=n(c,q[1]);q=m(c,q[2]);g.push([E,R,
q]);for(let S=1;S<e.length;S++){const [Y,X,aa]=e[S],fa=k(c,Y),la=n(c,X),ka=m(c,aa);fa===E&&la===R&&ka===q||g.push([fa-E,la-R,ka]);E=fa;R=la;q=ka}return g},K=(c,e)=>{const g=[];if(!e.length)return null;var q=e[0];let E=k(c,q[0]),R=n(c,q[1]);q=u(c,q[2]);g.push([E,R,q]);for(let S=1;S<e.length;S++){const [Y,X,aa]=e[S],fa=k(c,Y),la=n(c,X),ka=u(c,aa);fa===E&&la===R&&ka===q||g.push([fa-E,la-R,ka]);E=fa;R=la;q=ka}return g},ca=(c,e)=>{const g=[];if(!e.length)return null;var q=e[0];let E=k(c,q[0]),R=n(c,q[1]),
S=m(c,q[2]);q=u(c,q[3]);g.push([E,R,S,q]);for(let Y=1;Y<e.length;Y++){const [X,aa,fa,la]=e[Y],ka=k(c,X),ia=n(c,aa),Ba=m(c,fa),Ca=u(c,la);ka===E&&ia===R&&Ba===S&&Ca===q||g.push([ka-E,ia-R,Ba,Ca]);E=ka;R=ia;S=Ba;q=Ca}return g},na=(c,e)=>{const g=Array(e.length);if(!e.length)return g;var q=e[0];let E=z(c,q[0]);q=C(c,q[1]);g[0]=[E,q];const {scale:R,originPosition:S}=c;c=R[0];const Y="lowerLeft"===S?R[1]:-R[1];for(let X=1;X<e.length;X++){const [aa,fa]=e[X];E+=c*aa;q+=Y*fa;g[X]=[E,q]}return g},ea=(c,e)=>
{const g=Array(e.length);if(!e.length)return g;var q=e[0];let E=z(c,q[0]),R=C(c,q[1]);g[0]=[E,R,w(c,q[2])];const {scale:S,originPosition:Y}=c;q=S[0];const X="lowerLeft"===Y?S[1]:-S[1];for(let aa=1;aa<e.length;aa++){const [fa,la,ka]=e[aa];E+=q*fa;R+=X*la;g[aa]=[E,R,w(c,ka)]}return g},T=(c,e)=>{const g=Array(e.length);if(!e.length)return g;var q=e[0];let E=z(c,q[0]),R=C(c,q[1]);g[0]=[E,R,B(c,q[2])];const {scale:S,originPosition:Y}=c;q=S[0];const X="lowerLeft"===Y?S[1]:-S[1];for(let aa=1;aa<e.length;aa++){const [fa,
la,ka]=e[aa];E+=q*fa;R+=X*la;g[aa]=[E,R,B(c,ka)]}return g},y=(c,e)=>{const g=Array(e.length);if(!e.length)return g;var q=e[0];let E=z(c,q[0]),R=C(c,q[1]);g[0]=[E,R,w(c,q[2]),B(c,q[3])];const {scale:S,originPosition:Y}=c;q=S[0];const X="lowerLeft"===Y?S[1]:-S[1];for(let aa=1;aa<e.length;aa++){const [fa,la,ka,ia]=e[aa];E+=q*fa;R+=X*la;g[aa]=[E,R,w(c,ka),B(c,ia)]}return g};f.getQuantizedBoundsCoordsArray=D;f.getQuantizedBoundsCoordsArrayArray=J;f.getQuantizedBoundsPaths=function(c){return J([0,0,0,0],
c)};f.getQuantizedBoundsPoints=function(c){const e=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return D(e,e,c)};f.getQuantizedBoundsRings=function(c){return J([0,0,0,0],c)};f.normalizeTransform=r;f.quantizeBounds=function(c,e,g){c=r(c);e[0]=k(c,g[0]);e[3]=n(c,g[1]);e[2]=k(c,g[2]);e[1]=n(c,g[3]);return e};f.quantizeCoordsArrayXY=x;f.quantizeCoordsArrayXYM=K;f.quantizeCoordsArrayXYZ=G;f.quantizeCoordsArrayXYZM=ca;f.quantizeExtent=Q;f.quantizeGeometry=
function(c,e){return c&&e?h.isPoint(e)?H(c,{},e):h.isPolyline(e)?b(c,{},e):h.isPolygon(e)?V(c,{},e):h.isMultipoint(e)?A(c,{},e):h.isExtent(e)?Q(c,{},e):null:null};f.quantizeM=u;f.quantizeMultipoint=A;f.quantizePoint=H;f.quantizePolygon=V;f.quantizePolyline=b;f.quantizeX=k;f.quantizeY=n;f.quantizeZ=m;f.toQuantizationTransform=function(c){return c?{originPosition:"upper-left"===c.originPosition?"upperLeft":"lower-left"===c.originPosition?"lowerLeft":c.originPosition,scale:c.tolerance?[c.tolerance,c.tolerance,
1,1]:[1,1,1,1],translate:null!=c.extent?[c.extent.xmin,c.extent.ymax,c.extent.zmin??0,c.extent.mmin??0]:[0,0,0,0]}:null};f.unquantizeBounds=function(c,e,g){c=r(c);return g?(e[0]=z(c,g[0]),e[1]=C(c,g[3]),e[2]=z(c,g[2]),e[3]=C(c,g[1]),e):[z(c,e[0]),C(c,e[3]),z(c,e[2]),C(c,e[1])]};f.unquantizeCoordsArrayArray=l;f.unquantizeCoordsArrayXY=na;f.unquantizeCoordsArrayXYM=T;f.unquantizeCoordsArrayXYZ=ea;f.unquantizeCoordsArrayXYZM=y;f.unquantizeExtent=function(c,e,g,q=g.hasZ??!1,E=g.hasM??!1){c=r(c);e.xmin=
z(c,g.xmin);e.xmax=z(c,g.xmax);e.ymin=C(c,g.ymin);e.ymax=C(c,g.ymax);q&&(e.zmin=w(c,g.zmin),e.zmax=w(c,g.zmax));E&&(e.mmin=B(c,g.mmin),e.mmax=B(c,g.mmax));e.hasZ=q;e.hasM=E;return e};f.unquantizeM=B;f.unquantizeMultipoint=function(c,e,g,q=g?.hasZ??!1,E=g?.hasM??!1){null!=g&&(c=r(c),e.points=t(q,E)(c,g.points),e.hasZ=q,e.hasM=E);return e};f.unquantizePoint=function(c,e,g,q=null!=g?.z,E=null!=g?.m){if(null==g)return e;c=r(c);e.x=z(c,g.x);e.y=C(c,g.y);q&&(e.z=w(c,g.z));E&&(e.m=B(c,g.m));return e};f.unquantizePolygon=
function(c,e,g,q=g?.hasZ??!1,E=g?.hasM??!1){null!=g&&(c=r(c),e.rings=l(c,t(q,E),g.rings),e.hasZ=q,e.hasM=E);return e};f.unquantizePolyline=function(c,e,g,q=g?.hasZ??!1,E=g?.hasM??!1){null!=g&&(c=r(c),e.paths=l(c,t(q,E),g.paths),e.hasZ=q,e.hasM=E);return e};f.unquantizeX=z;f.unquantizeY=C;f.unquantizeZ=w;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec42",
"../../core/libs/gl-matrix-2/factories/vec4f64"],function(f,h,r,k,n){function m(u,F,z,C){let {color:w,ratio:B}=F,{color:t,ratio:l}=z;l===B&&(1===l?B-=1E-6:l+=1E-6);F=h.clamp((C-B)/(l-B),0,1);k.lerp(u,w.toArray(),t.toArray(),F)}f.createValueFunction=function(u){return"function"===typeof u?u:u?F=>+F[u]:()=>1};f.evaluateDensityKernel=function(u,F,z){u=Math.sqrt(u**2+F**2)/z;return 1<u?0:3/(Math.PI*z**2)*(1-u**2)**2};f.gaussianBlurRadiusPxToKernelDensityRadiusPt=function(u){return r.px2pt(2.4*u)};f.generateGradient=
function(u){const F=new Uint8ClampedArray(2048);u=u.filter(({ratio:t})=>0<=t&&1>=t).sort((t,l)=>t.ratio-l.ratio).map(({color:t,ratio:l})=>({color:t,ratio:Math.max(l,.001)}));if(1>u.length)return F;let z=u[0],C=u[0],w=1;const B=n.create();for(let t=0;512>t;t++){const l=(t+.5)/512;for(;l>C.ratio&&w<u.length;)z=C,C=u[w++];m(B,z,C,l);F.set(B,4*t)}return F};f.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(u){return r.pt2px(u)/2.4};f.magicKernelDensityRadiusInflationFactor=2.4;Object.defineProperty(f,
Symbol.toStringTag,{value:"Module"})})},"esri/smartMapping/support/utils":function(){define("exports ../../intl/date ../../layers/support/fieldUtils ../../support/arcadeOnDemand ../../support/basemapUtils ../../time/timeZoneUtils".split(" "),function(f,h,r,k,n,m){function u(l){return String(l).padStart(2,"0")}function F(l,D,J){if("date"===D||"number"===D){"number"===D&&(l=new Date(l));D=J?l.getFullYear():l.getUTCFullYear();const Q=u((J?l.getMonth():l.getUTCMonth())+1),A=u(J?l.getDate():l.getUTCDate()),
H=u(J?l.getHours():l.getUTCHours()),V=u(J?l.getMinutes():l.getUTCMinutes());l=u(J?l.getSeconds():l.getUTCSeconds());l=`TIMESTAMP'${D}-${Q}-${A} ${H}:${V}:${l}'`}return l}function z(l,D){if(D instanceof Date)return"date";if("number"===typeof D)return"number";if("string"===typeof D&&(l=l.getField(D),"\x3cnow\x3e"!==D.toLowerCase()&&r.isDateField(l)))return"field"}const C={light:"streets gray topo terrain oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector topo-3d navigation-3d streets-3d osm-3d gray-3d arcgis-light-gray arcgis-navigation arcgis-streets arcgis-streets-relief arcgis-topographic arcgis-oceans osm-standard osm-standard-relief osm-streets osm-streets-relief osm-light-gray arcgis-terrain arcgis-charted-territory arcgis-community arcgis-colored-pencil arcgis-modern-antique arcgis-midcentury arcgis-newspaper arcgis-hillshade-light".split(" "),
dark:"satellite hybrid dark-gray dark-gray-vector streets-night-vector navigation-dark-3d streets-dark-3d dark-gray-3d arcgis-imagery arcgis-imagery-standard arcgis-dark-gray arcgis-navigation-night arcgis-streets-night osm-dark-gray arcgis-nova arcgis-hillshade-dark".split(" ")},w={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864E5},B=new Set(["integer","small-integer"]);let t=null;f.castIntegerFieldToFloat=function(l){return`cast(${l} as float)`};f.dateTypes=
["date","date-only","timestamp-offset"];f.defaultBasemapGroups=C;f.fieldDelimiter=",";f.formatAnyDate=function(l,D){const {format:J,timeZoneOptions:Q,fieldType:A}=D??{};let H;Q&&({timeZone:V,timeZoneName:H}=m.getTimeZoneFormattingOptions(Q.layerTimeZone,Q.datesInUnknownTimezone,Q.viewTimeZone,h.convertDateFormatToIntlOptions(J||"short-date-short-time"),A));if("string"===typeof l&&isNaN(Date.parse("time-only"===A?`1970-01-01T${l}Z`:l)))return l;switch(A){case "date-only":var V=h.convertDateFormatToIntlOptions(J||
"short-date");return"string"===typeof l?h.formatDateOnly(l,{...V}):h.formatDate(l,{...V,timeZone:m.utc});case "time-only":return V=h.convertDateFormatToIntlOptions(J||"short-time"),"string"===typeof l?h.formatTimeOnly(l,V):h.formatDate(l,{...V,timeZone:m.utc});case "timestamp-offset":if(!V&&"string"===typeof l&&(new Date(l)).toISOString()!==l)return l;V=(D=J||Q?h.convertDateFormatToIntlOptions(J||"short-date-short-time"):void 0)?{...D,timeZone:V,timeZoneName:H}:void 0;return"string"===typeof l?h.formatTimestamp(l,
V):h.formatDate(l,V);default:return D=J||Q?h.convertDateFormatToIntlOptions(J||"short-date-short-time"):void 0,h.formatDate("string"===typeof l?new Date(l):l,D?{...D,timeZone:V,timeZoneName:H}:void 0)}};f.getBasemapGroup=function(l,D=C){for(const J in D)if(D[J].includes(l))return J};f.getBasemapId=function(l,D,J=!0){let Q=null;l&&("string"===typeof l?D.includes(l)&&(Q=l):Q=n.getWellKnownBasemapId(l));return J?Q||"gray":Q};f.getDateDiffSQL=function(l,D,J,Q){const {hasQueryEngine:A}=l;J=F(J,z(l,J),
A);l=F(D,z(l,D),A);l=`(${J} - ${l})`;Q=w[Q];D="/";1>Q&&(Q=1/Q,D="*");return{sqlExpression:1===Q?l:`(${l} ${D} ${Q})`,sqlWhere:null}};f.getDateType=z;f.getFieldsList=async function(l){const {field:D,field2:J,field3:Q,normalizationField:A,valueExpression:H}=l;l=[];H&&(t||({arcadeUtils:l}=await k.loadArcade(),t=l),l=t.extractFieldNames(H));D&&l.push(D);J&&l.push(J);Q&&l.push(Q);A&&l.push(A);return l};f.getNormalizationType=function(l){let D=l.normalizationType;D||(l.normalizationField?D="field":null!=
l.normalizationTotal&&(D="percent-of-total"));return D??void 0};f.isAnyDateField=function(l){return r.isDateField(l)||r.isDateOnlyField(l)||r.isTimestampOffsetField(l)};f.isIntegerField=function(l,D){l=D&&l.getField(D);return!!l&&B.has(l.type)};f.unitValueInDays=w;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ../layers/effects/utils ./basemapDefinitions".split(" "),
function(f,h,r,k,n,m,u,F,z,C){function w(y,c){let e;if("string"===typeof y){const g=y in C.esriBasemapDefinitions,q=!g&&y.includes("/");if(!g&&!q)return c=Object.entries(C.esriBasemapDefinitions).filter(([,E])=>r.apiKey&&!E.classic||!r.apiKey&&(E.classic||E.is3d)).map(([E])=>`"${E}"`).sort().join(", "),n.getLogger("esri.support.basemapUtils").warn(`Unable to find basemap definition for: ${y}. Try one of these: ${c}`),null;c&&(e=c[y]);e||(e=g?h.fromId(y):new h({style:{id:y}}),c&&(c[y]=e))}else e=F.ensureType(h,
y);e?.destroyed&&(n.getLogger("esri.support.basemapUtils").warn("The provided basemap is already destroyed",{basemap:e}),e=null);return e}function B(y){if(ea)return ea(y);let c=null;y=J(y);const e=!y?.baseLayers.length;for(const q in C.esriBasemapDefinitions){var g=V(C.esriBasemapDefinitions[q]);g=x(y,g,{mustMatchReferences:e});if("equal"===g){c=q;break}"base-layers-equal"===g&&(c=q)}return c}function t(y,c){const e=new k;y.forEach(g=>{const q=c.find(E=>"scene"!==E.type&&K(A(g),A(E)))||g;e.includes(q)?
e.push(g):e.push(q)});return e}function l(y){if(D(y.url))return!0;if("vector-tile"===y.type)for(const c in y.sourceNameToSource)if(D(y.sourceNameToSource[c]?.sourceUrl))return!0;return!1}function D(y){if(!y)return!1;y=new u.Url(u.makeAbsolute(y));return!!y.authority&&T.test(y.authority)}function J(y){return y?!y.loaded&&y.resourceInfo?V(y.resourceInfo.data):{baseLayers:Q(y.baseLayers),referenceLayers:Q(y.referenceLayers)}:null}function Q(y){return(k.isCollection(y)?y.toArray():y).map(A)}function A(y){return{type:y.type,
effect:"effect"in y?y.effect:void 0,url:ca("urlTemplate"in y&&y.urlTemplate||y.url||"styleUrl"in y&&y.styleUrl||""),minScale:"minScale"in y&&null!=y.minScale?y.minScale:0,maxScale:"maxScale"in y&&null!=y.maxScale?y.maxScale:0,opacity:null!=y.opacity?y.opacity:1,visible:null!=y.visible?!!y.visible:!0,sublayers:"map-image"!==y.type&&"wms"!==y.type||null==y.sublayers?void 0:y.sublayers?.map(c=>({id:c.id,visible:c.visible})),activeLayerId:"wmts"===y.type?y.activeLayer?.id:void 0}}function H(y){return y.isReference||
"ArcGISSceneServiceLayer"===y.layerType}function V(y){return y?{baseLayers:b((y.baseMapLayers??[]).filter(c=>!H(c))),referenceLayers:b((y.baseMapLayers??[]).filter(c=>H(c)))}:null}function b(y){return y.map(c=>{let e;switch(c.layerType){case "VectorTileLayer":e="vector-tile";break;case "ArcGISTiledMapServiceLayer":e="tile";break;case "ArcGISSceneServiceLayer":e="scene";break;default:e="unknown"}return{type:e,effect:c.effect,url:ca(c.templateUrl||c.urlTemplate||c.styleUrl||c.url),minScale:c.minScale??
0,maxScale:c.maxScale??0,opacity:c.opacity??1,visible:null!=c.visibility?!!c.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function x(y,c,e){return null!=y!==(null!=c)?"not-equal":y&&c?G(y.baseLayers,c.baseLayers)?G(y.referenceLayers,c.referenceLayers)?"equal":e.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function G(y,c){if(y.length!==c.length)return!1;for(let e=0;e<y.length;e++)if(!K(y[e],c[e]))return!1;return!0}function K(y,c){if(y.type!==c.type||y.url!==c.url||
y.minScale!==c.minScale||y.maxScale!==c.maxScale||y.visible!==c.visible||y.opacity!==c.opacity||!z.effectEquals(y.effect,c.effect))return!1;if(null!=y.activeLayerId||null!=c.activeLayerId)return y.activeLayerId===c.activeLayerId;if(null!=y.sublayers||null!=c.sublayers){if(null==y.sublayers||null==c.sublayers||y.sublayers.length!==c.sublayers.length)return!1;for(let e=0;e<y.sublayers.length;e++){const g=y.sublayers.at(e),q=c.sublayers.at(e);if(g?.id!==q?.id||g?.visible!==q?.visible)return!1}}return!0}
function ca(y){return y?u.normalize(y).replace(/^\s*https?:/i,"").toLowerCase():""}function na(y){return"portalItem"in y?y.portalItem?.thumbnailUrl:void 0}let ea;const T=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;f.clonePreservingTiledLayers=function(y,c=null){y=w(y);if(!y)return null;y=y.clone();c&&(y.baseLayers=t(y.baseLayers,c.baseLayers),y.referenceLayers=t(y.referenceLayers,c.referenceLayers));return y};f.contentEquals=function(y,c){if(y===c||null!=y?.portalItem?.id&&y.portalItem.id===c?.portalItem?.id)return!0;
y=J(y);c=J(c);return"equal"===x(y,c,{mustMatchReferences:!0})};f.createCache=function(){return{}};f.destroyCache=function(y){for(const c in y)m.destroyMaybe(y[c]),delete y[c]};f.ensureType=w;f.findSpatialReference=function(y,c){if(null==c||null==y)return{spatialReference:null,updating:!1};if("not-loaded"===c.loadStatus)return c.load(),{spatialReference:null,updating:!0};if(c.spatialReference)return{spatialReference:c.spatialReference,updating:!1};if(0===c.baseLayers.length)return{spatialReference:null,
updating:!1};c=c.baseLayers.at(0);switch(c.loadStatus){case "not-loaded":c.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,updating:!1}}c=(("supportedSpatialReferences"in c?c.supportedSpatialReferences:null)||["tileInfo"in c?c.tileInfo?.spatialReference:c.spatialReference]).filter(Boolean);const e=y.spatialReference;return e?{spatialReference:c.find(g=>e.equals(g))??c[0]??null,updating:!1}:{spatialReference:c[0],updating:!1}};f.getBasemapThumbnailUrl=
function(y){if(!y)return null;var {thumbnailUrl:c}=y;return c?c:(c=B(y))?C.esriBasemapDefinitions[c].thumbnailUrl:m.mappedFind(y.baseLayers,na)};f.getWellKnownBasemapId=B;f.hasDeveloperBasemapLayer=function(y){return!!y?.baseLayers.concat(y.referenceLayers).some(l)};f.isBasemap3D=function(y){return"Web Scene"===y.portalItem?.type||y.referenceLayers.some(c=>"scene"===c.type)};f.isBasemapInBeta=function(y){return!!y?.portalItem?.tags?.some(c=>"beta"===c.toLowerCase())};f.isBasemapLayer=function(y,c){return y.basemap?.referenceLayers?.some(e=>
e.uid===c)||y.basemap?.baseLayers?.some(e=>e.uid===c)};f.isDeveloperBasemapLayer=l;f.overrideGetWellKnownBasemapId=function(y){ea=y};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/Basemap":function(){define("require ./chunks/tslib.es6 ./request ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/has ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./support/BasemapStyle ./webdoc/support/writeUtils".split(" "),
function(f,h,r,k,n,m,u,F,z,C,w,B,t,l,D,J,Q,A,H,V,b,x,G){var K;let ca=0;m=K=class extends m.JSONSupportMixin(F){constructor(T){super(T);this.thumbnailUrl=this.style=this.spatialReference=this.portalItem=this.id=null;this.title="Basemap";this.id=Date.now().toString(16)+"-basemap-"+ca++;this.baseLayers=new k;this.referenceLayers=new k;const y=c=>{c.parent&&c.parent!==this&&"remove"in c.parent&&c.parent.remove(c);c.parent=this;"elevation"===c.type&&C.getLogger(this).error(`Layer '${c.title}, id:${c.id}' of type '${c.type}' is not supported as a basemap layer and will therefore be ignored.`)};
this.addHandles([this.baseLayers.on("after-add",c=>y(c.item)),this.referenceLayers.on("after-add",c=>y(c.item)),this.baseLayers.on("after-remove",c=>{c.item.parent=null}),this.referenceLayers.on("after-remove",c=>{c.item.parent=null})])}initialize(){this.when().catch(T=>{C.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,T)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var T=this.baseLayers.toArray();for(const y of T)y.destroy();
T=this.referenceLayers.toArray();for(const y of T)y.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem=w.destroyMaybe(this.portalItem)}normalizeCtorArgs(T){T&&"resourceInfo"in T&&(this._set("resourceInfo",T.resourceInfo),T={...T},delete T.resourceInfo);return T}set baseLayers(T){this._set("baseLayers",n.referenceSetter(T,this._get("baseLayers")))}_writeBaseLayers(T,y,c){const e=[];T&&(c={...c,layerContainerType:"basemap"},this.baseLayers.forEach(g=>{g=G.getLayerJSON(g,
c.webmap?c.webmap.getLayerJSONFromResourceInfo(g):null,c);null!=g&&e.push(g)}),this.referenceLayers.forEach(g=>{const q=G.getLayerJSON(g,c.webmap?c.webmap.getLayerJSONFromResourceInfo(g):null,c);null!=q&&("scene"!==g.type&&(q.isReference=!0),e.push(q))}));y.baseMapLayers=e}set referenceLayers(T){this._set("referenceLayers",n.referenceSetter(T,this._get("referenceLayers")))}writeTitle(T,y){y.title=T||"Basemap"}load(T){this.addResolvingPromise(this._loadFromSource(T));return Promise.resolve(this)}loadAll(){return z.loadAll(this,
T=>{T(this.baseLayers,this.referenceLayers)})}clone(){const T={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(y=>u.isClonable(y)?y.clone():y),referenceLayers:this.referenceLayers.map(y=>u.isClonable(y)?y.clone():y)};this.loaded&&(T.loadStatus="loaded");return(new K({resourceInfo:this.resourceInfo})).set(T)}read(T,y){this.resourceInfo||this._set("resourceInfo",{data:T,context:y});super.read(T,y)}write(T,y){T=T||{};y?.origin||(y={origin:"web-map",...y});super.write(T,
y);!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(T.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(c=>{c=u.clone(c);c.url&&t.isProtocolRelative(c.url)&&(c.url=`https:${c.url}`);c.templateUrl&&t.isProtocolRelative(c.templateUrl)&&(c.templateUrl=`https:${c.templateUrl}`);return c}));return T}async _loadFromSource(T){const {resourceInfo:y,portalItem:c,style:e}=this;B.throwIfAborted(T);const g=[];y?(g.push(this._loadLayersFromJSON(y.data,y.context?y.context.url:null,T)),y.data.id&&!y.data.title&&
g.push(b.getBasemapTitle(y.data.id).then(q=>{q&&this.read({title:q},y.context)}))):c?g.push(this._loadFromItem(c,T)):e&&g.push(this._loadFromStylesService(e,T));await Promise.all(g)}async _loadLayersFromJSON(T,y,c){const e=this.resourceInfo?.context,g=this.portalItem?.portal||e?.portal||null,q=ea[e?.origin||""]??"web-map",{populateOperationalLayers:E}=await new Promise((S,Y)=>f(["./layers/support/layersCreator"],S,Y)),R=[];B.throwIfAborted(c);if(T.baseMapLayers&&Array.isArray(T.baseMapLayers)){y=
{context:{...e,origin:q,url:y,portal:g,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const S=Y=>"web-scene"===q&&"ArcGISSceneServiceLayer"===Y.layerType||Y.isReference;c=E(this.baseLayers,T.baseMapLayers.filter(Y=>!S(Y)),y);R.push(c);T=E(this.referenceLayers,T.baseMapLayers.filter(S),y);R.push(T)}await Promise.allSettled(R)}async _loadFromItem(T,y){const c=await (await T.load(y)).fetchData("json",y),e=t.urlToObject(T.itemUrl??"");this._set("resourceInfo",{data:c.baseMap??{},context:{origin:na[T.type||
""]??"web-map",portal:T.portal||H.getDefault(),url:e}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:c.spatialReference},this.resourceInfo.context);this.read({title:T.title,thumbnailUrl:T.thumbnailUrl},{origin:"portal-item",portal:T.portal||H.getDefault(),url:e});return this._loadLayersFromJSON(this.resourceInfo.data,e,y)}async _loadFromStylesService(T,y){var c=`${T.serviceUrl}/${T.id}`;T=(await r(c,{query:{language:T.getLanguageParamValue(),places:T.places,
worldview:T.worldview},signal:y?.signal})).data;c=t.urlToObject(c);this._set("resourceInfo",{data:T.baseMap??{},context:{origin:"web-map",url:c}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:T.spatialReference},this.resourceInfo.context);return this._loadLayersFromJSON(this.resourceInfo.data,c,y)}static fromId(T){return(T=b.esriBasemapDefinitions[T])?T.itemId?new K({portalItem:{id:T.itemId,portal:{url:"https://www.arcgis.com"}}}):K.fromJSON(T,{origin:T.is3d?
"web-scene":"web-map"}):null}};h.__decorate([l.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(T,y,c,e){this._writeBaseLayers(T,y,e)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:k}},writer(T,y,c,e){this._writeBaseLayers(T,y,e)}}}}}})],m.prototype,"baseLayers",null);h.__decorate([l.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],m.prototype,"id",void 0);h.__decorate([l.property({type:V})],m.prototype,"portalItem",void 0);h.__decorate([l.property()],
m.prototype,"referenceLayers",null);h.__decorate([l.property({readOnly:!0})],m.prototype,"resourceInfo",void 0);h.__decorate([l.property({type:A})],m.prototype,"spatialReference",void 0);h.__decorate([l.property({type:x})],m.prototype,"style",void 0);h.__decorate([l.property()],m.prototype,"thumbnailUrl",void 0);h.__decorate([l.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],m.prototype,"title",void 0);h.__decorate([Q.writer("title")],m.prototype,"writeTitle",null);m=
K=h.__decorate([J.subclass("esri.Basemap")],m);const na={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},ea={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"};return m})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(f,h){f.castForReferenceSetter=function(r){return r};f.referenceSetter=function(r,k,n=h){k||=new n;if(k===r)return k;k.removeAll();r&&(Array.isArray(r)||"items"in r&&Array.isArray(r.items))?k.addMany(r):r&&
k.add(r);return k};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/tslib.es6 ./Error ./maybe ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(f,h,r,k,n,m,u,F){const z=C=>{C=class extends C{constructor(...w){super(...w);this.loadError=this._loadController=null;this.loadStatus="not-loaded";this._set("loadWarnings",[]);this.addResolvingPromise(new Promise(B=>
{const t=this.load.bind(this);this.load=l=>{const D=new Promise((J,Q)=>{const A=n.onAbortOrThrow(l,Q);this.destroyed&&Q(new h("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this}));this.when(J,Q).finally(()=>{A&&A.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const J=this._loadController=new AbortController;t({signal:J.signal})}B();return D}}));this.when(()=>{this._set("loadStatus","loaded");
this._loadController=null},B=>{this._set("loadStatus","failed");this._set("loadError",B);this._loadController=null})}destroy(){this._loadController&&(this._loadController=r.abortMaybe(this._loadController),this._promiseProps.abort());this._set("loadError",null);this._set("loadWarnings",[])}get loaded(){return"loaded"===this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){if(this.isFulfilled())return this;this._set("loadError",new h("load:cancelled","Cancelled"));
this._loadController?.abort();this._promiseProps.abort();return this}};f.__decorate([u.property({readOnly:!0})],C.prototype,"loaded",null);f.__decorate([u.property({readOnly:!0})],C.prototype,"loadError",void 0);f.__decorate([u.property({clonable:!1})],C.prototype,"loadStatus",void 0);f.__decorate([u.property({type:[m],readOnly:!0})],C.prototype,"loadWarnings",null);return C=f.__decorate([F.subclass("esri.core.Loadable")],C)};k=class extends z(k.EsriPromise){};k=f.__decorate([F.subclass("esri.core.Loadable")],
k);(function(C){C.LoadableMixin=z;C.isLoadable=function(w){return!(!w||!w.load)}})(k||={});return k})},"esri/core/Promise":function(){define(["exports","../chunks/tslib.es6","./Accessor","./promiseUtils","./accessorSupport/decorators/subclass"],function(f,h,r,k,n){var m;(function(z){z[z.PENDING=0]="PENDING";z[z.RESOLVED=1]="RESOLVED";z[z.REJECTED=2]="REJECTED"})(m||={});class u{constructor(){this._resolver=k.createResolver();this._status=m.PENDING;this._resolvingPromises=[];this._resolver.promise.then(()=>
{this._status=m.RESOLVED;this._cleanUp()},()=>{this._status=m.REJECTED;this._cleanUp()});this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(z){this._resolvingPromises.push(z);this._tryResolve()}isResolved(){return this._status===m.RESOLVED}isRejected(){return this._status===m.REJECTED}isFulfilled(){return this._status!==m.PENDING}abort(){this._resolver.reject(k.createAbortError())}_cleanUp(){this._resolvingPromises=this._allPromise=null}_tryResolve(){if(!this.isFulfilled()){var z=
k.createResolver(),C=[...this._resolvingPromises,z.promise],w=this._allPromise=Promise.all(C);w.then(()=>{this.isFulfilled()||this._allPromise!==w||this._resolver.resolve()},B=>{this.isFulfilled()||this._allPromise!==w||k.isAbortError(B)||this._resolver.reject(B)});z.resolve()}}}const F=z=>{z=class extends z{constructor(...C){super(...C);this._promiseProps=new u;this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(C,
w){return this._promiseProps.promise.then(()=>this).then(C,w)}catch(C){return this.when(null,C)}addResolvingPromise(C){C&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in C?C.when():C)}};return z=h.__decorate([n.subclass("esri.core.Promise")],z)};f.EsriPromise=class extends F(r){};f.EsriPromise=h.__decorate([n.subclass("esri.core.Promise")],f.EsriPromise);f.EsriPromiseMixin=F;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/loadAll":function(){define(["exports",
"./asyncUtils","./Collection","./Loadable"],function(f,h,r,k){async function n(m,u){const F=[],z=(...w)=>{for(const B of w)null!=B&&(Array.isArray(B)?z(...B):r.isCollection(B)?B.forEach(t=>z(t)):k.isLoadable(B)&&F.push(B))};u(z);let C=null;await h.map(F,async w=>{w=await h.result("loadAll"in w&&"function"===typeof w.loadAll?w.loadAll():w.load());!1!==w.ok||C||(C=w)});if(C)throw C.error;return m}f.loadAll=async function(m,u){await m.load();return n(m,u)};f.loadAllChildren=n;Object.defineProperty(f,
Symbol.toStringTag,{value:"Module"})})},"esri/portal/Portal":function(){define("require ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./portalDefault ./PortalGroup ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(f,h,r,k,n,m,u,F,z,C,w,B,t,l,D,J,Q,A,H,V,b,x,G,K){function ca(e){const g=k.id;return()=>{const q=e.deref();q&&g.findCredential(q.restUrl)&&q.signIn().catch(()=>{})}}const na=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"}));var ea;let T;const y={PortalGroup:()=>Promise.resolve({default:V}),PortalItem:()=>new Promise((e,g)=>f(["./PortalItem"],q=>e(na(q)),g)),PortalUser:()=>Promise.resolve({default:G})};u=ea=class extends u.JSONSupportMixin(F){constructor(e){super(e);
this.access=this._esriIdCredentialCreateHandle=null;this.allSSL=!1;this.authMode="auto";this.bingKey=this.basemapGalleryGroupQuery3D=this.basemapGalleryGroupQuery=this.authorizedCrossOriginDomains=null;this.canProvisionDirectPurchase=this.canListPreProvisionedItems=this.canListData=this.canListApps=!1;this.canSearchPublic=!0;this.canSignInIDP=this.canSignInArcGIS=this.canSharePublic=this.canShareBingPublic=!1;this.colorSetsGroupQuery=null;this.commentsEnabled=!1;this.livingAtlasGroupQuery=this.layoutGroupQuery=
this.galleryTemplatesGroupQuery=this.featuredItemsGroupQuery=this.featuredGroups=this.eueiEnabled=this.devBasemapGalleryGroupQuery=this.description=this.defaultVectorBasemap=this.defaultExtent=this.defaultDevBasemap=this.defaultBasemap=this.customBaseUrl=this.culture=this.created=null;this.hasCategorySchema=!1;this.ipCntryCode=this.id=this.httpsPort=this.httpPort=this.homePageFeaturedContentCount=this.homePageFeaturedContent=this.helperServices=null;this.isReadOnly=this.isPortal=!1;this.region=this.portalProperties=
this.portalMode=this.portalHostname=this.name=this.modified=this.maxTokenExpirationMinutes=this.layerTemplatesGroupQuery=null;this.recycleBinEnabled=!1;this.rotatorPanels=null;this.showHomePageDescription=!1;this.sourceJSON=null;this.supportsHostedServices=!1;this.units=this.templatesGroupQuery=this.symbolSetsGroupQuery=null;this.url=r.portalUrl;this.user=this.urlKey=null;this.use3dBasemaps=!0;this.useVectorBasemaps=this.useStandardizedQuery=!1;this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"===
typeof e?{url:e}:e}destroy(){c.unregister(this);this.defaultBasemap=z.destroyMaybe(this.defaultBasemap);this.defaultDevBasemap=z.destroyMaybe(this.defaultDevBasemap);this.defaultVectorBasemap=z.destroyMaybe(this.defaultVectorBasemap);this._esriIdCredentialCreateHandle=z.removeMaybe(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const g of e)r.request.trustedServers.includes(g)||r.request.trustedServers.push(g);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=
!this.user?.orgId||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const g=e.indexOf("/sharing");e=0<g?e.substring(0,g):this.url.replace(/\/+$/,"");e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,g=this.thumbnail;return e&&g?this._normalizeSSL(e+"/portals/self/resources/"+g):null}readUrlKey(e){return e?e.toLowerCase():
e}readUser(e){let g=null;e&&(g=G.fromJSON(e),g.portal=this);return g}load(e){const g=(new Promise((q,E)=>f(["../Basemap"],R=>q(na(R)),E))).then(({default:q})=>{C.throwIfAborted(e);T=q}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(q=>{if(k.id){const E=k.id;this.credential=E.findCredential(this.restUrl);this.credential||this.authMode!==ea.AUTH_MODE_AUTO&&this.authMode!==ea.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=
E.on("credential-create",ca(new WeakRef(this))),c.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=q;this.read(q)});this.addResolvingPromise(g);return Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),g=(await new Promise((q,E)=>f(["../layers/ElevationLayer"],R=>q(na(R)),E))).default;return e?e.map(q=>new g({id:q.id,url:q.url})):[]}async fetchBasemaps(e,g){const q=await this._fetchBasemaps(e,g);!0===
g?.include3d&&!1!==this.use3dBasemaps&&(e=await this._fetchBasemaps3D(e,g),q.unshift(...e));return q}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(g=>g.categorySchema):C.isAborted(e)?Promise.reject(C.createAbortError()):Promise.resolve([])}fetchFeaturedGroups(e){const g=this.featuredGroups,q=new b({num:100,sortField:"title"});if(g?.length){const E=[];for(const R of g)E.push(`(title:"${R.title}" AND owner:${R.owner})`);q.query=
E.join(" OR ");return this.queryGroups(q,e).then(R=>R.results)}return C.isAborted(e)?Promise.reject(C.createAbortError()):Promise.resolve([])}fetchRegions(e){const g=this.user?.culture||this.culture||A.getLocale();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:g}})}fetchSettings(e){const g=this.user?.culture||this.culture||A.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:g}})}static getDefault(){return H.ensureDefaultPortalInstance(()=>
new ea)}queryGroups(e,g){return this.queryPortal("/community/groups",e,"PortalGroup",g)}queryItems(e,g){return this.queryPortal("/search",e,"PortalItem",g)}queryUsers(e,g){e.sortField||(e.sortField="username");return this.queryPortal("/community/users",e,"PortalUser",g)}fetchSelf(e=this.authMode,g=!1,q){const E=this.restUrl+"/portals/self";e={authMode:e,query:{culture:A.getLocale().toLowerCase()},withCredentials:!0,...q};"auto"===e.authMode&&(e.authMode="no-prompt");g&&(e.query.default=!0);return this.request(E,
e)}queryPortal(e,g,q,E){const R=B.ensureType(b,g),S=Y=>this.request(this.restUrl+e,{...R.toRequestOptions(this),...E}).then(X=>{const aa=R.clone();aa.start=X.nextStart;return new x({nextQueryParams:aa,queryParams:R,total:X.total,results:ea._resultsToTypedArray(Y,{portal:this},X,E)})}).then(X=>Promise.all(X.results.map(aa=>"function"===typeof aa.when?aa.when():X)).then(()=>X,aa=>{C.throwIfAbortError(aa);return X}));return q&&y[q]?y[q]().then(({default:Y})=>{C.throwIfAborted(E);return S(Y)}):S()}signIn(){if(this.authMode===
ea.AUTH_MODE_ANONYMOUS||this.authMode===ea.AUTH_MODE_NO_PROMPT&&!k.id)return Promise.reject(new m("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=g=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return g||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=g;return this.fetchSelf("immediate")});
if(this.user&&this.credential===g)return null;this.credential=g;return this.fetchSelf("immediate")}).then(q=>{q&&(this.sourceJSON=q,this.read(q))});return k.id?k.id.getCredential(this.restUrl,{prompt:this.authMode!==ea.AUTH_MODE_NO_PROMPT}).then(g=>e(g)):e(this.credential)}normalizeUrl(e){const g=this.credential?.token;return this._normalizeSSL(g?e+(e.includes("?")?"\x26":"?")+"token\x3d"+g:e)}requestToTypedArray(e,g,q){return this.request(e,g).then(E=>{const R=ea._resultsToTypedArray(q,{portal:this},
E);return Promise.all(R.map(S=>"function"===typeof S.when?S.when():E)).then(()=>R,()=>R)})}request(e,g={}){var q={f:"json",...g.query};const {authMode:E=this.authMode===ea.AUTH_MODE_ANONYMOUS||this.authMode===ea.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:R=null,cacheBust:S=!1,method:Y="auto",responseType:X="json",signal:aa}=g;q={authMode:E,body:R,cacheBust:S,method:Y,query:q,responseType:X,timeout:0,signal:aa};g.withCredentials&&(q.withCredentials=!0);return n(this._normalizeSSL(e),q).then(fa=>
fa.data)}toJSON(){throw new m("internal:not-yet-implemented","Portal.toJSON is not yet implemented");}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw Error("JSON object is already hydrated");return new ea({sourceJSON:e})}_getHelperService(e){const g=this.helperServices&&this.helperServices[e];if(!g)throw new m("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return g}async _fetchBasemaps(e,g){const q=new b;q.query=e||(r.apiKey&&K.supportsApiKey(this.url)?
this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);q.disableExtraQuery=!0;e=await this.queryGroups(q,g);if(!e.total)return[];e=e.results[0];q.num=100;q.query='type:"Web Map" -type:"Web Application"';q.sortField=e.sortField||"name";q.sortOrder=e.sortOrder||"desc";g=await e.queryItems(q,g);return g.total?g.results.filter(E=>"Web Map"===E.type).map(E=>new T({portalItem:E})):[]}async _fetchBasemaps3D(e,g){e=e||this.basemapGalleryGroupQuery3D;
if(!e)return[];e=new b({query:e,disableExtraQuery:!0});var q=await this.queryGroups(e,g);if(!q.total)return[];q=q.results[0];e.num=100;e.query='type:"Web Scene"';e.sortField=q.sortField||"name";e.sortOrder=q.sortOrder||"desc";g=await q.queryItems(e,g);return g.total?g.results.filter(E=>"Web Scene"===E.type).map(E=>new T({portalItem:E})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){return e?(e=T.fromJSON(e),e.portalItem={portal:this},e):null}static _resultsToTypedArray(e,
g,q,E){if(q){const R=null!=E?E.signal:null;q=q.listings||q.notifications||q.userInvitations||q.tags||q.items||q.groups||q.comments||q.provisions||q.results||q.relatedItems||q;if(e||g)q=q.map(S=>{S=Object.assign(e?e.fromJSON(S):S,g);"function"===typeof S.load&&S.load(R);return S})}else q=[];return q}};u.AUTH_MODE_ANONYMOUS="anonymous";u.AUTH_MODE_AUTO="auto";u.AUTH_MODE_IMMEDIATE="immediate";u.AUTH_MODE_NO_PROMPT="no-prompt";h.__decorate([w.property()],u.prototype,"access",void 0);h.__decorate([w.property()],
u.prototype,"allSSL",void 0);h.__decorate([w.property()],u.prototype,"authMode",void 0);h.__decorate([w.property()],u.prototype,"authorizedCrossOriginDomains",void 0);h.__decorate([D.reader("authorizedCrossOriginDomains")],u.prototype,"readAuthorizedCrossOriginDomains",null);h.__decorate([w.property()],u.prototype,"basemapGalleryGroupQuery",void 0);h.__decorate([w.property({json:{name:"3DBasemapGalleryGroupQuery"}})],u.prototype,"basemapGalleryGroupQuery3D",void 0);h.__decorate([w.property()],u.prototype,
"bingKey",void 0);h.__decorate([w.property()],u.prototype,"canListApps",void 0);h.__decorate([w.property()],u.prototype,"canListData",void 0);h.__decorate([w.property()],u.prototype,"canListPreProvisionedItems",void 0);h.__decorate([w.property()],u.prototype,"canProvisionDirectPurchase",void 0);h.__decorate([w.property()],u.prototype,"canSearchPublic",void 0);h.__decorate([w.property()],u.prototype,"canShareBingPublic",void 0);h.__decorate([w.property()],u.prototype,"canSharePublic",void 0);h.__decorate([w.property()],
u.prototype,"canSignInArcGIS",void 0);h.__decorate([w.property()],u.prototype,"canSignInIDP",void 0);h.__decorate([w.property()],u.prototype,"colorSetsGroupQuery",void 0);h.__decorate([w.property()],u.prototype,"commentsEnabled",void 0);h.__decorate([w.property({type:Date})],u.prototype,"created",void 0);h.__decorate([w.property()],u.prototype,"credential",void 0);h.__decorate([w.property()],u.prototype,"culture",void 0);h.__decorate([w.property()],u.prototype,"currentVersion",void 0);h.__decorate([w.property()],
u.prototype,"customBaseUrl",void 0);h.__decorate([w.property()],u.prototype,"defaultBasemap",void 0);h.__decorate([D.reader("defaultBasemap")],u.prototype,"readDefaultBasemap",null);h.__decorate([w.property()],u.prototype,"defaultDevBasemap",void 0);h.__decorate([D.reader("defaultDevBasemap")],u.prototype,"readDefaultDevBasemap",null);h.__decorate([w.property({type:Q})],u.prototype,"defaultExtent",void 0);h.__decorate([w.property()],u.prototype,"defaultVectorBasemap",void 0);h.__decorate([D.reader("defaultVectorBasemap")],
u.prototype,"readDefaultVectorBasemap",null);h.__decorate([w.property()],u.prototype,"description",void 0);h.__decorate([w.property()],u.prototype,"devBasemapGalleryGroupQuery",void 0);h.__decorate([w.property()],u.prototype,"eueiEnabled",void 0);h.__decorate([w.property({readOnly:!0})],u.prototype,"extraQuery",null);h.__decorate([w.property()],u.prototype,"featuredGroups",void 0);h.__decorate([w.property()],u.prototype,"featuredItemsGroupQuery",void 0);h.__decorate([w.property()],u.prototype,"galleryTemplatesGroupQuery",
void 0);h.__decorate([w.property()],u.prototype,"layoutGroupQuery",void 0);h.__decorate([w.property()],u.prototype,"livingAtlasGroupQuery",void 0);h.__decorate([w.property()],u.prototype,"hasCategorySchema",void 0);h.__decorate([w.property()],u.prototype,"helpBase",void 0);h.__decorate([w.property()],u.prototype,"helperServices",void 0);h.__decorate([w.property()],u.prototype,"helpMap",void 0);h.__decorate([w.property()],u.prototype,"homePageFeaturedContent",void 0);h.__decorate([w.property()],u.prototype,
"homePageFeaturedContentCount",void 0);h.__decorate([w.property()],u.prototype,"httpPort",void 0);h.__decorate([w.property()],u.prototype,"httpsPort",void 0);h.__decorate([w.property()],u.prototype,"id",void 0);h.__decorate([w.property()],u.prototype,"ipCntryCode",void 0);h.__decorate([w.property({readOnly:!0})],u.prototype,"isOrganization",null);h.__decorate([w.property()],u.prototype,"isPortal",void 0);h.__decorate([w.property()],u.prototype,"isReadOnly",void 0);h.__decorate([w.property({readOnly:!0})],
u.prototype,"itemPageUrl",null);h.__decorate([w.property()],u.prototype,"layerTemplatesGroupQuery",void 0);h.__decorate([w.property()],u.prototype,"maxTokenExpirationMinutes",void 0);h.__decorate([w.property({type:Date})],u.prototype,"modified",void 0);h.__decorate([w.property()],u.prototype,"name",void 0);h.__decorate([w.property()],u.prototype,"portalHostname",void 0);h.__decorate([w.property()],u.prototype,"portalMode",void 0);h.__decorate([w.property()],u.prototype,"portalProperties",void 0);
h.__decorate([w.property()],u.prototype,"region",void 0);h.__decorate([w.property()],u.prototype,"recycleBinEnabled",void 0);h.__decorate([w.property({readOnly:!0})],u.prototype,"restUrl",null);h.__decorate([w.property()],u.prototype,"rotatorPanels",void 0);h.__decorate([w.property()],u.prototype,"showHomePageDescription",void 0);h.__decorate([w.property()],u.prototype,"sourceJSON",void 0);h.__decorate([w.property()],u.prototype,"staticImagesUrl",void 0);h.__decorate([w.property({json:{name:"2DStylesGroupQuery"}})],
u.prototype,"stylesGroupQuery2d",void 0);h.__decorate([w.property({json:{name:"stylesGroupQuery"}})],u.prototype,"stylesGroupQuery3d",void 0);h.__decorate([w.property()],u.prototype,"supportsHostedServices",void 0);h.__decorate([w.property()],u.prototype,"symbolSetsGroupQuery",void 0);h.__decorate([w.property()],u.prototype,"templatesGroupQuery",void 0);h.__decorate([w.property()],u.prototype,"thumbnail",void 0);h.__decorate([w.property({readOnly:!0})],u.prototype,"thumbnailUrl",null);h.__decorate([w.property()],
u.prototype,"units",void 0);h.__decorate([w.property()],u.prototype,"url",void 0);h.__decorate([w.property()],u.prototype,"urlKey",void 0);h.__decorate([D.reader("urlKey")],u.prototype,"readUrlKey",null);h.__decorate([w.property()],u.prototype,"user",void 0);h.__decorate([D.reader("user")],u.prototype,"readUser",null);h.__decorate([w.property()],u.prototype,"use3dBasemaps",void 0);h.__decorate([w.property()],u.prototype,"useStandardizedQuery",void 0);h.__decorate([w.property()],u.prototype,"useVectorBasemaps",
void 0);h.__decorate([w.property()],u.prototype,"vectorBasemapGalleryGroupQuery",void 0);h=u=ea=h.__decorate([J.subclass("esri.portal.Portal")],u);const c=new FinalizationRegistry(e=>{e.remove()});return h})},"esri/portal/portalDefault":function(){define(["exports"],function(f){let h;f.clearDefaultPortalInstance=function(){h=void 0};f.ensureDefaultPortalInstance=function(r){if(!h||h.destroyed)h=r();return h};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalGroup":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(f,h,r,k,n,m,u,F,z){var C;r=C=class extends r.JSONSupport{constructor(w){super(w);this.id=this.description=this.created=this.access=null;this.isInvitationOnly=!1;this.title=this.tags=this.sourceJSON=this.sortOrder=this.sortField=this.snippet=this.portal=this.owner=this.modified=null}get thumbnailUrl(){const w=this.url,B=this.thumbnail;return w&&B&&this.portal?this.portal?.normalizeUrl(`${w}/info/${B}?f=json`):null}get url(){const w=this.portal?.restUrl;return w?w+"/community/groups/"+this.id:
null}fetchCategorySchema(w){return this.portal.request(this.url+"/categorySchema",w).then(B=>{B=B.categorySchema||[];return B.some(t=>"contentCategorySetsGroupQuery.LivingAtlas"===t.source)?this._fetchCategorySchemaSet("LivingAtlas",w):B})}fetchMembers(w){return this.portal.request(this.url+"/users",w)}getThumbnailUrl(w){let B=this.thumbnailUrl;B&&w&&(B+=`&w=${w}`);return B}toJSON(){throw new h("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");}static fromJSON(w){if(!w)return null;
if(w.declaredClass)throw Error("JSON object is already hydrated");const B=new C({sourceJSON:w});B.read(w);return B}queryItems(w,B){w=n.ensureType(z,w);const t=this.portal;if(5<parseFloat(t.currentVersion))return w=w||new z,t.queryPortal(`/content/groups/${this.id}/search`,w,"PortalItem",B);w=w?w.clone():new z;w.query="group:"+this.id+(w.query?" "+w.query:"");return t.queryItems(w,B)}_fetchCategorySchemaSet(w,B){const t=this.portal;return t.fetchSelf(t.authMode,!0,B).then(l=>{if(l=l.contentCategorySetsGroupQuery)return l=
new z({disableExtraQuery:!0,num:1,query:l}),t.queryGroups(l,B);throw new h("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(l=>{if(l.total){l=l.results[0];const D=new z({num:1,query:`typekeywords:"${w}"`});return l.queryItems(D,B)}throw new h("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(l=>l.total?l.results[0].fetchData("json",B).then(D=>{D=D?.categorySchema;return D?.length?D:[]}):[])}};f.__decorate([k.property()],
r.prototype,"access",void 0);f.__decorate([k.property({type:Date})],r.prototype,"created",void 0);f.__decorate([k.property()],r.prototype,"description",void 0);f.__decorate([k.property()],r.prototype,"id",void 0);f.__decorate([k.property()],r.prototype,"isInvitationOnly",void 0);f.__decorate([k.property({type:Date})],r.prototype,"modified",void 0);f.__decorate([k.property()],r.prototype,"owner",void 0);f.__decorate([k.property()],r.prototype,"portal",void 0);f.__decorate([k.property()],r.prototype,
"snippet",void 0);f.__decorate([k.property()],r.prototype,"sortField",void 0);f.__decorate([k.property()],r.prototype,"sortOrder",void 0);f.__decorate([k.property()],r.prototype,"sourceJSON",void 0);f.__decorate([k.property()],r.prototype,"tags",void 0);f.__decorate([k.property()],r.prototype,"thumbnail",void 0);f.__decorate([k.property({readOnly:!0})],r.prototype,"thumbnailUrl",null);f.__decorate([k.property()],r.prototype,"title",void 0);f.__decorate([k.property({readOnly:!0})],r.prototype,"url",
null);return r=C=f.__decorate([F.subclass("esri.portal.PortalGroup")],r)})},"esri/portal/PortalQueryParams":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(f,h,r,k,n,m,u,F,z,C,w){var B;const t=new r.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",
numComments:"num-comments",numViews:"num-views"});h=B=class extends h{constructor(l){super(l);this.categories=null;this.disableExtraQuery=!1;this.filter=this.extent=null;this.num=10;this.sortField=this.query=null;this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(l){"asc"!==l&&"desc"!==l||this._set("sortOrder",l)}clone(){return new B({categories:this.categories?k.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():
null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(l,D){let J=[];this.categories&&(J=this.categories.map(H=>Array.isArray(H)?JSON.stringify(H):H));let Q="";if(this.extent){var A=w.project(this.extent,C.WGS84);null!=A&&(Q=`${A.xmin},${A.ymin},${A.xmax},${A.ymax}`)}A=this.query;!this.disableExtraQuery&&l.extraQuery&&(A="("+A+")"+l.extraQuery);l={categories:J,bbox:Q,q:A,filter:this.filter,num:this.num,sortField:null,
sortOrder:null,start:this.start};this.sortField&&(l.sortField=this.sortField.split(",").map(H=>t.toJSON(H.trim())).join(","),l.sortOrder=this.sortOrder);return{query:{...D,...l}}}};f.__decorate([n.property()],h.prototype,"categories",void 0);f.__decorate([n.property()],h.prototype,"disableExtraQuery",void 0);f.__decorate([n.property({type:z})],h.prototype,"extent",void 0);f.__decorate([n.property()],h.prototype,"filter",void 0);f.__decorate([n.property()],h.prototype,"num",void 0);f.__decorate([n.property()],
h.prototype,"query",void 0);f.__decorate([n.property()],h.prototype,"sortField",void 0);f.__decorate([n.property()],h.prototype,"sortOrder",null);f.__decorate([n.property()],h.prototype,"start",void 0);return h=B=f.__decorate([F.subclass("esri.portal.PortalQueryParams")],h)})},"esri/portal/PortalQueryResult":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(f,h,r,k,n,m,u){h=class extends h{constructor(F){super(F);this.total=this.results=this.queryParams=this.nextQueryParams=null}};f.__decorate([r.property()],h.prototype,"nextQueryParams",void 0);f.__decorate([r.property()],h.prototype,"queryParams",void 0);f.__decorate([r.property()],h.prototype,"results",void 0);f.__decorate([r.property()],h.prototype,"total",void 0);return h=f.__decorate([u.subclass("esri.portal.PortalQueryResult")],h)})},"esri/portal/PortalUser":function(){define("require ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),
function(f,h,r,k,n,m,u,F,z,C,w){var B;k=B=class extends k.JSONSupport{constructor(t){super(t);this.userType=this.userLicenseTypeId=this.username=this.units=this.sourceJSON=this.roleId=this.role=this.region=this.privileges=this.preferredView=this.portal=this.orgId=this.modified=this.fullName=this.email=this.description=this.culture=this.created=this.access=null}get thumbnailUrl(){const t=this.url,l=this.thumbnail;return t&&l?this.portal.normalizeUrl(`${t}/info/${l}?f=json`):null}get userContentUrl(){const t=
this.portal?.restUrl;return t?`${t}/content/users/${this.username}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.username}`:null}addItem(t){const l=t&&t.item;var D=t?.data;t=t?.folder;const J={method:"post"};l&&(J.query=l.createPostQuery(),null!=D&&("string"===typeof D?J.query.text=D:"object"===typeof D&&(J.query.text=JSON.stringify(D))));D=this.userContentUrl;t&&(D+="/"+("string"===typeof t?t:t.id));return this.portal.request(D+"/addItem",J).then(Q=>{l.id=Q.id;
l.portal=this.portal;return l.loaded?l.reload():l.load()})}async deleteItem(t,l=!1){let D=this.userContentUrl;t.ownerFolder&&(D+="/"+t.ownerFolder);await this.portal.request(D+`/items/${t.id}/delete`,{method:"post",query:l?{permanentDelete:!0}:{}});t.id=null;t.portal=null}async deleteItems(t,l=!1){t=t.concat();var D=this.userContentUrl+"/deleteItems";const J=[];var Q=t.map(A=>A.id);if(Q.length){l={method:"post",query:{items:Q.join(","),permanentDelete:l}};D=await this.portal.request(D,l);for(const A of D.results)D=
t.find(H=>A.itemId===H.id),l=A.success,Q=null,l?(D.id=null,D.portal=null):A.error&&(Q=new r("portal:delete-item-failed",A.error.message,A.error)),J.push({item:D,success:l,error:Q})}return J}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(t=>t&&t.folders?t.folders.map(l=>{l=C.fromJSON(l);l.portal=this.portal;return l}):[])}fetchGroups(){return this.portal.request(this.url??"").then(t=>t&&t.groups?t.groups.map(l=>{l=w.fromJSON(l);l.portal=this.portal;return l}):
[])}async fetchItems(t){t??={};var l=this.userContentUrl??"";t.folder&&(l+="/"+t.folder.id);const {default:D}=await new Promise((J,Q)=>f(["./PortalItem"],A=>J(Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}))),Q));t=await this.portal.request(l,{query:{folders:!1,inRecycleBin:t.inRecycleBin?!0:null,foldersContent:!t.folder&&t.includeSubfolderItems?!0:null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"}});
return t?.items?(l=t.items.map(J=>{J=D.fromJSON(J);J.portal=this.portal;return J}),await Promise.all(l.map(J=>J.load())),{items:l,nextStart:t.nextStart,total:t.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let l=this.thumbnailUrl;l&&t&&(l+=`&w=${t}`);return l}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new w({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new r("internal:unknown",
"Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,l){await this.portal.request(this.userContentUrl+`/items/${t.id}/restore`,{method:"post",query:l?{folderID:"string"===typeof l?l:l.id}:null})}toJSON(){throw new r("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented");}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw Error("JSON object is already hydrated");const l=new B({sourceJSON:t});l.read(t);return l}};h.__decorate([n.property()],
k.prototype,"access",void 0);h.__decorate([n.property({type:Date})],k.prototype,"created",void 0);h.__decorate([n.property()],k.prototype,"culture",void 0);h.__decorate([n.property()],k.prototype,"description",void 0);h.__decorate([n.property()],k.prototype,"email",void 0);h.__decorate([n.property()],k.prototype,"favGroupId",void 0);h.__decorate([n.property()],k.prototype,"fullName",void 0);h.__decorate([n.property({type:Date})],k.prototype,"modified",void 0);h.__decorate([n.property()],k.prototype,
"orgId",void 0);h.__decorate([n.property()],k.prototype,"portal",void 0);h.__decorate([n.property()],k.prototype,"preferredView",void 0);h.__decorate([n.property()],k.prototype,"privileges",void 0);h.__decorate([n.property()],k.prototype,"region",void 0);h.__decorate([n.property()],k.prototype,"role",void 0);h.__decorate([n.property()],k.prototype,"roleId",void 0);h.__decorate([n.property()],k.prototype,"sourceJSON",void 0);h.__decorate([n.property()],k.prototype,"thumbnail",void 0);h.__decorate([n.property({readOnly:!0})],
k.prototype,"thumbnailUrl",null);h.__decorate([n.property()],k.prototype,"units",void 0);h.__decorate([n.property({readOnly:!0})],k.prototype,"userContentUrl",null);h.__decorate([n.property({readOnly:!0})],k.prototype,"url",null);h.__decorate([n.property()],k.prototype,"username",void 0);h.__decorate([n.property()],k.prototype,"userLicenseTypeId",void 0);h.__decorate([n.property()],k.prototype,"userType",void 0);return k=B=h.__decorate([z.subclass("esri.portal.PortalUser")],k)})},"esri/portal/PortalFolder":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(f,h,r,k,n,m,u,F){r=class extends r.JSONSupport{constructor(z){super(z);this.username=this.title=this.portal=this.id=this.created=null}get url(){const z=this.portal?.restUrl;return z?`${z}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new h("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");}};f.__decorate([k.property({type:Date})],r.prototype,"created",void 0);f.__decorate([k.property()],r.prototype,"id",void 0);f.__decorate([k.property()],r.prototype,
"portal",void 0);f.__decorate([k.property()],r.prototype,"title",void 0);f.__decorate([k.property({readOnly:!0})],r.prototype,"url",null);f.__decorate([k.property()],r.prototype,"username",void 0);return r=f.__decorate([F.subclass("esri.portal.PortalFolder")],r)})},"esri/portal/PortalItem":function(){define("require ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating ../chunks/persistableUrlUtils".split(" "),
function(f,h,r,k,n,m,u,F,z,C,w,B,t,l,D,J,Q){var A;const H=new Set("3DTiles Service;CSV;Feature Collection;Feature Service;Feed;GeoJson;Group Layer;Image Service;KML;Map Service;Media Layer;Scene Service;Stream Service;Vector Tile Service;WFS;WMS;WMTS".split(";")),V=new Set(["KML","GeoJson","CSV"]);n=A=class extends n.JSONSupportMixin(u){static from(b){return C.ensureClass(A,b)}constructor(b){super(b);this.id=this.groupCategories=this.extent=this.description=this.culture=this.created=this.categories=
this.avgRating=this.applicationProxies=this.apiKey=this.accessInformation=this.access=null;this.isOrgItem=!1;this.url=this.typeKeywords=this.type=this.title=this.tags=this.spatialReference=this.sourceUrl=this.sourceJSON=this.snippet=this.size=this.screenshots=this.portal=this.ownerFolder=this.owner=this.numViews=this.numRatings=this.numComments=this.name=this.modified=this.licenseInfo=this.itemControl=null}destroy(){this.portal=null}get displayName(){const b=this.type,x=this.typeKeywords||[];let G=
b;"Feature Service"===b||"Feature Collection"===b?G=x.includes("Table")?"Table":x.includes("Route Layer")?"Route Layer":x.includes("Markup")?"Markup":"Feature Layer":"Image Service"===b?G=x.includes("Elevation 3D Layer")?"Elevation Layer":x.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===b?G="Scene Layer":"Video Service"===b?G="Video Layer":"Scene Package"===b?G="Scene Layer Package":"Stream Service"===b?G="Feature Layer":"Geoprocessing Service"===b?G=x.includes("Web Tool")?
"Tool":"Geoprocessing Service":"Geoenrichment Service"===b?G="GeoEnrichment Service":"Geocoding Service"===b?G="Locator":"Microsoft Powerpoint"===b?G="Microsoft PowerPoint":"GeoJson"===b?G="GeoJSON":"Globe Service"===b?G="Globe Layer":"Vector Tile Service"===b?G="Tile Layer":"netCDF"===b?G="NetCDF":"Map Service"===b?G=x.includes("Spatiotemporal")||!x.includes("Hosted Service")&&!x.includes("Tiled")||x.includes("Relational")?"Map Image Layer":"Tile Layer":b?.toLowerCase().includes("add in")?G=b.replaceAll(/(add in)/gi,
"Add-In"):"datastore catalog service"===b?G="Big Data File Share":"Compact Tile Package"===b?G="Tile Package (tpkx)":"Raster function template"===b?G="Raster Function Template":"OGCFeatureServer"===b?G="OGC Feature Layer":"web mapping application"===b&&x.includes("configurableApp")?G="Instant App":"Insights Page"===b?G="Insights Report":"Excalibur Imagery Project"===b?G="Excalibur Project":"3DTiles Service"===b?G="3D tiles layer":"3DTiles Package"===b&&(G="3D tiles package");return G}readExtent(b){return b&&
b.length?new t(b[0][0],b[0][1],b[1][0],b[1][1]):null}get iconUrl(){var b=this.type?.toLowerCase()||"";const x=this.typeKeywords||[];var G=!1,K=!1;let ca=!1,na=!1,ea=!1,T=!1;G=K=!1;0<b.indexOf("service")||"feature collection"===b||"kml"===b||"wms"===b||"wmts"===b||"wfs"===b?(G=x.includes("Hosted Service"),"feature service"===b||"feature collection"===b||"kml"===b||"wfs"===b?(K=x.includes("Table"),ca=x.includes("Route Layer"),na=x.includes("Markup"),ea=x.includes("Spatiotemporal"),T=x.includes("UtilityNetwork"),
b=ea&&K?"spatiotemporaltable":K?"table":ca?"routelayer":na?"markup":ea?"spatiotemporal":T?"utilitynetwork":G?"featureshosted":"features"):"map service"===b||"wms"===b||"wmts"===b?(ea=x.includes("Spatiotemporal"),K=x.includes("Relational"),b=ea||K?"mapimages":G||x.includes("Tiled")||"wmts"===b?"maptiles":"mapimages"):b="scene service"===b?x.includes("Line")?"sceneweblayerline":x.includes("3DObject")?"sceneweblayermultipatch":x.includes("Point")?"sceneweblayerpoint":x.includes("IntegratedMesh")?"sceneweblayermesh":
x.includes("PointCloud")?"sceneweblayerpointcloud":x.includes("Polygon")?"sceneweblayerpolygon":x.includes("Building")?"sceneweblayerbuilding":x.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===b?x.includes("Elevation 3D Layer")?"elevationlayer":x.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===b?"streamlayer":"vector tile service"===b?"vectortile":"datastore catalog service"===b?"datastorecollection":"geocoding service"===b?"geocodeservice":"video service"===
b?x.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===b?x.includes("Web Tool")?"tool":"layers":"geodata service"===b?"geodataservice":"3dtiles service"===b?x.includes("3DObject")?"3dobjecttileslayer":x.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):b="web map"===b||"cityengine web scene"===b?"maps":"web scene"===b?x.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===b&&x.includes("configurableApp")?
"instantapps":"web mapping application"===b||"mobile application"===b||"application"===b||"operation view"===b||"desktop application"===b?"apps":"map document"===b||"map package"===b||"published map"===b||"scene document"===b||"globe document"===b||"basemap package"===b||"mobile basemap package"===b||"mobile map package"===b||"project package"===b||"project template"===b||"pro map"===b||"layout"===b||"layer"===b&&x.includes("ArcGIS Pro")||"explorer map"===b&&x.indexOf("Explorer Document")?"mapsgray":
"service definition"===b||"shapefile"===b||"cad drawing"===b||"geojson"===b||"netcdf"===b||"administrative report"===b?"datafiles":"360 vr experience"===b?"360vr":"explorer add in"===b||"desktop add in"===b||"windows viewer add in"===b||"windows viewer configuration"===b?"appsgray":"arcgis pro add in"===b||"arcgis pro configuration"===b?"addindesktop":"pdf"===b?"pdf":"microsoft word"===b?"word":"microsoft excel"===b?"excel":"microsoft powerpoint"===b?"ppt":"rule package"===b||"file geodatabase"===
b||"sqlite geodatabase"===b||"csv collection"===b||"kml collection"===b||"windows mobile package"===b||"map template"===b||"desktop application template"===b||"gml"===b||"arcpad package"===b||"code sample"===b||"document link"===b||"earth configuration"===b||"operations dashboard add in"===b||"rules package"===b||"workflow manager package"===b||"explorer map"===b&&x.includes("Explorer Mapping Application")||x.includes("Document")?"datafilesgray":"network analysis service"===b||"geoprocessing service"===
b||"geodata service"===b||"geometry service"===b||"geoprocessing package"===b||"locator package"===b||"geoprocessing sample"===b||"workflow manager service"===b?"toolsgray":"layer"===b||"layer package"===b||"explorer layer"===b?"layersgray":"analysis model"===b?"analysismodel":"scene package"===b?"scenepackage":"3dtiles package"===b?"3dtileslayerpackage":"3dtiles service"===b?"3dtileslayer":"mobile scene package"===b?"mobilescenepackage":"tile package"===b||"compact tile package"===b?"tilepackage":
"task file"===b?"taskfile":"report template"===b?"report-template":"statistical data collection"===b?"statisticaldatacollection":"insights workbook"===b?"workbook":"insights model"===b?"insightsmodel":"insights page"===b?"insightspage":"insights theme"===b?"insightstheme":"hub initiative"===b?"hubinitiative":"hub page"===b?"hubpage":"hub site application"===b?"hubsite":"hub event"===b?"hubevent":"hub project"===b?"hubproject":"relational database connection"===b?"relationaldatabaseconnection":"big data file share"===
b?"datastorecollection":"image collection"===b?"imagecollection":"desktop style"===b?"desktopstyle":"style"===b?x.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===b?"dashboard":"raster function template"===b?"rasterprocessingtemplate":"vector tile package"===b?"vectortilepackage":"ortho mapping project"===b?"orthomappingproject":"ortho mapping template"===b?"orthomappingtemplate":"solution"===b?"solutions":"geopackage"===b?"geopackage":"deep learning package"===b?"deeplearningpackage":
"real time analytic"===b?"realtimeanalytics":"big data analytic"===b?"bigdataanalytics":"feed"===b?"feed":"excalibur imagery project"===b?"excaliburimageryproject":"notebook"===b?"notebook":"storymap"===b?"storymap":"survey123 add in"===b?"survey123addin":"mission"===b?"mission":"mission report"===b?"missionreport":"mission template"===b?"missiontemplate":"quickcapture project"===b?"quickcaptureproject":"pro report"===b?"proreport":"pro report template"===b?"proreporttemplate":"urban model"===b?"urbanmodel":
"web experience"===b?"experiencebuilder":"web experience template"===b?"webexperiencetemplate":"experience builder widget"===b?"experiencebuilderwidget":"experience builder widget package"===b?"experiencebuilderwidgetpackage":"workflow"===b?"workflow":"kernel gateway connection"===b?"kernelgatewayconnection":"insights script"===b?"insightsscript":"hub initiative template"===b?"hubinitiativetemplate":"storymap theme"===b?"storymaptheme":"knowledge graph"===b?"knowledgegraph":"knowledge graph layer"===
b?"knowledgegraphlayer":"knowledge studio project"===b?"knowledgestudio":"native application"===b?"nativeapp":"native application installer"===b?"nativeappinstaller":"web link chart"===b?"linkchart":"knowledge graph web investigation"===b?"investigation":"ogcfeatureserver"===b?"features":"pro project"===b?"proproject":"insights workbook package"===b?"insightsworkbookpackage":"apache parquet"===b?"apacheparquet":"notebook code snippet library"===b?"notebookcodesnippets":"suitability model"===b?"suitabilitymodel":
"esri classifier definition"===b?"classifierdefinition":"esri classification schema"===b?"classificationschema":"insights data engineering workbook"===b?"dataengineeringworkbook":"insights data engineering model"===b?"dataengineeringmodel":"deep learning studio project"===b?"deeplearningproject":"discussion"===b?"discussion":"allsource project"===b?"allsourceproject":"api key"===b?"apikey":"data pipeline"===b?"datapipelines":"group layer"===b?(G=x.includes("Map"))?"layergroup2d":"layergroup":"media layer"===
b?"onlinemedialayer":"form"===b?x.includes("Survey123")?"survey":"datafilesgray":"csv"===b?"csv":"image"===b?"image":"maps";return b?r.getAssetUrl("esri/images/portal/"+b+"16.png"):null}get isLayer(){return null!=this.type&&H.has(this.type)}get itemCdnUrl(){return Q.toCDNUrl(this.itemUrl)}get itemPageUrl(){const b=this.portal?.itemPageUrl;return b&&this.id?`${b}?id=${this.id}`:null}get itemUrl(){const b=this.portal?.restUrl;return b&&this.id?`${b}/content/items/${this.id}`:null}get thumbnailUrl(){const b=
this.itemUrl,x=this.thumbnail;return b&&x?this.portal?.normalizeUrl(`${b}/info/${x}?f=json`)??null:null}get userItemUrl(){const b=this.portal?.restUrl;if(!b)return null;const x=this.owner||this.portal?.user?.username;return x?`${b}/content/users/${this.ownerFolder?`${x}/${this.ownerFolder}`:x}/items/${this.id}`:null}load(b){const x=this.portal??(this.portal=l.getDefault()),G=x.load(b).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?x.request(this.itemUrl,{signal:null!=b?b.signal:null,
query:{token:this.apiKey}}):{}).then(K=>{this.sourceJSON=K;this.read(K)});this.addResolvingPromise(G);return Promise.resolve(this)}async addRating(b){const x={method:"post",query:{}};b instanceof J&&(b=b.rating);null==b||isNaN(b)||"number"!==typeof b||(x.query.rating=b);if(!this.portal)return null;await this.portal.request(this.itemUrl+"/addRating",x);return new J({rating:b,created:new Date})}clone(){var b={access:this.access,accessInformation:this.accessInformation,applicationProxies:m.clone(this.applicationProxies),
avgRating:this.avgRating,categories:m.clone(this.categories),created:m.clone(this.created),culture:this.culture,description:this.description,extent:m.clone(this.extent),groupCategories:m.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:m.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:m.clone(this.screenshots),
size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:m.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:m.clone(this.typeKeywords),url:this.url};this.loaded&&(b.loadStatus="loaded");b=(new A({sourceJSON:this.sourceJSON})).set(b);b._set("isOrgItem",this.isOrgItem);return b}createPostQuery(){const b=this.toJSON();for(var x of["tags","typeKeywords","categories"])b[x]=b[x]?.join(", ");({extent:x}=b);x&&(b.extent=
JSON.stringify(x));return b}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(b="json",x){return this.portal.request(this.itemUrl+"/data",{responseType:b,...x,query:{token:this.apiKey}})}async fetchRating(b){b=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...b});return null!=b.rating?(b.created=new Date(b.created),new J(b)):null}fetchRelatedItems(b,x){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",
{query:{...b,token:this.apiKey},...x},A)}getThumbnailUrl(b){let x=this.thumbnailUrl;x&&b&&(x+=`&w=${b}`);return x}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(b=>{this.sourceJSON=b;this.read(b);return this})}update(b){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const x=b?.data,G={method:"post"};G.query=this.createPostQuery();for(const K in G.query)null===G.query[K]&&(G.query[K]="");G.query.clearEmptyFields=!0;null!=x&&
("string"===typeof x?G.query.text=x:"object"===typeof x&&(G.query.text=JSON.stringify(x)));return this.portal.request(`${this.userItemUrl}/update`,G).then(()=>this.reload())}):Promise.reject(new k("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(b){if(!this.id)throw new k("portal:item-does-not-exist","The item does not exist yet");await this.load();const {portal:x,itemUrl:G}=this;await x.signIn();const {copyResources:K,folder:ca,tags:na,title:ea}=b||{};
b={method:"post",query:{copyPrivateResources:"all"===K,folder:"string"===typeof ca?ca:ca?.id,includeResources:!!K,tags:na?.join(","),title:ea}};({itemId:b}=await x.request(`${G}/copy`,b));return new A({id:b,portal:x})}updateThumbnail(b){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const x=b.thumbnail,G=b.filename,K={method:"post"};if("string"===typeof x)F.isDataProtocol(x)?K.query={data:x}:K.query={url:F.makeAbsolute(x)},null!=G&&(K.query.filename=G);else{const ca=new FormData;
null!=G?ca.append("file",x,G):ca.append("file",x);K.body=ca}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,K).then(()=>this.reload())}):Promise.reject(new k("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(b={},x){const {fetchResources:G}=await new Promise((K,ca)=>f(["./support/resourceUtils"],K,ca));return G(this,b,x)}async addResource(b,x,G){const {addOrUpdateResources:K}=await new Promise((ca,na)=>f(["./support/resourceUtils"],
ca,na));b.portalItem=this;await K(this,[{resource:b,content:x,compress:G?.compress,access:G?.access}],"add",G);return b}async removeResource(b,x){const {removeResource:G}=await new Promise((K,ca)=>f(["./support/resourceUtils"],K,ca));if(b.portalItem&&b.portalItem.itemUrl!==this.itemUrl)throw new k("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return G(this,b,x)}async removeAllResources(b){const {removeAllResources:x}=await new Promise((G,
K)=>f(["./support/resourceUtils"],G,K));return x(this,b)}resourceFromPath(b){return new D({portalItem:this,path:b})}toJSON(){var b=this.extent;b={accessInformation:this.accessInformation,categories:m.clone(this.categories),created:this.created?.getTime(),description:this.description,extent:b&&[[b.xmin,b.ymin],[b.xmax,b.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,
sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:m.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:m.clone(this.typeKeywords),url:this.url};return m.fixJson(b)}static fromJSON(b){if(!b)return null;if(b.declaredClass)throw Error("JSON object is already hydrated");return new A({sourceJSON:b})}_getPostQuery(){const b=this.toJSON();for(const x in b)"tags"===x&&null!==b[x]&&(b[x]=b[x].join(", ")),"typeKeywords"===x&&null!==b[x]&&(b[x]=b[x].join(", ")),
"extent"===x&&b[x]&&(b[x]=JSON.stringify(b[x]));return b}};h.__decorate([z.property({type:["private","shared","org","public"]})],n.prototype,"access",void 0);h.__decorate([z.property()],n.prototype,"accessInformation",void 0);h.__decorate([z.property({type:String})],n.prototype,"apiKey",void 0);h.__decorate([z.property({json:{read:{source:"appProxies"}}})],n.prototype,"applicationProxies",void 0);h.__decorate([z.property()],n.prototype,"avgRating",void 0);h.__decorate([z.property()],n.prototype,"categories",
void 0);h.__decorate([z.property({type:Date})],n.prototype,"created",void 0);h.__decorate([z.property()],n.prototype,"culture",void 0);h.__decorate([z.property()],n.prototype,"description",void 0);h.__decorate([z.property({readOnly:!0})],n.prototype,"displayName",null);h.__decorate([z.property({type:t})],n.prototype,"extent",void 0);h.__decorate([w.reader("extent")],n.prototype,"readExtent",null);h.__decorate([z.property()],n.prototype,"groupCategories",void 0);h.__decorate([z.property({readOnly:!0})],
n.prototype,"iconUrl",null);h.__decorate([z.property()],n.prototype,"id",void 0);h.__decorate([z.property({readOnly:!0})],n.prototype,"isLayer",null);h.__decorate([z.property({type:Boolean,readOnly:!0})],n.prototype,"isOrgItem",void 0);h.__decorate([z.property()],n.prototype,"itemControl",void 0);h.__decorate([z.property({readOnly:!0})],n.prototype,"itemPageUrl",null);h.__decorate([z.property({readOnly:!0})],n.prototype,"itemUrl",null);h.__decorate([z.property()],n.prototype,"licenseInfo",void 0);
h.__decorate([z.property({type:Date})],n.prototype,"modified",void 0);h.__decorate([z.property()],n.prototype,"name",void 0);h.__decorate([z.property()],n.prototype,"numComments",void 0);h.__decorate([z.property()],n.prototype,"numRatings",void 0);h.__decorate([z.property()],n.prototype,"numViews",void 0);h.__decorate([z.property()],n.prototype,"owner",void 0);h.__decorate([z.property()],n.prototype,"ownerFolder",void 0);h.__decorate([z.property({type:l})],n.prototype,"portal",void 0);h.__decorate([z.property()],
n.prototype,"screenshots",void 0);h.__decorate([z.property()],n.prototype,"size",void 0);h.__decorate([z.property()],n.prototype,"snippet",void 0);h.__decorate([z.property()],n.prototype,"sourceJSON",void 0);h.__decorate([z.property({type:String})],n.prototype,"sourceUrl",void 0);h.__decorate([z.property({type:String})],n.prototype,"spatialReference",void 0);h.__decorate([z.property()],n.prototype,"tags",void 0);h.__decorate([z.property()],n.prototype,"thumbnail",void 0);h.__decorate([z.property({readOnly:!0})],
n.prototype,"thumbnailUrl",null);h.__decorate([z.property()],n.prototype,"title",void 0);h.__decorate([z.property()],n.prototype,"type",void 0);h.__decorate([z.property()],n.prototype,"typeKeywords",void 0);h.__decorate([z.property({type:String,json:{read(b,x){V.has(x.type)&&(x=this.portal?.restUrl,b||=x&&this.id?`${x}/content/items/${this.id}/data`:null);return b}}})],n.prototype,"url",void 0);h.__decorate([z.property({readOnly:!0})],n.prototype,"userItemUrl",null);return n=A=h.__decorate([B.subclass("esri.portal.PortalItem")],
n)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(f,h,r,k,n,m,u,F,z,C,w){function B(t,l){if(null==t)return t;t=t.replace(/^\/+/,"");null!=l&&m.isAbsolute(t)&&(t=m.makeRelative(t,l.itemUrl));return t?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,
"")}r=class extends r{constructor(t){super(t);this.portalItem=null}normalizeCtorArgs(t){return t?.portalItem&&t.path?{...t,path:B(t.path,t.portalItem)}:t}set path(t){null!=t&&m.isAbsolute(t)?n.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return B(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?
`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",l){const D=this.cdnUrl;if(null==D)throw new k("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(D,{responseType:t,query:{token:this.portalItem.apiKey},signal:l?.signal})}async update(t,l){const {addOrUpdateResources:D}=await new Promise((J,Q)=>f(["./support/resourceUtils"],
J,Q));await D(this.portalItem,[{resource:this,content:t,compress:l?.compress,access:l?.access}],"update",l);return this}hasPath(){return null!=this.path}};h.__decorate([u.property()],r.prototype,"portalItem",void 0);h.__decorate([u.property({type:String,value:null})],r.prototype,"path",null);h.__decorate([F.cast("path")],r.prototype,"_castPath",null);h.__decorate([u.property({type:String,readOnly:!0})],r.prototype,"url",null);h.__decorate([u.property({type:String,readOnly:!0})],r.prototype,"cdnUrl",
null);h.__decorate([u.property({type:String,readOnly:!0})],r.prototype,"itemRelativeUrl",null);return r=h.__decorate([w.subclass("esri.portal.PortalItemResource")],r)})},"esri/portal/PortalRating":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(f,h,r,k,n,m,u){h=class extends h{constructor(F){super(F);this.rating=this.created=null}};f.__decorate([r.property()],
h.prototype,"created",void 0);f.__decorate([r.property()],h.prototype,"rating",void 0);return h=f.__decorate([u.subclass("esri.portal.PortalRating")],h)})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../kernel","../core/urlUtils","../portal/support/urlUtils"],function(f,h,r,k){function n(A,H){var V=H?.url?.path;A&&V&&(A=r.makeAbsolute(A,V,{preserveProtocolRelative:!0}),H.portalItem&&H.readResourcePaths&&(V=r.makeRelative(A,H.portalItem.itemUrl),null!=V&&J.test(V)&&H.readResourcePaths.push(H.portalItem.resourceFromPath(V).path)));
return(A=B(A,H?.portal))&&D.test(A)?t(A):A}function m(A,H,V=f.MarkKeep.YES){A=A&&D.test(A)?l(A):A;if(null==A)return A;!r.isAbsolute(A)&&H?.blockedRelativeUrls&&H.blockedRelativeUrls.push(A);let b=r.makeAbsolute(A);if(H){var x=H.verifyItemRelativeUrls?.rootPath||H.url?.path;if(x){x=B(x,H.portal);const G=B(b,H.portal);b=r.makeRelative(G,x,x);null!=b&&b!==G&&b!==A&&H.verifyItemRelativeUrls&&H.verifyItemRelativeUrls.writtenUrls.push(b)}}b=w(b,H?.portal);r.isAbsolute(b)&&(b=r.normalize(b));H?.resources&&
H?.portalItem&&!r.isAbsolute(b)&&!r.isDataProtocol(b)&&V===f.MarkKeep.YES&&H.resources.toKeep.push({resource:H.portalItem.resourceFromPath(b),compress:!1});return b}function u(A,H,V){return n(A,V)}function F(A,H,V,b){A=m(A,b);void 0!==A&&(H[V]=A)}function z(A){return(A?.match(D)??null)?.[1]??null}function C(A){A=A?.match(D)??null;if(null==A)return null;A=A[2];const H=A.lastIndexOf("/");if(-1===H){const {path:x,extension:G}=r.splitPathExtension(A);return{prefix:null,filename:x,extension:G}}const {path:V,
extension:b}=r.splitPathExtension(A.slice(H+1));return{prefix:A.slice(0,H),filename:V,extension:b}}function w(A,H){return H&&!H.isPortal&&H.urlKey&&H.customBaseUrl?r.changeDomain(A,`${H.urlKey}.${H.customBaseUrl}`,H.portalHostname):A}function B(A,H){if(!H||H.isPortal||!H.urlKey||!H.customBaseUrl)return A;const V=`${H.urlKey}.${H.customBaseUrl}`,b=r.getAppUrl();return r.hasSameOrigin(b,`${b.scheme}://${V}`)?r.changeDomain(A,H.portalHostname,V):r.changeDomain(A,V,H.portalHostname)}function t(A){if(!A)return A||
null;A&&h.id&&!h.id.findCredential(A)&&(A=k.normalizeArcGISOnlineOrgDomain(A),A=A.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),A=A.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),A=A.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com"));return A}function l(A){if(!A)return A||null;A=A.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com");A=A.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com");(A=A.replace(/^https?:\/\/cdnqa\.arcgis\.com/,
"https://qaext.arcgis.com"))&&h.id&&!h.id.findCredential(A)&&(A=k.normalizeArcGISOnlineOrgDomain(A));return A}const D=/\/items\/([^/]+)\/resources\/(.*)/,J=/^\.\/resources\//;f.MarkKeep=void 0;(function(A){A[A.YES=0]="YES";A[A.NO=1]="NO"})(f.MarkKeep||(f.MarkKeep={}));const Q=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return f.MarkKeep},ensureMainOnlineDomain:w,fromCDNUrl:l,fromJSON:n,itemIdFromResourceUrl:z,prefixAndFilenameFromResourceUrl:C,read:u,toCDNUrl:t,toJSON:m,write:F},
Symbol.toStringTag,{value:"Module"}));f.ensureMainOnlineDomain=w;f.fromCDNUrl=l;f.fromJSON=n;f.itemIdFromResourceUrl=z;f.persistableUrlUtils=Q;f.prefixAndFilenameFromResourceUrl=C;f.read=u;f.toCDNUrl=t;f.toJSON=m;f.write=F})},"esri/support/basemapDefinitions":function(){define(["exports","../assets","../intl/messages"],function(f,h,r){f.esriBasemapDefinitions={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},
{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",
title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",
title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get "dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",
visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",
styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/streets-night.jpg")},
baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",
styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",
visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",
title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",
title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},
"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",
layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},
{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",
title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",
itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},
{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",
title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},
"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",
layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",
title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",
title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",
title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},
"arcgis-topographic":{get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return h.getAssetUrl("esri/images/basemap/oceans.jpg")},
title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",
title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},
"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},
"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",
title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",
title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",
title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",
title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};f.getBasemapTitle=async function(k){if(k){var n=k.includes("-vector")?k.slice(0,k.indexOf("-vector")):
k.includes("-3d")?k.slice(0,k.indexOf("-3d")):k,m=await r.fetchMessageBundle("esri/t9n/basemaps");return m[k]||m[n]}};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/support/BasemapStyle":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../intl/locale".split(" "),function(f,h,r,k,n,m,u,F){const z=new Set("ar bs ca hr cs da nl en et fi fr de el he hu id it ja ko lv lt nb pl ro ru sr es sv th tr uk vi".split(" "));
h=class extends h{constructor(C){super(C);this.places=this.language=this.id=null;this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps";this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;var C=F.getLocale().toLowerCase();switch(C){case "pt-br":return"pt-BR";case "pt-pt":return"pt-PT";case "zh-cn":return"zh-CN";case "zh-hk":return"zh-HK";case "zh-tw":return"zh-TW"}C=F.getLanguage(C);return"pt"===C?"pt-BR":C&&z.has(C)?C:"global"}};
f.__decorate([r.property()],h.prototype,"id",void 0);f.__decorate([r.property()],h.prototype,"language",void 0);f.__decorate([r.property()],h.prototype,"places",void 0);f.__decorate([r.property()],h.prototype,"serviceUrl",void 0);f.__decorate([r.property()],h.prototype,"worldview",void 0);return h=f.__decorate([u.subclass("esri.support.BasemapStyle")],h)})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),
function(f,h,r,k,n,m){function u(C,w){"maxScale"in C&&(w.maxScale=n.numberToJSON(C.maxScale)??void 0);"minScale"in C&&(w.minScale=n.numberToJSON(C.minScale)??void 0)}const F=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),z=new Set("catalog csv feature geo-rss geojson group imagery imagery-tile kml knowledge-graph map-image map-notes media ogc-feature oriented-imagery route stream subtype-group tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));
f.disableRestrictedWriting=function(C){F.add(C);z.add(C)};f.enableRestrictedWriting=function(C){F.delete(C);z.delete(C)};f.getLayerJSON=function(C,w,B){if(!C.persistenceEnabled)return null;if(!("write"in C&&C.write))return B?.messages&&B.messages.push(new h("layer:unsupported",`Layers (${C.title}, ${C.id}) of type '${C.declaredClass}' cannot be persisted`,{layer:C})),null;if(m.isFeatureCollectionLayer(C)&&!C.isTable)w=C.resourceInfo;else{if(B.restrictedWebMapWriting){var t="basemap"===B.layerContainerType?
F:"operational-layers"===B.layerContainerType?z:null;t=null!=t?t.has(C.type)&&!m.isFeatureCollectionLayer(C):!0}else t=!0;if(t)return w={},C.write(w,B)?w:null}if(null!=w){w=r.clone(w);if(B=w)m.isFeatureCollectionLayer(C)?(t=k.getDeepValue("featureCollection.layers",B)?.[0]?.layerDefinition)&&u(C,t):"group"!==C.type&&u(C,B);if(B&&(B.id=C.id,"blendMode"in C&&(B.blendMode=C.blendMode,"normal"===B.blendMode&&delete B.blendMode),B.opacity=n.numberToJSON(C.opacity)??void 0,B.title=C.title||"Layer",B.visibility=
C.visible,"legendEnabled"in C&&"wmts"!==C.type))if(m.isFeatureCollectionLayer(C)){if(B=B.featureCollection)B.showLegend=C.legendEnabled}else B.showLegend=C.legendEnabled}return w};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../kernel","../../request"],function(f,h,r){function k(m){return"scene"===m?.type}function n(m){m=m?.type;return"imagery-tile"===m||"tile"===m||"open-street-map"===m||"vector-tile"===m||"web-tile"===
m||"wmts"===m}f.getEffectiveEditingEnabled=function(m){a:if("editingEnabled"in m)switch(m.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var u=!0;break a;default:u=!1}else u=!1;return u?"effectiveEditingEnabled"in m?m.effectiveEditingEnabled:m.editingEnabled:!1};f.getEffectiveLayerCapabilities=function(m){a:if("capabilities"in m)switch(m.type){case "catalog":case "catalog-footprint":case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "sublayer":case "subtype-group":case "subtype-sublayer":case "wfs":var u=
!0;break a;default:u=!1}else u=!1;return u?"effectiveCapabilities"in m?m.effectiveCapabilities:m.capabilities:null};f.getOwningPortalUrl=async function(m,u){var F=h.id?.findServerInfo(m);if(null!=F?.currentVersion)return F.owningSystemUrl||null;F=m.toLowerCase().indexOf("/rest/services");if(-1===F)return null;m=`${m.substring(0,F)}/rest/info`;({data:u}=await r(m,{query:{f:"json"},responseType:"json",signal:null!=u?u.signal:null}));return u?.owningSystemUrl||null};f.getTileMaxtrixSetFromActiveLayer=
function(m){if(m.activeLayer){const u=m.activeLayer.tileMatrixSet;if(u)return u;if(m=m.activeLayer.tileMatrixSets)return m}return null};f.isBaseLayer=function(m){return null!=m?.parent&&"declaredClass"in m.parent&&"esri.Basemap"===m.parent.declaredClass&&m.parent.baseLayers.includes(m)};f.isBasemap3DSupportedLayer=function(m){return n(m)||k(m)};f.isBasemapSupportedTiledLayer=n;f.isFeatureCollectionLayer=function(m){return"feature"===m?.type&&!m.url&&"memory"===m.source?.type};f.isFeatureLayer=function(m){return null!=
m&&"object"===typeof m&&"type"in m&&"feature"===m.type};f.isFeatureServiceLayer=function(m){return"feature"===m?.type&&"feature-layer"===m.source?.type};f.isGraphicsLayer=function(m){return null!=m&&"object"===typeof m&&"type"in m&&"graphics"===m.type};f.isGroupLayer=function(m){return null!=m&&"type"in m&&"group"===m.type};f.isImageryTileLayer=function(m){return"imagery-tile"===m?.type};f.isIntegratedMeshLayer=function(m){return"integrated-mesh"===m||"integrated-mesh-3dtiles"===m};f.isIntegratedMeshOperationalLayer=
function(m){return"IntegratedMeshLayer"===m||"IntegratedMesh3DTilesLayer"===m};f.isKnowledgeGraphLayer=function(m){return null!=m&&"object"===typeof m&&"type"in m&&"knowledge-graph"===m.type&&"layers"in m};f.isLayerWithFeatureLayerSource=function(m){return("feature"===m?.type||"subtype-group"===m?.type)&&"feature-layer"===m.source?.type};f.isLinkChartLayer=function(m){return null!=m&&"object"===typeof m&&"type"in m&&"link-chart"===m.type&&"layers"in m};f.isMapNotesLayer=function(m){return null!=m&&
"object"===typeof m&&"type"in m&&"map-notes"===m.type&&"sublayers"in m};f.isSceneLayer=k;f.isSceneServiceLayer=function(m){m=m?.type;return"building-scene"===m||"integrated-mesh"===m||"point-cloud"===m||"scene"===m};f.isSubtypeGroupLayer=function(m){return null!=m&&"object"===typeof m&&"type"in m&&"subtype-group"===m.type&&"sublayers"in m};f.isSubtypeSublayer=function(m){return"subtype-sublayer"===m?.type};f.isTable=function(m){return null!=m&&"object"===typeof m&&"isTable"in m&&!!m.isTable};f.isTiledLayer=
function(m){m=m?.type;return"base-tile"===m||"tile"===m||"elevation"===m||"imagery-tile"===m||"base-elevation"===m||"open-street-map"===m||"wcs"===m||"web-tile"===m||"wmts"===m||"vector-tile"===m};f.isVoxelLayer=function(m){return"voxel"===m?.type};f.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};f.serializeLayerDefinitions=function(m){const u=/[:;]/,F=[];let z=!1;if(m&&(m.forEach((C,
w)=>{F.push([w,C]);!z&&u.test(C)&&(z=!0)}),0<F.length)){if(z){const C={};F.forEach(w=>{C[w[0]]=w[1]});m=JSON.stringify(C)}else{const C=[];F.forEach(w=>{C.push(w[0]+":"+w[1])});m=C.join(";")}return m}return null};f.serializeTimeOptions=function(m){if(m){var u=[];m.forEach((F,z)=>{u.push('"'+z+'":'+JSON.stringify(F))});if(u.length)return"{"+u.join(",")+"}"}};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(f,
h){f.canInterpolateEffects=function(r,k){const n=r.length>k.length?r:k;return(r.length>k.length?k:r).every((m,u)=>m.type===n[u].type)};f.effectEquals=function(r,k){r=JSON.stringify(r??null);k=JSON.stringify(k??null);return r===k};f.isEffectFunctions=function(r){return(r=r[0])?"type"in r:!1};f.normalizeEffects=function(r,k){const n=r.length>k.length?r:k;r=r.length>k.length?k:r;for(k=r.length;k<n.length;k++)r.push(h.createEffectWithInitialValues(n[k]))};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/effects/effects":function(){define(["exports","../../colorUtils","../../core/screenUtils","../../core/libs/gl-matrix-2/factories/mat4f32","./colorMatrixFunctions"],function(f,h,r,k,n){function m(l,D,J){return l+(D-l)*J}function u(l){return Math.round(1E3*r.px2pt(l))/1E3}class F{constructor(l,D,J){this.strength=l;this.radius=D;this.threshold=J;this.type="bloom"}interpolate(l,D,J){this.strength=m(l.strength,D.strength,J);this.radius=m(l.radius,D.radius,J);this.threshold=m(l.threshold,D.threshold,
J)}clone(){return new F(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:u(this.radius),strength:this.strength,threshold:this.threshold}}}class z{constructor(l){this.radius=l;this.type="blur"}interpolate(l,D,J){this.radius=Math.round(m(l.radius,D.radius,J))}clone(){return new z(this.radius)}toJSON(){return{type:"blur",radius:u(this.radius)}}}class C{constructor(l,D){this.type=l;this.amount=D;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=
Math.min(this.amount,1)}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(l,D,J){this.amount=m(l.amount,D.amount,J);this._updateMatrix()}clone(){return new C(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const l=this._colorMatrix||k.create();switch(this.type){case "brightness":this._colorMatrix=n.brightness(l,this.amount);break;case "contrast":this._colorMatrix=n.contrast(l,this.amount);break;case "grayscale":this._colorMatrix=
n.grayscale(l,this.amount);break;case "invert":this._colorMatrix=n.invert(l,this.amount);break;case "saturate":this._colorMatrix=n.saturate(l,this.amount);break;case "sepia":this._colorMatrix=n.sepia(l,this.amount)}}}class w{constructor(l,D,J,Q){this.offsetX=l;this.offsetY=D;this.blurRadius=J;this.color=Q;this.type="drop-shadow"}interpolate(l,D,J){this.offsetX=m(l.offsetX,D.offsetX,J);this.offsetY=m(l.offsetY,D.offsetY,J);this.blurRadius=m(l.blurRadius,D.blurRadius,J);this.color[0]=Math.round(m(l.color[0],
D.color[0],J));this.color[1]=Math.round(m(l.color[1],D.color[1],J));this.color[2]=Math.round(m(l.color[2],D.color[2],J));this.color[3]=m(l.color[3],D.color[3],J)}clone(){return new w(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const l=[...this.color];l[3]*=255;return{type:"drop-shadow",xoffset:u(this.offsetX),yoffset:u(this.offsetY),blurRadius:u(this.blurRadius),color:l}}}class B{constructor(l){this.angle=l;this.type="hue-rotate"}get colorMatrix(){this._colorMatrix||this._updateMatrix();
return this._colorMatrix}interpolate(l,D,J){this.angle=m(l.angle,D.angle,J);this._updateMatrix()}clone(){return new B(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const l=this._colorMatrix||k.create();this._colorMatrix=n.rotateHue(l,this.angle)}}class t{constructor(l){this.amount=l;this.type="opacity";this.amount=Math.min(this.amount,1)}interpolate(l,D,J){this.amount=m(l.amount,D.amount,J)}clone(){return new t(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}
f.BloomEffect=F;f.BlurEffect=z;f.ColorMatrixEffect=C;f.DropShadowEffect=w;f.HueRotateEffect=B;f.OpacityEffect=t;f.createEffectWithInitialValues=function(l){switch(l.type){case "grayscale":case "sepia":case "invert":return new C(l.type,0);case "saturate":case "brightness":case "contrast":return new C(l.type,1);case "opacity":return new t(1);case "hue-rotate":return new B(0);case "blur":return new z(0);case "drop-shadow":return new w(0,0,0,[...h.getNamedColor("transparent")]);case "bloom":return new F(0,
0,1)}};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f32":function(){define(["exports"],function(f){function h(){const F=new Float32Array(16);F[0]=1;F[5]=1;F[10]=1;F[15]=1;return F}function r(F){const z=new Float32Array(16);z[0]=F[0];z[1]=F[1];z[2]=F[2];z[3]=F[3];z[4]=F[4];z[5]=F[5];z[6]=F[6];z[7]=F[7];z[8]=F[8];z[9]=F[9];z[10]=F[10];z[11]=F[11];z[12]=F[12];z[13]=F[13];z[14]=F[14];z[15]=F[15];return z}function k(F,z,C,w,B,t,l,D,J,Q,A,H,V,
b,x,G){const K=new Float32Array(16);K[0]=F;K[1]=z;K[2]=C;K[3]=w;K[4]=B;K[5]=t;K[6]=l;K[7]=D;K[8]=J;K[9]=Q;K[10]=A;K[11]=H;K[12]=V;K[13]=b;K[14]=x;K[15]=G;return K}function n(F,z){return new Float32Array(F,z,16)}const m=h(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:m,clone:r,create:h,createView:n,fromValues:k},Symbol.toStringTag,{value:"Module"}));f.IDENTITY=m;f.clone=r;f.create=h;f.createView=n;f.fromValues=k;f.mat4f32=u;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(f,h){f.brightness=(r,k)=>{r=h.set(r,k,0,0,0,0,k,0,0,0,0,k,0,0,0,0,1);return h.transpose(r,r)};f.contrast=(r,k)=>{r=h.set(r,k,0,0,.5-.5*k,0,k,0,.5-.5*k,0,0,k,.5-.5*k,0,0,0,1);return h.transpose(r,r)};f.grayscale=(r,k)=>{k=1-k;r=h.set(r,.2126+.7874*k,.7152-.7152*k,.0722-.0722*k,0,.2126-.2126*k,.7152+.2848*k,.0722-.0722*k,0,.2126-.2126*k,.7152-.7152*k,.0722+.9278*k,0,0,0,0,1);return h.transpose(r,
r)};f.invert=(r,k)=>{const n=1-2*k;r=h.set(r,n,0,0,k,0,n,0,k,0,0,n,k,0,0,0,1);return h.transpose(r,r)};f.rotateHue=(r,k)=>{const n=Math.sin(k*Math.PI/180);k=Math.cos(k*Math.PI/180);r=h.set(r,.213+.787*k-.213*n,.715-.715*k-.715*n,.072-.072*k+.928*n,0,.213-.213*k+.143*n,.715+.285*k+.14*n,.072-.072*k-.283*n,0,.213-.213*k-.787*n,.715-.715*k+.715*n,.072+.928*k+.072*n,0,0,0,0,1);return h.transpose(r,r)};f.saturate=(r,k)=>{r=h.set(r,.213+.787*k,.715-.715*k,.072-.072*k,0,.213-.213*k,.715+.285*k,.072-.072*
k,0,.213-.213*k,.715-.715*k,.072+.928*k,0,0,0,0,1);return h.transpose(r,r)};f.sepia=(r,k)=>{k=1-k;r=h.set(r,.393+.607*k,.769-.769*k,.189-.189*k,0,.349-.349*k,.686+.314*k,.168-.168*k,0,.272-.272*k,.534-.534*k,.131+.869*k,0,0,0,0,1);return h.transpose(r,r)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(f,h,r){function k(a,d){a[0]=d[0];a[1]=d[1];a[2]=d[2];a[3]=d[3];a[4]=d[4];
a[5]=d[5];a[6]=d[6];a[7]=d[7];a[8]=d[8];a[9]=d[9];a[10]=d[10];a[11]=d[11];a[12]=d[12];a[13]=d[13];a[14]=d[14];a[15]=d[15];return a}function n(a,d,p,v,I,M,N,P,L,O,U,W,ba,Z,ja,ha,da){a[0]=d;a[1]=p;a[2]=v;a[3]=I;a[4]=M;a[5]=N;a[6]=P;a[7]=L;a[8]=O;a[9]=U;a[10]=W;a[11]=ba;a[12]=Z;a[13]=ja;a[14]=ha;a[15]=da;return a}function m(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function u(a,d){if(a===d){const p=d[1],v=d[2],I=
d[3],M=d[6],N=d[7],P=d[11];a[1]=d[4];a[2]=d[8];a[3]=d[12];a[4]=p;a[6]=d[9];a[7]=d[13];a[8]=v;a[9]=M;a[11]=d[14];a[12]=I;a[13]=N;a[14]=P}else a[0]=d[0],a[1]=d[4],a[2]=d[8],a[3]=d[12],a[4]=d[1],a[5]=d[5],a[6]=d[9],a[7]=d[13],a[8]=d[2],a[9]=d[6],a[10]=d[10],a[11]=d[14],a[12]=d[3],a[13]=d[7],a[14]=d[11],a[15]=d[15];return a}function F(a,d){z(a,d)||m(a);return a}function z(a,d){const p=d[0],v=d[1],I=d[2],M=d[3],N=d[4],P=d[5],L=d[6],O=d[7],U=d[8],W=d[9],ba=d[10],Z=d[11],ja=d[12],ha=d[13],da=d[14];d=d[15];
const ra=p*P-v*N,ma=p*L-I*N,oa=p*O-M*N,pa=v*L-I*P,qa=v*O-M*P,ua=I*O-M*L,va=U*ha-W*ja,wa=U*da-ba*ja,xa=U*d-Z*ja,ya=W*da-ba*ha,za=W*d-Z*ha,Aa=ba*d-Z*da;let sa=ra*Aa-ma*za+oa*ya+pa*xa-qa*wa+ua*va;if(!sa)return null;sa=1/sa;a[0]=(P*Aa-L*za+O*ya)*sa;a[1]=(I*za-v*Aa-M*ya)*sa;a[2]=(ha*ua-da*qa+d*pa)*sa;a[3]=(ba*qa-W*ua-Z*pa)*sa;a[4]=(L*xa-N*Aa-O*wa)*sa;a[5]=(p*Aa-I*xa+M*wa)*sa;a[6]=(da*oa-ja*ua-d*ma)*sa;a[7]=(U*ua-ba*oa+Z*ma)*sa;a[8]=(N*za-P*xa+O*va)*sa;a[9]=(v*xa-p*za-M*va)*sa;a[10]=(ja*qa-ha*oa+d*ra)*
sa;a[11]=(W*oa-U*qa-Z*ra)*sa;a[12]=(P*wa-N*ya-L*va)*sa;a[13]=(p*ya-v*wa+I*va)*sa;a[14]=(ha*ma-ja*pa-da*ra)*sa;a[15]=(U*pa-W*ma+ba*ra)*sa;return a}function C(a,d){const p=d[0],v=d[1],I=d[2],M=d[3],N=d[4],P=d[5],L=d[6],O=d[7],U=d[8],W=d[9],ba=d[10],Z=d[11],ja=d[12],ha=d[13],da=d[14];d=d[15];a[0]=P*(ba*d-Z*da)-W*(L*d-O*da)+ha*(L*Z-O*ba);a[1]=-(v*(ba*d-Z*da)-W*(I*d-M*da)+ha*(I*Z-M*ba));a[2]=v*(L*d-O*da)-P*(I*d-M*da)+ha*(I*O-M*L);a[3]=-(v*(L*Z-O*ba)-P*(I*Z-M*ba)+W*(I*O-M*L));a[4]=-(N*(ba*d-Z*da)-U*(L*
d-O*da)+ja*(L*Z-O*ba));a[5]=p*(ba*d-Z*da)-U*(I*d-M*da)+ja*(I*Z-M*ba);a[6]=-(p*(L*d-O*da)-N*(I*d-M*da)+ja*(I*O-M*L));a[7]=p*(L*Z-O*ba)-N*(I*Z-M*ba)+U*(I*O-M*L);a[8]=N*(W*d-Z*ha)-U*(P*d-O*ha)+ja*(P*Z-O*W);a[9]=-(p*(W*d-Z*ha)-U*(v*d-M*ha)+ja*(v*Z-M*W));a[10]=p*(P*d-O*ha)-N*(v*d-M*ha)+ja*(v*O-M*P);a[11]=-(p*(P*Z-O*W)-N*(v*Z-M*W)+U*(v*O-M*P));a[12]=-(N*(W*da-ba*ha)-U*(P*da-L*ha)+ja*(P*ba-L*W));a[13]=p*(W*da-ba*ha)-U*(v*da-I*ha)+ja*(v*ba-I*W);a[14]=-(p*(P*da-L*ha)-N*(v*da-I*ha)+ja*(v*L-I*P));a[15]=p*(P*
ba-L*W)-N*(v*ba-I*W)+U*(v*L-I*P);return a}function w(a){const d=a[0],p=a[1],v=a[2],I=a[3],M=a[4],N=a[5],P=a[6],L=a[7],O=a[8],U=a[9],W=a[10],ba=a[11],Z=a[12],ja=a[13],ha=a[14];a=a[15];return(d*N-p*M)*(W*a-ba*ha)-(d*P-v*M)*(U*a-ba*ja)+(d*L-I*M)*(U*ha-W*ja)+(p*P-v*N)*(O*a-ba*Z)-(p*L-I*N)*(O*ha-W*Z)+(v*L-I*P)*(O*ja-U*Z)}function B(a,d,p){const v=d[0],I=d[1],M=d[2],N=d[3],P=d[4],L=d[5],O=d[6],U=d[7],W=d[8],ba=d[9],Z=d[10],ja=d[11],ha=d[12],da=d[13],ra=d[14];d=d[15];let ma=p[0],oa=p[1],pa=p[2],qa=p[3];
a[0]=ma*v+oa*P+pa*W+qa*ha;a[1]=ma*I+oa*L+pa*ba+qa*da;a[2]=ma*M+oa*O+pa*Z+qa*ra;a[3]=ma*N+oa*U+pa*ja+qa*d;ma=p[4];oa=p[5];pa=p[6];qa=p[7];a[4]=ma*v+oa*P+pa*W+qa*ha;a[5]=ma*I+oa*L+pa*ba+qa*da;a[6]=ma*M+oa*O+pa*Z+qa*ra;a[7]=ma*N+oa*U+pa*ja+qa*d;ma=p[8];oa=p[9];pa=p[10];qa=p[11];a[8]=ma*v+oa*P+pa*W+qa*ha;a[9]=ma*I+oa*L+pa*ba+qa*da;a[10]=ma*M+oa*O+pa*Z+qa*ra;a[11]=ma*N+oa*U+pa*ja+qa*d;ma=p[12];oa=p[13];pa=p[14];qa=p[15];a[12]=ma*v+oa*P+pa*W+qa*ha;a[13]=ma*I+oa*L+pa*ba+qa*da;a[14]=ma*M+oa*O+pa*Z+qa*ra;
a[15]=ma*N+oa*U+pa*ja+qa*d;return a}function t(a,d,p){const v=p[0],I=p[1];p=p[2];if(d===a)a[12]=d[0]*v+d[4]*I+d[8]*p+d[12],a[13]=d[1]*v+d[5]*I+d[9]*p+d[13],a[14]=d[2]*v+d[6]*I+d[10]*p+d[14],a[15]=d[3]*v+d[7]*I+d[11]*p+d[15];else{const M=d[0],N=d[1],P=d[2],L=d[3],O=d[4],U=d[5],W=d[6],ba=d[7],Z=d[8],ja=d[9],ha=d[10],da=d[11];a[0]=M;a[1]=N;a[2]=P;a[3]=L;a[4]=O;a[5]=U;a[6]=W;a[7]=ba;a[8]=Z;a[9]=ja;a[10]=ha;a[11]=da;a[12]=M*v+O*I+Z*p+d[12];a[13]=N*v+U*I+ja*p+d[13];a[14]=P*v+W*I+ha*p+d[14];a[15]=L*v+ba*
I+da*p+d[15]}return a}function l(a,d,p){const v=p[0],I=p[1];p=p[2];a[0]=d[0]*v;a[1]=d[1]*v;a[2]=d[2]*v;a[3]=d[3]*v;a[4]=d[4]*I;a[5]=d[5]*I;a[6]=d[6]*I;a[7]=d[7]*I;a[8]=d[8]*p;a[9]=d[9]*p;a[10]=d[10]*p;a[11]=d[11]*p;a[12]=d[12];a[13]=d[13];a[14]=d[14];a[15]=d[15];return a}function D(a,d,p,v){let I=v[0],M=v[1];v=v[2];let N=Math.sqrt(I*I+M*M+v*v);var P=void 0,L=void 0;let O=void 0,U=void 0,W=void 0,ba=void 0,Z=void 0,ja=void 0,ha=void 0,da=void 0,ra=void 0,ma=void 0,oa=void 0,pa=void 0,qa=void 0,ua=
void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0;L=P=void 0;if(N<r.getEpsilon())return null;N=1/N;I*=N;M*=N;v*=N;P=Math.sin(p);L=Math.cos(p);O=1-L;U=d[0];W=d[1];ba=d[2];Z=d[3];ja=d[4];ha=d[5];da=d[6];ra=d[7];ma=d[8];oa=d[9];pa=d[10];qa=d[11];ua=I*I*O+L;va=M*I*O+v*P;wa=v*I*O-M*P;xa=I*M*O-v*P;ya=M*M*O+L;za=v*M*O+I*P;Aa=I*v*O+M*P;P=M*v*O-I*P;L=v*v*O+L;a[0]=U*ua+ja*va+ma*wa;a[1]=W*ua+ha*va+oa*wa;a[2]=ba*ua+da*va+pa*wa;a[3]=Z*ua+ra*va+qa*wa;a[4]=U*xa+ja*ya+ma*za;a[5]=W*xa+ha*ya+oa*za;
a[6]=ba*xa+da*ya+pa*za;a[7]=Z*xa+ra*ya+qa*za;a[8]=U*Aa+ja*P+ma*L;a[9]=W*Aa+ha*P+oa*L;a[10]=ba*Aa+da*P+pa*L;a[11]=Z*Aa+ra*P+qa*L;d!==a&&(a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15]);return a}function J(a,d,p){const v=Math.sin(p);p=Math.cos(p);const I=d[4],M=d[5],N=d[6],P=d[7],L=d[8],O=d[9],U=d[10],W=d[11];d!==a&&(a[0]=d[0],a[1]=d[1],a[2]=d[2],a[3]=d[3],a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15]);a[4]=I*p+L*v;a[5]=M*p+O*v;a[6]=N*p+U*v;a[7]=P*p+W*v;a[8]=L*p-I*v;a[9]=O*p-M*v;a[10]=U*p-N*v;a[11]=
W*p-P*v;return a}function Q(a,d,p){const v=Math.sin(p);p=Math.cos(p);const I=d[0],M=d[1],N=d[2],P=d[3],L=d[8],O=d[9],U=d[10],W=d[11];d!==a&&(a[4]=d[4],a[5]=d[5],a[6]=d[6],a[7]=d[7],a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15]);a[0]=I*p-L*v;a[1]=M*p-O*v;a[2]=N*p-U*v;a[3]=P*p-W*v;a[8]=I*v+L*p;a[9]=M*v+O*p;a[10]=N*v+U*p;a[11]=P*v+W*p;return a}function A(a,d,p){const v=Math.sin(p);p=Math.cos(p);const I=d[0],M=d[1],N=d[2],P=d[3],L=d[4],O=d[5],U=d[6],W=d[7];d!==a&&(a[8]=d[8],a[9]=d[9],a[10]=d[10],a[11]=
d[11],a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15]);a[0]=I*p+L*v;a[1]=M*p+O*v;a[2]=N*p+U*v;a[3]=P*p+W*v;a[4]=L*p-I*v;a[5]=O*p-M*v;a[6]=U*p-N*v;a[7]=W*p-P*v;return a}function H(a,d){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function V(a,d){a[0]=d[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=d[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=d[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function b(a,d,p){if(0===d)return m(a);
let v=p[0],I=p[1];p=p[2];let M=Math.sqrt(v*v+I*I+p*p),N=void 0,P=void 0,L=void 0;if(M<r.getEpsilon())return null;M=1/M;v*=M;I*=M;p*=M;N=Math.sin(d);P=Math.cos(d);L=1-P;a[0]=v*v*L+P;a[1]=I*v*L+p*N;a[2]=p*v*L-I*N;a[3]=0;a[4]=v*I*L-p*N;a[5]=I*I*L+P;a[6]=p*I*L+v*N;a[7]=0;a[8]=v*p*L+I*N;a[9]=I*p*L-v*N;a[10]=p*p*L+P;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function x(a,d){const p=Math.sin(d);d=Math.cos(d);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=d;a[6]=p;a[7]=0;a[8]=0;a[9]=-p;a[10]=d;a[11]=0;a[12]=
0;a[13]=0;a[14]=0;a[15]=1;return a}function G(a,d){const p=Math.sin(d);d=Math.cos(d);a[0]=d;a[1]=0;a[2]=-p;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=p;a[9]=0;a[10]=d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function K(a,d){const p=Math.sin(d);d=Math.cos(d);a[0]=d;a[1]=p;a[2]=0;a[3]=0;a[4]=-p;a[5]=d;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ca(a,d,p){var v=d[0],I=d[1],M=d[2],N=d[3],P=v+v,L=I+I;const O=M+M;d=v*P;const U=v*L;v*=O;const W=I*L;
I*=O;M*=O;P*=N;L*=N;N*=O;a[0]=1-(W+M);a[1]=U+N;a[2]=v-L;a[3]=0;a[4]=U-N;a[5]=1-(d+M);a[6]=I+P;a[7]=0;a[8]=v+L;a[9]=I-P;a[10]=1-(d+W);a[11]=0;a[12]=p[0];a[13]=p[1];a[14]=p[2];a[15]=1;return a}function na(a,d){const p=Ia,v=-d[0],I=-d[1],M=-d[2],N=d[3],P=d[4],L=d[5],O=d[6],U=d[7],W=v*v+I*I+M*M+N*N;0<W?(p[0]=2*(P*N+U*v+L*M-O*I)/W,p[1]=2*(L*N+U*I+O*v-P*M)/W,p[2]=2*(O*N+U*M+P*I-L*v)/W):(p[0]=2*(P*N+U*v+L*M-O*I),p[1]=2*(L*N+U*I+O*v-P*M),p[2]=2*(O*N+U*M+P*I-L*v));ca(a,d,p);return a}function ea(a,d){a[0]=
d[12];a[1]=d[13];a[2]=d[14];return a}function T(a,d){const p=d[0],v=d[1],I=d[2],M=d[4],N=d[5],P=d[6],L=d[8],O=d[9];d=d[10];a[0]=Math.sqrt(p*p+v*v+I*I);a[1]=Math.sqrt(M*M+N*N+P*P);a[2]=Math.sqrt(L*L+O*O+d*d);return a}function y(a,d){const p=d[0]+d[5]+d[10];let v=0;0<p?(v=2*Math.sqrt(p+1),a[3]=.25*v,a[0]=(d[6]-d[9])/v,a[1]=(d[8]-d[2])/v,a[2]=(d[1]-d[4])/v):d[0]>d[5]&&d[0]>d[10]?(v=2*Math.sqrt(1+d[0]-d[5]-d[10]),a[3]=(d[6]-d[9])/v,a[0]=.25*v,a[1]=(d[1]+d[4])/v,a[2]=(d[8]+d[2])/v):d[5]>d[10]?(v=2*Math.sqrt(1+
d[5]-d[0]-d[10]),a[3]=(d[8]-d[2])/v,a[0]=(d[1]+d[4])/v,a[1]=.25*v,a[2]=(d[6]+d[9])/v):(v=2*Math.sqrt(1+d[10]-d[0]-d[5]),a[3]=(d[1]-d[4])/v,a[0]=(d[8]+d[2])/v,a[1]=(d[6]+d[9])/v,a[2]=.25*v);return a}function c(a,d,p,v){var I=d[0],M=d[1],N=d[2],P=d[3],L=I+I,O=M+M,U=N+N;d=I*L;const W=I*O;I*=U;const ba=M*O;M*=U;N*=U;L*=P;O*=P;P*=U;U=v[0];const Z=v[1];v=v[2];a[0]=(1-(ba+N))*U;a[1]=(W+P)*U;a[2]=(I-O)*U;a[3]=0;a[4]=(W-P)*Z;a[5]=(1-(d+N))*Z;a[6]=(M+L)*Z;a[7]=0;a[8]=(I+O)*v;a[9]=(M-L)*v;a[10]=(1-(d+ba))*v;
a[11]=0;a[12]=p[0];a[13]=p[1];a[14]=p[2];a[15]=1;return a}function e(a,d,p,v,I){var M=d[0],N=d[1],P=d[2],L=d[3],O=M+M,U=N+N,W=P+P;d=M*O;var ba=M*U,Z=M*W;M=N*U;N*=W;var ja=P*W;P=L*O;U*=L;const ha=L*W;var da=v[0],ra=v[1];W=v[2];v=I[0];L=I[1];I=I[2];O=(1-(M+ja))*da;const ma=(ba+ha)*da;da*=Z-U;ba=(ba-ha)*ra;ja=(1-(d+ja))*ra;ra*=N+P;Z=(Z+U)*W;N=(N-P)*W;d=(1-(d+M))*W;a[0]=O;a[1]=ma;a[2]=da;a[3]=0;a[4]=ba;a[5]=ja;a[6]=ra;a[7]=0;a[8]=Z;a[9]=N;a[10]=d;a[11]=0;a[12]=p[0]+v-(O*v+ba*L+Z*I);a[13]=p[1]+L-(ma*v+
ja*L+N*I);a[14]=p[2]+I-(da*v+ra*L+d*I);a[15]=1;return a}function g(a,d){var p=d[0],v=d[1],I=d[2];d=d[3];var M=p+p,N=v+v;const P=I+I;p*=M;const L=v*M;v*=N;const O=I*M,U=I*N;I*=P;M*=d;N*=d;d*=P;a[0]=1-v-I;a[1]=L+d;a[2]=O-N;a[3]=0;a[4]=L-d;a[5]=1-p-I;a[6]=U+M;a[7]=0;a[8]=O+N;a[9]=U-M;a[10]=1-p-v;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function q(a,d,p,v,I,M,N){const P=1/(p-d),L=1/(I-v),O=1/(M-N);a[0]=2*M*P;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*M*L;a[6]=0;a[7]=0;a[8]=(p+d)*P;a[9]=(I+v)*L;a[10]=
(N+M)*O;a[11]=-1;a[12]=0;a[13]=0;a[14]=N*M*2*O;a[15]=0;return a}function E(a,d,p,v,I){d=1/Math.tan(d/2);let M=void 0;a[0]=d/p;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=d;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=I&&Infinity!==I?(M=1/(v-I),a[10]=(I+v)*M,a[14]=2*I*v*M):(a[10]=-1,a[14]=-2*v);return a}function R(a,d,p,v){const I=Math.tan(d.upDegrees*Math.PI/180),M=Math.tan(d.downDegrees*Math.PI/180),N=Math.tan(d.leftDegrees*Math.PI/180);d=Math.tan(d.rightDegrees*Math.PI/180);const P=2/
(N+d),L=2/(I+M);a[0]=P;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=L;a[6]=0;a[7]=0;a[8]=-((N-d)*P*.5);a[9]=(I-M)*L*.5;a[10]=v/(p-v);a[11]=-1;a[12]=0;a[13]=0;a[14]=v*p/(p-v);a[15]=0;return a}function S(a,d,p,v,I,M,N){const P=1/(d-p),L=1/(v-I),O=1/(M-N);a[0]=-2*P;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*L;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*O;a[11]=0;a[12]=(d+p)*P;a[13]=(I+v)*L;a[14]=(N+M)*O;a[15]=1;return a}function Y(a,d,p,v){const I=d[0],M=d[1];d=d[2];let N=I-p[0],P=M-p[1];p=d-p[2];var L=r.getEpsilon();if(Math.abs(N)<
L&&Math.abs(P)<L&&Math.abs(p)<L)m(a);else{var O=1/Math.sqrt(N*N+P*P+p*p);N*=O;P*=O;p*=O;O=v[0];var U=v[1];L=v[2];v=U*p-L*P;L=L*N-O*p;U=O*P-U*N;(O=Math.sqrt(v*v+L*L+U*U))?(O=1/O,v*=O,L*=O,U*=O):U=L=v=0;var W=P*U-p*L,ba=p*v-N*U,Z=N*L-P*v;(O=Math.sqrt(W*W+ba*ba+Z*Z))?(O=1/O,W*=O,ba*=O,Z*=O):Z=ba=W=0;a[0]=v;a[1]=W;a[2]=N;a[3]=0;a[4]=L;a[5]=ba;a[6]=P;a[7]=0;a[8]=U;a[9]=Z;a[10]=p;a[11]=0;a[12]=-(v*I+L*M+U*d);a[13]=-(W*I+ba*M+Z*d);a[14]=-(N*I+P*M+p*d);a[15]=1}}function X(a,d,p,v){const I=d[0],M=d[1];d=d[2];
var N=v[0];const P=v[1];var L=v[2];v=I-p[0];let O=M-p[1];p=d-p[2];let U=v*v+O*O+p*p;0<U&&(U=1/Math.sqrt(U),v*=U,O*=U,p*=U);let W=P*p-L*O;L=L*v-N*p;N=N*O-P*v;U=W*W+L*L+N*N;0<U&&(U=1/Math.sqrt(U),W*=U,L*=U,N*=U);a[0]=W;a[1]=L;a[2]=N;a[3]=0;a[4]=O*N-p*L;a[5]=p*W-v*N;a[6]=v*L-O*W;a[7]=0;a[8]=v;a[9]=O;a[10]=p;a[11]=0;a[12]=I;a[13]=M;a[14]=d;a[15]=1;return a}function aa(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+
", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function fa(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function la(a,d,p){a[0]=d[0]+p[0];a[1]=d[1]+p[1];a[2]=d[2]+p[2];a[3]=d[3]+p[3];a[4]=d[4]+p[4];a[5]=d[5]+p[5];a[6]=d[6]+p[6];a[7]=d[7]+p[7];a[8]=d[8]+p[8];a[9]=d[9]+p[9];a[10]=d[10]+p[10];a[11]=d[11]+p[11];a[12]=d[12]+p[12];a[13]=d[13]+p[13];a[14]=d[14]+p[14];a[15]=d[15]+p[15];return a}
function ka(a,d,p){a[0]=d[0]-p[0];a[1]=d[1]-p[1];a[2]=d[2]-p[2];a[3]=d[3]-p[3];a[4]=d[4]-p[4];a[5]=d[5]-p[5];a[6]=d[6]-p[6];a[7]=d[7]-p[7];a[8]=d[8]-p[8];a[9]=d[9]-p[9];a[10]=d[10]-p[10];a[11]=d[11]-p[11];a[12]=d[12]-p[12];a[13]=d[13]-p[13];a[14]=d[14]-p[14];a[15]=d[15]-p[15];return a}function ia(a,d,p){a[0]=d[0]*p;a[1]=d[1]*p;a[2]=d[2]*p;a[3]=d[3]*p;a[4]=d[4]*p;a[5]=d[5]*p;a[6]=d[6]*p;a[7]=d[7]*p;a[8]=d[8]*p;a[9]=d[9]*p;a[10]=d[10]*p;a[11]=d[11]*p;a[12]=d[12]*p;a[13]=d[13]*p;a[14]=d[14]*p;a[15]=
d[15]*p;return a}function Ba(a,d,p,v){a[0]=d[0]+p[0]*v;a[1]=d[1]+p[1]*v;a[2]=d[2]+p[2]*v;a[3]=d[3]+p[3]*v;a[4]=d[4]+p[4]*v;a[5]=d[5]+p[5]*v;a[6]=d[6]+p[6]*v;a[7]=d[7]+p[7]*v;a[8]=d[8]+p[8]*v;a[9]=d[9]+p[9]*v;a[10]=d[10]+p[10]*v;a[11]=d[11]+p[11]*v;a[12]=d[12]+p[12]*v;a[13]=d[13]+p[13]*v;a[14]=d[14]+p[14]*v;a[15]=d[15]+p[15]*v;return a}function Ca(a,d){return a[0]===d[0]&&a[1]===d[1]&&a[2]===d[2]&&a[3]===d[3]&&a[4]===d[4]&&a[5]===d[5]&&a[6]===d[6]&&a[7]===d[7]&&a[8]===d[8]&&a[9]===d[9]&&a[10]===d[10]&&
a[11]===d[11]&&a[12]===d[12]&&a[13]===d[13]&&a[14]===d[14]&&a[15]===d[15]}function Da(a,d){if(a===d)return!0;const p=a[0],v=a[1],I=a[2],M=a[3],N=a[4],P=a[5],L=a[6],O=a[7],U=a[8],W=a[9],ba=a[10],Z=a[11],ja=a[12],ha=a[13],da=a[14];a=a[15];const ra=d[0],ma=d[1],oa=d[2],pa=d[3],qa=d[4],ua=d[5],va=d[6],wa=d[7],xa=d[8],ya=d[9],za=d[10],Aa=d[11],sa=d[12],Ea=d[13],Fa=d[14];d=d[15];const ta=r.getEpsilon();return Math.abs(p-ra)<=ta*Math.max(1,Math.abs(p),Math.abs(ra))&&Math.abs(v-ma)<=ta*Math.max(1,Math.abs(v),
Math.abs(ma))&&Math.abs(I-oa)<=ta*Math.max(1,Math.abs(I),Math.abs(oa))&&Math.abs(M-pa)<=ta*Math.max(1,Math.abs(M),Math.abs(pa))&&Math.abs(N-qa)<=ta*Math.max(1,Math.abs(N),Math.abs(qa))&&Math.abs(P-ua)<=ta*Math.max(1,Math.abs(P),Math.abs(ua))&&Math.abs(L-va)<=ta*Math.max(1,Math.abs(L),Math.abs(va))&&Math.abs(O-wa)<=ta*Math.max(1,Math.abs(O),Math.abs(wa))&&Math.abs(U-xa)<=ta*Math.max(1,Math.abs(U),Math.abs(xa))&&Math.abs(W-ya)<=ta*Math.max(1,Math.abs(W),Math.abs(ya))&&Math.abs(ba-za)<=ta*Math.max(1,
Math.abs(ba),Math.abs(za))&&Math.abs(Z-Aa)<=ta*Math.max(1,Math.abs(Z),Math.abs(Aa))&&Math.abs(ja-sa)<=ta*Math.max(1,Math.abs(ja),Math.abs(sa))&&Math.abs(ha-Ea)<=ta*Math.max(1,Math.abs(ha),Math.abs(Ea))&&Math.abs(da-Fa)<=ta*Math.max(1,Math.abs(da),Math.abs(Fa))&&Math.abs(a-d)<=ta*Math.max(1,Math.abs(a),Math.abs(d))}function Ga(a){const d=r.getEpsilon(),p=a[0],v=a[1],I=a[2],M=a[4],N=a[5],P=a[6],L=a[8],O=a[9];a=a[10];return Math.abs(1-(p*p+M*M+L*L))<=d&&Math.abs(1-(v*v+N*N+O*O))<=d&&Math.abs(1-(I*I+
P*P+a*a))<=d}function Ha(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const Ia=h.create();h=Object.freeze(Object.defineProperty({__proto__:null,add:la,adjoint:C,copy:k,determinant:w,equals:Da,exactEquals:Ca,frob:fa,fromQuat:g,fromQuat2:na,fromRotation:b,fromRotationTranslation:ca,fromRotationTranslationScale:c,fromRotationTranslationScaleOrigin:e,fromScaling:V,fromTranslation:H,fromXRotation:x,fromYRotation:G,fromZRotation:K,frustum:q,getRotation:y,
getScaling:T,getTranslation:ea,hasIdentityRotation:Ha,identity:m,invert:z,invertOrIdentity:F,isOrthoNormal:Ga,lookAt:Y,mul:B,multiply:B,multiplyScalar:ia,multiplyScalarAndAdd:Ba,ortho:S,perspective:E,perspectiveFromFieldOfView:R,rotate:D,rotateX:J,rotateY:Q,rotateZ:A,scale:l,set:n,str:aa,sub:ka,subtract:ka,targetTo:X,translate:t,transpose:u},Symbol.toStringTag,{value:"Module"}));f.add=la;f.adjoint=C;f.copy=k;f.determinant=w;f.equals=Da;f.exactEquals=Ca;f.frob=fa;f.fromQuat=g;f.fromQuat2=na;f.fromRotation=
b;f.fromRotationTranslation=ca;f.fromRotationTranslationScale=c;f.fromRotationTranslationScaleOrigin=e;f.fromScaling=V;f.fromTranslation=H;f.fromXRotation=x;f.fromYRotation=G;f.fromZRotation=K;f.frustum=q;f.getRotation=y;f.getScaling=T;f.getTranslation=ea;f.hasIdentityRotation=Ha;f.identity=m;f.invert=z;f.invertOrIdentity=F;f.isOrthoNormal=Ga;f.lookAt=Y;f.mat4=h;f.mul=B;f.multiply=B;f.multiplyScalar=ia;f.multiplyScalarAndAdd=Ba;f.ortho=S;f.perspective=E;f.perspectiveFromFieldOfView=R;f.rotate=D;f.rotateX=
J;f.rotateY=Q;f.rotateZ=A;f.scale=l;f.set=n;f.str=aa;f.sub=ka;f.subtract=ka;f.targetTo=X;f.translate=t;f.transpose=u;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/statistics/utils":function(){define(["exports","../rest/support/ClassBreaksDefinition","../rest/support/generateRendererUtils"],function(f,h,r){function k(c){return null==c||"string"===typeof c&&!c?"\x3cNull\x3e":c}function n(c){const e=null!=c.minValue||null!=c.maxValue,g=!!c.sqlExpression&&c.supportsSQLExpression;
return!(null!=c.normalizationField||null!=c.normalizationType)&&!e&&!g}function m(c){const {values:e,useSampleStdDev:g,supportsNullCount:q}=c;var E=Number.POSITIVE_INFINITY;let R=Number.NEGATIVE_INFINITY,S=null,Y=null;var X=null;let aa=null,fa=0;const la=null==c.minValue?-Infinity:c.minValue,ka=null==c.maxValue?Infinity:c.maxValue;for(const ia of e)Number.isFinite(ia)?ia>=la&&ia<=ka&&(S=null===S?ia:S+ia,E=Math.min(E,ia),R=Math.max(R,ia),fa++):"string"===typeof ia&&fa++;if(fa&&null!=S){Y=S/fa;X=0;
for(const ia of e)Number.isFinite(ia)&&ia>=la&&ia<=ka&&(X+=(ia-Y)**2);aa=g?1<fa?X/(fa-1):0:0<fa?X/fa:0;X=Math.sqrt(aa)}else R=E=null;E={avg:Y,count:fa,max:R,min:E,stddev:X,sum:S,variance:aa};q&&(E.nullcount=e.length-fa);c.percentileParams&&(E.median=u(e,c.percentileParams));return E}function u(c,e){const {fieldType:g,value:q,orderBy:E,isDiscrete:R}=e,S=F(g,"desc"===E);c=[...c].filter(fa=>null!=fa).sort((fa,la)=>S(fa,la));if(0===c.length)return null;if(0>=q)return c[0];if(1<=q)return c[c.length-1];
var Y=(c.length-1)*q,X=Math.floor(Y);e=X+1;Y%=1;X=c[X];const aa=c[e];return e>=c.length||R||"string"===typeof X||"string"===typeof aa?X:X*(1-Y)+aa*Y}function F(c,e){if(c){if(H.has(c))return e?T:y;if(V.has(c))return z(e,!1);if("esriFieldTypeTimestampOffset"===c)return e?ca:K;const R=z(e,!0);if("esriFieldTypeString"===c)return R;if("esriFieldTypeGUID"===c||"esriFieldTypeGlobalID"===c)return(S,Y)=>R(C(S),C(Y))}const g=e?1:-1,q=e?T:y,E=z(e,!0);return(R,S)=>"number"===typeof R&&"number"===typeof S?q(R,
S):"string"===typeof R&&"string"===typeof S?E(R,S):g}function z(c,e){if(!e)return c?ea:na;const g=c?x:G;return c?(q,E)=>{const R=g(q,E);if(null!=R)return R;q=q.toUpperCase();E=E.toUpperCase();return q>E?-1:q<E?1:0}:(q,E)=>{const R=g(q,E);if(null!=R)return R;q=q.toUpperCase();E=E.toUpperCase();return q<E?-1:q>E?1:0}}function C(c){return c.substr(24,12)+c.substr(19,4)+c.substr(16,2)+c.substr(14,2)+c.substr(11,2)+c.substr(9,2)+c.substr(6,2)+c.substr(4,2)+c.substr(2,2)+c.substr(0,2)}function w(c){return"coded-value"!==
c?.type?[]:c.codedValues.map(e=>e.code)}function B(c,e){const g=l({field:e.field,normalizationType:e.normalizationType,normalizationField:e.normalizationField,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,breakCount:e.numClasses||5});c=t(c,e.minValue,e.maxValue);return r.createGenerateRendererClassBreaks({definition:g,values:c,normalizationTotal:e.normalizationTotal})}function t(c,e,g){const q=null==e?-Infinity:e,E=null==g?Infinity:g;return c.filter(R=>
Number.isFinite(R)&&R>=q&&R<=E)}function l(c){const {breakCount:e,field:g,normalizationField:q,normalizationType:E}=c,R=c.classificationMethod||"equal-interval";return new h({breakCount:e,classificationField:g,classificationMethod:R,normalizationField:"field"===E?q:void 0,normalizationType:E,standardDeviationInterval:"standard-deviation"===R?c.standardDeviationInterval||1:void 0})}function D(c,e){const {field:g,classificationMethod:q,standardDeviationInterval:E,normalizationType:R,normalizationField:S,
normalizationTotal:Y,minValue:X,maxValue:aa}=e,fa=e.numBins||10;let la=e=null,ka=null;q&&"equal-interval"!==q||R?({classBreaks:c}=B(c,{field:g,normalizationType:R,normalizationField:S,normalizationTotal:Y,classificationMethod:q,standardDeviationInterval:E,minValue:X,maxValue:aa,numClasses:fa}),e=c[0].minValue,la=c[c.length-1].maxValue,ka=c.map(ia=>[ia.minValue,ia.maxValue])):(null!=X&&null!=aa?(e=X,la=aa):(c=m({values:c,minValue:X,maxValue:aa,useSampleStdDev:!R,supportsNullCount:n({normalizationType:R,
normalizationField:S,minValue:X,maxValue:aa})}),e=c.min??null,la=c.max??null),ka=Q(e??0,la??0,fa));return{min:e,max:la,intervals:ka}}function J(c,e){let g=-1;for(let q=c.length-1;0<=q;q--)if(e>=c[q][0]){g=q;break}return g}function Q(c,e,g){const q=(e-c)/g,E=[];let R;for(let S=1;S<=g;S++)R=c+q,R=Number(R.toFixed(16)),E.push([c,S===g?e:R]),c=R;return E}const A=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,H=new Set("esriFieldTypeDate esriFieldTypeInteger esriFieldTypeSmallInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeLong esriFieldTypeOID esriFieldTypeBigInteger".split(" ")),
V=new Set(["esriFieldTypeTimeOnly","esriFieldTypeDateOnly"]),b="min max avg stddev count sum variance nullcount median".split(" "),x=(c,e)=>null==c?null==e?0:1:null==e?-1:null,G=(c,e)=>null==c?null==e?0:-1:null==e?1:null,K=(c,e)=>G(c,e)??(c===e?0:(new Date(c)).getTime()-(new Date(e)).getTime()),ca=(c,e)=>x(c,e)??(c===e?0:(new Date(e)).getTime()-(new Date(c)).getTime()),na=(c,e)=>G(c,e)??(c===e?0:c<e?-1:1),ea=(c,e)=>x(c,e)??(c===e?0:c<e?1:-1),T=(c,e)=>x(c,e)??e-c,y=(c,e)=>G(c,e)??c-e;f.calculateClassBreaks=
B;f.calculateHistogram=function(c,e){var g=D(c,e);if(null==g.min&&null==g.max)return{bins:[],minValue:g.min,maxValue:g.max,normalizationTotal:e.normalizationTotal};const q=g.intervals,E=g.min??0;g=g.max??0;const R=q.map((S,Y)=>({minValue:q[Y][0],maxValue:q[Y][1],count:0}));for(const S of c)null!=S&&S>=E&&S<=g&&(c=J(q,S),-1<c&&R[c].count++);return{bins:R,minValue:E,maxValue:g,normalizationTotal:e.normalizationTotal}};f.calculatePercentile=u;f.calculateStatistics=m;f.calculateStringStatistics=function(c){const e=
c.returnDistinct?[...(new Set(c.values))]:c.values;var g=e.filter(E=>null!=E).sort();const q=g.length;g={count:q,min:g[0],max:g[q-1]};c.supportsNullCount&&(g.nullcount=e.length-q);c.percentileParams&&(g.median=u(e,c.percentileParams));return g};f.calculateUniqueValuesCount=function(c){const e={};for(let g of c){if(null==g||"string"===typeof g&&""===g.trim())g=null;null==e[g]?e[g]={count:1,data:g}:e[g].count++}return{count:e}};f.createClassBreaksDefinition=l;f.createUVResult=function(c,e,g,q){c=c.count;
const E=[];if(g&&e){g=[];var R=w(e[0]);for(const S of R)if(e[1]){R=w(e[1]);for(const Y of R)if(e[2]){R=w(e[2]);for(const X of R)g.push(`${k(S)}${q}${k(Y)}${q}${k(X)}`)}else g.push(`${k(S)}${q}${k(Y)}`)}else g.push(S);for(const S of g)c.hasOwnProperty(S)||(c[S]={data:S,count:0})}for(const S in c)e=c[S],E.push({value:e.data,count:e.count,label:e.label});return{uniqueValueInfos:E}};f.getAttributeComparator=F;f.getEqualIntervalBins=Q;f.getNormalizedValue=function(c,e,g,q){let E=null;switch(e){case "log":0!==
c&&(E=Math.log(c)*Math.LOG10E);break;case "percent-of-total":Number.isFinite(q)&&0!==q&&(E=c/q*100);break;case "field":Number.isFinite(g)&&0!==g&&(E=c/g);break;case "natural-log":0<c&&(E=Math.log(c));break;case "square-root":0<c&&(E=c**.5)}return E};f.isNullCountSupported=n;f.processNullValue=k;f.processSummaryStatisticsResult=function(c,e){let g;for(g in c)b.includes(g)&&(Number.isFinite(c[g])||(c[g]=null));if(!e)return c;["avg","stddev","variance"].forEach(q=>{null!=c[q]&&(c[q]=Math.ceil(c[q]??
0))});return c};f.resolveCBResult=function(c,e){let g=c.classBreaks;const q=g[0]?.minValue,E=g[g.length-1]?.maxValue,R="standard-deviation"===e;g=g.map(S=>{const Y=S.label;S={minValue:S.minValue,maxValue:S.maxValue,label:Y};if(R&&Y){const X=Y.match(A)?.map(aa=>+aa.trim())??[];2===X.length?(S.minStdDev=X[0],S.maxStdDev=X[1],0>X[0]&&0<X[1]&&(S.hasAvg=!0)):1===X.length&&(Y.includes("\x3c")?(S.minStdDev=null,S.maxStdDev=X[0]):Y.includes("\x3e")&&(S.minStdDev=X[0],S.maxStdDev=null))}return S});return{minValue:q,
maxValue:E,classBreakInfos:g,normalizationTotal:c.normalizationTotal}};f.statisticTypes=b;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/ClassBreaksDefinition":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(f,
h,r,k,n,m,u,F,z){n=new h.JSONMap({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"});h=new h.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});r=class extends r.JSONSupport{constructor(C){super(C);this.type="class-breaks-definition";this.normalizationType=
this.normalizationField=this.classificationMethod=this.classificationField=this.breakCount=null}set standardDeviationInterval(C){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",C)}set definedInterval(C){"defined-interval"===this.classificationMethod&&this._set("definedInterval",C)}};f.__decorate([F.enumeration({classBreaksDef:"class-breaks-definition"})],r.prototype,"type",void 0);f.__decorate([k.property({json:{write:!0}})],r.prototype,"breakCount",void 0);
f.__decorate([k.property({json:{write:!0}})],r.prototype,"classificationField",void 0);f.__decorate([k.property({type:String,json:{read:n.read,write:n.write}})],r.prototype,"classificationMethod",void 0);f.__decorate([k.property({json:{write:!0}})],r.prototype,"normalizationField",void 0);f.__decorate([k.property({json:{read:h.read,write:h.write}})],r.prototype,"normalizationType",void 0);f.__decorate([k.property({value:null,json:{write:!0}})],r.prototype,"standardDeviationInterval",null);f.__decorate([k.property({value:null,
json:{write:!0}})],r.prototype,"definedInterval",null);return r=f.__decorate([z.subclass("esri.rest.support.ClassBreaksDefinition")],r)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(f,h,r){f.enumeration=function(k,n={}){k=k instanceof h.JSONMap?k:new h.JSONMap(k,n);k={type:n?.ignoreUnknown??!0?k.apiValues:String,json:{type:k.jsonValues,read:n?.readOnly?!1:{reader:k.read},write:{writer:k.write}}};void 0!==n?.readOnly&&(k.readOnly=
!!n.readOnly);void 0!==n?.default&&(k.json.default=n.default);void 0!==n?.name&&(k.json.name=n.name);void 0!==n?.nonNullable&&(k.nonNullable=n.nonNullable);return r.property(k)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/generateRendererUtils":function(){define(["exports","../../core/Logger"],function(f,h){function r(B){var t=B.definition;const {classificationMethod:l,normalizationType:D,definedInterval:J}=t;t=t.breakCount??1;const Q=[];var A=B.values;if(0===
A.length)return[];A=A.sort((K,ca)=>K-ca);var H=A[0],V=A[A.length-1];if("equal-interval"===l)if(A.length>=t){A=(V-H)/t;B=H;for(var b=1;b<t;b++){var x=Number((H+b*A).toFixed(6));Q.push({minValue:B,maxValue:x,label:k(B,x,D)});B=x}Q.push({minValue:B,maxValue:V,label:k(B,V,D)})}else A.forEach(K=>{Q.push({minValue:K,maxValue:K,label:k(K,K,D)})});else if("natural-breaks"===l){A=n(A);B=m(A.uniqueValues,B.valueFrequency||A.valueFrequency,t);for(b=1;b<t;b++)A.uniqueValues.length>b&&(x=Number(A.uniqueValues[B[b]].toFixed(6)),
Q.push({minValue:H,maxValue:x,label:k(H,x,D)}),H=x);Q.push({minValue:H,maxValue:V,label:k(H,V,D)})}else if("quantile"===l)if(A.length>=t&&H!==V){B=Math.ceil(A.length/t);b=0;for(x=1;x<t;x++){var G=B+b-1;G>A.length&&(G=A.length-1);0>G&&(G=0);Q.push({minValue:H,maxValue:A[G],label:k(H,A[G],D)});H=A[G];b+=B;B=Math.ceil((A.length-b)/(t-x))}Q.push({minValue:H,maxValue:V,label:k(H,V,D)})}else for(t=-1,V=0;V<A.length;V++)H=A[V],H!==t&&(t=H,Q.push({minValue:t,maxValue:H,label:k(t,H,D)}),t=H);else if("standard-deviation"===
l)if(B=z(A),b=C(A,B),0===b)Q.push({minValue:A[0],maxValue:A[0],label:k(A[0],A[0],D)});else{A=F(H,V,t,B,b)*b;b=0;for(x=t;1<=x;x--)G=Number((B-(x-.5)*A).toFixed(6)),Q.push({minValue:H,maxValue:G,label:k(H,G,D)}),H=G,b++;x=Number((B+.5*A).toFixed(6));Q.push({minValue:H,maxValue:x,label:k(H,x,D)});H=x;b++;for(G=1;G<=t;G++)x=b===2*t?V:Number((B+(G+.5)*A).toFixed(6)),Q.push({minValue:H,maxValue:x,label:k(H,x,D)}),H=x,b++}else if("defined-interval"===l){if(!J)return Q;t=A[0];V=A[A.length-1];A=Math.ceil((V-
t)/J);H=t;for(B=1;B<A;B++)b=Number((t+B*J).toFixed(6)),Q.push({minValue:H,maxValue:b,label:k(H,b,D)}),H=b;Q.push({minValue:H,maxValue:V,label:k(H,V,D)})}return Q}function k(B,t,l){let D=null;return D=B===t?l&&"percent-of-total"===l?B+"%":B.toString():l&&"percent-of-total"===l?B+"% - "+t+"%":B+" - "+t}function n(B){const t=[],l=[];let D=Number.MIN_VALUE,J=1,Q=-1;for(let A=0;A<B.length;A++){const H=B[A];H===D?(J++,l[Q]=J):null!==H&&(t.push(H),D=H,J=1,l.push(J),Q++)}return{uniqueValues:t,valueFrequency:l}}
function m(B,t,l){var D=B.length;const J=[];l>D&&(l=D);for(var Q=0;Q<l;Q++)J.push(Math.round(Q*D/l-1));J.push(D-1);Q=u(J,B,t,l);D=Q.mean;Q=Q.sdcm;var A=l,H=0,V=0;let b=0,x=0,G=!0;for(let ca=0;2>ca&&G;ca++){0===ca&&(G=!1);for(var K=0;K<A-1;K++)for(;J[K+1]+1!==J[K+2];)if(J[K+1]+=1,H=w(K,J,B,t),b=H.sbMean,H=H.sbSdcm,V=w(K+1,J,B,t),x=V.sbMean,V=V.sbSdcm,H+V<Q[K]+Q[K+1])Q[K]=H,Q[K+1]=V,D[K]=b,D[K+1]=x,G=!0;else{--J[K+1];break}for(K=A-1;0<K;K--)for(;J[K]!==J[K-1]+1;)if(--J[K],H=w(K-1,J,B,t),b=H.sbMean,
H=H.sbSdcm,V=w(K,J,B,t),x=V.sbMean,V=V.sbSdcm,H+V<Q[K-1]+Q[K])Q[K-1]=H,Q[K]=V,D[K-1]=b,D[K]=x,G=!0;else{J[K]+=1;break}}G&&(Q=u(J,B,t,l));return J}function u(B,t,l,D){let J=[];var Q=[],A=[];let H=0;const V=[],b=[];for(var x=0;x<D;x++){var G=w(x,B,t,l);V.push(G.sbMean);b.push(G.sbSdcm);H+=b[x]}G=H;for(x=!0;x||H<G;){x=!1;J=[];for(Q=0;Q<D;Q++)J.push(B[Q]);for(A=0;A<D;A++)for(G=B[A]+1;G<=B[A+1];G++)if(Q=t[G],0<A&&G!==B[A+1]&&Math.abs(Q-V[A])>Math.abs(Q-V[A-1]))B[A]=G;else if(A<D-1&&B[A]!==G-1&&Math.abs(Q-
V[A])>Math.abs(Q-V[A+1])){B[A+1]=G-1;break}G=H;H=0;Q=[];A=[];for(let K=0;K<D;K++){Q.push(V[K]);A.push(b[K]);const ca=w(K,B,t,l);V[K]=ca.sbMean;b[K]=ca.sbSdcm;H+=b[K]}}if(H>G){for(t=0;t<D;t++)B[t]=J[t],V[t]=Q[t],b[t]=A[t];H=G}return{mean:V,sdcm:b}}function F(B,t,l,D,J){B=Math.max(D-B,t-D)/J/l;return 1<=B?1:.5<=B?.5:.25}function z(B){let t=0;for(let l=0;l<B.length;l++)t+=B[l];return t/=B.length}function C(B,t){let l=0;for(let D=0;D<B.length;D++){const J=B[D];l+=(J-t)*(J-t)}l/=B.length;return Math.sqrt(l)}
function w(B,t,l,D){var J=0,Q=0;for(var A=t[B]+1;A<=t[B+1];A++){const H=D[A];J+=l[A]*H;Q+=H}0>=Q&&h.getLogger("esri.rest.support.generateRendererUtils").warn("Exception in Natural Breaks calculation");J/=Q;Q=0;for(A=t[B]+1;A<=t[B+1];A++)Q+=D[A]*(l[A]-J)**2;return{sbMean:J,sbSdcm:Q}}f.createGenerateRendererClassBreaks=function(B){const {normalizationTotal:t}=B;return{classBreaks:r(B),normalizationTotal:t}};f.createGenerateRendererUniqueValues=function(B){B=n(B);const t=[],l=B.uniqueValues.length;for(let D=
0;D<l;D++){const J=B.uniqueValues[D];t.push({value:J,count:B.valueFrequency[D],label:J.toString()})}return{uniqueValues:t}};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["exports","./utils","../../../statistics/utils"],function(f,h,r){f.classBreaks=async function(k){const {attribute:n,features:m}=k,{field:u,normalizationType:F,normalizationField:z,normalizationTotal:C,classificationMethod:w}=n;k=await h.getDataValues({field:u,valueExpression:n.valueExpression,normalizationType:F,normalizationField:z,normalizationTotal:C,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},m);k=r.calculateClassBreaks(k,{field:u,normalizationType:F,normalizationField:z,
normalizationTotal:C,classificationMethod:w,standardDeviationInterval:n.standardDeviationInterval,numClasses:n.numClasses,minValue:n.minValue,maxValue:n.maxValue});return r.resolveCBResult(k,w)};f.heatmapStatistics=async function(k){const {attribute:n,features:m}=k,{field:u,radius:F,transform:z,spatialReference:C}=n;k=n.size??[0,0];const w=h.quantizeFeatures(m??[],z,C,k);return h.calculateHeatmapStats(w,F??void 0,u,k[0],k[1])};f.histogram=async function(k){const {attribute:n,features:m}=k,{field:u,
normalizationType:F,normalizationField:z,normalizationTotal:C,classificationMethod:w}=n;k=await h.getDataValues({field:u,valueExpression:n.valueExpression,normalizationType:F,normalizationField:z,normalizationTotal:C,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},m);return r.calculateHistogram(k,{field:u,normalizationType:F,normalizationField:z,normalizationTotal:C,classificationMethod:w,standardDeviationInterval:n.standardDeviationInterval,numBins:n.numBins,minValue:n.minValue,
maxValue:n.maxValue})};f.summaryStatistics=async function(k){const {attribute:n,features:m}=k,{normalizationType:u,normalizationField:F,minValue:z,maxValue:C,fieldType:w}=n;k=await h.getDataValues({field:n.field,valueExpression:n.valueExpression,normalizationType:u,normalizationField:F,normalizationTotal:n.normalizationTotal,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},m);const B=r.isNullCountSupported({normalizationType:u,normalizationField:F,minValue:z,maxValue:C}),
t={value:.5,fieldType:w};k="esriFieldTypeString"===w?r.calculateStringStatistics({values:k,supportsNullCount:B,percentileParams:t}):r.calculateStatistics({values:k,minValue:z,maxValue:C,useSampleStdDev:!u,supportsNullCount:B,percentileParams:t});return r.processSummaryStatisticsResult(k,"esriFieldTypeDate"===w)};f.uniqueValues=async function(k){const {attribute:n,features:m}=k;k=await h.getDataValues({field:n.field,field2:n.field2,field3:n.field3,fieldDelimiter:n.fieldDelimiter,valueExpression:n.valueExpression,
viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},m,!1);k=r.calculateUniqueValuesCount(k);return r.createUVResult(k,n.domains,n.returnAllCodedValues,n.fieldDelimiter)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});