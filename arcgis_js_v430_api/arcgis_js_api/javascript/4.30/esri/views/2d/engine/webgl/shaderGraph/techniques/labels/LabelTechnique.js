// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("exports ../../../enums ../FeatureTechnique ../featureTechniqueUtils ../TechniqueType ../text/TextShader".split(" "),function(k,f,l,e,m,n){class p extends l.FeatureTechnique{constructor(){super(...arguments);this.type=m.TechniqueType.Label;this.shaders={geometry:new n.TextShader};this.drawPhase=f.WGLDrawPhase.LABEL|f.WGLDrawPhase.LABEL_ALPHA|f.WGLDrawPhase.HITTEST;this.symbologyPlane=f.FeatureSymbologyDrawOrder.TEXT}render(b,c){const {context:q,painter:a}=b,g=e.getSelectionDefines(b),h={...e.getFeaturePipelineState(b)};
var d=c.instance.getInput();d={shader:this.shaders.geometry,uniforms:{...e.resolveDynamicUniforms(b,c.target,d.uniforms),...e.getFeatureUniforms(b,c.target),mosaicInfo:a.textureManager.getMosaicInfo(q,c.textureKey)},defines:{...g,isHaloPass:!1,isBackgroundPass:!0,isLabel:!0},optionalAttributes:d.optionalAttributes,useComputeBuffer:e.isHittest(b)};a.setShader(d);a.setPipelineState(h);a.submitDraw(b,c);a.setShader({...d,defines:{...g,isHaloPass:!0,isBackgroundPass:!1,isLabel:!0}});a.setPipelineState(h);
a.submitDraw(b,c);a.setShader({...d,defines:{...g,isHaloPass:!1,isBackgroundPass:!1,isLabel:!0}});a.setPipelineState(h);a.submitDraw(b,c)}}k.LabelTechnique=p;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});