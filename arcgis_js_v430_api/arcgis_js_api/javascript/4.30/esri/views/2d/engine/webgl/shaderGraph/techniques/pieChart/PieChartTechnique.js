// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("exports ../../../enums ../FeatureTechnique ../featureTechniqueUtils ../TechniqueType ./PieChartShader".split(" "),function(g,m,n,d,p,q){class r extends n.FeatureTechnique{constructor(){super(...arguments);this.type=p.TechniqueType.PieChart;this.shaders={geometry:new q.PieChartShader};this.symbologyPlane=m.FeatureSymbologyDrawOrder.MARKER}render(a,e){const {painter:f}=a,{instance:t,target:u}=e,h=this.shaders.geometry,b=t.getInput(),k=b.uniforms.numberOfFields,l=d.isHittest(a),c=d.getFeatureUniforms(a,
u),v=d.getSelectionDefines(a);h.setNumberOfFields(k);f.setShader({shader:h,uniforms:{...d.resolveDynamicUniforms(a,e.target,b.uniforms.shader),...c.storage,...c.view,hittestUniforms:c.hittestRequest?{hittestDist:c.hittestRequest?.distance,hittestPos:c.hittestRequest?.position}:null},defines:{VV_SIZE_MIN_MAX_VALUE:!!b.uniforms.shader.visualVariableSizeMinMaxValue,VV_SIZE_SCALE_STOPS:!!b.uniforms.shader.visualVariableSizeScaleStops,VV_SIZE_FIELD_STOPS:!!b.uniforms.shader.visualVariableSizeStops,VV_SIZE_UNIT_VALUE:!!b.uniforms.shader.visualVariableSizeUnitValue,
VV_OPACITY:!!b.uniforms.shader.visualVariableOpacity,HITTEST:l,highlight:c.highlight?1:0,...v,numberOfFields:k},optionalAttributes:{},useComputeBuffer:l});f.setPipelineState(d.getFeaturePipelineState(a));f.submitDraw(a,e)}}g.PieChartTechnique=r;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});