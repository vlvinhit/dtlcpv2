// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../core/screenUtils","../fill/meshWriterUtils","../mesh/MeshWriter","../../../../../../webgl/enums"],function(h,g,k,l,d){const m={createComputedParams:a=>a,optionalAttributes:{},attributes:{pos:{type:d.DataType.SHORT,count:2,packPrecisionFactor:10,pack:"position"},id:{type:d.DataType.UNSIGNED_BYTE,count:3,pack:"id"},bitset:{type:d.DataType.UNSIGNED_BYTE,count:1,pack:a=>0},offset:{type:d.DataType.SHORT,count:2,packPrecisionFactor:16,packAlternating:{count:4,pack:({size:a})=>
{a=g.pt2px(a);const b=-a/2,e=-a/2;return[[b,e],[b+a,e],[b,e+a],[b+a,e+a]]}}},texCoords:{type:d.DataType.SHORT,count:2,packPrecisionFactor:4,packAlternating:{count:4,pack:()=>[[0,1],[1,1],[0,0],[1,0]]}},size:{type:d.DataType.UNSIGNED_BYTE,count:2,pack:({size:a})=>[a,a]},referenceSize:{type:d.DataType.UNSIGNED_BYTE,count:1,pack:({size:a})=>g.pt2px(a)},zoomRange:{type:d.DataType.UNSIGNED_BYTE,count:2,pack:({scaleInfo:a},{tileInfo:b})=>k.getMinMaxZoom(a,b)}}};class n extends l.MeshWriter{constructor(){super(...arguments);
this.vertexSpec=m}_write(a,b){const e=b.getDisplayId();var f=this.evaluatedMeshParams.minPixelBuffer,c=Math.max(g.pt2px(this.evaluatedMeshParams.size),f);if("esriGeometryPoint"===b.geometryType)f=b.readXForDisplay(),b=b.readYForDisplay();else{b=b.readCentroidForDisplay();if(!b)return;f=b?.coords[0];b=b?.coords[1]}a.recordStart(this.instanceId,this.attributeLayout);a.recordBounds(f,b,c,c);c=a.vertexCount();this._writeVertex(a,e,f,b);a.indexWrite(c+0);a.indexWrite(c+1);a.indexWrite(c+2);a.indexWrite(c+
1);a.indexWrite(c+3);a.indexWrite(c+2);a.recordEnd()}}h.PieChartMeshWriter=n;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});