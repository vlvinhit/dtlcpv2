// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/support/lineSegment":function(){define("exports ../../core/mathUtils ../../core/ObjectStack ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ./vectorStacks".split(" "),function(c,p,l,e,n,v){function u(y){return y?{origin:n.clone(y.origin),vector:n.clone(y.vector)}:{origin:n.create(),vector:n.create()}}function r(y,F){const D=C.get();D.origin=y;D.vector=F;return D}function w(y,F,D=u()){e.copy(D.origin,y);e.copy(D.vector,F);return D}function d(y,F,D,S,
A){const {vector:z,origin:G}=y;F=e.subtract(v.sv3d.get(),F,G);F=e.dot(z,F)/e.squaredLength(z);e.scale(A,z,p.clamp(F,D,S));return e.add(A,A,y.origin)}function h(y,F,D,S){const A=y.origin;var z=e.add(v.sv3d.get(),A,y.vector);y=F.origin;var G=e.add(v.sv3d.get(),y,F.vector),I=v.sv3d.get();F=v.sv3d.get();I[0]=A[0]-y[0];I[1]=A[1]-y[1];I[2]=A[2]-y[2];F[0]=G[0]-y[0];F[1]=G[1]-y[1];F[2]=G[2]-y[2];if(1E-6>Math.abs(F[0])&&1E-6>Math.abs(F[1])&&1E-6>Math.abs(F[2]))return!1;G=v.sv3d.get();G[0]=z[0]-A[0];G[1]=z[1]-
A[1];G[2]=z[2]-A[2];if(1E-6>Math.abs(G[0])&&1E-6>Math.abs(G[1])&&1E-6>Math.abs(G[2]))return!1;z=I[0]*F[0]+I[1]*F[1]+I[2]*F[2];var ca=F[0]*G[0]+F[1]*G[1]+F[2]*G[2];const Z=F[0]*F[0]+F[1]*F[1]+F[2]*F[2],da=(G[0]*G[0]+G[1]*G[1]+G[2]*G[2])*Z-ca*ca;if(1E-6>Math.abs(da))return!1;I=(z*ca-(I[0]*G[0]+I[1]*G[1]+I[2]*G[2])*Z)/da;z=(z+ca*I)/Z;D&&(I=p.clamp(I,0,1),z=p.clamp(z,0,1));D=v.sv3d.get();ca=v.sv3d.get();D[0]=A[0]+I*G[0];D[1]=A[1]+I*G[1];D[2]=A[2]+I*G[2];ca[0]=y[0]+z*F[0];ca[1]=y[1]+z*F[1];ca[2]=y[2]+
z*F[2];S.tA=I;S.tB=z;S.pA=D;S.pB=ca;S.distance2=e.squaredDistance(D,ca);return!0}const t={tA:0,tB:0,pA:n.create(),pB:n.create(),distance2:0},C=new l.ObjectStack(()=>u());c.closestLineSegmentPoint=function(y,F,D){return h(y,F,!0,t)?(e.copy(D,t.pA),!0):!1};c.closestRayDistance2=function(y,F){if(h(y,r(F.origin,F.direction),!1,t)){const {tA:D,pB:S,distance2:A}=t;if(0<=D&&1>=D)return A;if(0>D)return e.squaredDistance(y.origin,S);if(1<D)return e.squaredDistance(e.add(v.sv3d.get(),y.origin,y.vector),S)}return null};
c.copy=function(y,F=u()){return w(y.origin,y.vector,F)};c.create=u;c.distance2=function(y,F){F=e.subtract(v.sv3d.get(),F,y.origin);var D=e.dot(y.vector,F);const S=e.dot(y.vector,y.vector);D=p.clamp(D/S,0,1);y=e.subtract(v.sv3d.get(),e.scale(v.sv3d.get(),y.vector,D),F);return e.dot(y,y)};c.fromPoints=function(y,F,D=u()){e.copy(D.origin,y);e.subtract(D.vector,F,y);return D};c.fromValues=w;c.pointAt=function(y,F,D){return e.add(D,y.origin,e.scale(D,y.vector,F))};c.projectPoint=function(y,F,D){return d(y,
F,0,1,D)};c.projectPointClamp=d;c.wrap=r;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObjectStack":function(){define(["exports","./nextTick"],function(c,p){class l{constructor(e){this._allocator=e;this._items=[];this._itemsPtr=0;this._grow()}get(){0===this._itemsPtr&&p.nextTick(()=>this._reset());this._itemsPtr===this._items.length&&this._grow();return this._items[this._itemsPtr++]}_reset(){this._items.length=Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+
3072),this._items.length);this._itemsPtr=0}_grow(){for(let e=0;e<Math.max(8,Math.min(this._items.length,1024));e++)this._items.push(this._allocator())}}c.ObjectStack=l;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports","../../core/VectorStack"],function(c,p){const l=p.VectorStack.createVec2f64(),e=p.VectorStack.createVec3f64(),n=p.VectorStack.createVec4f64(),v=p.VectorStack.createMat3f64(),u=p.VectorStack.createMat4f64();
p=p.VectorStack.createQuatf64();c.sm3d=v;c.sm4d=u;c.sq4d=p;c.sv2d=l;c.sv3d=e;c.sv4d=n;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ./has ./nextTick ./libs/gl-matrix-2/factories/mat3f64 ./libs/gl-matrix-2/factories/mat4f64 ./libs/gl-matrix-2/factories/quatf64 ./libs/gl-matrix-2/factories/vec2f64 ./libs/gl-matrix-2/factories/vec3f64 ./libs/gl-matrix-2/factories/vec4f64".split(" "),function(c,p,l,e,n,v,u,r,w){class d{constructor(h){this._create=
h;this._items=[];this._itemsPtr=0}get(){0===this._itemsPtr&&l.nextTick(()=>this._reset());this._itemsPtr>=this._items.length&&this._items.push(this._create());return this._items[this._itemsPtr++]}_reset(){const h=2*this._itemsPtr;this._items.length>h&&(this._items.length=h);this._itemsPtr=0}static createVec2f64(){return new d(u.create)}static createVec3f64(){return new d(r.create)}static createVec4f64(){return new d(w.create)}static createMat3f64(){return new d(e.create)}static createMat4f64(){return new d(n.create)}static createQuatf64(){return new d(v.create)}get test(){}}
c.VectorStack=d;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(c){function p(){return[1,0,0,0,1,0,0,0,1]}function l(r){return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8]]}function e(r,w,d,h,t,C,y,F,D){return[r,w,d,h,t,C,y,F,D]}function n(r,w){return new Float64Array(r,w,9)}const v=p(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:v,clone:l,create:p,createView:n,fromValues:e},Symbol.toStringTag,
{value:"Module"}));c.IDENTITY=v;c.clone=l;c.create=p;c.createView=n;c.fromValues=e;c.mat3f64=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(c){function p(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function l(r){return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]]}function e(r,w,d,h,t,C,y,F,D,S,A,z,G,I,ca,Z){return[r,w,d,h,t,C,y,F,D,S,A,z,G,I,ca,Z]}function n(r,
w){return new Float64Array(r,w,16)}const v=p(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:v,clone:l,create:p,createView:n,fromValues:e},Symbol.toStringTag,{value:"Module"}));c.IDENTITY=v;c.clone=l;c.create=p;c.createView=n;c.fromValues=e;c.mat4f64=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["exports"],function(c){function p(){return[0,0,0,1]}function l(r){return[r[0],r[1],r[2],r[3]]}function e(r,
w,d,h){return[r,w,d,h]}function n(r,w){return new Float64Array(r,w,4)}const v=p(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:v,clone:l,create:p,createView:n,fromValues:e},Symbol.toStringTag,{value:"Module"}));c.IDENTITY=v;c.clone=l;c.create=p;c.createView=n;c.fromValues=e;c.quatf64=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],function(c){function p(){return[0,0]}function l(D){return[D[0],
D[1]]}function e(D,S){return[D,S]}function n(D,S=[0,0]){const A=Math.min(2,D.length);for(let z=0;z<A;++z)S[z]=D[z];return S}function v(D,S){return new Float64Array(D,S,2)}function u(){return[0,0]}function r(){return[1,1]}function w(){return[1,0]}function d(){return[0,1]}const h=[0,0],t=[1,1],C=[1,0],y=[0,1],F=Object.freeze(Object.defineProperty({__proto__:null,ONES:t,UNIT_X:C,UNIT_Y:y,ZEROS:h,clone:l,create:p,createView:v,fromArray:n,fromValues:e,ones:r,unitX:w,unitY:d,zeros:u},Symbol.toStringTag,
{value:"Module"}));c.ONES=t;c.UNIT_X=C;c.UNIT_Y=y;c.ZEROS=h;c.clone=l;c.create=p;c.createView=v;c.fromArray=n;c.fromValues=e;c.ones=r;c.unitX=w;c.unitY=d;c.vec2f64=F;c.zeros=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ../core/libs/gl-matrix-2/math/mat4 ./vec32 ../core/libs/gl-matrix-2/factories/vec3f64 ./vec42 ../core/libs/gl-matrix-2/factories/vec4f64 ../core/libs/gl-matrix-2/math/common ../geometry/support/Axis ../geometry/support/ray ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),
function(c,p,l,e,n,v,u,r,w,d,h,t,C,y){function F(){return w.create()}function D(P,X){return r.copy(X,P)}function S(P,X){return w.fromValues(P[0],P[1],P[2],X)}function A(P){return P}function z(P){P[0]=P[1]=P[2]=P[3]=0}function G(P,X){P[0]=P[1]=P[2]=0;P[3]=X;return P}function I(P){return P[3]}function ca(P){return P}function Z(P,X,a,b){return w.fromValues(P,X,a,b)}function da(P,X,a){P!==a&&(a[0]=P[0],a[1]=P[1],a[2]=P[2]);a[3]=P[3]+X;return a}function ha(P,X,a){P!==a&&D(P,a);return a}function oa(P,X,
a){if(null==X||!L(P,X,J))return!1;let {t0:b,t1:k}=J;if(0>b||k<b&&0<k)b=k;if(0>b)return!1;if(a){const {origin:q,direction:B}=X;a[0]=q[0]+B[0]*b;a[1]=q[1]+B[1]*b;a[2]=q[2]+B[2]*b}return!0}function pa(P,X,a){X=t.fromPoints(X,a);if(!L(P,X,J))return[];const {origin:b,direction:k}=X,{t0:q,t1:B}=J;X=H=>{const O=u.create();v.scaleAndAdd(O,b,k,H);return la(P,O,O)};return Math.abs(q-B)<d.getEpsilon()?[X(q)]:[X(q),X(B)]}function L(P,X,a){const {origin:b,direction:k}=X,q=U;q[0]=b[0]-P[0];q[1]=b[1]-P[1];q[2]=
b[2]-P[2];X=k[0]*k[0]+k[1]*k[1]+k[2]*k[2];if(0===X)return!1;const B=2*(k[0]*q[0]+k[1]*q[1]+k[2]*q[2]);P=B*B-4*X*(q[0]*q[0]+q[1]*q[1]+q[2]*q[2]-P[3]*P[3]);if(0>P)return!1;P=Math.sqrt(P);a.t0=(-B-P)/(2*X);a.t1=(-B+P)/(2*X);return!0}function N(P,X){return oa(P,X,null)}function T(P,X,a){if(oa(P,X,a))return a;P=ba(P,X,y.sv3d.get());v.add(a,X.origin,v.scale(y.sv3d.get(),X.direction,v.distance(X.origin,P)/v.length(X.direction)));return a}function ba(P,X,a){const b=y.sv3d.get(),k=y.sm4d.get();v.cross(b,X.origin,
X.direction);const q=P[3];v.cross(a,b,X.origin);v.scale(a,a,1/v.length(a)*q);P=ua(P,X.origin);X=C.angle(X.origin,a);n.fromRotation(k,X+P,b);v.transformMat4(a,a,k);return a}function ia(P,X,a){if(oa(P,X,a))return a;t.closestPoint(X,P,a);return la(P,a,a)}function la(P,X,a){X=v.subtract(y.sv3d.get(),X,P);X=v.scale(y.sv3d.get(),X,P[3]/v.length(X));return v.add(a,X,P)}function ma(P,X){X=v.subtract(y.sv3d.get(),X,P);X=v.squaredLength(X);return Math.sqrt(Math.abs(X-P[3]*P[3]))}function ua(P,X){X=v.subtract(y.sv3d.get(),
X,P);X=v.length(X);P=P[3];return e.acosClamped(P/(P+Math.abs(P-X)))}function wa(P,X,a,b){P=v.subtract(f,X,P);switch(a){case h.Axis.X:return a=e.cartesianToSpherical(P,f)[2],v.set(b,-Math.sin(a),Math.cos(a),0);case h.Axis.Y:return P=e.cartesianToSpherical(P,f),a=P[1],P=P[2],X=Math.sin(a),v.set(b,-X*Math.cos(P),-X*Math.sin(P),Math.cos(a));case h.Axis.Z:return v.normalize(b,P)}}function ya(P,X){X=v.subtract(m,X,P);return v.length(X)-P[3]}function E(P,X,a,b){const k=ya(P,X);P=wa(P,X,h.Axis.Z,m);a=v.scale(m,
P,a-k);return v.add(b,X,a)}function K(P,X){X=v.squaredDistance(P,X);P=P[3];return X<=P*P}function g(P,X,a=w.create()){const b=v.distance(P,X),k=P[3],q=X[3];if(b+q<k)return r.copy(a,P),a;if(b+k<q)return r.copy(a,X),a;v.lerp(a,P,X,(b+q-k)/(2*b));a[3]=(b+k+q)/2;return a}p=F();const x=l=r.equals,J={t0:0,t1:0},U=u.create(),f=u.create(),m=u.create(),W=F(),V=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:p,altitudeAt:ya,angleToSilhouette:ua,axisAt:wa,clear:z,closestPoint:ia,closestPointOnSilhouette:ba,
containsPoint:K,copy:D,create:F,distanceToSilhouette:ma,elevate:da,equals:x,exactEquals:l,fromCenterAndRadius:S,fromRadius:G,fromValues:Z,getCenter:ca,getRadius:I,intersectLine:pa,intersectRay:oa,intersectRayClosestSilhouette:T,intersectsRay:N,projectPoint:la,setAltitudeAt:E,setExtent:ha,tmpSphere:W,union:g,wrap:A},Symbol.toStringTag,{value:"Module"}));c.NullSphere=p;c.altitudeAt=ya;c.angleToSilhouette=ua;c.axisAt=wa;c.clear=z;c.closestPoint=ia;c.closestPointOnSilhouette=ba;c.containsPoint=K;c.copy=
D;c.create=F;c.distanceToSilhouette=ma;c.elevate=da;c.equals=x;c.exactEquals=l;c.fromCenterAndRadius=S;c.fromRadius=G;c.fromValues=Z;c.getCenter=ca;c.getRadius=I;c.intersectLine=pa;c.intersectRay=oa;c.intersectRayClosestSilhouette=T;c.intersectsRay=N;c.projectPoint=la;c.setAltitudeAt=E;c.setExtent=ha;c.sphere=V;c.tmpSphere=W;c.union=g;c.wrap=A})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(c,p,l){function e(a,b){a[0]=b[0];a[1]=b[1];
a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function n(a,b,k,q,B,H,O,Q,M,R,Y,aa,fa,ea,na,ka,ja){a[0]=b;a[1]=k;a[2]=q;a[3]=B;a[4]=H;a[5]=O;a[6]=Q;a[7]=M;a[8]=R;a[9]=Y;a[10]=aa;a[11]=fa;a[12]=ea;a[13]=na;a[14]=ka;a[15]=ja;return a}function v(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function u(a,b){if(a===
b){const k=b[1],q=b[2],B=b[3],H=b[6],O=b[7],Q=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=k;a[6]=b[9];a[7]=b[13];a[8]=q;a[9]=H;a[11]=b[14];a[12]=B;a[13]=O;a[14]=Q}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function r(a,b){w(a,b)||v(a);return a}function w(a,b){const k=b[0],q=b[1],B=b[2],H=b[3],O=b[4],Q=b[5],M=b[6],R=b[7],Y=b[8],aa=b[9],fa=b[10],ea=b[11],na=b[12],
ka=b[13],ja=b[14];b=b[15];const va=k*Q-q*O,qa=k*M-B*O,ra=k*R-H*O,sa=q*M-B*Q,ta=q*R-H*Q,Aa=B*R-H*M,Ba=Y*ka-aa*na,Ca=Y*ja-fa*na,Da=Y*b-ea*na,Ea=aa*ja-fa*ka,Fa=aa*b-ea*ka,Ga=fa*b-ea*ja;let xa=va*Ga-qa*Fa+ra*Ea+sa*Da-ta*Ca+Aa*Ba;if(!xa)return null;xa=1/xa;a[0]=(Q*Ga-M*Fa+R*Ea)*xa;a[1]=(B*Fa-q*Ga-H*Ea)*xa;a[2]=(ka*Aa-ja*ta+b*sa)*xa;a[3]=(fa*ta-aa*Aa-ea*sa)*xa;a[4]=(M*Da-O*Ga-R*Ca)*xa;a[5]=(k*Ga-B*Da+H*Ca)*xa;a[6]=(ja*ra-na*Aa-b*qa)*xa;a[7]=(Y*Aa-fa*ra+ea*qa)*xa;a[8]=(O*Fa-Q*Da+R*Ba)*xa;a[9]=(q*Da-k*Fa-
H*Ba)*xa;a[10]=(na*ta-ka*ra+b*va)*xa;a[11]=(aa*ra-Y*ta-ea*va)*xa;a[12]=(Q*Ca-O*Ea-M*Ba)*xa;a[13]=(k*Ea-q*Ca+B*Ba)*xa;a[14]=(ka*qa-na*sa-ja*va)*xa;a[15]=(Y*sa-aa*qa+fa*va)*xa;return a}function d(a,b){const k=b[0],q=b[1],B=b[2],H=b[3],O=b[4],Q=b[5],M=b[6],R=b[7],Y=b[8],aa=b[9],fa=b[10],ea=b[11],na=b[12],ka=b[13],ja=b[14];b=b[15];a[0]=Q*(fa*b-ea*ja)-aa*(M*b-R*ja)+ka*(M*ea-R*fa);a[1]=-(q*(fa*b-ea*ja)-aa*(B*b-H*ja)+ka*(B*ea-H*fa));a[2]=q*(M*b-R*ja)-Q*(B*b-H*ja)+ka*(B*R-H*M);a[3]=-(q*(M*ea-R*fa)-Q*(B*ea-
H*fa)+aa*(B*R-H*M));a[4]=-(O*(fa*b-ea*ja)-Y*(M*b-R*ja)+na*(M*ea-R*fa));a[5]=k*(fa*b-ea*ja)-Y*(B*b-H*ja)+na*(B*ea-H*fa);a[6]=-(k*(M*b-R*ja)-O*(B*b-H*ja)+na*(B*R-H*M));a[7]=k*(M*ea-R*fa)-O*(B*ea-H*fa)+Y*(B*R-H*M);a[8]=O*(aa*b-ea*ka)-Y*(Q*b-R*ka)+na*(Q*ea-R*aa);a[9]=-(k*(aa*b-ea*ka)-Y*(q*b-H*ka)+na*(q*ea-H*aa));a[10]=k*(Q*b-R*ka)-O*(q*b-H*ka)+na*(q*R-H*Q);a[11]=-(k*(Q*ea-R*aa)-O*(q*ea-H*aa)+Y*(q*R-H*Q));a[12]=-(O*(aa*ja-fa*ka)-Y*(Q*ja-M*ka)+na*(Q*fa-M*aa));a[13]=k*(aa*ja-fa*ka)-Y*(q*ja-B*ka)+na*(q*fa-
B*aa);a[14]=-(k*(Q*ja-M*ka)-O*(q*ja-B*ka)+na*(q*M-B*Q));a[15]=k*(Q*fa-M*aa)-O*(q*fa-B*aa)+Y*(q*M-B*Q);return a}function h(a){const b=a[0],k=a[1],q=a[2],B=a[3],H=a[4],O=a[5],Q=a[6],M=a[7],R=a[8],Y=a[9],aa=a[10],fa=a[11],ea=a[12],na=a[13],ka=a[14];a=a[15];return(b*O-k*H)*(aa*a-fa*ka)-(b*Q-q*H)*(Y*a-fa*na)+(b*M-B*H)*(Y*ka-aa*na)+(k*Q-q*O)*(R*a-fa*ea)-(k*M-B*O)*(R*ka-aa*ea)+(q*M-B*Q)*(R*na-Y*ea)}function t(a,b,k){const q=b[0],B=b[1],H=b[2],O=b[3],Q=b[4],M=b[5],R=b[6],Y=b[7],aa=b[8],fa=b[9],ea=b[10],na=
b[11],ka=b[12],ja=b[13],va=b[14];b=b[15];let qa=k[0],ra=k[1],sa=k[2],ta=k[3];a[0]=qa*q+ra*Q+sa*aa+ta*ka;a[1]=qa*B+ra*M+sa*fa+ta*ja;a[2]=qa*H+ra*R+sa*ea+ta*va;a[3]=qa*O+ra*Y+sa*na+ta*b;qa=k[4];ra=k[5];sa=k[6];ta=k[7];a[4]=qa*q+ra*Q+sa*aa+ta*ka;a[5]=qa*B+ra*M+sa*fa+ta*ja;a[6]=qa*H+ra*R+sa*ea+ta*va;a[7]=qa*O+ra*Y+sa*na+ta*b;qa=k[8];ra=k[9];sa=k[10];ta=k[11];a[8]=qa*q+ra*Q+sa*aa+ta*ka;a[9]=qa*B+ra*M+sa*fa+ta*ja;a[10]=qa*H+ra*R+sa*ea+ta*va;a[11]=qa*O+ra*Y+sa*na+ta*b;qa=k[12];ra=k[13];sa=k[14];ta=k[15];
a[12]=qa*q+ra*Q+sa*aa+ta*ka;a[13]=qa*B+ra*M+sa*fa+ta*ja;a[14]=qa*H+ra*R+sa*ea+ta*va;a[15]=qa*O+ra*Y+sa*na+ta*b;return a}function C(a,b,k){const q=k[0],B=k[1];k=k[2];if(b===a)a[12]=b[0]*q+b[4]*B+b[8]*k+b[12],a[13]=b[1]*q+b[5]*B+b[9]*k+b[13],a[14]=b[2]*q+b[6]*B+b[10]*k+b[14],a[15]=b[3]*q+b[7]*B+b[11]*k+b[15];else{const H=b[0],O=b[1],Q=b[2],M=b[3],R=b[4],Y=b[5],aa=b[6],fa=b[7],ea=b[8],na=b[9],ka=b[10],ja=b[11];a[0]=H;a[1]=O;a[2]=Q;a[3]=M;a[4]=R;a[5]=Y;a[6]=aa;a[7]=fa;a[8]=ea;a[9]=na;a[10]=ka;a[11]=ja;
a[12]=H*q+R*B+ea*k+b[12];a[13]=O*q+Y*B+na*k+b[13];a[14]=Q*q+aa*B+ka*k+b[14];a[15]=M*q+fa*B+ja*k+b[15]}return a}function y(a,b,k){const q=k[0],B=k[1];k=k[2];a[0]=b[0]*q;a[1]=b[1]*q;a[2]=b[2]*q;a[3]=b[3]*q;a[4]=b[4]*B;a[5]=b[5]*B;a[6]=b[6]*B;a[7]=b[7]*B;a[8]=b[8]*k;a[9]=b[9]*k;a[10]=b[10]*k;a[11]=b[11]*k;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function F(a,b,k,q){let B=q[0],H=q[1];q=q[2];let O=Math.sqrt(B*B+H*H+q*q);var Q=void 0,M=void 0;let R=void 0,Y=void 0,aa=void 0,fa=void 0,ea=
void 0,na=void 0,ka=void 0,ja=void 0,va=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0;M=Q=void 0;if(O<l.getEpsilon())return null;O=1/O;B*=O;H*=O;q*=O;Q=Math.sin(k);M=Math.cos(k);R=1-M;Y=b[0];aa=b[1];fa=b[2];ea=b[3];na=b[4];ka=b[5];ja=b[6];va=b[7];qa=b[8];ra=b[9];sa=b[10];ta=b[11];Aa=B*B*R+M;Ba=H*B*R+q*Q;Ca=q*B*R-H*Q;Da=B*H*R-q*Q;Ea=H*H*R+M;Fa=q*H*R+B*Q;Ga=B*q*R+H*Q;Q=H*q*R-B*Q;M=q*q*R+M;a[0]=Y*Aa+na*Ba+qa*Ca;a[1]=aa*Aa+ka*Ba+ra*
Ca;a[2]=fa*Aa+ja*Ba+sa*Ca;a[3]=ea*Aa+va*Ba+ta*Ca;a[4]=Y*Da+na*Ea+qa*Fa;a[5]=aa*Da+ka*Ea+ra*Fa;a[6]=fa*Da+ja*Ea+sa*Fa;a[7]=ea*Da+va*Ea+ta*Fa;a[8]=Y*Ga+na*Q+qa*M;a[9]=aa*Ga+ka*Q+ra*M;a[10]=fa*Ga+ja*Q+sa*M;a[11]=ea*Ga+va*Q+ta*M;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function D(a,b,k){const q=Math.sin(k);k=Math.cos(k);const B=b[4],H=b[5],O=b[6],Q=b[7],M=b[8],R=b[9],Y=b[10],aa=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);
a[4]=B*k+M*q;a[5]=H*k+R*q;a[6]=O*k+Y*q;a[7]=Q*k+aa*q;a[8]=M*k-B*q;a[9]=R*k-H*q;a[10]=Y*k-O*q;a[11]=aa*k-Q*q;return a}function S(a,b,k){const q=Math.sin(k);k=Math.cos(k);const B=b[0],H=b[1],O=b[2],Q=b[3],M=b[8],R=b[9],Y=b[10],aa=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=B*k-M*q;a[1]=H*k-R*q;a[2]=O*k-Y*q;a[3]=Q*k-aa*q;a[8]=B*q+M*k;a[9]=H*q+R*k;a[10]=O*q+Y*k;a[11]=Q*q+aa*k;return a}function A(a,b,k){const q=Math.sin(k);k=Math.cos(k);const B=
b[0],H=b[1],O=b[2],Q=b[3],M=b[4],R=b[5],Y=b[6],aa=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=B*k+M*q;a[1]=H*k+R*q;a[2]=O*k+Y*q;a[3]=Q*k+aa*q;a[4]=M*k-B*q;a[5]=R*k-H*q;a[6]=Y*k-O*q;a[7]=aa*k-Q*q;return a}function z(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function G(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;
a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function I(a,b,k){if(0===b)return v(a);let q=k[0],B=k[1];k=k[2];let H=Math.sqrt(q*q+B*B+k*k),O=void 0,Q=void 0,M=void 0;if(H<l.getEpsilon())return null;H=1/H;q*=H;B*=H;k*=H;O=Math.sin(b);Q=Math.cos(b);M=1-Q;a[0]=q*q*M+Q;a[1]=B*q*M+k*O;a[2]=k*q*M-B*O;a[3]=0;a[4]=q*B*M-k*O;a[5]=B*B*M+Q;a[6]=k*B*M+q*O;a[7]=0;a[8]=q*k*M+B*O;a[9]=B*k*M-q*O;a[10]=k*k*M+Q;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ca(a,b){const k=Math.sin(b);
b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=k;a[7]=0;a[8]=0;a[9]=-k;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Z(a,b){const k=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-k;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=k;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function da(a,b){const k=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=k;a[2]=0;a[3]=0;a[4]=-k;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ha(a,
b,k){var q=b[0],B=b[1],H=b[2],O=b[3],Q=q+q,M=B+B;const R=H+H;b=q*Q;const Y=q*M;q*=R;const aa=B*M;B*=R;H*=R;Q*=O;M*=O;O*=R;a[0]=1-(aa+H);a[1]=Y+O;a[2]=q-M;a[3]=0;a[4]=Y-O;a[5]=1-(b+H);a[6]=B+Q;a[7]=0;a[8]=q+M;a[9]=B-Q;a[10]=1-(b+aa);a[11]=0;a[12]=k[0];a[13]=k[1];a[14]=k[2];a[15]=1;return a}function oa(a,b){const k=X,q=-b[0],B=-b[1],H=-b[2],O=b[3],Q=b[4],M=b[5],R=b[6],Y=b[7],aa=q*q+B*B+H*H+O*O;0<aa?(k[0]=2*(Q*O+Y*q+M*H-R*B)/aa,k[1]=2*(M*O+Y*B+R*q-Q*H)/aa,k[2]=2*(R*O+Y*H+Q*B-M*q)/aa):(k[0]=2*(Q*O+Y*
q+M*H-R*B),k[1]=2*(M*O+Y*B+R*q-Q*H),k[2]=2*(R*O+Y*H+Q*B-M*q));ha(a,b,k);return a}function pa(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function L(a,b){const k=b[0],q=b[1],B=b[2],H=b[4],O=b[5],Q=b[6],M=b[8],R=b[9];b=b[10];a[0]=Math.sqrt(k*k+q*q+B*B);a[1]=Math.sqrt(H*H+O*O+Q*Q);a[2]=Math.sqrt(M*M+R*R+b*b);return a}function N(a,b){const k=b[0]+b[5]+b[10];let q=0;0<k?(q=2*Math.sqrt(k+1),a[3]=.25*q,a[0]=(b[6]-b[9])/q,a[1]=(b[8]-b[2])/q,a[2]=(b[1]-b[4])/q):b[0]>b[5]&&b[0]>b[10]?(q=2*Math.sqrt(1+b[0]-
b[5]-b[10]),a[3]=(b[6]-b[9])/q,a[0]=.25*q,a[1]=(b[1]+b[4])/q,a[2]=(b[8]+b[2])/q):b[5]>b[10]?(q=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/q,a[0]=(b[1]+b[4])/q,a[1]=.25*q,a[2]=(b[6]+b[9])/q):(q=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/q,a[0]=(b[8]+b[2])/q,a[1]=(b[6]+b[9])/q,a[2]=.25*q);return a}function T(a,b,k,q){var B=b[0],H=b[1],O=b[2],Q=b[3],M=B+B,R=H+H,Y=O+O;b=B*M;const aa=B*R;B*=Y;const fa=H*R;H*=Y;O*=Y;M*=Q;R*=Q;Q*=Y;Y=q[0];const ea=q[1];q=q[2];a[0]=(1-(fa+O))*Y;a[1]=(aa+Q)*Y;a[2]=
(B-R)*Y;a[3]=0;a[4]=(aa-Q)*ea;a[5]=(1-(b+O))*ea;a[6]=(H+M)*ea;a[7]=0;a[8]=(B+R)*q;a[9]=(H-M)*q;a[10]=(1-(b+fa))*q;a[11]=0;a[12]=k[0];a[13]=k[1];a[14]=k[2];a[15]=1;return a}function ba(a,b,k,q,B){var H=b[0],O=b[1],Q=b[2],M=b[3],R=H+H,Y=O+O,aa=Q+Q;b=H*R;var fa=H*Y,ea=H*aa;H=O*Y;O*=aa;var na=Q*aa;Q=M*R;Y*=M;const ka=M*aa;var ja=q[0],va=q[1];aa=q[2];q=B[0];M=B[1];B=B[2];R=(1-(H+na))*ja;const qa=(fa+ka)*ja;ja*=ea-Y;fa=(fa-ka)*va;na=(1-(b+na))*va;va*=O+Q;ea=(ea+Y)*aa;O=(O-Q)*aa;b=(1-(b+H))*aa;a[0]=R;a[1]=
qa;a[2]=ja;a[3]=0;a[4]=fa;a[5]=na;a[6]=va;a[7]=0;a[8]=ea;a[9]=O;a[10]=b;a[11]=0;a[12]=k[0]+q-(R*q+fa*M+ea*B);a[13]=k[1]+M-(qa*q+na*M+O*B);a[14]=k[2]+B-(ja*q+va*M+b*B);a[15]=1;return a}function ia(a,b){var k=b[0],q=b[1],B=b[2];b=b[3];var H=k+k,O=q+q;const Q=B+B;k*=H;const M=q*H;q*=O;const R=B*H,Y=B*O;B*=Q;H*=b;O*=b;b*=Q;a[0]=1-q-B;a[1]=M+b;a[2]=R-O;a[3]=0;a[4]=M-b;a[5]=1-k-B;a[6]=Y+H;a[7]=0;a[8]=R+O;a[9]=Y-H;a[10]=1-k-q;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function la(a,b,k,q,B,H,O){const Q=
1/(k-b),M=1/(B-q),R=1/(H-O);a[0]=2*H*Q;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*H*M;a[6]=0;a[7]=0;a[8]=(k+b)*Q;a[9]=(B+q)*M;a[10]=(O+H)*R;a[11]=-1;a[12]=0;a[13]=0;a[14]=O*H*2*R;a[15]=0;return a}function ma(a,b,k,q,B){b=1/Math.tan(b/2);let H=void 0;a[0]=b/k;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=B&&Infinity!==B?(H=1/(q-B),a[10]=(B+q)*H,a[14]=2*B*q*H):(a[10]=-1,a[14]=-2*q);return a}function ua(a,b,k,q){const B=Math.tan(b.upDegrees*Math.PI/180),
H=Math.tan(b.downDegrees*Math.PI/180),O=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const Q=2/(O+b),M=2/(B+H);a[0]=Q;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=M;a[6]=0;a[7]=0;a[8]=-((O-b)*Q*.5);a[9]=(B-H)*M*.5;a[10]=q/(k-q);a[11]=-1;a[12]=0;a[13]=0;a[14]=q*k/(k-q);a[15]=0;return a}function wa(a,b,k,q,B,H,O){const Q=1/(b-k),M=1/(q-B),R=1/(H-O);a[0]=-2*Q;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*M;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*R;a[11]=0;a[12]=(b+k)*Q;a[13]=(B+q)*M;a[14]=(O+H)*
R;a[15]=1;return a}function ya(a,b,k,q){const B=b[0],H=b[1];b=b[2];let O=B-k[0],Q=H-k[1];k=b-k[2];var M=l.getEpsilon();if(Math.abs(O)<M&&Math.abs(Q)<M&&Math.abs(k)<M)v(a);else{var R=1/Math.sqrt(O*O+Q*Q+k*k);O*=R;Q*=R;k*=R;R=q[0];var Y=q[1];M=q[2];q=Y*k-M*Q;M=M*O-R*k;Y=R*Q-Y*O;(R=Math.sqrt(q*q+M*M+Y*Y))?(R=1/R,q*=R,M*=R,Y*=R):Y=M=q=0;var aa=Q*Y-k*M,fa=k*q-O*Y,ea=O*M-Q*q;(R=Math.sqrt(aa*aa+fa*fa+ea*ea))?(R=1/R,aa*=R,fa*=R,ea*=R):ea=fa=aa=0;a[0]=q;a[1]=aa;a[2]=O;a[3]=0;a[4]=M;a[5]=fa;a[6]=Q;a[7]=0;a[8]=
Y;a[9]=ea;a[10]=k;a[11]=0;a[12]=-(q*B+M*H+Y*b);a[13]=-(aa*B+fa*H+ea*b);a[14]=-(O*B+Q*H+k*b);a[15]=1}}function E(a,b,k,q){const B=b[0],H=b[1];b=b[2];var O=q[0];const Q=q[1];var M=q[2];q=B-k[0];let R=H-k[1];k=b-k[2];let Y=q*q+R*R+k*k;0<Y&&(Y=1/Math.sqrt(Y),q*=Y,R*=Y,k*=Y);let aa=Q*k-M*R;M=M*q-O*k;O=O*R-Q*q;Y=aa*aa+M*M+O*O;0<Y&&(Y=1/Math.sqrt(Y),aa*=Y,M*=Y,O*=Y);a[0]=aa;a[1]=M;a[2]=O;a[3]=0;a[4]=R*O-k*M;a[5]=k*aa-q*O;a[6]=q*M-R*aa;a[7]=0;a[8]=q;a[9]=R;a[10]=k;a[11]=0;a[12]=B;a[13]=H;a[14]=b;a[15]=1;
return a}function K(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function g(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function x(a,b,k){a[0]=b[0]+k[0];a[1]=b[1]+k[1];a[2]=b[2]+k[2];a[3]=b[3]+k[3];a[4]=b[4]+k[4];a[5]=b[5]+k[5];a[6]=b[6]+k[6];a[7]=b[7]+
k[7];a[8]=b[8]+k[8];a[9]=b[9]+k[9];a[10]=b[10]+k[10];a[11]=b[11]+k[11];a[12]=b[12]+k[12];a[13]=b[13]+k[13];a[14]=b[14]+k[14];a[15]=b[15]+k[15];return a}function J(a,b,k){a[0]=b[0]-k[0];a[1]=b[1]-k[1];a[2]=b[2]-k[2];a[3]=b[3]-k[3];a[4]=b[4]-k[4];a[5]=b[5]-k[5];a[6]=b[6]-k[6];a[7]=b[7]-k[7];a[8]=b[8]-k[8];a[9]=b[9]-k[9];a[10]=b[10]-k[10];a[11]=b[11]-k[11];a[12]=b[12]-k[12];a[13]=b[13]-k[13];a[14]=b[14]-k[14];a[15]=b[15]-k[15];return a}function U(a,b,k){a[0]=b[0]*k;a[1]=b[1]*k;a[2]=b[2]*k;a[3]=b[3]*
k;a[4]=b[4]*k;a[5]=b[5]*k;a[6]=b[6]*k;a[7]=b[7]*k;a[8]=b[8]*k;a[9]=b[9]*k;a[10]=b[10]*k;a[11]=b[11]*k;a[12]=b[12]*k;a[13]=b[13]*k;a[14]=b[14]*k;a[15]=b[15]*k;return a}function f(a,b,k,q){a[0]=b[0]+k[0]*q;a[1]=b[1]+k[1]*q;a[2]=b[2]+k[2]*q;a[3]=b[3]+k[3]*q;a[4]=b[4]+k[4]*q;a[5]=b[5]+k[5]*q;a[6]=b[6]+k[6]*q;a[7]=b[7]+k[7]*q;a[8]=b[8]+k[8]*q;a[9]=b[9]+k[9]*q;a[10]=b[10]+k[10]*q;a[11]=b[11]+k[11]*q;a[12]=b[12]+k[12]*q;a[13]=b[13]+k[13]*q;a[14]=b[14]+k[14]*q;a[15]=b[15]+k[15]*q;return a}function m(a,b){return a[0]===
b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function W(a,b){if(a===b)return!0;const k=a[0],q=a[1],B=a[2],H=a[3],O=a[4],Q=a[5],M=a[6],R=a[7],Y=a[8],aa=a[9],fa=a[10],ea=a[11],na=a[12],ka=a[13],ja=a[14];a=a[15];const va=b[0],qa=b[1],ra=b[2],sa=b[3],ta=b[4],Aa=b[5],Ba=b[6],Ca=b[7],Da=b[8],Ea=b[9],Fa=b[10],Ga=b[11],xa=b[12],Ha=b[13],Ia=
b[14];b=b[15];const za=l.getEpsilon();return Math.abs(k-va)<=za*Math.max(1,Math.abs(k),Math.abs(va))&&Math.abs(q-qa)<=za*Math.max(1,Math.abs(q),Math.abs(qa))&&Math.abs(B-ra)<=za*Math.max(1,Math.abs(B),Math.abs(ra))&&Math.abs(H-sa)<=za*Math.max(1,Math.abs(H),Math.abs(sa))&&Math.abs(O-ta)<=za*Math.max(1,Math.abs(O),Math.abs(ta))&&Math.abs(Q-Aa)<=za*Math.max(1,Math.abs(Q),Math.abs(Aa))&&Math.abs(M-Ba)<=za*Math.max(1,Math.abs(M),Math.abs(Ba))&&Math.abs(R-Ca)<=za*Math.max(1,Math.abs(R),Math.abs(Ca))&&
Math.abs(Y-Da)<=za*Math.max(1,Math.abs(Y),Math.abs(Da))&&Math.abs(aa-Ea)<=za*Math.max(1,Math.abs(aa),Math.abs(Ea))&&Math.abs(fa-Fa)<=za*Math.max(1,Math.abs(fa),Math.abs(Fa))&&Math.abs(ea-Ga)<=za*Math.max(1,Math.abs(ea),Math.abs(Ga))&&Math.abs(na-xa)<=za*Math.max(1,Math.abs(na),Math.abs(xa))&&Math.abs(ka-Ha)<=za*Math.max(1,Math.abs(ka),Math.abs(Ha))&&Math.abs(ja-Ia)<=za*Math.max(1,Math.abs(ja),Math.abs(Ia))&&Math.abs(a-b)<=za*Math.max(1,Math.abs(a),Math.abs(b))}function V(a){const b=l.getEpsilon(),
k=a[0],q=a[1],B=a[2],H=a[4],O=a[5],Q=a[6],M=a[8],R=a[9];a=a[10];return Math.abs(1-(k*k+H*H+M*M))<=b&&Math.abs(1-(q*q+O*O+R*R))<=b&&Math.abs(1-(B*B+Q*Q+a*a))<=b}function P(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const X=p.create();p=Object.freeze(Object.defineProperty({__proto__:null,add:x,adjoint:d,copy:e,determinant:h,equals:W,exactEquals:m,frob:g,fromQuat:ia,fromQuat2:oa,fromRotation:I,fromRotationTranslation:ha,fromRotationTranslationScale:T,
fromRotationTranslationScaleOrigin:ba,fromScaling:G,fromTranslation:z,fromXRotation:ca,fromYRotation:Z,fromZRotation:da,frustum:la,getRotation:N,getScaling:L,getTranslation:pa,hasIdentityRotation:P,identity:v,invert:w,invertOrIdentity:r,isOrthoNormal:V,lookAt:ya,mul:t,multiply:t,multiplyScalar:U,multiplyScalarAndAdd:f,ortho:wa,perspective:ma,perspectiveFromFieldOfView:ua,rotate:F,rotateX:D,rotateY:S,rotateZ:A,scale:y,set:n,str:K,sub:J,subtract:J,targetTo:E,translate:C,transpose:u},Symbol.toStringTag,
{value:"Module"}));c.add=x;c.adjoint=d;c.copy=e;c.determinant=h;c.equals=W;c.exactEquals=m;c.frob=g;c.fromQuat=ia;c.fromQuat2=oa;c.fromRotation=I;c.fromRotationTranslation=ha;c.fromRotationTranslationScale=T;c.fromRotationTranslationScaleOrigin=ba;c.fromScaling=G;c.fromTranslation=z;c.fromXRotation=ca;c.fromYRotation=Z;c.fromZRotation=da;c.frustum=la;c.getRotation=N;c.getScaling=L;c.getTranslation=pa;c.hasIdentityRotation=P;c.identity=v;c.invert=w;c.invertOrIdentity=r;c.isOrthoNormal=V;c.lookAt=ya;
c.mat4=p;c.mul=t;c.multiply=t;c.multiplyScalar=U;c.multiplyScalarAndAdd=f;c.ortho=wa;c.perspective=ma;c.perspectiveFromFieldOfView=ua;c.rotate=F;c.rotateX=D;c.rotateY=S;c.rotateZ=A;c.scale=y;c.set=n;c.str=K;c.sub=J;c.subtract=J;c.targetTo=E;c.translate=C;c.transpose=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ./vectorStacks".split(" "),
function(c,p,l,e,n,v){function u(t){return t?r(n.clone(t.origin),n.clone(t.direction)):r(n.create(),n.create())}function r(t,C){return{origin:t,direction:C}}function w(t,C,y=u()){e.copy(y.origin,t);e.copy(y.direction,C);return y}const d=new l.ObjectStack(()=>u()),h=n.create();c.closestPoint=function(t,C,y){C=e.dot(t.direction,e.subtract(y,C,t.origin));e.add(y,t.origin,e.scale(y,t.direction,C));return y};c.closestPoints=function(t,C,y,F){const D=t.direction,S=C.direction;var A=e.sub(h,C.origin,t.origin);
const z=e.dot(D,S),G=e.dot(S,A);A=e.dot(D,A);const I=e.dot(D,D),ca=e.dot(S,S),Z=(z*A-G*I)/(I*ca-z*z);e.add(y,t.origin,e.scale(h,D,(z*G+A*ca)/(I*ca-z*z)));e.add(F,C.origin,e.scale(h,S,Z));return[y,F]};c.copy=function(t,C=u()){return w(t.origin,t.direction,C)};c.create=u;c.distance2=function(t,C){t=e.cross(v.sv3d.get(),e.normalize(v.sv3d.get(),t.direction),e.subtract(v.sv3d.get(),C,t.origin));return e.dot(t,t)};c.equals=function(t,C){return p.equals(t.origin,C.origin)&&p.equals(t.direction,C.direction)};
c.fromPoints=function(t,C,y=u()){e.copy(y.origin,t);e.subtract(y.direction,C,t);return y};c.fromValues=w;c.wrap=function(t,C){const y=d.get();y.origin=t;y.direction=C;return y};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vector":function(){define(["exports","../../core/mathUtils","../../chunks/vec32","../../core/libs/gl-matrix-2/factories/vec3f64"],function(c,p,l,e){const n=e.create(),v=e.create();c.angle=function(u,r){u=l.dot(u,r)/(l.length(u)*l.length(r));
return-p.acosClamped(u)};c.angleAroundAxis=function(u,r,w){l.normalize(n,u);l.normalize(v,r);u=l.dot(n,v);u=p.acosClamped(u);r=l.cross(n,n,v);return 0>l.dot(r,w)?2*Math.PI-u:u};c.projectPoint=function(u,r,w){r=l.dot(u,r)/l.dot(u,u);return l.scale(w,u,r)};c.projectPointSignedLength=function(u,r){return l.dot(u,r)/l.length(u)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Octree":function(){define("../../../../core/ObjectPool ../../../../core/PooledArray ../../../../chunks/vec32 ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../geometry/support/frustum ../../../../geometry/support/ray ../../../../chunks/sphere ./Util".split(" "),
function(c,p,l,e,n,v,u,r){function w(g,x){g=Z.acquire().init(g);const J=[g];for(;0!==J.length;){g=J.pop();if(x(g)&&!g.isLeaf())for(let U=0;U<g.node.children.length;U++)g.node.children[U]&&J.push(Z.acquire().init(g).advance(U));Z.release(g)}}function d(g,x,J,U=ca.DepthOrder.FRONT_TO_BACK){g=Z.acquire().init(g);const f=[g];for(A(J,U,K);0!==f.length;){g=f.pop();if(x(g)&&!g.isLeaf())for(J=7;0<=J;--J)U=K[J],g.node.children[U]&&f.push(Z.acquire().init(g).advance(U));Z.release(g)}}function h(g,x,J){ia.clear();
x=J.advanceTo(x,(U,f)=>{ia.push(U.node);ia.push(f)})?J.node.terminals:J.node.residents;x.removeUnordered(g);if(0===x.length)for(g=ia.length-2;0<=g&&t(ia.data[g],ia.data[g+1]);g-=2);}function t(g,x){0<=x&&(g.children[x]=null);return F(g)?(null===g.residents&&(g.residents=new p({shrink:!0})),!0):!1}function C(g,x){D(u.getCenter(x.bounds),2*-x.halfSize,T);D(u.getCenter(x.bounds),2*x.halfSize,ba);return r.rayBoxTest(g.origin,g.direction,T,ba)}function y(g,x,J){D(u.getCenter(x.bounds),2*-x.halfSize,T);
D(u.getCenter(x.bounds),2*x.halfSize,ba);J.applyToMinMax(T,ba);return r.rayBoxTest(g.origin,g.direction,T,ba)}function F(g){if(0!==g.terminals.length)return!1;if(null!==g.residents)return 0===g.residents.length;for(let x=0;x<g.children.length;x++)if(g.children[x])return!1;return!0}function D(g,x,J){J[0]=g[0]+x;J[1]=g[1]+x;J[2]=g[2]+x}function S(g,x,J,U){if(1===x)g=J(g[0]),u.copy(g,U);else{T[0]=Infinity;T[1]=Infinity;T[2]=Infinity;ba[0]=-Infinity;ba[1]=-Infinity;ba[2]=-Infinity;for(let V=0;V<x;V++){var f=
J(g[V]);if(I(f[3])){var m=T,W=f;m[0]=Math.min(m[0],W[0]-W[3]);m[1]=Math.min(m[1],W[1]-W[3]);m[2]=Math.min(m[2],W[2]-W[3]);m=ba;m[0]=Math.max(m[0],f[0]+f[3]);m[1]=Math.max(m[1],f[1]+f[3]);m[2]=Math.max(m[2],f[2]+f[3])}}l.lerp(u.getCenter(U),T,ba,.5);U[3]=Math.max(ba[0]-T[0],ba[1]-T[1],ba[2]-T[2])/2}}function A(g,x,J){if(!E.length)for(var U=0;8>U;++U)E.push({index:0,distance:0});for(U=0;8>U;++U){const f=da[U];E.data[U].index=U;E.data[U].distance=G(g,x,f)}E.sort((f,m)=>f.distance-m.distance);for(g=0;8>
g;++g)J[g]=E.data[g].index}function z(g,x){let J=Infinity,U;for(let f=0;8>f;++f){const m=G(g,x,ha[f]);m<J&&(J=m,U=ha[f])}return U}function G(g,x,J){return x*(g[0]*J[0]+g[1]*J[1]+g[2]*J[2])}function I(g){return!isNaN(g)&&-Infinity!==g&&Infinity!==g&&0<g}class ca{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(g,
x){this.objectToBoundingSphere=g;this._maximumObjectsPerNode=10;this._maximumDepth=20;this._degenerateObjects=new Set;this._root=new Z;this._objectCount=0;x&&(void 0!==x.maximumObjectsPerNode&&(this._maximumObjectsPerNode=x.maximumObjectsPerNode),void 0!==x.maximumDepth&&(this._maximumDepth=x.maximumDepth))}destroy(){this._degenerateObjects.clear();Z.clearPool();pa[0]=null;ia.prune();E.prune()}add(g,x=g.length){this._objectCount+=x;this._grow(g,x);const J=Z.acquire();for(let U=0;U<x;U++){const f=
g[U];this._isDegenerate(f)?this._degenerateObjects.add(f):(J.init(this._root),this._add(f,J))}Z.release(J)}remove(g,x=null){this._objectCount-=g.length;const J=Z.acquire();for(const U of g)g=x??u.copy(this.objectToBoundingSphere(U),la),I(g[3])?(J.init(this._root),h(U,g,J)):this._degenerateObjects.delete(U);Z.release(J);this._shrink()}update(g,x){if(I(x[3])||!this._isDegenerate(g))pa[0]=g,g=pa,this.remove(g,x),this.add(g)}forEachAlongRay(g,x,J){const U=v.wrap(g,x);w(this._root,f=>{if(!C(U,f))return!1;
f=f.node;f.terminals.forAll(m=>{this._intersectsObject(U,m)&&J(m)});null!==f.residents&&f.residents.forAll(m=>{this._intersectsObject(U,m)&&J(m)});return!0})}forEachAlongRayWithVerticalOffset(g,x,J,U){const f=v.wrap(g,x);w(this._root,m=>{if(!y(f,m,U))return!1;m=m.node;m.terminals.forAll(W=>{this._intersectsObjectWithOffset(f,W,U)&&J(W)});null!==m.residents&&m.residents.forAll(W=>{this._intersectsObjectWithOffset(f,W,U)&&J(W)});return!0})}forEach(g){w(this._root,x=>{x=x.node;x.terminals.forAll(g);
null!==x.residents&&x.residents.forAll(g);return!0});this._degenerateObjects.forEach(g)}forEachDegenerateObject(g){this._degenerateObjects.forEach(g)}findClosest(g,x,J,U=()=>!0,f=Infinity){let m=Infinity,W=Infinity,V=null;const P=z(g,x),X=a=>{--f;if(U(a)){var b=this.objectToBoundingSphere(a);if(n.intersectsSphere(J,b)){var k=G(g,x,u.getCenter(b)),q=k-b[3];b=k+b[3];q<m&&(m=q,W=b,V=a)}}};d(this._root,a=>{if(0>=f||!n.intersectsSphere(J,a.bounds))return!1;l.scale(N,P,a.halfSize);l.add(N,N,u.getCenter(a.bounds));
if(G(g,x,N)>W)return!1;a=a.node;a.terminals.forAll(b=>X(b));null!==a.residents&&a.residents.forAll(b=>X(b));return!0},g,x);return V}forEachInDepthRange(g,x,J,U,f,m,W){let V=-Infinity,P=Infinity;const X={setRange:B=>{J===ca.DepthOrder.FRONT_TO_BACK?(V=Math.max(V,B.near),P=Math.min(P,B.far)):(V=Math.max(V,-B.far),P=Math.min(P,-B.near))}};X.setRange(U);const a=G(x,J,g),b=z(x,J),k=z(x,-J),q=B=>{if(W(B)){var H=this.objectToBoundingSphere(B),O=u.getCenter(H);O=G(x,J,O)-a;var Q=O+H[3];O-H[3]>P||Q<V||!n.intersectsSphere(m,
H)||f(B,X)}};d(this._root,B=>{if(!n.intersectsSphere(m,B.bounds))return!1;l.scale(N,b,B.halfSize);l.add(N,N,u.getCenter(B.bounds));if(G(x,J,N)-a>P)return!1;l.scale(N,k,B.halfSize);l.add(N,N,u.getCenter(B.bounds));if(G(x,J,N)-a<V)return!1;B=B.node;B.terminals.forAll(H=>q(H));null!==B.residents&&B.residents.forAll(H=>q(H));return!0},x,J)}forEachNode(g){w(this._root,x=>g(x.node,x.bounds,x.halfSize,x.depth))}forEachNeighbor(g,x){const J=u.getRadius(x),U=u.getCenter(x),f=V=>{const P=this.objectToBoundingSphere(V);
var X=u.getRadius(P);X=J+X;return 0>=l.squaredDistance(u.getCenter(P),U)-X*X?g(V):!0};let m=!0;const W=V=>{m&&=f(V)};w(this._root,V=>{var P=u.getRadius(V.bounds);P=J+P;if(0<l.squaredDistance(u.getCenter(V.bounds),U)-P*P)return!1;V=V.node;V.terminals.forAll(W);m&&null!==V.residents&&V.residents.forAll(W);return m});m&&this.forEachDegenerateObject(W)}_intersectsObject(g,x){x=this.objectToBoundingSphere(x);return 0<x[3]?u.intersectsRay(x,g):!0}_intersectsObjectWithOffset(g,x,J){x=this.objectToBoundingSphere(x);
return 0<x[3]?u.intersectsRay(J.applyToBoundingSphere(x),g):!0}_add(g,x){x.advanceTo(this.objectToBoundingSphere(g))?x.node.terminals.push(g):(x.node.residents.push(g),x.node.residents.length>this._maximumObjectsPerNode&&x.depth<this._maximumDepth&&this._split(x))}_split(g){const x=g.node.residents;g.node.residents=null;for(let J=0;J<x.length;J++){const U=Z.acquire().init(g);this._add(x.at(J),U);Z.release(U)}}_grow(g,x){0!==x&&(S(g,x,J=>this.objectToBoundingSphere(J),ma),I(ma[3])&&!this._fitsInsideTree(ma)&&
(F(this._root.node)?(u.copy(ma,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize()):(g=this._rootBoundsForRootAsSubNode(ma),this._placingRootViolatesMaxDepth(g)?this._rebuildTree(ma,g):this._growRootAsSubNode(g),Z.release(g))))}_rebuildTree(g,x){l.copy(u.getCenter(ua),u.getCenter(x.bounds));ua[3]=x.halfSize;S([g,ua],2,J=>J,wa);g=Z.acquire().init(this._root);this._root.initFrom(null,wa,wa[3]);this._root.increaseHalfSize(1.25);w(g,J=>{this.add(J.node.terminals.data,
J.node.terminals.length);null!==J.node.residents&&this.add(J.node.residents.data,J.node.residents.length);return!0});Z.release(g)}_placingRootViolatesMaxDepth(g){const x=Math.log(g.halfSize/this._root.halfSize)*Math.LOG2E;let J=0;w(this._root,U=>{J=Math.max(J,U.depth);return J+x<=this._maximumDepth});return J+x>this._maximumDepth}_rootBoundsForRootAsSubNode(g){var x=g[3],J=-Infinity;const U=this._root.bounds,f=this._root.halfSize;for(var m=0;3>m;m++){var W=Math.max(0,Math.ceil((U[m]-f-(g[m]-x))/(2*
f)));const V=Math.max(0,Math.ceil((g[m]+x-(U[m]+f))/(2*f)))+1;J=Math.max(J,2**Math.ceil(Math.log(W+V)*Math.LOG2E));ya[m].min=W;ya[m].max=V}for(g=0;3>g;g++)x=ya[g].min,m=ya[g].max,W=(J-(x+m))/2,x+=Math.ceil(W),m+=Math.floor(W),L[g]=U[g]-f-x*f*2+(m+x)*f;J*=f;L[3]=J*oa;return Z.acquire().initFrom(null,L,J,0)}_growRootAsSubNode(g){const x=this._root.node;l.copy(u.getCenter(ma),u.getCenter(this._root.bounds));ma[3]=this._root.halfSize;this._root.init(g);g.advanceTo(ma,null,!0);g.node.children=x.children;
g.node.residents=x.residents;g.node.terminals=x.terminals}_shrink(){for(;;){const g=this._findShrinkIndex();if(-1===g)break;this._root.advance(g);this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let g=null;const x=this._root.node.children;let J=0,U=0;for(;U<x.length&&null==g;)J=U++,g=x[J];for(;U<x.length;)if(x[U++])return-1;return J}_isDegenerate(g){g=this.objectToBoundingSphere(g)[3];return!I(g)}_fitsInsideTree(g){const x=this._root.bounds,
J=this._root.halfSize;return g[3]<=J&&g[0]>=x[0]-J&&g[0]<=x[0]+J&&g[1]>=x[1]-J&&g[1]<=x[1]+J&&g[2]>=x[2]-J&&g[2]<=x[2]+J}toJSON(){const {maximumDepth:g,maximumObjectsPerNode:x,_objectCount:J}=this,U=this._nodeToJSON(this._root.node);return{maximumDepth:g,maximumObjectsPerNode:x,objectCount:J,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:U}}}_nodeToJSON(g){const x=g.children.map(U=>U?this._nodeToJSON(U):null),J=g.residents?.map(U=>this.objectToBoundingSphere(U));
g=g.terminals?.map(U=>this.objectToBoundingSphere(U));return{children:x,residents:J,terminals:g}}static fromJSON(g){const x=new ca(J=>J,{maximumDepth:g.maximumDepth,maximumObjectsPerNode:g.maximumObjectsPerNode});x._objectCount=g.objectCount;x._root.initFrom(g.root.node,g.root.bounds,g.root.halfSize,g.root.depth);return x}}class Z{constructor(){this.bounds=u.create();this.halfSize=0;this.initFrom(null,null,0,0)}init(g){return this.initFrom(g.node,g.bounds,g.halfSize,g.depth)}initFrom(g,x,J,U=this.depth){this.node=
null!=g?g:Z.createEmptyNode();x&&u.copy(x,this.bounds);this.halfSize=J;this.depth=U;return this}increaseHalfSize(g){this.halfSize*=g;this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*oa}advance(g){let x=this.node.children[g];x||(x=Z.createEmptyNode(),this.node.children[g]=x);this.node=x;this.halfSize/=2;this.depth++;g=da[g];this.bounds[0]+=g[0]*this.halfSize;this.bounds[1]+=g[1]*this.halfSize;this.bounds[2]+=g[2]*this.halfSize;this.updateBoundsRadiusFromHalfSize();
return this}advanceTo(g,x,J=!1){for(;;){if(this.isTerminalFor(g))return x&&x(this,-1),!0;if(this.isLeaf()){if(!J)return x&&x(this,-1),!1;this.node.residents=null}const U=this._childIndex(g);x&&x(this,U);this.advance(U)}}isLeaf(){return null!=this.node.residents}isTerminalFor(g){return g[3]>this.halfSize/2}_childIndex(g){const x=this.bounds;return(x[0]<g[0]?1:0)+(x[1]<g[1]?2:0)+(x[2]<g[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new p({shrink:!0}),
residents:new p({shrink:!0})}}static acquire(){return Z._pool.acquire()}static release(g){Z._pool.release(g)}static clearPool(){Z._pool.prune()}}Z._pool=new c(Z);(function(g){g=g.DepthOrder||(g.DepthOrder={});g[g.FRONT_TO_BACK=1]="FRONT_TO_BACK";g[g.BACK_TO_FRONT=-1]="BACK_TO_FRONT"})(ca||={});const da=[e.fromValues(-1,-1,-1),e.fromValues(1,-1,-1),e.fromValues(-1,1,-1),e.fromValues(1,1,-1),e.fromValues(-1,-1,1),e.fromValues(1,-1,1),e.fromValues(-1,1,1),e.fromValues(1,1,1)],ha=[e.fromValues(-1,-1,
-1),e.fromValues(-1,-1,1),e.fromValues(-1,1,-1),e.fromValues(-1,1,1),e.fromValues(1,-1,-1),e.fromValues(1,-1,1),e.fromValues(1,1,-1),e.fromValues(1,1,1)],oa=Math.sqrt(3),pa=[null],L=u.create(),N=e.create(),T=e.create(),ba=e.create(),ia=new p,la=u.create(),ma=u.create(),ua=u.create(),wa=u.create(),ya=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],E=new p,K=[0,0,0,0,0,0,0,0];return ca})},"esri/geometry/support/frustum":function(){define("exports ../../core/ObjectStack ../../core/libs/gl-matrix-2/math/mat4 ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../chunks/vec42 ../../core/libs/gl-matrix-2/factories/vec4f64 ./clipRay ./plane ./vectorStacks".split(" "),
function(c,p,l,e,n,v,u,r,w,d){function h(){return[n.create(),n.create(),n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]}function t(A,z){w.fromPoints(z[c.PointIndex.FAR_BOTTOM_LEFT],z[c.PointIndex.NEAR_BOTTOM_LEFT],z[c.PointIndex.NEAR_TOP_LEFT],A[c.PlaneIndex.LEFT]);w.fromPoints(z[c.PointIndex.NEAR_BOTTOM_RIGHT],z[c.PointIndex.FAR_BOTTOM_RIGHT],z[c.PointIndex.FAR_TOP_RIGHT],A[c.PlaneIndex.RIGHT]);w.fromPoints(z[c.PointIndex.FAR_BOTTOM_LEFT],z[c.PointIndex.FAR_BOTTOM_RIGHT],z[c.PointIndex.NEAR_BOTTOM_RIGHT],
A[c.PlaneIndex.BOTTOM]);w.fromPoints(z[c.PointIndex.NEAR_TOP_LEFT],z[c.PointIndex.NEAR_TOP_RIGHT],z[c.PointIndex.FAR_TOP_RIGHT],A[c.PlaneIndex.TOP]);w.fromPoints(z[c.PointIndex.NEAR_BOTTOM_LEFT],z[c.PointIndex.NEAR_BOTTOM_RIGHT],z[c.PointIndex.NEAR_TOP_RIGHT],A[c.PlaneIndex.NEAR]);w.fromPoints(z[c.PointIndex.FAR_BOTTOM_RIGHT],z[c.PointIndex.FAR_BOTTOM_LEFT],z[c.PointIndex.FAR_TOP_LEFT],A[c.PlaneIndex.FAR])}function C(A,z){for(let G=0;6>G;G++)if(!w.clip(A[G],z))return!1;return!0}c.PlaneIndex=void 0;
(function(A){A[A.LEFT=0]="LEFT";A[A.RIGHT=1]="RIGHT";A[A.BOTTOM=2]="BOTTOM";A[A.TOP=3]="TOP";A[A.NEAR=4]="NEAR";A[A.FAR=5]="FAR"})(c.PlaneIndex||(c.PlaneIndex={}));c.PointIndex=void 0;(function(A){A[A.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT";A[A.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT";A[A.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT";A[A.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT";A[A.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT";A[A.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT";A[A.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT";A[A.FAR_TOP_LEFT=7]=
"FAR_TOP_LEFT"})(c.PointIndex||(c.PointIndex={}));const y={bottom:[c.PointIndex.FAR_BOTTOM_RIGHT,c.PointIndex.NEAR_BOTTOM_RIGHT,c.PointIndex.NEAR_BOTTOM_LEFT,c.PointIndex.FAR_BOTTOM_LEFT],near:[c.PointIndex.NEAR_BOTTOM_LEFT,c.PointIndex.NEAR_BOTTOM_RIGHT,c.PointIndex.NEAR_TOP_RIGHT,c.PointIndex.NEAR_TOP_LEFT],far:[c.PointIndex.FAR_BOTTOM_RIGHT,c.PointIndex.FAR_BOTTOM_LEFT,c.PointIndex.FAR_TOP_LEFT,c.PointIndex.FAR_TOP_RIGHT],right:[c.PointIndex.NEAR_BOTTOM_RIGHT,c.PointIndex.FAR_BOTTOM_RIGHT,c.PointIndex.FAR_TOP_RIGHT,
c.PointIndex.NEAR_TOP_RIGHT],left:[c.PointIndex.FAR_BOTTOM_LEFT,c.PointIndex.NEAR_BOTTOM_LEFT,c.PointIndex.NEAR_TOP_LEFT,c.PointIndex.FAR_TOP_LEFT],top:[c.PointIndex.FAR_TOP_LEFT,c.PointIndex.NEAR_TOP_LEFT,c.PointIndex.NEAR_TOP_RIGHT,c.PointIndex.FAR_TOP_RIGHT]},F=[u.fromValues(-1,-1,-1,1),u.fromValues(1,-1,-1,1),u.fromValues(1,1,-1,1),u.fromValues(-1,1,-1,1),u.fromValues(-1,-1,1,1),u.fromValues(1,-1,1,1),u.fromValues(1,1,1,1),u.fromValues(-1,1,1,1)],D=new p.ObjectStack(r.create),S=h();c.computePlanes=
t;c.copy=function(A,z){for(let G=0;6>G;G++)w.copy(A[G],z[G]);return A};c.create=function(A){return A?[w.create(A[0]),w.create(A[1]),w.create(A[2]),w.create(A[3]),w.create(A[4]),w.create(A[5])]:[w.create(),w.create(),w.create(),w.create(),w.create(),w.create()]};c.createPoints=h;c.fromMatrix=function(A,z,G,I=S){A=l.multiply(d.sm4d.get(),z,A);l.invert(A,A);for(z=0;8>z;++z){const ca=v.transformMat4(d.sv4d.get(),F[z],A);e.set(I[z],ca[0]/ca[3],ca[1]/ca[3],ca[2]/ca[3])}t(G,I)};c.intersectClipRay=function(A,
z){for(let G=0;6>G;G++)if(!w.clipInfinite(A[G],z))return!1;return!0};c.intersectsLineSegment=function(A,z,G){return C(A,r.fromLineSegmentAndDirection(z,G,D.get()))};c.intersectsPoint=function(A,z){for(let G=0;6>G;G++)if(0<w.signedDistance(A[G],z))return!1;return!0};c.intersectsRay=function(A,z){return C(A,r.fromRay(z,D.get()))};c.intersectsSphere=function(A,z){for(let G=0;6>G;G++){const I=A[G];if(I[0]*z[0]+I[1]*z[1]+I[2]*z[2]+I[3]>=z[3])return!1}return!0};c.numPlanes=6;c.numPoints=8;c.planePointIndices=
y;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/clipRay":function(){define(["exports","../../core/ObjectStack","../../chunks/vec32","./ray"],function(c,p,l,e){function n(w){return w?{ray:e.create(w.ray),c0:w.c0,c1:w.c1}:{ray:e.create(),c0:0,c1:Number.MAX_VALUE}}function v(w,d,h,t=n()){e.copy(w,t.ray);t.c0=d;t.c1=h;return t}function u(w,d,h){return l.add(h,w.ray.origin,l.scale(h,w.ray.direction,d))}const r=new p.ObjectStack(()=>n());c.copy=function(w,d=n()){return v(w.ray,
w.c0,w.c1,d)};c.create=n;c.fromLineSegmentAndDirection=function(w,d,h=n()){const t=l.length(w.vector);e.fromValues(w.origin,d,h.ray);h.c0=0;h.c1=t;return h};c.fromRay=function(w,d=n()){e.copy(w,d.ray);d.c0=0;d.c1=Number.MAX_VALUE;return d};c.fromValues=v;c.getAt=u;c.getEnd=function(w,d){return u(w,w.c1,d)};c.getStart=function(w,d){return u(w,w.c0,d)};c.wrap=function(w,d,h){const t=r.get();t.ray=w;t.c0=d;t.c1=h;return t};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/plane":function(){define("exports ../../core/mathUtils ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../chunks/vec42 ./vector ./vectorStacks ../../views/3d/support/mathUtils".split(" "),
function(c,p,l,e,n,v,u,r){function w(L=da){return[L[0],L[1],L[2],L[3]]}function d(L,N){return h(N[0],N[1],N[2],N[3],L)}function h(L,N,T,ba,ia=w()){ia[0]=L;ia[1]=N;ia[2]=T;ia[3]=ba;return ia}function t(L,N,T){var ba=N[0]*N[0]+N[1]*N[1]+N[2]*N[2];ba=1E-5<Math.abs(ba-1)&&1E-12<ba?1/Math.sqrt(ba):1;T[0]=N[0]*ba;T[1]=N[1]*ba;T[2]=N[2]*ba;T[3]=-(T[0]*L[0]+T[1]*L[1]+T[2]*L[2]);return T}function C(L,N,T,ba=w()){var ia=T[0]-N[0],la=T[1]-N[1],ma=T[2]-N[2];T=L[0]-N[0];const ua=L[1]-N[1],wa=L[2]-N[2];N=la*wa-
ma*ua;ma=ma*T-ia*wa;ia=ia*ua-la*T;la=N*N+ma*ma+ia*ia;la=1E-5<Math.abs(la-1)&&1E-12<la?1/Math.sqrt(la):1;ba[0]=N*la;ba[1]=ma*la;ba[2]=ia*la;ba[3]=-(ba[0]*L[0]+ba[1]*L[1]+ba[2]*L[2]);return ba}function y(L,N,T,ba=0,ia=Math.floor(1/3*T),la=Math.floor(2/3*T)){if(3>T)return!1;N(z,ba);let ma=ia,ua=!1;for(;ma<T-1&&!ua;)N(G,ma),ma++,ua=!l.exactEquals(z,G);if(!ua)return!1;ma=Math.max(ma,la);for(ua=!1;ma<T&&!ua;)N(I,ma),ma++,l.subtract(ca,z,G),l.normalize(ca,ca),l.subtract(Z,G,I),l.normalize(Z,Z),ua=!l.exactEquals(z,
I)&&!l.exactEquals(G,I)&&.99619469809>Math.abs(l.dot(ca,Z));if(!ua)return 0===ba&&1===ia&&2===la?!1:y(L,N,T,0,1,2);C(z,G,I,L);return!0}function F(L,N,T){L=l.scale(u.sv3d.get(),L,l.dot(L,N));l.subtract(T,N,L);return T}function D(L,N){return l.dot(L,N)+L[3]}function S(L,N,T,ba,ia){const la=l.dot(L,T);if(0===la)return!1;L=-(l.dot(L,N)+L[3])/la;ba&ha.CLAMP&&(L=p.clamp(L,0,1));if(!(ba&ha.INFINITE_MIN)&&0>L||!(ba&ha.INFINITE_MAX)&&1<L)return!1;l.add(ia,N,l.scale(ia,T,L));return!0}const A=n.exactEquals;
n=n.equals;const z=e.create(),G=e.create(),I=e.create(),ca=e.create(),Z=e.create(),da=[0,0,1,0];var ha;(function(L){L[L.NONE=0]="NONE";L[L.CLAMP=1]="CLAMP";L[L.INFINITE_MIN=4]="INFINITE_MIN";L[L.INFINITE_MAX=8]="INFINITE_MAX"})(ha||={});const oa=ha.INFINITE_MIN|ha.INFINITE_MAX,pa=ha.INFINITE_MAX;c.clip=function(L,N){const T=l.dot(L,N.ray.direction);L=-D(L,N.ray.origin);if(0>L&&0<=T)return!1;if(-1E-6<T&&1E-6>T)return 0<L;if((0>L||0>T)&&!(0>L&&0>T))return!0;L/=T;0<T?L<N.c1&&(N.c1=L):L>N.c0&&(N.c0=L);
return N.c0<=N.c1};c.clipInfinite=function(L,N){const T=l.dot(L,N.ray.direction);L=-D(L,N.ray.origin);if(-1E-6<T&&1E-6>T)return 0<L;L/=T;0<T?L<N.c1&&(N.c1=L):L>N.c0&&(N.c0=L);return N.c0<=N.c1};c.copy=d;c.create=w;c.distance=function(L,N){return Math.abs(D(L,N))};c.equals=n;c.exactEquals=A;c.fromArray=function(L,N,T=!0){const ba=N.length/3;return y(L,(ia,la)=>l.set(ia,N[3*la],N[3*la+1],N[3*la+2]),T?ba-1:ba)};c.fromManyPoints=y;c.fromNormalAndOffset=function(L,N,T){l.copy(T,L);T[3]=N;return T};c.fromPoints=
C;c.fromPositionAndNormal=t;c.fromValues=h;c.fromVectorsAndPoint=function(L,N,T,ba){l.cross(I,N,L);return t(T,I,ba)};c.getNormal=function(L){return L};c.intersectLine=function(L,N,T,ba){T=l.subtract(u.sv3d.get(),T,N);return S(L,N,T,oa,ba)};c.intersectLineSegment=function(L,N,T){return S(L,N.origin,N.vector,ha.NONE,T)};c.intersectLineSegmentClamp=function(L,N,T){return S(L,N.origin,N.vector,ha.CLAMP,T)};c.intersectRay=function(L,N,T){return null!=N?S(L,N.origin,N.direction,pa,T):!1};c.isPointInside=
function(L,N){return 0<=D(L,N)};c.negate=function(L,N){N[0]=-L[0];N[1]=-L[1];N[2]=-L[2];N[3]=-L[3];return N};c.projectPoint=function(L,N,T){const ba=l.scale(u.sv3d.get(),L,-L[3]);N=l.subtract(u.sv3d.get(),N,ba);L=F(L,N,u.sv3d.get());l.add(T,L,ba);return T};c.projectPointLocal=function(L,N,T,ba){var ia=u.sv3d.get(),la=u.sv3d.get();r.tangentFrame(L,ia,la);N=l.subtract(u.sv3d.get(),T,N);ia=v.projectPointSignedLength(ia,N);la=v.projectPointSignedLength(la,N);L=v.projectPointSignedLength(L,N);return l.set(ba,
ia,la,L)};c.projectVector=F;c.setOffsetFromPoint=function(L,N,T){N!==L&&d(L,N);L[3]=-l.dot(L,T);return L};c.signedDistance=D;c.up=da;c.wrap=function(L=da[0],N=da[1],T=da[2],ba=da[3]){return h(L,N,T,ba,u.sv4d.get())};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils","../../../chunks/vec32","../../../core/libs/gl-matrix-2/factories/vec3f64"],function(c,p,l,e){const n=e.create(),v=e.create(),u=e.create(),
r=e.create(),w=e.create();c.angle=function(d,h,t){d=l.normalize(r,d);h=l.normalize(w,h);const C=p.acosClamped(l.dot(d,h));return t&&(d=l.cross(u,d,h),0>l.dot(d,t))?-C:C};c.bilerp=function(d,h,t,C,y,F){d+=(h-d)*y;return d+(t+(C-t)*y-d)*F};c.cosCapped=function(d,h){return d>h?Math.cos(h):Math.cos(d)};c.fovx2fovy=function(d,h,t){return 2*Math.atan(t*Math.tan(.5*d)/h)};c.fovy2fovx=function(d,h,t){return 2*Math.atan(h*Math.tan(.5*d)/t)};c.makeOrthonormal=function(d,h,t){t=t||d;const C=l.dot(d,h);l.set(t,
d[0]-C*h[0],d[1]-C*h[1],d[2]-C*h[2]);l.normalize(t,t)};c.makePiecewiseLinearFunction=function(d){const h=d.length;return t=>{if(t<=d[0][0])return d[0][1];if(t>=d[h-1][0])return d[h-1][1];let C=1;for(;t>d[C][0];)C++;const y=d[C][0];t=(y-t)/(y-d[C-1][0]);return t*d[C-1][1]+(1-t)*d[C][1]}};c.maxScale=function(d){return Math.sqrt(Math.max(d[0]*d[0]+d[4]*d[4]+d[8]*d[8],d[1]*d[1]+d[5]*d[5]+d[9]*d[9],d[2]*d[2]+d[6]*d[6]+d[10]*d[10]))};c.midpoint3d=function(d,h){l.set(h,0,0,0);if(0<d.length){for(let t=0;t<
d.length;++t)l.add(h,h,d[t]);l.scale(h,h,1/d.length)}};c.planeFromPoints=function(d,h,t,C){l.subtract(n,h,d);l.subtract(v,t,d);l.cross(C,n,v);l.normalize(C,C);C[3]=-l.dot(d,C)};c.scaleFromMatrix=function(d,h){l.set(d,Math.sqrt(h[0]*h[0]+h[4]*h[4]+h[8]*h[8]),Math.sqrt(h[1]*h[1]+h[5]*h[5]+h[9]*h[9]),Math.sqrt(h[2]*h[2]+h[6]*h[6]+h[10]*h[10]));return d};c.slerp=function(d,h,t,C=e.create()){const y=l.length(d);var F=l.length(h),D=l.dot(d,h)/(y*F);if(.9999999999999999>D){D=Math.acos(D);const S=((1-t)*
y+t*F)/Math.sin(D);F=S/F*Math.sin(t*D);l.scale(r,d,S/y*Math.sin((1-t)*D));l.scale(w,h,F);return l.add(C,r,w)}return l.lerp(C,d,h,t)};c.slerpTangent=function(d,h,t,C=e.create(),y=e.create()){const F=l.length(d),D=l.length(h);var S=l.dot(d,h)/(F*D);if(.9999999999999999>S){S=Math.acos(S);const A=Math.sin(S),z=Math.sin(t*S),G=Math.sin((1-t)*S),I=(1-t)*F+t*D,ca=I/A,Z=ca/D*z;l.scale(r,d,ca/F*G);l.scale(w,h,Z);l.add(C,r,w);l.scale(r,d,1/F*(-Math.cos((1-t)*S)*S*I+G*(-F+D)));l.scale(w,h,1/D*(Math.cos(t*S)*
S*I+z*(-F+D)));l.add(y,r,w);l.scale(y,y,1/A);return y}l.lerp(C,d,h,t);l.subtract(y,h,d);l.normalize(y,y);return y};c.tangentFrame=function(d,h,t){Math.abs(d[0])>Math.abs(d[1])?l.set(h,0,1,0):l.set(h,1,0,0);l.cross(t,d,h);l.cross(h,t,d);l.normalize(t,t);l.normalize(h,h)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["exports","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../chunks/vec42","../../../../core/libs/gl-matrix-2/factories/vec4f64"],
function(c,p,l,e){function n(r,w){if(!r)throw w=w||"Assertion",new u(`${w} at ${Error(w).stack}`);}const v=e.create();class u{constructor(r){this.message=r}toString(){return`AssertException: ${this.message}`}}c.assert=n;c.isTranslationMatrix=function(r){return 1===r[0]&&0===r[1]&&0===r[2]&&0===r[3]&&0===r[4]&&1===r[5]&&0===r[6]&&0===r[7]&&0===r[8]&&0===r[9]&&1===r[10]&&0===r[11]&&1===r[15]};c.logWithBase=function(r,w){return Math.log(r)/Math.log(w)};c.project=function(r,w,d,h,t){v[0]=r[0];v[1]=r[1];
v[2]=r[2];v[3]=1;l.transformMat4(v,v,w);2<t.length&&(t[2]=-v[2]);l.transformMat4(v,v,d);n(0!==v[3]);t[0]=v[0]/v[3];t[1]=v[1]/v[3];t[2]=v[2]/v[3];t[0]=(.5*t[0]+.5)*h[2]+h[0];t[1]=(.5*t[1]+.5)*h[3]+h[1]};c.rayBoxTest=function(r,w,d,h){let t,C=(d[0]-r[0])/w[0],y=(h[0]-r[0])/w[0];C>y&&(t=C,C=y,y=t);let F=(d[1]-r[1])/w[1],D=(h[1]-r[1])/w[1];F>D&&(t=F,F=D,D=t);if(C>D||F>y)return!1;F>C&&(C=F);D<y&&(y=D);d=(d[2]-r[2])/w[2];r=(h[2]-r[2])/w[2];d>r&&(t=d,d=r,r=t);if(C>r||d>y)return!1;r<y&&(y=r);return 0>y?!1:
!0};c.rayRay2D=function(r,w,d,h,t,C=p.create()){const y=(h[t]-d[t])*(w[0]-r[0])-(h[0]-d[0])*(w[t]-r[t]);if(0===y)return!1;d=((h[0]-d[0])*(r[t]-d[t])-(h[t]-d[t])*(r[0]-d[0]))/y;C[0]=r[0]+d*(w[0]-r[0]);C[1]=r[t]+d*(w[t]-r[t]);return!0};c.setMatrixTranslation3=function(r,w,d,h){r[12]=w;r[13]=d;r[14]=h};c.verify=function(r,w){r||console.warn("Verify failed: "+(w||"")+"\n"+Error("verify").stack)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing":function(){define("exports ../../../../../geometry/support/meshUtils/deduplicate ../../../support/meshProcessing ../../../support/buffer/InterleavedLayout ../VertexAttribute ./bufferLayouts ./edgeBufferWriters ./edgePreprocessing".split(" "),
function(c,p,l,e,n,v,u,r){function w(C,y,F,D){if(y)return y=l.computeNeighbors(F,D,C.count),new d(F,D,y,C);C=p.deduplicate(C.buffer,C.stride/4,{originalIndices:F,originalIndicesLength:D});D=l.computeNeighbors(C.indices,D,C.uniqueCount);return{faces:C.indices,facesLength:C.indices.length,neighbors:D,vertices:v.EdgeInputBufferLayout.createView(C.buffer)}}class d{constructor(C,y,F,D){this.faces=C;this.facesLength=y;this.neighbors=F;this.vertices=D}}const h=new u.RegularEdgeBufferWriter,t=new u.SilhouetteEdgeBufferWriter;
u=e.newLayout().vec3f(n.VertexAttribute.POSITION0).vec3f(n.VertexAttribute.POSITION1);e=e.newLayout().vec3f(n.VertexAttribute.POSITION0).vec3f(n.VertexAttribute.POSITION1).u16(n.VertexAttribute.COMPONENTINDEX);c.extract=function(C){const y=w(C.data,C.skipDeduplicate,C.indices,C.indicesLength);h.updateSettings(C.writerSettings);t.updateSettings(C.writerSettings);return r.extractEdges(y,h,t)};c.extractComponentsEdgeLocationsLayout=e;c.extractEdgeInformation=w;c.extractEdgeLocationsLayout=u;Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/deduplicate":function(){define(["exports","../../../core/mathUtils","../Indices"],function(c,p,l){let e=null;c.deduplicate=function(n,v,u){var r=Array.isArray(n),w=r?n.length/v:n.byteLength/(4*v),d=r?n:new Uint32Array(n,0,w*v),h=u?.minReduction??0;const t=(n=u?.originalIndices||null)?n.length:0;var C=u?.componentOffsets||null;u=0;if(C)for(var y=0;y<C.length-1;y++){var F=C[y+1]-C[y];F>u&&(u=F)}else u=w;var D=Math.floor(1.1*u)+
1;if(null==e||e.length<2*D)e=new Uint32Array(p.nextHighestPowerOfTwo(2*D));for(u=0;u<2*D;u++)e[u]=0;u=0;const S=(F=!!C&&!!n)?t:w;y=l.newIndexArray(w);var A=new Uint32Array(t),z=0!==h?Math.ceil(7.84*1.96/(h*h)*h*(1-h)):S,G=1,I=C?C[1]:S;for(let oa=0;oa<S;oa++){if(oa===z){var ca=1-u/oa;if(ca+1.96*Math.sqrt(ca*(1-ca)/oa)<h)return null;z*=2}if(oa===I){for(I=0;I<2*D;I++)e[I]=0;if(n)for(I=C[G-1];I<C[G];I++)A[I]=y[n[I]];I=C[++G]}ca=F?n[oa]:oa;const pa=ca*v;var Z=0;for(var da=0;da<v;da++)Z=d[pa+da]+Z|0,Z=
Z+(Z<<11)+(Z>>>2)|0;Z>>>=0;da=Z%D;let L=u;for(;0!==e[2*da+1];){if(e[2*da]===Z){const N=e[2*da+1]-1;var ha=N*v;a:{for(let T=0;T<v;T++)if(d[pa+T]!==d[ha+T]){ha=!1;break a}ha=!0}if(ha){L=y[N];break}}da++;da>=D&&(da-=D)}L===u&&(e[2*da]=Z,e[2*da+1]=ca+1,u++);y[ca]=L}if(0!==h&&1-u/w<h)return null;if(F){for(w=C[G-1];w<A.length;w++)A[w]=y[n[w]];y=l.compactIndices(A)}r=r?Array(u):new Uint32Array(u*v);u=0;for(z=0;z<S;z++)if(y[z]===u){w=d;h=(F?n[z]:z)*v;C=r;D=u*v;A=v;for(G=0;G<A;G++)C[D+G]=w[h+G];u++}if(n&&
!F){v=new Uint32Array(t);for(d=0;d<v.length;d++)v[d]=y[n[d]];y=l.compactIndices(v)}return{buffer:Array.isArray(r)?r:r.buffer,indices:y,uniqueCount:u}};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Indices":function(){define(["exports","../../core/typedArrayUtil"],function(c,p){function l(d){let h=!0;for(const t of d){if(65536<=t)return p.isArray(d)?new Uint32Array(d):d;256<=t&&(h=!1)}return h?new Uint8Array(d):new Uint16Array(d)}function e(d){if(1===d)return u;
if(d<p.nativeArrayMaxSize)return Array.from(new Uint16Array(r.buffer,0,d));if(d<r.length)return new Uint16Array(r.buffer,0,d);if(d>v.length){v=new Uint32Array(Math.max(2*v.length,d));for(let h=0;h<v.length;h++)v[h]=h}return new Uint32Array(v.buffer,0,d)}function n(d){if(1===d)return u;if(d<p.nativeArrayMaxSize)return Array(d).fill(0);d>w.length&&(w=new Uint8Array(Math.max(2*w.length,d)));return new Uint8Array(w.buffer,0,d)}let v=(()=>{const d=new Uint32Array(131072);for(let h=0;h<d.length;++h)d[h]=
h;return d})();const u=[0],r=(()=>{const d=new Uint16Array(65536);for(let h=0;h<d.length;++h)d[h]=h;return d})();let w=new Uint8Array(65536);c.compactIndices=function(d){if(p.isArray(d)){if(d.length<p.nativeArrayMaxSize)return d}else if(d.length<p.nativeArrayMaxSize)return Array.from(d);let h=!0,t=!0;d.some((C,y)=>{h=h&&0===C;t=t&&C===y;return!h&&!t});return h?n(d.length):t?e(d.length):p.isArray(d)||d.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?l(d):d};c.getContinuousIndexArray=e;c.getZeroIndexArray=
n;c.newIndexArray=function(d){return d<=p.nativeArrayMaxSize?Array(d):65536>=d?new Uint16Array(d):new Uint32Array(d)};c.newIntArray=function(d){return d<=p.nativeArrayMaxSize?Array(d):new Uint32Array(d)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/meshProcessing":function(){define(["exports"],function(c){c.computeNeighbors=function(p,l,e){l/=3;const n=new Uint32Array(e+1),v=new Uint32Array(e+1);var u=(D,S)=>{D<S?n[D+1]++:v[S+1]++};for(var r=0;r<l;r++){var w=
p[3*r],d=p[3*r+1],h=p[3*r+2];u(w,d);u(d,h);u(h,w)}r=u=0;for(w=0;w<e;w++)d=n[w+1],h=v[w+1],n[w+1]=u,v[w+1]=r,u+=d,r+=h;const t=new Uint32Array(6*l),C=n[e];u=(D,S,A)=>{D<S?(D=n[D+1]++,t[2*D]=S,t[2*D+1]=A):(S=v[S+1]++,t[2*C+2*S]=D,t[2*C+2*S+1]=A)};for(r=0;r<l;r++)w=p[3*r],d=p[3*r+1],h=p[3*r+2],u(w,d,r),u(d,h,r),u(h,w,r);u=(D,S)=>{const A=2*D;D=S-D;for(S=1;S<D;S++){const z=t[A+2*S],G=t[A+2*S+1];let I=S-1;for(I;0<=I&&t[A+2*I]>z;I--)t[A+2*I+2]=t[A+2*I],t[A+2*I+3]=t[A+2*I+1];t[A+2*I+2]=z;t[A+2*I+3]=G}};
for(r=0;r<e;r++)u(n[r],n[r+1]),u(C+v[r],C+v[r+1]);const y=new Int32Array(3*l),F=(D,S)=>D===p[3*S]?0:D===p[3*S+1]?1:D===p[3*S+2]?2:-1;l=(D,S)=>{D=F(D,S);y[3*S+D]=-1};u=(D,S,A,z)=>{D=F(D,S);y[3*S+D]=z;A=F(A,z);y[3*z+A]=S};for(r=0;r<e;r++){w=n[r];d=n[r+1];h=v[r];const D=v[r+1];for(;w<d&&h<D;){const S=t[2*w],A=t[2*C+2*h];S===A?(u(r,t[2*w+1],A,t[2*C+2*h+1]),w++,h++):S<A?(l(r,t[2*w+1]),w++):(l(A,t[2*C+2*h+1]),h++)}for(;w<d;)l(r,t[2*w+1]),w++;for(;h<D;)l(t[2*C+2*h],t[2*C+2*h+1]),h++}return y};Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["exports","../../../../geometry/support/buffer/BufferView","../../../../geometry/support/buffer/types","../../webgl-engine/lib/Util"],function(c,p,l,e){class n{constructor(d,h){this.layout=d;this.buffer="number"===typeof h?new ArrayBuffer(h*d.stride):h;for(const t of d.fields.keys())h=d.fields.get(t),this[t]=new h.constructor(this.buffer,h.offset,this.stride)}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/
this.stride}get byteLength(){return this.buffer.byteLength}getField(d,h){return(d=this[d])&&d.elementCount===h.ElementCount&&d.elementType===h.ElementType?d:null}slice(d,h){return new n(this.layout,this.buffer.slice(d*this.stride,h*this.stride))}copyFrom(d,h=0,t=0,C=d.count){const y=this.stride;0===y%4?(d=new Uint32Array(d.buffer,h*y,C*y/4),(new Uint32Array(this.buffer,t*y,C*y/4)).set(d)):(d=new Uint8Array(d.buffer,h*y,C*y),(new Uint8Array(this.buffer,t*y,C*y)).set(d));return this}get usedMemory(){return this.byteLength}dispose(){}}
class v{constructor(d=null){this._lastAligned=this._stride=0;this._fields=new Map;d&&(this._stride=d.stride,d.fields.forEach(h=>this._fields.set(h[0],{...h[1],constructor:w.get(h[1].constructor)})))}freeze(){return this}vec2f(d,h){this._appendField(d,p.BufferViewVec2f,h);return this}vec2f64(d,h){this._appendField(d,p.BufferViewVec2f64,h);return this}vec3f(d,h){this._appendField(d,p.BufferViewVec3f,h);return this}vec3f64(d,h){this._appendField(d,p.BufferViewVec3f64,h);return this}vec4f(d,h){this._appendField(d,
p.BufferViewVec4f,h);return this}vec4f64(d,h){this._appendField(d,p.BufferViewVec4f64,h);return this}mat3f(d,h){this._appendField(d,p.BufferViewMat3f,h);return this}mat3f64(d,h){this._appendField(d,p.BufferViewMat3f64,h);return this}mat4f(d,h){this._appendField(d,p.BufferViewMat4f,h);return this}mat4f64(d,h){this._appendField(d,p.BufferViewMat4f64,h);return this}vec4u8(d,h){this._appendField(d,p.BufferViewVec4u8,h);return this}f32(d,h){this._appendField(d,p.BufferViewFloat,h);return this}f64(d,h){this._appendField(d,
p.BufferViewFloat64,h);return this}u8(d,h){this._appendField(d,p.BufferViewUint8,h);return this}u16(d,h){this._appendField(d,p.BufferViewUint16,h);return this}i8(d,h){this._appendField(d,p.BufferViewInt8,h);return this}vec2i8(d,h){this._appendField(d,p.BufferViewVec2i8,h);return this}vec2i16(d,h){this._appendField(d,p.BufferViewVec2i16,h);return this}vec2u8(d,h){this._appendField(d,p.BufferViewVec2u8,h);return this}vec4u16(d,h){this._appendField(d,p.BufferViewVec4u16,h);return this}u32(d,h){this._appendField(d,
p.BufferViewUint32,h);return this}_appendField(d,h,t){if(this._fields.has(d))e.assert(!1,`${d} already added to vertex buffer layout`);else{var C=h.ElementCount*l.elementTypeSize(h.ElementType),y=this._stride;this._stride+=C;this._fields.set(d,{size:C,constructor:h,offset:y,optional:t})}}createBuffer(d){return new n(this,d)}createView(d){return new n(this,d)}clone(){const d=new v;d._stride=this._stride;d._fields=new Map;this._fields.forEach((h,t)=>d._fields.set(t,h));d.BufferType=this.BufferType;
return d}get stride(){if(this._lastAligned!==this._fields.size){let d=1;this._fields.forEach(h=>d=Math.max(d,l.elementTypeSize(h.constructor.ElementType)));this._stride=Math.floor((this._stride+d-1)/d)*d;this._lastAligned=this._fields.size}return this._stride}get fields(){return this._fields}}class u{constructor(d){this.fields=[];d.fields.forEach((h,t)=>{var C=h.constructor;this.fields.push([t,{...h,constructor:`${C.ElementType}_${C.ElementCount}`}])});this.stride=d.stride}}const r=[p.BufferViewFloat,
p.BufferViewVec2f,p.BufferViewVec3f,p.BufferViewVec4f,p.BufferViewMat3f,p.BufferViewMat4f,p.BufferViewFloat64,p.BufferViewVec2f64,p.BufferViewVec3f64,p.BufferViewVec4f64,p.BufferViewMat3f64,p.BufferViewMat4f64,p.BufferViewUint8,p.BufferViewVec2u8,p.BufferViewVec3u8,p.BufferViewVec4u8,p.BufferViewUint16,p.BufferViewVec2u16,p.BufferViewVec3u16,p.BufferViewVec4u16,p.BufferViewUint32,p.BufferViewVec2u32,p.BufferViewVec3u32,p.BufferViewVec4u32,p.BufferViewInt8,p.BufferViewVec2i8,p.BufferViewVec3i8,p.BufferViewVec4i8,
p.BufferViewInt16,p.BufferViewVec2i16,p.BufferViewVec3i16,p.BufferViewVec4i16,p.BufferViewInt32,p.BufferViewVec2i32,p.BufferViewVec3i32,p.BufferViewVec4i32],w=new Map;r.forEach(d=>w.set(`${d.ElementType}_${d.ElementCount}`,d));c.InterleavedBuffer=n;c.InterleavedLayout=v;c.PackedLayout=u;c.newLayout=function(){return new v};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),
function(c,p,l,e,n,v,u){class r extends e.BufferViewScalarImpl{constructor(f,m=0,W,V){super(Float32Array,f,m,W,V);this.elementType="f32"}static fromTypedArray(f,m){return new r(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}r.ElementType="f32";class w extends n.BufferViewVec2Impl{constructor(f,m=0,W,V){super(Float32Array,f,m,W,V);this.elementType="f32"}slice(f,m){return this.sliceBuffer(w,f,m)}static fromTypedArray(f,m){return new w(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}w.ElementType=
"f32";class d extends v.BufferViewVec3Impl{constructor(f,m=0,W,V){super(Float32Array,f,m,W,V);this.elementType="f32"}slice(f,m){return this.sliceBuffer(d,f,m)}static fromTypedArray(f,m){return new d(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}d.ElementType="f32";class h extends u.BufferViewVec4Impl{constructor(f,m=0,W,V){super(Float32Array,f,m,W,V);this.elementType="f32"}slice(f,m){return this.sliceBuffer(h,f,m)}static fromTypedArray(f,m){return new h(f.buffer,f.byteOffset,m,f.byteOffset+
f.byteLength)}}h.ElementType="f32";class t extends p.BufferViewMat3Impl{constructor(f,m=0,W,V){super(Float32Array,f,m,W,V);this.elementType="f32"}slice(f,m){return this.sliceBuffer(t,f,m)}static fromTypedArray(f,m){return new t(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}t.ElementType="f32";class C extends p.BufferViewMat3Impl{constructor(f,m=0,W,V){super(Float64Array,f,m,W,V);this.elementType="f64"}slice(f,m){return this.sliceBuffer(C,f,m)}static fromTypedArray(f,m){return new C(f.buffer,
f.byteOffset,m,f.byteOffset+f.byteLength)}}C.ElementType="f64";class y extends l.BufferViewMat4Impl{constructor(f,m=0,W,V){super(Float32Array,f,m,W,V);this.elementType="f32"}slice(f,m){return this.sliceBuffer(y,f,m)}static fromTypedArray(f,m){return new y(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}y.ElementType="f32";class F extends l.BufferViewMat4Impl{constructor(f,m=0,W,V){super(Float64Array,f,m,W,V);this.elementType="f64"}slice(f,m){return this.sliceBuffer(F,f,m)}static fromTypedArray(f,
m){return new F(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}F.ElementType="f64";class D extends e.BufferViewScalarImpl{constructor(f,m=0,W,V){super(Float64Array,f,m,W,V);this.elementType="f64"}slice(f,m){return this.sliceBuffer(D,f,m)}static fromTypedArray(f,m){return new D(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}D.ElementType="f64";class S extends n.BufferViewVec2Impl{constructor(f,m=0,W,V){super(Float64Array,f,m,W,V);this.elementType="f64"}slice(f,m){return this.sliceBuffer(S,
f,m)}static fromTypedArray(f,m){return new S(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}S.ElementType="f64";class A extends v.BufferViewVec3Impl{constructor(f,m=0,W,V){super(Float64Array,f,m,W,V);this.elementType="f64"}slice(f,m){return this.sliceBuffer(A,f,m)}static fromTypedArray(f,m){return new A(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}A.ElementType="f64";class z extends u.BufferViewVec4Impl{constructor(f,m=0,W,V){super(Float64Array,f,m,W,V);this.elementType="f64"}slice(f,
m){return this.sliceBuffer(z,f,m)}static fromTypedArray(f,m){return new z(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}z.ElementType="f64";class G extends e.BufferViewScalarImpl{constructor(f,m=0,W,V){super(Uint8Array,f,m,W,V);this.elementType="u8"}slice(f,m){return this.sliceBuffer(G,f,m)}static fromTypedArray(f,m){return new G(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}G.ElementType="u8";class I extends n.BufferViewVec2Impl{constructor(f,m=0,W,V){super(Uint8Array,f,m,W,V);this.elementType=
"u8"}slice(f,m){return this.sliceBuffer(I,f,m)}static fromTypedArray(f,m){return new I(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}I.ElementType="u8";class ca extends v.BufferViewVec3Impl{constructor(f,m=0,W,V){super(Uint8Array,f,m,W,V);this.elementType="u8"}slice(f,m){return this.sliceBuffer(ca,f,m)}static fromTypedArray(f,m){return new ca(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}ca.ElementType="u8";class Z extends u.BufferViewVec4Impl{constructor(f,m=0,W,V){super(Uint8Array,f,
m,W,V);this.elementType="u8"}slice(f,m){return this.sliceBuffer(Z,f,m)}static fromTypedArray(f,m){return new Z(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}Z.ElementType="u8";class da extends e.BufferViewScalarImpl{constructor(f,m=0,W,V){super(Uint16Array,f,m,W,V);this.elementType="u16"}slice(f,m){return this.sliceBuffer(da,f,m)}static fromTypedArray(f,m){return new da(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}da.ElementType="u16";class ha extends n.BufferViewVec2Impl{constructor(f,
m=0,W,V){super(Uint16Array,f,m,W,V);this.elementType="u16"}slice(f,m){return this.sliceBuffer(ha,f,m)}static fromTypedArray(f,m){return new ha(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}ha.ElementType="u16";class oa extends v.BufferViewVec3Impl{constructor(f,m=0,W,V){super(Uint16Array,f,m,W,V);this.elementType="u16"}slice(f,m){return this.sliceBuffer(oa,f,m)}static fromTypedArray(f,m){return new oa(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}oa.ElementType="u16";class pa extends u.BufferViewVec4Impl{constructor(f,
m=0,W,V){super(Uint16Array,f,m,W,V);this.elementType="u16"}slice(f,m){return this.sliceBuffer(pa,f,m)}static fromTypedArray(f,m){return new pa(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}pa.ElementType="u16";class L extends e.BufferViewScalarImpl{constructor(f,m=0,W,V){super(Uint32Array,f,m,W,V);this.elementType="u32"}slice(f,m){return this.sliceBuffer(L,f,m)}static fromTypedArray(f,m){return new L(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}L.ElementType="u32";class N extends n.BufferViewVec2Impl{constructor(f,
m=0,W,V){super(Uint32Array,f,m,W,V);this.elementType="u32"}slice(f,m){return this.sliceBuffer(N,f,m)}static fromTypedArray(f,m){return new N(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}N.ElementType="u32";class T extends v.BufferViewVec3Impl{constructor(f,m=0,W,V){super(Uint32Array,f,m,W,V);this.elementType="u32"}slice(f,m){return this.sliceBuffer(T,f,m)}static fromTypedArray(f,m){return new T(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}T.ElementType="u32";class ba extends u.BufferViewVec4Impl{constructor(f,
m=0,W,V){super(Uint32Array,f,m,W,V);this.elementType="u32"}slice(f,m){return this.sliceBuffer(ba,f,m)}static fromTypedArray(f,m){return new ba(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}ba.ElementType="u32";class ia extends e.BufferViewScalarImpl{constructor(f,m=0,W,V){super(Int8Array,f,m,W,V);this.elementType="i8"}slice(f,m){return this.sliceBuffer(ia,f,m)}static fromTypedArray(f,m){return new ia(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}ia.ElementType="i8";class la extends n.BufferViewVec2Impl{constructor(f,
m=0,W,V){super(Int8Array,f,m,W,V);this.elementType="i8"}slice(f,m){return this.sliceBuffer(la,f,m)}static fromTypedArray(f,m){return new la(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}la.ElementType="i8";class ma extends v.BufferViewVec3Impl{constructor(f,m=0,W,V){super(Int8Array,f,m,W,V);this.elementType="i8"}slice(f,m){return this.sliceBuffer(ma,f,m)}static fromTypedArray(f,m){return new ma(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}ma.ElementType="i8";class ua extends u.BufferViewVec4Impl{constructor(f,
m=0,W,V){super(Int8Array,f,m,W,V);this.elementType="i8"}slice(f,m){return this.sliceBuffer(ua,f,m)}static fromTypedArray(f,m){return new ua(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}ua.ElementType="i8";class wa extends e.BufferViewScalarImpl{constructor(f,m=0,W,V){super(Int16Array,f,m,W,V);this.elementType="i16"}slice(f,m){return this.sliceBuffer(wa,f,m)}static fromTypedArray(f,m){return new wa(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}wa.ElementType="i16";class ya extends n.BufferViewVec2Impl{constructor(f,
m=0,W,V){super(Int16Array,f,m,W,V);this.elementType="i16"}slice(f,m){return this.sliceBuffer(ya,f,m)}static fromTypedArray(f,m){return new ya(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}ya.ElementType="i16";class E extends v.BufferViewVec3Impl{constructor(f,m=0,W,V){super(Int16Array,f,m,W,V);this.elementType="i16"}slice(f,m){return this.sliceBuffer(E,f,m)}static fromTypedArray(f,m){return new E(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}E.ElementType="i16";class K extends u.BufferViewVec4Impl{constructor(f,
m=0,W,V){super(Int16Array,f,m,W,V);this.elementType="i16"}slice(f,m){return this.sliceBuffer(K,f,m)}static fromTypedArray(f,m){return new K(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}K.ElementType="i16";class g extends e.BufferViewScalarImpl{constructor(f,m=0,W,V){super(Int32Array,f,m,W,V);this.elementType="i32"}slice(f,m){return this.sliceBuffer(g,f,m)}static fromTypedArray(f,m){return new g(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}g.ElementType="i32";class x extends n.BufferViewVec2Impl{constructor(f,
m=0,W,V){super(Int32Array,f,m,W,V);this.elementType="i32"}slice(f,m){return this.sliceBuffer(x,f,m)}static fromTypedArray(f,m){return new x(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}x.ElementType="i32";class J extends v.BufferViewVec3Impl{constructor(f,m=0,W,V){super(Int32Array,f,m,W,V);this.elementType="i32"}slice(f,m){return this.sliceBuffer(J,f,m)}static fromTypedArray(f,m){return new J(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}J.ElementType="i32";class U extends u.BufferViewVec4Impl{constructor(f,
m=0,W,V){super(Int32Array,f,m,W,V);this.elementType="i32"}slice(f,m){return this.sliceBuffer(U,f,m)}static fromTypedArray(f,m){return new U(f.buffer,f.byteOffset,m,f.byteOffset+f.byteLength)}}U.ElementType="i32";c.BufferViewFloat=r;c.BufferViewFloat64=D;c.BufferViewInt16=wa;c.BufferViewInt32=g;c.BufferViewInt8=ia;c.BufferViewMat3f=t;c.BufferViewMat3f64=C;c.BufferViewMat4f=y;c.BufferViewMat4f64=F;c.BufferViewUint16=da;c.BufferViewUint32=L;c.BufferViewUint8=G;c.BufferViewVec2f=w;c.BufferViewVec2f64=
S;c.BufferViewVec2i16=ya;c.BufferViewVec2i32=x;c.BufferViewVec2i8=la;c.BufferViewVec2u16=ha;c.BufferViewVec2u32=N;c.BufferViewVec2u8=I;c.BufferViewVec3f=d;c.BufferViewVec3f64=A;c.BufferViewVec3i16=E;c.BufferViewVec3i32=J;c.BufferViewVec3i8=ma;c.BufferViewVec3u16=oa;c.BufferViewVec3u32=T;c.BufferViewVec3u8=ca;c.BufferViewVec4f=h;c.BufferViewVec4f64=z;c.BufferViewVec4i16=K;c.BufferViewVec4i32=U;c.BufferViewVec4i8=ua;c.BufferViewVec4u16=pa;c.BufferViewVec4u32=ba;c.BufferViewVec4u8=Z;Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports"],function(c){class p{constructor(l,e,n=0,v,u){this.TypedArrayConstructor=l;this.elementCount=9;l=this.TypedArrayConstructor;void 0===v&&(v=9*l.BYTES_PER_ELEMENT);const r=0===e.byteLength?0:n;this.typedBuffer=null==u?new l(e,r):new l(e,r,(u-n)/l.BYTES_PER_ELEMENT);this.typedBufferStride=v/l.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=
this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(l,e,n=this.count-e){e=this.typedBuffer.byteOffset+e*this.stride;return new l(this.buffer,e,this.stride,e+n*this.stride)}getMat(l,e){l*=this.typedBufferStride;for(let n=0;9>n;n++)e[n]=this.typedBuffer[l++];return e}setMat(l,e){l*=this.typedBufferStride;for(let n=0;9>n;n++)this.typedBuffer[l++]=e[n]}get(l,e){return this.typedBuffer[l*this.typedBufferStride+e]}set(l,e,n){this.typedBuffer[l*this.typedBufferStride+e]=n}copyFrom(l,
e,n){const v=this.typedBuffer,u=e.typedBuffer;l*=this.typedBufferStride;e=n*e.typedBufferStride;for(n=0;9>n;++n)v[l++]=u[e++]}get buffer(){return this.typedBuffer.buffer}}p.ElementCount=9;c.BufferViewMat3Impl=p;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports"],function(c){class p{constructor(l,e,n=0,v,u){this.TypedArrayConstructor=l;this.elementCount=16;l=this.TypedArrayConstructor;void 0===v&&(v=16*l.BYTES_PER_ELEMENT);
const r=0===e.byteLength?0:n;this.typedBuffer=null==u?new l(e,r):new l(e,r,(u-n)/l.BYTES_PER_ELEMENT);this.typedBufferStride=v/l.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(l,e,n=this.count-e){e=this.typedBuffer.byteOffset+e*this.stride;return new l(this.buffer,e,this.stride,e+n*this.stride)}getMat(l,e){l*=this.typedBufferStride;for(let n=0;16>n;n++)e[n]=this.typedBuffer[l++];
return e}setMat(l,e){l*=this.typedBufferStride;for(let n=0;16>n;n++)this.typedBuffer[l++]=e[n]}get(l,e){return this.typedBuffer[l*this.typedBufferStride+e]}set(l,e,n){this.typedBuffer[l*this.typedBufferStride+e]=n}copyFrom(l,e,n){const v=this.typedBuffer,u=e.typedBuffer;l*=this.typedBufferStride;e=n*e.typedBufferStride;for(n=0;16>n;++n)v[l++]=u[e++]}get buffer(){return this.typedBuffer.buffer}}p.ElementCount=16;c.BufferViewMat4Impl=p;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports"],function(c){class p{constructor(l,e,n=0,v,u){this.TypedArrayConstructor=l;this.elementCount=1;l=this.TypedArrayConstructor;void 0===v&&(v=l.BYTES_PER_ELEMENT);const r=0===e.byteLength?0:n;this.typedBuffer=null==u?new l(e,r):new l(e,r,(u-n)/l.BYTES_PER_ELEMENT);this.stride=v;this.typedBufferStride=v/l.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(l,e,n=this.count-e){e=
this.typedBuffer.byteOffset+e*this.stride;return new l(this.buffer,e,this.stride,e+n*this.stride)}get(l){return this.typedBuffer[l*this.typedBufferStride]}set(l,e){this.typedBuffer[l*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}p.ElementCount=1;c.BufferViewScalarImpl=p;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../core/libs/gl-matrix-2/math/vec2"],function(c,p){class l{constructor(e,
n,v=0,u,r){this.TypedArrayConstructor=e;this.elementCount=2;e=this.TypedArrayConstructor;void 0===u&&(u=2*e.BYTES_PER_ELEMENT);const w=0===n.byteLength?0:v;this.typedBuffer=null==r?new e(n,w):new e(n,w,(r-v)/e.BYTES_PER_ELEMENT);this.typedBufferStride=u/e.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,n,v=this.count-n){n=this.typedBuffer.byteOffset+n*this.stride;return new e(this.buffer,
n,this.stride,n+v*this.stride)}getVec(e,n){e*=this.typedBufferStride;return p.set(n,this.typedBuffer[e],this.typedBuffer[e+1])}setVec(e,n){e*=this.typedBufferStride;this.typedBuffer[e++]=n[0];this.typedBuffer[e]=n[1]}get(e,n){return this.typedBuffer[e*this.typedBufferStride+n]}set(e,n,v){this.typedBuffer[e*this.typedBufferStride+n]=v}setValues(e,n,v){e*=this.typedBufferStride;this.typedBuffer[e++]=n;this.typedBuffer[e]=v}copyFrom(e,n,v){const u=this.typedBuffer,r=n.typedBuffer;e*=this.typedBufferStride;
n=v*n.typedBufferStride;u[e++]=r[n++];u[e]=r[n]}get buffer(){return this.typedBuffer.buffer}}l.ElementCount=2;c.BufferViewVec2Impl=l;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["exports","./common"],function(c,p){function l(E,K){E[0]=K[0];E[1]=K[1];return E}function e(E,K,g){E[0]=K;E[1]=g;return E}function n(E,K,g){E[0]=K[0]+g[0];E[1]=K[1]+g[1];return E}function v(E,K,g){E[0]=K[0]-g[0];E[1]=K[1]-g[1];return E}function u(E,
K,g){E[0]=K[0]*g[0];E[1]=K[1]*g[1];return E}function r(E,K,g){E[0]=K[0]/g[0];E[1]=K[1]/g[1];return E}function w(E,K){E[0]=Math.ceil(K[0]);E[1]=Math.ceil(K[1]);return E}function d(E,K){E[0]=Math.floor(K[0]);E[1]=Math.floor(K[1]);return E}function h(E,K,g){E[0]=Math.min(K[0],g[0]);E[1]=Math.min(K[1],g[1]);return E}function t(E,K,g){E[0]=Math.max(K[0],g[0]);E[1]=Math.max(K[1],g[1]);return E}function C(E,K){E[0]=Math.round(K[0]);E[1]=Math.round(K[1]);return E}function y(E,K,g){E[0]=K[0]*g;E[1]=K[1]*g;
return E}function F(E,K,g,x){E[0]=K[0]+g[0]*x;E[1]=K[1]+g[1]*x;return E}function D(E,K){const g=K[0]-E[0];E=K[1]-E[1];return Math.sqrt(g*g+E*E)}function S(E,K){const g=K[0]-E[0];E=K[1]-E[1];return g*g+E*E}function A(E){const K=E[0];E=E[1];return Math.sqrt(K*K+E*E)}function z(E){const K=E[0];E=E[1];return K*K+E*E}function G(E,K){E[0]=-K[0];E[1]=-K[1];return E}function I(E,K){E[0]=1/K[0];E[1]=1/K[1];return E}function ca(E,K){var g=K[0];const x=K[1];g=g*g+x*x;0<g&&(g=1/Math.sqrt(g),E[0]=K[0]*g,E[1]=
K[1]*g);return E}function Z(E,K){return E[0]*K[0]+E[1]*K[1]}function da(E,K,g){K=K[0]*g[1]-K[1]*g[0];E[0]=E[1]=0;E[2]=K;return E}function ha(E,K,g,x){const J=K[0];K=K[1];E[0]=J+x*(g[0]-J);E[1]=K+x*(g[1]-K);return E}function oa(E,K){K=K||1;const g=2*p.RANDOM()*Math.PI;E[0]=Math.cos(g)*K;E[1]=Math.sin(g)*K;return E}function pa(E,K,g){const x=K[0];K=K[1];E[0]=g[0]*x+g[2]*K;E[1]=g[1]*x+g[3]*K;return E}function L(E,K,g){const x=K[0];K=K[1];E[0]=g[0]*x+g[2]*K+g[4];E[1]=g[1]*x+g[3]*K+g[5];return E}function N(E,
K,g){const x=K[0];K=K[1];E[0]=g[0]*x+g[3]*K+g[6];E[1]=g[1]*x+g[4]*K+g[7];return E}function T(E,K,g){const x=K[0];K=K[1];E[0]=g[0]*x+g[4]*K+g[12];E[1]=g[1]*x+g[5]*K+g[13];return E}function ba(E,K,g,x){const J=K[0]-g[0];K=K[1]-g[1];const U=Math.sin(x);x=Math.cos(x);E[0]=J*x-K*U+g[0];E[1]=J*U+K*x+g[1];return E}function ia(E,K){var g=E[0];E=E[1];const x=K[0];K=K[1];let J=g*g+E*E;0<J&&(J=1/Math.sqrt(J));let U=x*x+K*K;0<U&&(U=1/Math.sqrt(U));g=(g*x+E*K)*J*U;return 1<g?0:-1>g?Math.PI:Math.acos(g)}function la(E){return"vec2("+
E[0]+", "+E[1]+")"}function ma(E,K){return E[0]===K[0]&&E[1]===K[1]}function ua(E,K){const g=E[0];E=E[1];const x=K[0];K=K[1];const J=p.getEpsilon();return Math.abs(g-x)<=J*Math.max(1,Math.abs(g),Math.abs(x))&&Math.abs(E-K)<=J*Math.max(1,Math.abs(E),Math.abs(K))}function wa(E,K,g,x,J){let U=K[0]-g[0];g=K[1]-g[1];J=(x[0]*U+x[1]*g)*(J-1);U=x[0]*J;g=x[1]*J;E[0]=K[0]+U;E[1]=K[1]+g;return E}const ya=Object.freeze(Object.defineProperty({__proto__:null,add:n,angle:ia,ceil:w,copy:l,cross:da,dist:D,distance:D,
div:r,divide:r,dot:Z,equals:ua,exactEquals:ma,floor:d,inverse:I,len:A,length:A,lerp:ha,max:t,min:h,mul:u,multiply:u,negate:G,normalize:ca,projectAndScale:wa,random:oa,rotate:ba,round:C,scale:y,scaleAndAdd:F,set:e,sqrDist:S,sqrLen:z,squaredDistance:S,squaredLength:z,str:la,sub:v,subtract:v,transformMat2:pa,transformMat2d:L,transformMat3:N,transformMat4:T},Symbol.toStringTag,{value:"Module"}));c.add=n;c.angle=ia;c.ceil=w;c.copy=l;c.cross=da;c.dist=D;c.distance=D;c.div=r;c.divide=r;c.dot=Z;c.equals=
ua;c.exactEquals=ma;c.floor=d;c.inverse=I;c.len=A;c.length=A;c.lerp=ha;c.max=t;c.min=h;c.mul=u;c.multiply=u;c.negate=G;c.normalize=ca;c.projectAndScale=wa;c.random=oa;c.rotate=ba;c.round=C;c.scale=y;c.scaleAndAdd=F;c.set=e;c.sqrDist=S;c.sqrLen=z;c.squaredDistance=S;c.squaredLength=z;c.str=la;c.sub=v;c.subtract=v;c.transformMat2=pa;c.transformMat2d=L;c.transformMat3=N;c.transformMat4=T;c.vec2=ya;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports",
"../../../../chunks/vec32"],function(c,p){class l{constructor(e,n,v=0,u,r){this.TypedArrayConstructor=e;this.elementCount=3;e=this.TypedArrayConstructor;void 0===u&&(u=3*e.BYTES_PER_ELEMENT);const w=0===n.byteLength?0:v;this.typedBuffer=null==r?new e(n,w):new e(n,w,(r-v)/e.BYTES_PER_ELEMENT);this.typedBufferStride=u/e.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,
n,v=this.count-n){n=this.typedBuffer.byteOffset+n*this.stride;return new e(this.buffer,n,this.stride,n+v*this.stride)}getVec(e,n){e*=this.typedBufferStride;return p.set(n,this.typedBuffer[e],this.typedBuffer[e+1],this.typedBuffer[e+2])}setVec(e,n){e*=this.typedBufferStride;this.typedBuffer[e++]=n[0];this.typedBuffer[e++]=n[1];this.typedBuffer[e]=n[2]}get(e,n){return this.typedBuffer[e*this.typedBufferStride+n]}set(e,n,v){this.typedBuffer[e*this.typedBufferStride+n]=v}setValues(e,n,v,u){e*=this.typedBufferStride;
this.typedBuffer[e++]=n;this.typedBuffer[e++]=v;this.typedBuffer[e]=u}copyFrom(e,n,v){const u=this.typedBuffer,r=n.typedBuffer;e*=this.typedBufferStride;n=v*n.typedBufferStride;u[e++]=r[n++];u[e++]=r[n++];u[e]=r[n]}get buffer(){return this.typedBuffer.buffer}}l.ElementCount=3;c.BufferViewVec3Impl=l;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/vec42"],function(c,p){class l{constructor(e,
n,v=0,u,r){this.TypedArrayConstructor=e;this.start=v;this.elementCount=4;e=this.TypedArrayConstructor;void 0===u&&(u=4*e.BYTES_PER_ELEMENT);const w=0===n.byteLength?0:v;this.typedBuffer=null==r?new e(n,w):new e(n,w,(r-v)/e.BYTES_PER_ELEMENT);this.typedBufferStride=u/e.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,n,v=this.count-n){n=this.typedBuffer.byteOffset+n*this.stride;
return new e(this.buffer,n,this.stride,n+v*this.stride)}getVec(e,n){e*=this.typedBufferStride;return p.set(n,this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e])}setVec(e,n){e*=this.typedBufferStride;this.typedBuffer[e++]=n[0];this.typedBuffer[e++]=n[1];this.typedBuffer[e++]=n[2];this.typedBuffer[e]=n[3]}get(e,n){return this.typedBuffer[e*this.typedBufferStride+n]}set(e,n,v){this.typedBuffer[e*this.typedBufferStride+n]=v}setValues(e,n,v,u,r){e*=this.typedBufferStride;
this.typedBuffer[e++]=n;this.typedBuffer[e++]=v;this.typedBuffer[e++]=u;this.typedBuffer[e]=r}copyFrom(e,n,v){const u=this.typedBuffer,r=n.typedBuffer;e*=this.typedBufferStride;n=v*n.typedBufferStride;u[e++]=r[n++];u[e++]=r[n++];u[e++]=r[n++];u[e]=r[n]}get buffer(){return this.typedBuffer.buffer}}l.ElementCount=4;c.BufferViewVec4Impl=l;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/types":function(){define(["exports"],function(c){c.elementTypeSize=function(p){switch(p){case "u8":return 1;
case "u16":return 2;case "u32":return 4;case "i8":return 1;case "i16":return 2;case "i32":return 4;case "f32":return 4;case "f64":return 8}};c.isInteger=function(p){switch(p){case "u8":case "u16":case "u32":case "i8":case "i16":case "i32":return!0;case "f32":case "f64":return!1}};c.isSigned=function(p){switch(p){case "u8":case "u16":case "u32":return!1;case "i8":case "i16":case "i32":case "f32":case "f64":return!0}};c.maximumValue=function(p){switch(p){case "u8":return 255;case "u16":return 65535;
case "u32":return 4294967295;case "i8":return 127;case "i16":return 32767;case "i32":return 2147483647;case "f32":return 3.402823E38;case "f64":return 1.79769E308}};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(c){c.VertexAttribute=void 0;(function(p){p.POSITION="position";p.NORMAL="normal";p.NORMALCOMPRESSED="normalCompressed";p.UV0="uv0";p.COLOR="color";p.SYMBOLCOLOR="symbolColor";p.SIZE="size";
p.TANGENT="tangent";p.OFFSET="offset";p.PERSPECTIVEDIVIDE="perspectiveDivide";p.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance";p.LENGTH="length";p.PREVPOSITION="prevPosition";p.NEXTPOSITION="nextPosition";p.SUBDIVISIONFACTOR="subdivisionFactor";p.COLORFEATUREATTRIBUTE="colorFeatureAttribute";p.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";p.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";p.DISTANCETOSTART="distanceToStart";p.UVMAPSPACE="uvMapSpace";p.BOUNDINGRECT="boundingRect";p.UVREGION="uvRegion";
p.PROFILERIGHT="profileRight";p.PROFILEUP="profileUp";p.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";p.FEATUREVALUE="featureValue";p.INSTANCEMODELORIGINHI="instanceModelOriginHi";p.INSTANCEMODELORIGINLO="instanceModelOriginLo";p.INSTANCEMODEL="instanceModel";p.INSTANCEMODELNORMAL="instanceModelNormal";p.INSTANCECOLOR="instanceColor";p.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";p.LOCALTRANSFORM="localTransform";p.GLOBALTRANSFORM="globalTransform";p.BOUNDINGSPHERE="boundingSphere";p.MODELORIGIN=
"modelOrigin";p.MODELSCALEFACTORS="modelScaleFactors";p.FEATUREATTRIBUTE="featureAttribute";p.STATE="state";p.LODLEVEL="lodLevel";p.POSITION0="position0";p.POSITION1="position1";p.NORMAL2COMPRESSED="normal2Compressed";p.COMPONENTINDEX="componentIndex";p.VARIANTOFFSET="variantOffset";p.VARIANTSTROKE="variantStroke";p.VARIANTEXTENSION="variantExtension";p.SIDENESS="sideness";p.START="start";p.END="end";p.UP="up";p.EXTRUDE="extrude";p.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";p.INSTANCEOBJECTANDLAYERIDCOLOR=
"instanceObjectAndLayerIdColor"})(c.VertexAttribute||(c.VertexAttribute={}));c.affectsGeometry=function(p){return p===c.VertexAttribute.POSITION};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["exports","../../../support/buffer/glUtil","../../../support/buffer/InterleavedLayout","../VertexAttribute"],function(c,p,l,e){const n=l.newLayout().vec3f(e.VertexAttribute.POSITION).u16(e.VertexAttribute.COMPONENTINDEX).freeze(),
v=l.newLayout().vec2u8(e.VertexAttribute.SIDENESS).freeze();p=p.glLayout(v);const u=l.newLayout().vec3f(e.VertexAttribute.POSITION0).vec3f(e.VertexAttribute.POSITION1).vec2i16(e.VertexAttribute.NORMALCOMPRESSED).u16(e.VertexAttribute.COMPONENTINDEX).u8(e.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(e.VertexAttribute.VARIANTSTROKE).u8(e.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0}).freeze();l=l.newLayout().vec3f(e.VertexAttribute.POSITION0).vec3f(e.VertexAttribute.POSITION1).vec2i16(e.VertexAttribute.NORMALCOMPRESSED).vec2i16(e.VertexAttribute.NORMAL2COMPRESSED).u16(e.VertexAttribute.COMPONENTINDEX).u8(e.VertexAttribute.VARIANTOFFSET,
{glNormalized:!0}).u8(e.VertexAttribute.VARIANTSTROKE).u8(e.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0}).freeze();e=new Map([[e.VertexAttribute.POSITION0,0],[e.VertexAttribute.POSITION1,1],[e.VertexAttribute.COMPONENTINDEX,2],[e.VertexAttribute.VARIANTOFFSET,3],[e.VertexAttribute.VARIANTSTROKE,4],[e.VertexAttribute.VARIANTEXTENSION,5],[e.VertexAttribute.NORMALCOMPRESSED,6],[e.VertexAttribute.NORMAL2COMPRESSED,7],[e.VertexAttribute.SIDENESS,8]]);c.EdgeInputBufferLayout=n;c.EdgeShaderAttributeLocations=
e;c.RegularEdgeInstancesLayout=u;c.SilhouetteEdgeInstancesLayout=l;c.VertexLayout=v;c.glVertexLayout=p;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/glUtil":function(){define(["exports","../../../webgl/enums","../../../webgl/VertexElementDescriptor"],function(c,p,l){const e={u8:p.DataType.UNSIGNED_BYTE,u16:p.DataType.UNSIGNED_SHORT,u32:p.DataType.UNSIGNED_INT,i8:p.DataType.BYTE,i16:p.DataType.SHORT,i32:p.DataType.INT,f32:p.DataType.FLOAT};c.glLayout=
function(n,v=0){const u=n.stride;return Array.from(n.fields.keys()).map(r=>{const w=n.fields.get(r),d=w.constructor.ElementCount;var h=e[w.constructor.ElementType];if(!h)throw Error("BufferType not supported in WebGL");return new l.VertexElementDescriptor(r,d,h,w.offset,u,w.optional?.glNormalized??!1,v)})};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define("exports ../../../../../core/RandomLCG ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../support/buffer/glUtil ../Normals ./bufferLayouts".split(" "),
function(c,p,l,e,n,v,u){function r(z){t[0]=z.position0[0];t[1]=z.position0[1];t[2]=z.position0[2];t[3]=z.position1[0];t[4]=z.position1[1];t[5]=z.position1[2];y[0]=31*(31*(31*(31*(31*(166811+C[0])+C[1])+C[2])+C[3])+C[4])+C[5];return y[0]}function w(z){const G=t;G[0]=d(z.position0[0]);G[1]=d(z.position0[1]);G[2]=d(z.position0[2]);G[3]=d(z.position1[0]);G[4]=d(z.position1[1]);G[5]=d(z.position1[2]);y[0]=5381;for(z=0;z<C.length;z++)y[0]=31*y[0]+C[z];return y[0]}function d(z){return Math.round(1E4*z)/
1E4}class h{updateSettings(z){this.settings=z;this._edgeHashFunction=z.reducedPrecision?w:r}write(z,G,I){A.seed=this._edgeHashFunction(I);const ca=A.getIntRange(0,255),Z=A.getIntRange(0,this.settings.variants-1);var da=A.getFloat();da=-(1-Math.min(da/.7,1))+Math.max(0,da-.7)/(1-.7);da=255*(Math.abs(da)**1.2*Math.sign(da)*.5+.5);z.position0.setVec(G,I.position0);z.position1.setVec(G,I.position1);z.componentIndex.set(G,I.componentIndex);z.variantOffset.set(G,ca);z.variantStroke.set(G,Z);z.variantExtension.set(G,
da)}}const t=new Float32Array(6),C=new Uint32Array(t.buffer),y=new Uint32Array(1);class F{constructor(){this._commonWriter=new h}updateSettings(z){this._commonWriter.updateSettings(z)}allocate(z){return u.RegularEdgeInstancesLayout.createBuffer(z)}write(z,G,I){this._commonWriter.write(z,G,I);l.add(S,I.faceNormal0,I.faceNormal1);l.normalize(S,S);const {typedBuffer:ca,typedBufferStride:Z}=z.normalCompressed;v.compressNormal(ca,G,S[0],S[1],S[2],Z)}}F.Layout=u.RegularEdgeInstancesLayout;F.glLayout=n.glLayout(u.RegularEdgeInstancesLayout,
1);class D{constructor(){this._commonWriter=new h}updateSettings(z){this._commonWriter.updateSettings(z)}allocate(z){return u.SilhouetteEdgeInstancesLayout.createBuffer(z)}write(z,G,I){this._commonWriter.write(z,G,I);const {typedBuffer:ca,typedBufferStride:Z}=z.normalCompressed;v.compressNormal(ca,G,I.faceNormal0[0],I.faceNormal0[1],I.faceNormal0[2],Z);const {typedBuffer:da,typedBufferStride:ha}=z.normal2Compressed;v.compressNormal(da,G,I.faceNormal1[0],I.faceNormal1[1],I.faceNormal1[2],ha)}}D.Layout=
u.SilhouetteEdgeInstancesLayout;D.glLayout=n.glLayout(u.SilhouetteEdgeInstancesLayout,1);const S=e.create(),A=new p;c.RegularEdgeBufferWriter=F;c.SilhouetteEdgeBufferWriter=D;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Normals":function(){define(["exports","../../../../core/mathUtils","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/support/FloatArray"],function(c,p,l,e,n){function v(d,h,t,C,
y,F=2){var D=1/(Math.abs(t)+Math.abs(C)+Math.abs(y));t*=D;C*=D;D=0>=y?(0<=C?1:-1)*(1-Math.abs(t)):C;h*=F;d[h]=r(0>=y?(0<=t?1:-1)*(1-Math.abs(C)):t);d[h+1]=r(D)}function u(d,h,t,C=2){C*=t;t=w(h[C]);h=w(h[C+1]);C=1-Math.abs(t)-Math.abs(h);d[2]=C;0>C?(d[0]=(0<=t?1:-1)*(1-Math.abs(h)),d[1]=(0<=h?1:-1)*(1-Math.abs(t))):(d[0]=t,d[1]=h);l.normalize(d,d)}function r(d){return p.clamp(Math.round(32767*d),-32767,32767)}function w(d){return p.clamp(d/32767,-1,1)}c.compressAndTransformNormals=function(d,h){const t=
d.length/3,C=new Int16Array(2*t);let y=0;const F=e.create();for(let D=0;D<t;++D)F[0]=d[y++],F[1]=d[y++],F[2]=d[y++],l.transformMat3(F,F,h),v(C,D,F[0],F[1],F[2]);return C};c.compressNormal=v;c.compressNormals=function(d){const h=d.length/3,t=new Int16Array(2*h);let C=0;for(let y=0;y<h;++y)v(t,y,d[C++],d[C++],d[C++]);return t};c.decodeInt16=w;c.decompressNormal=u;c.decompressNormals=function(d,h=2){const t=d.length/h,C=n.newFloatArray(3*t),y=e.create();let F=0;for(let D=0;D<t;++D)u(y,d,D,h),C[F++]=
y[0],C[F++]=y[1],C[F++]=y[2];return C};c.encodeInt16=r;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/FloatArray":function(){define(["exports","../../core/typedArrayUtil"],function(c,p){c.compactFloatArray=function(l){return p.isArray(l)?l.length<p.nativeArrayMaxSize?l:new Float32Array(l):l.length<p.nativeArrayMaxSize?Array.from(l):l};c.floatArrayFrom=function(l){return(p.isArray(l)?l.length:l.byteLength/8)<=p.nativeArrayMaxSize?Array.from(l):new Float32Array(l)};
c.floatSubArray=function(l,e,n){return Array.isArray(l)?l.slice(e,e+n):l.subarray(e,e+n)};c.newFloatArray=function(l,e=!1){return l<=p.nativeArrayMaxSize?e?Array(l).fill(0):Array(l):new Float32Array(l)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define("exports ../../../../../core/mathUtils ../../../../../core/PooledArray ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ./Edge".split(" "),
function(c,p,l,e,n,v){function u(I){const ca=I.faces.length/3,Z=I.faces,da=I.neighbors;I=I.vertices.position;d.length=h.length=0;for(let oa=0;oa<ca;oa++){var ha=3*oa;const pa=da[ha],L=da[ha+1],N=da[ha+2],T=Z[ha],ba=Z[ha+1];ha=Z[ha+2];I.getVec(T,F);I.getVec(ba,D);I.getVec(ha,S);e.subtract(D,D,F);e.subtract(S,S,F);e.cross(F,D,S);e.normalize(F,F);h.pushArray(F);if(-1===pa||T<ba)d.push(T),d.push(ba),d.push(oa),d.push(pa);if(-1===L||ba<ha)d.push(ba),d.push(ha),d.push(oa),d.push(L);if(-1===N||ha<T)d.push(ha),
d.push(T),d.push(oa),d.push(N)}return{edges:d,normals:h}}class r{constructor(){this.length=this.index=0}}const w=new l({allocator:I=>I||new r,deallocator:null}),d=new l({deallocator:null}),h=new l({deallocator:null}),t=new v.Edge,C=n.create(),y=n.create(),F=n.create(),D=n.create(),S=n.create(),A=p.deg2rad(4),z=Math.cos(A);l=p.deg2rad(35);const G=Math.cos(l);c.extractEdges=function(I,ca,Z){const da=I.vertices.position,ha=I.vertices.componentIndex,oa=t.position0,pa=t.position1,L=t.faceNormal0,N=t.faceNormal1,
{edges:T,normals:ba}=u(I);I=T.length/4;const ia=ca.allocate(I);let la=0;const ma=Z?.allocate(I);let ua=0,wa=0,ya=0;w.length=0;for(var E=0;E<I;++E){var K=4*E;da.getVec(T.data[K],oa);da.getVec(T.data[K+1],pa);K=w.pushNew();K.index=4*E;K.length=e.distance(oa,pa)}w.sort((J,U)=>U.length-J.length);const g=[],x=[];w.forAll(({length:J,index:U})=>{var f=T.data[U],m=T.data[U+1];const W=T.data[U+2],V=T.data[U+3];U=-1===V;da.getVec(f,oa);da.getVec(m,pa);if(U)m=3*W,e.set(L,ba.data[m],ba.data[m+1],ba.data[m+2]),
e.copy(N,L),t.componentIndex=ha.get(f),t.cosAngle=e.dot(L,N);else{m=3*W;e.set(L,ba.data[m],ba.data[m+1],ba.data[m+2]);m=3*V;e.set(N,ba.data[m],ba.data[m+1],ba.data[m+2]);t.componentIndex=ha.get(f);t.cosAngle=e.dot(L,N);if(t.cosAngle>z)return;-.9999>t.cosAngle&&e.copy(N,L)}wa+=J;ya++;U||t.cosAngle<G?(ca.write(ia,la++,t),g.push(J)):(f=p.acosClamped(t.cosAngle),e.direction(y,t.position1,t.position0),U=0<e.dot(e.cross(C,t.faceNormal0,t.faceNormal1),y)?-1:1,f*U>A&&(ma&&Z&&Z.write(ma,ua++,t),x.push(J)))});
I=new Float32Array(g.reverse());E=new Float32Array(x.reverse());E=ma&&Z?{instancesData:ma.slice(0,ua),lodInfo:{lengths:E}}:void 0;return{regular:{instancesData:ia.slice(0,la),lodInfo:{lengths:I}},silhouette:E,averageEdgeLength:wa/ya}};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/Edge":function(){define(["exports","../../../../../core/libs/gl-matrix-2/factories/vec3f64"],function(c,p){class l{constructor(){this.position0=p.create();this.position1=
p.create();this.faceNormal0=p.create();this.faceNormal1=p.create();this.cosAngle=this.componentIndex=0}}c.Edge=l;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils":function(){define(["exports","../../../../../chunks/vec32","../../../../../chunks/sphere"],function(c,p,l){c.boundsFromEdge=function(e,n,v){const u=l.create(),r=l.getCenter(u);p.scaleAndAdd(r,r,e,.5);p.scaleAndAdd(r,r,n,.5);u[3]=p.distance(r,
e);p.add(r,r,v);return u};c.maxCandidateCount=1E3;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../../../../../chunks/tslib.es6 ../../../../../core/promiseUtils ../../../../../core/Logger ../../../../../core/has ../../../../../core/RandomLCG ../../../../../core/Error ../../../../../core/accessorSupport/decorators/subclass ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../../geometry/support/lineSegment ../../../../../chunks/sphere ../../../../3d/webgl-engine/lib/Octree ../../../../3d/webgl-engine/lib/edgeRendering/edgeProcessing ./sceneLayerSnappingUtils".split(" "),function(c,
p,l,e,n,v,u,r,w,d,h,t,C,y){function F(A,z,G,I){A.returnVertex&&h.containsPoint(A.bounds,G)&&(A=h.getCenter(A.bounds),I.push({type:"vertex",objectId:z,target:w.clone(G),distance:r.distance(A,G)}))}l=class{constructor(){this._idToComponent=new Map;this._components=new t(A=>A.bounds);this._edges=new t(A=>A.bounds);this._tmpLineSegment=d.create();this._tmpP1=w.create();this._tmpP2=w.create();this._tmpP3=w.create();this.remoteClient=null}async fetchCandidates(A,z){await Promise.resolve();p.throwIfAborted(z);
await this._ensureEdgeLocations(A,z);const G=[];this._edges.forEachNeighbor(I=>{this._addCandidates(A,I,G);return G.length<y.maxCandidateCount},A.bounds);return{result:{candidates:G}}}async _ensureEdgeLocations(A,z){const G=[];this._components.forEachNeighbor(I=>{if(null==I.info){const {id:ca,uid:Z}=I;G.push({id:ca,uid:Z})}return!0},A.bounds);if(G.length){A=await this.remoteClient.invoke("fetchAllEdgeLocations",{components:G},z??{});for(const I of A.components)this._setFetchEdgeLocations(I)}}async add(A){A=
new D(A.id,A.bounds);this._idToComponent.set(A.id,A);this._components.add([A]);return{result:{}}}async remove(A){const z=this._idToComponent.get(A.id);if(z){const G=[];this._edges.forEachNeighbor(I=>{I.component===z&&G.push(I);return!0},z.bounds);this._edges.remove(G);this._components.remove([z]);this._idToComponent.delete(z.id)}return{result:{}}}_setFetchEdgeLocations(A){const z=this._idToComponent.get(A.id);if(null!=z&&A.uid===z.uid){var G=C.extractComponentsEdgeLocationsLayout.createView(A.locations),
I=Array(G.count),ca=w.create(),Z=w.create();for(let pa=0;pa<G.count;pa++){G.position0.getVec(pa,ca);G.position1.getVec(pa,Z);var da=y.boundsFromEdge(ca,Z,A.origin);da=new S(z,pa,da);I[pa]=da}this._edges.add(I);var {objectIds:ha,origin:oa}=A;z.info={locations:G,objectIds:ha,origin:oa}}}_addCandidates(A,z,G){var {info:I}=z.component;const {origin:ca,objectIds:Z}=I,da=I.locations;I=da.position0.getVec(z.index,this._tmpP1);const ha=da.position1.getVec(z.index,this._tmpP2);r.add(I,I,ca);r.add(ha,ha,ca);
z=Z[da.componentIndex.get(z.index)];this._addEdgeCandidate(A,z,I,ha,G);F(A,z,I,G);F(A,z,ha,G)}_addEdgeCandidate(A,z,G,I,ca){if(A.returnEdge){var Z=h.getCenter(A.bounds),da=d.fromPoints(G,I,this._tmpLineSegment);da=d.projectPoint(da,Z,this._tmpP3);h.containsPoint(A.bounds,da)&&ca.push({type:"edge",objectId:z,target:w.clone(da),distance:r.distance(Z,da),start:w.clone(G),end:w.clone(I)})}}};l=c.__decorate([u.subclass("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],
l);class D{constructor(A,z){this.id=A;this.bounds=z;this.info=null;this.uid=++D.uid}}D.uid=0;class S{constructor(A,z,G){this.component=A;this.index=z;this.bounds=G}}return l});