// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/Cyclical ../../../../core/quantityFormatUtils ../../../../core/quantityUtils ../../../../geometry/coordinateFormatter ../../../../intl/number ../../../support/angularMeasurementUtils".split(" "),function(e,q,f,h,l,g,z){function A(a){return g.formatNumber(a,{signDisplay:"exceptZero",...n(1)})}function B(a){return f.formatAngle(a,a.rotationType,1)}function C(a){a=z.getDegreesGeographic(a);return g.formatNumber(a,{style:"unit",unitDisplay:"narrow",unit:"degree",signDisplay:0<
a?"never":"exceptZero",...n(1)})}function D(a){return f.formatAngle(a,a.rotationType,1)}function E(a){return r(a,t)}function F(a){return r(a,u)}function r(a,b){return f.formatAngle(h.toUnit(a,"degrees"),"geographic",6,b,!1)}function v(a,b){a=b.normalize(h.toUnit(a,"degrees").value,void 0,!1);return w(h.createScalar(a),6)}function G(a){return g.formatNumber(a.value,{style:"percent"})}function H(a){return g.formatNumber(a,{style:"percent",maximumFractionDigits:0})}function w(a,b){return g.formatNumber(a.value,
n(b))}function n(a){return{minimumFractionDigits:a,maximumFractionDigits:a}}function p(a,b,c){a=a.replaceAll(/[\s+]/g,"");""!==c&&(a=a.replaceAll(c,""));""!==b&&(a=a.replaceAll(b,"."));return a}function k(a){return null!=a?h.createAngle(a,"degrees","geographic"):null}const I=a=>{let b=`[-+]?[0-9${a.thousands}]+`;""!==a.decimal&&(b+=`${a.decimal}[0-9]+`);return new RegExp(`^(${b}\\s*)${a.separator}(\\s*${b})$`,"i")},x=[];for(const a of[",","\\|","\\s+"])for(const b of["\\.",",",""])for(const c of["",
",","\\.","\u202f","\\s+"])a!==b&&a!==c&&b!==c&&x.push({separator:a,decimal:b,thousands:c,pattern:I({decimal:b,thousands:c,separator:a})});const t=new q.Cyclical(-180,180),u=new q.Cyclical(-90,90);e.cleanNumber=p;e.createGeographicCoordinate=k;e.formatLatitudeDecimalDegreesForInputMode=function(a){return v(a,u)};e.formatLongitudeDecimalDegreesForInputMode=function(a){return v(a,t)};e.getFormatters=function(a,b){return{angleRelative:A,direction:B,directionRelative:C,directionRelativeBilateral:D,latitudeDecimalDegrees:F,
longitudeDecimalDegrees:E,area:(c,d)=>f.formatArea(a,c,d??b.area),length:(c,d,m)=>f.formatLength(a,c,d??b.length,m),lengthRelative:(c,d)=>f.formatRelativeLength(a,c,d??b.length),totalLength:(c,d)=>f.formatLength(a,c,d??b.length),verticalLength:(c,d)=>f.formatVerticalLength(a,c,d??b.length),verticalLengthRelative:(c,d)=>f.formatRelativeVerticalLength(a,c,d??b.verticalLength),percentage:G,scalar:w,scale:H}};e.makeQuantityParser=function(a){return(b,c)=>{b=g.parseNumber(b);return null!=b?a(b,c):null}};
e.parseLatitude=function(a){return k(l.fromLatitude(a))};e.parseLatitudeLongitude=function(a){if(!a||null!=g.parseNumber(a)||!l.isLoaded())return null;var b=l.fromLatitudeLongitude(a);a=k(b?.latitude);b=k(b?.longitude);return null!=b&&null!=a?{latitude:a,longitude:b}:null};e.parseLongitude=function(a){return k(l.fromLongitude(a))};e.parseXY=function(a){for(const {decimal:c,thousands:d,pattern:m}of x){m.lastIndex=0;var b=a.match(m);if(!b)continue;const y=g.parseNumber(p(b[1],c,d));b=g.parseNumber(p(b[2],
c,d));if(null!=y&&null!=b)return{x:h.createScalar(y),y:h.createScalar(b)}}return null};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});