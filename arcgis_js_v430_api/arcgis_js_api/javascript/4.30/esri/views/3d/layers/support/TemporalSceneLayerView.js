// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ../../../../layers/graphics/data/timeSupport ../../../../layers/support/FeatureFilter ../../../../layers/support/timeSupport ../i3s/I3SUtil".split(" "),function(h,g,k,B,C,D,q,r,t,u,l){class v{constructor(a){this.attributeData=a}getAttribute(a,b){return l.getCachedAttributeValue(this.attributeData[b],
a)}getAttributeAsTimestamp(a,b){a=this.getAttribute(a,b);return"string"===typeof a?(new Date(a)).getTime():"number"===typeof a||null==a?a:null}}h.TemporalSceneLayerView=a=>{a=class extends a{get timeExtent(){return u.combineTimeExtent(this.i3slayer,this.view?.timeExtent,this._get("timeExtent"))}get mergedFilter(){const {filter:b,timeExtent:c}=this;if(null==c)return b;const d=b?.clone()??new t;null!=c&&(d.timeExtent=d.timeExtent?.intersection(c)??c);return d}getTimeFilterDependencies(){const {timeInfo:b}=
this.i3slayer;if(null==b)return[];const {startField:c,endField:d}=b;return[c,d]}addTimeFilter(b,c){if(null!=c){var {timeInfo:d}=this.i3slayer;if(null!=d){var {startField:w,endField:x,useTime:y}=d;if(y&&(null!=w||null!=x)){var m=d.toJSON(),z=c.toJSON();b.push((A,f)=>{var e=f.attributeInfo?.attributeData;if(null!=e){var {startTimeField:n,endTimeField:p}=m;null!=n&&null==e[n]||null!=p&&null==e[p]||(e=r.getTimeOperator(m,z,new v(e)),null!=e&&({featureIds:f}=f,l.filterInPlace(A,f,e)))}})}}}}};g.__decorate([k.property({readOnly:!0})],
a.prototype,"timeExtent",null);g.__decorate([k.property()],a.prototype,"mergedFilter",null);return a=g.__decorate([q.subclass("esri.views.3d.layers.support.TemporalSceneLayerView")],a)};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});