// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/gl-matrix-2/math/quat":function(){define("exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ../../../../chunks/vec32 ../../../../chunks/vec42".split(" "),function(d,r,m,I,S,w,n){function l(x){x[0]=0;x[1]=0;x[2]=0;x[3]=1;return x}function E(x,y,A){A*=.5;const P=Math.sin(A);x[0]=P*y[0];x[1]=P*y[1];x[2]=P*y[2];x[3]=Math.cos(A);return x}function z(x,y){const A=2*Math.acos(y[3]),P=Math.sin(A/2);P>S.getEpsilon()?(x[0]=y[0]/P,x[1]=y[1]/P,x[2]=
y[2]/P):(x[0]=1,x[1]=0,x[2]=0);return A}function k(x,y,A){const P=y[0],Y=y[1],X=y[2];y=y[3];const p=A[0],V=A[1],a=A[2];A=A[3];x[0]=P*A+y*p+Y*a-X*V;x[1]=Y*A+y*V+X*p-P*a;x[2]=X*A+y*a+P*V-Y*p;x[3]=y*A-P*p-Y*V-X*a;return x}function t(x,y,A){A*=.5;const P=y[0],Y=y[1],X=y[2];y=y[3];const p=Math.sin(A);A=Math.cos(A);x[0]=P*A+y*p;x[1]=Y*A+X*p;x[2]=X*A-Y*p;x[3]=y*A-P*p;return x}function M(x,y,A){A*=.5;const P=y[0],Y=y[1],X=y[2];y=y[3];const p=Math.sin(A);A=Math.cos(A);x[0]=P*A-X*p;x[1]=Y*A+y*p;x[2]=X*A+P*
p;x[3]=y*A-Y*p;return x}function T(x,y,A){A*=.5;const P=y[0],Y=y[1],X=y[2];y=y[3];const p=Math.sin(A);A=Math.cos(A);x[0]=P*A+Y*p;x[1]=Y*A-P*p;x[2]=X*A+y*p;x[3]=y*A-X*p;return x}function Q(x,y){const A=y[0],P=y[1];y=y[2];x[0]=A;x[1]=P;x[2]=y;x[3]=Math.sqrt(Math.abs(1-A*A-P*P-y*y));return x}function K(x,y,A,P){const Y=y[0],X=y[1],p=y[2];y=y[3];let V=A[0],a=A[1],b=A[2];A=A[3];let c;let e;var h=Y*V+X*a+p*b+y*A;0>h&&(h=-h,V=-V,a=-a,b=-b,A=-A);1-h>S.getEpsilon()?(c=Math.acos(h),e=Math.sin(c),h=Math.sin((1-
P)*c)/e,P=Math.sin(P*c)/e):h=1-P;x[0]=h*Y+P*V;x[1]=h*X+P*a;x[2]=h*p+P*b;x[3]=h*y+P*A;return x}function J(x){var y=S.RANDOM,A=y();const P=y();y=y();const Y=Math.sqrt(1-A);A=Math.sqrt(A);x[0]=Y*Math.sin(2*Math.PI*P);x[1]=Y*Math.cos(2*Math.PI*P);x[2]=A*Math.sin(2*Math.PI*y);x[3]=A*Math.cos(2*Math.PI*y);return x}function R(x,y){const A=y[0],P=y[1],Y=y[2];y=y[3];var X=A*A+P*P+Y*Y+y*y;X=X?1/X:0;x[0]=-A*X;x[1]=-P*X;x[2]=-Y*X;x[3]=y*X;return x}function ea(x,y){x[0]=-y[0];x[1]=-y[1];x[2]=-y[2];x[3]=y[3];return x}
function aa(x,y){var A=y[0]+y[4]+y[8];if(0<A)A=Math.sqrt(A+1),x[3]=.5*A,A=.5/A,x[0]=(y[5]-y[7])*A,x[1]=(y[6]-y[2])*A,x[2]=(y[1]-y[3])*A;else{let P=0;y[4]>y[0]&&(P=1);y[8]>y[3*P+P]&&(P=2);const Y=(P+1)%3,X=(P+2)%3;A=Math.sqrt(y[3*P+P]-y[3*Y+Y]-y[3*X+X]+1);x[P]=.5*A;A=.5/A;x[3]=(y[3*Y+X]-y[3*X+Y])*A;x[Y]=(y[3*Y+P]+y[3*P+Y])*A;x[X]=(y[3*X+P]+y[3*P+X])*A}return x}function ha(x,y,A,P){var Y=.5*Math.PI/180;y*=Y;A*=Y;P*=Y;Y=Math.sin(y);y=Math.cos(y);const X=Math.sin(A);A=Math.cos(A);const p=Math.sin(P);
P=Math.cos(P);x[0]=Y*A*P-y*X*p;x[1]=y*X*P+Y*A*p;x[2]=y*A*p-Y*X*P;x[3]=y*A*P+Y*X*p;return x}function ca(x){return"quat("+x[0]+", "+x[1]+", "+x[2]+", "+x[3]+")"}function L(x,y,A){const P=w.dot(y,A);if(-.999999>P)return w.cross(C,W,y),1E-6>w.len(C)&&w.cross(C,fa,y),w.normalize(C,C),E(x,C,Math.PI),x;if(.999999<P)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;w.cross(C,y,A);x[0]=C[0];x[1]=C[1];x[2]=C[2];x[3]=1+P;return f(x,x)}function O(x,y,A,P,Y,X){K(ka,y,Y,X);K(ma,A,P,X);K(x,ka,ma,2*X*(1-X));return x}function Z(x,
y,A,P){const Y=qa;Y[0]=A[0];Y[3]=A[1];Y[6]=A[2];Y[1]=P[0];Y[4]=P[1];Y[7]=P[2];Y[2]=-y[0];Y[5]=-y[1];Y[8]=-y[2];return f(x,aa(x,Y))}const la=n.copy,ia=n.set,D=n.add,F=n.scale,H=n.dot,ba=n.lerp,sa=n.length,ra=n.squaredLength,f=n.normalize,g=n.exactEquals;n=n.equals;const C=I.create(),W=I.fromValues(1,0,0),fa=I.fromValues(0,1,0),ka=m.create(),ma=m.create(),qa=r.create();r=Object.freeze(Object.defineProperty({__proto__:null,add:D,calculateW:Q,conjugate:ea,copy:la,dot:H,equals:n,exactEquals:g,fromEuler:ha,
fromMat3:aa,getAxisAngle:z,identity:l,invert:R,len:sa,length:sa,lerp:ba,mul:k,multiply:k,normalize:f,random:J,rotateX:t,rotateY:M,rotateZ:T,rotationTo:L,scale:F,set:ia,setAxes:Z,setAxisAngle:E,slerp:K,sqlerp:O,sqrLen:ra,squaredLength:ra,str:ca},Symbol.toStringTag,{value:"Module"}));d.add=D;d.calculateW=Q;d.conjugate=ea;d.copy=la;d.dot=H;d.equals=n;d.exactEquals=g;d.fromEuler=ha;d.fromMat3=aa;d.getAxisAngle=z;d.identity=l;d.invert=R;d.len=sa;d.length=sa;d.lerp=ba;d.mul=k;d.multiply=k;d.normalize=f;
d.quat=r;d.random=J;d.rotateX=t;d.rotateY=M;d.rotateZ=T;d.rotationTo=L;d.scale=F;d.set=ia;d.setAxes=Z;d.setAxisAngle=E;d.slerp=K;d.sqlerp=O;d.sqrLen=ra;d.squaredLength=ra;d.str=ca;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(d){function r(){return[1,0,0,0,1,0,0,0,1]}function m(l){return[l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8]]}function I(l,E,z,k,t,M,T,Q,K){return[l,E,z,k,t,M,T,Q,K]}function S(l,
E){return new Float64Array(l,E,9)}const w=r(),n=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:w,clone:m,create:r,createView:S,fromValues:I},Symbol.toStringTag,{value:"Module"}));d.IDENTITY=w;d.clone=m;d.create=r;d.createView=S;d.fromValues=I;d.mat3f64=n;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["exports"],function(d){function r(){return[0,0,0,1]}function m(l){return[l[0],l[1],l[2],l[3]]}function I(l,
E,z,k){return[l,E,z,k]}function S(l,E){return new Float64Array(l,E,4)}const w=r(),n=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:w,clone:m,create:r,createView:S,fromValues:I},Symbol.toStringTag,{value:"Module"}));d.IDENTITY=w;d.clone=m;d.create=r;d.createView=S;d.fromValues=I;d.quatf64=n;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec3f32":function(){define(["exports"],function(d){function r(){return new Float32Array(3)}function m(J){const R=
new Float32Array(3);R[0]=J[0];R[1]=J[1];R[2]=J[2];return R}function I(J,R,ea){const aa=new Float32Array(3);aa[0]=J;aa[1]=R;aa[2]=ea;return aa}function S(J,R){return new Float32Array(J,R,3)}function w(){return r()}function n(){return I(1,1,1)}function l(){return I(1,0,0)}function E(){return I(0,1,0)}function z(){return I(0,0,1)}const k=r(),t=n(),M=l(),T=E(),Q=z(),K=Object.freeze(Object.defineProperty({__proto__:null,ONES:t,UNIT_X:M,UNIT_Y:T,UNIT_Z:Q,ZEROS:k,clone:m,create:r,createView:S,fromValues:I,
ones:n,unitX:l,unitY:E,unitZ:z,zeros:w},Symbol.toStringTag,{value:"Module"}));d.ONES=t;d.UNIT_X=M;d.UNIT_Y=T;d.UNIT_Z=Q;d.ZEROS=k;d.clone=m;d.create=r;d.createView=S;d.fromValues=I;d.ones=n;d.unitX=l;d.unitY=E;d.unitZ=z;d.vec3f32=K;d.zeros=w;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/PointCloudWorkerUtil":function(){define("exports ../../../../core/has ../../../../renderers/PointCloudClassBreaksRenderer ../../../../renderers/PointCloudStretchRenderer ../../../../renderers/PointCloudUniqueValueRenderer ./I3SBinaryReader ./LEPCC".split(" "),
function(d,r,m,I,S,w,n){function l(k,t){const M=new Float64Array(t);for(let T=0;T<t;T++)M[T]=k[3*T+2];return M}function E(k){switch(k){default:case null:case "none":return t=>t;case "low-four-bit":return t=>t&15;case "high-four-bit":return t=>(t&240)>>4;case "absolute-value":return t=>Math.abs(t);case "modulo-ten":return t=>t%10}}function z(k){let t=0;for(const M of k||[])t|=1<<M;return t}d.elevationFromPositions=l;d.evaluateRenderer=function(k,t,M,T){const {rendererJSON:Q,isRGBRenderer:K}=k;var J=
k=null;if(t&&K)k=t;else if(t&&"pointCloudUniqueValueRenderer"===Q?.type){J=S.fromJSON(Q);var R=J.colorUniqueValueInfos;k=new Uint8Array(3*T);var ea=E(J.fieldTransformType);for(var aa=0;aa<T;aa++){var ha=(ea?ea(t[aa]):t[aa])+"";for(var ca=0;ca<R.length;ca++)if(R[ca].values.includes(ha)){k[3*aa]=R[ca].color.r;k[3*aa+1]=R[ca].color.g;k[3*aa+2]=R[ca].color.b;break}}}else if(t&&"pointCloudStretchRenderer"===Q?.type)for(J=I.fromJSON(Q),R=J.stops,k=new Uint8Array(3*T),ea=E(J.fieldTransformType),aa=0;aa<
T;aa++)if(ha=ea?ea(t[aa]):t[aa],ca=R.length-1,ha<R[0].value)k[3*aa]=R[0].color.r,k[3*aa+1]=R[0].color.g,k[3*aa+2]=R[0].color.b;else if(ha>=R[ca].value)k[3*aa]=R[ca].color.r,k[3*aa+1]=R[ca].color.g,k[3*aa+2]=R[ca].color.b;else for(ca=1;ca<R.length;ca++){if(ha<R[ca].value){ha=(ha-R[ca-1].value)/(R[ca].value-R[ca-1].value);k[3*aa]=R[ca].color.r*ha+R[ca-1].color.r*(1-ha);k[3*aa+1]=R[ca].color.g*ha+R[ca-1].color.g*(1-ha);k[3*aa+2]=R[ca].color.b*ha+R[ca-1].color.b*(1-ha);break}}else if(t&&"pointCloudClassBreaksRenderer"===
Q?.type)for(J=m.fromJSON(Q),R=J.colorClassBreakInfos,k=new Uint8Array(3*T),ea=E(J.fieldTransformType),aa=0;aa<T;aa++)for(ha=ea?ea(t[aa]):t[aa],ca=0;ca<R.length;ca++){if(ha>=R[ca].minValue&&ha<=R[ca].maxValue){k[3*aa]=R[ca].color.r;k[3*aa+1]=R[ca].color.g;k[3*aa+2]=R[ca].color.b;break}}else k=(new Uint8Array(3*T)).fill(255);if(M&&J?.colorModulation)for(t=J.colorModulation.minValue,J=J.colorModulation.maxValue,R=0;R<T;R++)ea=M[R],ea=ea>=J?1:ea<=t?.3:.3+.7*(ea-t)/(J-t),k[3*R]*=ea,k[3*R+1]*=ea,k[3*R+
2]*=ea;return k};d.filterInPlace=function(k,t,M,T,Q){const K=k.length/3;let J=0;for(let L=0;L<K;L++){let O=!0;for(let Z=0;Z<T.length&&O;Z++){var {filterJSON:R}=T[Z],ea=Q[Z].values[L];switch(R.type){case "pointCloudValueFilter":var aa="exclude"===R.mode;R.values.includes(ea)===aa&&(O=!1);break;case "pointCloudBitfieldFilter":aa=z(R.requiredSetBits);R=z(R.requiredClearBits);if((ea&aa)!==aa||0!==(ea&R))O=!1;break;case "pointCloudReturnFilter":var ha=ea&15,ca=ea>>>4&15;ea=1<ca;aa=1===ha;ha=ha===ca;ca=
!1;for(const la of R.includedReturns)if("last"===la&&ha||"firstOfMany"===la&&aa&&ea||"lastOfMany"===la&&ha&&ea||"single"===la&&!ea){ca=!0;break}ca||(O=!1)}}O&&(M[J]=L,k[3*J]=k[3*L],k[3*J+1]=k[3*L+1],k[3*J+2]=k[3*L+2],t[3*J]=t[3*L],t[3*J+1]=t[3*L+1],t[3*J+2]=t[3*L+2],J++)}return J};d.getAttributeValues=function(k,t,M){return k?.attributeInfo.useElevation?t?l(t,M):null:k?.attributeInfo.storageInfo?w.readBinaryAttribute(k.attributeInfo.storageInfo,k.buffer,M):null};d.readGeometry=function(k,t){if(null==
k.encoding||""===k.encoding){k=w.createGeometryIndexFromSchema(t,k);if(null==k.vertexAttributes.position)return;t=w.createTypedView(t,k.vertexAttributes.position);var M=k.header.fields;k=[M.offsetX,M.offsetY,M.offsetZ];M=[M.scaleX,M.scaleY,M.scaleZ];const T=t.length/3,Q=new Float64Array(3*T);for(let K=0;K<T;K++)Q[3*K]=t[3*K]*M[0]+k[0],Q[3*K+1]=t[3*K+1]*M[1]+k[1],Q[3*K+2]=t[3*K+2]*M[2]+k[2];return Q}if("lepcc-xyz"===k.encoding)return n.decodeXYZ(t).result};Object.defineProperty(d,Symbol.toStringTag,
{value:"Module"})})},"esri/renderers/PointCloudClassBreaksRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorClassBreakInfo".split(" "),function(d,r,m,I,S,w,n,l,E,z){var k;I=k=class extends l{constructor(t){super(t);this.type="point-cloud-class-breaks";this.colorClassBreakInfos=
this.fieldTransformType=this.legendOptions=this.field=null}clone(){return new k({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:r.clone(this.colorClassBreakInfos),legendOptions:r.clone(this.legendOptions)})}};d.__decorate([w.enumeration({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],I.prototype,"type",void 0);d.__decorate([m.property({json:{write:!0},type:String})],I.prototype,"field",void 0);d.__decorate([m.property({type:E.LegendOptions,
json:{write:!0}})],I.prototype,"legendOptions",void 0);d.__decorate([m.property({type:l.fieldTransformTypeKebabDict.apiValues,json:{type:l.fieldTransformTypeKebabDict.jsonValues,read:l.fieldTransformTypeKebabDict.read,write:l.fieldTransformTypeKebabDict.write}})],I.prototype,"fieldTransformType",void 0);d.__decorate([m.property({type:[z],json:{write:!0}})],I.prototype,"colorClassBreakInfos",void 0);return I=k=d.__decorate([n.subclass("esri.renderers.PointCloudClassBreaksRenderer")],I)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(d,r,m){d.enumeration=function(I,S={}){I=I instanceof r.JSONMap?I:new r.JSONMap(I,S);I={type:S?.ignoreUnknown??!0?I.apiValues:String,json:{type:I.jsonValues,read:S?.readOnly?!1:{reader:I.read},write:{writer:I.write}}};void 0!==S?.readOnly&&(I.readOnly=!!S.readOnly);void 0!==S?.default&&(I.json.default=S.default);void 0!==S?.name&&(I.json.name=S.name);void 0!==S?.nonNullable&&(I.nonNullable=S.nonNullable);return m.property(I)};Object.defineProperty(d,Symbol.toStringTag,
{value:"Module"})})},"esri/renderers/PointCloudRenderer":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ./support/pointCloud/ColorModulation ./support/pointCloud/pointSizeAlgorithmTypeUtils".split(" "),function(d,r,m,I,S,w,n,l,E,z){w=r.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",
pointCloudUniqueValueRenderer:"point-cloud-unique-value"});m=class extends m.JSONSupport{constructor(k){super(k);this.type=void 0;this.colorModulation=this.pointSizeAlgorithm=null;this.pointsPerInch=10}clone(){console.warn(".clone() is not implemented for "+this.declaredClass);return null}cloneProperties(){return{pointSizeAlgorithm:I.clone(this.pointSizeAlgorithm),colorModulation:I.clone(this.colorModulation),pointsPerInch:I.clone(this.pointsPerInch)}}};d.__decorate([S.property({type:w.apiValues,
readOnly:!0,nonNullable:!0,json:{type:w.jsonValues,read:!1,write:w.write}})],m.prototype,"type",void 0);d.__decorate([S.property({types:z.pointSizeAlgorithmTypes,json:{write:!0}})],m.prototype,"pointSizeAlgorithm",void 0);d.__decorate([S.property({type:E,json:{write:!0}})],m.prototype,"colorModulation",void 0);d.__decorate([S.property({json:{write:!0},nonNullable:!0,type:Number})],m.prototype,"pointsPerInch",void 0);m=d.__decorate([l.subclass("esri.renderers.PointCloudRenderer")],m);(m||={}).fieldTransformTypeKebabDict=
new r.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});return m})},"esri/renderers/support/pointCloud/ColorModulation":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),function(d,r,m,I,S,w,n){var l;r=l=class extends r.JSONSupport{constructor(){super(...arguments);
this.field=null;this.minValue=0;this.maxValue=255}clone(){return new l({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};d.__decorate([m.property({type:String,json:{write:!0}})],r.prototype,"field",void 0);d.__decorate([m.property({type:Number,nonNullable:!0,json:{write:!0}})],r.prototype,"minValue",void 0);d.__decorate([m.property({type:Number,nonNullable:!0,json:{write:!0}})],r.prototype,"maxValue",void 0);return r=l=d.__decorate([n.subclass("esri.renderers.support.pointCloud.ColorModulation")],
r)})},"esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":function(){define(["exports","./PointSizeAlgorithm","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(d,r,m,I){d.pointSizeAlgorithmTypes={key:"type",base:r,typeMap:{"fixed-size":m,splat:I}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/pointCloud/PointSizeAlgorithm":function(){define("../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(d,r,m,I,S,w,n,l){r=new r.JSONMap({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});m=class extends m.JSONSupport{};d.__decorate([I.property({type:r.apiValues,readOnly:!0,nonNullable:!0,json:{type:r.jsonValues,read:!1,write:r.write}})],m.prototype,"type",void 0);return m=d.__decorate([l.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],m)})},"esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ./PointSizeAlgorithm".split(" "),
function(d,r,m,I,S,w,n,l){var E;m=E=class extends l{constructor(){super(...arguments);this.type="fixed-size";this.size=0;this.useRealWorldSymbolSizes=null}clone(){return new E({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};d.__decorate([w.enumeration({pointCloudFixedSizeAlgorithm:"fixed-size"})],m.prototype,"type",void 0);d.__decorate([r.property({type:Number,nonNullable:!0,json:{write:!0}})],m.prototype,"size",void 0);d.__decorate([r.property({type:Boolean,json:{write:!0}})],
m.prototype,"useRealWorldSymbolSizes",void 0);return m=E=d.__decorate([n.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],m)})},"esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ./PointSizeAlgorithm".split(" "),
function(d,r,m,I,S,w,n,l){var E;m=E=class extends l{constructor(){super(...arguments);this.type="splat";this.scaleFactor=1}clone(){return new E({scaleFactor:this.scaleFactor})}};d.__decorate([w.enumeration({pointCloudSplatAlgorithm:"splat"})],m.prototype,"type",void 0);d.__decorate([r.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],m.prototype,"scaleFactor",void 0);return m=E=d.__decorate([n.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],m)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(d,r,m,I,S,w,n,l){var E;d.LegendOptions=E=class extends m.JSONSupport{constructor(){super(...arguments);this.title=null}clone(){return new E({title:this.title})}};r.__decorate([I.property({type:String,json:{write:!0}})],d.LegendOptions.prototype,"title",void 0);d.LegendOptions=E=r.__decorate([l.subclass("esri.renderers.support.LegendOptions")],d.LegendOptions);Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/pointCloud/ColorClassBreakInfo":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(d,r,m,I,S,w,n){var l;m=l=class extends m.JSONSupport{constructor(){super(...arguments);this.label=this.description=null;this.maxValue=this.minValue=0;this.color=null}clone(){return new l({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:I.clone(this.color)})}};d.__decorate([S.property({type:String,json:{write:!0}})],m.prototype,"description",void 0);d.__decorate([S.property({type:String,json:{write:!0}})],m.prototype,"label",void 0);d.__decorate([S.property({type:Number,
json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],m.prototype,"minValue",void 0);d.__decorate([S.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],m.prototype,"maxValue",void 0);d.__decorate([S.property({type:r,json:{type:[w.Integer],write:!0}})],m.prototype,"color",void 0);return m=l=d.__decorate([n.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],m)})},"esri/renderers/PointCloudStretchRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./visualVariables/support/ColorStop".split(" "),
function(d,r,m,I,S,w,n,l,E,z){var k;I=k=class extends l{constructor(t){super(t);this.type="point-cloud-stretch";this.stops=this.fieldTransformType=this.legendOptions=this.field=null}clone(){return new k({...this.cloneProperties(),field:r.clone(this.field),fieldTransformType:r.clone(this.fieldTransformType),stops:r.clone(this.stops),legendOptions:r.clone(this.legendOptions)})}};d.__decorate([w.enumeration({pointCloudStretchRenderer:"point-cloud-stretch"})],I.prototype,"type",void 0);d.__decorate([m.property({json:{write:!0},
type:String})],I.prototype,"field",void 0);d.__decorate([m.property({type:E.LegendOptions,json:{write:!0}})],I.prototype,"legendOptions",void 0);d.__decorate([m.property({type:l.fieldTransformTypeKebabDict.apiValues,json:{type:l.fieldTransformTypeKebabDict.jsonValues,read:l.fieldTransformTypeKebabDict.read,write:l.fieldTransformTypeKebabDict.write}})],I.prototype,"fieldTransformType",void 0);d.__decorate([m.property({type:[z],json:{write:!0}})],I.prototype,"stops",void 0);return I=k=d.__decorate([n.subclass("esri.renderers.PointCloudStretchRenderer")],
I)})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),function(d,r,m,I,S,w,n,l,E){var z;m=z=class extends m.JSONSupport{constructor(k){super(k);this.value=this.label=this.color=
null}writeValue(k,t,M){t[M]=null==k?0:k}clone(){return new z({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};d.__decorate([I.property({type:r,json:{type:[S.Integer],write:!0}})],m.prototype,"color",void 0);d.__decorate([I.property({type:String,json:{write:!0}})],m.prototype,"label",void 0);d.__decorate([I.property({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],m.prototype,"value",void 0);d.__decorate([E.writer("value")],m.prototype,"writeValue",null);return m=z=
d.__decorate([l.subclass("esri.renderers.visualVariables.support.ColorStop")],m)})},"esri/renderers/PointCloudUniqueValueRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorUniqueValueInfo".split(" "),function(d,r,m,I,S,w,n,l,E,z){var k;I=k=class extends l{constructor(t){super(t);
this.type="point-cloud-unique-value";this.legendOptions=this.colorUniqueValueInfos=this.fieldTransformType=this.field=null}clone(){return new k({...this.cloneProperties(),field:r.clone(this.field),fieldTransformType:r.clone(this.fieldTransformType),colorUniqueValueInfos:r.clone(this.colorUniqueValueInfos),legendOptions:r.clone(this.legendOptions)})}};d.__decorate([w.enumeration({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],I.prototype,"type",void 0);d.__decorate([m.property({json:{write:!0},
type:String})],I.prototype,"field",void 0);d.__decorate([m.property({type:l.fieldTransformTypeKebabDict.apiValues,json:{type:l.fieldTransformTypeKebabDict.jsonValues,read:l.fieldTransformTypeKebabDict.read,write:l.fieldTransformTypeKebabDict.write}})],I.prototype,"fieldTransformType",void 0);d.__decorate([m.property({type:[z],json:{write:!0}})],I.prototype,"colorUniqueValueInfos",void 0);d.__decorate([m.property({type:E.LegendOptions,json:{write:!0}})],I.prototype,"legendOptions",void 0);return I=
k=d.__decorate([n.subclass("esri.renderers.PointCloudUniqueValueRenderer")],I)})},"esri/renderers/support/pointCloud/ColorUniqueValueInfo":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),function(d,r,m,I,S,w,n){var l;m=l=class extends m.JSONSupport{constructor(){super(...arguments);this.color=
this.values=this.label=this.description=null}clone(){return new l({description:this.description,label:this.label,values:I.clone(this.values),color:I.clone(this.color)})}};d.__decorate([S.property({type:String,json:{write:!0}})],m.prototype,"description",void 0);d.__decorate([S.property({type:String,json:{write:!0}})],m.prototype,"label",void 0);d.__decorate([S.property({type:[String],json:{write:!0}})],m.prototype,"values",void 0);d.__decorate([S.property({type:r,json:{type:[w.Integer],write:!0}})],
m.prototype,"color",void 0);return m=l=d.__decorate([n.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],m)})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC ../../webgl-engine/lib/VertexAttribute".split(" "),function(d,r,m,I,S,w){function n(L,O){const Z={byteOffset:0,byteCount:0,fields:Object.create(null)};let la=0;for(let ia=0;ia<O.length;ia++){const D=O[ia],F=D.valueType||D.type;
Z.fields[D.property]=(0,ca[F])(L,la);la+=ha[F].BYTES_PER_ELEMENT}Z.byteCount=la;return Z}function l(L,O,Z){return E(L,O,Z).map(la=>{la=la?Date.parse(la):null;return null==la||Number.isNaN(la)?null:la})}function E(L,O,Z){const la=[];let ia,D=0,F;for(F=0;F<L;F+=1){ia=O[F];if(0<ia){var H=la,ba=H.push,sa=Z,ra=D,f=ia-1;let C="",W=0;for(;W<f;){var g=sa[ra+W];if(128>g)C+=String.fromCharCode(g),W++;else if(192<=g&&224>g){if(W+1>=f)throw new r("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");
C+=String.fromCharCode((g&31)<<6|sa[ra+W+1]&63);W+=2}else if(224<=g&&240>g){if(W+2>=f)throw new r("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");C+=String.fromCharCode((g&15)<<12|(sa[ra+W+1]&63)<<6|sa[ra+W+2]&63);W+=3}else if(240<=g&&248>g){if(W+3>=f)throw new r("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");g=(g&7)<<18|(sa[ra+W+1]&63)<<12|(sa[ra+W+2]&63)<<6|sa[ra+W+3]&63;C=65536<=g?C+String.fromCharCode((g-65536>>10)+55296,(g&1023)+
56320):C+String.fromCharCode(g);W+=4}else throw new r("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}ba.call(H,C);if(0!==Z[D+ia-1])throw new r("string-array-error","Invalid string array: missing null termination.");}else la.push(null);D+=ia}return la}function z(L,O){return new ha[O.valueType](L,O.byteOffset,O.count*O.valuesPerElement)}function k(L,O){return new Uint8Array(L,O.byteOffset,O.byteCount)}function t(L,O,Z){L=null!=O.header?n(L,O.header):{byteOffset:0,byteCount:0,
fields:{count:Z}};Z={header:L,byteOffset:L.byteCount,byteCount:0,entries:Object.create(null)};let la=L.byteCount;for(let ia=0;ia<O.ordering.length;ia++){const D=O.ordering[ia],F=m.clone(O[D]);F.count=L.fields.count??0;if("String"===F.valueType){F.byteOffset=la;F.byteCount=L.fields[D+"ByteCount"];if("UTF-8"!==F.encoding)throw new r("unsupported-encoding","Unsupported String encoding.",{encoding:F.encoding});if(F.timeEncoding&&"ECMA_ISO8601"!==F.timeEncoding)throw new r("unsupported-time-encoding",
"Unsupported time encoding.",{timeEncoding:F.timeEncoding});}else if(J(F.valueType)){const H=R(F.valueType);la+=0!==la%H?H-la%H:0;F.byteOffset=la;F.byteCount=H*F.valuesPerElement*F.count}else throw new r("unsupported-value-type","Unsupported binary valueType",{valueType:F.valueType});la+=F.byteCount??0;Z.entries[D]=F}Z.byteCount=la-Z.byteOffset;return Z}function M(L,O,Z){O!==L&&ea().error(`Invalid ${Z} buffer size\n expected: ${L}, actual: ${O})`);if(O<L)throw new r("buffer-too-small","Binary buffer is too small",
{expectedSize:L,actualSize:O});}function T(L){return{isDraco:!1,isLegacy:!1,color:null!=L.color,normal:null!=L.normal,uv0:null!=L.uv0,uvRegion:null!=L.uvRegion,featureIndex:null!=L.faceRange&&null!=L.featureId}}function Q(L){const O={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const Z of L.ordering)if(L.vertexAttributes[Z])switch(Z){case "normal":O.normal=!0;break;case "color":O.color=!0;break;case "uv0":O.uv0=!0;break;case "region":O.uvRegion=!0}L.featureAttributes&&
L.featureAttributeOrder&&(O.featureIndex=!0);return O}function K(L){const O={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const Z of L)switch(Z){case "normal":O.normal=!0;break;case "uv0":O.uv0=!0;break;case "color":O.color=!0;break;case "uv-region":O.uvRegion=!0;break;case "feature-index":O.featureIndex=!0}return O}function J(L){return ha.hasOwnProperty(L)}function R(L){return J(L)?ha[L].BYTES_PER_ELEMENT:0}const ea=()=>I.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader"),
aa={position:w.VertexAttribute.POSITION,normal:w.VertexAttribute.NORMAL,color:w.VertexAttribute.COLOR,uv0:w.VertexAttribute.UV0,region:w.VertexAttribute.UVREGION},ha={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},ca={Float32:(L,O)=>(new DataView(L,0)).getFloat32(O,!0),Float64:(L,O)=>(new DataView(L,0)).getFloat64(O,!0),UInt8:(L,O)=>(new DataView(L,0)).getUint8(O),Int8:(L,O)=>(new DataView(L,0)).getInt8(O),
UInt16:(L,O)=>(new DataView(L,0)).getUint16(O,!0),Int16:(L,O)=>(new DataView(L,0)).getInt16(O,!0),UInt32:(L,O)=>(new DataView(L,0)).getUint32(O,!0),Int32:(L,O)=>(new DataView(L,0)).getInt32(O,!0)};d.createAttributeDataIndex=t;d.createGeometryDescriptor=function(L,O){return L&&L.compressedAttributes&&"draco"===L.compressedAttributes.encoding?K(L.compressedAttributes.attributes):L?T(L):Q(O)};d.createGeometryDescriptorForDraco=K;d.createGeometryDescriptorFromDefinition=T;d.createGeometryDescriptorFromSchema=
Q;d.createGeometryIndexFromSchema=function(L,O){var Z=n(L,O&&O.header);let la=Z.byteCount;const ia={isDraco:!1,header:Z,byteOffset:Z.byteCount,byteCount:0,vertexAttributes:{}};Z=Z.fields;var D=null!=Z.vertexCount?Z.vertexCount:Z.count;for(var F of O.ordering){if(!O.vertexAttributes[F])continue;const ba={...O.vertexAttributes[F],byteOffset:la,count:D};ia.vertexAttributes[aa[F]||"_"+F]=ba;la+=R(ba.valueType)*ba.valuesPerElement*D}F=Z.faceCount;if(O.faces&&F){ia.faces={};for(var H of O.ordering)O.faces[H]&&
(D={...O.faces[H],byteOffset:la,count:F},ia.faces[H]=D,la+=R(D.valueType)*D.valuesPerElement*F)}H=Z.featureCount;if(O.featureAttributes&&O.featureAttributeOrder&&H){ia.featureAttributes={};for(const ba of O.featureAttributeOrder)O.featureAttributes[ba]&&(Z={...O.featureAttributes[ba],byteOffset:la,count:H},ia.featureAttributes[ba]=Z,F="UInt64"===Z.valueType?8:R(Z.valueType),la+=F*Z.valuesPerElement*H)}M(la,L.byteLength,"geometry");ia.byteCount=la-ia.byteOffset;return ia};d.createRawView=k;d.createTypedView=
z;d.getBytesPerValue=R;d.isValueType=J;d.readBinaryAttribute=function(L,O,Z){if("lepcc-rgb"===L.encoding)return S.decodeRGB(O);if("lepcc-intensity"===L.encoding)return S.decodeIntensity(O);if(null!=L.encoding&&""!==L.encoding)throw new r("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");L["attributeByteCounts "]&&!L.attributeByteCounts&&(ea().warn("Warning: Trailing space in 'attributeByteCounts '."),L.attributeByteCounts=L["attributeByteCounts "]);"ObjectIds"===
L.ordering[0]&&L.hasOwnProperty("objectIds")&&(ea().warn("Warning: Case error in objectIds"),L.ordering[0]="objectIds");Z=t(O,L,Z);M(Z.byteOffset+Z.byteCount,O.byteLength,"attribute");if(L=Z.entries.attributeValues||Z.entries.objectIds){if("String"===L.valueType){Z=Z.entries.attributeByteCounts;const la=z(O,Z);O=k(O,L);return L.timeEncoding?l(Z.count,la,O):E(Z.count,la,O)}return z(O,L)}throw new r("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};d.readDateStringArray=l;d.readHeader=
n;d.readStringArray=E;d.valueType2ArrayBufferReader=ca;d.valueType2TypedArrayClassMap=ha;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["exports","../../../../core/Error"],function(d,r){function m(n,l,E){return{identifier:String.fromCharCode.apply(null,new Uint8Array(n,E+w.identifierOffset,w.identifierLength)),version:l.getUint16(E+w.versionOffset,!0),checksum:l.getUint32(E+w.checksumOffset,!0)}}function I(n,l,E){const z=[];l=S(n,
l,z);const k=[];for(let t=0;t<z.length;t++){k.length=0;l=S(n,l,k);for(let M=0;M<k.length;M++)E.push(k[M]+z[t])}return l}function S(n,l,E){var z=new DataView(n,l),k=z.getUint8(0);const t=k&31;var M=!!(k&32),T=(k&192)>>6;k=0;if(0===T)k=z.getUint32(1,!0),l+=5;else if(1===T)k=z.getUint16(1,!0),l+=3;else if(2===T)k=z.getUint8(1),l+=2;else throw new r("lepcc-decode-error","Bad count type");if(M)throw new r("lepcc-decode-error","LUT not implemented");n=new Uint8Array(n,l,Math.ceil(k*t/8));T=M=z=0;const Q=
-1>>>32-t;for(let K=0;K<k;K++){for(;M<t;)z|=n[T]<<M,M+=8,T+=1;E[K]=z&Q;z>>>=t;M-=t;32<M+t&&(z|=n[T-1]>>8-M)}return l+T}const w={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};d.decodeIntensity=function(n){const l=new DataView(n,0);var E=0;const {identifier:z,version:k}=m(n,l,E);E+=w.byteCount;if("Intensity "!==z)throw new r("lepcc-decode-error","Bad identifier");if(1<k)throw new r("lepcc-decode-error","Unknown version");var t=E;var M=l.getUint32(t+0,!0);var T=
l.getUint32(t+4,!0);var Q=l.getUint32(t+8,!0);var K=l.getUint16(t+12,!0);var J=l.getUint8(t+14);l.getUint8(t+15);E+=16;if(T*2**32+M!==n.byteLength)throw new r("lepcc-decode-error","Bad size");M=new Uint16Array(Q);if(8===J){if(Q+E!==n.byteLength)throw new r("lepcc-decode-error","Bad size");n=new Uint8Array(n,E,Q);for(E=0;E<Q;E++)M[E]=n[E]*K}else if(16===J){if(2*Q+E!==n.byteLength)throw new r("lepcc-decode-error","Bad size");n=new Uint16Array(n,E,Q);for(E=0;E<Q;E++)M[E]=n[E]*K}else{J=[];if(S(n,E,J)!==
n.byteLength)throw new r("lepcc-decode-error","Bad size");for(n=0;n<Q;n++)M[n]=J[n]*K}return M};d.decodeRGB=function(n){var l=new DataView(n,0),E=0;const {identifier:z,version:k}=m(n,l,E);E+=w.byteCount;if("ClusterRGB"!==z)throw new r("lepcc-decode-error","Bad identifier");if(1<k)throw new r("lepcc-decode-error","Unknown version");var t=E;var M=l.getUint32(t+0,!0);var T=l.getUint32(t+4,!0);var Q=l.getUint32(t+8,!0);var K=l.getUint16(t+12,!0);var J=l.getUint8(t+14);t=l.getUint8(t+15);E+=16;if(T*2**
32+M!==n.byteLength)throw new r("lepcc-decode-error","Bad size");if((2===J||1===J)&&0===t){if(3*K+Q+E!==n.byteLength||256<K)throw new r("lepcc-decode-error","Bad count");l=new Uint8Array(n,E,3*K);E=new Uint8Array(n,E+3*K,Q);n=new Uint8Array(3*Q);for(K=0;K<Q;K++)M=E[K],n[3*K]=l[3*M],n[3*K+1]=l[3*M+1],n[3*K+2]=l[3*M+2];return n}if(0===J&&0===t){if(3*Q+E!==n.byteLength||0!==K)throw new r("lepcc-decode-error","Bad count");return(new Uint8Array(n,E)).slice()}if(2>=J&&1===t){if(E+3!==n.byteLength||1!==
K)throw new r("lepcc-decode-error","Bad count");n=l.getUint8(E);K=l.getUint8(E+1);E=l.getUint8(E+2);l=new Uint8Array(3*Q);for(M=0;M<Q;M++)l[3*M]=n,l[3*M+1]=K,l[3*M+2]=E;return l}throw new r("lepcc-decode-error","Bad method "+J+","+t);};d.decodeXYZ=function(n){var l=new DataView(n,0),E=0;const {identifier:z,version:k}=m(n,l,E);E+=w.byteCount;if("LEPCC     "!==z)throw new r("lepcc-decode-error","Bad identifier");if(1<k)throw new r("lepcc-decode-error","Unknown version");var t=E;var M=l.getUint32(t+
0,!0);var T=l.getUint32(t+4,!0);var Q=l.getFloat64(t+8,!0);var K=l.getFloat64(t+16,!0);var J=l.getFloat64(t+24,!0);var R=l.getFloat64(t+32,!0);var ea=l.getFloat64(t+40,!0);var aa=l.getFloat64(t+48,!0);var ha=l.getFloat64(t+56,!0);var ca=l.getFloat64(t+64,!0);var L=l.getFloat64(t+72,!0);var O=l.getUint32(t+80,!0);l.getUint32(t+84,!0);E+=88;if(T*2**32+M!==n.byteLength)throw new r("lepcc-decode-error","Bad size");M=new Float64Array(3*O);T=[];O=[];l=[];t=[];E=I(n,E,T);E=I(n,E,O);E=I(n,E,l);E=I(n,E,t);
if(E!==n.byteLength)throw new r("lepcc-decode-error","Bad length");E=n=0;for(let Z=0;Z<T.length;Z++){E+=T[Z];let la=0;for(let ia=0;ia<O[Z];ia++){la+=l[n];const D=t[n];M[3*n]=Math.min(R,Q+2*ha*la);M[3*n+1]=Math.min(ea,K+2*ca*E);M[3*n+2]=Math.min(aa,J+2*L*D);n++}}return{errorX:ha,errorY:ca,errorZ:L,result:M}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(d){d.VertexAttribute=void 0;(function(r){r.POSITION=
"position";r.NORMAL="normal";r.NORMALCOMPRESSED="normalCompressed";r.UV0="uv0";r.COLOR="color";r.SYMBOLCOLOR="symbolColor";r.SIZE="size";r.TANGENT="tangent";r.OFFSET="offset";r.PERSPECTIVEDIVIDE="perspectiveDivide";r.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance";r.LENGTH="length";r.PREVPOSITION="prevPosition";r.NEXTPOSITION="nextPosition";r.SUBDIVISIONFACTOR="subdivisionFactor";r.COLORFEATUREATTRIBUTE="colorFeatureAttribute";r.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";r.OPACITYFEATUREATTRIBUTE=
"opacityFeatureAttribute";r.DISTANCETOSTART="distanceToStart";r.UVMAPSPACE="uvMapSpace";r.BOUNDINGRECT="boundingRect";r.UVREGION="uvRegion";r.PROFILERIGHT="profileRight";r.PROFILEUP="profileUp";r.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";r.FEATUREVALUE="featureValue";r.INSTANCEMODELORIGINHI="instanceModelOriginHi";r.INSTANCEMODELORIGINLO="instanceModelOriginLo";r.INSTANCEMODEL="instanceModel";r.INSTANCEMODELNORMAL="instanceModelNormal";r.INSTANCECOLOR="instanceColor";r.INSTANCEFEATUREATTRIBUTE=
"instanceFeatureAttribute";r.LOCALTRANSFORM="localTransform";r.GLOBALTRANSFORM="globalTransform";r.BOUNDINGSPHERE="boundingSphere";r.MODELORIGIN="modelOrigin";r.MODELSCALEFACTORS="modelScaleFactors";r.FEATUREATTRIBUTE="featureAttribute";r.STATE="state";r.LODLEVEL="lodLevel";r.POSITION0="position0";r.POSITION1="position1";r.NORMAL2COMPRESSED="normal2Compressed";r.COMPONENTINDEX="componentIndex";r.VARIANTOFFSET="variantOffset";r.VARIANTSTROKE="variantStroke";r.VARIANTEXTENSION="variantExtension";r.SIDENESS=
"sideness";r.START="start";r.END="end";r.UP="up";r.EXTRUDE="extrude";r.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";r.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"})(d.VertexAttribute||(d.VertexAttribute={}));d.affectsGeometry=function(r){return r===d.VertexAttribute.POSITION};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/orientedBoundingBox":function(){define("exports ../../../core/libs/gl-matrix-2/math/mat3 ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../core/libs/gl-matrix-2/math/quat ../../../core/libs/gl-matrix-2/factories/quatf64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../chunks/vec42 ../../../core/libs/gl-matrix-2/factories/vec4f64 ../../../geometry/ellipsoidUtils ../../../geometry/spatialReferenceEllipsoidUtils ../../../geometry/projection/computeTranslationToOriginAndRotation ../../../geometry/projection/projectBuffer ../../../geometry/projection/projectors ../../../geometry/support/plane ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/vectorStacks ../../ViewingMode ./dito ../webgl-engine/lib/Attribute".split(" "),
function(d,r,m,I,S,w,n,l,E,z,k,t,M,T,Q,K,J,R,ea,aa,ha){function ca(p,V=new la){aa.computeOBB(p,V);return V}function L(p,V,a,b,c){var e=V.getQuaternion(D);e=r.fromQuat(qa,e);V=V.getHalfSize(ma);for(let u=0;8>u;++u){for(var h=0;3>h;++h)W[h]=V[h]*(0!==(u&1<<h)?-1:1);for(h=0;3>h;++h){let v=a[h];for(let q=0;3>q;++q)v+=W[q]*e[3*q+h];g[3*u+h]=v}}T.projectBuffer(g,p,0,g,b,0,8);ca(C,c)}function O(p,V,a,b,c=t.getSphericalPCPF(a),e=Q.getProjector(a,c)){p.getCorners(y);p.getCenter(W);W[2]+=b;M.computeTranslationToOriginAndRotation(a,
W,x,c);V.setCenter(x[12],x[13],x[14]);a=2*Math.sqrt(1+x[0]+x[5]+x[10]);ia[0]=(x[6]-x[9])/a;ia[1]=(x[8]-x[2])/a;ia[2]=(x[1]-x[4])/a;ia[3]=.25*a;p=p.getQuaternion(D);V.quaternion=S.multiply(ia,ia,p);S.conjugate(ia,ia);n.set(P,0,0,0);p=V.getCenter(ka);for(const h of y)h[2]+=b,e(h,0,h,0),n.sub(A,h,p),n.transformQuat(A,A,ia),n.abs(A,A),n.max(P,P,A);V.halfSize=P}function Z(p,V,a,b,c=t.getSphericalPCPF(a)){const e=k.getReferenceEllipsoid(a),h=1+Math.max(0,b)/(e.radius+p.centerZ);p.getCenter(W);W[2]+=b;T.projectBuffer(W,
a,0,W,c,0,1);V.center=W;a=p.getQuaternion(D);V.quaternion=a;S.conjugate(ia,a);n.set(A,0,0,1);n.transformQuat(A,A,ia);p=p.getHalfSize(ma);n.set(A,p[0]*Math.abs(A[0]),p[1]*Math.abs(A[1]),p[2]*Math.abs(A[2]));n.scale(A,A,e.inverseFlattening);n.add(A,p,A);V.halfSize=n.scale(A,A,h)}class la{constructor(p=l.ZEROS,V=X,a=w.IDENTITY){this._data=[p[0],p[1],p[2],V[0],V[1],V[2],a[0],a[1],a[2],a[3]]}clone(){const p=new la;p._data=this._data.slice();return p}invalidate(){this._data[3]=-1}get isValid(){return 0<=
this._data[3]}static fromData(p){const V=new la;V._data=p.slice();return V}static fromJSON(p){return new la(p.center,p.halfSize,p.quaternion)}copy(p){this._data=p.data.slice()}get center(){return n.set(R.sv3d.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(p){p[0]=this._data[0];p[1]=this._data[1];p[2]=this._data[2];return p}set center(p){this._data[0]=p[0];this._data[1]=p[1];this._data[2]=
p[2]}setCenter(p,V,a){this._data[0]=p;this._data[1]=V;this._data[2]=a}get halfSize(){return n.set(R.sv3d.get(),this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(p){p[0]=this._data[3];p[1]=this._data[4];p[2]=this._data[5];return p}set halfSize(p){this._data[3]=p[0];this._data[4]=p[1];this._data[5]=p[2]}get quaternion(){return S.set(R.sq4d.get(),this._data[6],this._data[7],this._data[8],
this._data[9])}getQuaternion(p){p[0]=this._data[6];p[1]=this._data[7];p[2]=this._data[8];p[3]=this._data[9];return p}set quaternion(p){this._data[6]=p[0];this._data[7]=p[1];this._data[8]=p[2];this._data[9]=p[3]}get data(){return this._data}getCorners(p){const V=ia,a=this._data;V[0]=a[6];V[1]=a[7];V[2]=a[8];V[3]=a[9];for(let b=0;8>b;++b){const c=p[b];c[0]=(b&1?-1:1)*a[3];c[1]=(b&2?-1:1)*a[4];c[2]=(b&4?-1:1)*a[5];n.transformQuat(c,c,V);c[0]+=a[0];c[1]+=a[1];c[2]+=a[2]}}doesIntersectFrustumConservativeApproximation(p){return 0>=
this.intersectPlane(p[0])&&0>=this.intersectPlane(p[1])&&0>=this.intersectPlane(p[2])&&0>=this.intersectPlane(p[3])&&0>=this.intersectPlane(p[4])&&0>=this.intersectPlane(p[5])}get radius(){const p=this._data[3],V=this._data[4],a=this._data[5];return Math.sqrt(p*p+V*V+a*a)}intersectSphere(p){H[0]=this._data[0]-p[0];H[1]=this._data[1]-p[1];H[2]=this._data[2]-p[2];const V=this.getQuaternion(D);S.conjugate(ia,V);n.transformQuat(H,H,ia);n.abs(H,H);ba[0]=Math.min(H[0],this._data[3]);ba[1]=Math.min(H[1],
this._data[4]);ba[2]=Math.min(H[2],this._data[5]);return n.sqrDist(ba,H)<p[3]*p[3]}intersectSphereWithMBS(p,V=this.radius){const a=this._data;H[0]=a[0]-p[0];H[1]=a[1]-p[1];H[2]=a[2]-p[2];p=p[3];const b=n.sqrLen(H);V=p+V;if(b>V*V)return!1;ia[0]=-a[6];ia[1]=-a[7];ia[2]=-a[8];ia[3]=a[9];n.transformQuat(H,H,ia);n.abs(H,H);ba[0]=Math.min(H[0],a[3]);ba[1]=Math.min(H[1],a[4]);ba[2]=Math.min(H[2],a[5]);return n.sqrDist(ba,H)<p*p}intersectPlane(p){const V=p[0]*this._data[0]+p[1]*this._data[1]+p[2]*this._data[2]+
p[3];p=this.projectedRadius(K.getNormal(p));return V>p?1:V<-p?-1:0}intersectRay(p,V,a=0){var b=this._data,c=ia;c[0]=-b[6];c[1]=-b[7];c[2]=-b[8];c[3]=b[9];H[0]=p[0]-b[0];H[1]=p[1]-b[1];H[2]=p[2]-b[2];p=n.transformQuat(H,H,ia);V=n.transformQuat(ba,V,ia);b=-Infinity;c=Infinity;const e=this.getHalfSize(ma);for(let u=0;3>u;u++){var h=p[u];const v=V[u],q=e[u]+a;if(1E-6<Math.abs(v)){const B=(q-h)/v;h=(-q-h)/v;b=Math.max(b,Math.min(B,h));c=Math.min(c,Math.max(B,h))}else if(h>q||h<-q)return!1}return b<=c}projectedArea(p,
V,a,b){var c=this.getQuaternion(D);S.conjugate(ia,c);H[0]=p[0]-this._data[0];H[1]=p[1]-this._data[1];H[2]=p[2]-this._data[2];n.transformQuat(H,H,ia);var e=this.getHalfSize(ma),h=H[0]<-e[0]?-1:H[0]>e[0]?1:0,u=H[1]<-e[1]?-1:H[1]>e[1]?1:0;const v=H[2]<-e[2]?-1:H[2]>e[2]?1:0;p=Math.abs(h)+Math.abs(u)+Math.abs(v);if(0===p)return Infinity;p=1===p?4:6;h=6*(h+3*u+9*v+13);r.fromQuat(qa,c);r.scale(qa,qa,e);c=this.getCenter(fa);for(e=0;e<p;e++)u=f[h+e],n.set(H,((u&1)<<1)-1,(u&2)-1,((u&4)>>1)-1),n.transformMat3(H,
H,qa),n.add(sa,c,H),sa[3]=1,E.transformMat4(sa,sa,V),u=1/Math.max(1E-6,sa[3]),ra[2*e]=sa[0]*u,ra[2*e+1]=sa[1]*u;V=2*p-2;p=ra[0]*(ra[3]-ra[V+1])+ra[V]*(ra[1]-ra[V-1]);for(c=2;c<V;c+=2)p+=ra[c]*(ra[c+3]-ra[c-1]);return Math.abs(p)*a*b*.125}projectedRadius(p){const V=this.getQuaternion(D);S.conjugate(ia,V);n.transformQuat(H,p,ia);return Math.abs(H[0]*this._data[3])+Math.abs(H[1]*this._data[4])+Math.abs(H[2]*this._data[5])}minimumDistancePlane(p){const V=p[0]*this._data[0]+p[1]*this._data[1]+p[2]*this._data[2]+
p[3];p=this.projectedRadius(K.getNormal(p));return V-p}maximumDistancePlane(p){const V=p[0]*this._data[0]+p[1]*this._data[1]+p[2]*this._data[2]+p[3];p=this.projectedRadius(K.getNormal(p));return V+p}toAaBoundingBox(p){var V=this.getQuaternion(D),a=r.fromQuat(qa,V);V=this._data[3]*Math.abs(a[0])+this._data[4]*Math.abs(a[3])+this._data[5]*Math.abs(a[6]);const b=this._data[3]*Math.abs(a[1])+this._data[4]*Math.abs(a[4])+this._data[5]*Math.abs(a[7]);a=this._data[3]*Math.abs(a[2])+this._data[4]*Math.abs(a[5])+
this._data[5]*Math.abs(a[8]);p[0]=this._data[0]-V;p[1]=this._data[1]-b;p[2]=this._data[2]-a;p[3]=this._data[0]+V;p[4]=this._data[1]+b;p[5]=this._data[2]+a}transform(p,V,a,b=0,c=t.getSphericalPCPF(a),e=t.getSphericalPCPF(V),h=Q.getProjector(V,e)){a===c?V.isGeographic?Z(this,p,V,b,e):O(this,p,V,b,e,h):V.isWGS84&&(a.isWebMercator||J.isPlateCarree(a))?(this.getCenter(fa),fa[2]+=b,b=t.getSphericalPCPF(a),T.projectBuffer(fa,V,0,fa,b,0,1),L(b,this,fa,a,p)):V.isWebMercator&&J.isPlateCarree(a)?(this.getCenter(fa),
fa[2]+=b,L(V,this,fa,a,p)):(c=this.getCenter(fa),c[2]+=b,T.projectBuffer(c,V,0,c,a,0,1),p.center=c,this!==p&&(p.quaternion=this.getQuaternion(D),p.halfSize=this.getHalfSize(ma)))}}const ia=w.create(),D=w.create(),F=w.create(),H=l.create(),ba=l.create(),sa=z.create(),ra=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],f=(()=>{const p=new Int8Array(162);let V=0;const a=b=>{for(let c=0;c<b.length;c++)p[V+c]=b[c];V+=6};a([6,2,3,1,5,4]);a([0,2,3,1,5,4]);a([0,2,3,7,5,4]);a([0,1,3,2,6,4]);a([0,1,3,2,0,0]);a([0,1,
5,7,3,2]);a([0,1,3,7,6,4]);a([0,1,3,7,6,2]);a([0,1,5,7,6,2]);a([0,1,5,4,6,2]);a([0,1,5,4,0,0]);a([0,1,3,7,5,4]);a([0,2,6,4,0,0]);a([0,0,0,0,0,0]);a([1,3,7,5,0,0]);a([2,3,7,6,4,0]);a([2,3,7,6,0,0]);a([2,3,1,5,7,6]);a([0,1,5,7,6,2]);a([0,1,5,7,6,4]);a([0,1,3,7,6,4]);a([4,5,7,6,2,0]);a([4,5,7,6,0,0]);a([4,5,1,3,7,6]);a([0,2,3,7,5,4]);a([6,2,3,7,5,4]);a([6,2,3,1,5,4]);return p})(),g=Array(24),C=new ha.Vertices(g,3),W=l.create(),fa=l.create(),ka=l.create(),ma=l.create(),qa=m.create(),x=I.create(),y=[[0,
0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],A=l.create(),P=l.create(),Y=l.create(),X=l.fromValues(-1,-1,-1);d.Obb=la;d.compute=ca;d.computeOffsetObb=function(p,V,a,b,c){var e=p.getQuaternion(D);c.quaternion=e;S.conjugate(ia,e);var h=p.getCenter(fa);e=p.getHalfSize(ma);if(b===ea.ViewingMode.Global){n.transformQuat(A,h,ia);n.abs(P,A);n.min(Y,P,e);n.sub(Y,P,Y);b=n.length(Y);n.add(Y,P,e);const u=n.length(Y);b<a?(c.center=h,n.set(A,a,a,a),c.halfSize=n.add(A,e,A)):(V=0<u?1+V/u:1,h=0<b?
1+a/b:1,a=(h+V)/2,V=(h-V)/2,n.scale(Y,P,V),c.halfSize=n.scaleAndAdd(Y,Y,e,a),n.scale(Y,P,a),n.scaleAndAdd(Y,Y,e,V),n.sign(A,A),n.multiply(A,Y,A),p=p.getQuaternion(F),c.center=n.transformQuat(A,A,p))}else c.center=n.scaleAndAdd(A,h,l.UNIT_Z,(a+V)/2),p=n.transformQuat(A,l.UNIT_Z,ia),n.abs(p,p),c.halfSize=n.scaleAndAdd(P,e,p,(a-V)/2);return c};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["exports","./common"],function(d,r){function m(f,
g){f[0]=g[0];f[1]=g[1];f[2]=g[2];f[3]=g[4];f[4]=g[5];f[5]=g[6];f[6]=g[8];f[7]=g[9];f[8]=g[10];return f}function I(f,g){f[0]=g[0];f[1]=g[1];f[2]=g[2];f[3]=g[3];f[4]=g[4];f[5]=g[5];f[6]=g[6];f[7]=g[7];f[8]=g[8];return f}function S(f,g,C,W,fa,ka,ma,qa,x,y){f[0]=g;f[1]=C;f[2]=W;f[3]=fa;f[4]=ka;f[5]=ma;f[6]=qa;f[7]=x;f[8]=y;return f}function w(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f}function n(f,g){if(f===g){const C=g[1],W=g[2],fa=g[5];f[1]=g[3];f[2]=g[6];f[3]=C;f[5]=
g[7];f[6]=W;f[7]=fa}else f[0]=g[0],f[1]=g[3],f[2]=g[6],f[3]=g[1],f[4]=g[4],f[5]=g[7],f[6]=g[2],f[7]=g[5],f[8]=g[8];return f}function l(f,g){const C=g[0],W=g[1],fa=g[2],ka=g[3],ma=g[4],qa=g[5],x=g[6],y=g[7];g=g[8];const A=g*ma-qa*y,P=-g*ka+qa*x,Y=y*ka-ma*x;let X=C*A+W*P+fa*Y;if(!X)return null;X=1/X;f[0]=A*X;f[1]=(-g*W+fa*y)*X;f[2]=(qa*W-fa*ma)*X;f[3]=P*X;f[4]=(g*C-fa*x)*X;f[5]=(-qa*C+fa*ka)*X;f[6]=Y*X;f[7]=(-y*C+W*x)*X;f[8]=(ma*C-W*ka)*X;return f}function E(f,g){const C=g[0],W=g[1],fa=g[2],ka=g[3],
ma=g[4],qa=g[5],x=g[6],y=g[7];g=g[8];f[0]=ma*g-qa*y;f[1]=fa*y-W*g;f[2]=W*qa-fa*ma;f[3]=qa*x-ka*g;f[4]=C*g-fa*x;f[5]=fa*ka-C*qa;f[6]=ka*y-ma*x;f[7]=W*x-C*y;f[8]=C*ma-W*ka;return f}function z(f){const g=f[3],C=f[4],W=f[5],fa=f[6],ka=f[7],ma=f[8];return f[0]*(ma*C-W*ka)+f[1]*(-ma*g+W*fa)+f[2]*(ka*g-C*fa)}function k(f,g,C){const W=g[0],fa=g[1],ka=g[2],ma=g[3],qa=g[4],x=g[5],y=g[6],A=g[7];g=g[8];const P=C[0],Y=C[1],X=C[2],p=C[3],V=C[4],a=C[5],b=C[6],c=C[7];C=C[8];f[0]=P*W+Y*ma+X*y;f[1]=P*fa+Y*qa+X*A;f[2]=
P*ka+Y*x+X*g;f[3]=p*W+V*ma+a*y;f[4]=p*fa+V*qa+a*A;f[5]=p*ka+V*x+a*g;f[6]=b*W+c*ma+C*y;f[7]=b*fa+c*qa+C*A;f[8]=b*ka+c*x+C*g;return f}function t(f,g,C){const W=g[0],fa=g[1],ka=g[2],ma=g[3],qa=g[4],x=g[5],y=g[6],A=g[7];g=g[8];const P=C[0];C=C[1];f[0]=W;f[1]=fa;f[2]=ka;f[3]=ma;f[4]=qa;f[5]=x;f[6]=P*W+C*ma+y;f[7]=P*fa+C*qa+A;f[8]=P*ka+C*x+g;return f}function M(f,g,C){const W=g[0],fa=g[1],ka=g[2],ma=g[3],qa=g[4],x=g[5],y=g[6],A=g[7];g=g[8];const P=Math.sin(C);C=Math.cos(C);f[0]=C*W+P*ma;f[1]=C*fa+P*qa;
f[2]=C*ka+P*x;f[3]=C*ma-P*W;f[4]=C*qa-P*fa;f[5]=C*x-P*ka;f[6]=y;f[7]=A;f[8]=g;return f}function T(f,g,C){const W=C[0],fa=C[1];C=C[2];f[0]=W*g[0];f[1]=W*g[1];f[2]=W*g[2];f[3]=fa*g[3];f[4]=fa*g[4];f[5]=fa*g[5];f[6]=C*g[6];f[7]=C*g[7];f[8]=C*g[8];return f}function Q(f,g,C){const W=C[0];C=C[1];f[0]=W*g[0];f[1]=W*g[1];f[2]=W*g[2];f[3]=C*g[3];f[4]=C*g[4];f[5]=C*g[5];return f}function K(f,g){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=g[0];f[7]=g[1];f[8]=1;return f}function J(f,g){const C=Math.sin(g);
g=Math.cos(g);f[0]=g;f[1]=C;f[2]=0;f[3]=-C;f[4]=g;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f}function R(f,g){f[0]=g[0];f[1]=0;f[2]=0;f[3]=0;f[4]=g[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f}function ea(f,g){f[0]=g[0];f[1]=g[1];f[2]=0;f[3]=g[2];f[4]=g[3];f[5]=0;f[6]=g[4];f[7]=g[5];f[8]=1;return f}function aa(f,g){var C=g[0],W=g[1],fa=g[2];g=g[3];var ka=C+C,ma=W+W;const qa=fa+fa;C*=ka;const x=W*ka;W*=ma;const y=fa*ka,A=fa*ma;fa*=qa;ka*=g;ma*=g;g*=qa;f[0]=1-W-fa;f[3]=x-g;f[6]=y+ma;f[1]=x+g;f[4]=1-C-fa;f[7]=A-
ka;f[2]=y-ma;f[5]=A+ka;f[8]=1-C-W;return f}function ha(f,g){const C=g[0],W=g[1],fa=g[2],ka=g[4],ma=g[5],qa=g[6],x=g[8],y=g[9];g=g[10];const A=g*ma-qa*y,P=-g*ka+qa*x,Y=y*ka-ma*x;var X=C*A+W*P+fa*Y;if(!X)return null;X=1/X;f[0]=A*X;f[1]=(-g*W+fa*y)*X;f[2]=(qa*W-fa*ma)*X;f[3]=P*X;f[4]=(g*C-fa*x)*X;f[5]=(-qa*C+fa*ka)*X;f[6]=Y*X;f[7]=(-y*C+W*x)*X;f[8]=(ma*C-W*ka)*X;return f}function ca(f,g){const C=g[0],W=g[1],fa=g[2],ka=g[3],ma=g[4],qa=g[5],x=g[6],y=g[7];var A=g[8],P=g[9],Y=g[10],X=g[11];const p=g[12],
V=g[13],a=g[14];g=g[15];const b=C*qa-W*ma,c=C*x-fa*ma,e=C*y-ka*ma,h=W*x-fa*qa,u=W*y-ka*qa,v=fa*y-ka*x,q=A*V-P*p,B=A*a-Y*p;A=A*g-X*p;const G=P*a-Y*V;P=P*g-X*V;Y=Y*g-X*a;X=b*Y-c*P+e*G+h*A-u*B+v*q;if(!X)return null;X=1/X;f[0]=(qa*Y-x*P+y*G)*X;f[1]=(x*A-ma*Y-y*B)*X;f[2]=(ma*P-qa*A+y*q)*X;f[3]=(fa*P-W*Y-ka*G)*X;f[4]=(C*Y-fa*A+ka*B)*X;f[5]=(W*A-C*P-ka*q)*X;f[6]=(V*v-a*u+g*h)*X;f[7]=(a*e-p*v-g*c)*X;f[8]=(p*u-V*e+g*b)*X;return f}function L(f,g,C){f[0]=2/g;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/C;f[5]=0;f[6]=-1;f[7]=
1;f[8]=1;return f}function O(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"}function Z(f){return Math.sqrt(f[0]**2+f[1]**2+f[2]**2+f[3]**2+f[4]**2+f[5]**2+f[6]**2+f[7]**2+f[8]**2)}function la(f,g,C){f[0]=g[0]+C[0];f[1]=g[1]+C[1];f[2]=g[2]+C[2];f[3]=g[3]+C[3];f[4]=g[4]+C[4];f[5]=g[5]+C[5];f[6]=g[6]+C[6];f[7]=g[7]+C[7];f[8]=g[8]+C[8];return f}function ia(f,g,C){f[0]=g[0]-C[0];f[1]=g[1]-C[1];f[2]=g[2]-C[2];f[3]=g[3]-C[3];f[4]=g[4]-C[4];f[5]=
g[5]-C[5];f[6]=g[6]-C[6];f[7]=g[7]-C[7];f[8]=g[8]-C[8];return f}function D(f,g,C){f[0]=g[0]*C;f[1]=g[1]*C;f[2]=g[2]*C;f[3]=g[3]*C;f[4]=g[4]*C;f[5]=g[5]*C;f[6]=g[6]*C;f[7]=g[7]*C;f[8]=g[8]*C;return f}function F(f,g,C,W){f[0]=g[0]+C[0]*W;f[1]=g[1]+C[1]*W;f[2]=g[2]+C[2]*W;f[3]=g[3]+C[3]*W;f[4]=g[4]+C[4]*W;f[5]=g[5]+C[5]*W;f[6]=g[6]+C[6]*W;f[7]=g[7]+C[7]*W;f[8]=g[8]+C[8]*W;return f}function H(f,g){return f[0]===g[0]&&f[1]===g[1]&&f[2]===g[2]&&f[3]===g[3]&&f[4]===g[4]&&f[5]===g[5]&&f[6]===g[6]&&f[7]===
g[7]&&f[8]===g[8]}function ba(f,g){const C=f[0],W=f[1],fa=f[2],ka=f[3],ma=f[4],qa=f[5],x=f[6],y=f[7];f=f[8];const A=g[0],P=g[1],Y=g[2],X=g[3],p=g[4],V=g[5],a=g[6],b=g[7];g=g[8];const c=r.getEpsilon();return Math.abs(C-A)<=c*Math.max(1,Math.abs(C),Math.abs(A))&&Math.abs(W-P)<=c*Math.max(1,Math.abs(W),Math.abs(P))&&Math.abs(fa-Y)<=c*Math.max(1,Math.abs(fa),Math.abs(Y))&&Math.abs(ka-X)<=c*Math.max(1,Math.abs(ka),Math.abs(X))&&Math.abs(ma-p)<=c*Math.max(1,Math.abs(ma),Math.abs(p))&&Math.abs(qa-V)<=c*
Math.max(1,Math.abs(qa),Math.abs(V))&&Math.abs(x-a)<=c*Math.max(1,Math.abs(x),Math.abs(a))&&Math.abs(y-b)<=c*Math.max(1,Math.abs(y),Math.abs(b))&&Math.abs(f-g)<=c*Math.max(1,Math.abs(f),Math.abs(g))}function sa(f){const g=r.getEpsilon(),C=f[0],W=f[1],fa=f[2],ka=f[3],ma=f[4],qa=f[5],x=f[6],y=f[7];f=f[8];return Math.abs(1-(C*C+ka*ka+x*x))<=g&&Math.abs(1-(W*W+ma*ma+y*y))<=g&&Math.abs(1-(fa*fa+qa*qa+f*f))<=g}const ra=Object.freeze(Object.defineProperty({__proto__:null,add:la,adjoint:E,copy:I,determinant:z,
equals:ba,exactEquals:H,frob:Z,fromMat2d:ea,fromMat4:m,fromQuat:aa,fromRotation:J,fromScaling:R,fromTranslation:K,identity:w,invert:l,isOrthoNormal:sa,mul:k,multiply:k,multiplyScalar:D,multiplyScalarAndAdd:F,normalFromMat4:ca,normalFromMat4Legacy:ha,projection:L,rotate:M,scale:T,scaleByVec2:Q,set:S,str:O,sub:ia,subtract:ia,translate:t,transpose:n},Symbol.toStringTag,{value:"Module"}));d.add=la;d.adjoint=E;d.copy=I;d.determinant=z;d.equals=ba;d.exactEquals=H;d.frob=Z;d.fromMat2d=ea;d.fromMat4=m;d.fromQuat=
aa;d.fromRotation=J;d.fromScaling=R;d.fromTranslation=K;d.identity=w;d.invert=l;d.isOrthoNormal=sa;d.mat3=ra;d.mul=k;d.multiply=k;d.multiplyScalar=D;d.multiplyScalarAndAdd=F;d.normalFromMat4=ca;d.normalFromMat4Legacy=ha;d.projection=L;d.rotate=M;d.scale=T;d.scaleByVec2=Q;d.set=S;d.str=O;d.sub=ia;d.subtract=ia;d.translate=t;d.transpose=n;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(d){function r(){return[1,
0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function m(l){return[l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15]]}function I(l,E,z,k,t,M,T,Q,K,J,R,ea,aa,ha,ca,L){return[l,E,z,k,t,M,T,Q,K,J,R,ea,aa,ha,ca,L]}function S(l,E){return new Float64Array(l,E,16)}const w=r(),n=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:w,clone:m,create:r,createView:S,fromValues:I},Symbol.toStringTag,{value:"Module"}));d.IDENTITY=w;d.clone=m;d.create=r;d.createView=S;d.fromValues=I;
d.mat4f64=n;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/spatialReferenceEllipsoidUtils":function(){define(["exports","./ellipsoidUtils","./SpatialReference","./support/spatialReferenceUtils"],function(d,r,m,I){const S=new m(r.SphericalECEFSpatialReferenceLike),w=new m(r.SphericalPCPFMarsLike),n=new m(r.SphericalPCPFMoonLike);r=new m(r.WGS84ECEFSpatialReferenceLike);const l=new Map,E=w.wkt.toUpperCase(),z=n.wkt.toUpperCase();d.SphericalECEFSpatialReference=S;d.SphericalPCPFMars=
w;d.SphericalPCPFMoon=n;d.WGS84ECEFSpatialReference=r;d.getSphericalPCPF=function(k){var t=l.get(k);if(t)return t;t=S;if(k)if(k===w)t=w;else if(k===n)t=n;else{var M=k.wkid;const T=k.latestWkid;if(null!=M||null!=T)if(I.isWKIDFromMars(M)||I.isWKIDFromMars(T))t=w;else{if(I.isWKIDFromMoon(M)||I.isWKIDFromMoon(T))t=n}else if(M=k.wkt2??k.wkt)M=M.toUpperCase(),M===E?t=w:M===z&&(t=n)}l.set(k,t);return t};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/computeTranslationToOriginAndRotation":function(){define("exports ../../core/mathUtils ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/vec3f64 ./localRotationUtils ./projectors ../support/spatialReferenceUtils".split(" "),
function(d,r,m,I,S,w,n){function l(t){return t===w.ProjectionID.SPHERICAL_ECEF||t===w.ProjectionID.SPHERICAL_MARS_PCPF||t===w.ProjectionID.SPHERICAL_MOON_PCPF}const E=r.deg2rad(1),z=I.create(),k=I.create();d.computeTranslationToOriginAndRotation=function(t,M,T,Q){if(null==t||null==Q)return!1;var K=w.classifySpatialReference(t,w.sourceClassificationCache),J=w.classifySpatialReference(Q,w.destClassificationCache);if(K===J&&!l(J)&&(K!==w.ProjectionID.UNKNOWN||n.equals(t,Q)))return m.fromTranslation(T,
M),!0;if(l(J)){K=w.projectionTable[K][w.ProjectionID.LON_LAT];J=w.projectionTable[w.ProjectionID.LON_LAT][J];if(null==K||null==J)return!1;K(M,0,z,0);J(z,0,k,0);S.computeENUToSphericalPCPFLocalRotation(E*z[0],E*z[1],T);T[12]=k[0];T[13]=k[1];T[14]=k[2];return!0}if(!(J!==w.ProjectionID.WEB_MERCATOR&&J!==w.ProjectionID.PLATE_CARREE&&J!==w.ProjectionID.WGS84&&J!==w.ProjectionID.CGCS2000||K!==w.ProjectionID.WGS84&&K!==w.ProjectionID.SPHERICAL_ECEF&&K!==w.ProjectionID.WEB_MERCATOR&&K!==w.ProjectionID.CGCS2000)){t=
w.projectionTable[K][w.ProjectionID.LON_LAT];J=w.projectionTable[w.ProjectionID.LON_LAT][J];if(null==t||null==J)return!1;t(M,0,z,0);J(z,0,k,0);K===w.ProjectionID.SPHERICAL_ECEF?S.computeSphericalPCPFToENULocalRotation(E*z[0],E*z[1],T):m.identity(T);T[12]=k[0];T[13]=k[1];T[14]=k[2];return!0}return!1};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(d,r,m){function I(a,b){a[0]=
b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function S(a,b,c,e,h,u,v,q,B,G,N,U,ja,da,pa,oa,na){a[0]=b;a[1]=c;a[2]=e;a[3]=h;a[4]=u;a[5]=v;a[6]=q;a[7]=B;a[8]=G;a[9]=N;a[10]=U;a[11]=ja;a[12]=da;a[13]=pa;a[14]=oa;a[15]=na;return a}function w(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function n(a,
b){if(a===b){const c=b[1],e=b[2],h=b[3],u=b[6],v=b[7],q=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=e;a[9]=u;a[11]=b[14];a[12]=h;a[13]=v;a[14]=q}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function l(a,b){E(a,b)||w(a);return a}function E(a,b){const c=b[0],e=b[1],h=b[2],u=b[3],v=b[4],q=b[5],B=b[6],G=b[7],N=b[8],U=b[9],ja=b[10],da=b[11],
pa=b[12],oa=b[13],na=b[14];b=b[15];const wa=c*q-e*v,ta=c*B-h*v,ua=c*G-u*v,va=e*B-h*q,xa=e*G-u*q,ya=h*G-u*B,Aa=N*oa-U*pa,Ca=N*na-ja*pa,Da=N*b-da*pa,Ea=U*na-ja*oa,Fa=U*b-da*oa,Ga=ja*b-da*na;let za=wa*Ga-ta*Fa+ua*Ea+va*Da-xa*Ca+ya*Aa;if(!za)return null;za=1/za;a[0]=(q*Ga-B*Fa+G*Ea)*za;a[1]=(h*Fa-e*Ga-u*Ea)*za;a[2]=(oa*ya-na*xa+b*va)*za;a[3]=(ja*xa-U*ya-da*va)*za;a[4]=(B*Da-v*Ga-G*Ca)*za;a[5]=(c*Ga-h*Da+u*Ca)*za;a[6]=(na*ua-pa*ya-b*ta)*za;a[7]=(N*ya-ja*ua+da*ta)*za;a[8]=(v*Fa-q*Da+G*Aa)*za;a[9]=(e*Da-
c*Fa-u*Aa)*za;a[10]=(pa*xa-oa*ua+b*wa)*za;a[11]=(U*ua-N*xa-da*wa)*za;a[12]=(q*Ca-v*Ea-B*Aa)*za;a[13]=(c*Ea-e*Ca+h*Aa)*za;a[14]=(oa*ta-pa*va-na*wa)*za;a[15]=(N*va-U*ta+ja*wa)*za;return a}function z(a,b){const c=b[0],e=b[1],h=b[2],u=b[3],v=b[4],q=b[5],B=b[6],G=b[7],N=b[8],U=b[9],ja=b[10],da=b[11],pa=b[12],oa=b[13],na=b[14];b=b[15];a[0]=q*(ja*b-da*na)-U*(B*b-G*na)+oa*(B*da-G*ja);a[1]=-(e*(ja*b-da*na)-U*(h*b-u*na)+oa*(h*da-u*ja));a[2]=e*(B*b-G*na)-q*(h*b-u*na)+oa*(h*G-u*B);a[3]=-(e*(B*da-G*ja)-q*(h*da-
u*ja)+U*(h*G-u*B));a[4]=-(v*(ja*b-da*na)-N*(B*b-G*na)+pa*(B*da-G*ja));a[5]=c*(ja*b-da*na)-N*(h*b-u*na)+pa*(h*da-u*ja);a[6]=-(c*(B*b-G*na)-v*(h*b-u*na)+pa*(h*G-u*B));a[7]=c*(B*da-G*ja)-v*(h*da-u*ja)+N*(h*G-u*B);a[8]=v*(U*b-da*oa)-N*(q*b-G*oa)+pa*(q*da-G*U);a[9]=-(c*(U*b-da*oa)-N*(e*b-u*oa)+pa*(e*da-u*U));a[10]=c*(q*b-G*oa)-v*(e*b-u*oa)+pa*(e*G-u*q);a[11]=-(c*(q*da-G*U)-v*(e*da-u*U)+N*(e*G-u*q));a[12]=-(v*(U*na-ja*oa)-N*(q*na-B*oa)+pa*(q*ja-B*U));a[13]=c*(U*na-ja*oa)-N*(e*na-h*oa)+pa*(e*ja-h*U);a[14]=
-(c*(q*na-B*oa)-v*(e*na-h*oa)+pa*(e*B-h*q));a[15]=c*(q*ja-B*U)-v*(e*ja-h*U)+N*(e*B-h*q);return a}function k(a){const b=a[0],c=a[1],e=a[2],h=a[3],u=a[4],v=a[5],q=a[6],B=a[7],G=a[8],N=a[9],U=a[10],ja=a[11],da=a[12],pa=a[13],oa=a[14];a=a[15];return(b*v-c*u)*(U*a-ja*oa)-(b*q-e*u)*(N*a-ja*pa)+(b*B-h*u)*(N*oa-U*pa)+(c*q-e*v)*(G*a-ja*da)-(c*B-h*v)*(G*oa-U*da)+(e*B-h*q)*(G*pa-N*da)}function t(a,b,c){const e=b[0],h=b[1],u=b[2],v=b[3],q=b[4],B=b[5],G=b[6],N=b[7],U=b[8],ja=b[9],da=b[10],pa=b[11],oa=b[12],na=
b[13],wa=b[14];b=b[15];let ta=c[0],ua=c[1],va=c[2],xa=c[3];a[0]=ta*e+ua*q+va*U+xa*oa;a[1]=ta*h+ua*B+va*ja+xa*na;a[2]=ta*u+ua*G+va*da+xa*wa;a[3]=ta*v+ua*N+va*pa+xa*b;ta=c[4];ua=c[5];va=c[6];xa=c[7];a[4]=ta*e+ua*q+va*U+xa*oa;a[5]=ta*h+ua*B+va*ja+xa*na;a[6]=ta*u+ua*G+va*da+xa*wa;a[7]=ta*v+ua*N+va*pa+xa*b;ta=c[8];ua=c[9];va=c[10];xa=c[11];a[8]=ta*e+ua*q+va*U+xa*oa;a[9]=ta*h+ua*B+va*ja+xa*na;a[10]=ta*u+ua*G+va*da+xa*wa;a[11]=ta*v+ua*N+va*pa+xa*b;ta=c[12];ua=c[13];va=c[14];xa=c[15];a[12]=ta*e+ua*q+va*U+
xa*oa;a[13]=ta*h+ua*B+va*ja+xa*na;a[14]=ta*u+ua*G+va*da+xa*wa;a[15]=ta*v+ua*N+va*pa+xa*b;return a}function M(a,b,c){const e=c[0],h=c[1];c=c[2];if(b===a)a[12]=b[0]*e+b[4]*h+b[8]*c+b[12],a[13]=b[1]*e+b[5]*h+b[9]*c+b[13],a[14]=b[2]*e+b[6]*h+b[10]*c+b[14],a[15]=b[3]*e+b[7]*h+b[11]*c+b[15];else{const u=b[0],v=b[1],q=b[2],B=b[3],G=b[4],N=b[5],U=b[6],ja=b[7],da=b[8],pa=b[9],oa=b[10],na=b[11];a[0]=u;a[1]=v;a[2]=q;a[3]=B;a[4]=G;a[5]=N;a[6]=U;a[7]=ja;a[8]=da;a[9]=pa;a[10]=oa;a[11]=na;a[12]=u*e+G*h+da*c+b[12];
a[13]=v*e+N*h+pa*c+b[13];a[14]=q*e+U*h+oa*c+b[14];a[15]=B*e+ja*h+na*c+b[15]}return a}function T(a,b,c){const e=c[0],h=c[1];c=c[2];a[0]=b[0]*e;a[1]=b[1]*e;a[2]=b[2]*e;a[3]=b[3]*e;a[4]=b[4]*h;a[5]=b[5]*h;a[6]=b[6]*h;a[7]=b[7]*h;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function Q(a,b,c,e){let h=e[0],u=e[1];e=e[2];let v=Math.sqrt(h*h+u*u+e*e);var q=void 0,B=void 0;let G=void 0,N=void 0,U=void 0,ja=void 0,da=void 0,pa=void 0,oa=void 0,
na=void 0,wa=void 0,ta=void 0,ua=void 0,va=void 0,xa=void 0,ya=void 0,Aa=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0;B=q=void 0;if(v<m.getEpsilon())return null;v=1/v;h*=v;u*=v;e*=v;q=Math.sin(c);B=Math.cos(c);G=1-B;N=b[0];U=b[1];ja=b[2];da=b[3];pa=b[4];oa=b[5];na=b[6];wa=b[7];ta=b[8];ua=b[9];va=b[10];xa=b[11];ya=h*h*G+B;Aa=u*h*G+e*q;Ca=e*h*G-u*q;Da=h*u*G-e*q;Ea=u*u*G+B;Fa=e*u*G+h*q;Ga=h*e*G+u*q;q=u*e*G-h*q;B=e*e*G+B;a[0]=N*ya+pa*Aa+ta*Ca;a[1]=U*ya+oa*Aa+ua*Ca;a[2]=ja*ya+na*Aa+va*Ca;a[3]=
da*ya+wa*Aa+xa*Ca;a[4]=N*Da+pa*Ea+ta*Fa;a[5]=U*Da+oa*Ea+ua*Fa;a[6]=ja*Da+na*Ea+va*Fa;a[7]=da*Da+wa*Ea+xa*Fa;a[8]=N*Ga+pa*q+ta*B;a[9]=U*Ga+oa*q+ua*B;a[10]=ja*Ga+na*q+va*B;a[11]=da*Ga+wa*q+xa*B;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function K(a,b,c){const e=Math.sin(c);c=Math.cos(c);const h=b[4],u=b[5],v=b[6],q=b[7],B=b[8],G=b[9],N=b[10],U=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=h*c+B*e;a[5]=u*c+G*e;a[6]=
v*c+N*e;a[7]=q*c+U*e;a[8]=B*c-h*e;a[9]=G*c-u*e;a[10]=N*c-v*e;a[11]=U*c-q*e;return a}function J(a,b,c){const e=Math.sin(c);c=Math.cos(c);const h=b[0],u=b[1],v=b[2],q=b[3],B=b[8],G=b[9],N=b[10],U=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=h*c-B*e;a[1]=u*c-G*e;a[2]=v*c-N*e;a[3]=q*c-U*e;a[8]=h*e+B*c;a[9]=u*e+G*c;a[10]=v*e+N*c;a[11]=q*e+U*c;return a}function R(a,b,c){const e=Math.sin(c);c=Math.cos(c);const h=b[0],u=b[1],v=b[2],q=b[3],B=b[4],
G=b[5],N=b[6],U=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=h*c+B*e;a[1]=u*c+G*e;a[2]=v*c+N*e;a[3]=q*c+U*e;a[4]=B*c-h*e;a[5]=G*c-u*e;a[6]=N*c-v*e;a[7]=U*c-q*e;return a}function ea(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function aa(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=
0;a[13]=0;a[14]=0;a[15]=1;return a}function ha(a,b,c){if(0===b)return w(a);let e=c[0],h=c[1];c=c[2];let u=Math.sqrt(e*e+h*h+c*c),v=void 0,q=void 0,B=void 0;if(u<m.getEpsilon())return null;u=1/u;e*=u;h*=u;c*=u;v=Math.sin(b);q=Math.cos(b);B=1-q;a[0]=e*e*B+q;a[1]=h*e*B+c*v;a[2]=c*e*B-h*v;a[3]=0;a[4]=e*h*B-c*v;a[5]=h*h*B+q;a[6]=c*h*B+e*v;a[7]=0;a[8]=e*c*B+h*v;a[9]=h*c*B-e*v;a[10]=c*c*B+q;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ca(a,b){const c=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;
a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=c;a[7]=0;a[8]=0;a[9]=-c;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function L(a,b){const c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-c;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=c;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function O(a,b){const c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=0;a[4]=-c;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Z(a,b,c){var e=b[0],h=
b[1],u=b[2],v=b[3],q=e+e,B=h+h;const G=u+u;b=e*q;const N=e*B;e*=G;const U=h*B;h*=G;u*=G;q*=v;B*=v;v*=G;a[0]=1-(U+u);a[1]=N+v;a[2]=e-B;a[3]=0;a[4]=N-v;a[5]=1-(b+u);a[6]=h+q;a[7]=0;a[8]=e+B;a[9]=h-q;a[10]=1-(b+U);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function la(a,b){const c=V,e=-b[0],h=-b[1],u=-b[2],v=b[3],q=b[4],B=b[5],G=b[6],N=b[7],U=e*e+h*h+u*u+v*v;0<U?(c[0]=2*(q*v+N*e+B*u-G*h)/U,c[1]=2*(B*v+N*h+G*e-q*u)/U,c[2]=2*(G*v+N*u+q*h-B*e)/U):(c[0]=2*(q*v+N*e+B*u-G*h),c[1]=2*(B*v+N*h+
G*e-q*u),c[2]=2*(G*v+N*u+q*h-B*e));Z(a,b,c);return a}function ia(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function D(a,b){const c=b[0],e=b[1],h=b[2],u=b[4],v=b[5],q=b[6],B=b[8],G=b[9];b=b[10];a[0]=Math.sqrt(c*c+e*e+h*h);a[1]=Math.sqrt(u*u+v*v+q*q);a[2]=Math.sqrt(B*B+G*G+b*b);return a}function F(a,b){const c=b[0]+b[5]+b[10];let e=0;0<c?(e=2*Math.sqrt(c+1),a[3]=.25*e,a[0]=(b[6]-b[9])/e,a[1]=(b[8]-b[2])/e,a[2]=(b[1]-b[4])/e):b[0]>b[5]&&b[0]>b[10]?(e=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/
e,a[0]=.25*e,a[1]=(b[1]+b[4])/e,a[2]=(b[8]+b[2])/e):b[5]>b[10]?(e=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/e,a[0]=(b[1]+b[4])/e,a[1]=.25*e,a[2]=(b[6]+b[9])/e):(e=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/e,a[0]=(b[8]+b[2])/e,a[1]=(b[6]+b[9])/e,a[2]=.25*e);return a}function H(a,b,c,e){var h=b[0],u=b[1],v=b[2],q=b[3],B=h+h,G=u+u,N=v+v;b=h*B;const U=h*G;h*=N;const ja=u*G;u*=N;v*=N;B*=q;G*=q;q*=N;N=e[0];const da=e[1];e=e[2];a[0]=(1-(ja+v))*N;a[1]=(U+q)*N;a[2]=(h-G)*N;a[3]=0;a[4]=(U-q)*da;
a[5]=(1-(b+v))*da;a[6]=(u+B)*da;a[7]=0;a[8]=(h+G)*e;a[9]=(u-B)*e;a[10]=(1-(b+ja))*e;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function ba(a,b,c,e,h){var u=b[0],v=b[1],q=b[2],B=b[3],G=u+u,N=v+v,U=q+q;b=u*G;var ja=u*N,da=u*U;u=v*N;v*=U;var pa=q*U;q=B*G;N*=B;const oa=B*U;var na=e[0],wa=e[1];U=e[2];e=h[0];B=h[1];h=h[2];G=(1-(u+pa))*na;const ta=(ja+oa)*na;na*=da-N;ja=(ja-oa)*wa;pa=(1-(b+pa))*wa;wa*=v+q;da=(da+N)*U;v=(v-q)*U;b=(1-(b+u))*U;a[0]=G;a[1]=ta;a[2]=na;a[3]=0;a[4]=ja;a[5]=pa;a[6]=
wa;a[7]=0;a[8]=da;a[9]=v;a[10]=b;a[11]=0;a[12]=c[0]+e-(G*e+ja*B+da*h);a[13]=c[1]+B-(ta*e+pa*B+v*h);a[14]=c[2]+h-(na*e+wa*B+b*h);a[15]=1;return a}function sa(a,b){var c=b[0],e=b[1],h=b[2];b=b[3];var u=c+c,v=e+e;const q=h+h;c*=u;const B=e*u;e*=v;const G=h*u,N=h*v;h*=q;u*=b;v*=b;b*=q;a[0]=1-e-h;a[1]=B+b;a[2]=G-v;a[3]=0;a[4]=B-b;a[5]=1-c-h;a[6]=N+u;a[7]=0;a[8]=G+v;a[9]=N-u;a[10]=1-c-e;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ra(a,b,c,e,h,u,v){const q=1/(c-b),B=1/(h-e),G=1/(u-v);a[0]=
2*u*q;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*u*B;a[6]=0;a[7]=0;a[8]=(c+b)*q;a[9]=(h+e)*B;a[10]=(v+u)*G;a[11]=-1;a[12]=0;a[13]=0;a[14]=v*u*2*G;a[15]=0;return a}function f(a,b,c,e,h){b=1/Math.tan(b/2);let u=void 0;a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=h&&Infinity!==h?(u=1/(e-h),a[10]=(h+e)*u,a[14]=2*h*e*u):(a[10]=-1,a[14]=-2*e);return a}function g(a,b,c,e){const h=Math.tan(b.upDegrees*Math.PI/180),u=Math.tan(b.downDegrees*Math.PI/
180),v=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const q=2/(v+b),B=2/(h+u);a[0]=q;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=B;a[6]=0;a[7]=0;a[8]=-((v-b)*q*.5);a[9]=(h-u)*B*.5;a[10]=e/(c-e);a[11]=-1;a[12]=0;a[13]=0;a[14]=e*c/(c-e);a[15]=0;return a}function C(a,b,c,e,h,u,v){const q=1/(b-c),B=1/(e-h),G=1/(u-v);a[0]=-2*q;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*B;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*G;a[11]=0;a[12]=(b+c)*q;a[13]=(h+e)*B;a[14]=(v+u)*G;a[15]=1;return a}function W(a,b,
c,e){const h=b[0],u=b[1];b=b[2];let v=h-c[0],q=u-c[1];c=b-c[2];var B=m.getEpsilon();if(Math.abs(v)<B&&Math.abs(q)<B&&Math.abs(c)<B)w(a);else{var G=1/Math.sqrt(v*v+q*q+c*c);v*=G;q*=G;c*=G;G=e[0];var N=e[1];B=e[2];e=N*c-B*q;B=B*v-G*c;N=G*q-N*v;(G=Math.sqrt(e*e+B*B+N*N))?(G=1/G,e*=G,B*=G,N*=G):N=B=e=0;var U=q*N-c*B,ja=c*e-v*N,da=v*B-q*e;(G=Math.sqrt(U*U+ja*ja+da*da))?(G=1/G,U*=G,ja*=G,da*=G):da=ja=U=0;a[0]=e;a[1]=U;a[2]=v;a[3]=0;a[4]=B;a[5]=ja;a[6]=q;a[7]=0;a[8]=N;a[9]=da;a[10]=c;a[11]=0;a[12]=-(e*h+
B*u+N*b);a[13]=-(U*h+ja*u+da*b);a[14]=-(v*h+q*u+c*b);a[15]=1}}function fa(a,b,c,e){const h=b[0],u=b[1];b=b[2];var v=e[0];const q=e[1];var B=e[2];e=h-c[0];let G=u-c[1];c=b-c[2];let N=e*e+G*G+c*c;0<N&&(N=1/Math.sqrt(N),e*=N,G*=N,c*=N);let U=q*c-B*G;B=B*e-v*c;v=v*G-q*e;N=U*U+B*B+v*v;0<N&&(N=1/Math.sqrt(N),U*=N,B*=N,v*=N);a[0]=U;a[1]=B;a[2]=v;a[3]=0;a[4]=G*v-c*B;a[5]=c*U-e*v;a[6]=e*B-G*U;a[7]=0;a[8]=e;a[9]=G;a[10]=c;a[11]=0;a[12]=h;a[13]=u;a[14]=b;a[15]=1;return a}function ka(a){return"mat4("+a[0]+", "+
a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function ma(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function qa(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];a[9]=b[9]+c[9];a[10]=b[10]+
c[10];a[11]=b[11]+c[11];a[12]=b[12]+c[12];a[13]=b[13]+c[13];a[14]=b[14]+c[14];a[15]=b[15]+c[15];return a}function x(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];a[9]=b[9]-c[9];a[10]=b[10]-c[10];a[11]=b[11]-c[11];a[12]=b[12]-c[12];a[13]=b[13]-c[13];a[14]=b[14]-c[14];a[15]=b[15]-c[15];return a}function y(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*
c;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12]*c;a[13]=b[13]*c;a[14]=b[14]*c;a[15]=b[15]*c;return a}function A(a,b,c,e){a[0]=b[0]+c[0]*e;a[1]=b[1]+c[1]*e;a[2]=b[2]+c[2]*e;a[3]=b[3]+c[3]*e;a[4]=b[4]+c[4]*e;a[5]=b[5]+c[5]*e;a[6]=b[6]+c[6]*e;a[7]=b[7]+c[7]*e;a[8]=b[8]+c[8]*e;a[9]=b[9]+c[9]*e;a[10]=b[10]+c[10]*e;a[11]=b[11]+c[11]*e;a[12]=b[12]+c[12]*e;a[13]=b[13]+c[13]*e;a[14]=b[14]+c[14]*e;a[15]=b[15]+c[15]*e;return a}function P(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===
b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function Y(a,b){if(a===b)return!0;const c=a[0],e=a[1],h=a[2],u=a[3],v=a[4],q=a[5],B=a[6],G=a[7],N=a[8],U=a[9],ja=a[10],da=a[11],pa=a[12],oa=a[13],na=a[14];a=a[15];const wa=b[0],ta=b[1],ua=b[2],va=b[3],xa=b[4],ya=b[5],Aa=b[6],Ca=b[7],Da=b[8],Ea=b[9],Fa=b[10],Ga=b[11],za=b[12],Ha=b[13],Ia=b[14];b=b[15];const Ba=m.getEpsilon();return Math.abs(c-
wa)<=Ba*Math.max(1,Math.abs(c),Math.abs(wa))&&Math.abs(e-ta)<=Ba*Math.max(1,Math.abs(e),Math.abs(ta))&&Math.abs(h-ua)<=Ba*Math.max(1,Math.abs(h),Math.abs(ua))&&Math.abs(u-va)<=Ba*Math.max(1,Math.abs(u),Math.abs(va))&&Math.abs(v-xa)<=Ba*Math.max(1,Math.abs(v),Math.abs(xa))&&Math.abs(q-ya)<=Ba*Math.max(1,Math.abs(q),Math.abs(ya))&&Math.abs(B-Aa)<=Ba*Math.max(1,Math.abs(B),Math.abs(Aa))&&Math.abs(G-Ca)<=Ba*Math.max(1,Math.abs(G),Math.abs(Ca))&&Math.abs(N-Da)<=Ba*Math.max(1,Math.abs(N),Math.abs(Da))&&
Math.abs(U-Ea)<=Ba*Math.max(1,Math.abs(U),Math.abs(Ea))&&Math.abs(ja-Fa)<=Ba*Math.max(1,Math.abs(ja),Math.abs(Fa))&&Math.abs(da-Ga)<=Ba*Math.max(1,Math.abs(da),Math.abs(Ga))&&Math.abs(pa-za)<=Ba*Math.max(1,Math.abs(pa),Math.abs(za))&&Math.abs(oa-Ha)<=Ba*Math.max(1,Math.abs(oa),Math.abs(Ha))&&Math.abs(na-Ia)<=Ba*Math.max(1,Math.abs(na),Math.abs(Ia))&&Math.abs(a-b)<=Ba*Math.max(1,Math.abs(a),Math.abs(b))}function X(a){const b=m.getEpsilon(),c=a[0],e=a[1],h=a[2],u=a[4],v=a[5],q=a[6],B=a[8],G=a[9];a=
a[10];return Math.abs(1-(c*c+u*u+B*B))<=b&&Math.abs(1-(e*e+v*v+G*G))<=b&&Math.abs(1-(h*h+q*q+a*a))<=b}function p(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const V=r.create();r=Object.freeze(Object.defineProperty({__proto__:null,add:qa,adjoint:z,copy:I,determinant:k,equals:Y,exactEquals:P,frob:ma,fromQuat:sa,fromQuat2:la,fromRotation:ha,fromRotationTranslation:Z,fromRotationTranslationScale:H,fromRotationTranslationScaleOrigin:ba,fromScaling:aa,
fromTranslation:ea,fromXRotation:ca,fromYRotation:L,fromZRotation:O,frustum:ra,getRotation:F,getScaling:D,getTranslation:ia,hasIdentityRotation:p,identity:w,invert:E,invertOrIdentity:l,isOrthoNormal:X,lookAt:W,mul:t,multiply:t,multiplyScalar:y,multiplyScalarAndAdd:A,ortho:C,perspective:f,perspectiveFromFieldOfView:g,rotate:Q,rotateX:K,rotateY:J,rotateZ:R,scale:T,set:S,str:ka,sub:x,subtract:x,targetTo:fa,translate:M,transpose:n},Symbol.toStringTag,{value:"Module"}));d.add=qa;d.adjoint=z;d.copy=I;d.determinant=
k;d.equals=Y;d.exactEquals=P;d.frob=ma;d.fromQuat=sa;d.fromQuat2=la;d.fromRotation=ha;d.fromRotationTranslation=Z;d.fromRotationTranslationScale=H;d.fromRotationTranslationScaleOrigin=ba;d.fromScaling=aa;d.fromTranslation=ea;d.fromXRotation=ca;d.fromYRotation=L;d.fromZRotation=O;d.frustum=ra;d.getRotation=F;d.getScaling=D;d.getTranslation=ia;d.hasIdentityRotation=p;d.identity=w;d.invert=E;d.invertOrIdentity=l;d.isOrthoNormal=X;d.lookAt=W;d.mat4=r;d.mul=t;d.multiply=t;d.multiplyScalar=y;d.multiplyScalarAndAdd=
A;d.ortho=C;d.perspective=f;d.perspectiveFromFieldOfView=g;d.rotate=Q;d.rotateX=K;d.rotateY=J;d.rotateZ=R;d.scale=T;d.set=S;d.str=ka;d.sub=x;d.subtract=x;d.targetTo=fa;d.translate=M;d.transpose=n;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/localRotationUtils":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(d,r){function m(I,S,w){const n=Math.sin(I);I=Math.cos(I);const l=Math.sin(S);S=Math.cos(S);w[0]=-n;w[4]=-l*I;w[8]=S*
I;w[12]=0;w[1]=I;w[5]=-l*n;w[9]=S*n;w[13]=0;w[2]=0;w[6]=S;w[10]=l;w[14]=0;w[3]=0;w[7]=0;w[11]=0;w[15]=1;return w}d.computeENUToSphericalPCPFLocalRotation=m;d.computeSphericalPCPFToENULocalRotation=function(I,S,w){m(I,S,w);r.transpose(w,w);return w};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/plane":function(){define("exports ../../core/mathUtils ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../chunks/vec42 ./vector ./vectorStacks ../../views/3d/support/mathUtils".split(" "),
function(d,r,m,I,S,w,n,l){function E(D=O){return[D[0],D[1],D[2],D[3]]}function z(D,F){return k(F[0],F[1],F[2],F[3],D)}function k(D,F,H,ba,sa=E()){sa[0]=D;sa[1]=F;sa[2]=H;sa[3]=ba;return sa}function t(D,F,H){var ba=F[0]*F[0]+F[1]*F[1]+F[2]*F[2];ba=1E-5<Math.abs(ba-1)&&1E-12<ba?1/Math.sqrt(ba):1;H[0]=F[0]*ba;H[1]=F[1]*ba;H[2]=F[2]*ba;H[3]=-(H[0]*D[0]+H[1]*D[1]+H[2]*D[2]);return H}function M(D,F,H,ba=E()){var sa=H[0]-F[0],ra=H[1]-F[1],f=H[2]-F[2];H=D[0]-F[0];const g=D[1]-F[1],C=D[2]-F[2];F=ra*C-f*g;
f=f*H-sa*C;sa=sa*g-ra*H;ra=F*F+f*f+sa*sa;ra=1E-5<Math.abs(ra-1)&&1E-12<ra?1/Math.sqrt(ra):1;ba[0]=F*ra;ba[1]=f*ra;ba[2]=sa*ra;ba[3]=-(ba[0]*D[0]+ba[1]*D[1]+ba[2]*D[2]);return ba}function T(D,F,H,ba=0,sa=Math.floor(1/3*H),ra=Math.floor(2/3*H)){if(3>H)return!1;F(ea,ba);let f=sa,g=!1;for(;f<H-1&&!g;)F(aa,f),f++,g=!m.exactEquals(ea,aa);if(!g)return!1;f=Math.max(f,ra);for(g=!1;f<H&&!g;)F(ha,f),f++,m.subtract(ca,ea,aa),m.normalize(ca,ca),m.subtract(L,aa,ha),m.normalize(L,L),g=!m.exactEquals(ea,ha)&&!m.exactEquals(aa,
ha)&&.99619469809>Math.abs(m.dot(ca,L));if(!g)return 0===ba&&1===sa&&2===ra?!1:T(D,F,H,0,1,2);M(ea,aa,ha,D);return!0}function Q(D,F,H){D=m.scale(n.sv3d.get(),D,m.dot(D,F));m.subtract(H,F,D);return H}function K(D,F){return m.dot(D,F)+D[3]}function J(D,F,H,ba,sa){const ra=m.dot(D,H);if(0===ra)return!1;D=-(m.dot(D,F)+D[3])/ra;ba&Z.CLAMP&&(D=r.clamp(D,0,1));if(!(ba&Z.INFINITE_MIN)&&0>D||!(ba&Z.INFINITE_MAX)&&1<D)return!1;m.add(sa,F,m.scale(sa,H,D));return!0}const R=S.exactEquals;S=S.equals;const ea=I.create(),
aa=I.create(),ha=I.create(),ca=I.create(),L=I.create(),O=[0,0,1,0];var Z;(function(D){D[D.NONE=0]="NONE";D[D.CLAMP=1]="CLAMP";D[D.INFINITE_MIN=4]="INFINITE_MIN";D[D.INFINITE_MAX=8]="INFINITE_MAX"})(Z||={});const la=Z.INFINITE_MIN|Z.INFINITE_MAX,ia=Z.INFINITE_MAX;d.clip=function(D,F){const H=m.dot(D,F.ray.direction);D=-K(D,F.ray.origin);if(0>D&&0<=H)return!1;if(-1E-6<H&&1E-6>H)return 0<D;if((0>D||0>H)&&!(0>D&&0>H))return!0;D/=H;0<H?D<F.c1&&(F.c1=D):D>F.c0&&(F.c0=D);return F.c0<=F.c1};d.clipInfinite=
function(D,F){const H=m.dot(D,F.ray.direction);D=-K(D,F.ray.origin);if(-1E-6<H&&1E-6>H)return 0<D;D/=H;0<H?D<F.c1&&(F.c1=D):D>F.c0&&(F.c0=D);return F.c0<=F.c1};d.copy=z;d.create=E;d.distance=function(D,F){return Math.abs(K(D,F))};d.equals=S;d.exactEquals=R;d.fromArray=function(D,F,H=!0){const ba=F.length/3;return T(D,(sa,ra)=>m.set(sa,F[3*ra],F[3*ra+1],F[3*ra+2]),H?ba-1:ba)};d.fromManyPoints=T;d.fromNormalAndOffset=function(D,F,H){m.copy(H,D);H[3]=F;return H};d.fromPoints=M;d.fromPositionAndNormal=
t;d.fromValues=k;d.fromVectorsAndPoint=function(D,F,H,ba){m.cross(ha,F,D);return t(H,ha,ba)};d.getNormal=function(D){return D};d.intersectLine=function(D,F,H,ba){H=m.subtract(n.sv3d.get(),H,F);return J(D,F,H,la,ba)};d.intersectLineSegment=function(D,F,H){return J(D,F.origin,F.vector,Z.NONE,H)};d.intersectLineSegmentClamp=function(D,F,H){return J(D,F.origin,F.vector,Z.CLAMP,H)};d.intersectRay=function(D,F,H){return null!=F?J(D,F.origin,F.direction,ia,H):!1};d.isPointInside=function(D,F){return 0<=
K(D,F)};d.negate=function(D,F){F[0]=-D[0];F[1]=-D[1];F[2]=-D[2];F[3]=-D[3];return F};d.projectPoint=function(D,F,H){const ba=m.scale(n.sv3d.get(),D,-D[3]);F=m.subtract(n.sv3d.get(),F,ba);D=Q(D,F,n.sv3d.get());m.add(H,D,ba);return H};d.projectPointLocal=function(D,F,H,ba){var sa=n.sv3d.get(),ra=n.sv3d.get();l.tangentFrame(D,sa,ra);F=m.subtract(n.sv3d.get(),H,F);sa=w.projectPointSignedLength(sa,F);ra=w.projectPointSignedLength(ra,F);D=w.projectPointSignedLength(D,F);return m.set(ba,sa,ra,D)};d.projectVector=
Q;d.setOffsetFromPoint=function(D,F,H){F!==D&&z(D,F);D[3]=-m.dot(D,H);return D};d.signedDistance=K;d.up=O;d.wrap=function(D=O[0],F=O[1],H=O[2],ba=O[3]){return k(D,F,H,ba,n.sv4d.get())};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vector":function(){define(["exports","../../core/mathUtils","../../chunks/vec32","../../core/libs/gl-matrix-2/factories/vec3f64"],function(d,r,m,I){const S=I.create(),w=I.create();d.angle=function(n,l){n=m.dot(n,l)/(m.length(n)*m.length(l));
return-r.acosClamped(n)};d.angleAroundAxis=function(n,l,E){m.normalize(S,n);m.normalize(w,l);n=m.dot(S,w);n=r.acosClamped(n);l=m.cross(S,S,w);return 0>m.dot(l,E)?2*Math.PI-n:n};d.projectPoint=function(n,l,E){l=m.dot(n,l)/m.dot(n,n);return m.scale(E,n,l)};d.projectPointSignedLength=function(n,l){return m.dot(n,l)/m.length(n)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports","../../core/VectorStack"],function(d,r){const m=
r.VectorStack.createVec2f64(),I=r.VectorStack.createVec3f64(),S=r.VectorStack.createVec4f64(),w=r.VectorStack.createMat3f64(),n=r.VectorStack.createMat4f64();r=r.VectorStack.createQuatf64();d.sm3d=w;d.sm4d=n;d.sq4d=r;d.sv2d=m;d.sv3d=I;d.sv4d=S;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ./has ./nextTick ./libs/gl-matrix-2/factories/mat3f64 ./libs/gl-matrix-2/factories/mat4f64 ./libs/gl-matrix-2/factories/quatf64 ./libs/gl-matrix-2/factories/vec2f64 ./libs/gl-matrix-2/factories/vec3f64 ./libs/gl-matrix-2/factories/vec4f64".split(" "),
function(d,r,m,I,S,w,n,l,E){class z{constructor(k){this._create=k;this._items=[];this._itemsPtr=0}get(){0===this._itemsPtr&&m.nextTick(()=>this._reset());this._itemsPtr>=this._items.length&&this._items.push(this._create());return this._items[this._itemsPtr++]}_reset(){const k=2*this._itemsPtr;this._items.length>k&&(this._items.length=k);this._itemsPtr=0}static createVec2f64(){return new z(n.create)}static createVec3f64(){return new z(l.create)}static createVec4f64(){return new z(E.create)}static createMat3f64(){return new z(I.create)}static createMat4f64(){return new z(S.create)}static createQuatf64(){return new z(w.create)}get test(){}}
d.VectorStack=z;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],function(d){function r(){return[0,0]}function m(K){return[K[0],K[1]]}function I(K,J){return[K,J]}function S(K,J=[0,0]){const R=Math.min(2,K.length);for(let ea=0;ea<R;++ea)J[ea]=K[ea];return J}function w(K,J){return new Float64Array(K,J,2)}function n(){return[0,0]}function l(){return[1,1]}function E(){return[1,0]}function z(){return[0,1]}const k=
[0,0],t=[1,1],M=[1,0],T=[0,1],Q=Object.freeze(Object.defineProperty({__proto__:null,ONES:t,UNIT_X:M,UNIT_Y:T,ZEROS:k,clone:m,create:r,createView:w,fromArray:S,fromValues:I,ones:l,unitX:E,unitY:z,zeros:n},Symbol.toStringTag,{value:"Module"}));d.ONES=t;d.UNIT_X=M;d.UNIT_Y=T;d.ZEROS=k;d.clone=m;d.create=r;d.createView=w;d.fromArray=S;d.fromValues=I;d.ones=l;d.unitX=E;d.unitY=z;d.vec2f64=Q;d.zeros=n;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/mathUtils":function(){define(["exports",
"../../../core/mathUtils","../../../chunks/vec32","../../../core/libs/gl-matrix-2/factories/vec3f64"],function(d,r,m,I){const S=I.create(),w=I.create(),n=I.create(),l=I.create(),E=I.create();d.angle=function(z,k,t){z=m.normalize(l,z);k=m.normalize(E,k);const M=r.acosClamped(m.dot(z,k));return t&&(z=m.cross(n,z,k),0>m.dot(z,t))?-M:M};d.bilerp=function(z,k,t,M,T,Q){z+=(k-z)*T;return z+(t+(M-t)*T-z)*Q};d.cosCapped=function(z,k){return z>k?Math.cos(k):Math.cos(z)};d.fovx2fovy=function(z,k,t){return 2*
Math.atan(t*Math.tan(.5*z)/k)};d.fovy2fovx=function(z,k,t){return 2*Math.atan(k*Math.tan(.5*z)/t)};d.makeOrthonormal=function(z,k,t){t=t||z;const M=m.dot(z,k);m.set(t,z[0]-M*k[0],z[1]-M*k[1],z[2]-M*k[2]);m.normalize(t,t)};d.makePiecewiseLinearFunction=function(z){const k=z.length;return t=>{if(t<=z[0][0])return z[0][1];if(t>=z[k-1][0])return z[k-1][1];let M=1;for(;t>z[M][0];)M++;const T=z[M][0];t=(T-t)/(T-z[M-1][0]);return t*z[M-1][1]+(1-t)*z[M][1]}};d.maxScale=function(z){return Math.sqrt(Math.max(z[0]*
z[0]+z[4]*z[4]+z[8]*z[8],z[1]*z[1]+z[5]*z[5]+z[9]*z[9],z[2]*z[2]+z[6]*z[6]+z[10]*z[10]))};d.midpoint3d=function(z,k){m.set(k,0,0,0);if(0<z.length){for(let t=0;t<z.length;++t)m.add(k,k,z[t]);m.scale(k,k,1/z.length)}};d.planeFromPoints=function(z,k,t,M){m.subtract(S,k,z);m.subtract(w,t,z);m.cross(M,S,w);m.normalize(M,M);M[3]=-m.dot(z,M)};d.scaleFromMatrix=function(z,k){m.set(z,Math.sqrt(k[0]*k[0]+k[4]*k[4]+k[8]*k[8]),Math.sqrt(k[1]*k[1]+k[5]*k[5]+k[9]*k[9]),Math.sqrt(k[2]*k[2]+k[6]*k[6]+k[10]*k[10]));
return z};d.slerp=function(z,k,t,M=I.create()){const T=m.length(z);var Q=m.length(k),K=m.dot(z,k)/(T*Q);if(.9999999999999999>K){K=Math.acos(K);const J=((1-t)*T+t*Q)/Math.sin(K);Q=J/Q*Math.sin(t*K);m.scale(l,z,J/T*Math.sin((1-t)*K));m.scale(E,k,Q);return m.add(M,l,E)}return m.lerp(M,z,k,t)};d.slerpTangent=function(z,k,t,M=I.create(),T=I.create()){const Q=m.length(z),K=m.length(k);var J=m.dot(z,k)/(Q*K);if(.9999999999999999>J){J=Math.acos(J);const R=Math.sin(J),ea=Math.sin(t*J),aa=Math.sin((1-t)*J),
ha=(1-t)*Q+t*K,ca=ha/R,L=ca/K*ea;m.scale(l,z,ca/Q*aa);m.scale(E,k,L);m.add(M,l,E);m.scale(l,z,1/Q*(-Math.cos((1-t)*J)*J*ha+aa*(-Q+K)));m.scale(E,k,1/K*(Math.cos(t*J)*J*ha+ea*(-Q+K)));m.add(T,l,E);m.scale(T,T,1/R);return T}m.lerp(M,z,k,t);m.subtract(T,k,z);m.normalize(T,T);return T};d.tangentFrame=function(z,k,t){Math.abs(z[0])>Math.abs(z[1])?m.set(k,0,1,0):m.set(k,1,0,0);m.cross(t,z,k);m.cross(k,t,z);m.normalize(t,t);m.normalize(k,k)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},
"esri/views/ViewingMode":function(){define(["exports"],function(d){d.ViewingMode=void 0;(function(r){r[r.Global=1]="Global";r[r.Local=2]="Local"})(d.ViewingMode||(d.ViewingMode={}));d.stringFromViewingMode=function(r){return r===d.ViewingMode.Global?"global":"local"};d.viewingModeFromString=function(r){return"global"===r?d.ViewingMode.Global:d.ViewingMode.Local};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/dito":function(){define("exports ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/factories/quatf64 ../../../core/libs/gl-matrix-2/factories/vec2f64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../webgl-engine/lib/Attribute".split(" "),
function(d,r,m,I,S,w,n){function l(c,e,h,u,v,q){if(!(1E-6>e[0]*e[0]+e[1]*e[1]+e[2]*e[2]))for(J(sa,h,e),J(ra,u,e),J(f,v,e),E(c,e,ba),C[1]=ba[0],g[1]=ba[1],W[1]=g[1]-C[1],h=[h,u,v],u=[sa,ra,f],v=0;3>v;++v){E(c,h[v],ba);C[0]=ba[0];g[0]=ba[1];E(c,u[v],ba);C[2]=ba[0];g[2]=ba[1];W[0]=g[0]-C[0];W[2]=g[2]-C[2];const B=t(W);B<q.quality&&(K(q.b0,h[v]),K(q.b1,e),K(q.b2,u[v]),q.quality=B)}}function E(c,e,h){const {data:u,size:v}=c;h[0]=Number.POSITIVE_INFINITY;h[1]=Number.NEGATIVE_INFINITY;for(c=0;c<u.length;c+=
v){const q=u[c]*e[0]+u[c+1]*e[1]+u[c+2]*e[2];h[0]=Math.min(h[0],q);h[1]=Math.max(h[1],q)}}function z(c,e,h,u,v,q){E(c,e,ba);v[0]=ba[0];q[0]=ba[1];E(c,h,ba);v[1]=ba[0];q[1]=ba[1];E(c,u,ba);v[2]=ba[0];q[2]=ba[1]}function k(c,e,h,u,v,q,B){p[0]=c[0];p[1]=c[1];p[2]=c[2];p[3]=e[0];p[4]=e[1];p[5]=e[2];p[6]=h[0];p[7]=h[1];p[8]=h[2];var G=V,N=p,U=N[0]+N[4]+N[8];if(0<U)U=Math.sqrt(U+1),G[3]=.5*U,U=.5/U,G[0]=(N[5]-N[7])*U,G[1]=(N[6]-N[2])*U,G[2]=(N[1]-N[3])*U;else{U=0;N[4]>N[0]&&(U=1);N[8]>N[3*U+U]&&(U=2);const ja=
(U+1)%3,da=(U+2)%3;let pa=Math.sqrt(N[3*U+U]-N[3*ja+ja]-N[3*da+da]+1);G[U]=.5*pa;pa=.5/pa;G[3]=(N[3*ja+da]-N[3*da+ja])*pa;G[ja]=(N[3*ja+U]+N[3*U+ja])*pa;G[da]=(N[3*da+U]+N[3*U+da])*pa}B.quaternion=G;M(P,u,v);Q(P,P,.5);Q(Y,c,P[0]);Q(X,e,P[1]);M(Y,Y,X);Q(X,h,P[2]);B.center=S.add(Y,Y,X);B.halfSize=S.scale(P,q,.5)}function t(c){return c[0]*c[1]+c[0]*c[2]+c[1]*c[2]}function M(c,e,h){c[0]=e[0]+h[0];c[1]=e[1]+h[1];c[2]=e[2]+h[2]}function T(c,e,h){c[0]=e[0]-h[0];c[1]=e[1]-h[1];c[2]=e[2]-h[2]}function Q(c,
e,h){c[0]=e[0]*h;c[1]=e[1]*h;c[2]=e[2]*h}function K(c,e,h=0){c[0]=e[h];c[1]=e[h+1];c[2]=e[h+2]}function J(c,e,h){const u=e[0],v=e[1];e=e[2];const q=h[0],B=h[1];h=h[2];c[0]=v*h-e*B;c[1]=e*q-u*h;c[2]=u*B-v*q}function R(c,e){var h=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];0<h&&(h=1/Math.sqrt(h),c[0]=e[0]*h,c[1]=e[1]*h,c[2]=e[2]*h)}function ea(c,e){const h=e[0]-c[0],u=e[1]-c[1];c=e[2]-c[2];return h*h+u*u+c*c}const aa=w.create(),ha=w.create(),ca=w.create(),L=w.create(),O=w.create(),Z=w.create(),la=w.create(),ia=w.create(),
D=w.create(),F=w.create(),H=[0,0,0],ba=I.create(),sa=w.create(),ra=w.create(),f=w.create(),g=w.create(),C=w.create(),W=w.create(),fa=w.create(),ka=w.create(),ma=w.create(),qa=w.create(),x=w.create(),y=w.create(),A=w.create(),P=w.create(),Y=w.create(),X=w.create(),p=r.fromValues(1,0,0,0,1,0,0,0,1),V=m.create();class a{constructor(c){this.minVert=Array(7);this.maxVert=Array(7);this.buffer=new ArrayBuffer(448);var e=0;this.minProj=new Float64Array(this.buffer,e,7);e+=56;this.maxProj=new Float64Array(this.buffer,
e,7);e+=56;for(var h=0;7>h;++h)this.minVert[h]=new Float64Array(this.buffer,e,3),e+=24;for(h=0;7>h;++h)this.maxVert[h]=new Float64Array(this.buffer,e,3),e+=24;for(e=0;7>e;++e)this.minProj[e]=Number.POSITIVE_INFINITY,this.maxProj[e]=Number.NEGATIVE_INFINITY;e=Array(7);h=Array(7);const {data:u,size:v}=c;for(c=0;c<u.length;c+=v){var q=u[c];q<this.minProj[0]&&(this.minProj[0]=q,e[0]=c);q>this.maxProj[0]&&(this.maxProj[0]=q,h[0]=c);q=u[c+1];q<this.minProj[1]&&(this.minProj[1]=q,e[1]=c);q>this.maxProj[1]&&
(this.maxProj[1]=q,h[1]=c);q=u[c+2];q<this.minProj[2]&&(this.minProj[2]=q,e[2]=c);q>this.maxProj[2]&&(this.maxProj[2]=q,h[2]=c);q=u[c]+u[c+1]+u[c+2];q<this.minProj[3]&&(this.minProj[3]=q,e[3]=c);q>this.maxProj[3]&&(this.maxProj[3]=q,h[3]=c);q=u[c]+u[c+1]-u[c+2];q<this.minProj[4]&&(this.minProj[4]=q,e[4]=c);q>this.maxProj[4]&&(this.maxProj[4]=q,h[4]=c);q=u[c]-u[c+1]+u[c+2];q<this.minProj[5]&&(this.minProj[5]=q,e[5]=c);q>this.maxProj[5]&&(this.maxProj[5]=q,h[5]=c);q=u[c]-u[c+1]-u[c+2];q<this.minProj[6]&&
(this.minProj[6]=q,e[6]=c);q>this.maxProj[6]&&(this.maxProj[6]=q,h[6]=c)}for(c=0;7>c;++c)q=e[c],K(this.minVert[c],u,q),q=h[c],K(this.maxVert[c],u,q)}}class b{constructor(){this.b0=w.fromValues(1,0,0);this.b1=w.fromValues(0,1,0);this.b2=w.fromValues(0,0,1);this.quality=0}}d.computeOBB=function(c,e){const {data:h,size:u}=c;var v=h.length/u;if(!(0>=v)){var q=new a(c);M(aa,q.minProj,q.maxProj);Q(aa,aa,.5);T(ha,q.maxProj,q.minProj);var B=t(ha),G=new b;G.quality=B;14>v&&(c=new n.Vertices(new Float64Array(q.buffer,
112,42),3));var N=w.create(),U=w.create(),ja=w.create();v=w.create();var da=w.create(),pa=w.create(),oa=w.create();var na=c;var wa=ea(q.maxVert[0],q.minVert[0]),ta=0;for(var ua=1;7>ua;++ua){const ya=ea(q.maxVert[ua],q.minVert[ua]);ya>wa&&(wa=ya,ta=ua)}K(N,q.minVert[ta]);K(U,q.maxVert[ta]);if(1E-6>ea(N,U))na=1;else{T(v,N,U);R(v,v);const {data:ya,size:Aa}=na;q=Number.NEGATIVE_INFINITY;wa=0;for(ta=0;ta<ya.length;ta+=Aa)H[0]=ya[ta]-N[0],H[1]=ya[ta+1]-N[1],H[2]=ya[ta+2]-N[2],ua=v[0]*H[0]+v[1]*H[1]+v[2]*
H[2],ua=H[0]*H[0]+H[1]*H[1]+H[2]*H[2]-ua*ua/(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]),ua>q&&(q=ua,wa=ta);K(ja,ya,wa);1E-6>q?na=2:(T(da,U,ja),R(da,da),T(pa,ja,N),R(pa,pa),J(oa,da,v),R(oa,oa),l(na,oa,v,da,pa,G),na=0)}switch(na){case 1:e.center=aa;e.halfSize=S.scale(ha,ha,.5);e.quaternion=m.IDENTITY;return;case 2:B=c;K(ka,v);Math.abs(v[0])>Math.abs(v[1])&&Math.abs(v[0])>Math.abs(v[2])?ka[0]=0:Math.abs(v[1])>Math.abs(v[2])?ka[1]=0:ka[2]=0;1E-6>ka[0]*ka[0]+ka[1]*ka[1]+ka[2]*ka[2]&&(ka[0]=ka[1]=ka[2]=1);J(ma,v,ka);
R(ma,ma);J(qa,v,ma);R(qa,qa);z(B,v,ma,qa,x,y);T(A,y,x);k(v,ma,qa,x,y,A,e);return}na=c;q=ba;const {data:va,size:xa}=na;K(L,va);K(ca,L);q[0]=fa[0]*oa[0]+fa[1]*oa[1]+fa[2]*oa[2];q[1]=q[0];for(wa=xa;wa<va.length;wa+=xa)ta=va[wa]*oa[0]+va[wa+1]*oa[1]+va[wa+2]*oa[2],ta<q[0]&&(q[0]=ta,K(L,va,wa)),ta>q[1]&&(q[1]=ta,K(ca,va,wa));oa=N[0]*oa[0]+N[1]*oa[1]+N[2]*oa[2];ba[1]-1E-6<=oa&&(ca[0]=void 0);ba[0]+1E-6>=oa&&(L[0]=void 0);void 0!==ca[0]&&(T(O,ca,N),R(O,O),T(Z,ca,U),R(Z,Z),T(la,ca,ja),R(la,la),J(ia,Z,v),
R(ia,ia),J(D,la,da),R(D,D),J(F,O,pa),R(F,F),l(na,ia,v,Z,O,G),l(na,D,da,la,Z,G),l(na,F,pa,O,la,G));void 0!==L[0]&&(T(O,L,N),R(O,O),T(Z,L,U),R(Z,Z),T(la,L,ja),R(la,la),J(ia,Z,v),R(ia,ia),J(D,la,da),R(D,D),J(F,O,pa),R(F,F),l(na,ia,v,Z,O,G),l(na,D,da,la,Z,G),l(na,F,pa,O,la,G));z(c,G.b0,G.b1,G.b2,x,y);c=w.create();T(c,y,x);G.quality=t(c);G.quality<B?k(G.b0,G.b1,G.b2,x,y,c,e):(e.center=aa,e.halfSize=S.scale(ha,ha,.5),e.quaternion=m.IDENTITY)}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},
"esri/views/3d/webgl-engine/lib/Attribute":function(){define(["exports"],function(d){class r{constructor(I,S,w=S){this.data=I;this.size=S;this.stride=w}}class m extends r{constructor(I,S,w,n=!1,l=w){super(I,w,l);this.indices=S;this.exclusive=n}}d.Attribute=m;d.Vertices=r;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../../../core/arrayUtils ../../../core/typedArrayUtil ../../../core/libs/gl-matrix-2/math/quat ../../../core/libs/gl-matrix-2/factories/quatf64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f32 ../../../geometry/SpatialReference ../../../geometry/projection/projectBuffer ./i3s/PointCloudWorkerUtil ../support/orientedBoundingBox".split(" "),function(d,r,m,I,S,w,n,l,E,z){function k(Q,K,J,R,ea){if(!l.projectBuffer(Q,R,0,Q,ea,0,K))throw Error("Can't reproject");R=w.clone(J.center);
ea=w.create();const aa=w.create(),ha=w.clone(J.halfSize);m.conjugate(T,J.quaternion);const ca=new Float32Array(3*K);for(let L=0;L<K;L++){let O=3*L;ea[0]=Q[O]-R[0];ea[1]=Q[O+1]-R[1];ea[2]=Q[O+2]-R[2];S.transformQuat(aa,ea,T);ha[0]=Math.max(ha[0],Math.abs(aa[0]));ha[1]=Math.max(ha[1],Math.abs(aa[1]));ha[2]=Math.max(ha[2],Math.abs(aa[2]));ca[O++]=ea[0];ca[O++]=ea[1];ca[O]=ea[2]}J.halfSize=ha;return ca}function t(Q,K,J){if(0!==J)for(let R=0;R<K;R++)Q[3*R+2]+=J}class M{transform(Q){Q=this._transform(Q);
const K=[Q.points.buffer,Q.rgb.buffer];null!=Q.pointIdFilterMap&&K.push(Q.pointIdFilterMap.buffer);for(const J of Q.attributes)"buffer"in J.values&&r.isArrayBuffer(J.values.buffer)&&J.values.buffer!==Q.rgb.buffer&&K.push(J.values.buffer);return Promise.resolve({result:Q,transferList:K})}_transform(Q){const K=E.readGeometry(Q.schema,Q.geometryBuffer);let J=K.length/3,R=null;const ea=[];var aa=E.getAttributeValues(Q.primaryAttributeData,K,J);null!=Q.primaryAttributeData&&aa&&ea.push({attributeInfo:Q.primaryAttributeData.attributeInfo,
values:aa});var ha=E.getAttributeValues(Q.modulationAttributeData,K,J);null!=Q.modulationAttributeData&&ha&&ea.push({attributeInfo:Q.modulationAttributeData.attributeInfo,values:ha});aa=E.evaluateRenderer(Q.rendererInfo,aa,ha,J);Q.filterInfo&&0<Q.filterInfo.length&&null!=Q.filterAttributesData&&(ha=Q.filterAttributesData.filter(d.isSome).map(L=>{const O=E.getAttributeValues(L,K,J);L={attributeInfo:L.attributeInfo,values:O};ea.push(L);return L}),R=new Uint32Array(J),J=E.filterInPlace(K,aa,R,Q.filterInfo,
ha));for(var ca of Q.userAttributesData)ha=E.getAttributeValues(ca,K,J),ea.push({attributeInfo:ca.attributeInfo,values:ha});3*J<aa.length&&(aa=new Uint8Array(aa.buffer.slice(0,3*J)));t(K,J,Q.elevationOffset);ca=k(K,J,z.Obb.fromData(Q.obbData),n.fromJSON(Q.inSR),n.fromJSON(Q.outSR));return{obbData:Q.obbData,points:ca,rgb:aa,attributes:ea,pointIdFilterMap:R}}}const T=I.create();return function(){return new M}});