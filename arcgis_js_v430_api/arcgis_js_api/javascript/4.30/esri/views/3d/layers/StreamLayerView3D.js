// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("../../../chunks/tslib.es6 ../../../core/Error ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../../layers/graphics/controllers/StreamController ../../../rest/support/Query ./FeatureLikeLayerView3D ./LayerView3D ./graphics/StreamGraphics3DGraphicsPipeline ../webgl-engine/lib/UpdatePolicy ../../layers/LayerView ../../layers/StreamLayerView".split(" "),
function(b,e,f,c,a,u,v,g,h,k,l,m,n,p,q,r){a=class extends r(l.FeatureLikeLayerView3D(m.LayerView3D(q))){constructor(){super(...arguments);this.type="stream-3d";this.updatePolicy=p.UpdatePolicy.ASYNC;this.hasZ=!0;this.hasM=!1}initialize(){this.addHandles(f.watch(()=>this.suspended,d=>{this.graphicsPipeline&&this._onSuspendedChange(d)}))}get connectionError(){const d=this.graphicsPipeline?.connection?.errorString;return d?new e("stream-controller",d):null}createQuery(){return new k({outFields:["*"],
returnGeometry:!0,outSpatialReference:this.view.spatialReference})}queryLatestObservations(d,t){return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(d),t?.signal)}get _streamConnectionStatus(){return this.graphicsPipeline?.connection?.connectionStatus??"disconnected"}createGraphicsPipeline(){return new n.StreamGraphics3DGraphicsPipeline({layerView:this})}createController(){return new h.StreamController({layer:this.layer,layerView:this})}beforeSetController(){}_doPause(){this.graphicsPipeline?.pause()}_doResume(){this.graphicsPipeline?.resume()}_doDisconnect(){this.graphicsPipeline?.disconnect();
this._doPause()}_doConnect(){this.graphicsPipeline?.connect();this.resume()}_doClear(){this.graphicsPipeline?.clear()}};b.__decorate([c.property({readOnly:!0})],a.prototype,"updatePolicy",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"connectionError",null);b.__decorate([c.property()],a.prototype,"graphicsPipeline",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"hasZ",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"hasM",void 0);b.__decorate([c.property({readOnly:!0})],
a.prototype,"_streamConnectionStatus",null);return a=b.__decorate([g.subclass("esri.views.3d.layers.StreamLayerView3D")],a)});