// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../geometry/projection/projectPointToVector ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/coordsUtils ../../../../layers/graphics/dehydratedPoint ./elevationAlignmentUtils ./graphicUtils ../../webgl-engine/lib/Object3D".split(" "),function(e,p,f,q,h,k,l,r,t){function m(a,b){const c=a.clippingExtent;if(!c)return!1;f.projectPointToVector(b,d,a.elevationProvider.spatialReference);return!q.containsPoint(c,
d)}function n(a,b){f.projectPointToVector(b,d,a.renderCoordsHelper.spatialReference);return a.localOriginFactory.getOrigin(d)}const d=p.create();e.createStageObject=function(a,b,c,g,u){if(m(a,b))return null;c.localOrigin=n(a,b);c=new t.Object3D({geometries:[c],castShadow:!1,layerUid:a.layer.uid,graphicUid:u,usesVerticalDistanceToGround:!0});a=l.applyElevationAlignmentForHUD(c,b,a.elevationProvider,a.renderCoordsHelper,g);return{object:c,sampledElevation:a}};e.extendPointGraphicElevationContext=function(a,
b,c){a=a.elevationContext;c=c.spatialReference;f.projectPointToVector(b,d,c);a.centerPointInElevationSR=k.makeDehydratedPoint(d[0],d[1],b.hasZ?d[2]:0,null!=c?c:null)};e.getLocalOriginForPoint=n;e.placePointOnGeometry=function(a){switch(a.type){case "point":return a;case "polygon":case "extent":return r.computeCentroid(a);case "polyline":var b=a.paths[0];if(!b||0===b.length)break;b=h.getPointOnPath(b,h.getPathLength(b)/2);return k.makeDehydratedPoint(b[0],b[1],b[2],a.spatialReference);case "mesh":return a.origin}return null};
e.updateStageObjectGeometry=function(a,b,c,g){return m(b,c)?null:l.applyElevationAlignmentForHUD(a,c,b.elevationProvider,b.renderCoordsHelper,g)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});