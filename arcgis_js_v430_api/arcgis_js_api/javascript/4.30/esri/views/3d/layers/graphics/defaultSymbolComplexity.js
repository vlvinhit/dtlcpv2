// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/compilerUtils ../../../../symbols/support/ObjectSymbol3DLayerResource ./Graphics3DPathSymbolLayerConstants ./primitiveObjectSymbolUtils ./SymbolComplexity ../support/edgeUtils ../../webgl-engine/materials/DefaultMaterial".split(" "),function(l,n,x,p,y,e,z,A){function q(a){let b=0,c=0,f=0,h=!1,m=0;const g=new e.SymbolComplexityMemory;for(const k of a)null!=k&&(b+=k.verticesPerFeature,c+=k.verticesPerCoordinate,f+=k.drawCallsPerFeature,g.bytesPerFeature+=k.memory.bytesPerFeature,
g.bytesPerFeatureLabel+=k.memory.bytesPerFeatureLabel,g.resourceBytes+=k.memory.resourceBytes,g.draped.bytesPerFeature+=k.memory.bytesPerFeature,g.draped.bytesPerFeatureLabel+=k.memory.bytesPerFeatureLabel,h=h||k.estimated,++m);return h?new e.EstimatedAggregateSymbolComplexity(m,{verticesPerFeature:b,verticesPerCoordinate:c,drawCallsPerFeature:f,memory:g}):new e.AggregateSymbolComplexity(m,{verticesPerFeature:b,verticesPerCoordinate:c,drawCallsPerFeature:f,memory:g})}function t(a,b){const c=u(a,b);
var f=z.hasEdges(b)?2:0;switch(b.type){case "extrude":return new e.SymbolComplexity({verticesPerFeature:-12,verticesPerCoordinate:12,drawCallsPerFeature:f,memory:c});case "fill":if("mesh-3d"===a.type)return new e.SymbolComplexity({drawCallsPerFeature:f,memory:c});if(null!=b.outline&&0<b.outline.size)return new e.SymbolComplexity({verticesPerFeature:-12,verticesPerCoordinate:9,memory:c});case "water":return new e.SymbolComplexity({verticesPerFeature:-6,verticesPerCoordinate:3,memory:c});case "line":return new e.SymbolComplexity({verticesPerFeature:-6,
verticesPerCoordinate:6,memory:c});case "object":if(b.resource?.href)return new e.EstimatedSymbolComplexity({verticesPerFeature:100,memory:c});b=b.resource?.primitive??x.defaultPrimitive;(a=r[b])?b=a:(a=y.primitiveLodResources(b,new A.DefaultMaterial({})),a=v(a.levels),r[b]=new e.SymbolComplexity({verticesPerFeature:a}),b=r[b]);return{...b,memory:c};case "path":var h=a=0;switch(b.profile){case "circle":a=p.pathNumCircleProfileSubdivisions;break;case "quad":a=4;break;default:n.neverReached(b.profile);
return}switch(b.join){case "round":h=p.pathNumRoundJoinSubdivisions;break;case "miter":case "bevel":h=1;break;default:return}f=2*a;h=a*h*2;let m=-2*h-f;switch(b.cap){case "none":break;case "butt":case "square":m+=2*(a-1);break;case "round":m+=2*(a*(p.pathNumRoundCapExtrusionSubdivisions-1)*2+a);break;default:return}return new e.SymbolComplexity({verticesPerFeature:m,verticesPerCoordinate:h+f,memory:c});case "text":case "icon":return new e.SymbolComplexity({verticesPerFeature:6,memory:c})}}function u(a,
b){a="point-3d"===a.type;switch(b.type){case "extrude":return b.edges&&0<b.edges.size?d.EXTRUDE_EDGES:d.EXTRUDE;case "fill":return null!=b.outline&&0<b.outline.size?d.FILL_OUTLINE:d.FILL;case "water":return d.FILL;case "line":return"round"===b.join?d.LINE_ROUND:d.LINE_MITER;case "path":switch(b.join){case "round":switch(b.profile){case "circle":return d.PATH_ROUND_CIRCLE;case "quad":return d.PATH_ROUND_QUAD;default:n.neverReached(b.profile);return}case "miter":case "bevel":switch(b.profile){case "circle":return d.PATH_MITER_CIRCLE;
case "quad":return d.PATH_MITER_QUAD;default:n.neverReached(b.profile);return}default:return}case "object":return a?d.OBJECT_POINT:d.OBJECT_POLYGON;case "icon":case "text":return a?d.ICON_POINT:d.ICON_POLYGON}}function v(a){return a.reduce((b,c,f)=>b+1/10**f*c.numVertices,0)/a.reduce((b,c,f)=>b+1/10**f,0)}const w=new e.EstimatedSymbolComplexity({}),r={},d={ICON_POINT:{bytesPerFeature:2379.8272296852992,bytesPerFeatureLabel:852.246235,resourceBytes:0,draped:{bytesPerFeature:1868.2382921559424,bytesPerFeatureLabel:839.205415}},
ICON_POLYGON:{bytesPerFeature:2957.8429876524656,bytesPerFeatureLabel:862.5307816666666,resourceBytes:0,draped:{bytesPerFeature:2579.7767085451133,bytesPerFeatureLabel:856.9298550000001}},OBJECT_POINT:{bytesPerFeature:603.543820573039,bytesPerFeatureLabel:717.4551849999999,resourceBytes:0,draped:{bytesPerFeature:603.543820573039,bytesPerFeatureLabel:717.4551849999999}},OBJECT_POLYGON:{bytesPerFeature:1111.1693389308373,bytesPerFeatureLabel:707.4535949999998,resourceBytes:0,draped:{bytesPerFeature:1111.1693389308373,
bytesPerFeatureLabel:707.4535949999998}},LINE_MITER:{bytesPerFeature:3081.208408220661,bytesPerFeatureLabel:858.6749016666668,resourceBytes:0,draped:{bytesPerFeature:2682.57863388475,bytesPerFeatureLabel:844.6118016666666}},LINE_ROUND:{bytesPerFeature:3209.3236242927915,bytesPerFeatureLabel:858.1810416666667,resourceBytes:0,draped:{bytesPerFeature:2687.6256038096126,bytesPerFeatureLabel:849.578535}},PATH_MITER_CIRCLE:{bytesPerFeature:38708.74276663992,bytesPerFeatureLabel:858.70415,resourceBytes:0,
draped:{bytesPerFeature:38708.74276663992,bytesPerFeatureLabel:858.70415}},PATH_ROUND_CIRCLE:{bytesPerFeature:42098.00590216518,bytesPerFeatureLabel:868.3632500000001,resourceBytes:0,draped:{bytesPerFeature:42098.00590216518,bytesPerFeatureLabel:868.3632500000001}},PATH_MITER_QUAD:{bytesPerFeature:25037.823002405767,bytesPerFeatureLabel:835.93355,resourceBytes:0,draped:{bytesPerFeature:25037.823002405767,bytesPerFeatureLabel:835.93355}},PATH_ROUND_QUAD:{bytesPerFeature:40320.254760224525,bytesPerFeatureLabel:851.66955,
resourceBytes:0,draped:{bytesPerFeature:40320.254760224525,bytesPerFeatureLabel:851.66955}},FILL:{bytesPerFeature:3147.43349219103,bytesPerFeatureLabel:850.7598550000001,resourceBytes:0,draped:{bytesPerFeature:2673.7898488975106,bytesPerFeatureLabel:846.6459950000002}},FILL_OUTLINE:{bytesPerFeature:4565.099993465867,bytesPerFeatureLabel:855.334515,resourceBytes:0,draped:{bytesPerFeature:3904.46969705314,bytesPerFeatureLabel:844.7081016666667}},EXTRUDE:{bytesPerFeature:7551.2282834569505,bytesPerFeatureLabel:849.5513283333333,
resourceBytes:0,draped:{bytesPerFeature:7551.2282834569505,bytesPerFeatureLabel:849.5513283333333}},EXTRUDE_EDGES:{bytesPerFeature:2959.8379634500698,bytesPerFeatureLabel:602.0969283333335,resourceBytes:0,draped:{bytesPerFeature:2959.8379634500698,bytesPerFeatureLabel:602.0969283333335}}};l.averageSymbolComplexities=function(a){a=q(a);0<a.numComplexities&&(a.verticesPerFeature/=a.numComplexities,a.verticesPerCoordinate/=a.numComplexities,a.drawCallsPerFeature/=a.numComplexities,a.memory.bytesPerFeature/=
a.numComplexities,a.memory.bytesPerFeatureLabel/=a.numComplexities,a.memory.resourceBytes/=a.numComplexities,a.memory.draped.bytesPerFeature/=a.numComplexities,a.memory.draped.bytesPerFeatureLabel/=a.numComplexities);return a};l.defaultSymbolComplexity=function(a){if("web-style"===a.type)return w;const b=a.symbolLayers.toArray().map(c=>t(a,c));return q(b)};l.defaultSymbolLayerComplexity=t;l.defaultSymbolLayerMemoryComplexity=u;l.emptySymbolComplexity=w;l.estimateNumVerticesForLods=v;l.memoryEstimators=
d;l.totalSymbolComplexities=q;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});