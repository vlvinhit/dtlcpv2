// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/tslib.es6 ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../ViewingMode ../core/shaderLibrary/ShaderOutput ../core/shaderLibrary/attributes/PathVertexPosition.glsl ../core/shaderLibrary/shading/Normals.glsl ../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/OrderIndependentTransparency ../lib/Program ../lib/StencilUtils ../lib/TransparencyPassType ../lib/VertexAttribute ./DefaultTechniqueConfiguration ../../../../chunks/Path.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),
function(w,g,b,k,x,l,y,p,z,A,B,c,h,C,t,m,f,D,E,F,n){const u=new Map([[f.VertexAttribute.POSITION,0],[f.VertexAttribute.PROFILERIGHT,1],[f.VertexAttribute.PROFILEUP,2],[f.VertexAttribute.PROFILEVERTEXANDNORMAL,3],[f.VertexAttribute.FEATUREVALUE,4],[f.VertexAttribute.OBJECTANDLAYERIDCOLOR,5]]);class G extends y.PathVertexPositionPassParameters{constructor(){super(...arguments);this.ambient=k.fromValues(.2,.2,.2);this.diffuse=k.fromValues(.8,.8,.8);this.specular=k.fromValues(0,0,0);this.opacity=1;this.origin=
k.create();this.modelTransformation=null}}class q extends B.ShaderTechnique{initializeConfiguration(e,d){d.spherical=e.viewingMode===x.ViewingMode.Global;d.doublePrecisionRequiresObfuscation=e.rctx.driverTest.doublePrecisionRequiresObfuscation.result}initializeProgram(e){return new C.Program(e.rctx,q.shader.get().build(this.configuration),u)}initializePipeline(){const e=this.configuration.transparencyPassType,d=this.configuration,r=e===m.TransparencyPassType.NONE,v=e===m.TransparencyPassType.FrontFace;
return n.makePipelineState({blending:d.output===l.ShaderOutput.Color&&d.transparent?r?h.blendingDefault:h.oitBlending(e):null,culling:d.hasSlicePlane&&!d.transparent&&d.doubleSidedMode!==p.NormalsDoubleSidedMode.None?n.frontFaceCullingParams:null,depthTest:{func:h.oitDepthTest(e)},depthWrite:r||v?n.defaultDepthWriteParams:null,drawBuffers:d.output===l.ShaderOutput.Depth?{buffers:[F.SpecialDrawBuffers.NONE]}:h.oitDrawBuffers(e),colorWrite:n.defaultColorWriteParams,stencilWrite:d.hasOccludees?t.stencilWriteMaskOn:
null,stencilTest:d.hasOccludees?t.stencilBaseAllZerosParams:null,polygonOffset:r||v?null:h.OITPolygonOffset})}}q.shader=new A.ReloadableShaderModule(E.Path,()=>new Promise((e,d)=>w(["../shaders/Path.glsl"],e,d)));class a extends D.DefaultTechniqueConfiguration{constructor(){super(...arguments);this.output=l.ShaderOutput.Color;this.doubleSidedMode=p.NormalsDoubleSidedMode.None;this.transparencyPassType=m.TransparencyPassType.NONE;this.objectAndLayerIdColorInstanced=this.doublePrecisionRequiresObfuscation=
this.cullAboveGround=this.multipassEnabled=this.hasOccludees=this.transparent=this.hasSlicePlane=this.vvOpacity=this.vvColor=this.vvSize=this.receiveAmbientOcclusion=this.receiveShadows=this.spherical=!1}}b.__decorate([c.parameter({count:l.ShaderOutput.COUNT})],a.prototype,"output",void 0);b.__decorate([c.parameter({count:p.NormalsDoubleSidedMode.COUNT})],a.prototype,"doubleSidedMode",void 0);b.__decorate([c.parameter({count:m.TransparencyPassType.COUNT})],a.prototype,"transparencyPassType",void 0);
b.__decorate([c.parameter()],a.prototype,"spherical",void 0);b.__decorate([c.parameter()],a.prototype,"receiveShadows",void 0);b.__decorate([c.parameter()],a.prototype,"receiveAmbientOcclusion",void 0);b.__decorate([c.parameter()],a.prototype,"vvSize",void 0);b.__decorate([c.parameter()],a.prototype,"vvColor",void 0);b.__decorate([c.parameter()],a.prototype,"vvOpacity",void 0);b.__decorate([c.parameter()],a.prototype,"hasSlicePlane",void 0);b.__decorate([c.parameter()],a.prototype,"transparent",void 0);
b.__decorate([c.parameter()],a.prototype,"hasOccludees",void 0);b.__decorate([c.parameter()],a.prototype,"multipassEnabled",void 0);b.__decorate([c.parameter()],a.prototype,"cullAboveGround",void 0);b.__decorate([c.parameter()],a.prototype,"doublePrecisionRequiresObfuscation",void 0);b.__decorate([c.parameter({constValue:!1})],a.prototype,"occlusionPass",void 0);b.__decorate([c.parameter({constValue:z.PBRMode.Disabled})],a.prototype,"pbrMode",void 0);b.__decorate([c.parameter({constValue:!0})],a.prototype,
"hasVvInstancing",void 0);b.__decorate([c.parameter({constValue:!1})],a.prototype,"useCustomDTRExponentForWater",void 0);b.__decorate([c.parameter({constValue:!1})],a.prototype,"useFillLights",void 0);b.__decorate([c.parameter({constValue:!1})],a.prototype,"hasColorTexture",void 0);g.PathPassParameters=G;g.PathTechnique=q;g.PathTechniqueConfiguration=a;g.vertexAttributeLocations=u;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});