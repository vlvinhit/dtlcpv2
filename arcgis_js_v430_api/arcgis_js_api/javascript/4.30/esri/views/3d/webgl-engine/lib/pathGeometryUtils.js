// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/vec32 ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../geometry/support/plane ../../../../geometry/support/ray ./GeometryUtil".split(" "),function(u,c,k,r,x,v){const y=k.create();u.computeMinimumRotationTangentFrame=function(n,d){let l=null;const z=n.vertices.length,p=k.create(),f=k.create(),m=k.create(),g=k.create(),a=k.create(),q=k.create(),w=r.create();let b=n.vertices[0];c.copy(f,d);c.set(p,0,1,0);v.makeOrthoBasisDirUpFallback(b.vRight,f,p,p,m,
f,.99619469809);c.copy(b.frame.up,f);c.copy(b.frame.right,m);d=n.positions;let e=n.offset;l=b;for(let t=1;t<z;++t){b=n.vertices[t];c.add(a,b.vLeft,b.vRight);var h=c.length(a);0<h?(h=1/Math.sqrt(h),a[0]*=h,a[1]*=h,a[2]*=h):(a[0]=b.vRight[0],a[1]=b.vRight[1],a[2]=b.vRight[2]);q[0]=d[e]+l.frame.up[0];q[1]=d[e+1]+l.frame.up[1];q[2]=d[e+2]+l.frame.up[2];e+=3;h=c.set(y,d[e],d[e+1],d[e+2]);r.fromPositionAndNormal(h,a,w);r.intersectRay(w,x.wrap(q,b.vLeft),g)?(g[0]-=d[e],g[1]-=d[e+1],g[2]-=d[e+2],c.normalize(f,
g),c.cross(m,a,f),c.normalize(m,m)):v.makeOrthoBasisDirUpFallback(a,l.frame.up,l.frame.right,p,m,f,.99619469809);c.copy(b.frame.up,f);c.copy(b.frame.right,m);l=b}};Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})});