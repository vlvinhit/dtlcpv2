// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/libs/gl-matrix-2/factories/vec4f64 ../core/shaderLibrary/ShaderOutput ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/DefaultVertexAttributeLocations ../lib/OrderIndependentTransparency ../lib/Program ../lib/StencilUtils ../lib/TransparencyPassType ../materials/VisualVariablePassParameters ../../../../chunks/ColorMaterial.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),function(p,e,q,l,r,t,u,c,
v,f,m,w,x,y,d){class z extends w.VisualVariablePassParameters{constructor(){super(...arguments);this.color=q.ZEROS}}class g extends t.ShaderTechnique{initializeProgram(a){return new v.Program(a.rctx,g.shader.get().build(this.configuration),u.Default3D)}_createPipeline(a,h){const b=this.configuration,k=a===m.TransparencyPassType.NONE,n=a===m.TransparencyPassType.FrontFace;return d.makePipelineState({blending:b.output===l.ShaderOutput.Color&&b.transparent?k?c.blendingDefault:c.oitBlending(a):null,culling:d.cullingParams(b.cullFace),
depthTest:b.draped?null:{func:c.oitDepthTest(a)},depthWrite:b.draped?null:k||n?b.writeDepth?d.defaultDepthWriteParams:null:null,drawBuffers:b.output===l.ShaderOutput.Depth?{buffers:[y.SpecialDrawBuffers.NONE]}:c.oitDrawBuffers(a),colorWrite:d.defaultColorWriteParams,stencilWrite:b.hasOccludees?f.stencilWriteMaskOn:null,stencilTest:b.hasOccludees?h?f.stencilToolMaskBaseParams:f.stencilBaseAllZerosParams:null,polygonOffset:k||n?b.polygonOffset?A:null:c.getOITPolygonOffset(b.enableOffset)})}initializePipeline(){this._occludeePipelineState=
this._createPipeline(this.configuration.transparencyPassType,!0);return this._createPipeline(this.configuration.transparencyPassType,!1)}getPipeline(a){return a?this._occludeePipelineState:super.getPipeline()}}g.shader=new r.ReloadableShaderModule(x.ColorMaterial,()=>new Promise((a,h)=>p(["./ColorMaterial.glsl"],a,h)));const A={factor:1,units:1};e.ColorMaterialPassParameters=z;e.ColorMaterialTechnique=g;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});