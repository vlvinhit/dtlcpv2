// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/3d/support/buffer/workerHelper":function(){define(["exports","./InterleavedLayout"],function(h,g){h.packInterleavedBuffer=function(n,b){b.push(n.buffer);return{buffer:n.buffer,layout:new g.PackedLayout(n.layout)}};h.unpackInterleavedBuffer=function(n){return(new g.InterleavedLayout(n.layout)).createView(n.buffer)};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["exports","../../../../geometry/support/buffer/BufferView",
"../../../../geometry/support/buffer/types","../../webgl-engine/lib/Util"],function(h,g,n,b){class f{constructor(c,d){this.layout=c;this.buffer="number"===typeof d?new ArrayBuffer(d*c.stride):d;for(const k of c.fields.keys())d=c.fields.get(k),this[k]=new d.constructor(this.buffer,d.offset,this.stride)}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(c,d){return(c=this[c])&&c.elementCount===d.ElementCount&&
c.elementType===d.ElementType?c:null}slice(c,d){return new f(this.layout,this.buffer.slice(c*this.stride,d*this.stride))}copyFrom(c,d=0,k=0,t=c.count){const x=this.stride;0===x%4?(c=new Uint32Array(c.buffer,d*x,t*x/4),(new Uint32Array(this.buffer,k*x,t*x/4)).set(c)):(c=new Uint8Array(c.buffer,d*x,t*x),(new Uint8Array(this.buffer,k*x,t*x)).set(c));return this}get usedMemory(){return this.byteLength}dispose(){}}class q{constructor(c=null){this._lastAligned=this._stride=0;this._fields=new Map;c&&(this._stride=
c.stride,c.fields.forEach(d=>this._fields.set(d[0],{...d[1],constructor:u.get(d[1].constructor)})))}freeze(){return this}vec2f(c,d){this._appendField(c,g.BufferViewVec2f,d);return this}vec2f64(c,d){this._appendField(c,g.BufferViewVec2f64,d);return this}vec3f(c,d){this._appendField(c,g.BufferViewVec3f,d);return this}vec3f64(c,d){this._appendField(c,g.BufferViewVec3f64,d);return this}vec4f(c,d){this._appendField(c,g.BufferViewVec4f,d);return this}vec4f64(c,d){this._appendField(c,g.BufferViewVec4f64,
d);return this}mat3f(c,d){this._appendField(c,g.BufferViewMat3f,d);return this}mat3f64(c,d){this._appendField(c,g.BufferViewMat3f64,d);return this}mat4f(c,d){this._appendField(c,g.BufferViewMat4f,d);return this}mat4f64(c,d){this._appendField(c,g.BufferViewMat4f64,d);return this}vec4u8(c,d){this._appendField(c,g.BufferViewVec4u8,d);return this}f32(c,d){this._appendField(c,g.BufferViewFloat,d);return this}f64(c,d){this._appendField(c,g.BufferViewFloat64,d);return this}u8(c,d){this._appendField(c,g.BufferViewUint8,
d);return this}u16(c,d){this._appendField(c,g.BufferViewUint16,d);return this}i8(c,d){this._appendField(c,g.BufferViewInt8,d);return this}vec2i8(c,d){this._appendField(c,g.BufferViewVec2i8,d);return this}vec2i16(c,d){this._appendField(c,g.BufferViewVec2i16,d);return this}vec2u8(c,d){this._appendField(c,g.BufferViewVec2u8,d);return this}vec4u16(c,d){this._appendField(c,g.BufferViewVec4u16,d);return this}u32(c,d){this._appendField(c,g.BufferViewUint32,d);return this}_appendField(c,d,k){if(this._fields.has(c))b.assert(!1,
`${c} already added to vertex buffer layout`);else{var t=d.ElementCount*n.elementTypeSize(d.ElementType),x=this._stride;this._stride+=t;this._fields.set(c,{size:t,constructor:d,offset:x,optional:k})}}createBuffer(c){return new f(this,c)}createView(c){return new f(this,c)}clone(){const c=new q;c._stride=this._stride;c._fields=new Map;this._fields.forEach((d,k)=>c._fields.set(k,d));c.BufferType=this.BufferType;return c}get stride(){if(this._lastAligned!==this._fields.size){let c=1;this._fields.forEach(d=>
c=Math.max(c,n.elementTypeSize(d.constructor.ElementType)));this._stride=Math.floor((this._stride+c-1)/c)*c;this._lastAligned=this._fields.size}return this._stride}get fields(){return this._fields}}class r{constructor(c){this.fields=[];c.fields.forEach((d,k)=>{var t=d.constructor;this.fields.push([k,{...d,constructor:`${t.ElementType}_${t.ElementCount}`}])});this.stride=c.stride}}const l=[g.BufferViewFloat,g.BufferViewVec2f,g.BufferViewVec3f,g.BufferViewVec4f,g.BufferViewMat3f,g.BufferViewMat4f,g.BufferViewFloat64,
g.BufferViewVec2f64,g.BufferViewVec3f64,g.BufferViewVec4f64,g.BufferViewMat3f64,g.BufferViewMat4f64,g.BufferViewUint8,g.BufferViewVec2u8,g.BufferViewVec3u8,g.BufferViewVec4u8,g.BufferViewUint16,g.BufferViewVec2u16,g.BufferViewVec3u16,g.BufferViewVec4u16,g.BufferViewUint32,g.BufferViewVec2u32,g.BufferViewVec3u32,g.BufferViewVec4u32,g.BufferViewInt8,g.BufferViewVec2i8,g.BufferViewVec3i8,g.BufferViewVec4i8,g.BufferViewInt16,g.BufferViewVec2i16,g.BufferViewVec3i16,g.BufferViewVec4i16,g.BufferViewInt32,
g.BufferViewVec2i32,g.BufferViewVec3i32,g.BufferViewVec4i32],u=new Map;l.forEach(c=>u.set(`${c.ElementType}_${c.ElementCount}`,c));h.InterleavedBuffer=f;h.InterleavedLayout=q;h.PackedLayout=r;h.newLayout=function(){return new q};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),function(h,g,n,b,f,q,r){class l extends b.BufferViewScalarImpl{constructor(a,
e=0,z,A){super(Float32Array,a,e,z,A);this.elementType="f32"}static fromTypedArray(a,e){return new l(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}l.ElementType="f32";class u extends f.BufferViewVec2Impl{constructor(a,e=0,z,A){super(Float32Array,a,e,z,A);this.elementType="f32"}slice(a,e){return this.sliceBuffer(u,a,e)}static fromTypedArray(a,e){return new u(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}u.ElementType="f32";class c extends q.BufferViewVec3Impl{constructor(a,e=0,z,A){super(Float32Array,
a,e,z,A);this.elementType="f32"}slice(a,e){return this.sliceBuffer(c,a,e)}static fromTypedArray(a,e){return new c(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}c.ElementType="f32";class d extends r.BufferViewVec4Impl{constructor(a,e=0,z,A){super(Float32Array,a,e,z,A);this.elementType="f32"}slice(a,e){return this.sliceBuffer(d,a,e)}static fromTypedArray(a,e){return new d(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}d.ElementType="f32";class k extends g.BufferViewMat3Impl{constructor(a,
e=0,z,A){super(Float32Array,a,e,z,A);this.elementType="f32"}slice(a,e){return this.sliceBuffer(k,a,e)}static fromTypedArray(a,e){return new k(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}k.ElementType="f32";class t extends g.BufferViewMat3Impl{constructor(a,e=0,z,A){super(Float64Array,a,e,z,A);this.elementType="f64"}slice(a,e){return this.sliceBuffer(t,a,e)}static fromTypedArray(a,e){return new t(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}t.ElementType="f64";class x extends n.BufferViewMat4Impl{constructor(a,
e=0,z,A){super(Float32Array,a,e,z,A);this.elementType="f32"}slice(a,e){return this.sliceBuffer(x,a,e)}static fromTypedArray(a,e){return new x(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}x.ElementType="f32";class D extends n.BufferViewMat4Impl{constructor(a,e=0,z,A){super(Float64Array,a,e,z,A);this.elementType="f64"}slice(a,e){return this.sliceBuffer(D,a,e)}static fromTypedArray(a,e){return new D(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}D.ElementType="f64";class w extends b.BufferViewScalarImpl{constructor(a,
e=0,z,A){super(Float64Array,a,e,z,A);this.elementType="f64"}slice(a,e){return this.sliceBuffer(w,a,e)}static fromTypedArray(a,e){return new w(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}w.ElementType="f64";class C extends f.BufferViewVec2Impl{constructor(a,e=0,z,A){super(Float64Array,a,e,z,A);this.elementType="f64"}slice(a,e){return this.sliceBuffer(C,a,e)}static fromTypedArray(a,e){return new C(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}C.ElementType="f64";class E extends q.BufferViewVec3Impl{constructor(a,
e=0,z,A){super(Float64Array,a,e,z,A);this.elementType="f64"}slice(a,e){return this.sliceBuffer(E,a,e)}static fromTypedArray(a,e){return new E(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}E.ElementType="f64";class y extends r.BufferViewVec4Impl{constructor(a,e=0,z,A){super(Float64Array,a,e,z,A);this.elementType="f64"}slice(a,e){return this.sliceBuffer(y,a,e)}static fromTypedArray(a,e){return new y(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}y.ElementType="f64";class G extends b.BufferViewScalarImpl{constructor(a,
e=0,z,A){super(Uint8Array,a,e,z,A);this.elementType="u8"}slice(a,e){return this.sliceBuffer(G,a,e)}static fromTypedArray(a,e){return new G(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}G.ElementType="u8";class B extends f.BufferViewVec2Impl{constructor(a,e=0,z,A){super(Uint8Array,a,e,z,A);this.elementType="u8"}slice(a,e){return this.sliceBuffer(B,a,e)}static fromTypedArray(a,e){return new B(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}B.ElementType="u8";class N extends q.BufferViewVec3Impl{constructor(a,
e=0,z,A){super(Uint8Array,a,e,z,A);this.elementType="u8"}slice(a,e){return this.sliceBuffer(N,a,e)}static fromTypedArray(a,e){return new N(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}N.ElementType="u8";class I extends r.BufferViewVec4Impl{constructor(a,e=0,z,A){super(Uint8Array,a,e,z,A);this.elementType="u8"}slice(a,e){return this.sliceBuffer(I,a,e)}static fromTypedArray(a,e){return new I(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}I.ElementType="u8";class H extends b.BufferViewScalarImpl{constructor(a,
e=0,z,A){super(Uint16Array,a,e,z,A);this.elementType="u16"}slice(a,e){return this.sliceBuffer(H,a,e)}static fromTypedArray(a,e){return new H(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}H.ElementType="u16";class J extends f.BufferViewVec2Impl{constructor(a,e=0,z,A){super(Uint16Array,a,e,z,A);this.elementType="u16"}slice(a,e){return this.sliceBuffer(J,a,e)}static fromTypedArray(a,e){return new J(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}J.ElementType="u16";class M extends q.BufferViewVec3Impl{constructor(a,
e=0,z,A){super(Uint16Array,a,e,z,A);this.elementType="u16"}slice(a,e){return this.sliceBuffer(M,a,e)}static fromTypedArray(a,e){return new M(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}M.ElementType="u16";class S extends r.BufferViewVec4Impl{constructor(a,e=0,z,A){super(Uint16Array,a,e,z,A);this.elementType="u16"}slice(a,e){return this.sliceBuffer(S,a,e)}static fromTypedArray(a,e){return new S(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}S.ElementType="u16";class Q extends b.BufferViewScalarImpl{constructor(a,
e=0,z,A){super(Uint32Array,a,e,z,A);this.elementType="u32"}slice(a,e){return this.sliceBuffer(Q,a,e)}static fromTypedArray(a,e){return new Q(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}Q.ElementType="u32";class R extends f.BufferViewVec2Impl{constructor(a,e=0,z,A){super(Uint32Array,a,e,z,A);this.elementType="u32"}slice(a,e){return this.sliceBuffer(R,a,e)}static fromTypedArray(a,e){return new R(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}R.ElementType="u32";class O extends q.BufferViewVec3Impl{constructor(a,
e=0,z,A){super(Uint32Array,a,e,z,A);this.elementType="u32"}slice(a,e){return this.sliceBuffer(O,a,e)}static fromTypedArray(a,e){return new O(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}O.ElementType="u32";class P extends r.BufferViewVec4Impl{constructor(a,e=0,z,A){super(Uint32Array,a,e,z,A);this.elementType="u32"}slice(a,e){return this.sliceBuffer(P,a,e)}static fromTypedArray(a,e){return new P(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}P.ElementType="u32";class U extends b.BufferViewScalarImpl{constructor(a,
e=0,z,A){super(Int8Array,a,e,z,A);this.elementType="i8"}slice(a,e){return this.sliceBuffer(U,a,e)}static fromTypedArray(a,e){return new U(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}U.ElementType="i8";class V extends f.BufferViewVec2Impl{constructor(a,e=0,z,A){super(Int8Array,a,e,z,A);this.elementType="i8"}slice(a,e){return this.sliceBuffer(V,a,e)}static fromTypedArray(a,e){return new V(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}V.ElementType="i8";class T extends q.BufferViewVec3Impl{constructor(a,
e=0,z,A){super(Int8Array,a,e,z,A);this.elementType="i8"}slice(a,e){return this.sliceBuffer(T,a,e)}static fromTypedArray(a,e){return new T(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}T.ElementType="i8";class W extends r.BufferViewVec4Impl{constructor(a,e=0,z,A){super(Int8Array,a,e,z,A);this.elementType="i8"}slice(a,e){return this.sliceBuffer(W,a,e)}static fromTypedArray(a,e){return new W(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}W.ElementType="i8";class X extends b.BufferViewScalarImpl{constructor(a,
e=0,z,A){super(Int16Array,a,e,z,A);this.elementType="i16"}slice(a,e){return this.sliceBuffer(X,a,e)}static fromTypedArray(a,e){return new X(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}X.ElementType="i16";class Y extends f.BufferViewVec2Impl{constructor(a,e=0,z,A){super(Int16Array,a,e,z,A);this.elementType="i16"}slice(a,e){return this.sliceBuffer(Y,a,e)}static fromTypedArray(a,e){return new Y(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}Y.ElementType="i16";class m extends q.BufferViewVec3Impl{constructor(a,
e=0,z,A){super(Int16Array,a,e,z,A);this.elementType="i16"}slice(a,e){return this.sliceBuffer(m,a,e)}static fromTypedArray(a,e){return new m(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}m.ElementType="i16";class p extends r.BufferViewVec4Impl{constructor(a,e=0,z,A){super(Int16Array,a,e,z,A);this.elementType="i16"}slice(a,e){return this.sliceBuffer(p,a,e)}static fromTypedArray(a,e){return new p(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}p.ElementType="i16";class v extends b.BufferViewScalarImpl{constructor(a,
e=0,z,A){super(Int32Array,a,e,z,A);this.elementType="i32"}slice(a,e){return this.sliceBuffer(v,a,e)}static fromTypedArray(a,e){return new v(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}v.ElementType="i32";class F extends f.BufferViewVec2Impl{constructor(a,e=0,z,A){super(Int32Array,a,e,z,A);this.elementType="i32"}slice(a,e){return this.sliceBuffer(F,a,e)}static fromTypedArray(a,e){return new F(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}F.ElementType="i32";class K extends q.BufferViewVec3Impl{constructor(a,
e=0,z,A){super(Int32Array,a,e,z,A);this.elementType="i32"}slice(a,e){return this.sliceBuffer(K,a,e)}static fromTypedArray(a,e){return new K(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}K.ElementType="i32";class L extends r.BufferViewVec4Impl{constructor(a,e=0,z,A){super(Int32Array,a,e,z,A);this.elementType="i32"}slice(a,e){return this.sliceBuffer(L,a,e)}static fromTypedArray(a,e){return new L(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}L.ElementType="i32";h.BufferViewFloat=l;h.BufferViewFloat64=
w;h.BufferViewInt16=X;h.BufferViewInt32=v;h.BufferViewInt8=U;h.BufferViewMat3f=k;h.BufferViewMat3f64=t;h.BufferViewMat4f=x;h.BufferViewMat4f64=D;h.BufferViewUint16=H;h.BufferViewUint32=Q;h.BufferViewUint8=G;h.BufferViewVec2f=u;h.BufferViewVec2f64=C;h.BufferViewVec2i16=Y;h.BufferViewVec2i32=F;h.BufferViewVec2i8=V;h.BufferViewVec2u16=J;h.BufferViewVec2u32=R;h.BufferViewVec2u8=B;h.BufferViewVec3f=c;h.BufferViewVec3f64=E;h.BufferViewVec3i16=m;h.BufferViewVec3i32=K;h.BufferViewVec3i8=T;h.BufferViewVec3u16=
M;h.BufferViewVec3u32=O;h.BufferViewVec3u8=N;h.BufferViewVec4f=d;h.BufferViewVec4f64=y;h.BufferViewVec4i16=p;h.BufferViewVec4i32=L;h.BufferViewVec4i8=W;h.BufferViewVec4u16=S;h.BufferViewVec4u32=P;h.BufferViewVec4u8=I;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports"],function(h){class g{constructor(n,b,f=0,q,r){this.TypedArrayConstructor=n;this.elementCount=9;n=this.TypedArrayConstructor;void 0===q&&(q=9*n.BYTES_PER_ELEMENT);
const l=0===b.byteLength?0:f;this.typedBuffer=null==r?new n(b,l):new n(b,l,(r-f)/n.BYTES_PER_ELEMENT);this.typedBufferStride=q/n.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(n,b,f=this.count-b){b=this.typedBuffer.byteOffset+b*this.stride;return new n(this.buffer,b,this.stride,b+f*this.stride)}getMat(n,b){n*=this.typedBufferStride;for(let f=0;9>f;f++)b[f]=this.typedBuffer[n++];
return b}setMat(n,b){n*=this.typedBufferStride;for(let f=0;9>f;f++)this.typedBuffer[n++]=b[f]}get(n,b){return this.typedBuffer[n*this.typedBufferStride+b]}set(n,b,f){this.typedBuffer[n*this.typedBufferStride+b]=f}copyFrom(n,b,f){const q=this.typedBuffer,r=b.typedBuffer;n*=this.typedBufferStride;b=f*b.typedBufferStride;for(f=0;9>f;++f)q[n++]=r[b++]}get buffer(){return this.typedBuffer.buffer}}g.ElementCount=9;h.BufferViewMat3Impl=g;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports"],
function(h){class g{constructor(n,b,f=0,q,r){this.TypedArrayConstructor=n;this.elementCount=16;n=this.TypedArrayConstructor;void 0===q&&(q=16*n.BYTES_PER_ELEMENT);const l=0===b.byteLength?0:f;this.typedBuffer=null==r?new n(b,l):new n(b,l,(r-f)/n.BYTES_PER_ELEMENT);this.typedBufferStride=q/n.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(n,b,f=this.count-b){b=this.typedBuffer.byteOffset+
b*this.stride;return new n(this.buffer,b,this.stride,b+f*this.stride)}getMat(n,b){n*=this.typedBufferStride;for(let f=0;16>f;f++)b[f]=this.typedBuffer[n++];return b}setMat(n,b){n*=this.typedBufferStride;for(let f=0;16>f;f++)this.typedBuffer[n++]=b[f]}get(n,b){return this.typedBuffer[n*this.typedBufferStride+b]}set(n,b,f){this.typedBuffer[n*this.typedBufferStride+b]=f}copyFrom(n,b,f){const q=this.typedBuffer,r=b.typedBuffer;n*=this.typedBufferStride;b=f*b.typedBufferStride;for(f=0;16>f;++f)q[n++]=
r[b++]}get buffer(){return this.typedBuffer.buffer}}g.ElementCount=16;h.BufferViewMat4Impl=g;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports"],function(h){class g{constructor(n,b,f=0,q,r){this.TypedArrayConstructor=n;this.elementCount=1;n=this.TypedArrayConstructor;void 0===q&&(q=n.BYTES_PER_ELEMENT);const l=0===b.byteLength?0:f;this.typedBuffer=null==r?new n(b,l):new n(b,l,(r-f)/n.BYTES_PER_ELEMENT);this.stride=
q;this.typedBufferStride=q/n.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(n,b,f=this.count-b){b=this.typedBuffer.byteOffset+b*this.stride;return new n(this.buffer,b,this.stride,b+f*this.stride)}get(n){return this.typedBuffer[n*this.typedBufferStride]}set(n,b){this.typedBuffer[n*this.typedBufferStride]=b}get buffer(){return this.typedBuffer.buffer}}g.ElementCount=1;h.BufferViewScalarImpl=g;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../core/libs/gl-matrix-2/math/vec2"],function(h,g){class n{constructor(b,f,q=0,r,l){this.TypedArrayConstructor=b;this.elementCount=2;b=this.TypedArrayConstructor;void 0===r&&(r=2*b.BYTES_PER_ELEMENT);const u=0===f.byteLength?0:q;this.typedBuffer=null==l?new b(f,u):new b(f,u,(l-q)/b.BYTES_PER_ELEMENT);this.typedBufferStride=r/b.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);
this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(b,f,q=this.count-f){f=this.typedBuffer.byteOffset+f*this.stride;return new b(this.buffer,f,this.stride,f+q*this.stride)}getVec(b,f){b*=this.typedBufferStride;return g.set(f,this.typedBuffer[b],this.typedBuffer[b+1])}setVec(b,f){b*=this.typedBufferStride;this.typedBuffer[b++]=f[0];this.typedBuffer[b]=f[1]}get(b,f){return this.typedBuffer[b*this.typedBufferStride+f]}set(b,f,q){this.typedBuffer[b*this.typedBufferStride+
f]=q}setValues(b,f,q){b*=this.typedBufferStride;this.typedBuffer[b++]=f;this.typedBuffer[b]=q}copyFrom(b,f,q){const r=this.typedBuffer,l=f.typedBuffer;b*=this.typedBufferStride;f=q*f.typedBufferStride;r[b++]=l[f++];r[b]=l[f]}get buffer(){return this.typedBuffer.buffer}}n.ElementCount=2;h.BufferViewVec2Impl=n;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["exports","./common"],function(h,g){function n(m,p){m[0]=p[0];m[1]=p[1];
return m}function b(m,p,v){m[0]=p;m[1]=v;return m}function f(m,p,v){m[0]=p[0]+v[0];m[1]=p[1]+v[1];return m}function q(m,p,v){m[0]=p[0]-v[0];m[1]=p[1]-v[1];return m}function r(m,p,v){m[0]=p[0]*v[0];m[1]=p[1]*v[1];return m}function l(m,p,v){m[0]=p[0]/v[0];m[1]=p[1]/v[1];return m}function u(m,p){m[0]=Math.ceil(p[0]);m[1]=Math.ceil(p[1]);return m}function c(m,p){m[0]=Math.floor(p[0]);m[1]=Math.floor(p[1]);return m}function d(m,p,v){m[0]=Math.min(p[0],v[0]);m[1]=Math.min(p[1],v[1]);return m}function k(m,
p,v){m[0]=Math.max(p[0],v[0]);m[1]=Math.max(p[1],v[1]);return m}function t(m,p){m[0]=Math.round(p[0]);m[1]=Math.round(p[1]);return m}function x(m,p,v){m[0]=p[0]*v;m[1]=p[1]*v;return m}function D(m,p,v,F){m[0]=p[0]+v[0]*F;m[1]=p[1]+v[1]*F;return m}function w(m,p){const v=p[0]-m[0];m=p[1]-m[1];return Math.sqrt(v*v+m*m)}function C(m,p){const v=p[0]-m[0];m=p[1]-m[1];return v*v+m*m}function E(m){const p=m[0];m=m[1];return Math.sqrt(p*p+m*m)}function y(m){const p=m[0];m=m[1];return p*p+m*m}function G(m,
p){m[0]=-p[0];m[1]=-p[1];return m}function B(m,p){m[0]=1/p[0];m[1]=1/p[1];return m}function N(m,p){var v=p[0];const F=p[1];v=v*v+F*F;0<v&&(v=1/Math.sqrt(v),m[0]=p[0]*v,m[1]=p[1]*v);return m}function I(m,p){return m[0]*p[0]+m[1]*p[1]}function H(m,p,v){p=p[0]*v[1]-p[1]*v[0];m[0]=m[1]=0;m[2]=p;return m}function J(m,p,v,F){const K=p[0];p=p[1];m[0]=K+F*(v[0]-K);m[1]=p+F*(v[1]-p);return m}function M(m,p){p=p||1;const v=2*g.RANDOM()*Math.PI;m[0]=Math.cos(v)*p;m[1]=Math.sin(v)*p;return m}function S(m,p,v){const F=
p[0];p=p[1];m[0]=v[0]*F+v[2]*p;m[1]=v[1]*F+v[3]*p;return m}function Q(m,p,v){const F=p[0];p=p[1];m[0]=v[0]*F+v[2]*p+v[4];m[1]=v[1]*F+v[3]*p+v[5];return m}function R(m,p,v){const F=p[0];p=p[1];m[0]=v[0]*F+v[3]*p+v[6];m[1]=v[1]*F+v[4]*p+v[7];return m}function O(m,p,v){const F=p[0];p=p[1];m[0]=v[0]*F+v[4]*p+v[12];m[1]=v[1]*F+v[5]*p+v[13];return m}function P(m,p,v,F){const K=p[0]-v[0];p=p[1]-v[1];const L=Math.sin(F);F=Math.cos(F);m[0]=K*F-p*L+v[0];m[1]=K*L+p*F+v[1];return m}function U(m,p){var v=m[0];
m=m[1];const F=p[0];p=p[1];let K=v*v+m*m;0<K&&(K=1/Math.sqrt(K));let L=F*F+p*p;0<L&&(L=1/Math.sqrt(L));v=(v*F+m*p)*K*L;return 1<v?0:-1>v?Math.PI:Math.acos(v)}function V(m){return"vec2("+m[0]+", "+m[1]+")"}function T(m,p){return m[0]===p[0]&&m[1]===p[1]}function W(m,p){const v=m[0];m=m[1];const F=p[0];p=p[1];const K=g.getEpsilon();return Math.abs(v-F)<=K*Math.max(1,Math.abs(v),Math.abs(F))&&Math.abs(m-p)<=K*Math.max(1,Math.abs(m),Math.abs(p))}function X(m,p,v,F,K){let L=p[0]-v[0];v=p[1]-v[1];K=(F[0]*
L+F[1]*v)*(K-1);L=F[0]*K;v=F[1]*K;m[0]=p[0]+L;m[1]=p[1]+v;return m}const Y=Object.freeze(Object.defineProperty({__proto__:null,add:f,angle:U,ceil:u,copy:n,cross:H,dist:w,distance:w,div:l,divide:l,dot:I,equals:W,exactEquals:T,floor:c,inverse:B,len:E,length:E,lerp:J,max:k,min:d,mul:r,multiply:r,negate:G,normalize:N,projectAndScale:X,random:M,rotate:P,round:t,scale:x,scaleAndAdd:D,set:b,sqrDist:C,sqrLen:y,squaredDistance:C,squaredLength:y,str:V,sub:q,subtract:q,transformMat2:S,transformMat2d:Q,transformMat3:R,
transformMat4:O},Symbol.toStringTag,{value:"Module"}));h.add=f;h.angle=U;h.ceil=u;h.copy=n;h.cross=H;h.dist=w;h.distance=w;h.div=l;h.divide=l;h.dot=I;h.equals=W;h.exactEquals=T;h.floor=c;h.inverse=B;h.len=E;h.length=E;h.lerp=J;h.max=k;h.min=d;h.mul=r;h.multiply=r;h.negate=G;h.normalize=N;h.projectAndScale=X;h.random=M;h.rotate=P;h.round=t;h.scale=x;h.scaleAndAdd=D;h.set=b;h.sqrDist=C;h.sqrLen=y;h.squaredDistance=C;h.squaredLength=y;h.str=V;h.sub=q;h.subtract=q;h.transformMat2=S;h.transformMat2d=Q;
h.transformMat3=R;h.transformMat4=O;h.vec2=Y;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/vec32"],function(h,g){class n{constructor(b,f,q=0,r,l){this.TypedArrayConstructor=b;this.elementCount=3;b=this.TypedArrayConstructor;void 0===r&&(r=3*b.BYTES_PER_ELEMENT);const u=0===f.byteLength?0:q;this.typedBuffer=null==l?new b(f,u):new b(f,u,(l-q)/b.BYTES_PER_ELEMENT);this.typedBufferStride=r/
b.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(b,f,q=this.count-f){f=this.typedBuffer.byteOffset+f*this.stride;return new b(this.buffer,f,this.stride,f+q*this.stride)}getVec(b,f){b*=this.typedBufferStride;return g.set(f,this.typedBuffer[b],this.typedBuffer[b+1],this.typedBuffer[b+2])}setVec(b,f){b*=this.typedBufferStride;this.typedBuffer[b++]=f[0];this.typedBuffer[b++]=
f[1];this.typedBuffer[b]=f[2]}get(b,f){return this.typedBuffer[b*this.typedBufferStride+f]}set(b,f,q){this.typedBuffer[b*this.typedBufferStride+f]=q}setValues(b,f,q,r){b*=this.typedBufferStride;this.typedBuffer[b++]=f;this.typedBuffer[b++]=q;this.typedBuffer[b]=r}copyFrom(b,f,q){const r=this.typedBuffer,l=f.typedBuffer;b*=this.typedBufferStride;f=q*f.typedBufferStride;r[b++]=l[f++];r[b++]=l[f++];r[b]=l[f]}get buffer(){return this.typedBuffer.buffer}}n.ElementCount=3;h.BufferViewVec3Impl=n;Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/vec42"],function(h,g){class n{constructor(b,f,q=0,r,l){this.TypedArrayConstructor=b;this.start=q;this.elementCount=4;b=this.TypedArrayConstructor;void 0===r&&(r=4*b.BYTES_PER_ELEMENT);const u=0===f.byteLength?0:q;this.typedBuffer=null==l?new b(f,u):new b(f,u,(l-q)/b.BYTES_PER_ELEMENT);this.typedBufferStride=r/b.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/
this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(b,f,q=this.count-f){f=this.typedBuffer.byteOffset+f*this.stride;return new b(this.buffer,f,this.stride,f+q*this.stride)}getVec(b,f){b*=this.typedBufferStride;return g.set(f,this.typedBuffer[b++],this.typedBuffer[b++],this.typedBuffer[b++],this.typedBuffer[b])}setVec(b,f){b*=this.typedBufferStride;this.typedBuffer[b++]=f[0];this.typedBuffer[b++]=f[1];this.typedBuffer[b++]=f[2];this.typedBuffer[b]=
f[3]}get(b,f){return this.typedBuffer[b*this.typedBufferStride+f]}set(b,f,q){this.typedBuffer[b*this.typedBufferStride+f]=q}setValues(b,f,q,r,l){b*=this.typedBufferStride;this.typedBuffer[b++]=f;this.typedBuffer[b++]=q;this.typedBuffer[b++]=r;this.typedBuffer[b]=l}copyFrom(b,f,q){const r=this.typedBuffer,l=f.typedBuffer;b*=this.typedBufferStride;f=q*f.typedBufferStride;r[b++]=l[f++];r[b++]=l[f++];r[b++]=l[f++];r[b]=l[f]}get buffer(){return this.typedBuffer.buffer}}n.ElementCount=4;h.BufferViewVec4Impl=
n;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/types":function(){define(["exports"],function(h){h.elementTypeSize=function(g){switch(g){case "u8":return 1;case "u16":return 2;case "u32":return 4;case "i8":return 1;case "i16":return 2;case "i32":return 4;case "f32":return 4;case "f64":return 8}};h.isInteger=function(g){switch(g){case "u8":case "u16":case "u32":case "i8":case "i16":case "i32":return!0;case "f32":case "f64":return!1}};h.isSigned=function(g){switch(g){case "u8":case "u16":case "u32":return!1;
case "i8":case "i16":case "i32":case "f32":case "f64":return!0}};h.maximumValue=function(g){switch(g){case "u8":return 255;case "u16":return 65535;case "u32":return 4294967295;case "i8":return 127;case "i16":return 32767;case "i32":return 2147483647;case "f32":return 3.402823E38;case "f64":return 1.79769E308}};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["exports","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../chunks/vec42",
"../../../../core/libs/gl-matrix-2/factories/vec4f64"],function(h,g,n,b){function f(l,u){if(!l)throw u=u||"Assertion",new r(`${u} at ${Error(u).stack}`);}const q=b.create();class r{constructor(l){this.message=l}toString(){return`AssertException: ${this.message}`}}h.assert=f;h.isTranslationMatrix=function(l){return 1===l[0]&&0===l[1]&&0===l[2]&&0===l[3]&&0===l[4]&&1===l[5]&&0===l[6]&&0===l[7]&&0===l[8]&&0===l[9]&&1===l[10]&&0===l[11]&&1===l[15]};h.logWithBase=function(l,u){return Math.log(l)/Math.log(u)};
h.project=function(l,u,c,d,k){q[0]=l[0];q[1]=l[1];q[2]=l[2];q[3]=1;n.transformMat4(q,q,u);2<k.length&&(k[2]=-q[2]);n.transformMat4(q,q,c);f(0!==q[3]);k[0]=q[0]/q[3];k[1]=q[1]/q[3];k[2]=q[2]/q[3];k[0]=(.5*k[0]+.5)*d[2]+d[0];k[1]=(.5*k[1]+.5)*d[3]+d[1]};h.rayBoxTest=function(l,u,c,d){let k,t=(c[0]-l[0])/u[0],x=(d[0]-l[0])/u[0];t>x&&(k=t,t=x,x=k);let D=(c[1]-l[1])/u[1],w=(d[1]-l[1])/u[1];D>w&&(k=D,D=w,w=k);if(t>w||D>x)return!1;D>t&&(t=D);w<x&&(x=w);c=(c[2]-l[2])/u[2];l=(d[2]-l[2])/u[2];c>l&&(k=c,c=l,
l=k);if(t>l||c>x)return!1;l<x&&(x=l);return 0>x?!1:!0};h.rayRay2D=function(l,u,c,d,k,t=g.create()){const x=(d[k]-c[k])*(u[0]-l[0])-(d[0]-c[0])*(u[k]-l[k]);if(0===x)return!1;c=((d[0]-c[0])*(l[k]-c[k])-(d[k]-c[k])*(l[0]-c[0]))/x;t[0]=l[0]+c*(u[0]-l[0]);t[1]=l[k]+c*(u[k]-l[k]);return!0};h.setMatrixTranslation3=function(l,u,c,d){l[12]=u;l[13]=c;l[14]=d};h.verify=function(l,u){l||console.warn("Verify failed: "+(u||"")+"\n"+Error("verify").stack)};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},
"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],function(h){function g(){return[0,0]}function n(w){return[w[0],w[1]]}function b(w,C){return[w,C]}function f(w,C=[0,0]){const E=Math.min(2,w.length);for(let y=0;y<E;++y)C[y]=w[y];return C}function q(w,C){return new Float64Array(w,C,2)}function r(){return[0,0]}function l(){return[1,1]}function u(){return[1,0]}function c(){return[0,1]}const d=[0,0],k=[1,1],t=[1,0],x=[0,1],D=Object.freeze(Object.defineProperty({__proto__:null,
ONES:k,UNIT_X:t,UNIT_Y:x,ZEROS:d,clone:n,create:g,createView:q,fromArray:f,fromValues:b,ones:l,unitX:u,unitY:c,zeros:r},Symbol.toStringTag,{value:"Module"}));h.ONES=k;h.UNIT_X=t;h.UNIT_Y=x;h.ZEROS=d;h.clone=n;h.create=g;h.createView=q;h.fromArray=f;h.fromValues=b;h.ones=l;h.unitX=u;h.unitY=c;h.vec2f64=D;h.zeros=r;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["exports","../../../support/buffer/glUtil",
"../../../support/buffer/InterleavedLayout","../VertexAttribute"],function(h,g,n,b){const f=n.newLayout().vec3f(b.VertexAttribute.POSITION).u16(b.VertexAttribute.COMPONENTINDEX).freeze(),q=n.newLayout().vec2u8(b.VertexAttribute.SIDENESS).freeze();g=g.glLayout(q);const r=n.newLayout().vec3f(b.VertexAttribute.POSITION0).vec3f(b.VertexAttribute.POSITION1).vec2i16(b.VertexAttribute.NORMALCOMPRESSED).u16(b.VertexAttribute.COMPONENTINDEX).u8(b.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(b.VertexAttribute.VARIANTSTROKE).u8(b.VertexAttribute.VARIANTEXTENSION,
{glNormalized:!0}).freeze();n=n.newLayout().vec3f(b.VertexAttribute.POSITION0).vec3f(b.VertexAttribute.POSITION1).vec2i16(b.VertexAttribute.NORMALCOMPRESSED).vec2i16(b.VertexAttribute.NORMAL2COMPRESSED).u16(b.VertexAttribute.COMPONENTINDEX).u8(b.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(b.VertexAttribute.VARIANTSTROKE).u8(b.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0}).freeze();b=new Map([[b.VertexAttribute.POSITION0,0],[b.VertexAttribute.POSITION1,1],[b.VertexAttribute.COMPONENTINDEX,
2],[b.VertexAttribute.VARIANTOFFSET,3],[b.VertexAttribute.VARIANTSTROKE,4],[b.VertexAttribute.VARIANTEXTENSION,5],[b.VertexAttribute.NORMALCOMPRESSED,6],[b.VertexAttribute.NORMAL2COMPRESSED,7],[b.VertexAttribute.SIDENESS,8]]);h.EdgeInputBufferLayout=f;h.EdgeShaderAttributeLocations=b;h.RegularEdgeInstancesLayout=r;h.SilhouetteEdgeInstancesLayout=n;h.VertexLayout=q;h.glVertexLayout=g;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/glUtil":function(){define(["exports",
"../../../webgl/enums","../../../webgl/VertexElementDescriptor"],function(h,g,n){const b={u8:g.DataType.UNSIGNED_BYTE,u16:g.DataType.UNSIGNED_SHORT,u32:g.DataType.UNSIGNED_INT,i8:g.DataType.BYTE,i16:g.DataType.SHORT,i32:g.DataType.INT,f32:g.DataType.FLOAT};h.glLayout=function(f,q=0){const r=f.stride;return Array.from(f.fields.keys()).map(l=>{const u=f.fields.get(l),c=u.constructor.ElementCount;var d=b[u.constructor.ElementType];if(!d)throw Error("BufferType not supported in WebGL");return new n.VertexElementDescriptor(l,
c,d,u.offset,r,u.optional?.glNormalized??!1,q)})};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(h){h.VertexAttribute=void 0;(function(g){g.POSITION="position";g.NORMAL="normal";g.NORMALCOMPRESSED="normalCompressed";g.UV0="uv0";g.COLOR="color";g.SYMBOLCOLOR="symbolColor";g.SIZE="size";g.TANGENT="tangent";g.OFFSET="offset";g.PERSPECTIVEDIVIDE="perspectiveDivide";g.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance";
g.LENGTH="length";g.PREVPOSITION="prevPosition";g.NEXTPOSITION="nextPosition";g.SUBDIVISIONFACTOR="subdivisionFactor";g.COLORFEATUREATTRIBUTE="colorFeatureAttribute";g.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";g.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";g.DISTANCETOSTART="distanceToStart";g.UVMAPSPACE="uvMapSpace";g.BOUNDINGRECT="boundingRect";g.UVREGION="uvRegion";g.PROFILERIGHT="profileRight";g.PROFILEUP="profileUp";g.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";g.FEATUREVALUE="featureValue";
g.INSTANCEMODELORIGINHI="instanceModelOriginHi";g.INSTANCEMODELORIGINLO="instanceModelOriginLo";g.INSTANCEMODEL="instanceModel";g.INSTANCEMODELNORMAL="instanceModelNormal";g.INSTANCECOLOR="instanceColor";g.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";g.LOCALTRANSFORM="localTransform";g.GLOBALTRANSFORM="globalTransform";g.BOUNDINGSPHERE="boundingSphere";g.MODELORIGIN="modelOrigin";g.MODELSCALEFACTORS="modelScaleFactors";g.FEATUREATTRIBUTE="featureAttribute";g.STATE="state";g.LODLEVEL="lodLevel";
g.POSITION0="position0";g.POSITION1="position1";g.NORMAL2COMPRESSED="normal2Compressed";g.COMPONENTINDEX="componentIndex";g.VARIANTOFFSET="variantOffset";g.VARIANTSTROKE="variantStroke";g.VARIANTEXTENSION="variantExtension";g.SIDENESS="sideness";g.START="start";g.END="end";g.UP="up";g.EXTRUDE="extrude";g.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";g.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"})(h.VertexAttribute||(h.VertexAttribute={}));h.affectsGeometry=function(g){return g===
h.VertexAttribute.POSITION};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define("exports ../../../../../core/mathUtils ../../../../../core/PooledArray ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ./Edge".split(" "),function(h,g,n,b,f,q){function r(B){const N=B.faces.length/3,I=B.faces,H=B.neighbors;B=B.vertices.position;c.length=d.length=0;for(let M=0;M<N;M++){var J=
3*M;const S=H[J],Q=H[J+1],R=H[J+2],O=I[J],P=I[J+1];J=I[J+2];B.getVec(O,D);B.getVec(P,w);B.getVec(J,C);b.subtract(w,w,D);b.subtract(C,C,D);b.cross(D,w,C);b.normalize(D,D);d.pushArray(D);if(-1===S||O<P)c.push(O),c.push(P),c.push(M),c.push(S);if(-1===Q||P<J)c.push(P),c.push(J),c.push(M),c.push(Q);if(-1===R||J<O)c.push(J),c.push(O),c.push(M),c.push(R)}return{edges:c,normals:d}}class l{constructor(){this.length=this.index=0}}const u=new n({allocator:B=>B||new l,deallocator:null}),c=new n({deallocator:null}),
d=new n({deallocator:null}),k=new q.Edge,t=f.create(),x=f.create(),D=f.create(),w=f.create(),C=f.create(),E=g.deg2rad(4),y=Math.cos(E);n=g.deg2rad(35);const G=Math.cos(n);h.extractEdges=function(B,N,I){const H=B.vertices.position,J=B.vertices.componentIndex,M=k.position0,S=k.position1,Q=k.faceNormal0,R=k.faceNormal1,{edges:O,normals:P}=r(B);B=O.length/4;const U=N.allocate(B);let V=0;const T=I?.allocate(B);let W=0,X=0,Y=0;u.length=0;for(var m=0;m<B;++m){var p=4*m;H.getVec(O.data[p],M);H.getVec(O.data[p+
1],S);p=u.pushNew();p.index=4*m;p.length=b.distance(M,S)}u.sort((K,L)=>L.length-K.length);const v=[],F=[];u.forAll(({length:K,index:L})=>{var a=O.data[L],e=O.data[L+1];const z=O.data[L+2],A=O.data[L+3];L=-1===A;H.getVec(a,M);H.getVec(e,S);if(L)e=3*z,b.set(Q,P.data[e],P.data[e+1],P.data[e+2]),b.copy(R,Q),k.componentIndex=J.get(a),k.cosAngle=b.dot(Q,R);else{e=3*z;b.set(Q,P.data[e],P.data[e+1],P.data[e+2]);e=3*A;b.set(R,P.data[e],P.data[e+1],P.data[e+2]);k.componentIndex=J.get(a);k.cosAngle=b.dot(Q,
R);if(k.cosAngle>y)return;-.9999>k.cosAngle&&b.copy(R,Q)}X+=K;Y++;L||k.cosAngle<G?(N.write(U,V++,k),v.push(K)):(a=g.acosClamped(k.cosAngle),b.direction(x,k.position1,k.position0),L=0<b.dot(b.cross(t,k.faceNormal0,k.faceNormal1),x)?-1:1,a*L>E&&(T&&I&&I.write(T,W++,k),F.push(K)))});B=new Float32Array(v.reverse());m=new Float32Array(F.reverse());m=T&&I?{instancesData:T.slice(0,W),lodInfo:{lengths:m}}:void 0;return{regular:{instancesData:U.slice(0,V),lodInfo:{lengths:B}},silhouette:m,averageEdgeLength:X/
Y}};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/Edge":function(){define(["exports","../../../../../core/libs/gl-matrix-2/factories/vec3f64"],function(h,g){class n{constructor(){this.position0=g.create();this.position1=g.create();this.faceNormal0=g.create();this.faceNormal1=g.create();this.cosAngle=this.componentIndex=0}}h.Edge=n;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing":function(){define("exports ../../../../../geometry/support/meshUtils/deduplicate ../../../support/meshProcessing ../../../support/buffer/InterleavedLayout ../VertexAttribute ./bufferLayouts ./edgeBufferWriters ./edgePreprocessing".split(" "),
function(h,g,n,b,f,q,r,l){function u(t,x,D,w){if(x)return x=n.computeNeighbors(D,w,t.count),new c(D,w,x,t);t=g.deduplicate(t.buffer,t.stride/4,{originalIndices:D,originalIndicesLength:w});w=n.computeNeighbors(t.indices,w,t.uniqueCount);return{faces:t.indices,facesLength:t.indices.length,neighbors:w,vertices:q.EdgeInputBufferLayout.createView(t.buffer)}}class c{constructor(t,x,D,w){this.faces=t;this.facesLength=x;this.neighbors=D;this.vertices=w}}const d=new r.RegularEdgeBufferWriter,k=new r.SilhouetteEdgeBufferWriter;
r=b.newLayout().vec3f(f.VertexAttribute.POSITION0).vec3f(f.VertexAttribute.POSITION1);b=b.newLayout().vec3f(f.VertexAttribute.POSITION0).vec3f(f.VertexAttribute.POSITION1).u16(f.VertexAttribute.COMPONENTINDEX);h.extract=function(t){const x=u(t.data,t.skipDeduplicate,t.indices,t.indicesLength);d.updateSettings(t.writerSettings);k.updateSettings(t.writerSettings);return l.extractEdges(x,d,k)};h.extractComponentsEdgeLocationsLayout=b;h.extractEdgeInformation=u;h.extractEdgeLocationsLayout=r;Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/deduplicate":function(){define(["exports","../../../core/mathUtils","../Indices"],function(h,g,n){let b=null;h.deduplicate=function(f,q,r){var l=Array.isArray(f),u=l?f.length/q:f.byteLength/(4*q),c=l?f:new Uint32Array(f,0,u*q),d=r?.minReduction??0;const k=(f=r?.originalIndices||null)?f.length:0;var t=r?.componentOffsets||null;r=0;if(t)for(var x=0;x<t.length-1;x++){var D=t[x+1]-t[x];D>r&&(r=D)}else r=u;var w=Math.floor(1.1*r)+
1;if(null==b||b.length<2*w)b=new Uint32Array(g.nextHighestPowerOfTwo(2*w));for(r=0;r<2*w;r++)b[r]=0;r=0;const C=(D=!!t&&!!f)?k:u;x=n.newIndexArray(u);var E=new Uint32Array(k),y=0!==d?Math.ceil(7.84*1.96/(d*d)*d*(1-d)):C,G=1,B=t?t[1]:C;for(let M=0;M<C;M++){if(M===y){var N=1-r/M;if(N+1.96*Math.sqrt(N*(1-N)/M)<d)return null;y*=2}if(M===B){for(B=0;B<2*w;B++)b[B]=0;if(f)for(B=t[G-1];B<t[G];B++)E[B]=x[f[B]];B=t[++G]}N=D?f[M]:M;const S=N*q;var I=0;for(var H=0;H<q;H++)I=c[S+H]+I|0,I=I+(I<<11)+(I>>>2)|0;I>>>=
0;H=I%w;let Q=r;for(;0!==b[2*H+1];){if(b[2*H]===I){const R=b[2*H+1]-1;var J=R*q;a:{for(let O=0;O<q;O++)if(c[S+O]!==c[J+O]){J=!1;break a}J=!0}if(J){Q=x[R];break}}H++;H>=w&&(H-=w)}Q===r&&(b[2*H]=I,b[2*H+1]=N+1,r++);x[N]=Q}if(0!==d&&1-r/u<d)return null;if(D){for(u=t[G-1];u<E.length;u++)E[u]=x[f[u]];x=n.compactIndices(E)}l=l?Array(r):new Uint32Array(r*q);r=0;for(y=0;y<C;y++)if(x[y]===r){u=c;d=(D?f[y]:y)*q;t=l;w=r*q;E=q;for(G=0;G<E;G++)t[w+G]=u[d+G];r++}if(f&&!D){q=new Uint32Array(k);for(c=0;c<q.length;c++)q[c]=
x[f[c]];x=n.compactIndices(q)}return{buffer:Array.isArray(l)?l:l.buffer,indices:x,uniqueCount:r}};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Indices":function(){define(["exports","../../core/typedArrayUtil"],function(h,g){function n(c){let d=!0;for(const k of c){if(65536<=k)return g.isArray(c)?new Uint32Array(c):c;256<=k&&(d=!1)}return d?new Uint8Array(c):new Uint16Array(c)}function b(c){if(1===c)return r;if(c<g.nativeArrayMaxSize)return Array.from(new Uint16Array(l.buffer,
0,c));if(c<l.length)return new Uint16Array(l.buffer,0,c);if(c>q.length){q=new Uint32Array(Math.max(2*q.length,c));for(let d=0;d<q.length;d++)q[d]=d}return new Uint32Array(q.buffer,0,c)}function f(c){if(1===c)return r;if(c<g.nativeArrayMaxSize)return Array(c).fill(0);c>u.length&&(u=new Uint8Array(Math.max(2*u.length,c)));return new Uint8Array(u.buffer,0,c)}let q=(()=>{const c=new Uint32Array(131072);for(let d=0;d<c.length;++d)c[d]=d;return c})();const r=[0],l=(()=>{const c=new Uint16Array(65536);for(let d=
0;d<c.length;++d)c[d]=d;return c})();let u=new Uint8Array(65536);h.compactIndices=function(c){if(g.isArray(c)){if(c.length<g.nativeArrayMaxSize)return c}else if(c.length<g.nativeArrayMaxSize)return Array.from(c);let d=!0,k=!0;c.some((t,x)=>{d=d&&0===t;k=k&&t===x;return!d&&!k});return d?f(c.length):k?b(c.length):g.isArray(c)||c.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?n(c):c};h.getContinuousIndexArray=b;h.getZeroIndexArray=f;h.newIndexArray=function(c){return c<=g.nativeArrayMaxSize?Array(c):
65536>=c?new Uint16Array(c):new Uint32Array(c)};h.newIntArray=function(c){return c<=g.nativeArrayMaxSize?Array(c):new Uint32Array(c)};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/meshProcessing":function(){define(["exports"],function(h){h.computeNeighbors=function(g,n,b){n/=3;const f=new Uint32Array(b+1),q=new Uint32Array(b+1);var r=(w,C)=>{w<C?f[w+1]++:q[C+1]++};for(var l=0;l<n;l++){var u=g[3*l],c=g[3*l+1],d=g[3*l+2];r(u,c);r(c,d);r(d,u)}l=r=0;for(u=0;u<
b;u++)c=f[u+1],d=q[u+1],f[u+1]=r,q[u+1]=l,r+=c,l+=d;const k=new Uint32Array(6*n),t=f[b];r=(w,C,E)=>{w<C?(w=f[w+1]++,k[2*w]=C,k[2*w+1]=E):(C=q[C+1]++,k[2*t+2*C]=w,k[2*t+2*C+1]=E)};for(l=0;l<n;l++)u=g[3*l],c=g[3*l+1],d=g[3*l+2],r(u,c,l),r(c,d,l),r(d,u,l);r=(w,C)=>{const E=2*w;w=C-w;for(C=1;C<w;C++){const y=k[E+2*C],G=k[E+2*C+1];let B=C-1;for(B;0<=B&&k[E+2*B]>y;B--)k[E+2*B+2]=k[E+2*B],k[E+2*B+3]=k[E+2*B+1];k[E+2*B+2]=y;k[E+2*B+3]=G}};for(l=0;l<b;l++)r(f[l],f[l+1]),r(t+q[l],t+q[l+1]);const x=new Int32Array(3*
n),D=(w,C)=>w===g[3*C]?0:w===g[3*C+1]?1:w===g[3*C+2]?2:-1;n=(w,C)=>{w=D(w,C);x[3*C+w]=-1};r=(w,C,E,y)=>{w=D(w,C);x[3*C+w]=y;E=D(E,y);x[3*y+E]=C};for(l=0;l<b;l++){u=f[l];c=f[l+1];d=q[l];const w=q[l+1];for(;u<c&&d<w;){const C=k[2*u],E=k[2*t+2*d];C===E?(r(l,k[2*u+1],E,k[2*t+2*d+1]),u++,d++):C<E?(n(l,k[2*u+1]),u++):(n(E,k[2*t+2*d+1]),d++)}for(;u<c;)n(l,k[2*u+1]),u++;for(;d<w;)n(k[2*t+2*d],k[2*t+2*d+1]),d++}return x};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define("exports ../../../../../core/RandomLCG ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../support/buffer/glUtil ../Normals ./bufferLayouts".split(" "),
function(h,g,n,b,f,q,r){function l(y){k[0]=y.position0[0];k[1]=y.position0[1];k[2]=y.position0[2];k[3]=y.position1[0];k[4]=y.position1[1];k[5]=y.position1[2];x[0]=31*(31*(31*(31*(31*(166811+t[0])+t[1])+t[2])+t[3])+t[4])+t[5];return x[0]}function u(y){const G=k;G[0]=c(y.position0[0]);G[1]=c(y.position0[1]);G[2]=c(y.position0[2]);G[3]=c(y.position1[0]);G[4]=c(y.position1[1]);G[5]=c(y.position1[2]);x[0]=5381;for(y=0;y<t.length;y++)x[0]=31*x[0]+t[y];return x[0]}function c(y){return Math.round(1E4*y)/
1E4}class d{updateSettings(y){this.settings=y;this._edgeHashFunction=y.reducedPrecision?u:l}write(y,G,B){E.seed=this._edgeHashFunction(B);const N=E.getIntRange(0,255),I=E.getIntRange(0,this.settings.variants-1);var H=E.getFloat();H=-(1-Math.min(H/.7,1))+Math.max(0,H-.7)/(1-.7);H=255*(Math.abs(H)**1.2*Math.sign(H)*.5+.5);y.position0.setVec(G,B.position0);y.position1.setVec(G,B.position1);y.componentIndex.set(G,B.componentIndex);y.variantOffset.set(G,N);y.variantStroke.set(G,I);y.variantExtension.set(G,
H)}}const k=new Float32Array(6),t=new Uint32Array(k.buffer),x=new Uint32Array(1);class D{constructor(){this._commonWriter=new d}updateSettings(y){this._commonWriter.updateSettings(y)}allocate(y){return r.RegularEdgeInstancesLayout.createBuffer(y)}write(y,G,B){this._commonWriter.write(y,G,B);n.add(C,B.faceNormal0,B.faceNormal1);n.normalize(C,C);const {typedBuffer:N,typedBufferStride:I}=y.normalCompressed;q.compressNormal(N,G,C[0],C[1],C[2],I)}}D.Layout=r.RegularEdgeInstancesLayout;D.glLayout=f.glLayout(r.RegularEdgeInstancesLayout,
1);class w{constructor(){this._commonWriter=new d}updateSettings(y){this._commonWriter.updateSettings(y)}allocate(y){return r.SilhouetteEdgeInstancesLayout.createBuffer(y)}write(y,G,B){this._commonWriter.write(y,G,B);const {typedBuffer:N,typedBufferStride:I}=y.normalCompressed;q.compressNormal(N,G,B.faceNormal0[0],B.faceNormal0[1],B.faceNormal0[2],I);const {typedBuffer:H,typedBufferStride:J}=y.normal2Compressed;q.compressNormal(H,G,B.faceNormal1[0],B.faceNormal1[1],B.faceNormal1[2],J)}}w.Layout=r.SilhouetteEdgeInstancesLayout;
w.glLayout=f.glLayout(r.SilhouetteEdgeInstancesLayout,1);const C=b.create(),E=new g;h.RegularEdgeBufferWriter=D;h.SilhouetteEdgeBufferWriter=w;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Normals":function(){define(["exports","../../../../core/mathUtils","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/support/FloatArray"],function(h,g,n,b,f){function q(c,d,k,t,x,D=2){var w=1/(Math.abs(k)+Math.abs(t)+
Math.abs(x));k*=w;t*=w;w=0>=x?(0<=t?1:-1)*(1-Math.abs(k)):t;d*=D;c[d]=l(0>=x?(0<=k?1:-1)*(1-Math.abs(t)):k);c[d+1]=l(w)}function r(c,d,k,t=2){t*=k;k=u(d[t]);d=u(d[t+1]);t=1-Math.abs(k)-Math.abs(d);c[2]=t;0>t?(c[0]=(0<=k?1:-1)*(1-Math.abs(d)),c[1]=(0<=d?1:-1)*(1-Math.abs(k))):(c[0]=k,c[1]=d);n.normalize(c,c)}function l(c){return g.clamp(Math.round(32767*c),-32767,32767)}function u(c){return g.clamp(c/32767,-1,1)}h.compressAndTransformNormals=function(c,d){const k=c.length/3,t=new Int16Array(2*k);let x=
0;const D=b.create();for(let w=0;w<k;++w)D[0]=c[x++],D[1]=c[x++],D[2]=c[x++],n.transformMat3(D,D,d),q(t,w,D[0],D[1],D[2]);return t};h.compressNormal=q;h.compressNormals=function(c){const d=c.length/3,k=new Int16Array(2*d);let t=0;for(let x=0;x<d;++x)q(k,x,c[t++],c[t++],c[t++]);return k};h.decodeInt16=u;h.decompressNormal=r;h.decompressNormals=function(c,d=2){const k=c.length/d,t=f.newFloatArray(3*k),x=b.create();let D=0;for(let w=0;w<k;++w)r(x,c,w,d),t[D++]=x[0],t[D++]=x[1],t[D++]=x[2];return t};
h.encodeInt16=l;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/FloatArray":function(){define(["exports","../../core/typedArrayUtil"],function(h,g){h.compactFloatArray=function(n){return g.isArray(n)?n.length<g.nativeArrayMaxSize?n:new Float32Array(n):n.length<g.nativeArrayMaxSize?Array.from(n):n};h.floatArrayFrom=function(n){return(g.isArray(n)?n.length:n.byteLength/8)<=g.nativeArrayMaxSize?Array.from(n):new Float32Array(n)};h.floatSubArray=function(n,b,f){return Array.isArray(n)?
n.slice(b,b+f):n.subarray(b,b+f)};h.newFloatArray=function(n,b=!1){return n<=g.nativeArrayMaxSize?b?Array(n).fill(0):Array(n):new Float32Array(n)};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../support/buffer/workerHelper","./bufferLayouts","./edgePreprocessing","./edgeProcessing"],function(h,g,n,b){function f(d){return{data:g.EdgeInputBufferLayout.createView(d.dataBuffer),indices:"Uint32Array"===d.indicesType?new Uint32Array(d.indices):"Uint16Array"===d.indicesType?new Uint16Array(d.indices):d.indices,indicesLength:d.indicesLength,writerSettings:d.writerSettings,skipDeduplicate:d.skipDeduplicate}}class q{async extract(d){var k=f(d);d=b.extract(k);k=[k.data.buffer];k.push(d.regular.lodInfo.lengths.buffer);
k.push(d.silhouette.lodInfo.lengths.buffer);return{result:{regular:{instancesData:h.packInterleavedBuffer(d.regular.instancesData,k),lodInfo:{lengths:d.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:h.packInterleavedBuffer(d.silhouette.instancesData,k),lodInfo:{lengths:d.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:d.averageEdgeLength},transferList:k}}async extractComponentsEdgeLocations(d){d=f(d);d=b.extractEdgeInformation(d.data,d.skipDeduplicate,d.indices,d.indicesLength);
d=n.extractEdges(d,c);const k=[];return{result:h.packInterleavedBuffer(d.regular.instancesData,k),transferList:k}}async extractEdgeLocations(d){d=f(d);d=b.extractEdgeInformation(d.data,d.skipDeduplicate,d.indices,d.indicesLength);d=n.extractEdges(d,u);const k=[];return{result:h.packInterleavedBuffer(d.regular.instancesData,k),transferList:k}}}class r{allocate(d){return b.extractEdgeLocationsLayout.createBuffer(d)}trim(d,k){return d.slice(0,k)}write(d,k,t){d.position0.setVec(k,t.position0);d.position1.setVec(k,
t.position1)}}class l{allocate(d){return b.extractComponentsEdgeLocationsLayout.createBuffer(d)}trim(d,k){return d.slice(0,k)}write(d,k,t){d.position0.setVec(k,t.position0);d.position1.setVec(k,t.position1);d.componentIndex.set(k,t.componentIndex)}}const u=new r,c=new l;return q});