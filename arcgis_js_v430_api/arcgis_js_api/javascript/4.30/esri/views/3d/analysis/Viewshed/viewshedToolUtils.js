// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/mathUtils ../../../../core/libs/gl-matrix-2/math/vec2 ../../../../core/libs/gl-matrix-2/factories/vec2f64 ../../../../chunks/vec32 ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../geometry/geometryEngine ../../../../geometry/support/vectorStacks ../../interactive/manipulatorUtils ../../interactive/editingTools/dragEventPipeline3D".split(" "),function(g,l,m,r,f,n,p,k,q,t){function u(a,b,{origin:c,basis1:d,basis2:e}){d=f.normalize(k.sv3d.get(),d);e=f.normalize(k.sv3d.get(),
e);b=f.sub(k.sv3d.get(),b,c);return m.set(a,f.dot(b,d),f.dot(b,e))}const v=r.create();g.angleFromPointAndCircle=function(a,b){a=u(v,a,b);const [c,d]=a;a=Math.acos(c/m.len(a));0>d&&(a=2*Math.PI-a);return l.rad2deg(a)};g.computeOffsetScale=function(a,b){if(null==a)return 0;const {observer:c,target:d}=a;var e=b.camera.position;a=p.distance(e,c);e=p.distance(e,d);return b.pixelSizeAt(a>e?c:d)};g.getViewshedRotationMatrix=function({tiltedUpVector:a,rightVector:b,observerRenderSpace:c},d){a=q.calculateTranslateRotateFromBases(a,
b,c,d);a[12]=0;a[13]=0;a[14]=0;return a};g.screenToCircleAngle=function(a,b,c){const d=n.create(),e=f.cross(n.create(),c.basis1,c.basis2);return a.next(t.screenToRenderPlane(b,c.plane)).next(h=>{"start"===h.action&&f.copy(d,h.renderStart);const w=l.rad2deg(q.calculateInputRotationTransform(d,h.renderEnd,c.origin,e));return{...h,deltaAngle:w}})};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});