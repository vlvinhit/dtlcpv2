// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
require({cache:{"esri/rest/query/operations/pbfDehydratedFeatureSet":function(){define("exports ../../../core/compilerUtils ../../../core/uid ../../../geometry/SpatialReference ../../../geometry/support/zscale ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/featureConversionUtils ../../../layers/support/Field".split(" "),function(d,u,z,x,B,K,I,Q){function G(h,t){return t}function q(h,t,E,f){switch(E){case 0:return X(h,t+f,0);case 1:return"lowerLeft"===h.originPosition?X(h,t+f,
1):a(h,t+f,1)}}function r(h,t,E,f){switch(E){case 2:return X(h,t,2);default:return q(h,t,E,f)}}function O(h,t,E,f){switch(E){case 2:return X(h,t,3);default:return q(h,t,E,f)}}function Z(h,t,E,f){switch(E){case 3:return X(h,t,3);default:return r(h,t,E,f)}}function X({translate:h,scale:t},E,f){return h[f]+E*t[f]}function a({translate:h,scale:t},E,f){return h[f]-E*t[f]}class m{constructor(h){this._options=h;this.geometryTypes=["point","multipoint","polyline","polygon"];this._previousCoordinate=[0,0];
this._transform=null;this._applyTransform=G;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;this._attributesConstructor=class{};this._missingAttributes=[]}get missingAttributes(){return this._missingAttributes}createFeatureResult(){return new K.DehydratedFeatureSetClass}finishFeatureResult(h){this._options.applyTransform&&(h.transform=null);this._attributesConstructor=class{};this._coordinateBuffer=
null;this._lengths.length=0;if(h.hasZ){var t=B.getGeometryZScaler(h.geometryType,this._options.sourceSpatialReference,h.spatialReference);if(null!=t)for(const E of h.features)t(E.geometry)}}createSpatialReference(){return new x}addField(h,t){h.fields.push(Q.fromJSON(t));const E=h.fields.map(f=>f.name);this._attributesConstructor=function(){for(const f of E)this[f]=null}}addFeature(h,t){K.removeLargeStringAttributes(t.attributes,this._options.maxStringAttributeFields,this._options.maxStringAttributeLength,
E=>{const f=t.attributes[h.objectIdFieldName];null!=f&&this._missingAttributes.push({objectId:f,attribute:E})});h.features.push(t)}addQueryGeometry(h,t){const {queryGeometry:E,queryGeometryType:f}=t;t=I.unquantizeOptimizedGeometry(E.clone(),E,!1,!1,this._transform);t=I.convertToGeometry(t,f,!1,!1);let A=null;switch(f){case "esriGeometryPoint":A="point";break;case "esriGeometryPolygon":A="polygon";break;case "esriGeometryPolyline":A="polyline";break;case "esriGeometryMultipoint":A="multipoint"}t.type=
A;h.queryGeometryType=f;h.queryGeometry=t}prepareFeatures(h){this._transform=h.transform??null;this._options.applyTransform&&h.transform&&(this._applyTransform=this._deriveApplyTransform(h));this._vertexDimension=2;h.hasZ&&this._vertexDimension++;h.hasM&&this._vertexDimension++;switch(h.geometryType){case "point":this.addCoordinate=(t,E,f)=>this.addCoordinatePoint(t,E,f);this.createGeometry=t=>this.createPointGeometry(t);break;case "polygon":this.addCoordinate=(t,E,f)=>this._addCoordinatePolygon(t,
E,f);this.createGeometry=t=>this._createPolygonGeometry(t);break;case "polyline":this.addCoordinate=(t,E,f)=>this._addCoordinatePolyline(t,E,f);this.createGeometry=t=>this._createPolylineGeometry(t);break;case "multipoint":this.addCoordinate=(t,E,f)=>this._addCoordinateMultipoint(t,E,f);this.createGeometry=t=>this._createMultipointGeometry(t);break;case "mesh":case "extent":break;default:u.neverReached(h.geometryType)}}createFeature(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=
0;this._previousCoordinate[1]=0;return new K.DehydratedFeatureClass(z.generateUID(),null,new this._attributesConstructor)}allocateCoordinates(){const h=this._lengths.reduce((t,E)=>t+E,0);this._coordinateBuffer=new Float64Array(h*this._vertexDimension);this._coordinateBufferPtr=0}addLength(h,t){0===this._lengths.length&&(this._toAddInCurrentPath=t);this._lengths.push(t)}createPointGeometry(h){h={type:"point",x:0,y:0,spatialReference:h.spatialReference,hasZ:!!h.hasZ,hasM:!!h.hasM};h.hasZ&&(h.z=0);h.hasM&&
(h.m=0);return h}addCoordinatePoint(h,t,E){t=this._transform?this._applyTransform(this._transform,t,E,0):t;if(null!=t)switch(E){case 0:h.x=t;break;case 1:h.y=t;break;case 2:h.hasZ?h.z=t:h.m=t;break;case 3:h.m=t}}_transformPathLikeValue(h,t){let E=0;1>=t&&(E=this._previousCoordinate[t],this._previousCoordinate[t]+=h);return this._transform?this._applyTransform(this._transform,h,t,E):h}_addCoordinatePolyline(h,t,E){this._dehydratedAddPointsCoordinate(h.paths,t,E)}_addCoordinatePolygon(h,t,E){this._dehydratedAddPointsCoordinate(h.rings,
t,E)}_addCoordinateMultipoint(h,t,E){0===E&&h.points.push([]);t=this._transformPathLikeValue(t,E);h.points[h.points.length-1].push(t)}_createPolygonGeometry(h){return{type:"polygon",rings:[[]],spatialReference:h.spatialReference,hasZ:!!h.hasZ,hasM:!!h.hasM}}_createPolylineGeometry(h){return{type:"polyline",paths:[[]],spatialReference:h.spatialReference,hasZ:!!h.hasZ,hasM:!!h.hasM}}_createMultipointGeometry(h){return{type:"multipoint",points:[],spatialReference:h.spatialReference,hasZ:!!h.hasZ,hasM:!!h.hasM}}_dehydratedAddPointsCoordinate(h,
t,E){0===E&&0===this._toAddInCurrentPath--&&(h.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);t=this._transformPathLikeValue(t,E);h=h[h.length-1];const f=this._coordinateBuffer;f&&(0===E&&h.push(new Float64Array(f.buffer,this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this._vertexDimension)),f[this._coordinateBufferPtr++]=t)}_deriveApplyTransform(h){const {hasZ:t,hasM:E}=h;return t&&E?Z:t?r:E?O:q}}
d.DehydratedFeatureSetParserContext=m;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(d,u){d.neverReached=function(z){};d.neverReachedSilent=function(z){};d.typeCast=function(z){return()=>z};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/dehydratedFeatures":function(){define("exports ../../core/byteSizeEstimations ../../core/has ../../core/typedArrayUtil ../../core/uid ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../../geometry/support/typeUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(d,u,z,x,B,K,I,Q,G,q,r,O){function Z(f,A,M,aa){return{uid:B.generateUID(),objectId:aa&&f.attributes?f.attributes[aa]:null,attributes:f.attributes,geometry:X(f.geometry,A,M),visible:!0}}function X(f,A,M){if(null==f)return null;switch(A){case "point":return{x:f.x,y:f.y,z:f.z,m:f.m,hasZ:null!=f.z,hasM:null!=f.m,type:"point",spatialReference:M};case "polyline":return{paths:f.paths,hasZ:!!f.hasZ,hasM:!!f.hasM,type:"polyline",spatialReference:M};case "polygon":return{rings:f.rings,hasZ:!!f.hasZ,
hasM:!!f.hasM,type:"polygon",spatialReference:M};case "multipoint":return{points:f.points,hasZ:!!f.hasZ,hasM:!!f.hasM,type:"multipoint",spatialReference:M}}}function a(f){if(null==f)return 0;let A=32;switch(f.type){case "point":A+=42;break;case "polyline":case "polygon":var M=0;const aa=2+(f.hasZ?1:0)+(f.hasM?1:0);f="polyline"===f.type?f.paths:f.rings;for(const g of f)M+=g.length;A+=8*M*aa+64;A+=128*M;A=A+34+32*(f.length+1);break;case "multipoint":M=f.points.length;A+=8*M*(2+(f.hasZ?1:0)+(f.hasM?
1:0))+64;A+=128*M;A=A+34+32;break;case "extent":A+=98;f.hasM&&(A+=32);f.hasZ&&(A+=32);break;case "mesh":A+=x.estimateSize(f.vertexAttributes.position,f.vertexAttributes.normal,f.vertexAttributes.uv,f.vertexAttributes.tangent)}return A}function m(f,A){return null!=f.objectId?f.objectId:f.attributes&&A?f.attributes[A]:null}function h(f,A,M,aa){if(A?.size&&null!=M&&f)for(const g in f){if(!A.has(g))continue;const y=f[g];"string"===typeof y&&y.length>M&&(aa(g),f[g]="")}}class t{constructor(f,A,M){this.uid=
f;this.geometry=A;this.attributes=M;this.visible=!0;this.centroid=this.objectId=null}}class E{constructor(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null}}d.equals=O.equals;d.DehydratedFeatureClass=t;d.DehydratedFeatureSetClass=E;d.computeAABB=function(f,A){I.empty(A);"mesh"===f.type&&(f=f.extent);switch(f.type){case "point":A[0]=
A[3]=f.x;A[1]=A[4]=f.y;f.hasZ&&(A[2]=A[5]=f.z);break;case "polyline":for(var M=0;M<f.paths.length;M++)I.expandWithNestedArray(A,f.paths[M],!!f.hasZ);break;case "polygon":for(M=0;M<f.rings.length;M++)I.expandWithNestedArray(A,f.rings[M],!!f.hasZ);break;case "multipoint":I.expandWithNestedArray(A,f.points,!!f.hasZ);break;case "extent":A[0]=f.xmin,A[1]=f.ymin,A[3]=f.xmax,A[4]=f.ymax,null!=f.zmin&&(A[2]=f.zmin),null!=f.zmax&&(A[5]=f.zmax)}};d.computeAABR=function(f,A){Q.empty(A);"mesh"===f.type&&(f=f.extent);
switch(f.type){case "point":A[0]=A[2]=f.x;A[1]=A[3]=f.y;break;case "polyline":for(var M=0;M<f.paths.length;M++)Q.expandWithNestedArray(A,f.paths[M]);break;case "polygon":for(M=0;M<f.rings.length;M++)Q.expandWithNestedArray(A,f.rings[M]);break;case "multipoint":Q.expandWithNestedArray(A,f.points);break;case "extent":A[0]=f.xmin,A[1]=f.ymin,A[2]=f.xmax,A[3]=f.ymax}};d.estimateGeometryObjectSize=a;d.estimateSize=function(f){let A;A=32+u.estimateAttributesObjectSize(f.attributes);return A=A+3+(8+a(f.geometry))};
d.fromFeatureSetJSON=function(f,A){const M=q.featureGeometryTypeKebabDictionary.fromJSON(f.geometryType),aa=K.fromJSON(f.spatialReference),g=f.transform,y=f.objectIdFieldName,L=A?.maxStringAttributeLength,V=A?.maxStringAttributeFields;let ba;A=f.features.map(Y=>{const e=Z(Y,M,aa,f.objectIdFieldName);Y=e.geometry;h(e.attributes,V,L,k=>{ba??=[];const p=m(e,y);null!=p&&ba.push({objectId:p,attribute:k})});if(null!=Y&&g)switch(Y.type){case "point":e.geometry=G.unquantizePoint(g,Y,Y);break;case "multipoint":e.geometry=
G.unquantizeMultipoint(g,Y,Y);break;case "polygon":e.geometry=G.unquantizePolygon(g,Y,Y);break;case "polyline":e.geometry=G.unquantizePolyline(g,Y,Y);break;case "extent":e.geometry=Y;break;case "mesh":e.geometry=Y}return e});return{geometryType:M,features:A,spatialReference:aa,fields:f.fields?.map(Y=>r.fromJSON(Y))??[],objectIdFieldName:f.objectIdFieldName,globalIdFieldName:f.globalIdFieldName,geohashFieldName:f.geohashFieldName,geometryProperties:f.geometryProperties,hasZ:f.hasZ,hasM:f.hasM,exceededTransferLimit:f.exceededTransferLimit,
transform:null,missingAttributes:ba}};d.fromJSONGeometry=X;d.getObjectId=m;d.hasGeometry=function(f){return null!=f.geometry};d.hasVertices=function(f){if(null==f)return!1;switch(f.type){case "extent":case "point":return!0;case "polyline":for(const A of f.paths)if(0<A.length)return!0;return!1;case "polygon":for(const A of f.rings)if(0<A.length)return!0;return!1;case "multipoint":return 0<f.points.length;case "mesh":return!f.loaded||0<f.vertexAttributes.position.length}};d.numVertices=function(f){if(null==
f)return 0;switch(f.type){case "point":return 1;case "polyline":var A=0;for(var M of f.paths)A+=M.length;return A;case "polygon":M=0;for(A of f.rings)M+=A.length;return M;case "multipoint":return f.points.length;case "extent":return 2;case "mesh":return(f=f.vertexAttributes&&f.vertexAttributes.position)?f.length/3:0}};d.removeLargeStringAttributes=h;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../Extent","./aaBoundingRect"],
function(d,u,z){function x(a=Z){return[a[0],a[1],a[2],a[3],a[4],a[5]]}function B(a,m,h,t,E,f,A=x()){A[0]=a;A[1]=m;A[2]=h;A[3]=t;A[4]=E;A[5]=f;return A}function K(a){return a[0]>=a[3]?0:a[3]-a[0]}function I(a){return a[1]>=a[4]?0:a[4]-a[1]}function Q(a){return a[2]>=a[5]?0:a[5]-a[2]}function G(a,m){return Math.max(m[0],a[0])<=Math.min(m[3],a[3])&&Math.max(m[1],a[1])<=Math.min(m[4],a[4])&&Math.max(m[2],a[2])<=Math.min(m[5],a[5])}function q(a,m){a[0]=m[0];a[1]=m[1];a[2]=m[2];a[3]=m[3];a[4]=m[4];a[5]=
m[5];return a}function r(a){return 6===a.length}const O=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],Z=[0,0,0,0,0,0],X=x();d.allFinite=function(a){for(let m=0;6>m;m++)if(!isFinite(a[m]))return!1;return!0};d.center=function(a,m=[0,0,0]){m[0]=a[0]+K(a)/2;m[1]=a[1]+I(a)/2;m[2]=a[2]+Q(a)/2;return m};d.contains=function(a,m){return m[0]>=a[0]&&m[1]>=a[1]&&m[2]>=a[2]&&m[3]<=a[3]&&m[4]<=a[4]&&m[5]<=a[5]};d.containsPoint=function(a,m){return m[0]>=a[0]&&m[1]>=a[1]&&m[2]>=a[2]&&m[0]<=a[3]&&m[1]<=
a[4]&&m[2]<=a[5]};d.containsPointWithMargin=function(a,m,h){return m[0]>=a[0]-h&&m[1]>=a[1]-h&&m[2]>=a[2]-h&&m[0]<=a[3]+h&&m[1]<=a[4]+h&&m[2]<=a[5]+h};d.create=x;d.depth=I;d.diameter=function(a){const m=K(a),h=Q(a);a=I(a);return Math.sqrt(m*m+h*h+a*a)};d.empty=function(a){return a?q(a,O):x(O)};d.equals=function(a,m,h){if(null==a||null==m)return a===m;if(!r(a)||!r(m))return!1;if(h)for(let t=0;t<a.length;t++){if(!h(a[t],m[t]))return!1}else for(h=0;h<a.length;h++)if(a[h]!==m[h])return!1;return!0};d.expandWithAABB=
function(a,m){a[0]=Math.min(a[0],m[0]);a[1]=Math.min(a[1],m[1]);a[2]=Math.min(a[2],m[2]);a[3]=Math.max(a[3],m[3]);a[4]=Math.max(a[4],m[4]);a[5]=Math.max(a[5],m[5])};d.expandWithBuffer=function(a,m,h=0,t=m.length/3){let E=a[0],f=a[1],A=a[2],M=a[3],aa=a[4],g=a[5];for(let y=0;y<t;y++)E=Math.min(E,m[h+3*y]),f=Math.min(f,m[h+3*y+1]),A=Math.min(A,m[h+3*y+2]),M=Math.max(M,m[h+3*y]),aa=Math.max(aa,m[h+3*y+1]),g=Math.max(g,m[h+3*y+2]);a[0]=E;a[1]=f;a[2]=A;a[3]=M;a[4]=aa;a[5]=g};d.expandWithNestedArray=function(a,
m,h){const t=m.length;let E=a[0],f=a[1],A=a[2],M=a[3],aa=a[4],g=a[5];if(h)for(h=0;h<t;h++){var y=m[h];E=Math.min(E,y[0]);f=Math.min(f,y[1]);A=Math.min(A,y[2]);M=Math.max(M,y[0]);aa=Math.max(aa,y[1]);g=Math.max(g,y[2])}else for(h=0;h<t;h++)y=m[h],E=Math.min(E,y[0]),f=Math.min(f,y[1]),M=Math.max(M,y[0]),aa=Math.max(aa,y[1]);a[0]=E;a[1]=f;a[2]=A;a[3]=M;a[4]=aa;a[5]=g};d.expandWithOffset=function(a,m,h,t){a[0]=Math.min(a[0],a[0]+m);a[3]=Math.max(a[3],a[3]+m);a[1]=Math.min(a[1],a[1]+h);a[4]=Math.max(a[4],
a[4]+h);a[2]=Math.min(a[2],a[2]+t);a[5]=Math.max(a[5],a[5]+t)};d.expandWithRect=function(a,m){a[0]=Math.min(a[0],m[0]);a[1]=Math.min(a[1],m[1]);a[3]=Math.max(a[3],m[2]);a[4]=Math.max(a[4],m[3])};d.expandWithVec3=function(a,m){a[0]=Math.min(a[0],m[0]);a[1]=Math.min(a[1],m[1]);a[2]=Math.min(a[2],m[2]);a[3]=Math.max(a[3],m[0]);a[4]=Math.max(a[4],m[1]);a[5]=Math.max(a[5],m[2])};d.fromExtent=function(a,m=x()){m[0]=a.xmin;m[1]=a.ymin;m[2]=a.hasZ?a.zmin:-Infinity;m[3]=a.xmax;m[4]=a.ymax;m[5]=a.hasZ?a.zmax:
Infinity;return m};d.fromMinMax=function(a,m,h=x()){h[0]=a[0];h[1]=a[1];h[2]=a[2];h[3]=m[0];h[4]=m[1];h[5]=m[2];return h};d.fromRect=function(a,m){a[0]=m[0];a[1]=m[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=m[2];a[4]=m[3];a[5]=Number.POSITIVE_INFINITY;return a};d.fromRectValues=function(a,m,h,t,E){a[0]=m;a[1]=h;a[2]=Number.NEGATIVE_INFINITY;a[3]=t;a[4]=E;a[5]=Number.POSITIVE_INFINITY;return a};d.fromValues=B;d.getMax=function(a,m){m[0]=a[3];m[1]=a[4];m[2]=a[5];return m};d.getMin=function(a,m){m[0]=a[0];
m[1]=a[1];m[2]=a[2];return m};d.height=Q;d.intersects=G;d.intersectsClippingArea=function(a,m){return null==m?!0:G(a,m)};d.is=r;d.isPoint=function(a){return 0===K(a)&&0===I(a)&&0===Q(a)};d.maximumDimension=function(a){return Math.max(K(a),Q(a),I(a))};d.negativeInfinity=O;d.offset=function(a,m,h,t,E=a){E[0]=a[0]+m;E[1]=a[1]+h;E[2]=a[2]+t;E[3]=a[3]+m;E[4]=a[4]+h;E[5]=a[5]+t;return E};d.positiveInfinity=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];d.scale=function(a,m,h=a){const t=a[0]+
K(a)/2,E=a[1]+I(a)/2,f=a[2]+Q(a)/2;h[0]=t+(a[0]-t)*m;h[1]=E+(a[1]-E)*m;h[2]=f+(a[2]-f)*m;h[3]=t+(a[3]-t)*m;h[4]=E+(a[4]-E)*m;h[5]=f+(a[5]-f)*m;return h};d.set=q;d.setMax=function(a,m,h=a){h[3]=m[0];h[4]=m[1];h[5]=m[2];h!==a&&(h[0]=a[0],h[1]=a[1],h[2]=a[2]);return a};d.setMin=function(a,m,h=a){h[0]=m[0];h[1]=m[1];h[2]=m[2];h!==a&&(h[3]=a[3],h[4]=a[4],h[5]=a[5]);return h};d.size=function(a,m=[0,0,0]){m[0]=K(a);m[1]=I(a);m[2]=Q(a);return m};d.toExtent=function(a,m){return isFinite(a[2])||isFinite(a[5])?
new u({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:m}):new u({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:m})};d.toRect=function(a,m){m||=z.create();m[0]=a[0];m[1]=a[1];m[2]=a[3];m[3]=a[4];return m};d.width=K;d.wrap=function(a,m,h,t,E,f){return B(a,m,h,t,E,f,X)};d.zero=Z;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(d,u){function z(e){if("lowerLeft"===
e.originPosition&&4===e.scale.length&&4===e.translate.length)return e;const {originPosition:k,scale:p,translate:D}=e;e=p[1]??1;return{originPosition:"lowerLeft",scale:[p[0]??1,"lowerLeft"===k?e:-e,p[2]??1,p[3]??1],translate:[D[0]??0,D[1]??0,D[2]??0,D[3]??0]}}function x({scale:e,translate:k},p){return Math.round((p-k[0])/e[0])}function B({scale:e,translate:k},p){return Math.round((p-k[1])/e[1])}function K({scale:e,translate:k},p){return Math.round(((p??0)-k[2])/e[2])}function I({scale:e,translate:k},
p){return p?Math.round((p-k[3])/e[3]):0}function Q(e,k){return e&&k?y:e&&!k?aa:!e&&k?g:M}function G({scale:e,translate:k},p){return p*e[0]+k[0]}function q({scale:e,translate:k},p){return p*e[1]+k[1]}function r({scale:e,translate:k},p){return(p??0)*e[2]+k[2]}function O({scale:e,translate:k},p){return p?p*e[3]+k[3]:0}function Z(e,k){return e&&k?Y:e&&!k?V:!e&&k?ba:L}function X(e,k,p){const D=Array(p.length);for(let J=0;J<p.length;J++)D[J]=k(e,p[J]);return D}function a(e,k,p){let [D,J]=p[0],R=Math.min(D,
k[0]),S=Math.min(J,k[1]),W=Math.max(D,k[2]);k=Math.max(J,k[3]);for(let da=1;da<p.length;da++){const [U,fa]=p[da];D+=U;J+=fa;0>U&&(R=Math.min(R,D));0<U&&(W=Math.max(W,D));0>fa?S=Math.min(S,J):0<fa&&(k=Math.max(k,J))}e[0]=R;e[1]=S;e[2]=W;e[3]=k;return e}function m(e,k){if(!k.length)return null;e[0]=e[1]=Number.POSITIVE_INFINITY;e[2]=e[3]=Number.NEGATIVE_INFINITY;for(let p=0;p<k.length;p++)a(e,e,k[p]);return e}function h(e,k,p){e=z(e);k.xmin=x(e,p.xmin);k.ymin=B(e,p.ymin);k.xmax=x(e,p.xmax);k.ymax=B(e,
p.ymax);p.hasZ&&(k.zmin=K(e,p.zmin),k.zmax=K(e,p.zmax));p.hasM&&(k.mmin=I(e,p.mmin),k.mmax=I(e,p.mmax));k.hasZ=p.hasZ??!1;k.hasM=p.hasM??!1;return k}function t(e,k,p){e=z(e);k.points=Q(p.hasZ,p.hasM)(e,p.points)??[];k.hasZ=p.hasZ??!1;k.hasM=p.hasM??!1;return k}function E(e,k,p){e=z(e);k.x=x(e,p.x);k.y=B(e,p.y);null!=p.z&&(k.z=K(e,p.z));null!=p.m&&(k.m=I(e,p.m));return k}function f(e,k,p){{e=z(e);var D=p.rings;const J=[],R=Q(p.hasZ,p.hasM);for(let S=0;S<D.length;S++){const W=R(e,D[S]);W&&3<=W.length&&
J.push(W)}e=J.length?J:null}if(!e)return null;k.rings=e;k.hasZ=p.hasZ??!1;k.hasM=p.hasM??!1;return k}function A(e,k,p){{e=z(e);var D=p.paths;const J=[],R=Q(p.hasZ,p.hasM);for(let S=0;S<D.length;S++){const W=R(e,D[S]);W&&2<=W.length&&J.push(W)}e=J.length?J:null}if(!e)return null;k.paths=e;k.hasZ=p.hasZ??!1;k.hasM=p.hasM??!1;return k}const M=(e,k)=>{const p=[];if(!k.length)return null;var D=k[0];let J=x(e,D[0]);D=B(e,D[1]);p.push([J,D]);for(let R=1;R<k.length;R++){const [S,W]=k[R],da=x(e,S),U=B(e,W);
da===J&&U===D||p.push([da-J,U-D]);J=da;D=U}return p},aa=(e,k)=>{const p=[];if(!k.length)return null;var D=k[0];let J=x(e,D[0]),R=B(e,D[1]);D=K(e,D[2]);p.push([J,R,D]);for(let S=1;S<k.length;S++){const [W,da,U]=k[S],fa=x(e,W),ka=B(e,da),ia=K(e,U);fa===J&&ka===R&&ia===D||p.push([fa-J,ka-R,ia]);J=fa;R=ka;D=ia}return p},g=(e,k)=>{const p=[];if(!k.length)return null;var D=k[0];let J=x(e,D[0]),R=B(e,D[1]);D=I(e,D[2]);p.push([J,R,D]);for(let S=1;S<k.length;S++){const [W,da,U]=k[S],fa=x(e,W),ka=B(e,da),ia=
I(e,U);fa===J&&ka===R&&ia===D||p.push([fa-J,ka-R,ia]);J=fa;R=ka;D=ia}return p},y=(e,k)=>{const p=[];if(!k.length)return null;var D=k[0];let J=x(e,D[0]),R=B(e,D[1]),S=K(e,D[2]);D=I(e,D[3]);p.push([J,R,S,D]);for(let W=1;W<k.length;W++){const [da,U,fa,ka]=k[W],ia=x(e,da),pa=B(e,U),oa=K(e,fa),na=I(e,ka);ia===J&&pa===R&&oa===S&&na===D||p.push([ia-J,pa-R,oa,na]);J=ia;R=pa;S=oa;D=na}return p},L=(e,k)=>{const p=Array(k.length);if(!k.length)return p;var D=k[0];let J=G(e,D[0]);D=q(e,D[1]);p[0]=[J,D];const {scale:R,
originPosition:S}=e;e=R[0];const W="lowerLeft"===S?R[1]:-R[1];for(let da=1;da<k.length;da++){const [U,fa]=k[da];J+=e*U;D+=W*fa;p[da]=[J,D]}return p},V=(e,k)=>{const p=Array(k.length);if(!k.length)return p;var D=k[0];let J=G(e,D[0]),R=q(e,D[1]);p[0]=[J,R,r(e,D[2])];const {scale:S,originPosition:W}=e;D=S[0];const da="lowerLeft"===W?S[1]:-S[1];for(let U=1;U<k.length;U++){const [fa,ka,ia]=k[U];J+=D*fa;R+=da*ka;p[U]=[J,R,r(e,ia)]}return p},ba=(e,k)=>{const p=Array(k.length);if(!k.length)return p;var D=
k[0];let J=G(e,D[0]),R=q(e,D[1]);p[0]=[J,R,O(e,D[2])];const {scale:S,originPosition:W}=e;D=S[0];const da="lowerLeft"===W?S[1]:-S[1];for(let U=1;U<k.length;U++){const [fa,ka,ia]=k[U];J+=D*fa;R+=da*ka;p[U]=[J,R,O(e,ia)]}return p},Y=(e,k)=>{const p=Array(k.length);if(!k.length)return p;var D=k[0];let J=G(e,D[0]),R=q(e,D[1]);p[0]=[J,R,r(e,D[2]),O(e,D[3])];const {scale:S,originPosition:W}=e;D=S[0];const da="lowerLeft"===W?S[1]:-S[1];for(let U=1;U<k.length;U++){const [fa,ka,ia,pa]=k[U];J+=D*fa;R+=da*ka;
p[U]=[J,R,r(e,ia),O(e,pa)]}return p};d.getQuantizedBoundsCoordsArray=a;d.getQuantizedBoundsCoordsArrayArray=m;d.getQuantizedBoundsPaths=function(e){return m([0,0,0,0],e)};d.getQuantizedBoundsPoints=function(e){const k=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return a(k,k,e)};d.getQuantizedBoundsRings=function(e){return m([0,0,0,0],e)};d.normalizeTransform=z;d.quantizeBounds=function(e,k,p){e=z(e);k[0]=x(e,p[0]);k[3]=B(e,p[1]);k[2]=x(e,p[2]);
k[1]=B(e,p[3]);return k};d.quantizeCoordsArrayXY=M;d.quantizeCoordsArrayXYM=g;d.quantizeCoordsArrayXYZ=aa;d.quantizeCoordsArrayXYZM=y;d.quantizeExtent=h;d.quantizeGeometry=function(e,k){return e&&k?u.isPoint(k)?E(e,{},k):u.isPolyline(k)?A(e,{},k):u.isPolygon(k)?f(e,{},k):u.isMultipoint(k)?t(e,{},k):u.isExtent(k)?h(e,{},k):null:null};d.quantizeM=I;d.quantizeMultipoint=t;d.quantizePoint=E;d.quantizePolygon=f;d.quantizePolyline=A;d.quantizeX=x;d.quantizeY=B;d.quantizeZ=K;d.toQuantizationTransform=function(e){return e?
{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null};d.unquantizeBounds=function(e,k,p){e=z(e);return p?(k[0]=G(e,p[0]),k[1]=q(e,p[3]),k[2]=G(e,p[2]),k[3]=q(e,p[1]),k):[G(e,k[0]),q(e,k[3]),G(e,k[2]),q(e,k[1])]};d.unquantizeCoordsArrayArray=X;d.unquantizeCoordsArrayXY=L;
d.unquantizeCoordsArrayXYM=ba;d.unquantizeCoordsArrayXYZ=V;d.unquantizeCoordsArrayXYZM=Y;d.unquantizeExtent=function(e,k,p,D=p.hasZ??!1,J=p.hasM??!1){e=z(e);k.xmin=G(e,p.xmin);k.xmax=G(e,p.xmax);k.ymin=q(e,p.ymin);k.ymax=q(e,p.ymax);D&&(k.zmin=r(e,p.zmin),k.zmax=r(e,p.zmax));J&&(k.mmin=O(e,p.mmin),k.mmax=O(e,p.mmax));k.hasZ=D;k.hasM=J;return k};d.unquantizeM=O;d.unquantizeMultipoint=function(e,k,p,D=p?.hasZ??!1,J=p?.hasM??!1){null!=p&&(e=z(e),k.points=Z(D,J)(e,p.points),k.hasZ=D,k.hasM=J);return k};
d.unquantizePoint=function(e,k,p,D=null!=p?.z,J=null!=p?.m){if(null==p)return k;e=z(e);k.x=G(e,p.x);k.y=q(e,p.y);D&&(k.z=r(e,p.z));J&&(k.m=O(e,p.m));return k};d.unquantizePolygon=function(e,k,p,D=p?.hasZ??!1,J=p?.hasM??!1){null!=p&&(e=z(e),k.rings=X(e,Z(D,J),p.rings),k.hasZ=D,k.hasM=J);return k};d.unquantizePolyline=function(e,k,p,D=p?.hasZ??!1,J=p?.hasM??!1){null!=p&&(e=z(e),k.paths=X(e,Z(D,J),p.paths),k.hasZ=D,k.hasM=J);return k};d.unquantizeX=G;d.unquantizeY=q;d.unquantizeZ=r;Object.defineProperty(d,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Field":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),function(d,u,z,x,B,K,I,Q,G,q,r,O){var Z;const X=new u.JSONMap({binary:"binary",
coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});u=Z=class extends z.JSONSupport{constructor(a){super(a);this.alias=null;this.defaultValue=void 0;this.domain=this.description=null;
this.editable=!0;this.length=void 0;this.name=null;this.nullable=!0;this.valueType=this.type=null;this.visible=!0}readDescription(a,{description:m}){a=null;try{a=m?JSON.parse(m):null}catch(h){}return a?.value??null}readValueType(a,{description:m}){a=null;try{a=m?JSON.parse(m):null}catch(h){}return a?X.fromJSON(a.fieldValueType):null}clone(){return new Z({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,
name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};d.__decorate([x.property({type:String,json:{write:!0}})],u.prototype,"alias",void 0);d.__decorate([x.property({type:[String,Number],json:{write:{allowNull:!0}}})],u.prototype,"defaultValue",void 0);d.__decorate([x.property()],u.prototype,"description",void 0);d.__decorate([G.reader("description")],u.prototype,"readDescription",null);d.__decorate([x.property({types:r.types,json:{read:{reader:r.fromJSON},
write:!0}})],u.prototype,"domain",void 0);d.__decorate([x.property({type:Boolean,json:{write:!0}})],u.prototype,"editable",void 0);d.__decorate([x.property({type:B.Integer,json:{write:{overridePolicy(a){return{enabled:Number.isFinite(a)}}}}})],u.prototype,"length",void 0);d.__decorate([x.property({type:String,json:{write:!0}})],u.prototype,"name",void 0);d.__decorate([x.property({type:Boolean,json:{write:!0}})],u.prototype,"nullable",void 0);d.__decorate([Q.enumeration(O.kebabDict)],u.prototype,"type",
void 0);d.__decorate([x.property()],u.prototype,"valueType",void 0);d.__decorate([G.reader("valueType",["description"])],u.prototype,"readValueType",null);d.__decorate([x.property({type:Boolean,json:{read:!1}})],u.prototype,"visible",void 0);return u=Z=d.__decorate([q.subclass("esri.layers.support.Field")],u)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(d,u,z){d.enumeration=function(x,B={}){x=x instanceof u.JSONMap?x:new u.JSONMap(x,
B);x={type:B?.ignoreUnknown??!0?x.apiValues:String,json:{type:x.jsonValues,read:B?.readOnly?!1:{reader:x.read},write:{writer:x.write}}};void 0!==B?.readOnly&&(x.readOnly=!!B.readOnly);void 0!==B?.default&&(x.json.default=B.default);void 0!==B?.name&&(x.json.name=B.name);void 0!==B?.nonNullable&&(x.nonNullable=B.nonNullable);return z.property(x)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(d,u,z,x,B,K){u={key:"type",base:x,typeMap:{range:K,"coded-value":z,inherited:B}};d.CodedValueDomain=z;d.DomainBase=x;d.InheritedDomain=B;d.RangeDomain=K;d.fromJSON=function(I){if(!I?.type)return null;switch(I.type){case "range":return K.fromJSON(I);case "codedValue":return z.fromJSON(I);case "inherited":return B.fromJSON(I)}return null};d.types=u;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(d,u,z,x,B,K,I,Q,G){var q;x=q=class extends G{constructor(r){super(r);this.codedValues=null;this.type="coded-value"}getName(r){let O=null;if(this.codedValues){const Z=String(r);this.codedValues.some(X=>{String(X.code)===Z&&(O=X.name);return!!O})}return O}clone(){return new q({codedValues:u.clone(this.codedValues),name:this.name})}};d.__decorate([z.property({type:[Q.CodedValue],json:{write:!0}})],x.prototype,"codedValues",void 0);d.__decorate([K.enumeration({codedValue:"coded-value"})],x.prototype,
"type",void 0);return x=q=d.__decorate([I.subclass("esri.layers.support.CodedValueDomain")],x)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(d,u,z,x,B,K,I,Q){var G;d.CodedValue=G=class extends z.JSONSupport{constructor(q){super(q);this.code=this.name=null}clone(){return new G({name:this.name,
code:this.code})}};u.__decorate([x.property({type:String,json:{write:!0}})],d.CodedValue.prototype,"name",void 0);u.__decorate([x.property({type:[String,Number],json:{write:!0}})],d.CodedValue.prototype,"code",void 0);d.CodedValue=G=u.__decorate([Q.subclass("esri.layers.support.CodedValue")],d.CodedValue);Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(d,u,z,x,B,K,I,Q,G){u=new u.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});z=class extends z.JSONSupport{constructor(q){super(q);this.type=this.name=null}};d.__decorate([x.property({type:String,json:{write:!0}})],z.prototype,"name",void 0);d.__decorate([Q.enumeration(u)],z.prototype,"type",void 0);return z=d.__decorate([G.subclass("esri.layers.support.Domain")],z)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(d,u,z,x,B,K,I,Q){var G;u=G=class extends Q{constructor(q){super(q);this.type="inherited"}clone(){return new G}};d.__decorate([K.enumeration({inherited:"inherited"})],u.prototype,"type",void 0);return u=G=d.__decorate([I.subclass("esri.layers.support.InheritedDomain")],u)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(d,u,z,x,B,K,I,Q){var G;z=G=class extends Q{constructor(q){super(q);this.minValue=this.maxValue=null;this.type="range"}clone(){return new G({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};d.__decorate([u.property({json:{type:[Number],read:{source:"range",reader(q,r){return r.range?.[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(q,r,O){r[O]=[this.minValue||0,q]}}}})],z.prototype,"maxValue",void 0);d.__decorate([u.property({json:{type:[Number],
read:{source:"range",reader(q,r){return r.range?.[0]}},write:{target:"range",writer(q,r,O){r[O]=[q,this.maxValue||0]}}}})],z.prototype,"minValue",void 0);d.__decorate([K.enumeration({range:"range"})],z.prototype,"type",void 0);return z=G=d.__decorate([I.subclass("esri.layers.support.RangeDomain")],z)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(d,u){u=new u.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",
esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});d.kebabDict=u;Object.defineProperty(d,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["exports","../../core/has","../../core/mathUtils","../../geometry/support/spatialReferenceUtils"],function(d,u,z,x){function B(q,r){if(q===r)return!0;if(null==q||null==r||q.length!==r.length)return!1;for(let O=0;O<q.length;O++){const Z=q[O],X=r[O];if(Z.length!==X.length)return!1;for(let a=0;a<Z.length;a++)if(Z[a]!==X[a])return!1}return!0}function K(q,r){if(q===r)return!0;if(null==q||null==r||q.length!==r.length)return!1;
for(let O=0;O<q.length;O++)if(!B(q[O],r[O]))return!1;return!0}function I(q,r){return q===r||null!=q&&null!=r&&x.equals(q.spatialReference,r.spatialReference)&&q.x===r.x&&q.y===r.y&&q.z===r.z&&q.m===r.m}function Q(q,r){if(q===r)return!0;if(null==q||null==r||q.type!==r.type)return!1;switch(q.type){case "point":return I(q,r);case "extent":return q=q.hasZ!==r.hasZ||q.hasM!==r.hasM?!1:x.equals(q.spatialReference,r.spatialReference)?q.xmin===r.xmin&&q.ymin===r.ymin&&q.zmin===r.zmin&&q.xmax===r.xmax&&q.ymax===
r.ymax&&q.zmax===r.zmax:!1,q;case "polyline":return q=q.hasZ!==r.hasZ||q.hasM!==r.hasM?!1:x.equals(q.spatialReference,r.spatialReference)?K(q.paths,r.paths):!1,q;case "polygon":return q=q.hasZ!==r.hasZ||q.hasM!==r.hasM?!1:x.equals(q.spatialReference,r.spatialReference)?K(q.rings,r.rings):!1,q;case "multipoint":return q=q.hasZ!==r.hasZ||q.hasM!==r.hasM?!1:x.equals(q.spatialReference,r.spatialReference)?B(q.points,r.points):!1,q;case "mesh":return!1}}function G(q,r){if(q===r)return!0;if(!q||!r)return!1;
const O=Object.keys(q),Z=Object.keys(r);if(O.length!==Z.length)return!1;for(const X of O)if(q[X]!==r[X])return!1;return!0}d.equals=function(q,r){return q===r?!0:null!=q&&null!=r&&q.objectId===r.objectId&&Q(q.geometry,r.geometry)&&G(q.attributes,r.attributes)?!0:!1};d.pointEquals=I;d.pointNear=function(q,r,O){return q===r||null!=q&&null!=r&&x.equals(q.spatialReference,r.spatialReference)&&z.floatEqualAbsolute(q.x,r.x,O)&&z.floatEqualAbsolute(q.y,r.y,O)&&z.floatEqualAbsolute(q.z??0,r.z??0,O)&&z.floatEqualAbsolute(q.m??
0,r.m??0,O)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(d,u,z,x,B,K,I,Q,G,q){function r(b,c){return b?c?4:3:c?3:2}function O(b,c,l,n){if(b){if(l)return c&&n?wa:va;if(c&&
n)return xa}else if(c&&n)return va;return ya}function Z({scale:b,translate:c},l){return Math.round((l-c[0])/b[0])}function X({scale:b,translate:c},l){return Math.round((c[1]-l)/b[1])}function a({scale:b,translate:c},l,n){return l*b[n]+c[n]}function m(b){b=b.coords;return{x:b[0],y:b[1]}}function h(b,c){b.coords[0]=c.x;b.coords[1]=c.y;return b}function t(b){b=b.coords;return{x:b[0],y:b[1],z:b[2]}}function E(b,c){b.coords[0]=c.x;b.coords[1]=c.y;b.coords[2]=c.z;return b}function f(b){b=b.coords;return{x:b[0],
y:b[1],m:b[2]}}function A(b,c){b.coords[0]=c.x;b.coords[1]=c.y;b.coords[2]=c.m;return b}function M(b){b=b.coords;return{x:b[0],y:b[1],z:b[2],m:b[3]}}function aa(b,c){b.coords[0]=c.x;b.coords[1]=c.y;b.coords[2]=c.z;b.coords[3]=c.m;return b}function g(b,c){return b&&c?aa:b?E:c?A:h}function y(b,c,l,n,w){l=g(l,n);for(const {geometry:v,attributes:C}of c)c=null!=v?l(new q,v):null,b.push(new Q.OptimizedFeature(c,C,null,w?C[w]:void 0));return b}function L(b,c,l=g(null!=c.z,null!=c.m)){return l(b,c)}function V(b,
c,l,n){for(const {geometry:w,attributes:v}of c)b.push({attributes:v,geometry:null!=w?ba(w,l,n):null});return b}function ba(b,c,l){if(null==b)return null;const n=r(c,l),w=[];for(let v=0;v<b.coords.length;v+=n){const C=[];for(let F=0;F<n;F++)C.push(b.coords[v+F]);w.push(C)}return c?l?{points:w,hasZ:c,hasM:l}:{points:w,hasZ:c}:l?{points:w,hasM:l}:{points:w}}function Y(b,c,l,n,w){l=r(l,n);for(const {geometry:v,attributes:C}of c)c=null!=v?e(new q,v,l):null,b.push(new Q.OptimizedFeature(c,C,null,w?C[w]:
void 0));return b}function e(b,c,l=r(c.hasZ,c.hasM)){b.lengths[0]=c.points.length;const n=b.coords;let w=0;for(const v of c.points)for(c=0;c<l;c++)n[w++]=v[c];return b}function k(b,c,l){if(!b)return null;const n=r(c,l),{coords:w,lengths:v}=b;b=[];let C=0;for(const F of v){const H=[];for(let T=0;T<F;T++){const N=[];for(let P=0;P<n;P++)N.push(w[C++]);H.push(N)}b.push(H)}return c?l?{paths:b,hasZ:c,hasM:l}:{paths:b,hasZ:c}:l?{paths:b,hasM:l}:{paths:b}}function p(b,c,l,n,w){l=r(l,n);for(const {geometry:v,
attributes:C,centroid:F}of c)c=null!=v?D(new q,v,l):null,n=null!=F?L(new q,F):null,b.push(new Q.OptimizedFeature(c,C,n,w?C[w]:void 0));return b}function D(b,c,l=r(c.hasZ,c.hasM)){const {lengths:n,coords:w}=b;let v=0;for(const C of c.paths){for(const F of C)for(c=0;c<l;c++)w[v++]=F[c];n.push(C.length)}return b}function J(b,c,l){if(!b)return null;const n=r(c,l),{coords:w,lengths:v}=b;b=[];let C=0;for(const F of v){const H=[];for(let T=0;T<F;T++){const N=[];for(let P=0;P<n;P++)N.push(w[C++]);H.push(N)}b.push(H)}return c?
l?{rings:b,hasZ:c,hasM:l}:{rings:b,hasZ:c}:l?{rings:b,hasM:l}:{rings:b}}function R(b,c,l=c.hasZ,n=c.hasM){return S(b,c.rings,l,n)}function S(b,c,l,n){l=r(l,n);const {lengths:w,coords:v}=b;n=0;oa(b);for(const C of c){for(const F of C)for(c=0;c<l;c++)v[n++]=F[c];w.push(C.length)}return b}function W(b,c,l,n,w,v){na(b);if(!l){for(const C of c)b.push(new Q.OptimizedFeature(null,C.attributes,null,v?C.attributes[v]:void 0));return b}switch(l){case "esriGeometryPoint":return y(b,c,n,w,v);case "esriGeometryMultipoint":return Y(b,
c,n,w,v);case "esriGeometryPolyline":return p(b,c,n,w,v);case "esriGeometryPolygon":for(const {geometry:C,centroid:F,attributes:H}of c)c=null!=C?R(new q,C,n,w):null,l=v?H[v]:void 0,null!=F?b.push(new Q.OptimizedFeature(c,H,h(new q,F),l)):b.push(new Q.OptimizedFeature(c,H,null,l));break;default:sa().error("convertToFeatureSet:unknown-geometry",new u(`Unable to parse unknown geometry type '${l}'`)),na(b)}return b}function da(b,c,l,n){b=b&&("coords"in b?b:b.geometry);if(null==b)return null;switch(c){case "esriGeometryPoint":return c=
m,l&&n?c=M:l?c=t:n&&(c=f),c(b);case "esriGeometryMultipoint":return ba(b,l,n);case "esriGeometryPolyline":return k(b,l,n);case "esriGeometryPolygon":return J(b,l,n);default:return sa().error("convertToGeometry:unknown-geometry",new u(`Unable to parse unknown geometry type '${c}'`)),null}}function U(b,c,l,n,w){na(b);if(null==l){for(const C of c)b.push({attributes:C.attributes});return b}switch(l){case "esriGeometryPoint":l=m;n&&w?l=M:n?l=t:w&&(l=f);for(var v of c){const {geometry:C,attributes:F}=v;
n=null!=C?l(C):null;b.push({attributes:F,geometry:n})}break;case "esriGeometryMultipoint":return V(b,c,n,w);case "esriGeometryPolyline":for(const {geometry:C,attributes:F}of c)b.push({attributes:F,geometry:null!=C?k(C,n,w):null});break;case "esriGeometryPolygon":for(const {geometry:C,attributes:F,centroid:H}of c)v=null!=C?J(C,n,w):null,null!=H?(c=m(H),b.push({attributes:F,centroid:c,geometry:v})):b.push({attributes:F,geometry:v});break;default:sa().error("convertToFeatureSet:unknown-geometry",new u(`Unable to parse unknown geometry type '${l}'`))}return b}
function fa(b,c,l,n,w,v,C=l,F=n){oa(b);if(!c?.coords.length)return null;w=ua[w];const {coords:H,lengths:T}=c;c=r(l,n);const N=r(l&&C,n&&F);l=O(l,n,C,F);if(!T.length)return l(b.coords,H,0,0,Z(v,H[0]),X(v,H[1])),oa(b,c,0),b;let P,ca=0,ea,ja=0;for(const la of T){if(la<w)continue;let ha=0;ea=ja;F=n=Z(v,H[ca]);P=C=X(v,H[ca+1]);l(b.coords,H,ea,ca,F,P);ha++;ca+=c;ea+=N;for(let ma=1;ma<la;ma++,ca+=c)if(F=Z(v,H[ca]),P=X(v,H[ca+1]),F!==n||P!==C)l(b.coords,H,ea,ca,F-n,P-C),ea+=N,ha++,n=F,C=P;ha>=w&&(b.lengths.push(ha),
ja=ea)}na(b.coords,ja);return b.coords.length?b:null}function ka(b,c,l,n,w,v,C){let F=n,H=0;for(let N=v+l;N<C;N+=l){var T=c[N];const P=c[N+1],ca=c[C],ea=c[C+1];let ja=c[v],la=c[v+1],ha=ca-ja,ma=ea-la;if(0!==ha||0!==ma){const qa=((T-ja)*ha+(P-la)*ma)/(ha*ha+ma*ma);1<qa?(ja=ca,la=ea):0<qa&&(ja+=ha*qa,la+=ma*qa)}ha=T-ja;ma=P-la;T=ha*ha+ma*ma;T>F&&(H=N,F=T)}F>n&&(H-v>l&&ka(b,c,l,n,w,v,H),w(b,c,b.length,H,c[H],c[H+1]),C-H>l&&ka(b,c,l,n,w,H,C))}function ia(b,c,l,n,w){const {coords:v,lengths:C}=c;l=r(l,
n);if(!v.length)return b!==c&&oa(b),b;x.assertIsSome(w);const {originPosition:F,scale:H,translate:T}=w;w=za;w.originPosition=F;n=w.scale;n[0]=H[0]??1;n[1]=-(H[1]??1);n[2]=H[2]??1;n[3]=H[3]??1;var N=w.translate;N[0]=T[0]??0;N[1]=T[1]??0;N[2]=T[2]??0;N[3]=T[3]??0;if(!C.length){for(n=0;n<l;++n)b.coords[n]=a(w,v[n],n);b!==c&&oa(b,l,0);return b}N=0;for(let ca=0;ca<C.length;ca++){const ea=C[ca];b.lengths[ca]=ea;for(var P=0;P<l;++P)b.coords[N+P]=a(w,v[N+P],P);P=b.coords[N];let ja=b.coords[N+1];N+=l;for(let la=
1;la<ea;la++,N+=l){P+=v[N]*n[0];ja+=v[N+1]*n[1];b.coords[N]=P;b.coords[N+1]=ja;for(let ha=2;ha<l;++ha)b.coords[N+ha]=a(w,v[N+ha],ha)}}b!==c&&oa(b,v.length,C.length);return b}function pa(b,c,l,n){let w=0,v=b[n*c],C=b[n*(c+1)];for(let F=1;F<l;F++){const H=v+b[n*(c+F)],T=C+b[n*(c+F)+1],N=(H-v)*(T+C);v=H;C=T;w+=N}return.5*w}function oa(b,c=0,l=0){na(b.lengths,l);na(b.coords,c)}function na(b,c=0){b.length!==c&&(b.length=c)}const sa=()=>z.getLogger("esri.layers.graphics.featureConversionUtils"),ua={esriGeometryPoint:0,
esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryEnvelope:0},ya=(b,c,l,n,w,v)=>{b[l]=w;b[l+1]=v},va=(b,c,l,n,w,v)=>{b[l]=w;b[l+1]=v;b[l+2]=c[n+2]},xa=(b,c,l,n,w,v)=>{b[l]=w;b[l+1]=v;b[l+2]=c[n+3]},wa=(b,c,l,n,w,v)=>{b[l]=w;b[l+1]=v;b[l+2]=c[n+2];b[l+3]=c[n+3]},ra=[],ta=[],za={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};d.convertFromFeature=function(b,c,l,n,w){ra[0]=b;[b]=W(ta,ra,c,l,n,w);na(ra);na(ta);return b};d.convertFromFeatureSet=function(b,
c){const l=new G,{hasM:n,hasZ:w,features:v,objectIdFieldName:C,spatialReference:F,geometryType:H,exceededTransferLimit:T,transform:N,fields:P}=b;P&&(l.fields=P);l.geometryType=H??null;l.objectIdFieldName=C??c??null;l.spatialReference=F??null;if(!l.objectIdFieldName)return sa().error(new u("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),l;v&&W(l.features,v,H,w,n,l.objectIdFieldName);T&&(l.exceededTransferLimit=T);n&&(l.hasM=n);w&&(l.hasZ=w);N&&(l.transform=N);return l};
d.convertFromFeatures=W;d.convertFromGeometry=function(b,c,l){if(null==b)return null;const n=new q;"hasZ"in b&&null==c&&(c=b.hasZ);"hasM"in b&&null==l&&(l=b.hasM);if(I.isPoint(b))return g(null!=c?c:null!=b.z,null!=l?l:null!=b.m)(n,b);if(I.isPolygon(b))return R(n,b,c,l);if(I.isPolyline(b))return D(n,b,r(c,l));if(I.isMultipoint(b))return e(n,b,r(c,l));sa().error("convertFromGeometry:unknown-geometry",new u(`Unable to parse unknown geometry type '${b}'`))};d.convertFromMultipoint=e;d.convertFromMultipointFeatures=
Y;d.convertFromNestedArray=S;d.convertFromPoint=L;d.convertFromPointFeatures=y;d.convertFromPolygon=R;d.convertFromPolyline=D;d.convertFromPolylineFeatures=p;d.convertToFeature=function(b,c,l,n){ta[0]=b;U(ra,ta,c,l,n);b=ra[0];na(ra);na(ta);return b};d.convertToFeatureSet=function(b){const {objectIdFieldName:c,spatialReference:l,transform:n,fields:w,hasM:v,hasZ:C,features:F,geometryType:H,exceededTransferLimit:T,uniqueIdField:N,queryGeometry:P,queryGeometryType:ca}=b;b=U([],F,H,C,v);const ea=da(P,
ca,!1,!1);b={features:b,fields:w,geometryType:H,objectIdFieldName:c,spatialReference:l,uniqueIdField:N,queryGeometry:ea};n&&(b.transform=n);T&&(b.exceededTransferLimit=T);v&&(b.hasM=v);C&&(b.hasZ=C);return b};d.convertToFeatures=U;d.convertToGeometry=da;d.convertToMultipoint=ba;d.convertToMultipointFeatures=V;d.convertToPoint=function(b,c,l){return b?c?l?M(b):t(b):l?f(b):m(b):null};d.convertToPolygon=J;d.convertToPolyline=k;d.generalizeOptimizedGeometry=function(b,c,l,n,w,v,C=l,F=n){oa(b);if(!c?.coords.length)return null;
w=ua[w];const {coords:H,lengths:T}=c;c=r(l,n);const N=r(l&&C,n&&F);l=O(l,n,C,F);if(!T.length)return l(b.coords,H,0,0,H[0],H[1]),oa(b,c,0),b;n=0;v*=v;for(const P of T){if(P<w){n+=P*c;continue}C=b.coords.length/N;F=n;const ca=n+(P-1)*c;l(b.coords,H,b.coords.length,F,H[F],H[F+1]);ka(b.coords,H,c,v,l,F,ca);l(b.coords,H,b.coords.length,ca,H[ca],H[ca+1]);F=b.coords.length/N-C;F>=w?b.lengths.push(F):na(b.coords,C*N);n+=P*c}return b.coords.length?b:null};d.getBoundsOptimizedGeometry=function(b,c,l,n){if(!c?.coords?.length)return null;
l=r(l,n);let w=n=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,C=Number.NEGATIVE_INFINITY;if(c&&c.coords){c=c.coords;for(let F=0;F<c.length;F+=l){const H=c[F],T=c[F+1];n=Math.min(n,H);v=Math.max(v,H);w=Math.min(w,T);C=Math.max(C,T)}}B.is(b)?B.fromRectValues(b,n,w,v,C):K.fromValues(n,w,v,C,b);return b};d.getQuantizedArea=function(b,c){const {coords:l,lengths:n}=b;let w=b=0;for(let v=0;v<n.length;v++){const C=n[v];w+=pa(l,b,C,c);b+=C}return Math.abs(w)};d.getQuantizedBoundsOptimizedGeometry=function(b,
c,l,n){l=r(l,n);const {lengths:w,coords:v}=c;n=c=Number.POSITIVE_INFINITY;let C=Number.NEGATIVE_INFINITY,F=Number.NEGATIVE_INFINITY,H=0;for(const T of w){let N=v[H],P=v[H+1];c=Math.min(N,c);n=Math.min(P,n);C=Math.max(N,C);F=Math.max(P,F);H+=l;for(let ca=1;ca<T;ca++,H+=l){const ea=v[H],ja=v[H+1];N+=ea;P+=ja;0>ea&&(c=Math.min(c,N));0<ea&&(C=Math.max(C,N));0>ja?n=Math.min(n,P):0<ja&&(F=Math.max(F,P))}}b[0]=c;b[1]=n;b[2]=C;b[3]=F;return b};d.getSignedQuantizedRingArea=pa;d.quantizeOptimizedFeatureSet=
function(b,c){const {geometryType:l,features:n,hasM:w,hasZ:v}=c;if(!b)return c;for(let C=0;C<n.length;C++){const F=n[C],H=F.weakClone();H.geometry=new q;fa(H.geometry,F.geometry,w,v,l,b);F.centroid&&(H.centroid=new q,fa(H.centroid,F.centroid,w,v,"esriGeometryPoint",b));n[C]=H}c.transform=b;return c};d.quantizeOptimizedGeometry=fa;d.quantizeX=Z;d.quantizeY=X;d.removeCollinearVertices=function(b,c,l,n,w){if(!c?.coords?.length)return null;l=ua[l];const {coords:v,lengths:C}=c;c=O(n,w,n,w);n=r(n,w);let F=
w=0,H=0,T=0;for(const ca of C){F=T;c(b.coords,v,F,w,v[w],v[w+1]);w+=n;var N=v[w];let ea=v[w+1],ja=N,la=ea;var P=ea/N;F+=n;c(b.coords,v,F,w,ja,la);w+=n;for(let ha=2;ha<ca;ha++){N=v[w];ea=v[w+1];const ma=ea/N,qa=P===ma||!isFinite(P)&&!isFinite(ma);P=qa&&isFinite(ma)?0<=P&&0<=ma||0>=P&&0>=ma:0<=la&&0<=ea||0>=la&&0>=ea;qa&&P?(ja+=N,la+=ea):(ja=N,la=ea,F+=n);c(b.coords,v,F,w,ja,la);w+=n;P=ma}F+=n;N=(F-T)/n;N>=l&&(b.lengths[H]=N,T=F,H++)}b.coords.length>T&&(b.coords.length=T);b.lengths.length>H&&(b.lengths.length=
H);return b.coords.length&&b.lengths.length?b:null};d.removeZMValues=function(b,c,l,n,w,v){oa(b);b.lengths.push(...c.lengths);if(l===w&&n===v)for(var C=0;C<c.coords.length;C++)b.coords.push(c.coords[C]);else for(C=r(l,n),l=O(l,n,w,v),c=c.coords,n=0;n<c.length;n+=C)l(b.coords,c,b.coords.length,n,c[n],c[n+1]);return b};d.unquantizeOptimizedFeatureSet=function(b){const {transform:c,features:l,hasM:n,hasZ:w}=b;if(!c)return b;for(const v of l)null!=v.geometry&&ia(v.geometry,v.geometry,n,w,c),null!=v.centroid&&
ia(v.centroid,v.centroid,n,w,c);b.transform=null;return b};d.unquantizeOptimizedGeometry=ia;d.unquantizeValue=a;d.unquantizeX=function(b,c){return a(b,c,0)};d.unquantizeY=function(b,c){return a(b,-c,1)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","./OptimizedGeometry"],function(d,u){class z{constructor(B=null,K={},I,Q){this.geometry=B;this.attributes=K;this.centroid=I;this.objectId=Q;this.geohashY=this.geohashX=
this.displayId=0}static fromJSON(B,K){const I=B.geometry?u.fromJSON(B.geometry):null,Q=B.centroid?u.fromJSON(B.centroid):null;return new z(I,B.attributes,Q,B.attributes[K])}weakClone(){const B=new z(this.geometry,this.attributes,this.centroid,this.objectId);B.displayId=this.displayId;B.geohashX=this.geohashX;B.geohashY=this.geohashY;return B}clone(){var B=this.geometry?.clone();B=new z(B,{...this.attributes},this.centroid?.clone(),this.objectId);B.displayId=this.displayId;B.geohashX=this.geohashX;
B.geohashY=this.geohashY;return B}}class x extends z{}d.OptimizedFeature=z;d.OptimizedFeatureWithGeometry=x;d.hasGeometry=function(B){return!!B.geometry?.coords?.length};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedGeometry":function(){define(function(){class d{constructor(u=[],z=[],x=!1){this.lengths=u??[];this.coords=z??[];this.hasIndeterminateRingOrder=x}static fromJSON(u){return new d(u.lengths,u.coords,u.hasIndeterminateRingOrder)}static fromRect(u){const [z,
x,B,K]=u;u=B-z;const I=K-x;return new d([5],[z,x,u,0,0,I,-u,0,0,-I])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((u,z)=>u+z)}forEachVertex(u){let z=0;this.lengths.length||u(this.coords[0],this.coords[1]);for(let x=0;x<this.lengths.length;x++){const B=this.lengths[x];for(let K=0;K<B;K++)u(this.coords[2*(K+z)],this.coords[2*(K+z)+1]);z+=B}}deltaDecode(){const u=this.clone(),{coords:z,lengths:x}=u;let B=0;for(const K of x){for(let I=
1;I<K;I++)z[2*(B+I)]+=z[2*(B+I)-2],z[2*(B+I)+1]+=z[2*(B+I)-1];B+=K}return u}clone(u){if(0===this.lengths.length)return new d([],[this.coords[0],this.coords[1]]);var z=2*(0===this.lengths.length?1:this.lengths.reduce((x,B)=>x+B));z=this.coords.slice(0,z);return u?(u.set(z),new d(this.lengths,u,this.hasIndeterminateRingOrder)):new d(Array.from(this.lengths),Array.from(z),this.hasIndeterminateRingOrder)}}return d})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){class d{constructor(){this.spatialReference=
this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}weakClone(){const u=new d;u.objectIdFieldName=this.objectIdFieldName;u.globalIdFieldName=this.globalIdFieldName;u.geohashFieldName=this.geohashFieldName;u.geometryProperties=this.geometryProperties;u.geometryType=this.geometryType;
u.spatialReference=this.spatialReference;u.hasZ=this.hasZ;u.hasM=this.hasM;u.features=this.features;u.fields=this.fields;u.transform=this.transform;u.exceededTransferLimit=this.exceededTransferLimit;u.uniqueIdField=this.uniqueIdField;u.queryGeometry=this.queryGeometry;u.queryGeometryType=this.queryGeometryType;return u}}return d})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(d,u){d.parsePBFFeatureQuery=function(z,x){var B=u.parseFeatureQuery(z,
x);z=B.queryResult.featureResult;x=B.queryResult.queryGeometry;B=B.queryResult.queryGeometryType;if(z&&z.features&&z.features.length&&z.objectIdFieldName){const K=z.objectIdFieldName;for(const I of z.features)I.attributes&&(I.objectId=I.attributes[K])}z&&(z.queryGeometry=x,z.queryGeometryType=B);return z};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define(["exports","../../../core/Error","../../../core/pbf","../../../layers/graphics/OptimizedGeometry",
"./pbfOptimizedFeatureSet"],function(d,u,z,x,B){function K(g){return g>=A.length?null:A[g]}function I(g,y,L){g=g.asUnsafe();for(L=y.createPointGeometry(L);g.next();)switch(g.tag()){case 3:var V=g.getUInt32();V=g.pos()+V;let ba=0;for(;g.pos()<V;)y.addCoordinatePoint(L,g.getSInt64(),ba++);break;default:g.skip()}return L}function Q(g,y,L){g=g.asUnsafe();const V=y.createGeometry(L);for(L=2+(L.hasZ?1:0)+(L.hasM?1:0);g.next();)switch(g.tag()){case 2:var ba=g.getUInt32();ba=g.pos()+ba;for(var Y=0;g.pos()<
ba;)y.addLength(V,g.getUInt32(),Y++);break;case 3:ba=g.getUInt32();ba=g.pos()+ba;Y=0;for(y.allocateCoordinates(V);g.pos()<ba;)y.addCoordinate(V,g.getSInt64(),Y),Y++,Y===L&&(Y=0);break;default:g.skip()}return V}function G(g){g=g.asUnsafe();const y=new x;let L="esriGeometryPoint";for(;g.next();)switch(g.tag()){case 2:var V=g.getUInt32();for(V=g.pos()+V;g.pos()<V;)y.lengths.push(g.getUInt32());break;case 3:V=g.getUInt32();for(V=g.pos()+V;g.pos()<V;)y.coords.push(g.getSInt64());break;case 1:L=B.optimizedGeometryTypes[g.getEnum()];
break;default:g.skip()}return{queryGeometry:y,queryGeometryType:L}}function q(g){for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:return g.getString();case 2:return g.getFloat();case 3:return g.getDouble();case 4:return g.getSInt32();case 5:return g.getUInt32();case 6:return g.getInt64();case 7:return g.getUInt64();case 8:return g.getSInt64();case 9:return g.getBool();default:return g.skip(),null}return null}function r(g){g=g.asUnsafe();const y={type:K(0)};for(;g.next();)switch(g.tag()){case 1:y.name=
g.getString();break;case 2:y.type=K(g.getEnum());break;case 3:y.alias=g.getString();break;case 4:var L=g.getEnum();L=L>=M.length?null:M[L];y.sqlType=L;break;case 5:g.skip();break;case 6:y.defaultValue=g.getString();break;default:g.skip()}return y}function O(g){const y={};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:y.name=g.getString();break;case 2:y.isSystemMaintained=g.getBool();break;default:g.skip()}return y}function Z(g,y,L,V){const ba=y.createFeature(L);let Y=0;for(;g.next();)switch(g.tag()){case 1:const e=
V[Y++].name;ba.attributes[e]=g.processMessage(q);break;case 2:ba.geometry=g.processMessageWithArgs(Q,y,L);break;case 4:ba.centroid=g.processMessageWithArgs(I,y,L);break;default:g.skip()}return ba}function X(g){const y=[1,1,1,1];for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:y[0]=g.getDouble();break;case 2:y[1]=g.getDouble();break;case 4:y[2]=g.getDouble();break;case 3:y[3]=g.getDouble();break;default:g.skip()}return y}function a(g){const y=[0,0,0,0];for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:y[0]=
g.getDouble();break;case 2:y[1]=g.getDouble();break;case 4:y[2]=g.getDouble();break;case 3:y[3]=g.getDouble();break;default:g.skip()}return y}function m(g){const y={originPosition:0>=aa.length?null:aa[0]};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:var L=g.getEnum();y.originPosition=L>=aa.length?null:aa[L];break;case 2:y.scale=g.processMessage(X);break;case 3:y.translate=g.processMessage(a);break;default:g.skip()}return y}function h(g){const y={};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:y.shapeAreaFieldName=
g.getString();break;case 2:y.shapeLengthFieldName=g.getString();break;case 3:y.units=g.getString();break;default:g.skip()}return y}function t(g,y){for(y=y.createSpatialReference();g.next();)switch(g.tag()){case 1:y.wkid=g.getUInt32();break;case 5:y.wkt=g.getString();break;case 2:y.latestWkid=g.getUInt32();break;case 3:y.vcsWkid=g.getUInt32();break;case 4:y.latestVcsWkid=g.getUInt32();break;default:g.skip()}return y}function E(g,y){const L=y.createFeatureResult();g=g.asUnsafe();L.geometryType=0>=y.geometryTypes.length?
null:y.geometryTypes[0];let V=!1;for(;g.next();)switch(g.tag()){case 1:L.objectIdFieldName=g.getString();break;case 3:L.globalIdFieldName=g.getString();break;case 4:L.geohashFieldName=g.getString();break;case 5:L.geometryProperties=g.processMessage(h);break;case 7:var ba=g.getEnum();L.geometryType=ba>=y.geometryTypes.length?null:y.geometryTypes[ba];break;case 8:L.spatialReference=g.processMessageWithArgs(t,y);break;case 10:L.hasZ=g.getBool();break;case 11:L.hasM=g.getBool();break;case 12:L.transform=
g.processMessage(m);break;case 9:L.exceededTransferLimit=g.getBool();break;case 13:y.addField(L,g.processMessage(r));break;case 15:V||(y.prepareFeatures(L),V=!0);y.addFeature(L,g.processMessageWithArgs(Z,y,L,L.fields));break;case 2:L.uniqueIdField=g.processMessage(O);break;default:g.skip()}y.finishFeatureResult(L);return L}function f(g,y){const L={};let V=null;for(;g.next();)switch(g.tag()){case 4:V=g.processMessageWithArgs(G);break;case 1:L.featureResult=g.processMessageWithArgs(E,y);break;default:g.skip()}null!=
V&&L.featureResult&&y.addQueryGeometry(L,V);return L}const A="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML esriFieldTypeBigInteger esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "),M="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),
aa=["upperLeft","lowerLeft"];d.parseFeatureQuery=function(g,y){try{const L=new z(new Uint8Array(g),new DataView(g));for(g={};L.next();)switch(L.tag()){case 2:g.queryResult=L.processMessageWithArgs(f,y);break;default:L.skip()}return g}catch(L){throw new u("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:L});}};d.parseField=r;d.parseFieldType=K;d.parseTransform=m;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(d,u,z,x,B,K){const I=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class Q{constructor(G){this._options=G;this.geometryTypes=I;this._vertexDimension=this._coordinatePtr=0}createFeatureResult(){return new B}prepareFeatures(G){this._vertexDimension=2;G.hasZ&&this._vertexDimension++;G.hasM&&this._vertexDimension++}finishFeatureResult(G){if(G?.features&&G.hasZ&&this._options.sourceSpatialReference&&G.spatialReference&&!z.equals(G.spatialReference,
this._options.sourceSpatialReference)&&!G.spatialReference.vcsWkid){var q=u.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),r=u.getMetersPerVerticalUnitForSR(G.spatialReference);q/=r;if(1!==q)for(const O of G.features)if(x.hasGeometry(O))for(G=O.geometry.coords,r=2;r<G.length;r+=3)G[r]*=q}}addFeature(G,q){G.features.push(q)}createFeature(){return new x.OptimizedFeature}createSpatialReference(){return{wkid:0}}createGeometry(){return new K}addField(G,q){G.fields.push(q)}allocateCoordinates(G){G.coords.length=
G.lengths.reduce((q,r)=>q+r,0)*this._vertexDimension;this._coordinatePtr=0}addCoordinate(G,q){G.coords[this._coordinatePtr++]=q}addCoordinatePoint(G,q){G.coords.push(q)}addLength(G,q){G.lengths.push(q)}addQueryGeometry(G,q){G.queryGeometry=q.queryGeometry;G.queryGeometryType=q.queryGeometryType}createPointGeometry(){return new K}}d.OptimizedFeatureSetParserContext=Q;d.optimizedGeometryTypes=I;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../rest/query/operations/pbfDehydratedFeatureSet","../../../rest/query/operations/pbfQueryUtils"],function(d,u){class z{_parseFeatureQuery(x){var B=new d.DehydratedFeatureSetParserContext(x.options);x=u.parsePBFFeatureQuery(x.buffer,B);B={...x,spatialReference:x.spatialReference?.toJSON(),fields:x.fields?x.fields.map(K=>K.toJSON()):void 0,missingAttributes:B.missingAttributes};return Promise.resolve(B)}}return function(){return new z}});