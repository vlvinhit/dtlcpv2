// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
(function(a,b){var B,w,v,u=function(){return"undefined"!==typeof p&&"function"!==typeof p?p:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),h=function(){},g=function(X){for(var ja in X)return 0;return 1},c={}.toString,d=function(X){return"[object Function]"==c.call(X)},l=function(X){return"[object String]"==c.call(X)},r=function(X){return"[object Array]"==c.call(X)},q=function(X,ja){if(X)for(var oa=0;oa<X.length;)ja(X[oa++])},k=function(X,ja){for(var oa in ja)X[oa]=ja[oa];
return X},e=function(X,ja){return k(Error(X),{src:"dojoLoader",info:ja})},n=1,x=function(){return"_"+n++},f=function(X,ja,oa){return t(X,ja,oa,0,f)},p=u,y=p.document,z=y&&y.createElement("DiV"),E=f.has=function(X){return d(F[X])?F[X]=F[X](p,y,z):F[X]},F=E.cache=b.hasCache;d(a)&&(a=a(u));E.add=function(X,ja,oa,qa){(void 0===F[X]||qa)&&(F[X]=ja);return oa&&E(X)};E.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);E("host-webworker")&&(k(b.hasCache,{"host-browser":0,
dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(X,ja){try{importScripts(X),ja()}catch(oa){console.info("failed to load resource ("+X+")"),console.error(oa)}}});for(var D in a.has)E.add(D,a.has[D],0,1);var A=0,C=[],G=0,J=h,I=h;f.isXdUrl=h;f.initSyncLoader=function(X,ja,oa){G||(G=X,J=ja,I=oa);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:C,modules:va,execQ:N,
getModule:Ia,injectModule:ob,setArrived:Fa,signal:U,finishExec:fb,execModule:hb,dojoRequirePlugin:G,getLegacyMode:function(){return A},guardCheckComplete:pb}};if(E("dom")||E("host-webworker")){var P=location.protocol,S=location.host;f.isXdUrl=function(X){return/^\./.test(X)?!1:/^\/\//.test(X)?!0:(X=X.match(/^([^\/:]+:)\/+([^\/]+)/))&&(X[1]!=P||S&&X[2]!=S)};E.add("dojo-force-activex-xhr",E("host-browser")&&!y.addEventListener&&"file:"==window.location.protocol);if(E("dojo-force-activex-xhr")){var Y=
["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(v=0;3>v;)try{var M=Y[v++];new ActiveXObject(M);break}catch(X){}var L=function(){return new ActiveXObject(M)}}else L=function(){return new XMLHttpRequest};f.getXhr=L;E.add("dojo-gettext-api",1);f.getText=function(X,ja,oa){var qa=L();qa.open("GET",ib(X),!1);qa.send(null);if(200==qa.status||!location.host&&!qa.status)oa&&oa(qa.responseText,ja);else throw e("xhrFailed",qa.status);return qa.responseText}}f.eval=function(X,ja){};var O={},U=
f.signal=function(X,ja){X=O[X];q(X&&X.slice(0),function(oa){oa.apply(null,r(ja)?ja:[ja])})},ca=f.on=function(X,ja){var oa=O[X]||(O[X]=[]);oa.push(ja);return{remove:function(){for(var qa=0;qa<oa.length;qa++)if(oa[qa]===ja){oa.splice(qa,1);break}}}},ha=[],ia={},ea=[],la={},ra=f.map={},wa=[],va={},aa="",T={},Q={},V={},ba=0;if(!E("foreign-loader"))var fa=function(X,ja){ja=!1!==ja;var oa,qa;for(oa in Q){var ya=Q[oa];if(qa=oa.match(/^url:(.+)/))T["url:"+Xa(qa[1],X)]=ya;else if("*now"==oa)var Ca=ya;else"*noref"!=
oa&&(qa=tb(oa,X,!0),T[qa.mid]=T["url:"+qa.url]=ya)}Ca&&Ca(K(X));ja&&(Q={})};var pa=function(X){return X.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ja){return"\\"+ja})},ta=function(X,ja){ja.splice(0,ja.length);for(var oa in X)ja.push([oa,X[oa],new RegExp("^"+pa(oa)+"(/|$)"),oa.length]);ja.sort(function(qa,ya){return ya[3]-qa[3]});return ja},sa=function(X,ja){q(X,function(oa){ja.push([l(oa[0])?new RegExp("^"+pa(oa[0])+"$"):oa[0],oa[1]])})},xa=function(X){var ja=X.name;ja||(ja=X,X={name:ja});X=
k({main:"main"},X);X.location=X.location?X.location:ja;X.packageMap&&(ra[ja]=X.packageMap);X.main.indexOf("./")||(X.main=X.main.substring(2));la[ja]=X},Ba=[],Ea=function(X,ja,oa){for(var qa in X){"waitSeconds"==qa&&(f.waitms=1E3*(X[qa]||0));"cacheBust"==qa&&(aa=X[qa]?l(X[qa])?X[qa]:(new Date).getTime()+"":"");if("baseUrl"==qa||"combo"==qa)f[qa]=X[qa];if("async"==qa){var ya=X[qa];f.legacyMode=A=l(ya)&&/sync|legacyAsync/.test(ya)?ya:ya?!1:"sync";f.async=!A}X[qa]!==F&&(f.rawConfig[qa]=X[qa],"has"!=qa&&
E.add("config-"+qa,X[qa],0,ja))}f.baseUrl||(f.baseUrl="./");/\/$/.test(f.baseUrl)||(f.baseUrl+="/");for(qa in X.has)E.add(qa,X.has[qa],0,ja);q(X.packages,xa);for(var Ca in X.packagePaths)q(X.packagePaths[Ca],function(Ma){var bb=Ca+"/"+Ma;l(Ma)&&(Ma={name:Ma});Ma.location=bb;xa(Ma)});ta(k(ra,X.map),wa);q(wa,function(Ma){Ma[1]=ta(Ma[1],[]);"*"==Ma[0]&&(wa.star=Ma)});ta(k(ia,X.paths),ea);sa(X.aliases,ha);if(!E("foreign-loader")){if(ja)Ba.push({config:X.config});else for(qa in X.config)ja=Ia(qa,oa),ja.config=
k(ja.config||{},X.config[qa]);X.cache&&(fa(),Q=X.cache,fa(0,!!X.cache["*noref"]))}U("config",[X,f.rawConfig])};f.rawConfig={};Ea(b,1);Ea(a,1);Ea(V,1);if(!E("foreign-loader"))var Da=function(X){pb(function(){q(X.deps,ob)})},t=function(X,ja,oa,qa,ya){var Ca;if(l(X)){if((Ca=Ia(X,qa,!0))&&Ca.executed)return Ca.result;throw e("undefinedModule",X);}r(X)||(Ea(X,0,qa),X=ja,ja=oa);if(r(X))if(X.length){oa="require*"+x();for(var Ma,bb=[],qb=0;qb<X.length;)Ma=X[qb++],bb.push(Ia(Ma,qa));Ca=k(cb("",oa,0,""),{injected:2,
deps:bb,def:ja||h,require:qa?qa.require:f,gc:1});va[Ca.mid]=Ca;Da(Ca);var xb=$a&&"sync"!=A;pb(function(){hb(Ca,xb)});Ca.executed||N.push(Ca);gb()}else ja&&ja();return ya},K=function(X){if(!X)return f;var ja=X.require;ja||(ja=function(oa,qa,ya){return t(oa,qa,ya,X,ja)},X.require=k(ja,f),ja.module=X,ja.toUrl=function(oa){return Xa(oa,X)},ja.toAbsMid=function(oa){return Fb(oa,X)},ja.syncLoadNls=function(oa){oa=tb(oa,X);var qa=va[oa.mid];if(!qa||!qa.executed)if(db=T[oa.mid]||T["url:"+oa.url])jb(db),qa=
va[oa.mid];return qa&&qa.executed&&qa.result});return ja},N=[],Z=[],ka={},Aa=function(X){X.injected=1;ka[X.mid]=1;X.url&&(ka[X.url]=X.pack||1);Pb()},Fa=function(X){X.injected=2;delete ka[X.mid];X.url&&delete ka[X.url];g(ka)&&(Qb(),"xd"==A&&(A="sync"))},Ha=f.idle=function(){return!Z.length&&g(ka)&&!N.length&&!$a};var Pa=function(X,ja){if(ja)for(var oa=0;oa<ja.length;oa++)if(ja[oa][2].test(X))return ja[oa];return 0},ab=function(X){var ja=[];for(X=X.replace(/\\/g,"/").split("/");X.length;){var oa=X.shift();
if(".."==oa&&ja.length&&".."!=qa){ja.pop();var qa=ja[ja.length-1]}else"."!=oa&&ja.push(qa=oa)}return ja.join("/")},cb=function(X,ja,oa,qa){var ya=f.isXdUrl(qa);return{pid:X,mid:ja,pack:oa,url:qa,executed:0,def:0,isXd:ya,isAmd:!!(ya||la[X]&&la[X].isAmd)}},Ib=function(X,ja,oa,qa,ya,Ca,Ma,bb,qb,xb){var kb,Gb,Ya;var yb=/^\./.test(X);if(/(^\/)|(:)|(\.js$)/.test(X)||yb&&!ja)return cb(0,X,0,X);X=ab(yb?ja.mid+"/../"+X:X);if(/^\./.test(X))throw e("irrationalPath",X);xb||yb||!Ca.star||(Ya=Pa(X,Ca.star[1]));
!Ya&&ja&&(Ya=(Ya=Pa(ja.mid,Ca))&&Pa(X,Ya[1]));Ya&&(X=Ya[1]+X.substring(Ya[3]));ja=(B=X.match(/^([^\/]+)(\/(.+))?$/))?B[1]:"";(kb=oa[ja])?X=ja+"/"+(Gb=B[3]||kb.main):ja="";var zb=0;q(bb,function(rb){var Hb=X.match(rb[0]);Hb&&0<Hb.length&&(zb=d(rb[1])?X.replace(rb[0],rb[1]):rb[1])});if(zb)return Ib(zb,0,oa,qa,ya,Ca,Ma,bb,qb);if(oa=qa[X])return qb?cb(oa.pid,oa.mid,oa.pack,oa.url):qa[X];qa=(Ya=Pa(X,Ma))?Ya[1]+X.substring(Ya[3]):ja?("/"===kb.location.slice(-1)?kb.location.slice(0,-1):kb.location)+"/"+
Gb:X;/(^\/)|(:)/.test(qa)||(qa=ya+qa);return cb(ja,X,kb,ab(qa+".js"))},tb=function(X,ja,oa){return Ib(X,ja,la,va,f.baseUrl,wa,ea,ha,void 0,oa)};if(!E("foreign-loader"))var Rb=function(X,ja,oa){return X.normalize?X.normalize(ja,function(qa){return Fb(qa,oa)}):Fb(ja,oa)},Za=0,Ia=function(X,ja,oa){var qa;if(qa=X.match(/^(.+?)!(.*)$/)){var ya=Ia(qa[1],ja,oa);"sync"!=A||ya.executed||(ob(ya),2!==ya.injected||ya.executed||pb(function(){hb(ya)}),ya.executed?ub(ya):N.unshift(ya));5!==ya.executed||ya.load||
ub(ya);ya.load?(qa=Rb(ya,qa[2],ja),X=ya.mid+"!"+(ya.dynamic?++Za+"!":"")+qa):(qa=qa[2],X=ya.mid+"!"+ ++Za+"!waitingForPlugin");X={plugin:ya,mid:X,req:K(ja),prid:qa}}else X=tb(X,ja);return va[X.mid]||!oa&&(va[X.mid]=X)};var Fb=f.toAbsMid=function(X,ja){return tb(X,ja).mid},Xa=f.toUrl=function(X,ja){ja=tb(X+"/x",ja);var oa=ja.url;return ib(0===ja.pid?X:oa.substring(0,oa.length-5))};if(!E("foreign-loader"))var Jb={injected:2,executed:5,def:3,result:3},sb=function(X){return va[X]=k({mid:X},Jb)},Zb=sb("require"),
$b=sb("exports"),ac=sb("module"),Ab={},Bb=0,ub=function(X){var ja=X.result;X.dynamic=ja.dynamic;X.normalize=ja.normalize;X.load=ja.load;return X},Sb=function(X){var ja={};q(X.loadQ,function(ya){var Ca=Rb(X,ya.prid,ya.req.module),Ma=X.dynamic?ya.mid.replace(/waitingForPlugin$/,Ca):X.mid+"!"+Ca;Ca=k(k({},ya),{mid:Ma,prid:Ca,injected:0});va[Ma]&&va[Ma].injected||Kb(va[Ma]=Ca);ja[ya.mid]=va[Ma];Fa(ya);delete va[ya.mid]});X.loadQ=0;var oa=function(ya){for(var Ca=ya.deps||[],Ma=0;Ma<Ca.length;Ma++)(ya=
ja[Ca[Ma].mid])&&(Ca[Ma]=ya)},qa;for(qa in va)oa(va[qa]);q(N,oa)},fb=function(X){f.trace("loader-finish-exec",[X.mid]);X.executed=5;X.defOrder=Bb++;q(X.provides,function(ja){ja()});X.loadQ&&(ub(X),Sb(X));for(v=0;v<N.length;)N[v]===X?N.splice(v,1):v++;/^require\*/.test(X.mid)&&delete va[X.mid]},Lb=[],hb=function(X,ja){if(4===X.executed)return f.trace("loader-circular-dependency",[Lb.concat(X.mid).join("-\x3e")]),!X.def||ja?Ab:X.cjs&&X.cjs.exports;if(!X.executed){if(!X.def)return Ab;var oa=X.mid,qa=
X.deps||[],ya,Ca=[],Ma=0;for(X.executed=4;ya=qa[Ma++];){ya=ya===Zb?K(X):ya===$b?X.cjs.exports:ya===ac?X.cjs:hb(ya,ja);if(ya===Ab)return X.executed=0,f.trace("loader-exec-module",["abort",oa]),Ab;Ca.push(ya)}f.trace("loader-run-factory",[X.mid]);ja=X.def;C.unshift(X);Ca=d(ja)?ja.apply(null,Ca):ja;X.result=void 0===Ca&&X.cjs?X.cjs.exports:Ca;C.shift(X);fb(X)}return X.result},$a=0,pb=function(X){try{$a++,X()}catch(ja){throw ja;}finally{$a--}Ha()&&U("idle",[])},gb=function(){$a||pb(function(){J();for(var X,
ja,oa=0;oa<N.length;)X=Bb,ja=N[oa],hb(ja),X!=Bb?(J(),oa=0):oa++})};var ib="function"==typeof a.fixupUrl?a.fixupUrl:function(X){X+="";return X+(aa?(/\?/.test(X)?"\x26":"?")+aa:"")};void 0===E("dojo-loader-eval-hint-url")&&E.add("dojo-loader-eval-hint-url",1);var Kb=function(X){var ja=X.plugin;5!==ja.executed||ja.load||ub(ja);var oa=function(qa){X.result=qa;Fa(X);fb(X);gb()};ja.load?ja.load(X.prid,X.req,oa):ja.loadQ?ja.loadQ.push(X):(ja.loadQ=[X],N.unshift(ja),ob(ja))},db=0,jb=function(X,ja){E("config-stripStrict")&&
(X=X.replace(/(["'])use strict\1/g,""));X===db?db.call(null):f.eval(X,E("dojo-loader-eval-hint-url")?ja.url:ja.mid)},ob=function(X){var ja=X.mid,oa=X.url;if(!(X.executed||X.injected||ka[ja]||X.url&&(X.pack&&ka[X.url]===X.pack||1==ka[X.url])))if(Aa(X),X.plugin)Kb(X);else{var qa=function(){Mb(X);if(2!==X.injected){if(E("dojo-enforceDefine")){U("error",e("noDefine",X));return}Fa(X);k(X,Jb);f.trace("loader-define-nonmodule",[X.url])}A?!C.length&&gb():gb()};if(db=T[ja]||T["url:"+X.url])f.trace("loader-inject",
["cache",X.mid,oa]),jb(db,X),qa();else{if(A)if(X.isXd)"sync"==A&&(A="xd");else if(!X.isAmd||"sync"==A){f.trace("loader-inject",["xhr",X.mid,oa,"sync"!=A]);f.getText(oa,"sync"!=A,function(ya){if("sync"==A){C.unshift(X);jb(ya,X);C.shift();Mb(X);X.cjs||(Fa(X),fb(X));if(X.finish){ya=ja+"*finish";var Ca=X.finish;delete X.finish;Cb(ya,["dojo",("dojo/require!"+Ca.join(",")).replace(/\./g,"/")],function(Ma){q(Ca,function(bb){Ma.require(bb)})});N.unshift(Ia(ya))}qa()}else(ya=I(X,ya))?(jb(ya,X),qa()):f.injectUrl(ib(oa),
qa,X)});return}f.trace("loader-inject",["script",X.mid,oa]);f.injectUrl(ib(oa),qa,X)}}},Nb=function(X,ja,oa){f.trace("loader-define-module",[X.mid,ja]);var qa=X.mid;if(2===X.injected)return U("error",e("multipleDefine",X)),X;k(X,{deps:ja,def:oa,cjs:{id:X.mid,uri:X.url,exports:X.result={},setExports:function(Ca){X.cjs.exports=Ca},config:function(){return X.config}}});for(var ya=0;ja[ya];ya++)ja[ya]=Ia(ja[ya],X);A&&!ka[qa]&&(Da(X),N.push(X),gb());Fa(X);d(oa)||ja.length||(X.result=oa,fb(X));return X},
Mb=function(X,ja){for(var oa=[],qa,ya;Z.length;)ya=Z.shift(),ja&&(ya[0]=ja.shift()),qa=ya[0]&&Ia(ya[0])||X,oa.push([qa,ya[1],ya[2]]);fa(X);q(oa,function(Ca){Da(Nb.apply(null,Ca))})},Qb=h,Pb=h;E("dom");if(E("dom")){var Db=function(X,ja,oa,qa){X.addEventListener(ja,qa,!1);return function(){X.removeEventListener(ja,qa,!1)}},vb=Db(window,"load","onload",function(){f.pageLoaded=1;try{"complete"!=y.readyState&&(y.readyState="complete")}catch(X){}vb()});var lb=y.getElementsByTagName("script");for(v=0;!ba;)/^dojo/.test((w=
lb[v++])&&w.type)||(ba=w);f.injectUrl=function(X,ja,oa){oa=oa.node=y.createElement("script");var qa=Db(oa,"load","onreadystatechange",function(Ca){Ca=Ca||window.event;var Ma=Ca.target||Ca.srcElement;if("load"===Ca.type||/complete|loaded/.test(Ma.readyState))qa(),ya(),ja&&ja()}),ya=Db(oa,"error","onerror",function(Ca){qa();ya();U("error",e("scriptError: "+X,[X,Ca]))});oa.type="text/javascript";oa.charset="utf-8";oa.src=X;ba.parentNode.insertBefore(oa,ba);return oa}}f.log=h;f.trace=h;if(E("foreign-loader"))Cb=
h;else{var Cb=function(X,ja,oa){var qa=arguments.length,ya=["require","exports","module"],Ca=[0,X,ja];1==qa?Ca=[0,d(X)?ya:[],X]:2==qa&&l(X)?Ca=[X,d(ja)?ya:[],ja]:3==qa&&(Ca=[X,ja,oa]);f.trace("loader-define",Ca.slice(0,2));(qa=Ca[0]&&Ia(Ca[0]))&&!ka[qa.mid]?Da(Nb(qa,Ca[1],Ca[2])):Z.push(Ca)};Cb.amd={vendor:"dojotoolkit.org"}}k(k(f,b.loaderPatch),a.loaderPatch);ca("error",function(X){try{if(console.error(X),X instanceof Error){for(var ja in X)console.log(ja+":",X[ja]);console.log(".")}}catch(oa){}});
k(f,{uid:x,cache:T,packs:la});if(!p.define&&(p.define=Cb,p.require=f,!E("foreign-loader"))){q(Ba,function(X){Ea(X)});var Tb=V.deps||a.deps||b.deps,Ub=V.callback||a.callback||b.callback;f.boot=Tb||Ub?[Tb||[],Ub]:0}})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,deps:["esri/kernel"],hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,B){b={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",
respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],internalInterceptors:[],maxUrlLength:2E3,priority:"high",proxyRules:[],
proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(B.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")),b.defaultAssetsPath=b.assetsPath);return b})},"esri/core/has":function(){define(function(){function a(B){return"function"===typeof b[B]?b[B]=b[B](globalThis):b[B]}let b;b=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?
{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{};a.add=(B,w,v,u)=>{if(u||void 0===b[B])b[B]=w;return v&&a(B)};a.cache=b;a.add("big-integer-warning-enabled",!0);a.add("esri-deprecation-warnings",!0);a.add("esri-tests-disable-screenshots",!1);a.add("esri-tests-use-full-window",!1);a.add("esri-tests-post-to-influx",!0);(()=>{a.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var B="undefined"!==typeof window&&"undefined"!==typeof location&&
"undefined"!==typeof document&&window.location===location&&window.document===document;a.add("host-browser",B);a.add("dom",B);if(a("host-browser")){var w=navigator;B=w.userAgent;var v=w.appVersion;w=parseFloat(v);a.add("edge",parseFloat(B.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(B.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(B.split("Chrome/")[1])||void 0);a.add("safari",!v.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(v.split("Version/")[1]));
a.add("mac",v.includes("Macintosh"));if(/(iPhone|iPod|iPad)/.test(B)){v=RegExp.$1.replace(/P/,"p");var u=/OS ([\d_]+)/.test(B)?RegExp.$1:"1";u=parseFloat(u.replace(/_/,".").replaceAll("_",""));a.add(v,u);a.add("ios",u)}a("webkit")||(B.includes("Gecko")&&!a("edge")&&a.add("mozilla",w),a("mozilla")&&a.add("ff",parseFloat(B.split("Firefox/")[1]||B.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var B=navigator.userAgent;const w=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(B);
B=/iPhone/i.test(B);w&&a.add("esri-mobile",w);B&&a.add("esri-iPhone",B);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-performance-mode-frames-between-render",20);a.add("esri-force-performance-mode",!1);a.add("esri-shared-array-buffer",()=>{const w=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!w});a.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,
1,8,0,65,0,253,15,253,98,11])));a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("workers-pool-size",8);a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-fast-triangulation-enabled",!0);a.add("featurelayer-animation-enabled",!0);a.add("featurelayer-snapshot-enabled",
!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-query-max-depth",4);a.add("featurelayer-query-pausing-enabled",!1);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-essential-goto-duration",
200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",24E6);a.add("mapserver-pbf-version-support",10.81);a.add("mapservice-popup-identify-max-tolerance",20);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const w=new Image;w.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';w.decode().then(()=>
{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const w=window.document.createElement("a");w.href="?'";return w.href.includes("?%27")}))})();return a})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function B(u,h){if(null==u&&null==h)return!1;if(null==u||null==h)return!0;if("object"===typeof u){if(Array.isArray(u)){if(u.length!==h.length)return!0;for(var g=0;g<u.length;g++)if(B(u[g],
h[g]))return!0;return!1}if(Object.keys(u).length!==Object.keys(h).length)return!0;for(g in u)if(B(u[g],h[g]))return!0;return!1}return u!==h}function w(u,h,g){for(const c of u){if(null==g)return;if(!(c in g))if(h)g[c]={};else return;g=g[c]}return g}function v(u,h,g){return h?Object.keys(h).reduce((c,d)=>{let l=c[d],r=h[d];if(l===r)return c;if(void 0===l)return c[d]=b.clone(r),c;if(Array.isArray(r)||Array.isArray(c))l=l?Array.isArray(l)?c[d]=l.concat():c[d]=[l]:c[d]=[],r&&(Array.isArray(r)||(r=[r]),
g?r.forEach(q=>{l.includes(q)||l.push(q)}):c[d]=r.concat());else if(r&&"object"===typeof r)c[d]=v(l,r,g);else if(!c.hasOwnProperty(d)||h.hasOwnProperty(d))c[d]=r;return c},u||{}):u}a.deepMerge=function(u,h,g=!1){return v(u,h,g)};a.getDeepValue=function(u,h){if(null!=h)return h[u]||w(u.split("."),!1,h)};a.notDeepEqual=B;a.setDeepValue=function(u,h,g){const c=u.split(".");u=c.pop();(g=w(c,!0,g))&&u&&(g[u]=h)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/lang":function(){define(["exports",
"./arrayUtils","./typedArrayUtil"],function(a,b,B){function w(q,k){let e;if(k)for(e in q)q.hasOwnProperty(e)&&(void 0===q[e]?delete q[e]:q[e]instanceof Object&&w(q[e],!0));else for(e in q)q.hasOwnProperty(e)&&void 0===q[e]&&delete q[e];return q}function v(q){if(!q||"object"!==typeof q||"function"===typeof q)return q;var k=l(q);if(null!=k)return k;if(h(q))return q.clone();if(g(q))return q.map(v);if(c(q))return q.clone();k={};for(const e of Object.getOwnPropertyNames(q))k[e]=v(q[e]);return k}function u(q){if(!q||
"object"!==typeof q||"function"===typeof q||"HTMLElement"in globalThis&&q instanceof HTMLElement)return q;var k=l(q);if(null!=k)return k;if(g(q)){let e=!0;q=q.map(n=>{const x=u(n);null!=n&&null==x&&(e=!1);return x});return e?q:null}if(h(q))return q.clone();if(q instanceof File||q instanceof Blob)return q;if(!c(q)){k=new (Object.getPrototypeOf(q).constructor);for(const e of Object.getOwnPropertyNames(q)){const n=q[e],x=u(n);if(null!=n&&null==x)return null;k[e]=x}return k}return null}function h(q){return"function"===
typeof q.clone}function g(q){return"function"===typeof q.map&&"function"===typeof q.forEach}function c(q){return"function"===typeof q.notifyChange&&"function"===typeof q.watch}function d(q){if("[object Object]"!==Object.prototype.toString.call(q))return!1;q=Object.getPrototypeOf(q);return null===q||q===Object.prototype}function l(q){if(B.isInt8Array(q)||B.isUint8Array(q)||B.isUint8ClampedArray(q)||B.isInt16Array(q)||B.isUint16Array(q)||B.isInt32Array(q)||B.isUint32Array(q)||B.isFloat32Array(q)||B.isFloat64Array(q))return q.slice();
if(q instanceof Date)return new Date(q.getTime());if(q instanceof ArrayBuffer)return q.slice(0,q.byteLength);if(q instanceof Map){var k=new Map;for(const [e,n]of q)k.set(e,v(n));return k}if(q instanceof Set){k=new Set;for(const e of q)k.add(v(e));return k}return null}function r(q,k){if(null===q||null===k)return!1;const e=Object.keys(q);if(null===k||Object.keys(k).length!==e.length)return!1;for(const n of e)if(q[n]!==k[n]||!Object.prototype.hasOwnProperty.call(k,n))return!1;return!0}a.clone=v;a.equals=
function(q,k){return q===k||"number"===typeof q&&isNaN(q)&&"number"===typeof k&&isNaN(k)||"function"===typeof q?.getTime&&"function"===typeof k?.getTime&&q.getTime()===k.getTime()||!1};a.equalsShallow=function(q,k){if(q===k)return!0;if(null===q||void 0===q||"string"===typeof q)return q===k;if("number"===typeof q)return q===k||"number"===typeof k&&isNaN(q)&&isNaN(k);if(q instanceof Date)return k instanceof Date&&q.getTime()===k.getTime();if(Array.isArray(q))return Array.isArray(k)&&b.equals(q,k);if(q instanceof
Set){var e;if(e=k instanceof Set)a:if(q.size!==k.size)e=!1;else{for(const n of q)if(!k.has(n)){e=!1;break a}e=!0}return e}if(q instanceof Map){if(e=k instanceof Map)a:if(q.size!==k.size)e=!1;else{for(const [n,x]of q)if(q=k.get(n),q!==x||void 0===q&&!k.has(n)){e=!1;break a}e=!0}return e}return d(q)?d(k)&&r(q,k):!1};a.fixJson=w;a.isAccessorLike=c;a.isClonable=h;a.isPlainObject=d;a.tryClone=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/arrayUtils":function(){define(["exports",
"./RandomLCG"],function(a,b){function B(r){return r}function w(r,q=B){if(r&&0!==r.length){var k=r[0],e=q(k);for(let n=1;n<r.length;++n){const x=r[n],f=Number(q(x));f>e&&(e=f,k=x)}return k}}function v(r,q,k,e){e=e||c;var n=Math.max(0,e.last-10);for(let x=n;x<k;++x)if(r[x]===q)return e.last=x;k=Math.min(n,k);for(n=0;n<k;++n)if(r[n]===q)return e.last=n;return-1}function u(r){return r?(l.seed=r,()=>l.getFloat()):Math.random}const h=1/1.5;class g{constructor(){this.last=0}}const c=new g,d=new Set,l=new b;
a.PositionHint=g;a.addMany=function(r,q){if(!q)return r;for(const k of q)r.push(k);return r};a.binaryFindClosest=function(r,q,k){if(r&&0!==r.length){var e=r.length-1,n=r[0];if(q<=k(n))return n;n=r[e];if(q>=k(n))return n;var x=0;n=0;for(var f=e;x<f;){n=x+Math.floor((f-x)/2);const y=r[n],z=k(y);if(z===q)return y;if(q<z){if(0<n){f=r[n-1];var p=k(f);if(q>p)return q-p>=z-q?y:f}f=n}else{if(n<e&&(x=r[n+1],p=k(x),q<p))return q-z>=p-q?x:y;x=n+1}}return r[n]}};a.binaryIndexOf=function(r,q,k){const e=r.length;
let n=0;for(var x=e-1;n<x;){const f=n+Math.floor((x-n)/2);q>r[f]?n=f+1:x=f}x=r[n];return k?q>=r[e-1]?-1:x===q?n:n-1:x===q?n:-1};a.difference=function(r,q,k){let e,n;k?(e=q.filter(x=>!r.some(f=>k(f,x))),n=r.filter(x=>!q.some(f=>k(f,x)))):(e=q.filter(x=>!r.includes(x)),n=r.filter(x=>!q.includes(x)));return{added:e,removed:n}};a.emptyArray=[];a.equals=function(r,q,k){if(null==r&&null==q)return!0;if(null==r||null==q||r.length!==q.length)return!1;if(k)for(let e=0;e<r.length;e++){if(!k(r[e],q[e]))return!1}else for(k=
0;k<r.length;k++)if(r[k]!==q[k])return!1;return!0};a.filterInPlace=function(r,q){let k=0;for(let e=0;e<r.length;++e){const n=r[e];q(n,e)&&(r[k]=n,k++)}r.length=k};a.first=function(r){if(r)return 0<r.length?r[0]:void 0};a.groupToMap=function(r,q){const k=new Map,e=r.length;for(let n=0;n<e;n++){const x=r[n],f=q(x,n,r),p=k.get(f);p?p.push(x):k.set(f,[x])}return k};a.indexOf=v;a.intersect=function(r,q,k){return r&&q?k?r.filter(e=>-1<q.findIndex(n=>k(e,n))):r.filter(e=>q.includes(e)):[]};a.isArrayLike=
function(r){return r&&"number"===typeof r.length};a.isSome=function(r,q){return null!=r};a.last=function(r){if(r){var q=r.length;return 0<q?r[q-1]:void 0}};a.max=w;a.min=function(r,q=B){return w(r,k=>-q(k))};a.pickRandom=function(r,q,k){const e=r.length;if(q>=e)return r.slice(0);k=u(k);const n=new Set,x=[];for(;x.length<q;){const f=Math.floor(k()*e);n.has(f)||(n.add(f),x.push(r[f]))}return x};a.range=function(r,q){void 0===q&&(q=r,r=0);const k=Array(q-r);for(let e=r;e<q;e++)k[e-r]=e;return k};a.reallocGrowthFactor=
1.5;a.reallocShrinkFactor=h;a.reallocShrinkThreshold=.5;a.remove=function(r,q){const k=r.indexOf(q);return-1!==k?(r.splice(k,1),q):null};a.removeUnordered=function(r,q,k,e){const n=null==k?r.length:k;e=v(r,q,n,e);if(-1!==e)return r[e]=r[n-1],null==k&&r.pop(),q};a.removeUnorderedMany=function(r,q,k=r.length,e=q.length,n,x){if(0===e||0===k)return k;d.clear();for(let f=0;f<e;++f)d.add(q[f]);n=n||c;q=Math.max(0,n.last-10);for(e=q;e<k;++e)if(d.has(r[e])&&(x?.push(r[e]),d.delete(r[e]),r[e]=r[k-1],--k,--e,
0===d.size||0===k))return d.clear(),k;for(e=0;e<q;++e)if(d.has(r[e])&&(x?.push(r[e]),d.delete(r[e]),r[e]=r[k-1],--k,--e,0===d.size||0===k))return d.clear(),k;d.clear();return k};a.shuffle=function(r,q){q=u(q);for(let k=r.length-1;0<k;k--){const e=Math.floor(q()*(k+1)),n=r[k];r[k]=r[e];r[e]=n}return r};a.splitIntoChunks=function(r,q){const k=r.length;if(0===k)return[];const e=[];for(let n=0;n<k;n+=q)e.push(r.slice(n,n+q));return e};a.unique=function(r,q){return q?r.filter((k,e,n)=>n.findIndex(q.bind(null,
k))===e):Array.from(new Set(r))};a.update=function(r,q){let k=r.length!==q.length;k&&(r.length=q.length);for(let e=0;e<q.length;++e)r[e]!==q[e]&&(r[e]=q[e],k=!0);return k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/RandomLCG":function(){define(function(){class a{constructor(b=1){this._seed=b}set seed(b){this._seed=null==b?Math.random()*a._m:b}getInt(){return this._seed=(a._a*this._seed+a._c)%a._m}getFloat(){return this.getInt()/(a._m-1)}getIntRange(b,B){return Math.round(this.getFloatRange(b,
B))}getFloatRange(b,B){B-=b;const w=this.getInt()/a._m;return b+w*B}}a._m=2147483647;a._a=48271;a._c=0;return a})},"esri/core/typedArrayUtil":function(){define(["exports","./byteSizeEstimations","./has"],function(a,b,B){function w(k){return"Int8Array"===k?.constructor?.name}function v(k){return"Uint8Array"===k?.constructor?.name}function u(k){return"Uint8ClampedArray"===k?.constructor?.name}function h(k){return"Int16Array"===k?.constructor?.name}function g(k){return"Uint16Array"===k?.constructor?.name}
function c(k){return"Int32Array"===k?.constructor?.name}function d(k){return"Uint32Array"===k?.constructor?.name}function l(k){return"Float32Array"===k?.constructor?.name}function r(k){return"Float64Array"===k?.constructor?.name}function q(k){return!("buffer"in k)}a.estimateSize=function(...k){return k.reduce((e,n)=>e+(n?q(n)?b.estimateFixedArraySize(n,b.estimateNumberByteSize()):n.byteLength+145:0),0)};a.isArray=q;a.isArrayBuffer=function(k){return k instanceof ArrayBuffer};a.isFloat=function(k){return r(k)||
l(k)};a.isFloat32Array=l;a.isFloat64Array=r;a.isInt16Array=h;a.isInt32Array=c;a.isInt8Array=w;a.isSigned=function(k){return r(k)||l(k)||c(k)||h(k)||w(k)};a.isUint16Array=g;a.isUint32Array=d;a.isUint8Array=v;a.isUint8ClampedArray=u;a.maximumValue=function(k){return r(k)?1.79769E308:l(k)?3.402823E38:d(k)?4294967295:g(k)?65535:v(k)||u(k)?255:c(k)?2147483647:h(k)?32767:w(k)?127:256};a.nativeArrayMaxSize=1024;a.typedArrayStaticSize=145;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],
function(a){function b(v){return 32+v.length}function B(v){if(!v)return 0;if(Array.isArray(v)){var u=v.length;if(0===u||"number"===typeof v[0])v=32+8*u;else{var h=16;for(let g=0;g<u;g++)h+=w(v[g]);v=h}return v}h=32;for(u in v)v.hasOwnProperty(u)&&(h+=w(v[u]));return h}function w(v){switch(typeof v){case "object":return B(v);case "string":return b(v);case "number":return 16;case "boolean":return 4;default:return 8}}a.estimateAttributesObjectSize=function(v){if(!v)return 0;let u=32;for(const h in v)if(v.hasOwnProperty(h)){const g=
v[h];switch(typeof g){case "string":u+=b(g);break;case "number":u+=16;break;case "boolean":u+=4}}return u};a.estimateFixedArraySize=function(v,u){return 16+v.length*u};a.estimateNestedObjectSize=B;a.estimateNumberByteSize=function(){return 16};a.estimateStringByteSize=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/reactiveUtils":function(){define("exports ./asyncUtils ./Collection ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),
function(a,b,B,w,v,u,h,g,c){function d(x,f,p={}){return l(x,f,p,k)}function l(x,f,p={},y){let z=null;const E=p.once?(F,D)=>{y(F)&&(u.removeMaybe(z),f(F,D))}:(F,D)=>{y(F)&&f(F,D)};z=g.watchTracked(x,E,p.sync,p.equals);p.initial&&(x=x(),E(x,x));return z}function r(x,f,p,y={}){function z(){F&&D&&(D.remove(),y.onListenerRemove?.(F),D=F=null)}function E(G){y.once&&y.once&&u.removeMaybe(A);p(G)}let F=null,D=null,A=null;const C=d(x,(G,J)=>{z();w.isEventedOrEventTarget(G)&&(F=G,D=w.on(G,f,E),y.onListenerAdd?.(G))},
{sync:y.sync,initial:!0});return A=v.makeHandle(()=>{C.remove();z()})}function q(x,f,p){if(h.isAborted(p))return Promise.reject(h.createAbortError());const y=x();if(f?.(y))return Promise.resolve(y);let z=null;return new Promise((E,F)=>{z=v.handlesGroup([h.onAbort(p,()=>{z=u.removeMaybe(z);F(h.createAbortError())}),l(x,D=>{z=u.removeMaybe(z);E(D)},{sync:!1,once:!0},f??k)])})}function k(x){return!0}function e(x){return!!x}function n(x,f){const p=new B;x=r(x,"after-splice",({added:y,start:z,deleteCount:E})=>
{E=p.splice(z,E);for(const F of E)F.remove();y?.length&&(y=y.map(f),p.addMany(y,z))},{sync:!0,onListenerRemove:()=>p.drain(y=>y.remove()),onListenerAdd:y=>p.addMany(y.items.map(f))});p.addHandles(x);return p}a.autorun=c.autorun;a.initial={initial:!0};a.mapCollection=n;a.mapCollectionAsync=function(x,f){const p=new B,y=n(x,F=>b.createTask(async D=>{const A=await f(F,D);if(h.isAborted(D))throw A.remove(),h.createAbortError();return A})),z=()=>null,E=async F=>{const D=await F.promise;F=y.indexOf(F);
0>F||p.splice(F,1,D)};p.addMany(y.items.map(z));for(const F of y)h.ignoreAbortErrors(E(F));x=y.on("after-splice",({added:F,start:D,deleteCount:A})=>{A=p.splice(D,A);for(const C of A)C?.remove();if(F?.length){p.addMany(F.map(z),D);for(const C of F)h.ignoreAbortErrors(E(C))}});p.addHandles([v.destroyHandle(y),x]);return p};a.on=r;a.once=function(x,f){return q(x,null,f)};a.pausable=function(x,f,p={}){let y=!1;const z=d(x,(E,F)=>{y||f(E,F)},p);return{remove(){z.remove()},pause(){y=!0},resume(){y=!1}}};
a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=d;a.when=function(x,f,p={}){return l(x,f,p,e)};a.whenOnce=function(x,f){return q(x,e,f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/asyncUtils":function(){define("exports ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,B,w,v,u,h){function g(q){return{ok:!0,value:q}}function c(q){return{ok:!1,error:q}}
function d(q){return null!=q&&!0===q.ok?q.value:null}function l(q){return null!=q&&!1===q.ok?q.error:null}let r=class extends B{get value(){return d(this._result)}get error(){return l(this._result)}get finished(){return null!=this._result}constructor(q,k){super({});this._abortHandle=this._result=null;this.remove=this.abort=()=>{this._abortController=w.abortMaybe(this._abortController)};this._abortController=new AbortController;const {signal:e}=this._abortController;this.promise=q(e);this.promise.then(n=>
{this._result=g(n);this._cleanup()},n=>{this._result=c(n);this._cleanup()});this._abortHandle=v.onAbort(k,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=w.removeMaybe(this._abortHandle);this._abortController=null}};b.__decorate([u.property()],r.prototype,"value",null);b.__decorate([u.property()],r.prototype,"error",null);b.__decorate([u.property()],r.prototype,"finished",null);b.__decorate([u.property()],r.prototype,"promise",void 0);b.__decorate([u.property()],
r.prototype,"_result",void 0);r=b.__decorate([h.subclass("esri.core.asyncUtils.ReactiveTask")],r);a.assertResult=function(q){if(!0===q.ok)return q.value;throw q.error;};a.createTask=function(q,k){return new r(q,k)};a.forEach=function(q,k,e){return v.eachAlways(q.map((n,x)=>k.apply(e,[n,x])))};a.makeResultError=c;a.makeResultOk=g;a.map=async function(q,k,e){return(await v.eachAlways(q.map((n,x)=>k.apply(e,[n,x])))).map(n=>n.value)};a.result=async function(q){if(null==q)return{ok:!1,error:Error("no promise provided")};
try{return g(await q)}catch(k){return c(k)}};a.resultError=l;a.resultOrAbort=async function(q){try{return g(await q)}catch(k){return v.throwIfAbortError(k),c(k)}};a.resultValue=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){"function"===typeof SuppressedError?SuppressedError:function(b,B,w){w=Error(w);return w.name="SuppressedError",w.error=b,w.suppressed=B,w};a.__awaiter=function(b,B,w,v){function u(h){return h instanceof
w?h:new w(function(g){g(h)})}return new (w||=Promise)(function(h,g){function c(r){try{l(v.next(r))}catch(q){g(q)}}function d(r){try{l(v["throw"](r))}catch(q){g(q)}}function l(r){r.done?h(r.value):u(r.value).then(c,d)}l((v=v.apply(b,B||[])).next())})};a.__decorate=function(b,B,w,v){var u=arguments.length,h=3>u?B:null===v?v=Object.getOwnPropertyDescriptor(B,w):v,g;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)h=Reflect.decorate(b,B,w,v);else for(var c=b.length-1;0<=c;c--)if(g=b[c])h=
(3>u?g(h):3<u?g(B,w,h):g(B,w))||h;return 3<u&&h&&Object.defineProperty(B,w,h),h};a.__param=function(b,B){return function(w,v){B(w,v,b)}}})},"esri/core/Accessor":function(){define("./deprecate ./Handles ./Logger ./maybe ./accessorSupport/beforeDestroy ./accessorSupport/get ./accessorSupport/interfaces ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,B,w,v,u,h,g,c,d,l,r,q,k){function e(z){if(null==z)return{value:z};if(Array.isArray(z))return{type:[z[0]],value:null};switch(typeof z){case "object":return z.constructor?.__accessorMetadata__||z instanceof Date?{type:z.constructor,value:z}:z;case "boolean":return{type:Boolean,value:z};case "string":return{type:String,value:z};case "number":return{type:Number,value:z};case "function":return{type:z,value:null}}}const n=Symbol("Accessor-Handles"),x=Symbol("Accessor-Initialized");class f{static createSubclass(z=
{}){if(Array.isArray(z))throw Error("Multi-inheritance unsupported since 4.16");const {properties:E,declaredClass:F,constructor:D}=z;delete z.declaredClass;delete z.properties;delete z.constructor;const A=this;class C extends A{constructor(...G){super(...G);this.inherited=null;D&&D.apply(this,G)}}g.getPropertiesMetadata(C.prototype);for(const G in z){const J=z[G];C.prototype[G]="function"===typeof J?function(...I){const P=this.inherited;this.inherited=function(...Y){if(A.prototype[G])return A.prototype[G].apply(this,
Y)};let S=void 0;try{S=J.apply(this,I)}catch(Y){throw this.inherited=P,Y;}this.inherited=P;return S}:z[G]}for(const G in E)z=e(E[G]),q.property(z)(C.prototype,G);return k.subclass(F)(C)}constructor(...z){this[p]=null;this[y]=!1;if(this.constructor===f)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const E=new c(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:E});0<z.length&&(E.ctorArgs=this.normalizeCtorArgs?.apply(this,
z)??z[0]);l.getAccessorInterceptor()?.onInstanceConstruct(this)}postscript(){const z=this.__accessor__,E=z.ctorArgs;z.initialize();E&&(this.set(E),z.ctorArgs=null);z.constructed();this.initialize();this[x]=!0}initialize(){}[v.beforeDestroySymbol](){this[n]=w.destroyMaybe(this[n])}destroy(){this.destroyed||(r.removeTarget(this),this.__accessor__.destroy(),l.getAccessorInterceptor()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||
!1}get initialized(){return this[x]}get destroyed(){return this.__accessor__?.lifecycle===h.Lifecycle.DESTROYED||!1}commitProperty(z){u.get(this,z)}get(z){a.deprecatedFunction(B.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"});return u.get(this,z)}hasOwnProperty(z){return this.__accessor__?this.__accessor__.has(z):Object.prototype.hasOwnProperty.call(this,
z)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(z,E){d.set(this,z,E);return this}watch(z,E,F){return r.watch(this,z,E,F)}addHandles(z,E){if(this.destroyed){z=Array.isArray(z)?z:[z];for(const F of z)F.remove()}else(this[n]??(this[n]=new b)).add(z,E)}removeHandles(z){this[n]?.remove(z)}removeAllHandles(){this[n]?.removeAll()}removeHandlesReference(z){this[n]?.removeReference(z)}hasHandles(z){return!0===this[n]?.has(z)}_override(z,E){void 0===E?this.__accessor__.clearOverride(z):this.__accessor__.override(z,
E)}_clearOverride(z){return this.__accessor__.clearOverride(z)}_overrideIfSome(z,E){null==E?this.__accessor__.clearOverride(z):this.__accessor__.override(z,E)}_isOverridden(z){return this.__accessor__.isOverridden(z)}notifyChange(z){this.__accessor__.notifyChange(z)}_get(z){return this.__accessor__.internalGet(z)}_set(z,E){this.__accessor__.internalSet(z,E);return this}}var p=n;var y=x;return f})},"esri/core/deprecate":function(){define(["exports","./has"],function(a,b){function B(u,h,g=!1){const c=
`\ud83d\uded1 DEPRECATED - ${h}`;g?(g=v.get(u),g||(g=new Set,v.set(u,g)),g.has(h)||(g.add(h),u.warn(c))):u.warn(c)}function w(u,h,g={}){if(b("esri-deprecation-warnings")){const {replacement:c,version:d,see:l,warnOnce:r}=g;c&&(h+=`\n\t\ud83d\udee0\ufe0f Replacement: ${c}`);d&&(h+=`\n\t\u2699\ufe0f Version: ${d}`);l&&(h+=`\n\t\ud83d\udd17 See ${l} for more details.`);B(u,h,r)}}const v=new WeakMap;a.deprecated=w;a.deprecatedConstructorSignature=function(u,h,g={}){b("esri-deprecation-warnings")&&w(u,
`Multiple argument constructor: ${h}`,{warnOnce:!0,replacement:`new ${h}({ <your properties here> })`,...g})};a.deprecatedFunction=function(u,h,g={}){if(b("esri-deprecation-warnings")){const {moduleName:c}=g;w(u,`Function: ${(c?c+"::":"")+h+"()"}`,g)}};a.deprecatedModule=function(u,h,g={}){b("esri-deprecation-warnings")&&w(u,`Module: ${h}`,g)};a.deprecatedProperty=function(u,h,g={}){if(b("esri-deprecation-warnings")){const {moduleName:c}=g;w(u,`Property: ${(c?c+"::":"")+h}`,g)}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/Handles":function(){define(["./iteratorUtils"],function(a){function b(w){for(const v of w)v instanceof B?v.removeAll():v.remove()}class B{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let w=0;this._groups.forEach(v=>{w+=v.length});return w}add(w,v){if(a.isIterable(w)){v=this._getOrCreateGroup(v);for(const u of w)null!=u&&(u.remove||u instanceof B)&&v.push(u)}else null!=w&&(w.remove||w instanceof B)&&this._getOrCreateGroup(v).push(w);
return this}forEach(w,v){if("function"===typeof w)this._groups.forEach(u=>u.forEach(w));else{const u=this._getGroup(w);u&&v&&u.forEach(v)}}has(w){return this._groups.has(w||"_default_")}remove(w){if("string"!==typeof w&&a.isIterable(w)){for(const v of w)this.remove(v);return this}if(!this.has(w))return this;b(this._getGroup(w));this._groups.delete(w||"_default_");return this}removeAll(){this._groups.forEach(b);this._groups.clear();return this}removeReference(w){this._groups.delete(w);return this}_getOrCreateGroup(w){if(this.has(w))return this._getGroup(w);
const v=[];this._groups.set(w||"_default_",v);return v}_getGroup(w){return this._groups.get(w||"_default_")}}return B})},"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const B=[];return function*(){yield*B;for(const w of b)B.push(w),yield w}};a.find=function(b,B){for(const w of b)if(null!=w&&B(w))return w};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Logger":function(){define(["../config",
"./has","./string"],function(a,b,B){function w(g,c,...d){console[g](`[${c}]`,...d)}function v(...g){return B.numericHash(JSON.stringify(g,(c,d)=>"object"!==typeof d||Array.isArray(d)?d:"[Object]"))}const u={info:0,warn:1,error:2,none:3};class h{constructor(g){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=g.level&&(this.level=g.level);null!=g.writer&&(this.writer=g.writer);this._module=g.module;h._loggers.set(this.module,
this);g=this.module.lastIndexOf(".");-1!==g&&(this._parent=h.getLogger(this.module.slice(0,g)))}get module(){return this._module}get parent(){return this._parent}error(...g){this._log("error","always",...g)}warn(...g){this._log("warn","always",...g)}info(...g){this._log("info","always",...g)}errorOnce(...g){this._log("error","once",...g)}warnOnce(...g){this._log("warn","once",...g)}infoOnce(...g){this._log("info","once",...g)}errorOncePerTick(...g){this._log("error","oncePerTick",...g)}warnOncePerTick(...g){this._log("warn",
"oncePerTick",...g)}infoOncePerTick(...g){this._log("info","oncePerTick",...g)}get test(){}static get test(){}static getLogger(g){g="string"!==typeof g?g.declaredClass:g;return h._loggers.get(g)||new h({module:g})}_log(g,c,...d){if(this._matchLevel(g)){if("always"!==c&&!h._throttlingDisabled){const l=v(d),r=this._loggedMessages[g].get(l);if("once"===c&&null!=r||"oncePerTick"===c&&r&&r>=h._tickCounter)return;this._loggedMessages[g].set(l,h._tickCounter);h._scheduleTickCounterIncrement()}for(const l of a.log.interceptors)if(l(g,
this.module,...d))return;this._inheritedWriter()(g,this.module,...d)}}_parentWithMember(g,c){let d=this;for(;null!=d;){const l=d[g];if(null!=l)return l;d=d.parent}return c}_inheritedWriter(){return this._parentWithMember("writer",w)}_matchLevel(g){return u[this._parentWithMember("level",a.log.level||"warn")]<=u[g]}static _scheduleTickCounterIncrement(){h._tickCounterScheduled||(h._tickCounterScheduled=!0,Promise.resolve().then(()=>{h._tickCounter++;h._tickCounterScheduled=!1}))}}h._loggers=new Map;
h._tickCounter=0;h._tickCounterScheduled=!1;h._throttlingDisabled=!1;return h})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function B(u){return null==u?"":u}const w=/\{([^}]+)\}/g;let v;a.escapeRegExpString=function(u,h){return u.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,g=>h?.includes(g)?g:`\\${g}`)};a.numericHash=function(u){let h=0;for(let g=0;g<u.length;g++)h=(h<<5)-h+u.charCodeAt(g),h|=0;return h};a.replace=function(u,h){return h?u.replaceAll(w,"object"===typeof h?
(g,c)=>B(b.getDeepValue(c,h)):(g,c)=>B(h(c))):u};a.safeToString=function(u,...h){let g=u[0];for(let c=0;c<h.length;++c)g+=h[c]+u[c+1];return g};a.stripHTML=function(u){v??=new DOMParser;return v.parseFromString(u||"","text/html").body.innerText||""};a.templateHasKey=function(u,h){return(new RegExp(`{${h}}`,"ig")).test(u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/maybe":function(){define(["exports"],function(a){a.abortMaybe=function(b){b?.abort();return null};a.assertIsSome=
function(b,B){if(null==b)throw Error(B??"value is None");};a.destroyMaybe=function(b){b?.destroy();return null};a.disposeMaybe=function(b){b?.dispose();return null};a.equalsMaybe=function(b,B,w){return null!=b&&null!=B?null!=w?w(b,B):b.equals(B):b===B};a.mappedFind=function(b,B){let w=void 0;b.some((v,u)=>{w=B(v,u);return null!=w});return w??void 0};a.maybeProperty=function(b,B){return b?.[B]};a.releaseMaybe=function(b){b?.release();return null};a.removeMaybe=function(b){b?.remove();return null};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],function(a){const b=Symbol("Accessor-beforeDestroy");a.beforeDestroySymbol=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,b){function B(u,h){u="?"===u[u.length-1]?u.slice(0,-1):u;if(null!=h.getItemAt||Array.isArray(h)){var g=parseInt(u,10);if(!isNaN(g))return Array.isArray(h)?
h[g]:h.at(g)}g=b.getProperties(h);return b.isPropertyDeclared(g,u)?g.get(u):h[u]}function w(u,h,g){if(null==u)return u;if((u=B(h[g],u))||!(g<h.length-1))return g===h.length-1?u:w(u,h,g+1)}function v(u,h,g=0){return"string"!==typeof h||h.includes(".")?w(u,b.pathToArray(h),g):B(h,u)}a.exists=function(u,h){return void 0!==v(h,u)};a.get=function(u,h){return v(u,h)};a.valueOf=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/utils":function(){define(["exports",
"../handleUtils","../lang"],function(a,b,B){function w(c){return c.__accessor__??null}function v(c,d,l){return d?Object.keys(d).reduce((r,q)=>{let k=null;var e="merge";l&&(k=l.path?`${l.path}.${q}`:q,e=l.policy(k));if("replace"===e||"replace-arrays"===e&&Array.isArray(r[q]))return r[q]=d[q],r;if(void 0===r[q])return r[q]=B.clone(d[q]),r;let n=r[q];e=d[q];if(n===e)return r;if(Array.isArray(e)||Array.isArray(r))n=n?Array.isArray(n)?r[q]=n.concat():r[q]=[n]:r[q]=[],e&&(Array.isArray(e)||(e=[e]),e.forEach(x=>
{n.includes(x)||n.push(x)}));else if(e&&"object"===typeof e)if(l){const x=l.path;l.path=k;r[q]=v(n,e,l);l.path=x}else r[q]=v(n,e,null);else if(!r.hasOwnProperty(q)||d.hasOwnProperty(q))r[q]=e;return r},c||{}):c}function u(c){return Array.isArray(c)?c:c.split(".")}function h(c){return c.includes(",")?c.split(",").map(d=>d.trim()):[c.trim()]}function g(c){if(Array.isArray(c)){const d=[];for(const l of c)d.push(...h(l));return d}return h(c)}a.getDependsInfo=function(c,d){const l=w(c);return l?l.getDependsInfo(c,
d,""):""};a.getProperties=w;a.isPropertyDeclared=function(c,d){return null!=c?.metadata?.[d]};a.merge=function(c,d,l){return l?v(c,d,{policy:l,path:""}):v(c,d,null)};a.parse=function(c,d,l,r){d=g(d);return 1!==d.length?(d=d.map(q=>r(c,q,l)),b.handlesGroup(d)):r(c,d[0],l)};a.parseConditionalPath=function(c){if(!c.includes("?"))return null;c=u(c);const d=Array(c.length);for(let l=0;l<c.length;l++){const r=c[l];d[l]="?"===r[r.length-1];d[l]&&(c[l]=r.slice(0,-1))}return{fullPath:c.join("."),conditional:d}};
a.pathToArray=u;a.pathToStringOrArray=function(c){return!c||"string"===typeof c&&!c.includes(".")?c:u(c)};a.splitPath=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/handleUtils":function(){define(["exports"],function(a){function b(v){return v?{remove(){v&&(v(),v=void 0)}}:w}function B(v){v.forEach(u=>u?.remove())}const w={remove:()=>{}};a.abortHandle=function(v){return b(()=>v?.abort())};a.asyncHandle=function(v,u){let h=!1,g=null;v.then(c=>{h?c.remove():g=c});return b(()=>
{h=!0;null!=g?g.remove():null!=u&&(u.abort(),u=null)})};a.destroyHandle=function(v){return b(null!=v?()=>v.destroy():void 0)};a.disposable=function(v){return{[Symbol.dispose](){v.remove()}}};a.handlesGroup=function(v){return b(()=>B(v))};a.makeHandle=b;a.refHandle=function(v){return b(()=>v()?.remove())};a.removeHandles=B;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],function(a){a.Lifecycle=void 0;var b=a.Lifecycle||
(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";b[b.DESTROYED=3]="DESTROYED";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","./utils"],function(a,b,B){function w(h){let g=h.constructor.__accessorMetadata__;const c=Object.prototype.hasOwnProperty.call(h.constructor,"__accessorMetadata__");if(!g)g={},Object.defineProperty(h.constructor,
"__accessorMetadata__",{value:g,enumerable:!1,configurable:!0,writable:!0});else if(!c){g=Object.create(g);for(const d in g)g[d]=b.clone(g[d]);Object.defineProperty(h.constructor,"__accessorMetadata__",{value:g,enumerable:!1,configurable:!0,writable:!0})}return h.constructor.__accessorMetadata__}function v(h){return u.test(h)?"replace":"merge"}const u=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;a.getPropertiesMetadata=w;a.getPropertyMetadata=function(h,g){h=w(h);let c=
h[g];c||=h[g]={};return c};a.mergeProperty=function(h,g){return B.merge(h,g,v)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Properties":function(){define("../has ../lang ../Logger ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./tracking/Flags".split(" "),function(a,b,B,w,v,u,h,g,c,d){class l{constructor(k){this.host=k;this.propertiesByName=new Map;this.ctorArgs=null;this.lifecycle=v.Lifecycle.INITIALIZING;this.store=new g.Store;
this._origin=h.OriginId.USER;k=this.host.constructor.__accessorMetadata__;for(const e in k){const n=new u.Property(e,k[e]);this.propertiesByName.set(e,n)}this.metadata=k}initialize(){this.lifecycle=v.Lifecycle.CONSTRUCTING}constructed(){this.lifecycle=v.Lifecycle.CONSTRUCTED}destroy(){this.lifecycle=v.Lifecycle.DESTROYED;this.propertiesByName.forEach(k=>k.destroy())}get initialized(){return this.lifecycle!==v.Lifecycle.INITIALIZING}get(k){const e=this.propertiesByName.get(k);if(e.metadata.get)return e.getComputed(this);
c.trackAccess(e);const n=this.store;return n.has(k)?n.get(k):e.metadata.value}originOf(k){const e=this.store.originOf(k);return void 0===e&&(k=this.propertiesByName.get(k),void 0!==k&&k.flags&d.Flags.HasDefaultValue)?"defaults":h.idToName(e)}has(k){return this.propertiesByName.has(k)&&this.store.has(k)}keys(){return[...this.propertiesByName.keys()]}internalGet(k){const e=this.propertiesByName.get(k);if(void 0!==e)return this.store.has(k)?this.store.get(k):e.metadata.value}internalSet(k,e){k=this.propertiesByName.get(k);
void 0!==k&&this._internalSet(k,e)}getDependsInfo(k,e,n){const x=this.propertiesByName.get(e);if(void 0===x)return"";const f=new Set,p=c.runTracked({onObservableAccessed:z=>f.add(z),onTrackingEnd:()=>{}},()=>x.metadata.get?.call(k)),y=k.declaredClass.split(".").pop();e=`${n}${y}.${e}: ${p}\n`;if(0===f.size)return e;n+="  ";for(const z of f)z instanceof u.Property&&(e+=`${n}${z.propertyName}: undefined\n`);return e}setAtOrigin(k,e,n){k=this.propertiesByName.get(k);if(void 0!==k)return this._setAtOrigin(k,
e,n)}isOverridden(k){k=this.propertiesByName.get(k);return void 0!==k&&!!(k.flags&d.Flags.Overridden)}clearOverride(k){(k=this.propertiesByName.get(k))&&k.flags&d.Flags.Overridden&&(k.flags&=~d.Flags.Overridden,k.notifyChange())}override(k,e){k=this.propertiesByName.get(k);if(!(void 0===k||null==e&&k.flags&d.Flags.NonNullable)){var n=k.metadata.cast;if(n){e=this._cast(n,e);const {valid:x,value:f}=e;q.release(e);if(!x)return;e=f}k.flags|=d.Flags.Overridden;this._internalSet(k,e)}}set(k,e){k=this.propertiesByName.get(k);
if(!(void 0===k||null==e&&k.flags&d.Flags.NonNullable)){var n=k.metadata.cast;if(n){e=this._cast(n,e);const {valid:x,value:f}=e;q.release(e);if(!x)return;e=f}(n=k.metadata.set)?n.call(this.host,e):this._internalSet(k,e)}}setDefaultOrigin(k){this._origin=h.nameToId(k)}getDefaultOrigin(){return h.idToName(this._origin)}notifyChange(k){k=this.propertiesByName.get(k);void 0!==k&&k.notifyChange()}invalidate(k){k=this.propertiesByName.get(k);void 0!==k&&k.invalidate()}commit(k){k=this.propertiesByName.get(k);
void 0!==k&&k.commit()}_internalSet(k,e){this._setAtOrigin(k,e,this.lifecycle!==v.Lifecycle.INITIALIZING?this._origin:h.OriginId.DEFAULTS)}_setAtOrigin(k,e,n){const x=this.store,f=k.propertyName;x.has(f,n)&&b.equals(e,x.get(f))&&~k.flags&d.Flags.Overridden&&n===x.originOf(f)||(k.invalidate(),x.set(f,e,n),k.commit(),c.initializeDependencyTracking(this.host,k))}_cast(k,e){const n=q.acquire();n.valid=!0;n.value=e;k&&(n.value=k.call(this.host,e,n));return n}}class r{constructor(){this.value=null;this.valid=
!0}acquire(){this.valid=!0}release(){this.value=null}}const q=new w(r);return l})},"esri/core/ObjectPool":function(){define(function(){class a{constructor(b,B,w,v=1,u=0){this._ctor=b;this._acquireFunction=B;this._releaseFunction=w;this.allocationSize=v;this._pool=Array(u);this._initialSize=u;if(this._ctor)for(b=0;b<u;b++)this._pool[b]=new this._ctor;this.allocationSize=Math.max(v,1)}destroy(){this.prune(0)}acquire(...b){if(a.test.disabled)var B=new this._ctor;else{if(0===this._pool.length){B=this.allocationSize;
for(let w=0;w<B;w++)this._pool[w]=new this._ctor}B=this._pool.pop()}this._acquireFunction?this._acquireFunction(B,...b):B?.acquire&&"function"===typeof B.acquire&&B.acquire(...b);return B}release(b){b&&!a.test.disabled&&(this._releaseFunction?this._releaseFunction(b):b?.release&&"function"===typeof b.release&&b.release(),this._pool.push(b))}prune(b=this._initialSize){if(!(b>=this._pool.length)){for(let B=b;B<this._pool.length;++B)this._dispose(this._pool[B]);this._pool.length=b}}_dispose(b){b.dispose&&
"function"===typeof b.dispose&&b.dispose()}}a.test={disabled:!1};return a})},"esri/core/accessorSupport/Property":function(){define(["exports","./ObservableBase","./PropertyOrigin","./tracking","./tracking/Flags"],function(a,b,B,w,v){class u extends b.ObservableBase{constructor(h,g){super();this.propertyName=h;this.metadata=g;this._handles=this._accessed=null;this.flags=0;this.flags=v.Flags.Dirty|(g.nonNullable?v.Flags.NonNullable:0)|(g.hasOwnProperty("value")?v.Flags.HasDefaultValue:0)|(void 0===
g.get?v.Flags.DepTrackingInitialized:0)|(void 0===g.dependsOn?v.Flags.AutoTracked:0)}destroy(){if(this.flags&v.Flags.Dirty)this.onCommitted();super.destroy();this._accessed=null;this._clearObservationHandles()}getComputed(h){w.trackAccess(this);var g=h.store;const c=this.propertyName;var d=this.flags;const l=g.get(c);if(d&v.Flags.Computing||~d&v.Flags.Dirty&&g.has(c))return l;this.flags|=v.Flags.Computing;h=h.host;d&v.Flags.AutoTracked?d=w.runTracked(this,this.metadata.get,h):(w.trackExplicitDependencies(h,
this),d=this.metadata.get.call(h));g.set(c,d,B.OriginId.COMPUTED);g=g.get(c);g===l?this.flags&=~v.Flags.Dirty:w.runUntracked(this.commit,this);this.flags&=~v.Flags.Computing;return g}onObservableAccessed(h){h!==this&&(this._accessed??(this._accessed=new Set),this._accessed.add(h))}onTrackingEnd(){this._clearObservationHandles();this.flags|=v.Flags.DepTrackingInitialized;null!=this._accessed&&(this._handles??(this._handles=[]),this._accessed.forEach(h=>{this._handles.push(h.observe(this))}),this._accessed.clear())}notifyChange(){this.onInvalidated();
this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~v.Flags.Dirty;this.onCommitted()}_clearObservationHandles(){const h=this._handles;if(null!==h){for(let g=0;g<h.length;++g)h[g].remove();h.length=0}}onInvalidated(){~this.flags&v.Flags.Overridden&&(this.flags|=v.Flags.Dirty);const h=this._observers;if(h&&0<h.length)for(const g of h)g.onInvalidated()}onCommitted(){var h=this._observers;if(h&&0<h.length){h=h.slice();for(const g of h)g.onCommitted()}}}a.Property=u;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ObservableBase":function(){define(["exports","../handleUtils","./tracking/ObservationHandle"],function(a,b,B){class w{constructor(){this._observers=null;this.destroyed=!1}observe(u){if(this.destroyed||u.destroyed)return v;null==this._observers&&(this._observers=[]);const h=this._observers;let g=!1,c=!1;const d=h.length;for(let l=0;l<d;++l){const r=h[l];if(r.destroyed)c=!0;else if(r===u){g=!0;break}}g||(h.push(u),c&&this._removeDestroyedObservers());
return new B.ObservationHandle(h,u)}_removeDestroyedObservers(){const u=this._observers;if(u&&0!==u.length){var h=u.length,g=0;for(let c=0;c<h;++c){for(;c+g<h;)if(u[c+g].destroyed)++g;else break;if(0<g)if(c+g<h)u[c]=u[c+g];else break}u.length=h-g}}destroy(){if(!this.destroyed){this.destroyed=!0;var u=this._observers;if(null!=u){for(const h of u)h.onCommitted();this._observers=null}}}}const v=b.makeHandle();a.ObservableBase=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports",
"../../arrayUtils"],function(a,b){class B{constructor(w,v){this._observers=w;this._observer=v}remove(){b.remove(this._observers,this._observer)}}a.ObservationHandle=B;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports"],function(a){function b(v){switch(v){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;case "web-scene":return a.OriginId.WEB_SCENE;
case "web-map":return a.OriginId.WEB_MAP;case "link-chart":return a.OriginId.LINK_CHART;case "user":return a.OriginId.USER;default:return null}}function B(v){switch(v){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.LINK_CHART:return"link-chart";case a.OriginId.USER:return"user"}}a.OriginId=void 0;(function(v){v[v.DEFAULTS=
0]="DEFAULTS";v[v.COMPUTED=1]="COMPUTED";v[v.SERVICE=2]="SERVICE";v[v.PORTAL_ITEM=3]="PORTAL_ITEM";v[v.WEB_SCENE=4]="WEB_SCENE";v[v.WEB_MAP=5]="WEB_MAP";v[v.LINK_CHART=6]="LINK_CHART";v[v.USER=7]="USER"})(a.OriginId||(a.OriginId={}));const w=a.OriginId.USER+1;a.idToName=B;a.idToReadableName=function(v){return B(v)};a.idToWritableName=function(v){return B(v)};a.nameToId=b;a.originIdNum=w;a.readableNameToId=function(v){return b(v)};a.writableNameToId=function(v){return b(v)};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils","./tracking/Flags"],function(a,b,B,w,v){function u(p){e.onObservableAccessed(p)}function h(p,y,z){if(n)return g(p,y,z);e=p;k.push(p);p=y.call(z);c();return p}function g(p,y,z){const E=n;n=!0;e=p;k.push(p);p=null;try{p=y.call(z)}catch(F){x&&B.getLogger("esri.core.accessorSupport.tracking").error(F)}c();n=E;return p}function c(){var p=k.length;if(1<p){const y=k.pop();
e=k[p-2];y.onTrackingEnd()}else 1===p?(p=k.pop(),e=q,p.onTrackingEnd()):e=q}function d(p,y){if(!(y.flags&v.Flags.DepTrackingInitialized)){var z=x;x=!1;y.flags&v.Flags.AutoTracked?g(y,y.metadata.get,p):l(p,y);x=z}}function l(p,y){y.flags&v.Flags.ExplicitlyTracking||(y.flags|=v.Flags.ExplicitlyTracking,g(y,()=>{var z=y.metadata.dependsOn||f;for(const E of z)if("string"!==typeof E||E.includes(".")){z=w.pathToArray(E);for(let F=0,D=p;F<z.length&&null!=D&&"object"===typeof D;++F)D=r(D,z[F],F!==z.length-
1)}else r(p,E,!1)}),y.flags&=~v.Flags.ExplicitlyTracking)}function r(p,y,z){y="?"===y[y.length-1]?y.slice(0,-1):y;if(null!=p.getItemAt||Array.isArray(p)){var E=parseInt(y,10);if(!isNaN(E))return Array.isArray(p)?p[E]:p.at(E)}if(E=w.getProperties(p))if(E=E.propertiesByName.get(y))u(E),d(p,E);return z?p[y]:void 0}const q={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},k=[];let e=q,n=!1,x=!1;const f=[];a.initializeDependencyTracking=d;a.runTracked=h;a.runTrackedNoThrow=g;a.runUntracked=function(p,
y){return h(q,p,y)};a.trackAccess=u;a.trackExplicitDependencies=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overridden=2]="Overridden";b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";
b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,B){class w{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(v){const u=new w;this._values.forEach((h,g)=>{v&&v.has(g)||u.set(g,b.clone(h))});return u}get(v){return this._values.get(v)}originOf(){return B.OriginId.USER}keys(){return[...this._values.keys()]}set(v,
u){this._values.set(v,u)}delete(v){this._values.delete(v)}has(v){return this._values.has(v)}forEach(v){this._values.forEach(v)}}a.Store=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(a,b,B,w,v){function u(h,g,c){if(h&&g)if("object"===typeof g)for(var d of Object.getOwnPropertyNames(g))u(h,d,g[d]);else if(g.includes("."))g=g.split("."),d=g.splice(-1,1)[0],u(v.get(h,g),d,
c);else{d=h.__accessor__;if(null!=d&&B("esri-unknown-property-errors")&&null==d.metadata[g])throw new b("set:unknown-property","setting unknown property '"+g+"' on instance of "+d.host.declaredClass);h[g]=c}}a.set=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Error":function(){define(["./lang","./Logger","./Message"],function(a,b,B){class w extends B{constructor(v,u,h){super(v,u,h)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,
(v,u)=>{if(u&&"object"===typeof u&&"function"===typeof u.toJSON)return u;try{return a.clone(u)}catch(h){return"[object]"}}))}}catch(v){throw b.getLogger("esri.core.Error").error(v),v;}return{name:this.name,message:this.message,details:this.details}}static fromJSON(v){return new w(v.name,v.message,v.details)}}w.prototype.type="error";return w})},"esri/core/Message":function(){define(["./object"],function(a){function b(w,v){return w.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(u,h)=>{if(""===h)return"$";
u=a.getDeepValue(h,v);return(null==u?"":u).toString()})}class B{constructor(w,v,u){this.name=w;this.details=u;this.message=(v&&b(v,u))??""}toString(){return"["+this.name+"]: "+this.message}}return B})},"esri/core/accessorSupport/testSupport":function(){define(["exports"],function(a){let b;a.InterceptorCollectAction=void 0;(function(B){B[B.Ignore=0]="Ignore";B[B.Destroy=1]="Destroy";B[B.ThrowError=2]="ThrowError"})(a.InterceptorCollectAction||(a.InterceptorCollectAction={}));a.getAccessorInterceptor=
function(){return b};a.setAccessorInterceptor=function(B){b=B};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../handleUtils ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./interfaces ./trackingUtils ./utils".split(" "),function(a,b,B,w,v,u,h,g,c,d,l,r){function q(G){D.delete(G);D.add(G);A||=u.schedule(e)}function k(G){if(!G.removed){var J=G.oldValue,I=G.getValue();G.equals(J,I)||(G.oldValue=
I,G.notify(I,J))}}function e(){let G=10;for(;A&&G--;){A=null;const J=n(),I=F.acquire();for(const P of J){const S=P.uid;k(P);S===P.uid&&P.removed&&I.push(P)}for(const P of D)P.removed&&(I.push(P),D.delete(P));for(const P of I)E.pool.release(P);F.release(I);F.release(J);C.forEach(P=>P())}}function n(){const G=F.acquire();G.length=D.size;let J=0;for(const I of D)G[J]=I,++J;D.clear();return G}function x(G,J,I){let P=r.parse(G,J,I,(S,Y,M)=>{let L,O,U=l.reactionDeferred(()=>c.valueOf(S,Y),(ca,ha)=>{S.__accessor__?.lifecycle===
d.Lifecycle.DESTROYED||L&&L.uid!==O?P.remove():(L||(L=E.acquireUntracked(ca,M,ha,S,Y),O=L.uid),q(L))});return B.makeHandle(()=>{U.remove();L&&(L.uid!==O||L.removed||(L.removed=!0,q(L)),L=null);P=U=null})});return P}function f(G,J,I){const P=r.parse(G,J,I,(S,Y,M)=>{let L=!1;return l.reaction(()=>c.valueOf(S,Y),(O,U)=>{S.__accessor__.lifecycle===d.Lifecycle.DESTROYED?P.remove():L||(L=!0,w.equals(U,O)||M.call(S,O,U,Y,S),L=!1)})});return P}function p(G,J,I){let P,S,Y=l.reactionDeferred(G,(M,L)=>{P&&P.uid!==
S?Y.remove():(P||(P=E.acquireTracked(M,J,L,I),S=P.uid),q(P))});return B.makeHandle(()=>{Y.remove();P&&(P.uid!==S||P.removed||(P.removed=!0,q(P)),P=null);Y=null})}function y(G,J,I){let P=!1;return l.reaction(G,(S,Y)=>{P||(P=!0,I(Y,S)||J(S,Y),P=!1)})}var z;(function(G){G[G.Untracked=0]="Untracked";G[G.Tracked=1]="Tracked"})(z||={});class E{constructor(){this.uid=g.generateUID();this.removed=!1;this.equals=this.path=this.target=this.getValue=this.callback=this.oldValue=this.type=null}static acquireUntracked(G,
J,I,P,S){return this.pool.acquire(z.Untracked,G,J,I,P,S,w.equals)}static acquireTracked(G,J,I,P){return this.pool.acquire(z.Tracked,G,J,I,null,null,P)}notify(G,J){this.type===z.Untracked?this.callback.call(this.target,G,J,this.path,this.target):this.callback.call(null,G,J,void 0,void 0)}acquire(G,J,I,P,S,Y,M){this.uid=g.generateUID();this.removed=!1;this.type=G;this.oldValue=J;this.callback=I;this.getValue=P;this.target=S;this.path=Y;this.equals=M}release(){this.target=this.path=this.oldValue=this.callback=
this.getValue=null;this.uid=g.generateUID();this.removed=!0}}E.pool=new v.ReentrantObjectPool(E);const F=new b,D=new Set;let A;const C=new Set;a.afterDispatch=function(G){C.add(G);return B.makeHandle(()=>C.delete(G))};a.dispatch=e;a.isValueInUse=function(G){return h.someSet(D,J=>J.oldValue===G)};a.removeTarget=function(G){for(const J of D.values())J.target===G&&(J.removed=!0)};a.watch=function(G,J,I,P=!1){return G.__accessor__&&G.__accessor__.lifecycle!==d.Lifecycle.DESTROYED?P?f(G,J,I):x(G,J,I):
B.makeHandle()};a.watchTracked=function(G,J,I=!1,P=w.equalsShallow){return I?y(G,J,P):p(G,J,P)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function b(v){v.length=0}class B{constructor(v=50,u=50){this._pool=new a(Array,void 0,b,u,v)}acquire(){return this._pool.acquire()}release(v){this._pool.release(v)}prune(){this._pool.prune(0)}static acquire(){return w.acquire()}static release(v){return w.release(v)}static prune(){w.prune()}}
const w=new B(100);return B})},"esri/core/ReentrantObjectPool":function(){define(["exports","./ObjectPool"],function(a,b){class B extends b{constructor(){super(...arguments);this._set=new Set}destroy(){super.destroy();this._set=null}acquire(...w){w=super.acquire(...w);this._set.delete(w);return w}release(w){w&&!this._set.has(w)&&(super.release(w),this._set.add(w))}_dispose(w){this._set.delete(w);super._dispose(w)}}a.ReentrantObjectPool=B;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/scheduling":function(){define("exports ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,b,B,w,v,u){function h(J){J=new e(J);y.push(J);F.willDispatch||(F.willDispatch=!0,b.nextTick(l));return J}function g(J){J=new k(J);z.push(J);null==D&&(n=performance.now(),D=requestAnimationFrame(c));return new E(J)}function c(){const J=performance.now();D=null;D=0<z.length?requestAnimationFrame(c):null;F.executeFrameTasks(J)}function d(){z.forAll(J=>{J.removed&&
A.push(J)});z.removeUnorderedMany(A.data,A.length);A.clear()}function l(){for(;y.length;){const J=y.shift();J.isActive&&J.callback()}F.willDispatch=!1}function r(J=1,I){const P=v.createResolver(),S=()=>{v.isAborted(I)?P.reject(v.createAbortError()):0===J?P():(--J,b.nextTick(()=>S()))};S();return P.promise}function q(J){return r(1,J)}class k{constructor(J){this.phases=J;this.paused=!1;this.ticks=-1;this.removed=!1}}class e{constructor(J){this.callback=J;this.isActive=!0}remove(){this.isActive=!1}}
let n=0,x=0;const f={time:u.Milliseconds(0),deltaTime:u.Milliseconds(0),elapsedFrameTime:u.Milliseconds(0),frameDuration:u.Milliseconds(0)},p="prepare preRender render postRender update finish".split(" "),y=[],z=new w;class E{constructor(J){this._task=J}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const F={frameTasks:z,willDispatch:!1,clearFrameTasks:function(J=!1){z.forAll(I=>{I.removed=!0});J&&d()},dispatch:l,executeFrameTasks:function(J){const I=u.Milliseconds(J-
n);n=J;var P=0<x?x:1E3/60;const S=Math.max(0,I-P);f.time=J;f.frameDuration=u.Milliseconds(P-S);for(let Y=0;Y<p.length;Y++){P=performance.now();const M=p[Y];z.forAll(L=>{L.paused||L.removed||(0===Y&&L.ticks++,L.phases[M]&&(f.elapsedFrameTime=u.Milliseconds(performance.now()-J),f.deltaTime=0===L.ticks?u.Milliseconds(0):I,L.phases[M]?.call(L,f)))});C[Y].record(performance.now()-P)}d();G.record(performance.now()-J)},reschedule:function(){null!=D&&(cancelAnimationFrame(D),D=requestAnimationFrame(c))}};
let D=null;const A=new w,C=p.map(J=>new B(J)),G=new B("total");a.FrameTaskHandle=E;a.addFrameTask=g;a.debug=F;a.performanceInfo=C;a.performanceTotal=G;a.schedule=h;a.setFrameDuration=function(J){x=Math.max(0,J)};a.waitAnimationFrame=async function(){await q();await new Promise(J=>requestAnimationFrame(J))};a.waitRender=function(){const J=v.createResolver(),I=g({postRender:()=>{I.remove();h(J)}});return J.promise};a.waitTick=q;a.waitTicks=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(B){b.push(B);1===b.length&&queueMicrotask(()=>{const w=b.slice();b.length=0;for(const v of w)v()})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/PerformanceSampler":function(){define(function(){class a{constructor(b,B=30){this.name=b;this._counter=0;this._samples=Array(B)}record(b){null!=b&&(this._samples[++this._counter%this._samples.length]=b)}get median(){return this._samples.slice().sort((b,
B)=>b-B)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((b,B)=>b+B,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}return a})},"esri/core/PooledArray":function(){define(["./arrayUtils","./HeapSort"],function(a,b){function B(v){v.data.length>1.5*v.length&&(v.data.length=Math.floor(1.1*v.length))}class w{constructor(v){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=
new a.PositionHint;v&&(v.initialSize&&(this.data=Array(v.initialSize)),v.allocator&&(this._allocator=v.allocator),void 0!==v.deallocator&&(this._deallocator=v.deallocator),v.shrink&&(this._shrink=()=>B(this)))}toArray(){return this.data.slice(0,this.length)}filter(v){const u=[];for(let h=0;h<this._length;h++){const g=this.data[h];v(g)&&u.push(g)}return u}at(v){v=Math.trunc(v)||0;0>v&&(v+=this._length);if(!(0>v||v>=this._length))return this.data[v]}includes(v,u){v=this.data.indexOf(v,u);return-1!==
v&&v<this.length}get length(){return this._length}set length(v){if(v>this._length)if(this._allocator)for(;this._length<v;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=v;else{if(this._deallocator)for(let u=v;u<this._length;++u)this.data[u]=this._deallocator(this.data[u]);this._length=v;this._shrink()}}clear(){this.length=0}prune(){this.clear();this.data=[]}push(v){this.data[this._length++]=v}pushArray(v,u=v.length){for(let h=0;h<u;h++)this.data[this._length++]=
v[h]}fill(v,u){for(let h=0;h<u;h++)this.data[this._length++]=v}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const v=this.data[this._length];++this._length;return v}unshift(v){this.data.unshift(v);this._length++;B(this)}pop(){if(0!==this.length){var v=this.data[this.length-1];--this.length;this._shrink();return v}}remove(v){const u=a.indexOf(this.data,v,this.length,this._hint);if(-1!==u)return this.data.splice(u,1),--this.length,v}removeUnordered(v){return this.removeUnorderedIndex(a.indexOf(this.data,
v,this.length,this._hint))}removeUnorderedIndex(v){if(!(v>=this.length||0>v))return this.swapElements(v,this.length-1),this.pop()}removeUnorderedMany(v,u=v.length,h){this.length=a.removeUnorderedMany(this.data,v,this.length,u,this._hint,h);this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(v,u){if(!(v>=this.length||u>=this.length||v===u)){var h=this.data[v];this.data[v]=this.data[u];this.data[u]=h}}sort(v){b.sort(this.data,
0,this.length,v)}iterableSort(v){return b.iterableSort(this.data,0,this.length,v)}some(v,u){for(let h=0;h<this.length;++h)if(v.call(u,this.data[h],h,this.data))return!0;return!1}find(v,u){for(let h=0;h<this.length;++h){const g=this.data[h];if(v.call(u,g,h))return g}}filterInPlace(v,u){let h=0;for(let g=0;g<this._length;++g){const c=this.data[g];v.call(u,c,g,this.data)&&(this.data[g]=this.data[h],this.data[h]=c,h++)}if(this._deallocator)for(v=h;v<this._length;v++)this.data[v]=this._deallocator(this.data[v]);
this._length=h;this._shrink();return this}forAll(v,u){const {data:h,length:g}=this;for(let c=0;c<g;++c)v.call(u,h[c],c,h)}forEach(v,u){this.data.slice(0,this.length).forEach(v,u)}map(v,u){const h=Array(this.length);for(let g=0;g<this.length;++g)h[g]=v.call(u,this.data[g],g,this.data);return h}reduce(v,u){for(let h=0;h<this.length;++h)u=v(u,this.data[h],h,this.data);return u}has(v){const u=this.length,h=this.data;for(let g=0;g<u;++g)if(h[g]===v)return!0;return!1}*[Symbol.iterator](){for(let v=0;v<
this.length;v++)yield this.data[v]}}return w})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const B=(v,u,h,g)=>{let c=u;const d=h>>>1,l=v[c-1];for(;u<=d;){u=c<<1;u<h&&0>g(v[u-1],v[u])&&++u;const r=v[u-1];if(0>=g(r,l))break;v[c-1]=r;c=u}v[c-1]=l},w=(v,u)=>v<u?-1:v>u?1:0;b.sort=function(v,u,h,g){void 0===u&&(u=0);void 0===h&&(h=v.length);void 0===g&&(g=w);for(var c=h>>>1;c>u;c--)B(v,c,h,g);c=u+1;for(--h;h>u;h--){const d=v[u];v[u]=v[h];v[h]=d;B(v,c,h,g)}};b.iterableSort=function*(v,
u,h,g){void 0===u&&(u=0);void 0===h&&(h=v.length);void 0===g&&(g=w);for(var c=h>>>1;c>u;c--)B(v,c,h,g),yield;c=u+1;for(--h;h>u;h--){const d=v[u];v[u]=v[h];v[h]=d;B(v,c,h,g);yield}}})(a||={});return a})},"esri/core/promiseUtils":function(){define("exports ./clock ./Error ./events ./Logger ./maybe".split(" "),function(a,b,B,w,v,u){function h(f="Aborted"){return new B("AbortError",f)}function g(f,p="Aborted"){if(d(f))throw h(p);}function c(f){return f instanceof AbortSignal?f:f?.signal}function d(f){f=
c(f);return null!=f&&f.aborted}function l(f,p){f=c(f);if(null!=f)if(f.aborted)p();else return w.once(f,"abort",()=>p())}function r(f){return"AbortError"===f?.name}async function q(f){if(f){if("function"!==typeof f.forEach){const p=Object.keys(f),y=p.map(F=>f[F]),z=await q(y),E={};p.map((F,D)=>E[F]=z[D]);return E}return Promise.allSettled(f).then(p=>Array.from(f,(y,z)=>{z=p[z];return"fulfilled"===z.status?{promise:y,value:z.value}:{promise:y,error:z.reason}}))}}function k(f,p,y){const z=new AbortController;
l(y,()=>z.abort());return new Promise((E,F)=>{let D=setTimeout(()=>{D=0;E(p)},f);l(z,()=>{D&&(clearTimeout(D),F(h()))})})}function e(f){return f&&"function"===typeof f.then}function n(f){return e(f)?f:Promise.resolve(f)}function x(){let f,p;const y=new Promise((E,F)=>{f=E;p=F}),z=E=>{f(E)};z.resolve=E=>f(E);z.reject=E=>p(E);z.timeout=(E,F)=>b.clock.setTimeout(()=>z.reject(F),E);z.promise=y;return z}a.after=k;a.allSettledErrors=async function(f){return(await Promise.allSettled(f)).filter(p=>"rejected"===
p.status).map(p=>p.reason)};a.allSettledValues=async function(f){return(await Promise.allSettled(f)).filter(p=>"fulfilled"===p.status).map(p=>p.value)};a.always=function(f,p){return f.then(p,p)};a.createAbortError=h;a.createResolver=x;a.debounce=function(f,p=-1){let y,z,E,F,D=null;const A=(...C)=>{if(y){z=C;F&&F.reject(h());F=x();C=F.promise;if(D){var G=D;D=null;G.abort()}return C}E=F||x();F=null;if(0<p){const I=new AbortController,P=y=n(f(...C,I.signal));k(p).then(()=>{y===P&&(F?I.abort():D=I)})}else y=
1,y=n(f(...C));C=()=>{const I=z;z=E=y=D=null;null!=I&&A(...I)};G=y;const J=E;G.then(C,C);G.then(J.resolve,J.reject);return J.promise};return A};a.eachAlways=q;a.eachAlwaysValues=async function(f){return(await q(f)).filter(p=>!!p.value).map(p=>p.value)};a.filter=async function(f,p){const y=f.slice(),z=await Promise.all(f.map((E,F)=>p(E,F)));return y.filter((E,F)=>z[F])};a.ignoreAbortErrors=async function(f){try{return await f}catch(p){if(!r(p))throw p;}};a.isAbortError=r;a.isAborted=d;a.isPromiseLike=
e;a.logOnError=async function(f,p=v.getLogger("esri")){try{return await f}catch(y){r(y)||p.error(y)}};a.onAbort=l;a.onAbortOrThrow=function(f,p){f=c(f);if(null!=f)return g(f),w.once(f,"abort",()=>p(h()))};a.settleWithPromise=function(f,p){p.then(f.resolve,f.reject)};a.signalFromSignalOrOptions=c;a.throwIfAbortError=function(f){if(r(f))throw f;};a.throwIfAborted=g;a.throwIfNotAbortError=function(f){if(!r(f))throw f;};a.timeout=function(f,p,y,z){const E=y&&"abort"in y?y:null;null!=z||E||(z=y);let F=
setTimeout(()=>{F=0;E?.abort()},p);const D=()=>z||new B("promiseUtils:timeout","The wrapped promise did not resolve within "+p+" ms");return f.then(A=>{if(0===F)throw D();clearTimeout(F);return A},A=>{clearTimeout(F);throw 0===F?D():A;})};a.waitTick=async function(f){await Promise.resolve();g(f)};a.when=n;a.whenOrAbort=function(f,p){return null==c(p)?f:new Promise((y,z)=>{let E=l(p,()=>z(h()));const F=()=>{E=u.removeMaybe(E)};f.then(F,F);f.then(y,z)})};a.whenOrTimeout=function(f,p,y){return Promise.race([f,
k(p).then(()=>{throw new B("timeout",`Did not resolve within ${p} milliseconds (${y??"timeout"})`);})])};a.wrapAbortWithTimeout=function(f,p){const y=new AbortController,z=setTimeout(()=>y.abort(),p);l(f,()=>{y.abort();clearTimeout(z)});return{...f,signal:y.signal}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/clock":function(){define(["exports","./handleUtils"],function(a,b){function B(v){return{setTimeout:(u,h)=>{const g=v.setTimeout(u,h);return b.makeHandle(()=>v.clearTimeout(g))}}}
const w=B(globalThis);a.clock=w;a.wrap=B;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/events":function(){define(["exports","./handleUtils"],function(a,b){function B(h){return null!=h&&"object"===typeof h&&"on"in h&&"function"===typeof h.on||w(h)}function w(h){return null!=h&&"object"===typeof h&&"addEventListener"in h&&"function"===typeof h.addEventListener}function v(h,g,c){if(!B(h))throw new TypeError("target is not a Evented or EventTarget object");return w(h)?u(h,
g,c):h.on(g,c)}function u(h,g,c,d){if(Array.isArray(g)){const l=g.slice();for(const r of l)h.addEventListener(r,c,d);return b.makeHandle(()=>{for(const r of l)h.removeEventListener(r,c,d)})}h.addEventListener(g,c,d);return b.makeHandle(()=>h.removeEventListener(g,c,d))}a.addEventListener=u;a.isEventedOrEventTarget=B;a.on=v;a.once=function(h,g,c){if(!B(h))throw new TypeError("target is not a Evented or EventTarget object");if("once"in h)return h.once(g,c);const d=v(h,g,l=>{d.remove();c.call(h,l)});
return d};a.pausable=function(h,g,c){let d=!1;const l=v(h,g,r=>{d||c.call(h,r)});return{resume(){d=!1},pause(){d=!0},remove(){l.remove()}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.now=function(){return performance.now()};a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/SetUtils":function(){define(["exports"],function(a){function b(u,h){if(!h)return u;for(const g of h)null!=g&&u.add(g);return u}function B(u,h){const g=new Set;b(g,u);b(g,h);return g}function w(u,h){const g=new Set;for(const c of h)u.has(c)&&g.add(c);return g}function v(u,h){u=new Set(u);for(const g of h)u.delete(g);return u}a.addMany=b;a.addMaybe=function(u,h){null!=h&&u.add(h);return u};a.difference=v;a.equals=function(u,h){if(null==u&&null==h)return!0;
if(null==u||null==h||u.size!==h.size)return!1;for(const g of u)if(!h.has(g))return!1;return!0};a.intersection=w;a.isSubsetOf=function(u,h){if(!u||!h)return!1;if(u===h)return!0;for(const g of u)if(!h.has(g))return!1;return!0};a.last=function(u){let h;for(h of u);return h};a.someSet=function(u,h){for(const g of u.entries())if(h(g[0]))return!0;return!1};a.symmetricDifference=function(u,h){return v(B(u,h),w(u,h))};a.union=B;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/uid":function(){define(["exports"],
function(a){let b=0;a.generateUID=function(){return++b};a.nullUid=0;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","../handleUtils","./tracking","./tracking/SimpleTrackingTarget"],function(a,b,B,w){let v=!1;const u=[];a.autorun=function(h){function g(){if(c&&!d)if(v)u.includes(g)||u.unshift(g);else for(c.clear(),d=v=!0,B.runTracked(c,h),v=d=!1;u.length;)u.pop()()}let c=new w.SimpleTrackingTarget(g),d=!1;d=!0;B.runTracked(c,
h);d=!1;return b.makeHandle(function(){c&&(c.destroy(),c=null)})};a.reaction=function(h,g){function c(){if(d&&!r)if(v)u.includes(c)||u.unshift(c);else{var q=l;d.clear();r=v=!0;l=B.runTracked(d,h);v=r=!1;for(g(l,q);u.length;)u.pop()()}}let d=new w.SimpleTrackingTarget(c),l=null,r=!1;r=!0;l=B.runTracked(d,h);r=!1;return b.makeHandle(function(){d&&(d.destroy(),l=d=null)})};a.reactionDeferred=function(h,g){function c(){if(!d)return null;d.clear();return l=B.runTracked(d,h)}let d=new w.SimpleTrackingTarget(function(){g(l,
c)}),l=null;c();return b.makeHandle(function(){d&&(d.destroy(),d=null);l=null})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],function(a){function b(){}class B{constructor(u){this._accessed=new Set;this._handles=[];this._observerObject=new w(u);v.register(this,new WeakRef(this._observerObject),this)}destroy(){v.unregister(this._observerObject);this._accessed.clear();this._observerObject?.destroy();
this.clear()}onObservableAccessed(u){this._accessed.add(u)}onTrackingEnd(){const u=this._handles,h=this._observerObject;this._accessed.forEach(g=>{u.push(g.observe(h))});this._accessed.clear()}clear(){const u=this._handles;for(let h=0;h<u.length;++h)u[h].remove();u.length=0}}class w{constructor(u){this._notify=u;this._invalidCount=0;this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(!this.destroyed){var u=this._invalidCount;1===u?(this._invalidCount=0,this._notify()):this._invalidCount=
0<u?u-1:0}}destroy(){this.destroyed=!0;this._notify=b}}const v=new FinalizationRegistry(u=>{u.deref()?.destroy()});a.SimpleTrackingTarget=B;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,B,w,v,u){function h(c){let d=0;var l=c;if(B.isLongFormType(c))return B.ensureLongFormType(c);for(;Array.isArray(l)&&1===l.length&&"string"!==typeof l[0]&&
"number"!==typeof l[0];)l=l[0],d++;return B.isOneOf(l)?0===d?B.ensureOneOf(l):B.ensureNArrayTyped(B.ensureOneOf(l),d):1===d?B.ensureArray(l):1<d?B.ensureNArray(l,d):c.from?c.from:B.ensureType(c)}function g(c,d){return l=>{l=+c(l);null!=d.step&&(l=Math.round(l/d.step)*d.step);null!=d.min&&(l=Math.max(d.min,l));null!=d.max&&(l=Math.min(d.max,l));return l}}a.ensureRange=g;a.property=function(c={}){return(d,l)=>{if(d===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${d.name}.${l}. Accessor does not support static properties.`);
var r=Object.getOwnPropertyDescriptor(d,l);const q=v.getPropertyMetadata(d,l);r&&(r.get||r.set?(q.get=r.get||q.get,q.set=r.set||q.set):"value"in r&&("value"in c&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${l}" on "${d.constructor.name}" already defined in the metadata`,c),q.value=c.value=r.value));null!=c.readOnly&&(q.readOnly=c.readOnly);if(d=c.aliasOf){const k="string"===typeof d?d:d.source;d="string"===typeof d?null:!0===d.overridable;
let e;q.dependsOn=[k];q.get=function(){let n=w.get(this,k);if("function"===typeof n){e||=k.split(".").slice(0,-1).join(".");const x=w.get(this,e);x&&(n=n.bind(x))}return n};q.readOnly||(q.set=d?function(n){this._override(l,n)}:function(n){u.set(this,k,n)})}d=c.type;r=c.types;q.cast||(d?q.cast=h(d):r&&(Array.isArray(r)?q.cast=B.ensureArrayTyped(B.ensureOneOfType(r[0])):q.cast=B.ensureOneOfType(r)));v.mergeProperty(q,c);c.range&&(q.cast=g(q.cast,c.range))}};a.propertyJSONMeta=function(c,d,l){c=v.getPropertyMetadata(c,
l);c.json||(c.json={});c=c.json;void 0!==d&&(c.origins||(c.origins={}),c.origins[d]||(c.origins[d]={}),c=c.origins[d]);return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(a,b,B,w){function v(M){return null==M?M:new Date(M)}function u(M){return null==M?M:!!M}function h(M){return null==M?M:M.toString()}function g(M){if(null==M)return M;M=parseFloat(M);return isNaN(M)?
0:M}function c(M){return null==M?M:Math.round(parseFloat(M))}function d(M){return null}function l(M){return M?.constructor&&void 0!==M.constructor.__accessorMetadata__}function r(M,L){return null!=L&&M&&!(L instanceof M)}function q(M){return M?.Type?"function"===typeof M.Type?M.Type:M.Type.base:null}function k(M,L){var O;(O=!L?.constructor)||(O=L.constructor,O=!(O&&"isCollection"in O));if(O)return e(M,L)?L:new M(L);O=q(M.prototype.itemType);const U=q(L.constructor.prototype.itemType);if(!O)return L;
if(!U)return new M(L);if(O===U)return L;if(O.prototype.isPrototypeOf(U.prototype))return new M(L);e(M,L);return L}function e(M,L){return l(L)?(I().error("Accessor#set","Assigning an instance of '"+(L.declaredClass||"unknown")+"' which is not a subclass of '"+x(M)+"'"),!0):!1}function n(M,L){return null==L?L:M&&"isCollection"in M?k(M,L):r(M,L)?e(M,L)?L:new M(L):L}function x(M){return M?.prototype?.declaredClass||"unknown"}function f(M){switch(M){case Number:return g;case S:return c;case Boolean:return u;
case String:return h;case Date:return v;case Y:return d;default:return w.getOrCreateMapValue(P,M,()=>n.bind(null,M))}}function p(M,L){const O=f(M);return 1===arguments.length?O:O(L)}function y(M,L,O){return 1===arguments.length?y.bind(null,M):L?Array.isArray(L)?L.map(U=>M(U,O)):[M(L,O)]:L}function z(M,L,O){return 0!==L&&Array.isArray(O)?O.map(U=>z(M,L-1,U)):M(O)}function E(M,L,O){if(2===arguments.length)return ha=>E(M,L,ha);if(!O)return O;O=z(M,L,O);let U=L;for(var ca=O;0<U&&Array.isArray(ca);)U--,
ca=ca[0];if(void 0!==ca)for(ca=0;ca<U;ca++)O=[O];return O}function F(M,L){if(2===arguments.length)return F(M).call(null,L);const O=new Set,U=M.filter(ea=>"function"!==typeof ea),ca=M.filter(ea=>"function"===typeof ea);for(const ea of M)"string"!==typeof ea&&"number"!==typeof ea||O.add(ea);let ha=null,ia=null;return(ea,la)=>{if(null==ea)return ea;const ra=typeof ea,wa="string"===ra||"number"===ra;if(wa&&(O.has(ea)||ca.some(va=>"string"===ra&&va===String||"number"===ra&&va===Number))||"object"===ra&&
ca.some(va=>!r(ea,va)))return ea;wa&&U.length?(ha||=U.map(va=>"string"===typeof va?`'${va}'`:`${va}`).join(", "),I().error("Accessor#set",`'${ea}' is not a valid value for this property, only the following values are valid: ${ha}`)):"object"===typeof ea&&ca.length?(ia||=ca.map(va=>x(va)).join(", "),I().error("Accessor#set",`'${ea}' is not a valid value for this property, value must be one of ${ia}`)):I().error("Accessor#set",`'${ea}' is not a valid value for this property`);la&&(la.valid=!1);return null}}
function D(M,L){if(2===arguments.length)return D(M).call(null,L);const O={},U=[],ca=[];for(const ia in M.typeMap){const ea=M.typeMap[ia];O[ia]=p(ea);U.push(x(ea));ca.push(ia)}const ha="string"===typeof M.key?ia=>ia[M.key]:M.key;return ia=>{if(M.base&&!r(M.base,ia)||null==ia)return ia;var ea=ha(ia)||M.defaultKeyValue;const la=O[ea];if(!la)return I().error("Accessor#set",`Invalid property value, value needs to be one of ${`'${U.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${ca.join("', '")}'`})`),
null;if(!r(M.typeMap[ea],ia))return ia;if("string"===typeof M.key&&!l(ia)){ea={};for(const ra in ia)ra!==M.key&&(ea[ra]=ia[ra]);return la(ea)}return la(ia)}}function A(M){switch(M.type){case "native":return p(M.value);case "array":return y(A(M.value));case "one-of":return C(M);default:return null}}function C(M){let L=null;return(O,U)=>{if(J(O,M))return O;null==L&&(L=G(M));I().error("Accessor#set",`Invalid property value, value needs to be of type ${L}`);U&&(U.valid=!1);return null}}function G(M){switch(M.type){case "native":switch(M.value){case Number:return"number";
case String:return"string";case Boolean:return"boolean";case S:return"integer";case Date:return"date";case Y:return"null";default:return x(M.value)}case "array":return`array of ${G(M.value)}`;case "one-of":return M=M.values.map(L=>G(L)),`one of ${M.slice(0,-1)} or ${M[M.length-1]}`}return"unknown"}function J(M,L){if(null==M)return!0;switch(L.type){case "native":switch(L.value){case Number:case S:return"number"===typeof M;case Boolean:return"boolean"===typeof M;case String:return"string"===typeof M;
case Y:return null===M}return M instanceof L.value;case "array":return Array.isArray(M)?!M.some(O=>!J(O,L.value)):!1;case "one-of":return L.values.some(O=>J(M,O))}}const I=()=>B.getLogger("esri.core.accessorSupport.ensureTypes"),P=new WeakMap;class S{}class Y{}a.Integer=S;a.Null=Y;a.ensureArray=function(M,L){return 1===arguments.length?y(O=>p(M,O)):y(O=>p(M,O),L)};a.ensureArrayTyped=y;a.ensureBoolean=u;a.ensureClass=n;a.ensureDate=v;a.ensureInteger=c;a.ensureLongFormType=A;a.ensureNArray=function(M,
L,O){return 2===arguments.length?E(U=>p(M,U),L):E(U=>p(M,U),L,O)};a.ensureNArrayTyped=E;a.ensureNull=d;a.ensureNumber=g;a.ensureOneOf=F;a.ensureOneOfType=D;a.ensureString=h;a.ensureType=p;a.isClassedType=l;a.isLongFormType=function(M){if(!(M&&"type"in M))return!1;switch(M.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(M){return Array.isArray(M)?!M.some(L=>{L=typeof L;return!("string"===L||"number"===L||"function"===L&&1<M.length)}):!1};a.requiresType=r;a.types=
{native(M){return{type:"native",value:M}},array(M){return{type:"array",value:M}},oneOf(M){return{type:"one-of",values:M}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,B){for(const [w,v]of b)if(B(v,w))return v;return null};a.first=function(b){b=b.values().next();return!0!==b.done?b.value:null};a.getOrCreateMapValue=function(b,B,w){const v=b.get(B);if(void 0!==v)return v;w=w();b.set(B,w);return w};
a.memoize=function(b){const B=new Map;return w=>{B.has(w)||B.set(w,b(w));return B.get(w)}};a.someMap=function(b,B){for(const [w,v]of b)if(B(v,w))return!0;return!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../has ../../Logger ../beforeDestroy ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),function(a,b,B,w,v,u,h,g){function c(k,e){return null==e.get?function(){var n=
this.__accessor__;const x=n.propertiesByName.get(k);if(void 0!==x)return h.trackAccess(x),n=n.store,n.has(k)?n.get(k):x.metadata.value}:function(){const n=this.__accessor__,x=n.propertiesByName.get(k);if(void 0!==x)return x.getComputed(n)}}function d(k){const e=u.getPropertiesMetadata(k.prototype),n={};for(const x of Object.getOwnPropertyNames(e)){const f=e[x];g.processPrototypePropertyMetadata(f);n[x]={enumerable:!0,configurable:!0,get:c(x,f),set(p){const y=this.__accessor__;if(void 0===y)Object.defineProperty(this,
x,{enumerable:!0,configurable:!0,writable:!0,value:p});else if(!Object.isFrozen(this)){if(y.initialized&&f.readOnly)return q("read-only",x);if(y.lifecycle===v.Lifecycle.CONSTRUCTED&&f.constructOnly)return q("construct-only",x);y.set(x,p)}}}}Object.defineProperties(k.prototype,n)}const l=new Set,r=new Set,q=(k,e)=>{B.getLogger("esri.core.Accessor").error(`cannot assign to ${k} property '${e}'`)};a.finalizeClass=d;a.subclass=function(k){return e=>{k??="esri.core.Accessor";e.prototype.declaredClass=
k;d(e);const n=[],x=[];let f=e.prototype;for(;f;)f.hasOwnProperty("initialize")&&!l.has(f.initialize)&&(l.add(f.initialize),n.push(f.initialize)),f.hasOwnProperty("destroy")&&!r.has(f.destroy)&&(r.add(f.destroy),x.push(f.destroy)),f=Object.getPrototypeOf(f);l.clear();r.clear();const p=class extends e{constructor(...y){super(...y);if(this.constructor===p&&"function"===typeof this.postscript){n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let z=n.length-
1;0<=z;z--)n[z].call(this)}});if(x.length){let z=!1;const E=this[w.beforeDestroySymbol];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!z){z=!0;E.call(this);for(let F=0;F<x.length;F++)x[F].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}});this.postscript()}}};p.__accessorMetadata__=u.getPropertiesMetadata(e.prototype);p.prototype.declaredClass=k;e=(k||"AccessorSubclass").split(".").slice(-1)[0];Object.defineProperty(p,
"name",{value:e,configurable:!0});return p}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,B,w,v,u){function h(d,l,r){d=d?.json;d?.origins&&r&&(r="link-chart"===r?d.origins[r]&&("any"===l||l in d.origins[r])?d.origins[r]:d.origins["web-map"]:
d.origins[r])&&("any"===l||l in r)&&(d=r);return d}function g(d){if(d.type){var l=0;for(d=d.type;Array.isArray(d)&&!b.isOneOf(d);)d=d[0],l++;return{type:d,ndimArray:l}}}function c(d){if(d.types){var l=0;for(d=d.types;Array.isArray(d);)d=d[0],l++;return{types:d,ndimArray:l}}}a.originSpecificPropertyDefinition=function(d,l){return h(d,"any",l?.origin)};a.originSpecificReadPropertyDefinition=function(d,l){return h(d,"read",l?.origin)};a.originSpecificWritePropertyDefinition=function(d,l){return h(d,
"write",l?.origin)};a.processPrototypePropertyMetadata=function(d){if(v.process(d)){B.process(d);var l=d.json.types?c(d.json):d.type?g(d):c(d);if(d.json.origins)for(const q in d.json.origins){const k=d.json.origins[q];if(k.types){var r=k;r=r.type?g(r):c(r)}else r=l;w.create(r,k,!1);k.types&&!k.write&&d.json.write?.enabled&&(k.write={...d.json.write});u.create(r,k)}w.create(l,d.json,!0);u.create(l,d.json)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],
function(a){a.process=function(b){if(b.json&&b.json.origins){const B=b.json.origins;b={"web-document":["web-scene","web-map"]};for(const w in b)if(B[w]){const v=B[w];b[w].forEach(u=>{B[u]=v});delete B[w]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,b,B,w,v,u){function h(f){var p=f.ndimArray??
0;if(1<p)return l(f);if(1===p)return r(f);if("type"in f&&q(f.type)){p=f.type.prototype?.itemType?.Type;const y=r("function"===typeof p?{type:p}:{types:p});return(z,E,F)=>(z=y(z,E,F))?new f.type(z):z}return g(f)}function g(f){return"type"in f?c(f.type):n(f.types)}function c(f){return f.prototype.read?(p,y,z)=>{if(null==p)return p;y=typeof p;if("object"!==y)x().error(`Expected JSON value of type 'object' to deserialize type '${f.prototype.declaredClass}', but got '${y}'`);else return y=new f,y.read(p,
z),y}:f.fromJSON}function d(f,p,y,z){return 0!==z&&Array.isArray(p)?p.map(E=>d(f,E,y,z-1)):f(p,void 0,y)}function l(f){const p=g(f),y=d.bind(null,p),z=f.ndimArray??0;return(E,F,D)=>{if(null==E)return E;E=y(E,D,z);F=z;for(D=E;0<F&&Array.isArray(D);)F--,D=D[0];if(void 0!==D)for(D=0;D<F;D++)E=[E];return E}}function r(f){const p=g(f);return(y,z,E)=>{if(null==y)return y;if(Array.isArray(y)){z=[];for(const F of y)y=p(F,void 0,E),void 0!==y&&z.push(y);return z}E=p(y,void 0,E);return void 0!==E?[E]:void 0}}
function q(f){return u.isCollection(f)?(f=f.prototype.itemType)&&f.Type?"function"===typeof f.Type?k(f.Type):e(f.Type):!1:!1}function k(f){return Array.isArray(f)?!1:!!f&&f.prototype&&("read"in f.prototype||"fromJSON"in f||q(f))}function e(f){for(const p in f.typeMap)if(!k(f.typeMap[p]))return!1;return!0}function n(f){let p=null;const y=f.errorContext??"type",z=f.validate;return(E,F,D)=>{if(null==E)return E;F=typeof E;if("object"!==F)x().error(`Expected JSON value of type 'object' to deserialize, but got '${F}'`);
else{if(!p){F={};for(var A in f.typeMap){const J=f.typeMap[A];var C=v.getPropertiesMetadata(J.prototype);if("function"===typeof f.key)continue;C=C[f.key];if(!C)continue;if(C.json?.type&&Array.isArray(C.json.type)&&1===C.json.type.length&&"string"===typeof C.json.type[0]){F[C.json.type[0]]=J;continue}C=C.json?.write;if(!C?.writer){F[A]=J;continue}var G=C.target;G="string"===typeof G?G:f.key;const I={};C.writer(A,I,G);I[G]&&(F[I[G]]=J)}p=F}A=f.key;if("string"===typeof A){if(F=(A=E[A])?p[A]:f.defaultKeyValue?
f.typeMap[f.defaultKeyValue]:void 0)return A=new F,A.read(E,D),z?z(A):A;A=`Type '${A||"unknown"}' is not supported`;D?.messages&&E&&D.messages.push(new w(`${y}:unsupported`,A,{definition:E,context:D}));x().error(A)}}}}const x=()=>b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(f,p,y){f&&(y||p.read)&&!p.read?.reader&&!1!==p.read?.enabled&&(y="types"in f?e(f.types):k(f.type),y&&B.setDeepValue("read.reader",h(f),p))};a.createTypeReader=h;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/Warning":function(){define(["./Message"],function(a){class b extends a{constructor(B,w,v){super(B,w,v)}}b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=function(b){return!!b&&b.prototype?.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],
function(a){function b(v){v.name&&(v.read?"object"===typeof v.read?void 0===v.read.source&&(v.read.source=v.name):v.read={source:v.name}:v.read={source:v.name},v.write?"object"===typeof v.write?void 0===v.write.target&&(v.write.target=v.name):v.write={target:v.name}:v.write={target:v.name})}function B(v){"boolean"===typeof v.read?v.read={enabled:v.read}:"function"===typeof v.read?v.read={enabled:!0,reader:v.read}:v.read&&"object"===typeof v.read&&void 0===v.read.enabled&&(v.read.enabled=!0)}function w(v){"boolean"===
typeof v.write?v.write={enabled:v.write}:"function"===typeof v.write?v.write={enabled:!0,writer:v.write}:v.write&&"object"===typeof v.write&&void 0===v.write.enabled&&(v.write.enabled=!0)}a.process=function(v){v.json||(v.json={});B(v.json);w(v.json);b(v.json);if(v.json.origins)for(const u in v.json.origins)B(v.json.origins[u]),w(v.json.origins[u]),b(v.json.origins[u]);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports",
"../../../Error","../../../Logger","../../../object","./type"],function(a,b,B,w,v){function u(e){return(n,x,f,p)=>{if(!n||h(n,e,p))return c(n,x,f,p)}}function h(e,n,x){for(var f in n.typeMap)if(e instanceof n.typeMap[f])return!0;x?.messages&&(f=n.errorContext??"type",n=`Values of type '${("function"!==typeof n.key?e[n.key]:e.declaredClass)??"Unknown"}' cannot be written`,x&&x.messages&&e&&x.messages.push(new b(`${f}:unsupported`,n,{definition:e,context:x})),B.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n));
return!1}function g(e){return(n,x,f,p)=>{if(!n||!Array.isArray(n))return c(n,x,f,p);n=n.filter(y=>h(y,e,p));return c(n,x,f,p)}}function c(e,n,x,f){w.setDeepValue(x,d(e,f),n)}function d(e,n){return e&&"function"===typeof e.write?e.write({},n):e&&"function"===typeof e.toJSON?e.toJSON():"number"===typeof e?l(e):e}function l(e){return-Infinity===e?-Number.MAX_VALUE:Infinity===e?Number.MAX_VALUE:isNaN(e)?null:e}function r(e,n,x,f){null===e?e=null:e&&"function"===typeof e.map?(e=e.map(p=>d(p,f)),"function"===
typeof e.toArray&&(e=e.toArray())):e=[d(e,f)];w.setDeepValue(x,e,n)}function q(e,n,x){return 0!==x&&Array.isArray(e)?e.map(f=>q(f,n,x-1)):d(e,n)}function k(e){return(n,x,f,p)=>{if(null===n)n=null;else{n=q(n,p,e);p=e;for(var y=n;0<p&&Array.isArray(y);)p--,y=y[0];if(void 0!==y)for(y=0;y<p;y++)n=[n]}w.setDeepValue(f,n,x)}}a.create=function(e,n){if(n.write&&!n.write.writer&&(!1!==n.write.enabled||n.write.overridePolicy)){var x=e?.ndimArray??0;e&&(1===x||"type"in e&&v.isCollection(e.type))?n.write.writer=
r:1<x?n.write.writer=k(x):n.types?Array.isArray(n.types)?n.write.writer=g(n.types[0]):n.write.writer=u(n.types):n.write.writer=c}};a.numberToJSON=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Collection":function(){define("../chunks/tslib.es6 ./ArrayPool ./Evented ./handleUtils ./lang ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/ensureType ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleObservable".split(" "),
function(a,b,B,w,v,u,h,g,c,d,l,r,q,k){function e(I){I&&"object"===typeof I&&"destroy"in I&&"function"===typeof I.destroy&&I.destroy()}function n(I){return I?I instanceof J?I.toArray():I.length?Array.prototype.slice.apply(I):[]:[]}function x(I){if(I?.length)return I[0]}function f(I,P,S,Y){P&&P.forEach((M,L,O)=>{I.push(M);f(I,S.call(Y,M,L,O),S,Y)})}var p;class y{constructor(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=
!0)}reset(I){this.defaultPrevented=!1;this.item=I}}class z{constructor(I,P,S,Y,M){this.target=I;this.added=P;this.removed=S;this.start=Y;this.deleteCount=M}}const E=new u(y,void 0,I=>{I.item=null;I.target=null;I.defaultPrevented=!1;I.cancellable=!1}),F=new Set,D=new Set,A=new Set,C=new Map;let G=0,J=p=class extends B.EventedAccessor{static isCollection(I){return null!=I&&I instanceof p}constructor(I){super(I);this._chgListeners=[];this._notifications=null;this._updating=!1;this._timer=null;this._observable=
new k.SimpleObservable;this.length=0;this._items=[];Object.defineProperty(this,"uid",{value:G++})}normalizeCtorArgs(I){return I?Array.isArray(I)||I instanceof p?{items:I}:I:{}}destroy(){this._removeAllRaw();this._timer&&this._timer.remove();this._emitter.destroy();this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){d.trackAccess(this._observable);return this._items}set items(I){this._emitBeforeChanges(h.ObservableChangesType.ADD)||(this._splice(0,this.length,n(I)),this._emitAfterChanges(h.ObservableChangesType.ADD))}hasEventListener(I){return this.destroyed?
!1:"change"===I?0<this._chgListeners.length:this._emitter.hasEventListener(I)}on(I,P){if(this.destroyed)return w.makeHandle();if("change"===I){const S=this._chgListeners,Y={removed:!1,callback:P};S.push(Y);this._notifications&&this._notifications.push({listeners:S.slice(),items:this._items.slice(),changes:[]});return w.makeHandle(()=>{Y.removed=!0;S.splice(S.indexOf(Y),1)})}return this._emitter.on(I,P)}once(I,P){const S="deref"in P?()=>P.deref():()=>P,Y=this.on(I,M=>{S()?.call(null,M);Y.remove()});
return Y}add(I,P){d.trackAccess(this._observable);if(this._emitBeforeChanges(h.ObservableChangesType.ADD))return this;P=this.getNextIndex(P??null);this._splice(P,0,[I]);this._emitAfterChanges(h.ObservableChangesType.ADD);return this}addMany(I,P=this._items.length){d.trackAccess(this._observable);if(!I?.length||this._emitBeforeChanges(h.ObservableChangesType.ADD))return this;P=this.getNextIndex(P);this._splice(P,0,n(I));this._emitAfterChanges(h.ObservableChangesType.ADD);return this}at(I){d.trackAccess(this._observable);
I=Math.trunc(I)||0;0>I&&(I+=this.length);if(!(0>I||I>=this.length))return this._items[I]}removeAll(){d.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(h.ObservableChangesType.REMOVE))return[];const I=this._removeAllRaw();this._emitAfterChanges(h.ObservableChangesType.REMOVE);return I}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){d.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(v.clone)})}concat(...I){d.trackAccess(this._observable);
I=I.map(n);return this._createNewInstance({items:this._items.concat(...I)})}drain(I,P){d.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(h.ObservableChangesType.REMOVE)){var S=this._splice(0,this.length),Y=S.length;for(let M=0;M<Y;M++)I.call(P,S[M],M,S);this._emitAfterChanges(h.ObservableChangesType.REMOVE)}}destroyAll(){this.drain(e)}destroyMany(I){I=this.removeMany(I);I.forEach(e);return I}every(I,P){d.trackAccess(this._observable);return this._items.every(I,P)}filter(I,P){d.trackAccess(this._observable);
let S;S=2===arguments.length?this._items.filter(I,P):this._items.filter(I);return this._createNewInstance({items:S})}find(I,P){d.trackAccess(this._observable);return this._items.find(I,P)}findIndex(I,P){d.trackAccess(this._observable);return this._items.findIndex(I,P)}flatten(I,P){d.trackAccess(this._observable);const S=[];f(S,this,I,P);return new p(S)}forEach(I,P){d.trackAccess(this._observable);return this._items.forEach(I,P)}getItemAt(I){d.trackAccess(this._observable);return this._items[I]}getNextIndex(I){d.trackAccess(this._observable);
const P=this.length;I=null==I?P:I;0>I?I=0:I>P&&(I=P);return I}includes(I,P=0){d.trackAccess(this._observable);return this._items.includes(I,P)}indexOf(I,P=0){d.trackAccess(this._observable);return this._items.indexOf(I,P)}join(I=","){d.trackAccess(this._observable);return this._items.join(I)}lastIndexOf(I,P=this.length-1){d.trackAccess(this._observable);return this._items.lastIndexOf(I,P)}map(I,P){d.trackAccess(this._observable);I=this._items.map(I,P);return new p({items:I})}reorder(I,P=this.length-
1){d.trackAccess(this._observable);const S=this.indexOf(I);if(-1!==S){0>P?P=0:P>=this.length&&(P=this.length-1);if(S!==P){if(this._emitBeforeChanges(h.ObservableChangesType.MOVE))return I;this._splice(S,1);this._splice(P,0,[I]);this._emitAfterChanges(h.ObservableChangesType.MOVE)}return I}}pop(){d.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(h.ObservableChangesType.REMOVE)){var I=x(this._splice(this.length-1,1));this._emitAfterChanges(h.ObservableChangesType.REMOVE);return I}}push(...I){d.trackAccess(this._observable);
if(this._emitBeforeChanges(h.ObservableChangesType.ADD))return this.length;this._splice(this.length,0,I);this._emitAfterChanges(h.ObservableChangesType.ADD);return this.length}reduce(I,P){d.trackAccess(this._observable);const S=this._items;return 2===arguments.length?S.reduce(I,P):S.reduce(I)}reduceRight(I,P){d.trackAccess(this._observable);const S=this._items;return 2===arguments.length?S.reduceRight(I,P):S.reduceRight(I)}remove(I){d.trackAccess(this._observable);return this.removeAt(this.indexOf(I))}removeAt(I){d.trackAccess(this._observable);
if(!(0>I||I>=this.length||this._emitBeforeChanges(h.ObservableChangesType.REMOVE)))return I=x(this._splice(I,1)),this._emitAfterChanges(h.ObservableChangesType.REMOVE),I}removeMany(I){d.trackAccess(this._observable);if(!I?.length||this._emitBeforeChanges(h.ObservableChangesType.REMOVE))return[];I=I instanceof p?I.toArray():I;const P=this._items,S=[],Y=I.length;for(let U=0;U<Y;U++){var M=P.indexOf(I[U]);if(-1<M){var L=U+1,O=M+1;const ca=Math.min(I.length-L,P.length-O);let ha=0;for(;ha<ca&&I[L+ha]===
P[O+ha];)ha++;L=1+ha;(M=this._splice(M,L))&&0<M.length&&S.push.apply(S,M);U+=L-1}}this._emitAfterChanges(h.ObservableChangesType.REMOVE);return S}reverse(){d.trackAccess(this._observable);if(this._emitBeforeChanges(h.ObservableChangesType.MOVE))return this;const I=this._splice(0,this.length);I&&(I.reverse(),this._splice(0,0,I));this._emitAfterChanges(h.ObservableChangesType.MOVE);return this}shift(){d.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(h.ObservableChangesType.REMOVE)){var I=
x(this._splice(0,1));this._emitAfterChanges(h.ObservableChangesType.REMOVE);return I}}slice(I=0,P=this.length){d.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(I,P)})}some(I,P){d.trackAccess(this._observable);return this._items.some(I,P)}sort(I){d.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(h.ObservableChangesType.MOVE))return this;const P=this._splice(0,this.length);arguments.length?P.sort(I):P.sort();this._splice(0,0,P);this._emitAfterChanges(h.ObservableChangesType.MOVE);
return this}splice(I,P,...S){d.trackAccess(this._observable);const Y=(P?h.ObservableChangesType.REMOVE:0)|(S.length?h.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(Y))return[];I=this._splice(I,P,S)||[];this._emitAfterChanges(Y);return I}toArray(){d.trackAccess(this._observable);return this._items.slice()}toJSON(){d.trackAccess(this._observable);return this.toArray()}toLocaleString(){d.trackAccess(this._observable);return this._items.toLocaleString()}toString(){d.trackAccess(this._observable);
return this._items.toString()}unshift(...I){d.trackAccess(this._observable);if(!I.length||this._emitBeforeChanges(h.ObservableChangesType.ADD))return this.length;this._splice(0,0,I);this._emitAfterChanges(h.ObservableChangesType.ADD);return this.length}_createNewInstance(I){return new this.constructor(I)}_splice(I,P,S){const Y=this._items;var M=this.itemType;let L=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),
changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=g.schedule(()=>this._dispatchChange()));0>I&&(I+=this.length);if(P){L=Y.splice(I,P);if(this.hasEventListener("before-remove")){var O=E.acquire();O.target=this;O.cancellable=!0;for(let ia=0,ea=L.length;ia<ea;ia++){var U=L[ia];O.reset(U);this.emit("before-remove",O);O.defaultPrevented&&(L.splice(ia,1),Y.splice(I,0,U),I+=1,--ia,--ea)}E.release(O)}this.length=this._items.length;if(this.hasEventListener("after-remove")){U=E.acquire();
U.target=this;U.cancellable=!1;O=L.length;for(let ia=0;ia<O;ia++)U.reset(L[ia]),this.emit("after-remove",U);E.release(U)}}if(S?.length){if(M){U=[];for(var ca of S)S=M.ensureType(ca),null==S&&null!=ca||U.push(S);S=U}M=this.hasEventListener("before-add");ca=this.hasEventListener("after-add");U=I===this.length;if(M||ca){var ha=E.acquire();ha.target=this;ha.cancellable=!0;O=E.acquire();O.target=this;O.cancellable=!1;for(const ia of S)M?(ha.reset(ia),this.emit("before-add",ha),ha.defaultPrevented||(U?
Y.push(ia):Y.splice(I++,0,ia),this._set("length",Y.length),ca&&(O.reset(ia),this.emit("after-add",O)))):(U?Y.push(ia):Y.splice(I++,0,ia),this._set("length",Y.length),O.reset(ia),this.emit("after-add",O));E.release(O);E.release(ha)}else{if(U)for(ha of S)Y.push(ha);else Y.splice(I,0,...S);this._set("length",Y.length)}}(S?.length||L?.length)&&this._notifyChangeEvent(S,L);this.hasEventListener("after-splice")&&(I=new z(this,S,L,I,P),this.emit("after-splice",I));return L}_emitBeforeChanges(I){let P=!1;
if(this.hasEventListener("before-changes")){const S=E.acquire();S.target=this;S.cancellable=!0;S.type=I;this.emit("before-changes",S);P=S.defaultPrevented;E.release(S)}return P}_emitAfterChanges(I){if(this.hasEventListener("after-changes")){const P=E.acquire();P.target=this;P.cancellable=!1;P.type=I;this.emit("after-changes",P);E.release(P)}this._observable.notify()}_notifyChangeEvent(I,P){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:I,
removed:P})}get updating(){return this._updating}_dispatchChange(){this._timer&&(this._timer.remove(),this._timer=null);this._updating=!1;if(this._notifications){var I=this._notifications;this._notifications=null;for(const P of I){I=P.changes;F.clear();D.clear();A.clear();for(const {added:U,removed:ca}of I){if(U)if(0===A.size&&0===D.size)for(const ha of U)F.add(ha);else for(const ha of U)D.has(ha)?(A.add(ha),D.delete(ha)):A.has(ha)||F.add(ha);if(ca)if(0===A.size&&0===F.size)for(const ha of ca)D.add(ha);
else for(const ha of ca)F.has(ha)?F.delete(ha):(A.delete(ha),D.add(ha))}const S=b.acquire();F.forEach(U=>{S.push(U)});const Y=b.acquire();D.forEach(U=>{Y.push(U)});const M=this._items,L=P.items,O=b.acquire();A.forEach(U=>{L.indexOf(U)!==M.indexOf(U)&&O.push(U)});if(P.listeners&&(S.length||Y.length||O.length)){I={target:this,added:S,removed:Y,moved:O};const U=P.listeners.length;for(let ca=0;ca<U;ca++){const ha=P.listeners[ca];ha.removed||ha.callback.call(this,I)}}b.release(S);b.release(Y);b.release(O)}F.clear();
D.clear();A.clear()}}};J.ofType=I=>{if(!I)return p;if(C.has(I))return C.get(I);let P=null;if("function"===typeof I)P=I.prototype.declaredClass;else if(I.base)P=I.base.prototype.declaredClass;else for(var S in I.typeMap){const Y=I.typeMap[S].prototype.declaredClass;P=P?P+` | ${Y}`:Y}S=class extends p{};a.__decorate([r.shared({Type:I,ensureType:"function"===typeof I?c.ensureType(I):c.ensureOneOfType(I)})],S.prototype,"itemType",void 0);S=a.__decorate([q.subclass(`esri.core.Collection<${P}>`)],S);C.set(I,
S);return S};a.__decorate([l.property()],J.prototype,"_updating",void 0);a.__decorate([l.property()],J.prototype,"length",void 0);a.__decorate([l.property()],J.prototype,"items",null);a.__decorate([l.property({readOnly:!0})],J.prototype,"updating",null);return J=p=a.__decorate([q.subclass("esri.core.Collection")],J)})},"esri/core/Evented":function(){define(["../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,b,B,w){class v{constructor(){this._emitter=
new v.EventEmitter(this)}emit(u,h){return this._emitter.emit(u,h)}on(u,h){return this._emitter.on(u,h)}once(u,h){return this._emitter.once(u,h)}hasEventListener(u){return this._emitter.hasEventListener(u)}}(function(u){class h{constructor(c=null){this._target=c;this._listenersMap=null}clear(){this._listenersMap?.clear();this._listenersMap=null}destroy(){this.clear()}emit(c,d){let l=this._listenersMap?.get(c);if(!l)return!1;const r=this._target||this;let q=!1;for(const k of l.slice()){const e="deref"in
k?k.deref():k;e?e?.call(r,d):q=!0}q&&(l=l.filter(k=>"deref"in k?null!=k.deref():!0),this._listenersMap.set(c,l));return 0<l.length}on(c,d){if(Array.isArray(c)){var l=c.map(r=>this.on(r,d));return B.handlesGroup(l)}if(c.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);l=this._listenersMap.get(c)||[];l.push(d);this._listenersMap.set(c,l);return B.makeHandle(()=>{const r=this._listenersMap?.get(c),
q=r?.indexOf(d)??-1;0<=q&&r.splice(q,1)})}once(c,d){const l=this.on(c,r=>{l.remove();("deref"in d?d.deref():d)?.call(null,r)});return l}hasEventListener(c){c=this._listenersMap?.get(c);return null!=c&&0<c.length}}u.EventEmitter=h;u.EventedMixin=c=>{c=class extends c{constructor(){super(...arguments);this._emitter=new h}destroy(){this._emitter.clear()}emit(d,l){return this._emitter.emit(d,l)}on(d,l){return this._emitter.on(d,l)}once(d,l){return this._emitter.once(d,l)}hasEventListener(d){return this._emitter.hasEventListener(d)}};
return c=a.__decorate([w.subclass("esri.core.Evented")],c)};let g=class extends b{constructor(){super(...arguments);this._emitter=new v.EventEmitter(this)}destroy(){this._emitter.clear()}emit(c,d){return this._emitter.emit(c,d)}on(c,d){return this._emitter.on(c,d)}once(c,d){return this._emitter.once(c,d)}hasEventListener(c){return this._emitter.hasEventListener(c)}};g=a.__decorate([w.subclass("esri.core.Evented.EventedAccessor")],g);u.EventedAccessor=g})(v||={});return v})},"esri/core/ObservableChangesType":function(){define(["exports"],
function(a){a.ObservableChangesType=void 0;var b=a.ObservableChangesType||(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(B,w)=>{B[w]=b}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports",
"../ObservableBase"],function(a,b){class B extends b.ObservableBase{notify(){var w=this._observers;if(w&&0<w.length){w=w.slice();for(const v of w)v.onInvalidated(),v.onCommitted()}}}a.SimpleObservable=B;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/RemoteClient":function(){define("../../kernel ../Error ../events ../handleUtils ../maybe ../promiseUtils ./InvokeHandler ./registry ./utils ../../support/revision".split(" "),function(a,b,B,w,v,u,h,g,c,d){const {CLOSE:l,
ABORT:r,INVOKE:q,RESPONSE:k,OPEN_PORT:e,ON:n}=c.MessageType;class x{constructor(p){this._invoke=p;this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._timer=null;this._process=this._process.bind(this)}push(p){p.type===c.MessageType.ABORT?this._cancelledJobIds.add(p.jobId):(this._invokeMessages.push(p),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null}_process(){this._timer=null;
for(const p of this._invokeMessages)this._cancelledJobIds.has(p.jobId)||this._invoke(p);this._cancelledJobIds.clear();this._invokeMessages.length=0}}class f{static connect(p,y){const z=new MessageChannel;p="function"===typeof p?new p:"default"in p&&"function"===typeof p.default?new p.default:p;y=new f(z.port1,{channel:z,client:p,schedule:y});"object"===typeof p&&"remoteClient"in p&&(p.remoteClient=y);f.clients.set(y,p);return z.port2}static loadWorker(p){return(p=g.registry[p])?p():Promise.resolve(null)}constructor(p,
y,z){this._port=p;this._jobQueue=z;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new x(E=>this._onInvokeMessage(E));this._client=y.client;this._onMessage=this._onMessage.bind(this);this._channel=y.channel;this._schedule=y.schedule;this._port.addEventListener("message",this._onMessage);this._port.start()}close(){this._post({type:l});this._close()}isBusy(){return 0<this._outJobs.size}invoke(p,y,z){return this.apply(p,[y],z)}apply(p,y,z){const E=z?.signal,F=z?.transferList;if(!this._port)return Promise.reject(new b(c.portClosedErrorName,
`Cannot call invoke('${p}'), port is closed`,{methodName:p,data:y}));const D=c.newJobId();return new Promise((A,C)=>{if(u.isAborted(E))this._processWork(),C(u.createAbortError());else{var G=u.onAbort(E,()=>{const J=this._outJobs.get(D);J&&(this._outJobs.delete(D),this._processWork(),v.removeMaybe(J.abortHandle),this._post({type:r,jobId:D}),C(u.createAbortError()))});this._outJobs.set(D,{resolve:A,reject:C,abortHandle:G,debugInfo:p});this._post({type:q,jobId:D,methodName:p,abortable:null!=E},y,F)}})}createInvokeProxy(p){return h.createInvokeProxy(this,
p)}on(p,y){function z(F){y(F.data)}const E=new MessageChannel;this._port.postMessage({type:c.MessageType.ON,eventType:p,port:E.port2},[E.port2]);E.port1.addEventListener("message",z);E.port1.start();return w.makeHandle(()=>{E.port1.postMessage({type:c.MessageType.CLOSE});E.port1.close();E.port1.removeEventListener("message",z)})}jobAdded(){this._processWork()}openPort(){const p=new MessageChannel;this._post({type:e,port:p.port2});return p.port1}_processWork(){if(!(2<=this._outJobs.size)){var p=this._jobQueue?.pop();
if(p){var {methodName:y,data:z,invokeOptions:E,resolver:F}=p;this.apply(y,z,E).then(D=>F.resolve(D)).catch(D=>F.reject(D))}}}_close(){this._channel&&(this._channel=void 0);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(p=>{v.removeMaybe(p.abortHandle);p.reject(u.createAbortError(`Worker closing, aborting job calling '${p.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._schedule=this._client=this._port=null}_onMessage(p){null!=
this._schedule?this._schedule(()=>this._processMessage(p,!0)):this._processMessage(p,!1)}_processMessage(p,y){if(p=c.receiveMessage(p))switch(p.type){case k:this._onResponseMessage(p);break;case q:y?this._onInvokeMessage(p):this._invokeQueue.push(p);break;case r:this._onAbortMessage(p);break;case l:this._onCloseMessage();break;case e:this._onOpenPortMessage(p);break;case n:this._onOnMessage(p)}}_onAbortMessage(p){const y=this._inJobs,z=p.jobId,E=y.get(z);this._invokeQueue.push(p);E&&(E.controller&&
E.controller.abort(),y.delete(z))}_onCloseMessage(){const p=this._client;this._close();p&&"destroy"in p&&f.clients.get(this)===p&&p.destroy();f.clients.delete(this);p?.remoteClient&&(p.remoteClient=null)}_onInvokeMessage(p){const {methodName:y,jobId:z,data:E=[],abortable:F}=p;p=F?new AbortController:null;const D=this._inJobs;let A=this._client,C=A[y],G;try{if(!C&&y&&y.includes(".")){const J=y.split(".");for(let I=0;I<J.length-1;I++)A=A[J[I]],C=A[J[I+1]]}if("function"!==typeof C)throw new TypeError(`${y} is not a function`);
E.push({client:this,signal:p?p.signal:null});G=C.apply(A,E)}catch(J){this._post({type:k,jobId:z,error:c.toInvokeError(J)});return}u.isPromiseLike(G)?(D.set(z,{controller:p,promise:G}),G.then(J=>{D.has(z)&&(D.delete(z),this._post({type:k,jobId:z},J))},J=>{D.has(z)&&(D.delete(z),u.isAbortError(J)||this._post({type:k,jobId:z,error:c.toInvokeError(J||{message:`Error encountered at method ${y}`})}))})):this._post({type:k,jobId:z},G)}_onOpenPortMessage(p){new f(p.port,{client:this._client})}_onOnMessage(p){const {port:y}=
p,z=this._client.on(p.eventType,F=>{y.postMessage(F)}),E=B.on(p.port,"message",F=>{c.receiveMessage(F)?.type===c.MessageType.CLOSE&&(E.remove(),z.remove(),y.close())})}_onResponseMessage(p){const {jobId:y,error:z,data:E}=p;p=this._outJobs;if(p.has(y)){var F=p.get(y);p.delete(y);this._processWork();v.removeMaybe(F.abortHandle);z?F.reject(b.fromJSON(JSON.parse(z))):F.resolve(E)}}_post(p,y,z){return c.postMessage(this._port,p,y,z)}}f.kernelInfo={buildDate:d.buildDate,fullVersion:a.fullVersion,revision:d.commitHash};
f.clients=new Map;return f})},"esri/kernel":function(){define(["require","exports","./core/has","./core/urlUtils","./support/revision"],function(a,b,B,w,v){let u;(u=Symbol).dispose??(u.dispose=Symbol("Symbol.dispose"));let h;(h=Symbol).asyncDispose??(h.asyncDispose=Symbol("Symbol.asyncDispose"));b.id=void 0;if(!B("host-webworker")){console.debug(`Using ArcGIS Maps SDK for JavaScript ${"4.30"} [Date: ${v.buildDate}, Revision: ${v.commitHash.slice(0,8)}]`);let g;"function"===typeof globalThis.require&&
(g=globalThis.require);const c=l=>{if(!g)return Promise.reject("global AMD `require` function not found");const r=l.startsWith("@arcgis/core/")?l.replace("@arcgis/core/","esri/").replace(/.js$/,""):l;return new Promise(q=>g([r],q))},d=l=>{var r;var q=(r=globalThis.$arcgis.importMap?.imports)&&l in r?r[l]:null;q?(r=!0,l=q):r=l.startsWith("/")||l.startsWith("./")||l.startsWith("../")||w.isAbsolute(l);return r?import(l):c(l)};globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,
enumerable:!0,writable:!1,value:{}});Object.defineProperty(globalThis.$arcgis,"import",{configurable:!1,enumerable:!0,writable:!1,value:l=>Array.isArray(l)?Promise.all(l.map(d)):d(l)})}b.buildDate=v.buildDate;b.revision=v.commitHash;b.addTokenParameter=function(g){const c=b.id?.findCredential(g);return c?.token?w.addQueryParameter(g,"token",c.token):g};b.fullVersion="4.30";b.setId=function(g){b.id=g};b.version="4.30";Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/urlUtils":function(){define("exports ../config ./arrayUtils ./Error ./JSONSupport ./Logger ../portal/support/urlUtils ../support/base64Utils".split(" "),
function(a,b,B,w,v,u,h,g){function c(t){if(!t)return null;const K={path:null,query:null},N=new V(t),Z=t.indexOf("?");null===N.query?K.path=t:(K.path=t.substring(0,Z),K.query=d(N.query));N.fragment&&(K.hash=N.fragment,null===N.query&&(K.path=K.path.substring(0,K.path.length-(N.fragment.length+1))));return K}function d(t){var K=t.split("\x26");t={};for(const Z of K){if(!Z)continue;var N=Z.indexOf("\x3d");0>N?(K=decodeURIComponent(Z),N=""):(K=decodeURIComponent(Z.slice(0,N)),N=decodeURIComponent(Z.slice(N+
1)));let ka=t[K];"string"===typeof ka&&(ka=t[K]=[ka]);Array.isArray(ka)?ka.push(N):t[K]=N}return t}function l(t,K){return t?K&&"function"===typeof K?Object.keys(t).map(N=>encodeURIComponent(N)+"\x3d"+encodeURIComponent(K(N,t[N]))).join("\x26"):Object.keys(t).map(N=>{const Z=t[N];if(null==Z)return"";const ka=encodeURIComponent(N)+"\x3d";return(N=K?.[N])?ka+encodeURIComponent(N(Z)):Array.isArray(Z)?Z.map(Aa=>v.isSerializable(Aa)?ka+encodeURIComponent(JSON.stringify(Aa)):ka+encodeURIComponent(Aa)).join("\x26"):
v.isSerializable(Z)?ka+encodeURIComponent(JSON.stringify(Z)):ka+encodeURIComponent(Z)}).filter(N=>N).join("\x26"):""}function r(t){const K=t.indexOf("?");-1!==K?(xa.path=t.slice(0,K),xa.query=t.slice(K+1)):(xa.path=t,xa.query=null);return xa}function q(t){t=r(t).path;t=U(t);t=O(t,!0);return t=t.toLowerCase()}function k(t){const K=ia.proxyRules;t=q(t);for(let N=0;N<K.length;N++)if(0===t.indexOf(K[N].urlPrefix))return K[N]}function e(t){t=f(t);const K=t.indexOf("/sharing");return 0<K?t.substring(0,
K):t.replace(/\/+$/,"")}function n(t,K,N=!1){if(!t||!K)return!1;t=ha(t);K=ha(K);return!N&&t.scheme!==K.scheme||null==t.host||null==K.host?!1:t.host.toLowerCase()===K.host.toLowerCase()&&t.port===K.port}function x(t,K=sa,N){if(J(t))return N?.preserveProtocolRelative?t:"http"===pa.scheme&&pa.authority===y(t).slice(2)?`http:${t}`:`https:${t}`;if(!I(t)){N=p;if("/"===t[0]){var Z=K.indexOf("//");Z=K.indexOf("/",Z+2);K=-1===Z?K:K.slice(0,Z)}return N(K,t)}return t}function f(t){t=t.trim();t=x(t);if(/^https?:\/\//i.test(t)){const K=
r(t);t=K.path.replaceAll(/\/{2,}/g,"/");t=t.replace("/","//");K.query&&(t+=`?${K.query}`)}t=t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return t=ca(t)}function p(...t){var K=t.filter(B.isSome);if(K?.length){t=[];if(z(K[0])){var N=K[0],Z=N.indexOf("//");-1!==Z&&(t.push(N.slice(0,Z+1)),Y(K[0])&&(t[0]+="/"),K[0]=N.slice(Z+2))}else"/"===K[0][0]&&t.push("");K=K.reduce((ka,Aa)=>Aa?ka.concat(Aa.split("/")):ka,[]);for(N=0;N<K.length;N++)Z=K[N],".."===Z&&0<t.length&&".."!==t[t.length-1]?t.pop():(!Z&&
N===K.length-1||Z&&("."!==Z||0===t.length))&&t.push(Z);return t.join("/")}}function y(t,K=!1){if(null==t||E(t)||F(t))return null;var N=t.indexOf("://");if(-1===N&&J(t))N=2;else if(-1!==N)N+=3;else return null;N=t.indexOf("/",N);-1!==N&&(t=t.slice(0,N));K&&(t=O(t,!0));return t}function z(t){return J(t)||I(t)}function E(t){return null!=t&&"blob:"===t.slice(0,5)}function F(t){return null!=t&&"data:"===t.slice(0,5)}function D(t){t=A(t);return t?.isBase64?g.base64ToArrayBuffer(t.data):null}function A(t){t=
t.match(Ba);if(!t)return null;const [,K,N,Z]=t;return{mediaType:K,isBase64:!!N,data:Z}}function C(t){const K=D(t);if(!K)return null;t=A(t);return new Blob([K],{type:t.mediaType})}function G(t,K){if(!t)return!1;const N=document.createElement("a");if(!("download"in N))return!1;t=URL.createObjectURL(t);N.download=K;N.href=t;N.style.display="none";document.body.appendChild(N);N.click();document.body.removeChild(N);URL.revokeObjectURL(t);return!0}function J(t){return null!=t&&"/"===t[0]&&"/"===t[1]}function I(t){return null!=
t&&ea.test(t)}function P(t){return null!=t&&ra.test(t)||"https"===pa.scheme&&J(t)}function S(t){return null!=t&&la.test(t)||"http"===pa.scheme&&J(t)}function Y(t){return null!=t&&wa.test(t)}function M(t){return J(t)?`https:${t}`:t.replace(la,"https:")}function L(){return"https"===pa.scheme}function O(t,K=!1){if(J(t))return t.slice(2);t=t.replace(ea,"");K&&1<t.length&&"/"===t[0]&&"/"===t[1]&&(t=t.slice(2));return t}function U(t){return t.endsWith("/")?t:`${t}/`}function ca(t){const K=ia.httpsDomains;
if(!S(t))return t;const N=t.indexOf("/",7);let Z;Z=-1===N?t:t.slice(0,N);Z=Z.toLowerCase().slice(7);if(va.test(Z))if(Z.endsWith(":80"))Z=Z.slice(0,-3),t=t.replace(":80","");else return t;if("http"===pa.scheme&&Z===pa.authority&&!aa.test(t))return t;if(L()&&Z===pa.authority||K&&K.some(ka=>Z===ka||Z.endsWith(`.${ka}`))||L()&&!k(t))t=M(t);return t}function ha(t){if("string"===typeof t)return new V(x(t));t.scheme||(t.scheme=pa.scheme);return t}const ia=b.request,ea=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,
la=/^\s*http:/i,ra=/^\s*https:/i,wa=/^\s*file:/i,va=/:\d+$/,aa=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,T=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Q=RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");class V{constructor(t=""){this.uri=t;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;t=this.uri.match(T);this.scheme=t[2]||(t[1]?"":null);this.authority=t[4]||(t[3]?"":null);this.path=
t[5];this.query=t[7]||(t[6]?"":null);this.fragment=t[9]||(t[8]?"":null);null!=this.authority&&(t=this.authority.match(Q),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const ba={},fa=new V(b.applicationUrl);let pa=fa;const ta=function(){var t=pa.path;t=t.substring(0,t.lastIndexOf(t.split("/")[t.split("/").length-1]));return`${`${pa.scheme}://${pa.host}${null!=pa.port?`:${pa.port}`:""}`}${t}`}();let sa=ta;const xa={path:"",query:""},
Ba=/^data:(.*?)(;base64)?,(.*)$/,Ea=/([^.]*)\.([^/]*)$/,Da=/(^data:image\/svg|\.svg$)/i;a.Url=V;a.addProxy=function(t){var K=k(t),N=void 0;if(K){var Z=r(K.proxyUrl);N=Z.path;Z=Z.query?d(Z.query):null}N&&(K=c(t),t=N+"?"+K.path,(N=l({...Z,...K.query}))&&(t=`${t}?${N}`));return t};a.addProxyRule=function(t){t={proxyUrl:t.proxyUrl,urlPrefix:q(t.urlPrefix)};const K=ia.proxyRules,N=t.urlPrefix;let Z=K.length;for(let ka=0;ka<K.length;ka++){const Aa=K[ka].urlPrefix;if(0===N.indexOf(Aa)){if(N.length===Aa.length)return-1;
Z=ka;break}0===Aa.indexOf(N)&&(Z=ka+1)}K.splice(Z,0,t);return Z};a.addQueryParameter=function(t,K,N){t=c(t);const Z=t.query||{};Z[K]=String(N);return`${t.path}?${l(Z)}`};a.addQueryParameters=function(t,K){if(!K)return t;t=c(t);const N=t.query||{};for(const [Z,ka]of Object.entries(K))null!=ka&&(N[Z]=ka);return(K=l(N))?`${t.path}?${K}`:t.path};a.base64UrlEncode=function(t){return g.arrayBufferToBase64(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")};a.blobUrlToBlob=async function(t){return(await fetch(t)).blob()};
a.changeDomain=function(t,K,N){if(!(K&&N&&t&&z(t)))return t;const Z=t.indexOf("//");var ka=t.indexOf("/",Z+2);const Aa=t.indexOf(":",Z+2);ka=Math.min(0>ka?t.length:ka,0>Aa?t.length:Aa);if(t.slice(Z+2,ka).toLowerCase()!==K.toLowerCase())return t;K=t.slice(0,Z+2);t=t.slice(ka);return`${K}${N}${t}`};a.dataComponents=A;a.dataToArrayBuffer=D;a.dataToBlob=C;a.downloadBlobAsFile=function(t,K){G(t,K)};a.downloadDataAsFile=function(t,K){(t=C(t))&&G(t,K)};a.ensureTrailingSlash=U;a.getAppBaseUrl=()=>sa;a.getAppUrl=
()=>pa;a.getFilename=function(t,K){if(!t)return"";t=c(t).path.replace(/\/+$/,"");t=t.substring(t.lastIndexOf("/")+1);if(!K?.length)return t;K=new RegExp(`\\.(${K.join("|")})$`,"i");return t.replace(K,"")};a.getInterceptor=function(t,K=ia.interceptors){const N=Z=>null==Z||Z instanceof RegExp&&Z.test(t)||"string"===typeof Z&&t.startsWith(Z);if(K)for(const Z of K)if(Array.isArray(Z.urls)){if(Z.urls.some(N))return Z}else if(N(Z.urls))return Z;return null};a.getOrigin=y;a.getPathExtension=function(t){return null==
t?null:(t=t.match(Ea))?t[2]:null};a.getProxyRule=k;a.getProxyUrl=function(t=!1){let K,N=ia.proxyUrl;if("string"===typeof t){if(K=P(t),t=k(t))N=t.proxyUrl}else K=!!t;if(!N)throw u.getLogger("esri.core.urlUtils").warn("esri/config: esriConfig.request.proxyUrl is not set."),new w("urlUtils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");K&&L()&&(N=M(N));return c(N)};a.hasProtocol=I;a.hasSameCanonicalArcGISOnlinePortal=function(t,K){if(!t||!K)return!1;t=e(t);K=e(K);t=h.parseKnownArcGISOnlineDomain(t);
K=h.parseKnownArcGISOnlineDomain(K);return null!=t&&null!=K?t.portalHostname===K.portalHostname:!1};a.hasSameCanonicalPortal=function(t,K){if(!t||!K)return!1;t=e(t);K=e(K);const N=h.parseKnownArcGISOnlineDomain(t),Z=h.parseKnownArcGISOnlineDomain(K);return null!=N&&null!=Z?N.portalHostname===Z.portalHostname:null!=N||null!=Z?!1:n(t,K,!0)};a.hasSameOrigin=n;a.hasSamePortal=function(t,K){t=e(t);K=e(K);return O(t)===O(K)};a.isAbsolute=z;a.isAppHTTPS=L;a.isBlobProtocol=E;a.isDataProtocol=F;a.isHTTPSProtocol=
P;a.isProtocolRelative=J;a.isSVG=function(t){return Da.test(t)};a.isTrustedServer=function(t){if("string"===typeof t)if(z(t))t=ha(t);else return!0;if(n(t,pa))return!0;const K=ia.trustedServers||[];for(let Z=0;Z<K.length;Z++){var N=K[Z];ba[N]||(I(N)||J(N)?ba[N]=[new V(x(N))]:ba[N]=[new V(`http://${N}`),new V(`https://${N}`)]);N=ba[N];for(let ka=0;ka<N.length;ka++)if(n(t,N[ka]))return!0}return!1};a.join=p;a.makeAbsolute=x;a.makeData=function(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:
`data:${t.mediaType},${t.data}`};a.makeRelative=function(t,K=sa,N){if(null==t||!z(t))return t;var Z=f(t),ka=Z.toLowerCase();K=f(K).toLowerCase().replace(/\/+$/,"");if((N=N?f(N).toLowerCase().replace(/\/+$/,""):null)&&0!==K.indexOf(N))return t;const Aa=(Pa,ab,cb)=>{cb=Pa.indexOf(ab,cb);return-1===cb?Pa.length:cb};let Fa=Aa(ka,"/",ka.indexOf("//")+2),Ha=-1;for(;ka.slice(0,Fa+1)===K.slice(0,Fa)+"/";){Ha=Fa+1;if(Fa===ka.length)break;Fa=Aa(ka,"/",Fa+1)}if(-1===Ha||N&&Ha<N.length)return t;t=Z.slice(Ha);
Z=K.slice(Ha-1).replaceAll(/[^/]+/g,"").length;if(0<Z)for(ka=0;ka<Z;ka++)t=`../${t}`;else t=`./${t}`;return t};a.normalize=f;a.objectToQuery=l;a.parseData=async function(t){return"string"===typeof t?A(t)??{data:t}:new Promise((K,N)=>{const Z=new FileReader;Z.readAsDataURL(t);Z.onload=()=>K(A(Z.result));Z.onerror=ka=>N(ka)})};a.queryToObject=d;a.removeFile=function(t){let K=0;if(z(t)){var N=t.indexOf("//");-1!==N&&(K=N+2)}N=t.lastIndexOf("/");return N<K?t:t.slice(0,N+1)};a.removeQueryParameter=function(t,
K){const {path:N,query:Z}=c(t);if(!Z)return t;delete Z[K];return(t=l(Z))?`${N}?${t}`:N};a.removeQueryParameters=function(t,K){t=c(t);const N=Object.keys(t.query||{});0<N.length&&K&&K.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${N.join(", ")}.`);return t.path};a.removeTrailingSlash=function(t){return t.replace(/\/+$/,"")};a.splitPathExtension=function(t){if(null==t)return null;const K=t.match(Ea);return K?{path:K[1],extension:K[2]}:
{path:t,extension:null}};a.test={setAppUrl:t=>pa=t,setAppBaseUrl:t=>sa=t,restoreUrls:()=>{pa=fa;sa=ta}};a.toHTTP=function(t){return J(t)?`http:${t}`:t.replace(ra,"http:")};a.toHTTPS=M;a.trustedServersUrlCache=ba;a.urlToObject=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/JSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,B,w,v,u,h,g,c){const d=l=>{l=class extends l{constructor(...r){super(...r);r=h.getProperties(this);const q=r.store,k=new w.DefaultsStore;r.store=k;v.setupConstructedDefaults(r,q,k)}read(r,q){u.read(this,r,q)}write(r,q){return g.write(this,r??{},q)}toJSON(r){return this.write({},r)}static fromJSON(r,q){if(r){if(r.declaredClass)throw Error("JSON object is already hydrated");var k=new this;k.read(r,q);r=k}else r=null;return r}};l=b.__decorate([c.subclass("esri.core.JSONSupport")],l);l.prototype.toJSON.isDefaultToJSON=
!0;return l};a.JSONSupport=class extends d(B){};a.JSONSupport=b.__decorate([c.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=d;a.isSerializable=function(l){return l&&"object"===typeof l&&"toJSON"in l&&"function"===typeof l.toJSON};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,B){class w{constructor(){this._values=new Map;this.multipleOriginsSupported=
!1}clone(u){const h=new w;this._values.forEach((g,c)=>{u&&u.has(c)||h.set(c,b.clone(g.value),g.origin)});return h}get(u,h){h=this._normalizeOrigin(h);u=this._values.get(u);return null==h||u?.origin===h?u?.value:void 0}originOf(u){return this._values.get(u)?.origin??B.OriginId.USER}keys(u){u=this._normalizeOrigin(u);const h=[...this._values.keys()];return null==u?h:h.filter(g=>this._values.get(g)?.origin===u)}set(u,h,g){g=this._normalizeOrigin(g);if(g===B.OriginId.DEFAULTS){const c=this._values.get(u);
if(null!=c?.origin&&c.origin>g)return}this._values.set(u,new v(h,g))}delete(u,h){h=this._normalizeOrigin(h);null!=h&&this._values.get(u)?.origin!==h||this._values.delete(u)}has(u,h){h=this._normalizeOrigin(h);return null!=h?this._values.get(u)?.origin===h:this._values.has(u)}forEach(u){this._values.forEach(({value:h},g)=>u(h,g))}_normalizeOrigin(u){if(null!=u)return u===B.OriginId.DEFAULTS?u:B.OriginId.USER}}class v{constructor(u,h){this.value=u;this.origin=h}}a.DefaultsStore=w;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports","./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(B,w,v){w.keys().forEach(u=>{v.set(u,w.get(u),b.OriginId.DEFAULTS)});Object.keys(B.metadata).forEach(u=>{B.internalGet(u)&&v.set(u,B.internalGet(u),b.OriginId.DEFAULTS)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils",
"./extensions/serializableProperty"],function(a,b,B,w){const v={origin:"service"};a.read=function(u,h,g=v){if(h&&"object"===typeof h){var c=B.getProperties(u),d=c.metadata,l={};for(const z of Object.getOwnPropertyNames(h)){var r=l,q=d,k=z,e=h,n=g,x=w.originSpecificReadPropertyDefinition(q[k],n);x&&(!x.read||!1!==x.read.enabled&&!x.read.source)&&(r[k]=!0);for(const E of Object.getOwnPropertyNames(q)){x=w.originSpecificReadPropertyDefinition(q[E],n);a:{var f=k;var p=e;if(x?.read&&!1!==x.read.enabled&&
x.read.source){x=x.read.source;if("string"===typeof x){if(x===f||x.includes(".")&&0===x.indexOf(f)&&b.exists(x,p)){f=!0;break a}}else for(const F of x)if(F===f||F.includes(".")&&0===F.indexOf(f)&&b.exists(F,p)){f=!0;break a}f=!1}else f=!1}f&&(r[E]=!0)}}c.setDefaultOrigin(g.origin);for(var y of Object.getOwnPropertyNames(l))r=w.originSpecificReadPropertyDefinition(d[y],g).read,q=(q=r?.source)&&"string"===typeof q?b.valueOf(h,q):h[y],r?.reader&&(q=r.reader.call(u,q,h,g)),void 0!==q&&c.set(y,q);if(!g||
!g.ignoreDefaults){c.setDefaultOrigin("defaults");for(const z of Object.getOwnPropertyNames(d))l[z]||(y=u,h=z,d=c,r=g,q=w.originSpecificPropertyDefinition(d.metadata[h],r)?.default,void 0!==q&&(y="function"===typeof q?q.call(y,h,r):q,void 0!==y&&d.set(h,y)))}c.setDefaultOrigin("user")}};a.readLoadable=function(u,h,g,c=v){h={...c,messages:[]};g(h);h.messages?.forEach(d=>{"warning"!==d.type||u.loaded?c?.messages&&c.messages.push(d):u.loadWarnings.push(d)})};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./get ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,B,w,v,u,h,g){function c(l,r,q,k,e){const n={};r.write?.writer?.call(l,k,n,q,e);return n}function d(l,r,q,k,e,n){if(!k?.write)return!1;const x=v.get(l,q);if(!e&&k.write.overridePolicy){var f=k.write.overridePolicy.call(l,x,q,n??void 0);void 0!==f&&(e=f)}e||(e=k.write);if(!e||!1===e.enabled||e.layerContainerTypes&&
n?.layerContainerType&&!e.layerContainerTypes.includes(n.layerContainerType))return!1;if((null===x&&!e.allowNull&&!e.writerEnsuresNonNull||void 0===x)&&e.isRequired)return(r=new B("web-document-write:property-required",`Missing value for required property '${q}' on '${l.declaredClass}'`,{propertyName:q,target:l}),n?.messages)?n.messages.push(r):r&&!n&&w.getLogger("esri.core.accessorSupport.write").error(r.name,r.message),!1;if(void 0===x||null===x&&!e.allowNull&&!e.writerEnsuresNonNull)return!1;if(f=
!e.alwaysWriteDefaults&&(!r.store.multipleOriginsSupported||r.store.originOf(q)===u.OriginId.DEFAULTS))f=k.default,void 0===f?f=!1:null!=k.defaultEquals?f=k.defaultEquals(x):"function"===typeof f?Array.isArray(x)?(l=f.call(l,q,n??void 0),f=b.equals(l,x)):f=!1:f=f===x;return f||!e.ignoreOrigin&&n?.origin&&r.store.multipleOriginsSupported&&r.store.originOf(q)<u.nameToId(n.origin)?!1:!0}a.willPropertyWrite=function(l,r,q,k){const e=h.getProperties(l),n=g.originSpecificWritePropertyDefinition(e.metadata[r],
k);return n?d(l,e,r,n,q,k):!1};a.write=function(l,r,q){if(l&&"function"===typeof l.toJSON&&(!l.toJSON.isDefaultToJSON||!l.write))return h.merge(r,l.toJSON(q));const k=h.getProperties(l),e=k.metadata;for(const n in e){const x=g.originSpecificWritePropertyDefinition(e[n],q);if(!d(l,k,n,x,void 0,q))continue;const f=v.get(l,n),p=c(l,x,x.write&&"string"===typeof x.write.target?x.write.target:n,f,q);0<Object.keys(p).length&&(r=h.merge(r,p),q?.resources?.pendingOperations?.length&&q.resources.pendingOperations.push(Promise.all(q.resources.pendingOperations).then(()=>
h.merge(r,p,()=>"replace-arrays"))),q?.writtenProperties&&q.writtenProperties.push({target:l,propName:n,oldOrigin:u.idToReadableName(k.store.originOf(n)),newOrigin:q.origin}))}return r};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/urlUtils":function(){define(["exports"],function(a){const b=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,B={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",
portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};a.isSecureProxyService=function(w){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(w)};a.normalizeArcGISOnlineOrgDomain=function(w){const v=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,u=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,h=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;v.test(w)?w=w.replace(v,"https://www.arcgis.com"):u.test(w)?w=w.replace(u,
"https://devext.arcgis.com"):h.test(w)&&(w=w.replace(h,"https://qaext.arcgis.com"));return w};a.parseKnownArcGISOnlineDomain=function(w){w=w?.match(b);if(!w)return null;const [,v,u,h]=w;if(!v)return null;let g=w=null,c=null;const {devext:d,qaext:l,www:r}=B;if(u)if(w=v,h)switch(h.toLowerCase()){case "devext":({customBaseUrl:g,portalHostname:c}=d);break;case "qa":({customBaseUrl:g,portalHostname:c}=l);break;default:return null}else({customBaseUrl:g,portalHostname:c}=r);else switch(v.toLowerCase()){case "devext":({customBaseUrl:g,
portalHostname:c}=d);break;case "qaext":({customBaseUrl:g,portalHostname:c}=l);break;case "www":({customBaseUrl:g,portalHostname:c}=r);break;default:return null}return{customBaseUrl:g,isPortal:!1,portalHostname:c,urlKey:w}};a.reArcGISOnlineDomain=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/base64Utils":function(){define(["exports"],function(a){a.arrayBufferToBase64=function(b){b=new Uint8Array(b);let B="";for(let w=0;w<b.length;w++)B+=String.fromCharCode(b[w]);
return btoa(B)};a.base64ToArrayBuffer=function(b){b=atob(b);const B=new Uint8Array(b.length);for(let w=0;w<b.length;w++)B[w]=b.charCodeAt(w);return B.buffer};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20240709";a.commitHash="4e2e659f53c3b60cdade3d91a30466cbe90b86f9";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/InvokeHandler":function(){define(["exports"],function(a){a.createInvokeProxy=
function(b,B){return new Proxy({},{get(w,v,u){return(...h)=>{let g,c;const d=h[h.length-1];"object"===typeof d&&!Array.isArray(d)&&null!=d&&("signal"in d||"transferList"in d||0===Object.keys(d).length)&&(g=d.signal,c=d.transferList,h.pop());return b.apply(B?`${B}.${v.toString()}`:v.toString(),h,{transferList:c,signal:g})}}})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/registry":function(){define(["require","exports"],function(a,b){const B=w=>Object.freeze(Object.defineProperty({__proto__:null,
default:w},Symbol.toStringTag,{value:"Module"}));b.registry={statsWorker:()=>new Promise((w,v)=>a(["../../smartMapping/statistics/support/statsWorker"],w,v)),geometryEngineWorker:()=>new Promise((w,v)=>a(["../../geometry/geometryEngineWorker"],w,v)),CSVSourceWorker:()=>new Promise((w,v)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],u=>w(B(u)),v)),EdgeProcessingWorker:()=>new Promise((w,v)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],u=>w(B(u)),v)),ElevationSamplerWorker:()=>
new Promise((w,v)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],u=>w(B(u)),v)),FeatureServiceSnappingSourceWorker:()=>new Promise((w,v)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],u=>w(B(u)),v)),GeoJSONSourceWorker:()=>new Promise((w,v)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],u=>w(B(u)),v)),LercWorker:()=>new Promise((w,v)=>a(["../../layers/support/LercWorker"],u=>w(B(u)),v)),MemorySourceWorker:()=>
new Promise((w,v)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],u=>w(B(u)),v)),PBFDecoderWorker:()=>new Promise((w,v)=>a(["../../views/3d/support/PBFDecoderWorker"],u=>w(B(u)),v)),FeaturePipelineWorker:()=>new Promise((w,v)=>a(["../../views/2d/layers/features/FeaturePipelineWorker"],u=>w(B(u)),v)),PointCloudWorker:()=>new Promise((w,v)=>a(["../../views/3d/layers/PointCloudWorker"],u=>w(B(u)),v)),RasterWorker:()=>new Promise((w,v)=>a(["../../layers/support/RasterWorker"],u=>w(B(u)),
v)),SceneLayerSnappingSourceWorker:()=>new Promise((w,v)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],u=>w(B(u)),v)),SceneLayerWorker:()=>new Promise((w,v)=>a(["../../views/3d/layers/SceneLayerWorker"],w,v)),WFSSourceWorker:()=>new Promise((w,v)=>a(["../../layers/graphics/sources/WFSSourceWorker"],u=>w(B(u)),v)),WorkerTileHandler:()=>new Promise((w,v)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],u=>w(B(u)),v)),Lyr3DWorker:()=>
new Promise((w,v)=>a(["../../views/3d/layers/Lyr3DWorker"],w,v))};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/utils":function(){define(["exports","../has","../promiseUtils"],function(a,b,B){function w(c){return c&&"object"===typeof c&&("result"in c||"transferList"in c)}function v(c){return c?"string"===typeof c?JSON.stringify({name:"message",message:c}):c.toJSON?JSON.stringify(c):JSON.stringify({name:c.name,message:c.message,details:c.details||{stack:c.stack}}):
null}function u(c,d,l,r){if(d.type===a.MessageType.OPEN_PORT)c.postMessage(d,[d.port]);else if(d.type!==a.MessageType.INVOKE&&d.type!==a.MessageType.RESPONSE)c.postMessage(d);else if(w(l)?(r=h(l.transferList),d.data=l.result):(r=h(r),d.data=l),r){if(b("ff"))for(const q of r)if("byteLength"in q&&267386880<q.byteLength)switch(d.type){case a.MessageType.INVOKE:throw"Worker call with large ArrayBuffer would crash Firefox";case a.MessageType.RESPONSE:u(c,{type:a.MessageType.RESPONSE,jobId:d.jobId,error:v("Worker call with large ArrayBuffer would crash Firefox")});
return}c.postMessage(d,r)}else c.postMessage(d)}function h(c){if(!c?.length)return null;if(b("esri-workers-arraybuffer-transfer"))return c;c=c.filter(d=>!(d instanceof ArrayBuffer||"ArrayBuffer"===d?.constructor?.name));return c.length?c:null}a.MessageType=void 0;(function(c){c[c.HANDSHAKE=0]="HANDSHAKE";c[c.OPEN=1]="OPEN";c[c.OPENED=2]="OPENED";c[c.RESPONSE=3]="RESPONSE";c[c.INVOKE=4]="INVOKE";c[c.ABORT=5]="ABORT";c[c.CLOSE=6]="CLOSE";c[c.OPEN_PORT=7]="OPEN_PORT";c[c.ON=8]="ON"})(a.MessageType||
(a.MessageType={}));let g=0;a.ignoreConnectionErrors=async function(c){try{return await c}catch(d){if(c="worker:port-closed"===d?.name,!B.isAbortError(d)&&!c)throw d;}};a.isTransferrableResult=w;a.newJobId=function(){return g++};a.portClosedErrorName="worker:port-closed";a.postMessage=u;a.receiveMessage=function(c){return c?(c=c.data)?"string"===typeof c?JSON.parse(c):c:null:null};a.toInvokeError=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/request":function(){define(["exports",
"../Error"],function(a,b){a.execute=function(B,w){let v=w.responseType;v?"array-buffer"!==v&&"blob"!==v&&"json"!==v&&"native"!==v&&"native-request-init"!==v&&"text"!==v&&(v="text"):v="json";w.responseType=v;const u=w.signal;delete w.signal;return globalThis.invokeStaticMessage("request",{url:B,options:w},{signal:u}).then(async h=>{let g,c,d;if(h.data)if(h.data instanceof ArrayBuffer){if("json"===v||"text"===v||"blob"===v){var l=new Blob([h.data]);if("json"===v||"text"===v)if(d=await l.text(),"json"===
v){try{g=JSON.parse(d||null)}catch(r){throw new b("request:server",r.message,{...r,url:B,requestOptions:w});}if(g.error)throw new b("request:server",g.error.message,{...g.error,url:B,requestOptions:w});}}}else"native"===v&&(h.data.signal=u,c=await fetch(h.data.url,h.data),h.httpStatus=c.status);switch(v){case "blob":break;case "json":l=g;break;case "native":l=c;break;case "text":l=d;break;default:l=h.data}return{data:l,httpStatus:h.httpStatus,requestOptions:w,ssl:h.ssl,url:B}})};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),function(a,b,B,w,v,u,h,g,c,d,l){const r={base:w,key:"type",typeMap:{extent:B,multipoint:v,point:u,polyline:g,polygon:h}};b=b.ensureOneOfType(r);a.Extent=B;a.BaseGeometry=
w;a.Multipoint=v;a.Point=u;a.Polygon=h;a.Polyline=g;a.SpatialReference=c;a.featureGeometryTypeKebabDictionary=d.featureGeometryTypeKebabDictionary;a.typeKebabDictionary=d.typeKebabDictionary;a.fromJSON=l.fromJSON;a.ensureType=b;a.geometryTypes=r;a.isGeometry=function(q){return q instanceof w};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Extent":function(){define("../chunks/tslib.es6 ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,B,w,v,u,h,g,c,d,l,r,q,k){function e(f,p,y){return null==p?y:null==y?p:f(p,y)}function n(f,p){const [y,z]=p.valid;p=2*z;var E=0;f>z?(E=Math.ceil(Math.abs(f-z)/p),f-=E*p):f<y&&(E=Math.ceil(Math.abs(f-y)/p),f+=E*p,E=-E);return{x:f,frameId:E}}var x;w=x=class extends g{constructor(...f){super(...f);this.type="extent";this.ymin=this.xmin=0;this.zmin=this.mmin=void 0;this.ymax=this.xmax=0;this.zmax=this.mmax=void 0}normalizeCtorArgs(f,p,y,z,E){return!f||"esri.geometry.SpatialReference"!==f.declaredClass&&
null==f.wkid?"object"===typeof f?(f.spatialReference=null==f.spatialReference?d.WGS84:f.spatialReference,f):{xmin:f,ymin:p,xmax:y,ymax:z,spatialReference:null==E?d.WGS84:E}:{spatialReference:f,xmin:0,ymin:0,xmax:0,ymax:0}}static fromBounds(f,p){return new x({xmin:f[0],ymin:f[1],xmax:f[2],ymax:f[3],spatialReference:p})}static fromPoint(f){return new x({xmin:f.x,ymin:f.y,zmin:f.z,xmax:f.x,ymax:f.y,zmax:f.z,spatialReference:f.spatialReference})}get cache(){this.commitProperty("xmin");this.commitProperty("ymin");
this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}get center(){const f=new c({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(f.z=.5*(this.zmin+this.zmax));this.hasM&&(f.m=.5*(this.mmin+this.mmax));return f}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&
null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(f){const p=this.center;return null!=f.z&&this.hasZ?this.offset(f.x-p.x,f.y-p.y,f.z-p.z):this.offset(f.x-p.x,f.y-p.y)}clone(){const f=new x;f.xmin=this.xmin;f.ymin=this.ymin;f.xmax=this.xmax;f.ymax=this.ymax;f.spatialReference=this.spatialReference;null!=this.zmin&&(f.zmin=this.zmin,f.zmax=this.zmax);null!=this.mmin&&(f.mmin=
this.mmin,f.mmax=this.mmax);return f}contains(f){if(!f)return!1;const p=this.spatialReference,y=f.spatialReference;p&&y&&!p.equals(y)&&k.canProject(p,y)&&(f=p.isWebMercator?k.geographicToWebMercator(f):k.webMercatorToGeographic(f,!0));return"point"===f.type?l.extentContainsPoint(this,f):"extent"===f.type?l.extentContainsExtent(this,f):!1}equals(f){if(this===f)return!0;if(null==f)return!1;const p=this.spatialReference,y=f.spatialReference;p&&y&&!p.equals(y)&&k.canProject(p,y)&&(f=p.isWebMercator?k.geographicToWebMercator(f):
k.webMercatorToGeographic(f,!0));return this.xmin===f.xmin&&this.ymin===f.ymin&&this.zmin===f.zmin&&this.mmin===f.mmin&&this.xmax===f.xmax&&this.ymax===f.ymax&&this.zmax===f.zmax&&this.mmax===f.mmax}expand(f){f=.5*(1-f);var p=this.width*f;const y=this.height*f;this.xmin+=p;this.ymin+=y;this.xmax-=p;this.ymax-=y;this.hasZ&&(p=(this.zmax-this.zmin)*f,this.zmin+=p,this.zmax-=p);this.hasM&&(f*=this.mmax-this.mmin,this.mmin+=f,this.mmax-=f);return this}intersects(f){if(null==f)return!1;"mesh"===f.type&&
(f=f.extent);const p=this.spatialReference,y=f.spatialReference;p&&y&&!q.equals(p,y)&&k.canProject(p,y)&&(f=p.isWebMercator?k.geographicToWebMercator(f):k.webMercatorToGeographic(f,!0));return r.getFeatureExtentIntersector(f.type)(this,f)}normalize(){const f=this._normalize(!1,!0);return Array.isArray(f)?f:[f]}offset(f,p,y){this.xmin+=f;this.ymin+=p;this.xmax+=f;this.ymax+=p;null!=y&&(this.zmin+=y,this.zmax+=y);return this}shiftCentralMeridian(){return this._normalize(!0)}union(f){if(this===f)return this;
this.xmin=Math.min(this.xmin,f.xmin);this.ymin=Math.min(this.ymin,f.ymin);this.xmax=Math.max(this.xmax,f.xmax);this.ymax=Math.max(this.ymax,f.ymax);if(this.hasZ||f.hasZ)this.zmin=e(Math.min,this.zmin,f.zmin),this.zmax=e(Math.max,this.zmax,f.zmax);if(this.hasM||f.hasM)this.mmin=e(Math.min,this.mmin,f.mmin),this.mmax=e(Math.max,this.mmax,f.mmax);return this}intersection(f){if(this===f)return this;if(null==f||!this.intersects(f))return null;this.xmin=Math.max(this.xmin,f.xmin);this.ymin=Math.max(this.ymin,
f.ymin);this.xmax=Math.min(this.xmax,f.xmax);this.ymax=Math.min(this.ymax,f.ymax);if(this.hasZ||f.hasZ)this.zmin=e(Math.max,this.zmin,f.zmin),this.zmax=e(Math.min,this.zmax,f.zmax);if(this.hasM||f.hasM)this.mmin=e(Math.max,this.mmin,f.mmin),this.mmax=e(Math.min,this.mmax,f.mmax);return this}toJSON(f){return this.write({},f)}_shiftCM(f=q.getInfo(this.spatialReference)){if(!f||!this.spatialReference)return this;const p=this.spatialReference,y=this._getCM(f);if(y){const z=p.isWebMercator?k.webMercatorToGeographic(y):
y;this.xmin-=y.x;this.xmax-=y.x;p.isWebMercator||(z.x=n(z.x,f).x);this.spatialReference=new d(b.replace((p.isWGS84?f.altTemplate:null)??f.wkTemplate,{Central_Meridian:z.x}))}return this}_getCM(f){let p=null;const [y,z]=f.valid;f=this.xmin;const E=this.xmax;f>=y&&f<=z&&E>=y&&E<=z||(p=this.center);return p}_normalize(f,p,y){const z=this.spatialReference;if(!z)return this;y=y??q.getInfo(z);if(null==y)return this;const E=this._getParts(y).map(A=>A.extent);if(2>E.length)return E[0]||this;if(2<E.length)return f?
this._shiftCM(y):this.set({xmin:y.valid[0],xmax:y.valid[1]});if(f)return this._shiftCM(y);if(p)return E;let F=!0,D=!0;E.forEach(A=>{A.hasZ||(F=!1);A.hasM||(D=!1)});return{rings:E.map(A=>{const C=[[A.xmin,A.ymin],[A.xmin,A.ymax],[A.xmax,A.ymax],[A.xmax,A.ymin],[A.xmin,A.ymin]];if(F){var G=(A.zmax-A.zmin)/2;for(let J=0;J<C.length;J++)C[J].push(G)}if(D)for(A=(A.mmax-A.mmin)/2,G=0;G<C.length;G++)C[G].push(A);return C}),hasZ:F,hasM:D,spatialReference:z}}_getParts(f){let p=this.cache._parts;if(!p){p=[];
const {ymin:G,ymax:J,spatialReference:I}=this;var y=this.width,z=this.xmin,E=this.xmax;f=f||q.getInfo(I);const [P,S]=f.valid;var F=n(this.xmin,f);var D=F.x,A=F.frameId;F=n(this.xmax,f);f=F.x;F=F.frameId;var C=D===f&&0<y;if(y>2*S){y=new x(z<E?D:f,G,S,J,I);z=new x(P,G,z<E?f:D,J,I);E=new x(0,G,S,J,I);D=new x(P,G,0,J,I);f=[];C=[];y.contains(E)&&f.push(A);y.contains(D)&&C.push(A);z.contains(E)&&f.push(F);z.contains(D)&&C.push(F);for(let Y=A+1;Y<F;Y++)f.push(Y),C.push(Y);p.push({extent:y,frameIds:[A]},
{extent:z,frameIds:[F]},{extent:E,frameIds:f},{extent:D,frameIds:C})}else D>f||C?p.push({extent:new x(D,G,S,J,I),frameIds:[A]},{extent:new x(P,G,f,J,I),frameIds:[F]}):p.push({extent:new x(D,G,f,J,I),frameIds:[A]});this.cache._parts=p}F=this.hasZ;y=this.hasM;if(F||y)for(A={},F&&(A.zmin=this.zmin,A.zmax=this.zmax),y&&(A.mmin=this.mmin,A.mmax=this.mmax),F=0;F<p.length;F++)p[F].extent.set(A);return p}};a.__decorate([B.property({readOnly:!0})],w.prototype,"cache",null);a.__decorate([B.property({readOnly:!0})],
w.prototype,"center",null);a.__decorate([B.property({readOnly:!0})],w.prototype,"extent",null);a.__decorate([B.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasM",null);a.__decorate([B.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasZ",null);a.__decorate([B.property({readOnly:!0})],w.prototype,"height",null);a.__decorate([B.property({readOnly:!0})],w.prototype,"width",null);a.__decorate([B.property({type:Number,json:{type:[Number,
String],write:{enabled:!0,allowNull:!0}}})],w.prototype,"xmin",void 0);a.__decorate([B.property({type:Number,json:{write:!0}})],w.prototype,"ymin",void 0);a.__decorate([B.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],w.prototype,"mmin",void 0);a.__decorate([B.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],w.prototype,"zmin",void 0);a.__decorate([B.property({type:Number,
json:{write:!0}})],w.prototype,"xmax",void 0);a.__decorate([B.property({type:Number,json:{write:!0}})],w.prototype,"ymax",void 0);a.__decorate([B.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],w.prototype,"mmax",void 0);a.__decorate([B.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],w.prototype,"zmax",void 0);w=x=a.__decorate([h.subclass("esri.geometry.Extent")],
w);w.prototype.toJSON.isDefaultToJSON=!0;return w})},"esri/geometry/Geometry":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),function(a,b,B,w,v,u,h,g,c){b=class extends b.JSONSupport{constructor(...d){super(...d);this.type=null;this.hasZ=this.hasM=!1;this.spatialReference=c.WGS84}get cache(){this.commitProperty("spatialReference");
return{}}get extent(){return null}readSpatialReference(d,l){if(d instanceof c)return d;if(null!=d){const r=new c;r.read(d,l);return r}return d}clone(){console.warn(".clone() is not implemented for "+this.declaredClass);return null}clearCache(){this.notifyChange("cache")}getCacheValue(d){return this.cache[d]}setCacheValue(d,l){this.cache[d]=l}};a.__decorate([B.property()],b.prototype,"type",void 0);a.__decorate([B.property({readOnly:!0})],b.prototype,"cache",null);a.__decorate([B.property({readOnly:!0})],
b.prototype,"extent",null);a.__decorate([B.property({type:Boolean,json:{write:{overridePolicy(d){return{enabled:d}}}}})],b.prototype,"hasM",void 0);a.__decorate([B.property({type:Boolean,json:{write:{overridePolicy(d){return{enabled:d}}}}})],b.prototype,"hasZ",void 0);a.__decorate([B.property({type:c,json:{write:!0},value:c.WGS84})],b.prototype,"spatialReference",void 0);a.__decorate([h.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=a.__decorate([g.subclass("esri.geometry.Geometry")],
b)})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(B,w,v){let u,h;void 0===w||Array.isArray(w)?(h=B,v=w,u=[void 0]):(h=w,u=Array.isArray(B)?B:[B]);return(g,c)=>{const d=g.constructor.prototype;u.forEach(l=>{l=b.propertyJSONMeta(g,l,h);l.read&&"object"===typeof l.read||(l.read={});l.read.reader=d[c];v&&(l.read.source=(l.read.source||[]).concat(v))})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/SpatialReference":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/unitUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),
function(a,b,B,w,v,u,h,g,c){var d;b=d=class extends b.JSONSupport{static fromJSON(l){if(!l)return null;if(l.wkid){if(102100===l.wkid)return d.WebMercator;if(4326===l.wkid)return d.WGS84}const r=new d;r.read(l);return r}constructor(l){super(l);this.imageCoordinateSystem=this.latestVcsWkid=this.vcsWkid=this.wkt2=this.wkt=this.wkid=this.latestWkid=null}normalizeCtorArgs(l){return l&&"object"===typeof l?l:{["string"===typeof l?"wkt":"wkid"]:l}}get isWGS84(){return c.isWGS84(this)}get isWebMercator(){return c.isWebMercator(this)}get isGeographic(){return c.isGeographic(this)}get isWrappable(){return c.isWrappable(this)}get metersPerUnit(){return w.getMetersPerUnitForSR(this)}get unit(){return w.getUnitString(this)||
(this.isGeographic?"degrees":null)}writeWkt(l,r){this.wkid||(r.wkt=l)}clone(){if(this===d.WGS84)return new d(c.wgs84);if(this===d.WebMercator)return new d(c.webMercator);const l=new d;null!=this.wkid?(l.wkid=this.wkid,null!=this.latestWkid&&(l.latestWkid=this.latestWkid),null!=this.vcsWkid&&(l.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(l.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(l.wkt=this.wkt),null!=this.wkt2&&(l.wkt2=this.wkt2));this.imageCoordinateSystem&&(l.imageCoordinateSystem=
B.clone(this.imageCoordinateSystem));return l}equals(l){if(null==l)return!1;if(this.imageCoordinateSystem||l.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==l.imageCoordinateSystem)return!1;const {id:r,referenceServiceName:q}=l.imageCoordinateSystem,{geodataXform:k}=l.imageCoordinateSystem,e=this.imageCoordinateSystem;return null==r||k?JSON.stringify(e)===JSON.stringify(l.imageCoordinateSystem):q?e.id===r&&e.referenceServiceName===q:e.id===r}return c.equals(this,l)}toJSON(l){return this.write(void 0,
l)}};b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;b.PlateCarree=null;a.__decorate([u.property({readOnly:!0})],b.prototype,"isWGS84",null);a.__decorate([u.property({readOnly:!0})],b.prototype,"isWebMercator",null);a.__decorate([u.property({readOnly:!0})],b.prototype,"isGeographic",null);a.__decorate([u.property({readOnly:!0})],b.prototype,"isWrappable",null);a.__decorate([u.property({type:v.Integer,json:{write:!0}})],b.prototype,"latestWkid",void 0);a.__decorate([u.property({readOnly:!0})],
b.prototype,"metersPerUnit",null);a.__decorate([u.property({readOnly:!0})],b.prototype,"unit",null);a.__decorate([u.property({type:v.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],b.prototype,"wkid",void 0);a.__decorate([u.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],b.prototype,"wkt",void 0);a.__decorate([g.writer("wkt"),g.writer("web-scene","wkt")],b.prototype,
"writeWkt",null);a.__decorate([u.property({type:String,json:{write:!1}})],b.prototype,"wkt2",void 0);a.__decorate([u.property({type:v.Integer,json:{write:!0}})],b.prototype,"vcsWkid",void 0);a.__decorate([u.property({type:v.Integer,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);a.__decorate([u.property()],b.prototype,"imageCoordinateSystem",void 0);b=d=a.__decorate([h.subclass("esri.geometry.SpatialReference")],b);b.prototype.toJSON.isDefaultToJSON=!0;b.GCS_NAD_1927=new b({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
b.WGS84=new b(c.wgs84);b.WebMercator=new b(c.webMercator);b.PlateCarree=new b(c.plateCarree);Object.freeze&&(Object.freeze(b.GCS_NAD_1927),Object.freeze(b.WGS84),Object.freeze(b.WebMercator),Object.freeze(b.PlateCarree));return b})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/ellipsoidUtils ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,B,w,v,u,h){function g(L){L=S[L];if(!L)throw Error("unknown type");
return L}function c(L){return P[L].baseUnit}function d(L,O=null){O=O||g(L);return P[O].baseUnit===L}function l(L,O,U){if(O===U)return L;const ca=g(O);if(ca!==g(U))throw Error("incompatible units");L=d(O,ca)?L:L*P[ca].units[O].inBaseUnits;return d(U,ca)?L:L/P[ca].units[U].inBaseUnits}function r(L){switch(L){case "metric":return"meters";case "imperial":return"feet";default:return L}}function q(L,O){L=l(L,O,"meters");return 3E3>Math.abs(L)?"meters":"kilometers"}function k(L,O){L=l(L,O,"meters");return 1E5>
Math.abs(L)?"meters":"kilometers"}function e(L,O){L=l(L,O,"feet");return 1E3>Math.abs(L)?"feet":"miles"}function n(L,O){L=l(L,O,"feet");return 1E5>Math.abs(L)?"feet":"miles"}function x(L){return I.fromJSON(L.toLowerCase())||null}function f(L){const O=p(L),U=w.getReferenceEllipsoid(L).metersPerDegree;return O>=U?"meters":E(L)}function p(L,O=v.earth.metersPerDegree){return y(L,!0)??O}function y(L,O=!1){const U=L?.wkid??null;L=L?.wkt2??L?.wkt??null;let ca=null;if(U){if(u.isWKIDFromMars(U))return v.mars.metersPerDegree;
if(u.isWKIDFromMoon(U))return v.moon.metersPerDegree;ca=C.values[C[U]];!ca&&O&&J.has(U)&&(ca=D)}else L&&(F(L)?ca=z(A.exec(L),ca):/^GEOCCS/i.test(L)&&(ca=z(G.exec(L),ca)));return ca}function z(L,O){return L?.[1]?parseFloat(L[1].split(",")[1]):O}function E(L){var O=L?.wkid??null,U=L?.wkt2??L?.wkt??null;L=null;if(O)L=C.units[C[O]];else if(U&&(O=F(U)?A:/^GEOCCS/i.test(U)?G:null)&&(O=O.exec(U),O?.[1]&&(O=O[1],L=/[\\"']{1}([^\\"']+)/.exec(O)?.[1],!L||!C.units.includes(L)))){O=parseFloat(O.split(",")[1]);
L=null;U=C.values;for(let ca=0;ca<U.length;++ca)if(1E-7>Math.abs(O-U[ca])){L=C.units[ca];break}}return null!=L?x(L):null}function F(L){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(L)}const D=v.earth.radius*Math.PI/200,A=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,C=h,G=/UNIT\[([^\]]+)]/i,J=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),I=B.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",
yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},
feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};h={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},
"square-us-feet":{inBaseUnits:(L=>L*L)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const P={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:h},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},
"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},S=(()=>{const L={};for(const O in P)for(const U in P[O].units)L[U]=O;return L})(),Y="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),M=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);b=
B.strict()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"});h=B.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",
esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"});B=B.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});a.adaptiveImperialAreaUnit=function(L,O){L=l(L,O,"square-feet");return 1E6>Math.abs(L)?"square-feet":"square-miles"};a.adaptiveImperialLengthUnit=e;a.adaptiveImperialVerticalLengthUnit=n;a.adaptiveLengthUnit=function(L,O,U){switch(U){case "metric":return q(L,
O);case "imperial":return e(L,O);default:return U}};a.adaptiveMetricAreaUnit=function(L,O){L=l(L,O,"square-meters");return 3E6>Math.abs(L)?"square-meters":"square-kilometers"};a.adaptiveMetricLengthUnit=q;a.adaptiveMetricVerticalLengthUnit=k;a.adaptiveVerticalLengthUnit=function(L,O,U){switch(U){case "metric":return k(L,O);case "imperial":return n(L,O);default:return U}};a.angleUnitsJSONMap=B;a.areaUnitFromSpatialReference=function(L){L=E(L);return null==L?null:M.get(L)};a.areaUnitsJSONMap=b;a.baseUnitForUnit=
function(L){return c(g(L))};a.baseUnitForUnitType=c;a.convertUnit=l;a.defaultAreaUnit=function(L){switch(L){case "metric":return"square-meters";case "imperial":return"square-feet";default:return L}};a.defaultLengthUnit=r;a.defaultVerticalLengthUnit=function(L){return r(L)};a.getDefaultUnitSystem=function(L){L=E(L);if(null==L)return null;switch(L){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerCartesianUnitForSR=function(L){return u.isGeographic(L)?1:p(L)};a.getMetersPerUnit=y;a.getMetersPerUnitForSR=p;a.getMetersPerVerticalUnitForSR=function(L){if(null!=L&&!u.isEarth(L))return 1;L=p(L);return 1E5<L?1:L};a.getUnitString=E;a.getVerticalUnitStringForSR=f;a.inchesPerMeter=39.37;a.isBaseUnit=d;a.isMeasurementSystem=function(L){return"imperial"===L||"metric"===L};a.isProjectedWKT=F;a.lengthToDegrees=
function(L,O,U){return l(L,O,"meters")/(U*Math.PI/180)};a.lengthUnitFromSpatialReference=function(L){L=E(L);return null!=L&&Y.includes(L)?L:null};a.lengthUnitsJSONMap=h;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits=Y;a.unitFromRESTJSON=x;a.unitType=g;a.verticalLengthUnitFromSpatialReference=function(L){L=f(L);return null!=L&&Y.includes(L)?L:null};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){function B(u){const h={};for(const g in u)h[u[g]]=g;return h}function w(u){const h=[];for(const g in u)h.push(g);h.sort();return h}class v{constructor(u,h={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=u;this._options=h;this.apiValues=[];this.jsonValues=[];this._apiToJSON=B(u);this.apiValues=w(this._apiToJSON);this.jsonValues=w(this._jsonToAPI);this.read=g=>this.fromJSON(g);this.write=
(g,c,d)=>{g=this.toJSON(g);void 0!==g&&b.setDeepValue(d,g,c)};this.write.isJSONMapWriter=!0}toJSON(u){return null==u?null:this._apiToJSON.hasOwnProperty(u)?(u=this._apiToJSON[u],this._options.useNumericKeys?+u:u):this._options.ignoreUnknown?void 0:u}fromJSON(u){return null!=u&&this._jsonToAPI.hasOwnProperty(u)?this._jsonToAPI[u]:this._options.ignoreUnknown?void 0:u}}a.JSONMap=v;a.strict=function(){return function(u,h){return new v(u,{ignoreUnknown:!0,...h})}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/ellipsoidUtils":function(){define(["exports","./support/Ellipsoid","./support/spatialReferenceUtils"],function(a,b,B){function w(r){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${r.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}function v(r){return B.equals(r,u)}
const u=w(b.earth),h=w(b.mars),g=w(b.moon),c={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${b.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},d=h.wkt.toUpperCase(),l=g.wkt.toUpperCase();a.SphericalECEFSpatialReferenceLike=
u;a.SphericalPCPFMarsLike=h;a.SphericalPCPFMoonLike=g;a.WGS84ECEFSpatialReferenceLike=c;a.getReferenceEllipsoid=function(r){if(null!=r&&B.isValid(r)){const q=r.wkid;r=r.wkt2??r.wkt;if(B.isWKIDFromMars(q))return b.mars;const k=r?.toUpperCase();if(r&&k===d)return b.mars;if(B.isWKIDFromMoon(q)||k&&k===l)return b.moon}return b.earth};a.getReferenceEllipsoidFromWKID=function(r){return B.isWKIDFromMars(r)?b.mars:B.isWKIDFromMoon(r)?b.moon:b.earth};a.isSphericalECEF=v;a.isSphericalPCPF=function(r){return v(r)||
B.equals(r,h)||B.equals(r,g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Ellipsoid":function(){define(["exports"],function(a){class b{constructor(u,h,g,c){this.semiMajorAxis=u;this.flattening=h;this.outerAtmosphereRimWidth=g;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-
1;this.eccentricitySquared=c||2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const B=new b(6378137,1/298.257223563,3E5,.006694379990137799),w=new b(3396190,.005886007555525457,23E4),v=new b(1737400,0,0);a.Ellipsoid=b;a.earth=B;a.mars=w;a.moon=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/string",
"../../chunks/pe","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,B,w,v){function u(f){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(f)}function h(f){f=f?.wkid;return null!=f&&2E3<=f&&q.includes(f)}function g(f){return f===w.SupportedGCSWkids.GCSMARS2000||f===w.SupportedGCSWkids.GCSMARS2000_SPHERE}function c(f){return g(f?.wkid)}function d(f){return f===w.SupportedGCSWkids.GCSMOON2000}function l(f){return d(f?.wkid)}
function r(f){if(null==f)return!1;const p=f.wkid;return null!=p&&2E3<=p?!0:null!=f.wkt2||null!=f.wkt}const q=[102100,102113,3857,3785],k=[4326,...q,104905,104971],e=[-2.0037508342788905E7,2.0037508342788905E7],n=[-2.0037508342787E7,2.0037508342787E7],x={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:e,origin:n,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:e,origin:n,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:e,origin:n,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:e,origin:n,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};b={wkid:4326,wkt:b.replace(x[4326].wkTemplate,{Central_Meridian:"0.0"})};a.equals=function(f,p){if(f===p)return!0;if(null==f||null==p)return!1;const y=f.wkid,z=p.wkid;if(null!=y||null!=z){if(y===z||h(f)&&h(p))return!0;f=f.latestWkid;if(null!=f&&z===f)return!0;p=p.latestWkid;return null!=p&&y===p?!0:!1}let E,F;f.wkt2&&p.wkt2?(E=f.wkt2,F=p.wkt2):f.wkt&&p.wkt&&(E=f.wkt,F=p.wkt);return E&&F?E.toUpperCase()===F.toUpperCase():!1};a.getInfo=function(f){f=f?.wkid;return null!=f&&2E3<=f?x[f]||null:
null};a.getWKT=async function(f,p){if(1===p&&!u(f)||2===p&&u(f))return f;B.isLoaded()||await B.load();return B.PeFactory.fromString(B.PeDefs.PE_TYPE_NONE,f)?.toString(1===p?B.PeDefs.PE_STR_FMT_WKT:B.PeDefs.PE_STR_FMT_WKT2)??null};a.isCGCS2000=function(f){return f?.wkid===w.SupportedGCSWkids.CGCS2000};a.isEarth=function(f){return!(c(f)||l(f))};a.isGeographic=function(f){if(!r(f))return!1;const {wkid:p}=f;return p?null==v[p]:(f=f.wkt2||f.wkt)?/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(f):!1};a.isMars=
c;a.isMoon=l;a.isPlateCarree=function(f){return 32662===f?.wkid};a.isValid=r;a.isWGS84=function(f){return 4326===f?.wkid};a.isWKIDFromMars=g;a.isWKIDFromMoon=d;a.isWKT2=u;a.isWebMercator=h;a.isWrappable=function(f){f=f?.wkid;return null!=f&&2E3<=f&&k.includes(f)};a.plateCarree={wkid:32662};a.srToRESTValue=function(f){if(f){var {wkid:p,vcsWkid:y}=f;if(p)return y?JSON.stringify({wkid:p,vcsWkid:y}):String(p);f=f.wkt||f.wkt2;return JSON.stringify(f?y?{wkt:f,vcsWkid:y}:{wkt:f}:{})}};a.webMercator={wkid:102100,
latestWkid:3857};a.webMercatorOrigin=n;a.wgs84=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","../assets","../core/has"],function(a,b,B,w){function v(){return!!b._pe}function u(){return!!w("esri-wasm")}function h(){return q?q:q=(new Promise((e,n)=>a(["./pe-wasm"],e,n))).then(e=>e.peWasm).then(({default:e})=>e({locateFile:n=>B.getAssetUrl(`esri/geometry/support/${n}`)})).then(e=>{g(e)})}function g(e){function n(p,y,z){p[y]=
z(p[y])}b._pe=e;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=class extends b._pe.PeGCSExtent{destroy(){b._pe.destroy(this)}};e=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var x of e)n(x.prototype,"getName",p=>function(){return p.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const p of[b._pe.PeGeogtran,b._pe.PeProjcs])n(p.prototype,
"getParameters",y=>function(){const z=Array(b.PeDefs.PE_PARM_MAX);let E=y.call(this);for(let F=0;F<z.length;F++){const D=b._pe.getValue(E,"*");z[F]=D?b._pe.wrapPointer(D,b._pe.PeParameter):null;E+=Int32Array.BYTES_PER_ELEMENT}return z});n(b._pe.PeHorizon.prototype,"getCoord",p=>function(){const y=this.getSize();if(!y)return null;const z=[],E=p.call(this);r(z,y,E);return z});n(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",p=>{const y=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let z=
null;var E=p.call(this);if(!b._pe.compare(E,b._pe.NULL)){z=[E];const F=this.getSteps();if(1<F){E=b._pe.getPointer(E);for(let D=1;D<F;D++)z.push(b._pe.wrapPointer(E+y*D,b._pe.PeGTlistExtendedGTs))}}return z}});const f=b._pe._pe_getPeHorizonSize();x=p=>function(){let y=this._cache;y||(this._cache=y=new Map);if(y.has(p))return y.get(p);let z=null;var E=p.call(this);if(!b._pe.compare(E,b._pe.NULL)){z=[E];const F=E.getNump();if(1<F){E=b._pe.getPointer(E);for(let D=1;D<F;D++)z.push(b._pe.wrapPointer(E+
f*D,b._pe.PeHorizon))}}y.set(p,z);return z};n(b._pe.PeProjcs.prototype,"horizonGcsGenerate",x);n(b._pe.PeProjcs.prototype,"horizonPcsGenerate",x);b._pe.PeObject.prototype.toString=function(p=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();const y=b._pe.getPointer(this),z=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(y,p,z))}}function c(e){if(e){var n=b._pe.getClass(e);n&&(n=b._pe.getCache(n))&&(e=b._pe.getPointer(e))&&delete n[e]}}
function d(e,n){const x=[];n=Array(n);for(let f=0;f<e;f++)x.push(b._pe.ensureInt8(n));return x}function l(e){let n;Array.isArray(e[0])?(n=[],e.forEach(x=>{n.push(x[0],x[1])})):n=e;return n}function r(e,n,x,f=!1){if(f)for(f=0;f<2*n;f++)e[f]=b._pe.getValue(x+f*Float64Array.BYTES_PER_ELEMENT,"double");else{f=0===e.length;for(let p=0;p<n;p++)f&&(e[p]=Array(2)),e[p][0]=b._pe.getValue(x,"double"),e[p][1]=b._pe.getValue(x+Float64Array.BYTES_PER_ELEMENT,"double"),x+=2*Float64Array.BYTES_PER_ELEMENT}}let q;
b._pe=null;b.PeCSTransformations=void 0;(function(e){function n(p,y,z){b._pe.ensureCache.prepare();var E=l(z);const F=z===E;E=b._pe.ensureFloat64(E);(p=b._pe._pe_geog_to_proj(b._pe.getPointer(p),y,E))&&r(z,y,E,F);return p}function x(p,y,z){return f(p,y,z,0)}function f(p,y,z,E){b._pe.ensureCache.prepare();var F=l(z);const D=z===F;F=b._pe.ensureFloat64(F);(p=b._pe._pe_proj_to_geog_center(b._pe.getPointer(p),y,F,E))&&r(z,y,F,D);return p}e.geogToProj=n;e.projGeog=function(p,y,z,E){switch(E){case b.PeDefs.PE_TRANSFORM_P_TO_G:return x(p,
y,z);case b.PeDefs.PE_TRANSFORM_G_TO_P:return n(p,y,z)}return 0};e.projToGeog=x;e.projToGeogCenter=f})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(e){e.init=function(){e.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;e.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;e.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;e.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;e.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;e.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;e.PE_DMS_MAX=
b._pe.PeDefs.prototype.PE_DMS_MAX;e.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;e.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;e.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;e.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;e.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.PE_TYPE_PROJCS;e.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;e.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;e.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;e.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;
e.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;e.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;e.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;e.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;e.PE_STR_FMT_WKT=b._pe.PeDefs.prototype.PE_STR_FMT_WKT;e.PE_STR_FMT_WKT2=b._pe.PeDefs.prototype.PE_STR_FMT_WKT2;e.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;e.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;e.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;
e.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;e.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;e.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;e.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;e.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;e.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;e.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeFactory=void 0;(function(e){function n(y,z){let E=
null,F=x[y];F||(F={},x[y]=F);F.hasOwnProperty(String(z))?E=F[z]:(y=b._pe.PeFactory.prototype.factoryByType(y,z),b._pe.compare(y,b._pe.NULL)||(E=y,F[z]=E));return E=p(E)}const x={},f={},p=y=>{if(y){const z=y.getType();switch(z){case b.PeDefs.PE_TYPE_GEOGCS:y=b._pe.castObject(y,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:y=b._pe.castObject(y,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:y=b._pe.castObject(y,b._pe.PeGeogtran);break;default:z&b.PeDefs.PE_TYPE_UNIT&&(y=b._pe.castObject(y,
b._pe.PeUnit))}}return y};e.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};e.coordsys=function(y){return n(b.PeDefs.PE_TYPE_COORDSYS,y)};e.factoryByType=n;e.fromString=function(y,z){let E=null,F=f[y];F||(F={},f[y]=F);F.hasOwnProperty(z)?E=F[z]:(y=b._pe.PeFactory.prototype.fromString(y,z),b._pe.compare(y,b._pe.NULL)||(E=y,F[z]=E));return E=p(E)};e.geogcs=function(y){return n(b.PeDefs.PE_TYPE_GEOGCS,y)};e.geogtran=function(y){return n(b.PeDefs.PE_TYPE_GEOGTRAN,y)};e.getCode=function(y){return b._pe.PeFactory.prototype.getCode(y)};
e.projcs=function(y){return n(b.PeDefs.PE_TYPE_PROJCS,y)};e.unit=function(y){return n(b.PeDefs.PE_TYPE_UNIT,y)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(e){let n;e.init=function(){e.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;n=b._pe._pe_getPeGTlistExtendedEntrySize()};e.getGTlist=function(x,f,p,y,z,E){let F=null;const D=new b._pe.PeInteger(E);try{const A=b._pe.PeGTlistExtended.prototype.getGTlist(x,f,p,y,z,D);if(E=D.val)if(F=
[A],1<E){const C=b._pe.getPointer(A);for(x=1;x<E;x++)F.push(b._pe.wrapPointer(C+n*x,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(D)}return F}})(b.PeGTlistExtended||(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(e){e.destroy=function(n){if(n?.length){for(const x of n)c(x),x.getEntries().forEach(f=>{c(f);f=f.getGeogtran();c(f);f.getParameters().forEach(c);[f.getGeogcs1(),f.getGeogcs2()].forEach(p=>{c(p);const y=p.getDatum();c(y);c(y.getSpheroid());c(p.getPrimem());c(p.getUnit())})});
b._pe.PeGTlistExtendedEntry.prototype.Delete(n[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(e){e.geogToGeog=function(n,x,f,p,y){b._pe.ensureCache.prepare();var z=l(f);const E=f===z;z=b._pe.ensureFloat64(z);let F=0;p&&(F=b._pe.ensureFloat64(p));(n=b._pe._pe_geog_to_geog(b._pe.getPointer(n),x,z,F,y))&&r(f,x,z,E);return n}})(b.PeGTTransformations||(b.PeGTTransformations={}));b.PeNotationDms=void 0;(function(e){const n=(f,p,y,z,E,F)=>{b._pe.ensureCache.prepare();
switch(f){case "dd":var D=b._pe._pe_geog_to_dd;var A=b.PeDefs.PE_DD_MAX;break;case "ddm":D=b._pe._pe_geog_to_ddm;A=b.PeDefs.PE_DDM_MAX;break;case "dms":D=b._pe._pe_geog_to_dms,A=b.PeDefs.PE_DMS_MAX}f=0;p&&(f=b._pe.getPointer(p));p=l(z);p=b._pe.ensureFloat64(p);A=d(y,A);z=b._pe.ensureInt32(A);if(E=D(f,y,p,E,z))for(D=0;D<y;D++)F[D]=b._pe.UTF8ToString(A[D]);return E},x=(f,p,y,z,E)=>{b._pe.ensureCache.prepare();switch(f){case "dd":var F=b._pe._pe_dd_to_geog;break;case "ddm":F=b._pe._pe_ddm_to_geog;break;
case "dms":F=b._pe._pe_dms_to_geog}f=0;p&&(f=b._pe.getPointer(p));p=z.map(D=>b._pe.ensureString(D));z=b._pe.ensureInt32(p);p=b._pe.ensureFloat64(Array(2*y));(F=F(f,y,z,p))&&r(E,y,p);return F};e.geogToDms=function(f,p,y,z,E){return n("dms",f,p,y,z,E)};e.dmsToGeog=function(f,p,y,z){return x("dms",f,p,y,z)};e.geogToDdm=function(f,p,y,z,E){return n("ddm",f,p,y,z,E)};e.ddmToGeog=function(f,p,y,z){return x("ddm",f,p,y,z)};e.geogToDd=function(f,p,y,z,E){return n("dd",f,p,y,z,E)};e.ddToGeog=function(f,p,
y,z){return x("dd",f,p,y,z)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;e.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;e.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;e.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;e.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};e.geogToMgrsExtended=
function(n,x,f,p,y,z,E){b._pe.ensureCache.prepare();let F=0;n&&(F=b._pe.getPointer(n));n=l(f);f=b._pe.ensureFloat64(n);n=d(x,b.PeDefs.PE_MGRS_MAX);const D=b._pe.ensureInt32(n);if(p=b._pe._pe_geog_to_mgrs_extended(F,x,f,p,y,z,D))for(y=0;y<x;y++)E[y]=b._pe.UTF8ToString(n[y]);return p};e.mgrsToGeogExtended=function(n,x,f,p,y){b._pe.ensureCache.prepare();let z=0;n&&(z=b._pe.getPointer(n));n=f.map(E=>b._pe.ensureString(E));f=b._pe.ensureInt32(n);n=b._pe.ensureFloat64(Array(2*x));(p=b._pe._pe_mgrs_to_geog_extended(z,
x,f,p,n))&&r(y,x,n);return p}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(e){e.geogToUsng=function(n,x,f,p,y,z,E){b._pe.ensureCache.prepare();let F=0;n&&(F=b._pe.getPointer(n));n=l(f);f=b._pe.ensureFloat64(n);n=d(x,b.PeDefs.PE_MGRS_MAX);const D=b._pe.ensureInt32(n);if(p=b._pe._pe_geog_to_usng(F,x,f,p,y,z,D))for(y=0;y<x;y++)E[y]=b._pe.UTF8ToString(n[y]);return p};e.usngToGeog=function(n,x,f,p){b._pe.ensureCache.prepare();var y=0;n&&(y=b._pe.getPointer(n));n=f.map(z=>
b._pe.ensureString(z));f=b._pe.ensureInt32(n);n=b._pe.ensureFloat64(Array(2*x));(y=b._pe._pe_usng_to_geog(y,x,f,n))&&r(p,x,n);return y}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(e){e.init=function(){e.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;e.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;e.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};e.geogToUtm=function(n,x,f,p,y){b._pe.ensureCache.prepare();var z=
0;n&&(z=b._pe.getPointer(n));n=l(f);f=b._pe.ensureFloat64(n);n=d(x,b.PeDefs.PE_UTM_MAX);const E=b._pe.ensureInt32(n);if(p=b._pe._pe_geog_to_utm(z,x,f,p,E))for(z=0;z<x;z++)y[z]=b._pe.UTF8ToString(n[z]);return p};e.utmToGeog=function(n,x,f,p,y){b._pe.ensureCache.prepare();let z=0;n&&(z=b._pe.getPointer(n));n=f.map(E=>b._pe.ensureString(E));f=b._pe.ensureInt32(n);n=b._pe.ensureFloat64(Array(2*x));(p=b._pe._pe_utm_to_geog(z,x,f,p,n))&&r(y,x,n);return p}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=
void 0;(function(e){const n=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;e.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;e.PE_POLE_OUTSIDE_BOUNDARY=b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;e.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};e.generate=function(x,f=e.PE_PCSINFO_OPTION_DOMAIN){let p=null,y=null;n.has(x)&&(y=n.get(x),y[f]&&(p=y[f]));p||(p=b._pe.PePCSInfo.prototype.generate(x,f),y||(y=
[],n.set(x,y)),y[f]=p);return p}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(e){e.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const k=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTTransformations(){return b.PeGTTransformations},get PeGTlistExtended(){return b.PeGTlistExtended},
get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:g,get _pe(){return b._pe},isLoaded:v,isSupported:u,load:h},Symbol.toStringTag,{value:"Module"}));b._init=g;b.isLoaded=v;b.isSupported=u;b.load=h;b.pe=k})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),
function(a,b,B,w,v,u){function h(g){if(!b.assetsPath)throw v.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new w("assets:path-not-set","config.assetsPath is not set");return u.join(b.assetsPath,g)}a.fetchAsset=function(g,c){return B(h(g),c)};a.getAssetUrl=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/request":function(){define("require ./config ./kernel ./core/Error ./core/has ./core/lang ./core/promiseUtils ./core/urlUtils ./portal/support/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),
function(a,b,B,w,v,u,h,g,c,d,l){async function r(O,U){O instanceof URL&&(O=O.toString());U?.query instanceof URLSearchParams&&(U.query=g.queryToObject(U.query.toString().replaceAll("+"," ")));var ca=g.isDataProtocol(O);const ha=g.isBlobProtocol(O);ha||ca||(O=g.normalize(O));const ia={url:O,requestOptions:{...U}};U=wa=>({data:wa,getAllHeaders:M,getHeader:M,httpStatus:200,requestOptions:ia.requestOptions,url:ia.url});var ea=g.getInterceptor(O,J.internalInterceptors);if(ea&&(ea=await z(ea,ia),null!=
ea))return U(ea);if(ea=g.getInterceptor(O)){O=await z(ea,ia);if(null!=O)return U(O);ea.after||ea.error||(ea=null)}O=ia.url;U=ia.requestOptions;if("image"===U.responseType&&(v("host-webworker")||v("host-node")))throw e("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),ia);if("head"===U.method){if(U.body)throw e("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),ia);if(ca||ha)throw e("request:invalid-parameters",
Error("data and blob URLs are not supported for method 'head'"),ia);}await n();if(G)return G.execute(O,U);const la=new AbortController,ra=h.onAbort(U,()=>la.abort());ca=await D({controller:la,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:ea,params:ia,redoRequest:!1,useIdentity:J.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1}).finally(()=>ra?.remove());ea?.after?.(ca);return ca}function q(O){(O=g.getOrigin(O))&&!r._corsServers.includes(O)&&r._corsServers.push(O)}
function k(O){O=g.getOrigin(O);return!O||O.endsWith(".arcgis.com")||r._corsServers.includes(O)||g.isTrustedServer(O)}function e(O,U,ca,ha){let ia="Error";const ea={url:ca.url,requestOptions:ca.requestOptions,getAllHeaders:M,getHeader:M,ssl:!1};if(U instanceof w)return U.details?(U.details=u.clone(U.details),U.details.url=ca.url,U.details.requestOptions=ca.requestOptions):U.details=ea,U;if(U){ca=ha&&(()=>Array.from(ha.headers));const la=ha&&(wa=>ha.headers.get(wa)),ra=U.message;ra&&(ia=ra);ca&&la&&
(ea.getAllHeaders=ca,ea.getHeader=la);ea.httpStatus=(null!=U.httpCode?U.httpCode:U.code)||ha?.status||0;ea.subCode=U.subcode;ea.messageCode=U.messageCode;ea.messages="string"===typeof U.details?[U.details]:U.details;ea.raw=L in U?U[L]:U}return h.isAbortError(U)?h.createAbortError():new w(O,ia,ea)}async function n(){v("host-webworker")&&!G&&(G=await new Promise((O,U)=>a(["./core/workers/request"],O,U)))}async function x(){B.id||await new Promise((O,U)=>a(["./identity/IdentityManager"],ca=>O(Object.freeze(Object.defineProperty({__proto__:null,
default:ca},Symbol.toStringTag,{value:"Module"}))),U))}async function f(O){const U=O.params.url,ca=O.params.requestOptions,ha=O.controller.signal,ia=ca.body;let ea=null,la=null;I&&"HTMLFormElement"in globalThis&&(ia instanceof FormData?ea=ia:ia instanceof HTMLFormElement&&(ea=new FormData(ia)));"string"===typeof ia&&(la=ia);O.fetchOptions={cache:ca.cacheBust?"no-cache":"default",credentials:"same-origin",headers:ca.headers||{},method:"head"===ca.method?"HEAD":"GET",mode:"cors",priority:J.priority,
redirect:"follow",signal:ha};if(ea||la)O.fetchOptions.body=ea||la;"anonymous"===ca.authMode&&(O.useIdentity=!1);O.hasToken=!!(/token=/i.test(U)||ca.query?.token||ea?.get("token"));!O.hasToken&&b.apiKey&&d.supportsApiKey(U)&&(ca.query||(ca.query={}),ca.query.token=b.apiKey,O.hasToken=!0);if(O.useIdentity&&!O.hasToken&&!O.credentialToken&&!p(U)&&!h.isAborted(ha)){let ra;"immediate"===ca.authMode?(await x(),ra=await B.id.getCredential(U,{signal:ha}),O.credential=ra):"no-prompt"===ca.authMode?(await x(),
ra=await B.id.getCredential(U,{prompt:!1,signal:ha}).catch(()=>{}),O.credential=ra):B.id&&(ra=B.id.findCredential(U));ra&&(O.credentialToken=ra.token,O.useSSL=!!ra.ssl)}}function p(O){return Y.some(U=>U.test(O))}async function y(O){let U=O.params.url;const ca=O.params.requestOptions,ha=O.fetchOptions??{},ia=g.isBlobProtocol(U)||g.isDataProtocol(U),ea=ca.responseType||"json";var la=ia?0:null!=ca.timeout?ca.timeout:J.timeout,ra=!1;if(!ia){O.useSSL&&(U=g.toHTTPS(U));var wa={...ca.query};O.credentialToken&&
(wa.token=O.credentialToken);ra=g.objectToQuery(wa);v("esri-url-encodes-apostrophe")&&(ra=ra.replaceAll("'","%27"));const T=U.length+1+ra.length;let Q;ra="delete"===ca.method||"post"===ca.method||"put"===ca.method||!!ca.body||T>J.maxUrlLength;const V=ca.useProxy||!!g.getProxyRule(U);if(V){const ba=g.getProxyUrl(U);Q=ba.path;!ra&&Q.length+1+T>J.maxUrlLength&&(ra=!0);ba.query&&(wa={...ba.query,...wa})}if("HEAD"===ha.method&&(ra||V)){if(ra){if(T>J.maxUrlLength)throw e("request:invalid-parameters",Error("URL exceeds maximum length"),
O.params);throw e("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),O.params);}if(V)throw e("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),O.params);}ra?(ha.method="delete"===ca.method?"DELETE":"put"===ca.method?"PUT":"POST",ca.body?U=g.addQueryParameters(U,wa):(ha.body=g.objectToQuery(wa),ha.headers||(ha.headers={}),ha.headers["Content-Type"]="application/x-www-form-urlencoded")):U=g.addQueryParameters(U,wa);V&&(O.useProxy=!0,U=`${Q}?${U}`);
wa.token&&I&&ha.body instanceof FormData&&!c.isSecureProxyService(U)&&ha.body.set("token",wa.token);ca.hasOwnProperty("withCredentials")?O.withCredentials=ca.withCredentials:g.hasSameOrigin(U,g.getAppUrl())||(g.isTrustedServer(U)?O.withCredentials=!0:B.id&&B.id.findServerInfo(U)?.webTierAuth&&(O.withCredentials=!0));O.withCredentials&&(ha.credentials="include",l.isNoCorsRequestRequired(U)&&await l.sendNoCorsRequest(ra?g.addQueryParameters(U,wa):U))}wa=0;let va=!1;0<la&&(wa=setTimeout(()=>{va=!0;O.controller.abort()},
la));la=void 0;let aa;try{if("native-request-init"===ca.responseType)aa=ha,aa.url=U;else if("image"!==ca.responseType||"default"!==ha.cache||"GET"!==ha.method||ra||E(ca.headers)||!ia&&!O.useProxy&&J.proxyUrl&&!k(U))if(r._beforeFetch&&await r._beforeFetch(U,ha),la=await fetch(U,ha),r._afterFetch&&await r._afterFetch(la),O.useProxy||q(U),"native"===ca.responseType)aa=la;else{if("HEAD"!==ha.method)if(la.ok){switch(ea){case "array-buffer":aa=await la.arrayBuffer();break;case "blob":case "image":aa=await la.blob();
break;default:aa=await la.text()}wa&&(clearTimeout(wa),wa=0);if("json"===ea||"xml"===ea||"document"===ea)if(aa)switch(ea){case "json":aa=JSON.parse(aa);break;case "xml":aa=F(aa,"application/xml");break;case "document":aa=F(aa,"text/html")}else aa=null;if(aa){if("array-buffer"===ea||"blob"===ea){const T=la.headers.get("Content-Type");if(T&&/application\/json|text\/plain/i.test(T)&&750>=aa["blob"===ea?"size":"byteLength"])try{const Q=await (new Response(aa)).json();Q.error&&(aa=Q)}catch{}}"image"===
ea&&aa instanceof Blob&&(aa=await C(URL.createObjectURL(aa),O,!0))}}else{aa=await la.text();try{aa=JSON.parse(aa)}catch{}}}else aa=await C(U,O)}catch(T){if("AbortError"===T.name){if(va)throw l.createTimeoutError();throw h.createAbortError("Request canceled");}if(!la&&T instanceof TypeError&&J.proxyUrl&&!ca.body&&"delete"!==ca.method&&"head"!==ca.method&&"post"!==ca.method&&"put"!==ca.method&&!O.useProxy&&!k(U))O.redoRequest=!0,g.addProxyRule({proxyUrl:J.proxyUrl,urlPrefix:g.getOrigin(U)??""});else throw T;
}finally{wa&&clearTimeout(wa)}return[la,aa]}async function z(O,U){if(null!=O.responseData)return O.responseData;O.headers&&(U.requestOptions.headers={...U.requestOptions.headers,...O.headers});O.query&&(U.requestOptions.query={...U.requestOptions.query,...O.query});if(O.before){let ca,ha;try{ha=await O.before(U)}catch(ia){ca=e("request:interceptor",ia,U)}if(ha instanceof Error||ha instanceof w)ca=e("request:interceptor",ha,U);if(ca)throw O.error&&O.error(ca),ca;return ha}}function E(O){if(O)for(const U of Object.getOwnPropertyNames(O))if(O[U])return!0;
return!1}function F(O,U){let ca;try{ca=(new DOMParser).parseFromString(O,U)}catch{}if(!ca||ca.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return ca}async function D(O){await f(O);let U;try{do[U,ca]=await y(O);while(!await A(O,U,ca))}catch(ea){var ca=e("request:server",ea,O.params,U);ca.details.ssl=O.useSSL;O.interceptor?.error&&O.interceptor.error(ca);throw ca;}var ha=O.params.url;ca&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(ha)&&(O.hasToken||O.credentialToken||
!ca.user?.username||g.isTrustedServer(ha)||(ha=g.getOrigin(ha,!0))&&J.trustedServers.push(ha),Array.isArray(ca.authorizedCrossOriginNoCorsDomains)&&l.registerNoCorsDomains(ca.authorizedCrossOriginNoCorsDomains));var ia=O.credential;ia&&B.id&&(ha=B.id.findServerInfo(ia.server)?.owningSystemUrl)&&(ha=ha.replace(/\/?$/,"/sharing"),(ia=B.id.findCredential(ha,ia.userId))&&-1===B.id._getIdenticalSvcIdx(ha,ia)&&ia.resources.unshift(ha));return{data:ca,getAllHeaders:U?()=>Array.from(U.headers):M,getHeader:U?
ea=>U.headers.get(ea):M,httpStatus:U?.status??200,requestOptions:O.params.requestOptions,ssl:O.useSSL,url:O.params.url}}async function A(O,U,ca){if(O.redoRequest)return O.redoRequest=!1;var ha=O.params.requestOptions;if(!U||"native"===ha.responseType||"native-request-init"===ha.responseType)return!0;let ia;ca&&(ca.error&&"object"===typeof ca.error?ia=ca.error:"error"===ca.status&&Array.isArray(ca.messages)&&(ia={...ca},ia[L]=ca,ia.details=ca.messages));if(!ia&&!U.ok)throw ia=Error(`Unable to load ${U.url} status: ${U.status}`),
ia[L]=ca,ia;let ea;U=null;let la;ia&&(ea=Number(ia.code),U=ia.hasOwnProperty("subcode")?Number(ia.subcode):null,la=ia.messageCode,la=la?.toUpperCase());ha=ha.authMode;if(403===ea&&(4===U||ia.message?.toLowerCase().includes("ssl")&&!ia.message.toLowerCase().includes("permission"))){if(!O.useSSL)return O.useSSL=!0,!1}else if(!(O.hasToken||!O.useIdentity||"no-prompt"===ha&&498!==ea||void 0===ea||!P.has(ea)||p(O.params.url)||403===ea&&(la&&S.has(la)||!(null==U||2===U&&O.credentialToken)))){await x();
try{const ra=await B.id.getCredential(O.params.url,{error:e("request:server",ia,O.params),prompt:"no-prompt"!==ha,signal:O.controller.signal,token:O.credentialToken});O.credential=ra;O.credentialToken=ra.token;O.useSSL=O.useSSL||ra.ssl;return!1}catch(ra){if("no-prompt"===ha)return O.credential=void 0,O.credentialToken=void 0,!1;ia=ra}}if(ia)throw ia;return!0}function C(O,U,ca=!1){const ha=U.controller.signal,ia=new Image;ia.crossOrigin=U.withCredentials?"use-credentials":"anonymous";ia.alt="";ia.fetchPriority=
J.priority;ia.src=O;return l.loadImageAsync(ia,O,ca,ha)}let G;const J=b.request,I="FormData"in globalThis,P=new Set([499,498,403,401]),S=new Set(["COM_0056","COM_0057","SB_0008"]),Y=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],M=()=>null,L=Symbol();r._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];r._beforeFetch=void 0;r._afterFetch=void 0;return r})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,
b){const B=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);a.isApiKey=function(w){return!!w&&4<w.length&&w.startsWith("AAPK")};a.supportsApiKey=function(w){const v=b.getOrigin(w,!0);return v?v.endsWith(".arcgis.com")&&!B.has(v)&&!w.endsWith("/sharing/rest/generateToken"):!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestUtils":function(){define(["exports","../config","../core/has","../core/promiseUtils",
"../core/urlUtils"],function(a,b,B,w,v){function u(){try{return new DOMException("Aborted","AbortError")}catch{const h=Error();h.name="AbortError";return h}}a.createTimeoutError=function(){return Error("Timeout exceeded")};a.isNoCorsRequestRequired=function(h){const g=b.request.crossOriginNoCorsDomains;return g&&(h=v.getOrigin(h))?(h=h.toLowerCase(),!v.hasSameOrigin(h,v.getAppUrl())&&g[h]<Date.now()-36E5):!1};a.isTimeoutError=function(h){return"object"===typeof h&&!!h&&"message"in h&&"Timeout exceeded"===
h.message};a.loadImageAsync=function(h,g,c=!1,d){return new Promise((l,r)=>{if(w.isAborted(d))r(u());else{var q=()=>{n();r(Error(`Unable to load ${g}`))},k=()=>{const x=h;n();l(x)},e=()=>{if(h){var x=h;n();x.src="";r(u())}},n=()=>{B("esri-image-decode")||(h.removeEventListener("error",q),h.removeEventListener("load",k));h=k=q=null;null!=d&&d.removeEventListener("abort",e);e=null;c&&URL.revokeObjectURL(g)};null!=d&&d.addEventListener("abort",e);B("esri-image-decode")?h.decode().then(k,q):(h.addEventListener("error",
q),h.addEventListener("load",k))}})};a.registerNoCorsDomains=function(h){b.request.crossOriginNoCorsDomains||(b.request.crossOriginNoCorsDomains={});const g=b.request.crossOriginNoCorsDomains;for(let c of h)c=c.toLowerCase(),/^https?:\/\//.test(c)?g[v.getOrigin(c)??""]=0:(g[v.getOrigin("http://"+c)??""]=0,g[v.getOrigin("https://"+c)??""]=0)};a.sendNoCorsRequest=async function(h){var g=b.request.crossOriginNoCorsDomains;const c=v.getOrigin(h);g&&c&&(g[c.toLowerCase()]=Date.now());g=v.urlToObject(h);
h=g.path;"json"===g.query?.f&&(h+="?f\x3djson");try{await fetch(h,{mode:"no-cors",credentials:"include"})}catch{}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,
8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,
8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,
8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,
10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,
24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,
31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,
102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,
103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,
103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,
103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=
0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=
0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=
0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=
0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=
0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=
0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5167;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=
0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=
0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=
0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=
2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=9821;9865>=a;a++)b[a]=0;for(a=10285;10291>=a;a++)b[a]=0;for(a=10314;10317>=a;a++)b[a]=0;for(a=10448;10465>=
a;a++)b[a]=0;for(a=10731;10733>=a;a++)b[a]=0;for(a=11114;11118>=a;a++)b[a]=0;for(a=20004;20032>=a;a++)b[a]=0;for(a=20047;20049>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=
a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22207;22222>=a;a++)b[a]=0;for(a=22229;22232>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22243;22250>=a;a++)b[a]=0;for(a=22262;22265>=
a;a++)b[a]=0;for(a=22307;22322>=a;a++)b[a]=0;for(a=22348;22357>=a;a++)b[a]=0;for(a=22407;22422>=a;a++)b[a]=0;for(a=22462;22465>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22607;22622>=a;a++)b[a]=0;for(a=22641;22646>=a;a++)b[a]=0;for(a=22648;22657>=a;a++)b[a]=0;for(a=22707;22722>=a;a++)b[a]=0;for(a=22762;22765>=a;a++)b[a]=0;for(a=22807;22822>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23301;23333>=a;a++)b[a]=2;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=
a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=
a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=
a;a++)b[a]=0;for(a=27700;27707>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=
a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32159>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=
a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32401;32460>=a;a++)b[a]=0;for(a=32501;32560>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=
a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=
a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=
a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=a;a++)b[a]=13;for(a=102951;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=
a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=
a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=
a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=
a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103890>=a;a++)b[a]=0;for(a=103891;103896>=a;a++)b[a]=2;for(a=103900;103971>=
a;a++)b[a]=2;for(a=103972;103977>=a;a++)b[a]=0;for(a=112E3;112101>=a;a++)b[a]=0;return b})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(B,w,v){let u,h;void 0===w?(h=B,u=[void 0]):"string"!==typeof w?(h=B,u=[void 0],v=w):(h=w,u=Array.isArray(B)?B:[B]);return(g,c)=>{const d=g.constructor.prototype;for(const l of u){const r=b.propertyJSONMeta(g,l,h);r.write&&"object"===typeof r.write||(r.write={});v&&(r.write.target=v);r.write.writer=
d[c]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Point":function(){define("../chunks/tslib.es6 ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,B,w,v,u,h,g,c,d,l,r,q,k,e){function n(p){return p&&("esri.geometry.SpatialReference"===p.declaredClass||null!=p.wkid)}var x;const f=[0,0];v=x=class extends l{static copy(p,y){y._set("x",p._get("x"));y._set("y",p._get("y"));y._set("z",p._get("z"));y._set("m",p._get("m"));p=p._get("spatialReference");y._set("spatialReference",Object.isFrozen(p)?p:p.clone())}constructor(...p){super(...p);this.y=this.x=0;this.m=this.z=void 0;this.type="point"}normalizeCtorArgs(p,y,z,E,F){let D;if(Array.isArray(p))D=
p,F=y,p=D[0],y=D[1],z=D[2],E=D[3];else if(p&&"object"===typeof p){if(D=p,p=null!=D.x?D.x:D.longitude,y=null!=D.y?D.y:D.latitude,z=D.z,E=D.m,(F=D.spatialReference)&&"esri.geometry.SpatialReference"!==F.declaredClass&&(F=new r(F)),null!=D.longitude||null!=D.latitude)null==D.longitude?b.getLogger(this).warn(".longitude\x3d","Latitude was defined without longitude"):null==D.latitude?b.getLogger(this).warn(".latitude\x3d","Longitude was defined without latitude"):!D.declaredClass&&F?.isWebMercator&&(y=
e.lngLatToXY(D.longitude,D.latitude,f),p=y[0],y=y[1])}else n(z)?(F=z,z=null):n(E)&&(F=E,E=null);p={x:p,y};null==p.x&&null!=p.y?b.getLogger(this).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==p.y&&null!=p.x&&b.getLogger(this).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=F&&(p.spatialReference=F);null!=z&&(p.z=z);null!=E&&(p.m=E);return p}get cache(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");
this.commitProperty("spatialReference");return{}}get hasM(){return void 0!==this.m}set hasM(p){const y=void 0!==this._get("m");p!==y&&(this._set("m",p?0:void 0),this._set("hasM",p))}get hasZ(){return void 0!==this.z}set hasZ(p){const y=void 0!==this._get("z");p!==y&&(this._set("z",p?0:void 0),this._set("hasZ",p))}get latitude(){return q.getLatitude(this)}set latitude(p){const {spatialReference:y,x:z}=this;null!=p&&y&&(y.isWebMercator?this._set("y",e.lngLatToXY(z,p,f)[1]):y.isGeographic&&this._set("y",
p),this._set("latitude",p))}get longitude(){return q.getLongitude(this)}set longitude(p){const {y,spatialReference:z}=this;null!=p&&z&&(z.isWebMercator?this._set("x",e.lngLatToXY(p,y,f)[0]):z.isGeographic&&this._set("x",p),this._set("longitude",p))}writeX(p,y,z){y[z]=isNaN(p)?"NaN":p}readX(p){return"string"===typeof p?NaN:p}clone(){const p=new x;p.x=this.x;p.y=this.y;p.z=this.z;p.m=this.m;p.spatialReference=this.spatialReference;return p}copy(p){x.copy(p,this);return this}equals(p){if(null==p)return!1;
const {x:y,y:z,z:E,m:F,spatialReference:D}=this,{z:A,m:C}=p;let {x:G,y:J,spatialReference:I}=p;if(!D.equals(I))if(D.isWebMercator&&I.isWGS84)[G,J]=e.lngLatToXY(G,J),I=D;else if(D.isWGS84&&I.isWebMercator)[G,J]=e.xyToLngLat(G,J),I=D;else return!1;return y===G&&z===J&&E===A&&F===C&&D.wkid===I.wkid}offset(p,y,z){this.x+=p;this.y+=y;null!=z&&(this.z=(this.z??0)+z);return this}normalize(){if(!this.spatialReference)return this;var p=k.getInfo(this.spatialReference);if(!p)return this;let y=this.x;const [z,
E]=p.valid;p=2*E;let F;y>E?(F=Math.ceil(Math.abs(y-E)/p),y-=F*p):y<z&&(F=Math.ceil(Math.abs(y-z)/p),y+=F*p);this._set("x",y);return this}distance(p){return q.distance(this,p)}toArray(){const p=this.hasZ,y=this.hasM;return p&&y?[this.x,this.y,this.z,this.m]:p?[this.x,this.y,this.z]:y?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(p){return this.write({},p)}};a.__decorate([B.property({readOnly:!0})],v.prototype,"cache",null);a.__decorate([B.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],
v.prototype,"hasM",null);a.__decorate([B.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],v.prototype,"hasZ",null);a.__decorate([B.property({type:Number})],v.prototype,"latitude",null);a.__decorate([B.property({type:Number})],v.prototype,"longitude",null);a.__decorate([B.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),w.cast(p=>isNaN(p)?p:d.ensureNumber(p))],v.prototype,"x",void 0);a.__decorate([c.writer("x")],v.prototype,"writeX",
null);a.__decorate([h.reader("x")],v.prototype,"readX",null);a.__decorate([B.property({type:Number,json:{write:!0}})],v.prototype,"y",void 0);a.__decorate([B.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],v.prototype,"z",void 0);a.__decorate([B.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],v.prototype,"m",void 0);v=x=a.__decorate([g.subclass("esri.geometry.Point")],v);v.prototype.toJSON.isDefaultToJSON=!0;return v})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports",
"../ensureType","../metadata"],function(a,b,B){function w(g){const c="__accessorMetadata__"in g?b.ensureType(g):g;return function(...d){d.push(c);if("number"===typeof d[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return v.apply(this,d)}}function v(g,c,d,l){B.getPropertyMetadata(g,c).cast=l}function u(g){return(c,d)=>{B.getPropertyMetadata(c,g).cast=c[d]}}const h=Object.prototype.toString;a.cast=function(...g){if(3!==g.length||"string"!==typeof g[1]){if(1===g.length&&
"[object Function]"===h.call(g[0]))return w(g[0]);if(1===g.length&&"string"===typeof g[0])return u(g[0])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/pointUtils":function(){define(["exports","./spatialReferenceUtils","./webMercatorUtils"],function(a,b,B){function w({x:u,y:h,spatialReference:g},c=[0,0]){if(g){if(b.isWebMercator(g))return B.xyToLngLat(u,h,c);if(b.isGeographic(g))return c[0]=u,c[1]=h,c}return null}const v=[0,0];a.distance=function(u,h){const g=
u.x-h.x,c=u.y-h.y;u=null!=u.z&&null!=h.z?u.z-h.z:0;return Math.sqrt(g*g+c*c+u*u)};a.getLatitude=function(u){return w(u,v)?.[1]??null};a.getLongitude=function(u){return w(u,v)?.[0]??null};a.getLongitudeLatitude=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","../SpatialReference","./Ellipsoid","./spatialReferenceUtils"],function(a,b,B,w,v){function u(l,r,q,k,e){e.spatialReference=q;if("x"in l&&
"x"in e)[e.x,e.y]=r(l.x,l.y,d,k);else if("xmin"in l&&"xmin"in e)[e.xmin,e.ymin]=r(l.xmin,l.ymin,d,k),[e.xmax,e.ymax]=r(l.xmax,l.ymax,d,k);else if("paths"in l&&"paths"in e||"rings"in l&&"rings"in e){l="paths"in l?l.paths:l.rings;q=[];for(let x=0;x<l.length;x++){const f=l[x];var n=[];q.push(n);for(let p=0;p<f.length;p++)n.push(r(f[p][0],f[p][1],[0,0],k)),2<f[p].length&&n[p].push(f[p][2]),3<f[p].length&&n[p].push(f[p][3])}"paths"in e?e.paths=q:e.rings=q}else if("points"in l&&"points"in e){l=l.points;
q=[];for(n=0;n<l.length;n++)q[n]=r(l[n][0],l[n][1],[0,0],k),2<l[n].length&&q[n].push(l[n][2]),3<l[n].length&&q[n].push(l[n][3]);e.points=q}return e}function h(l,r){const q=l&&(null!=l.wkid||null!=l.wkt?l:l.spatialReference),k=r&&(null!=r.wkid||null!=r.wkt?r:r.spatialReference);return l&&"type"in l&&"mesh"===l.type||r&&"type"in r&&"mesh"===r.type||!q||!k?!1:v.equals(k,q)?!0:v.isWebMercator(k)&&v.isWGS84(q)||v.isWebMercator(q)&&v.isWGS84(k)}function g(l,r,q=[0,0]){89.99999<r?r=89.99999:-89.99999>r&&
(r=-89.99999);r*=.017453292519943;q[0]=.017453292519943*l*w.earth.radius;q[1]=w.earth.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r)));return q}function c(l,r,q=[0,0],k=!1){l=l/w.earth.radius*57.29577951308232;q[0]=k?l:l-360*Math.floor((l+180)/360);q[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-r/w.earth.radius)));return q}const d=[0,0];a.canProject=h;a.geographicToWebMercator=function(l,r=!1,q=b.clone(l)){return u(l,g,B.WebMercator,r,q)};a.lngLatToXY=g;a.project=function(l,r){if(null==
l)return null;const q=l.spatialReference;r=r&&(null!=r.wkid||null!=r.wkt?r:r.spatialReference);return h(q,r)?v.equals(q,r)?b.clone(l):v.isWebMercator(r)?u(l,g,B.WebMercator,!1,b.clone(l)):v.isWGS84(r)?u(l,c,B.WGS84,!1,b.clone(l)):null:null};a.webMercatorToGeographic=function(l,r=!1,q=b.clone(l)){return u(l,c,B.WGS84,r,q)};a.x2lon=function(l){return l/w.earth.radius};a.xyToLngLat=c;a.y2lat=function(l){return Math.PI/2-2*Math.atan(Math.exp(-l/w.earth.radius))};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/contains":function(){define(["exports"],function(a){function b(g,c){return B(g,c[0],c[1])}function B(g,c,d,l){return c>=g.xmin&&c<=g.xmax&&d>=g.ymin&&d<=g.ymax?null!=l&&g.hasZ?l>=g.zmin&&l<=g.zmax:!0:!1}function w(g,c){return v(g.rings,c)}function v(g,c){if(!g)return!1;if(!Array.isArray(g[0][0]))return u(!1,g,c);let d=!1;for(let l=0,r=g.length;l<r;l++)d=u(d,g[l],c);return d}function u(g,c,d){const [l,r]=d;d=0;for(let q=0,k=c.length;q<k;q++){d++;d===k&&(d=
0);const [e,n]=c[q],[x,f]=c[d];(n<r&&f>=r||f<r&&n>=r)&&e+(r-n)/(f-n)*(x-e)<l&&(g=!g)}return g}const h=[0,0];a.extentContainsCoords2D=b;a.extentContainsCoords3D=function(g,c){return B(g,c[0],c[1],c[2])};a.extentContainsExtent=function(g,c){const {xmin:d,ymin:l,zmin:r,xmax:q,ymax:k,zmax:e}=c;return g.hasZ&&c.hasZ?B(g,d,l,r)&&B(g,d,k,r)&&B(g,q,k,r)&&B(g,q,l,r)&&B(g,d,l,e)&&B(g,d,k,e)&&B(g,q,k,e)&&B(g,q,l,e):B(g,d,l)&&B(g,d,k)&&B(g,q,k)&&B(g,q,l)};a.extentContainsMultipoint=function(g,c){if(!c.points||
c.points.length)return!1;for(const d of c.points)if(!b(g,d))return!1;return!0};a.extentContainsPoint=function(g,c){return null!=c?B(g,c.x,c.y,c.z):!1};a.extentContainsXYZ=B;a.polygonContainsCoords=w;a.polygonContainsPoint=function(g,c){h[1]=c.y;h[0]=c.x;return w(g,h)};a.ringsContainsCoords=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function B(f,p){return b.extentContainsPoint(f,p)}
function w(f,p){var y=f.hasZ&&p.hasZ;if(f.xmin<=p.xmin){var z=p.xmin;if(f.xmax<z)return!1}else if(z=f.xmin,p.xmax<z)return!1;if(f.ymin<=p.ymin){if(z=p.ymin,f.ymax<z)return!1}else if(z=f.ymin,p.ymax<z)return!1;if(y&&p.hasZ)if(f.zmin<=p.zmin){if(y=p.zmin,f.zmax<y)return!1}else if(y=f.zmin,p.zmax<y)return!1;return!0}function v(f,p){const {points:y,hasZ:z}=p;p=z?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const E of y)if(p(f,E))return!0;return!1}function u(f,p){return h(f,p.rings)}function h(f,
p){l[0]=f.xmin;l[1]=f.ymax;r[0]=f.xmax;r[1]=f.ymax;q[0]=f.xmin;q[1]=f.ymin;k[0]=f.xmax;k[1]=f.ymin;for(var y of e)if(b.ringsContainsCoords(p,y))return!0;for(const z of p)if(z.length){p=z[0];if(b.extentContainsCoords2D(f,p))return!0;for(y=1;y<z.length;y++){const E=z[y];if(b.extentContainsCoords2D(f,E)||c(p,E,n))return!0;p=E}}return!1}function g(f,p){l[0]=f.xmin;l[1]=f.ymax;r[0]=f.xmax;r[1]=f.ymax;q[0]=f.xmin;q[1]=f.ymin;k[0]=f.xmax;k[1]=f.ymin;p=p.paths;for(const y of p){if(!p.length)continue;let z=
y[0];if(b.extentContainsCoords2D(f,z))return!0;for(let E=1;E<y.length;E++){const F=y[E];if(b.extentContainsCoords2D(f,F)||c(z,F,n))return!0;z=F}}return!1}function c(f,p,y){for(let z=0;z<y.length;z++)if(d(f,p,y[z][0],y[z][1]))return!0;return!1}function d(f,p,y,z,E){const [F,D]=f,[A,C]=p,[G,J]=y,[I,P]=z;var S=I-G;f=F-G;p=A-F;const Y=P-J;y=D-J;z=C-D;const M=Y*p-S*z;if(0===M)return!1;S=(S*y-Y*f)/M;f=(p*y-z*f)/M;return 0<=S&&1>=S&&0<=f&&1>=f?(E&&(E[0]=F+S*(A-F),E[1]=D+S*(C-D)),!0):!1}const l=[0,0],r=[0,
0],q=[0,0],k=[0,0],e=[l,r,q,k],n=[[q,l],[l,r],[r,k],[k,q]],x=[0,0];a.extentIntersectsExtent=w;a.extentIntersectsMultipoint=v;a.extentIntersectsPoint=B;a.extentIntersectsPolygon=u;a.extentIntersectsPolyline=g;a.getFeatureExtentIntersector=function(f){switch(f){case "esriGeometryEnvelope":case "extent":return w;case "esriGeometryMultipoint":case "multipoint":return v;case "esriGeometryPoint":case "point":return B;case "esriGeometryPolygon":case "polygon":return u;case "esriGeometryPolyline":case "polyline":return g}};
a.isSelfIntersecting=function(f){for(let C=0;C<f.length;C++){const G=f[C];for(var p=0;p<G.length-1;p++){var y=G[p],z=G[p+1];for(var E=C+1;E<f.length;E++)for(var F=0;F<f[E].length-1;F++){var D=f[E][F],A=f[E][F+1];if(d(y,z,D,A,x)&&!(x[0]===y[0]&&x[1]===y[1]||x[0]===D[0]&&x[1]===D[1]||x[0]===z[0]&&x[1]===z[1]||x[0]===A[0]&&x[1]===A[1]))return!0}}p=G.length;if(!(4>=p))for(y=0;y<p-3;y++)for(z=p-1,0===y&&(z=p-2),E=G[y],F=G[y+1],D=y+2;D<z;D++){A=G[D];const J=G[D+1];if(d(E,F,A,J,x)&&!(x[0]===E[0]&&x[1]===
E[1]||x[0]===A[0]&&x[1]===A[1]||x[0]===F[0]&&x[1]===F[1]||x[0]===J[0]&&x[1]===J[1]))return!0}}return!1};a.segmentIntersects=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Multipoint":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(a,b,B,w,
v,u,h,g,c,d,l){function r(k){return(e,n)=>null==e?n:null==n?e:k(e,n)}var q;w=q=class extends c{constructor(...k){super(...k);this.points=[];this.type="multipoint"}normalizeCtorArgs(k,e){if(!k&&!e)return{};const n={};Array.isArray(k)?(n.points=k,n.spatialReference=e):!k||"esri.geometry.SpatialReference"!==k.declaredClass&&null==k.wkid?(k.points&&(n.points=k.points),k.spatialReference&&(n.spatialReference=k.spatialReference),k.hasZ&&(n.hasZ=k.hasZ),k.hasM&&(n.hasM=k.hasM)):n.spatialReference=k;if(k=
n.points?.[0])void 0===n.hasZ&&void 0===n.hasM?(n.hasZ=2<k.length,n.hasM=!1):void 0===n.hasZ?n.hasZ=3<k.length:void 0===n.hasM&&(n.hasM=3<k.length);return n}get cache(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const k=this.points;if(!k.length)return null;const e=new g,n=this.hasZ,x=this.hasM,f=n?3:2;var p=k[0];const y=r(Math.min),z=r(Math.max);let [E,F]=p,[D,A]=p,C,G,J,I;for(let P=0,S=k.length;P<
S;P++){p=k[P];const [Y,M]=p;E=y(E,Y);F=y(F,M);D=z(D,Y);A=z(A,M);if(n&&2<p.length){const L=p[2];C=y(C,L);J=z(J,L)}x&&p.length>f&&(p=p[f],G=y(G,p),I=z(I,p))}e.xmin=E;e.ymin=F;e.xmax=D;e.ymax=A;e.spatialReference=this.spatialReference;n?(e.zmin=C,e.zmax=J):(e.zmin=void 0,e.zmax=void 0);x?(e.mmin=G,e.mmax=I):(e.mmin=void 0,e.mmax=void 0);return e}writePoints(k,e){e.points=b.clone(this.points)}addPoint(k){l.updateSupportFromPoint(this,k);Array.isArray(k)?this.points.push(k):this.points.push(k.toArray());
this.notifyChange("points");return this}clone(){const k={points:b.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(k.hasZ=!0);this.hasM&&(k.hasM=!0);return new q(k)}getPoint(k){if(!this._validateInputs(k))return null;k=this.points[k];const e={x:k[0],y:k[1],spatialReference:this.spatialReference};let n=2;this.hasZ&&(e.z=k[2],n=3);this.hasM&&(e.m=k[n]);return new d(e)}removePoint(k){if(!this._validateInputs(k))return null;k=new d(this.points.splice(k,1)[0],this.spatialReference);
this.notifyChange("points");return k}setPoint(k,e){if(!this._validateInputs(k))return this;l.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.points[k]=e;this.notifyChange("points");return this}toJSON(k){return this.write({},k)}_validateInputs(k){return null!=k&&0<=k&&k<this.points.length}};a.__decorate([B.property({readOnly:!0})],w.prototype,"cache",null);a.__decorate([B.property()],w.prototype,"extent",null);a.__decorate([B.property({type:[[Number]],json:{write:{isRequired:!0}}})],
w.prototype,"points",void 0);a.__decorate([h.writer("points")],w.prototype,"writePoints",null);w=q=a.__decorate([u.subclass("esri.geometry.Multipoint")],w);w.prototype.toJSON.isDefaultToJSON=!0;return w})},"esri/geometry/support/zmUtils":function(){define(["exports"],function(a){a.updateSupportFromPoint=function(b,B,w=!1){let {hasM:v,hasZ:u}=b;Array.isArray(B)?4!==B.length||v||u?3===B.length&&w&&!v?(u=!0,v=!1):3===B.length&&v&&u&&(u=v=!1):u=v=!0:(u=!u&&B.hasZ&&(!v||B.hasM),v=!v&&B.hasM&&(!u||B.hasZ));
b.hasZ=u;b.hasM=v};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polygon":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,B,w,v,u,h,g,c,d,l,r,q,k,e,n,x,f,p){var y;v=y=class extends d{static fromExtent(z){var E=z.clone().normalize();z=z.spatialReference;let F=!1,D=!1;for(const A of E)A.hasZ&&(F=!0),A.hasM&&(D=!0);E={rings:E.map(A=>{const C=[[A.xmin,A.ymin],[A.xmin,A.ymax],[A.xmax,A.ymax],[A.xmax,A.ymin],[A.xmin,A.ymin]];if(F&&A.hasZ){var G=A.zmin+.5*(A.zmax-A.zmin);for(let J=0;J<C.length;J++)C[J].push(G)}if(D&&A.hasM)for(A=A.mmin+.5*(A.mmax-A.mmin),G=0;G<C.length;G++)C[G].push(A);return C}),spatialReference:z};
F&&(E.hasZ=!0);D&&(E.hasM=!0);return new y(E)}constructor(...z){super(...z);this.rings=[];this.type="polygon"}normalizeCtorArgs(z,E){let F=null,D,A,C=null;z&&!Array.isArray(z)?(F=z.rings??null,E||(z.spatialReference?E=z.spatialReference:z.rings||(E=z)),D=z.hasZ,A=z.hasM):F=z;F=F||[];E=E||r.WGS84;F.length&&null!=F[0]?.[0]&&"number"===typeof F[0][0]&&(F=[F]);if(C=F[0]?.[0])void 0===D&&void 0===A?(D=2<C.length,A=3<C.length):void 0===D?D=A?3<C.length:2<C.length:void 0===A&&(A=D?3<C.length:2<C.length);
return{rings:F,spatialReference:E,hasZ:D,hasM:A}}get cache(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get centroid(){const z=q.polygonCentroid(this);if(!z||isNaN(z[0])||isNaN(z[1])||this.hasZ&&isNaN(z[2]))return null;const E=new l;E.x=z[0];E.y=z[1];E.spatialReference=this.spatialReference;this.hasZ&&(E.z=z[2]);return E}get extent(){const {spatialReference:z}=this;var E=n.getPolygonExtent(this);if(!E)return null;
E=new c(E);E.spatialReference=z;return E}get isSelfIntersecting(){return x.isSelfIntersecting(this.rings)}writeRings(z,E){E.rings=B.clone(this.rings)}addRing(z){if(z){var E=this.rings,F=E.length;if(Array.isArray(z[0]))E[F]=z.concat();else{const D=[];for(let A=0,C=z.length;A<C;A++)D[A]=z[A].toArray();E[F]=D}this.notifyChange("rings");return this}}clone(){const z=new y;z.spatialReference=this.spatialReference;z.rings=B.clone(this.rings);z.hasZ=this.hasZ;z.hasM=this.hasM;return z}equals(z){if(this===
z)return!0;if(null==z)return!1;var E=this.spatialReference,F=z.spatialReference;if(null!=E!==(null!=F)||null!=E&&null!=F&&!E.equals(F)||this.rings.length!==z.rings.length)return!1;E=([D,A,C,G],[J,I,P,S])=>D===J&&A===I&&(null==C&&null==P||C===P)&&(null==G&&null==S||G===S);for(F=0;F<this.rings.length;F++)if(!b.equals(this.rings[F],z.rings[F],E))return!1;return!0}contains(z){if(!z)return!1;const E=f.project(z,this.spatialReference);return k.polygonContainsPoint(this,null!=E?E:z)}isClockwise(z){z=Array.isArray(z[0])?
z:z.map(E=>this.hasZ?this.hasM?[E.x,E.y,E.z,E.m]:[E.x,E.y,E.z]:[E.x,E.y]);return e.isClockwise(z)}getPoint(z,E){if(!this._validateInputs(z,E))return null;z=this.rings[z][E];E=this.hasZ;const F=this.hasM;return E&&!F?new l(z[0],z[1],z[2],void 0,this.spatialReference):F&&!E?new l(z[0],z[1],void 0,z[2],this.spatialReference):E&&F?new l(z[0],z[1],z[2],z[3],this.spatialReference):new l(z[0],z[1],this.spatialReference)}insertPoint(z,E,F){if(!this._validateInputs(z,E,!0))return this;p.updateSupportFromPoint(this,
F);Array.isArray(F)||(F=F.toArray());this.rings[z].splice(E,0,F);this.notifyChange("rings");return this}removePoint(z,E){if(!this._validateInputs(z,E))return null;z=new l(this.rings[z].splice(E,1)[0],this.spatialReference);this.notifyChange("rings");return z}removeRing(z){if(!this._validateInputs(z,null))return null;z=this.rings.splice(z,1)[0];const E=this.spatialReference;z=z.map(F=>new l(F,E));this.notifyChange("rings");return z}setPoint(z,E,F){if(!this._validateInputs(z,E))return this;p.updateSupportFromPoint(this,
F);Array.isArray(F)||(F=F.toArray());this.rings[z][E]=F;this.notifyChange("rings");return this}_validateInputs(z,E,F=!1){return null==z||0>z||z>=this.rings.length||null!=E&&(z=this.rings[z],F&&(0>E||E>z.length)||!F&&(0>E||E>=z.length))?!1:!0}toJSON(z){return this.write({},z)}};a.__decorate([w.property({readOnly:!0})],v.prototype,"cache",null);a.__decorate([w.property({readOnly:!0})],v.prototype,"centroid",null);a.__decorate([w.property({readOnly:!0})],v.prototype,"extent",null);a.__decorate([w.property({readOnly:!0})],
v.prototype,"isSelfIntersecting",null);a.__decorate([w.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],v.prototype,"rings",void 0);a.__decorate([g.writer("rings")],v.prototype,"writeRings",null);v=y=a.__decorate([h.subclass("esri.geometry.Polygon")],v);v.prototype.toJSON.isDefaultToJSON=!0;return v})},"esri/geometry/support/centroid":function(){define(["exports","../geometryCursorCollectUtils","./coordsUtils"],function(a,b,B){function w(d,l){if(!d?.length)return null;const r=[],q=[],k=
l?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let e=0,n=d.length;e<n;e++){const x=v(d[e],l,k);x&&q.push(x)}q.sort((e,n)=>{let x=e[2]-n[2];0===x&&l&&(x=e[4]-n[4]);return x});q.length&&(r[0]=q[0][0],r[1]=q[0][1],l&&(r[2]=q[0][3]),r[0]<k[0]||r[0]>k[1]||r[1]<k[2]||r[1]>k[3]||l&&(r[2]<k[4]||r[2]>k[5]))&&(r.length=0);if(!r.length)if(d=d[0]&&d[0].length?u(d[0],l):null)r[0]=d[0],r[1]=d[1],l&&2<d.length&&(r[2]=d[2]);else return null;return r}function v(d,
l,r){let q=0,k=0,e=0,n=0,x=0;const f=d.length?d[0][0]:0,p=d.length?d[0][1]:0,y=d.length&&l?d[0][2]:0;for(let D=0;D<d.length;D++){var z=d[D],E=d[(D+1)%d.length];const [A,C,G]=z;var F=A-f;const J=C-p,[I,P,S]=E,Y=I-f,M=P-p,L=F*M-Y*J;n+=L;q+=(F+Y)*L;k+=(J+M)*L;l&&2<z.length&&2<E.length&&(z=G-y,E=S-y,F=F*E-Y*z,e+=(z+E)*F,x+=F);A<r[0]&&(r[0]=A);A>r[1]&&(r[1]=A);C<r[2]&&(r[2]=C);C>r[3]&&(r[3]=C);l&&(G<r[4]&&(r[4]=G),G>r[5]&&(r[5]=G))}0<n&&(n*=-1);0<x&&(x*=-1);if(!n)return null;n*=.5;x*=.5;d=[q/(6*n)+f,k/
(6*n)+p,n];l&&(r[4]===r[5]||0===x?(d[3]=(r[4]+r[5])/2,d[4]=0):(d[3]=e/(6*x)+y,d[4]=x));return d}function u(d,l){const r=l?[0,0,0]:[0,0],q=l?[0,0,0]:[0,0];let k=0,e=0,n=0,x=0;for(let p=0,y=d.length;p<y-1;p++){var f=d[p];const z=d[p+1];if(f&&z){r[0]=f[0];r[1]=f[1];q[0]=z[0];q[1]=z[1];l&&2<f.length&&2<z.length&&(r[2]=f[2],q[2]=z[2]);const E=B.getLength(r,q);E&&(k+=E,f=B.getMidpoint(f,z),e+=E*f[0],n+=E*f[1],l&&2<f.length&&(x+=E*f[2]))}}return 0<k?l?[e/k,n/k,x/k]:[e/k,n/k]:d.length?d[0]:null}function h(d){const {hasZ:l,
totalSize:r}=d;if(0===r)return null;const q=[],k=[],e=l?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(d.reset();d.nextPath();){const n=v(b.collectPath(d),d.hasZ,e);n&&k.push(n)}k.sort((n,x)=>{let f=n[2]-x[2];0===f&&l&&(f=n[4]-x[4]);return f});k.length&&(q[0]=k[0][0],q[1]=k[0][1],l&&(q[2]=
k[0][3]),q[0]<e[0]||q[0]>e[1]||q[1]<e[2]||q[1]>e[3]||l&&(q[2]<e[4]||q[2]>e[5]))&&(q.length=0);if(!q.length)if(d.reset(),d.nextPath(),d=d.pathSize?g(d):null)q[0]=d[0],q[1]=d[1],l&&2<d.length&&(q[2]=d[2]);else return null;return q}function g(d){const {hasZ:l}=d,r=l?[0,0,0]:[0,0],q=l?[0,0,0]:[0,0];let k=0,e=0,n=0,x=0;if(d.nextPoint()){var f=d.x,p=d.y;let y=d.z;for(;d.nextPoint();){const z=d.x,E=d.y,F=d.z;r[0]=f;r[1]=p;q[0]=z;q[1]=E;l&&(r[2]=y,q[2]=F);if(f=B.getLength(r,q))k+=f,p=B.getMidpoint(r,q),e+=
f*p[0],n+=f*p[1],l&&2<p.length&&(x+=f*p[2]);f=z;p=E;y=F}}return 0<k?l?[e/k,n/k,x/k]:[e/k,n/k]:d.pathSize?(d.seekPathStart(),d.nextPoint(),[d.x,d.y]):null}const c=1/3;a.extentCentroid=function(d){return d?d.hasZ?[d.xmax-d.xmin/2,d.ymax-d.ymin/2,d.zmax-d.zmin/2]:[d.xmax-d.xmin/2,d.ymax-d.ymin/2]:null};a.lineCentroid=u;a.lineCentroidCursor=g;a.polygonCentroid=function(d){return d?w(d.rings,d.hasZ??!1):null};a.ringCentroid=v;a.ringCentroidCursorXY=function(d,l){let r=0,q=0,k=0;d.nextPoint();const e=d.pathSize?
d.x:0,n=d.pathSize?d.y:0;for(let p=0;p<d.pathSize;p++){d.seekInPath(p);var x=[d.x,d.y];d.seekInPath((p+1)%d.pathSize);var f=[d.x,d.y];const [y,z]=x;x=y-e;const E=z-n,[F,D]=f;f=F-e;const A=D-n,C=x*A-f*E;k+=C;r+=(x+f)*C;q+=(E+A)*C;y<l[0]&&(l[0]=y);y>l[1]&&(l[1]=y);z<l[2]&&(l[2]=z);z>l[3]&&(l[3]=z)}0<k&&(k*=-1);if(!k)return null;k*=.5;return[r/(6*k)+e,q/(6*k)+n,k]};a.ringsCentroid=w;a.ringsCentroidCursor=h;a.weightedAreaCentroid=function(d){let l=0;for(d.reset();d.nextPath();)l+=d.getCurrentRingArea();
if(1E-6>l)return(d=h(d))?[d[0],d[1]]:null;const r=[0,0];d.reset();if(!d.nextPath()||!d.nextPoint())return null;const q=[d.x,d.y];for(d.reset();d.nextPath();)a:{let f=void 0;var k=r,e=q,n=d;if(!k||!n||3>n.pathSize)break a;n.nextPoint();var x=n.x;const p=n.y;n.nextPoint();let y=n.x-x,z=n.y-p,E=0,F=0;for(;n.nextPoint();)E=n.x-x,F=n.y-p,f=.5*c*(E*z-F*y),k[0]+=f*(y+E),k[1]+=f*(z+F),y=E,z=F;n=n.getCurrentRingArea();x=[x,p];x[0]-=e[0];x[1]-=e[1];x[0]*=n;x[1]*=n;k[0]+=x[0];k[1]+=x[1]}r[0]*=1/l;r[1]*=1/l;
r[0]+=q[0];r[1]+=q[1];return r};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/geometryCursorCollectUtils":function(){define(["exports"],function(a){a.collectMultipath=function(b){const B=[];for(b.reset();b.nextPath();){const w=[];for(;b.nextPoint();)w.push([b.x,b.y]);B.push(w)}b.reset();return B};a.collectPath=function(b){const B=[];for(;b.nextPoint();)B.push([b.x,b.y]);b.seekPathStart();return B};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/coordsUtils":function(){define(["exports",
"../../core/arrayUtils","./Axis","./spatialReferenceUtils"],function(a,b,B,w){function v(e,n){const x=n[0]-e[0],f=n[1]-e[1];return 2<e.length&&2<n.length?(e=e[2]-n[2],Math.sqrt(x*x+f*f+e*e)):Math.sqrt(x*x+f*f)}function u(e,n,x){const f=e[0]+x*(n[0]-e[0]),p=e[1]+x*(n[1]-e[1]);return 2<e.length&&2<n.length?[f,p,e[2]+x*(n[2]-e[2])]:[f,p]}function h(e,n,x,f){const [p,y]=n,[z,E]=x,[F,D]=f;n=F-z;x=D-E;f=Math.min(1,Math.max(0,((p-z)*n+(y-E)*x)/(n*n+x*x)));e[0]=z+n*f;e[1]=E+x*f;return e}function g(e,n,x,
f,p,y){let z=p-x,E=y-f;if(0!==z||0!==E){const F=((e-x)*z+(n-f)*E)/(z*z+E*E);1<F?(x=p,f=y):0<F&&(x+=z*F,f+=E*F)}z=e-x;E=n-f;return z*z+E*E}function c(e,n=B.Axis.X,x=B.Axis.Y){let f=0;const p=e.length;let y=e[0];for(let z=1;z<p;z++){const E=e[z];f+=(E[n]-y[n])*(E[x]+y[x]);y=E}d(e)||(e=e[0],f+=(e[n]-y[n])*(e[x]+y[x]));return 0<=f}function d(e){const n=e.length;return 3>n||b.equals(e[0],e[n-1])}function l(e){if(!("rings"in e))return!1;let n=!1;for(const x of e.rings)d(x)||(x.push(x[0].slice()),n=!0);
return n}function r(e){if(!("rings"in e)||0===e.rings.length||c(e.rings[0]))return!1;for(const n of e.rings)n.reverse();return!0}function q(e,n){var x=w.getInfo(n);if(x){n=x.valid[0];x=x.valid[1];var f=x-n;for(const p of e){e=Infinity;let y=-Infinity;for(const z of p){const E=k(z[0],n,x);e=Math.min(e,E);y=Math.max(y,E);z[0]=E}e=y-e;f-e<e&&p.forEach(z=>{0>z[0]&&(z[0]+=f)})}}}function k(e,n,x){const f=x-n;return e<n?x-(n-e)%f:e>x?n+(e-n)%f:e}a.closeRings=l;a.closeRingsAndFixWinding=function(e){"rings"in
e&&(l(e),r(e))};a.distanceFromPointToPolygon=function(e,n,x){let f=!1,p=Infinity,y,z,E,F;for(x.reset();x.nextPath();)if(x.nextPoint())for(y=x.x,z=x.y;x.nextPoint();)E=x.x,F=x.y,z>n!==F>n&&e<(E-y)*(n-z)/(F-z)+y&&(f=!f),p=Math.min(p,g(e,n,y,z,E,F)),y=E,z=F;return 0===p?0:(f?1:-1)*Math.sqrt(p)};a.distanceToSegmentSquared=g;a.fixWinding=r;a.geometryToCoordinates=function(e){if(!e)return null;if(Array.isArray(e))return e;const n=e.hasZ,x=e.hasM;if("point"===e.type)return x&&n?[e.x,e.y,e.z,e.m]:n?[e.x,
e.y,e.z]:x?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice(0);if("polyline"===e.type)return e.paths.slice(0);if("multipoint"===e.type)return e.points.slice(0);if("extent"===e.type){e=e.clone().normalize();if(!e)return null;let f=!1,p=!1;e.forEach(y=>{y.hasZ&&(f=!0);y.hasM&&(p=!0)});return e.map(y=>{const z=[[y.xmin,y.ymin],[y.xmin,y.ymax],[y.xmax,y.ymax],[y.xmax,y.ymin],[y.xmin,y.ymin]];if(f&&y.hasZ){var E=.5*(y.zmax-y.zmin);for(let F=0;F<z.length;F++)z[F].push(E)}if(p&&y.hasM)for(y=
.5*(y.mmax-y.mmin),E=0;E<z.length;E++)z[E].push(y);return z})}return null};a.getLength=v;a.getMidpoint=function(e,n){return u(e,n,.5)};a.getPathLength=function(e){const n=e.length;let x=0;for(let f=0;f<n-1;++f)x+=v(e[f],e[f+1]);return x};a.getPointOnPath=function(e,n){if(0>=n)return e[0];const x=e.length;let f=0;for(let p=0;p<x-1;++p){const y=v(e[p],e[p+1]);if(n-f<y)return u(e[p],e[p+1],(n-f)/y);f+=y}return e[x-1]};a.hasCompatibleTopology=function(e,n){if(e===n)return!0;if(e.type!==n.type)return!1;
if("point"===e.type||"mesh"===e.type||"extent"===e.type)return!0;if("multipoint"===e.type)return e.points.length===n.points.length;const [x,f]="polyline"===e.type?[e.paths,n.paths]:[e.rings,n.rings];return x.length===f.length&&x.every((p,y)=>p.length===f[y].length)};a.isClockwise=c;a.isClosed=d;a.projectPointOnLine=function(e,n,x,f){return h(e,n,x[f],x[f+1])};a.projectPointOnLineSeg=h;a.unnormalizeGeometryOnDatelineCrossing=function(e){if("polygon"!==e.type&&"polyline"!==e.type)return e;q("polygon"===
e.type?e.rings:e.paths,e.spatialReference);return e};a.unnormalizeVerticesOnDatelineCrossing=q;a.unnormalizedCoordinate=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Axis":function(){define(["exports"],function(a){a.Axis=void 0;var b=a.Axis||(a.Axis={});b[b.X=0]="X";b[b.Y=1]="Y";b[b.Z=2]="Z";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,b){function B(c,
d=!1,l=!1){return d?l?{xmin:c[0],ymin:c[1],zmin:c[2],mmin:c[3],xmax:c[4],ymax:c[5],zmax:c[6],mmax:c[7]}:{xmin:c[0],ymin:c[1],zmin:c[2],xmax:c[3],ymax:c[4],zmax:c[5]}:l?{xmin:c[0],ymin:c[1],mmin:c[2],xmax:c[3],ymax:c[4],mmax:c[5]}:{xmin:c[0],ymin:c[1],xmax:c[2],ymax:c[3]}}function w(c){const {hasZ:d,hasM:l,points:r}=c;return B(b.getPointsBounds(g,r,d??!1,l??!1),d,l)}function v(c){const {x:d,y:l,z:r,m:q}=c;c=null!=q;return null!=r?c?{xmin:d,ymin:l,zmin:r,mmin:q,xmax:d,ymax:l,zmax:r,mmax:q}:{xmin:d,
ymin:l,zmin:r,xmax:d,ymax:l,zmax:r}:c?{xmin:d,ymin:l,mmin:q,xmax:d,ymax:l,mmax:q}:{xmin:d,ymin:l,xmax:d,ymax:l}}function u(c){const {hasZ:d,hasM:l,rings:r}=c;return(c=b.getRingsOrPathsBounds(g,r,d??!1,l??!1))?B(c,d,l):null}function h(c){const {hasZ:d,hasM:l,paths:r}=c;return(c=b.getRingsOrPathsBounds(g,r,d??!1,l??!1))?B(c,d,l):null}const g=[];a.getGeometryExtent=function(c){return c?void 0!==c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax?c:void 0!==c.x&&void 0!==c.y?v(c):void 0!==c.rings?
u(c):void 0!==c.paths?h(c):void 0!==c.points?w(c):null:null};a.getMultipointExtent=w;a.getPointExtent=v;a.getPolygonExtent=u;a.getPolylineExtent=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/boundsUtils":function(){define(["exports","./aaBoundingRect"],function(a,b){function B(l){return void 0!==l.xmin&&void 0!==l.ymin&&void 0!==l.xmax&&void 0!==l.ymax}function w(l){return function(r,q){return null==r?q:null==q?r:l(r,q)}}function v(l){let r,q,k,e;r=k=Infinity;
for(q=e=-Infinity;l.nextPoint();)r=Math.min(l.x,r),k=Math.min(l.y,k),q=Math.max(l.x,q),e=Math.max(l.y,e);return b.create([r,k,q,e])}function u(l,r,q,k){const e=q?3:2;if(!r.length||!r[0].length)return null;let [n,x]=r[0][0],[f,p]=r[0][0],y=void 0,z=void 0,E=void 0;var F=void 0;for(let D=0;D<r.length;D++){const A=r[D];for(let C=0;C<A.length;C++){const G=A[C],[J,I]=G;n=c(n,J);x=c(x,I);f=d(f,J);p=d(p,I);if(q&&2<G.length){const P=G[2];y=c(y,P);z=d(z,P)}k&&G.length>e&&(F=G[e],E=c(y,F),F=d(z,F))}}if(q){if(k)return l[0]=
n,l[1]=x,l[2]=y,l[3]=E,l[4]=f,l[5]=p,l[6]=z,l[7]=F,l.length=8,l;l[0]=n;l[1]=x;l[2]=y;l[3]=f;l[4]=p;l[5]=z;l.length=6;return l}if(k)return l[0]=n,l[1]=x,l[2]=E,l[3]=f,l[4]=p,l[5]=F,l.length=6,l;l[0]=n;l[1]=x;l[2]=f;l[3]=p;l.length=4;return l}function h(l,r,q,k,e,n){q=r.xmin;k=r.xmax;const x=r.ymin,f=r.ymax;let p=r.zmin,y=r.zmax,z=r.mmin;r=r.mmax;if(e){p=p||0;y=y||0;if(n)return l[0]=q,l[1]=x,l[2]=p,l[3]=z||0,l[4]=k,l[5]=f,l[6]=y,l[7]=r||0,l;l[0]=q;l[1]=x;l[2]=p;l[3]=k;l[4]=f;l[5]=y;return l}if(n)return l[0]=
q,l[1]=x,l[2]=z||0,l[3]=k,l[4]=f,l[5]=r||0,l;l[0]=q;l[1]=x;l[2]=k;l[3]=f;return l}function g(l,r,q,k,e,n){const x=q?3:2;k=k&&n;q=q&&e;if(!r.length||!r[0].length)return null;let [f,p]=r[0],[y,z]=r[0],E=void 0,F=void 0,D=void 0;var A=void 0;for(let C=0;C<r.length;C++){const G=r[C],[J,I]=G;f=c(f,J);p=c(p,I);y=d(y,J);z=d(z,I);if(q&&2<G.length){const P=G[2];E=c(E,P);F=d(F,P)}k&&G.length>x&&(A=G[x],D=c(E,A),A=d(F,A))}if(e){E=E||0;F=F||0;if(n)return l[0]=f,l[1]=p,l[2]=E,l[3]=D||0,l[4]=y,l[5]=z,l[6]=F,l[7]=
A||0,l;l[0]=f;l[1]=p;l[2]=E;l[3]=y;l[4]=z;l[5]=F;return l}if(n)return l[0]=f,l[1]=p,l[2]=D||0,l[3]=y,l[4]=z,l[5]=A||0,l;l[0]=f;l[1]=p;l[2]=y;l[3]=z;return l}const c=w(Math.min),d=w(Math.max);a.getBoundsXY=function(l,r){if(void 0!==r.paths)return u(l,r.paths,!1,!1);if(void 0!==r.rings)return u(l,r.rings,!1,!1);if(void 0!==r.points)return g(l,r.points,!1,!1,!1,!1);if(B(r))return h(l,r);void 0!==r.x&&void 0!==r.y&&(l[0]=r.x,l[1]=r.y,l[2]=r.x,l[3]=r.y);return l};a.getBoundsXYZ=function(l,r){if(void 0!==
r.paths)return u(l,r.paths,!0,!1);if(void 0!==r.rings)return u(l,r.rings,!0,!1);if(void 0!==r.points)return g(l,r.points,!0,!1,!0,!1);if(B(r))return h(l,r,!0,!1,!0,!1);void 0!==r.x&&void 0!==r.y&&(l[0]=r.x,l[1]=r.y,l[2]=r.z,l[3]=r.x,l[4]=r.y,l[5]=r.z);return l};a.getCursorBoundsXY=function(l){l.reset();let r,q,k,e;r=k=Infinity;for(q=e=-Infinity;l.nextPath();){const n=v(l);r=Math.min(n[0],r);k=Math.min(n[1],k);q=Math.max(n[2],q);e=Math.max(n[3],e)}return b.create([r,k,q,e])};a.getCursorPathBounds=
v;a.getExtentBounds=h;a.getPointsBounds=g;a.getRingsOrPathsBounds=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../Extent"],function(a,b,B,w){function v(q=r){return[q[0],q[1],q[2],q[3]]}function u(q,k){q!==k&&(q[0]=k[0],q[1]=k[1],q[2]=k[2],q[3]=k[3]);return q}function h(q){return null==q||q[0]>=q[2]?0:q[2]-q[0]}function g(q){return null==q||q[1]>=q[3]?0:q[3]-q[1]}function c(q,
k,e){return k>=q[0]&&e>=q[1]&&k<=q[2]&&e<=q[3]}function d(q){return null!=q&&4===q.length}const l=[Infinity,Infinity,-Infinity,-Infinity],r=[0,0,0,0];a.allFinite=function(q){for(let k=0;4>k;k++)if(!isFinite(q[k]))return!1;return!0};a.area=function(q){return h(q)*g(q)};a.center=function(q,k=[0,0]){k[0]=(q[0]+q[2])/2;k[1]=(q[1]+q[3])/2;return k};a.clone=function(q){return[q[0],q[1],q[2],q[3]]};a.contains=function(q,k){return k[0]>=q[0]&&k[2]<=q[2]&&k[1]>=q[1]&&k[3]<=q[3]};a.containsPoint=function(q,
k){return c(q,k[0],k[1])};a.containsPointObject=function(q,k){return c(q,k.x,k.y)};a.containsPointWithMargin=function(q,k,e){return k[0]>=q[0]-e&&k[1]>=q[1]-e&&k[0]<=q[2]+e&&k[1]<=q[3]+e};a.containsXY=c;a.containsXYWithMargin=function(q,k,e,n){return k>=q[0]-n&&e>=q[1]-n&&k<=q[2]+n&&e<=q[3]+n};a.copy=u;a.create=v;a.distance=function(q,k){const e=(q[1]+q[3])/2,n=Math.max(Math.abs(k[0]-(q[0]+q[2])/2)-h(q)/2,0);q=Math.max(Math.abs(k[1]-e)-g(q)/2,0);return Math.sqrt(n*n+q*q)};a.empty=function(q){return q?
u(q,l):v(l)};a.equals=function(q,k){return d(q)&&d(k)?q[0]===k[0]&&q[1]===k[1]&&q[2]===k[2]&&q[3]===k[3]:q===k};a.expand=function(q,k,e){if(null==k)u(e,q);else if("length"in k)if(d(k))e[0]=Math.min(q[0],k[0]),e[1]=Math.min(q[1],k[1]),e[2]=Math.max(q[2],k[2]),e[3]=Math.max(q[3],k[3]);else{if(2===k.length||3===k.length)e[0]=Math.min(q[0],k[0]),e[1]=Math.min(q[1],k[1]),e[2]=Math.max(q[2],k[0]),e[3]=Math.max(q[3],k[1])}else switch(k.type){case "extent":e[0]=Math.min(q[0],k.xmin);e[1]=Math.min(q[1],k.ymin);
e[2]=Math.max(q[2],k.xmax);e[3]=Math.max(q[3],k.ymax);break;case "point":e[0]=Math.min(q[0],k.x),e[1]=Math.min(q[1],k.y),e[2]=Math.max(q[2],k.x),e[3]=Math.max(q[3],k.y)}};a.expandPointInPlace=function(q,k){k[0]<q[0]&&(q[0]=k[0]);k[0]>q[2]&&(q[2]=k[0]);k[1]<q[1]&&(q[1]=k[1]);k[1]>q[3]&&(q[3]=k[1])};a.expandWithNestedArray=function(q,k,e=q){const n=k.length;let x=q[0],f=q[1],p=q[2];q=q[3];for(let y=0;y<n;y++){const z=k[y];x=Math.min(x,z[0]);f=Math.min(f,z[1]);p=Math.max(p,z[0]);q=Math.max(q,z[1])}e[0]=
x;e[1]=f;e[2]=p;e[3]=q;return e};a.fromExtent=function(q,k=v()){k[0]=q.xmin;k[1]=q.ymin;k[2]=q.xmax;k[3]=q.ymax;return k};a.fromValues=function(q,k,e,n,x=v()){x[0]=q;x[1]=k;x[2]=e;x[3]=n;return x};a.hasArea=function(q){return 0<h(q)&&0<g(q)};a.height=g;a.intersection=function(q,k,e){if(null==k)return u(e,q);const n=k[0],x=k[1],f=k[2];k=k[3];e[0]=B.clamp(q[0],n,f);e[1]=B.clamp(q[1],x,k);e[2]=B.clamp(q[2],n,f);e[3]=B.clamp(q[3],x,k);return e};a.intersects=function(q,k){return Math.max(k[0],q[0])<=Math.min(k[2],
q[2])&&Math.max(k[1],q[1])<=Math.min(k[3],q[3])};a.intersectsSegment=function(q,k,e){const n=q[0],x=q[1],f=q[2];q=q[3];const {x:p,y}=k,{x:z,y:E}=e;var F=(A,C)=>0>(E-y)*A+(p-z)*C+(z*y-p*E);k=F(n,q);e=F(f,q);const D=F(f,x);F=F(n,x);return k===e&&e===D&&D===F&&F===k||p<n&&z<n||p>f&&z>f||y>q&&E>q||y<x&&E<x?!1:!0};a.intersectsSphere=function(q,k){const e=k[3];var n=Math.abs(k[0]-.5*(q[0]+q[2]));const x=.5*(q[2]-q[0]);if(n>e+x)return!1;var f=.5*(q[3]-q[1]);q=Math.abs(k[1]-.5*(q[1]+q[3]));if(q>e+f)return!1;
if(n<x||q<f)return!0;n-=x;f=q-f;return n*n+f*f<=e*e};a.is=d;a.isPoint=function(q){return(0===h(q)||!isFinite(q[0]))&&(0===g(q)||!isFinite(q[1]))};a.negativeInfinity=l;a.offset=function(q,k,e,n=q){n[0]=q[0]+k;n[1]=q[1]+e;n[2]=q[2]+k;n[3]=q[3]+e;return n};a.pad=function(q,k,e=q){e[0]=q[0]-k;e[1]=q[1]-k;e[2]=q[2]+k;e[3]=q[3]+k;return e};a.positiveInfinity=[-Infinity,-Infinity,Infinity,Infinity];a.setMax=function(q,k,e=q){e[2]=k[0];e[3]=k[1];e!==q&&(e[0]=q[0],e[1]=q[1]);return q};a.setMin=function(q,
k,e=q){e[0]=k[0];e[1]=k[1];e!==q&&(e[2]=q[2],e[3]=q[3]);return e};a.size=function(q,k){k[0]=q[2]-q[0];k[1]=q[3]-q[1]};a.toExtent=function(q,k){return new w({xmin:q[0],ymin:q[1],xmax:q[2],ymax:q[3],spatialReference:k})};a.unit=[0,0,1,1];a.width=h;a.zero=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/mathUtils":function(){define(["exports","../chunks/vec32"],function(a,b){function B(n,x,f){return Math.min(Math.max(n,x),f)}function w(n,x,f){return n+(x-n)*f}function v(n){return Math.asin(B(n,
-1,1))}function u(n,x,f=1E-6){return n===x?!0:Number.isFinite(n)&&Number.isFinite(x)?(n>x?n-x:x-n)<=f:!1}function h(n){r.setFloat64(0,n);return r.getBigInt64(0)}function g(n){r.setBigInt64(0,n);return r.getFloat64(0)}function c(n){n=Math.abs(n);var x=h(n);x=x<=q?g(q):g(x-q);return Math.abs(n-x)}function d(n){l[0]=n;return l[0]}const l=new Float32Array(1),r=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),q=BigInt("1000000"),k=c(1),e=d(3.4028234663852886E38);a.acosClamped=function(n){return Math.acos(B(n,
-1,1))};a.asinClamped=v;a.cartesianToSpherical=function(n,x){const f=b.length(n),p=v(n[2]/f);b.set(x,f,p,Math.atan2(n[1]/f,n[0]/f));return x};a.clamp=B;a.clampFloat32=function(n){return d(Math.max(-e,Math.min(n,e)))};a.deg2rad=function(n){return n*Math.PI/180};a.floatEqualAbsolute=u;a.floatEqualRelative=function(n,x,f=1E-6){if(n===x)return!0;if(!Number.isFinite(n)||!Number.isFinite(x))return!1;const p=Math.abs(n-x),y=Math.abs(n),z=Math.abs(x);if(0===n||0===x||1E-12>y&&1E-12>z){if(p>.01*f)return!1}else if(p/
(y+z)>f)return!1;return!0};a.floatEqualUlp=function(n,x,f=k){if(n===x)return!0;if(!Number.isFinite(n)||!Number.isFinite(x))return!1;if(null!=f&&c(Math.min(Math.abs(n),Math.abs(x)))<f)return Math.abs(n-x)<=f;n=h(n);x=h(x);return 0>n!==0>x||(n<x?x-n:n-x)>q?!1:!0};a.hasScaling=function(n){const x=n[3]*n[3]+n[4]*n[4]+n[5]*n[5],f=n[6]*n[6]+n[7]*n[7]+n[8]*n[8];return!(u(n[0]*n[0]+n[1]*n[1]+n[2]*n[2],1)&&u(x,1)&&u(f,1))};a.isPowerOfTwo=function(n){return 0===(n&n-1)};a.lerp=w;a.moduloPositive=function(n,
x){return(n%x+x)%x};a.nextHighestPowerOfTen=function(n){return 10**Math.ceil(Math.LOG10E*Math.log(n))};a.nextHighestPowerOfTwo=function(n){--n;for(let x=1;32>x;x<<=1)n|=n>>x;return n+1};a.nextPowerOfTwo=function(n){n--;n|=n>>1;n|=n>>2;n|=n>>4;n|=n>>8;n|=n>>16;n++;return n};a.numberMaxFloat32=e;a.rad2deg=function(n){return 180*n/Math.PI};a.reciprocalClamped=function(n,x=1E-6){return(0>n?-1:1)/Math.max(Math.abs(n),x)};a.roundToNearest=function(n,x){return 0===x?0:Math.round(n/x)*x};a.scale=function(n,
x,f,p,y){return w(p,y,(n-x)/(f-x))};a.smoothstep=function(n,x,f){n=B((f-n)/(x-n),0,1);return n*n*(3-2*n)};a.sphericalToCartesian=function(n,x){const f=n[0],p=n[1];n=n[2];const y=Math.cos(p);b.set(x,f*y*Math.cos(n),f*y*Math.sin(n),f*Math.sin(p))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],function(a,b,B){function w(aa){const T=aa[0],Q=aa[1];aa=aa[2];
return Math.sqrt(T*T+Q*Q+aa*aa)}function v(aa,T){aa[0]=T[0];aa[1]=T[1];aa[2]=T[2];return aa}function u(aa,T,Q,V){aa[0]=T;aa[1]=Q;aa[2]=V;return aa}function h(aa,T,Q){aa[0]=T[0]+Q[0];aa[1]=T[1]+Q[1];aa[2]=T[2]+Q[2];return aa}function g(aa,T,Q){aa[0]=T[0]-Q[0];aa[1]=T[1]-Q[1];aa[2]=T[2]-Q[2];return aa}function c(aa,T,Q){aa[0]=T[0]*Q[0];aa[1]=T[1]*Q[1];aa[2]=T[2]*Q[2];return aa}function d(aa,T,Q){aa[0]=T[0]/Q[0];aa[1]=T[1]/Q[1];aa[2]=T[2]/Q[2];return aa}function l(aa,T){aa[0]=Math.ceil(T[0]);aa[1]=Math.ceil(T[1]);
aa[2]=Math.ceil(T[2]);return aa}function r(aa,T){aa[0]=Math.floor(T[0]);aa[1]=Math.floor(T[1]);aa[2]=Math.floor(T[2]);return aa}function q(aa,T){aa[0]=Math.abs(T[0]);aa[1]=Math.abs(T[1]);aa[2]=Math.abs(T[2]);return aa}function k(aa,T){aa[0]=Math.sign(T[0]);aa[1]=Math.sign(T[1]);aa[2]=Math.sign(T[2]);return aa}function e(aa,T,Q){aa[0]=Math.min(T[0],Q[0]);aa[1]=Math.min(T[1],Q[1]);aa[2]=Math.min(T[2],Q[2]);return aa}function n(aa,T,Q){aa[0]=Math.max(T[0],Q[0]);aa[1]=Math.max(T[1],Q[1]);aa[2]=Math.max(T[2],
Q[2]);return aa}function x(aa,T){aa[0]=Math.round(T[0]);aa[1]=Math.round(T[1]);aa[2]=Math.round(T[2]);return aa}function f(aa,T,Q){aa[0]=T[0]*Q;aa[1]=T[1]*Q;aa[2]=T[2]*Q;return aa}function p(aa,T,Q,V){aa[0]=T[0]+Q[0]*V;aa[1]=T[1]+Q[1]*V;aa[2]=T[2]+Q[2]*V;return aa}function y(aa,T){const Q=T[0]-aa[0],V=T[1]-aa[1];aa=T[2]-aa[2];return Math.sqrt(Q*Q+V*V+aa*aa)}function z(aa,T){const Q=T[0]-aa[0],V=T[1]-aa[1];aa=T[2]-aa[2];return Q*Q+V*V+aa*aa}function E(aa){const T=aa[0],Q=aa[1];aa=aa[2];return T*T+
Q*Q+aa*aa}function F(aa,T){aa[0]=-T[0];aa[1]=-T[1];aa[2]=-T[2];return aa}function D(aa,T){aa[0]=1/T[0];aa[1]=1/T[1];aa[2]=1/T[2];return aa}function A(aa,T){var Q=T[0];const V=T[1],ba=T[2];Q=Q*Q+V*V+ba*ba;0<Q&&(Q=1/Math.sqrt(Q),aa[0]=T[0]*Q,aa[1]=T[1]*Q,aa[2]=T[2]*Q);return aa}function C(aa,T){return aa[0]*T[0]+aa[1]*T[1]+aa[2]*T[2]}function G(aa,T,Q){const V=T[0],ba=T[1];T=T[2];const fa=Q[0],pa=Q[1];Q=Q[2];aa[0]=ba*Q-T*pa;aa[1]=T*fa-V*Q;aa[2]=V*pa-ba*fa;return aa}function J(aa,T,Q,V){const ba=T[0],
fa=T[1];T=T[2];aa[0]=ba+V*(Q[0]-ba);aa[1]=fa+V*(Q[1]-fa);aa[2]=T+V*(Q[2]-T);return aa}function I(aa,T,Q,V,ba,fa){const pa=fa*fa,ta=pa*(2*fa-3)+1,sa=pa*(fa-2)+fa,xa=pa*(fa-1);fa=pa*(3-2*fa);aa[0]=T[0]*ta+Q[0]*sa+V[0]*xa+ba[0]*fa;aa[1]=T[1]*ta+Q[1]*sa+V[1]*xa+ba[1]*fa;aa[2]=T[2]*ta+Q[2]*sa+V[2]*xa+ba[2]*fa;return aa}function P(aa,T,Q,V,ba,fa){var pa=1-fa,ta=pa*pa;const sa=fa*fa,xa=ta*pa;ta*=3*fa;pa*=3*sa;fa*=sa;aa[0]=T[0]*xa+Q[0]*ta+V[0]*pa+ba[0]*fa;aa[1]=T[1]*xa+Q[1]*ta+V[1]*pa+ba[1]*fa;aa[2]=T[2]*
xa+Q[2]*ta+V[2]*pa+ba[2]*fa;return aa}function S(aa,T){T=T||1;var Q=B.RANDOM;const V=2*Q()*Math.PI;Q=2*Q()-1;const ba=Math.sqrt(1-Q*Q)*T;aa[0]=Math.cos(V)*ba;aa[1]=Math.sin(V)*ba;aa[2]=Q*T;return aa}function Y(aa,T,Q){const V=T[0],ba=T[1];T=T[2];aa[0]=Q[0]*V+Q[4]*ba+Q[8]*T+Q[12];aa[1]=Q[1]*V+Q[5]*ba+Q[9]*T+Q[13];aa[2]=Q[2]*V+Q[6]*ba+Q[10]*T+Q[14];return aa}function M(aa,T,Q){const V=T[0],ba=T[1];T=T[2];aa[0]=V*Q[0]+ba*Q[3]+T*Q[6];aa[1]=V*Q[1]+ba*Q[4]+T*Q[7];aa[2]=V*Q[2]+ba*Q[5]+T*Q[8];return aa}function L(aa,
T,Q){const V=Q[0],ba=Q[1],fa=Q[2],pa=T[0],ta=T[1];T=T[2];const sa=ba*T-fa*ta,xa=fa*pa-V*T,Ba=V*ta-ba*pa;Q=2*Q[3];aa[0]=pa+sa*Q+2*(ba*Ba-fa*xa);aa[1]=ta+xa*Q+2*(fa*sa-V*Ba);aa[2]=T+Ba*Q+2*(V*xa-ba*sa);return aa}function O(aa,T,Q,V){const ba=[],fa=[];ba[0]=T[0]-Q[0];ba[1]=T[1]-Q[1];ba[2]=T[2]-Q[2];fa[0]=ba[0];fa[1]=ba[1]*Math.cos(V)-ba[2]*Math.sin(V);fa[2]=ba[1]*Math.sin(V)+ba[2]*Math.cos(V);aa[0]=fa[0]+Q[0];aa[1]=fa[1]+Q[1];aa[2]=fa[2]+Q[2];return aa}function U(aa,T,Q,V){const ba=[],fa=[];ba[0]=T[0]-
Q[0];ba[1]=T[1]-Q[1];ba[2]=T[2]-Q[2];fa[0]=ba[2]*Math.sin(V)+ba[0]*Math.cos(V);fa[1]=ba[1];fa[2]=ba[2]*Math.cos(V)-ba[0]*Math.sin(V);aa[0]=fa[0]+Q[0];aa[1]=fa[1]+Q[1];aa[2]=fa[2]+Q[2];return aa}function ca(aa,T,Q,V){const ba=[],fa=[];ba[0]=T[0]-Q[0];ba[1]=T[1]-Q[1];ba[2]=T[2]-Q[2];fa[0]=ba[0]*Math.cos(V)-ba[1]*Math.sin(V);fa[1]=ba[0]*Math.sin(V)+ba[1]*Math.cos(V);fa[2]=ba[2];aa[0]=fa[0]+Q[0];aa[1]=fa[1]+Q[1];aa[2]=fa[2]+Q[2];return aa}function ha(aa,T){A(wa,aa);A(va,T);aa=C(wa,va);return 1<aa?0:-1>
aa?Math.PI:Math.acos(aa)}function ia(aa){return"vec3("+aa[0]+", "+aa[1]+", "+aa[2]+")"}function ea(aa,T){return aa[0]===T[0]&&aa[1]===T[1]&&aa[2]===T[2]}function la(aa,T){if(aa===T)return!0;const Q=aa[0],V=aa[1];aa=aa[2];const ba=T[0],fa=T[1];T=T[2];const pa=B.getEpsilon();return Math.abs(Q-ba)<=pa*Math.max(1,Math.abs(Q),Math.abs(ba))&&Math.abs(V-fa)<=pa*Math.max(1,Math.abs(V),Math.abs(fa))&&Math.abs(aa-T)<=pa*Math.max(1,Math.abs(aa),Math.abs(T))}function ra(aa,T,Q){const V=Q[0]-T[0],ba=Q[1]-T[1];
T=Q[2]-T[2];Q=V*V+ba*ba+T*T;if(0<Q)return Q=1/Math.sqrt(Q),aa[0]=V*Q,aa[1]=ba*Q,aa[2]=T*Q,aa;aa[0]=0;aa[1]=0;aa[2]=0;return aa}const wa=b.create(),va=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,abs:q,add:h,angle:ha,bezier:P,ceil:l,copy:v,cross:G,direction:ra,dist:y,distance:y,div:d,divide:d,dot:C,equals:la,exactEquals:ea,floor:r,hermite:I,inverse:D,len:w,length:w,lerp:J,max:n,min:e,mul:c,multiply:c,negate:F,normalize:A,random:S,rotateX:O,rotateY:U,rotateZ:ca,round:x,scale:f,scaleAndAdd:p,
set:u,sign:k,sqrDist:z,sqrLen:E,squaredDistance:z,squaredLength:E,str:ia,sub:g,subtract:g,transformMat3:M,transformMat4:Y,transformQuat:L},Symbol.toStringTag,{value:"Module"}));a.abs=q;a.add=h;a.angle=ha;a.bezier=P;a.ceil=l;a.copy=v;a.cross=G;a.direction=ra;a.dist=y;a.distance=y;a.div=d;a.divide=d;a.dot=C;a.equals=la;a.exactEquals=ea;a.floor=r;a.hermite=I;a.inverse=D;a.len=w;a.length=w;a.lerp=J;a.max=n;a.min=e;a.mul=c;a.multiply=c;a.negate=F;a.normalize=A;a.random=S;a.rotateX=O;a.rotateY=U;a.rotateZ=
ca;a.round=x;a.scale=f;a.scaleAndAdd=p;a.set=u;a.sign=k;a.sqrDist=z;a.sqrLen=E;a.squaredDistance=z;a.squaredLength=E;a.str=ia;a.sub=g;a.subtract=g;a.transformMat3=M;a.transformMat4=Y;a.transformQuat=L;a.vec3=b})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["exports"],function(a){function b(){return[0,0,0]}function B(f){return[f[0],f[1],f[2]]}function w(f,p,y){return[f,p,y]}function v(f,p=b()){const y=Math.min(3,f.length);for(let z=0;z<y;++z)p[z]=f[z];return p}function u(f,p){return new Float64Array(f,
p,3)}function h(){return b()}function g(){return[1,1,1]}function c(){return[1,0,0]}function d(){return[0,1,0]}function l(){return[0,0,1]}const r=b(),q=g(),k=c(),e=d(),n=l(),x=Object.freeze(Object.defineProperty({__proto__:null,ONES:q,UNIT_X:k,UNIT_Y:e,UNIT_Z:n,ZEROS:r,clone:B,create:b,createView:u,fromArray:v,fromValues:w,ones:g,unitX:c,unitY:d,unitZ:l,zeros:h},Symbol.toStringTag,{value:"Module"}));a.ONES=q;a.UNIT_X=k;a.UNIT_Y=e;a.UNIT_Z=n;a.ZEROS=r;a.clone=B;a.create=b;a.createView=u;a.fromArray=
v;a.fromValues=w;a.ones=g;a.unitX=c;a.unitY=d;a.unitZ=l;a.vec3f64=x;a.zeros=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["exports"],function(a){function b(){return h}function B(r){h=r}function w(r){return r*c}function v(r){return r*d}function u(r,q){return Math.abs(r-q)<=h*Math.max(1,Math.abs(r),Math.abs(q))}let h=1E-6;const g=Math.random,c=Math.PI/180,d=180/Math.PI,l=Object.freeze(Object.defineProperty({__proto__:null,
RANDOM:g,equals:u,getEpsilon:b,setEpsilon:B,toDegree:v,toRadian:w},Symbol.toStringTag,{value:"Module"}));a.RANDOM=g;a.common=l;a.equals=u;a.getEpsilon=b;a.setEpsilon=B;a.toDegree=v;a.toRadian=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polyline":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,b,B,w,v,u,h,g,c,d,l,r,q){var k;w=k=class extends c{constructor(...e){super(...e);this.paths=[];this.type="polyline"}normalizeCtorArgs(e,n){let x=null,f,p,y=null;e&&!Array.isArray(e)?(x=e.paths??null,n||(e.spatialReference?n=e.spatialReference:e.paths||(n=e)),f=e.hasZ,p=e.hasM):x=e;x=x||[];n=n||l.WGS84;x.length&&null!=x[0]?.[0]&&"number"===typeof x[0][0]&&(x=[x]);if(y=x[0]?.[0])void 0===f&&void 0===p?(f=2<y.length,p=!1):void 0===f?f=!p&&3<y.length:void 0===p&&(p=!f&&3<y.length);return{paths:x,
spatialReference:n,hasZ:f,hasM:p}}get cache(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const {spatialReference:e}=this;var n=r.getPolylineExtent(this);if(!n)return null;n=new g(n);n.spatialReference=e;return n}writePaths(e,n){n.paths=b.clone(this.paths)}addPath(e){if(e){var n=this.paths,x=n.length;if(Array.isArray(e[0]))n[x]=e.concat();else{const f=[];for(let p=0,y=e.length;p<y;p++)f[p]=e[p].toArray();
n[x]=f}this.notifyChange("paths");return this}}clone(){const e=new k;e.spatialReference=this.spatialReference;e.paths=b.clone(this.paths);e.hasZ=this.hasZ;e.hasM=this.hasM;return e}getPoint(e,n){if(!this._validateInputs(e,n))return null;e=this.paths[e][n];n=this.hasZ;const x=this.hasM;return n&&!x?new d(e[0],e[1],e[2],void 0,this.spatialReference):x&&!n?new d(e[0],e[1],void 0,e[2],this.spatialReference):n&&x?new d(e[0],e[1],e[2],e[3],this.spatialReference):new d(e[0],e[1],this.spatialReference)}insertPoint(e,
n,x){if(!this._validateInputs(e,n,!0))return this;q.updateSupportFromPoint(this,x);Array.isArray(x)||(x=x.toArray());this.paths[e].splice(n,0,x);this.notifyChange("paths");return this}removePath(e){if(!this._validateInputs(e,null))return null;e=this.paths.splice(e,1)[0];const n=this.spatialReference;e=e.map(x=>new d(x,n));this.notifyChange("paths");return e}removePoint(e,n){if(!this._validateInputs(e,n))return null;e=new d(this.paths[e].splice(n,1)[0],this.spatialReference);this.notifyChange("paths");
return e}setPoint(e,n,x){if(!this._validateInputs(e,n))return this;q.updateSupportFromPoint(this,x);Array.isArray(x)||(x=x.toArray());this.paths[e][n]=x;this.notifyChange("paths");return this}_validateInputs(e,n,x=!1){return null==e||0>e||e>=this.paths.length||null!=n&&(e=this.paths[e],x&&(0>n||n>e.length)||!x&&(0>n||n>=e.length))?!1:!0}toJSON(e){return this.write({},e)}};a.__decorate([B.property({readOnly:!0})],w.prototype,"cache",null);a.__decorate([B.property({readOnly:!0})],w.prototype,"extent",
null);a.__decorate([B.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],w.prototype,"paths",void 0);a.__decorate([h.writer("paths")],w.prototype,"writePaths",null);w=k=a.__decorate([u.subclass("esri.geometry.Polyline")],w);w.prototype.toJSON.isDefaultToJSON=!0;return w})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const B=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});
b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=B;a.typeKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,B,w,v,u,h){function g(k){return void 0!==
k.xmin&&void 0!==k.ymin&&void 0!==k.xmax&&void 0!==k.ymax}function c(k){return void 0!==k.points}function d(k){return void 0!==k.x&&void 0!==k.y}function l(k){return void 0!==k.paths}function r(k){return void 0!==k.rings}const q={esriGeometryPoint:v,esriGeometryPolyline:h,esriGeometryPolygon:u,esriGeometryEnvelope:b,esriGeometryMultipoint:w};a.fromJSON=function(k){return null==k?null:k instanceof B?k:d(k)?v.fromJSON(k):l(k)?h.fromJSON(k):r(k)?u.fromJSON(k):c(k)?w.fromJSON(k):g(k)?b.fromJSON(k):null};
a.getGeometryType=function(k){return k&&q[k]||null};a.getJsonType=function(k){return k?d(k)?"esriGeometryPoint":l(k)?"esriGeometryPolyline":r(k)?"esriGeometryPolygon":g(k)?"esriGeometryEnvelope":c(k)?"esriGeometryMultipoint":null:null};a.isExtent=g;a.isMultipoint=c;a.isPoint=d;a.isPolygon=r;a.isPolyline=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../core/Error ../core/promiseUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../core/libs/gl-matrix-2/factories/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./SpatialReference ./projection/projectBuffer ./projection/projectors ./projection/projectXYZToVector ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/zscale".split(" "),
function(a,b,B,w,v,u,h,g,c,d,l,r,q,k,e,n,x,f,p,y,z){function E(){return!!ia&&l.isLoaded()}function F(){if(E())return!0;v.trackAccess(wa);D();return!1}function D(T){null==la&&(la=Promise.all([l.load(),(new Promise((Q,V)=>a(["../chunks/geometryEngineBase"],Q,V))).then(Q=>Q.geometryEngineBase),new Promise((Q,V)=>a(["./geometryAdapters/hydrated"],Q,V))]));return la.then(([,Q,{hydratedAdapter:V}])=>{w.throwIfAborted(T);ea=V;ia=Q.default;ia._enableProjection(l.pe);wa.notify()})}function A(T,Q,V=null,ba=
null){return Array.isArray(T)?0===T.length?[]:C(ea,T,T[0].spatialReference,Q,V,ba):C(ea,[T],T.spatialReference,Q,V,ba)[0]}function C(T,Q,V,ba,fa=null,pa=null){if(null==V||null==ba)return Q;if(P(V,ba,fa))return Q.map(ta=>Y(ta,V,ba));if(null==fa&&g.isSphericalECEF(V))return Q.map(ta=>Y(ta,V,e.WGS84)).map(ta=>I(ta,ba));if(null==fa&&g.isSphericalECEF(ba))return Q.map(ta=>I(ta,e.WGS84)).map(ta=>Y(ta,e.WGS84,ba));if(null==fa){const ta=p.cacheKey(V,ba);void 0!==ra[ta]?fa=ra[ta]:(fa=J(V,ba,void 0),null==
fa&&(fa=new p),ra[ta]=fa)}if(null==ia||null==T)throw new va;return null!=pa?ia._project(T,Q,V,ba,fa,pa):ia._project(T,Q,V,ba,fa)}function G(T,Q){if(!E())for(const V of T)if(null!=V&&!y.equals(V.spatialReference,Q)&&y.isValid(V.spatialReference)&&y.isValid(Q)&&!P(V.spatialReference,Q))return v.trackAccess(wa),{pending:D(),geometries:null};return{pending:null,geometries:T.map(V=>null==V?null:y.equals(V.spatialReference,Q)?V:y.isValid(V.spatialReference)&&y.isValid(Q)?I(V,Q):null)}}function J(T,Q,V=
null){if(null==T||null==Q)return null;if(null==ia||null==ea)throw new va;T=ia._getTransformation(ea,T,Q,V,V?.spatialReference);return null!==T?p.fromGE(T):null}function I(T,Q){try{const V=A(T,Q);if(null==V)return null;"xmin"in T&&"xmin"in V&&(V.zmin=T.zmin,V.zmax=T.zmax);const ba=z.getGeometryZScaler(V.type,T.spatialReference,Q);null!=ba&&ba(V);return V}catch(V){if(!(V instanceof va))throw V;return null}}function P(T,Q,V){return V?!1:y.equals(T,Q)?!0:y.isValid(T)&&y.isValid(Q)&&!!x.getProjector(T,
Q,x.projectorCache)}async function S(T,Q,V,ba){if(E())return w.waitTick(ba);if(Array.isArray(T))for(const {source:fa,dest:pa,geographicTransformation:ta}of T){if(fa&&pa&&!P(fa,pa,ta))return D(ba)}else if(T&&Q&&!P(T,Q,V))return D(ba);return w.waitTick(ba)}function Y(T,Q,V){return T?"x"in T?M(T,Q,new r,V,0):"xmin"in T?ca(T,Q,new c,V,0):"rings"in T?U(T,Q,new q,V,0):"paths"in T?O(T,Q,new k,V,0):"points"in T?L(T,Q,new d,V,0):null:null}function M(T,Q,V,ba,fa){aa[0]=T.x;aa[1]=T.y;const pa=T.z;aa[2]=void 0!==
pa?pa:fa;if(!n.projectBuffer(aa,Q,0,aa,ba,0,1))return null;V.x=aa[0];V.y=aa[1];V.spatialReference=ba;void 0!==pa||g.isSphericalPCPF(ba)?(V.z=aa[2],V.hasZ=!0):(V.z=void 0,V.hasZ=!1);void 0===T.m?(V.m=void 0,V.hasM=!1):(V.m=T.m,V.hasM=!0);return V}function L(T,Q,V,ba,fa){const {points:pa,hasZ:ta,hasM:sa}=T;T=[];const xa=pa.length,Ba=[];for(var Ea of pa)Ba.push(Ea[0],Ea[1],ta?Ea[2]:fa);if(!n.projectBuffer(Ba,Q,0,Ba,ba,0,xa))return null;Q=ta||g.isSphericalPCPF(ba);for(fa=0;fa<xa;++fa){Ea=3*fa;const Da=
Ba[Ea],t=Ba[Ea+1];Q&&sa?T.push([Da,t,Ba[Ea+2],pa[fa][3]]):Q?T.push([Da,t,Ba[Ea+2]]):sa?T.push([Da,t,pa[fa][2]]):T.push([Da,t])}V.points=T;V.spatialReference=ba;V.hasZ=ta;V.hasM=sa;return V}function O(T,Q,V,ba,fa){const {paths:pa,hasZ:ta,hasM:sa}=T;T=[];if(!ha(pa,ta??!1,sa??!1,Q,T,ba,fa))return null;Q=ta||g.isSphericalPCPF(ba);V.paths=T;V.spatialReference=ba;V.hasZ=Q;V.hasM=sa;return V}function U(T,Q,V,ba,fa){const {rings:pa,hasZ:ta,hasM:sa}=T;T=[];if(!ha(pa,ta??!1,sa??!1,Q,T,ba,fa))return null;Q=
ta||g.isSphericalPCPF(ba);V.rings=T;V.spatialReference=ba;V.hasZ=Q;V.hasM=sa;return V}function ca(T,Q,V,ba,fa){const {xmin:pa,ymin:ta,xmax:sa,ymax:xa,hasZ:Ba,hasM:Ea}=T;if(!f.projectXYZToVector(pa,ta,Ba?T.zmin:fa,Q,aa,ba))return null;const Da=Ba||g.isSphericalPCPF(ba);V.xmin=aa[0];V.ymin=aa[1];Da&&(V.zmin=aa[2]);if(!f.projectXYZToVector(sa,xa,Ba?T.zmax:fa,Q,aa,ba))return null;V.xmax=aa[0];V.ymax=aa[1];Da&&(V.zmax=aa[2]);Ea&&(V.mmin=T.mmin,V.mmax=T.mmax);V.spatialReference=ba;return V}function ha(T,
Q,V,ba,fa,pa,ta=0){const sa=[];for(const xa of T)for(const Ba of xa)sa.push(Ba[0],Ba[1],Q?Ba[2]:ta);if(!n.projectBuffer(sa,ba,0,sa,pa,0,sa.length/3))return!1;ba=0;fa.length=0;Q=Q||g.isSphericalPCPF(pa);for(const xa of T){T=[];for(const Ba of xa)Q&&V?T.push([sa[ba++],sa[ba++],sa[ba++],Ba[3]]):Q?T.push([sa[ba++],sa[ba++],sa[ba++]]):(V?T.push([sa[ba++],sa[ba++],Ba[2]]):T.push([sa[ba++],sa[ba++]]),ba++);fa.push(T)}return!0}let ia=null,ea=null,la=null,ra={};const wa=new u.SimpleObservable;class va extends B{constructor(){super("projection:not-loaded",
"projection engine not fully loaded yet, please call load()")}}const aa=h.create();b.canProjectWithoutEngine=P;b.getTransformation=J;b.getTransformations=function(T,Q,V=null){if(null==ia||null==ea)throw new va;T=ia._getTransformationBySuitability(ea,T,Q,V,V?.spatialReference);if(null!==T){Q=[];for(const ba of T)Q.push(p.fromGE(ba));return Q}return[]};b.initializeProjection=S;b.isEqualBaseGCS=function(T,Q){if(y.equals(T,Q))return!0;if(!y.isValid(T)||!y.isValid(Q))return!1;T=y.isWGS84(T)||y.isWebMercator(T)||
y.isCGCS2000(T);Q=y.isWGS84(Q)||y.isWebMercator(Q)||y.isCGCS2000(Q);return T&&Q};b.isLoaded=E;b.isLoadedOrLoad=F;b.isLoadedOrLoadFor=function(T,Q){return T&&Q?P(T,Q)||F():!0};b.load=D;b.project=A;b.projectExtent=function(T,Q,V=Q.spatialReference,ba=0){return null!=T.spatialReference&&null!=V&&null!=ca(T,T.spatialReference,Q,V,ba)};b.projectMany=C;b.projectMultipoint=function(T,Q,V=Q.spatialReference,ba=0){return null!=T.spatialReference&&null!=V&&null!=L(T,T.spatialReference,Q,V,ba)};b.projectOrLoad=
function(T,Q){T=G([T],Q);return null!=T.pending?{pending:T.pending,geometry:null}:null!=T.geometries?{pending:null,geometry:T.geometries[0]}:{pending:null,geometry:null}};b.projectOrLoadMany=G;b.projectPoint=function(T,Q,V=Q.spatialReference,ba=0){return null!=V&&null!=T.spatialReference&&null!=M(T,T.spatialReference,Q,V,ba)};b.projectPolygon=function(T,Q,V=Q.spatialReference,ba=0){return null!=T.spatialReference&&null!=V&&null!=U(T,T.spatialReference,Q,V,ba)};b.projectPolyline=function(T,Q,V=Q.spatialReference,
ba=0){return null!=T.spatialReference&&null!=V&&null!=O(T,T.spatialReference,Q,V,ba)};b.projectWithZConversion=async function(T,Q,V){const ba=T.spatialReference;null!=ba&&null!=Q&&await S(ba,Q,null,V);return I(T,Q)};b.projectWithoutEngine=Y;b.requiresLoad=function(T,Q){return!P(T,Q)&&!E()};b.test={get loadPromise(){return la}};b.tryProjectWithZConversion=I;b.unload=function(){la=ea=ia=null;ra={}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectBuffer":function(){define(["exports",
"./projectors"],function(a,b){a.projectBuffer=function(B,w,v,u,h,g,c=1){w=b.getProjector(w,h,b.projectorCache);if(null==w)return!1;if(w===b.copy3){if(B===u&&v===g)return!0;c=v+3*c;for(let d=v,l=g;d<c;d++,l++)u[l]=B[d];return!0}c=v+3*c;for(let d=v,l=g;d<c;d+=3,l+=3)w(B,d,u,l);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectors":function(){define("exports ../../core/mathUtils ../../core/unitUtils ../ellipsoidUtils ../support/Ellipsoid ../support/geodesicConstants ../support/spatialReferenceUtils ../support/SupportedGCSWkids".split(" "),
function(a,b,B,w,v,u,h,g){function c(Q,V,ba=O()){return null==Q||null==V?null:L(Q,V,ba).projector}function d(Q,V){if(!Q)return a.ProjectionID.UNKNOWN;if(V.spatialReference===Q)return V.spatialReferenceId;V.spatialReference=Q;"metersPerUnit"in V&&(V.metersPerUnit=B.getMetersPerUnitForSR(Q,1));return w.isSphericalECEF(Q)?V.spatialReferenceId=a.ProjectionID.SPHERICAL_ECEF:h.isWGS84(Q)?V.spatialReferenceId=a.ProjectionID.WGS84:h.isWebMercator(Q)?V.spatialReferenceId=a.ProjectionID.WEB_MERCATOR:h.isPlateCarree(Q)?
V.spatialReferenceId=a.ProjectionID.PLATE_CARREE:Q.wkt===w.WGS84ECEFSpatialReferenceLike.wkt?V.spatialReferenceId=a.ProjectionID.WGS84_ECEF:Q.wkid===g.SupportedGCSWkids.CGCS2000?V.spatialReferenceId=a.ProjectionID.CGCS2000:Q.wkt===w.SphericalPCPFMarsLike.wkt?V.spatialReferenceId=a.ProjectionID.SPHERICAL_MARS_PCPF:Q.wkt===w.SphericalPCPFMoonLike.wkt?V.spatialReferenceId=a.ProjectionID.SPHERICAL_MOON_PCPF:h.isMars(Q)?V.spatialReferenceId=a.ProjectionID.GCSMARS2000:h.isMoon(Q)?V.spatialReferenceId=a.ProjectionID.GCSMOON2000:
V.spatialReferenceId=a.ProjectionID.UNKNOWN}function l(Q,V,ba,fa){Q!==ba&&(ba[fa++]=Q[V++],ba[fa++]=Q[V++],ba[fa]=Q[V])}function r(Q,V,ba,fa){ba[fa]=Q[V]/va*la;ba[fa+1]=la*(wa-2*Math.atan(Math.exp(-Q[V+1]/va)));ba[fa+2]=Q[V+2]}function q(Q,V,ba,fa){const pa=Q[V]/va,ta=wa-2*Math.atan(Math.exp(-Q[V+1]/va));Q=va+Q[V+2];V=Math.cos(ta)*Q;ba[fa]=Math.cos(pa)*V;ba[fa+1]=Math.sin(pa)*V;ba[fa+2]=Math.sin(ta)*Q}function k(Q,V,ba,fa){r(Q,V,ba,fa);P(ba,fa,ba,fa)}function e(Q,V,ba,fa,pa){var ta=.4999999*ra;ta=
b.clamp(ea*Q[V+1],-ta,ta);ta=Math.sin(ta);ba[fa++]=ea*Q[V]*pa.radius;ba[fa++]=pa.halfSemiMajorAxis*Math.log((1+ta)/(1-ta));ba[fa]=Q[V+2]}function n(Q,V,ba,fa){e(Q,V,ba,fa,v.earth)}function x(Q,V,ba,fa){ba[fa]=Q[V]*aa;ba[fa+1]=Q[V+1]*aa;ba[fa+2]=Q[V+2]}function f(Q,V,ba,fa){ba[fa]=Q[V]*T;ba[fa+1]=Q[V+1]*T;ba[fa+2]=Q[V+2]}function p(Q,V,ba,fa){r(Q,V,ba,fa);x(ba,fa,ba,fa)}function y(Q,V,ba,fa,pa){pa+=Q[V+2];const ta=ea*Q[V+1];Q=ea*Q[V];V=Math.cos(ta)*pa;ba[fa]=Math.cos(Q)*V;ba[fa+1]=Math.sin(Q)*V;ba[fa+
2]=Math.sin(ta)*pa}function z(Q,V,ba,fa){y(Q,V,ba,fa,v.moon.radius)}function E(Q,V,ba,fa){y(Q,V,ba,fa,v.mars.radius)}function F(Q,V,ba,fa){y(Q,V,ba,fa,v.earth.radius)}function D(Q,V,ba,fa,pa){var ta=Q[V];const sa=Q[V+1];V=Q[V+2];Q=Math.sqrt(ta*ta+sa*sa+V*V);V=b.asinClamped(V/(0===Q?1:Q));ta=Math.atan2(sa,ta);ba[fa++]=la*ta;ba[fa++]=la*V;ba[fa]=Q-pa}function A(Q,V,ba,fa){D(Q,V,ba,fa,v.moon.radius)}function C(Q,V,ba,fa){D(Q,V,ba,fa,v.mars.radius)}function G(Q,V,ba,fa){D(Q,V,ba,fa,v.earth.radius)}function J(Q,
V,ba,fa){G(Q,V,ba,fa);n(ba,fa,ba,fa)}function I(Q,V,ba,fa){G(Q,V,ba,fa);P(ba,fa,ba,fa)}function P(Q,V,ba,fa){var pa=v.earth;const ta=ea*Q[V];var sa=ea*Q[V+1];Q=Q[V+2];V=Math.sin(sa);sa=Math.cos(sa);const xa=pa.radius/Math.sqrt(1-pa.eccentricitySquared*V*V);ba[fa++]=(xa+Q)*sa*Math.cos(ta);ba[fa++]=(xa+Q)*sa*Math.sin(ta);ba[fa++]=(xa*(1-pa.eccentricitySquared)+Q)*V}function S(Q,V,ba,fa){var pa=u.earthEllipsoidConstants,ta=Q[V],sa=Q[V+1];Q=Q[V+2];let xa;V=Math.abs(Q);var Ba=ta*ta+sa*sa;var Ea=Math.sqrt(Ba);
var Da=Ba+Q*Q;var t=Math.sqrt(Da);ta=Math.atan2(sa,ta);var K=Q*Q/Da;Da=Ba/Da;sa=pa.a2/t;Ba=pa.a3-pa.a4/t;.3<Da?(K=V/t*(1+Da*(pa.a1+sa+K*Ba)/t),t=Math.asin(K),sa=K*K,Da=Math.sqrt(1-sa)):(Da=Ea/t*(1-K*(pa.a5-sa-Da*Ba)/t),t=Math.acos(Da),sa=1-Da*Da,K=Math.sqrt(sa));xa=1-v.earth.eccentricitySquared*sa;sa=v.earth.radius/Math.sqrt(xa);pa=pa.a6*sa;sa=Ea-sa*Da;Ba=V-pa*K;V=Da*sa+K*Ba;Ea=Da*Ba-K*sa;pa=Ea/(pa/xa+V);t+=pa;0>Q&&(t=-t);ba[fa++]=la*ta;ba[fa++]=la*t;ba[fa]=V+Ea*pa/2}function Y(Q,V,ba,fa){S(Q,V,ba,
fa);F(ba,fa,ba,fa)}function M(Q,V,ba,fa){S(Q,V,ba,fa);n(ba,fa,ba,fa)}function L(Q,V,ba){if(null==Q||null==V||ba.source.spatialReference===Q&&ba.dest.spatialReference===V)return ba;const fa=d(Q,ba.source),pa=d(V,ba.dest);fa===a.ProjectionID.UNKNOWN&&pa===a.ProjectionID.UNKNOWN?h.equals(Q,V)?ba.projector=l:ba.projector=null:ba.projector=U[fa][pa];return ba}function O(){return{source:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,
metersPerUnit:1},projector:l}}a.ProjectionID=void 0;(function(Q){Q[Q.UNKNOWN=0]="UNKNOWN";Q[Q.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";Q[Q.WGS84=2]="WGS84";Q[Q.WEB_MERCATOR=3]="WEB_MERCATOR";Q[Q.WGS84_ECEF=4]="WGS84_ECEF";Q[Q.CGCS2000=5]="CGCS2000";Q[Q.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF";Q[Q.GCSMARS2000=7]="GCSMARS2000";Q[Q.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF";Q[Q.GCSMOON2000=9]="GCSMOON2000";Q[Q.LON_LAT=10]="LON_LAT";Q[Q.PLATE_CARREE=11]="PLATE_CARREE"})(a.ProjectionID||(a.ProjectionID=
{}));const U={[a.ProjectionID.WGS84]:{[a.ProjectionID.CGCS2000]:l,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:l,[a.ProjectionID.SPHERICAL_ECEF]:F,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:n,[a.ProjectionID.PLATE_CARREE]:x,[a.ProjectionID.WGS84]:l,[a.ProjectionID.WGS84_ECEF]:P},[a.ProjectionID.CGCS2000]:{[a.ProjectionID.CGCS2000]:l,[a.ProjectionID.GCSMARS2000]:null,
[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:l,[a.ProjectionID.SPHERICAL_ECEF]:F,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:n,[a.ProjectionID.PLATE_CARREE]:x,[a.ProjectionID.WGS84]:l,[a.ProjectionID.WGS84_ECEF]:P},[a.ProjectionID.GCSMARS2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:l,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:l,[a.ProjectionID.SPHERICAL_ECEF]:null,
[a.ProjectionID.SPHERICAL_MARS_PCPF]:E,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.GCSMOON2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:l,[a.ProjectionID.LON_LAT]:l,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:z,
[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.WEB_MERCATOR]:{[a.ProjectionID.CGCS2000]:r,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:r,[a.ProjectionID.SPHERICAL_ECEF]:q,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:l,[a.ProjectionID.PLATE_CARREE]:p,
[a.ProjectionID.WGS84]:r,[a.ProjectionID.WGS84_ECEF]:k},[a.ProjectionID.WGS84_ECEF]:{[a.ProjectionID.CGCS2000]:S,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:S,[a.ProjectionID.SPHERICAL_ECEF]:Y,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:M,[a.ProjectionID.PLATE_CARREE]:function(Q,V,ba,fa){S(Q,V,ba,fa);x(ba,fa,ba,fa)},[a.ProjectionID.WGS84]:S,[a.ProjectionID.WGS84_ECEF]:l},
[a.ProjectionID.SPHERICAL_ECEF]:{[a.ProjectionID.CGCS2000]:G,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:G,[a.ProjectionID.SPHERICAL_ECEF]:l,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:J,[a.ProjectionID.PLATE_CARREE]:function(Q,V,ba,fa){G(Q,V,ba,fa);x(ba,fa,ba,fa)},[a.ProjectionID.WGS84]:G,[a.ProjectionID.WGS84_ECEF]:I},[a.ProjectionID.SPHERICAL_MARS_PCPF]:{[a.ProjectionID.CGCS2000]:null,
[a.ProjectionID.GCSMARS2000]:C,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:C,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:l,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.SPHERICAL_MOON_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:A,
[a.ProjectionID.LON_LAT]:A,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:l,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.UNKNOWN]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,
[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:l,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.LON_LAT]:{[a.ProjectionID.CGCS2000]:l,[a.ProjectionID.GCSMARS2000]:l,[a.ProjectionID.GCSMOON2000]:l,[a.ProjectionID.LON_LAT]:l,[a.ProjectionID.SPHERICAL_ECEF]:F,[a.ProjectionID.SPHERICAL_MARS_PCPF]:E,[a.ProjectionID.SPHERICAL_MOON_PCPF]:z,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:n,
[a.ProjectionID.PLATE_CARREE]:x,[a.ProjectionID.WGS84]:l,[a.ProjectionID.WGS84_ECEF]:P},[a.ProjectionID.PLATE_CARREE]:{[a.ProjectionID.CGCS2000]:f,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:f,[a.ProjectionID.SPHERICAL_ECEF]:function(Q,V,ba,fa){f(Q,V,ba,fa);F(ba,fa,ba,fa)},[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:function(Q,V,ba,fa){f(Q,V,ba,fa);n(ba,
fa,ba,fa)},[a.ProjectionID.PLATE_CARREE]:l,[a.ProjectionID.WGS84]:f,[a.ProjectionID.WGS84_ECEF]:function(Q,V,ba,fa){f(Q,V,ba,fa);P(ba,fa,ba,fa)}}},ca={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},ha={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},ia=O(),ea=b.deg2rad(1),la=b.rad2deg(1),ra=Math.PI,wa=.5*ra,va=v.earth.radius,aa=va*ra/180,T=180/(va*ra);a.classifySpatialReference=d;a.copy3=l;a.createEmptyProjectorCache=O;a.destClassificationCache=ha;a.getProjector=
c;a.getProjectorName=function(Q,V){switch(c(Q,V,ia)){case l:return"copy3";case F:return"wgs84ToSphericalECEF";case n:return"wgs84ToWebMercator";case x:return"wgs84ToPlateCarree";case P:return"wgs84ToWGS84ECEF";case r:return"webMercatorToWGS84";case q:return"webMercatorToSphericalECEF";case k:return"webMercatorToWGS84ECEF";case p:return"webMercatorToPlateCarree";case S:return"wgs84ECEFToWGS84";case Y:return"wgs84ECEFToSphericalECEF";case M:return"wgs84ECEFToWebMercator";case G:return"sphericalECEFToWGS84";
case J:return"sphericalECEFToWebMercator";case C:return"sphericalMarsPCPFToMars2000";case A:return"sphericalMoonPCPFToMoon2000";case I:return"sphericalECEFToWGS84ECEF";case E:return"mars2000ToSphericalPCPF";case z:return"moon2000ToSphericalPCPF";default:return null}};a.invPlateCarreeScale=T;a.lonLatToWebMercatorComparable=e;a.populateProjectorCache=L;a.projectionTable=U;a.projectorCache=ia;a.sourceClassificationCache=ca;a.sphericalPCPFtoLonLatElevation=D;a.wgs84ToWebMercator=n;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(a,b){const B=Math.PI/180,w=b.earth.radius,v=b.earth.eccentricitySquared;b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},
104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,
f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},
104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},
104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.earthEllipsoidConstants={a1:w*v,a2:w*v*w*v,a3:w*v*v/2,a4:w*v*w*v*2.5,a5:w*v+w*v*v/2,a6:1-v};a.spheroids=b;a.toRadians=B;a.wktSpheroidRegex=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectXYZToVector":function(){define(["exports","../../core/libs/gl-matrix-2/factories/vec3f64","./projectBuffer"],function(a,b,B){const w=b.create();a.projectXYZToVector=
function(v,u,h,g,c,d){w[0]=v;w[1]=u;w[2]=h;return B.projectBuffer(w,g,0,c,d,0,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(a){class b{static cacheKey(B,w){return[B.wkid?.toString()??"-1",B.wkt?.toString()??"",B.wkt2?.toString()??"",w.wkid?.toString()??"-1",w.wkt?.toString()??"",w.wkt2?.toString()??""].join()}static fromGE(B){const w=new b;let v="";for(const u of B.steps)B=
a.fromGE(u),w.steps.push(B),v+=B.uid.toString()+",";w._cachedProjection={};w._gtlistentry=null;w._chain=v;return w}constructor(B){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(B?.steps)for(const w of B.steps)w instanceof a?this.steps.push(w):this.steps.push(new a({wkid:w.wkid,wkt:w.wkt,isInverse:w.isInverse}))}getInverse(){const B=new b;B.steps=[];for(let w=this.steps.length-1;0<=w;w--)B.steps.push(this.steps[w].getInverse());return B}getGTListEntry(){let B="";for(const w of this.steps)B+=
w.uid.toString()+",";B!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=B);return this._gtlistentry}assignCachedGe(B,w,v){this._cachedProjection[b.cacheKey(B,w)]=v}getCachedGeTransformation(B,w){let v="";for(const u of this.steps)v+=u.uid.toString()+",";v!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=v);B=this._cachedProjection[b.cacheKey(B,w)];return void 0===B?null:B}}return b})},"esri/geometry/support/GeographicTransformationStep":function(){define(function(){let a=
0;class b{static fromGE(B){const w=new b;w._wkt=B.wkt;w._wkid=B.wkid;w._isInverse=B.isInverse;return w}constructor(B){this.uid=a++;B?(this._wkt=null!=B.wkt?B.wkt:null,this._wkid=null!=B.wkid?B.wkid:-1,this._isInverse=null!=B.isInverse?!0===B.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(B){this._wkt=B;this.uid=a++}get wkid(){return this._wkid}set wkid(B){this._wkid=B;this.uid=a++}get isInverse(){return this._isInverse}set isInverse(B){this._isInverse=
B;this.uid=a++}getInverse(){const B=new b;B._wkt=this.wkt;B._wkid=this._wkid;B._isInverse=!this.isInverse;return B}}return b})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","../ellipsoidUtils","./spatialReferenceUtils"],function(a,b,B,w){a.getGeometryZScaler=function(v,u,h){if(null==u||null==h||h.vcsWkid||w.equals(u,h)||B.isSphericalPCPF(u)||B.isSphericalPCPF(h))return null;u=b.getMetersPerVerticalUnitForSR(u);h=b.getMetersPerVerticalUnitForSR(h);const g=u/h;
if(1===g)return null;switch(v){case "point":case "esriGeometryPoint":return c=>{null!=c?.z&&(c.z*=g)};case "polyline":case "esriGeometryPolyline":return c=>{if(c)for(const d of c.paths)for(const l of d)2<l.length&&(l[2]*=g)};case "polygon":case "esriGeometryPolygon":return c=>{if(c)for(const d of c.rings)for(const l of d)2<l.length&&(l[2]*=g)};case "multipoint":case "esriGeometryMultipoint":return c=>{if(c)for(const d of c.points)2<d.length&&(d[2]*=g)};case "extent":case "esriGeometryEnvelope":return c=>
{c&&null!=c.zmin&&null!=c.zmax&&(c.zmin*=g,c.zmax*=g)};default:return null}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fieldUtils":function(){define("exports ../../core/Error ../../core/object ../../core/SetUtils ../../core/sql ./domainUtils ../../support/arcadeOnDemand".split(" "),function(a,b,B,w,v,u,h){function g(t,K,N){if(t)for(const Z of t)(t=(t=B.getDeepValue(Z,K))&&"function"!==typeof t&&N.get(t))&&B.setDeepValue(Z,t.name,K)}function c(t,K){if(!t||
!K)return[];la.clear();d(la,t,K);return Array.from(la).sort()}function d(t,K,N){if(N)if(K?.fields?.length)if(N.includes("*"))for(const {name:Z}of K.fields)t.add(Z);else for(const Z of N)l(t,K,Z);else if(N.includes("*"))t.clear(),t.add("*");else for(const Z of N)null!=Z&&t.add(Z)}function l(t,K,N){"string"===typeof N&&(K?(K=K.get(N))&&t.add(K.name):t.add(N))}async function r(t,K,N){if(N){var {arcadeUtils:Z}=await h.loadArcade();N=Z.extractFieldNames(N,K?.fields?.map(ka=>ka.name));for(const ka of N)l(t,
K,ka)}}async function q(t,K,N){if(N&&"1\x3d1"!==N){const Z=await v.parseWhereClause(N,K);if(!Z.isStandardized)throw new b("fieldUtils:collectFilterFields","Where clause is not standardized",{where:N});d(t,K,Z.fieldNames)}}function k(t,K){for(const N of t)if(N?.valueType&&N.valueType===K)return N.name;return null}async function e(t,K){if(K){var N=K.elevationInfo?.featureExpressionInfo;if(N)return N.collectRequiredFields(t,K.fieldsIndex)}}async function n(t,K,N){const Z=[];N?.expressionInfos&&Z.push(...N.expressionInfos.map(ka=>
r(t,K.fieldsIndex,ka.expression)));N=N?.content;if(Array.isArray(N))for(const ka of N)"expression"===ka.type&&ka.expressionInfo&&Z.push(r(t,K.fieldsIndex,ka.expressionInfo.expression));await Promise.all(Z)}async function x(t,K,N){K&&N&&(N.valueExpression?await r(t,K.fieldsIndex,N.valueExpression):N.field&&l(t,K.fieldsIndex,N.field))}function f(t){if(!t)return[];const K=t.geometryFieldsInfo;return K?c(t.fieldsIndex,[K.shapeAreaField,K.shapeLengthField]):[]}function p(t){const K=new Set;z(t).forEach(N=>
K.add(N));f(t).forEach(N=>K.add(N.toLowerCase()));if(t=t&&"infoFor3D"in t?t.infoFor3D:void 0)Object.values(t.assetMapFieldRoles).forEach(N=>K.add(N.toLowerCase())),Object.values(t.transformFieldRoles).forEach(N=>K.add(N.toLowerCase()));return Array.from(K)}function y(t){if(!t)return[];t="editFieldsInfo"in t&&t.editFieldsInfo;if(!t)return[];const {creationDateField:K,creatorField:N,editDateField:Z,editorField:ka}=t;return[K,N,Z,ka].filter(Boolean)}function z(t){return y(t).map(K=>K.toLowerCase())}
async function E(t,K){const {labelingInfo:N,fieldsIndex:Z}=K;N?.length&&await Promise.all(N.map(ka=>F(t,Z,ka)))}async function F(t,K,N){if(N){var Z=N.getLabelExpression();N=N.where;"arcade"===Z.type?await r(t,K,Z.expression):(Z=Z.expression.match(/{[^}]*}/g))&&Z.forEach(ka=>{l(t,K,ka.slice(1,-1))});await q(t,K,N)}}function D(t){return"number"===typeof t&&!isNaN(t)&&isFinite(t)}function A(t){return null===t||D(t)}function C(t){return null===t||Number.isInteger(t)}function G(t){return null!=t&&"string"===
typeof t}function J(t){return null===t||G(t)}function I(){return!0}function P(t,K){let N;switch(t.type){case "date":case "integer":case "long":case "small-integer":case "big-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":case "esriFieldTypeBigInteger":N=t.nullable?C:Number.isInteger;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":N=t.nullable?A:D;break;case "string":case "esriFieldTypeString":N=
t.nullable?J:G;break;default:N=I}return 1===arguments.length?N:N(K)}function S(t){return null!=t&&ta.has(t.type)}function Y(t){return null!=t&&("string"===t.type||"esriFieldTypeString"===t.type)}function M(t,K){return null==t||t.nullable&&null===K?null:S(t)&&!L(t.type,Number(K))?a.NumericRangeValidationError.OUT_OF_RANGE:P(t,K)?t.domain?u.validateDomainValue(t,K):null:a.TypeValidationError.INVALID_TYPE}function L(t,K){t="string"===typeof t?O(t):t;if(!t)return!1;const N=t.min,Z=t.max;return t.isInteger?
Number.isInteger(K)&&K>=N&&K<=Z:K>=N&&K<=Z}function O(t){switch(t){case "esriFieldTypeSmallInteger":case "small-integer":return sa;case "esriFieldTypeInteger":case "integer":return xa;case "esriFieldTypeBigInteger":case "big-integer":return Ba;case "esriFieldTypeSingle":case "single":return Ea;case "esriFieldTypeDouble":case "double":return Da}}function U(t,K,N){if(!K?.attributes||!t){if(null!=N)for(var Z of t??[])N.add(Z);return!0}K=new Set(Object.keys(K.attributes));Z=!1;for(const ka of t)if(!K.has(ka))if(Z=
!0,null!=N)N.add(ka);else break;return Z}const ca=/^([0-9_])/,ha=/[^a-z0-9_\u0080-\uffff]+/gi,ia="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),ea=["field","normalizationField"],la=new Set,ra=new Set(["oid","global-id","guid"]),wa=new Set(["oid","global-id"]),va=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,
/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i],aa=["integer","small-integer","big-integer"],T=["single","double"],Q=[...aa,...T],V=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],ba=["esriFieldTypeSingle","esriFieldTypeDouble"],fa=new Set([...aa,...V]),pa=new Set([...T,...ba]),ta=w.union(fa,pa);a.NumericRangeValidationError=void 0;(a.NumericRangeValidationError||(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";
a.TypeValidationError=void 0;(a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const sa={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},xa={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Ba={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Ea={min:-3.4E38,max:1.2E38,isInteger:!1,rawMin:-3.4E38,rawMax:1.2E38},Da=
{min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};a.bigIntegerRange=Ba;a.collectArcadeFieldNames=r;a.collectElevationFields=e;a.collectFeatureReductionFields=async function(t,K,N){if(K&&N&&"fields"in N){var Z=[];Z.push(n(t,K,N.popupTemplate));N.fields&&Z.push(...N.fields.map(async ka=>{ka.onStatisticExpression?r(t,K.fieldsIndex,ka.onStatisticExpression.expression):t.add(ka.onStatisticField)}));await Promise.all(Z)}};a.collectField=l;a.collectFields=
d;a.collectFilterFields=async function(t,K,N){K&&(K.timeInfo&&N?.timeExtent&&d(t,K.fieldsIndex,[K.timeInfo.startField,K.timeInfo.endField]),K.floorInfo&&d(t,K.fieldsIndex,[K.floorInfo.floorField]),null!=N?.where&&await q(t,K.fieldsIndex,N.where))};a.collectLabelingFields=E;a.collectOrderByInfos=async function(t,K,N){K&&N&&await Promise.all(N.map(Z=>x(t,K,Z)))};a.collectPopupTemplateFields=n;a.doubleRange=Da;a.extractSubstitutionTemplatesFromString=function(t){return(t=t?.match(/{[^}]+}/g))?t.map(K=>
K.slice(1,-1).split(":")[0].trim()):[]};a.featureHasFields=function(t,K){return!U(t,K,null)};a.fixFields=c;a.fixRendererFields=function(t,K){if(null!=t&&null!=K)for(const N of Array.isArray(t)?t:[t])if(g(ia,N,K),"visualVariables"in N&&N.visualVariables)for(const Z of N.visualVariables)g(ea,Z,K)};a.fixTimeInfoFields=function(t,K){if(null!=t&&K?.fields?.length)if("startField"in t){var N=K.get(t.startField);K=K.get(t.endField);t.startField=N?.name??null;t.endField=K?.name??null}else N=K.get(t.startTimeField),
K=K.get(t.endTimeField),t.startTimeField=N?.name??null,t.endTimeField=K?.name??null};a.floatJSONTypes=ba;a.floatTypes=T;a.getDisplayFieldName=function({displayField:t,fields:K}){if(t)return t;if(!K?.length)return null;if(!(t=k(K,"name-or-title")||k(K,"unique-identifier")||k(K,"type-or-category")))a:{for(const N of K)if(N?.name&&(K=N.name.toLowerCase(),K.includes("name")||K.includes("title"))){t=N.name;break a}t=null}return t};a.getEditTrackingFields=y;a.getElevationFields=async function(t){if(!t)return[];
const K=new Set;await e(K,t);return Array.from(K).sort()};a.getExpressionFields=async function(t,K){const N=new Set;for(const Z of K)await r(N,t.fieldsIndex,Z);return Array.from(N).sort()};a.getFeatureEditFields=function(t){return t?c(t.fieldsIndex,y(t)):[]};a.getFeatureGeometryFields=f;a.getFieldDefaultLength=function(t){t="string"===typeof t?{type:t}:t;if(Y(t))return 255;if("esriFieldTypeDate"===t.type||"date"===t.type)return 8};a.getFieldDefaultValue=function(t){const K=t.defaultValue;if(void 0!==
K&&P(t,K))return K;if(t.nullable)return null};a.getFieldRange=function(t,K){if(K=u.getDomainRange(t,K))return K;if(S(t))return O(t.type)};a.getLabelingFields=async function(t){if(!t)return[];const K=new Set;await E(K,t);return Array.from(K).sort()};a.getLowerCaseDefaultHiddenFields=p;a.getLowerCaseEditTrackingFields=z;a.getNumericTypeForValue=function(t){if(!D(t))return null;if(Number.isInteger(t)){if(t>=sa.min&&t<=sa.max)return"esriFieldTypeSmallInteger";if(t>=xa.min&&t<=xa.max)return"esriFieldTypeInteger";
if(t>=Ba.min&&t<=Ba.max)return"esriFieldTypeBigInteger"}return t>=Ea.min&&t<=Ea.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.getRendererFields=async function(t,K){const N=new Set;t?.collectRequiredFields&&await t.collectRequiredFields(N,K);return Array.from(N).sort()};a.getTimeFields=async function(t){if(!t)return[];const K="timeInfo"in t&&t.timeInfo;return K?c(t.fieldsIndex,[t.trackIdField,K.startField,K.endField]):[]};a.integerJSONTypes=V;a.integerRange=xa;a.integerTypes=aa;a.isDateField=
function(t){return null!=t&&("date"===t.type||"esriFieldTypeDate"===t.type)};a.isDateOnlyField=function(t){return null!=t&&("date-only"===t.type||"esriFieldTypeDateOnly"===t.type)};a.isFieldEditable=function(t,K){return t.editable&&!ra.has(t.type)&&!z(K).includes(t.name?.toLowerCase()??"")};a.isFieldVisibleByDefault=function(t,K){const N=t.name?.toLowerCase()??"";return!(null!=K?.objectIdField&&N===K.objectIdField.toLowerCase())&&!(null!=K?.globalIdField&&N===K.globalIdField.toLowerCase())&&!p(K).includes(N)&&
!wa.has(t.type)&&!va.some(Z=>Z.test(N))};a.isGlobalIDField=function(t){return null!=t&&("global-id"===t.type||"esriFieldTypeGlobalID"===t.type)};a.isIntegerField=function(t){return null!=t&&fa.has(t.type)};a.isNumberInRange=L;a.isNumericField=S;a.isObjectIDField=function(t){return null!=t&&("oid"===t.type||"esriFieldTypeOID"===t.type)};a.isRasterPixelValueField=function(t){return t?["raster.itempixelvalue","raster.servicepixelvalue"].some(K=>t.toLowerCase().startsWith(K)):!1};a.isStringField=Y;a.isTimeOnlyField=
function(t){return null!=t&&("time-only"===t.type||"esriFieldTypeTimeOnly"===t.type)};a.isTimestampOffsetField=function(t){return null!=t&&("timestamp-offset"===t.type||"esriFieldTypeTimestampOffset"===t.type)};a.isValidFieldValue=function(t,K){return null===M(t,K)};a.isValueMatchingFieldType=P;a.normalizeFieldName=function(t){return null==t?null:t.trim().replaceAll(ha,"_").replace(ca,"F$1")||null};a.numericTypes=Q;a.packFields=function(t,K,N=1){if(!K||!t)return[];if(K.includes("*"))return["*"];K=
c(t,K);return K.length/t.fields.length>=N?["*"]:K};a.populateMissingFields=U;a.rendererFields=ia;a.sanitizeNullFieldValue=function(t){return null==t||"number"===typeof t&&isNaN(t)?null:t};a.singleRange=Ea;a.smallIntegerRange=sa;a.unpackFieldNames=function(t,K){return null==K||null==t?[]:K.includes("*")?(t.fields??[]).map(N=>N.name):K};a.validateFieldValue=M;a.validationErrorToString=function(t,K,N){switch(t){case u.DomainValidationError.INVALID_CODED_VALUE:return`Value ${N} is not in the coded domain - field: ${K.name}, domain: ${JSON.stringify(K.domain)}`;
case u.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${N} is out of the range of valid values - field: ${K.name}, domain: ${JSON.stringify(K.domain)}`;case a.TypeValidationError.INVALID_TYPE:return`Value ${N} is not a valid value for the field type - field: ${K.name}, type: ${K.type}, nullable: ${K.nullable}`;case a.NumericRangeValidationError.OUT_OF_RANGE:const {min:Z,max:ka}=O(K.type);return`Value ${N} is out of range for the number type - field: ${K.name}, type: ${K.type}, value range is ${Z} to ${ka}`}};
a.visualVariableFields=ea;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql":function(){define(["require","exports"],function(a,b){b.parseWhereClause=async function(B,w){const {WhereClause:v}=await new Promise((u,h)=>a(["./sql/WhereClause"],u,h));return v.create(B,w)};b.sqlAnd=function(B,w){return"1\x3d1"===B?w??B:"1\x3d1"===w?B??w:null!=B&&""!==B?null!=w&&""!==w?`(${B}) AND (${w})`:B:w};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports",
"../../widgets/support/dateUtils"],function(a,b){function B(c){return null!=c&&("date-only"===c.type||"esriFieldTypeDateOnly"===c.type)}function w(c){return null!=c&&("timestamp-offset"===c.type||"esriFieldTypeTimestampOffset"===c.type)}function v(c){return null!=c&&("time-only"===c.type||"esriFieldTypeTimeOnly"===c.type)}function u(c,d){var l=d??c?.domain;if(l&&"range"===l.type){d="range"in l?l.range[0]:l.minValue;l="range"in l?l.range[1]:l.maxValue;var r=null!=c&&g.has(c.type);return B(c)||v(c)||
w(c)?{...h(c,l,d),isInteger:r}:{min:null!=d&&"number"===typeof d?d:null,max:null!=l&&"number"===typeof l?l:null,rawMin:d,rawMax:l,isInteger:r}}}function h(c,d,l){return B(c)?{min:b.dateOnlyToDateTime(l)?.toMillis(),max:b.dateOnlyToDateTime(d)?.toMillis(),rawMin:l,rawMax:d}:v(c)?{min:b.timeOnlyToDateTime(l)?.toMillis(),max:b.timeOnlyToDateTime(d)?.toMillis(),rawMin:l,rawMax:d}:w(c)?{min:b.timestampOffsetToDateTime(l)?.toMillis(),max:b.timestampOffsetToDateTime(d)?.toMillis(),rawMin:l,rawMax:d}:{max:null,
min:null}}a.DomainValidationError=void 0;(function(c){c.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";c.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));const g=new Set("integer small-integer big-integer esriFieldTypeInteger esriFieldTypeSmallInteger esriFieldTypeBigInteger".split(" "));a.dateTimeFieldValuesToNumericRange=h;a.getDomainRange=u;a.validateDomainValue=function(c,d,l){const r=l??c?.domain;if(!r)return null;
switch(r.type){case "range":const {min:q,max:k}=u(c,l);if(null!=q&&+d<q||null!=k&&+d>k)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":if(null==r.codedValues||r.codedValues.every(e=>null==e||e.code!==d))return a.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==r.codedValues||r.codedValues.every(e=>null==e||e.code!==d))return a.DomainValidationError.INVALID_CODED_VALUE}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/widgets/support/dateUtils":function(){define("exports ../../intl ../../core/has ../../core/Error ../../core/mathUtils ../../core/maybe ../../intl/date ../../time/timeZoneUtils ./dataUtils ../../chunks/datetime ../../intl/locale".split(" "),function(a,b,B,w,v,u,h,g,c,d,l){function r(A){return{locale:l.getLocale(),numberingSystem:"latn",zone:A??E}}function q(A,C){return null===A?null:d.DateTime.fromMillis(A,r(C))}function k(A,C){if(null==A||!c.isString(A)||""===A)return C?(A=d.DateTime.local({zone:C}),
{date:null,time:null,timeZoneOffset:A.isValid?A.offset.toString():null}):F;A=d.DateTime.fromISO(A,{setZone:!0});return{date:A.toFormat("yyyy-MM-dd",r()),time:A.toFormat(a.TimeStampOffsetPattern.HMS_MS,r()),timeZoneOffset:A.offset.toString()}}function e(A,C){if(null==A?.value||Array.isArray(A.value))return null;let G=null;G="valueAsDate"in A?d.DateTime.fromFormat(A.value,"yyyy-MM-dd",r(C)):y(A.value);return G?.isValid?G:null}function n(A){const {max:C,min:G,value:J}=A;return isNaN(J)||null!=C&&J>C||
null!=G&&J<G?!1:!0}function x(A){const {max:C,min:G,value:J}=A;return null!=C&&null!=G?v.clamp(J,G,C):null!=C&&J>C?C:null!=G&&J<G?G:J}function f(A){if(!A)return"";var C=A.split(".").at(0);if(!C||1>C.length)throw new w("invalid time-only field",`Cannot parse valid time-only field value from ${A}`);A=C.split(":");C=Array(3);for(let G=0;3>G;G++){const J=A.at(G)??"";C[G]=J.padStart(2,"0")}return C.join(":")}function p(A){if(!A||!c.isString(A))return null;A=d.DateTime.fromFormat(A,"yyyy-MM-dd");return A.isValid?
A:null}function y(A){return A&&c.isString(A)?u.mappedFind(D,C=>{C=d.DateTime.fromFormat(A,C);return C.isValid?C:null})??null:null}function z(A){if(!A||!c.isString(A))return null;A=d.DateTime.fromISO(A);return A.isValid?A:null}const E=g.utc,F={date:null,time:null,timeZoneOffset:null};b=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]);a.TimeStampOffsetPattern=void 0;(function(A){A.HM="HH:mm";A.HMS="HH:mm:ss";A.HMS_MS="HH:mm:ss.SSS"})(a.TimeStampOffsetPattern||
(a.TimeStampOffsetPattern={}));const D=[a.TimeStampOffsetPattern.HMS_MS,a.TimeStampOffsetPattern.HMS,a.TimeStampOffsetPattern.HM,"TT"];B=new Set(["date-only","time-only","timestamp-offset"]);a.arcadeDateToFieldValue=function(A,C){switch(C){case "date":return A.getTime();case "date-only":return A.toISODate();case "time-only":return f(A.toISOTime(!0,!1));case "timestamp-offset":return A.toISOString(!1);default:return null}};a.clampValueToRange=x;a.createDateTimeFromFieldValue=q;a.dateFieldsWithStringFieldValue=
B;a.dateOnlyToDateTime=p;a.dateTimeIsInRange=function(A){const {type:C,range:G,value:J}=A;if(null==J||!G||J===G.min||J===G.max)return!0;if("date"===C)return n({value:J,min:G.min,max:G.max});const {rawMax:I,rawMin:P}=G;let S=A=null,Y=null;switch(C){case "date-only":A=p(I);S=p(P);Y=p(J);break;case "time-only":A=y(I);S=y(P);Y=y(J);break;case "timestamp-offset":A=z(I),S=z(P),Y=z(J)}return Y?n({value:Y.valueOf(),min:S?.valueOf(),max:A?.valueOf()}):!0};a.dateTimeToFieldValue=function(A){return A?.isValid?
A.toMillis():null};a.defaultDatePattern="yyyy-MM-dd";a.defaultTimePattern="TT";a.getDefaultLocaleOptions=r;a.getISOFieldValueFromDateComponents=function(A){const {dateComponent:C,defaultTimeZone:G,timeComponent:J,timeZoneComponent:I,oldValue:P}=A;if(!C?.value||!J?.value)return null;const {year:S,month:Y,day:M}=d.DateTime.fromFormat(C.value,"yyyy-MM-dd"),{hour:L,minute:O,second:U,millisecond:ca}=e(J,g.utc)??d.DateTime.now();A=k(P,G);A=null!=I?.value?parseInt(I.value,10):null!=A.timeZoneOffset?parseInt(A.timeZoneOffset,
10):(new Date).getTimezoneOffset();A=d.FixedOffsetZone.instance(A);A=d.DateTime.fromObject({year:S,month:Y,day:M,hour:L,minute:O,second:U,millisecond:ca},{zone:A});return A.isValid?A.toISO({includeOffset:!0}):null};a.getIntlOptionsForField=function(A){switch(A.type){case "date":return h.convertDateFormatToIntlOptions("short-date-short-time");case "date-only":return h.convertDateFormatToIntlOptions("short-date");case "time-only":return h.convertDateFormatToIntlOptions("short-time");case "timestamp-offset":return{...h.convertDateFormatToIntlOptions("short-date-short-time"),
timeZone:void 0,timeZoneName:"short"};default:return h.convertDateFormatToIntlOptions("short-date-short-time")}};a.getLabelForDateFieldValue=function(A,C,G){if(!A||null==C)return null;switch(A.type){case "date":return h.formatDate(C,G);case "date-only":return h.formatDateOnly(C,G);case "time-only":return h.formatTimeOnly(C,G);case "timestamp-offset":return h.formatTimestamp(C,G);default:return null}};a.getLocalDateTimeFromComponent=e;a.getUnixFieldValueFromDateComponents=function(A){const {dateComponent:C,
timeComponent:G,timeZone:J,max:I,min:P,oldValue:S}=A;var Y=e(C,J);A=!!A.applyRange;if(!Y)return null;var M=null;if(null!=G?.value){M=e(G,J);var L=Date.now();L=d.DateTime.fromMillis(null!=I&&I<L?I:L,r(J));Y=Y||L;const {year:O,month:U,day:ca}=Y,{hour:ha,minute:ia,second:ea,millisecond:la}=M||L;M=Y.set({year:O,month:U,day:ca,hour:ha,minute:ia,second:ea,millisecond:la})}else{A=x({value:S??Date.now(),max:I,min:P});A=q(A,J);const {year:O,month:U,day:ca}=Y,{hour:ha,minute:ia,second:ea,millisecond:la}=A;
A=!0;M=Y.set({year:O,month:U,day:ca,hour:ha,minute:ia,second:ea,millisecond:la})}if(!M.isValid)return null;Y=M.toMillis();return A?x({value:Y,max:I,min:P}):Y};a.isArcadeDate=function(A){return!!A&&"object"===typeof A&&"getTime"in A&&"toISOString"in A&&"timeZone"in A};a.isCalciteDateComponent=A=>"valueAsDate"in A;a.isInDST=function(A,C="system"){return d.DateTime.fromJSDate(A,{zone:C}).isInDST};a.normalizeTimeOnlyString=f;a.numberingSystem="latn";a.prepareISOFieldValueForDateComponents=k;a.prepareUnixFieldValueForDateComponents=
function(A,C){return null==A||!c.isNumber(A)||isNaN(A)?F:(A=q(A,C))?{date:A.toFormat("yyyy-MM-dd",r(C)),time:A.toFormat("TT",r(C))}:F};a.supportedTimeFormats=D;a.timeOnlyToDateTime=y;a.timeResolutionToStepMap=b;a.timestampOffsetToDateTime=z;a.valueIsInRange=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),function(a,b,B,w,v,u,h,g){u.registerMessageBundleLoader(h.createJSONLoader({pattern:"esri/",
location:g.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.formatDateOnly=b.formatDateOnly;a.formatTimeOnly=b.formatTimeOnly;a.formatTimestamp=b.formatTimestamp;a.convertNumberFormatToIntlOptions=B.convertNumberFormatToIntlOptions;a.formatNumber=B.formatNumber;a.substitute=w.substitute;a.getLocale=v.getLocale;a.onLocaleChange=v.onLocaleChange;a.prefersRTL=v.prefersRTL;a.setLocale=v.setLocale;a.fetchMessageBundle=u.fetchMessageBundle;a.normalizeMessageBundleLocale=
u.normalizeMessageBundleLocale;a.registerMessageBundleLoader=u.registerMessageBundleLoader;a.createJSONLoader=h.createJSONLoader;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale","../time/timeZoneUtils","../chunks/datetime"],function(a,b,B,w,v){function u(A){var C=F.get(A);if(!C){C=B.getLocale();C=E[C]||C;const G=g(A.timeZone??w.system);C=new Intl.DateTimeFormat(C,{...A,timeZone:G});F.set(A,C)}return C}function h(A,
C=D){return u(C).format(A)}function g(A){switch(A){case w.system:return w.systemTimeZone;case w.unknown:return w.utc;default:return A}}function c(A,C){const G=B.getLocale();return(new Intl.DateTimeFormat(E[G]??G,C)).formatToParts(A)}const d={year:void 0,month:void 0,day:void 0,weekday:void 0},l={hour:void 0,minute:void 0,second:void 0},r={timeZone:w.utc},q={year:"numeric",month:"numeric",day:"numeric"},k={year:"numeric",month:"long",day:"numeric"},e={year:"numeric",month:"short",day:"numeric"},n=
{year:"numeric",month:"long",weekday:"long",day:"numeric"},x={hour:"numeric",minute:"numeric"},f={...x,second:"numeric"};var p={hourCycle:"h23"};const y={...x,...p};p={...f,...p};const z={"short-date":q,"short-date-short-time":{...q,...x},"short-date-short-time-24":{...q,...y},"short-date-long-time":{...q,...f},"short-date-long-time-24":{...q,...p},"short-date-le":q,"short-date-le-short-time":{...q,...x},"short-date-le-short-time-24":{...q,...y},"short-date-le-long-time":{...q,...f},"short-date-le-long-time-24":{...q,
...p},"long-month-day-year":k,"long-month-day-year-short-time":{...k,...x},"long-month-day-year-short-time-24":{...k,...y},"long-month-day-year-long-time":{...k,...f},"long-month-day-year-long-time-24":{...k,...p},"day-short-month-year":e,"day-short-month-year-short-time":{...e,...x},"day-short-month-year-short-time-24":{...e,...y},"day-short-month-year-long-time":{...e,...f},"day-short-month-year-long-time-24":{...e,...p},"long-date":n,"long-date-short-time":{...n,...x},"long-date-short-time-24":{...n,
...y},"long-date-long-time":{...n,...f},"long-date-long-time-24":{...n,...p},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":x,"long-time":f};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",
shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",
dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const E={ar:"ar-u-nu-latn-ca-gregory"};let F=
new WeakMap;const D=z["short-date-short-time"];B.beforeLocaleChange(()=>{F=new WeakMap});a.convertDateFormatToIntlOptions=function(A){return z[A]};a.dateFormatJSONMap=b;a.formatDate=h;a.formatDateOnly=function(A,C=D){return h(new Date(A),{...C,...r,...l})};a.formatTimeOnly=function(A,C=D){return h(new Date(`1970-01-01T${A}Z`),{...C,...r,...d})};a.formatTimestamp=function(A,C=D){if(C.timeZone)return h(new Date(A),C);A=v.DateTime.fromISO(A,{setZone:!0});const G=B.getLocale();return A.toLocaleString({...C,
timeZone:0===A.offset?w.utc:C.timeZone},{locale:E[G]??G})};a.getDateTimeFormatter=u;a.getShortOffsetTimeZoneSuffix=function(A,C=new Date){return c(C,{timeZone:A,timeZoneName:w.shortTimeZoneName}).find(({type:G})=>"timeZoneName"===G)?.value};a.resolveTimeZone=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/locale":function(){define(["exports","../core/handleUtils"],function(a,b){function B(){return c??globalThis.navigator?.language??"en"}function w(){void 0===g&&(g=B());
return g}function v(q=w()){return/^([a-zA-Z]{2,3})(?:[_-]\w+)*$/.exec(q)?.[1].toLowerCase()}function u(){const q=h??B();g!==q&&([...r].forEach(k=>k(q)),g=q,[...l].forEach(k=>k(q)))}let h=void 0,g=void 0;const c=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,d={he:!0,ar:!0},l=[],r=[];globalThis.addEventListener?.("languagechange",u);a.beforeLocaleChange=function(q){r.push(q);return b.makeHandle(()=>r.splice(r.indexOf(q),1))};a.getDefaultLocale=B;a.getLanguage=v;a.getLocale=w;a.onLocaleChange=
function(q){l.push(q);return b.makeHandle(()=>l.splice(l.indexOf(q),1))};a.prefersRTL=function(q=w()){q=v(q);return void 0!==q&&(d[q]||!1)};a.setLocale=function(q){h=q||void 0;u()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/timeZoneUtils":function(){define(["exports","./legacyTimeZoneMap","../chunks/datetime"],function(a,b,B){function w(g,c="system"){return g?"timeZoneIANA"in g?g.timeZoneIANA:u(g,c):c}function v(g){return{timeZoneIANA:g}}function u(g,c="system"){if(!g||
!b.legacyTimeZoneMap.has(g.timeZone))return c;c=b.legacyTimeZoneMap.get(g.timeZone);if(g.timeZone.startsWith("UTC")||g.respectsDaylightSaving)return c;g=B.DateTime.local().setZone(c);g=Math.min(g.set({month:1,day:1}).offset,g.set({month:5}).offset);g=0===g?"Etc/UTC":`Etc/GMT${B.FixedOffsetZone.instance(-g).formatOffset(0,"narrow")}`;return g}const h=Intl.DateTimeFormat().resolvedOptions().timeZone;a.convertLegacyTimeZone=u;a.fromTimeReference=w;a.getTimeZoneComponents=function(g){g="system"===g?h:
g;var c=/^(?<area>[\w-]+)(?:\/(?<region>[\w-]+))?\/(?<location>[\w+-]+)$/;if(c.test(g)){c=c.exec(g)?.groups;const {area:d,region:l,location:r}=c;return{area:d,region:l,location:r,timeZone:g}}return{timeZone:g}};a.getTimeZoneFormattingOptions=function(g,c,d,l,r){if(c&&"date"===r)return{timeZone:"UTC",timeZoneName:void 0};c=l.timeStyle||l.hour;l="unknown"===d;return{timeZone:l?"timestamp-offset"===r?void 0:g??"UTC":d,timeZoneName:l&&c?"shortOffset":void 0}};a.shortTimeZoneName="shortOffset";a.system=
"system";a.systemTimeZone=h;a.timeZoneProperty=function(g,c=!1){return{json:{read:{source:g,reader(d,l){return l[g]?w(l[g]):null}},write:c?{allowNull:!0,writer(d,l){l[g]=d?v(d):null}}:!1}}};a.toTimeReference=v;a.unknown="unknown";a.utc="UTC";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/legacyTimeZoneMap":function(){define(["exports"],function(a){const b=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time",
"Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time",
"Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time",
"America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time",
"Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],
["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],
["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)",
"America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time",
"Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],
["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time",
"Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time",
"America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],
["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time",
"Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);a.legacyTimeZoneMap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],function(a){function b(m,H={}){const R=
JSON.stringify([m,H]);let W=nc[R];W||(W=new Intl.ListFormat(m,H),nc[R]=W);return W}function B(m,H={}){const R=JSON.stringify([m,H]);let W=bc[R];W||(W=new Intl.DateTimeFormat(m,H),bc[R]=W);return W}function w(m,H={}){const R=JSON.stringify([m,H]);let W=cc[R];W||(W=new Intl.NumberFormat(m,H),cc[R]=W);return W}function v(m,H={}){const {base:R,...W}=H,da=JSON.stringify([m,W]);let ma=dc[da];ma||(ma=new Intl.RelativeTimeFormat(m,H),dc[da]=ma);return ma}function u(m){const H=[];for(let R=1;12>=R;R++){const W=
Ja.utc(2009,R,1);H.push(m(W))}return H}function h(m){const H=[];for(let R=1;7>=R;R++){const W=Ja.utc(2016,11,13+R);H.push(m(W))}return H}function g(m,H,R,W){m=m.listingMode();return"error"===m?null:"en"===m?R(H):W(H)}function c(m,H){if(E(m)||null===m)return H;if(m instanceof Eb)return m;if("string"===typeof m){const R=m.toLowerCase();return"default"===R?H:"local"===R||"system"===R?ec.instance:"utc"===R||"gmt"===R?Va.utcInstance:Va.parseSpecifier(R)||mb.create(m)}return F(m)?Va.instance(m):"object"===
typeof m&&"offset"in m&&"function"===typeof m.offset?m:new Uc(m)}function d(m,H){return new eb("unit out of range",`you specified ${H} (of type ${typeof H}) as a ${m}, which is invalid`)}function l(m,H,R){H=new Date(Date.UTC(m,H-1,R));100>m&&0<=m&&H.setUTCFullYear(H.getUTCFullYear()-1900);m=H.getUTCDay();return 0===m?7:m}function r(m,H){m=ca(m)?fc:gc;const R=m.findIndex(W=>W<H);return{month:R+1,day:H-m[R]}}function q(m,H){return(m-H+7)%7+1}function k(m,H=4,R=1){const {year:W,month:da,day:ma}=m;var na=
ma+(ca(W)?fc:gc)[da-1];const ua=q(l(W,da,ma),R);na=Math.floor((na-ua+14-H)/7);let za;1>na?(za=W-1,na=ea(za,H,R)):na>ea(W,H,R)?(za=W+1,na=1):za=W;return{weekYear:za,weekNumber:na,weekday:ua,...Q(m)}}function e(m,H=4,R=1){const {weekYear:W,weekNumber:da,weekday:ma}=m,na=q(l(W,1,H),R);R=ca(W)?366:365;H=7*da+ma-na-7+H;1>H?(R=W-1,H+=ca(R)?366:365):H>R?(R=W+1,H-=ca(W)?366:365):R=W;const {month:ua,day:za}=r(R,H);return{year:R,month:ua,day:za,...Q(m)}}function n(m){const {year:H,month:R,day:W}=m;var da=W+
(ca(H)?fc:gc)[R-1];return{year:H,ordinal:da,...Q(m)}}function x(m){const {year:H,ordinal:R}=m,{month:W,day:da}=r(H,R);return{year:H,month:W,day:da,...Q(m)}}function f(m,H){if(E(m.localWeekday)&&E(m.localWeekNumber)&&E(m.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!E(m.weekday)||!E(m.weekNumber)||!E(m.weekYear))throw new X("Cannot mix locale-based week fields with ISO-based week fields");E(m.localWeekday)||(m.weekday=m.localWeekday);E(m.localWeekNumber)||(m.weekNumber=m.localWeekNumber);
E(m.localWeekYear)||(m.weekYear=m.localWeekYear);delete m.localWeekday;delete m.localWeekNumber;delete m.localWeekYear;return{minDaysInFirstWeek:H.getMinDaysInFirstWeek(),startOfWeek:H.getStartOfWeek()}}function p(m,H=4,R=1){const W=D(m.weekYear);H=S(m.weekNumber,1,ea(m.weekYear,H,R));R=S(m.weekday,1,7);return W?H?R?!1:d("weekday",m.weekday):d("week",m.weekNumber):d("weekYear",m.weekYear)}function y(m){const H=D(m.year),R=S(m.month,1,12),W=S(m.day,1,ha(m.year,m.month));return H?R?W?!1:d("day",m.day):
d("month",m.month):d("year",m.year)}function z(m){const {hour:H,minute:R,second:W,millisecond:da}=m;m=S(H,0,23)||24===H&&0===R&&0===W&&0===da;const ma=S(R,0,59),na=S(W,0,59),ua=S(da,0,999);return m?ma?na?ua?!1:d("millisecond",da):d("second",W):d("minute",R):d("hour",H)}function E(m){return"undefined"===typeof m}function F(m){return"number"===typeof m}function D(m){return"number"===typeof m&&0===m%1}function A(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(m){return!1}}function C(){try{return"undefined"!==
typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(m){return!1}}function G(m,H,R){if(0!==m.length)return m.reduce((W,da)=>{da=[H(da),da];return W?R(W[0],da[0])===W[0]?W:da:da},null)[1]}function J(m,H){return H.reduce((R,W)=>{R[W]=m[W];return R},{})}function I(m,H){return Object.prototype.hasOwnProperty.call(m,H)}function P(m){if(null==m)return null;if("object"!==typeof m)throw new oa("Week settings must be an object");if(!S(m.firstDay,1,7)||
!S(m.minimalDays,1,7)||!Array.isArray(m.weekend)||m.weekend.some(H=>!S(H,1,7)))throw new oa("Invalid week settings");return{firstDay:m.firstDay,minimalDays:m.minimalDays,weekend:Array.from(m.weekend)}}function S(m,H,R){return D(m)&&m>=H&&m<=R}function Y(m,H=2){return 0>m?"-"+(""+-m).padStart(H,"0"):(""+m).padStart(H,"0")}function M(m){if(!E(m)&&null!==m&&""!==m)return parseInt(m,10)}function L(m){if(!E(m)&&null!==m&&""!==m)return parseFloat(m)}function O(m){if(!E(m)&&null!==m&&""!==m)return m=1E3*
parseFloat("0."+m),Math.floor(m)}function U(m,H,R=!1){H=10**H;return(R?Math.trunc:Math.round)(m*H)/H}function ca(m){return 0===m%4&&(0!==m%100||0===m%400)}function ha(m,H){var R=H-1;R=R-12*Math.floor(R/12)+1;return 2===R?ca(m+(H-R)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][R-1]}function ia(m){let H=Date.UTC(m.year,m.month-1,m.day,m.hour,m.minute,m.second,m.millisecond);100>m.year&&0<=m.year&&(H=new Date(H),H.setUTCFullYear(m.year,m.month-1,m.day));return+H}function ea(m,H=4,R=1){var W=-q(l(m,
1,H),R)+H-1;H=-q(l(m+1,1,H),R)+H-1;return((ca(m)?366:365)-W+H)/7}function la(m){return 99<m?m:m>Ra.twoDigitCutoffYear?1900+m:2E3+m}function ra(m,H,R,W=null){m=new Date(m);const da={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};W&&(da.timeZone=W);return(H=(new Intl.DateTimeFormat(R,{timeZoneName:H,...da})).formatToParts(m).find(ma=>"timezonename"===ma.type.toLowerCase()))?H.value:null}function wa(m,H){m=parseInt(m,10);Number.isNaN(m)&&(m=0);H=parseInt(H,
10)||0;H=0>m||Object.is(m,-0)?-H:H;return 60*m+H}function va(m){const H=Number(m);if("boolean"===typeof m||""===m||Number.isNaN(H))throw new oa(`Invalid unit value ${m}`);return H}function aa(m,H){const R={};for(const W in m)if(I(m,W)){const da=m[W];void 0!==da&&null!==da&&(R[H(W)]=va(da))}return R}function T(m,H){const R=Math.trunc(Math.abs(m/60)),W=Math.trunc(Math.abs(m%60));m=0<=m?"+":"-";switch(H){case "short":return`${m}${Y(R,2)}:${Y(W,2)}`;case "narrow":return`${m}${R}${0<W?`:${W}`:""}`;case "techie":return`${m}${Y(R,
2)}${Y(W,2)}`;default:throw new RangeError(`Value format ${H} is out of range for property format`);}}function Q(m){return J(m,["hour","minute","second","millisecond"])}function V(m){switch(m){case "narrow":return[...Vc];case "short":return[...oc];case "long":return[...Wc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function ba(m){switch(m){case "narrow":return[...Xc];case "short":return[...pc];
case "long":return[...qc];case "numeric":return"1234567".split("");default:return null}}function fa(m){switch(m){case "narrow":return[...Yc];case "short":return[...Zc];case "long":return[...$c];default:return null}}function pa(m,H,R="always",W=!1){const da={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var ma=-1===["hours","minutes","seconds"].indexOf(m);
if("auto"===R&&ma)switch(R="days"===m,H){case 1:return R?"tomorrow":`next ${da[m][0]}`;case -1:return R?"yesterday":`last ${da[m][0]}`;case 0:return R?"today":`this ${da[m][0]}`}R=Object.is(H,-0)||0>H;H=Math.abs(H);ma=1===H;const na=da[m];m=W?ma?na[1]:na[2]||na[1]:ma?da[m][0]:m;return R?`${H} ${m} ago`:`in ${H} ${m}`}function ta(m,H){let R="";for(const W of m)R=W.literal?R+W.val:R+H(W.val);return R}function sa(...m){m=m.reduce((H,R)=>H+R.source,"");return RegExp(`^${m}$`)}function xa(...m){return H=>
m.reduce(([R,W,da],ma)=>{const [na,ua,za]=ma(H,da);return[{...R,...na},ua||W,za]},[{},null,1]).slice(0,2)}function Ba(m,...H){if(null==m)return[null,null];for(const [R,W]of H)if(H=R.exec(m))return W(H);return[null,null]}function Ea(...m){return(H,R)=>{const W={};let da;for(da=0;da<m.length;da++)W[m[da]]=M(H[R+da]);return[W,null,R+da]}}function Da(m,H,R){m=m[H];return E(m)?R:M(m)}function t(m,H){return[{hours:Da(m,H,0),minutes:Da(m,H+1,0),seconds:Da(m,H+2,0),milliseconds:O(m[H+3])},null,H+4]}function K(m,
H){const R=!m[H]&&!m[H+1];m=wa(m[H+1],m[H+2]);return[{},R?null:Va.instance(m),H+3]}function N(m,H){return[{},m[H]?mb.create(m[H]):null,H+1]}function Z(m){const [H,R,W,da,ma,na,ua,za,La]=m,Ga="-"===H[0];m=za&&"-"===za[0];const Ka=(Oa,Ta=!1)=>void 0!==Oa&&(Ta||Oa&&Ga)?-Oa:Oa;return[{years:Ka(L(R)),months:Ka(L(W)),weeks:Ka(L(da)),days:Ka(L(ma)),hours:Ka(L(na)),minutes:Ka(L(ua)),seconds:Ka(L(za),"-0"===za),milliseconds:Ka(O(La),m)}]}function ka(m,H,R,W,da,ma,na){H={year:2===H.length?la(M(H)):M(H),month:oc.indexOf(R)+
1,day:M(W),hour:M(da),minute:M(ma)};na&&(H.second=M(na));m&&(H.weekday=3<m.length?qc.indexOf(m)+1:pc.indexOf(m)+1);return H}function Aa(m){const [,H,R,W,da,ma,na,ua,za,La,Ga,Ka]=m;m=ka(H,da,W,R,ma,na,ua);let Oa;Oa=za?ad[za]:La?0:wa(Ga,Ka);return[m,new Va(Oa)]}function Fa(m){const [,H,R,W,da,ma,na,ua]=m;return[ka(H,da,W,R,ma,na,ua),Va.utcInstance]}function Ha(m){const [,H,R,W,da,ma,na,ua]=m;return[ka(H,ua,R,W,da,ma,na),Va.utcInstance]}function Pa(m,H,R=!1){m={values:R?H.values:{...m.values,...(H.values||
{})},loc:m.loc.clone(H.loc),conversionAccuracy:H.conversionAccuracy||m.conversionAccuracy,matrix:H.matrix||m.matrix};return new Na(m)}function ab(m,H){let R=H.milliseconds??0;for(const W of bd.slice(1))H[W]&&(R+=H[W]*m[W].milliseconds);return R}function cb(m,H){const R=0>ab(m,H)?-1:1;wb.reduceRight((W,da)=>{if(E(H[da]))return W;if(W){const ma=m[da][W],na=Math.floor(H[W]*R/ma);H[da]+=na*R;H[W]-=na*ma*R}return da},null);wb.reduce((W,da)=>{if(E(H[da]))return W;if(W){const ma=H[W]%1;H[W]-=ma;H[da]+=ma*
m[W][da]}return da},null)}function Ib(m,H){m=H.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-m.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(Na.fromMillis(m).as("days"))}function tb(m,H,R){const W=[["years",(za,La)=>La.year-za.year],["quarters",(za,La)=>La.quarter-za.quarter+4*(La.year-za.year)],["months",(za,La)=>La.month-za.month+12*(La.year-za.year)],["weeks",(za,La)=>{za=Ib(za,La);return(za-za%7)/7}],["days",Ib]],da={},ma=m;let na,ua;for(const [za,La]of W)0<=R.indexOf(za)&&
(na=za,da[za]=La(m,H),ua=ma.plus(da),ua>H?(da[za]--,m=ma.plus(da),m>H&&(ua=m,da[za]--,m=ma.plus(da))):m=ua);return[m,da,ua,na]}function Rb(m,H,R,W){let [da,ma,na,ua]=tb(m,H,R);m=H-da;R=R.filter(za=>0<=["hours","minutes","seconds","milliseconds"].indexOf(za));0===R.length&&(na<H&&(na=da.plus({[ua]:1})),na!==da&&(ma[ua]=(ma[ua]||0)+m/(na-da)));H=Na.fromObject(ma,W);return 0<R.length?Na.fromMillis(m,W).shiftTo(...R).plus(H):H}function Za({numberingSystem:m},H=""){return new RegExp(`${hc[m||"latn"]}${H}`)}
function Ia(m,H=R=>R){return{regex:m,deser:([R])=>{{let W=parseInt(R,10);if(isNaN(W)){W="";for(let da=0;da<R.length;da++){const ma=R.charCodeAt(da);if(-1!==R[da].search(hc.hanidec))W+=cd.indexOf(R[da]);else for(const na in rc){const [ua,za]=rc[na];ma>=ua&&ma<=za&&(W+=ma-ua)}}R=parseInt(W,10)}else R=W}return H(R)}}}function Fb(m){return m.replace(/\./g,"\\.?").replace(ic,sc)}function Xa(m,H){return null===m?null:{regex:RegExp(m.map(Fb).join("|")),deser:([R])=>m.findIndex(W=>R.replace(/\./g,"").replace(ic,
" ").toLowerCase()===W.replace(/\./g,"").replace(ic," ").toLowerCase())+H}}function Jb(m,H){return{regex:m,deser:([,R,W])=>wa(R,W),groups:H}}function sb(m){return{regex:m,deser:([H])=>H}}function Zb(m,H){const R=Za(H),W=Za(H,"{2}"),da=Za(H,"{3}"),ma=Za(H,"{4}"),na=Za(H,"{6}"),ua=Za(H,"{1,2}"),za=Za(H,"{1,3}"),La=Za(H,"{1,6}"),Ga=Za(H,"{1,9}"),Ka=Za(H,"{2,4}"),Oa=Za(H,"{4,6}"),Ta=nb=>({regex:RegExp(nb.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([Ob])=>Ob,literal:!0}),Ua=(nb=>{if(m.literal)return Ta(nb);
switch(nb.val){case "G":return Xa(H.eras("short"),0);case "GG":return Xa(H.eras("long"),0);case "y":return Ia(La);case "yy":return Ia(Ka,la);case "yyyy":return Ia(ma);case "yyyyy":return Ia(Oa);case "yyyyyy":return Ia(na);case "M":return Ia(ua);case "MM":return Ia(W);case "MMM":return Xa(H.months("short",!0),1);case "MMMM":return Xa(H.months("long",!0),1);case "L":return Ia(ua);case "LL":return Ia(W);case "LLL":return Xa(H.months("short",!1),1);case "LLLL":return Xa(H.months("long",!1),1);case "d":return Ia(ua);
case "dd":return Ia(W);case "o":return Ia(za);case "ooo":return Ia(da);case "HH":return Ia(W);case "H":return Ia(ua);case "hh":return Ia(W);case "h":return Ia(ua);case "mm":return Ia(W);case "m":return Ia(ua);case "q":return Ia(ua);case "qq":return Ia(W);case "s":return Ia(ua);case "ss":return Ia(W);case "S":return Ia(za);case "SSS":return Ia(da);case "u":return sb(Ga);case "uu":return sb(ua);case "uuu":return Ia(R);case "a":return Xa(H.meridiems(),0);case "kkkk":return Ia(ma);case "kk":return Ia(Ka,
la);case "W":return Ia(ua);case "WW":return Ia(W);case "E":case "c":return Ia(R);case "EEE":return Xa(H.weekdays("short",!1),1);case "EEEE":return Xa(H.weekdays("long",!1),1);case "ccc":return Xa(H.weekdays("short",!0),1);case "cccc":return Xa(H.weekdays("long",!0),1);case "Z":case "ZZ":return Jb(new RegExp(`([+-]${ua.source})(?::(${W.source}))?`),2);case "ZZZ":return Jb(new RegExp(`([+-]${ua.source})(${W.source})?`),2);case "z":return sb(/[a-z_+-/]{1,256}?/i);case " ":return sb(/[^\S\n\r]/);default:return Ta(nb)}})(m)||
{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};Ua.token=m;return Ua}function $b(m){return[`^${m.map(H=>H.regex).reduce((H,R)=>`${H}(${R.source})`,"")}$`,m]}function ac(m,H,R){if(m=m.match(H)){H={};let W=1;for(const da in R)if(I(R,da)){const ma=R[da],na=ma.groups?ma.groups+1:1;!ma.literal&&ma.token&&(H[ma.token.val[0]]=ma.deser(m.slice(W,W+na)));W+=na}return[m,H]}return[m,{}]}function Ab(m){const H=da=>{switch(da){case "S":return"millisecond";case "s":return"second";case "m":return"minute";
case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};let R=null,W;E(m.z)||(R=mb.create(m.z));E(m.Z)||(R||=new Va(m.Z),W=m.Z);E(m.q)||(m.M=3*(m.q-1)+1);E(m.h)||(12>m.h&&1===m.a?m.h+=12:12===m.h&&0===m.a&&(m.h=0));0===m.G&&m.y&&(m.y=-m.y);E(m.u)||(m.S=O(m.u));return[Object.keys(m).reduce((da,
ma)=>{const na=H(ma);na&&(da[na]=m[ma]);return da},{}),R,W]}function Bb(m,H){return Array.prototype.concat(...m.map(R=>{if(!R.literal){var W=Wa.macroTokenToFormatOpts(R.val);W=Sb(W,H);R=null==W||W.includes(void 0)?R:W}return R}))}function ub(m,H,R){R=Bb(Wa.parseFormat(R),m);var W=R.map(Oa=>Zb(Oa,m));const da=W.find(Oa=>Oa.invalidReason);if(da)return{input:H,tokens:R,invalidReason:da.invalidReason};const [ma,na]=$b(W);W=RegExp(ma,"i");const [ua,za]=ac(H,W,na),[La,Ga,Ka]=za?Ab(za):[null,null,void 0];
if(I(za,"a")&&I(za,"H"))throw new X("Can't include meridiem when specifying 24-hour format");return{input:H,tokens:R,regex:W,rawMatches:ua,matches:za,result:La,zone:Ga,specificOffset:Ka}}function Sb(m,H){if(!m)return null;H=Wa.create(H,m);var R=H.dtFormatter;tc||=Ja.fromMillis(1555555555555);H=R.call(H,tc);R=H.formatToParts();const W=H.resolvedOptions();return R.map(da=>{{const {type:na,value:ua}=da;if("literal"===na)da=/^\s+$/.test(ua),da={literal:!da,val:da?" ":ua};else{da=m[na];var ma=na;"hour"===
na&&(ma=null!=m.hour12?m.hour12?"hour12":"hour24":null!=m.hourCycle?"h11"===m.hourCycle||"h12"===m.hourCycle?"hour12":"hour24":W.hour12?"hour12":"hour24");ma=dd[ma];"object"===typeof ma&&(ma=ma[da]);da=ma?{literal:!1,val:ma}:void 0}}return da})}function fb(m){return new eb("unsupported zone",`the zone "${m.name}" is not supported`)}function Lb(m){null===m.weekData&&(m.weekData=k(m.c));return m.weekData}function hb(m){null===m.localWeekData&&(m.localWeekData=k(m.c,m.loc.getMinDaysInFirstWeek(),m.loc.getStartOfWeek()));
return m.localWeekData}function $a(m,H){m={ts:m.ts,zone:m.zone,c:m.c,o:m.o,loc:m.loc,invalid:m.invalid};return new Ja({...m,...H,old:m})}function pb(m,H,R){let W=m-6E4*H;const da=R.offset(W);if(H===da)return[W,H];W-=6E4*(da-H);H=R.offset(W);return da===H?[W,da]:[m-6E4*Math.min(da,H),Math.max(da,H)]}function gb(m,H){m=new Date(m+6E4*H);return{year:m.getUTCFullYear(),month:m.getUTCMonth()+1,day:m.getUTCDate(),hour:m.getUTCHours(),minute:m.getUTCMinutes(),second:m.getUTCSeconds(),millisecond:m.getUTCMilliseconds()}}
function ib(m,H,R){return pb(ia(m),H,R)}function Kb(m,H){const R=m.o;var W=m.c.year+Math.trunc(H.years);const da=m.c.month+Math.trunc(H.months)+3*Math.trunc(H.quarters);W={...m.c,year:W,month:da,day:Math.min(m.c.day,ha(W,da))+Math.trunc(H.days)+7*Math.trunc(H.weeks)};H=Na.fromObject({years:H.years-Math.trunc(H.years),quarters:H.quarters-Math.trunc(H.quarters),months:H.months-Math.trunc(H.months),weeks:H.weeks-Math.trunc(H.weeks),days:H.days-Math.trunc(H.days),hours:H.hours,minutes:H.minutes,seconds:H.seconds,
milliseconds:H.milliseconds}).as("milliseconds");W=ia(W);let [ma,na]=pb(W,R,m.zone);0!==H&&(ma+=H,na=m.zone.offset(ma));return{ts:ma,o:na}}function db(m,H,R,W,da,ma){const {setZone:na,zone:ua}=R;return m&&0!==Object.keys(m).length||H?(m=Ja.fromObject(m,{...R,zone:H||ua,specificOffset:ma}),na?m:m.setZone(ua)):Ja.invalid(new eb("unparsable",`the input "${da}" can't be parsed as ${W}`))}function jb(m,H,R=!0){return m.isValid?Wa.create(Qa.create("en-US"),{allowZ:R,forceSimple:!0}).formatDateTimeFromString(m,
H):null}function ob(m,H){const R=9999<m.c.year||0>m.c.year;let W="";R&&0<=m.c.year&&(W+="+");W+=Y(m.c.year,R?6:4);H?(W=W+"-"+Y(m.c.month),W=W+"-"+Y(m.c.day)):(W+=Y(m.c.month),W+=Y(m.c.day));return W}function Nb(m,H,R,W,da,ma){let na=Y(m.c.hour);H?(na=na+":"+Y(m.c.minute),0===m.c.millisecond&&0===m.c.second&&R||(na+=":")):na+=Y(m.c.minute);0===m.c.millisecond&&0===m.c.second&&R||(na+=Y(m.c.second),0===m.c.millisecond&&W||(na=na+"."+Y(m.c.millisecond,3)));da&&(m.isOffsetFixed&&0===m.offset&&!ma?na+=
"Z":0>m.o?(na=na+"-"+Y(Math.trunc(-m.o/60)),na=na+":"+Y(Math.trunc(-m.o%60))):(na=na+"+"+Y(Math.trunc(m.o/60)),na=na+":"+Y(Math.trunc(m.o%60))));ma&&(na+="["+m.zone.ianaName+"]");return na}function Mb(m){switch(m.toLowerCase()){case "localweekday":case "localweekdays":return"localWeekday";case "localweeknumber":case "localweeknumbers":return"localWeekNumber";case "localweekyear":case "localweekyears":return"localWeekYear";default:const H={year:"year",years:"year",month:"month",months:"month",day:"day",
days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[m.toLowerCase()];if(!H)throw new ja(m);return H}}function Qb(m,H){const R=c(H.zone,Ra.defaultZone);H=Qa.fromObject(H);const W=Ra.now();var da;
if(E(m.year))m=W;else{for(const ma of uc)E(m[ma])&&(m[ma]=vc[ma]);if(da=y(m)||z(m))return Ja.invalid(da);da=R.offset(W);[m,da]=ib(m,da,R)}return new Ja({ts:m,zone:R,loc:H,o:da})}function Pb(m,H,R){const W=E(R.round)?!0:R.round,da=(na,ua)=>{na=U(na,W||R.calendary?0:2,!0);return H.loc.clone(R).relFormatter(R).format(na,ua)},ma=na=>R.calendary?H.hasSame(m,na)?0:H.startOf(na).diff(m.startOf(na),na).get(na):H.diff(m,na).get(na);if(R.unit)return da(ma(R.unit),R.unit);for(const na of R.units){const ua=ma(na);
if(1<=Math.abs(ua))return da(ua,na)}return da(m>H?-0:0,R.units[R.units.length-1])}function Db(m){let H={};0<m.length&&"object"===typeof m[m.length-1]?(H=m[m.length-1],m=Array.from(m).slice(0,m.length-1)):m=Array.from(m);return[H,m]}function vb(m){if(Ja.isDateTime(m))return m;if(m&&m.valueOf&&F(m.valueOf()))return Ja.fromJSDate(m);if(m&&"object"===typeof m)return Ja.fromObject(m);throw new oa(`Unknown datetime argument: ${m}, of type ${typeof m}`);}class lb extends Error{}class Cb extends lb{constructor(m){super(`Invalid DateTime: ${m.toMessage()}`)}}
class Tb extends lb{constructor(m){super(`Invalid Interval: ${m.toMessage()}`)}}class Ub extends lb{constructor(m){super(`Invalid Duration: ${m.toMessage()}`)}}class X extends lb{}class ja extends lb{constructor(m){super(`Invalid unit ${m}`)}}class oa extends lb{}class qa extends lb{constructor(){super("Zone is an abstract class")}}const ya={year:"numeric",month:"numeric",day:"numeric"},Ca={year:"numeric",month:"short",day:"numeric"},Ma={year:"numeric",month:"short",day:"numeric",weekday:"short"},
bb={year:"numeric",month:"long",day:"numeric"},qb={year:"numeric",month:"long",day:"numeric",weekday:"long"},xb={hour:"numeric",minute:"numeric"},kb={hour:"numeric",minute:"numeric",second:"numeric"},Gb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Ya={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},yb={hour:"numeric",minute:"numeric",hourCycle:"h23"},zb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},rb={hour:"numeric",minute:"numeric",
second:"numeric",hourCycle:"h23",timeZoneName:"short"},Hb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},wc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},xc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},yc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},zc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},
ed={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},Ac={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},Bc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Cc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},Dc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",
minute:"numeric",second:"numeric",timeZoneName:"long"};class Eb{get type(){throw new qa;}get name(){throw new qa;}get ianaName(){return this.name}get isUniversal(){throw new qa;}offsetName(m,H){throw new qa;}formatOffset(m,H){throw new qa;}offset(m){throw new qa;}equals(m){throw new qa;}get isValid(){throw new qa;}}let jc=null;class ec extends Eb{static get instance(){null===jc&&(jc=new ec);return jc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(m,
{format:H,locale:R}){return ra(m,H,R)}formatOffset(m,H){return T(this.offset(m),H)}offset(m){return-(new Date(m)).getTimezoneOffset()}equals(m){return"system"===m.type}get isValid(){return!0}}let Vb={};const fd={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Wb={};class mb extends Eb{static create(m){Wb[m]||(Wb[m]=new mb(m));return Wb[m]}static resetCache(){Wb={};Vb={}}static isValidSpecifier(m){return this.isValidZone(m)}static isValidZone(m){if(!m)return!1;try{return(new Intl.DateTimeFormat("en-US",
{timeZone:m})).format(),!0}catch(H){return!1}}constructor(m){super();this.zoneName=m;this.valid=mb.isValidZone(m)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(m,{format:H,locale:R}){return ra(m,H,R,this.name)}formatOffset(m,H){return T(this.offset(m),H)}offset(m){m=new Date(m);if(isNaN(m))return NaN;var H=this.name;Vb[H]||(Vb[H]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:H,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",
second:"2-digit",era:"short"}));H=Vb[H];if(H.formatToParts){H=H.formatToParts(m);var R=[];for(let Ga=0;Ga<H.length;Ga++){const {type:Ka,value:Oa}=H[Ga],Ta=fd[Ka];"era"===Ka?R[Ta]=Oa:E(Ta)||(R[Ta]=parseInt(Oa,10))}H=R}else{H=H.format(m).replace(/\u200E/g,"");H=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(H);const [,Ga,Ka,Oa,Ta,Ua,nb,Ob]=H;H=[Oa,Ga,Ka,Ta,Ua,nb,Ob]}let [W,da,ma,na,ua,za,La]=H;"BC"===na&&(W=-Math.abs(W)+1);H=ia({year:W,month:da,day:ma,hour:24===ua?0:ua,minute:za,second:La,millisecond:0});
m=+m;R=m%1E3;return(H-(m-(0<=R?R:1E3+R)))/6E4}equals(m){return"iana"===m.type&&m.name===this.name}get isValid(){return this.valid}}let nc={},bc={},cc={},dc={},Xb=null,Ec={};class gd{constructor(m,H,R){this.padTo=R.padTo||0;this.floor=R.floor||!1;const {padTo:W,floor:da,...ma}=R;if(!H||0<Object.keys(ma).length)H={useGrouping:!1,...R},0<R.padTo&&(H.minimumIntegerDigits=R.padTo),this.inf=w(m,H)}format(m){if(this.inf)return this.inf.format(this.floor?Math.floor(m):m);m=this.floor?Math.floor(m):U(m,3);
return Y(m,this.padTo)}}class hd{constructor(m,H,R){this.opts=R;R=this.originalZone=void 0;this.opts.timeZone?this.dt=m:"fixed"===m.zone.type?(R=m.offset/60*-1,R=0<=R?`Etc/GMT+${R}`:`Etc/GMT${R}`,0!==m.offset&&mb.create(R).valid?this.dt=m:(R="UTC",this.dt=0===m.offset?m:m.setZone("UTC").plus({minutes:m.offset}),this.originalZone=m.zone)):"system"===m.zone.type?this.dt=m:"iana"===m.zone.type?(this.dt=m,R=m.zone.name):(R="UTC",this.dt=m.setZone("UTC").plus({minutes:m.offset}),this.originalZone=m.zone);
m={...this.opts};m.timeZone=m.timeZone||R;this.dtf=B(H,m)}format(){return this.originalZone?this.formatToParts().map(({value:m})=>m).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const m=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?m.map(H=>{if("timeZoneName"===H.type){const R=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...H,value:R}}return H}):m}resolvedOptions(){return this.dtf.resolvedOptions()}}class id{constructor(m,
H,R){this.opts={style:"long",...R};!H&&A()&&(this.rtf=v(m,R))}format(m,H){return this.rtf?this.rtf.format(m,H):pa(H,m,this.opts.numeric,"long"!==this.opts.style)}formatToParts(m,H){return this.rtf?this.rtf.formatToParts(m,H):[]}}const jd={firstDay:1,minimalDays:4,weekend:[6,7]};class Qa{static fromOpts(m){return Qa.create(m.locale,m.numberingSystem,m.outputCalendar,m.weekSettings,m.defaultToEN)}static create(m,H,R,W,da=!1){m=m||Ra.defaultLocale;var ma;(ma=m)||(da?da="en-US":(Xb||(Xb=(new Intl.DateTimeFormat).resolvedOptions().locale),
da=Xb),ma=da);da=ma;H=H||Ra.defaultNumberingSystem;R=R||Ra.defaultOutputCalendar;W=P(W)||Ra.defaultWeekSettings;return new Qa(da,H,R,W,m)}static resetCache(){Xb=null;bc={};cc={};dc={}}static fromObject({locale:m,numberingSystem:H,outputCalendar:R,weekSettings:W}={}){return Qa.create(m,H,R,W)}constructor(m,H,R,W,da){var ma=m.indexOf("-x-");-1!==ma&&(m=m.substring(0,ma));ma=m.indexOf("-u-");if(-1===ma)var na=[m];else{try{na=B(m).resolvedOptions();var ua=m}catch(Ta){ua=m.substring(0,ma),na=B(ua).resolvedOptions()}const {numberingSystem:Ka,
calendar:Oa}=na;na=[ua,Ka,Oa]}const [za,La,Ga]=na;this.locale=za;this.numberingSystem=H||La||null;this.outputCalendar=R||Ga||null;this.weekSettings=W;H=this.locale;R=this.numberingSystem;if((W=this.outputCalendar)||R)H.includes("-u-")||(H+="-u"),W&&(H+=`-ca-${W}`),R&&(H+=`-nu-${R}`);this.intl=H;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=da;this.fastNumbersCached=null}get fastNumbers(){if(null==
this.fastNumbersCached){var m=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=m}return this.fastNumbersCached}listingMode(){const m=this.isEnglish(),H=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return m&&H?"en":"intl"}clone(m){return m&&
0!==Object.getOwnPropertyNames(m).length?Qa.create(m.locale||this.specifiedLocale,m.numberingSystem||this.numberingSystem,m.outputCalendar||this.outputCalendar,P(m.weekSettings)||this.weekSettings,m.defaultToEN||!1):this}redefaultToEN(m={}){return this.clone({...m,defaultToEN:!0})}redefaultToSystem(m={}){return this.clone({...m,defaultToEN:!1})}months(m,H=!1){return g(this,m,V,()=>{const R=H?{month:m,day:"numeric"}:{month:m},W=H?"format":"standalone";this.monthsCache[W][m]||(this.monthsCache[W][m]=
u(da=>this.extract(da,R,"month")));return this.monthsCache[W][m]})}weekdays(m,H=!1){return g(this,m,ba,()=>{const R=H?{weekday:m,year:"numeric",month:"long",day:"numeric"}:{weekday:m},W=H?"format":"standalone";this.weekdaysCache[W][m]||(this.weekdaysCache[W][m]=h(da=>this.extract(da,R,"weekday")));return this.weekdaysCache[W][m]})}meridiems(){return g(this,void 0,()=>Fc,()=>{if(!this.meridiemCache){const m={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ja.utc(2016,11,13,9),Ja.utc(2016,11,13,
19)].map(H=>this.extract(H,m,"dayperiod"))}return this.meridiemCache})}eras(m){return g(this,m,fa,()=>{const H={era:m};this.eraCache[m]||(this.eraCache[m]=[Ja.utc(-40,1,1),Ja.utc(2017,1,1)].map(R=>this.extract(R,H,"era")));return this.eraCache[m]})}extract(m,H,R){return(m=this.dtFormatter(m,H).formatToParts().find(W=>W.type.toLowerCase()===R))?m.value:null}numberFormatter(m={}){return new gd(this.intl,m.forceSimple||this.fastNumbers,m)}dtFormatter(m,H={}){return new hd(m,this.intl,H)}relFormatter(m=
{}){return new id(this.intl,this.isEnglish(),m)}listFormatter(m={}){return b(this.intl,m)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){if(this.weekSettings)return this.weekSettings;if(C()){var m=this.locale,H=Ec[m];H||(H=new Intl.Locale(m),H="getWeekInfo"in H?H.getWeekInfo():H.weekInfo,Ec[m]=H);return H}return jd}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(m){return this.locale===
m.locale&&this.numberingSystem===m.numberingSystem&&this.outputCalendar===m.outputCalendar}}let kc=null;class Va extends Eb{static get utcInstance(){null===kc&&(kc=new Va(0));return kc}static instance(m){return 0===m?Va.utcInstance:new Va(m)}static parseSpecifier(m){return m&&(m=m.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Va(wa(m[1],m[2])):null}constructor(m){super();this.fixed=m}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${T(this.fixed,"narrow")}`}get ianaName(){return 0===
this.fixed?"Etc/UTC":`Etc/GMT${T(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(m,H){return T(this.fixed,H)}get isUniversal(){return!0}offset(){return this.fixed}equals(m){return"fixed"===m.type&&m.fixed===this.fixed}get isValid(){return!0}}class Uc extends Eb{constructor(m){super();this.zoneName=m}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}
let Gc=()=>Date.now(),Hc="system",Ic=null,Jc=null,Kc=null,Lc=60,Mc,Nc=null;class Ra{static get now(){return Gc}static set now(m){Gc=m}static set defaultZone(m){Hc=m}static get defaultZone(){return c(Hc,ec.instance)}static get defaultLocale(){return Ic}static set defaultLocale(m){Ic=m}static get defaultNumberingSystem(){return Jc}static set defaultNumberingSystem(m){Jc=m}static get defaultOutputCalendar(){return Kc}static set defaultOutputCalendar(m){Kc=m}static get defaultWeekSettings(){return Nc}static set defaultWeekSettings(m){Nc=
P(m)}static get twoDigitCutoffYear(){return Lc}static set twoDigitCutoffYear(m){Lc=m%100}static get throwOnInvalid(){return Mc}static set throwOnInvalid(m){Mc=m}static resetCaches(){Qa.resetCache();mb.resetCache()}}class eb{constructor(m,H){this.reason=m;this.explanation=H}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const gc=[0,31,59,90,120,151,181,212,243,273,304,334],fc=[0,31,60,91,121,152,182,213,244,274,305,335],Wc="January February March April May June July August September October November December".split(" "),
oc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Vc="JFMAMJJASOND".split(""),qc="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),pc="Mon Tue Wed Thu Fri Sat Sun".split(" "),Xc="MTWTFSS".split(""),Fc=["AM","PM"],$c=["Before Christ","Anno Domini"],Zc=["BC","AD"],Yc=["B","A"],kd={D:ya,DD:Ca,DDD:bb,DDDD:qb,t:xb,tt:kb,ttt:Gb,tttt:Ya,T:yb,TT:zb,TTT:rb,TTTT:Hb,f:wc,ff:yc,fff:Ac,ffff:Cc,F:xc,FF:zc,FFF:Bc,FFFF:Dc};class Wa{static create(m,H={}){return new Wa(m,H)}static parseFormat(m){let H=
null,R="",W=!1;const da=[];for(let ma=0;ma<m.length;ma++){const na=m.charAt(ma);"'"===na?(0<R.length&&da.push({literal:W||/^\s+$/.test(R),val:R}),H=null,R="",W=!W):W?R+=na:na===H?R+=na:(0<R.length&&da.push({literal:/^\s+$/.test(R),val:R}),H=R=na)}0<R.length&&da.push({literal:W||/^\s+$/.test(R),val:R});return da}static macroTokenToFormatOpts(m){return kd[m]}constructor(m,H){this.opts=H;this.loc=m;this.systemLoc=null}formatWithSystemDefault(m,H){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());
return this.systemLoc.dtFormatter(m,{...this.opts,...H}).format()}dtFormatter(m,H={}){return this.loc.dtFormatter(m,{...this.opts,...H})}formatDateTime(m,H){return this.dtFormatter(m,H).format()}formatDateTimeParts(m,H){return this.dtFormatter(m,H).formatToParts()}formatInterval(m,H){return this.dtFormatter(m.start,H).dtf.formatRange(m.start.toJSDate(),m.end.toJSDate())}resolvedOptions(m,H){return this.dtFormatter(m,H).resolvedOptions()}num(m,H=0){if(this.opts.forceSimple)return Y(m,H);const R={...this.opts};
0<H&&(R.padTo=H);return this.loc.numberFormatter(R).format(m)}formatDateTimeFromString(m,H){const R="en"===this.loc.listingMode(),W=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,da=(Ga,Ka)=>this.loc.extract(m,Ga,Ka),ma=Ga=>m.isOffsetFixed&&0===m.offset&&Ga.allowZ?"Z":m.isValid?m.zone.formatOffset(m.ts,Ga.format):"",na=(Ga,Ka)=>R?V(Ga)[m.month-1]:da(Ka?{month:Ga}:{month:Ga,day:"numeric"},"month"),ua=(Ga,Ka)=>R?ba(Ga)[m.weekday-1]:da(Ka?{weekday:Ga}:{weekday:Ga,month:"long",day:"numeric"},
"weekday"),za=Ga=>{const Ka=Wa.macroTokenToFormatOpts(Ga);return Ka?this.formatWithSystemDefault(m,Ka):Ga},La=Ga=>R?fa(Ga)[0>m.year?0:1]:da({era:Ga},"era");return ta(Wa.parseFormat(H),Ga=>{switch(Ga){case "S":return this.num(m.millisecond);case "u":case "SSS":return this.num(m.millisecond,3);case "s":return this.num(m.second);case "ss":return this.num(m.second,2);case "uu":return this.num(Math.floor(m.millisecond/10),2);case "uuu":return this.num(Math.floor(m.millisecond/100));case "m":return this.num(m.minute);
case "mm":return this.num(m.minute,2);case "h":return this.num(0===m.hour%12?12:m.hour%12);case "hh":return this.num(0===m.hour%12?12:m.hour%12,2);case "H":return this.num(m.hour);case "HH":return this.num(m.hour,2);case "Z":return ma({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return ma({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return ma({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return m.zone.offsetName(m.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return m.zone.offsetName(m.ts,
{format:"long",locale:this.loc.locale});case "z":return m.zoneName;case "a":return R?Fc[12>m.hour?0:1]:da({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return W?da({day:"numeric"},"day"):this.num(m.day);case "dd":return W?da({day:"2-digit"},"day"):this.num(m.day,2);case "c":return this.num(m.weekday);case "ccc":return ua("short",!0);case "cccc":return ua("long",!0);case "ccccc":return ua("narrow",!0);case "E":return this.num(m.weekday);case "EEE":return ua("short",!1);case "EEEE":return ua("long",
!1);case "EEEEE":return ua("narrow",!1);case "L":return W?da({month:"numeric",day:"numeric"},"month"):this.num(m.month);case "LL":return W?da({month:"2-digit",day:"numeric"},"month"):this.num(m.month,2);case "LLL":return na("short",!0);case "LLLL":return na("long",!0);case "LLLLL":return na("narrow",!0);case "M":return W?da({month:"numeric"},"month"):this.num(m.month);case "MM":return W?da({month:"2-digit"},"month"):this.num(m.month,2);case "MMM":return na("short",!1);case "MMMM":return na("long",
!1);case "MMMMM":return na("narrow",!1);case "y":return W?da({year:"numeric"},"year"):this.num(m.year);case "yy":return W?da({year:"2-digit"},"year"):this.num(m.year.toString().slice(-2),2);case "yyyy":return W?da({year:"numeric"},"year"):this.num(m.year,4);case "yyyyyy":return W?da({year:"numeric"},"year"):this.num(m.year,6);case "G":return La("short");case "GG":return La("long");case "GGGGG":return La("narrow");case "kk":return this.num(m.weekYear.toString().slice(-2),2);case "kkkk":return this.num(m.weekYear,
4);case "W":return this.num(m.weekNumber);case "WW":return this.num(m.weekNumber,2);case "n":return this.num(m.localWeekNumber);case "nn":return this.num(m.localWeekNumber,2);case "ii":return this.num(m.localWeekYear.toString().slice(-2),2);case "iiii":return this.num(m.localWeekYear,4);case "o":return this.num(m.ordinal);case "ooo":return this.num(m.ordinal,3);case "q":return this.num(m.quarter);case "qq":return this.num(m.quarter,2);case "X":return this.num(Math.floor(m.ts/1E3));case "x":return this.num(m.ts);
default:return za(Ga)}})}formatDurationFromString(m,H){const R=da=>{switch(da[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};H=Wa.parseFormat(H);const W=H.reduce((da,{literal:ma,val:na})=>ma?da:da.concat(na),[]);m=m.shiftTo(...W.map(R).filter(da=>da));return ta(H,(da=>ma=>{const na=R(ma);return na?this.num(da.get(na),ma.length):ma})(m))}}
const Oc=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Pc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,lc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Qc=RegExp(`${lc.source}${`(?:${Pc.source}?(?:\\[(${Oc.source})\\])?)?`}`),mc=RegExp(`(?:T${Qc.source})?`),ld=Ea("weekYear","weekNumber","weekDay"),md=Ea("year","ordinal"),Rc=RegExp(`${lc.source} ?(?:${Pc.source}|(${Oc.source}))?`),nd=RegExp(`(?: ${Rc.source})?`),od=RegExp(`^T?${lc.source}$`),pd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,
ad={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},qd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,rd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,sd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
td=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,ud=sa(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,mc),vd=sa(/(\d{4})-?W(\d\d)(?:-?(\d))?/,mc),wd=sa(/(\d{4})-?(\d{3})/,mc),xd=sa(Qc),Sc=xa(function(m,H){return[{year:Da(m,H),month:Da(m,H+1,1),day:Da(m,H+2,1)},null,H+3]},t,K,N),yd=xa(ld,t,K,N),zd=xa(md,t,K,N),Ad=xa(t,K,N),Bd=xa(t),Cd=sa(/(\d{4})-(\d\d)-(\d\d)/,nd),Dd=sa(Rc),Ed=xa(t,K,N),Tc={weeks:{days:7,hours:168,minutes:10080,
seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},Fd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},
...Tc},Gd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Tc},wb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),bd=wb.slice(0).reverse();class Na{constructor(m){const H=
"longterm"===m.conversionAccuracy||!1;let R=H?Gd:Fd;m.matrix&&(R=m.matrix);this.values=m.values;this.loc=m.loc||Qa.create();this.conversionAccuracy=H?"longterm":"casual";this.invalid=m.invalid||null;this.matrix=R;this.isLuxonDuration=!0}static fromMillis(m,H){return Na.fromObject({milliseconds:m},H)}static fromObject(m,H={}){if(null==m||"object"!==typeof m)throw new oa(`Duration.fromObject: argument expected to be an object, got ${null===m?"null":typeof m}`);return new Na({values:aa(m,Na.normalizeUnit),
loc:Qa.fromObject(H),conversionAccuracy:H.conversionAccuracy,matrix:H.matrix})}static fromDurationLike(m){if(F(m))return Na.fromMillis(m);if(Na.isDuration(m))return m;if("object"===typeof m)return Na.fromObject(m);throw new oa(`Unknown duration argument ${m} of type ${typeof m}`);}static fromISO(m,H){const [R]=Ba(m,[pd,Z]);return R?Na.fromObject(R,H):Na.invalid("unparsable",`the input "${m}" can't be parsed as ISO 8601`)}static fromISOTime(m,H){const [R]=Ba(m,[od,Bd]);return R?Na.fromObject(R,H):
Na.invalid("unparsable",`the input "${m}" can't be parsed as ISO 8601`)}static invalid(m,H=null){if(!m)throw new oa("need to specify a reason the Duration is invalid");m=m instanceof eb?m:new eb(m,H);if(Ra.throwOnInvalid)throw new Ub(m);return new Na({invalid:m})}static normalizeUnit(m){const H={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",
second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[m?m.toLowerCase():m];if(!H)throw new ja(m);return H}static isDuration(m){return m&&m.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(m,H={}){H={...H,floor:!1!==H.round&&!1!==H.floor};return this.isValid?Wa.create(this.loc,H).formatDurationFromString(this,m):"Invalid Duration"}toHuman(m={}){if(!this.isValid)return"Invalid Duration";
const H=wb.map(R=>{const W=this.values[R];return E(W)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...m,unit:R.slice(0,-1)}).format(W)}).filter(R=>R);return this.loc.listFormatter({type:"conjunction",style:m.listStyle||"narrow",...m}).format(H)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let m="P";0!==this.years&&(m+=this.years+"Y");if(0!==this.months||0!==this.quarters)m+=this.months+3*this.quarters+"M";0!==this.weeks&&(m+=this.weeks+
"W");0!==this.days&&(m+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)m+="T";0!==this.hours&&(m+=this.hours+"H");0!==this.minutes&&(m+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)m+=U(this.seconds+this.milliseconds/1E3,3)+"S";"P"===m&&(m+="T0S");return m}toISOTime(m={}){if(!this.isValid)return null;const H=this.toMillis();if(0>H||864E5<=H)return null;m={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...m,
includeOffset:!1};return Ja.fromMillis(H,{zone:"UTC"}).toISOTime(m)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ab(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(m){if(!this.isValid)return this;m=Na.fromDurationLike(m);const H={};for(const R of wb)if(I(m.values,
R)||I(this.values,R))H[R]=m.get(R)+this.get(R);return Pa(this,{values:H},!0)}minus(m){if(!this.isValid)return this;m=Na.fromDurationLike(m);return this.plus(m.negate())}mapUnits(m){if(!this.isValid)return this;const H={};for(const R of Object.keys(this.values))H[R]=va(m(this.values[R],R));return Pa(this,{values:H},!0)}get(m){return this[Na.normalizeUnit(m)]}set(m){if(!this.isValid)return this;m={...this.values,...aa(m,Na.normalizeUnit)};return Pa(this,{values:m})}reconfigure({locale:m,numberingSystem:H,
conversionAccuracy:R,matrix:W}={}){m={loc:this.loc.clone({locale:m,numberingSystem:H}),matrix:W,conversionAccuracy:R};return Pa(this,m)}as(m){return this.isValid?this.shiftTo(m).get(m):NaN}normalize(){if(!this.isValid)return this;const m=this.toObject();cb(this.matrix,m);return Pa(this,{values:m},!0)}rescale(){if(!this.isValid)return this;var m=this.normalize().shiftToAll().toObject();const H={};for(const [R,W]of Object.entries(m))0!==W&&(H[R]=W);return Pa(this,{values:H},!0)}shiftTo(...m){if(!this.isValid||
0===m.length)return this;m=m.map(ma=>Na.normalizeUnit(ma));const H={},R={},W=this.toObject();let da;for(const ma of wb)if(0<=m.indexOf(ma)){da=ma;let na=0;for(const za in R)na+=this.matrix[za][ma]*R[za],R[za]=0;F(W[ma])&&(na+=W[ma]);const ua=Math.trunc(na);H[ma]=ua;R[ma]=(1E3*na-1E3*ua)/1E3}else F(W[ma])&&(R[ma]=W[ma]);for(const ma in R)0!==R[ma]&&(H[da]+=ma===da?R[ma]:R[ma]/this.matrix[da][ma]);cb(this.matrix,H);return Pa(this,{values:H},!0)}shiftToAll(){return this.isValid?this.shiftTo("years",
"months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const m={};for(const H of Object.keys(this.values))m[H]=0===this.values[H]?0:-this.values[H];return Pa(this,{values:m},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?
this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(m){if(!this.isValid||!m.isValid||!this.loc.equals(m.loc))return!1;
for(const W of wb){var H=this.values[W];var R=m.values[W];H=void 0===H||0===H?void 0===R||0===R:H===R;if(!H)return!1}return!0}}class Sa{constructor(m){this.s=m.start;this.e=m.end;this.invalid=m.invalid||null;this.isLuxonInterval=!0}static invalid(m,H=null){if(!m)throw new oa("need to specify a reason the Interval is invalid");m=m instanceof eb?m:new eb(m,H);if(Ra.throwOnInvalid)throw new Tb(m);return new Sa({invalid:m})}static fromDateTimes(m,H){m=vb(m);H=vb(H);var R=m&&m.isValid?H&&H.isValid?H<m?
Sa.invalid("end before start",`The end of an interval must be after its start, but you had start=${m.toISO()} and end=${H.toISO()}`):null:Sa.invalid("missing or invalid end"):Sa.invalid("missing or invalid start");return null==R?new Sa({start:m,end:H}):R}static after(m,H){H=Na.fromDurationLike(H);m=vb(m);return Sa.fromDateTimes(m,m.plus(H))}static before(m,H){H=Na.fromDurationLike(H);m=vb(m);return Sa.fromDateTimes(m.minus(H),m)}static fromISO(m,H){const [R,W]=(m||"").split("/",2);if(R&&W){let na;
try{var da=Ja.fromISO(R,H);na=da.isValid}catch(za){na=!1}let ua;try{var ma=Ja.fromISO(W,H);ua=ma.isValid}catch(za){ua=!1}if(na&&ua)return Sa.fromDateTimes(da,ma);if(na){if(ma=Na.fromISO(W,H),ma.isValid)return Sa.after(da,ma)}else if(ua&&(da=Na.fromISO(R,H),da.isValid))return Sa.before(ma,da)}return Sa.invalid("unparsable",`the input "${m}" can't be parsed as ISO 8601`)}static isInterval(m){return m&&m.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:
null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(m="milliseconds"){return this.isValid?this.toDuration(...[m]).get(m):NaN}count(m="milliseconds",H){if(!this.isValid)return NaN;const R=this.start.startOf(m,H);let W;W=H?.useLocaleWeeks?this.end.reconfigure({locale:R.locale}):this.end;W=W.startOf(m,H);return Math.floor(W.diff(R,m).get(m))+(W.valueOf()!==
this.end.valueOf())}hasSame(m){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,m):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(m){return this.isValid?this.s>m:!1}isBefore(m){return this.isValid?this.e<=m:!1}contains(m){return this.isValid?this.s<=m&&this.e>m:!1}set({start:m,end:H}={}){return this.isValid?Sa.fromDateTimes(m||this.s,H||this.e):this}splitAt(...m){if(!this.isValid)return[];m=m.map(vb).filter(ma=>this.contains(ma)).sort((ma,na)=>ma.toMillis()-na.toMillis());
const H=[];let {s:R}=this,W=0;for(;R<this.e;){var da=m[W]||this.e;da=+da>+this.e?this.e:da;H.push(Sa.fromDateTimes(R,da));R=da;W+=1}return H}splitBy(m){m=Na.fromDurationLike(m);if(!this.isValid||!m.isValid||0===m.as("milliseconds"))return[];let {s:H}=this,R=1;const W=[];for(;H<this.e;){var da=this.start.plus(m.mapUnits(ma=>ma*R));da=+da>+this.e?this.e:da;W.push(Sa.fromDateTimes(H,da));H=da;R+=1}return W}divideEqually(m){return this.isValid?this.splitBy(this.length()/m).slice(0,m):[]}overlaps(m){return this.e>
m.s&&this.s<m.e}abutsStart(m){return this.isValid?+this.e===+m.s:!1}abutsEnd(m){return this.isValid?+m.e===+this.s:!1}engulfs(m){return this.isValid?this.s<=m.s&&this.e>=m.e:!1}equals(m){return this.isValid&&m.isValid?this.s.equals(m.s)&&this.e.equals(m.e):!1}intersection(m){if(!this.isValid)return this;const H=this.s>m.s?this.s:m.s;m=this.e<m.e?this.e:m.e;return H>=m?null:Sa.fromDateTimes(H,m)}union(m){return this.isValid?Sa.fromDateTimes(this.s<m.s?this.s:m.s,this.e>m.e?this.e:m.e):this}static merge(m){const [H,
R]=m.sort((W,da)=>W.s-da.s).reduce(([W,da],ma)=>da?da.overlaps(ma)||da.abutsStart(ma)?[W,da.union(ma)]:[W.concat([da]),ma]:[W,ma],[[],null]);R&&H.push(R);return H}static xor(m){let H=null,R=0;const W=[];m=m.map(da=>[{time:da.s,type:"s"},{time:da.e,type:"e"}]);m=Array.prototype.concat(...m).sort((da,ma)=>da.time-ma.time);for(const da of m)R+="s"===da.type?1:-1,1===R?H=da.time:(H&&+H!==+da.time&&W.push(Sa.fromDateTimes(H,da.time)),H=null);return Sa.merge(W)}difference(...m){return Sa.xor([this].concat(m)).map(H=>
this.intersection(H)).filter(H=>H&&!H.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(m=ya,H={}){return this.isValid?Wa.create(this.s.loc.clone(H),m).formatInterval(this):"Invalid Interval"}toISO(m){return this.isValid?`${this.s.toISO(m)}/${this.e.toISO(m)}`:
"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(m){return this.isValid?`${this.s.toISOTime(m)}/${this.e.toISOTime(m)}`:"Invalid Interval"}toFormat(m,{separator:H=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(m)}${H}${this.e.toFormat(m)}`:"Invalid Interval"}toDuration(m,H){return this.isValid?this.e.diff(this.s,m,H):Na.invalid(this.invalidReason)}mapEndpoints(m){return Sa.fromDateTimes(m(this.s),m(this.e))}}class Yb{static hasDST(m=
Ra.defaultZone){const H=Ja.now().setZone(m).set({month:12});return!m.isUniversal&&H.offset!==H.set({month:6}).offset}static isValidIANAZone(m){return mb.isValidZone(m)}static normalizeZone(m){return c(m,Ra.defaultZone)}static getStartOfWeek({locale:m=null,locObj:H=null}={}){return(H||Qa.create(m)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:m=null,locObj:H=null}={}){return(H||Qa.create(m)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:m=null,locObj:H=null}={}){return(H||
Qa.create(m)).getWeekendDays().slice()}static months(m="long",{locale:H=null,numberingSystem:R=null,locObj:W=null,outputCalendar:da="gregory"}={}){return(W||Qa.create(H,R,da)).months(m)}static monthsFormat(m="long",{locale:H=null,numberingSystem:R=null,locObj:W=null,outputCalendar:da="gregory"}={}){return(W||Qa.create(H,R,da)).months(m,!0)}static weekdays(m="long",{locale:H=null,numberingSystem:R=null,locObj:W=null}={}){return(W||Qa.create(H,R,null)).weekdays(m)}static weekdaysFormat(m="long",{locale:H=
null,numberingSystem:R=null,locObj:W=null}={}){return(W||Qa.create(H,R,null)).weekdays(m,!0)}static meridiems({locale:m=null}={}){return Qa.create(m).meridiems()}static eras(m="short",{locale:H=null}={}){return Qa.create(H,null,"gregory").eras(m)}static features(){return{relative:A(),localeWeek:C()}}}const hc={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",
khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},rc={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,
3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},cd=hc.hanidec.replace(/[\[|\]]/g,"").split(""),sc=`[ ${String.fromCharCode(160)}]`,ic=new RegExp(sc,"g"),dd={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},
minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let tc=null;const vc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Hd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Id={ordinal:1,hour:0,minute:0,second:0,millisecond:0},uc="year month day hour minute second millisecond".split(" "),Jd="weekYear weekNumber weekday hour minute second millisecond".split(" "),Kd="year ordinal hour minute second millisecond".split(" ");
class Ja{constructor(m){const H=m.zone||Ra.defaultZone;let R=m.invalid||(Number.isNaN(m.ts)?new eb("invalid input"):null)||(H.isValid?null:fb(H));this.ts=E(m.ts)?Ra.now():m.ts;let W=null;var da=null;R||(m.old&&m.old.ts===this.ts&&m.old.zone.equals(H)?[W,da]=[m.old.c,m.old.o]:(da=H.offset(this.ts),W=gb(this.ts,da),W=(R=Number.isNaN(W.year)?new eb("invalid input"):null)?null:W,da=R?null:da));this._zone=H;this.loc=m.loc||Qa.create();this.invalid=R;this.localWeekData=this.weekData=null;this.c=W;this.o=
da;this.isLuxonDateTime=!0}static now(){return new Ja({})}static local(){const [m,H]=Db(arguments),[R,W,da,ma,na,ua,za]=H;return Qb({year:R,month:W,day:da,hour:ma,minute:na,second:ua,millisecond:za},m)}static utc(){const [m,H]=Db(arguments),[R,W,da,ma,na,ua,za]=H;m.zone=Va.utcInstance;return Qb({year:R,month:W,day:da,hour:ma,minute:na,second:ua,millisecond:za},m)}static fromJSDate(m,H={}){m="[object Date]"===Object.prototype.toString.call(m)?m.valueOf():NaN;if(Number.isNaN(m))return Ja.invalid("invalid input");
const R=c(H.zone,Ra.defaultZone);return R.isValid?new Ja({ts:m,zone:R,loc:Qa.fromObject(H)}):Ja.invalid(fb(R))}static fromMillis(m,H={}){if(F(m))return-864E13>m||864E13<m?Ja.invalid("Timestamp out of range"):new Ja({ts:m,zone:c(H.zone,Ra.defaultZone),loc:Qa.fromObject(H)});throw new oa(`fromMillis requires a numerical input, but received a ${typeof m} with value ${m}`);}static fromSeconds(m,H={}){if(F(m))return new Ja({ts:1E3*m,zone:c(H.zone,Ra.defaultZone),loc:Qa.fromObject(H)});throw new oa("fromSeconds requires a numerical input");
}static fromObject(m,H={}){m=m||{};var R=c(H.zone,Ra.defaultZone);if(!R.isValid)return Ja.invalid(fb(R));const W=Qa.fromObject(H),da=aa(m,Mb),{minDaysInFirstWeek:ma,startOfWeek:na}=f(da,W);var ua=Ra.now();H=E(H.specificOffset)?R.offset(ua):H.specificOffset;var za=!E(da.ordinal),La=!E(da.year),Ga=!E(da.month)||!E(da.day);La=La||Ga;var Ka=da.weekYear||da.weekNumber;if((La||za)&&Ka)throw new X("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Ga&&za)throw new X("Can't mix ordinal dates with month/day");
Ga=Ka||da.weekday&&!La;let Oa=gb(ua,H);Ga?(ua=Jd,Ka=Hd,Oa=k(Oa,ma,na)):za?(ua=Kd,Ka=Id,Oa=n(Oa)):(ua=uc,Ka=vc);let Ta=!1;for(var Ua of ua)E(da[Ua])?da[Ua]=Ta?Ka[Ua]:Oa[Ua]:Ta=!0;Ga?Ua=p(da,ma,na):za?(Ua=D(da.year),ua=S(da.ordinal,1,ca(da.year)?366:365),Ua=Ua?ua?!1:d("ordinal",da.ordinal):d("year",da.year)):Ua=y(da);if(Ua=Ua||z(da))return Ja.invalid(Ua);za=Ga?e(da,ma,na):za?x(da):da;const [nb,Ob]=ib(za,H,R);R=new Ja({ts:nb,zone:R,o:Ob,loc:W});return da.weekday&&La&&m.weekday!==R.weekday?Ja.invalid("mismatched weekday",
`you can't specify both a weekday of ${da.weekday} and a date of ${R.toISO()}`):R}static fromISO(m,H={}){const [R,W]=Ba(m,[ud,Sc],[vd,yd],[wd,zd],[xd,Ad]);return db(R,W,H,"ISO 8601",m)}static fromRFC2822(m,H={}){const [R,W]=Ba(m.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[qd,Aa]);return db(R,W,H,"RFC 2822",m)}static fromHTTP(m,H={}){const [R,W]=Ba(m,[rd,Fa],[sd,Fa],[td,Ha]);return db(R,W,H,"HTTP",H)}static fromFormat(m,H,R={}){if(E(m)||E(H))throw new oa("fromFormat requires an input string and a format");
const {locale:W=null,numberingSystem:da=null}=R,ma=Qa.fromOpts({locale:W,numberingSystem:da,defaultToEN:!0}),{result:na,zone:ua,specificOffset:za,invalidReason:La}=ub(ma,m,H),[Ga,Ka,Oa,Ta]=[na,ua,za,La];return Ta?Ja.invalid(Ta):db(Ga,Ka,R,`format ${H}`,m,Oa)}static fromString(m,H,R={}){return Ja.fromFormat(m,H,R)}static fromSQL(m,H={}){const [R,W]=Ba(m,[Cd,Sc],[Dd,Ed]);return db(R,W,H,"SQL",m)}static invalid(m,H=null){if(!m)throw new oa("need to specify a reason the DateTime is invalid");m=m instanceof
eb?m:new eb(m,H);if(Ra.throwOnInvalid)throw new Cb(m);return new Ja({invalid:m})}static isDateTime(m){return m&&m.isLuxonDateTime||!1}static parseFormatForOpts(m,H={}){return(m=Sb(m,Qa.fromObject(H)))?m.map(R=>R?R.val:null).join(""):null}static expandFormat(m,H={}){return Bb(Wa.parseFormat(m),Qa.fromObject(H)).map(R=>R.val).join("")}get(m){return this[m]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?
this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:
NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Lb(this).weekYear:NaN}get weekNumber(){return this.isValid?Lb(this).weekNumber:NaN}get weekday(){return this.isValid?Lb(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?
hb(this).weekday:NaN}get localWeekNumber(){return this.isValid?hb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?hb(this).weekYear:NaN}get ordinal(){return this.isValid?n(this.c).ordinal:NaN}get monthShort(){return this.isValid?Yb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Yb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Yb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?
Yb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||
this.isOffsetFixed)return[this];var m=ia(this.c),H=this.zone.offset(m-864E5),R=this.zone.offset(m+864E5);H=this.zone.offset(m-6E4*H);var W=this.zone.offset(m-6E4*R);if(H===W)return[this];R=m-6E4*H;m-=6E4*W;H=gb(R,H);W=gb(m,W);return H.hour===W.hour&&H.minute===W.minute&&H.second===W.second&&H.millisecond===W.millisecond?[$a(this,{ts:R}),$a(this,{ts:m})]:[this]}get isInLeapYear(){return ca(this.year)}get daysInMonth(){return ha(this.year,this.month)}get daysInYear(){return this.isValid?ca(this.year)?
366:365:NaN}get weeksInWeekYear(){return this.isValid?ea(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ea(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(m={}){const {locale:H,numberingSystem:R,calendar:W}=Wa.create(this.loc.clone(m),m).resolvedOptions(this);return{locale:H,numberingSystem:R,outputCalendar:W}}toUTC(m=0,H={}){return this.setZone(Va.instance(m),H)}toLocal(){return this.setZone(Ra.defaultZone)}setZone(m,{keepLocalTime:H=
!1,keepCalendarTime:R=!1}={}){m=c(m,Ra.defaultZone);if(m.equals(this.zone))return this;if(m.isValid){let W=this.ts;if(H||R)H=m.offset(this.ts),R=this.toObject(),[W]=ib(R,H,m);return $a(this,{ts:W,zone:m})}return Ja.invalid(fb(m))}reconfigure({locale:m,numberingSystem:H,outputCalendar:R}={}){m=this.loc.clone({locale:m,numberingSystem:H,outputCalendar:R});return $a(this,{loc:m})}setLocale(m){return this.reconfigure({locale:m})}set(m){if(!this.isValid)return this;m=aa(m,Mb);const {minDaysInFirstWeek:H,
startOfWeek:R}=f(m,this.loc);var W=!E(m.weekYear)||!E(m.weekNumber)||!E(m.weekday);const da=!E(m.ordinal),ma=!E(m.year),na=!E(m.month)||!E(m.day),ua=m.weekYear||m.weekNumber;if((ma||na||da)&&ua)throw new X("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(na&&da)throw new X("Can't mix ordinal dates with month/day");W?W=e({...k(this.c,H,R),...m},H,R):E(m.ordinal)?(W={...this.toObject(),...m},E(m.day)&&(W.day=Math.min(ha(W.year,W.month),W.day))):W=x({...n(this.c),...m});const [za,
La]=ib(W,this.o,this.zone);return $a(this,{ts:za,o:La})}plus(m){if(!this.isValid)return this;m=Na.fromDurationLike(m);return $a(this,Kb(this,m))}minus(m){if(!this.isValid)return this;m=Na.fromDurationLike(m).negate();return $a(this,Kb(this,m))}startOf(m,{useLocaleWeeks:H=!1}={}){if(!this.isValid)return this;const R={};m=Na.normalizeUnit(m);switch(m){case "years":R.month=1;case "quarters":case "months":R.day=1;case "weeks":case "days":R.hour=0;case "hours":R.minute=0;case "minutes":R.second=0;case "seconds":R.millisecond=
0}if("weeks"===m)if(H){H=this.loc.getStartOfWeek();const {weekday:W}=this;W<H&&(R.weekNumber=this.weekNumber-1);R.weekday=H}else R.weekday=1;"quarters"===m&&(R.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(R)}endOf(m,H){return this.isValid?this.plus({[m]:1}).startOf(m,H).minus(1):this}toFormat(m,H={}){return this.isValid?Wa.create(this.loc.redefaultToEN(H)).formatDateTimeFromString(this,m):"Invalid DateTime"}toLocaleString(m=ya,H={}){return this.isValid?Wa.create(this.loc.clone(H),m).formatDateTime(this):
"Invalid DateTime"}toLocaleParts(m={}){return this.isValid?Wa.create(this.loc.clone(m),m).formatDateTimeParts(this):[]}toISO({format:m="extended",suppressSeconds:H=!1,suppressMilliseconds:R=!1,includeOffset:W=!0,extendedZone:da=!1}={}){if(!this.isValid)return null;m="extended"===m;let ma=ob(this,m);return ma=ma+"T"+Nb(this,m,H,R,W,da)}toISODate({format:m="extended"}={}){return this.isValid?ob(this,"extended"===m):null}toISOWeekDate(){return jb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:m=
!1,suppressSeconds:H=!1,includeOffset:R=!0,includePrefix:W=!1,extendedZone:da=!1,format:ma="extended"}={}){return this.isValid?(W?"T":"")+Nb(this,"extended"===ma,H,m,R,da):null}toRFC2822(){return jb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return jb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ob(this,!0):null}toSQLTime({includeOffset:m=!0,includeZone:H=!1,includeOffsetSpace:R=!0}={}){let W="HH:mm:ss.SSS";if(H||m)R&&(W+=" "),H?W+="z":m&&(W+="ZZ");return jb(this,
W,!0)}toSQL(m={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(m)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?
Math.floor(this.ts/1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(m={}){if(!this.isValid)return{};const H={...this.c};m.includeConfig&&(H.outputCalendar=this.outputCalendar,H.numberingSystem=this.loc.numberingSystem,H.locale=this.loc.locale);return H}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(m,H="milliseconds",R={}){if(!this.isValid||!m.isValid)return Na.invalid("created by diffing an invalid DateTime");R={locale:this.locale,numberingSystem:this.numberingSystem,
...R};const W=(Array.isArray(H)?H:[H]).map(Na.normalizeUnit);H=m.valueOf()>this.valueOf();m=Rb(H?this:m,H?m:this,W,R);return H?m.negate():m}diffNow(m="milliseconds",H={}){return this.diff(Ja.now(),m,H)}until(m){return this.isValid?Sa.fromDateTimes(this,m):this}hasSame(m,H,R){if(!this.isValid)return!1;const W=m.valueOf();m=this.setZone(m.zone,{keepLocalTime:!0});return m.startOf(H,R)<=W&&W<=m.endOf(H,R)}equals(m){return this.isValid&&m.isValid&&this.valueOf()===m.valueOf()&&this.zone.equals(m.zone)&&
this.loc.equals(m.loc)}toRelative(m={}){if(!this.isValid)return null;const H=m.base||Ja.fromObject({},{zone:this.zone}),R=m.padding?this<H?-m.padding:m.padding:0;let W="years months days hours minutes seconds".split(" "),da=m.unit;Array.isArray(m.unit)&&(W=m.unit,da=void 0);return Pb(H,this.plus(R),{...m,numeric:"always",units:W,unit:da})}toRelativeCalendar(m={}){return this.isValid?Pb(m.base||Ja.fromObject({},{zone:this.zone}),this,{...m,numeric:"auto",units:["years","months","days"],calendary:!0}):
null}static min(...m){if(!m.every(Ja.isDateTime))throw new oa("min requires all arguments be DateTimes");return G(m,H=>H.valueOf(),Math.min)}static max(...m){if(!m.every(Ja.isDateTime))throw new oa("max requires all arguments be DateTimes");return G(m,H=>H.valueOf(),Math.max)}static fromFormatExplain(m,H,R={}){const {locale:W=null,numberingSystem:da=null}=R;R=Qa.fromOpts({locale:W,numberingSystem:da,defaultToEN:!0});return ub(R,m,H)}static fromStringExplain(m,H,R={}){return Ja.fromFormatExplain(m,
H,R)}static get DATE_SHORT(){return ya}static get DATE_MED(){return Ca}static get DATE_MED_WITH_WEEKDAY(){return Ma}static get DATE_FULL(){return bb}static get DATE_HUGE(){return qb}static get TIME_SIMPLE(){return xb}static get TIME_WITH_SECONDS(){return kb}static get TIME_WITH_SHORT_OFFSET(){return Gb}static get TIME_WITH_LONG_OFFSET(){return Ya}static get TIME_24_SIMPLE(){return yb}static get TIME_24_WITH_SECONDS(){return zb}static get TIME_24_WITH_SHORT_OFFSET(){return rb}static get TIME_24_WITH_LONG_OFFSET(){return Hb}static get DATETIME_SHORT(){return wc}static get DATETIME_SHORT_WITH_SECONDS(){return xc}static get DATETIME_MED(){return yc}static get DATETIME_MED_WITH_SECONDS(){return zc}static get DATETIME_MED_WITH_WEEKDAY(){return ed}static get DATETIME_FULL(){return Ac}static get DATETIME_FULL_WITH_SECONDS(){return Bc}static get DATETIME_HUGE(){return Cc}static get DATETIME_HUGE_WITH_SECONDS(){return Dc}}
a.DateTime=Ja;a.Duration=Na;a.FixedOffsetZone=Va;a.IANAZone=mb;a.Zone=Eb})},"esri/intl/number":function(){define(["exports","./locale"],function(a,b){function B(g){const c=g||u;if(!v.has(c)){var d=b.getLocale();d=w[b.getLocale()]||d;v.set(c,new Intl.NumberFormat(d,g))}return v.get(c)}const w={ar:"ar-u-nu-latn"};let v=new WeakMap,u={};b.beforeLocaleChange(()=>{v=new WeakMap;u={}});const h=new Map;a.convertNumberFormatToIntlOptions=function(g={}){const c={};null!=g.digitSeparator&&(c.useGrouping=g.digitSeparator);
null!=g.places&&(c.minimumFractionDigits=c.maximumFractionDigits=g.places);return c};a.formatNumber=function(g,c){Object.is(g,-0)&&(g=0);return B(c).format(g)};a.getFormatter=B;a.parseNumber=function(g,c=b.getLocale()){if(!g)return null;var d=h.get(c);if(!d){d=B().formatToParts(12345.6);const l=[...B({useGrouping:!1}).format(9876543210)].reverse(),r=new Map(l.map((f,p)=>[f,p])),q=new RegExp(`[${d.find(f=>"group"===f.type)?.value}]`,"g"),k=new RegExp(`[${d.find(f=>"decimal"===f.type)?.value}]`),e=
new RegExp(`[${l.join("")}]`,"g"),n=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,x=/[-\u2212\u2013\u2014\u2015]/g;d=f=>{f=f.trim().replaceAll(q,"").replace(k,".").replace(e,p=>String(r.get(p))).replaceAll(n,"").replaceAll(x,"-");if(""===f)return null;f=Number(f);return isNaN(f)?null:f};h.set(c,d)}return d(g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),
function(a,b,B,w,v,u){function h(g){switch(typeof g){case "string":return g;case "number":return u.formatNumber(g);case "boolean":return""+g;default:return g instanceof Date?v.formatDate(g):""}}a.substitute=function(g,c,d={}){const {format:l={}}=d;return w.replace(g,r=>{{const e=r.indexOf(":");if(-1===e)var q=r.trim();else{q=r.slice(0,e).trim();var k=r.slice(e+1).trim()}if(q)if(r=B.getDeepValue(q,c),null==r)k="";else if(q=(k?l?.[k]:null)??l?.[q])b:switch(q.type){case "date":k=v.formatDate(r,q.intlOptions);
break b;case "number":k=u.formatNumber(r,q.intlOptions);break b;default:b.getLogger("esri.intl.substitute").warn("missing format descriptor for key {key}"),k=h(r)}else if(k)b:switch(k.toLowerCase()){case "dateformat":k=v.formatDate(r);break b;case "numberformat":k=u.formatNumber(r);break b;default:b.getLogger("esri.intl.substitute").warn(`inline format is unsupported since 4.12: ${k}`),k=/^(dateformat|datestring)/i.test(k)?v.formatDate(r):/^numberformat/i.test(k)?u.formatNumber(r):h(r)}else k=h(r);
else k=""}return k})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/messages":function(){define(["exports","../core/Error","../core/handleUtils","../core/promiseUtils","./locale"],function(a,b,B,w,v){function u(e){for(const n of r.keys())g(e.pattern,n)&&r.delete(n)}async function h(e,n){const x=[];for(const f of l)if(g(f.pattern,e))try{return await f.fetchMessageBundle(e,n)}catch(p){x.push(p)}if(x.length)throw new b("intl:message-bundle-error",`Errors occurred while loading "${e}"`,
{errors:x});throw new b("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`);}function g(e,n){return"string"===typeof e?n.startsWith(e):e.test(n)}const c=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,d={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0},l=[],r=new Map;v.beforeLocaleChange(()=>
{r.clear()});const q=new class{constructor(){this._numLoading=0;this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){this._increase();e.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()}_increase(){this._numLoading++;this._dfd||(this._dfd=w.createResolver())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}},k={cache:r,loaders:l};a.fetchMessageBundle=async function(e){const n=
v.getLocale();r.has(e)||r.set(e,h(e,n));(e=r.get(e))&&await q.add(e);return e};a.messageBundlesLocaleMap=d;a.normalizeMessageBundleLocale=function(e){if(!c.test(e))return null;e=c.exec(e);if(null===e)return null;const [,n,x]=e;e=n+(x?"-"+x.toUpperCase():"");return e in d?e:n in d?n:null};a.registerMessageBundleLoader=function(e){l.includes(e)||(u(e),l.unshift(e));return B.makeHandle(()=>{const n=l.indexOf(e);-1<n&&(l.splice(n,1),u(e))})};a.test=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/intl/t9n":function(){define(["exports","../request","../core/Error","./messages"],function(a,b,B,w){async function v(c,d,l,r){var q=d.exec(l);if(!q)throw new B("esri-intl:invalid-bundle",`Bundle id "${l}" is not compatible with the pattern "${d}"`);d=q[1]?`${q[1]}/`:"";q=q[2];const k=w.normalizeMessageBundleLocale(r);r=`${d}${q}.json`;d=k?`${d}${q}_${k}.json`:r;let e;try{e=await u(c(d))}catch(n){if(d===r)throw new B("intl:unknown-bundle",`Bundle "${l}" cannot be loaded`,{error:n});try{e=await u(c(r))}catch(x){throw new B("intl:unknown-bundle",
`Bundle "${l}" cannot be loaded`,{error:x});}}return e}async function u(c){if(null!=g.fetchBundleAsset)return g.fetchBundleAsset(c);c=await b(c,{responseType:"text"});return JSON.parse(c.data)}class h{constructor({base:c="",pattern:d,location:l=new URL(window.location.href)}){let r;r="string"===typeof l?q=>(new URL(q,new URL(l,window.location.href))).href:l instanceof URL?q=>(new URL(q,l)).href:l;this.pattern="string"===typeof d?new RegExp(`^${d}`):d;this.getAssetUrl=r;c=c?c.endsWith("/")?c:c+"/":
"";this.matcher=new RegExp(`^${c}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(c,d){return v(this.getAssetUrl,this.matcher,c,d)}}const g={};a.JSONLoader=h;a.createJSONLoader=function(c){return new h(c)};a.test=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/dataUtils":function(){define(["exports"],function(a){a.isNumber=function(b){return"number"===typeof b};a.isString=function(b){return"string"===typeof b||b instanceof String};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../geometry ../core/Error ../core/Logger ../geometry/SpatialReference".split(" "),function(a,b,B,w,v,u){function h(){g||=(async()=>{const d=await new Promise((l,r)=>a(["./arcadeUtils"],l,r));return{arcade:d.arcade,arcadeUtils:d,Dictionary:d.Dictionary,Feature:d.arcadeFeature}})();return g}let g;B=(d,l,r)=>c.create(d,l,r,null,["$feature","$view"],[]);class c{constructor(d,l,r,q,k,e,n){this.services=null;this.script=
d;this.evaluate=q;this.fields=(Array.isArray(e)?e:e?.fields)??[];this._syntaxTree=r;this._arcade=l;this._arcadeFeature=k;this._spatialReference=n;this._referencesGeometry=l.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(d,l,r,q,k,e){const {arcade:n,Feature:x,Dictionary:f}=await h(),p=u.fromJSON(l);let y;try{y=n.parseScript(d,e)}catch(C){return v.getLogger("esri.support.arcadeOnDemand").error(new w("arcade-bad-expression",
"Failed to parse arcade script",{script:d,error:C})),null}k=k.reduce((C,G)=>({...C,[G]:null}),{});let z=null;null!=q&&(z=new f(q),z.immutable=!0,k.$config=null);e=(q=n.scriptUsesGeometryEngine(y))&&n.enableGeometrySupport();const E=n.scriptUsesFeatureSet(y)&&n.enableFeatureSetSupport(),F=(l=n.scriptIsAsync(y))&&n.enableAsyncSupport();k={vars:k,spatialReference:p,useAsync:!!F};await Promise.all([e,E,F]);e=new Set;await n.loadDependentModules(e,y,null,l,q);const D=new f;D.immutable=!1;D.setField("scale",
0);const A=n.compileScript(y,k);return new c(d,n,y,(C,G)=>{const J=C.$view?.timeZone;"$view"in C&&C.$view&&(D.setField("scale","object"===typeof C.$view&&"scale"in C.$view?C.$view.scale:void 0),C.$view=D);z&&(C.$config=z);return A({vars:C,spatialReference:p,services:G,timeZone:J})},new x,r,p)}repurposeFeature(d){d.geometry&&!d.geometry.spatialReference&&(d.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(d.geometry,d.attributes,{fields:this.fields});
return this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}b.ArcadeExpression=c;b.createDictionaryExpression=(d,l,r,q)=>c.create(d,l,r,q,["$feature","$view"],[]);b.createLabelExpression=(d,l,r)=>c.create(d,l,r,null,["$feature","$view"],[]);b.createRendererExpression=B;b.createRendererExpressionWithOptions=(d,l)=>c.create(d,l.spatialReference,l.fields,null,["$feature","$view"],[]);b.createVVExpression=B;b.loadArcade=h;Object.defineProperty(b,
Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define(["../../../../core/promiseUtils","./enums","./WorkerTile","./style/StyleRepository"],function(a,b,B,w){class v{constructor(){this._spriteInfo={};this._glyphInfo={};this._sourceDataMaxLOD=25}reset(){this._spriteInfo={};this._glyphInfo={};return Promise.resolve()}getLayers(){return this._styleRepository?.layers??[]}async createTileAndParse(u,h){var {key:g}=u;const c={};for(const d of Object.keys(u.sourceName2DataAndRefKey))c[d]=
u.sourceName2DataAndRefKey[d].refKey;g=new B(g,c,this,this._styleRepository);try{return await g.parse({...u,sourceDataMaxLOD:this._sourceDataMaxLOD},h)}catch(d){g.setObsolete();g.release();if(!a.isAbortError(d))throw d;return null}}updateStyle(u){if(u&&0!==u.length&&this._styleRepository){var h=this._styleRepository;for(const g of u)switch(u=g.data,g.type){case b.StyleUpdateType.PAINTER_CHANGED:h.setPaintProperties(u.layer,u.paint);break;case b.StyleUpdateType.LAYOUT_CHANGED:h.setLayoutProperties(u.layer,
u.layout);break;case b.StyleUpdateType.LAYER_REMOVED:h.deleteStyleLayer(u.layer);break;case b.StyleUpdateType.LAYER_CHANGED:h.setStyleLayer(u.layer,u.index);break;case b.StyleUpdateType.SPRITES_CHANGED:this._spriteInfo={}}}}setStyle(u){const {style:h,sourceDataMaxLOD:g}=u;this._styleRepository=new w(h);this._sourceDataMaxLOD=g;this._spriteInfo={};this._glyphInfo={}}fetchSprites(u,h,g){const c=[],d=this._spriteInfo;for(const l of u)void 0===d[l.name]&&c.push(l);return 0===c.length?Promise.resolve():
h.invoke("getSprites",c,{signal:g?.signal}).then(l=>{for(const r in l)d[r]=l[r]})}getSpriteItems(){return this._spriteInfo}fetchGlyphs(u,h,g,c,d){const l=[];let r=this._glyphInfo[h];r?g.forEach(q=>{r[q]||l.push(q)}):(r=this._glyphInfo[h]=[],g.forEach(q=>l.push(q)));return 0===l.length?Promise.resolve():c.invoke("getGlyphs",{tileID:u,font:h,codePoints:l},d).then(q=>{for(let k=0;k<q.length;k++)q[k]&&(r[k]=q[k])})}getGlyphItems(u){return this._glyphInfo[u]}}return v})},"esri/views/2d/engine/vectorTiles/enums":function(){define(["exports"],
function(a){a.BucketType=void 0;(function(b){b[b.FILL=1]="FILL";b[b.LINE=2]="LINE";b[b.SYMBOL=3]="SYMBOL";b[b.CIRCLE=4]="CIRCLE"})(a.BucketType||(a.BucketType={}));a.ShaderProgramType=void 0;(function(b){b[b.BACKGROUND=0]="BACKGROUND";b[b.FILL=1]="FILL";b[b.OUTLINE=2]="OUTLINE";b[b.LINE=3]="LINE";b[b.ICON=4]="ICON";b[b.CIRCLE=5]="CIRCLE";b[b.TEXT=6]="TEXT";b[b.TILEINFO=7]="TILEINFO"})(a.ShaderProgramType||(a.ShaderProgramType={}));a.StyleUpdateType=void 0;(function(b){b[b.PAINTER_CHANGED=0]="PAINTER_CHANGED";
b[b.LAYOUT_CHANGED=1]="LAYOUT_CHANGED";b[b.LAYER_CHANGED=2]="LAYER_CHANGED";b[b.LAYER_REMOVED=3]="LAYER_REMOVED";b[b.SPRITES_CHANGED=4]="SPRITES_CHANGED"})(a.StyleUpdateType||(a.StyleUpdateType={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define(["../../../../core/promiseUtils","./Placement","./TileParser","../../tiling/enums"],function(a,b,B,w){class v{constructor(u,h,g,c){this.status=w.TileStatus.INITIALIZED;this.placementEngine=
new b.PlacementEngine;this.tileKey=u;this.refKeys=h;this._workerTileHandler=g;this._styleRepository=c}release(){this.tileKey="";this.refKeys=null;this.status=w.TileStatus.INITIALIZED;this._workerTileHandler=null}async parse(u,h){const g=h?.signal;if(null!=g){const r=()=>{g.removeEventListener("abort",r);this.status=w.TileStatus.INVALID};g.addEventListener("abort",r)}const c={bucketsWithData:[],emptyBuckets:null};try{var d=await this._parse(u,h)}catch(r){if(a.isAbortError(r))throw r;return{result:c,
transferList:[]}}this.status=w.TileStatus.READY;h=c.bucketsWithData;u=[];for(var l of d)l.hasFeatures()?(d=l.serialize(),h.push(d)):u.push(l.layer.uid);l=[...h];d=null;0<u.length&&(d=Uint32Array.from(u),l.push(d.buffer));c.emptyBuckets=d;return{result:c,transferList:l}}setObsolete(){this.status=w.TileStatus.INVALID}getLayers(){return this._workerTileHandler.getLayers()}getWorkerTileHandler(){return this._workerTileHandler}async _parse(u,h){const g=u.sourceName2DataAndRefKey;if(0===Object.keys(g).length)return[];
this.status=w.TileStatus.MODIFIED;return(new B(g,this,h.client,u.sourceDataMaxLOD,this._styleRepository,u.styleLayerUIDs)).parse(h)}}return v})},"esri/views/2d/engine/vectorTiles/Placement":function(){define("exports ../../../../geometry/support/TileClipper ./GeometryUtils ./TextShaping ./decluttering/config ./style/StyleDefinition".split(" "),function(a,b,B,w,v,u){class h{constructor(r,q,k=0,e=-1,n=.5){this.x=r;this.y=q;this.angle=k;this.segment=e;this.minzoom=n}}class g{constructor(r,q,k,e,n,x=
.5,f=B.cInfinity){this.anchor=r;this.labelAngle=q;this.glyphAngle=k;this.page=e;this.alternateVerticalGlyph=n;this.minzoom=x;this.maxzoom=f}}class c{constructor(r,q,k,e,n,x,f,p,y,z,E,F){this.tl=r;this.tr=q;this.bl=k;this.br=e;this.mosaicRect=n;this.labelAngle=x;this.minAngle=f;this.maxAngle=p;this.anchor=y;this.minzoom=z;this.maxzoom=E;this.page=F}}class d{constructor(r){this.shapes=r}}class l{getIconPlacement(r,q,k){const e=new b.Point(r.x,r.y),n=k.rotationAlignment===u.RotationAlignment.MAP,x=k.keepUpright;
let f=k.rotate*B.cDegToRad;n&&(f+=r.angle);r=new d([]);k.allowOverlap&&k.ignorePlacement||!v.declutterTiles||(r.iconColliders=[]);this._addIconPlacement(r,e,q,k,f);n&&x&&this._addIconPlacement(r,e,q,k,f+B.cPi);return r}_addIconPlacement(r,q,k,e,n){var x=k.rasterizationScale;const f=k.width/x,p=k.height/x;var y=e.offset;let z=y[0];y=y[1];switch(e.anchor){case u.SymbolAnchor.CENTER:z-=f/2;y-=p/2;break;case u.SymbolAnchor.LEFT:y-=p/2;break;case u.SymbolAnchor.RIGHT:z-=f;y-=p/2;break;case u.SymbolAnchor.TOP:z-=
f/2;break;case u.SymbolAnchor.BOTTOM:z-=f/2;y-=p;break;case u.SymbolAnchor.BOTTOM_LEFT:y-=p;break;case u.SymbolAnchor.TOP_RIGHT:z-=f;break;case u.SymbolAnchor.BOTTOM_RIGHT:z-=f,y-=p}k=k.rect;var E=2/x,F=z-E,D=y-E,A=F+k.width/x,C=D+k.height/x;x=new b.Point(F,D);E=new b.Point(A,C);F=new b.Point(F,C);D=new b.Point(A,D);0!==n&&(A=Math.cos(n),C=Math.sin(n),x.rotate(A,C),E.rotate(A,C),F.rotate(A,C),D.rotate(A,C));k=new c(x,D,F,E,k,n,0,256,q,.5,B.cInfinity,0);r.shapes.push(k);e.allowOverlap&&e.ignorePlacement||
!v.declutterTiles||(k=e.size,x=e.padding,r.iconColliders.push({xTile:q.x,yTile:q.y,dxPixels:z*k-x,dyPixels:y*k-x,hard:!e.optional,partIndex:0,width:f*k+2*x,height:p*k+2*x,angle:n,minLod:.5,maxLod:B.cInfinity}))}getTextPlacement(r,q,k,e){var n=new b.Point(r.x,r.y);const x=e.rotate*B.cDegToRad;var f=e.rotationAlignment===u.RotationAlignment.MAP;const p=e.keepUpright,y=e.padding;let z=.5;const E=f?r.angle:0,F=0<=r.segment&&f,D=e.allowOverlap&&e.ignorePlacement?null:[],A=[],C=!F;var G=Number.POSITIVE_INFINITY;
let J=Number.NEGATIVE_INFINITY,I=G,P=J;const S=F?p:f&&p,Y=e.size/w.sdfGlyphSize;let M=!1;for(var L of q)if(L.vertical){M=!0;break}let O=0;L=0;if(!F&&M){var U=w.TextShaping.getTextBox(q,e.lineHeight*w.sdfGlyphSize);switch(e.anchor){case u.SymbolAnchor.LEFT:O=U.height/2;L=-U.width/2;break;case u.SymbolAnchor.RIGHT:O=-U.height/2;L=U.width/2;break;case u.SymbolAnchor.TOP:O=U.height/2;L=U.width/2;break;case u.SymbolAnchor.BOTTOM:O=-U.height/2;L=-U.width/2;break;case u.SymbolAnchor.TOP_LEFT:O=U.height;
break;case u.SymbolAnchor.BOTTOM_LEFT:L=-U.width;break;case u.SymbolAnchor.TOP_RIGHT:L=U.width;break;case u.SymbolAnchor.BOTTOM_RIGHT:O=-U.height}}O+=e.offset[0]*w.sdfGlyphSize;L+=e.offset[1]*w.sdfGlyphSize;for(const aa of q){var ca=aa.glyphMosaicItem;if(!ca||ca.rect.isEmpty)continue;q=ca.rect;U=ca.metrics;var ha=ca.page;if(D&&C){if(void 0!==la&&la!==aa.y){var ia=void 0,ea=void 0;if(M){var la=-P+O;ia=G+L;ea=P-I;G=J-G}else la=G+O,ia=I+L,ea=J-G,G=P-I;D.push({xTile:r.x,yTile:r.y,dxPixels:la*Y-y,dyPixels:ia*
Y-y,hard:!e.optional,partIndex:1,width:ea*Y+2*y,height:G*Y+2*y,angle:x,minLod:.5,maxLod:B.cInfinity});G=Number.POSITIVE_INFINITY;J=Number.NEGATIVE_INFINITY;I=G;P=J}la=aa.y}var ra=[];if(F){if(ca=(aa.x+U.left-4+.5*ca.metrics.width)*Y*8,z=this._placeGlyph(r,z,ca,k,r.segment,1,aa.vertical,ha,ra),p&&(z=this._placeGlyph(r,z,ca,k,r.segment,-1,aa.vertical,ha,ra)),2<=z)break}else ra.push(new g(n,E,E,ha,!1)),f&&p&&ra.push(new g(n,E+B.cPi,E+B.cPi,ha,!1));ha=aa.x+U.left;ca=aa.y-w.sdfGlyphBaseline-U.top;ia=ha+
U.width;ea=ca+U.height;let T,Q,V,ba;!F&&M?aa.vertical?(T=new b.Point(-((ca+ea)/2+U.width/2)-4+O,(ha+ia)/2-U.height/2-4+L),Q=new b.Point(T.x+q.width,T.y+q.height),V=new b.Point(T.x,Q.y),ba=new b.Point(Q.x,T.y)):(T=new b.Point(-ca+4+O,ha-4+L),Q=new b.Point(T.x-q.height,T.y+q.width),V=new b.Point(Q.x,T.y),ba=new b.Point(T.x,Q.y)):(T=new b.Point(ha-4+O,ca-4+L),Q=new b.Point(T.x+q.width,T.y+q.height),V=new b.Point(T.x,Q.y),ba=new b.Point(Q.x,T.y));let fa,pa,ta,sa;for(const xa of ra){let Ba,Ea,Da;xa.alternateVerticalGlyph?
(fa||(fa=new b.Point((ha+ia)/2+O-U.height/2-4,(ca+ea)/2+L+U.width/2+4),pa=new b.Point(fa.x+q.height,fa.y-q.width),ta=new b.Point(pa.x,fa.y),sa=new b.Point(fa.x,pa.y)),ra=fa,Ba=ta,Ea=sa,Da=pa):(ra=T,Ba=V,Ea=ba,Da=Q);const t=ca,K=ea,N=xa.glyphAngle+x;if(0!==N){var wa=Math.cos(N),va=Math.sin(N);ra=ra.clone();Ba=Ba?.clone();Ea=Ea?.clone();Da=Da?.clone();ra.rotate(wa,va);Da?.rotate(wa,va);Ba?.rotate(wa,va);Ea?.rotate(wa,va)}wa=0;va=256;F&&M?aa.vertical?xa.alternateVerticalGlyph?(wa=32,va=96):(wa=224,va=
32):(wa=224,va=96):(wa=192,va=64);A.push(new c(ra,Ea,Ba,Da,q,xa.labelAngle,wa,va,xa.anchor,xa.minzoom,xa.maxzoom,xa.page));!D||S&&!this._legible(xa.labelAngle)||(C?(ha<G&&(G=ha),t<I&&(I=t),ia>J&&(J=ia),K>P&&(P=K)):2>xa.minzoom&&D.push({xTile:r.x,yTile:r.y,dxPixels:(ha+O)*Y-y,dyPixels:(t+O)*Y-y,hard:!e.optional,partIndex:1,width:(ia-ha)*Y+2*y,height:(K-t)*Y+2*y,angle:N,minLod:xa.minzoom,maxLod:xa.maxzoom}))}}if(2<=z)return null;D&&C&&(M?(k=-P+O,n=G+L,f=P-I,G=J-G):(k=G+O,n=I+L,f=J-G,G=P-I),D.push({xTile:r.x,
yTile:r.y,dxPixels:k*Y-y,dyPixels:n*Y-y,hard:!e.optional,partIndex:1,width:f*Y+2*y,height:G*Y+2*y,angle:x,minLod:.5,maxLod:B.cInfinity}));r=new d(A);D&&0<D.length&&(r.textColliders=D);return r}_legible(r){r=B.radToByte(r);return 65>r||193<=r}_placeGlyph(r,q,k,e,n,x,f,p,y){const z=0>x?B.positiveMod(r.angle+B.cPi,B.c2pi):r.angle;let E=0;0>k&&(x*=-1,k*=-1,E=B.cPi);0<x&&++n;r=new b.Point(r.x,r.y);let F=e[n];var D=B.cInfinity;if(e.length<=n)return D;for(;;){var A=F.x-r.x,C=F.y-r.y;const G=Math.sqrt(A*
A+C*C),J=Math.max(k/G,q);A=B.positiveMod(Math.atan2(C/G,A/G)+E,B.c2pi);y.push(new g(r,z,A,p,!1,J,D));f&&y.push(new g(r,z,A,p,!0,J,D));if(J<=q)return J;r=F.clone();do{n+=x;if(e.length<=n||0>n)return J;F=e[n]}while(r.isEqual(F));D=F.x-r.x;A=F.y-r.y;C=Math.sqrt(D*D+A*A);D*=G/C;A*=G/C;r.x-=D;r.y-=A;D=J}}}a.Anchor=h;a.PlacedSymbol=c;a.Placement=d;a.PlacementEngine=l;a.tileCoordSize=4096;a.tilePixelRatio=8;a.tilePixelSize=512;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/TileClipper":function(){define(["exports"],
function(a){a.GeometryType=void 0;(function(c){c[c.Unknown=0]="Unknown";c[c.Point=1]="Point";c[c.LineString=2]="LineString";c[c.Polygon=3]="Polygon"})(a.GeometryType||(a.GeometryType={}));class b{constructor(c,d){this.x=c;this.y=d}clone(){return new b(this.x,this.y)}equals(c,d){return c===this.x&&d===this.y}isEqual(c){return c.x===this.x&&c.y===this.y}setCoords(c,d){this.x=c;this.y=d;return this}normalize(){var c=this.x;const d=this.y;c=Math.sqrt(c*c+d*d);this.x/=c;this.y/=c;return this}rightPerpendicular(){const c=
this.x;this.x=this.y;this.y=-c;return this}leftPerpendicular(){const c=this.x;this.x=-this.y;this.y=c;return this}move(c,d){this.x+=c;this.y+=d;return this}assign(c){this.x=c.x;this.y=c.y;return this}assignAdd(c,d){this.x=c.x+d.x;this.y=c.y+d.y;return this}assignSub(c,d){this.x=c.x-d.x;this.y=c.y-d.y;return this}rotate(c,d){const l=this.x,r=this.y;this.x=l*c-r*d;this.y=l*d+r*c;return this}scale(c){this.x*=c;this.y*=c;return this}length(){const c=this.x,d=this.y;return Math.sqrt(c*c+d*d)}sub(c){this.x-=
c.x;this.y-=c.y;return this}add(c){this.x+=c.x;this.y+=c.y;return this}static distance(c,d){const l=d.x-c.x;c=d.y-c.y;return Math.sqrt(l*l+c*c)}static add(c,d){return new b(c.x+d.x,c.y+d.y)}static sub(c,d){return new b(c.x-d.x,c.y-d.y)}}class B{constructor(c,d,l){this.ratio=c;this.x=d;this.y=l}}class w{constructor(c,d,l,r=8,q=8){this._lines=[];this._starts=[];this.validateTessellation=!0;this._pixelRatio=r;this._pixelMargin=q;this._tileSize=512*r;this._dz=c;this._yPos=d;this._xPos=l}setPixelMargin(c){c!==
this._pixelMargin&&(this._pixelMargin=c,this.setExtent(this._extent))}setExtent(c){this._extent=c;this._finalRatio=this._tileSize/c*(1<<this._dz);let d=this._pixelRatio*this._pixelMargin;d/=this._finalRatio;c>>=this._dz;d>c&&(d=c);this._margin=d;this._xmin=c*this._xPos-d;this._ymin=c*this._yPos-d;this._xmax=this._xmin+c+2*d;this._ymax=this._ymin+c+2*d}reset(c){this._type=c;this._lines=[];this._starts=[];this._line=null;this._start=0}moveTo(c,d){this._pushLine();this._prevIsIn=this._isIn(c,d);this._moveTo(c,
d,this._prevIsIn);this._prevPt=new b(c,d);this._firstPt=new b(c,d);this._dist=0}lineTo(c,d){const l=this._isIn(c,d),r=new b(c,d),q=b.distance(this._prevPt,r);if(l)if(this._prevIsIn)this._lineTo(c,d,!0);else{var k=this._prevPt;var e=r;c=this._intersect(e,k);this._start=this._dist+q*(1-this._r);this._lineTo(c.x,c.y,!0);this._lineTo(e.x,e.y,!0)}else if(this._prevIsIn)e=this._prevPt,k=r,c=this._intersect(e,k),this._lineTo(c.x,c.y,!0),this._lineTo(k.x,k.y,!1);else{const x=this._prevPt;if(!(x.x<=this._xmin&&
r.x<=this._xmin||x.x>=this._xmax&&r.x>=this._xmax||x.y<=this._ymin&&r.y<=this._ymin||x.y>=this._ymax&&r.y>=this._ymax)){c=[];if(x.x<this._xmin&&r.x>this._xmin||x.x>this._xmin&&r.x<this._xmin){d=(this._xmin-x.x)/(r.x-x.x);var n=x.y+d*(r.y-x.y);n<=this._ymin?e=!1:n>=this._ymax?e=!0:c.push(new B(d,this._xmin,n))}if(x.x<this._xmax&&r.x>this._xmax||x.x>this._xmax&&r.x<this._xmax)d=(this._xmax-x.x)/(r.x-x.x),n=x.y+d*(r.y-x.y),n<=this._ymin?e=!1:n>=this._ymax?e=!0:c.push(new B(d,this._xmax,n));if(x.y<this._ymin&&
r.y>this._ymin||x.y>this._ymin&&r.y<this._ymin)d=(this._ymin-x.y)/(r.y-x.y),n=x.x+d*(r.x-x.x),n<=this._xmin?k=!1:n>=this._xmax?k=!0:c.push(new B(d,n,this._ymin));if(x.y<this._ymax&&r.y>this._ymax||x.y>this._ymax&&r.y<this._ymax)d=(this._ymax-x.y)/(r.y-x.y),n=x.x+d*(r.x-x.x),n<=this._xmin?k=!1:n>=this._xmax?k=!0:c.push(new B(d,n,this._ymax));if(0===c.length)k?e?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):e?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,
this._ymin,!0);else if(1<c.length&&c[0].ratio>c[1].ratio)this._start=this._dist+q*c[1].ratio,this._lineTo(c[1].x,c[1].y,!0),this._lineTo(c[0].x,c[0].y,!0);else for(this._start=this._dist+q*c[0].ratio,k=0;k<c.length;k++)this._lineTo(c[k].x,c[k].y,!0)}this._lineTo(r.x,r.y,!1)}this._dist+=q;this._prevIsIn=l;this._prevPt=r}close(){if(2<this._line.length){var c=this._firstPt,d=this._prevPt;c.x===d.x&&c.y===d.y||this.lineTo(c.x,c.y);c=this._line;for(d=c.length;4<=d;)if(c[0].x===c[1].x&&c[0].x===c[d-2].x||
c[0].y===c[1].y&&c[0].y===c[d-2].y)c.pop(),c[0].x=c[d-2].x,c[0].y=c[d-2].y,--d;else break}}result(c=!0){this._pushLine();if(0===this._lines.length)return null;this._type===a.GeometryType.Polygon&&c&&h.simplify(this._tileSize,this._margin*this._finalRatio,this._lines);return this._lines}resultWithStarts(){if(this._type!==a.GeometryType.LineString)throw Error("Only valid for lines");this._pushLine();const c=this._lines,d=c.length;if(0===d)return null;const l=[];for(let r=0;r<d;r++)l.push({line:c[r],
start:this._starts[r]||0});return l}_isIn(c,d){return c>=this._xmin&&c<=this._xmax&&d>=this._ymin&&d<=this._ymax}_intersect(c,d){let l,r,q;if(d.x>=this._xmin&&d.x<=this._xmax)r=d.y<=this._ymin?this._ymin:this._ymax,q=(r-c.y)/(d.y-c.y),l=c.x+q*(d.x-c.x);else if(d.y>=this._ymin&&d.y<=this._ymax)l=d.x<=this._xmin?this._xmin:this._xmax,q=(l-c.x)/(d.x-c.x),r=c.y+q*(d.y-c.y);else{r=d.y<=this._ymin?this._ymin:this._ymax;l=d.x<=this._xmin?this._xmin:this._xmax;const k=(l-c.x)/(d.x-c.x),e=(r-c.y)/(d.y-c.y);
k<e?(q=k,r=c.y+k*(d.y-c.y)):(q=e,l=c.x+e*(d.x-c.x))}this._r=q;return new b(l,r)}_pushLine(){this._line&&(this._type===a.GeometryType.Point?0<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===a.GeometryType.LineString?1<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===a.GeometryType.Polygon&&3<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)));this._line=[];this._start=0}_moveTo(c,
d,l){this._type!==a.GeometryType.Polygon?l&&(c=Math.round((c-(this._xmin+this._margin))*this._finalRatio),d=Math.round((d-(this._ymin+this._margin))*this._finalRatio),this._line.push(new b(c,d))):(l||(c<this._xmin&&(c=this._xmin),c>this._xmax&&(c=this._xmax),d<this._ymin&&(d=this._ymin),d>this._ymax&&(d=this._ymax)),c=Math.round((c-(this._xmin+this._margin))*this._finalRatio),d=Math.round((d-(this._ymin+this._margin))*this._finalRatio),this._line.push(new b(c,d)),this._isV=this._isH=!1)}_lineTo(c,
d,l){if(this._type!==a.GeometryType.Polygon)if(l){c=Math.round((c-(this._xmin+this._margin))*this._finalRatio);d=Math.round((d-(this._ymin+this._margin))*this._finalRatio);if(0<this._line.length&&(l=this._line[this._line.length-1],l.equals(c,d)))return;this._line.push(new b(c,d))}else this._line&&0<this._line.length&&this._pushLine();else if(l||(c<this._xmin&&(c=this._xmin),c>this._xmax&&(c=this._xmax),d<this._ymin&&(d=this._ymin),d>this._ymax&&(d=this._ymax)),c=Math.round((c-(this._xmin+this._margin))*
this._finalRatio),d=Math.round((d-(this._ymin+this._margin))*this._finalRatio),this._line&&0<this._line.length){l=this._line[this._line.length-1];const r=l.x===c,q=l.y===d;r&&q||(this._isH&&r?(l.x=c,l.y=d,l=this._line[this._line.length-2],l.x===c&&l.y===d?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(l=this._line[this._line.length-2],this._isH=l.x===c,this._isV=l.y===d)):(this._isH=l.x===c,this._isV=l.y===d)):this._isV&&q?(l.x=c,l.y=d,l=this._line[this._line.length-2],l.x===c&&l.y===
d?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(l=this._line[this._line.length-2],this._isH=l.x===c,this._isV=l.y===d)):(this._isH=l.x===c,this._isV=l.y===d)):(this._line.push(new b(c,d)),this._isH=r,this._isV=q))}else this._line.push(new b(c,d))}}class v{setExtent(c){this._ratio=4096===c?1:4096/c}get validateTessellation(){return 1>this._ratio}reset(c){this._lines=[];this._line=null}moveTo(c,d){this._line&&this._lines.push(this._line);this._line=[];const l=this._ratio;this._line.push(new b(c*
l,d*l))}lineTo(c,d){const l=this._ratio;this._line.push(new b(c*l,d*l))}close(){const c=this._line;c&&!c[0].isEqual(c[c.length-1])&&c.push(c[0])}result(){this._line&&this._lines.push(this._line);return 0===this._lines.length?null:this._lines}}var u;(function(c){c[c.sideLeft=0]="sideLeft";c[c.sideRight=1]="sideRight";c[c.sideTop=2]="sideTop";c[c.sideBottom=3]="sideBottom"})(u||={});class h{static simplify(c,d,l){if(l){var r=-d,q=c+d,k=-d,e=c+d;c=[];d=[];var n=l.length;for(let x=0;x<n;++x){const f=
l[x];if(!f||2>f.length)continue;let p=f[0],y;const z=f.length;for(let E=1;E<z;++E)y=f[E],p.x===y.x&&(p.x<=r&&(p.y>y.y?(c.push(x),c.push(E),c.push(u.sideLeft),c.push(-1)):(d.push(x),d.push(E),d.push(u.sideLeft),d.push(-1))),p.x>=q&&(p.y<y.y?(c.push(x),c.push(E),c.push(u.sideRight),c.push(-1)):(d.push(x),d.push(E),d.push(u.sideRight),d.push(-1)))),p.y===y.y&&(p.y<=k&&(p.x<y.x?(c.push(x),c.push(E),c.push(u.sideTop),c.push(-1)):(d.push(x),d.push(E),d.push(u.sideTop),d.push(-1))),p.y>=e&&(p.x>y.x?(c.push(x),
c.push(E),c.push(u.sideBottom),c.push(-1)):(d.push(x),d.push(E),d.push(u.sideBottom),d.push(-1)))),p=y}0!==c.length&&0!==d.length&&(h.fillParent(l,d,c),h.fillParent(l,c,d),r=[],h.calcDeltas(r,d,c),h.calcDeltas(r,c,d),h.addDeltas(r,l))}}static fillParent(c,d,l){const r=l.length,q=d.length;for(let f=0;f<q;f+=4){var k=d[f],e=d[f+1];const p=d[f+2],y=c[k][e-1];k=c[k][e];e=8092;let z=-1;for(let E=0;E<r;E+=4){if(l[E+2]!==p)continue;var n=l[E];const F=l[E+1];var x=c[n][F-1];n=c[n][F];switch(p){case u.sideLeft:case u.sideRight:g(y.y,
x.y,n.y)&&g(k.y,x.y,n.y)&&(x=Math.abs(n.y-x.y),x<e&&(e=x,z=E));break;case u.sideTop:case u.sideBottom:g(y.x,x.x,n.x)&&g(k.x,x.x,n.x)&&(x=Math.abs(n.x-x.x),x<e&&(e=x,z=E))}}d[f+3]=z}}static calcDeltas(c,d,l){const r=d.length;for(let q=0;q<r;q+=4){const k=h.calcDelta(q,d,l,[]);c.push(d[q]);c.push(d[q+1]);c.push(d[q+2]);c.push(k)}}static calcDelta(c,d,l,r){c=d[c+3];if(-1===c)return 0;const q=r.length;if(1<q&&r[q-2]===c)return 0;r.push(c);return h.calcDelta(c,l,d,r)+1}static addDeltas(c,d){const l=c.length;
let r=0;for(var q=0;q<l;q+=4){var k=c[q+3];k>r&&(r=k)}for(q=0;q<l;q+=4){k=d[c[q]];const e=c[q+1],n=r-c[q+3];switch(c[q+2]){case u.sideLeft:k[e-1].x-=n;k[e].x-=n;1===e&&(k[k.length-1].x-=n);e===k.length-1&&(k[0].x-=n);break;case u.sideRight:k[e-1].x+=n;k[e].x+=n;1===e&&(k[k.length-1].x+=n);e===k.length-1&&(k[0].x+=n);break;case u.sideTop:k[e-1].y-=n;k[e].y-=n;1===e&&(k[k.length-1].y-=n);e===k.length-1&&(k[0].y-=n);break;case u.sideBottom:k[e-1].y+=n,k[e].y+=n,1===e&&(k[k.length-1].y+=n),e===k.length-
1&&(k[0].y+=n)}}}}const g=(c,d,l)=>c>=d&&c<=l||c>=l&&c<=d;a.Point=b;a.SimpleBuilder=v;a.TileClipper=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports","../../../../geometry/support/coordsUtils","../../../../geometry/support/TileClipper"],function(a,b,B){function w(d,l){d%=l;return 0<=d?d:d+l}const v=Number.POSITIVE_INFINITY,u=Math.PI,h=128/u,g=256/360,c=1/Math.LN2;a.between=function(d,l,r){return d>=l&&d<=
r||d>=r&&d<=l};a.c2pi=2*u;a.cDegTo256=g;a.cDegToRad=u/180;a.cInfinity=v;a.cPi=u;a.cRadTo256=h;a.degToByte=function(d){return w(d*g,256)};a.distanceFromToPolylineWithinThreshold=function(d,l,r,q){let k,e,n;q*=q;for(const x of r){const f=x.length;if(!(2>f)){r=x[0].x;k=x[0].y;for(let p=1;p<f;++p){e=x[p].x;n=x[p].y;if(b.distanceToSegmentSquared(d,l,r,k,e,n)<q)return!0;r=e;k=n}}}return!1};a.getTileMargins=function(d){return 8+Math.max(16*(d-14),0)};a.interpolate=function(d,l,r){return d*(1-r)+l*r};a.isCircleOverlapingRect=
function(d,l,r,q,k,e,n){l=Math.max(q,Math.min(l,e))-l;r=Math.max(k,Math.min(r,n))-r;return l*l+r*r<=d*d};a.log2=function(d){return Math.log(d)*c};a.offsetLine=function(d,l){if(0===l||Number.isNaN(l))return d;const r=[],q=new B.Point(0,0),k=new B.Point(0,0),e=new B.Point(0,0);for(let x=0;x<d.length;x++){const f=d[x],p=[];for(let y=0;y<f.length;y++){var n=f[y-1];const z=f[y],E=f[y+1];0===y?q.setCoords(0,0):q.assignSub(z,n).normalize().rightPerpendicular();y===f.length-1?k.setCoords(0,0):k.assignSub(E,
z).normalize().rightPerpendicular();e.assignAdd(q,k).normalize();n=e.x*k.x+e.y*k.y;0!==n&&e.scale(1/n);p.push(B.Point.add(z,e.scale(l)))}r.push(p)}return r};a.pointInPolygon=function(d,l,r){let q=0,k,e;for(const n of r){r=n.length;for(let x=1;x<r;++x)k=n[x-1],e=n[x],k.y>l!==e.y>l&&(0<(e.x-k.x)*(l-k.y)-(e.y-k.y)*(d-k.x)?q++:q--)}return 0!==q};a.positiveMod=w;a.radToByte=function(d){return w(d*h,256)};a.sqr=function(d){return d*d};a.translateAnchor=function(d,l,r,q){d=new B.Point(d[0],d[1]);d.scale(q);
"viewport"===l&&(l=Math.PI/180*-r,d.rotate(Math.cos(l),Math.sin(l)));return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/TextShaping":function(){define(["exports","./ScriptUtils","../webgl/Rect"],function(a,b,B){class w{constructor(v,u,h,g,c,d,l){this._glyphItems=v;this._maxWidth=u;this._lineHeight=h;this._letterSpacing=g;this._hAnchor=c;this._vAnchor=d;this._justify=l}getShaping(v,u,h){var g=this._letterSpacing;const c=this._lineHeight;var d=
this._justify,l=this._maxWidth;const r=[];var q=0,k=0;for(var e of v){var n=e.codePointAt(0);if(null!=n){var x=h&&b.hasVerticalOrientation(n),f=void 0;for(const p of this._glyphItems)if(f=p[n])break;r.push({codePoint:n,x:q,y:k,vertical:x,glyphMosaicItem:f});f&&(q+=f.metrics.advance+g)}}h=q;0<l&&(h=q/Math.max(1,Math.ceil(q/l)));v=v.includes("\u200b");l=[];g=r.length;for(e=0;e<g-1;e++)if(x=r[e].codePoint,f=b.allowsIdeographicBreak(x),b.isLineBreak(x)||f){n=0;if(10===x)n-=1E4;else if(f&&v)n+=150;else{if(40===
x||65288===x)n+=50;x=r[e+1].codePoint;if(41===x||65289===x)n+=50}l.push(this._buildBreak(e+1,r[e].x,h,l,n,!1))}h=this._optimalBreaks(this._buildBreak(g,q,h,l,0,!0));q=0;v=u?-c:c;e=0;for(l=0;l<h.length;l++){for(g=h[l];e<g&&b.isWhiteSpace(r[e].codePoint);)r[e].glyphMosaicItem=null,++e;for(n=g-1;n>e&&b.isWhiteSpace(r[n].codePoint);)r[n].glyphMosaicItem=null,--n;if(e<=n){x=r[e].x;for(f=e;f<=n;f++)r[f].x-=x,r[f].y=k;x=r[n].x;r[n].glyphMosaicItem&&(x+=r[n].glyphMosaicItem.metrics.advance);q=Math.max(x,
q);d&&this._applyJustification(r,e,n)}e=g;k+=v}if(0<r.length){k=h.length-1;d=(d-this._hAnchor)*q;q=(-this._vAnchor*(k+1)+.5)*c;u&&k&&(q+=k*c);for(const p of r)p.x+=d,p.y+=q}return r.filter(p=>p.glyphMosaicItem)}static getTextBox(v,u){if(!v.length)return null;let h=Infinity,g=Infinity,c=0,d=0;for(const l of v){v=l.x;const r=l.y-17,q=v+l.glyphMosaicItem.metrics.advance,k=r+u;h=Math.min(h,v);c=Math.max(c,q);g=Math.min(g,r);d=Math.max(d,k)}return{x:h,y:g,width:c-h,height:d-g}}static getBox(v){if(!v.length)return null;
let u=Infinity,h=Infinity,g=0,c=0;for(const d of v){const {height:l,left:r,top:q,width:k}=d.glyphMosaicItem.metrics;v=d.x;const e=d.y-(l-Math.abs(q)),n=v+k+r,x=e+l;u=Math.min(u,v);g=Math.max(g,n);h=Math.min(h,e);c=Math.max(c,x)}return{x:u,y:h,width:g-u,height:c-h}}static addDecoration(v,u){var h=v.length;if(0!==h){var g=v[0].x+v[0].glyphMosaicItem.metrics.left,c=v[0].y;for(let d=1;d<h;d++){const l=v[d];if(l.y!==c){const r=v[d-1].x+v[d-1].glyphMosaicItem.metrics.left+v[d-1].glyphMosaicItem.metrics.width;
v.push({codePoint:0,x:g,y:c+u-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new B(4,0,4,8),metrics:{width:r-g,height:8,left:0,top:0,advance:0},page:0,code:0}});c=l.y;g=l.x+l.glyphMosaicItem.metrics.left}}h=v[h-1].x+v[h-1].glyphMosaicItem.metrics.left+v[h-1].glyphMosaicItem.metrics.width;v.push({codePoint:0,x:g,y:c+u-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new B(4,0,4,8),metrics:{width:h-g,height:8,left:0,top:0,advance:0},page:0,code:0}})}}_breakScore(v,u,h,g){const c=(v-u)*(v-u);return g?v<u?c/2:
2*c:c+Math.abs(h)*h}_buildBreak(v,u,h,g,c,d){let l=null,r=this._breakScore(u,h,c,d);for(const q of g)g=this._breakScore(u-q.x,h,c,d)+q.score,g<=r&&(l=q,r=g);return{index:v,x:u,score:r,previousBreak:l}}_optimalBreaks(v){return v?this._optimalBreaks(v.previousBreak).concat(v.index):[]}_applyJustification(v,u,h){var g=v[h];for(g=(g.x+(g.vertical?24:g.glyphMosaicItem?g.glyphMosaicItem.metrics.advance:0))*this._justify;u<=h;u++)v[u].x-=g}}a.TextShaping=w;a.sdfGlyphBaseline=17;a.sdfGlyphSize=24;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/ScriptUtils":function(){define(["exports"],function(a){a.allowsIdeographicBreak=function(b){return 11904>b?!1:12704<=b&&12735>=b||12544<=b&&12591>=b||65072<=b&&65103>=b||63744<=b&&64255>=b||13056<=b&&13311>=b||11904<=b&&12031>=b||12736<=b&&12783>=b||12288<=b&&12351>=b||13312<=b&&19903>=b||19968<=b&&40959>=b||12800<=b&&13055>=b||65280<=b&&65519>=b||12352<=b&&12447>=b||12272<=b&&12287>=b||12032<=b&&12255>=b||12784<=b&&12799>=
b||12448<=b&&12543>=b||65040<=b&&65055>=b||42128<=b&&42191>=b||40960<=b&&42127>=b?!0:!1};a.hasVerticalOrientation=function(b){return 746===b||747===b?!0:4352>b?!1:12704<=b&&12735>=b||12544<=b&&12591>=b||65072<=b&&65103>=b&&!(65097<=b&&65103>=b)||63744<=b&&64255>=b||13056<=b&&13311>=b||11904<=b&&12031>=b||12736<=b&&12783>=b||12288<=b&&12351>=b&&!(12296<=b&&12305>=b||12308<=b&&12319>=b)&&12336!==b||13312<=b&&19903>=b||19968<=b&&40959>=b||12800<=b&&13055>=b||12592<=b&&12687>=b||43360<=b&&43391>=b||55216<=
b&&55295>=b||4352<=b&&4607>=b||44032<=b&&55215>=b||12352<=b&&12447>=b||12272<=b&&12287>=b||12688<=b&&12703>=b||12032<=b&&12255>=b||12784<=b&&12799>=b||12448<=b&&12543>=b&&12540!==b||65280<=b&&65519>=b&&!(65288===b||65289===b||65293===b||65306<=b&&65310>=b||65339===b||65341===b||65343===b||65371<=b&&65503>=b||65507===b||65512<=b&&65519>=b)||65104<=b&&65135>=b&&!(65112<=b&&65118>=b||65123<=b&&65126>=b)||5120<=b&&5759>=b||6320<=b&&6399>=b||65040<=b&&65055>=b||19904<=b&&19967>=b||40960<=b&&42127>=b||
42128<=b&&42191>=b?!0:!1};a.isLineBreak=function(b){switch(b){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1};a.isWhiteSpace=function(b){switch(b){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/webgl/Rect":function(){define(function(){class a{constructor(b=0,B=0,w=0,v=0){this.x=b;this.y=B;this.width=w;
this.height=v}get isEmpty(){return 0>=this.width||0>=this.height}union(b){this.x=Math.min(this.x,b.x);this.y=Math.min(this.y,b.y);this.width=Math.max(this.width,b.width);this.height=Math.max(this.height,b.height)}}return a})},"esri/views/2d/engine/vectorTiles/decluttering/config":function(){define(["exports"],function(a){a.collisionGridCellSize=32;a.declutterBudget=1.5;a.declutterTiles=!0;a.fadeDuration=200;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["exports",
"../../../../../symbols/cim/enums"],function(a,b){a.StyleLayerType=void 0;(function(w){w[w.BACKGROUND=0]="BACKGROUND";w[w.FILL=1]="FILL";w[w.LINE=2]="LINE";w[w.SYMBOL=3]="SYMBOL";w[w.CIRCLE=4]="CIRCLE"})(a.StyleLayerType||(a.StyleLayerType={}));a.Visibility=void 0;(function(w){w[w.VISIBLE=0]="VISIBLE";w[w.NONE=1]="NONE"})(a.Visibility||(a.Visibility={}));a.SymbolPlacement=void 0;(function(w){w[w.POINT=0]="POINT";w[w.LINE=1]="LINE";w[w.LINE_CENTER=2]="LINE_CENTER"})(a.SymbolPlacement||(a.SymbolPlacement=
{}));a.RotationAlignment=void 0;(function(w){w[w.MAP=0]="MAP";w[w.VIEWPORT=1]="VIEWPORT";w[w.AUTO=2]="AUTO"})(a.RotationAlignment||(a.RotationAlignment={}));a.TextJustification=void 0;(function(w){w[w.AUTO=0]="AUTO";w[w.LEFT=1]="LEFT";w[w.CENTER=2]="CENTER";w[w.RIGHT=3]="RIGHT"})(a.TextJustification||(a.TextJustification={}));a.SymbolAnchor=void 0;(function(w){w[w.CENTER=0]="CENTER";w[w.LEFT=1]="LEFT";w[w.RIGHT=2]="RIGHT";w[w.TOP=3]="TOP";w[w.BOTTOM=4]="BOTTOM";w[w.TOP_LEFT=5]="TOP_LEFT";w[w.TOP_RIGHT=
6]="TOP_RIGHT";w[w.BOTTOM_LEFT=7]="BOTTOM_LEFT";w[w.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"})(a.SymbolAnchor||(a.SymbolAnchor={}));a.TextTransform=void 0;(function(w){w[w.NONE=0]="NONE";w[w.UPPERCASE=1]="UPPERCASE";w[w.LOWERCASE=2]="LOWERCASE"})(a.TextTransform||(a.TextTransform={}));a.TranslateAnchor=void 0;(function(w){w[w.MAP=0]="MAP";w[w.VIEWPORT=1]="VIEWPORT"})(a.TranslateAnchor||(a.TranslateAnchor={}));a.TextWritingMode=void 0;(function(w){w[w.HORIZONTAL=0]="HORIZONTAL";w[w.VERTICAL=1]="VERTICAL"})(a.TextWritingMode||
(a.TextWritingMode={}));class B{}B.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE}};B.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE}};B.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:b.CapType.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:b.JoinType.MITER},
"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};B.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:a.SymbolPlacement.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},
"icon-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:a.SymbolAnchor.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",
values:["map","viewport","auto"],default:a.RotationAlignment.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:a.SymbolAnchor.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",
values:["auto","left","center","right"],default:a.TextJustification.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",
default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:a.RotationAlignment.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:a.TextTransform.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[a.TextWritingMode.HORIZONTAL]}};B.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE}};B.backgroundPaintDefinition=
{"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}};B.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",
values:["map","viewport"],default:a.TranslateAnchor.MAP}};B.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",
values:["map","viewport"],default:a.TranslateAnchor.MAP},"line-width":{type:"number",minimum:0,default:1}};B.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",
values:["map","viewport"],default:a.TranslateAnchor.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:a.TranslateAnchor.MAP}};B.rasterPaintDefinition=
{"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};B.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,
default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:a.TranslateAnchor.MAP}};
a.StyleDefinition=B;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/enums":function(){define(["exports"],function(a){a.CapType=void 0;(function(b){b[b.BUTT=0]="BUTT";b[b.ROUND=1]="ROUND";b[b.SQUARE=2]="SQUARE";b[b.UNKNOWN=4]="UNKNOWN"})(a.CapType||(a.CapType={}));a.JoinType=void 0;(function(b){b[b.BEVEL=0]="BEVEL";b[b.ROUND=1]="ROUND";b[b.MITER=2]="MITER";b[b.UNKNOWN=4]="UNKNOWN"})(a.JoinType||(a.JoinType={}));a.Alignment=void 0;(function(b){b[b.SCREEN=0]="SCREEN";
b[b.MAP=1]="MAP"})(a.Alignment||(a.Alignment={}));a.ExternalColorMixMode=void 0;(function(b){b[b.Tint=0]="Tint";b[b.Ignore=1]="Ignore";b[b.Multiply=99]="Multiply"})(a.ExternalColorMixMode||(a.ExternalColorMixMode={}));a.ExtremityPlacement=void 0;(function(b){b.Both="Both";b.JustBegin="JustBegin";b.JustEnd="JustEnd";b.None="None"})(a.ExtremityPlacement||(a.ExtremityPlacement={}));a.FillMode=void 0;(function(b){b[b.Mosaic=0]="Mosaic";b[b.Centered=1]="Centered"})(a.FillMode||(a.FillMode={}));a.FontEffects=
void 0;(function(b){b[b.Normal=0]="Normal";b[b.Superscript=1]="Superscript";b[b.Subscript=2]="Subscript"})(a.FontEffects||(a.FontEffects={}));a.FontEncoding=void 0;(function(b){b[b.MSSymbol=0]="MSSymbol";b[b.Unicode=1]="Unicode"})(a.FontEncoding||(a.FontEncoding={}));a.FontType=void 0;(function(b){b[b.Unspecified=0]="Unspecified";b[b.TrueType=1]="TrueType";b[b.PSOpenType=2]="PSOpenType";b[b.TTOpenType=3]="TTOpenType";b[b.Type1=4]="Type1"})(a.FontType||(a.FontType={}));a.AngleAlignment=void 0;(function(b){b[b.Display=
0]="Display";b[b.Map=1]="Map"})(a.AngleAlignment||(a.AngleAlignment={}));a.AnimatedSymbolRepeatType=void 0;(function(b){b.None="None";b.Loop="Loop";b.Oscillate="Oscillate"})(a.AnimatedSymbolRepeatType||(a.AnimatedSymbolRepeatType={}));a.DominantSizeAxis=void 0;(function(b){b[b.Z=0]="Z";b[b.X=1]="X";b[b.Y=2]="Y"})(a.DominantSizeAxis||(a.DominantSizeAxis={}));a.RotationOrder=void 0;(function(b){b[b.XYZ=0]="XYZ";b[b.ZXY=1]="ZXY";b[b.YXZ=2]="YXZ"})(a.RotationOrder||(a.RotationOrder={}));a.BalloonCalloutStyle=
void 0;(function(b){b[b.Rectangle=0]="Rectangle";b[b.RoundedRectangle=1]="RoundedRectangle";b[b.Oval=2]="Oval"})(a.BalloonCalloutStyle||(a.BalloonCalloutStyle={}));a.BlendingMode=void 0;(function(b){b[b.None=0]="None";b[b.Alpha=1]="Alpha";b[b.Screen=2]="Screen";b[b.Multiply=3]="Multiply";b[b.Add=4]="Add"})(a.BlendingMode||(a.BlendingMode={}));a.BlockProgression=void 0;(function(b){b[b.TTB=0]="TTB";b[b.RTL=1]="RTL";b[b.BTT=2]="BTT"})(a.BlockProgression||(a.BlockProgression={}));a.BillBoardMode=void 0;
(function(b){b[b.None=0]="None";b[b.SignPost=1]="SignPost";b[b.FaceNearPlane=2]="FaceNearPlane"})(a.BillBoardMode||(a.BillBoardMode={}));a.CGAAttributeType=void 0;(function(b){b[b.Float=0]="Float";b[b.String=1]="String";b[b.Boolean=2]="Boolean"})(a.CGAAttributeType||(a.CGAAttributeType={}));a.ClippingType=void 0;(function(b){b[b.Intersect=0]="Intersect";b[b.Subtract=1]="Subtract"})(a.ClippingType||(a.ClippingType={}));a.GeometricEffectArrowType=void 0;(function(b){b.OpenEnded="OpenEnded";b.Block=
"Block";b.Crossed="Crossed"})(a.GeometricEffectArrowType||(a.GeometricEffectArrowType={}));a.GeometricEffectControlMeasureLineRule=void 0;(function(b){b.FullGeometry="FullGeometry";b.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment";b.ReversedFirstSegment="ReversedFirstSegment";b.PerpendicularToSecondSegment="PerpendicularToSecondSegment";b.SecondSegmentWithTicks="SecondSegmentWithTicks";b.DoublePerpendicular="DoublePerpendicular";b.OppositeToFirstSegment="OppositeToFirstSegment";b.TriplePerpendicular=
"TriplePerpendicular";b.HalfCircleFirstSegment="HalfCircleFirstSegment";b.HalfCircleSecondSegment="HalfCircleSecondSegment";b.HalfCircleExtended="HalfCircleExtended";b.OpenCircle="OpenCircle";b.CoverageEdgesWithTicks="CoverageEdgesWithTicks";b.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks";b.GapExtentMidline="GapExtentMidline";b.Chevron="Chevron";b.PerpendicularWithArc="PerpendicularWithArc";b.ClosedHalfCircle="ClosedHalfCircle";b.TripleParallelExtended="TripleParallelExtended";b.ParallelWithTicks=
"ParallelWithTicks";b.Parallel="Parallel";b.PerpendicularToFirstSegment="PerpendicularToFirstSegment";b.ParallelOffset="ParallelOffset";b.OffsetOpposite="OffsetOpposite";b.OffsetSame="OffsetSame";b.CircleWithArc="CircleWithArc";b.DoubleJog="DoubleJog";b.PerpendicularOffset="PerpendicularOffset";b.LineExcludingLastSegment="LineExcludingLastSegment";b.MultivertexArrow="MultivertexArrow";b.CrossedArrow="CrossedArrow";b.ChevronArrow="ChevronArrow";b.ChevronArrowOffset="ChevronArrowOffset";b.PartialFirstSegment=
"PartialFirstSegment";b.Arch="Arch";b.CurvedParallelTicks="CurvedParallelTicks";b.Arc90Degrees="Arc90Degrees";b.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks"})(a.GeometricEffectControlMeasureLineRule||(a.GeometricEffectControlMeasureLineRule={}));a.GeometricEffectDonutMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";b.Square="Square";b.TrueBuffer="TrueBuffer"})(a.GeometricEffectDonutMethod||(a.GeometricEffectDonutMethod={}));a.GeometricEffectEnclosingPolygonMethod=
void 0;(function(b){b.ClosePath="ClosePath";b.ConvexHull="ConvexHull";b.RectangularBox="RectangularBox"})(a.GeometricEffectEnclosingPolygonMethod||(a.GeometricEffectEnclosingPolygonMethod={}));a.GeometricEffectExtensionOrigin=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectExtensionOrigin||(a.GeometricEffectExtensionOrigin={}));a.GeometricEffectOffsetMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";b.Square=
"Square"})(a.GeometricEffectOffsetMethod||(a.GeometricEffectOffsetMethod={}));a.GeometricEffectOffsetOption=void 0;(function(b){b.Fast="Fast";b.Accurate="Accurate"})(a.GeometricEffectOffsetOption||(a.GeometricEffectOffsetOption={}));a.GeometricEffectOffsetTangentMethod=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectOffsetTangentMethod||(a.GeometricEffectOffsetTangentMethod={}));a.GeometricEffectWaveform=void 0;(function(b){b.Sinus="Sinus";b.Square=
"Square";b.Triangle="Triangle";b.Random="Random"})(a.GeometricEffectWaveform||(a.GeometricEffectWaveform={}));a.GlyphHinting=void 0;(function(b){b[b.None=0]="None";b[b.Default=1]="Default";b[b.Force=2]="Force"})(a.GlyphHinting||(a.GlyphHinting={}));a.GradientAlignment=void 0;(function(b){b[b.Buffered=0]="Buffered";b[b.Left=1]="Left";b[b.Right=2]="Right";b[b.AlongLine=3]="AlongLine"})(a.GradientAlignment||(a.GradientAlignment={}));a.GradientFillMethod=void 0;(function(b){b[b.Linear=0]="Linear";b[b.Rectangular=
1]="Rectangular";b[b.Circular=2]="Circular";b[b.Buffered=3]="Buffered"})(a.GradientFillMethod||(a.GradientFillMethod={}));a.GradientStrokeType=void 0;(function(b){b[b.Discrete=0]="Discrete";b[b.Continuous=1]="Continuous"})(a.GradientStrokeType||(a.GradientStrokeType={}));a.GradientStrokeMethod=void 0;(function(b){b[b.AcrossLine=0]="AcrossLine";b[b.AloneLine=1]="AloneLine"})(a.GradientStrokeMethod||(a.GradientStrokeMethod={}));a.HorizontalAlignment=void 0;(function(b){b[b.Left=0]="Left";b[b.Right=
1]="Right";b[b.Center=2]="Center";b[b.Justify=3]="Justify"})(a.HorizontalAlignment||(a.HorizontalAlignment={}));a.LeaderLineStyle=void 0;(function(b){b[b.Base=0]="Base";b[b.MidPoint=1]="MidPoint";b[b.ThreePoint=2]="ThreePoint";b[b.FourPoint=3]="FourPoint";b[b.Underline=4]="Underline";b[b.CircularCW=5]="CircularCW";b[b.CircularCCW=6]="CircularCCW"})(a.LeaderLineStyle||(a.LeaderLineStyle={}));a.LineCapStyle=void 0;(function(b){b.Butt="Butt";b.Round="Round";b.Square="Square"})(a.LineCapStyle||(a.LineCapStyle=
{}));a.LineDashEnding=void 0;(function(b){b.NoConstraint="NoConstraint";b.HalfPattern="HalfPattern";b.HalfGap="HalfGap";b.FullPattern="FullPattern";b.FullGap="FullGap";b.Custom="Custom"})(a.LineDashEnding||(a.LineDashEnding={}));a.LineDecorationStyle=void 0;(function(b){b[b.None=-1]="None";b[b.Custom=0]="Custom";b[b.Circle=1]="Circle";b[b.OpenArrow=2]="OpenArrow";b[b.ClosedArrow=3]="ClosedArrow";b[b.Diamond=4]="Diamond"})(a.LineDecorationStyle||(a.LineDecorationStyle={}));a.LineGapType=void 0;(function(b){b[b.ExtraLeading=
0]="ExtraLeading";b[b.Multiple=1]="Multiple";b[b.Exact=2]="Exact"})(a.LineGapType||(a.LineGapType={}));a.LineJoinStyle=void 0;(function(b){b.Bevel="Bevel";b.Round="Round";b.Miter="Miter"})(a.LineJoinStyle||(a.LineJoinStyle={}));a.ExpressionReturnType=void 0;(function(b){b[b.Default=0]="Default";b[b.String=1]="String";b[b.Numeric=2]="Numeric"})(a.ExpressionReturnType||(a.ExpressionReturnType={}));a.MarkerPlacementType=void 0;(function(b){b[b.InsidePolygon=0]="InsidePolygon";b[b.PolygonCenter=1]="PolygonCenter";
b[b.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"})(a.MarkerPlacementType||(a.MarkerPlacementType={}));a.MaterialMode=void 0;(function(b){b[b.Tint=0]="Tint";b[b.Replace=1]="Replace";b[b.Multiply=2]="Multiply"})(a.MaterialMode||(a.MaterialMode={}));a.PlacementClip=void 0;(function(b){b[b.ClipAtBoundary=0]="ClipAtBoundary";b[b.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary";b[b.DoNotTouchBoundary=2]="DoNotTouchBoundary";b[b.DoNotClip=3]="DoNotClip"})(a.PlacementClip||(a.PlacementClip=
{}));a.PlacementEndings=void 0;(function(b){b.NoConstraint="NoConstraint";b.WithMarkers="WithMarkers";b.WithFullGap="WithFullGap";b.WithHalfGap="WithHalfGap";b.Custom="Custom"})(a.PlacementEndings||(a.PlacementEndings={}));a.PlacementGridType=void 0;(function(b){b.Fixed="Fixed";b.Random="Random";b.RandomFixedQuantity="RandomFixedQuantity"})(a.PlacementGridType||(a.PlacementGridType={}));a.PlacementOnLineRelativeTo=void 0;(function(b){b.LineMiddle="LineMiddle";b.LineBeginning="LineBeginning";b.LineEnd=
"LineEnd";b.SegmentMidpoint="SegmentMidpoint"})(a.PlacementOnLineRelativeTo||(a.PlacementOnLineRelativeTo={}));a.PlacementPolygonCenterMethod=void 0;(function(b){b.OnPolygon="OnPolygon";b.CenterOfMass="CenterOfMass";b.BoundingBoxCenter="BoundingBoxCenter"})(a.PlacementPolygonCenterMethod||(a.PlacementPolygonCenterMethod={}));a.PlacementRandomlyAlongLineRandomization=void 0;(function(b){b[b.Low=0]="Low";b[b.Medium=1]="Medium";b[b.High=2]="High"})(a.PlacementRandomlyAlongLineRandomization||(a.PlacementRandomlyAlongLineRandomization=
{}));a.PlacementStepPosition=void 0;(function(b){b[b.MarkerCenter=0]="MarkerCenter";b[b.MarkerBounds=1]="MarkerBounds"})(a.PlacementStepPosition||(a.PlacementStepPosition={}));a.PointSymbolCalloutScale=void 0;(function(b){b[b.None=0]="None";b[b.PropUniform=1]="PropUniform";b[b.PropNonuniform=2]="PropNonuniform";b[b.DifUniform=3]="DifUniform";b[b.DifNonuniform=4]="DifNonuniform"})(a.PointSymbolCalloutScale||(a.PointSymbolCalloutScale={}));a.Simple3DLineStyle=void 0;(function(b){b.Tube="Tube";b.Strip=
"Strip";b.Wall="Wall"})(a.Simple3DLineStyle||(a.Simple3DLineStyle={}));a.SizeVariationMethod=void 0;(function(b){b[b.Random=0]="Random";b[b.Increasing=1]="Increasing";b[b.Decreasing=2]="Decreasing";b[b.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"})(a.SizeVariationMethod||(a.SizeVariationMethod={}));a.SymbolUnits=void 0;(function(b){b[b.Relative=0]="Relative";b[b.Absolute=1]="Absolute"})(a.SymbolUnits||(a.SymbolUnits={}));a.TextCase=void 0;(function(b){b[b.Normal=0]="Normal";b[b.LowerCase=
1]="LowerCase";b[b.Allcaps=2]="Allcaps"})(a.TextCase||(a.TextCase={}));a.TextReadingDirection=void 0;(function(b){b[b.LTR=0]="LTR";b[b.RTL=1]="RTL"})(a.TextReadingDirection||(a.TextReadingDirection={}));a.TextureFilter=void 0;(function(b){b.Draft="Draft";b.Picture="Picture";b.Text="Text"})(a.TextureFilter||(a.TextureFilter={}));a.VerticalAlignment=void 0;(function(b){b[b.Top=0]="Top";b[b.Center=1]="Center";b[b.Baseline=2]="Baseline";b[b.Bottom=3]="Bottom"})(a.VerticalAlignment||(a.VerticalAlignment=
{}));a.VerticalGlyphOrientation=void 0;(function(b){b[b.Right=0]="Right";b[b.Upright=1]="Upright"})(a.VerticalGlyphOrientation||(a.VerticalGlyphOrientation={}));a.WaterbodySize=void 0;(function(b){b[b.Small=0]="Small";b[b.Medium=1]="Medium";b[b.Large=2]="Large"})(a.WaterbodySize||(a.WaterbodySize={}));a.WaveStrength=void 0;(function(b){b[b.Calm=0]="Calm";b[b.Rippled=1]="Rippled";b[b.Slight=2]="Slight";b[b.Moderate=3]="Moderate"})(a.WaveStrength||(a.WaveStrength={}));Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("../../../../core/pbf ../../../../core/promiseUtils ../../../../geometry/libtess ../../../../geometry/support/TileClipper ./Feature ./GeometryUtils ./IndexMemoryBuffer ./SourceLayerData ./VertexMemoryBuffer ./buckets/CircleBucket ./buckets/FillBucket ./buckets/LineBucket ./buckets/SymbolBucket ./style/StyleDefinition ../../tiling/enums".split(" "),function(a,b,B,w,v,u,h,g,c,d,l,r,q,k,e){class n{constructor(x,f,p,
y,z,E){this._pbfTiles={};this._tileClippers={};this._client=p;this._tile=f;this._sourceDataMaxLOD=y;if(E){this._styleLayerUIDs=new Set;for(const C of E)this._styleLayerUIDs.add(C)}this._styleRepository=z;this._layers=this._styleRepository?.layers??[];const [F,D,A]=f.tileKey.split("/").map(parseFloat);this._level=F;f=u.getTileMargins(this._level);for(const C of Object.keys(x))p=x[C],this._pbfTiles[C]=new a(new Uint8Array(p.protobuff),new DataView(p.protobuff)),p.refKey&&([p]=p.refKey.split("/").map(parseFloat),
p=F-p,0<p&&(y=(1<<p)-1,this._tileClippers[C]=new w.TileClipper(p,D&y,A&y,8,f))),this._tileClippers[C]||(this._tileClippers[C]=new w.SimpleBuilder)}_canParseStyleLayer(x){return!this._styleLayerUIDs||this._styleLayerUIDs.has(x)}async parse(x){const f=B.loadLibtess(),p=this._initialize(x),{returnedBuckets:y}=p;this._processLayers(p);this._linkReferences(p);this._filterFeatures(p);const z=[],E=new Set,F=(A,C)=>{E.has(A)||(z.push({name:A,repeat:C}),E.add(A))},D={};for(const A of y)A.getResources(A.tileClipper,
F,D);if(this._tile.status===e.TileStatus.INVALID)return[];x=this._fetchResources(z,D,x);return Promise.all([...x,f]).then(()=>this._processFeatures(p.returnedBuckets))}_initialize(x){x=x?.signal;const f=this._parseTileData(this._pbfTiles),p=this._layers,y=this._level,z=this._tileClippers,E=new Map;return{signal:x,sourceNameToTileData:f,layers:p,zoom:y,sourceNameToTileClipper:z,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:E}}_processLayers(x){const {sourceNameToTileData:f,
zoom:p,layers:y,sourceNameToTileClipper:z,sourceNameToUniqueSourceLayerBuckets:E,sourceNameToUniqueSourceLayers:F,returnedBuckets:D,layerIdToBucket:A,referencerUIDToReferencedId:C}=x;x=this._sourceDataMaxLOD;for(let P=y.length-1;0<=P;P--){const S=y[P];if(p<x){if(S.minzoom&&p<Math.floor(S.minzoom)||S.maxzoom&&p>=S.maxzoom)continue}else if(S.maxzoom&&p>=S.maxzoom)continue;if(S.type===k.StyleLayerType.BACKGROUND||!this._canParseStyleLayer(S.uid)||!f[S.source]||!z[S.source])continue;var G=z[S.source];
const Y=S.sourceLayer;var J=f[S.source][Y];if(J){var I=F[S.source];I||=F[S.source]=new Set;I.add(S.sourceLayer);if(S.refLayerId)C.set(S.uid,S.refLayerId);else if(I=this._createBucket(S))I.layerUIDs=[S.uid],I.layerExtent=J.extent,I.tileClipper=G,(G=E[S.source])||(G=E[S.source]={}),(J=G[Y])||(J=G[Y]=[]),J.push(I),D.push(I),A[S.id]=I}}}_linkReferences(x){const {layerIdToBucket:f,referencerUIDToReferencedId:p}=x;p.forEach((y,z)=>{f[y]&&f[y].layerUIDs.push(z)})}_filterFeatures(x){const {signal:f,sourceNameToTileData:p,
sourceNameToUniqueSourceLayerBuckets:y,sourceNameToUniqueSourceLayers:z}=x;x=10*this._level;const E=10*(this._level+1),F=[],D=[];for(const J of Object.keys(z))z[J].forEach(I=>{F.push(I);D.push(J)});for(let J=0;J<F.length;J++){var A=D[J],C=F[J];if(!p[A]||!y[A])continue;const I=p[A][C];A=y[A][C];if(!A||0===A.length)continue;if(b.isAborted(f))break;C=0;const P=I.getData();for(;P.nextTag(2);){var G=P.getMessage();const S=new v(G,I,C++);G.release();if(G=S.values){const Y=G._minzoom;if(Y&&Y>=E)continue;
if((G=G._maxzoom)&&G<=x)continue}for(const Y of A)Y.pushFeature(S)}}}_fetchResources(x,f,p){const y=[],z=this._tile.getWorkerTileHandler();0<x.length&&(x=z.fetchSprites(x,this._client,p),y.push(x));for(const E in f)x=f[E],0<x.size&&(x=z.fetchGlyphs(this._tile.tileKey,E,x,this._client,p),y.push(x));return y}_processFeatures(x){x=x.filter(f=>f.hasFeatures()||this._canParseStyleLayer(f.layer.uid));for(const f of x)f.processFeatures(f.tileClipper);return x}_parseTileData(x){const f={};for(const p of Object.keys(x)){const y=
x[p],z={};for(;y.next();)switch(y.tag()){case 3:const E=y.getMessage(),F=new g(E);E.release();z[F.name]=F;break;default:y.skip()}f[p]=z}return f}_createBucket(x){switch(x.type){case k.StyleLayerType.BACKGROUND:return null;case k.StyleLayerType.FILL:return this._createFillBucket(x);case k.StyleLayerType.LINE:return this._createLineBucket(x);case k.StyleLayerType.CIRCLE:return this._createCircleBucket(x);case k.StyleLayerType.SYMBOL:return this._createSymbolBucket(x)}}_createFillBucket(x){return new l(x,
this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new c.FillVertexBuffer(x.fillMaterial.getStride()),new h.TriangleIndexBuffer,new c.OutlineVertexBuffer(x.outlineMaterial.getStride()),new h.TriangleIndexBuffer)}_createLineBucket(x){return new r(x,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new c.LineVertexBuffer(x.lineMaterial.getStride()),new h.TriangleIndexBuffer)}_createCircleBucket(x){return new d(x,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),
new c.CircleVertexBuffer(x.circleMaterial.getStride()),new h.TriangleIndexBuffer)}_createSymbolBucket(x){const f=this._tile;return new q(f.tileKey,x,this._level,new c.SymbolVertexBuffer(x.iconMaterial.getStride()),new h.TriangleIndexBuffer,new c.SymbolVertexBuffer(x.textMaterial.getStride()),new h.TriangleIndexBuffer,f.placementEngine,f.getWorkerTileHandler())}}return n})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,b){var B;(function(h){h[h.varint=0]="varint";h[h.fixed64=
1]="fixed64";h[h.delimited=2]="delimited";h[h.fixed32=5]="fixed32";h[h.unknown=99]="unknown"})(B||={});const w=new TextDecoder("utf-8"),v=a("safari")||a("ios")?6:a("ff")?12:32;class u{constructor(h,g,c=0,d=h?h.byteLength:0){this._tag=0;this._dataType=B.unknown;this._init(h,g,c,d)}_init(h,g,c,d){this._data=h;this._dataView=g;this._pos=c;this._end=d}asUnsafe(){return this}clone(){return new u(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(h){this._pos=h}nextTag(h){for(;;){if(this._pos===
this._end)return!1;const g=this._decodeVarint();this._tag=g>>3;this._dataType=g&7;if(!h||h===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const h=this._decodeVarint();this._tag=h>>3;this._dataType=h&7;return!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let h=4294967295;h=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return h;h=(h|(this._data[this._pos]&
127)<<7)>>>0;if(128>this._data[this._pos++])return h;h=(h|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return h;h=(h|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return h;h=(h|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return h;throw Error("Varint overflow");}getUInt64(){return this._decodeVarint()}getSInt32(){const h=this.getUInt32();return h>>>1^-(h&1)|0}getSInt64(){return this._decodeSVarint()}getBool(){const h=0!==this._data[this._pos];
this._skip(1);return h}getEnum(){return this._decodeVarint()}getFixed64(){var h=this._dataView;const g=this._pos;h=h.getUint32(g,!0)+4294967296*h.getUint32(g+4,!0);this._skip(8);return h}getSFixed64(){var h=this._dataView;const g=this._pos;h=h.getUint32(g,!0)+4294967296*h.getInt32(g+4,!0);this._skip(8);return h}getDouble(){const h=this._dataView.getFloat64(this._pos,!0);this._skip(8);return h}getFixed32(){const h=this._dataView.getUint32(this._pos,!0);this._skip(4);return h}getSFixed32(){const h=
this._dataView.getInt32(this._pos,!0);this._skip(4);return h}getFloat(){const h=this._dataView.getFloat32(this._pos,!0);this._skip(4);return h}getString(){const h=this._getLength();var g=this._pos;g=this._toString(this._data,g,g+h);this._skip(h);return g}getBytes(){const h=this._getLength();var g=this._pos;g=this._toBytes(this._data,g,g+h);this._skip(h);return g}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(h,g,c,d){const l=this.getMessage();h=h(l,g,c,d);l.release();return h}processMessage(h){const g=
this.getMessage();h=h(g);g.release();return h}getMessage(){const h=this._getLength(),g=u.pool.acquire();g._init(this._data,this._dataView,this._pos,this._pos+h);this._skip(h);return g}release(){u.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case B.varint:this._decodeVarint();break;case B.fixed64:this._skip(8);break;case B.delimited:this._skip(this._getLength());break;case B.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}}skipLen(h){this._skip(h)}_skip(h){if(this._pos+
h>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=h}_decodeVarint(){const h=this._data;let g=this._pos,c=0,d=0;if(10<=this._end-g){if(d=h[g++],c|=d&127,0!==(d&128)&&(d=h[g++],c|=(d&127)<<7,0!==(d&128)&&(d=h[g++],c|=(d&127)<<14,0!==(d&128)&&(d=h[g++],c|=(d&127)<<21,0!==(d&128)&&(d=h[g++],c+=268435456*(d&127),0!==(d&128)&&(d=h[g++],c+=34359738368*(d&127),0!==(d&128)&&(d=h[g++],c+=4398046511104*(d&127),0!==(d&128)&&(d=h[g++],c+=562949953421312*(d&127),0!==(d&128)&&(d=h[g++],
c+=72057594037927936*(d&127),0!==(d&128)&&(d=h[g++],c+=0x7fffffffffffffff*(d&127),0!==(d&128)))))))))))throw Error("Varint too long!");}else{let l=1;for(;g!==this._end;){d=h[g];if(0===(d&128))break;++g;c+=(d&127)*l;l*=128}if(g===this._end)throw Error("Varint overrun!");++g;c+=d*l}this._pos=g;return c}_decodeSVarint(){const h=this._data;let g=0;const c=h[this._pos]&1;g=h[this._pos++];var d=0|g&127;if(0===(g&128))return c?-(d+1)/2:d/2;g=h[this._pos++];d|=(g&127)<<7;if(0===(g&128))return c?-(d+1)/2:
d/2;g=h[this._pos++];d|=(g&127)<<14;if(0===(g&128))return c?-(d+1)/2:d/2;g=h[this._pos++];d|=(g&127)<<21;if(0===(g&128))return c?-(d+1)/2:d/2;g=h[this._pos++];d+=268435456*(g&127);if(0===(g&128))return c?-(d+1)/2:d/2;g=h[this._pos++];d+=34359738368*(g&127);if(0===(g&128))return c?-(d+1)/2:d/2;g=h[this._pos++];d+=4398046511104*(g&127);if(0===(g&128))return c?-(d+1)/2:d/2;d=BigInt(d);g=h[this._pos++];d+=562949953421312n*BigInt(g&127);if(0===(g&128))return Number(c?-(d+1n)/2n:d/2n);g=h[this._pos++];
d+=72057594037927936n*BigInt(g&127);if(0===(g&128))return Number(c?-(d+1n)/2n:d/2n);g=h[this._pos++];d+=9223372036854775808n*BigInt(g&127);if(0===(g&128))return Number(c?-(d+1n)/2n:d/2n);throw Error("Varint too long!");}_getLength(){if(this._dataType!==B.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(h,g,c){c=Math.min(this._end,c);if(c-g>v)return h=h.subarray(g,c),w.decode(h);let d="",l="";for(;g<c;++g){const r=
h[g];r&128?l+="%"+r.toString(16):(d+=decodeURIComponent(l)+String.fromCharCode(r),l="")}l.length&&(d+=decodeURIComponent(l));return d}_toBytes(h,g,c){c=Math.min(this._end,c);return new Uint8Array(h.buffer,g,c-g)}}u.pool=new b(u,void 0,h=>{h._data=null;h._dataView=null});return u})},"esri/geometry/libtess":function(){define(["require","exports","../assets","../core/has"],function(a,b,B,w){async function v(){h=await (w("esri-csp-restrictions")?await (new Promise((g,c)=>a(["../chunks/libtess-asm"],g,
c))).then(g=>g.libtessAsm):await (new Promise((g,c)=>a(["../chunks/libtess"],g,c))).then(g=>g.libtess)).default({locateFile:g=>B.getAssetUrl(`esri/core/libs/libtess/${g}`)})}let u=null,h=null;b.loadLibtess=async function(){u||=v();return u};b.triangulate=function(g,c){return h.triangulate(g,c,Math.max(g.length,128E3))};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["../../../../geometry/support/TileClipper"],function(a){var b;
(function(w){w[w.moveTo=1]="moveTo";w[w.lineTo=2]="lineTo";w[w.close=7]="close"})(b||={});class B{constructor(w,v,u=0){this.values={};this._geometry=void 0;this._pbfGeometry=null;this.featureIndex=u;u=v.keys;v=v.values;for(w=w.asUnsafe();w.next();)switch(w.tag()){case 1:this.id=w.getUInt64();break;case 2:const h=w.getMessage().asUnsafe(),g=this.values;for(;!h.empty();){const c=h.getUInt32(),d=h.getUInt32();g[u[c]]=v[d]}h.release();break;case 3:this.type=w.getUInt32();break;case 4:this._pbfGeometry=
w.getMessage();break;default:w.skip()}}getGeometry(w){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const v=this._pbfGeometry.asUnsafe();this._pbfGeometry=null;let u,h;w?w.reset(this.type):u=[];let g=b.moveTo;var c=0;let d=0,l=0;for(;!v.empty();)switch(0===c&&(c=v.getUInt32(),g=c&7,c>>=3),c--,g){case b.moveTo:d+=v.getSInt32();l+=v.getSInt32();w?w.moveTo(d,l):u&&(h&&u.push(h),h=[],h.push(new a.Point(d,l)));break;case b.lineTo:d+=v.getSInt32();l+=v.getSInt32();w?
w.lineTo(d,l):h&&h.push(new a.Point(d,l));break;case b.close:w?w.close():h&&!h[0].equals(d,l)&&h.push(h[0].clone());break;default:throw v.release(),Error("Invalid path operation");}let r;w?r=w.result():u&&(h&&u.push(h),r=u);v.release();return this._geometry=r}}return B})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["exports","./MemoryBuffer"],function(a,b){class B extends b{constructor(){super(12)}add(v,u,h){const g=this.array;g.push(v);g.push(u);g.push(h)}}class w extends b{constructor(){super(4)}add(v){this.array.push(v)}}
a.PointElementMemoryBuffer=w;a.TriangleIndexBuffer=B;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["../../../../core/has"],function(a){class b{constructor(B){this._array=[];this._stride=B}get array(){return this._array}get index(){return 4*this._array.length/this._stride}get itemSize(){return this._stride}get sizeInBytes(){return 4*this._array.length}reset(){this.array.length=0}toBuffer(){return(new Uint32Array(this._array)).buffer}static i1616to32(B,
w){return 65535&B|w<<16}static i8888to32(B,w,v,u){return B&255|(w&255)<<8|(v&255)<<16|u<<24}static i8816to32(B,w,v){return B&255|(w&255)<<8|v<<16}}return b})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(function(){class a{constructor(b){this.extent=4096;this.keys=[];this.values=[];this._pbfLayer=b.clone();for(b=b.asUnsafe();b.next();)switch(b.tag()){case 1:this.name=b.getString();break;case 3:this.keys.push(b.getString());break;case 4:this.values.push(b.processMessage(a._parseValue));
break;case 5:this.extent=b.getUInt32();break;default:b.skip()}}getData(){return this._pbfLayer}static _parseValue(b){for(;b.next();)switch(b.tag()){case 1:return b.getString();case 2:return b.getFloat();case 3:return b.getDouble();case 4:return b.getInt64();case 5:return b.getUInt64();case 6:return b.getSInt64();case 7:return b.getBool();default:b.skip()}return null}}return a})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["exports","./GeometryUtils","./MemoryBuffer"],
function(a,b,B){class w extends B{constructor(c){super(c)}add(c,d,l,r,q,k,e,n,x,f,p,y){const z=this.array;c=B.i1616to32(c,d);z.push(c);c=B.i8888to32(Math.round(31*l),Math.round(31*r),Math.round(31*q),Math.round(31*k));z.push(c);c=B.i8888to32(Math.round(31*e),Math.round(31*n),Math.round(31*x),Math.round(31*f));z.push(c);c=B.i1616to32(p,0);z.push(c);y&&z.push(...y)}}class v extends B{constructor(c){super(c)}add(c,d,l){const r=this.array;r.push(B.i1616to32(c,d));l&&r.push(...l)}}class u extends B{constructor(c){super(c)}add(c,
d,l,r,q,k,e){const n=this.array,x=this.index;c=B.i1616to32(c,d);n.push(c);c=B.i8888to32(Math.round(15*l),Math.round(15*r),q,k);n.push(c);e&&n.push(...e);return x}}class h extends B{constructor(c){super(c)}add(c,d,l,r,q,k,e,n,x,f,p,y){const z=this.array;c=B.i1616to32(c,d);z.push(c);c=B.i1616to32(Math.round(8*l),Math.round(8*r));z.push(c);c=B.i8888to32(q/4,k/4,n,x);z.push(c);c=B.i8888to32(0,b.radToByte(e),10*f,Math.min(10*p,255));z.push(c);y&&z.push(...y)}}class g extends B{constructor(c){super(c)}add(c,
d,l,r,q){const k=this.array;c=B.i1616to32(2*c+l,2*d+r);k.push(c);q&&k.push(...q)}}a.CircleVertexBuffer=g;a.FillVertexBuffer=v;a.LineVertexBuffer=w;a.OutlineVertexBuffer=u;a.SymbolVertexBuffer=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/buckets/CircleBucket":function(){define(["../enums","./BaseBucket"],function(a,b){class B extends b{constructor(w,v,u,h,g){super(w,v,u);this.type=a.BucketType.CIRCLE;this._circleVertexBuffer=h;this._circleIndexBuffer=
g}get circleIndexStart(){return this._circleIndexStart}get circleIndexCount(){return this._circleIndexCount}processFeatures(w){const v=this._circleVertexBuffer,u=this._circleIndexBuffer;this._circleIndexStart=3*u.index;this._circleIndexCount=0;const h=this.layer,g=this.zoom;w&&w.setExtent(this.layerExtent);for(const d of this._features){var c=d.getGeometry(w);if(!c)continue;const l=h.circleMaterial.encodeAttributes(d,g,h);for(const r of c)if(r)for(const q of r)c=v.index,v.add(q.x,q.y,0,0,l),v.add(q.x,
q.y,0,1,l),v.add(q.x,q.y,1,0,l),v.add(q.x,q.y,1,1,l),u.add(c,c+1,c+2),u.add(c+1,c+2,c+3),this._circleIndexCount+=6}}serialize(){var w=6+this.layerUIDs.length;w+=this._circleVertexBuffer.array.length;w+=this._circleIndexBuffer.array.length;w=new Uint32Array(w);var v=new Int32Array(w.buffer);let u=0;w[u++]=this.type;w[u++]=this.layerUIDs.length;for(var h=0;h<this.layerUIDs.length;h++)w[u++]=this.layerUIDs[h];w[u++]=this._circleIndexStart;w[u++]=this._circleIndexCount;w[u++]=this._circleVertexBuffer.array.length;
for(h=0;h<this._circleVertexBuffer.array.length;h++)v[u++]=this._circleVertexBuffer.array[h];w[u++]=this._circleIndexBuffer.array.length;for(v=0;v<this._circleIndexBuffer.array.length;v++)w[u++]=this._circleIndexBuffer.array[v];return w.buffer}}return B})},"esri/views/2d/engine/vectorTiles/buckets/BaseBucket":function(){define(function(){class a{constructor(b,B,w){this.layerExtent=4096;this._features=[];this.layer=b;this.zoom=B;this._spriteInfo=w;this._filter=b.getFeatureFilter()}pushFeature(b){this._filter&&
!this._filter.filter(b,this.zoom)||this._features.push(b)}hasFeatures(){return 0<this._features.length}getResources(b,B,w){}}return a})},"esri/views/2d/engine/vectorTiles/buckets/FillBucket":function(){define("../../../../../core/ArrayPool ../../../../../chunks/earcut ../../../../../geometry/libtess ../../../../../geometry/support/TileClipper ../enums ./BaseBucket".split(" "),function(a,b,B,w,v,u){class h extends u{constructor(g,c,d,l,r,q,k){super(g,c,d);this.type=v.BucketType.FILL;this._patternMap=
new Map;this._fillVertexBuffer=l;this._fillIndexBuffer=r;this._outlineVertexBuffer=q;this._outlineIndexBuffer=k}get fillIndexStart(){return this._fillIndexStart}get fillIndexCount(){return this._fillIndexCount}get outlineIndexStart(){return this._outlineIndexStart}get outlineIndexCount(){return this._outlineIndexCount}getResources(g,c,d){g=this.zoom;if(d=this.layer.getPaintProperty("fill-pattern"))if(d.isDataDriven)for(const l of this._features)c(d.getValue(g,l),!0);else c(d.getValue(g),!0)}processFeatures(g){this._fillIndexStart=
3*this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=3*this._outlineIndexBuffer.index;this._outlineIndexCount=0;const c=this.layer,d=this.zoom,{fillMaterial:l,outlineMaterial:r,hasDataDrivenFill:q,hasDataDrivenOutline:k}=c;g&&g.setExtent(this.layerExtent);var e=c.getPaintProperty("fill-pattern"),n=e?.isDataDriven;let x=!e&&c.getPaintValue("fill-antialias",d);if(c.outlineUsesFillColor){if(x&&!c.hasDataDrivenOpacity){var f=c.getPaintValue("fill-opacity",d),p=c.getPaintValue("fill-opacity",
d+1);1>f&&1>p&&(x=!1)}x&&!c.hasDataDrivenColor&&(f=c.getPaintValue("fill-color",d),p=c.getPaintValue("fill-color",d+1),1>f[3]&&1>p[3]&&(x=!1))}p=this._features;f=g?.validateTessellation;if(n){var y=[];for(var z of p){n=e.getValue(d,z);n=this._spriteInfo[n];if(!n?.rect)continue;p=l.encodeAttributes(z,d,c,n);const E=x&&k?r.encodeAttributes(z,d,c):[],F=z.getGeometry(g);y.push({ddFillAttributes:p,ddOutlineAttributes:E,page:n.page,geometry:F});y.sort((D,A)=>D.page-A.page);for(const {ddFillAttributes:D,
ddOutlineAttributes:A,page:C,geometry:G}of y)this._processFeature(G,x,c.outlineUsesFillColor,D,A,f,C)}}else for(y of p)e=q?l.encodeAttributes(y,d,c):null,z=x&&k?r.encodeAttributes(y,d,c):null,n=y.getGeometry(g),this._processFeature(n,x,c.outlineUsesFillColor,e,z,f)}serialize(){var g=10+this.layerUIDs.length;g+=this._fillVertexBuffer.array.length;g+=this._fillIndexBuffer.array.length;g+=this._outlineVertexBuffer.array.length;g+=this._outlineIndexBuffer.array.length;g+=3*this._patternMap.size+1;g=new Uint32Array(g);
var c=new Int32Array(g.buffer);let d=0;g[d++]=this.type;g[d++]=this.layerUIDs.length;for(var l=0;l<this.layerUIDs.length;l++)g[d++]=this.layerUIDs[l];g[d++]=this._fillIndexStart;g[d++]=this._fillIndexCount;g[d++]=this._outlineIndexStart;g[d++]=this._outlineIndexCount;l=this._patternMap;const r=l.size;g[d++]=r;if(0<r)for(const [q,[k,e]]of l)g[d++]=q,g[d++]=k,g[d++]=e;g[d++]=this._fillVertexBuffer.array.length;for(l=0;l<this._fillVertexBuffer.array.length;l++)c[d++]=this._fillVertexBuffer.array[l];
g[d++]=this._fillIndexBuffer.array.length;for(l=0;l<this._fillIndexBuffer.array.length;l++)g[d++]=this._fillIndexBuffer.array[l];g[d++]=this._outlineVertexBuffer.array.length;for(l=0;l<this._outlineVertexBuffer.array.length;l++)c[d++]=this._outlineVertexBuffer.array[l];g[d++]=this._outlineIndexBuffer.array.length;for(c=0;c<this._outlineIndexBuffer.array.length;c++)g[d++]=this._outlineIndexBuffer.array[c];return g.buffer}_processFeature(g,c,d,l,r,q,k){if(g){var e=g.length,n=!r||0===r.length;if(c&&
(!d||n))for(c=0;c<e;c++)this._processOutline(g[c],r);for(r=0;r<e;r++)if(c=h._area(g[r]),32<c){void 0!==x&&this._processFill(g,x,l,q,k);var x=[r]}else-32>c&&void 0!==x&&x.push(r);void 0!==x&&this._processFill(g,x,l,q,k)}}_processOutline(g,c){const d=this._outlineVertexBuffer,l=this._outlineIndexBuffer,r=l.index;var q;let k,e;const n=new w.Point(0,0),x=new w.Point(0,0),f=new w.Point(0,0);let p=-1,y=-1;var z=-1;let E=-1,F=-1,D=!1,A=g.length;if(!(2>A)){var C=g[0];for(q=g[A-1];A&&q.isEqual(C);)--A,q=g[A-
1];if(!(2>A-0)){for(C=0;C<A;++C){0===C?(q=g[A-1],k=g[0],e=g[1],n.assignSub(k,q),n.normalize(),n.rightPerpendicular()):(q=k,k=e,e=C!==A-1?g[C+1]:g[0],n.assign(x));q=this._isClipEdge(q,k);-1===E&&(D=q);x.assignSub(e,k);x.normalize();x.rightPerpendicular();z=n.x*x.y-n.y*x.x;f.assignAdd(n,x);f.normalize();var G=-f.x*-n.x+-f.y*-n.y;G=Math.abs(0!==G?1/G:1);8<G&&(G=8);0<=z?(z=d.add(k.x,k.y,n.x,n.y,0,1,c),-1===E&&(E=z),0<=p&&0<=y&&0<=z&&!q&&l.add(p,y,z),y=d.add(k.x,k.y,G*-f.x,G*-f.y,0,-1,c),-1===F&&(F=y),
0<=p&&0<=y&&0<=z&&!q&&l.add(p,y,z),p=y,y=z,z=d.add(k.x,k.y,f.x,f.y,0,1,c),0<=p&&0<=y&&0<=z&&!q&&l.add(p,y,z),y=d.add(k.x,k.y,x.x,x.y,0,1,c)):(z=d.add(k.x,k.y,G*f.x,G*f.y,0,1,c),-1===E&&(E=z),0<=p&&0<=y&&0<=z&&!q&&l.add(p,y,z),y=d.add(k.x,k.y,-n.x,-n.y,0,-1,c),-1===F&&(F=y),0<=p&&0<=y&&0<=z&&!q&&l.add(p,y,z),p=y,y=z,z=d.add(k.x,k.y,-f.x,-f.y,0,-1,c),0<=p&&0<=y&&0<=z&&!q&&l.add(p,y,z),p=d.add(k.x,k.y,-x.x,-x.y,0,-1,c));0<=p&&0<=y&&0<=z&&!q&&l.add(p,y,z)}0<=p&&0<=y&&0<=E&&!D&&l.add(p,y,E);0<=p&&0<=E&&
0<=F&&!D&&l.add(p,F,E);this._outlineIndexCount+=3*(l.index-r)}}}_processFill(g,c,d,l,r){l=!0;var q;1<c.length&&(q=[]);var k=0;for(var e of c)0!==k&&q.push(k),k+=g[e].length;e=2*k;k=a.acquire();for(var n of c){const x=g[n],f=x.length;for(let p=0;p<f;++p)k.push(x[p].x,x[p].y)}n=b.earcut(k,q,2);if(l&&0<b.earcut.deviation(k,q,2,n)){e=c.map(p=>g[p].length);const {buffer:x,vertexCount:f}=B.triangulate(k,e);if(0<f){e=this._fillVertexBuffer.index;for(c=0;c<f;c++)this._fillVertexBuffer.add(x[2*c],x[2*c+1],
d);for(d=0;d<f;d+=3)c=e+d,this._fillIndexBuffer.add(c,c+1,c+2);void 0!==r&&(d=this._patternMap,(e=d.get(r))?e[1]+=f:d.set(r,[this._fillIndexStart+this._fillIndexCount,f]));this._fillIndexCount+=f}}else if(c=n.length,0<c){l=this._fillVertexBuffer.index;for(q=0;q<e;)this._fillVertexBuffer.add(k[q++],k[q++],d);for(d=0;d<c;)this._fillIndexBuffer.add(l+n[d++],l+n[d++],l+n[d++]);void 0!==r&&(d=this._patternMap,(e=d.get(r))?e[1]+=c:d.set(r,[this._fillIndexStart+this._fillIndexCount,c]));this._fillIndexCount+=
c}a.release(k)}_isClipEdge(g,c){return g.x===c.x?-64>=g.x||4160<=g.x:g.y===c.y?-64>=g.y||4160<=g.y:!1}static _area(g){let c=0;const d=g.length-1;for(let l=0;l<d;l++)c+=(g[l].x-g[l+1].x)*(g[l].y+g[l+1].y);c+=(g[d].x-g[0].x)*(g[d].y+g[0].y);return.5*c}}return h})},"esri/chunks/earcut":function(){define(["exports","./_commonjsHelpers"],function(a,b){var B={exports:{}};(function(w){(function(v){v=v();void 0!==v&&(w.exports=v)})(function(){function v(C,G,J){J=J||2;var I=G&&G.length,P=I?G[0]*J:C.length,
S=u(C,0,P,J,!0),Y=[];if(!S||S.next===S.prev)return Y;var M;if(I){var L=S;var O=J;S=[];var U;I=0;for(U=G.length;I<U;I++){var ca=G[I]*O;var ha=I<U-1?G[I+1]*O:C.length;ca=u(C,ca,ha,O,!1);ca===ca.next&&(ca.steiner=!0);ha=S;var ia=ha.push,ea=ca,la=ca;do{if(ea.x<la.x||ea.x===la.x&&ea.y<la.y)la=ea;ea=ea.next}while(ea!==ca);ia.call(ha,la)}S.sort(d);for(I=0;I<S.length;I++)O=S[I],G=L,(L=r(O,G))?(U=z(L,O),O=h(L,L.next),U=l(U),h(U,U.next),O=l(O),L=l(G===L?O:G)):L=G,L=h(L,L.next);S=L}if(C.length>80*J){var ra=
M=C[0];var wa=I=C[1];for(O=J;O<P;O+=J)G=C[O],L=C[O+1],G<ra&&(ra=G),L<wa&&(wa=L),G>M&&(M=G),L>I&&(I=L);M=Math.max(M-ra,I-wa);M=0!==M?1/M:0}g(S,Y,J,ra,wa,M);return Y}function u(C,G,J,I,P){if(P===0<A(C,G,J,I))for(P=G;P<J;P+=I)var S=E(P,C[P],C[P+1],S);else for(P=J-I;P>=G;P-=I)S=E(P,C[P],C[P+1],S);S&&n(S,S.next)&&(C=S.next,F(S),S=C);return S}function h(C,G){if(!C)return C;G||=C;do{var J=!1;if(C.steiner||!n(C,C.next)&&0!==e(C.prev,C,C.next))C=C.next;else{G=C.prev;F(C);C=G;if(C===C.next)break;J=!0}}while(J||
C!==G);return G}function g(C,G,J,I,P,S,Y){if(C){if(!Y&&S){var M=C,L=M;do null===L.z&&(L.z=q(L.x,L.y,I,P,S)),L.prevZ=L.prev,L=L.nextZ=L.next;while(L!==M);L.prevZ.nextZ=null;L.prevZ=null;M=L;var O,U,ca,ha,ia=1;do{L=M;var ea=M=null;for(U=0;L;){U++;var la=L;for(O=ca=0;O<ia&&(ca++,la=la.nextZ,la);O++);for(ha=ia;0<ca||0<ha&&la;)0!==ca&&(0===ha||!la||L.z<=la.z)?(O=L,L=L.nextZ,ca--):(O=la,la=la.nextZ,ha--),ea?ea.nextZ=O:M=O,O.prevZ=ea,ea=O;L=la}ea.nextZ=null;ia*=2}while(1<U)}for(M=C;C.prev!==C.next;){L=C.prev;
la=C.next;if(S)ea=c(C,I,P,S);else a:if(ea=C,U=ea.prev,ca=ea,ia=ea.next,0<=e(U,ca,ia))ea=!1;else{for(O=ea.next.next;O!==ea.prev;){if(k(U.x,U.y,ca.x,ca.y,ia.x,ia.y,O.x,O.y)&&0<=e(O.prev,O,O.next)){ea=!1;break a}O=O.next}ea=!0}if(ea)G.push(L.i/J),G.push(C.i/J),G.push(la.i/J),F(C),M=C=la.next;else if(C=la,C===M){if(!Y)g(h(C),G,J,I,P,S,1);else if(1===Y){C=h(C);Y=G;M=J;L=C;do la=L.prev,ea=L.next.next,!n(la,ea)&&x(la,L,L.next,ea)&&y(la,ea)&&y(ea,la)&&(Y.push(la.i/M),Y.push(L.i/M),Y.push(ea.i/M),F(L),F(L.next),
L=C=ea),L=L.next;while(L!==C);C=h(L);g(C,G,J,I,P,S,2)}else if(2===Y)a:{Y=C;do{for(M=Y.next.next;M!==Y.prev;){if(L=Y.i!==M.i){ea=ea=ea=ea=void 0;L=Y;la=M;if(ea=L.next.i!==la.i&&L.prev.i!==la.i){b:{ea=L;do{if(ea.i!==L.i&&ea.next.i!==L.i&&ea.i!==la.i&&ea.next.i!==la.i&&x(ea,ea.next,L,la)){ea=!0;break b}ea=ea.next}while(ea!==L);ea=!1}ea=!ea}if(ea){if(ea=y(L,la)&&y(la,L)){ea=L;U=!1;ca=(L.x+la.x)/2;ia=(L.y+la.y)/2;do ea.y>ia!==ea.next.y>ia&&ea.next.y!==ea.y&&ca<(ea.next.x-ea.x)*(ia-ea.y)/(ea.next.y-ea.y)+
ea.x&&(U=!U),ea=ea.next;while(ea!==L);ea=U}ea=ea&&(e(L.prev,L,la.prev)||e(L,la.prev,la))||n(L,la)&&0<e(L.prev,L,L.next)&&0<e(la.prev,la,la.next)}L=ea}if(L){C=z(Y,M);Y=h(Y,Y.next);C=h(C,C.next);g(Y,G,J,I,P,S);g(C,G,J,I,P,S);break a}M=M.next}Y=Y.next}while(Y!==C)}break}}}}function c(C,G,J,I){var P=C.prev,S=C.next;if(0<=e(P,C,S))return!1;var Y=P.x>C.x?P.x>S.x?P.x:S.x:C.x>S.x?C.x:S.x,M=P.y>C.y?P.y>S.y?P.y:S.y:C.y>S.y?C.y:S.y,L=q(P.x<C.x?P.x<S.x?P.x:S.x:C.x<S.x?C.x:S.x,P.y<C.y?P.y<S.y?P.y:S.y:C.y<S.y?
C.y:S.y,G,J,I);G=q(Y,M,G,J,I);J=C.prevZ;for(I=C.nextZ;J&&J.z>=L&&I&&I.z<=G;){if(J!==C.prev&&J!==C.next&&k(P.x,P.y,C.x,C.y,S.x,S.y,J.x,J.y)&&0<=e(J.prev,J,J.next))return!1;J=J.prevZ;if(I!==C.prev&&I!==C.next&&k(P.x,P.y,C.x,C.y,S.x,S.y,I.x,I.y)&&0<=e(I.prev,I,I.next))return!1;I=I.nextZ}for(;J&&J.z>=L;){if(J!==C.prev&&J!==C.next&&k(P.x,P.y,C.x,C.y,S.x,S.y,J.x,J.y)&&0<=e(J.prev,J,J.next))return!1;J=J.prevZ}for(;I&&I.z<=G;){if(I!==C.prev&&I!==C.next&&k(P.x,P.y,C.x,C.y,S.x,S.y,I.x,I.y)&&0<=e(I.prev,I,I.next))return!1;
I=I.nextZ}return!0}function d(C,G){return C.x-G.x}function l(C){if(C.next.prev===C)return C;let G=C;do{const J=G.next;if(J.prev===G||J===G||J===C)break;G=J}while(1);return G}function r(C,G){var J=G,I=C.x,P=C.y,S=-Infinity;do{if(P<=J.y&&P>=J.next.y&&J.next.y!==J.y){var Y=J.x+(P-J.y)*(J.next.x-J.x)/(J.next.y-J.y);if(Y<=I&&Y>S){S=Y;if(Y===I){if(P===J.y)return J;if(P===J.next.y)return J.next}var M=J.x<J.next.x?J:J.next}}J=J.next}while(J!==G);if(!M)return null;if(I===S)return M;G=M;Y=M.x;var L=M.y,O=Infinity;
J=M;do{if(I>=J.x&&J.x>=Y&&I!==J.x&&k(P<L?I:S,P,Y,L,P<L?S:I,P,J.x,J.y)){var U=Math.abs(P-J.y)/(I-J.x);var ca;if((ca=y(J,C))&&!(ca=U<O)&&(ca=U===O)&&!(ca=J.x>M.x)&&(ca=J.x===M.x)){ca=M;var ha=J;ca=0>e(ca.prev,ca,ha.prev)&&0>e(ha.next,ca,ca.next)}ca&&(M=J,O=U)}J=J.next}while(J!==G);return M}function q(C,G,J,I,P){C=32767*(C-J)*P;G=32767*(G-I)*P;C=(C|C<<8)&16711935;C=(C|C<<4)&252645135;C=(C|C<<2)&858993459;G=(G|G<<8)&16711935;G=(G|G<<4)&252645135;G=(G|G<<2)&858993459;return(C|C<<1)&1431655765|((G|G<<1)&
1431655765)<<1}function k(C,G,J,I,P,S,Y,M){return 0<=(P-Y)*(G-M)-(C-Y)*(S-M)&&0<=(C-Y)*(I-M)-(J-Y)*(G-M)&&0<=(J-Y)*(S-M)-(P-Y)*(I-M)}function e(C,G,J){return(G.y-C.y)*(J.x-G.x)-(G.x-C.x)*(J.y-G.y)}function n(C,G){return C.x===G.x&&C.y===G.y}function x(C,G,J,I){var P=p(e(C,G,J)),S=p(e(C,G,I)),Y=p(e(J,I,C)),M=p(e(J,I,G));return P!==S&&Y!==M||0===P&&f(C,J,G)||0===S&&f(C,I,G)||0===Y&&f(J,C,I)||0===M&&f(J,G,I)?!0:!1}function f(C,G,J){return G.x<=Math.max(C.x,J.x)&&G.x>=Math.min(C.x,J.x)&&G.y<=Math.max(C.y,
J.y)&&G.y>=Math.min(C.y,J.y)}function p(C){return 0<C?1:0>C?-1:0}function y(C,G){return 0>e(C.prev,C,C.next)?0<=e(C,G,C.next)&&0<=e(C,C.prev,G):0>e(C,G,C.prev)||0>e(C,C.next,G)}function z(C,G){var J=new D(C.i,C.x,C.y),I=new D(G.i,G.x,G.y),P=C.next,S=G.prev;C.next=G;G.prev=C;J.next=P;P.prev=J;I.next=J;J.prev=I;S.next=I;I.prev=S;return I}function E(C,G,J,I){C=new D(C,G,J);I?(C.next=I.next,C.prev=I,I.next.prev=C,I.next=C):(C.prev=C,C.next=C);return C}function F(C){C.next.prev=C.prev;C.prev.next=C.next;
C.prevZ&&(C.prevZ.nextZ=C.nextZ);C.nextZ&&(C.nextZ.prevZ=C.prevZ)}function D(C,G,J){this.i=C;this.x=G;this.y=J;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function A(C,G,J,I){for(var P=0,S=J-I;G<J;G+=I)P+=(C[S]-C[G])*(C[G+1]+C[S+1]),S=G;return P}v.deviation=function(C,G,J,I){var P=G&&G.length,S=Math.abs(A(C,0,P?G[0]*J:C.length,J));if(P){P=0;for(var Y=G.length;P<Y;P++)S-=Math.abs(A(C,G[P]*J,P<Y-1?G[P+1]*J:C.length,J))}for(P=G=0;P<I.length;P+=3){Y=I[P]*J;var M=I[P+1]*J,L=I[P+
2]*J;G+=Math.abs((C[Y]-C[L])*(C[M+1]-C[Y+1])-(C[Y]-C[M])*(C[L+1]-C[Y+1]))}return 0===S&&0===G?0:Math.abs((G-S)/S)};v.flatten=function(C){for(var G=C[0][0].length,J={vertices:[],holes:[],dimensions:G},I=0,P=0;P<C.length;P++){for(var S=0;S<C[P].length;S++)for(var Y=0;Y<G;Y++)J.vertices.push(C[P][S][Y]);0<P&&(I+=C[P-1].length,J.holes.push(I))}return J};return v})})(B);b=b.getDefaultExportFromCjs(B.exports);a.earcut=b})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(a){a.commonjsGlobal=
"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};a.getDefaultExportFromCjs=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}})},"esri/views/2d/engine/vectorTiles/buckets/LineBucket":function(){define(["../enums","./BaseBucket","../../webgl/TurboLine"],function(a,b,B){class w extends b{constructor(h,g,c,d,l){super(h,g,c);this.type=a.BucketType.LINE;this._tessellationOptions=
{pixelCoordRatio:8,halfWidth:0,offset:0};this._patternMap=new Map;this.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null};this.tessellationProperties._lineVertexBuffer=d;this.tessellationProperties._lineIndexBuffer=l;this._lineTessellator=new B.LineTessellation(v(this.tessellationProperties),u(this.tessellationProperties),h.canUseThinTessellation)}get lineIndexStart(){return this._lineIndexStart}get lineIndexCount(){return this._lineIndexCount}getResources(h,g,c){h=
this.layer;const d=this.zoom,l=h.getPaintProperty("line-pattern"),r=h.getPaintProperty("line-dasharray"),q=h.getLayoutProperty("line-cap");if(l||r){c=q?.getValue(d)||0;var k=q?.isDataDriven,e=l?.isDataDriven;if(e||r?.isDataDriven)for(var n of this._features)e?g(l.getValue(d,n)):g(this._getDashArrayKey(n,d,h,r,k,q,c));else l?g(l.getValue(d)):r&&(n=r.getValue(d),g(h.getDashKey(n,c)))}}processFeatures(h){this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index;this._lineIndexCount=0;
const g=this.layer,c=this.zoom;var d=this._features;const l=this._tessellationOptions,{hasDataDrivenLine:r,lineMaterial:q}=g;h&&h.setExtent(this.layerExtent);var k=g.getPaintProperty("line-pattern"),e=g.getPaintProperty("line-dasharray"),n=k?.isDataDriven,x=e?.isDataDriven;var f=g.getLayoutProperty("line-cap");const p=f?.isDataDriven?f:null,y=p?null:g.getLayoutValue("line-cap",c),z=y||0,E=!!p;f=g.getLayoutProperty("line-join");const F=f?.isDataDriven?f:null,D=F?null:g.getLayoutValue("line-join",c);
f=g.getLayoutProperty("line-miter-limit");const A=f?.isDataDriven?f:null,C=A?null:g.getLayoutValue("line-miter-limit",c);f=g.getLayoutProperty("line-round-limit");const G=f?.isDataDriven?f:null,J=G?null:g.getLayoutValue("line-round-limit",c);f=g.getPaintProperty("line-width");const I=f?.isDataDriven?f:null,P=I?null:g.getPaintValue("line-width",c);f=g.getPaintProperty("line-offset");const S=(f=f?.isDataDriven?f:null)?null:g.getPaintValue("line-offset",c);if(n||x){var Y=[];for(const M of d){d=n?k.getValue(c,
M):this._getDashArrayKey(M,c,g,e,E,p,z);d=this._spriteInfo[d];if(!d?.rect)continue;x=q.encodeAttributes(M,c,g,d);const L=M.getGeometry(h);Y.push({ddAttributes:x,page:d.page,cap:p?p.getValue(c,M):y,join:F?F.getValue(c,M):D,miterLimit:A?A.getValue(c,M):C,roundLimit:G?G.getValue(c,M):J,halfWidth:.5*(I?I.getValue(c,M):P),offset:f?f.getValue(c,M):S,geometry:L})}Y.sort((M,L)=>M.page-L.page);l.textured=!0;for(const {ddAttributes:M,page:L,cap:O,join:U,miterLimit:ca,roundLimit:ha,halfWidth:ia,offset:ea,geometry:la}of Y)l.capType=
O,l.joinType=U,l.miterLimit=ca,l.roundLimit=ha,l.halfWidth=ia,l.offset=ea,this._processFeature(la,M,L)}else{if(k&&(n=k.getValue(c),!this._spriteInfo[n]?.rect))return;l.textured=!(!k&&!e);l.capType=y;l.joinType=D;l.miterLimit=C;l.roundLimit=J;l.halfWidth=.5*P;l.offset=S;for(Y of d)k=r?q.encodeAttributes(Y,c,g):null,p&&(l.capType=p.getValue(c,Y)),F&&(l.joinType=F.getValue(c,Y)),A&&(l.miterLimit=A.getValue(c,Y)),G&&(l.roundLimit=G.getValue(c,Y)),I&&(l.halfWidth=.5*I.getValue(c,Y)),f&&(l.offset=f.getValue(c,
Y)),e=Y.getGeometry(h),this._processFeature(e,k)}}serialize(){var h=6+this.layerUIDs.length;h+=this.tessellationProperties._lineVertexBuffer.array.length;h+=this.tessellationProperties._lineIndexBuffer.array.length;h+=3*this._patternMap.size+1;h=new Uint32Array(h);var g=new Int32Array(h.buffer);let c=0;h[c++]=this.type;h[c++]=this.layerUIDs.length;for(var d=0;d<this.layerUIDs.length;d++)h[c++]=this.layerUIDs[d];h[c++]=this._lineIndexStart;h[c++]=this._lineIndexCount;d=this._patternMap;const l=d.size;
h[c++]=l;if(0<l)for(const [r,[q,k]]of d)h[c++]=r,h[c++]=q,h[c++]=k;h[c++]=this.tessellationProperties._lineVertexBuffer.array.length;for(d=0;d<this.tessellationProperties._lineVertexBuffer.array.length;d++)g[c++]=this.tessellationProperties._lineVertexBuffer.array[d];h[c++]=this.tessellationProperties._lineIndexBuffer.array.length;for(g=0;g<this.tessellationProperties._lineIndexBuffer.array.length;g++)h[c++]=this.tessellationProperties._lineIndexBuffer.array[g];return h.buffer}_processFeature(h,g,
c){if(h){var d=h.length;for(let l=0;l<d;l++)this._processGeometry(h[l],g,c)}}_processGeometry(h,g,c){if(!(2>h.length)){for(var d=h[0],l=1,r,q;l<h.length;)r=h[l].x-d.x,q=h[l].y-d.y,1E-6>r*r+q*q?h.splice(l,1):(d=h[l],++l);2>h.length||(l=this.tessellationProperties._lineIndexBuffer,d=3*l.index,this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=g,this._lineTessellator.tessellate(h,this._tessellationOptions),h=3*l.index-d,void 0!==
c&&(g=this._patternMap,(l=g.get(c))?l[1]+=h:g.set(c,[d+this._lineIndexCount,h])),this._lineIndexCount+=h)}}_getDashArrayKey(h,g,c,d,l,r,q){l=l?r.getValue(g,h):q;h=d.getValue(g,h);return c.getDashKey(h,l)}}const v=h=>(g,c,d,l,r,q,k,e,n,x,f)=>{h._lineVertexBuffer.add(g,c,k,e,d,l,r,q,n,x,f,h._ddValues);return h._lineVertexBuffer.index-1},u=h=>(g,c,d)=>{h._lineIndexBuffer.add(g,c,d)};return w})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["exports","../../../../symbols/cim/enums","./definitions"],
function(a,b,B){function w(r,q){return r.x===q.x&&r.y===q.y}function v(r,q){r.x=q.y;r.y=-q.x;return r}function u(r,q){r.x=-q.y;r.y=q.x;return r}function h(r,q){r.x=q.x;r.y=q.y;return r}function g(r,q){r.x=-q.x;r.y=-q.y;return r}function c(r){return Math.sqrt(r.x*r.x+r.y*r.y)}function d(r,q,k,e){r.x=q.x*k+q.y*e;r.y=q.x*e-q.y*k;return r}class l{constructor(r,q,k){this._writeVertex=r;this._writeTriangle=q;this._canUseThinTessellation=k;this._prevNormal={x:void 0,y:void 0};this._nextNormal={x:void 0,
y:void 0};this._textureNormalLeft={x:0,y:1};this._textureNormalRight={x:0,y:-1};this._textureNormal={x:void 0,y:void 0};this._joinNormal={x:void 0,y:void 0};this._inner={x:void 0,y:void 0};this._outer={x:void 0,y:void 0};this._roundStart={x:void 0,y:void 0};this._roundEnd={x:void 0,y:void 0};this._startBreak={x:void 0,y:void 0};this._endBreak={x:void 0,y:void 0};this._innerPrev={x:void 0,y:void 0};this._innerNext={x:void 0,y:void 0};this._bevelStart={x:void 0,y:void 0};this._bevelEnd={x:void 0,y:void 0};
this._bevelMiddle={x:void 0,y:void 0}}tessellate(r,q,k=this._canUseThinTessellation){if(r){var e=r.length;if(!(1>=e)){var n=0;for(let x=1;x<e;x++)w(r[x],r[n])||++n===x||(r[n]=r[x]);r.length=n+1}}k&&q.halfWidth<B.thinLineHalfWidthThreshold&&!q.offset?this._tessellateThin(r,q):this._tessellate(r,q)}_tessellateThin(r,q){if(!(2>r.length)){var k=q.wrapDistance||65535;q=q.initialDistance||0;var e=!1,n=r[0].x,x=r[0].y,f=r.length;for(let E=1;E<f;++E){e&&(e=!1,q=0);let F=r[E].x,D=r[E].y;var p=F-n;let A=D-
x;var y=Math.sqrt(p*p+A*A);p/=y;A/=y;if(q+y>k){e=!0;var z=(k-q)/y;y=k-q;F=(1-z)*n+z*F;D=(1-z)*x+z*D;--E}z=this._writeVertex(n,x,0,0,p,A,A,-p,0,-1,q);n=this._writeVertex(n,x,0,0,p,A,-A,p,0,1,q);q+=y;y=this._writeVertex(F,D,0,0,p,A,A,-p,0,-1,q);p=this._writeVertex(F,D,0,0,p,A,-A,p,0,1,q);this._writeTriangle(z,n,y);this._writeTriangle(n,y,p);n=F;x=D}}}_tessellate(r,q){var k=r[r.length-1];const e=w(r[0],k);if(!(r.length<(e?3:2))){var n=q.pixelCoordRatio,x=null!=q.capType?q.capType:b.CapType.BUTT,f=null!=
q.joinType?q.joinType:b.JoinType.MITER,p=null!=q.miterLimit?Math.min(q.miterLimit,4):2,y=null!=q.roundLimit?Math.min(q.roundLimit,1.05):1.05,z=null!=q.halfWidth?q.halfWidth:2,E=!!q.textured,F=null,D=this._prevNormal,A=this._nextNormal,C=-1,G=-1,J=this._joinNormal,I=this._textureNormalLeft,P=this._textureNormalRight,S=this._textureNormal,Y=-1,M=-1,L=q.wrapDistance||65535,O=q.initialDistance||0,U=this._writeVertex,ca=this._writeTriangle;q=(xa,Ba,Ea,Da,t,K)=>{xa=U(ia,ea,wa,va,Ea,Da,xa,Ba,t,K,O);0<=Y&&
0<=M&&0<=xa&&ca(Y,M,xa);Y=M;return M=xa};if(e){var ha=r[r.length-2];A.x=k.x-ha.x;A.y=k.y-ha.y;G=c(A);A.x/=G;A.y/=G}k=!1;for(let xa=0;xa<r.length;++xa){k&&(k=!1,O=0);ha&&(D.x=-A.x,D.y=-A.y,C=G,O+C>L&&(k=!0));k?(F=(L-O)/C,C=L-O,ha={x:(1-F)*ha.x+F*r[xa].x,y:(1-F)*ha.y+F*r[xa].y},--xa):ha=r[xa];var ia=ha.x;var ea=ha.y;var la=0>=xa&&!k,ra=xa===r.length-1;la||(O+=C);(F=ra?e?r[1]:null:r[xa+1])?(A.x=F.x-ia,A.y=F.y-ea,G=c(A),A.x/=G,A.y/=G):(A.x=void 0,A.y=void 0);if(!e){if(la){u(J,A);var wa=J.x;var va=J.y;
x===b.CapType.SQUARE&&(q(-A.y-A.x,A.x-A.y,A.x,A.y,0,-1),q(A.y-A.x,-A.x-A.y,A.x,A.y,0,1));x===b.CapType.ROUND&&(q(-A.y-A.x,A.x-A.y,A.x,A.y,-1,-1),q(A.y-A.x,-A.x-A.y,A.x,A.y,-1,1));if(x===b.CapType.ROUND||x===b.CapType.BUTT)q(-A.y,A.x,A.x,A.y,0,-1),q(A.y,-A.x,A.x,A.y,0,1);continue}if(ra){v(J,D);wa=J.x;va=J.y;if(x===b.CapType.ROUND||x===b.CapType.BUTT)q(D.y,-D.x,-D.x,-D.y,0,-1),q(-D.y,D.x,-D.x,-D.y,0,1);x===b.CapType.SQUARE&&(q(D.y-D.x,-D.x-D.y,-D.x,-D.y,0,-1),q(-D.y-D.x,D.x-D.y,-D.x,-D.y,0,1));x===
b.CapType.ROUND&&(q(D.y-D.x,-D.x-D.y,-D.x,-D.y,1,-1),q(-D.y-D.x,D.x-D.y,-D.x,-D.y,1,1));continue}}var aa=void 0;la=-(D.x*A.y-D.y*A.x);.01>Math.abs(la)?0<D.x*A.x+D.y*A.y?(J.x=D.x,J.y=D.y,la=1,aa=Number.MAX_VALUE,F=!0):(u(J,A),aa=la=1,F=!1):(J.x=(D.x+A.x)/la,J.y=(D.y+A.y)/la,aa=c(J),F=(aa-1)*z*n,F=4<aa||F>C&&F>G);wa=J.x;va=J.y;var T=f;switch(f){case b.JoinType.BEVEL:1.05>aa&&(T=b.JoinType.MITER);break;case b.JoinType.ROUND:aa<y&&(T=b.JoinType.MITER);break;case b.JoinType.MITER:aa>p&&(T=b.JoinType.BEVEL)}switch(T){case b.JoinType.MITER:q(J.x,
J.y,-D.x,-D.y,0,-1);q(-J.x,-J.y,-D.x,-D.y,0,1);if(ra)break;E&&(F=k?0:O,Y=this._writeVertex(ia,ea,wa,va,A.x,A.y,J.x,J.y,0,-1,F),M=this._writeVertex(ia,ea,wa,va,A.x,A.y,-J.x,-J.y,0,1,F));break;case b.JoinType.BEVEL:la=0>la;var Q=void 0;la?(T=Y,Y=M,M=T,Q=I,T=P):(Q=P,T=I);var V=void 0,ba=void 0;F?(V=la?u(this._innerPrev,D):v(this._innerPrev,D),ba=la?v(this._innerNext,A):u(this._innerNext,A)):V=ba=la?g(this._inner,J):h(this._inner,J);aa=la?v(this._bevelStart,D):u(this._bevelStart,D);q(V.x,V.y,-D.x,-D.y,
Q.x,Q.y);V=q(aa.x,aa.y,-D.x,-D.y,T.x,T.y);if(ra)break;ra=la?u(this._bevelEnd,A):v(this._bevelEnd,A);F?(F=this._writeVertex(ia,ea,wa,va,-D.x,-D.y,0,0,0,0,O),Y=this._writeVertex(ia,ea,wa,va,A.x,A.y,ba.x,ba.y,Q.x,Q.y,O),M=this._writeVertex(ia,ea,wa,va,A.x,A.y,ra.x,ra.y,T.x,T.y,O),this._writeTriangle(V,F,M)):(E?(F=this._bevelMiddle,F.x=(aa.x+ra.x)/2,F.y=(aa.y+ra.y)/2,d(S,F,-D.x,-D.y),q(F.x,F.y,-D.x,-D.y,S.x,S.y),d(S,F,A.x,A.y),Y=this._writeVertex(ia,ea,wa,va,A.x,A.y,F.x,F.y,S.x,S.y,O),M=this._writeVertex(ia,
ea,wa,va,A.x,A.y,ba.x,ba.y,Q.x,Q.y,O)):(F=Y,Y=M,M=F),q(ra.x,ra.y,A.x,A.y,T.x,T.y));la&&(F=Y,Y=M,M=F);break;case b.JoinType.ROUND:la=0>la;var fa=void 0;la?(T=Y,Y=M,M=T,T=I,fa=P):(T=P,fa=I);var pa=la?g(this._inner,J):h(this._inner,J);F?(ba=la?u(this._innerPrev,D):v(this._innerPrev,D),Q=la?v(this._innerNext,A):u(this._innerNext,A)):Q=ba=pa;V=la?v(this._roundStart,D):u(this._roundStart,D);var ta=la?u(this._roundEnd,A):v(this._roundEnd,A);ba=q(ba.x,ba.y,-D.x,-D.y,T.x,T.y);V=q(V.x,V.y,-D.x,-D.y,fa.x,fa.y);
if(ra)break;ra=this._writeVertex(ia,ea,wa,va,-D.x,-D.y,0,0,0,0,O);F||this._writeTriangle(Y,M,ra);pa=g(this._outer,pa);fa=this._writeVertex(ia,ea,wa,va,A.x,A.y,ta.x,ta.y,fa.x,fa.y,O);let Ba,Ea;if(ta=2<aa){var sa=void 0;aa!==Number.MAX_VALUE?(pa.x/=aa,pa.y/=aa,sa=D.x*pa.x+D.y*pa.y,sa=(aa*(sa*sa-1)+1)/sa):sa=-1;Ba=la?v(this._startBreak,D):u(this._startBreak,D);Ba.x+=D.x*sa;Ba.y+=D.y*sa;Ea=la?u(this._endBreak,A):v(this._endBreak,A);Ea.x+=A.x*sa;Ea.y+=A.y*sa}d(S,pa,-D.x,-D.y);aa=this._writeVertex(ia,ea,
wa,va,-D.x,-D.y,pa.x,pa.y,S.x,S.y,O);d(S,pa,A.x,A.y);pa=E?this._writeVertex(ia,ea,wa,va,A.x,A.y,pa.x,pa.y,S.x,S.y,O):aa;sa=ra;const Da=E?this._writeVertex(ia,ea,wa,va,A.x,A.y,0,0,0,0,O):ra;let t=-1,K=-1;ta&&(d(S,Ba,-D.x,-D.y),t=this._writeVertex(ia,ea,wa,va,-D.x,-D.y,Ba.x,Ba.y,S.x,S.y,O),d(S,Ea,A.x,A.y),K=this._writeVertex(ia,ea,wa,va,A.x,A.y,Ea.x,Ea.y,S.x,S.y,O));E?ta?(this._writeTriangle(sa,V,t),this._writeTriangle(sa,t,aa),this._writeTriangle(Da,pa,K),this._writeTriangle(Da,K,fa)):(this._writeTriangle(sa,
V,aa),this._writeTriangle(Da,pa,fa)):ta?(this._writeTriangle(ra,V,t),this._writeTriangle(ra,t,K),this._writeTriangle(ra,K,fa)):(this._writeTriangle(ra,V,aa),this._writeTriangle(ra,pa,fa));F?Y=this._writeVertex(ia,ea,wa,va,A.x,A.y,Q.x,Q.y,T.x,T.y,O):(Y=E?this._writeVertex(ia,ea,wa,va,A.x,A.y,Q.x,Q.y,T.x,T.y,O):ba,this._writeTriangle(Y,Da,fa));M=fa;la&&(F=Y,Y=M,M=F)}}}}}a.LineTessellation=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/webgl/definitions":function(){define(["exports"],
function(a){a.AttributeDataType=void 0;var b=a.AttributeDataType||(a.AttributeDataType={});b[b.FilterFlags=0]="FilterFlags";b[b.Animation=1]="Animation";b[b.GPGPU=2]="GPGPU";b[b.VV=3]="VV";b[b.DD0=4]="DD0";b[b.DD1=5]="DD1";b[b.DD2=6]="DD2";a.MAX_TILE_RESHUFFLES_PER_FRAME=1;a.RESHUFFLING_EXEMPT_DRAW_CALLS=10;a.RESHUFFLING_EXEMPT_MEMORY_BYTES=1048576;a.RESHUFFLING_TARGET_DRAW_EFFICIENCY=.75;a.RESHUFFLING_TARGET_MEMORY_EFFICIENCY=.75;a.angleFactor256=256/360;a.animationUnit=2;a.attributeStoreInitialSize=
256;a.attributeStoreTextureSize=1024;a.averageGlyphMosaicItem={metrics:{width:15,height:17,left:0,top:-7,advance:14}};a.bitsetFillHasPatternHeightPrecisionFactor=32;a.bitsetFillHasPatternWidthPrecisionFactor=64;a.bitsetFillHasUnresolvedReplacementColor=8;a.bitsetFillRandomPatternOffset=4;a.bitsetGenericConsiderAlphaOnly=16;a.bitsetGenericLockColor=2;a.bitsetLineScaleDash=4;a.bitsetMarkerAlignmentMap=1;a.bitsetMarkerAlignmentScreen=0;a.bitsetMarkerOutlineAllowColorOverride=4;a.bitsetMarkerScaleSymbolsProportionally=
8;a.bitsetTypeFillOutline=1;a.bufferDataMinimumSize=128;a.bufferDataPoolSize=4;a.chartMaxFields=10;a.collisionBoxPadding=16;a.collisionBucketSize=128;a.collisionEarlyRejectBucketSize=16;a.collisionMaxZoomDelta=1;a.collisionPlacementPadding=8;a.collisionTileBoxSize=4;a.compressionFactorForU16=128;a.dataDrivenUnit0=4;a.dataDrivenUnit1=5;a.dataDrivenUnit2=6;a.debugLabels=!1;a.defaultSdfTextureSize=128;a.displayRecordIntPerElement=8;a.dotDensityMaxFields=8;a.effectFlag0=16;a.enableEarlyLabelDiscard=!1;
a.extrudeScale=64;a.filterFlag0=8;a.filterFlagsUnit=1;a.glyphSize=24;a.gpgpuUnit=12;a.heuristicGlyphsPerFeature=10;a.heuristicGlyphsPerLine=50;a.highlightReasonsCount=3;a.hittestSmallSymbolThreshold=3;a.hittestToleranceDesktop=1;a.hittestToleranceMobile=3;a.hittestToleranceSmallSymbol=3;a.labelPlacementOffsetPadding=4;a.magicLabelLineHeight=29;a.maxGeohashLevel=12;a.maxGpuUploadsPerFrame=2;a.maxRepresentableInt=16777216;a.maxTextLineWidth=512;a.minMaxZoomPrecisionFactor=10;a.minTextLineWidth=32;a.nanMagicNumber=
1E-30;a.patchPixelBufferAllocSize=500;a.patternFillRasterizationScale=2;a.pictureFillColor=4294967295;a.randomInsidePolygonTextureSize=1024;a.rasterTileSize=256;a.spritePadding=2;a.svgSdfTextureInnerSize=252;a.svgSdfTextureSize=256;a.textureBindingBitmap=0;a.textureBindingGlyphAtlas=0;a.textureBindingHighlight0=5;a.textureBindingHighlight1=6;a.textureBindingRenderer0=5;a.textureBindingRenderer1=6;a.textureBindingSpriteAtlas=0;a.textureUploadManagerBudget=4;a.textureUploadManagerChunkSize=128;a.thinLineHalfWidthThreshold=
1.05;a.tileSize=512;a.visualVariableUnit=3;a.vtlHighResCutoff=1.15;a.vtlTextureBindingUnitGlyphs=6;a.vtlTextureBindingUnitSprites=5;a.webglMaxInnerStops=6;a.webglMaxStops=8;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/buckets/SymbolBucket":function(){define("../../../../../core/BidiEngine ../../../../../core/maybe ../../../../../core/string ../../../../../geometry/support/TileClipper ../enums ../GeometryUtils ../Placement ../TextShaping ./BaseBucket ../style/StyleDefinition ../style/StyleLayer".split(" "),
function(a,b,B,w,v,u,h,g,c,d,l){function r(k,e){return k.iconMosaicItem&&e.iconMosaicItem?k.iconMosaicItem.page===e.iconMosaicItem.page?0:k.iconMosaicItem.page-e.iconMosaicItem.page:k.iconMosaicItem&&!e.iconMosaicItem?1:!k.iconMosaicItem&&e.iconMosaicItem?-1:0}class q extends c{constructor(k,e,n,x,f,p,y,z,E){super(e,n,E.getSpriteItems());this.type=v.BucketType.SYMBOL;this._markerMap=new Map;this._glyphMap=new Map;this._glyphBufferDataStorage=new Map;this._isIconSDF=!1;this._sourceTileKey=k;this._iconVertexBuffer=
x;this._iconIndexBuffer=f;this._textVertexBuffer=p;this._textIndexBuffer=y;this._placementEngine=z;this._workerTileHandler=E}get markerPageMap(){return this._markerMap}get glyphsPageMap(){return this._glyphMap}get symbolInstances(){return this._symbolInstances}getResources(k,e,n){const x=this.layer,f=this.zoom;k&&k.setExtent(this.layerExtent);const p=x.getLayoutProperty("icon-image"),y=x.getLayoutProperty("text-field");let z=x.getLayoutProperty("text-transform"),E=x.getLayoutProperty("text-font");
const F=[];let D;p&&!p.isDataDriven&&(D=p.getValue(f));let A;y&&!y.isDataDriven&&(A=y.getValue(f));let C;z&&z.isDataDriven||(C=x.getLayoutValue("text-transform",f),z=null);let G;E&&E.isDataDriven||(G=x.getLayoutValue("text-font",f),E=null);for(const S of this._features){var J=S.getGeometry(k);if(!J||0===J.length)continue;let Y;p&&(Y=p.isDataDriven?p.getValue(f,S):this._replaceKeys(D,S.values))&&e(Y);let M;var I=!1;if(y&&(M=y.isDataDriven?y.getValue(f,S):this._replaceKeys(A,S.values))){M=M.replaceAll("\\n",
"\n");z&&(C=z.getValue(f,S));switch(C){case d.TextTransform.LOWERCASE:M=M.toLowerCase();break;case d.TextTransform.UPPERCASE:M=M.toUpperCase()}q._bidiEngine.hasBidiChar(M)&&(I="rtl"===q._bidiEngine.checkContextual(M)?"IDNNN":"ICNNN",M=q._bidiEngine.bidiTransform(M,I,"VLYSN"),I=!0);if(0<M.length){E&&(G=E.getValue(f,S));for(const L of G){var P=n[L];P||=n[L]=new Set;for(const O of M){const U=O.codePointAt(0);null!=U&&P.add(U)}}}}if(Y||M)P=x.getLayoutValue("symbol-sort-key",f,S),J={feature:S,sprite:Y,
label:M,rtl:I,geometry:J,hash:(M?B.numericHash(M):0)^(Y?B.numericHash(Y):0),priority:P,textFont:G},F.push(J)}this._symbolFeatures=F}processFeatures(k){k&&k.setExtent(this.layerExtent);var e=this.layer;k=this.zoom;const n=e.getLayoutValue("symbol-placement",k),x=n!==d.SymbolPlacement.POINT,f=e.getLayoutValue("symbol-spacing",k)*h.tilePixelRatio;var p=e.getLayoutProperty("icon-image"),y=e.getLayoutProperty("text-field");const z=p?new l.IconLayout(e,k,x):null;e=y?new l.TextLayout(e,k,x):null;const E=
this._workerTileHandler;let F;p&&(F=E.getSpriteItems());this._iconIndexStart=3*this._iconIndexBuffer.index;this._textIndexStart=3*this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();p=[];y=1;e?.size&&(y=e.size/g.sdfGlyphSize);const D=e?e.maxAngle*u.cDegToRad:0,A=e?e.size*h.tilePixelRatio:0;for(const I of this._symbolFeatures){let P;z&&F&&I.sprite&&(P=F[I.sprite])&&P.sdf&&(this._isIconSDF=!0);P&&z.update(k,I.feature);var C=void 0,G=
0,J=I.label;if(J){b.assertIsSome(e);e.update(k,I.feature);C=x&&e.rotationAlignment===d.RotationAlignment.MAP?e.keepUpright:e.writingMode&&e.writingMode.includes(d.TextWritingMode.VERTICAL);let S=.5;switch(e.anchor){case d.SymbolAnchor.TOP_LEFT:case d.SymbolAnchor.LEFT:case d.SymbolAnchor.BOTTOM_LEFT:S=0;break;case d.SymbolAnchor.TOP_RIGHT:case d.SymbolAnchor.RIGHT:case d.SymbolAnchor.BOTTOM_RIGHT:S=1}let Y=.5;switch(e.anchor){case d.SymbolAnchor.TOP_LEFT:case d.SymbolAnchor.TOP:case d.SymbolAnchor.TOP_RIGHT:Y=
0;break;case d.SymbolAnchor.BOTTOM_LEFT:case d.SymbolAnchor.BOTTOM:case d.SymbolAnchor.BOTTOM_RIGHT:Y=1}let M=.5;switch(e.justify){case d.TextJustification.AUTO:M=S;break;case d.TextJustification.LEFT:M=0;break;case d.TextJustification.RIGHT:M=1}const L=e.letterSpacing*g.sdfGlyphSize,O=x?0:e.maxWidth*g.sdfGlyphSize,U=e.lineHeight*g.sdfGlyphSize,ca=I.textFont.map(ha=>E.getGlyphItems(ha));if((C=(new g.TextShaping(ca,O,U,L,S,Y,M)).getShaping(J,I.rtl,C))&&0<C.length){G=1E30;J=-1E30;for(const ha of C)G=
Math.min(G,ha.x),J=Math.max(J,ha.x);G=(J-G+2*g.sdfGlyphSize)*y*h.tilePixelRatio}}for(let S of I.geometry){J=[];n===d.SymbolPlacement.LINE?(C?.length&&e?.size&&(S=q._smoothVertices(S,e.size*h.tilePixelRatio*(2+Math.min(2,4*Math.abs(e.offset[1]))))),q._pushAnchors(J,S,f,G)):n===d.SymbolPlacement.LINE_CENTER?q._pushCenterAnchor(J,S):I.feature.type===w.GeometryType.Polygon?q._pushCentroid(J,S):J.push(new h.Anchor(S[0].x,S[0].y));for(const Y of J)0>Y.x||Y.x>h.tileCoordSize||0>Y.y||Y.y>h.tileCoordSize||
x&&0<G&&e?.rotationAlignment===d.RotationAlignment.MAP&&!q._honorsTextMaxAngle(S,Y,G,D,A)||(J={shaping:C,line:S,iconMosaicItem:P,anchor:Y,symbolFeature:I,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]},p.push(J),this._processFeature(J,z,e))}}p.sort(r);this._addPlacedGlyphs();this._symbolInstances=p}serialize(){var k=14+this.layerUIDs.length;k+=3*this.markerPageMap.size;k+=3*this.glyphsPageMap.size;k+=q._symbolsSerializationLength(this._symbolInstances);k+=this._iconVertexBuffer.array.length;
k+=this._iconIndexBuffer.array.length;k+=this._textVertexBuffer.array.length;k+=this._textIndexBuffer.array.length;k=new Uint32Array(k);var e=new Int32Array(k.buffer),n=new Float32Array(k.buffer);const [x,f,p]=this._sourceTileKey.split("/");let y=0;k[y++]=this.type;k[y++]=this.layerUIDs.length;for(let z=0;z<this.layerUIDs.length;z++)k[y++]=this.layerUIDs[z];k[y++]=this._isIconSDF?1:0;k[y++]=parseFloat(x);k[y++]=parseFloat(f);k[y++]=parseFloat(p);k[y++]=this.markerPageMap.size;for(const [z,[E,F]]of this.markerPageMap)k[y++]=
z,k[y++]=E,k[y++]=F;k[y++]=this.glyphsPageMap.size;for(const [z,[E,F]]of this.glyphsPageMap)k[y++]=z,k[y++]=E,k[y++]=F;k[y++]=this._iconVertexBuffer.index/4;k[y++]=this._textVertexBuffer.index/4;y=q.serializeSymbols(k,e,n,y,this._symbolInstances);k[y++]=this._iconVertexBuffer.array.length;for(n=0;n<this._iconVertexBuffer.array.length;n++)e[y++]=this._iconVertexBuffer.array[n];k[y++]=this._iconIndexBuffer.array.length;for(n=0;n<this._iconIndexBuffer.array.length;n++)k[y++]=this._iconIndexBuffer.array[n];
k[y++]=this._textVertexBuffer.array.length;for(n=0;n<this._textVertexBuffer.array.length;n++)e[y++]=this._textVertexBuffer.array[n];k[y++]=this._textIndexBuffer.array.length;for(e=0;e<this._textIndexBuffer.array.length;e++)k[y++]=this._textIndexBuffer.array[e];return k.buffer}static _symbolsSerializationLength(k){let e;e=1;for(const n of k||[]){e+=5;e+=1;for(const x of n.textColliders)e+=10;for(const x of n.iconColliders)e+=10;e+=1;e+=2*n.textVertexRanges.length;e+=1;e+=2*n.iconVertexRanges.length}return e}static serializeSymbols(k,
e,n,x,f){f=f||[];e[x++]=f.length;for(const p of f){e[x++]=p.anchor.x;e[x++]=p.anchor.y;e[x++]=p.symbolFeature.hash;e[x++]=p.symbolFeature.priority;e[x++]=p.symbolFeature.feature.featureIndex;e[x++]=p.textColliders.length+p.iconColliders.length;for(const y of p.textColliders)e[x++]=y.xTile,e[x++]=y.yTile,e[x++]=y.dxPixels,e[x++]=y.dyPixels,e[x++]=y.hard?1:0,e[x++]=y.partIndex,n[x++]=y.minLod,n[x++]=y.maxLod,e[x++]=y.width,e[x++]=y.height;for(const y of p.iconColliders)e[x++]=y.xTile,e[x++]=y.yTile,
e[x++]=y.dxPixels,e[x++]=y.dyPixels,e[x++]=y.hard?1:0,e[x++]=y.partIndex,n[x++]=y.minLod,n[x++]=y.maxLod,e[x++]=y.width,e[x++]=y.height;e[x++]=p.textVertexRanges.length;for(const [y,z]of p.textVertexRanges)e[x++]=y,e[x++]=z;e[x++]=p.iconVertexRanges.length;for(const [y,z]of p.iconVertexRanges)e[x++]=y,e[x++]=z}return x}_replaceKeys(k,e){return k.replaceAll(/{([^{}]+)}/g,(n,x)=>x in e?e[x]:"")}_processFeature(k,e,n){const {line:x,iconMosaicItem:f,shaping:p,anchor:y}=k,z=this.zoom;var E=this.layer,
F=!!f,D=!0;F&&(D=e?.optional||!f);var A=p&&0<p.length,C=A?n?.optional:!0,G;F&&(G=this._placementEngine.getIconPlacement(y,f,e));if(G||D){var J;A&&(J=this._placementEngine.getTextPlacement(y,p,x,n));if(J||C){G&&J||(C||D?C||J?D||G||(J=null):G=null:J=G=null);if(J&&(F=E.hasDataDrivenText?E.textMaterial.encodeAttributes(k.symbolFeature.feature,z,E):null,this._storePlacedGlyphs(k,J.shapes,z,n.rotationAlignment,F),J.textColliders)){k.textColliders=J.textColliders;for(var I of J.textColliders)if(I.minLod=
Math.max(z+u.log2(I.minLod),0),I.maxLod=Math.min(z+u.log2(I.maxLod),25),n=I.angle){D=Math.cos(n);var P=Math.sin(n);A=I.dxPixels*D-I.dyPixels*P;n=I.dxPixels*P+I.dyPixels*D;C=(I.dxPixels+I.width)*D-I.dyPixels*P;J=(I.dxPixels+I.width)*P+I.dyPixels*D;const S=I.dxPixels*D-(I.dyPixels+I.height)*P;F=I.dxPixels*P+(I.dyPixels+I.height)*D;const Y=(I.dxPixels+I.width)*D-(I.dyPixels+I.height)*P;P=(I.dxPixels+I.width)*P+(I.dyPixels+I.height)*D;D=Math.min(A,C,S,Y);A=Math.max(A,C,S,Y);C=Math.min(n,J,F,P);n=Math.max(n,
J,F,P);I.dxPixels=D;I.dyPixels=C;I.width=A-D;I.height=n-C}}if(G&&(E=E.hasDataDrivenIcon?E.iconMaterial.encodeAttributes(k.symbolFeature.feature,z,E):null,this._addPlacedIcons(k,G.shapes,z,f.page,e.rotationAlignment===d.RotationAlignment.VIEWPORT,E),G.iconColliders)){k.iconColliders=G.iconColliders;for(const S of G.iconColliders)if(S.minLod=Math.max(z+u.log2(S.minLod),0),S.maxLod=Math.min(z+u.log2(S.maxLod),25),k=S.angle)E=Math.cos(k),D=Math.sin(k),I=S.dxPixels*E-S.dyPixels*D,k=S.dxPixels*D+S.dyPixels*
E,n=(S.dxPixels+S.width)*E-S.dyPixels*D,e=(S.dxPixels+S.width)*D+S.dyPixels*E,J=S.dxPixels*E-(S.dyPixels+S.height)*D,G=S.dxPixels*D+(S.dyPixels+S.height)*E,F=(S.dxPixels+S.width)*E-(S.dyPixels+S.height)*D,D=(S.dxPixels+S.width)*D+(S.dyPixels+S.height)*E,E=Math.min(I,n,J,F),I=Math.max(I,n,J,F),n=Math.min(k,e,G,D),k=Math.max(k,e,G,D),S.dxPixels=E,S.dyPixels=n,S.width=I-E,S.height=k-n}}}}_addPlacedIcons(k,e,n,x,f,p){const y=Math.max(n-1,0),z=this._iconVertexBuffer,E=this._iconIndexBuffer,F=this._markerMap;
for(const A of e){e=f?0:Math.max(n+u.log2(A.minzoom),y);const C=f?25:Math.min(n+u.log2(A.maxzoom),25);if(C<=e)continue;const G=A.tl,J=A.tr,I=A.bl,P=A.br;var D=A.mosaicRect;const S=A.labelAngle,Y=A.minAngle,M=A.maxAngle,L=A.anchor,O=z.index,U=D.x,ca=D.y,ha=U+D.width;D=ca+D.height;const ia=z.index;z.add(L.x,L.y,G.x,G.y,U,ca,S,Y,M,e,C,p);z.add(L.x,L.y,J.x,J.y,ha,ca,S,Y,M,e,C,p);z.add(L.x,L.y,I.x,I.y,U,D,S,Y,M,e,C,p);z.add(L.x,L.y,P.x,P.y,ha,D,S,Y,M,e,C,p);0<k.iconVertexRanges.length&&k.iconVertexRanges[0][0]+
k.iconVertexRanges[0][1]===ia?k.iconVertexRanges[0][1]+=4:k.iconVertexRanges.push([ia,4]);E.add(O,O+1,O+2);E.add(O+1,O+2,O+3);F.has(x)?F.get(x)[1]+=6:F.set(x,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=6}}_addPlacedGlyphs(){const k=this._textVertexBuffer,e=this._textIndexBuffer,n=this._glyphMap;for(const [x,f]of this._glyphBufferDataStorage)for(const p of f){const y=k.index,z=p.symbolInstance,E=p.ddAttributes,F=k.index;k.add(p.glyphAnchor[0],p.glyphAnchor[1],p.tl[0],p.tl[1],
p.xmin,p.ymin,p.labelAngle,p.minAngle,p.maxAngle,p.minLod,p.maxLod,E);k.add(p.glyphAnchor[0],p.glyphAnchor[1],p.tr[0],p.tr[1],p.xmax,p.ymin,p.labelAngle,p.minAngle,p.maxAngle,p.minLod,p.maxLod,E);k.add(p.glyphAnchor[0],p.glyphAnchor[1],p.bl[0],p.bl[1],p.xmin,p.ymax,p.labelAngle,p.minAngle,p.maxAngle,p.minLod,p.maxLod,E);k.add(p.glyphAnchor[0],p.glyphAnchor[1],p.br[0],p.br[1],p.xmax,p.ymax,p.labelAngle,p.minAngle,p.maxAngle,p.minLod,p.maxLod,E);0<z.textVertexRanges.length&&z.textVertexRanges[0][0]+
z.textVertexRanges[0][1]===F?z.textVertexRanges[0][1]+=4:z.textVertexRanges.push([F,4]);e.add(y,y+1,y+2);e.add(y+1,y+2,y+3);n.has(x)?n.get(x)[1]+=6:n.set(x,[this._textIndexStart+this._textIndexCount,6]);this._textIndexCount+=6}this._glyphBufferDataStorage.clear()}_storePlacedGlyphs(k,e,n,x,f){const p=Math.max(n-1,0);x=x===d.RotationAlignment.VIEWPORT;let y,z,E,F,D,A,C,G,J,I;for(const P of e)e=x?0:Math.max(n+u.log2(P.minzoom),p),y=x?25:Math.min(n+u.log2(P.maxzoom),25),y<=e||(z=P.tl,E=P.tr,F=P.bl,D=
P.br,A=P.labelAngle,C=P.minAngle,G=P.maxAngle,J=P.anchor,I=P.mosaicRect,this._glyphBufferDataStorage.has(P.page)||this._glyphBufferDataStorage.set(P.page,[]),this._glyphBufferDataStorage.get(P.page).push({glyphAnchor:[J.x,J.y],tl:[z.x,z.y],tr:[E.x,E.y],bl:[F.x,F.y],br:[D.x,D.y],xmin:I.x,ymin:I.y,xmax:I.x+I.width,ymax:I.y+I.height,labelAngle:A,minAngle:C,maxAngle:G,minLod:e,maxLod:y,placementLod:p,symbolInstance:k,ddAttributes:f}))}static _pushAnchors(k,e,n,x){n+=x;var f=0,p=e.length-1;for(var y=0;y<
p;y++)f+=w.Point.distance(e[y],e[y+1]);x=.5*(x||n);if(!(f<=x)){x/=f;n=f/Math.max(Math.round(f/n),1);f=0;p=-n/2;y=e.length-1;for(let E=0;E<y;E++){const F=e[E],D=e[E+1],A=D.x-F.x,C=D.y-F.y,G=Math.sqrt(A*A+C*C);let J;for(;p+n<f+G;){p+=n;var z=(p-f)/G;const I=u.interpolate(F.x,D.x,z);z=u.interpolate(F.y,D.y,z);void 0===J&&(J=Math.atan2(C,A));k.push(new h.Anchor(I,z,J,E,x))}f+=G}}}static _pushCenterAnchor(k,e){var n=0,x=e.length-1;for(var f=0;f<x;f++)n+=w.Point.distance(e[f],e[f+1]);var p=n/2;let y=0;
const z=e.length-1;for(n=0;n<z;n++){var E=e[n];const F=e[n+1];x=F.x-E.x;f=F.y-E.y;const D=Math.sqrt(x*x+f*f);if(p<y+D){p=(p-y)/D;e=u.interpolate(E.x,F.x,p);E=u.interpolate(E.y,F.y,p);k.push(new h.Anchor(e,E,Math.atan2(f,x),n,0));break}y+=D}}static _deviation(k,e,n){return Math.atan2((e.x-k.x)*(n.y-e.y)-(e.y-k.y)*(n.x-e.x),(e.x-k.x)*(n.x-e.x)+(e.y-k.y)*(n.y-e.y))}static _honorsTextMaxAngle(k,e,n,x,f){let p=0;n/=2;for(var y=new w.Point(e.x,e.y),z=e.segment+1;p>-n;){--z;if(0>z)return!1;p-=w.Point.distance(k[z],
y);y=k[z]}p+=w.Point.distance(k[z],k[z+1]);e=[];y=0;const E=k.length;for(;p<n;){var F=k[z];let D;do{++z;if(z===E)return!1;D=k[z]}while(D.isEqual(F));let A=z,C;do{++A;if(A===E)return!1;C=k[A]}while(C.isEqual(D));F=this._deviation(F,D,C);e.push({deviation:F,distToAnchor:p});for(y+=F;p-e[0].distToAnchor>f;)y-=e.shift().deviation;if(Math.abs(y)>x)return!1;p+=w.Point.distance(D,C)}return!0}static _smoothVertices(k,e){if(0>=e)return k;let n=k.length;if(3>n)return k;const x=[];var f=0,p=0;x.push(0);for(var y=
1;y<n;y++){var z=w.Point.distance(k[y],k[y-1]);0<z&&(f+=z,x.push(f),p++,p!==y&&(k[p]=k[y]))}n=p+1;if(3>n)return k;e=Math.min(e,.2*f);f=k[0].x;p=k[0].y;y=k[n-1].x;z=k[n-1].y;var E=w.Point.sub(k[0],k[1]);E.normalize();k[0].x+=e*E.x;k[0].y+=e*E.y;E.assignSub(k[n-1],k[n-2]);E.normalize();k[n-1].x+=e*E.x;k[n-1].y+=e*E.y;x[0]-=e;x[n-1]+=e;E=[];E.push(new w.Point(f,p));const F=.5*e;for(let L=1;L<n-1;L++){let O=0,U=0,ca=0;for(var D=L-1;0<=D;D--){var A=F+x[D+1]-x[L];if(0>A)break;var C=x[D+1]-x[D],G=x[L]-x[D]<
F?1:A/C;if(1E-6>G)break;var J=G*G,I=G*A-.5*J*C,P=G*C/e,S=k[D+1],Y=k[D].x-S.x,M=k[D].y-S.y;O+=P/I*(S.x*G*A+.5*J*(A*Y-C*S.x)-J*G*C*Y/3);U+=P/I*(S.y*G*A+.5*J*(A*M-C*S.y)-J*G*C*M/3);ca+=P}for(D=L+1;D<n;D++){A=F-x[D-1]+x[L];if(0>A)break;C=x[D]-x[D-1];G=x[D]-x[L]<F?1:A/C;if(1E-6>G)break;J=G*G;I=G*A-.5*J*C;P=G*C/e;S=k[D-1];Y=k[D].x-S.x;M=k[D].y-S.y;O+=P/I*(S.x*G*A+.5*J*(A*Y-C*S.x)-J*G*C*Y/3);U+=P/I*(S.y*G*A+.5*J*(A*M-C*S.y)-J*G*C*M/3);ca+=P}E.push(new w.Point(O/ca,U/ca))}E.push(new w.Point(y,z));k[0].x=
f;k[0].y=p;k[n-1].x=y;k[n-1].y=z;return E}static _pushCentroid(k,e){const n=e.length-1;let x=0,f=0,p=0,y=e[0].x,z=e[0].y;4096<y&&(y=4096);0>y&&(y=0);4096<z&&(z=4096);0>z&&(z=0);for(let E=1;E<n;E++){let F=e[E].x,D=e[E].y,A=e[E+1].x,C=e[E+1].y;4096<F&&(F=4096);0>F&&(F=0);4096<D&&(D=4096);0>D&&(D=0);4096<A&&(A=4096);0>A&&(A=0);4096<C&&(C=4096);0>C&&(C=0);const G=(F-y)*(C-z)-(A-y)*(D-z);x+=G*(y+F+A);f+=G*(z+D+C);p+=G}x/=3*p;f/=3*p;isNaN(x)||isNaN(f)||k.push(new h.Anchor(x,f))}}q._bidiEngine=new a;return q})},
"esri/core/BidiEngine":function(){define(["./bidiEngineTables"],function(a){function b(F,D,A,C,G){var J=F;void 0===D&&(D=G.defInFormat);void 0===A&&(A=G.defOutFormat);void 0===C&&(C=G.defSwap);if(D!==A){var I=D.substring(0,1),P=A.substring(0,1);var S=D.substring(1,4);var Y=A.substring(1,4);"C"===S.charAt(0)&&(S=B(J),S="ltr"===S||"rtl"===S?S.toUpperCase():"L"===D.charAt(2)?"LTR":"RTL",D=I+S);"C"===Y.charAt(0)&&(S=B(J),"rtl"===S?Y="RTL":"ltr"===S?(J=J.split(""),J.reverse(),S=B(J.join("")),Y=S.toUpperCase()):
Y="L"===A.charAt(2)?"LTR":"RTL",A=P+Y)}if(D===A)return F;P=D.substring(0,1);J=D.substring(1,4);I=A.substring(0,1);Y=A.substring(1,4);G.inFormat=D;G.outFormat=A;G.swap=C;if("L"===P&&"VLTR"===A){if("LTR"===J)return G.dir=0,w(F,G);if("RTL"===J)return G.dir=1,w(F,G)}if("V"===P&&"V"===I)return G.dir="RTL"===J?1:0,u(F,G);if("L"===P&&"VRTL"===A)return G.dir="LTR"===J?0:1,F=w(F,G),u(F);if("VLTR"===D&&"LLTR"===A)return G.dir=0,w(F,G);if("V"===P&&"L"===I&&J!==Y)return F=u(F),"RTL"===J?b(F,"LLTR","VLTR",C,G):
b(F,"LRTL","VRTL",C,G);if("VRTL"===D&&"LRTL"===A)return b(F,"LRTL","VRTL",C,G);"L"===P&&"L"===I&&(D=G.swap,G.swap=D.substr(0,1)+"N","RTL"===J?(G.dir=1,F=w(F,G),G.swap="N"+D.substr(1,2),G.dir=0,F=w(F,G)):(G.dir=0,F=w(F,G),G.swap="N"+D.substr(1,2),F=b(F,"VLTR","LRTL",G.swap,G)));return F}function B(F){return(F=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(F))?"z">=F[0]?"ltr":"rtl":""}function w(F,D){F=F.split("");const A=[];v(F,A,D);if(0!==D.hiLevel&&D.swap.substr(0,
1)!==D.swap.substr(1,2))for(let J=0;J<F.length;J++)if(1===A[J]){var C=J;b:{let I=void 0;var G=F[J];let P=0,S=a.swapTable.length-1;for(;P<=S;)if(I=Math.floor((P+S)/2),G<a.swapTable[I][0])S=I-1;else if(G>a.swapTable[I][0])P=I+1;else{G=a.swapTable[I][1];break b}}F[C]=G}c(2,F,A,D);c(1,F,A,D);p=A;return F.join("")}function v(F,D,A){const C=F.length;var G=A.dir?a.impTabRtl:a.impTabLtr,J=0,I=-1;const P=[],S=[];A.hiLevel=A.dir;A.lastArabic=!1;A.hasUbatAl=!1;A.hasUbatB=!1;A.hasUbatS=!1;for(var Y=0;Y<C;Y++){var M=
Y,L=F[Y].charCodeAt(0);const O=a.primaryTable[L>>8];P[M]=O<a.tbbase?O:a.unicodeTable[O-a.tbbase][L&255]}for(M=0;M<C;M++){Y=d(F,P,S,M,A);S[M]=Y;J=G[J][Y];L=J&240;J&=15;Y=G[J][5];D[M]=Y;if(0<L){if(16===L)for(;I<M;I++)D[I]=1;I=-1}if(G[J][6])-1===I&&(I=M);else if(-1<I){for(;I<M;I++)D[I]=Y;I=-1}P[M]===a.ubatB&&(D[M]=0);A.hiLevel|=Y}if(A.hasUbatS)for(F=0;F<C;F++)if(P[F]===a.ubatS)for(D[F]=A.dir,G=F-1;0<=G;G--)if(P[G]===a.ubatWs)D[G]=A.dir;else break}function u(F,D){F=F.split("");if(D){const A=[];v(F,A,
D);p=A}F.reverse();x.reverse();return F.join("")}function h(F){for(let D=0;D<a.arabicAlefBetIntervalsBegine.length;D++)if(F>=a.arabicAlefBetIntervalsBegine[D]&&F<=a.arabicAlefBetIntervalsEnd[D])return!0;return!1}function g(F,D,A,C){for(;D*A<C&&r(F[D]);)D+=A;return D*A<C&&h(F[D])?!0:!1}function c(F,D,A,C){if(!(C.hiLevel<F))if(1!==F||1!==C.dir||C.hasUbatB){C=D.length;for(var G=0,J,I,P;G<C;){if(A[G]>=F){for(J=G+1;J<C&&A[J]>=F;)J++;for(I=J-1;G<I;G++,I--)P=D[G],D[G]=D[I],D[I]=P,P=x[G],x[G]=x[I],x[I]=P;
G=J}G++}}else D.reverse(),x.reverse()}function d(F,D,A,C,G){return{UBAT_L:()=>{G.lastArabic=!1;return a.ubatL},UBAT_R:()=>{G.lastArabic=!1;return a.ubatR},UBAT_ON:()=>a.ubatOn,UBAT_AN:()=>a.ubatAn,UBAT_EN:()=>G.lastArabic?a.ubatAn:a.ubatEn,UBAT_AL:()=>{G.lastArabic=!0;G.hasUbatAl=!0;return a.ubatR},UBAT_WS:()=>a.ubatOn,UBAT_CS:()=>{let J,I;if(1>C||C+1>=D.length||(J=A[C-1])!==a.ubatEn&&J!==a.ubatAn||(I=D[C+1])!==a.ubatEn&&I!==a.ubatAn)return a.ubatOn;G.lastArabic&&(I=a.ubatAn);return I===J?I:a.ubatOn},
UBAT_ES:()=>(0<C?A[C-1]:a.ubatB)===a.ubatEn&&C+1<D.length&&D[C+1]===a.ubatEn?a.ubatEn:a.ubatOn,UBAT_ET:()=>{if(0<C&&A[C-1]===a.ubatEn)return a.ubatEn;if(G.lastArabic)return a.ubatOn;let J=C+1;const I=D.length;for(;J<I&&D[J]===a.ubatEt;)J++;return J<I&&D[J]===a.ubatEn?a.ubatEn:a.ubatOn},UBAT_NSM:()=>{if("VLTR"===G.inFormat){for(var J=D.length,I=C+1;I<J&&D[I]===a.ubatNsm;)I++;if(I<J&&(J=F[C].charCodeAt(0),I=D[I],(1425<=J&&2303>=J||64286===J)&&(I===a.ubatR||I===a.ubatAl)))return a.ubatR}return 1>C||
D[C-1]===a.ubatB?a.ubatOn:A[C-1]},UBAT_B:()=>{G.lastArabic=!0;G.hasUbatB=!0;return G.dir},UBAT_S:()=>{G.hasUbatS=!0;return a.ubatOn},UBAT_LRE:()=>{G.lastArabic=!1;return a.ubatOn},UBAT_RLE:()=>{G.lastArabic=!1;return a.ubatOn},UBAT_LRO:()=>{G.lastArabic=!1;return a.ubatOn},UBAT_RLO:()=>{G.lastArabic=!1;return a.ubatOn},UBAT_PDF:()=>{G.lastArabic=!1;return a.ubatOn},UBAT_BN:()=>a.ubatOn}[a.typesNames[D[C]]]()}function l(F,D){for(let A=0;A<a.baseForm.length;A++)if(F===a.baseForm[A])return D[A];return F}
function r(F){return"\u064b"<=F&&"\u0655">=F}function q(F){return"L"===F?"LTR":"R"===F?"RTL":"C"===F?"CLR":"D"===F?"CRL":""}function k(F,D){for(let A=0;A<a.aLefTable.length;A++)if(F===a.aLefTable[A])return D[A];return F}function e(F,D,A,C){for(let G=0;G<F.length;G++)if(F[G]>D||!A&&F[G]===D)F[G]+=C}class n{constructor(){this.inputFormat="ILYNN";this.outputFormat="VLNNN";this.sourceToTarget=[];this.targetToSource=[];this.levels=[]}bidiTransform(F,D,A){this.sourceToTarget=[];this.targetToSource=[];if(!F)return"";
var C=this.sourceToTarget,G=this.targetToSource,J=F.length;x=[];p=[];for(var I=0;I<J;I++)C[I]=I,G[I]=I,x[I]=I;if(!this.checkParameters(D,A))return F;D=this.inputFormat;A=this.outputFormat;C=F;C=y;I=q(D.charAt(1));G=q(A.charAt(1));var P="I"===D.charAt(0)?"L":D.charAt(0);J="I"===A.charAt(0)?"L":A.charAt(0);I=P+I;G=J+G;J=D.charAt(2)+A.charAt(2);C.defInFormat=I;C.defOutFormat=G;C.defSwap=J;F=b(F,I,G,J,C);C=!1;if("R"===A.charAt(1))C=!0;else if("C"===A.charAt(1)||"D"===A.charAt(1))C="rtl"===this.checkContextual(F);
G=this.sourceToTarget=x;J=Array(G.length);for(I=0;I<G.length;I++)J[G[I]]=I;f=this.targetToSource=J;if(D.charAt(3)===A.charAt(3))C=F;else if("S"===A.charAt(3))if(D=C,A=F,0===A.length)C="";else{void 0===D&&(D=!0);A=String(A);A=A.split("");G=0;F=1;C=A.length;D||(G=A.length-1,F=-1,C=1);I=G;P=0;G=[];for(J=0;I*F<C;I+=F)if(h(A[I])||r(A[I])){var S;if(S="\u0644"===A[I])b:{for(var Y=A,M=I+F,L=F,O=C;M*L<O&&r(Y[M]);)M+=L;S=" ";if(M*L<O)for(S=Y[M],Y=0;Y<a.aLefTable.length;Y++)if(a.aLefTable[Y]===S){S=!0;break b}S=
!1}if(S){A[I]=0===P?k(A[I+F],a.lamAlefInialTableFE):k(A[I+F],a.lamAlefMedialTableFE);I+=F;P=A;S=I;Y=F;for(M=C;S*Y<M&&r(P[S]);)S+=Y;S*Y<M&&(P[S]=" ");G[J]=I;J++;P=0}else{S=A[I];if(1===P){Y=I;if(g(A,I+F,F,C))b:for(M=A[I],L=0;L<a.baseForm.length;L++){if(M===a.baseForm[L]){M=a.medialForm[L];break b}}else M=l(A[I],a.finalForm);A[Y]=M}else!0===g(A,I+F,F,C)?A[I]=l(A[I],a.initialForm):A[I]=l(A[I],a.isolatedForm);r(S)||(P=1);b:{for(Y=0;Y<a.standAlonForm.length;Y++)if(a.standAlonForm[Y]===S){S=!0;break b}S=
!1}!0===S&&(P=0)}}else P=0;F=G;C="";for(G=0;G<A.length;G++){b:{for(J=0;J<F.length;J++)if(F[J]===G)break b;J=-1}-1<J?(e(f,G,!D,-1),x.splice(G,1)):C+=A[G]}}else if(D=F,A=C,0===D.length)C="";else{void 0===A&&(A=!0);D=String(D);F="";C=D.split("");for(G=0;G<D.length;G++)J=!1,"\ufe70"<=C[G]&&"\ufeff">C[G]?(I=D.charCodeAt(G),"\ufef5"<=C[G]&&"\ufefc">=C[G]?(A?(0<G&&" "===C[G-1]?F=F.substring(0,F.length-1)+"\u0644":(F+="\u0644",J=!0),F+=a.aLefTable[(I-65269)/2]):(F+=a.aLefTable[(I-65269)/2],F+="\u0644",G+
1<D.length&&" "===C[G+1]?G++:J=!0),J&&(e(f,G,!0,1),x.splice(G,0,x[G]))):F+=a.feTo06Table[I-65136]):F+=C[G];C=F}this.sourceToTarget=x;this.targetToSource=f;this.levels=p;return C}_inputFormatSetter(F){if(!z.test(F))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=F}_outputFormatSetter(F){if(!z.test(F))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=F}checkParameters(F,D){F?this._inputFormatSetter(F):F=this.inputFormat;
D?this._outputFormatSetter(D):D=this.outputFormat;return F===D?!1:!0}checkContextual(F){F=B(F);if("ltr"!==F&&"rtl"!==F){try{F=document.dir.toLowerCase()}catch(D){}"ltr"!==F&&"rtl"!==F&&(F="ltr")}return F}hasBidiChar(F){return E.test(F)}}let x=[],f=[],p=[];const y={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},z=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,E=/[\u0591-\u06ff\ufb1d-\ufefc]/;
return n})},"esri/core/bidiEngineTables":function(){define(["exports"],function(a){a.aLefTable=["\u0622","\u0623","\u0625","\u0627"];a.arabicAlefBetIntervalsBegine=["\u0621","\u0641"];a.arabicAlefBetIntervalsEnd=["\u063a","\u064a"];a.baseForm="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split("");
a.feTo06Table="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split("");
a.finalForm="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split("");a.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];a.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];a.initialForm=
"\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split("");a.isolatedForm="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split("");
a.lamAlefInialTableFE=["\ufef5","\ufef7","\ufef9","\ufefb"];a.lamAlefMedialTableFE=["\ufef6","\ufef8","\ufefa","\ufefc"];a.medialForm="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split("");a.primaryTable=[100,0,0,0,0,101,102,103,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,104,4,4,4,0,4,0,4,0,4,4,4,0,0,4,4,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,0,0,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,105,7,7,106,107];a.standAlonForm="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split("");
a.swapTable=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]];
a.tbbase=100;a.typesNames="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" ");a.ubatAl=7;a.ubatAn=3;a.ubatB=5;a.ubatBn=18;a.ubatCs=9;a.ubatEn=2;a.ubatEs=10;a.ubatEt=11;a.ubatL=0;a.ubatLre=13;a.ubatLro=16;a.ubatNsm=12;a.ubatOn=4;a.ubatPdf=15;a.ubatR=1;a.ubatRle=14;a.ubatRlo=17;a.ubatS=6;a.ubatWs=8;a.unicodeTable=[[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,
18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,
0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,1,12,1,12,12,1,12,12,1,12,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4],[3,3,3,3,4,4,4,4,7,11,11,7,9,7,4,4,12,12,12,12,12,12,12,12,12,12,12,7,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,3,3,3,3,3,3,3,3,3,3,11,3,3,7,7,7,12,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,3,4,12,12,12,12,12,12,7,7,12,12,4,12,12,12,12,7,7,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,7],[7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,7,7,12,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,
12,12,12,12,12,12,12,12,12,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,12,12,12,12,12,12,12,12,1,1,4,4,4,4,1,4,4,4,4,4],[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,18,18,18,18,18,4,4,4,4,4,18,18,18,18,18,18,2,0,4,4,2,2,2,2,2,2,10,10,4,4,4,0,2,2,2,2,2,2,2,2,2,2,10,
10,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,4,4,4,4,4,1,12,1,1,1,1,1,1,1,1,1,1,10,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,4,1,1,4,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],[12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,9,4,
4,9,4,4,4,4,4,4,4,4,4,11,4,4,10,10,4,4,4,4,4,11,11,4,4,4,4,4,7,7,7,7,7,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,18],[4,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,4,4,4,11,11,4,4,4,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]];Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("exports ../../../../../geometry/support/aaBoundingRect ../enums ../GeometryUtils ../shaders/VTLBackgroundMaterial ../shaders/VTLCircleMaterial ../shaders/VTLFillMaterial ../shaders/VTLLineMaterial ../shaders/VTLSymbolMaterial ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(a,b,B,w,v,u,h,g,c,d,l,r,q){function k(D){D=D?.getGeometry();if(null==D)return null;let A=Infinity,C=Infinity,G=-Infinity,J=-Infinity;for(const I of D)if(I)for(const P of I)A=Math.min(A,P.x),C=Math.min(C,P.y),G=Math.max(G,P.x),J=Math.max(J,P.y);return b.fromValues(A,C,G,J)}a.CapType=void 0;(function(D){D[D.BUTT=0]="BUTT";D[D.ROUND=1]="ROUND";D[D.SQUARE=2]="SQUARE";D[D.UNKNOWN=4]="UNKNOWN"})(a.CapType||(a.CapType={}));class e{constructor(D,A,C,G,J,I){this.layer=D;this.feature=A;this.bounds=
C;this.normalizationRatio=G;this.normalizationOffsetX=J;this.normalizationOffsetY=I}}class n{constructor(D,A,C,G){this.type=D;this.typeName=A.type;this.id=A.id;this.source=A.source;this.sourceLayer=A["source-layer"];this.minzoom=A.minzoom;this.maxzoom=A.maxzoom;this.filter=A.filter;this.layout=A.layout;this.paint=A.paint;this.z=C;this.uid=G;switch(D){case l.StyleLayerType.BACKGROUND:this._layoutDefinition=l.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=l.StyleDefinition.backgroundPaintDefinition;
break;case l.StyleLayerType.FILL:this._layoutDefinition=l.StyleDefinition.fillLayoutDefinition;this._paintDefinition=l.StyleDefinition.fillPaintDefinition;break;case l.StyleLayerType.LINE:this._layoutDefinition=l.StyleDefinition.lineLayoutDefinition;this._paintDefinition=l.StyleDefinition.linePaintDefinition;break;case l.StyleLayerType.SYMBOL:this._layoutDefinition=l.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=l.StyleDefinition.symbolPaintDefinition;break;case l.StyleLayerType.CIRCLE:this._layoutDefinition=
l.StyleDefinition.circleLayoutDefinition,this._paintDefinition=l.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}getFeatureFilter(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=d.createFilter(this.filter)}getLayoutProperty(D){return this._layoutProperties[D]}getPaintProperty(D){return this._paintProperties[D]}getLayoutValue(D,A,C){let G;const J=this._layoutProperties[D];J&&
(G=J.getValue(A,C));void 0===G&&(G=this._layoutDefinition[D]["default"]);return G}getPaintValue(D,A,C){let G;const J=this._paintProperties[D];J&&(G=J.getValue(A,C));void 0===G&&(G=this._paintDefinition[D]["default"]);return G}isPainterDataDriven(){const D=this._paintProperties;if(D)for(const A in D)if(D[A].isDataDriven)return!0;return!1}isIntersectingFeature(D,A,C,G,J,I,P){return!1}getFeatureInflatedBounds(D,A,C,G){return null}_parseLayout(D){const A={};for(const C in D){const G=this._layoutDefinition[C];
G&&(A[C]=new r(G,D[C]))}return A}_parsePaint(D){const A={};for(const C in D){const G=this._paintDefinition[C];G&&(A[C]=new r(G,D[C]))}return A}computeAttributesKey(D,A,C,G){let J=0,I=0;for(const P of A){A=3;if(!P||P!==G){const {isLayout:S,isOptional:Y}=C[P];A=S?this.getLayoutProperty(P):this.getPaintProperty(P);A=A?.interpolator?2:A?.isDataDriven?1:Y&&!A?3:0}I|=A<<J;J+=2}return I<<3|D}}class x extends n{constructor(D,A,C,G){super(D,A,C,G);this.backgroundMaterial=new v.VTLBackgroundMaterial(this.computeAttributesKey(B.ShaderProgramType.BACKGROUND,
v.VTLBackgroundMaterial.ATTRIBUTES,v.VTLBackgroundMaterial.ATTRIBUTES_INFO))}}class f extends n{constructor(D,A,C,G){super(D,A,C,G);D=this.getPaintProperty("fill-color");A=this.getPaintProperty("fill-opacity");C=this.getPaintProperty("fill-pattern");this.hasDataDrivenColor=D?.isDataDriven;this.hasDataDrivenOpacity=A?.isDataDriven;this.hasDataDrivenFill=this.hasDataDrivenColor||this.hasDataDrivenOpacity||C?.isDataDriven;A=this.getPaintProperty("fill-outline-color");this.outlineUsesFillColor=!A;this.hasDataDrivenOutlineColor=
A?.isDataDriven;this.hasDataDrivenOutline=A?A.isDataDriven:D?D.isDataDriven:!1;this.hasDataDrivenOutline=(A?this.hasDataDrivenOutlineColor:this.hasDataDrivenColor)||this.hasDataDrivenOpacity;this.fillMaterial=new h.VTLFillMaterial(this.computeAttributesKey(B.ShaderProgramType.FILL,h.VTLFillMaterial.ATTRIBUTES,h.VTLFillMaterial.ATTRIBUTES_INFO));this.outlineMaterial=new h.VTLOutlineMaterial(this.computeAttributesKey(B.ShaderProgramType.OUTLINE,this.outlineUsesFillColor?h.VTLOutlineMaterial.ATTRIBUTES_FILL:
h.VTLOutlineMaterial.ATTRIBUTES_OUTLINE,this.outlineUsesFillColor?h.VTLOutlineMaterial.ATTRIBUTES_INFO_FILL:h.VTLOutlineMaterial.ATTRIBUTES_INFO_OUTLINE),this.outlineUsesFillColor)}getFeatureInflatedBounds(D,A,C,G){C=k(D);if(!C)return null;D=this.getPaintValue("fill-translate",A,D);G*=Math.max(D[0],D[1]);C[0]-=G;C[2]-=G;C[1]+=G;C[3]+=G;return C}isIntersectingFeature(D,A,C,G,J,I,P){const S=G.getGeometry();if(!S)return!1;const Y=8/P.normalizationRatio;D=D/P.normalizationRatio+P.normalizationOffsetX;
A=A/P.normalizationRatio+P.normalizationOffsetY;G=w.translateAnchor(this.getPaintValue("fill-translate",J,G),this.getPaintValue("fill-translate-anchor",J,G),I,8);D-=Y*G.x;A-=Y*G.y;return w.pointInPolygon(D,A,S)?!0:w.distanceFromToPolylineWithinThreshold(D,A,S,Y*C)}}class p extends n{constructor(D,A,C,G){super(D,A,C,G);D=this.getPaintProperty("line-pattern");this.lineMaterial=new g.VTLLineMaterial(this.computeAttributesKey(B.ShaderProgramType.LINE,g.VTLLineMaterial.ATTRIBUTES,g.VTLLineMaterial.ATTRIBUTES_INFO,
D?"line-dasharray":""));this.hasDataDrivenLine=this.getPaintProperty("line-blur")?.isDataDriven||this.getPaintProperty("line-color")?.isDataDriven||this.getPaintProperty("line-gap-width")?.isDataDriven||this.getPaintProperty("line-offset")?.isDataDriven||this.getPaintProperty("line-opacity")?.isDataDriven||this.getPaintProperty("line-pattern")?.isDataDriven||this.getPaintProperty("line-dasharray")?.isDataDriven||this.getLayoutProperty("line-cap")?.isDataDriven||this.getPaintProperty("line-width")?.isDataDriven;
this.canUseThinTessellation=!1;!this.hasDataDrivenLine&&(D=this.getPaintProperty("line-width"),!D||"number"===typeof D&&.5*D<q.thinLineHalfWidthThreshold)&&(D=this.getPaintProperty("line-offset"),!D||"number"===typeof D&&0===D)&&(this.canUseThinTessellation=!0)}getDashKey(D,A){switch(A){case a.CapType.BUTT:A="Butt";break;case a.CapType.ROUND:A="Round";break;case a.CapType.SQUARE:A="Square";break;default:A="Butt"}return`dasharray-[${D.toString()}]-${A}`}getFeatureInflatedBounds(D,A,C,G){C=k(D);if(!C)return null;
var J=this.getPaintValue("line-translate",A,D);J=G*Math.max(J[0],J[1]);C[0]-=J;C[2]-=J;C[1]+=J;C[3]+=J;J=G*Math.abs(this.getPaintValue("line-offset",A,D)||0);D=this.getPaintValue("line-width",A,D);G*=D/2;C[0]-=J+G;C[1]-=J+G;C[2]+=J+G;C[3]+=J+G;return C}isIntersectingFeature(D,A,C,G,J,I,P){let S=G.getGeometry();if(!S)return!1;const Y=8/P.normalizationRatio;D=D/P.normalizationRatio+P.normalizationOffsetX;A=A/P.normalizationRatio+P.normalizationOffsetY;I=w.translateAnchor(this.getPaintValue("line-translate",
J,G),this.getPaintValue("line-translate-anchor",J,G),I,8);D-=Y*I.x;A-=Y*I.y;I=Y*this.getPaintValue("line-offset",J,G)||0;0!==I&&(S=w.offsetLine(S,-I));G=this.getPaintValue("line-width",J,G);return w.distanceFromToPolylineWithinThreshold(D,A,S,Y*(C+G/2))}}class y extends n{constructor(D,A,C,G){super(D,A,C,G);this.iconMaterial=new c.VTLIconMaterial(this.computeAttributesKey(B.ShaderProgramType.ICON,c.VTLIconMaterial.ATTRIBUTES,c.VTLIconMaterial.ATTRIBUTES_INFO));this.textMaterial=new c.VTLTextMaterial(this.computeAttributesKey(B.ShaderProgramType.TEXT,
c.VTLTextMaterial.ATTRIBUTES,c.VTLTextMaterial.ATTRIBUTES_INFO));this.hasDataDrivenIcon=this.getPaintProperty("icon-color")?.isDataDriven||this.getPaintProperty("icon-halo-blur")?.isDataDriven||this.getPaintProperty("icon-halo-color")?.isDataDriven||this.getPaintProperty("icon-halo-width")?.isDataDriven||this.getPaintProperty("icon-opacity")?.isDataDriven||this.getLayoutProperty("icon-size")?.isDataDriven;this.hasDataDrivenText=this.getPaintProperty("text-color")?.isDataDriven||this.getPaintProperty("text-halo-blur")?.isDataDriven||
this.getPaintProperty("text-halo-color")?.isDataDriven||this.getPaintProperty("text-halo-width")?.isDataDriven||this.getPaintProperty("text-opacity")?.isDataDriven||this.getLayoutProperty("text-size")?.isDataDriven}}class z extends n{constructor(D,A,C,G){super(D,A,C,G);this.circleMaterial=new u.VTLCircleMaterial(this.computeAttributesKey(B.ShaderProgramType.CIRCLE,u.VTLCircleMaterial.ATTRIBUTES,u.VTLCircleMaterial.ATTRIBUTES_INFO))}getFeatureInflatedBounds(D,A,C,G){C=k(D);if(!C)return null;var J=
this.getPaintValue("circle-translate",A,D);J=Math.max(J[0],J[1]);C[0]-=J;C[2]-=J;C[1]+=J;C[3]+=J;D=8*(this.getPaintValue("circle-radius",A,D)+this.getPaintValue("circle-stroke-width",A,D));G*=D/2;C[0]-=G;C[1]-=G;C[2]+=G;C[3]+=G;return C}isIntersectingFeature(D,A,C,G,J,I,P){var S=G.getGeometry();if(!S)return!1;const Y=8/P.normalizationRatio;D=D/P.normalizationRatio+P.normalizationOffsetX;A=A/P.normalizationRatio+P.normalizationOffsetY;C*=Y;I=w.translateAnchor(this.getPaintValue("circle-translate",
J,G),this.getPaintValue("circle-translate-anchor",J,G),I,Y);G=Y*(this.getPaintValue("circle-radius",J,G)+this.getPaintValue("circle-stroke-width",J,G));for(const M of S)if(M)for(const L of M)if(S=L.x+I.x,J=L.y+I.y,Math.sqrt((D-S)*(D-S)+(A-J)*(A-J))-C<=G)return!0;return!1}}class E{constructor(D,A,C){this.allowOverlap=D.getLayoutValue("icon-allow-overlap",A);this.ignorePlacement=D.getLayoutValue("icon-ignore-placement",A);this.keepUpright=D.getLayoutValue("icon-keep-upright",A);this.optional=D.getLayoutValue("icon-optional",
A);this.rotationAlignment=D.getLayoutValue("icon-rotation-alignment",A);this.rotationAlignment===l.RotationAlignment.AUTO&&(this.rotationAlignment=C?l.RotationAlignment.MAP:l.RotationAlignment.VIEWPORT);C=D.getLayoutProperty("icon-anchor");C?.isDataDriven?this._anchorProp=C:this.anchor=D.getLayoutValue("icon-anchor",A);C=D.getLayoutProperty("icon-offset");C?.isDataDriven?this._offsetProp=C:this.offset=D.getLayoutValue("icon-offset",A);C=D.getLayoutProperty("icon-padding");C?.isDataDriven?this._paddingProp=
C:this.padding=D.getLayoutValue("icon-padding",A);C=D.getLayoutProperty("icon-rotate");C?.isDataDriven?this._rotateProp=C:this.rotate=D.getLayoutValue("icon-rotate",A);C=D.getLayoutProperty("icon-size");C?.isDataDriven?this._sizeProp=C:this.size=D.getLayoutValue("icon-size",A)}update(D,A){this._anchorProp&&(this.anchor=this._anchorProp.getValue(D,A));this._offsetProp&&(this.offset=this._offsetProp.getValue(D,A));this._paddingProp&&(this.padding=this._paddingProp.getValue(D,A));this._rotateProp&&(this.rotate=
this._rotateProp.getValue(D,A));this._sizeProp&&(this.size=this._sizeProp.getValue(D,A))}}class F{constructor(D,A,C){this.allowOverlap=D.getLayoutValue("text-allow-overlap",A);this.ignorePlacement=D.getLayoutValue("text-ignore-placement",A);this.keepUpright=D.getLayoutValue("text-keep-upright",A);this.optional=D.getLayoutValue("text-optional",A);this.rotationAlignment=D.getLayoutValue("text-rotation-alignment",A);this.rotationAlignment===l.RotationAlignment.AUTO&&(this.rotationAlignment=C?l.RotationAlignment.MAP:
l.RotationAlignment.VIEWPORT);C=D.getLayoutProperty("text-anchor");C?.isDataDriven?this._anchorProp=C:this.anchor=D.getLayoutValue("text-anchor",A);C=D.getLayoutProperty("text-justify");C?.isDataDriven?this._justifyProp=C:this.justify=D.getLayoutValue("text-justify",A);C=D.getLayoutProperty("text-letter-spacing");C?.isDataDriven?this._letterSpacingProp=C:this.letterSpacing=D.getLayoutValue("text-letter-spacing",A);C=D.getLayoutProperty("text-line-height");C?.isDataDriven?this._lineHeightProp=C:this.lineHeight=
D.getLayoutValue("text-line-height",A);C=D.getLayoutProperty("text-max-angle");C?.isDataDriven?this._maxAngleProp=C:this.maxAngle=D.getLayoutValue("text-max-angle",A);C=D.getLayoutProperty("text-max-width");C?.isDataDriven?this._maxWidthProp=C:this.maxWidth=D.getLayoutValue("text-max-width",A);C=D.getLayoutProperty("text-offset");C?.isDataDriven?this._offsetProp=C:this.offset=D.getLayoutValue("text-offset",A);C=D.getLayoutProperty("text-padding");C?.isDataDriven?this._paddingProp=C:this.padding=D.getLayoutValue("text-padding",
A);C=D.getLayoutProperty("text-rotate");C?.isDataDriven?this._rotateProp=C:this.rotate=D.getLayoutValue("text-rotate",A);C=D.getLayoutProperty("text-size");C?.isDataDriven?this._sizeProp=C:this.size=D.getLayoutValue("text-size",A);C=D.getLayoutProperty("text-writing-mode");C?.isDataDriven?this._writingModeProp=C:this.writingMode=D.getLayoutValue("text-writing-mode",A)}update(D,A){this._anchorProp&&(this.anchor=this._anchorProp.getValue(D,A));this._justifyProp&&(this.justify=this._justifyProp.getValue(D,
A));this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(D,A));this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(D,A));this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(D,A));this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(D,A));this._offsetProp&&(this.offset=this._offsetProp.getValue(D,A));this._paddingProp&&(this.padding=this._paddingProp.getValue(D,A));this._rotateProp&&(this.rotate=this._rotateProp.getValue(D,A));this._sizeProp&&
(this.size=this._sizeProp.getValue(D,A));this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(D,A))}}a.BackgroundStyleLayer=x;a.CircleStyleLayer=z;a.FillStyleLayer=f;a.IconLayout=E;a.IndexItem=e;a.LineStyleLayer=p;a.StyleLayer=n;a.SymbolStyleLayer=y;a.TextLayout=F;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLBackgroundMaterial":function(){define(["exports","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],
function(a,b,B,w){class v extends b.VTLMaterial{constructor(u){super(u)}geometryInfo(){return v.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return v.ATTRIBUTES}attributesInfo(){return v.ATTRIBUTES_INFO}}v.ATTRIBUTES=[];v.GEOMETRY_LAYOUT=[new w.VertexElementDescriptor("a_pos",2,B.DataType.BYTE,0,2)];v.ATTRIBUTES_INFO={};a.VTLBackgroundMaterial=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLMaterial":function(){define(["exports",
"../MemoryBuffer","./enums","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(a,b,B,w,v){class u{constructor(c){this._locations=new Map;this._key=c}get key(){return this._key}get type(){return this._key&7}defines(){return[]}getStride(){this._layoutInfo||this._buildAttributesInfo();return this._stride}getAttributeLocations(){0===this._locations.size&&this._buildAttributesInfo();return this._locations}getLayoutInfo(){this._layoutInfo||this._buildAttributesInfo();return this._layoutInfo}getEncodingInfos(){this._propertyEncodingInfo||
this._buildAttributesInfo();return this._propertyEncodingInfo}getUniforms(){this._uniforms||this._buildAttributesInfo();return this._uniforms}getShaderHeader(){this._shaderHeader||this._buildAttributesInfo();return this._shaderHeader}getShaderMain(){this._shaderMain||this._buildAttributesInfo();return this._shaderMain}setDataUniforms(c,d,l,r,q){var k=this.getUniforms();for(const e of k){const {name:n,type:x,getValue:f}=e;k=f(l,d,r,q);if(null!==k)switch(x){case "float":c.setUniform1f(n,k);break;case "vec2":c.setUniform2fv(n,
k);break;case "vec4":c.setUniform4fv(n,k)}}}encodeAttributes(c,d,l,r){const q=this.attributesInfo(),k=this.getEncodingInfos(),e=[];let n=0,x=0;for(const p of Object.keys(k)){var f=k[p];const {type:y,precisionFactor:z,isLayout:E}=q[p],F=E?l.getLayoutProperty(p):l.getPaintProperty(p),D=F.interpolator?.getInterpolationRange(d);let A=0;for(const C of f){const {offset:G,bufferElementsToAdd:J}=C;if(0<J){for(f=0;f<J;f++)e.push(0);n+=x;x=C.bufferElementsToAdd}f=r??F.getValue(D?D[A]:d,c);switch(y){case B.EncodingType.R8_SIGNED:case B.EncodingType.R8_UNSIGNED:e[n]|=
this._encodeByte(f*(z||1),8*G);break;case B.EncodingType.R16_SIGNED:case B.EncodingType.R16_UNSIGNED:e[n]|=this._encodeShort(f*(z||1),8*G);break;case B.EncodingType.R8G8_SIGNED:case B.EncodingType.R8G8_UNSIGNED:e[n]|=this._encodeByte(f*(z||1),8*G);e[n]|=this._encodeByte(f*(z||1),8*G+8);break;case B.EncodingType.R16G16_SIGNED:case B.EncodingType.R16G16_UNSIGNED:e[n]|=this._encodeShort(f*(z||1),8*G);e[n]|=this._encodeShort(f*(z||1),8*G+16);break;case B.EncodingType.R8G8B8A8_SIGNED:case B.EncodingType.R8G8B8A8_UNSIGNED:e[n]|=
this._encodeByte(f*(z||1),8*G);e[n]|=this._encodeByte(f*(z||1),8*G+8);e[n]|=this._encodeByte(f*(z||1),8*G+16);e[n]|=this._encodeByte(f*(z||1),8*G+24);break;case B.EncodingType.R8G8B8A8_COLOR:e[n]=this._encodeColor(f);break;case B.EncodingType.R16G16B16A16_DASHARRAY:case B.EncodingType.R16G16B16A16_PATTERN:this._encodePattern(n,e,f);break;default:throw Error("Unsupported encoding type");}A++}}return e}getAtributeState(c){const d=3+2*c;c=0|this._bit(d);return c|=this._bit(d+1)<<1}_buildAttributesInfo(){const c=
[],d={};var l={},r=-1;const q=this.attributesInfo();var k=this.attributes();let e=-1;for(const p of k){e++;k=this.getAtributeState(e);if(k===B.AttributeStatus.UNIFORM||k===B.AttributeStatus.UNUSED)continue;var n=q[p];const y=[];d[p]=y;n=n.type;for(let z=0;z<k;z++){const {dataType:E,bytesPerElement:F,count:D,normalized:A}=u._encodingInfo[n],C=F*D;var x=`${E}-${!0===A}`;let G=l[x],J=0;!G||4<G.count+D?(r++,G={dataIndex:r,count:0,offset:0},4!==D&&(l[x]=G),c.push({location:-1,name:"a_data_"+r,count:D,
type:E,normalized:A}),J=Math.ceil(Math.max(C/4,1))):(x=c[G.dataIndex],x.count+=D,J=Math.ceil(Math.max(x.count*F/4,1))-Math.ceil(Math.max(G.offset/4,1)));y.push({dataIndex:G.dataIndex,offset:G.offset,bufferElementsToAdd:J});G.offset+=C;G.count+=D}}for(const p of c)switch(p.type){case w.DataType.BYTE:case w.DataType.UNSIGNED_BYTE:p.count=4;break;case w.DataType.SHORT:case w.DataType.UNSIGNED_SHORT:p.count+=p.count%2}this._buildVertexBufferLayout(c);l=0;r=this._layoutInfo.geometry;for(var f of r)this._locations.set(f.name,
l++);if(f=this._layoutInfo.opacity)for(const p of f)this._locations.set(p.name,l++);this._buildShaderInfo(c,d);this._propertyEncodingInfo=d}_buildVertexBufferLayout(c){const d={},l=this.geometryInfo();let r=l[0].stride;if(0===c.length)d.geometry=l;else{const q=[];let k=r;for(const e of c)r+=h(e.type)*e.count;for(const e of l)q.push(new v.VertexElementDescriptor(e.name,e.count,e.type,e.offset,r,e.normalized));for(const e of c)q.push(new v.VertexElementDescriptor(e.name,e.count,e.type,k,r,e.normalized)),
k+=h(e.type)*e.count;d.geometry=q}this.opacityInfo()&&(d.opacity=this.opacityInfo());this._layoutInfo=d;this._stride=r}_buildShaderInfo(c,d){let l="\n",r="\n";const q=[];for(var k of c)l+=`attribute ${this._getType(k.count)} ${k.name};\n`;var e=this.attributes();c=this.attributesInfo();k=-1;for(const f of e){k++;const {name:p,type:y,precisionFactor:z,isLayout:E}=c[f];e=z&&1!==z?` * ${1/z}`:"";const {bytesPerElement:F,count:D}=u._encodingInfo[y];var n=A=>`a_data_${A.dataIndex}${g(D,A.offset,F)}`;switch(this.getAtributeState(k)){case B.AttributeStatus.UNIFORM:e=
this._getType(D);var x=`u_${p}`;q.push({name:x,type:e,getValue:(C,G,J,I)=>{J=E?C.getLayoutValue(f,G):C.getPaintValue(f,G);if(y===B.EncodingType.R16G16B16A16_DASHARRAY){C=C.getDashKey(J,C.getLayoutValue("line-cap",G));I=I.getMosaicItemPosition(C,!1);if(null==I)return null;const {tl:P,br:S}=I;return[P[0],S[1],S[0],P[1]]}if(y===B.EncodingType.R16G16B16A16_PATTERN){I=I.getMosaicItemPosition(J,!f.includes("line-"));if(null==I)return null;const {tl:P,br:S}=I;return[P[0],S[1],S[0],P[1]]}return y===B.EncodingType.R8G8B8A8_COLOR?
(I=J[3],[I*J[0],I*J[1],I*J[2],I]):J}});l+=`uniform ${e} ${x};\n`;r+=`${e} ${p} = ${x};\n`;break;case B.AttributeStatus.DATA_DRIVEN:x=n(d[f][0]);r+=`${this._getType(D)} ${p} = ${x}${e};\n`;break;case B.AttributeStatus.INTERPOLATED_DATA_DRIVEN:x=`u_t_${p}`;q.push({name:x,type:"float",getValue:(C,G,J,I)=>(E?C.getLayoutProperty(f):C.getPaintProperty(f)).interpolator.interpolationUniformValue(J,G)});l+=`uniform float ${x};\n`;const A=n(d[f][0]);n=n(d[f][1]);r+=`${this._getType(D)} ${p} = mix(${A}${e}, ${n}${e}, ${x});\n`}}this._shaderHeader=
l;this._shaderMain=r;this._uniforms=q}_bit(c){return(this._key&1<<c)>>c}_getType(c){switch(c){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw Error("Invalid count");}_encodeColor(c){const d=255*c[3];return b.i8888to32(c[0]*d,c[1]*d,c[2]*d,d)}_encodePattern(c,d,l){if(l?.rect){var r=l.rect,q=l.width;l=l.height;d[c]=this._encodeShort(r.x+2,0);d[c]|=this._encodeShort(r.y+2+l,16);d[c+1]=this._encodeShort(r.x+2+q,0);d[c+1]|=this._encodeShort(r.y+2,16)}}_encodeByte(c,
d){return(c&255)<<d}_encodeShort(c,d){return(c&65535)<<d}}u._encodingInfo={[B.EncodingType.R8_SIGNED]:{dataType:w.DataType.BYTE,bytesPerElement:1,count:1,normalized:!1},[B.EncodingType.R8_UNSIGNED]:{dataType:w.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[B.EncodingType.R16_SIGNED]:{dataType:w.DataType.SHORT,bytesPerElement:2,count:1,normalized:!1},[B.EncodingType.R16_UNSIGNED]:{dataType:w.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[B.EncodingType.R8G8_SIGNED]:{dataType:w.DataType.BYTE,
bytesPerElement:1,count:2,normalized:!1},[B.EncodingType.R8G8_UNSIGNED]:{dataType:w.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},[B.EncodingType.R16G16_SIGNED]:{dataType:w.DataType.SHORT,bytesPerElement:2,count:2,normalized:!1},[B.EncodingType.R16G16_UNSIGNED]:{dataType:w.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[B.EncodingType.R8G8B8A8_SIGNED]:{dataType:w.DataType.BYTE,bytesPerElement:1,count:4,normalized:!1},[B.EncodingType.R8G8B8A8_UNSIGNED]:{dataType:w.DataType.UNSIGNED_BYTE,
bytesPerElement:1,count:4,normalized:!1},[B.EncodingType.R8G8B8A8_COLOR]:{dataType:w.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},[B.EncodingType.R16G16B16A16_DASHARRAY]:{dataType:w.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[B.EncodingType.R16G16B16A16_PATTERN]:{dataType:w.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}};const h=c=>{switch(c){case w.DataType.FLOAT:case w.DataType.INT:case w.DataType.UNSIGNED_INT:return 4;case w.DataType.SHORT:case w.DataType.UNSIGNED_SHORT:case w.DataType.HALF_FLOAT:return 2;
case w.DataType.BYTE:case w.DataType.UNSIGNED_BYTE:return 1}},g=(c,d,l)=>{d/=l;if(1===c)switch(d){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===c)switch(d){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===c)switch(d){case 0:return".xyz";case 1:return".yzw"}return""};a.VTLMaterial=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/enums":function(){define(["exports"],function(a){a.EncodingType=
void 0;(function(b){b[b.R8_SIGNED=0]="R8_SIGNED";b[b.R8_UNSIGNED=1]="R8_UNSIGNED";b[b.R16_SIGNED=2]="R16_SIGNED";b[b.R16_UNSIGNED=3]="R16_UNSIGNED";b[b.R8G8_SIGNED=4]="R8G8_SIGNED";b[b.R8G8_UNSIGNED=5]="R8G8_UNSIGNED";b[b.R16G16_SIGNED=6]="R16G16_SIGNED";b[b.R16G16_UNSIGNED=7]="R16G16_UNSIGNED";b[b.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED";b[b.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED";b[b.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR";b[b.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY";b[b.R16G16B16A16_PATTERN=
12]="R16G16B16A16_PATTERN"})(a.EncodingType||(a.EncodingType={}));a.AttributeStatus=void 0;(function(b){b[b.UNIFORM=0]="UNIFORM";b[b.DATA_DRIVEN=1]="DATA_DRIVEN";b[b.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN";b[b.UNUSED=3]="UNUSED"})(a.AttributeStatus||(a.AttributeStatus={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/enums":function(){define(["exports"],function(a){a.ClearBufferBit=void 0;(function(b){b[b.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT";
b[b.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT";b[b.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"})(a.ClearBufferBit||(a.ClearBufferBit={}));a.PrimitiveType=void 0;(function(b){b[b.POINTS=0]="POINTS";b[b.LINES=1]="LINES";b[b.LINE_LOOP=2]="LINE_LOOP";b[b.LINE_STRIP=3]="LINE_STRIP";b[b.TRIANGLES=4]="TRIANGLES";b[b.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";b[b.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(a.PrimitiveType||(a.PrimitiveType={}));a.BlendFactor=void 0;(function(b){b[b.ZERO=0]="ZERO";b[b.ONE=1]="ONE";b[b.SRC_COLOR=
768]="SRC_COLOR";b[b.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR";b[b.SRC_ALPHA=770]="SRC_ALPHA";b[b.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA";b[b.DST_ALPHA=772]="DST_ALPHA";b[b.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA";b[b.DST_COLOR=774]="DST_COLOR";b[b.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR";b[b.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE";b[b.CONSTANT_COLOR=32769]="CONSTANT_COLOR";b[b.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR";b[b.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA";
b[b.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"})(a.BlendFactor||(a.BlendFactor={}));a.BlendOperation=void 0;(function(b){b[b.ADD=32774]="ADD";b[b.MIN=32775]="MIN";b[b.MAX=32776]="MAX";b[b.SUBTRACT=32778]="SUBTRACT";b[b.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"})(a.BlendOperation||(a.BlendOperation={}));a.BufferType=void 0;(function(b){b[b.ARRAY_BUFFER=34962]="ARRAY_BUFFER";b[b.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER";b[b.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";b[b.PIXEL_PACK_BUFFER=
35051]="PIXEL_PACK_BUFFER";b[b.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER";b[b.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER";b[b.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER";b[b.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"})(a.BufferType||(a.BufferType={}));a.Face=void 0;(function(b){b[b.FRONT=1028]="FRONT";b[b.BACK=1029]="BACK";b[b.FRONT_AND_BACK=1032]="FRONT_AND_BACK"})(a.Face||(a.Face={}));a.CullMode=void 0;(function(b){b[b.CW=2304]="CW";b[b.CCW=2305]="CCW"})(a.CullMode||(a.CullMode=
{}));a.DataType=void 0;(function(b){b[b.BYTE=5120]="BYTE";b[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";b[b.SHORT=5122]="SHORT";b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";b[b.INT=5124]="INT";b[b.UNSIGNED_INT=5125]="UNSIGNED_INT";b[b.FLOAT=5126]="FLOAT";b[b.HALF_FLOAT=5131]="HALF_FLOAT"})(a.DataType||(a.DataType={}));a.CompareFunction=void 0;(function(b){b[b.NEVER=512]="NEVER";b[b.LESS=513]="LESS";b[b.EQUAL=514]="EQUAL";b[b.LEQUAL=515]="LEQUAL";b[b.GREATER=516]="GREATER";b[b.NOTEQUAL=517]="NOTEQUAL";b[b.GEQUAL=
518]="GEQUAL";b[b.ALWAYS=519]="ALWAYS"})(a.CompareFunction||(a.CompareFunction={}));a.StencilOperation=void 0;(function(b){b[b.ZERO=0]="ZERO";b[b.KEEP=7680]="KEEP";b[b.REPLACE=7681]="REPLACE";b[b.INCR=7682]="INCR";b[b.DECR=7683]="DECR";b[b.INVERT=5386]="INVERT";b[b.INCR_WRAP=34055]="INCR_WRAP";b[b.DECR_WRAP=34056]="DECR_WRAP"})(a.StencilOperation||(a.StencilOperation={}));a.TextureSamplingMode=void 0;(function(b){b[b.NEAREST=9728]="NEAREST";b[b.LINEAR=9729]="LINEAR";b[b.NEAREST_MIPMAP_NEAREST=9984]=
"NEAREST_MIPMAP_NEAREST";b[b.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST";b[b.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR";b[b.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"})(a.TextureSamplingMode||(a.TextureSamplingMode={}));a.TextureWrapMode=void 0;(function(b){b[b.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE";b[b.REPEAT=10497]="REPEAT";b[b.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(a.TextureWrapMode||(a.TextureWrapMode={}));a.TextureType=void 0;(function(b){b[b.TEXTURE_2D=3553]="TEXTURE_2D";
b[b.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";b[b.TEXTURE_3D=32879]="TEXTURE_3D";b[b.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";b[b.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";b[b.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";b[b.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";b[b.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";b[b.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z";b[b.TEXTURE_2D_ARRAY=
35866]="TEXTURE_2D_ARRAY"})(a.TextureType||(a.TextureType={}));a.PixelFormat=void 0;(function(b){b[b.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT";b[b.DEPTH_STENCIL=34041]="DEPTH_STENCIL";b[b.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8";b[b.ALPHA=6406]="ALPHA";b[b.RGB=6407]="RGB";b[b.RGBA=6408]="RGBA";b[b.LUMINANCE=6409]="LUMINANCE";b[b.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";b[b.RED=6403]="RED";b[b.RG=33319]="RG";b[b.RED_INTEGER=36244]="RED_INTEGER";b[b.RG_INTEGER=33320]="RG_INTEGER";b[b.RGB_INTEGER=36248]=
"RGB_INTEGER";b[b.RGBA_INTEGER=36249]="RGBA_INTEGER"})(a.PixelFormat||(a.PixelFormat={}));a.SizedPixelFormat=void 0;(function(b){b[b.RGBA4=32854]="RGBA4";b[b.R16F=33325]="R16F";b[b.RG16F=33327]="RG16F";b[b.RGB32F=34837]="RGB32F";b[b.RGBA16F=34842]="RGBA16F";b[b.R32F=33326]="R32F";b[b.RG32F=33328]="RG32F";b[b.RGBA32F=34836]="RGBA32F";b[b.R11F_G11F_B10F=35898]="R11F_G11F_B10F";b[b.RGB8=32849]="RGB8";b[b.RGBA8=32856]="RGBA8";b[b.RGB5_A1=32855]="RGB5_A1";b[b.R8=33321]="R8";b[b.RG8=33323]="RG8";b[b.R8I=
33329]="R8I";b[b.R8UI=33330]="R8UI";b[b.R16I=33331]="R16I";b[b.R16UI=33332]="R16UI";b[b.R32I=33333]="R32I";b[b.R32UI=33334]="R32UI";b[b.RG8I=33335]="RG8I";b[b.RG8UI=33336]="RG8UI";b[b.RG16I=33337]="RG16I";b[b.RG16UI=33338]="RG16UI";b[b.RG32I=33339]="RG32I";b[b.RG32UI=33340]="RG32UI";b[b.RGB16F=34843]="RGB16F";b[b.RGB9_E5=35901]="RGB9_E5";b[b.SRGB8=35905]="SRGB8";b[b.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8";b[b.RGB565=36194]="RGB565";b[b.RGBA32UI=36208]="RGBA32UI";b[b.RGB32UI=36209]="RGB32UI";b[b.RGBA16UI=
36214]="RGBA16UI";b[b.RGB16UI=36215]="RGB16UI";b[b.RGBA8UI=36220]="RGBA8UI";b[b.RGB8UI=36221]="RGB8UI";b[b.RGBA32I=36226]="RGBA32I";b[b.RGB32I=36227]="RGB32I";b[b.RGBA16I=36232]="RGBA16I";b[b.RGB16I=36233]="RGB16I";b[b.RGBA8I=36238]="RGBA8I";b[b.RGB8I=36239]="RGB8I";b[b.R8_SNORM=36756]="R8_SNORM";b[b.RG8_SNORM=36757]="RG8_SNORM";b[b.RGB8_SNORM=36758]="RGB8_SNORM";b[b.RGBA8_SNORM=36759]="RGBA8_SNORM";b[b.RGB10_A2=32857]="RGB10_A2";b[b.RGB10_A2UI=36975]="RGB10_A2UI"})(a.SizedPixelFormat||(a.SizedPixelFormat=
{}));a.PixelType=void 0;(function(b){b[b.FLOAT=5126]="FLOAT";b[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";b[b.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8";b[b.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4";b[b.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";b[b.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";b[b.BYTE=5120]="BYTE";b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";b[b.SHORT=5122]="SHORT";b[b.UNSIGNED_INT=5125]="UNSIGNED_INT";b[b.INT=5124]="INT";b[b.HALF_FLOAT=5131]="HALF_FLOAT";
b[b.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV";b[b.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV";b[b.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV";b[b.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"})(a.PixelType||(a.PixelType={}));a.RenderbufferFormat=void 0;(function(b){b[b.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16";b[b.STENCIL_INDEX8=36168]="STENCIL_INDEX8";b[b.DEPTH_STENCIL=34041]="DEPTH_STENCIL";b[b.DEPTH_COMPONENT24=
33190]="DEPTH_COMPONENT24";b[b.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F";b[b.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8";b[b.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"})(a.RenderbufferFormat||(a.RenderbufferFormat={}));a.Usage=void 0;(function(b){b[b.STATIC_DRAW=35044]="STATIC_DRAW";b[b.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW";b[b.STREAM_DRAW=35040]="STREAM_DRAW";b[b.STATIC_READ=35045]="STATIC_READ";b[b.DYNAMIC_READ=35049]="DYNAMIC_READ";b[b.STREAM_READ=35041]="STREAM_READ";b[b.STATIC_COPY=35046]=
"STATIC_COPY";b[b.DYNAMIC_COPY=35050]="DYNAMIC_COPY";b[b.STREAM_COPY=35042]="STREAM_COPY"})(a.Usage||(a.Usage={}));a.ShaderType=void 0;(function(b){b[b.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER";b[b.VERTEX_SHADER=35633]="VERTEX_SHADER"})(a.ShaderType||(a.ShaderType={}));a.FramebufferTarget=void 0;(function(b){b[b.FRAMEBUFFER=36160]="FRAMEBUFFER";b[b.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER";b[b.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"})(a.FramebufferTarget||(a.FramebufferTarget={}));a.ResourceType=
void 0;(function(b){b[b.Texture=0]="Texture";b[b.BufferObject=1]="BufferObject";b[b.VertexArrayObject=2]="VertexArrayObject";b[b.Shader=3]="Shader";b[b.Program=4]="Program";b[b.FramebufferObject=5]="FramebufferObject";b[b.Renderbuffer=6]="Renderbuffer";b[b.TransformFeedback=7]="TransformFeedback";b[b.Sync=8]="Sync";b[b.UNCOUNTED=9]="UNCOUNTED";b[b.LinesOfCode=9]="LinesOfCode";b[b.Uniform=10]="Uniform";b[b.COUNT=11]="COUNT"})(a.ResourceType||(a.ResourceType={}));a.ColorAttachment=void 0;(function(b){b[b.COLOR_ATTACHMENT0=
36064]="COLOR_ATTACHMENT0";b[b.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1";b[b.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2";b[b.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3";b[b.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4";b[b.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5";b[b.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6";b[b.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7";b[b.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8";b[b.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9";b[b.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10";
b[b.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11";b[b.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12";b[b.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13";b[b.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14";b[b.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"})(a.ColorAttachment||(a.ColorAttachment={}));a.SpecialDrawBuffers=void 0;(function(b){b[b.NONE=0]="NONE";b[b.BACK=1029]="BACK"})(a.SpecialDrawBuffers||(a.SpecialDrawBuffers={}));a.CompressedTextureFormat=void 0;(function(b){b[b.COMPRESSED_RGB_S3TC_DXT1_EXT=
33776]="COMPRESSED_RGB_S3TC_DXT1_EXT";b[b.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT";b[b.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT";b[b.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT";b[b.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC";b[b.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC";b[b.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC";b[b.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC";b[b.COMPRESSED_RGB8_ETC2=
37492]="COMPRESSED_RGB8_ETC2";b[b.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2";b[b.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";b[b.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";b[b.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC";b[b.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(a.CompressedTextureFormat||(a.CompressedTextureFormat={}));a.UniformType=void 0;
(function(b){b[b.FLOAT=5126]="FLOAT";b[b.FLOAT_VEC2=35664]="FLOAT_VEC2";b[b.FLOAT_VEC3=35665]="FLOAT_VEC3";b[b.FLOAT_VEC4=35666]="FLOAT_VEC4";b[b.INT=5124]="INT";b[b.INT_VEC2=35667]="INT_VEC2";b[b.INT_VEC3=35668]="INT_VEC3";b[b.INT_VEC4=35669]="INT_VEC4";b[b.BOOL=35670]="BOOL";b[b.BOOL_VEC2=35671]="BOOL_VEC2";b[b.BOOL_VEC3=35672]="BOOL_VEC3";b[b.BOOL_VEC4=35673]="BOOL_VEC4";b[b.FLOAT_MAT2=35674]="FLOAT_MAT2";b[b.FLOAT_MAT3=35675]="FLOAT_MAT3";b[b.FLOAT_MAT4=35676]="FLOAT_MAT4";b[b.SAMPLER_2D=35678]=
"SAMPLER_2D";b[b.SAMPLER_CUBE=35680]="SAMPLER_CUBE";b[b.UNSIGNED_INT=5125]="UNSIGNED_INT";b[b.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2";b[b.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3";b[b.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4";b[b.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3";b[b.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4";b[b.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2";b[b.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4";b[b.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2";b[b.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3";b[b.SAMPLER_3D=35679]="SAMPLER_3D";
b[b.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW";b[b.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY";b[b.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW";b[b.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW";b[b.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D";b[b.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D";b[b.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE";b[b.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY";b[b.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D";b[b.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D";
b[b.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE";b[b.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"})(a.UniformType||(a.UniformType={}));a.SyncParameter=void 0;(function(b){b[b.OBJECT_TYPE=37138]="OBJECT_TYPE";b[b.SYNC_CONDITION=37139]="SYNC_CONDITION";b[b.SYNC_STATUS=37140]="SYNC_STATUS";b[b.SYNC_FLAGS=37141]="SYNC_FLAGS"})(a.SyncParameter||(a.SyncParameter={}));a.SyncStatus=void 0;(function(b){b[b.UNSIGNALED=37144]="UNSIGNALED";b[b.SIGNALED=37145]="SIGNALED"})(a.SyncStatus||
(a.SyncStatus={}));a.ClientWaitSyncStatus=void 0;(function(b){b[b.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED";b[b.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED";b[b.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED";b[b.WAIT_FAILED=37149]="WAIT_FAILED"})(a.ClientWaitSyncStatus||(a.ClientWaitSyncStatus={}));a.SyncCondition=void 0;(function(b){b[b.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"})(a.SyncCondition||(a.SyncCondition={}));a.SyncFlag=void 0;(function(b){b[b.SYNC_FLUSH_COMMANDS_BIT=
1]="SYNC_FLUSH_COMMANDS_BIT"})(a.SyncFlag||(a.SyncFlag={}));a.DepthStencilAttachment=33306;a.baseTextureUnit=33984;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/VertexElementDescriptor":function(){define(["exports"],function(a){class b{constructor(B,w,v,u,h,g=!1,c=0){this.name=B;this.count=w;this.type=v;this.offset=u;this.stride=h;this.normalized=g;this.divisor=c}}a.VertexElementDescriptor=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLCircleMaterial":function(){define(["exports",
"./enums","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(a,b,B,w,v){class u extends B.VTLMaterial{constructor(h){super(h)}geometryInfo(){return u.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return u.ATTRIBUTES}attributesInfo(){return u.ATTRIBUTES_INFO}}u.ATTRIBUTES="circle-radius circle-color circle-opacity circle-stroke-width circle-stroke-color circle-stroke-opacity circle-blur".split(" ");u.GEOMETRY_LAYOUT=[new v.VertexElementDescriptor("a_pos",
2,w.DataType.SHORT,0,4)];u.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:b.EncodingType.R8_UNSIGNED},"circle-color":{name:"color",type:b.EncodingType.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:b.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:b.EncodingType.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:b.EncodingType.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:b.EncodingType.R8_UNSIGNED,
precisionFactor:100},"circle-blur":{name:"blur",type:b.EncodingType.R8_UNSIGNED,precisionFactor:32}};a.VTLCircleMaterial=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLFillMaterial":function(){define(["exports","./enums","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(a,b,B,w,v){class u extends B.VTLMaterial{constructor(g){super(g)}geometryInfo(){return u.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return u.ATTRIBUTES}attributesInfo(){return u.ATTRIBUTES_INFO}}
u.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"];u.GEOMETRY_LAYOUT=[new v.VertexElementDescriptor("a_pos",2,w.DataType.SHORT,0,4)];u.ATTRIBUTES_INFO={"fill-color":{name:"color",type:b.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:b.EncodingType.R8_UNSIGNED,precisionFactor:100},"fill-pattern":{name:"tlbr",type:b.EncodingType.R16G16B16A16_PATTERN,isOptional:!0}};class h extends B.VTLMaterial{constructor(g,c){super(g);this._usefillColor=c}geometryInfo(){return h.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return this._usefillColor?
h.ATTRIBUTES_FILL:h.ATTRIBUTES_OUTLINE}attributesInfo(){return this._usefillColor?h.ATTRIBUTES_INFO_FILL:h.ATTRIBUTES_INFO_OUTLINE}}h.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"];h.ATTRIBUTES_FILL=["fill-color","fill-opacity"];h.GEOMETRY_LAYOUT=[new v.VertexElementDescriptor("a_pos",2,w.DataType.SHORT,0,8),new v.VertexElementDescriptor("a_offset",2,w.DataType.BYTE,4,8),new v.VertexElementDescriptor("a_xnormal",2,w.DataType.BYTE,6,8)];h.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",
type:b.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:b.EncodingType.R8_UNSIGNED,precisionFactor:100}};h.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:b.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:b.EncodingType.R8_UNSIGNED,precisionFactor:100}};a.VTLFillMaterial=u;a.VTLOutlineMaterial=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLLineMaterial":function(){define(["exports","./enums","./VTLMaterial",
"../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(a,b,B,w,v){class u extends B.VTLMaterial{constructor(h){super(h)}geometryInfo(){return u.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return u.ATTRIBUTES}attributesInfo(){return u.ATTRIBUTES_INFO}}u.ATTRIBUTES="line-blur line-color line-gap-width line-offset line-opacity line-width line-pattern line-dasharray".split(" ");u.GEOMETRY_LAYOUT=[new v.VertexElementDescriptor("a_pos",2,w.DataType.SHORT,0,16),new v.VertexElementDescriptor("a_extrude_offset",
4,w.DataType.BYTE,4,16),new v.VertexElementDescriptor("a_dir_normal",4,w.DataType.BYTE,8,16),new v.VertexElementDescriptor("a_accumulatedDistance",2,w.DataType.UNSIGNED_SHORT,12,16)];u.ATTRIBUTES_INFO={"line-width":{name:"width",type:b.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:b.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:b.EncodingType.R8_SIGNED,precisionFactor:2},"line-color":{name:"color",type:b.EncodingType.R8G8B8A8_COLOR},
"line-opacity":{name:"opacity",type:b.EncodingType.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:b.EncodingType.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:b.EncodingType.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:b.EncodingType.R16G16B16A16_DASHARRAY,isOptional:!0}};a.VTLLineMaterial=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLSymbolMaterial":function(){define(["exports",
"./enums","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(a,b,B,w,v){const u=[new v.VertexElementDescriptor("a_pos",2,w.DataType.SHORT,0,16),new v.VertexElementDescriptor("a_vertexOffset",2,w.DataType.SHORT,4,16),new v.VertexElementDescriptor("a_texAngleRange",4,w.DataType.UNSIGNED_BYTE,8,16),new v.VertexElementDescriptor("a_levelInfo",4,w.DataType.UNSIGNED_BYTE,12,16)],h=[new v.VertexElementDescriptor("a_opacityInfo",1,w.DataType.UNSIGNED_BYTE,0,1)];
class g extends B.VTLMaterial{constructor(d){super(d)}geometryInfo(){return u}opacityInfo(){return h}attributes(){return g.ATTRIBUTES}attributesInfo(){return g.ATTRIBUTES_INFO}}g.ATTRIBUTES="icon-color icon-opacity icon-halo-blur icon-halo-color icon-halo-width icon-size".split(" ");g.ATTRIBUTES_INFO={"icon-color":{name:"color",type:b.EncodingType.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:b.EncodingType.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:b.EncodingType.R8G8B8A8_COLOR},
"icon-halo-width":{name:"halo_width",type:b.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:b.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:b.EncodingType.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};class c extends B.VTLMaterial{constructor(d){super(d)}geometryInfo(){return u}opacityInfo(){return h}attributes(){return c.ATTRIBUTES}attributesInfo(){return c.ATTRIBUTES_INFO}}c.ATTRIBUTES="text-color text-opacity text-halo-blur text-halo-color text-halo-width text-size".split(" ");
c.ATTRIBUTES_INFO={"text-color":{name:"color",type:b.EncodingType.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:b.EncodingType.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:b.EncodingType.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:b.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:b.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:b.EncodingType.R8_UNSIGNED,isLayout:!0}};a.VTLIconMaterial=
g;a.VTLTextMaterial=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["../expression/expression","../expression/types"],function(a,b){class B{constructor(w){this._expression=w}filter(w,v){if(!this._expression)return!0;try{return this._expression.evaluate(w,v)}catch(u){return console.log(u.message),!0}}static createFilter(w){if(!w)return null;this.isLegacyFilter(w)&&(w=this.convertLegacyFilter(w));try{const v=a.createExpression(w,
null,b.booleanType);return new B(v)}catch(v){return console.log(v.message),null}}static isLegacyFilter(w){if(!Array.isArray(w)||0===w.length)return!0;switch(w[0]){case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return 3===w.length&&"string"===typeof w[1]&&!Array.isArray(w[2]);case "in":return 3<=w.length&&"string"===typeof w[1]&&!Array.isArray(w[2]);case "!in":return!0;case "any":case "all":for(let v=1;v<w.length;v++)if(this.isLegacyFilter(w[v]))return!0;return!1;
case "none":return!0;case "has":return 2===w.length&&("$id"===w[1]||"$type"===w[1]);case "!has":return!0;default:return!1}}static convertLegacyFilter(w){if(!Array.isArray(w)||0===w.length)return!0;const v=w[0];if(1===w.length)return"any"!==v;switch(v){case "\x3d\x3d":return B.convertComparison("\x3d\x3d",w[1],w[2]);case "!\x3d":return B.negate(B.convertComparison("\x3d\x3d",w[1],w[2]));case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return B.convertComparison(v,w[1],w[2]);case "in":return B.convertIn(w[1],
w.slice(2));case "!in":return B.negate(B.convertIn(w[1],w.slice(2)));case "any":case "all":case "none":return B.convertCombining(v,w.slice(1));case "has":return B.convertHas(w[1]);case "!has":return B.negate(B.convertHas(w[1]));default:throw Error("Unexpected legacy filter.");}}static convertComparison(w,v,u){switch(v){case "$type":return[w,["geometry-type"],u];case "$id":return[w,["id"],u];default:return[w,["get",v],u]}}static convertIn(w,v){switch(w){case "$type":return["in",["geometry-type"],["literal",
v]];case "$id":return["in",["id"],["literal",v]];default:return["in",["get",w],["literal",v]]}}static convertHas(w){switch(w){case "$type":return!0;case "$id":return["has-id"];default:return["has",w]}}static convertCombining(w,v){return[w].concat(v.map(this.convertLegacyFilter))}static negate(w){return["!",w]}}return B})},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define("exports ../../../../../Color ../../../../../core/colorUtils ../../../../../geometry/support/TileClipper ../../../unitBezier ../GeometryUtils ./types".split(" "),
function(a,b,B,w,v,u,h){function g(t,K,N){var Z=typeof t;if("string"===Z||"boolean"===Z||"number"===Z||null===t){if(N)switch(N.kind){case "string":"string"!==Z&&(t=xa.toString(t));break;case "number":"number"!==Z&&(t=xa.toNumber(t));break;case "color":t=xa.toColor(t)}t=["literal",t]}if(!Array.isArray(t)||0===t.length)throw Error("Expression must be a non empty array");Z=t[0];if("string"!==typeof Z)throw Error("First element of expression must be a string");const ka=Da[Z];if(void 0===ka)throw Error(`Invalid expression operator "${Z}"`);
if(!ka)throw Error(`Unimplemented expression operator "${Z}"`);return ka.parse(t,K,N)}class c{constructor(t){this._parent=t;this._vars={}}add(t,K){this._vars[t]=K}get(t){return this._vars[t]?this._vars[t]:this._parent?this._parent.get(t):null}}class d{constructor(){this.type=h.valueType}static parse(t){if(1<t.length)throw Error('"id" does not expect arguments');return new d}evaluate(t,K){return t?.id}}class l{constructor(){this.type=h.stringType}static parse(t){if(1<t.length)throw Error('"geometry-type" does not expect arguments');
return new l}evaluate(t,K){if(!t)return null;switch(t.type){case w.GeometryType.Point:return"Point";case w.GeometryType.LineString:return"LineString";case w.GeometryType.Polygon:return"Polygon";default:return null}}}class r{constructor(){this.type=h.objectType}static parse(t){if(1<t.length)throw Error('"properties" does not expect arguments');return new r}evaluate(t,K){return t?.values}}class q{constructor(){this.type=h.numberType}static parse(t){if(1<t.length)throw Error('"zoom" does not expect arguments');
return new q}evaluate(t,K){return K}}class k{constructor(t,K,N){this._lhs=t;this._rhs=K;this._compare=N;this.type=h.booleanType}static parse(t,K,N){if(3!==t.length&&4!==t.length)throw Error(`"${t[0]}" expects 2 or 3 arguments`);if(4===t.length)throw Error(`"${t[0]}" collator not supported`);return new k(g(t[1],K),g(t[2],K),N)}evaluate(t,K){return this._compare(this._lhs.evaluate(t,K),this._rhs.evaluate(t,K))}}class e extends k{static parse(t,K){return k.parse(t,K,(N,Z)=>N===Z)}}class n extends k{static parse(t,
K){return k.parse(t,K,(N,Z)=>N!==Z)}}class x extends k{static parse(t,K){return k.parse(t,K,(N,Z)=>N<Z)}}class f extends k{static parse(t,K){return k.parse(t,K,(N,Z)=>N<=Z)}}class p extends k{static parse(t,K){return k.parse(t,K,(N,Z)=>N>Z)}}class y extends k{static parse(t,K){return k.parse(t,K,(N,Z)=>N>=Z)}}class z{constructor(t){this._arg=t;this.type=h.booleanType}static parse(t,K){if(2!==t.length)throw Error('"!" expects 1 argument');return new z(g(t[1],K))}evaluate(t,K){return!this._arg.evaluate(t,
K)}}class E{constructor(t){this._args=t;this.type=h.booleanType}static parse(t,K){const N=[];for(let Z=1;Z<t.length;Z++)N.push(g(t[Z],K));return new E(N)}evaluate(t,K){for(const N of this._args)if(!N.evaluate(t,K))return!1;return!0}}class F{constructor(t){this._args=t;this.type=h.booleanType}static parse(t,K){const N=[];for(let Z=1;Z<t.length;Z++)N.push(g(t[Z],K));return new F(N)}evaluate(t,K){for(const N of this._args)if(N.evaluate(t,K))return!0;return!1}}class D{constructor(t){this._args=t;this.type=
h.booleanType}static parse(t,K){const N=[];for(let Z=1;Z<t.length;Z++)N.push(g(t[Z],K));return new D(N)}evaluate(t,K){for(const N of this._args)if(N.evaluate(t,K))return!1;return!0}}class A{constructor(t,K,N){this.type=t;this._args=K;this._fallback=N}static parse(t,K,N){if(4>t.length)throw Error('"case" expects at least 3 arguments');if(1===t.length%2)throw Error('"case" expects an odd number of arguments');let Z;const ka=[];for(let Aa=1;Aa<t.length-1;Aa+=2){const Fa=g(t[Aa],K),Ha=g(t[Aa+1],K,N);
Z||(Z=Ha.type);ka.push({condition:Fa,output:Ha})}t=g(t[t.length-1],K,N);Z||(Z=t.type);return new A(Z,ka,t)}evaluate(t,K){for(const N of this._args)if(N.condition.evaluate(t,K))return N.output.evaluate(t,K);return this._fallback.evaluate(t,K)}}class C{constructor(t,K){this.type=t;this._args=K}static parse(t,K){if(2>t.length)throw Error('"coalesce" expects at least 1 argument');let N;const Z=[];for(let ka=1;ka<t.length;ka++){const Aa=g(t[ka],K);N||(N=Aa.type);Z.push(Aa)}return new C(N,Z)}evaluate(t,
K){for(const N of this._args){const Z=N.evaluate(t,K);if(null!==Z)return Z}return null}}class G{constructor(t,K,N,Z,ka){this.type=t;this._input=K;this._labels=N;this._outputs=Z;this._fallback=ka}static parse(t,K){if(3>t.length)throw Error('"match" expects at least 3 arguments');if(0===t.length%2)throw Error('"case" expects an even number of arguments');let N;const Z=g(t[1],K),ka=[],Aa={};let Fa;for(let Pa=2;Pa<t.length-1;Pa+=2){var Ha=t[Pa];Array.isArray(Ha)||(Ha=[Ha]);for(const ab of Ha){Ha=typeof ab;
if("string"!==Ha&&"number"!==Ha)throw Error('"match" requires string or number literal as labels');if(!Fa)Fa=Ha;else if(Ha!==Fa)throw Error('"match" requires labels to have the same type');Aa[ab]=ka.length}Ha=g(t[Pa+1],K);N||(N=Ha.type);ka.push(Ha)}return new G(N,Z,Aa,ka,g(t[t.length-1],K))}evaluate(t,K){const N=this._input.evaluate(t,K);return(this._outputs[this._labels[N]]||this._fallback).evaluate(t,K)}}class J{constructor(t,K,N,Z,ka){this._operator=t;this.type=K;this.interpolation=N;this.input=
Z;this._stops=ka}static parse(t,K,N){const Z=t[0];if(5>t.length)throw Error(`"${Z}" expects at least 4 arguments`);const ka=t[1];if(!Array.isArray(ka)||0===ka.length)throw Error(`"${ka}" is not a valid interpolation`);switch(ka[0]){case "linear":if(1!==ka.length)throw Error("Linear interpolation cannot have parameters");break;case "exponential":if(2!==ka.length||"number"!==typeof ka[1])throw Error("Exponential interpolation requires one numeric argument");break;case "cubic-bezier":if(5!==ka.length)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");
for(var Aa=1;5>Aa;Aa++){var Fa=ka[Aa];if("number"!==typeof Fa||0>Fa||1<Fa)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");}break;default:throw Error(`"${t[0]}" unknown interpolation type "${ka[0]}"`);}if(1!==t.length%2)throw Error(`"${Z}" expects an even number of arguments`);Aa=g(t[2],K,h.numberType);let Ha;"interpolate-hcl"===Z||"interpolate-lab"===Z?Ha=h.colorType:N&&"value"!==N.kind&&(Ha=N);N=[];for(Fa=3;Fa<t.length;Fa+=2){const Pa=t[Fa];if("number"!==
typeof Pa)throw Error(`"${Z}" requires stop inputs as literal numbers`);if(N.length&&N[N.length-1][0]>=Pa)throw Error(`"${Z}" requires strictly ascending stop inputs`);const ab=g(t[Fa+1],K,Ha);Ha||(Ha=ab.type);N.push([Pa,ab])}if(Ha&&Ha!==h.colorType&&Ha!==h.numberType&&("array"!==Ha.kind||Ha.itemType!==h.numberType))throw Error(`"${Z}" cannot interpolate type ${h.typeToString(Ha)}`);return new J(Z,Ha,ka,Aa,N)}evaluate(t,K){var N=this._stops;if(1===N.length)return N[0][1].evaluate(t,K);var Z=this.input.evaluate(t,
K);if(Z<=N[0][0])return N[0][1].evaluate(t,K);if(Z>=N[N.length-1][0])return N[N.length-1][1].evaluate(t,K);let ka=0;for(;++ka<N.length&&!(Z<N[ka][0]););const Aa=J.interpolationRatio(this.interpolation,Z,N[ka-1][0],N[ka][0]);Z=N[ka-1][1].evaluate(t,K);const Fa=N[ka][1].evaluate(t,K);if("interpolate"===this._operator){if("array"===this.type.kind&&Array.isArray(Z)&&Array.isArray(Fa))return Z.map((Ha,Pa)=>u.interpolate(Ha,Fa[Pa],Aa));if("color"===this.type.kind&&Z instanceof b&&Fa instanceof b)return Z=
new b(Z),t=new b(Fa),new b([u.interpolate(Z.r,t.r,Aa),u.interpolate(Z.g,t.g,Aa),u.interpolate(Z.b,t.b,Aa),u.interpolate(Z.a,t.a,Aa)]);if("number"===this.type.kind&&"number"===typeof Z&&"number"===typeof Fa)return u.interpolate(Z,Fa,Aa);throw Error(`"${this._operator}" cannot interpolate type ${h.typeToString(this.type)}`);}if("interpolate-hcl"===this._operator)return t=B.toLCH(Z),K=B.toLCH(Fa),N=K.h-t.h,t=B.toRGB({h:t.h+Aa*(180<N||-180>N?N-360*Math.round(N/360):N),c:u.interpolate(t.c,K.c,Aa),l:u.interpolate(t.l,
K.l,Aa)}),new b({a:u.interpolate(Z.a,Fa.a,Aa),...t});if("interpolate-lab"===this._operator)return t=B.toLAB(Z),K=B.toLAB(Fa),t=B.toRGB({l:u.interpolate(t.l,K.l,Aa),a:u.interpolate(t.a,K.a,Aa),b:u.interpolate(t.b,K.b,Aa)}),new b({a:u.interpolate(Z.a,Fa.a,Aa),...t});throw Error(`Unexpected operator "${this._operator}"`);}interpolationUniformValue(t,K){const N=this._stops;if(1===N.length||t>=N[N.length-1][0])return 0;let Z=0;for(;++Z<N.length&&!(t<N[Z][0]););return J.interpolationRatio(this.interpolation,
K,N[Z-1][0],N[Z][0])}getInterpolationRange(t){const K=this._stops;if(1===K.length)return t=K[0][0],[t,t];var N=K[K.length-1][0];if(t>=N)return[N,N];for(N=0;++N<K.length&&!(t<K[N][0]););return[K[N-1][0],K[N][0]]}static interpolationRatio(t,K,N,Z){let ka=0;"linear"===t[0]?ka=J._exponentialInterpolationRatio(K,1,N,Z):"exponential"===t[0]?ka=J._exponentialInterpolationRatio(K,t[1],N,Z):"cubic-bezier"===t[0]&&(ka=v.unitBezier(t[1],t[2],t[3],t[4])(J._exponentialInterpolationRatio(K,1,N,Z),1E-5));0>ka?ka=
0:1<ka&&(ka=1);return ka}static _exponentialInterpolationRatio(t,K,N,Z){Z-=N;if(0===Z)return 0;t-=N;return 1===K?t/Z:(K**t-1)/(K**Z-1)}}class I{constructor(t,K,N){this.type=t;this._input=K;this._stops=N}static parse(t,K){if(5>t.length)throw Error('"step" expects at least 4 arguments');if(1!==t.length%2)throw Error('"step" expects an even number of arguments');const N=g(t[1],K,h.numberType);let Z;const ka=[];ka.push([-Infinity,g(t[2],K)]);for(let Aa=3;Aa<t.length;Aa+=2){const Fa=t[Aa];if("number"!==
typeof Fa)throw Error('"step" requires stop inputs as literal numbers');if(ka.length&&ka[ka.length-1][0]>=Fa)throw Error('"step" requires strictly ascending stop inputs');const Ha=g(t[Aa+1],K);Z||(Z=Ha.type);ka.push([Fa,Ha])}return new I(Z,N,ka)}evaluate(t,K){const N=this._stops;if(1===N.length)return N[0][1].evaluate(t,K);const Z=this._input.evaluate(t,K);let ka=0;for(;++ka<N.length&&!(Z<N[ka][0]););return this._stops[ka-1][1].evaluate(t,K)}}class P{constructor(t,K){this.type=t;this._output=K}static parse(t,
K,N){if(4>t.length)throw Error('"let" expects at least 3 arguments');if(1===t.length%2)throw Error('"let" expects an odd number of arguments');const Z=new c(K);for(let ka=1;ka<t.length-1;ka+=2){const Aa=t[ka];if("string"!==typeof Aa)throw Error(`"let" requires a string to define variable names - found ${Aa}`);Z.add(Aa,g(t[ka+1],K))}t=g(t[t.length-1],Z,N);return new P(t.type,t)}evaluate(t,K){return this._output.evaluate(t,K)}}class S{constructor(t,K){this.type=t;this.output=K}static parse(t,K,N){if(2!==
t.length||"string"!==typeof t[1])throw Error('"var" requires just one literal string argument');K=K.get(t[1]);if(!K)throw Error(`${t[1]} must be defined before being used in a "var" expression`);return new S(N||h.valueType,K)}evaluate(t,K){return this.output.evaluate(t,K)}}class Y{constructor(t,K,N){this.type=t;this._index=K;this._array=N}static parse(t,K){if(3!==t.length)throw Error('"at" expects 2 arguments');const N=g(t[1],K,h.numberType);t=g(t[2],K);return new Y(t.type.itemType,N,t)}evaluate(t,
K){const N=this._index.evaluate(t,K);t=this._array.evaluate(t,K);if(0>N||N>=t.length)throw Error('"at" index out of bounds');if(N!==Math.floor(N))throw Error('"at" index must be an integer');return t[N]}}class M{constructor(t,K){this._key=t;this._obj=K;this.type=h.valueType}static parse(t,K){let N;switch(t.length){case 2:return N=g(t[1],K),new M(N);case 3:return N=g(t[1],K),t=g(t[2],K),new M(N,t);default:throw Error('"get" expects 1 or 2 arguments');}}evaluate(t,K){const N=this._key.evaluate(t,K);
return this._obj?this._obj.evaluate(t,K)[N]:t?.values[N]}}class L{constructor(t,K){this._key=t;this._obj=K;this.type=h.booleanType}static parse(t,K){let N;switch(t.length){case 2:return N=g(t[1],K),new L(N);case 3:return N=g(t[1],K),t=g(t[2],K),new L(N,t);default:throw Error('"has" expects 1 or 2 arguments');}}evaluate(t,K){const N=this._key.evaluate(t,K);return this._obj?(t=this._obj.evaluate(t,K),N in t):!!t?.values[N]}}class O{constructor(t,K){this._key=t;this._vals=K;this.type=h.booleanType}static parse(t,
K){if(3!==t.length)throw Error('"in" expects 2 arguments');return new O(g(t[1],K),g(t[2],K))}evaluate(t,K){const N=this._key.evaluate(t,K);return this._vals.evaluate(t,K).includes(N)}}class U{constructor(t,K,N){this._item=t;this._array=K;this._from=N;this.type=h.numberType}static parse(t,K){if(3>t.length||4<t.length)throw Error('"index-of" expects 3 or 4 arguments');const N=g(t[1],K),Z=g(t[2],K);return 4===t.length?(t=g(t[3],K,h.numberType),new U(N,Z,t)):new U(N,Z)}evaluate(t,K){const N=this._item.evaluate(t,
K),Z=this._array.evaluate(t,K);if(this._from){t=this._from.evaluate(t,K);if(t!==Math.floor(t))throw Error('"index-of" index must be an integer');return Z.indexOf(N,t)}return Z.indexOf(N)}}class ca{constructor(t){this._arg=t;this.type=h.numberType}static parse(t,K){if(2!==t.length)throw Error('"length" expects 2 arguments');t=g(t[1],K);return new ca(t)}evaluate(t,K){t=this._arg.evaluate(t,K);if("string"===typeof t||Array.isArray(t))return t.length;throw Error('"length" expects string or array');}}
class ha{constructor(t,K,N,Z){this.type=t;this._array=K;this._from=N;this._to=Z}static parse(t,K){if(3>t.length||4<t.length)throw Error('"slice" expects 2 or 3 arguments');const N=g(t[1],K),Z=g(t[2],K,h.numberType);if(Z.type!==h.numberType)throw Error('"slice" index must return a number');if(4===t.length){t=g(t[3],K,h.numberType);if(t.type!==h.numberType)throw Error('"slice" index must return a number');return new ha(N.type,N,Z,t)}return new ha(N.type,N,Z)}evaluate(t,K){const N=this._array.evaluate(t,
K);if(!Array.isArray(N)&&"string"!==typeof N)throw Error('"slice" input must be an array or a string');const Z=this._from.evaluate(t,K);if(0>Z||Z>=N.length)throw Error('"slice" index out of bounds');if(Z!==Math.floor(Z))throw Error('"slice" index must be an integer');if(this._to){t=this._to.evaluate(t,K);if(0>t||t>=N.length)throw Error('"slice" index out of bounds');if(t!==Math.floor(t))throw Error('"slice" index must be an integer');return N.slice(Z,t)}return N.slice(Z)}}class ia{constructor(){this.type=
h.booleanType}static parse(t){if(1!==t.length)throw Error('"has-id" expects no arguments');return new ia}evaluate(t,K){return void 0!==t?.id}}class ea{constructor(t,K){this._args=t;this._calculate=K;this.type=h.numberType}static parse(t,K,N){t=t.slice(1).map(Z=>g(Z,K));return new ea(t,N)}evaluate(t,K){let N;this._args&&(N=this._args.map(Z=>Z.evaluate(t,K)));return this._calculate(N)}}class la extends ea{static parse(t,K){switch(t.length){case 2:return ea.parse(t,K,N=>-N[0]);case 3:return ea.parse(t,
K,N=>N[0]-N[1]);default:throw Error('"-" expects 1 or 2 arguments');}}}class ra extends ea{static parse(t,K){return ea.parse(t,K,N=>{let Z=1;for(const ka of N)Z*=ka;return Z})}}class wa extends ea{static parse(t,K){if(3===t.length)return ea.parse(t,K,N=>N[0]/N[1]);throw Error('"/" expects 2 arguments');}}class va extends ea{static parse(t,K){if(3===t.length)return ea.parse(t,K,N=>N[0]%N[1]);throw Error('"%" expects 2 arguments');}}class aa extends ea{static parse(t,K){if(3===t.length)return ea.parse(t,
K,N=>N[0]**N[1]);throw Error('"^" expects 1 or 2 arguments');}}class T extends ea{static parse(t,K){return ea.parse(t,K,N=>{let Z=0;for(const ka of N)Z+=ka;return Z})}}class Q{constructor(t,K){this._args=t;this._calculate=K;this.type=h.numberType}static parse(t,K){const N=t.slice(1).map(Z=>g(Z,K));return new Q(N,Q.ops[t[0]])}evaluate(t,K){let N;this._args&&(N=this._args.map(Z=>Z.evaluate(t,K)));return this._calculate(N)}}Q.ops={abs:t=>Math.abs(t[0]),acos:t=>Math.acos(t[0]),asin:t=>Math.asin(t[0]),
atan:t=>Math.atan(t[0]),ceil:t=>Math.ceil(t[0]),cos:t=>Math.cos(t[0]),e:()=>Math.E,floor:t=>Math.floor(t[0]),ln:t=>Math.log(t[0]),ln2:()=>Math.LN2,log10:t=>Math.log(t[0])/Math.LN10,log2:t=>Math.log(t[0])/Math.LN2,max:t=>Math.max(...t),min:t=>Math.min(...t),pi:()=>Math.PI,round:t=>Math.round(t[0]),sin:t=>Math.sin(t[0]),sqrt:t=>Math.sqrt(t[0]),tan:t=>Math.tan(t[0])};class V{constructor(t){this._args=t;this.type=h.stringType}static parse(t,K){return new V(t.slice(1).map(N=>g(N,K)))}evaluate(t,K){return this._args.map(N=>
N.evaluate(t,K)).join("")}}class ba{constructor(t,K){this._arg=t;this._calculate=K;this.type=h.stringType}static parse(t,K){if(2!==t.length)throw Error(`${t[0]} expects 1 argument`);K=g(t[1],K);return new ba(K,ba.ops[t[0]])}evaluate(t,K){return this._calculate(this._arg.evaluate(t,K))}}ba.ops={downcase:t=>t.toLowerCase(),upcase:t=>t.toUpperCase()};class fa{constructor(t){this._args=t;this.type=h.colorType}static parse(t,K){if(4!==t.length)throw Error('"rgb" expects 3 arguments');t=t.slice(1).map(N=>
g(N,K));return new fa(t)}evaluate(t,K){const N=this._validate(this._args[0].evaluate(t,K)),Z=this._validate(this._args[1].evaluate(t,K));t=this._validate(this._args[2].evaluate(t,K));return new b({r:N,g:Z,b:t})}_validate(t){if("number"!==typeof t||0>t||255<t)throw Error(`${t}: invalid color component`);return Math.round(t)}}class pa{constructor(t){this._args=t;this.type=h.colorType}static parse(t,K){if(5!==t.length)throw Error('"rgba" expects 4 arguments');t=t.slice(1).map(N=>g(N,K));return new pa(t)}evaluate(t,
K){const N=this._validate(this._args[0].evaluate(t,K)),Z=this._validate(this._args[1].evaluate(t,K)),ka=this._validate(this._args[2].evaluate(t,K));t=this._validateAlpha(this._args[3].evaluate(t,K));return new b({r:N,g:Z,b:ka,a:t})}_validate(t){if("number"!==typeof t||0>t||255<t)throw Error(`${t}: invalid color component`);return Math.round(t)}_validateAlpha(t){if("number"!==typeof t||0>t||1<t)throw Error(`${t}: invalid alpha color component`);return t}}class ta{constructor(t){this._color=t;this.type=
h.arrayType(h.numberType,4)}static parse(t,K){if(2!==t.length)throw Error('"to-rgba" expects 1 argument');t=g(t[1],K);return new ta(t)}evaluate(t,K){return(new b(this._color.evaluate(t,K))).toRgba()}}class sa{constructor(t,K){this.type=t;this._args=K}static parse(t,K){var N=t[0];if(2>t.length)throw Error(`${N} expects at least one argument`);let Z=1,ka;if("array"===N){if(2<t.length){switch(t[1]){case "string":ka=h.stringType;break;case "number":ka=h.numberType;break;case "boolean":ka=h.booleanType;
break;default:throw Error('"array" type argument must be string, number or boolean');}Z++}else ka=h.valueType;if(3<t.length){var Aa=t[2];if(null!==Aa&&("number"!==typeof Aa||0>Aa||Aa!==Math.floor(Aa)))throw Error('"array" length argument must be a positive integer literal');Z++}ka=h.arrayType(ka,Aa)}else switch(N){case "string":ka=h.stringType;break;case "number":ka=h.numberType;break;case "boolean":ka=h.booleanType;break;case "object":ka=h.objectType}for(N=[];Z<t.length;Z++)Aa=g(t[Z],K),N.push(Aa);
return new sa(ka,N)}evaluate(t,K){let N;for(const Z of this._args){const ka=Z.evaluate(t,K);N=h.getType(ka);if(h.matchType(N,this.type))return ka}throw Error(`Expected ${h.typeToString(this.type)} but got ${h.typeToString(N)}`);}}class xa{constructor(t,K){this.type=t;this._args=K}static parse(t,K){var N=t[0];const Z=xa.types[N];if(Z===h.booleanType||Z===h.stringType){if(2!==t.length)throw Error(`${N} expects one argument`);}else if(2>t.length)throw Error(`${N} expects at least one argument`);N=[];
for(let ka=1;ka<t.length;ka++){const Aa=g(t[ka],K);N.push(Aa)}return new xa(Z,N)}evaluate(t,K){if(this.type===h.booleanType)return!!this._args[0].evaluate(t,K);if(this.type===h.stringType)return h.valueToString(this._args[0].evaluate(t,K));if(this.type===h.numberType){for(const Z of this._args){var N=Number(Z.evaluate(t,K));if(!isNaN(N))return N}return null}if(this.type===h.colorType){for(N of this._args)try{const Z=xa.toColor(N.evaluate(t,K));if(Z instanceof b)return Z}catch{}return null}}static toBoolean(t){return!!t}static toString(t){return h.valueToString(t)}static toNumber(t){const K=
Number(t);if(isNaN(K))throw Error(`"${t}" is not a number`);return K}static toColor(t){if(t instanceof b)return t;if("string"===typeof t){const K=b.fromString(t);if(K)return K;throw Error(`"${t}" is not a color`);}if(Array.isArray(t))return b.fromArray(t);throw Error(`"${t}" is not a color`);}}xa.types={"to-boolean":h.booleanType,"to-color":h.colorType,"to-number":h.numberType,"to-string":h.stringType};class Ba{constructor(t){this._val=t;this.type=h.getType(t)}static parse(t){if(2!==t.length)throw Error('"literal" expects 1 argument');
return new Ba(t[1])}evaluate(t,K){return this._val}}class Ea{constructor(t){this._arg=t;this.type=h.stringType}static parse(t,K){if(2!==t.length)throw Error('"typeof" expects 1 argument');return new Ea(g(t[1],K))}evaluate(t,K){return h.typeToString(h.getType(this._arg.evaluate(t,K)))}}const Da={array:sa,boolean:sa,collator:null,format:null,image:null,literal:Ba,number:sa,"number-format":null,object:sa,string:sa,"to-boolean":xa,"to-color":xa,"to-number":xa,"to-string":xa,typeof:Ea,accumulated:null,
"feature-state":null,"geometry-type":l,id:d,"line-progress":null,properties:r,at:Y,get:M,has:L,in:O,"index-of":U,length:ca,slice:ha,"!":z,"!\x3d":n,"\x3c":x,"\x3c\x3d":f,"\x3d\x3d":e,"\x3e":p,"\x3e\x3d":y,all:E,any:F,case:A,coalesce:C,match:G,within:null,interpolate:J,"interpolate-hcl":J,"interpolate-lab":J,step:I,let:P,var:S,concat:V,downcase:ba,"is-supported-script":null,"resolved-locale":null,upcase:ba,rgb:fa,rgba:pa,"to-rgba":ta,"-":la,"*":ra,"/":wa,"%":va,"^":aa,"+":T,abs:Q,acos:Q,asin:Q,atan:Q,
ceil:Q,cos:Q,e:Q,floor:Q,ln:Q,ln2:Q,log10:Q,log2:Q,max:Q,min:Q,pi:Q,round:Q,sin:Q,sqrt:Q,tan:Q,zoom:q,"heatmap-density":null,"has-id":ia,none:D};a.ALL=E;a.ANY=F;a.Add=T;a.Assert=sa;a.At=Y;a.Calculate=Q;a.Case=A;a.Coalesce=C;a.Coerce=xa;a.Concat=V;a.Div=wa;a.EQ=e;a.GE=y;a.GT=p;a.GeomType=l;a.Get=M;a.Has=L;a.HasID=ia;a.ID=d;a.In=O;a.IndexOf=U;a.Interpolate=J;a.LE=f;a.LT=x;a.Length=ca;a.Let=P;a.Literal=Ba;a.Match=G;a.Mod=va;a.Mul=ra;a.NE=n;a.NONE=D;a.NOT=z;a.Pow=aa;a.Properties=r;a.Rgb=fa;a.Rgba=pa;
a.Slice=ha;a.Step=I;a.String=ba;a.Sub=la;a.ToRgba=ta;a.TypeOf=Ea;a.Var=S;a.Zoom=q;a.createExpression=g;a.ops=Da;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Color":function(){define(["./colorUtils","./core/mathUtils","./core/accessorSupport/ensureType"],function(a,b,B){function w(g){return b.clamp(B.ensureInteger(g),0,255)}function v(g,c,d){g=Number(g);return isNaN(g)?d:g<c?c:g>d?d:g}function u(g,c){g=g.toString(16).padStart(2,"0");return c?g.substring(0,1):g}class h{static blendColors(g,
c,d,l=new h){l.r=Math.round(g.r+(c.r-g.r)*d);l.g=Math.round(g.g+(c.g-g.g)*d);l.b=Math.round(g.b+(c.b-g.b)*d);l.a=g.a+(c.a-g.a)*d;return l._sanitize()}static fromRgb(g,c){var d=g.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(d){g=d[2].split(/\s*,\s*/);d=d[1];if("rgb"===d&&3===g.length||"rgba"===d&&4===g.length)return d=g[0],"%"===d.charAt(d.length-1)?(d=g.map(l=>2.56*parseFloat(l)),4===g.length&&(d[3]=parseFloat(g[3])),h.fromArray(d,c)):h.fromArray(g.map(l=>parseFloat(l)),c);if("hsl"===
d&&3===g.length||"hsla"===d&&4===g.length)return h.fromArray(a.hsla2rgba(parseFloat(g[0]),parseFloat(g[1])/100,parseFloat(g[2])/100,parseFloat(g[3])),c)}return null}static fromHex(g,c=new h){if("#"!==g[0]||isNaN(Number(`0x${g.substring(1)}`)))return null;switch(g.length){case 4:case 5:var d=parseInt(g.substring(1,2),16),l=parseInt(g.substring(2,3),16),r=parseInt(g.substring(3,4),16);g=5===g.length?15:parseInt(g.substring(4),16);return h.fromArray([d+16*d,l+16*l,r+16*r,(g+16*g)/255],c);case 7:case 9:return d=
parseInt(g.substring(1,3),16),l=parseInt(g.substring(3,5),16),r=parseInt(g.substring(5,7),16),g=7===g.length?255:parseInt(g.substring(7),16),h.fromArray([d,l,r,g/255],c);default:return null}}static fromArray(g,c=new h){c._set(Number(g[0]),Number(g[1]),Number(g[2]),Number(g[3]));isNaN(c.a)&&(c.a=1);return c._sanitize()}static fromString(g,c){const d=a.isNamedColor(g)?a.getNamedColor(g):null;return d&&h.fromArray(d,c)||h.fromRgb(g,c)||h.fromHex(g,c)}static fromJSON(g){return null!=g?new h([g[0],g[1],
g[2],(g[3]??255)/255]):void 0}static toUnitRGB(g){return null!=g?[g.r/255,g.g/255,g.b/255]:null}static toUnitRGBA(g){return null!=g?[g.r/255,g.g/255,g.b/255,null!=g.a?g.a:1]:null}constructor(g){this.b=this.g=this.r=255;this.a=1;g&&this.setColor(g)}get isBright(){return 127<=.299*this.r+.587*this.g+.114*this.b}setColor(g){"string"===typeof g?h.fromString(g,this):Array.isArray(g)?h.fromArray(g,this):(this._set(g.r??0,g.g??0,g.b??0,g.a??1),g instanceof h||this._sanitize());return this}toRgb(){return[this.r,
this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(g){const c=g?.capitalize??!1;var d=g?.digits??6;g=3===d||4===d;const l=4===d||8===d;d=u(this.r,g);const r=u(this.g,g),q=u(this.b,g);g=l?u(Math.round(255*this.a),g):"";g=`#${d}${r}${q}${g}`;return c?g.toUpperCase():g}toCss(g=!1){const c=this.r+", "+this.g+", "+this.b;return g?`rgba(${c}, ${this.a})`:`rgb(${c})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(g=h.AlphaMode.ALWAYS){const c=w(this.r),d=w(this.g),
l=w(this.b);return g===h.AlphaMode.ALWAYS||1!==this.a?[c,d,l,w(255*this.a)]:[c,d,l]}clone(){return new h(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(g){return null!=g&&g.r===this.r&&g.g===this.g&&g.b===this.b&&g.a===this.a}_sanitize(){this.r=Math.round(v(this.r,0,255));this.g=Math.round(v(this.g,0,255));this.b=Math.round(v(this.b,0,255));this.a=v(this.a,0,1);return this}_set(g,c,d,l){this.r=g;this.g=c;this.b=d;this.a=l}}h.prototype.declaredClass="esri.Color";(function(g){g=
g.AlphaMode||(g.AlphaMode={});g[g.ALWAYS=0]="ALWAYS";g[g.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(h||={});return h})},"esri/colorUtils":function(){define(["exports"],function(a){function b(v){return w[v]??w[v.toLowerCase()]}function B(v,u,h){0>h&&++h;1<h&&--h;const g=6*h;return 1>g?v+(u-v)*g:1>2*h?u:2>3*h?v+(u-v)*(2/3-h)*6:v}const w={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,
0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,
1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,
79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,
1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,
136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,
228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,
105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,
205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(v){return[...b(v)]};a.hex2rgba=function(v){var u=5<v.length;const h=u?8:4,g=(1<<h)-1,c=u?1:17;u=u?9===v.length:5===v.length;v=Number("0x"+v.substr(1));if(isNaN(v))return null;const d=[0,0,0,1];u&&(u=v&g,v>>=h,d[3]=c*u/255);u=v&g;v>>=h;d[2]=c*u;u=v&g;v>>=h;d[1]=c*u;u=v&g;v>>=h;d[0]=c*u;return d};a.hsla2rgba=function(v,u,h,g=1){v=(v%360+360)%360/360;u=.5>=h?h*(u+1):h+u-h*u;h=2*h-u;return[Math.round(255*B(h,u,v+1/3)),Math.round(255*B(h,u,v)),
Math.round(255*B(h,u,v-1/3)),g]};a.isNamedColor=function(v){return!!w[v]||!!w[v.toLowerCase()]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/colorUtils":function(){define(["exports","../Color","../chunks/vec42","./libs/gl-matrix-2/factories/vec4f64"],function(a,b,B,w){function v(f){return"r"in f&&"g"in f&&"b"in f}function u(f,p){const y=[];let z,E;if(f[0].length!==p.length)throw Error("dimensions do not match");const F=f.length,D=f[0].length;let A=0;for(z=0;z<F;z++){for(E=
A=0;E<D;E++)A+=f[z][E]*p[E];y.push(A)}return y}function h(f){f=[f.r/255,f.g/255,f.b/255].map(p=>.04045>=p?p/12.92:((p+.055)/1.055)**2.4);f=u(n,f);return{x:100*f[0],y:100*f[1],z:100*f[2]}}function g(f){f=u(x,[f.x/100,f.y/100,f.z/100]).map(p=>Math.min(1,Math.max(.0031308>=p?12.92*p:1.055*p**(1/2.4)-.055,0)));return{r:Math.round(255*f[0]),g:Math.round(255*f[1]),b:Math.round(255*f[2])}}function c(f){f=[f.x/95.047,f.y/100,f.z/108.883].map(p=>p>(6/29)**3?p**(1/3):1/3*(29/6)**2*p+4/29);return{l:116*f[1]-
16,a:500*(f[0]-f[1]),b:200*(f[1]-f[2])}}function d(f){const p=f.l;f=[(p+16)/116+f.a/500,(p+16)/116,(p+16)/116-f.b/200].map(y=>y>6/29?y**3:3*(6/29)**2*(y-4/29));return{x:95.047*f[0],y:100*f[1],z:108.883*f[2]}}function l(f){if(v(f))return f;if("l"in f&&"c"in f&&"h"in f){var p=f.c,y=f.h;return g(d({l:f.l,a:p*Math.cos(y),b:p*Math.sin(y)}))}if("l"in f&&"a"in f&&"b"in f)return g(d(f));if("x"in f&&"y"in f&&"z"in f)return g(f);if("h"in f&&"s"in f&&"v"in f){y=(f.h+360)%360/60;p=f.v/100*255;f=f.s/100*p;const z=
f*(1-Math.abs(y%2-1));switch(Math.floor(y)){case 0:y={r:f,g:z,b:0};break;case 1:y={r:z,g:f,b:0};break;case 2:y={r:0,g:f,b:z};break;case 3:y={r:0,g:z,b:f};break;case 4:y={r:z,g:0,b:f};break;case 5:case 6:y={r:f,g:0,b:z};break;default:y={r:0,g:0,b:0}}y.r=Math.round(y.r+p-f);y.g=Math.round(y.g+p-f);y.b=Math.round(y.b+p-f);return y}return f}function r(f){if("h"in f&&"s"in f&&"v"in f)return f;var p=l(f);f=p.r;const y=p.g,z=p.b;p=Math.max(f,y,z);const E=p-Math.min(f,y,z);f=0===E?0:p===f?(y-z)/E%6:p===y?
(z-f)/E+2:(f-y)/E+4;0>f&&(f+=6);return{h:60*f,s:100*(0===E?0:E/p),v:100/255*p}}function q(f){return"l"in f&&"a"in f&&"b"in f?f:c(h(l(f)))}function k(f){let {r:p,g:y,b:z,a:E}=f;1>E&&(p=Math.round(E*p+255*(1-E)),y=Math.round(E*y+255*(1-E)),z=Math.round(E*z+255*(1-E)));return new b({r:p,g:y,b:z})}function e(f,p){const {r:y,g:z,b:E}=p?.ignoreAlpha?f:k(f);return.2126*y+.7152*z+.0722*E}const n=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],x=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],
[.0557,-.204,1.057]];a.BrightnessThreshold=void 0;(function(f){f[f.Low=160]="Low";f[f.High=225]="High"})(a.BrightnessThreshold||(a.BrightnessThreshold={}));a.colorEquals=function(f,p){return f===p||null!=f&&f.equals(p)};a.colorVectorEquals=function(f,p){return f===p||null!=f&&null!=p&&B.equals(f,p)};a.colorVectorToColorAndOpacity=function(f){return w.fromValues(f[0],f[1],f[2],3<f.length?f[3]:1)};a.darken=function(f,p){var y=q(f);y.l*=1-p;p=l(y);y=f.clone();y.setColor(p);y.a=f.a;return y};a.desaturate=
function(f,p){var y=r(f);y.s*=p;p=l(y);y=f.clone();y.setColor(p);y.a=f.a;return y};a.getColorLuminance=e;a.getColorTheme=function(f){return k(f).isBright?"light":"dark"};a.getContrast=function(f,p=a.BrightnessThreshold.High){return e(f,{ignoreAlpha:!0})>p?new b([0,0,0,f.a]):new b([255,255,255,f.a])};a.isRGB=v;a.multiplyOpacity=function(f,p){f=f.clone();f.a*=p;return f};a.multiplyOpacityToUnitRGBA=function(f,p){f=b.toUnitRGBA(f);f[3]*=p;return f};a.toHSV=r;a.toLAB=q;a.toLCH=function(f){if(!("l"in f&&
"c"in f&&"h"in f)){var p=c(h(l(f)));f=p.l;var y=p.a;const z=p.b;p=Math.sqrt(y*y+z*z);y=Math.atan2(z,y);y=0<y?y:y+2*Math.PI;f={l:f,c:p,h:y}}return f};a.toRGB=l;a.unitRGBAFromColor=function(f){return b.toUnitRGBA(f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec42":function(){define(["exports","../core/libs/gl-matrix-2/math/common"],function(a,b){function B(M,L){M[0]=L[0];M[1]=L[1];M[2]=L[2];M[3]=L[3];return M}function w(M,L){M[0]=L[0];M[1]=L[1];M[2]=L[2];return M}
function v(M,L,O,U,ca){M[0]=L;M[1]=O;M[2]=U;M[3]=ca;return M}function u(M,L,O){M[0]=L[0]+O[0];M[1]=L[1]+O[1];M[2]=L[2]+O[2];M[3]=L[3]+O[3];return M}function h(M,L,O){M[0]=L[0]-O[0];M[1]=L[1]-O[1];M[2]=L[2]-O[2];M[3]=L[3]-O[3];return M}function g(M,L,O){M[0]=L[0]*O[0];M[1]=L[1]*O[1];M[2]=L[2]*O[2];M[3]=L[3]*O[3];return M}function c(M,L,O){M[0]=L[0]/O[0];M[1]=L[1]/O[1];M[2]=L[2]/O[2];M[3]=L[3]/O[3];return M}function d(M,L){M[0]=Math.ceil(L[0]);M[1]=Math.ceil(L[1]);M[2]=Math.ceil(L[2]);M[3]=Math.ceil(L[3]);
return M}function l(M,L){M[0]=Math.floor(L[0]);M[1]=Math.floor(L[1]);M[2]=Math.floor(L[2]);M[3]=Math.floor(L[3]);return M}function r(M,L,O){M[0]=Math.min(L[0],O[0]);M[1]=Math.min(L[1],O[1]);M[2]=Math.min(L[2],O[2]);M[3]=Math.min(L[3],O[3]);return M}function q(M,L,O){M[0]=Math.max(L[0],O[0]);M[1]=Math.max(L[1],O[1]);M[2]=Math.max(L[2],O[2]);M[3]=Math.max(L[3],O[3]);return M}function k(M,L){M[0]=Math.round(L[0]);M[1]=Math.round(L[1]);M[2]=Math.round(L[2]);M[3]=Math.round(L[3]);return M}function e(M,
L,O){M[0]=L[0]*O;M[1]=L[1]*O;M[2]=L[2]*O;M[3]=L[3]*O;return M}function n(M,L,O,U){M[0]=L[0]+O[0]*U;M[1]=L[1]+O[1]*U;M[2]=L[2]+O[2]*U;M[3]=L[3]+O[3]*U;return M}function x(M,L){const O=L[0]-M[0],U=L[1]-M[1],ca=L[2]-M[2];M=L[3]-M[3];return Math.sqrt(O*O+U*U+ca*ca+M*M)}function f(M,L){const O=L[0]-M[0],U=L[1]-M[1],ca=L[2]-M[2];M=L[3]-M[3];return O*O+U*U+ca*ca+M*M}function p(M){const L=M[0],O=M[1],U=M[2];M=M[3];return Math.sqrt(L*L+O*O+U*U+M*M)}function y(M){const L=M[0],O=M[1],U=M[2];M=M[3];return L*
L+O*O+U*U+M*M}function z(M,L){M[0]=-L[0];M[1]=-L[1];M[2]=-L[2];M[3]=-L[3];return M}function E(M,L){M[0]=1/L[0];M[1]=1/L[1];M[2]=1/L[2];M[3]=1/L[3];return M}function F(M,L){const O=L[0],U=L[1],ca=L[2];L=L[3];let ha=O*O+U*U+ca*ca+L*L;0<ha&&(ha=1/Math.sqrt(ha),M[0]=O*ha,M[1]=U*ha,M[2]=ca*ha,M[3]=L*ha);return M}function D(M,L){return M[0]*L[0]+M[1]*L[1]+M[2]*L[2]+M[3]*L[3]}function A(M,L,O,U){const ca=L[0],ha=L[1],ia=L[2];L=L[3];M[0]=ca+U*(O[0]-ca);M[1]=ha+U*(O[1]-ha);M[2]=ia+U*(O[2]-ia);M[3]=L+U*(O[3]-
L);return M}function C(M,L){var O=b.RANDOM;L=L||1;let U,ca,ha,ia,ea,la;do U=2*O()-1,ca=2*O()-1,ea=U*U+ca*ca;while(1<=ea);do ha=2*O()-1,ia=2*O()-1,la=ha*ha+ia*ia;while(1<=la);O=Math.sqrt((1-ea)/la);M[0]=L*U;M[1]=L*ca;M[2]=L*ha*O;M[3]=L*ia*O;return M}function G(M,L,O){const U=L[0],ca=L[1],ha=L[2];L=L[3];M[0]=O[0]*U+O[4]*ca+O[8]*ha+O[12]*L;M[1]=O[1]*U+O[5]*ca+O[9]*ha+O[13]*L;M[2]=O[2]*U+O[6]*ca+O[10]*ha+O[14]*L;M[3]=O[3]*U+O[7]*ca+O[11]*ha+O[15]*L;return M}function J(M,L,O){var U=L[0];const ca=L[1],
ha=L[2],ia=O[0],ea=O[1],la=O[2];O=O[3];const ra=O*U+ea*ha-la*ca,wa=O*ca+la*U-ia*ha,va=O*ha+ia*ca-ea*U;U=-ia*U-ea*ca-la*ha;M[0]=ra*O+U*-ia+wa*-la-va*-ea;M[1]=wa*O+U*-ea+va*-ia-ra*-la;M[2]=va*O+U*-la+ra*-ea-wa*-ia;M[3]=L[3];return M}function I(M){return"vec4("+M[0]+", "+M[1]+", "+M[2]+", "+M[3]+")"}function P(M,L){return M[0]===L[0]&&M[1]===L[1]&&M[2]===L[2]&&M[3]===L[3]}function S(M,L){const O=M[0],U=M[1],ca=M[2];M=M[3];const ha=L[0],ia=L[1],ea=L[2];L=L[3];const la=b.getEpsilon();return Math.abs(O-
ha)<=la*Math.max(1,Math.abs(O),Math.abs(ha))&&Math.abs(U-ia)<=la*Math.max(1,Math.abs(U),Math.abs(ia))&&Math.abs(ca-ea)<=la*Math.max(1,Math.abs(ca),Math.abs(ea))&&Math.abs(M-L)<=la*Math.max(1,Math.abs(M),Math.abs(L))}const Y=Object.freeze(Object.defineProperty({__proto__:null,add:u,ceil:d,copy:B,copyVec3:w,dist:x,distance:x,div:c,divide:c,dot:D,equals:S,exactEquals:P,floor:l,inverse:E,len:p,length:p,lerp:A,max:q,min:r,mul:g,multiply:g,negate:z,normalize:F,random:C,round:k,scale:e,scaleAndAdd:n,set:v,
sqrDist:f,sqrLen:y,squaredDistance:f,squaredLength:y,str:I,sub:h,subtract:h,transformMat4:G,transformQuat:J},Symbol.toStringTag,{value:"Module"}));a.add=u;a.ceil=d;a.copy=B;a.copyVec3=w;a.dist=x;a.distance=x;a.div=c;a.divide=c;a.dot=D;a.equals=S;a.exactEquals=P;a.floor=l;a.inverse=E;a.len=p;a.length=p;a.lerp=A;a.max=q;a.min=r;a.mul=g;a.multiply=g;a.negate=z;a.normalize=F;a.random=C;a.round=k;a.scale=e;a.scaleAndAdd=n;a.set=v;a.sqrDist=f;a.sqrLen=y;a.squaredDistance=f;a.squaredLength=y;a.str=I;a.sub=
h;a.subtract=h;a.transformMat4=G;a.transformQuat=J;a.vec4=Y})},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["exports"],function(a){function b(){return[0,0,0,0]}function B(y){return[y[0],y[1],y[2],y[3]]}function w(y,z,E,F){return[y,z,E,F]}function v(y,z=b()){const E=Math.min(4,y.length);for(let F=0;F<E;++F)z[F]=y[F];return z}function u(y,z){return new Float64Array(y,z,4)}function h(){return b()}function g(){return[1,1,1,1]}function c(){return[1,0,0,0]}function d(){return[0,1,0,
0]}function l(){return[0,0,1,0]}function r(){return[0,0,0,1]}const q=b(),k=g(),e=c(),n=d(),x=l(),f=r(),p=Object.freeze(Object.defineProperty({__proto__:null,ONES:k,UNIT_W:f,UNIT_X:e,UNIT_Y:n,UNIT_Z:x,ZEROS:q,clone:B,create:b,createView:u,fromArray:v,fromValues:w,ones:g,unitW:r,unitX:c,unitY:d,unitZ:l,zeros:h},Symbol.toStringTag,{value:"Module"}));a.ONES=k;a.UNIT_W=f;a.UNIT_X=e;a.UNIT_Y=n;a.UNIT_Z=x;a.ZEROS=q;a.clone=B;a.create=b;a.createView=u;a.fromArray=v;a.fromValues=w;a.ones=g;a.unitW=r;a.unitX=
c;a.unitY=d;a.unitZ=l;a.vec4f64=p;a.zeros=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/unitBezier":function(){define(["exports"],function(a){function b(v,u,h,g){function c(n,x){var f;let p,y;p=n;for(f=0;8>f;f++){y=((r*p+l)*p+d)*p-n;if(Math.abs(y)<x)return p;var z=(3*r*p+2*l)*p+d;if(1E-6>Math.abs(z))break;p-=y/z}z=0;f=1;p=n;if(p<z)return z;if(p>f)return f;for(;z<f;){y=((r*p+l)*p+d)*p;if(Math.abs(y-n)<x)break;n>y?z=p:f=p;p=.5*(f-z)+z}return p}const d=3*v,l=3*(h-v)-
d,r=1-d-l,q=3*u,k=3*(g-u)-q,e=1-q-k;return function(n,x=1E-6){n=c(n,x);return((e*n+k)*n+q)*n}}const B=/^cubic-bezier\((.*)\)/,w={};w.ease=b(.25,.1,.25,1);w.linear=b(0,0,1,1);w.easeIn=w["ease-in"]=b(.42,0,1,1);w.easeOut=w["ease-out"]=b(0,0,.58,1);w.easeInOut=w["ease-in-out"]=b(.42,0,.58,1);a.easingFunctions=w;a.parse=function(v){let u=w[v]||null;!u&&(v=B.exec(v))&&(v=v[1].split(",").map(h=>parseFloat(h.trim())),4!==v.length||v.some(h=>isNaN(h))||(u=b.apply(b,v)));return u};a.unitBezier=b;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["exports","../../../../../Color"],function(a,b){function B(e,n){return{kind:"array",itemType:e,n}}function w(e){if("array"===e.kind){const n=w(e.itemType);return"number"===typeof e.n?`array<${n}, ${e.n}>`:"value"===e.itemType.kind?"array":`array<${n}>`}return e.kind}function v(e){if(null===e)return h;if("string"===typeof e)return c;if("boolean"===typeof e)return d;if("number"===typeof e)return g;
if(e instanceof b)return l;if(Array.isArray(e)){let n;for(const x of e){const f=v(x);if(!n)n=f;else if(n!==f){n=q;break}}return B(n||q,e.length)}return"object"===typeof e?r:q}function u(e,n){if("array"===n.kind)return"array"===e.kind&&(0===e.n&&"value"===e.itemType.kind||u(e.itemType,n.itemType))&&("number"!==typeof n.n||n.n===e.n);if("value"===n.kind)for(const x of k)if(u(e,x))return!0;return n.kind===e.kind}const h={kind:"null"},g={kind:"number"},c={kind:"string"},d={kind:"boolean"},l={kind:"color"},
r={kind:"object"},q={kind:"value"},k=[h,g,c,d,l,r,B(q)];a.arrayType=B;a.booleanType=d;a.colorType=l;a.getType=v;a.matchType=u;a.nullType=h;a.numberType=g;a.objectType=r;a.stringType=c;a.typeToString=w;a.valueToString=function(e){if(null===e)return"";const n=typeof e;return"string"===n?e:"number"===n||"boolean"===n?String(e):e instanceof b?e.toString():JSON.stringify(e)};a.valueType=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["../../../../../Color",
"../GeometryUtils","../expression/expression","../expression/types"],function(a,b,B,w){class v{constructor(u,h){this.isDataDriven=!1;this.interpolator=null;switch(u.type){case "number":var g=!0;break;case "color":g=!0;break;case "array":g="number"===u.value;break;default:g=!1}null==h&&(h=u.default);if(Array.isArray(h)&&0<h.length&&B.ops[h[0]]){g={number:w.numberType,color:w.colorType,string:w.stringType,boolean:w.booleanType,enum:w.stringType};try{var c="array"===u.type?w.arrayType(g[u.value]||w.valueType,
u.length):g[u.type];const d=B.createExpression(h,null,c);this.getValue=this._buildExpression(d,u);this.isDataDriven=!0;d instanceof B.Interpolate&&d.input instanceof B.Zoom&&(this.interpolator=d)}catch(d){console.log(d.message),this.getValue=this._buildSimple(u.default)}}else{g&&"interval"===h.type&&(g=!1);if(c=h?.stops&&0<h.stops.length)for(const d of h.stops)d[1]=this._validate(d[1],u);if(this.isDataDriven=h?!!h.property:!1)if(void 0!==h.default&&(h.default=this._validate(h.default,u)),c)switch(h.type){case "identity":this.getValue=
this._buildIdentity(h,u);break;case "categorical":this.getValue=this._buildCategorical(h,u);break;default:this.getValue=g?this._buildInterpolate(h,u):this._buildInterval(h,u)}else this.getValue=this._buildIdentity(h,u);else c?this.getValue=g?this._buildZoomInterpolate(h):this._buildZoomInterval(h):(h=this._validate(h,u),this.getValue=this._buildSimple(h))}}_validate(u,h){if("number"===h.type){if(null!=h.minimum&&u<h.minimum)return h.minimum;if(null!=h.maximum&&u>h.maximum)return h.maximum}else"color"===
h.type?u=v._parseColor(u):"enum"===h.type?"string"===typeof u&&(u=h.values.indexOf(u)):"array"===h.type&&"enum"===h.value?u=u.map(g=>"string"===typeof g?h.values.indexOf(g):g):"string"===h.type&&(u=w.valueToString(u));return u}_buildSimple(u){return()=>u}_buildExpression(u,h){return(g,c)=>{try{const d=u.evaluate(c,g);return void 0===d?h.default:this._validate(d,h)}catch(d){return console.log(d.message),h.default}}}_buildIdentity(u,h){return(g,c)=>{let d;c&&(d=c.values[u.property]);void 0!==d&&(d=
this._validate(d,h));return null!=d?d:void 0!==u.default?u.default:h.default}}_buildCategorical(u,h){return(g,c)=>{let d;c&&(d=c.values[u.property]);d=this._categorical(d,u.stops);return void 0!==d?d:void 0!==u.default?u.default:h.default}}_buildInterval(u,h){return(g,c)=>{let d;c&&(d=c.values[u.property]);return"number"===typeof d?this._interval(d,u.stops):void 0!==u.default?u.default:h.default}}_buildInterpolate(u,h){return(g,c)=>{let d;c&&(d=c.values[u.property]);return"number"===typeof d?this._interpolate(d,
u.stops,u.base||1):void 0!==u.default?u.default:h.default}}_buildZoomInterpolate(u){return h=>this._interpolate(h,u.stops,u.base||1)}_buildZoomInterval(u){return h=>this._interval(h,u.stops)}_categorical(u,h){const g=h.length;for(let c=0;c<g;c++)if(h[c][0]===u)return h[c][1]}_interval(u,h){const g=h.length;let c=0;for(let d=0;d<g;d++)if(h[d][0]<=u)c=d;else break;return h[c][1]}_interpolate(u,h,g){const c=h.length;for(let r=0;r<c;r++){const q=h[r];if(q[0]<=u)var d=q;else{var l=q;break}}if(d&&l){h=
l[0]-d[0];u-=d[0];g=1===g?u/h:(g**u-1)/(g**h-1);if(Array.isArray(d[1])){d=d[1];l=l[1];u=[];for(h=0;h<d.length;h++)u.push(b.interpolate(d[h],l[h],g));return u}return b.interpolate(d[1],l[1],g)}if(d)return d[1];if(l)return l[1]}static _isEmpty(u){for(const h in u)if(u.hasOwnProperty(h))return!1;return!0}static _parseColor(u){if(Array.isArray(u))return u;"string"===typeof u&&(u=new a(u));if(u instanceof a&&!this._isEmpty(u))return a.toUnitRGBA(u)}}return v})},"esri/views/2d/tiling/enums":function(){define(["exports"],
function(a){a.TileStatus=void 0;var b=a.TileStatus||(a.TileStatus={});b[b.INITIALIZED=0]="INITIALIZED";b[b.NO_DATA=1]="NO_DATA";b[b.READY=2]="READY";b[b.MODIFIED=3]="MODIFIED";b[b.INVALID=4]="INVALID";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["./StyleDefinition","./StyleLayer"],function(a,b){class B{constructor(w){this._style=w;this.backgroundBucketIds=[];this._uidToLayer=new Map;this._layerByName={};
this._runningId=0;w.layers||(w.layers=[]);this.version=parseFloat(w.version);if(this.layers=w.layers.map((v,u,h)=>this._create(v,u,h)).filter(v=>!!v))for(w=0;w<this.layers.length;w++){const v=this.layers[w];this._layerByName[v.id]=v;this._uidToLayer.set(v.uid,v);v.type===a.StyleLayerType.BACKGROUND&&this.backgroundBucketIds.push(v.id)}this._identifyRefLayers()}isPainterDataDriven(w){return(w=this._layerByName[w])?w.isPainterDataDriven():!1}getStyleLayerId(w){return w>=this.layers.length?null:this.layers[w].id}getStyleLayerByUID(w){return this._uidToLayer.get(w)??
null}getStyleLayerIndex(w){return(w=this._layerByName[w])?this.layers.indexOf(w):-1}setStyleLayer(w,v){if(w?.id){var u=this._style;null!=v&&v>=this.layers.length&&(v=this.layers.length-1);var h=!0,g;if(g=this._layerByName[w.id]){const c=this.layers.indexOf(g);v||=c;v===c?(h=!1,g=B._recreateLayer(w,g),this.layers[v]=g,u.layers[v]=w):(this.layers.splice(c,1),u.layers.splice(c,1),g=this._create(w,v,this.layers),this.layers.splice(v,0,g),u.layers.splice(v,0,w))}else g=this._create(w,v,this.layers),!v||
v>=this.layers.length?(this.layers.push(g),u.layers.push(w)):(this.layers.splice(v,0,g),u.layers.splice(v,0,w));this._layerByName[w.id]=g;this._uidToLayer.set(g.uid,g);h&&this._recomputeZValues();this._identifyRefLayers()}}getStyleLayer(w){return(w=this._layerByName[w])?{type:w.typeName,id:w.id,source:w.source,"source-layer":w.sourceLayer,minzoom:w.minzoom,maxzoom:w.maxzoom,filter:w.filter,layout:w.layout,paint:w.paint}:null}deleteStyleLayer(w){const v=this._layerByName[w];v&&(delete this._layerByName[w],
this._uidToLayer.delete(v.uid),w=this.layers.indexOf(v),this.layers.splice(w,1),this._style.layers.splice(w,1),this._recomputeZValues(),this._identifyRefLayers())}getLayerById(w){return this._layerByName[w]}getLayoutProperties(w){return(w=this._layerByName[w])?w.layout:null}getPaintProperties(w){return(w=this._layerByName[w])?w.paint:null}setPaintProperties(w,v){if(w=this._layerByName[w]){var u=B._recreateLayer({type:w.typeName,id:w.id,source:w.source,"source-layer":w.sourceLayer,minzoom:w.minzoom,
maxzoom:w.maxzoom,filter:w.filter,layout:w.layout,paint:v},w),h=this.layers.indexOf(w);this.layers[h]=u;this._style.layers[h].paint=v;this._layerByName[w.id]=u;this._uidToLayer.set(w.uid,u)}}setLayoutProperties(w,v){if(w=this._layerByName[w]){var u=B._recreateLayer({type:w.typeName,id:w.id,source:w.source,"source-layer":w.sourceLayer,minzoom:w.minzoom,maxzoom:w.maxzoom,filter:w.filter,layout:v,paint:w.paint},w),h=this.layers.indexOf(w);this.layers[h]=u;this._style.layers[h].layout=v;this._layerByName[w.id]=
u;this._uidToLayer.set(w.uid,u)}}setStyleLayerVisibility(w,v){if(w=this._layerByName[w]){var u=w.layout||{};u.visibility=v;v=B._recreateLayer({type:w.typeName,id:w.id,source:w.source,"source-layer":w.sourceLayer,minzoom:w.minzoom,maxzoom:w.maxzoom,filter:w.filter,layout:u,paint:w.paint},w);var h=this.layers.indexOf(w);this.layers[h]=v;this._style.layers[h].layout=u;this._layerByName[w.id]=v;this._uidToLayer.set(w.uid,v)}}getStyleLayerVisibility(w){return(w=this._layerByName[w])?w.layout?.visibility??
"visible":"none"}_recomputeZValues(){const w=this.layers,v=1/(w.length+1);for(let u=0;u<w.length;u++)w[u].z=1-(1+u)*v}_identifyRefLayers(){const w=[],v=[];let u=0;for(const c of this.layers){const d=c.layout;if(c.type===a.StyleLayerType.FILL){var h=c,g=c.source+"|"+c.sourceLayer;g+="|"+(d?.visibility??"");g+="|"+c.minzoom;g+="|"+c.maxzoom;g+="|"+JSON.stringify(c.filter);if(h.hasDataDrivenFill||h.hasDataDrivenOutline)g+="|"+u;w.push({key:g,layer:c})}else if(c.type===a.StyleLayerType.LINE){h=c;g=c.paint;
g=null!=g&&(null!=g["line-pattern"]||null!=g["line-dasharray"]);let l=c.source+"|"+c.sourceLayer;l+="|"+(d?.visibility??"");l+="|"+c.minzoom;l+="|"+c.maxzoom;l+="|"+JSON.stringify(c.filter);l+="|"+(void 0!==d?d["line-cap"]:"");l+="|"+(void 0!==d?d["line-join"]:"");if(h.hasDataDrivenLine||g)l+="|"+u;v.push({key:l,layer:c})}++u}this._assignRefLayers(w);this._assignRefLayers(v)}_assignRefLayers(w){w.sort((d,l)=>d.key<l.key?-1:d.key>l.key?1:0);let v,u;const h=w.length;for(let d=0;d<h;d++){const l=w[d];
if(l.key===v)l.layer.refLayerId=u;else if(v=l.key,u=l.layer.id,l.layer.type===a.StyleLayerType.FILL){if(!l.layer.getPaintProperty("fill-outline-color"))for(var g=d+1;g<h;g++){var c=w[g];if(c.key===v){if(c.layer.getPaintProperty("fill-outline-color")){w[d]=c;w[g]=l;u=c.layer.id;break}}else break}}else if(l.layer.type===a.StyleLayerType.LINE)for(g=l.layer,c=d+1;c<h;c++){const r=w[c];if(r.key!==v)break;const q=r.layer;if(g.canUseThinTessellation&&!q.canUseThinTessellation||!g.canUseThinTessellation&&
(q.getPaintProperty("line-pattern")||q.getPaintProperty("line-dasharray")))g=q,w[d]=r,w[c]=l,u=r.layer.id}}}_create(w,v,u){v=1-1/(u.length+1)*(1+v);u=this._runningId++;switch(w.type){case "background":return new b.BackgroundStyleLayer(a.StyleLayerType.BACKGROUND,w,v,u);case "fill":return new b.FillStyleLayer(a.StyleLayerType.FILL,w,v,u);case "line":return new b.LineStyleLayer(a.StyleLayerType.LINE,w,v,u);case "symbol":return new b.SymbolStyleLayer(a.StyleLayerType.SYMBOL,w,v,u);case "raster":console.warn(`Unsupported vector tile raster layer ${w.id}`);
break;case "circle":return new b.CircleStyleLayer(a.StyleLayerType.CIRCLE,w,v,u)}return null}static _recreateLayer(w,v){switch(w.type){case "background":return new b.BackgroundStyleLayer(a.StyleLayerType.BACKGROUND,w,v.z,v.uid);case "fill":return new b.FillStyleLayer(a.StyleLayerType.FILL,w,v.z,v.uid);case "line":return new b.LineStyleLayer(a.StyleLayerType.LINE,w,v.z,v.uid);case "symbol":return new b.SymbolStyleLayer(a.StyleLayerType.SYMBOL,w,v.z,v.uid);case "raster":console.warn(`Unsupported vector tile raster layer ${w.id}`);
break;case "circle":return new b.CircleStyleLayer(a.StyleLayerType.CIRCLE,w,v.z,v.uid)}return null}}return B})},"*noref":1}});require.boot&&require.apply(null,require.boot);