// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("exports ../../../core/arrayUtils ../../../layers/support/fieldUtils ./PanelContent ../../FeatureTemplates/ItemList ../../support/widgetUtils ../../support/jsxFactory".split(" "),function(f,p,u,g,v,z,q){f.FeatureList=function({editorItems:r,filterText:h,id:w,messagesTemplates:k,onFilterTextChange:x,onSelectFeature:l,workflow:m}){const e=new Map;let t=0;m.data.candidates.map(a=>{var b=a.layer;if(b){var c=b.fieldsIndex.get(b.objectIdField);var n=c.alias||c.name,{attributes:d}=a;c=(b=u.getDisplayFieldName(b))&&
d[b]&&`${d[b]}`||`${n}: ${d[c.name]}`}else c=null;return{label:c,id:a.attributes[a.layer.objectIdField],data:a}}).filter(({label:a,data:b})=>{const c=h.toLowerCase(),{title:n}=b.layer,d=r.find(y=>y.layer===b.sourceLayer);return d?d.supportsUpdateWorkflow&&(!c||a?.toLowerCase().includes(c)||n?.toLowerCase().includes(c)):null}).filter(p.isSome).forEach(a=>{t++;const b=a.data.layer;e.has(b)?e.get(b)?.items.push(a):e.set(b,{id:`${b.id}`,label:b.title??"",items:[a]})});m=r.toArray().map(({layer:a})=>e.get(a)).filter(p.isSome);
return q.tsx(g.PanelContent,{key:"feature-list"},q.tsx(g.PanelContentSection,null,v.ItemList({enableListScroll:!1,filterEnabled:10<t||0<h.length,filterText:h,id:w,items:m,messages:{filterPlaceholder:k.filterPlaceholder,noItems:k.noItems,noMatches:k.noMatches},onFilterChange:a=>x(a),onItemMouseEnter:a=>l(a.data),onItemMouseLeave:()=>l(null),onItemSelect:a=>l(a.data,!0)})))};f.loadFeatureListComponents=()=>g.loadPanelContentComponents();Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});