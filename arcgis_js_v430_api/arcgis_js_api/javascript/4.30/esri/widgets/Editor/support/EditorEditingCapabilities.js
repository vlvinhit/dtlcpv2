// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../../layers/support/EditingCapabilities ../../../views/layers/support/editableLayerViews ../../Feature/support/featureUtils".split(" "),function(f,g,d,w,x,t,q,u,v){function r(a,b){return"scene"!==a.type?!0:null!=b&&"type"in b&&"scene-layer-3d"===b.type?u.isGeometryEditableSceneLayer(a,b):!1}d=class extends q{constructor(a){super(a);
this.layerView=this.layerInfo=null}get attachments(){const a=this.layerInfo;return{enabled:this.defaults.attachments.enabled&&!1!==a?.enabled}}get create(){const {attachments:a,defaults:b,layerInfo:c,layer:k,layerView:l}=this,e=b.create,h=e.enabled&&!1!==c?.enabled&&!1!==c?.addEnabled,m=h&&e.attributes,n=h&&e.geometry&&r(k,l);return{attributes:m,enabled:h,geometry:n,attachments:{enabled:a.enabled&&h&&!1!==c?.attachmentsOnCreateEnabled},reliesOnOwnerAdminPrivileges:e.reliesOnOwnerAdminPrivileges}}get defaults(){return new q({layer:this.layer})}get delete(){const {defaults:a,
layerInfo:b}=this,c=a.delete;return{enabled:c.enabled&&!1!==b?.enabled&&!1!==b?.deleteEnabled,reliesOnOwnerAdminPrivileges:c.reliesOnOwnerAdminPrivileges}}get formTemplate(){const {layer:a,layerInfo:b}=this;return b?.formTemplate?b.formTemplate:a&&"formTemplate"in a?a.formTemplate:null}get relationship(){var {layer:a}=this;a=!(!v.isRelatableFeatureSupportedLayer(a)||!a.relationships?.length);const b=!!this.formTemplate?.elements?.some(c=>"relationship"===c.type);return{enabled:a&&b}}get update(){const {attachments:a,
defaults:b,layerInfo:c,layer:k,layerView:l}=this,e=b.update,h=e.enabled&&!1!==c?.enabled&&!1!==c?.updateEnabled,m=h&&e.attributes&&!1!==c?.attributeUpdatesEnabled,n=h&&e.geometry&&!1!==c?.geometryUpdatesEnabled&&r(k,l),p=a.enabled&&!1!==c?.attachmentsOnUpdateEnabled;return{attributes:m,enabled:h,geometry:n,attachments:{enabled:p,create:p&&e.attachments.create,update:p&&e.attachments.update},reliesOnOwnerAdminPrivileges:e.reliesOnOwnerAdminPrivileges}}};f.__decorate([g.property()],d.prototype,"attachments",
null);f.__decorate([g.property()],d.prototype,"create",null);f.__decorate([g.property()],d.prototype,"defaults",null);f.__decorate([g.property()],d.prototype,"delete",null);f.__decorate([g.property()],d.prototype,"formTemplate",null);f.__decorate([g.property()],d.prototype,"layerInfo",void 0);f.__decorate([g.property()],d.prototype,"layerView",void 0);f.__decorate([g.property()],d.prototype,"relationship",null);f.__decorate([g.property()],d.prototype,"update",null);return d=f.__decorate([t.subclass("esri.widgets.Editor.support.EditorEditingCapabilities")],
d)});