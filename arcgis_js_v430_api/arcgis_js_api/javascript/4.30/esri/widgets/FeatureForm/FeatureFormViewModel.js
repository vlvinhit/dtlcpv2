// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("../../chunks/tslib.es6 ../../Graphic ../../core/compilerUtils ../../core/Evented ../../core/Logger ../../core/maybe ../../core/Promise ../../core/reactiveUtils ../../core/string ../../core/accessorSupport/decorators/property ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/support/UpdatingHandles ../../form/FormTemplate ../../form/support/formUtils ../../layers/support/ContingentValue ../../layers/support/editableLayers ../../layers/support/LayerContingentValuesCache ../../time/timeZoneUtils ./featureFormUtils ./FieldInput ./FormExpressionArcadeExecutor ./FormExpressionsManager ./GroupInput ./RelationshipInput ./TextElementInput".split(" "),
function(m,l,H,I,y,C,J,v,D,n,W,K,L,M,w,E,N,O,x,r,F,P,Q,R,S,T){function G(a){if("field"===a.type||"group"===a.type||"relationship"===a.type||"text"===a.type)return!0;y.getLogger("esri.widgets.FeatureForm.FeatureFormViewModel").warn("form-info::unsupported-element-type","Only element types 'field', 'group' and 'relationship' are supported",`Element ${a.label} has unsupported type '${a.type}'`);return!1}function U(a,b,d=null){const {feature:c,layer:e,timeZone:f}=b;return new T.TextElementInput({element:a,
feature:c,group:d,layer:e,timeZone:f})}const z=new l({attributes:{}}),V={field:["editableExpression","requiredExpression","valueExpression","visibilityExpression"],group:["visibilityExpression"],relationship:["editableExpression","visibilityExpression"],text:["visibilityExpression"]};l=class extends J.EsriPromiseMixin(I.EventedAccessor){constructor(a){super(a);this._expressionExecutorsInUse=new Set;this._expressionExecutorLookup=new Map;this._contingentValuesCache=this._expressionsManager=null;this._featureClone=
z.clone();this._initialFeature=z.clone();this._timeZone=null;this._updatingHandles=new L.UpdatingHandles;this.arcadeEditType="NA";this.contingencyConstraintViolations=new Map;this.disabled=!1;this.highlightHelper=null;this.inputs=[];this.relatedRecordCallbacks=this.map=null;this.hasPendingSubtypeChoice=this.strict=!1}initialize(){const a=v.watch(()=>[this.layer,!!this.layer?.loaded,this.formTemplate,this.feature,this.timeZone,this.arcadeEditType],async([c,e])=>{null!=c&&(e?this._updatingHandles.addPromise(this._updateInputs()):
c.load().catch(()=>{}))},{equals:([c,e,f,g,h,k],[p,q,t,u,A,B])=>c===p&&e===q&&f===t&&g===u&&h===A&&k===B,initial:!0}),b=v.watch(()=>this._arcadeContextInfo,c=>{null!=this._expressionsManager&&(this._expressionsManager.arcadeContextInfo=c,this._updatingHandles.addPromise(this._expressionsManager.evaluateAll().finally(()=>this._afterExpressionsEvaluated())))}),d=v.watch(()=>this.layer,c=>{(c="subtype-sublayer"===c?.type?c.parent:"feature"===c?.type?c:null)&&this.addResolvingPromise(O.createLoadedLayerContingentValuesCache(c).then(e=>
{this._contingentValuesCache=e;this.notifyChange("fieldsWithContingentValues")}))},{initial:!0});this.addHandles([a,b,d])}destroy(){this.layer=this.feature=null;this._contingentValuesCache=C.destroyMaybe(this._contingentValuesCache);this.highlightHelper?.removeAll();this._updatingHandles.destroy()}get _expressionInfosLookup(){return new Map(this.formTemplate?.expressionInfos?.map(a=>[a.name,a]))}get activeRelationshipInput(){return this.allRelationshipInputs.find(a=>a.relationshipId===this.relationshipId)}get _arcadeContextInfo(){const {_initialFeature:a,
arcadeEditType:b,layer:d,map:c,spatialReference:e,timeZone:f}=this;return{layer:N.isEditableLayer(d)?d:null,originalFeature:a,editType:b,map:c,spatialReference:e,timeZone:f}}get allFieldInputs(){return r.flattenFieldInputs(this.inputs)}get allGroupInputs(){return this.inputs.filter(r.isGroupInput)}get allRelationshipInputs(){return r.flattenRelationshipInputs(this.inputs)}get _layerFieldsByName(){return new Map(this.layer?.fields.map(a=>[a.name,a]))}get feature(){return this._get("feature")}set feature(a){const b=
this._get("feature");this._featureClone=a?a.clone():z.clone();this._initialFeature=this._featureClone.clone();this._expressionsManager&&(this._expressionsManager.feature=this._featureClone);a?(this._resetFieldInputValues(this._featureClone),this.allRelationshipInputs.forEach(d=>d.feature=a)):(this.inputs.forEach(d=>d.destroy()),this.inputs.length=0);b!==a&&(this.hasPendingSubtypeChoice=!1);this.contingencyConstraintViolations.clear();this._set("feature",a)}get fieldsWithContingentValues(){if(null==
this._contingentValuesCache)return new Set;const a=this._contingentValuesCache.fieldGroups.flatMap(b=>b.fields);return new Set(a)}get formTemplate(){return this.layer&&"formTemplate"in this.layer?this.layer.formTemplate:null}set formTemplate(a){void 0===a?this._clearOverride("formTemplate"):this._override("formTemplate",a)}get formDescription(){const {formTemplate:a,layer:b}=this;return a?.description&&b?r.parseFormTemplateString({label:a.description,attributes:this.getValues(),fieldsIndex:b.fieldsIndex,
timeZone:this.timeZone}):null}get formTitle(){const {formTemplate:a,layer:b}=this;return a?.title&&b?r.parseFormTemplateString({label:a.title,attributes:this.getValues(),fieldsIndex:b.fieldsIndex,timeZone:this.timeZone}):null}get formHeaderVisible(){const {activeRelationshipInput:a,formDescription:b,formTitle:d}=this;return!(a||!b&&!d)}get joinedContingentValues(){return this._joinContingentValues()}get layer(){return this.feature?.sourceLayer&&"applyEdits"in this.feature.sourceLayer?this.feature.sourceLayer:
null}set layer(a){this._override("layer",a)}get relationshipId(){return this._get("relationshipId")}set relationshipId(a){var b=this.allRelationshipInputs;null!=a&&a===this.relationshipId||b.forEach(d=>d.showAllEnabled=!1);null!=a&&(b=b.find(d=>d.relationshipId===a))&&(b.showAllEnabled=!0);this._set("relationshipId",a)}get spatialReference(){return this.layer?.spatialReference??null}set spatialReference(a){this._override("spatialReference",a)}get state(){return this.layer?.loaded?"ready":"disabled"}get submittable(){return this.valid?
!0:this.allFieldInputs.filter(a=>!a.valid).every(({submittable:a})=>a)}get timeZone(){var {layer:a}=this;if(a&&"datesInUnknownTimezone"in a&&a.datesInUnknownTimezone)return x.utc;a=a&&"preferredTimeZone"in a&&a.preferredTimeZone;return this._timeZone===x.unknown?a||x.utc:this._timeZone||x.system}set timeZone(a){this._timeZone=a}get updating(){return this._updatingHandles.updating}get valid(){const a=this.allFieldInputs;return 0<a.length&&a.every(({valid:b})=>b)}findField(a){return this.allFieldInputs.find(b=>
b.name===a)}getFieldValueOptionsForField(a,b){const d=this.findField(a);if(!d)return[[],[],[]];var c="coded-value"===d.domain?.type?d.domain.codedValues.map(({name:f,code:g})=>({name:f,value:g})):[];const e=null==d.value||c.some(f=>f.value===d.value)?[]:[{name:`${d.value}`,value:d.value}];a=this.fieldsWithContingentValues.has(a)?this._getContingentValueOptionsForField(a,b):[];if(0<a.length){const f=new Set(a.map(g=>g.value));c=c.filter(g=>!f.has(g.value));return[a,c,e]}return[c,[],e]}getValue(a){a=
this.layer?.getField(a);if(null!=a)return this._featureClone.getAttribute(a.name)??null}setValue(a,b){const {_featureClone:d,strict:c}=this,e=this.findField(a);b=""===b?null:b;e&&d.getAttribute(a)!==b&&(e.value=b,!c||e.valid)&&(this._afterValueChange(e),null!=this._expressionsManager&&this._updatingHandles.addPromise(this._expressionsManager.evaluateInvalidated([e.name]).finally(()=>this._afterExpressionsEvaluated())))}getValues(){return{...this._featureClone.attributes}}overrideInitialFeature(a){this._initialFeature=
a}submit(){var a=this.allFieldInputs;const b=new Set(a.filter(c=>c.valid).map(({name:c})=>c));a=a.filter(c=>!c.valid).map(({name:c})=>c);const d=this.getValues();if(0<this.validateContingencyConstraints(d,{includeIncompleteViolations:!0}).length)for(const [c,e]of this.contingencyConstraintViolations.entries())"error"===e.type&&(b.delete(c),a.push(c));this.emit("submit",{valid:[...b],invalid:a,values:d})}validateContingencyConstraints(a,b){const {_contingentValuesCache:d}=this,c=new Map;this.contingencyConstraintViolations=
c;if(null==d)return[];const {invalid:e,incomplete:f}=d.validateContingencyConstraints(a);a=[...e,...(b?.includeIncompleteViolations?f:[])];for(const g of a)for(const h of g.fieldGroup.fields)c.set(h,g);return a}notifyFeatureGeometryChanged(){const {_expressionsManager:a,feature:b,_featureClone:d}=this;d.geometry=b.geometry;null!=a&&this._updatingHandles.addPromise(a.evaluateInvalidatedByGeometry().finally(()=>this._afterExpressionsEvaluated()))}applySubtypeDefaults(a){({defaultValues:a}=a);var {allFieldInputs:b}=
this;for(const {name:d}of b)b=a[d],null!=b&&this.setValue(d,b)}_emitChangeEvent({name:a,valid:b,value:d}){this.emit("value-change",{layer:this.layer,feature:this.feature,fieldName:a,value:d,valid:b})}async _updateInputs(){this._stopExpressions();const {_featureClone:a,_initialFeature:b,arcadeEditType:d,formTemplate:c,inputs:e,layer:f,timeZone:g}=this;if(f){var h={arcadeEditType:d,feature:a,initialFeature:b,layer:f,timeZone:g},k=e.slice();this.inputs=c?.elements&&0<c.elements.length?await this._updateInputsUsingFormElements(k,
c.elements,h):this._updateInputsUsingLayerFields(k,f?.fields,h);await this._startExpressions()}}async _updateInputsUsingFormElements(a,b,d){const c=new Map;for(const e of a)if(r.isGroupInput(e)){c.set(e.element,e);for(const f of e.inputs)f.element&&c.set(f.element,f)}else e.element&&c.set(e.element,e);a=new Map;b=await this._updateInputsUsingFormElementsRecursive({existingInputsByElement:c,updatedElements:b.filter(G),sharedInitializationProperties:d,group:null,newExpressionExecutorPromises:a});for(const [e,
f]of c.entries())c.delete(e),f.destroy();await Promise.all(Array.from(a.values()));return b}async _updateInputsUsingFormElementsRecursive(a){const {existingInputsByElement:b,updatedElements:d,sharedInitializationProperties:c,group:e,newExpressionExecutorPromises:f}=a;a=[];for(const h of d){var g=b.has(h);const k=g?b.get(h):this._makeInputFromElement(h,c,e);if(k){a.push(k);await v.whenOnce(()=>!k.updating);this._assignExpressionExecutors(k,h,f);if(g)if(b.delete(h),r.isGroupInput(k)){const {feature:p,
timeZone:q}=c;k.set({feature:p,timeZone:q})}else r.isRelationshipInput(k)?(g=this.relationshipId===h.relationshipId,k.set(c),k.set({map:this.map,showAllEnabled:g})):k.set(c);w.isGroupElement(h)&&(g=h.elements.filter(p=>G(p)),k.inputs=await this._updateInputsUsingFormElementsRecursive({existingInputsByElement:b,updatedElements:g,sharedInitializationProperties:c,group:k,newExpressionExecutorPromises:f}))}}return a}_updateInputsUsingLayerFields(a,b,d){if(!Array.isArray(b))return y.getLogger("esri.widgets.FeatureForm.FeatureFormViewModel").warn(this.declaredClass,
"No attribute fields found."),[];const c=new Map;for(var e of a)if(r.isGroupInput(e)){for(const f of e.inputs)f.destroy();e.inputs.length=0;e.destroy()}else r.isRelationshipInput(e)?e.destroy():r.isFieldInput(e)&&(null!==e.element?e.destroy():c.set(e.field,e));a=[];for(const f of b)b=d.feature?.getAttribute(f.name)??null,e=c.get(f)??new F({field:f,preservesValueWhenHidden:this.formTemplate?.preserveFieldValuesWhenHidden}),a.push(e.set({...d,value:b})),c.delete(f);for(const [f,g]of c.entries())c.delete(f),
g.destroy();return a}_resetFieldInputValues(a){for(const b of this.allFieldInputs)b.value=a.getAttribute(b.name)}_makeInputFromElement(a,b,d){if(w.isGroupElement(a)){const {feature:c,layer:e}=b;return new R({element:a,inputs:[],feature:c,layer:e})}return w.isFieldElement(a)?this._makeFieldInputFromElement(a,b,d):w.isRelationshipElement(a)?this._makeRelationshipInputFromElement(a,b,d):w.isTextElement(a)?U(a,b):H.neverReached()}_makeFieldInputFromElement(a,b,d){const {arcadeEditType:c,feature:e,initialFeature:f,
layer:g,timeZone:h}=b;({fieldName:b}=a);return(b=b&&this._layerFieldsByName.get(b))?new F({arcadeEditType:c,element:a,field:b,value:e?.getAttribute(a.fieldName)??null,feature:e,initialFeature:f,layer:g,group:d,preservesValueWhenHidden:this.formTemplate?.preserveFieldValuesWhenHidden,timeZone:h}):null}_makeRelationshipInputFromElement(a,b,d=null){const {map:c}=this,{feature:e,layer:f,timeZone:g}=b,h=new S({element:a,feature:e,group:d,layer:f,map:c,timeZone:g});h.addHandles(v.on(()=>h.relatedLayer,
"edits",()=>this._expressionsManager?.evaluateAsyncExpressions()));return h}_assignExpressionExecutors(a,b,d){var c=V[b.type];const e=[];for(const f of c){const g=`${f}Executor`;a[g]?this._useExecutor(a[g]):(c=b[f],null!=c&&""!==c&&(c=this._expressionInfosLookup.get(c)?.expression??c,e.push(this._getOrCreateExecutorForExpression(c,d).then(h=>{a[g]=this._useExecutor(h)}))))}r.isTextElementInput(a)&&e.push(...this._assignTextElementExpressionExecutors(a,d));return e}_assignTextElementExpressionExecutors(a,
b){const {_expressionInfosLookup:d}=this,c=[];for(const e of a.expressionsUsed){const f=d.get(e);null==f?y.getLogger(this).error("feature-form:expression-not-found",`Could not find expressionInfo object with name '${e}'`):c.push(this._getOrCreateExecutorForExpression(f.expression,b).then(g=>a.setExpressionExecutor(e,this._useExecutor(g))))}for(const e of a.fieldsUsed)c.push(this._getOrCreateExecutorForExpression(`return $feature['${e}'];`,b).then(f=>a.setFieldExecutor(e,this._useExecutor(f))));return c}async _getOrCreateExecutorForExpression(a,
b){const {_expressionExecutorLookup:d}=this;if(d.has(a))return d.get(a);if(b.has(a))return b.get(a);const c=P.createFormExpressionArcadeExecutor(a,this.layer);b.set(a,c);b=await c;d.set(a,b);return b}_createExpressionsManager(a){const {_arcadeContextInfo:b,_featureClone:d,allFieldInputs:c,formTemplate:e}=this;this._expressionsManager=new Q.FormExpressionsManager({executors:a,feature:d,arcadeContextInfo:b,fieldInputs:c,preserveFieldValuesWhenHidden:!0===e?.preserveFieldValuesWhenHidden})}async _startExpressions(){if(0!==
this._expressionExecutorsInUse.size){var a=Array.from(this._expressionExecutorsInUse);this._createExpressionsManager(a);await this._expressionsManager.evaluateAll().finally(()=>this._afterExpressionsEvaluated())}}_stopExpressions(){this._expressionsManager=C.destroyMaybe(this._expressionsManager);this._expressionExecutorsInUse.clear()}_useExecutor(a){this._expressionExecutorsInUse.add(a);return a}_afterValueChange(a){const {name:b,value:d}=a,{_featureClone:c,formTemplate:e,layer:f}=this;if(f){var g=
c.getAttribute(b);c.setAttribute(b,d);var {typeFieldName:h,types:k}=r.getNormalizedFeatureTypeInfo(f);if((a.isSubtypeField||b===h)&&d!==g){"subtype-sublayer"===f.type&&(g=f.parent?.findSublayerForFeature(c),c.sourceLayer=this.feature.sourceLayer=g);g=new Set;for(var p of k)if(p.domains&&"object"===typeof p.domains)for(const q of Object.keys(p.domains))g.add(q);for(const q of g)(p=this.findField(q))&&p.notifyChange("domain");this.notifyChange("joinedContingentValues")}if(null!=e){const {description:q,
title:t}=e;t&&D.templateHasKey(t,b)&&this.notifyChange("formTitle");q&&D.templateHasKey(q,b)&&this.notifyChange("formDescription")}this._emitChangeEvent(a)}}_afterExpressionsEvaluated(){const {_featureClone:a}=this;for(const b of this.allFieldInputs)b.value!==a.getAttribute(b.name)&&this._afterValueChange(b)}_joinContingentValues(){var a=this._contingentValuesCache;if(null==a)return[];var {typeFieldName:b}=r.getNormalizedFeatureTypeInfo(this.layer);b=b?this.getValue(b):null;const d=[];for(var c of a.fieldGroups){const {contingencies:h,
fields:k,name:p}=c;a=[];for(var e of h)e.isRetired||(null==e.subtype||e.subtype.code===b)&&a.push({values:e.values});0<a.length&&d.push({name:p,fields:k,contingencies:a})}const [f,g]=this._generateJoinPlan(d);c=f.flatMap(h=>this._joinFieldGroupContingencies(h));e=g.flatMap(h=>h.contingencies);return[...c,...e]}_generateJoinPlan(a){var b=new Map,d=[],c=new Set;for(var e of a)for(const k of e.fields)if(b.has(k)){const p=b.get(k),q=e,t=[p.name,q.name].sort().join("|");c.has(t)||(d.push([p,q]),c.add(t),
b.set(k,q))}else b.set(k,e);b=new Set(d.flat());a=new Set(a);for(var f of b)a.delete(f);f=new Map;b=new Map;for(var g of new Set(d.flat()))c=Symbol(g.name),f.set(c,new Set([g])),b.set(g,c);for(const [k,p]of d)if(d=b.get(k),g=b.get(p),d!==g){c=f.get(d);e=f.get(g);for(var h of e)c.add(h),b.set(h,d);f.delete(g)}h=[...f.values()].map(k=>[...k]);d=[...a];return[h,d]}_joinFieldGroupContingencies(a){const b=a.slice();var d=b.shift(),c=b.shift();a=this._generateJoinKey(d.fields,c.fields);let e=new Set([...d.fields,
...c.fields]),f=new Map;for(var g of d.contingencies)[d]=this._hashContingency(g,a.codedValueFields,!0),f.has(d)?f.get(d)?.push(g):f.set(d,[g]);for(;0<b.length;){g=new Map;d=b.shift();const p=this._generateJoinKey(e,d.fields);for(var h of c.contingencies){const [q,t]=this._hashContingency(h,a.codedValueFields);c=t?this._findMatchingContingenciesWithAnyHashMask(f,q):f.get(q);f.has("#JSAPI_CONTINGENT_VALUE_ANY_HASH")&&c?.push(...this._findMatchingContingenciesContainingAny(h,f.get("#JSAPI_CONTINGENT_VALUE_ANY_HASH"),
a.codedValueFields));if(null!=c)for(var k of c){c=0<a.rangeFields.length?this._joinContingenciesWithRangeDomains(k,h,a.rangeFields):this._joinContingencies(k,h);if(null==c)break;const [u]=this._hashContingency(c,p.codedValueFields,!0);g.has(u)?g.get(u)?.push(c):g.set(u,[c])}}f=g;c=d;a=p;e=new Set([...e,...c.fields])}h=[];for(const p of c.contingencies){const [q,t]=this._hashContingency(p,a.codedValueFields);k=t?this._findMatchingContingenciesWithAnyHashMask(f,q):f.get(q);f.has("#JSAPI_CONTINGENT_VALUE_ANY_HASH")&&
k.push(...this._findMatchingContingenciesContainingAny(p,f.get("#JSAPI_CONTINGENT_VALUE_ANY_HASH"),a.codedValueFields));if(null!=k)for(const u of k)k=0<a.rangeFields.length?this._joinContingenciesWithRangeDomains(u,p,a.rangeFields):this._joinContingencies(u,p),null!=k&&h.push(k)}return h}_joinContingencies(a,b){b={values:{...a.values,...b.values}};for(const [d,c]of Object.entries(b.values))"any"===c.objectType&&null!=a.values[d]&&(b.values[d]=a.values[d]);return b}_joinContingenciesWithRangeDomains(a,
b,d){const c=this._joinContingencies(a,b);for(const f of d){var e=a.values[f];const g=b.values[f],{leftIsNull:h,rightIsNull:k,bothAreNull:p,leftIsAny:q,rightIsAny:t,bothAreAny:u,leftIsRange:A,rightIsRange:B}=this._compareObjectTypes(e.objectType,g.objectType);if(!p&&!u)if(h&&t||k&&q)c.values[f]=new E({objectType:"null"});else{if(h&&B||k&&A)return null;q?(e.minValue=-Infinity,e.maxValue=Infinity):t&&(g.minValue=-Infinity,g.maxValue=Infinity);d=Math.max(e.minValue,g.minValue);e=Math.min(e.maxValue,
g.maxValue);if(d>e)return null;c.values[f]=new E({objectType:"range",minValue:d,maxValue:e})}}return c}_findMatchingContingenciesContainingAny(a,b,d){return b.filter(c=>d.every(e=>{const f=c.values[e];e=a.values[e];return"any"===f.objectType||"any"===e.objectType||f.codedValue?.code===e.codedValue?.code}))}_findMatchingContingenciesWithAnyHashMask(a,b){b=RegExp(`${b}$`);const d=[];for(const [c,e]of a){if("#JSAPI_CONTINGENT_VALUE_ANY_HASH"===c)break;b.test(c)&&d.push(...e)}return d}_generateJoinKey(a,
b){a=Array.isArray(a)?new Set(a):a;var d=Array.isArray(b)?new Set(b):b;b=a.size<d.size?a:d;a=b===a?d:a;d=new Set;const c=new Set;for(const e of b)if(a.has(e)&&(b=this.layer?.getFieldDomain(e,{feature:this.feature}),null!=b))switch(b.type){case "coded-value":d.add(e);break;case "range":c.add(e)}return{codedValueFields:[...d],rangeFields:[...c]}}_contingencyIsValid(a,b){const d={};for(const {name:c,value:e}of this.allFieldInputs)this.fieldsWithContingentValues.has(c)&&null!=e&&c!==a&&(d[c]=e);return Object.entries(d).every(([c,
e])=>!b.values.hasOwnProperty(c)||r.valueIsValidContingentValue(e,b.values[c]))}_getContingentValueOptionsForField(a,b){var d=this.joinedContingentValues.slice();const c=new Map;b={code:"",name:b??"No value"};for(const e of d)if(d=e.values[a],"code"===d?.objectType||"null"===d?.objectType){const {code:f,name:g}=d.codedValue&&"null"!==d.objectType?d.codedValue:b;!c.has(f)&&this._contingencyIsValid(a,e)&&c.set(f,{name:g,value:f})}return[...c.values()]}_hashContingency(a,b,d=!1){if(1>b.length)return["#JSAPI_CONTINGENT_VALUE_EMPTY_HASH",
!1];const c=[];let e=!1;for(const f of b)if(b=a.values[f],"any"===b.objectType){if(d)return["#JSAPI_CONTINGENT_VALUE_ANY_HASH",!0];e=!0;c.push(`${f}:.*`)}else"null"===b.objectType?c.push(`${f}:${"#JSAPI_CONTINGENT_VALUE_NULL_HASH"}`):c.push(`${f}:${b.codedValue?.code}`);return[c.sort().join("\x26"),e]}_compareObjectTypes(a,b){return{leftIsNull:"null"===a,rightIsNull:"null"===b,bothAreNull:"null"===a&&"null"===b,leftIsAny:"any"===a,rightIsAny:"any"===b,bothAreAny:"any"===a&&"any"===b,leftIsRange:"range"===
a,rightIsRange:"range"===b}}};m.__decorate([n.property()],l.prototype,"_expressionInfosLookup",null);m.__decorate([n.property()],l.prototype,"_featureClone",void 0);m.__decorate([n.property()],l.prototype,"_timeZone",void 0);m.__decorate([n.property()],l.prototype,"activeRelationshipInput",null);m.__decorate([n.property()],l.prototype,"_arcadeContextInfo",null);m.__decorate([n.property()],l.prototype,"allFieldInputs",null);m.__decorate([n.property()],l.prototype,"allGroupInputs",null);m.__decorate([n.property()],
l.prototype,"allRelationshipInputs",null);m.__decorate([n.property()],l.prototype,"_layerFieldsByName",null);m.__decorate([n.property()],l.prototype,"arcadeEditType",void 0);m.__decorate([n.property()],l.prototype,"contingencyConstraintViolations",void 0);m.__decorate([n.property()],l.prototype,"disabled",void 0);m.__decorate([n.property()],l.prototype,"feature",null);m.__decorate([n.property()],l.prototype,"fieldsWithContingentValues",null);m.__decorate([n.property({type:M})],l.prototype,"formTemplate",
null);m.__decorate([n.property()],l.prototype,"formDescription",null);m.__decorate([n.property()],l.prototype,"formTitle",null);m.__decorate([n.property()],l.prototype,"formHeaderVisible",null);m.__decorate([n.property()],l.prototype,"highlightHelper",void 0);m.__decorate([n.property()],l.prototype,"inputs",void 0);m.__decorate([n.property()],l.prototype,"joinedContingentValues",null);m.__decorate([n.property()],l.prototype,"layer",null);m.__decorate([n.property()],l.prototype,"map",void 0);m.__decorate([n.property()],
l.prototype,"relatedRecordCallbacks",void 0);m.__decorate([n.property()],l.prototype,"relationshipId",null);m.__decorate([n.property()],l.prototype,"spatialReference",null);m.__decorate([n.property()],l.prototype,"state",null);m.__decorate([n.property()],l.prototype,"strict",void 0);m.__decorate([n.property()],l.prototype,"submittable",null);m.__decorate([n.property()],l.prototype,"timeZone",null);m.__decorate([n.property()],l.prototype,"updating",null);m.__decorate([n.property()],l.prototype,"valid",
null);m.__decorate([n.property()],l.prototype,"hasPendingSubtypeChoice",void 0);m.__decorate([n.property()],l.prototype,"getValues",null);m.__decorate([n.property()],l.prototype,"submit",null);return l=m.__decorate([K.subclass("esri.widgets.FeatureForm.FeatureFormViewModel")],l)});