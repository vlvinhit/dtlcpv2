// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("require ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Widget ../chunks/componentsUtils ./support/globalCss ./support/widgetUtils ./support/decorators/messageBundle ./support/decorators/vmEvent ./support/jsxFactory ./Track/TrackViewModel".split(" "),function(l,c,d,b,y,z,q,r,t,m,A,u,v,k,n){b=class extends r{constructor(a,e){super(a,e);this.messages=null;this.viewModel=new n;this._toggleTracking=
()=>{const f=this.viewModel;f&&"feature-unsupported"!==f.state&&"disabled"!==f.state&&("tracking"===f.state||"waiting"===f.state?this.viewModel.stop():this.viewModel.start())}}loadDependencies(){return t.loadCalciteComponents({button:()=>new Promise((a,e)=>l(["../chunks/calcite-button"],a,e)),tooltip:()=>new Promise((a,e)=>l(["../chunks/calcite-tooltip"],a,e))})}get geolocationOptions(){return this.viewModel.geolocationOptions}set geolocationOptions(a){this.viewModel.geolocationOptions=a}get goToLocationEnabled(){return this.viewModel.goToLocationEnabled}set goToLocationEnabled(a){this.viewModel.goToLocationEnabled=
a}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(a){this.viewModel.goToOverride=a}get graphic(){return this.viewModel.graphic}set graphic(a){this.viewModel.graphic=a}get icon(){return"compass-north-circle"}set icon(a){this._overrideIfSome("icon",a)}get label(){return this.messages?.widgetLabel??""}set label(a){this._overrideIfSome("label",a)}get rotationEnabled(){return this.viewModel.rotationEnabled}set rotationEnabled(a){this.viewModel.rotationEnabled=a}get scale(){return this.viewModel.scale}set scale(a){this.viewModel.scale=
a}get tracking(){return this.viewModel.tracking}get view(){return this.viewModel.view}set view(a){this.viewModel.view=a}start(){this.viewModel.start()}stop(){this.viewModel.stop()}render(){const {viewModel:a,messages:e,icon:f}=this,g=a?.state;var h="tracking"===g;const p=this._localizeError(this.viewModel?.error);h=(h?e?.stopTracking:e?.startTracking)??"";const w="feature-unsupported"===g,x=("tracking"===g?"pause":void 0)??f;return k.tsx("div",{class:this.classes("esri-track",m.globalCss.widget)},
!w&&k.tsx("calcite-button",{class:m.globalCss.widgetButton,disabled:"disabled"===g,iconStart:x,kind:"neutral",label:h,loading:"waiting"===g,onclick:this._toggleTracking,title:h}),p?k.tsx("calcite-tooltip",{open:!0,overlayPositioning:"fixed",referenceElement:this.container},p):null)}_localizeError(a){if(a instanceof GeolocationPositionError)return a.code===GeolocationPositionError.PERMISSION_DENIED?this.messages?.permissionError:a.code===GeolocationPositionError.TIMEOUT?this.messages?.timeoutError:
this.messages?.positionUnavailable;if(a instanceof Error)return a.message}};c.__decorate([d.property()],b.prototype,"geolocationOptions",null);c.__decorate([d.property()],b.prototype,"goToLocationEnabled",null);c.__decorate([d.property()],b.prototype,"goToOverride",null);c.__decorate([d.property()],b.prototype,"graphic",null);c.__decorate([d.property()],b.prototype,"icon",null);c.__decorate([d.property()],b.prototype,"label",null);c.__decorate([d.property(),u.messageBundle("esri/widgets/Track/t9n/Track")],
b.prototype,"messages",void 0);c.__decorate([d.property()],b.prototype,"rotationEnabled",null);c.__decorate([d.property()],b.prototype,"scale",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"tracking",null);c.__decorate([d.property()],b.prototype,"view",null);c.__decorate([d.property({type:n}),v.vmEvent(["track","track-error"])],b.prototype,"viewModel",void 0);return b=c.__decorate([q.subclass("esri.widgets.Track")],b)});