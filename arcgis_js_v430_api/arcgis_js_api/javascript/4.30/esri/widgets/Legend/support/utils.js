// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
define("require exports ../../../symbols ../../../core/timeUtils ../../../layers/support/fieldUtils ../../../renderers/support/numberUtils ../../../smartMapping/support/utils ../../../symbols/SimpleLineSymbol".split(" "),function(l,f,u,m,n,p,h,q){async function k(a){if(!("visualVariables"in a&&a.visualVariables))return null;a=a.visualVariables.find(c=>"color"===c.type);if(!a)return null;var b=null,d=null;if(a.stops){if(1===a.stops.length)return a.stops[0].color;b=a.stops[0].value;d=a.stops[a.stops.length-
1].value}b=null!=b&&null!=d?b+(d-b)/2:0;({getColor:d}=await new Promise((c,e)=>l(["../../../renderers/visualVariables/support/visualVariableUtils"],c,e)));return d(a,b)??null}function r(a,b){if(!b.field)return null;if("featureReduction"in a)switch(a.featureReduction?.type){case "cluster":case "binning":const d=a.featureReduction.fields.find(({name:c})=>c.toLowerCase()===b.field.toLowerCase());return d&&"getField"in a?a.getField(d.onStatisticField):null}return"getField"in a?a.getField?.(b.field):null}
function t(a,b){a="popupTemplate"in a?a.popupTemplate?.fieldInfos:null;if(a?.length&&b)return a.find(d=>d.fieldName?.toLowerCase()===b.toLowerCase())?.format?.dateFormat}f.createStopLabel=function(a,b,d,c){let e="";0===b?e="\x3c ":b===d&&(e="\x3e ");a=c?h.formatAnyDate(a,c):p.format(a);return e+a};f.getDateFormatOptions=function(a,b,d){const c=r(a,b);if(!c||!h.isAnyDateField(c)&&!n.isTimeOnlyField(c))return null;var e=t(a,c.name);if(!e&&"date"===c.type){let g=e=0;b.stops?(e=b.stops?.at(0)?.value??
e,g=b.stops?.at(-1)?.value??g):"minDataValue"in b&&"maxDataValue"in b&&(e=b.minDataValue??e,g=b.maxDataValue??g);e=g-e>2*m.millisecondsPerTimeUnit.days?"short-date":"short-date-short-time"}return{fieldType:c.type,format:e,timeZoneOptions:{layerTimeZone:"preferredTimeZone"in a?a.preferredTimeZone:null,viewTimeZone:d,datesInUnknownTimezone:"datesInUnknownTimezone"in a&&a.datesInUnknownTimezone}}};f.getMedianColor=k;f.getReferenceSizeAuthoringInfoVisualVariable=function(a){if("authoringInfo"in a)return a.authoringInfo?.visualVariables?.find(({theme:b})=>
"reference-size"===b)};f.getSymbolForFlowRenderer=async function(a,b){const d=a.trailCap,c=a.trailWidth||1;a=b||await k(a)||a.color;return new q({cap:d,color:a,width:c})};f.isRasterBandStatistics=function(a){return null!=a&&"object"===typeof a&&"min"in a&&"max"in a};f.rgbImgSource=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII\x3d","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII\x3d",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII\x3d"];f.specialCharsGreaterThan="\x3e";f.specialCharsLessThan="\x3c";Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});