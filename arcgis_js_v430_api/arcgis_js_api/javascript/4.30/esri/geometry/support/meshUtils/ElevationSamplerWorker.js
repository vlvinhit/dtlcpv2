// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/rbush/PooledRBush":function(){define(["exports","../../arrayUtils","../../has","../../PooledArray","../../../chunks/quickselect"],function(f,W,E,h,q){function w(u,C){for(ea.clear();u;){if(!0===u.leaf)for(const S of u.children)C(S);else ea.pushArray(u.children);u=ea.pop()??null}}function M(u,C){z(u,0,u.children.length,C,u)}function z(u,C,S,N,x){x||=new na([]);x.minX=Infinity;x.minY=Infinity;x.maxX=-Infinity;x.maxY=-Infinity;for(let p=C,r;p<S;p++)r=u.children[p],T(x,
u.leaf?N(r):r);return x}function T(u,C){u.minX=Math.min(u.minX,C.minX);u.minY=Math.min(u.minY,C.minY);u.maxX=Math.max(u.maxX,C.maxX);u.maxY=Math.max(u.maxY,C.maxY)}function Z(u,C){return u.minX-C.minX}function y(u,C){return u.minY-C.minY}function J(u){return(u.maxX-u.minX)*(u.maxY-u.minY)}function D(u){return u.maxX-u.minX+(u.maxY-u.minY)}function I(u,C){return u.minX<=C.minX&&u.minY<=C.minY&&C.maxX<=u.maxX&&C.maxY<=u.maxY}function R(u,C){return C.minX<=u.maxX&&C.minY<=u.maxY&&C.maxX>=u.minX&&C.maxY>=
u.minY}function A(u,C,S,N,x){for(C=[C,S];C.length;){S=C.pop();const p=C.pop();if(S-p<=N)continue;const r=p+Math.ceil((S-p)/N/2)*N;q.quickselect(u,r,p,S,x);C.push(p,r,r,S)}}class U{constructor(u=9,C){this._compareMinX=Z;this._compareMinY=y;this._toBBox=S=>S;this._maxEntries=Math.max(4,u||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));C&&("function"===typeof C?this._toBBox=C:this._initFormat(C));this.clear()}destroy(){this.clear();ba.prune();ea.prune();ca.prune();ha.prune()}all(u){w(this._data,
u)}search(u,C){let S=this._data;const N=this._toBBox;if(R(u,S))for(ba.clear();S;){for(let x=0,p=S.children.length;x<p;x++){const r=S.children[x],G=S.leaf?N(r):r;R(u,G)&&(S.leaf?C(r):I(u,G)?w(r,C):ba.push(r))}S=ba.pop()}}collides(u){let C=this._data;const S=this._toBBox;if(!R(u,C))return!1;for(ba.clear();C;){for(let N=0,x=C.children.length;N<x;N++){const p=C.children[N],r=C.leaf?S(p):p;if(R(u,r)){if(C.leaf||I(u,r))return!0;ba.push(p)}}C=ba.pop()}return!1}load(u){if(!u.length)return this;if(u.length<
this._minEntries){for(let C=0,S=u.length;C<S;C++)this.insert(u[C]);return this}u=this._build(u.slice(0,u.length),0,u.length-1,0);if(this._data.children.length)if(this._data.height===u.height)this._splitRoot(this._data,u);else{if(this._data.height<u.height){const C=this._data;this._data=u;u=C}this._insert(u,this._data.height-u.height-1,!0)}else this._data=u;return this}insert(u){u&&this._insert(u,this._data.height-1);return this}clear(){this._data=new na([]);return this}remove(u){if(!u)return this;
let C=this._data,S=null,N=0,x=!1,p;const r=this._toBBox(u);ca.clear();for(ha.clear();C||0<ca.length;){C||(C=ca.pop(),S=ca.data[ca.length-1],N=ha.pop()??0,x=!0);if(C.leaf&&(p=W.indexOf(C.children,u,C.children.length,C.indexHint),-1!==p)){C.children.splice(p,1);ca.push(C);this._condense(ca);break}x||C.leaf||!I(C,r)?S?(N++,C=S.children[N],x=!1):C=null:(ca.push(C),ha.push(N),N=0,S=C,C=C.children[0])}return this}toJSON(){return this._data}fromJSON(u){this._data=u;return this}_build(u,C,S,N){var x=S-C+
1,p=this._maxEntries;if(x<=p)return u=new na(u.slice(C,S+1)),M(u,this._toBBox),u;N||(N=Math.ceil(Math.log(x)/Math.log(p)),p=Math.ceil(x/p**(N-1)));const r=new ja([]);r.height=N;x=Math.ceil(x/p);p=x*Math.ceil(Math.sqrt(p));for(A(u,C,S,p,this._compareMinX);C<=S;C+=p){const G=Math.min(C+p-1,S);A(u,C,G,x,this._compareMinY);for(let c=C;c<=G;c+=x)r.children.push(this._build(u,c,Math.min(c+x-1,G),N-1))}M(r,this._toBBox);return r}_insert(u,C,S){var N=this._toBBox;S=S?u:N(u);ca.clear();N=this._data;for(var x=
C,p=ca;;){p.push(N);if(!0===N.leaf||p.length-1===x)break;let r=Infinity,G=Infinity,c=void 0;for(let d=0,t=N.children.length;d<t;d++){const P=N.children[d],k=J(P),n=(Math.max(P.maxX,S.maxX)-Math.min(P.minX,S.minX))*(Math.max(P.maxY,S.maxY)-Math.min(P.minY,S.minY))-k;n<G?(G=n,r=k<r?k:r,c=P):n===G&&k<r&&(r=k,c=P)}N=c||N.children[0]}N.children.push(u);for(T(N,S);0<=C;)if(ca.data[C].children.length>this._maxEntries)this._split(ca,C),C--;else break;for(u=ca;0<=C;C--)T(u.data[C],S)}_split(u,C){const S=u.data[C];
var N=S.children.length;const x=this._minEntries;this._chooseSplitAxis(S,x,N);if(N=this._chooseSplitIndex(S,x,N))N=S.children.splice(N,S.children.length-N),N=S.leaf?new na(N):new ja(N),N.height=S.height,M(S,this._toBBox),M(N,this._toBBox),C?u.data[C-1].children.push(N):this._splitRoot(S,N)}_splitRoot(u,C){this._data=new ja([u,C]);this._data.height=u.height+1;M(this._data,this._toBBox)}_chooseSplitIndex(u,C,S){let N,x,p=void 0;N=x=Infinity;for(let G=C;G<=S-C;G++){var r=z(u,0,G,this._toBBox);const c=
z(u,G,S,this._toBBox),d=Math.max(0,Math.min(r.maxX,c.maxX)-Math.max(r.minX,c.minX))*Math.max(0,Math.min(r.maxY,c.maxY)-Math.max(r.minY,c.minY));r=J(r)+J(c);d<N?(N=d,p=G,x=r<x?r:x):d===N&&r<x&&(x=r,p=G)}return p}_chooseSplitAxis(u,C,S){const N=u.leaf?this._compareMinX:Z,x=u.leaf?this._compareMinY:y,p=this._allDistMargin(u,C,S,N);C=this._allDistMargin(u,C,S,x);p<C&&u.children.sort(N)}_allDistMargin(u,C,S,N){u.children.sort(N);N=this._toBBox;var x=z(u,0,C,N);const p=z(u,S-C,S,N);let r=D(x)+D(p);for(let G=
C;G<S-C;G++){const c=u.children[G];T(x,u.leaf?N(c):c);r+=D(x)}for(S=S-C-1;S>=C;S--)x=u.children[S],T(p,u.leaf?N(x):x),r+=D(p);return r}_condense(u){for(let C=u.length-1;0<=C;C--){const S=u.data[C];if(0===S.children.length)if(0<C){const N=u.data[C-1],x=N.children;x.splice(W.indexOf(x,S,x.length,N.indexHint),1)}else this.clear();else M(S,this._toBBox)}}_initFormat(u){const C=["return a"," - b",";"];this._compareMinX=new Function("a","b",C.join(u[0]));this._compareMinY=new Function("a","b",C.join(u[1]));
this._toBBox=new Function("a","return {minX: a"+u[0]+", minY: a"+u[1]+", maxX: a"+u[2]+", maxY: a"+u[3]+"};")}}const ba=new h,ea=new h,ca=new h,ha=new h({deallocator:void 0});class la{constructor(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity}}class qa extends la{constructor(){super(...arguments);this.height=1;this.indexHint=new W.PositionHint}}class na extends qa{constructor(u){super();this.children=u;this.leaf=!0}}class ja extends qa{constructor(u){super();this.children=u;this.leaf=
!1}}f.BBox=la;f.PooledRBush=U;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/quickselect":function(){define(["exports","./_commonjsHelpers"],function(f,W){var E={exports:{}};(function(h){(function(q){q=q();void 0!==q&&(h.exports=q)})(function(){function q(z,T,Z,y,J){for(;y>Z;){if(600<y-Z){var D=y-Z+1,I=T-Z+1,R=Math.log(D),A=.5*Math.exp(2*R/3);R=.5*Math.sqrt(R*A*(D-A)/D)*(0>I-D/2?-1:1);q(z,T,Math.max(Z,Math.floor(T-I*A/D+R)),Math.min(y,Math.floor(T+(D-I)*A/D+R)),J)}D=
z[T];I=Z;A=y;w(z,Z,T);for(0<J(z[y],D)&&w(z,Z,y);I<A;){w(z,I,A);I++;for(A--;0>J(z[I],D);)I++;for(;0<J(z[A],D);)A--}0===J(z[Z],D)?w(z,Z,A):(A++,w(z,A,y));A<=T&&(Z=A+1);T<=A&&(y=A-1)}}function w(z,T,Z){var y=z[T];z[T]=z[Z];z[Z]=y}function M(z,T){return z<T?-1:z>T?1:0}return function(z,T,Z,y,J){q(z,T,Z||0,y||z.length-1,J||M)}})})(E);W=W.getDefaultExportFromCjs(E.exports);f.quickselect=W})},"esri/geometry/support/MeshGeoreferencedVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(f,W,E,h,q,w,M,z,T){W=class extends W.ClonableMixin(E.JSONSupport){constructor(Z){super(Z);this.type="georeferenced";this.origin=null}};f.__decorate([z.enumeration({georeferenced:"georeferenced"},{readOnly:!0})],W.prototype,"type",void 0);f.__decorate([h.property({type:[Number],nonNullable:!1,json:{write:!0}})],W.prototype,"origin",void 0);return W=f.__decorate([T.subclass("esri.geometry.support.MeshGeoreferencedVertexSpace")],W)})},"esri/core/Clonable":function(){define("exports ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(f,W,E,h,q,w,M,z,T,Z){h=y=>{y=class extends y{clone(){var J=T.getProperties(this);M.assertIsSome(J,"unable to clone instance of non-accessor class");var D=J.metadata;const I=J.store,R={};J=new Map;for(var A in D){var U=D[A];const ba=I?.originOf(A),ea=U.clonable;if(U.readOnly||!1===ea||ba!==z.OriginId.USER&&ba!==z.OriginId.DEFAULTS&&ba!==z.OriginId.WEB_MAP&&ba!==z.OriginId.WEB_SCENE)continue;U=this[A];let ca=null;ca="function"===typeof ea?ea(U):"reference"===ea?U:q.tryClone(U);if(null==U||
null!=ca)ba===z.OriginId.DEFAULTS?J.set(A,ca):R[A]=ca}D=new (Object.getPrototypeOf(this).constructor)(R);if(J.size&&(A=T.getProperties(D)?.store))for(const [ba,ea]of J)A.set(ba,ea,z.OriginId.DEFAULTS);return D}};return y=W.__decorate([Z.subclass("esri.core.Clonable")],y)};f.Clonable=class extends h(E){};f.Clonable=W.__decorate([Z.subclass("esri.core.Clonable")],f.Clonable);f.ClonableMixin=h;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(f,W,E){f.enumeration=function(h,q={}){h=h instanceof W.JSONMap?h:new W.JSONMap(h,q);h={type:q?.ignoreUnknown??!0?h.apiValues:String,json:{type:h.jsonValues,read:q?.readOnly?!1:{reader:h.read},write:{writer:h.write}}};void 0!==q?.readOnly&&(h.readOnly=!!q.readOnly);void 0!==q?.default&&(h.json.default=q.default);void 0!==q?.name&&(h.json.name=q.name);void 0!==q?.nonNullable&&(h.nonNullable=q.nonNullable);return E.property(h)};Object.defineProperty(f,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/meshUtils/vertexSpaceConversion":function(){define("exports ../../../core/Logger ../../../core/mathUtils ../../../core/unitUtils ../../../core/libs/gl-matrix-2/math/mat3 ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/math/mat4 ../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../spatialReferenceEllipsoidUtils ../../projection/computeTranslationToOriginAndRotation ../../projection/projectPointToVector ../meshVertexSpaceUtils ../../../chunks/vec3 ./projection".split(" "),
function(f,W,E,h,q,w,M,z,T,Z,y,J,D,I,R,A){function U({vertexAttributes:p,transform:r,spatialReference:G},{origin:c},d,t){const {position:P,normal:k,tangent:n}=r?ha(p,r.localMatrix):p,v=new Float64Array(P.length);r=P;c&&(r=R.translate(v,r,c));d&&(c=T.negate(S,d),r=R.translate(v,r,c));la(G,t,x.NONE);G=t?.allowBufferReuse;return{position:r!==p.position||G?r:r.slice(),normal:k!==p.normal||G?k:k?.slice(),tangent:n!==p.tangent||G?n:n?.slice()}}function ba({spatialReference:p,vertexAttributes:r,transform:G},
{origin:c},d,t){var P=y.getSphericalPCPF(p);if(!J.computeTranslationToOriginAndRotation(p,c,ja,P))return A.logProjectionError(na(),p,P),null;G&&M.multiply(ja,ja,G.localMatrix);G=ja;t=la(p,t,x.SOURCE);1!==t&&M.scale(G,G,[t,t,t]);t=new Float64Array(r.position.length);G=r.position;R.transformMat4(t,G,ja);G=new Float64Array(G.length);A.projectFromPCPF(t,G,p)||(A.logProjectionError(na(),y.getSphericalPCPF(p),p),G=null);if(!G)return null;c=r.normal;P=ja;if(null==c)c=null;else{var k=new Float32Array(c.length);
A.transformNormal(c,k,P);A.projectNormalFromPCPF(k,G,t,p,k)?c=k:(A.logProjectionError(na(),y.getSphericalPCPF(p),p),c=null)}if(r.normal&&!c)return null;P=r.tangent;k=ja;if(null==P)p=null;else{var n=new Float32Array(P.length);A.transformTangent(P,n,k);A.projectTangentFromPCPF(n,G,t,p,n)?p=n:(A.logProjectionError(na(),y.getSphericalPCPF(p),p),p=null)}if(r.tangent&&!p)return null;d&&(r=T.negate(S,d),R.translate(G,G,r));return{position:G,normal:c,tangent:p}}function ea({vertexAttributes:p,spatialReference:r,
transform:G},{origin:c},d,t){const P=y.getSphericalPCPF(r);if(!J.computeTranslationToOriginAndRotation(r,d,ja,P))return A.logProjectionError(na(),r,P),null;d=1/la(r,t,x.TARGET);M.scale(ja,ja,[d,d,d]);d=M.invert(u,ja);if(c)if(G)G=ha(p,G.localMatrix),R.translate(G.position,G.position,c),c=G;else{const {position:Y,normal:da,tangent:ka}=p;c={position:R.translate(new Float64Array(Y.length),Y,c),tangent:ka,normal:da}}else c=p;const {position:k,normal:n,tangent:v}=c;c=new Float64Array(k.length);(t=A.projectToPCPF(k,
r,c))?(G=new Float64Array(t.length),R.transformMat4(G,t,d)):(A.logProjectionError(na(),r,y.getSphericalPCPF(r)),G=null);if(!G)return null;d=q.normalFromMat4(C,d);null==n?t=null:(t=(n!==p.normal?n:void 0)??new Float32Array(n.length),A.projectNormalToPCPF(n,k,c,r,t)?R.transformMat3(t,t,d):(A.logProjectionError(na(),r,y.getSphericalPCPF(r)),t=null));if(!t&&n)return null;null==v?r=null:(p=(v!==p.tangent?v:void 0)??new Float32Array(v.length),A.projectTangentToPCPF(v,k,c,r,p)?(R.transformMat3(p,p,d,4),
r=p):(A.logProjectionError(na(),r,y.getSphericalPCPF(r)),r=null));return!r&&v?null:{position:G,normal:t,tangent:r}}function ca({vertexAttributes:p,spatialReference:r,transform:G},{origin:c},d,t){const P=y.getSphericalPCPF(r);if(!J.computeTranslationToOriginAndRotation(r,c,ja,P))return A.logProjectionError(na(),r,P),null;G&&M.multiply(ja,ja,G.localMatrix);if(!J.computeTranslationToOriginAndRotation(r,d,u,P))return A.logProjectionError(na(),P,r),null;M.invert(u,u);G=M.multiply(ja,u,ja);r=la(r,t,x.SOURCE|
x.TARGET);1!==r&&M.scale(G,G,[r,r,r]);return ha(p,G)}function ha(p,r){const G=new Float64Array(p.position.length);R.transformMat4(G,p.position,r);const c=p.normal?new Float32Array(p.normal.length):null,d=p.tangent?new Float32Array(p.tangent.length):null;c&&p.normal&&A.transformNormal(p.normal,c,r);d&&p.tangent&&A.transformTangent(p.tangent,d,r);return{position:G,normal:c,tangent:d}}function la(p,r,G){const c=!!(G&x.SOURCE);G=!!(G&x.TARGET);const d=r?.sourceUnit;r=r?.targetUnit;if(!d&&!r)return 1;
let t=qa(d,p);!c&&d&&1!==t&&(na().warn("source unit conversion not supported"),t=1);p=1/qa(r,p);!G&&r&&1!==p&&(na().warn("target unit conversion not supported"),p=1);return t*p}function qa(p,r){if(null==p)return 1;r=h.getMetersPerCartesianUnitForSR(r);return 1/h.convertUnit(r,"meters",p)}const na=()=>W.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion"),ja=z.create(),u=z.create(),C=w.create(),S=Z.create(),N=z.create();var x;(function(p){p[p.NONE=0]="NONE";p[p.SOURCE=1]="SOURCE";p[p.TARGET=
2]="TARGET"})(x||={});f.convertVertexSpace=function(p,r,G){const {vertexSpace:c,transform:d,vertexAttributes:t}=p,P=la(p.spatialReference,G,x.SOURCE|x.TARGET);if(I.vertexSpaceEquals(c,r)&&(!d||M.exactEquals(d.localMatrix,z.IDENTITY))&&E.floatEqualUlp(P,1)){const {position:k,normal:n,tangent:v}=t;p=G?.allowBufferReuse;return{position:p?k:k.slice(),normal:p?n:n?.slice(),tangent:p?v:v?.slice()}}switch(p.vertexSpace.type){case "local":return"local"===r.type?ca(p,p.vertexSpace,r.origin,G):ba(p,p.vertexSpace,
r.origin,G);case "georeferenced":return"local"===r.type?ea(p,p.vertexSpace,r.origin,G):U(p,p.vertexSpace,r.origin,G)}};f.getUnitToSpatialReferenceScaleConversion=qa;f.projectPointToVertexSpace=function(p,r,{vertexSpace:G,spatialReference:c}){if("georeferenced"===G.type){if(!D.projectPointToVector(r,p,c))return!1;({origin:c}=G);T.subtract(p,p,c);return!0}const d=y.getSphericalPCPF(c);if(!D.projectPointToVector(r,p,d))return!1;({origin:r}=G);if(!J.computeTranslationToOriginAndRotation(c,r,N,d))return!1;
c=M.invert(N,N);if(null==c)return!1;T.transformMat4(p,p,c);return!0};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["exports","./common"],function(f,W){function E(c,d){c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[4];c[4]=d[5];c[5]=d[6];c[6]=d[8];c[7]=d[9];c[8]=d[10];return c}function h(c,d){c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];return c}function q(c,d,t,P,k,n,v,Y,da,ka){c[0]=d;c[1]=
t;c[2]=P;c[3]=k;c[4]=n;c[5]=v;c[6]=Y;c[7]=da;c[8]=ka;return c}function w(c){c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=1;c[5]=0;c[6]=0;c[7]=0;c[8]=1;return c}function M(c,d){if(c===d){const t=d[1],P=d[2],k=d[5];c[1]=d[3];c[2]=d[6];c[3]=t;c[5]=d[7];c[6]=P;c[7]=k}else c[0]=d[0],c[1]=d[3],c[2]=d[6],c[3]=d[1],c[4]=d[4],c[5]=d[7],c[6]=d[2],c[7]=d[5],c[8]=d[8];return c}function z(c,d){const t=d[0],P=d[1],k=d[2],n=d[3],v=d[4],Y=d[5],da=d[6],ka=d[7];d=d[8];const e=d*v-Y*ka,l=-d*n+Y*da,X=ka*n-v*da;let Q=t*e+P*l+k*X;
if(!Q)return null;Q=1/Q;c[0]=e*Q;c[1]=(-d*P+k*ka)*Q;c[2]=(Y*P-k*v)*Q;c[3]=l*Q;c[4]=(d*t-k*da)*Q;c[5]=(-Y*t+k*n)*Q;c[6]=X*Q;c[7]=(-ka*t+P*da)*Q;c[8]=(v*t-P*n)*Q;return c}function T(c,d){const t=d[0],P=d[1],k=d[2],n=d[3],v=d[4],Y=d[5],da=d[6],ka=d[7];d=d[8];c[0]=v*d-Y*ka;c[1]=k*ka-P*d;c[2]=P*Y-k*v;c[3]=Y*da-n*d;c[4]=t*d-k*da;c[5]=k*n-t*Y;c[6]=n*ka-v*da;c[7]=P*da-t*ka;c[8]=t*v-P*n;return c}function Z(c){const d=c[3],t=c[4],P=c[5],k=c[6],n=c[7],v=c[8];return c[0]*(v*t-P*n)+c[1]*(-v*d+P*k)+c[2]*(n*d-t*
k)}function y(c,d,t){const P=d[0],k=d[1],n=d[2],v=d[3],Y=d[4],da=d[5],ka=d[6],e=d[7];d=d[8];const l=t[0],X=t[1],Q=t[2],ya=t[3],za=t[4],a=t[5],b=t[6],g=t[7];t=t[8];c[0]=l*P+X*v+Q*ka;c[1]=l*k+X*Y+Q*e;c[2]=l*n+X*da+Q*d;c[3]=ya*P+za*v+a*ka;c[4]=ya*k+za*Y+a*e;c[5]=ya*n+za*da+a*d;c[6]=b*P+g*v+t*ka;c[7]=b*k+g*Y+t*e;c[8]=b*n+g*da+t*d;return c}function J(c,d,t){const P=d[0],k=d[1],n=d[2],v=d[3],Y=d[4],da=d[5],ka=d[6],e=d[7];d=d[8];const l=t[0];t=t[1];c[0]=P;c[1]=k;c[2]=n;c[3]=v;c[4]=Y;c[5]=da;c[6]=l*P+t*v+
ka;c[7]=l*k+t*Y+e;c[8]=l*n+t*da+d;return c}function D(c,d,t){const P=d[0],k=d[1],n=d[2],v=d[3],Y=d[4],da=d[5],ka=d[6],e=d[7];d=d[8];const l=Math.sin(t);t=Math.cos(t);c[0]=t*P+l*v;c[1]=t*k+l*Y;c[2]=t*n+l*da;c[3]=t*v-l*P;c[4]=t*Y-l*k;c[5]=t*da-l*n;c[6]=ka;c[7]=e;c[8]=d;return c}function I(c,d,t){const P=t[0],k=t[1];t=t[2];c[0]=P*d[0];c[1]=P*d[1];c[2]=P*d[2];c[3]=k*d[3];c[4]=k*d[4];c[5]=k*d[5];c[6]=t*d[6];c[7]=t*d[7];c[8]=t*d[8];return c}function R(c,d,t){const P=t[0];t=t[1];c[0]=P*d[0];c[1]=P*d[1];
c[2]=P*d[2];c[3]=t*d[3];c[4]=t*d[4];c[5]=t*d[5];return c}function A(c,d){c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=1;c[5]=0;c[6]=d[0];c[7]=d[1];c[8]=1;return c}function U(c,d){const t=Math.sin(d);d=Math.cos(d);c[0]=d;c[1]=t;c[2]=0;c[3]=-t;c[4]=d;c[5]=0;c[6]=0;c[7]=0;c[8]=1;return c}function ba(c,d){c[0]=d[0];c[1]=0;c[2]=0;c[3]=0;c[4]=d[1];c[5]=0;c[6]=0;c[7]=0;c[8]=1;return c}function ea(c,d){c[0]=d[0];c[1]=d[1];c[2]=0;c[3]=d[2];c[4]=d[3];c[5]=0;c[6]=d[4];c[7]=d[5];c[8]=1;return c}function ca(c,d){var t=d[0],
P=d[1],k=d[2];d=d[3];var n=t+t,v=P+P;const Y=k+k;t*=n;const da=P*n;P*=v;const ka=k*n,e=k*v;k*=Y;n*=d;v*=d;d*=Y;c[0]=1-P-k;c[3]=da-d;c[6]=ka+v;c[1]=da+d;c[4]=1-t-k;c[7]=e-n;c[2]=ka-v;c[5]=e+n;c[8]=1-t-P;return c}function ha(c,d){const t=d[0],P=d[1],k=d[2],n=d[4],v=d[5],Y=d[6],da=d[8],ka=d[9];d=d[10];const e=d*v-Y*ka,l=-d*n+Y*da,X=ka*n-v*da;var Q=t*e+P*l+k*X;if(!Q)return null;Q=1/Q;c[0]=e*Q;c[1]=(-d*P+k*ka)*Q;c[2]=(Y*P-k*v)*Q;c[3]=l*Q;c[4]=(d*t-k*da)*Q;c[5]=(-Y*t+k*n)*Q;c[6]=X*Q;c[7]=(-ka*t+P*da)*Q;
c[8]=(v*t-P*n)*Q;return c}function la(c,d){const t=d[0],P=d[1],k=d[2],n=d[3],v=d[4],Y=d[5],da=d[6],ka=d[7];var e=d[8],l=d[9],X=d[10],Q=d[11];const ya=d[12],za=d[13],a=d[14];d=d[15];const b=t*Y-P*v,g=t*da-k*v,m=t*ka-n*v,B=P*da-k*Y,H=P*ka-n*Y,K=k*ka-n*da,O=e*za-l*ya,F=e*a-X*ya;e=e*d-Q*ya;const L=l*a-X*za;l=l*d-Q*za;X=X*d-Q*a;Q=b*X-g*l+m*L+B*e-H*F+K*O;if(!Q)return null;Q=1/Q;c[0]=(Y*X-da*l+ka*L)*Q;c[1]=(da*e-v*X-ka*F)*Q;c[2]=(v*l-Y*e+ka*O)*Q;c[3]=(k*l-P*X-n*L)*Q;c[4]=(t*X-k*e+n*F)*Q;c[5]=(P*e-t*l-n*
O)*Q;c[6]=(za*K-a*H+d*B)*Q;c[7]=(a*m-ya*K-d*g)*Q;c[8]=(ya*H-za*m+d*b)*Q;return c}function qa(c,d,t){c[0]=2/d;c[1]=0;c[2]=0;c[3]=0;c[4]=-2/t;c[5]=0;c[6]=-1;c[7]=1;c[8]=1;return c}function na(c){return"mat3("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+", "+c[6]+", "+c[7]+", "+c[8]+")"}function ja(c){return Math.sqrt(c[0]**2+c[1]**2+c[2]**2+c[3]**2+c[4]**2+c[5]**2+c[6]**2+c[7]**2+c[8]**2)}function u(c,d,t){c[0]=d[0]+t[0];c[1]=d[1]+t[1];c[2]=d[2]+t[2];c[3]=d[3]+t[3];c[4]=d[4]+t[4];c[5]=d[5]+
t[5];c[6]=d[6]+t[6];c[7]=d[7]+t[7];c[8]=d[8]+t[8];return c}function C(c,d,t){c[0]=d[0]-t[0];c[1]=d[1]-t[1];c[2]=d[2]-t[2];c[3]=d[3]-t[3];c[4]=d[4]-t[4];c[5]=d[5]-t[5];c[6]=d[6]-t[6];c[7]=d[7]-t[7];c[8]=d[8]-t[8];return c}function S(c,d,t){c[0]=d[0]*t;c[1]=d[1]*t;c[2]=d[2]*t;c[3]=d[3]*t;c[4]=d[4]*t;c[5]=d[5]*t;c[6]=d[6]*t;c[7]=d[7]*t;c[8]=d[8]*t;return c}function N(c,d,t,P){c[0]=d[0]+t[0]*P;c[1]=d[1]+t[1]*P;c[2]=d[2]+t[2]*P;c[3]=d[3]+t[3]*P;c[4]=d[4]+t[4]*P;c[5]=d[5]+t[5]*P;c[6]=d[6]+t[6]*P;c[7]=d[7]+
t[7]*P;c[8]=d[8]+t[8]*P;return c}function x(c,d){return c[0]===d[0]&&c[1]===d[1]&&c[2]===d[2]&&c[3]===d[3]&&c[4]===d[4]&&c[5]===d[5]&&c[6]===d[6]&&c[7]===d[7]&&c[8]===d[8]}function p(c,d){const t=c[0],P=c[1],k=c[2],n=c[3],v=c[4],Y=c[5],da=c[6],ka=c[7];c=c[8];const e=d[0],l=d[1],X=d[2],Q=d[3],ya=d[4],za=d[5],a=d[6],b=d[7];d=d[8];const g=W.getEpsilon();return Math.abs(t-e)<=g*Math.max(1,Math.abs(t),Math.abs(e))&&Math.abs(P-l)<=g*Math.max(1,Math.abs(P),Math.abs(l))&&Math.abs(k-X)<=g*Math.max(1,Math.abs(k),
Math.abs(X))&&Math.abs(n-Q)<=g*Math.max(1,Math.abs(n),Math.abs(Q))&&Math.abs(v-ya)<=g*Math.max(1,Math.abs(v),Math.abs(ya))&&Math.abs(Y-za)<=g*Math.max(1,Math.abs(Y),Math.abs(za))&&Math.abs(da-a)<=g*Math.max(1,Math.abs(da),Math.abs(a))&&Math.abs(ka-b)<=g*Math.max(1,Math.abs(ka),Math.abs(b))&&Math.abs(c-d)<=g*Math.max(1,Math.abs(c),Math.abs(d))}function r(c){const d=W.getEpsilon(),t=c[0],P=c[1],k=c[2],n=c[3],v=c[4],Y=c[5],da=c[6],ka=c[7];c=c[8];return Math.abs(1-(t*t+n*n+da*da))<=d&&Math.abs(1-(P*P+
v*v+ka*ka))<=d&&Math.abs(1-(k*k+Y*Y+c*c))<=d}const G=Object.freeze(Object.defineProperty({__proto__:null,add:u,adjoint:T,copy:h,determinant:Z,equals:p,exactEquals:x,frob:ja,fromMat2d:ea,fromMat4:E,fromQuat:ca,fromRotation:U,fromScaling:ba,fromTranslation:A,identity:w,invert:z,isOrthoNormal:r,mul:y,multiply:y,multiplyScalar:S,multiplyScalarAndAdd:N,normalFromMat4:la,normalFromMat4Legacy:ha,projection:qa,rotate:D,scale:I,scaleByVec2:R,set:q,str:na,sub:C,subtract:C,translate:J,transpose:M},Symbol.toStringTag,
{value:"Module"}));f.add=u;f.adjoint=T;f.copy=h;f.determinant=Z;f.equals=p;f.exactEquals=x;f.frob=ja;f.fromMat2d=ea;f.fromMat4=E;f.fromQuat=ca;f.fromRotation=U;f.fromScaling=ba;f.fromTranslation=A;f.identity=w;f.invert=z;f.isOrthoNormal=r;f.mat3=G;f.mul=y;f.multiply=y;f.multiplyScalar=S;f.multiplyScalarAndAdd=N;f.normalFromMat4=la;f.normalFromMat4Legacy=ha;f.projection=qa;f.rotate=D;f.scale=I;f.scaleByVec2=R;f.set=q;f.str=na;f.sub=C;f.subtract=C;f.translate=J;f.transpose=M;Object.defineProperty(f,
Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(f){function W(){return[1,0,0,0,1,0,0,0,1]}function E(z){return[z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],z[8]]}function h(z,T,Z,y,J,D,I,R,A){return[z,T,Z,y,J,D,I,R,A]}function q(z,T){return new Float64Array(z,T,9)}const w=W(),M=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:w,clone:E,create:W,createView:q,fromValues:h},Symbol.toStringTag,{value:"Module"}));f.IDENTITY=
w;f.clone=E;f.create=W;f.createView=q;f.fromValues=h;f.mat3f64=M;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(f,W,E){function h(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function q(a,b,g,m,B,H,K,O,F,L,V,aa,ia,fa,pa,oa,ma){a[0]=
b;a[1]=g;a[2]=m;a[3]=B;a[4]=H;a[5]=K;a[6]=O;a[7]=F;a[8]=L;a[9]=V;a[10]=aa;a[11]=ia;a[12]=fa;a[13]=pa;a[14]=oa;a[15]=ma;return a}function w(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function M(a,b){if(a===b){const g=b[1],m=b[2],B=b[3],H=b[6],K=b[7],O=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=g;a[6]=b[9];a[7]=b[13];a[8]=m;a[9]=H;a[11]=b[14];a[12]=B;a[13]=K;a[14]=O}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=
b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function z(a,b){T(a,b)||w(a);return a}function T(a,b){const g=b[0],m=b[1],B=b[2],H=b[3],K=b[4],O=b[5],F=b[6],L=b[7],V=b[8],aa=b[9],ia=b[10],fa=b[11],pa=b[12],oa=b[13],ma=b[14];b=b[15];const va=g*O-m*K,ra=g*F-B*K,sa=g*L-H*K,ta=m*F-B*O,ua=m*L-H*O,Aa=B*L-H*F,Ba=V*oa-aa*pa,Ca=V*ma-ia*pa,Da=V*b-fa*pa,Ea=aa*ma-ia*oa,Fa=aa*b-fa*oa,Ga=ia*b-fa*ma;let wa=va*Ga-ra*Fa+sa*Ea+ta*
Da-ua*Ca+Aa*Ba;if(!wa)return null;wa=1/wa;a[0]=(O*Ga-F*Fa+L*Ea)*wa;a[1]=(B*Fa-m*Ga-H*Ea)*wa;a[2]=(oa*Aa-ma*ua+b*ta)*wa;a[3]=(ia*ua-aa*Aa-fa*ta)*wa;a[4]=(F*Da-K*Ga-L*Ca)*wa;a[5]=(g*Ga-B*Da+H*Ca)*wa;a[6]=(ma*sa-pa*Aa-b*ra)*wa;a[7]=(V*Aa-ia*sa+fa*ra)*wa;a[8]=(K*Fa-O*Da+L*Ba)*wa;a[9]=(m*Da-g*Fa-H*Ba)*wa;a[10]=(pa*ua-oa*sa+b*va)*wa;a[11]=(aa*sa-V*ua-fa*va)*wa;a[12]=(O*Ca-K*Ea-F*Ba)*wa;a[13]=(g*Ea-m*Ca+B*Ba)*wa;a[14]=(oa*ra-pa*ta-ma*va)*wa;a[15]=(V*ta-aa*ra+ia*va)*wa;return a}function Z(a,b){const g=b[0],
m=b[1],B=b[2],H=b[3],K=b[4],O=b[5],F=b[6],L=b[7],V=b[8],aa=b[9],ia=b[10],fa=b[11],pa=b[12],oa=b[13],ma=b[14];b=b[15];a[0]=O*(ia*b-fa*ma)-aa*(F*b-L*ma)+oa*(F*fa-L*ia);a[1]=-(m*(ia*b-fa*ma)-aa*(B*b-H*ma)+oa*(B*fa-H*ia));a[2]=m*(F*b-L*ma)-O*(B*b-H*ma)+oa*(B*L-H*F);a[3]=-(m*(F*fa-L*ia)-O*(B*fa-H*ia)+aa*(B*L-H*F));a[4]=-(K*(ia*b-fa*ma)-V*(F*b-L*ma)+pa*(F*fa-L*ia));a[5]=g*(ia*b-fa*ma)-V*(B*b-H*ma)+pa*(B*fa-H*ia);a[6]=-(g*(F*b-L*ma)-K*(B*b-H*ma)+pa*(B*L-H*F));a[7]=g*(F*fa-L*ia)-K*(B*fa-H*ia)+V*(B*L-H*F);
a[8]=K*(aa*b-fa*oa)-V*(O*b-L*oa)+pa*(O*fa-L*aa);a[9]=-(g*(aa*b-fa*oa)-V*(m*b-H*oa)+pa*(m*fa-H*aa));a[10]=g*(O*b-L*oa)-K*(m*b-H*oa)+pa*(m*L-H*O);a[11]=-(g*(O*fa-L*aa)-K*(m*fa-H*aa)+V*(m*L-H*O));a[12]=-(K*(aa*ma-ia*oa)-V*(O*ma-F*oa)+pa*(O*ia-F*aa));a[13]=g*(aa*ma-ia*oa)-V*(m*ma-B*oa)+pa*(m*ia-B*aa);a[14]=-(g*(O*ma-F*oa)-K*(m*ma-B*oa)+pa*(m*F-B*O));a[15]=g*(O*ia-F*aa)-K*(m*ia-B*aa)+V*(m*F-B*O);return a}function y(a){const b=a[0],g=a[1],m=a[2],B=a[3],H=a[4],K=a[5],O=a[6],F=a[7],L=a[8],V=a[9],aa=a[10],
ia=a[11],fa=a[12],pa=a[13],oa=a[14];a=a[15];return(b*K-g*H)*(aa*a-ia*oa)-(b*O-m*H)*(V*a-ia*pa)+(b*F-B*H)*(V*oa-aa*pa)+(g*O-m*K)*(L*a-ia*fa)-(g*F-B*K)*(L*oa-aa*fa)+(m*F-B*O)*(L*pa-V*fa)}function J(a,b,g){const m=b[0],B=b[1],H=b[2],K=b[3],O=b[4],F=b[5],L=b[6],V=b[7],aa=b[8],ia=b[9],fa=b[10],pa=b[11],oa=b[12],ma=b[13],va=b[14];b=b[15];let ra=g[0],sa=g[1],ta=g[2],ua=g[3];a[0]=ra*m+sa*O+ta*aa+ua*oa;a[1]=ra*B+sa*F+ta*ia+ua*ma;a[2]=ra*H+sa*L+ta*fa+ua*va;a[3]=ra*K+sa*V+ta*pa+ua*b;ra=g[4];sa=g[5];ta=g[6];
ua=g[7];a[4]=ra*m+sa*O+ta*aa+ua*oa;a[5]=ra*B+sa*F+ta*ia+ua*ma;a[6]=ra*H+sa*L+ta*fa+ua*va;a[7]=ra*K+sa*V+ta*pa+ua*b;ra=g[8];sa=g[9];ta=g[10];ua=g[11];a[8]=ra*m+sa*O+ta*aa+ua*oa;a[9]=ra*B+sa*F+ta*ia+ua*ma;a[10]=ra*H+sa*L+ta*fa+ua*va;a[11]=ra*K+sa*V+ta*pa+ua*b;ra=g[12];sa=g[13];ta=g[14];ua=g[15];a[12]=ra*m+sa*O+ta*aa+ua*oa;a[13]=ra*B+sa*F+ta*ia+ua*ma;a[14]=ra*H+sa*L+ta*fa+ua*va;a[15]=ra*K+sa*V+ta*pa+ua*b;return a}function D(a,b,g){const m=g[0],B=g[1];g=g[2];if(b===a)a[12]=b[0]*m+b[4]*B+b[8]*g+b[12],
a[13]=b[1]*m+b[5]*B+b[9]*g+b[13],a[14]=b[2]*m+b[6]*B+b[10]*g+b[14],a[15]=b[3]*m+b[7]*B+b[11]*g+b[15];else{const H=b[0],K=b[1],O=b[2],F=b[3],L=b[4],V=b[5],aa=b[6],ia=b[7],fa=b[8],pa=b[9],oa=b[10],ma=b[11];a[0]=H;a[1]=K;a[2]=O;a[3]=F;a[4]=L;a[5]=V;a[6]=aa;a[7]=ia;a[8]=fa;a[9]=pa;a[10]=oa;a[11]=ma;a[12]=H*m+L*B+fa*g+b[12];a[13]=K*m+V*B+pa*g+b[13];a[14]=O*m+aa*B+oa*g+b[14];a[15]=F*m+ia*B+ma*g+b[15]}return a}function I(a,b,g){const m=g[0],B=g[1];g=g[2];a[0]=b[0]*m;a[1]=b[1]*m;a[2]=b[2]*m;a[3]=b[3]*m;a[4]=
b[4]*B;a[5]=b[5]*B;a[6]=b[6]*B;a[7]=b[7]*B;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*g;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function R(a,b,g,m){let B=m[0],H=m[1];m=m[2];let K=Math.sqrt(B*B+H*H+m*m);var O=void 0,F=void 0;let L=void 0,V=void 0,aa=void 0,ia=void 0,fa=void 0,pa=void 0,oa=void 0,ma=void 0,va=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0;F=O=void 0;if(K<E.getEpsilon())return null;K=1/K;B*=
K;H*=K;m*=K;O=Math.sin(g);F=Math.cos(g);L=1-F;V=b[0];aa=b[1];ia=b[2];fa=b[3];pa=b[4];oa=b[5];ma=b[6];va=b[7];ra=b[8];sa=b[9];ta=b[10];ua=b[11];Aa=B*B*L+F;Ba=H*B*L+m*O;Ca=m*B*L-H*O;Da=B*H*L-m*O;Ea=H*H*L+F;Fa=m*H*L+B*O;Ga=B*m*L+H*O;O=H*m*L-B*O;F=m*m*L+F;a[0]=V*Aa+pa*Ba+ra*Ca;a[1]=aa*Aa+oa*Ba+sa*Ca;a[2]=ia*Aa+ma*Ba+ta*Ca;a[3]=fa*Aa+va*Ba+ua*Ca;a[4]=V*Da+pa*Ea+ra*Fa;a[5]=aa*Da+oa*Ea+sa*Fa;a[6]=ia*Da+ma*Ea+ta*Fa;a[7]=fa*Da+va*Ea+ua*Fa;a[8]=V*Ga+pa*O+ra*F;a[9]=aa*Ga+oa*O+sa*F;a[10]=ia*Ga+ma*O+ta*F;a[11]=
fa*Ga+va*O+ua*F;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function A(a,b,g){const m=Math.sin(g);g=Math.cos(g);const B=b[4],H=b[5],K=b[6],O=b[7],F=b[8],L=b[9],V=b[10],aa=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=B*g+F*m;a[5]=H*g+L*m;a[6]=K*g+V*m;a[7]=O*g+aa*m;a[8]=F*g-B*m;a[9]=L*g-H*m;a[10]=V*g-K*m;a[11]=aa*g-O*m;return a}function U(a,b,g){const m=Math.sin(g);g=Math.cos(g);const B=b[0],H=b[1],K=b[2],O=b[3],F=
b[8],L=b[9],V=b[10],aa=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=B*g-F*m;a[1]=H*g-L*m;a[2]=K*g-V*m;a[3]=O*g-aa*m;a[8]=B*m+F*g;a[9]=H*m+L*g;a[10]=K*m+V*g;a[11]=O*m+aa*g;return a}function ba(a,b,g){const m=Math.sin(g);g=Math.cos(g);const B=b[0],H=b[1],K=b[2],O=b[3],F=b[4],L=b[5],V=b[6],aa=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=B*g+F*m;a[1]=H*g+L*m;a[2]=K*g+V*m;a[3]=
O*g+aa*m;a[4]=F*g-B*m;a[5]=L*g-H*m;a[6]=V*g-K*m;a[7]=aa*g-O*m;return a}function ea(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function ca(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ha(a,b,g){if(0===b)return w(a);let m=g[0],B=g[1];g=g[2];let H=Math.sqrt(m*m+B*B+g*g),K=void 0,O=void 0,F=void 0;if(H<
E.getEpsilon())return null;H=1/H;m*=H;B*=H;g*=H;K=Math.sin(b);O=Math.cos(b);F=1-O;a[0]=m*m*F+O;a[1]=B*m*F+g*K;a[2]=g*m*F-B*K;a[3]=0;a[4]=m*B*F-g*K;a[5]=B*B*F+O;a[6]=g*B*F+m*K;a[7]=0;a[8]=m*g*F+B*K;a[9]=B*g*F-m*K;a[10]=g*g*F+O;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function la(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=g;a[7]=0;a[8]=0;a[9]=-g;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function qa(a,b){const g=Math.sin(b);b=Math.cos(b);
a[0]=b;a[1]=0;a[2]=-g;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=g;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function na(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=g;a[2]=0;a[3]=0;a[4]=-g;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ja(a,b,g){var m=b[0],B=b[1],H=b[2],K=b[3],O=m+m,F=B+B;const L=H+H;b=m*O;const V=m*F;m*=L;const aa=B*F;B*=L;H*=L;O*=K;F*=K;K*=L;a[0]=1-(aa+H);a[1]=V+K;a[2]=m-F;a[3]=0;a[4]=V-K;a[5]=1-(b+
H);a[6]=B+O;a[7]=0;a[8]=m+F;a[9]=B-O;a[10]=1-(b+aa);a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function u(a,b){const g=za,m=-b[0],B=-b[1],H=-b[2],K=b[3],O=b[4],F=b[5],L=b[6],V=b[7],aa=m*m+B*B+H*H+K*K;0<aa?(g[0]=2*(O*K+V*m+F*H-L*B)/aa,g[1]=2*(F*K+V*B+L*m-O*H)/aa,g[2]=2*(L*K+V*H+O*B-F*m)/aa):(g[0]=2*(O*K+V*m+F*H-L*B),g[1]=2*(F*K+V*B+L*m-O*H),g[2]=2*(L*K+V*H+O*B-F*m));ja(a,b,g);return a}function C(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function S(a,b){const g=b[0],m=b[1],B=b[2],
H=b[4],K=b[5],O=b[6],F=b[8],L=b[9];b=b[10];a[0]=Math.sqrt(g*g+m*m+B*B);a[1]=Math.sqrt(H*H+K*K+O*O);a[2]=Math.sqrt(F*F+L*L+b*b);return a}function N(a,b){const g=b[0]+b[5]+b[10];let m=0;0<g?(m=2*Math.sqrt(g+1),a[3]=.25*m,a[0]=(b[6]-b[9])/m,a[1]=(b[8]-b[2])/m,a[2]=(b[1]-b[4])/m):b[0]>b[5]&&b[0]>b[10]?(m=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/m,a[0]=.25*m,a[1]=(b[1]+b[4])/m,a[2]=(b[8]+b[2])/m):b[5]>b[10]?(m=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/m,a[0]=(b[1]+b[4])/m,a[1]=.25*m,a[2]=
(b[6]+b[9])/m):(m=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/m,a[0]=(b[8]+b[2])/m,a[1]=(b[6]+b[9])/m,a[2]=.25*m);return a}function x(a,b,g,m){var B=b[0],H=b[1],K=b[2],O=b[3],F=B+B,L=H+H,V=K+K;b=B*F;const aa=B*L;B*=V;const ia=H*L;H*=V;K*=V;F*=O;L*=O;O*=V;V=m[0];const fa=m[1];m=m[2];a[0]=(1-(ia+K))*V;a[1]=(aa+O)*V;a[2]=(B-L)*V;a[3]=0;a[4]=(aa-O)*fa;a[5]=(1-(b+K))*fa;a[6]=(H+F)*fa;a[7]=0;a[8]=(B+L)*m;a[9]=(H-F)*m;a[10]=(1-(b+ia))*m;a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function p(a,
b,g,m,B){var H=b[0],K=b[1],O=b[2],F=b[3],L=H+H,V=K+K,aa=O+O;b=H*L;var ia=H*V,fa=H*aa;H=K*V;K*=aa;var pa=O*aa;O=F*L;V*=F;const oa=F*aa;var ma=m[0],va=m[1];aa=m[2];m=B[0];F=B[1];B=B[2];L=(1-(H+pa))*ma;const ra=(ia+oa)*ma;ma*=fa-V;ia=(ia-oa)*va;pa=(1-(b+pa))*va;va*=K+O;fa=(fa+V)*aa;K=(K-O)*aa;b=(1-(b+H))*aa;a[0]=L;a[1]=ra;a[2]=ma;a[3]=0;a[4]=ia;a[5]=pa;a[6]=va;a[7]=0;a[8]=fa;a[9]=K;a[10]=b;a[11]=0;a[12]=g[0]+m-(L*m+ia*F+fa*B);a[13]=g[1]+F-(ra*m+pa*F+K*B);a[14]=g[2]+B-(ma*m+va*F+b*B);a[15]=1;return a}
function r(a,b){var g=b[0],m=b[1],B=b[2];b=b[3];var H=g+g,K=m+m;const O=B+B;g*=H;const F=m*H;m*=K;const L=B*H,V=B*K;B*=O;H*=b;K*=b;b*=O;a[0]=1-m-B;a[1]=F+b;a[2]=L-K;a[3]=0;a[4]=F-b;a[5]=1-g-B;a[6]=V+H;a[7]=0;a[8]=L+K;a[9]=V-H;a[10]=1-g-m;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function G(a,b,g,m,B,H,K){const O=1/(g-b),F=1/(B-m),L=1/(H-K);a[0]=2*H*O;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*H*F;a[6]=0;a[7]=0;a[8]=(g+b)*O;a[9]=(B+m)*F;a[10]=(K+H)*L;a[11]=-1;a[12]=0;a[13]=0;a[14]=K*H*2*L;a[15]=0;return a}
function c(a,b,g,m,B){b=1/Math.tan(b/2);let H=void 0;a[0]=b/g;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=B&&Infinity!==B?(H=1/(m-B),a[10]=(B+m)*H,a[14]=2*B*m*H):(a[10]=-1,a[14]=-2*m);return a}function d(a,b,g,m){const B=Math.tan(b.upDegrees*Math.PI/180),H=Math.tan(b.downDegrees*Math.PI/180),K=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const O=2/(K+b),F=2/(B+H);a[0]=O;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=F;a[6]=
0;a[7]=0;a[8]=-((K-b)*O*.5);a[9]=(B-H)*F*.5;a[10]=m/(g-m);a[11]=-1;a[12]=0;a[13]=0;a[14]=m*g/(g-m);a[15]=0;return a}function t(a,b,g,m,B,H,K){const O=1/(b-g),F=1/(m-B),L=1/(H-K);a[0]=-2*O;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*F;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*L;a[11]=0;a[12]=(b+g)*O;a[13]=(B+m)*F;a[14]=(K+H)*L;a[15]=1;return a}function P(a,b,g,m){const B=b[0],H=b[1];b=b[2];let K=B-g[0],O=H-g[1];g=b-g[2];var F=E.getEpsilon();if(Math.abs(K)<F&&Math.abs(O)<F&&Math.abs(g)<F)w(a);else{var L=1/Math.sqrt(K*
K+O*O+g*g);K*=L;O*=L;g*=L;L=m[0];var V=m[1];F=m[2];m=V*g-F*O;F=F*K-L*g;V=L*O-V*K;(L=Math.sqrt(m*m+F*F+V*V))?(L=1/L,m*=L,F*=L,V*=L):V=F=m=0;var aa=O*V-g*F,ia=g*m-K*V,fa=K*F-O*m;(L=Math.sqrt(aa*aa+ia*ia+fa*fa))?(L=1/L,aa*=L,ia*=L,fa*=L):fa=ia=aa=0;a[0]=m;a[1]=aa;a[2]=K;a[3]=0;a[4]=F;a[5]=ia;a[6]=O;a[7]=0;a[8]=V;a[9]=fa;a[10]=g;a[11]=0;a[12]=-(m*B+F*H+V*b);a[13]=-(aa*B+ia*H+fa*b);a[14]=-(K*B+O*H+g*b);a[15]=1}}function k(a,b,g,m){const B=b[0],H=b[1];b=b[2];var K=m[0];const O=m[1];var F=m[2];m=B-g[0];
let L=H-g[1];g=b-g[2];let V=m*m+L*L+g*g;0<V&&(V=1/Math.sqrt(V),m*=V,L*=V,g*=V);let aa=O*g-F*L;F=F*m-K*g;K=K*L-O*m;V=aa*aa+F*F+K*K;0<V&&(V=1/Math.sqrt(V),aa*=V,F*=V,K*=V);a[0]=aa;a[1]=F;a[2]=K;a[3]=0;a[4]=L*K-g*F;a[5]=g*aa-m*K;a[6]=m*F-L*aa;a[7]=0;a[8]=m;a[9]=L;a[10]=g;a[11]=0;a[12]=B;a[13]=H;a[14]=b;a[15]=1;return a}function n(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+
a[15]+")"}function v(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function Y(a,b,g){a[0]=b[0]+g[0];a[1]=b[1]+g[1];a[2]=b[2]+g[2];a[3]=b[3]+g[3];a[4]=b[4]+g[4];a[5]=b[5]+g[5];a[6]=b[6]+g[6];a[7]=b[7]+g[7];a[8]=b[8]+g[8];a[9]=b[9]+g[9];a[10]=b[10]+g[10];a[11]=b[11]+g[11];a[12]=b[12]+g[12];a[13]=b[13]+g[13];a[14]=b[14]+g[14];a[15]=b[15]+g[15];return a}function da(a,b,g){a[0]=b[0]-g[0];a[1]=b[1]-
g[1];a[2]=b[2]-g[2];a[3]=b[3]-g[3];a[4]=b[4]-g[4];a[5]=b[5]-g[5];a[6]=b[6]-g[6];a[7]=b[7]-g[7];a[8]=b[8]-g[8];a[9]=b[9]-g[9];a[10]=b[10]-g[10];a[11]=b[11]-g[11];a[12]=b[12]-g[12];a[13]=b[13]-g[13];a[14]=b[14]-g[14];a[15]=b[15]-g[15];return a}function ka(a,b,g){a[0]=b[0]*g;a[1]=b[1]*g;a[2]=b[2]*g;a[3]=b[3]*g;a[4]=b[4]*g;a[5]=b[5]*g;a[6]=b[6]*g;a[7]=b[7]*g;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*g;a[12]=b[12]*g;a[13]=b[13]*g;a[14]=b[14]*g;a[15]=b[15]*g;return a}function e(a,b,g,m){a[0]=b[0]+
g[0]*m;a[1]=b[1]+g[1]*m;a[2]=b[2]+g[2]*m;a[3]=b[3]+g[3]*m;a[4]=b[4]+g[4]*m;a[5]=b[5]+g[5]*m;a[6]=b[6]+g[6]*m;a[7]=b[7]+g[7]*m;a[8]=b[8]+g[8]*m;a[9]=b[9]+g[9]*m;a[10]=b[10]+g[10]*m;a[11]=b[11]+g[11]*m;a[12]=b[12]+g[12]*m;a[13]=b[13]+g[13]*m;a[14]=b[14]+g[14]*m;a[15]=b[15]+g[15]*m;return a}function l(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&
a[14]===b[14]&&a[15]===b[15]}function X(a,b){if(a===b)return!0;const g=a[0],m=a[1],B=a[2],H=a[3],K=a[4],O=a[5],F=a[6],L=a[7],V=a[8],aa=a[9],ia=a[10],fa=a[11],pa=a[12],oa=a[13],ma=a[14];a=a[15];const va=b[0],ra=b[1],sa=b[2],ta=b[3],ua=b[4],Aa=b[5],Ba=b[6],Ca=b[7],Da=b[8],Ea=b[9],Fa=b[10],Ga=b[11],wa=b[12],Ha=b[13],Ia=b[14];b=b[15];const xa=E.getEpsilon();return Math.abs(g-va)<=xa*Math.max(1,Math.abs(g),Math.abs(va))&&Math.abs(m-ra)<=xa*Math.max(1,Math.abs(m),Math.abs(ra))&&Math.abs(B-sa)<=xa*Math.max(1,
Math.abs(B),Math.abs(sa))&&Math.abs(H-ta)<=xa*Math.max(1,Math.abs(H),Math.abs(ta))&&Math.abs(K-ua)<=xa*Math.max(1,Math.abs(K),Math.abs(ua))&&Math.abs(O-Aa)<=xa*Math.max(1,Math.abs(O),Math.abs(Aa))&&Math.abs(F-Ba)<=xa*Math.max(1,Math.abs(F),Math.abs(Ba))&&Math.abs(L-Ca)<=xa*Math.max(1,Math.abs(L),Math.abs(Ca))&&Math.abs(V-Da)<=xa*Math.max(1,Math.abs(V),Math.abs(Da))&&Math.abs(aa-Ea)<=xa*Math.max(1,Math.abs(aa),Math.abs(Ea))&&Math.abs(ia-Fa)<=xa*Math.max(1,Math.abs(ia),Math.abs(Fa))&&Math.abs(fa-Ga)<=
xa*Math.max(1,Math.abs(fa),Math.abs(Ga))&&Math.abs(pa-wa)<=xa*Math.max(1,Math.abs(pa),Math.abs(wa))&&Math.abs(oa-Ha)<=xa*Math.max(1,Math.abs(oa),Math.abs(Ha))&&Math.abs(ma-Ia)<=xa*Math.max(1,Math.abs(ma),Math.abs(Ia))&&Math.abs(a-b)<=xa*Math.max(1,Math.abs(a),Math.abs(b))}function Q(a){const b=E.getEpsilon(),g=a[0],m=a[1],B=a[2],H=a[4],K=a[5],O=a[6],F=a[8],L=a[9];a=a[10];return Math.abs(1-(g*g+H*H+F*F))<=b&&Math.abs(1-(m*m+K*K+L*L))<=b&&Math.abs(1-(B*B+O*O+a*a))<=b}function ya(a){return 1===a[0]&&
0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const za=W.create();W=Object.freeze(Object.defineProperty({__proto__:null,add:Y,adjoint:Z,copy:h,determinant:y,equals:X,exactEquals:l,frob:v,fromQuat:r,fromQuat2:u,fromRotation:ha,fromRotationTranslation:ja,fromRotationTranslationScale:x,fromRotationTranslationScaleOrigin:p,fromScaling:ca,fromTranslation:ea,fromXRotation:la,fromYRotation:qa,fromZRotation:na,frustum:G,getRotation:N,getScaling:S,getTranslation:C,hasIdentityRotation:ya,
identity:w,invert:T,invertOrIdentity:z,isOrthoNormal:Q,lookAt:P,mul:J,multiply:J,multiplyScalar:ka,multiplyScalarAndAdd:e,ortho:t,perspective:c,perspectiveFromFieldOfView:d,rotate:R,rotateX:A,rotateY:U,rotateZ:ba,scale:I,set:q,str:n,sub:da,subtract:da,targetTo:k,translate:D,transpose:M},Symbol.toStringTag,{value:"Module"}));f.add=Y;f.adjoint=Z;f.copy=h;f.determinant=y;f.equals=X;f.exactEquals=l;f.frob=v;f.fromQuat=r;f.fromQuat2=u;f.fromRotation=ha;f.fromRotationTranslation=ja;f.fromRotationTranslationScale=
x;f.fromRotationTranslationScaleOrigin=p;f.fromScaling=ca;f.fromTranslation=ea;f.fromXRotation=la;f.fromYRotation=qa;f.fromZRotation=na;f.frustum=G;f.getRotation=N;f.getScaling=S;f.getTranslation=C;f.hasIdentityRotation=ya;f.identity=w;f.invert=T;f.invertOrIdentity=z;f.isOrthoNormal=Q;f.lookAt=P;f.mat4=W;f.mul=J;f.multiply=J;f.multiplyScalar=ka;f.multiplyScalarAndAdd=e;f.ortho=t;f.perspective=c;f.perspectiveFromFieldOfView=d;f.rotate=R;f.rotateX=A;f.rotateY=U;f.rotateZ=ba;f.scale=I;f.set=q;f.str=
n;f.sub=da;f.subtract=da;f.targetTo=k;f.translate=D;f.transpose=M;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(f){function W(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function E(z){return[z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],z[8],z[9],z[10],z[11],z[12],z[13],z[14],z[15]]}function h(z,T,Z,y,J,D,I,R,A,U,ba,ea,ca,ha,la,qa){return[z,T,Z,y,J,D,I,R,A,U,ba,ea,ca,ha,la,qa]}function q(z,T){return new Float64Array(z,
T,16)}const w=W(),M=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:w,clone:E,create:W,createView:q,fromValues:h},Symbol.toStringTag,{value:"Module"}));f.IDENTITY=w;f.clone=E;f.create=W;f.createView=q;f.fromValues=h;f.mat4f64=M;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/spatialReferenceEllipsoidUtils":function(){define(["exports","./ellipsoidUtils","./SpatialReference","./support/spatialReferenceUtils"],function(f,W,E,h){const q=new E(W.SphericalECEFSpatialReferenceLike),
w=new E(W.SphericalPCPFMarsLike),M=new E(W.SphericalPCPFMoonLike);W=new E(W.WGS84ECEFSpatialReferenceLike);const z=new Map,T=w.wkt.toUpperCase(),Z=M.wkt.toUpperCase();f.SphericalECEFSpatialReference=q;f.SphericalPCPFMars=w;f.SphericalPCPFMoon=M;f.WGS84ECEFSpatialReference=W;f.getSphericalPCPF=function(y){var J=z.get(y);if(J)return J;J=q;if(y)if(y===w)J=w;else if(y===M)J=M;else{var D=y.wkid;const I=y.latestWkid;if(null!=D||null!=I)if(h.isWKIDFromMars(D)||h.isWKIDFromMars(I))J=w;else{if(h.isWKIDFromMoon(D)||
h.isWKIDFromMoon(I))J=M}else if(D=y.wkt2??y.wkt)D=D.toUpperCase(),D===T?J=w:D===Z&&(J=M)}z.set(y,J);return J};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/computeTranslationToOriginAndRotation":function(){define("exports ../../core/mathUtils ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/vec3f64 ./localRotationUtils ./projectors ../support/spatialReferenceUtils".split(" "),function(f,W,E,h,q,w,M){function z(J){return J===w.ProjectionID.SPHERICAL_ECEF||
J===w.ProjectionID.SPHERICAL_MARS_PCPF||J===w.ProjectionID.SPHERICAL_MOON_PCPF}const T=W.deg2rad(1),Z=h.create(),y=h.create();f.computeTranslationToOriginAndRotation=function(J,D,I,R){if(null==J||null==R)return!1;var A=w.classifySpatialReference(J,w.sourceClassificationCache),U=w.classifySpatialReference(R,w.destClassificationCache);if(A===U&&!z(U)&&(A!==w.ProjectionID.UNKNOWN||M.equals(J,R)))return E.fromTranslation(I,D),!0;if(z(U)){A=w.projectionTable[A][w.ProjectionID.LON_LAT];U=w.projectionTable[w.ProjectionID.LON_LAT][U];
if(null==A||null==U)return!1;A(D,0,Z,0);U(Z,0,y,0);q.computeENUToSphericalPCPFLocalRotation(T*Z[0],T*Z[1],I);I[12]=y[0];I[13]=y[1];I[14]=y[2];return!0}if(!(U!==w.ProjectionID.WEB_MERCATOR&&U!==w.ProjectionID.PLATE_CARREE&&U!==w.ProjectionID.WGS84&&U!==w.ProjectionID.CGCS2000||A!==w.ProjectionID.WGS84&&A!==w.ProjectionID.SPHERICAL_ECEF&&A!==w.ProjectionID.WEB_MERCATOR&&A!==w.ProjectionID.CGCS2000)){J=w.projectionTable[A][w.ProjectionID.LON_LAT];U=w.projectionTable[w.ProjectionID.LON_LAT][U];if(null==
J||null==U)return!1;J(D,0,Z,0);U(Z,0,y,0);A===w.ProjectionID.SPHERICAL_ECEF?q.computeSphericalPCPFToENULocalRotation(T*Z[0],T*Z[1],I):E.identity(I);I[12]=y[0];I[13]=y[1];I[14]=y[2];return!0}return!1};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/localRotationUtils":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(f,W){function E(h,q,w){const M=Math.sin(h);h=Math.cos(h);const z=Math.sin(q);q=Math.cos(q);w[0]=-M;w[4]=-z*h;w[8]=
q*h;w[12]=0;w[1]=h;w[5]=-z*M;w[9]=q*M;w[13]=0;w[2]=0;w[6]=q;w[10]=z;w[14]=0;w[3]=0;w[7]=0;w[11]=0;w[15]=1;return w}f.computeENUToSphericalPCPFLocalRotation=E;f.computeSphericalPCPFToENULocalRotation=function(h,q,w){E(h,q,w);W.transpose(w,w);return w};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectPointToVector":function(){define(["exports","../../core/libs/gl-matrix-2/factories/vec3f64","../projection","./projectBuffer"],function(f,W,E,h){function q(M,
z,T,Z){if(E.canProjectWithoutEngine(M.spatialReference,T))return w[0]=M.x,w[1]=M.y,w[2]=M.z??Z??0,h.projectBuffer(w,M.spatialReference,0,z,T,0,1);M=E.tryProjectWithZConversion(M,T);if(!M)return!1;z[0]=M?.x;z[1]=M?.y;z[2]=M?.z??Z??0;return!0}const w=W.create();f.projectPointToVector=q;f.projectPointToVectorAsync=async function(M,z,T,Z,y){await E.initializeProjection(M.spatialReference,T,null,y);return q(M,z,T,Z)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshVertexSpaceUtils":function(){define("exports ../../core/deprecate ../../core/Logger ../../chunks/vec32 ../Point ./MeshGeoreferencedVertexSpace ./MeshLocalVertexSpace".split(" "),
function(f,W,E,h,q,w,M){function z(T){return null!=T.origin}f.isAbsoluteVertexSpace=function(T){return!z(T)};f.isMeshWithRelativeVertexSpace=function(T){return z(T.vertexSpace)};f.isRelativeVertexSpace=z;f.selectVertexSpace=function(T,Z){const {x:y,y:J,z:D,spatialReference:I}=T;T=[y,J,D??0];void 0!==Z?.geographic&&(W.deprecated(E.getLogger("esri.geometry.Mesh"),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),Z.vertexSpace&&E.getLogger("esri.geometry.Mesh").warn("Deprecated geographic flag ignored since vertexSpace option is provided."));
var R;null!=(R=Z?.vertexSpace)?Z=R:(Z=Z?.geographic,Z=null==Z?void 0:Z?"local":"georeferenced");return"local"===(Z??(I.isGeographic||I.isWebMercator?"local":"georeferenced"))?new M({origin:T}):new w({origin:T})};f.vertexSpaceEquals=function(T,Z){return T.type===Z.type&&(T.origin===Z.origin||null!=T.origin&&null!=Z.origin&&h.exactEquals(T.origin,Z.origin))};f.vertexSpaceOriginToPoint=function(T,Z){if(!z(T))return null;const [y,J,D]=T.origin;return new q({x:y,y:J,z:D,spatialReference:Z})};Object.defineProperty(f,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshLocalVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64".split(" "),function(f,W,E,h,q,w,M,z,T,Z){W=class extends W.ClonableMixin(E.JSONSupport){constructor(y){super(y);
this.type="local";this.origin=Z.create()}};f.__decorate([z.enumeration({local:"local"},{readOnly:!0})],W.prototype,"type",void 0);f.__decorate([h.property({type:[Number],nonNullable:!0,json:{write:!0}})],W.prototype,"origin",void 0);return W=f.__decorate([T.subclass("esri.geometry.support.MeshLocalVertexSpace")],W)})},"esri/chunks/vec3":function(){define(["exports","../core/has","../core/Logger"],function(f,W,E){function h(I,R,A){q(I.typedBuffer,R.typedBuffer,A,I.typedBufferStride,R.typedBufferStride)}
function q(I,R,A,U=3,ba=U){if(I.length/U!==Math.ceil(R.length/ba))return I;const ea=I.length/U,ca=A[0],ha=A[1],la=A[2],qa=A[4],na=A[5],ja=A[6],u=A[8],C=A[9],S=A[10],N=A[12],x=A[13];A=A[14];let p=0,r=0;for(let G=0;G<ea;G++){const c=R[p],d=R[p+1],t=R[p+2];I[r]=ca*c+qa*d+u*t+N;I[r+1]=ha*c+na*d+C*t+x;I[r+2]=la*c+ja*d+S*t+A;p+=ba;r+=U}return I}function w(I,R,A){M(I.typedBuffer,R.typedBuffer,A,I.typedBufferStride,R.typedBufferStride)}function M(I,R,A,U=3,ba=U){if(I.length/U===Math.ceil(R.length/ba)){var ea=
I.length/U,ca=A[0],ha=A[1],la=A[2],qa=A[3],na=A[4],ja=A[5],u=A[6],C=A[7];A=A[8];var S=0,N=0;for(let x=0;x<ea;x++){const p=R[S],r=R[S+1],G=R[S+2];I[N]=ca*p+qa*r+u*G;I[N+1]=ha*p+na*r+C*G;I[N+2]=la*p+ja*r+A*G;S+=ba;N+=U}}}function z(I,R,A){T(I.typedBuffer,R.typedBuffer,A,I.typedBufferStride,R.typedBufferStride)}function T(I,R,A,U=3,ba=U){const ea=Math.min(I.length/U,R.length/ba);let ca=0,ha=0;for(let la=0;la<ea;la++)I[ha]=A*R[ca],I[ha+1]=A*R[ca+1],I[ha+2]=A*R[ca+2],ca+=ba,ha+=U;return I}function Z(I,
R,A,U=3,ba=U){const ea=I.length/U;if(ea!==Math.ceil(R.length/ba))return I;let ca=0,ha=0;for(let la=0;la<ea;la++)I[ha]=R[ca]+A[0],I[ha+1]=R[ca+1]+A[1],I[ha+2]=R[ca+2]+A[2],ca+=ba,ha+=U;return I}function y(I,R){J(I.typedBuffer,R.typedBuffer,I.typedBufferStride,R.typedBufferStride)}function J(I,R,A=3,U=A){const ba=Math.min(I.length/A,R.length/U);let ea=0,ca=0;for(let la=0;la<ba;la++){const qa=R[ea],na=R[ea+1],ja=R[ea+2];var ha=qa*qa+na*na+ja*ja;0<ha&&(ha=1/Math.sqrt(ha),I[ca]=ha*qa,I[ca+1]=ha*na,I[ca+
2]=ha*ja);ea+=U;ca+=A}}function D(I,R,A){const U=Math.min(I.count,R.count),ba=I.typedBuffer;I=I.typedBufferStride;const ea=R.typedBuffer;R=R.typedBufferStride;let ca=0,ha=0;for(let la=0;la<U;la++)ba[ha]=ea[ca]>>A,ba[ha+1]=ea[ca+1]>>A,ba[ha+2]=ea[ca+2]>>A,ca+=R,ha+=I}W=Object.freeze(Object.defineProperty({__proto__:null,normalize:J,normalizeView:y,scale:T,scaleView:z,shiftRight:D,transformMat3:M,transformMat3View:w,transformMat4:q,transformMat4View:h,translate:Z},Symbol.toStringTag,{value:"Module"}));
f.normalize=J;f.normalizeView=y;f.scale=T;f.scaleView=z;f.shiftRight=D;f.transformMat3=M;f.transformMat3View=w;f.transformMat4=q;f.transformMat4View=h;f.translate=Z;f.vec3=W})},"esri/geometry/support/meshUtils/projection":function(){define("exports ../../../core/mathUtils ../../../core/libs/gl-matrix-2/math/mat3 ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/math/mat4 ../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../projection ../../spatialReferenceEllipsoidUtils ../../projection/computeTranslationToOriginAndRotation ../../projection/projectBuffer ../DoubleArray ../Ellipsoid ../spatialReferenceUtils ../webMercatorUtils ../buffer/BufferView ../../../chunks/vec3 ../../../chunks/vec4".split(" "),
function(f,W,E,h,q,w,M,z,T,Z,y,J,D,I,R,A,U,ba,ea){function ca(x,p,r,G,c){p=p===f.VectorType.NORMAL?3:4;const d=[0,0];for(let t=0,P=1;t<x.length;t+=p,P+=3){G(r[P],d);const k=x[t]*d[0],n=x[t+1]*d[1],v=x[t+2],Y=1/Math.sqrt(k*k+n*n+v*v);c[t]=k*Y;c[t+1]=n*Y;c[t+2]=v*Y;4===p&&(c[t+3]=x[t+3])}return c}function ha(x,p,r,G,c){y.computeTranslationToOriginAndRotation(G,r,S,G);x===ja.FROM_PCPF&&q.invert(S,S);switch(p){case f.VectorType.NORMAL:return E.normalFromMat4(c,S);case f.VectorType.TANGENT:return E.fromMat4(c,
S)}}function la(x,p,r,G,c,d,t){if(p){var P=G.count,k=Z.getSphericalPCPF(d);if(d.isWGS84||R.isCGCS2000(d)||R.isMars(d)||R.isMoon(d))for(G=0;G<P;G++)c.getVec(G,u),p.getVec(G,C),M.transformMat3(C,C,ha(x,r,u,k,N)),t.setVec(G,C);else for(d=0;d<P;d++){c.getVec(d,u);p.getVec(d,C);var n=A.y2lat(G.get(d,1));n=Math.cos(n);r===f.VectorType.TANGENT!==(x===ja.TO_PCPF)&&(n=1/n);ha(x,r,u,k,N);x===ja.TO_PCPF?(N[0]*=n,N[1]*=n,N[2]*=n,N[3]*=n,N[4]*=n,N[5]*=n):(N[0]*=n,N[3]*=n,N[6]*=n,N[1]*=n,N[4]*=n,N[7]*=n);M.transformMat3(C,
C,N);M.normalize(C,C);t.setVec(d,C)}return t}}function qa({vertexSpace:x,transform:p,inSpatialReference:r,outSpatialReference:G,localMode:c,outPositions:d,positions:t}){const P=x.origin??z.ZEROS;x=null!=x.origin?p?.localMatrix??w.IDENTITY:w.IDENTITY;p=Z.getSphericalPCPF(r);c=G.isWebMercator&&c||!T.canProjectWithoutEngine(r,p)?r:p;y.computeTranslationToOriginAndRotation(r,P,S,c);q.multiply(S,S,x);r=d??D.newDoubleArray(t.length);ba.transformMat4(r,t,S);J.projectBuffer(r,c,0,r,G,0,r.length/3);return r}
function na({vertexSpace:x,transform:p,outPositions:r,positions:G,inSpatialReference:c,outSpatialReference:d}){p=null!=x.origin?p?.localMatrix??w.IDENTITY:w.IDENTITY;r=r??D.newDoubleArray(G.length);q.equals(p,w.IDENTITY)?D.copyInto(r,G):ba.transformMat4(r,G,p);x=x.origin??z.ZEROS;if(!M.exactEquals(x,z.ZEROS)){const [t,P,k]=x;for(x=0;x<r.length;x+=3)r[x]+=t,r[x+1]+=P,r[x+2]+=k}return J.projectBuffer(r,c,0,r,d,0,r.length/3)?r:null}f.VectorType=void 0;(function(x){x[x.NORMAL=0]="NORMAL";x[x.TANGENT=
1]="TANGENT"})(f.VectorType||(f.VectorType={}));var ja;(function(x){x[x.TO_PCPF=0]="TO_PCPF";x[x.FROM_PCPF=1]="FROM_PCPF"})(ja||={});const u=z.create(),C=z.create(),S=w.create(),N=h.create();f.loadProjectErrorMessage="Projection may be possible after calling projection.load().";f.logProjectionError=function(x,p,r,G){x.error(`Failed to project from (wkid:${p.wkid}) to (wkid:${r.wkid}).${G?" ":""}${G}`)};f.project=function(x){return"local"===x.vertexSpace.type?qa(x):na(x)};f.projectFromPCPF=function(x,
p,r){return J.projectBuffer(x,Z.getSphericalPCPF(r),0,p,r,0,x.length/3)?p:null};f.projectNormalFromPCPF=function(x,p,r,G,c){return la(ja.FROM_PCPF,U.BufferViewVec3f.fromTypedArray(x),f.VectorType.NORMAL,U.BufferViewVec3f64.fromTypedArray(p),U.BufferViewVec3f64.fromTypedArray(r),G,U.BufferViewVec3f.fromTypedArray(c))?c:null};f.projectNormalToPCPF=function(x,p,r,G,c){return la(ja.TO_PCPF,U.BufferViewVec3f.fromTypedArray(x),f.VectorType.NORMAL,U.BufferViewVec3f64.fromTypedArray(p),U.BufferViewVec3f64.fromTypedArray(r),
G,U.BufferViewVec3f.fromTypedArray(c))?c:null};f.projectTangentFromPCPF=function(x,p,r,G,c){if(!la(ja.FROM_PCPF,U.BufferViewVec3f.fromTypedArray(x,16),f.VectorType.TANGENT,U.BufferViewVec3f64.fromTypedArray(p),U.BufferViewVec3f64.fromTypedArray(r),G,U.BufferViewVec3f.fromTypedArray(c,16)))return null;for(p=3;p<x.length;p+=4)c[p]=x[p];return c};f.projectTangentToPCPF=function(x,p,r,G,c){if(!la(ja.TO_PCPF,U.BufferViewVec3f.fromTypedArray(x,4*Float32Array.BYTES_PER_ELEMENT),f.VectorType.TANGENT,U.BufferViewVec3f64.fromTypedArray(p),
U.BufferViewVec3f64.fromTypedArray(r),G,U.BufferViewVec3f.fromTypedArray(c,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(p=3;p<x.length;p+=4)c[p]=x[p];return c};f.projectToPCPF=function(x,p,r){return J.projectBuffer(x,p,0,r,Z.getSphericalPCPF(p),0,x.length/3)?r:null};f.transformNormal=function(x,p,r){E.normalFromMat4(N,r);ba.transformMat3(p,x,N);W.hasScaling(N)&&ba.normalize(p,p);return p};f.transformTangent=function(x,p,r){E.fromMat4(N,r);ea.transformMat3(p,x,N);W.hasScaling(N)&&ba.normalize(p,
p,4);return p};f.transformVectorENUPlateCarree=function(x,p,r,G){const c=p===f.VectorType.NORMAL;return ca(x,p,r,(d,t)=>{d=Math.cos(W.deg2rad(d));t[0]=c?d:1/d;t[1]=1},G)};f.transformVectorWMPlateCarree=function(x,p,r,G){const c=p===f.VectorType.NORMAL;return ca(x,p,r,(d,t)=>{d=Math.cosh(-d/I.earth.radius);t[0]=1;t[1]=c?d:1/d},G)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/DoubleArray":function(){define(["exports","../../core/typedArrayUtil"],function(f,
W){f.copyInto=function(E,h){for(let q=0;q<h.length;++q)E[q]=h[q];return E};f.doubleArrayFrom=function(E){return(W.isArray(E)?E.length:E.byteLength/8)<=W.nativeArrayMaxSize?Array.from(E):new Float64Array(E)};f.doubleSubArray=function(E,h,q){return Array.isArray(E)?E.slice(h,h+q):E.subarray(h,h+q)};f.newDoubleArray=function(E,h=!1){return E<=W.nativeArrayMaxSize?h?Array(E).fill(0):Array(E):new Float64Array(E)};f.toFloat64Array=function(E){return Array.isArray(E)?new Float64Array(E):E};Object.defineProperty(f,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),function(f,W,E,h,q,w,M){class z extends h.BufferViewScalarImpl{constructor(e,l=0,X,Q){super(Float32Array,e,l,X,Q);this.elementType="f32"}static fromTypedArray(e,l){return new z(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}z.ElementType="f32";class T extends q.BufferViewVec2Impl{constructor(e,
l=0,X,Q){super(Float32Array,e,l,X,Q);this.elementType="f32"}slice(e,l){return this.sliceBuffer(T,e,l)}static fromTypedArray(e,l){return new T(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}T.ElementType="f32";class Z extends w.BufferViewVec3Impl{constructor(e,l=0,X,Q){super(Float32Array,e,l,X,Q);this.elementType="f32"}slice(e,l){return this.sliceBuffer(Z,e,l)}static fromTypedArray(e,l){return new Z(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}Z.ElementType="f32";class y extends M.BufferViewVec4Impl{constructor(e,
l=0,X,Q){super(Float32Array,e,l,X,Q);this.elementType="f32"}slice(e,l){return this.sliceBuffer(y,e,l)}static fromTypedArray(e,l){return new y(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}y.ElementType="f32";class J extends W.BufferViewMat3Impl{constructor(e,l=0,X,Q){super(Float32Array,e,l,X,Q);this.elementType="f32"}slice(e,l){return this.sliceBuffer(J,e,l)}static fromTypedArray(e,l){return new J(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}J.ElementType="f32";class D extends W.BufferViewMat3Impl{constructor(e,
l=0,X,Q){super(Float64Array,e,l,X,Q);this.elementType="f64"}slice(e,l){return this.sliceBuffer(D,e,l)}static fromTypedArray(e,l){return new D(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}D.ElementType="f64";class I extends E.BufferViewMat4Impl{constructor(e,l=0,X,Q){super(Float32Array,e,l,X,Q);this.elementType="f32"}slice(e,l){return this.sliceBuffer(I,e,l)}static fromTypedArray(e,l){return new I(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}I.ElementType="f32";class R extends E.BufferViewMat4Impl{constructor(e,
l=0,X,Q){super(Float64Array,e,l,X,Q);this.elementType="f64"}slice(e,l){return this.sliceBuffer(R,e,l)}static fromTypedArray(e,l){return new R(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}R.ElementType="f64";class A extends h.BufferViewScalarImpl{constructor(e,l=0,X,Q){super(Float64Array,e,l,X,Q);this.elementType="f64"}slice(e,l){return this.sliceBuffer(A,e,l)}static fromTypedArray(e,l){return new A(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}A.ElementType="f64";class U extends q.BufferViewVec2Impl{constructor(e,
l=0,X,Q){super(Float64Array,e,l,X,Q);this.elementType="f64"}slice(e,l){return this.sliceBuffer(U,e,l)}static fromTypedArray(e,l){return new U(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}U.ElementType="f64";class ba extends w.BufferViewVec3Impl{constructor(e,l=0,X,Q){super(Float64Array,e,l,X,Q);this.elementType="f64"}slice(e,l){return this.sliceBuffer(ba,e,l)}static fromTypedArray(e,l){return new ba(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}ba.ElementType="f64";class ea extends M.BufferViewVec4Impl{constructor(e,
l=0,X,Q){super(Float64Array,e,l,X,Q);this.elementType="f64"}slice(e,l){return this.sliceBuffer(ea,e,l)}static fromTypedArray(e,l){return new ea(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}ea.ElementType="f64";class ca extends h.BufferViewScalarImpl{constructor(e,l=0,X,Q){super(Uint8Array,e,l,X,Q);this.elementType="u8"}slice(e,l){return this.sliceBuffer(ca,e,l)}static fromTypedArray(e,l){return new ca(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}ca.ElementType="u8";class ha extends q.BufferViewVec2Impl{constructor(e,
l=0,X,Q){super(Uint8Array,e,l,X,Q);this.elementType="u8"}slice(e,l){return this.sliceBuffer(ha,e,l)}static fromTypedArray(e,l){return new ha(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}ha.ElementType="u8";class la extends w.BufferViewVec3Impl{constructor(e,l=0,X,Q){super(Uint8Array,e,l,X,Q);this.elementType="u8"}slice(e,l){return this.sliceBuffer(la,e,l)}static fromTypedArray(e,l){return new la(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}la.ElementType="u8";class qa extends M.BufferViewVec4Impl{constructor(e,
l=0,X,Q){super(Uint8Array,e,l,X,Q);this.elementType="u8"}slice(e,l){return this.sliceBuffer(qa,e,l)}static fromTypedArray(e,l){return new qa(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}qa.ElementType="u8";class na extends h.BufferViewScalarImpl{constructor(e,l=0,X,Q){super(Uint16Array,e,l,X,Q);this.elementType="u16"}slice(e,l){return this.sliceBuffer(na,e,l)}static fromTypedArray(e,l){return new na(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}na.ElementType="u16";class ja extends q.BufferViewVec2Impl{constructor(e,
l=0,X,Q){super(Uint16Array,e,l,X,Q);this.elementType="u16"}slice(e,l){return this.sliceBuffer(ja,e,l)}static fromTypedArray(e,l){return new ja(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}ja.ElementType="u16";class u extends w.BufferViewVec3Impl{constructor(e,l=0,X,Q){super(Uint16Array,e,l,X,Q);this.elementType="u16"}slice(e,l){return this.sliceBuffer(u,e,l)}static fromTypedArray(e,l){return new u(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}u.ElementType="u16";class C extends M.BufferViewVec4Impl{constructor(e,
l=0,X,Q){super(Uint16Array,e,l,X,Q);this.elementType="u16"}slice(e,l){return this.sliceBuffer(C,e,l)}static fromTypedArray(e,l){return new C(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}C.ElementType="u16";class S extends h.BufferViewScalarImpl{constructor(e,l=0,X,Q){super(Uint32Array,e,l,X,Q);this.elementType="u32"}slice(e,l){return this.sliceBuffer(S,e,l)}static fromTypedArray(e,l){return new S(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}S.ElementType="u32";class N extends q.BufferViewVec2Impl{constructor(e,
l=0,X,Q){super(Uint32Array,e,l,X,Q);this.elementType="u32"}slice(e,l){return this.sliceBuffer(N,e,l)}static fromTypedArray(e,l){return new N(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}N.ElementType="u32";class x extends w.BufferViewVec3Impl{constructor(e,l=0,X,Q){super(Uint32Array,e,l,X,Q);this.elementType="u32"}slice(e,l){return this.sliceBuffer(x,e,l)}static fromTypedArray(e,l){return new x(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}x.ElementType="u32";class p extends M.BufferViewVec4Impl{constructor(e,
l=0,X,Q){super(Uint32Array,e,l,X,Q);this.elementType="u32"}slice(e,l){return this.sliceBuffer(p,e,l)}static fromTypedArray(e,l){return new p(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}p.ElementType="u32";class r extends h.BufferViewScalarImpl{constructor(e,l=0,X,Q){super(Int8Array,e,l,X,Q);this.elementType="i8"}slice(e,l){return this.sliceBuffer(r,e,l)}static fromTypedArray(e,l){return new r(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}r.ElementType="i8";class G extends q.BufferViewVec2Impl{constructor(e,
l=0,X,Q){super(Int8Array,e,l,X,Q);this.elementType="i8"}slice(e,l){return this.sliceBuffer(G,e,l)}static fromTypedArray(e,l){return new G(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}G.ElementType="i8";class c extends w.BufferViewVec3Impl{constructor(e,l=0,X,Q){super(Int8Array,e,l,X,Q);this.elementType="i8"}slice(e,l){return this.sliceBuffer(c,e,l)}static fromTypedArray(e,l){return new c(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}c.ElementType="i8";class d extends M.BufferViewVec4Impl{constructor(e,
l=0,X,Q){super(Int8Array,e,l,X,Q);this.elementType="i8"}slice(e,l){return this.sliceBuffer(d,e,l)}static fromTypedArray(e,l){return new d(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}d.ElementType="i8";class t extends h.BufferViewScalarImpl{constructor(e,l=0,X,Q){super(Int16Array,e,l,X,Q);this.elementType="i16"}slice(e,l){return this.sliceBuffer(t,e,l)}static fromTypedArray(e,l){return new t(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}t.ElementType="i16";class P extends q.BufferViewVec2Impl{constructor(e,
l=0,X,Q){super(Int16Array,e,l,X,Q);this.elementType="i16"}slice(e,l){return this.sliceBuffer(P,e,l)}static fromTypedArray(e,l){return new P(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}P.ElementType="i16";class k extends w.BufferViewVec3Impl{constructor(e,l=0,X,Q){super(Int16Array,e,l,X,Q);this.elementType="i16"}slice(e,l){return this.sliceBuffer(k,e,l)}static fromTypedArray(e,l){return new k(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}k.ElementType="i16";class n extends M.BufferViewVec4Impl{constructor(e,
l=0,X,Q){super(Int16Array,e,l,X,Q);this.elementType="i16"}slice(e,l){return this.sliceBuffer(n,e,l)}static fromTypedArray(e,l){return new n(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}n.ElementType="i16";class v extends h.BufferViewScalarImpl{constructor(e,l=0,X,Q){super(Int32Array,e,l,X,Q);this.elementType="i32"}slice(e,l){return this.sliceBuffer(v,e,l)}static fromTypedArray(e,l){return new v(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}v.ElementType="i32";class Y extends q.BufferViewVec2Impl{constructor(e,
l=0,X,Q){super(Int32Array,e,l,X,Q);this.elementType="i32"}slice(e,l){return this.sliceBuffer(Y,e,l)}static fromTypedArray(e,l){return new Y(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}Y.ElementType="i32";class da extends w.BufferViewVec3Impl{constructor(e,l=0,X,Q){super(Int32Array,e,l,X,Q);this.elementType="i32"}slice(e,l){return this.sliceBuffer(da,e,l)}static fromTypedArray(e,l){return new da(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}da.ElementType="i32";class ka extends M.BufferViewVec4Impl{constructor(e,
l=0,X,Q){super(Int32Array,e,l,X,Q);this.elementType="i32"}slice(e,l){return this.sliceBuffer(ka,e,l)}static fromTypedArray(e,l){return new ka(e.buffer,e.byteOffset,l,e.byteOffset+e.byteLength)}}ka.ElementType="i32";f.BufferViewFloat=z;f.BufferViewFloat64=A;f.BufferViewInt16=t;f.BufferViewInt32=v;f.BufferViewInt8=r;f.BufferViewMat3f=J;f.BufferViewMat3f64=D;f.BufferViewMat4f=I;f.BufferViewMat4f64=R;f.BufferViewUint16=na;f.BufferViewUint32=S;f.BufferViewUint8=ca;f.BufferViewVec2f=T;f.BufferViewVec2f64=
U;f.BufferViewVec2i16=P;f.BufferViewVec2i32=Y;f.BufferViewVec2i8=G;f.BufferViewVec2u16=ja;f.BufferViewVec2u32=N;f.BufferViewVec2u8=ha;f.BufferViewVec3f=Z;f.BufferViewVec3f64=ba;f.BufferViewVec3i16=k;f.BufferViewVec3i32=da;f.BufferViewVec3i8=c;f.BufferViewVec3u16=u;f.BufferViewVec3u32=x;f.BufferViewVec3u8=la;f.BufferViewVec4f=y;f.BufferViewVec4f64=ea;f.BufferViewVec4i16=n;f.BufferViewVec4i32=ka;f.BufferViewVec4i8=d;f.BufferViewVec4u16=C;f.BufferViewVec4u32=p;f.BufferViewVec4u8=qa;Object.defineProperty(f,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports"],function(f){class W{constructor(E,h,q=0,w,M){this.TypedArrayConstructor=E;this.elementCount=9;E=this.TypedArrayConstructor;void 0===w&&(w=9*E.BYTES_PER_ELEMENT);const z=0===h.byteLength?0:q;this.typedBuffer=null==M?new E(h,z):new E(h,z,(M-q)/E.BYTES_PER_ELEMENT);this.typedBufferStride=w/E.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=
this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(E,h,q=this.count-h){h=this.typedBuffer.byteOffset+h*this.stride;return new E(this.buffer,h,this.stride,h+q*this.stride)}getMat(E,h){E*=this.typedBufferStride;for(let q=0;9>q;q++)h[q]=this.typedBuffer[E++];return h}setMat(E,h){E*=this.typedBufferStride;for(let q=0;9>q;q++)this.typedBuffer[E++]=h[q]}get(E,h){return this.typedBuffer[E*this.typedBufferStride+h]}set(E,h,q){this.typedBuffer[E*this.typedBufferStride+h]=q}copyFrom(E,
h,q){const w=this.typedBuffer,M=h.typedBuffer;E*=this.typedBufferStride;h=q*h.typedBufferStride;for(q=0;9>q;++q)w[E++]=M[h++]}get buffer(){return this.typedBuffer.buffer}}W.ElementCount=9;f.BufferViewMat3Impl=W;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports"],function(f){class W{constructor(E,h,q=0,w,M){this.TypedArrayConstructor=E;this.elementCount=16;E=this.TypedArrayConstructor;void 0===w&&(w=16*E.BYTES_PER_ELEMENT);
const z=0===h.byteLength?0:q;this.typedBuffer=null==M?new E(h,z):new E(h,z,(M-q)/E.BYTES_PER_ELEMENT);this.typedBufferStride=w/E.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(E,h,q=this.count-h){h=this.typedBuffer.byteOffset+h*this.stride;return new E(this.buffer,h,this.stride,h+q*this.stride)}getMat(E,h){E*=this.typedBufferStride;for(let q=0;16>q;q++)h[q]=this.typedBuffer[E++];
return h}setMat(E,h){E*=this.typedBufferStride;for(let q=0;16>q;q++)this.typedBuffer[E++]=h[q]}get(E,h){return this.typedBuffer[E*this.typedBufferStride+h]}set(E,h,q){this.typedBuffer[E*this.typedBufferStride+h]=q}copyFrom(E,h,q){const w=this.typedBuffer,M=h.typedBuffer;E*=this.typedBufferStride;h=q*h.typedBufferStride;for(q=0;16>q;++q)w[E++]=M[h++]}get buffer(){return this.typedBuffer.buffer}}W.ElementCount=16;f.BufferViewMat4Impl=W;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports"],function(f){class W{constructor(E,h,q=0,w,M){this.TypedArrayConstructor=E;this.elementCount=1;E=this.TypedArrayConstructor;void 0===w&&(w=E.BYTES_PER_ELEMENT);const z=0===h.byteLength?0:q;this.typedBuffer=null==M?new E(h,z):new E(h,z,(M-q)/E.BYTES_PER_ELEMENT);this.stride=w;this.typedBufferStride=w/E.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(E,h,q=this.count-h){h=
this.typedBuffer.byteOffset+h*this.stride;return new E(this.buffer,h,this.stride,h+q*this.stride)}get(E){return this.typedBuffer[E*this.typedBufferStride]}set(E,h){this.typedBuffer[E*this.typedBufferStride]=h}get buffer(){return this.typedBuffer.buffer}}W.ElementCount=1;f.BufferViewScalarImpl=W;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../core/libs/gl-matrix-2/math/vec2"],function(f,W){class E{constructor(h,
q,w=0,M,z){this.TypedArrayConstructor=h;this.elementCount=2;h=this.TypedArrayConstructor;void 0===M&&(M=2*h.BYTES_PER_ELEMENT);const T=0===q.byteLength?0:w;this.typedBuffer=null==z?new h(q,T):new h(q,T,(z-w)/h.BYTES_PER_ELEMENT);this.typedBufferStride=M/h.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(h,q,w=this.count-q){q=this.typedBuffer.byteOffset+q*this.stride;return new h(this.buffer,
q,this.stride,q+w*this.stride)}getVec(h,q){h*=this.typedBufferStride;return W.set(q,this.typedBuffer[h],this.typedBuffer[h+1])}setVec(h,q){h*=this.typedBufferStride;this.typedBuffer[h++]=q[0];this.typedBuffer[h]=q[1]}get(h,q){return this.typedBuffer[h*this.typedBufferStride+q]}set(h,q,w){this.typedBuffer[h*this.typedBufferStride+q]=w}setValues(h,q,w){h*=this.typedBufferStride;this.typedBuffer[h++]=q;this.typedBuffer[h]=w}copyFrom(h,q,w){const M=this.typedBuffer,z=q.typedBuffer;h*=this.typedBufferStride;
q=w*q.typedBufferStride;M[h++]=z[q++];M[h]=z[q]}get buffer(){return this.typedBuffer.buffer}}E.ElementCount=2;f.BufferViewVec2Impl=E;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["exports","./common"],function(f,W){function E(k,n){k[0]=n[0];k[1]=n[1];return k}function h(k,n,v){k[0]=n;k[1]=v;return k}function q(k,n,v){k[0]=n[0]+v[0];k[1]=n[1]+v[1];return k}function w(k,n,v){k[0]=n[0]-v[0];k[1]=n[1]-v[1];return k}function M(k,
n,v){k[0]=n[0]*v[0];k[1]=n[1]*v[1];return k}function z(k,n,v){k[0]=n[0]/v[0];k[1]=n[1]/v[1];return k}function T(k,n){k[0]=Math.ceil(n[0]);k[1]=Math.ceil(n[1]);return k}function Z(k,n){k[0]=Math.floor(n[0]);k[1]=Math.floor(n[1]);return k}function y(k,n,v){k[0]=Math.min(n[0],v[0]);k[1]=Math.min(n[1],v[1]);return k}function J(k,n,v){k[0]=Math.max(n[0],v[0]);k[1]=Math.max(n[1],v[1]);return k}function D(k,n){k[0]=Math.round(n[0]);k[1]=Math.round(n[1]);return k}function I(k,n,v){k[0]=n[0]*v;k[1]=n[1]*v;
return k}function R(k,n,v,Y){k[0]=n[0]+v[0]*Y;k[1]=n[1]+v[1]*Y;return k}function A(k,n){const v=n[0]-k[0];k=n[1]-k[1];return Math.sqrt(v*v+k*k)}function U(k,n){const v=n[0]-k[0];k=n[1]-k[1];return v*v+k*k}function ba(k){const n=k[0];k=k[1];return Math.sqrt(n*n+k*k)}function ea(k){const n=k[0];k=k[1];return n*n+k*k}function ca(k,n){k[0]=-n[0];k[1]=-n[1];return k}function ha(k,n){k[0]=1/n[0];k[1]=1/n[1];return k}function la(k,n){var v=n[0];const Y=n[1];v=v*v+Y*Y;0<v&&(v=1/Math.sqrt(v),k[0]=n[0]*v,k[1]=
n[1]*v);return k}function qa(k,n){return k[0]*n[0]+k[1]*n[1]}function na(k,n,v){n=n[0]*v[1]-n[1]*v[0];k[0]=k[1]=0;k[2]=n;return k}function ja(k,n,v,Y){const da=n[0];n=n[1];k[0]=da+Y*(v[0]-da);k[1]=n+Y*(v[1]-n);return k}function u(k,n){n=n||1;const v=2*W.RANDOM()*Math.PI;k[0]=Math.cos(v)*n;k[1]=Math.sin(v)*n;return k}function C(k,n,v){const Y=n[0];n=n[1];k[0]=v[0]*Y+v[2]*n;k[1]=v[1]*Y+v[3]*n;return k}function S(k,n,v){const Y=n[0];n=n[1];k[0]=v[0]*Y+v[2]*n+v[4];k[1]=v[1]*Y+v[3]*n+v[5];return k}function N(k,
n,v){const Y=n[0];n=n[1];k[0]=v[0]*Y+v[3]*n+v[6];k[1]=v[1]*Y+v[4]*n+v[7];return k}function x(k,n,v){const Y=n[0];n=n[1];k[0]=v[0]*Y+v[4]*n+v[12];k[1]=v[1]*Y+v[5]*n+v[13];return k}function p(k,n,v,Y){const da=n[0]-v[0];n=n[1]-v[1];const ka=Math.sin(Y);Y=Math.cos(Y);k[0]=da*Y-n*ka+v[0];k[1]=da*ka+n*Y+v[1];return k}function r(k,n){var v=k[0];k=k[1];const Y=n[0];n=n[1];let da=v*v+k*k;0<da&&(da=1/Math.sqrt(da));let ka=Y*Y+n*n;0<ka&&(ka=1/Math.sqrt(ka));v=(v*Y+k*n)*da*ka;return 1<v?0:-1>v?Math.PI:Math.acos(v)}
function G(k){return"vec2("+k[0]+", "+k[1]+")"}function c(k,n){return k[0]===n[0]&&k[1]===n[1]}function d(k,n){const v=k[0];k=k[1];const Y=n[0];n=n[1];const da=W.getEpsilon();return Math.abs(v-Y)<=da*Math.max(1,Math.abs(v),Math.abs(Y))&&Math.abs(k-n)<=da*Math.max(1,Math.abs(k),Math.abs(n))}function t(k,n,v,Y,da){let ka=n[0]-v[0];v=n[1]-v[1];da=(Y[0]*ka+Y[1]*v)*(da-1);ka=Y[0]*da;v=Y[1]*da;k[0]=n[0]+ka;k[1]=n[1]+v;return k}const P=Object.freeze(Object.defineProperty({__proto__:null,add:q,angle:r,ceil:T,
copy:E,cross:na,dist:A,distance:A,div:z,divide:z,dot:qa,equals:d,exactEquals:c,floor:Z,inverse:ha,len:ba,length:ba,lerp:ja,max:J,min:y,mul:M,multiply:M,negate:ca,normalize:la,projectAndScale:t,random:u,rotate:p,round:D,scale:I,scaleAndAdd:R,set:h,sqrDist:U,sqrLen:ea,squaredDistance:U,squaredLength:ea,str:G,sub:w,subtract:w,transformMat2:C,transformMat2d:S,transformMat3:N,transformMat4:x},Symbol.toStringTag,{value:"Module"}));f.add=q;f.angle=r;f.ceil=T;f.copy=E;f.cross=na;f.dist=A;f.distance=A;f.div=
z;f.divide=z;f.dot=qa;f.equals=d;f.exactEquals=c;f.floor=Z;f.inverse=ha;f.len=ba;f.length=ba;f.lerp=ja;f.max=J;f.min=y;f.mul=M;f.multiply=M;f.negate=ca;f.normalize=la;f.projectAndScale=t;f.random=u;f.rotate=p;f.round=D;f.scale=I;f.scaleAndAdd=R;f.set=h;f.sqrDist=U;f.sqrLen=ea;f.squaredDistance=U;f.squaredLength=ea;f.str=G;f.sub=w;f.subtract=w;f.transformMat2=C;f.transformMat2d=S;f.transformMat3=N;f.transformMat4=x;f.vec2=P;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports",
"../../../../chunks/vec32"],function(f,W){class E{constructor(h,q,w=0,M,z){this.TypedArrayConstructor=h;this.elementCount=3;h=this.TypedArrayConstructor;void 0===M&&(M=3*h.BYTES_PER_ELEMENT);const T=0===q.byteLength?0:w;this.typedBuffer=null==z?new h(q,T):new h(q,T,(z-w)/h.BYTES_PER_ELEMENT);this.typedBufferStride=M/h.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(h,
q,w=this.count-q){q=this.typedBuffer.byteOffset+q*this.stride;return new h(this.buffer,q,this.stride,q+w*this.stride)}getVec(h,q){h*=this.typedBufferStride;return W.set(q,this.typedBuffer[h],this.typedBuffer[h+1],this.typedBuffer[h+2])}setVec(h,q){h*=this.typedBufferStride;this.typedBuffer[h++]=q[0];this.typedBuffer[h++]=q[1];this.typedBuffer[h]=q[2]}get(h,q){return this.typedBuffer[h*this.typedBufferStride+q]}set(h,q,w){this.typedBuffer[h*this.typedBufferStride+q]=w}setValues(h,q,w,M){h*=this.typedBufferStride;
this.typedBuffer[h++]=q;this.typedBuffer[h++]=w;this.typedBuffer[h]=M}copyFrom(h,q,w){const M=this.typedBuffer,z=q.typedBuffer;h*=this.typedBufferStride;q=w*q.typedBufferStride;M[h++]=z[q++];M[h++]=z[q++];M[h]=z[q]}get buffer(){return this.typedBuffer.buffer}}E.ElementCount=3;f.BufferViewVec3Impl=E;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/vec42"],function(f,W){class E{constructor(h,
q,w=0,M,z){this.TypedArrayConstructor=h;this.start=w;this.elementCount=4;h=this.TypedArrayConstructor;void 0===M&&(M=4*h.BYTES_PER_ELEMENT);const T=0===q.byteLength?0:w;this.typedBuffer=null==z?new h(q,T):new h(q,T,(z-w)/h.BYTES_PER_ELEMENT);this.typedBufferStride=M/h.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(h,q,w=this.count-q){q=this.typedBuffer.byteOffset+q*this.stride;
return new h(this.buffer,q,this.stride,q+w*this.stride)}getVec(h,q){h*=this.typedBufferStride;return W.set(q,this.typedBuffer[h++],this.typedBuffer[h++],this.typedBuffer[h++],this.typedBuffer[h])}setVec(h,q){h*=this.typedBufferStride;this.typedBuffer[h++]=q[0];this.typedBuffer[h++]=q[1];this.typedBuffer[h++]=q[2];this.typedBuffer[h]=q[3]}get(h,q){return this.typedBuffer[h*this.typedBufferStride+q]}set(h,q,w){this.typedBuffer[h*this.typedBufferStride+q]=w}setValues(h,q,w,M,z){h*=this.typedBufferStride;
this.typedBuffer[h++]=q;this.typedBuffer[h++]=w;this.typedBuffer[h++]=M;this.typedBuffer[h]=z}copyFrom(h,q,w){const M=this.typedBuffer,z=q.typedBuffer;h*=this.typedBufferStride;q=w*q.typedBufferStride;M[h++]=z[q++];M[h++]=z[q++];M[h++]=z[q++];M[h]=z[q]}get buffer(){return this.typedBuffer.buffer}}E.ElementCount=4;f.BufferViewVec4Impl=E;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec4":function(){define(["exports","../core/has","../geometry/support/buffer/math/common"],
function(f,W,E){function h(y,J,D){if(y.count===J.count){var I=y.count,R=D[0],A=D[1],U=D[2],ba=D[3],ea=D[4],ca=D[5],ha=D[6],la=D[7],qa=D[8],na=D[9],ja=D[10],u=D[11],C=D[12],S=D[13],N=D[14];D=D[15];var x=y.typedBuffer;y=y.typedBufferStride;var p=J.typedBuffer;J=J.typedBufferStride;for(let G=0;G<I;G++){const c=G*y;var r=G*J;const d=p[r],t=p[r+1],P=p[r+2];r=p[r+3];x[c]=R*d+ea*t+qa*P+C*r;x[c+1]=A*d+ca*t+na*P+S*r;x[c+2]=U*d+ha*t+ja*P+N*r;x[c+3]=ba*d+la*t+u*P+D*r}}}function q(y,J,D,I=4,R=I){if(y.length/
I!==J.length/R)E.getMathLogger().error("source and destination buffers need to have the same number of elements");else{var A=y.length/I,U=D[0],ba=D[1],ea=D[2],ca=D[3],ha=D[4],la=D[5],qa=D[6],na=D[7],ja=D[8],u=D[9],C=D[10],S=D[11],N=D[12],x=D[13],p=D[14];D=D[15];var r=0,G=0;for(let c=0;c<A;c++){const d=J[r],t=J[r+1],P=J[r+2],k=J[r+3];y[G]=U*d+ha*t+ja*P+N*k;y[G+1]=ba*d+la*t+u*P+x*k;y[G+2]=ea*d+qa*t+C*P+p*k;y[G+3]=ca*d+na*t+S*P+D*k;r+=R;G+=I}}}function w(y,J,D){M(y.typedBuffer,J.typedBuffer,D,y.typedBufferStride,
J.typedBufferStride)}function M(y,J,D,I=4,R=I){if(y.length/I===J.length/R){var A=y.length/I,U=D[0],ba=D[1],ea=D[2],ca=D[3],ha=D[4],la=D[5],qa=D[6],na=D[7];D=D[8];var ja=0,u=0;for(let C=0;C<A;C++){const S=J[ja],N=J[ja+1],x=J[ja+2],p=J[ja+3];y[u]=U*S+ca*N+qa*x;y[u+1]=ba*S+ha*N+na*x;y[u+2]=ea*S+la*N+D*x;y[u+3]=p;ja+=R;u+=I}}}function z(y,J){const D=Math.min(y.count,J.count),I=y.typedBuffer;y=y.typedBufferStride;const R=J.typedBuffer;J=J.typedBufferStride;for(let ba=0;ba<D;ba++){const ea=ba*y;var A=ba*
J;const ca=R[A],ha=R[A+1];A=R[A+2];var U=ca*ca+ha*ha+A*A;0<U&&(U=1/Math.sqrt(U),I[ea]=U*ca,I[ea+1]=U*ha,I[ea+2]=U*A)}}function T(y,J,D){Z(y.typedBuffer,J,D,y.typedBufferStride)}function Z(y,J,D,I=4){const R=Math.min(y.length/I,J.count),A=J.typedBuffer;J=J.typedBufferStride;let U=0,ba=0;for(let ea=0;ea<R;ea++)y[ba]=D*A[U],y[ba+1]=D*A[U+1],y[ba+2]=D*A[U+2],y[ba+3]=D*A[U+3],U+=J,ba+=I}W=Object.freeze(Object.defineProperty({__proto__:null,normalize:z,scale:Z,scaleView:T,transformMat3:M,transformMat3View:w,
transformMat4:q,transformMat4View:h},Symbol.toStringTag,{value:"Module"}));f.normalize=z;f.scale=Z;f.scaleView=T;f.transformMat3=M;f.transformMat3View=w;f.transformMat4=q;f.transformMat4View=h;f.vec4=W})},"esri/geometry/support/buffer/math/common":function(){define(["exports","../../../../core/Logger"],function(f,W){f.getMathLogger=()=>W.getLogger("esri.views.3d.support.buffer.math");Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../core/has","../../../core/libs/rbush/PooledRBush","../MeshGeoreferencedVertexSpace","./vertexSpaceConversion"],function(f,W,E,h){function q(y,J){const D=Array(J.length/9);let I=0;for(let R=0;R<J.length;R+=9)D[I++]=T(J,R,R+3,R+6);y.load(D);return{result:y.toJSON()}}function w(y,J,D){var I=0;for(var R of D)I+=R.length/3;I=Array(I);R=0;for(const A of D)for(D=0;D<A.length;D+=3)I[R++]=T(J,3*A[D],3*A[D+1],3*A[D+2]);y.load(I);return{result:y.toJSON()}}function M(y){const {vertexAttributes:{position:J},
vertexSpace:D,spatialReference:I,transform:R}=y,A=h.convertVertexSpace({vertexAttributes:{position:J},vertexSpace:D,spatialReference:I,transform:R},new E,{allowBufferReuse:!0})?.position;return A?!y.components||y.components.some(U=>!U.faces)?{position:A.buffer}:{position:A.buffer,components:y.components.map(U=>U.faces)}:null}function z(){return new W.PooledRBush(9,f("esri-csp-restrictions")?y=>y:[".minX",".minY",".maxX",".maxY"])}function T(y,J,D,I){return{minX:Math.min(y[J],y[D],y[I]),maxX:Math.max(y[J],
y[D],y[I]),minY:Math.min(y[J+1],y[D+1],y[I+1]),maxY:Math.max(y[J+1],y[D+1],y[I+1]),p0:[y[J],y[J+1],y[J+2]],p1:[y[D],y[D+1],y[D+2]],p2:[y[I],y[I+1],y[I+2]]}}class Z{async createIndex(y,J){const D=[];if(!y.vertexAttributes?.position)return new W.PooledRBush;y=M(y);J=null!=J?await J.invoke("createIndexThread",y,{transferList:D}):this.createIndexThread(y).result;return z().fromJSON(J)}createIndexThread(y){const J=z();if(!y)return{result:J.toJSON()};const D=new Float64Array(y.position);return y.components?
w(J,D,y.components.map(I=>new Uint32Array(I))):q(J,D)}}return Z});