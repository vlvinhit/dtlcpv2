// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.30/esri/copyright.txt for details.
if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&(window.dojoConfig||(window.dojoConfig={}),!window.dojoConfig.hasOwnProperty("baseUrl"))){const o=window.document.currentScript.src;let d;d=o.endsWith("/init.js")?o.slice(0,o.lastIndexOf("/"))+"/dojo":o.endsWith("/dojo/dojo.js")?o.slice(0,o.lastIndexOf("/")):o+(o.endsWith("/")?"dojo":"/dojo"),window.dojoConfig.baseUrl=d}
//>>built
(function(a,b){var c,e,d,p=function(){return"undefined"!==typeof r&&"function"!==typeof r?r:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),n=function(){},f=function(aa){for(var za in aa)return 0;return 1},g={}.toString,k=function(aa){return"[object Function]"==g.call(aa)},l=function(aa){return"[object String]"==g.call(aa)},w=function(aa){return"[object Array]"==g.call(aa)},q=function(aa,za){if(aa)for(var Ka=0;Ka<aa.length;)za(aa[Ka++])},m=function(aa,za){for(var Ka in za)aa[Ka]=
za[Ka];return aa},h=function(aa,za){return m(Error(aa),{src:"dojoLoader",info:za})},t=1,y=function(){return"_"+t++},u=function(aa,za,Ka){return M(aa,za,Ka,0,u)},r=p,z=r.document,v=z&&z.createElement("DiV"),x=u.has=function(aa){return k(B[aa])?B[aa]=B[aa](r,z,v):B[aa]},B=x.cache=b.hasCache;k(a)&&(a=a(p));x.add=function(aa,za,Ka,Ma){(void 0===B[aa]||Ma)&&(B[aa]=za);return Ka&&x(aa)};x.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);x("host-webworker")&&
(m(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(aa,za){try{importScripts(aa),za()}catch(Ka){console.info("failed to load resource ("+aa+")"),console.error(Ka)}}});for(var A in a.has)x.add(A,a.has[A],0,1);var C=0,H=[],N=0,I=n,E=n;u.isXdUrl=n;u.initSyncLoader=function(aa,za,Ka){N||(N=aa,I=za,E=Ka);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,
syncExecStack:H,modules:Aa,execQ:X,getModule:na,injectModule:hb,setArrived:fa,signal:U,finishExec:La,execModule:Ta,dojoRequirePlugin:N,getLegacyMode:function(){return C},guardCheckComplete:Wa}};if(x("dom")||x("host-webworker")){var G=location.protocol,L=location.host;u.isXdUrl=function(aa){return/^\./.test(aa)?!1:/^\/\//.test(aa)?!0:(aa=aa.match(/^([^\/:]+:)\/+([^\/]+)/))&&(aa[1]!=G||L&&aa[2]!=L)};x.add("dojo-force-activex-xhr",x("host-browser")&&!z.addEventListener&&"file:"==window.location.protocol);
if(x("dojo-force-activex-xhr")){var R=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(d=0;3>d;)try{var F=R[d++];new ActiveXObject(F);break}catch(aa){}var J=function(){return new ActiveXObject(F)}}else J=function(){return new XMLHttpRequest};u.getXhr=J;x.add("dojo-gettext-api",1);u.getText=function(aa,za,Ka){var Ma=J();Ma.open("GET",$a(aa),!1);Ma.send(null);if(200==Ma.status||!location.host&&!Ma.status)Ka&&Ka(Ma.responseText,za);else throw h("xhrFailed",Ma.status);return Ma.responseText}}u.eval=
function(aa,za){};var O={},U=u.signal=function(aa,za){aa=O[aa];q(aa&&aa.slice(0),function(Ka){Ka.apply(null,w(za)?za:[za])})},T=u.on=function(aa,za){var Ka=O[aa]||(O[aa]=[]);Ka.push(za);return{remove:function(){for(var Ma=0;Ma<Ka.length;Ma++)if(Ka[Ma]===za){Ka.splice(Ma,1);break}}}},Z=[],V={},qa=[],Ca={},va=u.map={},ra=[],Aa={},ea="",ca={},Y={},ha={},ua=0;if(!x("foreign-loader"))var K=function(aa,za){za=!1!==za;var Ka,Ma;for(Ka in Y){var Va=Y[Ka];if(Ma=Ka.match(/^url:(.+)/))ca["url:"+Oa(Ma[1],aa)]=
Va;else if("*now"==Ka)var ab=Va;else"*noref"!=Ka&&(Ma=Pa(Ka,aa,!0),ca[Ma.mid]=ca["url:"+Ma.url]=Va)}ab&&ab(S(aa));za&&(Y={})};var Q=function(aa){return aa.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(za){return"\\"+za})},ia=function(aa,za){za.splice(0,za.length);for(var Ka in aa)za.push([Ka,aa[Ka],new RegExp("^"+Q(Ka)+"(/|$)"),Ka.length]);za.sort(function(Ma,Va){return Va[3]-Ma[3]});return za},ka=function(aa,za){q(aa,function(Ka){za.push([l(Ka[0])?new RegExp("^"+Q(Ka[0])+"$"):Ka[0],Ka[1]])})},
Ba=function(aa){var za=aa.name;za||(za=aa,aa={name:za});aa=m({main:"main"},aa);aa.location=aa.location?aa.location:za;aa.packageMap&&(va[za]=aa.packageMap);aa.main.indexOf("./")||(aa.main=aa.main.substring(2));Ca[za]=aa},W=[],da=function(aa,za,Ka){for(var Ma in aa){"waitSeconds"==Ma&&(u.waitms=1E3*(aa[Ma]||0));"cacheBust"==Ma&&(ea=aa[Ma]?l(aa[Ma])?aa[Ma]:(new Date).getTime()+"":"");if("baseUrl"==Ma||"combo"==Ma)u[Ma]=aa[Ma];if("async"==Ma){var Va=aa[Ma];u.legacyMode=C=l(Va)&&/sync|legacyAsync/.test(Va)?
Va:Va?!1:"sync";u.async=!C}aa[Ma]!==B&&(u.rawConfig[Ma]=aa[Ma],"has"!=Ma&&x.add("config-"+Ma,aa[Ma],0,za))}u.baseUrl||(u.baseUrl="./");/\/$/.test(u.baseUrl)||(u.baseUrl+="/");for(Ma in aa.has)x.add(Ma,aa.has[Ma],0,za);q(aa.packages,Ba);for(var ab in aa.packagePaths)q(aa.packagePaths[ab],function(mb){var Ab=ab+"/"+mb;l(mb)&&(mb={name:mb});mb.location=Ab;Ba(mb)});ia(m(va,aa.map),ra);q(ra,function(mb){mb[1]=ia(mb[1],[]);"*"==mb[0]&&(ra.star=mb)});ia(m(V,aa.paths),qa);ka(aa.aliases,Z);if(!x("foreign-loader")){if(za)W.push({config:aa.config});
else for(Ma in aa.config)za=na(Ma,Ka),za.config=m(za.config||{},aa.config[Ma]);aa.cache&&(K(),Y=aa.cache,K(0,!!aa.cache["*noref"]))}U("config",[aa,u.rawConfig])};u.rawConfig={};da(b,1);da(a,1);da(ha,1);if(!x("foreign-loader"))var ja=function(aa){Wa(function(){q(aa.deps,hb)})},M=function(aa,za,Ka,Ma,Va){var ab;if(l(aa)){if((ab=na(aa,Ma,!0))&&ab.executed)return ab.result;throw h("undefinedModule",aa);}w(aa)||(da(aa,0,Ma),aa=za,za=Ka);if(w(aa))if(aa.length){Ka="require*"+y();for(var mb,Ab=[],Ob=0;Ob<
aa.length;)mb=aa[Ob++],Ab.push(na(mb,Ma));ab=m(Ea("",Ka,0,""),{injected:2,deps:Ab,def:za||n,require:Ma?Ma.require:u,gc:1});Aa[ab.mid]=ab;ja(ab);var Rb=Ya&&"sync"!=C;Wa(function(){Ta(ab,Rb)});ab.executed||X.push(ab);bb()}else za&&za();return Va},S=function(aa){if(!aa)return u;var za=aa.require;za||(za=function(Ka,Ma,Va){return M(Ka,Ma,Va,aa,za)},aa.require=m(za,u),za.module=aa,za.toUrl=function(Ka){return Oa(Ka,aa)},za.toAbsMid=function(Ka){return xa(Ka,aa)},za.syncLoadNls=function(Ka){Ka=Pa(Ka,aa);
var Ma=Aa[Ka.mid];if(!Ma||!Ma.executed)if(cb=ca[Ka.mid]||ca["url:"+Ka.url])fb(cb),Ma=Aa[Ka.mid];return Ma&&Ma.executed&&Ma.result});return za},X=[],ma=[],ya={},Ia=function(aa){aa.injected=1;ya[aa.mid]=1;aa.url&&(ya[aa.url]=aa.pack||1);ub()},fa=function(aa){aa.injected=2;delete ya[aa.mid];aa.url&&delete ya[aa.url];f(ya)&&(Ha(),"xd"==C&&(C="sync"))},oa=u.idle=function(){return!ma.length&&f(ya)&&!X.length&&!Ya};var ta=function(aa,za){if(za)for(var Ka=0;Ka<za.length;Ka++)if(za[Ka][2].test(aa))return za[Ka];
return 0},Fa=function(aa){var za=[];for(aa=aa.replace(/\\/g,"/").split("/");aa.length;){var Ka=aa.shift();if(".."==Ka&&za.length&&".."!=Ma){za.pop();var Ma=za[za.length-1]}else"."!=Ka&&za.push(Ma=Ka)}return za.join("/")},Ea=function(aa,za,Ka,Ma){var Va=u.isXdUrl(Ma);return{pid:aa,mid:za,pack:Ka,url:Ma,executed:0,def:0,isXd:Va,isAmd:!!(Va||Ca[aa]&&Ca[aa].isAmd)}},Qa=function(aa,za,Ka,Ma,Va,ab,mb,Ab,Ob,Rb){var Lb,Vb,Hb;var Sb=/^\./.test(aa);if(/(^\/)|(:)|(\.js$)/.test(aa)||Sb&&!za)return Ea(0,aa,0,
aa);aa=Fa(Sb?za.mid+"/../"+aa:aa);if(/^\./.test(aa))throw h("irrationalPath",aa);Rb||Sb||!ab.star||(Hb=ta(aa,ab.star[1]));!Hb&&za&&(Hb=(Hb=ta(za.mid,ab))&&ta(aa,Hb[1]));Hb&&(aa=Hb[1]+aa.substring(Hb[3]));za=(c=aa.match(/^([^\/]+)(\/(.+))?$/))?c[1]:"";(Lb=Ka[za])?aa=za+"/"+(Vb=c[3]||Lb.main):za="";var Tb=0;q(Ab,function(Pb){var Wb=aa.match(Pb[0]);Wb&&0<Wb.length&&(Tb=k(Pb[1])?aa.replace(Pb[0],Pb[1]):Pb[1])});if(Tb)return Qa(Tb,0,Ka,Ma,Va,ab,mb,Ab,Ob);if(Ka=Ma[aa])return Ob?Ea(Ka.pid,Ka.mid,Ka.pack,
Ka.url):Ma[aa];Ma=(Hb=ta(aa,mb))?Hb[1]+aa.substring(Hb[3]):za?("/"===Lb.location.slice(-1)?Lb.location.slice(0,-1):Lb.location)+"/"+Vb:aa;/(^\/)|(:)/.test(Ma)||(Ma=Va+Ma);return Ea(za,aa,Lb,Fa(Ma+".js"))},Pa=function(aa,za,Ka){return Qa(aa,za,Ca,Aa,u.baseUrl,ra,qa,Z,void 0,Ka)};if(!x("foreign-loader"))var Ra=function(aa,za,Ka){return aa.normalize?aa.normalize(za,function(Ma){return xa(Ma,Ka)}):xa(za,Ka)},Sa=0,na=function(aa,za,Ka){var Ma;if(Ma=aa.match(/^(.+?)!(.*)$/)){var Va=na(Ma[1],za,Ka);"sync"!=
C||Va.executed||(hb(Va),2!==Va.injected||Va.executed||Wa(function(){Ta(Va)}),Va.executed?pa(Va):X.unshift(Va));5!==Va.executed||Va.load||pa(Va);Va.load?(Ma=Ra(Va,Ma[2],za),aa=Va.mid+"!"+(Va.dynamic?++Sa+"!":"")+Ma):(Ma=Ma[2],aa=Va.mid+"!"+ ++Sa+"!waitingForPlugin");aa={plugin:Va,mid:aa,req:S(za),prid:Ma}}else aa=Pa(aa,za);return Aa[aa.mid]||!Ka&&(Aa[aa.mid]=aa)};var xa=u.toAbsMid=function(aa,za){return Pa(aa,za).mid},Oa=u.toUrl=function(aa,za){za=Pa(aa+"/x",za);var Ka=za.url;return $a(0===za.pid?
aa:Ka.substring(0,Ka.length-5))};if(!x("foreign-loader"))var Ua={injected:2,executed:5,def:3,result:3},gb=function(aa){return Aa[aa]=m({mid:aa},Ua)},rb=gb("require"),qb=gb("exports"),Eb=gb("module"),zb={},sb=0,pa=function(aa){var za=aa.result;aa.dynamic=za.dynamic;aa.normalize=za.normalize;aa.load=za.load;return aa},sa=function(aa){var za={};q(aa.loadQ,function(Va){var ab=Ra(aa,Va.prid,Va.req.module),mb=aa.dynamic?Va.mid.replace(/waitingForPlugin$/,ab):aa.mid+"!"+ab;ab=m(m({},Va),{mid:mb,prid:ab,
injected:0});Aa[mb]&&Aa[mb].injected||jb(Aa[mb]=ab);za[Va.mid]=Aa[mb];fa(Va);delete Aa[Va.mid]});aa.loadQ=0;var Ka=function(Va){for(var ab=Va.deps||[],mb=0;mb<ab.length;mb++)(Va=za[ab[mb].mid])&&(ab[mb]=Va)},Ma;for(Ma in Aa)Ka(Aa[Ma]);q(X,Ka)},La=function(aa){u.trace("loader-finish-exec",[aa.mid]);aa.executed=5;aa.defOrder=sb++;q(aa.provides,function(za){za()});aa.loadQ&&(pa(aa),sa(aa));for(d=0;d<X.length;)X[d]===aa?X.splice(d,1):d++;/^require\*/.test(aa.mid)&&delete Aa[aa.mid]},Da=[],Ta=function(aa,
za){if(4===aa.executed)return u.trace("loader-circular-dependency",[Da.concat(aa.mid).join("-\x3e")]),!aa.def||za?zb:aa.cjs&&aa.cjs.exports;if(!aa.executed){if(!aa.def)return zb;var Ka=aa.mid,Ma=aa.deps||[],Va,ab=[],mb=0;for(aa.executed=4;Va=Ma[mb++];){Va=Va===rb?S(aa):Va===qb?aa.cjs.exports:Va===Eb?aa.cjs:Ta(Va,za);if(Va===zb)return aa.executed=0,u.trace("loader-exec-module",["abort",Ka]),zb;ab.push(Va)}u.trace("loader-run-factory",[aa.mid]);za=aa.def;H.unshift(aa);ab=k(za)?za.apply(null,ab):za;
aa.result=void 0===ab&&aa.cjs?aa.cjs.exports:ab;H.shift(aa);La(aa)}return aa.result},Ya=0,Wa=function(aa){try{Ya++,aa()}catch(za){throw za;}finally{Ya--}oa()&&U("idle",[])},bb=function(){Ya||Wa(function(){I();for(var aa,za,Ka=0;Ka<X.length;)aa=sb,za=X[Ka],Ta(za),aa!=sb?(I(),Ka=0):Ka++})};var $a="function"==typeof a.fixupUrl?a.fixupUrl:function(aa){aa+="";return aa+(ea?(/\?/.test(aa)?"\x26":"?")+ea:"")};void 0===x("dojo-loader-eval-hint-url")&&x.add("dojo-loader-eval-hint-url",1);var jb=function(aa){var za=
aa.plugin;5!==za.executed||za.load||pa(za);var Ka=function(Ma){aa.result=Ma;fa(aa);La(aa);bb()};za.load?za.load(aa.prid,aa.req,Ka):za.loadQ?za.loadQ.push(aa):(za.loadQ=[aa],X.unshift(za),hb(za))},cb=0,fb=function(aa,za){x("config-stripStrict")&&(aa=aa.replace(/(["'])use strict\1/g,""));aa===cb?cb.call(null):u.eval(aa,x("dojo-loader-eval-hint-url")?za.url:za.mid)},hb=function(aa){var za=aa.mid,Ka=aa.url;if(!(aa.executed||aa.injected||ya[za]||aa.url&&(aa.pack&&ya[aa.url]===aa.pack||1==ya[aa.url])))if(Ia(aa),
aa.plugin)jb(aa);else{var Ma=function(){pb(aa);if(2!==aa.injected){if(x("dojo-enforceDefine")){U("error",h("noDefine",aa));return}fa(aa);m(aa,Ua);u.trace("loader-define-nonmodule",[aa.url])}C?!H.length&&bb():bb()};if(cb=ca[za]||ca["url:"+aa.url])u.trace("loader-inject",["cache",aa.mid,Ka]),fb(cb,aa),Ma();else{if(C)if(aa.isXd)"sync"==C&&(C="xd");else if(!aa.isAmd||"sync"==C){u.trace("loader-inject",["xhr",aa.mid,Ka,"sync"!=C]);u.getText(Ka,"sync"!=C,function(Va){if("sync"==C){H.unshift(aa);fb(Va,aa);
H.shift();pb(aa);aa.cjs||(fa(aa),La(aa));if(aa.finish){Va=za+"*finish";var ab=aa.finish;delete aa.finish;db(Va,["dojo",("dojo/require!"+ab.join(",")).replace(/\./g,"/")],function(mb){q(ab,function(Ab){mb.require(Ab)})});X.unshift(na(Va))}Ma()}else(Va=E(aa,Va))?(fb(Va,aa),Ma()):u.injectUrl($a(Ka),Ma,aa)});return}u.trace("loader-inject",["script",aa.mid,Ka]);u.injectUrl($a(Ka),Ma,aa)}}},ib=function(aa,za,Ka){u.trace("loader-define-module",[aa.mid,za]);var Ma=aa.mid;if(2===aa.injected)return U("error",
h("multipleDefine",aa)),aa;m(aa,{deps:za,def:Ka,cjs:{id:aa.mid,uri:aa.url,exports:aa.result={},setExports:function(ab){aa.cjs.exports=ab},config:function(){return aa.config}}});for(var Va=0;za[Va];Va++)za[Va]=na(za[Va],aa);C&&!ya[Ma]&&(ja(aa),X.push(aa),bb());fa(aa);k(Ka)||za.length||(aa.result=Ka,La(aa));return aa},pb=function(aa,za){for(var Ka=[],Ma,Va;ma.length;)Va=ma.shift(),za&&(Va[0]=za.shift()),Ma=Va[0]&&na(Va[0])||aa,Ka.push([Ma,Va[1],Va[2]]);K(aa);q(Ka,function(ab){ja(ib.apply(null,ab))})},
Ha=n,ub=n;x("dom");if(x("dom")){var Jb=function(aa,za,Ka,Ma){aa.addEventListener(za,Ma,!1);return function(){aa.removeEventListener(za,Ma,!1)}},Bb=Jb(window,"load","onload",function(){u.pageLoaded=1;try{"complete"!=z.readyState&&(z.readyState="complete")}catch(aa){}Bb()});var Ib=z.getElementsByTagName("script");for(d=0;!ua;)/^dojo/.test((e=Ib[d++])&&e.type)||(ua=e);u.injectUrl=function(aa,za,Ka){Ka=Ka.node=z.createElement("script");var Ma=Jb(Ka,"load","onreadystatechange",function(ab){ab=ab||window.event;
var mb=ab.target||ab.srcElement;if("load"===ab.type||/complete|loaded/.test(mb.readyState))Ma(),Va(),za&&za()}),Va=Jb(Ka,"error","onerror",function(ab){Ma();Va();U("error",h("scriptError: "+aa,[aa,ab]))});Ka.type="text/javascript";Ka.charset="utf-8";Ka.src=aa;ua.parentNode.insertBefore(Ka,ua);return Ka}}u.log=n;u.trace=n;if(x("foreign-loader"))db=n;else{var db=function(aa,za,Ka){var Ma=arguments.length,Va=["require","exports","module"],ab=[0,aa,za];1==Ma?ab=[0,k(aa)?Va:[],aa]:2==Ma&&l(aa)?ab=[aa,
k(za)?Va:[],za]:3==Ma&&(ab=[aa,za,Ka]);u.trace("loader-define",ab.slice(0,2));(Ma=ab[0]&&na(ab[0]))&&!ya[Ma.mid]?ja(ib(Ma,ab[1],ab[2])):ma.push(ab)};db.amd={vendor:"dojotoolkit.org"}}m(m(u,b.loaderPatch),a.loaderPatch);T("error",function(aa){try{if(console.error(aa),aa instanceof Error){for(var za in aa)console.log(za+":",aa[za]);console.log(".")}}catch(Ka){}});m(u,{uid:y,cache:ca,packs:Ca});if(!r.define&&(r.define=db,r.require=u,!x("foreign-loader"))){q(W,function(aa){da(aa)});var eb=ha.deps||a.deps||
b.deps,Ga=ha.callback||a.callback||b.callback;u.boot=eb||Ga?[eb||[],Ga]:0}})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,deps:["esri/kernel"],hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/Map":function(){define("./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w,q,
m,h,t,y,u){e=class extends u.TablesMixin(y.LayersMixin(p.EventedMixin(e))){constructor(r){super(r);this.allLayers=new d({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:z=>"layers"in z?z.layers:null});this.allTables=h.createFlattenedTablesCollection(this);this.basemap=null;this.editableLayers=new d({getCollections:()=>[this.allLayers],itemFilterFunction:q.isEditableLayer});this.ground=new c;this._basemapCache=m.createCache()}destroy(){m.destroyCache(this._basemapCache);
this._basemapCache=null;this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();this.basemap=n.destroyMaybe(this.basemap);n.destroyMaybe(this.ground);this._set("ground",null)}castBasemap(r){return m.ensureType(r,this._basemapCache)}castGround(r){r=t.ensureType(r);return null==r?this._get("ground"):r}findLayerById(r){return this.allLayers.find(z=>z.id===r)}findTableById(r){return this.allTables.find(z=>z.id===r)}};a.__decorate([f.property({readOnly:!0,dependsOn:[]})],e.prototype,
"allLayers",void 0);a.__decorate([f.property({readOnly:!0})],e.prototype,"allTables",void 0);a.__decorate([f.property({type:b,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],e.prototype,"basemap",void 0);a.__decorate([g.cast("basemap")],e.prototype,"castBasemap",null);a.__decorate([f.property({readOnly:!0})],e.prototype,"editableLayers",void 0);a.__decorate([f.property({type:c,nonNullable:!0})],e.prototype,"ground",void 0);a.__decorate([g.cast("ground")],e.prototype,"castGround",null);
a.__decorate([f.property()],e.prototype,"undoRedo",void 0);return e=a.__decorate([w.subclass("esri.Map")],e)})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){"function"===typeof SuppressedError?SuppressedError:function(b,c,e){e=Error(e);return e.name="SuppressedError",e.error=b,e.suppressed=c,e};a.__awaiter=function(b,c,e,d){function p(n){return n instanceof e?n:new e(function(f){f(n)})}return new (e||=Promise)(function(n,f){function g(w){try{l(d.next(w))}catch(q){f(q)}}function k(w){try{l(d["throw"](w))}catch(q){f(q)}}
function l(w){w.done?n(w.value):p(w.value).then(g,k)}l((d=d.apply(b,c||[])).next())})};a.__decorate=function(b,c,e,d){var p=arguments.length,n=3>p?c:null===d?d=Object.getOwnPropertyDescriptor(c,e):d,f;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(b,c,e,d);else for(var g=b.length-1;0<=g;g--)if(f=b[g])n=(3>p?f(n):3<p?f(c,e,n):f(c,e))||n;return 3<p&&n&&Object.defineProperty(c,e,n),n};a.__param=function(b,c){return function(e,d){c(e,d,b)}}})},"esri/Basemap":function(){define("require ./chunks/tslib.es6 ./request ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/has ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./support/BasemapStyle ./webdoc/support/writeUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B){var A;let C=0;p=A=class extends p.JSONSupportMixin(f){constructor(I){super(I);this.thumbnailUrl=this.style=this.spatialReference=this.portalItem=this.id=null;this.title="Basemap";this.id=Date.now().toString(16)+"-basemap-"+C++;this.baseLayers=new e;this.referenceLayers=new e;const E=G=>{G.parent&&G.parent!==this&&"remove"in G.parent&&G.parent.remove(G);G.parent=this;"elevation"===G.type&&k.getLogger(this).error(`Layer '${G.title}, id:${G.id}' of type '${G.type}' is not supported as a basemap layer and will therefore be ignored.`)};
this.addHandles([this.baseLayers.on("after-add",G=>E(G.item)),this.referenceLayers.on("after-add",G=>E(G.item)),this.baseLayers.on("after-remove",G=>{G.item.parent=null}),this.referenceLayers.on("after-remove",G=>{G.item.parent=null})])}initialize(){this.when().catch(I=>{k.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,I)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var I=this.baseLayers.toArray();for(const E of I)E.destroy();
I=this.referenceLayers.toArray();for(const E of I)E.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem=l.destroyMaybe(this.portalItem)}normalizeCtorArgs(I){I&&"resourceInfo"in I&&(this._set("resourceInfo",I.resourceInfo),I={...I},delete I.resourceInfo);return I}set baseLayers(I){this._set("baseLayers",d.referenceSetter(I,this._get("baseLayers")))}_writeBaseLayers(I,E,G){const L=[];I&&(G={...G,layerContainerType:"basemap"},this.baseLayers.forEach(R=>{R=B.getLayerJSON(R,
G.webmap?G.webmap.getLayerJSONFromResourceInfo(R):null,G);null!=R&&L.push(R)}),this.referenceLayers.forEach(R=>{const F=B.getLayerJSON(R,G.webmap?G.webmap.getLayerJSONFromResourceInfo(R):null,G);null!=F&&("scene"!==R.type&&(F.isReference=!0),L.push(F))}));E.baseMapLayers=L}set referenceLayers(I){this._set("referenceLayers",d.referenceSetter(I,this._get("referenceLayers")))}writeTitle(I,E){E.title=I||"Basemap"}load(I){this.addResolvingPromise(this._loadFromSource(I));return Promise.resolve(this)}loadAll(){return g.loadAll(this,
I=>{I(this.baseLayers,this.referenceLayers)})}clone(){const I={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(E=>n.isClonable(E)?E.clone():E),referenceLayers:this.referenceLayers.map(E=>n.isClonable(E)?E.clone():E)};this.loaded&&(I.loadStatus="loaded");return(new A({resourceInfo:this.resourceInfo})).set(I)}read(I,E){this.resourceInfo||this._set("resourceInfo",{data:I,context:E});super.read(I,E)}write(I,E){I=I||{};E?.origin||(E={origin:"web-map",...E});super.write(I,
E);!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(I.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(G=>{G=n.clone(G);G.url&&q.isProtocolRelative(G.url)&&(G.url=`https:${G.url}`);G.templateUrl&&q.isProtocolRelative(G.templateUrl)&&(G.templateUrl=`https:${G.templateUrl}`);return G}));return I}async _loadFromSource(I){const {resourceInfo:E,portalItem:G,style:L}=this;w.throwIfAborted(I);const R=[];E?(R.push(this._loadLayersFromJSON(E.data,E.context?E.context.url:null,I)),E.data.id&&!E.data.title&&
R.push(v.getBasemapTitle(E.data.id).then(F=>{F&&this.read({title:F},E.context)}))):G?R.push(this._loadFromItem(G,I)):L&&R.push(this._loadFromStylesService(L,I));await Promise.all(R)}async _loadLayersFromJSON(I,E,G){const L=this.resourceInfo?.context,R=this.portalItem?.portal||L?.portal||null,F=N[L?.origin||""]??"web-map",{populateOperationalLayers:J}=await new Promise((U,T)=>a(["./layers/support/layersCreator"],U,T)),O=[];w.throwIfAborted(G);if(I.baseMapLayers&&Array.isArray(I.baseMapLayers)){E={context:{...L,
origin:F,url:E,portal:R,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const U=T=>"web-scene"===F&&"ArcGISSceneServiceLayer"===T.layerType||T.isReference;G=J(this.baseLayers,I.baseMapLayers.filter(T=>!U(T)),E);O.push(G);I=J(this.referenceLayers,I.baseMapLayers.filter(U),E);O.push(I)}await Promise.allSettled(O)}async _loadFromItem(I,E){const G=await (await I.load(E)).fetchData("json",E),L=q.urlToObject(I.itemUrl??"");this._set("resourceInfo",{data:G.baseMap??{},context:{origin:H[I.type||
""]??"web-map",portal:I.portal||r.getDefault(),url:L}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:G.spatialReference},this.resourceInfo.context);this.read({title:I.title,thumbnailUrl:I.thumbnailUrl},{origin:"portal-item",portal:I.portal||r.getDefault(),url:L});return this._loadLayersFromJSON(this.resourceInfo.data,L,E)}async _loadFromStylesService(I,E){var G=`${I.serviceUrl}/${I.id}`;I=(await c(G,{query:{language:I.getLanguageParamValue(),places:I.places,
worldview:I.worldview},signal:E?.signal})).data;G=q.urlToObject(G);this._set("resourceInfo",{data:I.baseMap??{},context:{origin:"web-map",url:G}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:I.spatialReference},this.resourceInfo.context);return this._loadLayersFromJSON(this.resourceInfo.data,G,E)}static fromId(I){return(I=v.esriBasemapDefinitions[I])?I.itemId?new A({portalItem:{id:I.itemId,portal:{url:"https://www.arcgis.com"}}}):A.fromJSON(I,{origin:I.is3d?
"web-scene":"web-map"}):null}};b.__decorate([m.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(I,E,G,L){this._writeBaseLayers(I,E,L)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:e}},writer(I,E,G,L){this._writeBaseLayers(I,E,L)}}}}}})],p.prototype,"baseLayers",null);b.__decorate([m.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],p.prototype,"id",void 0);b.__decorate([m.property({type:z})],p.prototype,"portalItem",void 0);b.__decorate([m.property()],
p.prototype,"referenceLayers",null);b.__decorate([m.property({readOnly:!0})],p.prototype,"resourceInfo",void 0);b.__decorate([m.property({type:u})],p.prototype,"spatialReference",void 0);b.__decorate([m.property({type:x})],p.prototype,"style",void 0);b.__decorate([m.property()],p.prototype,"thumbnailUrl",void 0);b.__decorate([m.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],p.prototype,"title",void 0);b.__decorate([y.writer("title")],p.prototype,"writeTitle",null);p=
A=b.__decorate([t.subclass("esri.Basemap")],p);const H={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},N={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"};return p})},"esri/request":function(){define("require ./config ./kernel ./core/Error ./core/has ./core/lang ./core/promiseUtils ./core/urlUtils ./portal/support/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),function(a,b,c,e,d,p,n,f,g,k,l){async function w(O,U){O instanceof URL&&(O=
O.toString());U?.query instanceof URLSearchParams&&(U.query=f.queryToObject(U.query.toString().replaceAll("+"," ")));var T=f.isDataProtocol(O);const Z=f.isBlobProtocol(O);Z||T||(O=f.normalize(O));const V={url:O,requestOptions:{...U}};U=ra=>({data:ra,getAllHeaders:F,getHeader:F,httpStatus:200,requestOptions:V.requestOptions,url:V.url});var qa=f.getInterceptor(O,I.internalInterceptors);if(qa&&(qa=await v(qa,V),null!=qa))return U(qa);if(qa=f.getInterceptor(O)){O=await v(qa,V);if(null!=O)return U(O);
qa.after||qa.error||(qa=null)}O=V.url;U=V.requestOptions;if("image"===U.responseType&&(d("host-webworker")||d("host-node")))throw h("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),V);if("head"===U.method){if(U.body)throw h("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),V);if(T||Z)throw h("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),V);}await t();
if(N)return N.execute(O,U);const Ca=new AbortController,va=n.onAbort(U,()=>Ca.abort());T=await A({controller:Ca,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:qa,params:V,redoRequest:!1,useIdentity:I.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1}).finally(()=>va?.remove());qa?.after?.(T);return T}function q(O){(O=f.getOrigin(O))&&!w._corsServers.includes(O)&&w._corsServers.push(O)}function m(O){O=f.getOrigin(O);return!O||O.endsWith(".arcgis.com")||w._corsServers.includes(O)||
f.isTrustedServer(O)}function h(O,U,T,Z){let V="Error";const qa={url:T.url,requestOptions:T.requestOptions,getAllHeaders:F,getHeader:F,ssl:!1};if(U instanceof e)return U.details?(U.details=p.clone(U.details),U.details.url=T.url,U.details.requestOptions=T.requestOptions):U.details=qa,U;if(U){T=Z&&(()=>Array.from(Z.headers));const Ca=Z&&(ra=>Z.headers.get(ra)),va=U.message;va&&(V=va);T&&Ca&&(qa.getAllHeaders=T,qa.getHeader=Ca);qa.httpStatus=(null!=U.httpCode?U.httpCode:U.code)||Z?.status||0;qa.subCode=
U.subcode;qa.messageCode=U.messageCode;qa.messages="string"===typeof U.details?[U.details]:U.details;qa.raw=J in U?U[J]:U}return n.isAbortError(U)?n.createAbortError():new e(O,V,qa)}async function t(){d("host-webworker")&&!N&&(N=await new Promise((O,U)=>a(["./core/workers/request"],O,U)))}async function y(){c.id||await new Promise((O,U)=>a(["./identity/IdentityManager"],T=>O(Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"}))),U))}async function u(O){const U=
O.params.url,T=O.params.requestOptions,Z=O.controller.signal,V=T.body;let qa=null,Ca=null;E&&"HTMLFormElement"in globalThis&&(V instanceof FormData?qa=V:V instanceof HTMLFormElement&&(qa=new FormData(V)));"string"===typeof V&&(Ca=V);O.fetchOptions={cache:T.cacheBust?"no-cache":"default",credentials:"same-origin",headers:T.headers||{},method:"head"===T.method?"HEAD":"GET",mode:"cors",priority:I.priority,redirect:"follow",signal:Z};if(qa||Ca)O.fetchOptions.body=qa||Ca;"anonymous"===T.authMode&&(O.useIdentity=
!1);O.hasToken=!!(/token=/i.test(U)||T.query?.token||qa?.get("token"));!O.hasToken&&b.apiKey&&k.supportsApiKey(U)&&(T.query||(T.query={}),T.query.token=b.apiKey,O.hasToken=!0);if(O.useIdentity&&!O.hasToken&&!O.credentialToken&&!r(U)&&!n.isAborted(Z)){let va;"immediate"===T.authMode?(await y(),va=await c.id.getCredential(U,{signal:Z}),O.credential=va):"no-prompt"===T.authMode?(await y(),va=await c.id.getCredential(U,{prompt:!1,signal:Z}).catch(()=>{}),O.credential=va):c.id&&(va=c.id.findCredential(U));
va&&(O.credentialToken=va.token,O.useSSL=!!va.ssl)}}function r(O){return R.some(U=>U.test(O))}async function z(O){let U=O.params.url;const T=O.params.requestOptions,Z=O.fetchOptions??{},V=f.isBlobProtocol(U)||f.isDataProtocol(U),qa=T.responseType||"json";var Ca=V?0:null!=T.timeout?T.timeout:I.timeout,va=!1;if(!V){O.useSSL&&(U=f.toHTTPS(U));var ra={...T.query};O.credentialToken&&(ra.token=O.credentialToken);va=f.objectToQuery(ra);d("esri-url-encodes-apostrophe")&&(va=va.replaceAll("'","%27"));const ca=
U.length+1+va.length;let Y;va="delete"===T.method||"post"===T.method||"put"===T.method||!!T.body||ca>I.maxUrlLength;const ha=T.useProxy||!!f.getProxyRule(U);if(ha){const ua=f.getProxyUrl(U);Y=ua.path;!va&&Y.length+1+ca>I.maxUrlLength&&(va=!0);ua.query&&(ra={...ua.query,...ra})}if("HEAD"===Z.method&&(va||ha)){if(va){if(ca>I.maxUrlLength)throw h("request:invalid-parameters",Error("URL exceeds maximum length"),O.params);throw h("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),
O.params);}if(ha)throw h("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),O.params);}va?(Z.method="delete"===T.method?"DELETE":"put"===T.method?"PUT":"POST",T.body?U=f.addQueryParameters(U,ra):(Z.body=f.objectToQuery(ra),Z.headers||(Z.headers={}),Z.headers["Content-Type"]="application/x-www-form-urlencoded")):U=f.addQueryParameters(U,ra);ha&&(O.useProxy=!0,U=`${Y}?${U}`);ra.token&&E&&Z.body instanceof FormData&&!g.isSecureProxyService(U)&&Z.body.set("token",ra.token);T.hasOwnProperty("withCredentials")?
O.withCredentials=T.withCredentials:f.hasSameOrigin(U,f.getAppUrl())||(f.isTrustedServer(U)?O.withCredentials=!0:c.id&&c.id.findServerInfo(U)?.webTierAuth&&(O.withCredentials=!0));O.withCredentials&&(Z.credentials="include",l.isNoCorsRequestRequired(U)&&await l.sendNoCorsRequest(va?f.addQueryParameters(U,ra):U))}ra=0;let Aa=!1;0<Ca&&(ra=setTimeout(()=>{Aa=!0;O.controller.abort()},Ca));Ca=void 0;let ea;try{if("native-request-init"===T.responseType)ea=Z,ea.url=U;else if("image"!==T.responseType||"default"!==
Z.cache||"GET"!==Z.method||va||x(T.headers)||!V&&!O.useProxy&&I.proxyUrl&&!m(U))if(w._beforeFetch&&await w._beforeFetch(U,Z),Ca=await fetch(U,Z),w._afterFetch&&await w._afterFetch(Ca),O.useProxy||q(U),"native"===T.responseType)ea=Ca;else{if("HEAD"!==Z.method)if(Ca.ok){switch(qa){case "array-buffer":ea=await Ca.arrayBuffer();break;case "blob":case "image":ea=await Ca.blob();break;default:ea=await Ca.text()}ra&&(clearTimeout(ra),ra=0);if("json"===qa||"xml"===qa||"document"===qa)if(ea)switch(qa){case "json":ea=
JSON.parse(ea);break;case "xml":ea=B(ea,"application/xml");break;case "document":ea=B(ea,"text/html")}else ea=null;if(ea){if("array-buffer"===qa||"blob"===qa){const ca=Ca.headers.get("Content-Type");if(ca&&/application\/json|text\/plain/i.test(ca)&&750>=ea["blob"===qa?"size":"byteLength"])try{const Y=await (new Response(ea)).json();Y.error&&(ea=Y)}catch{}}"image"===qa&&ea instanceof Blob&&(ea=await H(URL.createObjectURL(ea),O,!0))}}else{ea=await Ca.text();try{ea=JSON.parse(ea)}catch{}}}else ea=await H(U,
O)}catch(ca){if("AbortError"===ca.name){if(Aa)throw l.createTimeoutError();throw n.createAbortError("Request canceled");}if(!Ca&&ca instanceof TypeError&&I.proxyUrl&&!T.body&&"delete"!==T.method&&"head"!==T.method&&"post"!==T.method&&"put"!==T.method&&!O.useProxy&&!m(U))O.redoRequest=!0,f.addProxyRule({proxyUrl:I.proxyUrl,urlPrefix:f.getOrigin(U)??""});else throw ca;}finally{ra&&clearTimeout(ra)}return[Ca,ea]}async function v(O,U){if(null!=O.responseData)return O.responseData;O.headers&&(U.requestOptions.headers=
{...U.requestOptions.headers,...O.headers});O.query&&(U.requestOptions.query={...U.requestOptions.query,...O.query});if(O.before){let T,Z;try{Z=await O.before(U)}catch(V){T=h("request:interceptor",V,U)}if(Z instanceof Error||Z instanceof e)T=h("request:interceptor",Z,U);if(T)throw O.error&&O.error(T),T;return Z}}function x(O){if(O)for(const U of Object.getOwnPropertyNames(O))if(O[U])return!0;return!1}function B(O,U){let T;try{T=(new DOMParser).parseFromString(O,U)}catch{}if(!T||T.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");
return T}async function A(O){await u(O);let U;try{do[U,T]=await z(O);while(!await C(O,U,T))}catch(qa){var T=h("request:server",qa,O.params,U);T.details.ssl=O.useSSL;O.interceptor?.error&&O.interceptor.error(T);throw T;}var Z=O.params.url;T&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(Z)&&(O.hasToken||O.credentialToken||!T.user?.username||f.isTrustedServer(Z)||(Z=f.getOrigin(Z,!0))&&I.trustedServers.push(Z),Array.isArray(T.authorizedCrossOriginNoCorsDomains)&&l.registerNoCorsDomains(T.authorizedCrossOriginNoCorsDomains));
var V=O.credential;V&&c.id&&(Z=c.id.findServerInfo(V.server)?.owningSystemUrl)&&(Z=Z.replace(/\/?$/,"/sharing"),(V=c.id.findCredential(Z,V.userId))&&-1===c.id._getIdenticalSvcIdx(Z,V)&&V.resources.unshift(Z));return{data:T,getAllHeaders:U?()=>Array.from(U.headers):F,getHeader:U?qa=>U.headers.get(qa):F,httpStatus:U?.status??200,requestOptions:O.params.requestOptions,ssl:O.useSSL,url:O.params.url}}async function C(O,U,T){if(O.redoRequest)return O.redoRequest=!1;var Z=O.params.requestOptions;if(!U||
"native"===Z.responseType||"native-request-init"===Z.responseType)return!0;let V;T&&(T.error&&"object"===typeof T.error?V=T.error:"error"===T.status&&Array.isArray(T.messages)&&(V={...T},V[J]=T,V.details=T.messages));if(!V&&!U.ok)throw V=Error(`Unable to load ${U.url} status: ${U.status}`),V[J]=T,V;let qa;U=null;let Ca;V&&(qa=Number(V.code),U=V.hasOwnProperty("subcode")?Number(V.subcode):null,Ca=V.messageCode,Ca=Ca?.toUpperCase());Z=Z.authMode;if(403===qa&&(4===U||V.message?.toLowerCase().includes("ssl")&&
!V.message.toLowerCase().includes("permission"))){if(!O.useSSL)return O.useSSL=!0,!1}else if(!(O.hasToken||!O.useIdentity||"no-prompt"===Z&&498!==qa||void 0===qa||!G.has(qa)||r(O.params.url)||403===qa&&(Ca&&L.has(Ca)||!(null==U||2===U&&O.credentialToken)))){await y();try{const va=await c.id.getCredential(O.params.url,{error:h("request:server",V,O.params),prompt:"no-prompt"!==Z,signal:O.controller.signal,token:O.credentialToken});O.credential=va;O.credentialToken=va.token;O.useSSL=O.useSSL||va.ssl;
return!1}catch(va){if("no-prompt"===Z)return O.credential=void 0,O.credentialToken=void 0,!1;V=va}}if(V)throw V;return!0}function H(O,U,T=!1){const Z=U.controller.signal,V=new Image;V.crossOrigin=U.withCredentials?"use-credentials":"anonymous";V.alt="";V.fetchPriority=I.priority;V.src=O;return l.loadImageAsync(V,O,T,Z)}let N;const I=b.request,E="FormData"in globalThis,G=new Set([499,498,403,401]),L=new Set(["COM_0056","COM_0057","SB_0008"]),R=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,
/\/rest\/info/i],F=()=>null,J=Symbol();w._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];w._beforeFetch=void 0;w._afterFetch=void 0;return w})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,c){b={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",
geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],internalInterceptors:[],maxUrlLength:2E3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(c.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")),b.defaultAssetsPath=b.assetsPath);return b})},"esri/core/has":function(){define(function(){function a(c){return"function"===typeof b[c]?b[c]=
b[c](globalThis):b[c]}let b;b=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{};a.add=(c,e,d,p)=>{if(p||void 0===b[c])b[c]=e;return d&&a(c)};a.cache=b;a.add("big-integer-warning-enabled",!0);a.add("esri-deprecation-warnings",!0);a.add("esri-tests-disable-screenshots",!1);a.add("esri-tests-use-full-window",!1);a.add("esri-tests-post-to-influx",!0);(()=>{a.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof
globalThis.WorkerGlobalScope);var c="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;a.add("host-browser",c);a.add("dom",c);if(a("host-browser")){var e=navigator;c=e.userAgent;var d=e.appVersion;e=parseFloat(d);a.add("edge",parseFloat(c.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(c.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(c.split("Chrome/")[1])||void 0);
a.add("safari",!d.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(d.split("Version/")[1]));a.add("mac",d.includes("Macintosh"));if(/(iPhone|iPod|iPad)/.test(c)){d=RegExp.$1.replace(/P/,"p");var p=/OS ([\d_]+)/.test(c)?RegExp.$1:"1";p=parseFloat(p.replace(/_/,".").replaceAll("_",""));a.add(d,p);a.add("ios",p)}a("webkit")||(c.includes("Gecko")&&!a("edge")&&a.add("mozilla",e),a("mozilla")&&a.add("ff",parseFloat(c.split("Firefox/")[1]||c.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var c=
navigator.userAgent;const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(c);c=/iPhone/i.test(c);e&&a.add("esri-mobile",e);c&&a.add("esri-iPhone",c);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-performance-mode-frames-between-render",20);a.add("esri-force-performance-mode",!1);a.add("esri-shared-array-buffer",()=>{const e=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!e});a.add("wasm-simd",
()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("workers-pool-size",8);a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-fast-triangulation-enabled",
!0);a.add("featurelayer-animation-enabled",!0);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-query-max-depth",4);a.add("featurelayer-query-pausing-enabled",!1);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("feature-polyline-generalization-factor",
1);a.add("mapview-transitions-duration",200);a.add("mapview-essential-goto-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",24E6);a.add("mapserver-pbf-version-support",10.81);a.add("mapservice-popup-identify-max-tolerance",20);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;e.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';
e.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");e.href="?'";return e.href.includes("?%27")}))})();return a})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function c(p,n){if(null==p&&null==n)return!1;if(null==p||null==n)return!0;if("object"===typeof p){if(Array.isArray(p)){if(p.length!==n.length)return!0;for(var f=
0;f<p.length;f++)if(c(p[f],n[f]))return!0;return!1}if(Object.keys(p).length!==Object.keys(n).length)return!0;for(f in p)if(c(p[f],n[f]))return!0;return!1}return p!==n}function e(p,n,f){for(const g of p){if(null==f)return;if(!(g in f))if(n)f[g]={};else return;f=f[g]}return f}function d(p,n,f){return n?Object.keys(n).reduce((g,k)=>{let l=g[k],w=n[k];if(l===w)return g;if(void 0===l)return g[k]=b.clone(w),g;if(Array.isArray(w)||Array.isArray(g))l=l?Array.isArray(l)?g[k]=l.concat():g[k]=[l]:g[k]=[],w&&
(Array.isArray(w)||(w=[w]),f?w.forEach(q=>{l.includes(q)||l.push(q)}):g[k]=w.concat());else if(w&&"object"===typeof w)g[k]=d(l,w,f);else if(!g.hasOwnProperty(k)||n.hasOwnProperty(k))g[k]=w;return g},p||{}):p}a.deepMerge=function(p,n,f=!1){return d(p,n,f)};a.getDeepValue=function(p,n){if(null!=n)return n[p]||e(p.split("."),!1,n)};a.notDeepEqual=c;a.setDeepValue=function(p,n,f){const g=p.split(".");p=g.pop();(f=e(g,!0,f))&&p&&(f[p]=n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/lang":function(){define(["exports","./arrayUtils","./typedArrayUtil"],function(a,b,c){function e(q,m){let h;if(m)for(h in q)q.hasOwnProperty(h)&&(void 0===q[h]?delete q[h]:q[h]instanceof Object&&e(q[h],!0));else for(h in q)q.hasOwnProperty(h)&&void 0===q[h]&&delete q[h];return q}function d(q){if(!q||"object"!==typeof q||"function"===typeof q)return q;var m=l(q);if(null!=m)return m;if(n(q))return q.clone();if(f(q))return q.map(d);if(g(q))return q.clone();m={};for(const h of Object.getOwnPropertyNames(q))m[h]=
d(q[h]);return m}function p(q){if(!q||"object"!==typeof q||"function"===typeof q||"HTMLElement"in globalThis&&q instanceof HTMLElement)return q;var m=l(q);if(null!=m)return m;if(f(q)){let h=!0;q=q.map(t=>{const y=p(t);null!=t&&null==y&&(h=!1);return y});return h?q:null}if(n(q))return q.clone();if(q instanceof File||q instanceof Blob)return q;if(!g(q)){m=new (Object.getPrototypeOf(q).constructor);for(const h of Object.getOwnPropertyNames(q)){const t=q[h],y=p(t);if(null!=t&&null==y)return null;m[h]=
y}return m}return null}function n(q){return"function"===typeof q.clone}function f(q){return"function"===typeof q.map&&"function"===typeof q.forEach}function g(q){return"function"===typeof q.notifyChange&&"function"===typeof q.watch}function k(q){if("[object Object]"!==Object.prototype.toString.call(q))return!1;q=Object.getPrototypeOf(q);return null===q||q===Object.prototype}function l(q){if(c.isInt8Array(q)||c.isUint8Array(q)||c.isUint8ClampedArray(q)||c.isInt16Array(q)||c.isUint16Array(q)||c.isInt32Array(q)||
c.isUint32Array(q)||c.isFloat32Array(q)||c.isFloat64Array(q))return q.slice();if(q instanceof Date)return new Date(q.getTime());if(q instanceof ArrayBuffer)return q.slice(0,q.byteLength);if(q instanceof Map){var m=new Map;for(const [h,t]of q)m.set(h,d(t));return m}if(q instanceof Set){m=new Set;for(const h of q)m.add(d(h));return m}return null}function w(q,m){if(null===q||null===m)return!1;const h=Object.keys(q);if(null===m||Object.keys(m).length!==h.length)return!1;for(const t of h)if(q[t]!==m[t]||
!Object.prototype.hasOwnProperty.call(m,t))return!1;return!0}a.clone=d;a.equals=function(q,m){return q===m||"number"===typeof q&&isNaN(q)&&"number"===typeof m&&isNaN(m)||"function"===typeof q?.getTime&&"function"===typeof m?.getTime&&q.getTime()===m.getTime()||!1};a.equalsShallow=function(q,m){if(q===m)return!0;if(null===q||void 0===q||"string"===typeof q)return q===m;if("number"===typeof q)return q===m||"number"===typeof m&&isNaN(q)&&isNaN(m);if(q instanceof Date)return m instanceof Date&&q.getTime()===
m.getTime();if(Array.isArray(q))return Array.isArray(m)&&b.equals(q,m);if(q instanceof Set){var h;if(h=m instanceof Set)a:if(q.size!==m.size)h=!1;else{for(const t of q)if(!m.has(t)){h=!1;break a}h=!0}return h}if(q instanceof Map){if(h=m instanceof Map)a:if(q.size!==m.size)h=!1;else{for(const [t,y]of q)if(q=m.get(t),q!==y||void 0===q&&!m.has(t)){h=!1;break a}h=!0}return h}return k(q)?k(m)&&w(q,m):!1};a.fixJson=e;a.isAccessorLike=g;a.isClonable=n;a.isPlainObject=k;a.tryClone=p;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/arrayUtils":function(){define(["exports","./RandomLCG"],function(a,b){function c(w){return w}function e(w,q=c){if(w&&0!==w.length){var m=w[0],h=q(m);for(let t=1;t<w.length;++t){const y=w[t],u=Number(q(y));u>h&&(h=u,m=y)}return m}}function d(w,q,m,h){h=h||g;var t=Math.max(0,h.last-10);for(let y=t;y<m;++y)if(w[y]===q)return h.last=y;m=Math.min(t,m);for(t=0;t<m;++t)if(w[t]===q)return h.last=t;return-1}function p(w){return w?(l.seed=w,()=>l.getFloat()):
Math.random}const n=1/1.5;class f{constructor(){this.last=0}}const g=new f,k=new Set,l=new b;a.PositionHint=f;a.addMany=function(w,q){if(!q)return w;for(const m of q)w.push(m);return w};a.binaryFindClosest=function(w,q,m){if(w&&0!==w.length){var h=w.length-1,t=w[0];if(q<=m(t))return t;t=w[h];if(q>=m(t))return t;var y=0;t=0;for(var u=h;y<u;){t=y+Math.floor((u-y)/2);const z=w[t],v=m(z);if(v===q)return z;if(q<v){if(0<t){u=w[t-1];var r=m(u);if(q>r)return q-r>=v-q?z:u}u=t}else{if(t<h&&(y=w[t+1],r=m(y),
q<r))return q-v>=r-q?y:z;y=t+1}}return w[t]}};a.binaryIndexOf=function(w,q,m){const h=w.length;let t=0;for(var y=h-1;t<y;){const u=t+Math.floor((y-t)/2);q>w[u]?t=u+1:y=u}y=w[t];return m?q>=w[h-1]?-1:y===q?t:t-1:y===q?t:-1};a.difference=function(w,q,m){let h,t;m?(h=q.filter(y=>!w.some(u=>m(u,y))),t=w.filter(y=>!q.some(u=>m(u,y)))):(h=q.filter(y=>!w.includes(y)),t=w.filter(y=>!q.includes(y)));return{added:h,removed:t}};a.emptyArray=[];a.equals=function(w,q,m){if(null==w&&null==q)return!0;if(null==w||
null==q||w.length!==q.length)return!1;if(m)for(let h=0;h<w.length;h++){if(!m(w[h],q[h]))return!1}else for(m=0;m<w.length;m++)if(w[m]!==q[m])return!1;return!0};a.filterInPlace=function(w,q){let m=0;for(let h=0;h<w.length;++h){const t=w[h];q(t,h)&&(w[m]=t,m++)}w.length=m};a.first=function(w){if(w)return 0<w.length?w[0]:void 0};a.groupToMap=function(w,q){const m=new Map,h=w.length;for(let t=0;t<h;t++){const y=w[t],u=q(y,t,w),r=m.get(u);r?r.push(y):m.set(u,[y])}return m};a.indexOf=d;a.intersect=function(w,
q,m){return w&&q?m?w.filter(h=>-1<q.findIndex(t=>m(h,t))):w.filter(h=>q.includes(h)):[]};a.isArrayLike=function(w){return w&&"number"===typeof w.length};a.isSome=function(w,q){return null!=w};a.last=function(w){if(w){var q=w.length;return 0<q?w[q-1]:void 0}};a.max=e;a.min=function(w,q=c){return e(w,m=>-q(m))};a.pickRandom=function(w,q,m){const h=w.length;if(q>=h)return w.slice(0);m=p(m);const t=new Set,y=[];for(;y.length<q;){const u=Math.floor(m()*h);t.has(u)||(t.add(u),y.push(w[u]))}return y};a.range=
function(w,q){void 0===q&&(q=w,w=0);const m=Array(q-w);for(let h=w;h<q;h++)m[h-w]=h;return m};a.reallocGrowthFactor=1.5;a.reallocShrinkFactor=n;a.reallocShrinkThreshold=.5;a.remove=function(w,q){const m=w.indexOf(q);return-1!==m?(w.splice(m,1),q):null};a.removeUnordered=function(w,q,m,h){const t=null==m?w.length:m;h=d(w,q,t,h);if(-1!==h)return w[h]=w[t-1],null==m&&w.pop(),q};a.removeUnorderedMany=function(w,q,m=w.length,h=q.length,t,y){if(0===h||0===m)return m;k.clear();for(let u=0;u<h;++u)k.add(q[u]);
t=t||g;q=Math.max(0,t.last-10);for(h=q;h<m;++h)if(k.has(w[h])&&(y?.push(w[h]),k.delete(w[h]),w[h]=w[m-1],--m,--h,0===k.size||0===m))return k.clear(),m;for(h=0;h<q;++h)if(k.has(w[h])&&(y?.push(w[h]),k.delete(w[h]),w[h]=w[m-1],--m,--h,0===k.size||0===m))return k.clear(),m;k.clear();return m};a.shuffle=function(w,q){q=p(q);for(let m=w.length-1;0<m;m--){const h=Math.floor(q()*(m+1)),t=w[m];w[m]=w[h];w[h]=t}return w};a.splitIntoChunks=function(w,q){const m=w.length;if(0===m)return[];const h=[];for(let t=
0;t<m;t+=q)h.push(w.slice(t,t+q));return h};a.unique=function(w,q){return q?w.filter((m,h,t)=>t.findIndex(q.bind(null,m))===h):Array.from(new Set(w))};a.update=function(w,q){let m=w.length!==q.length;m&&(w.length=q.length);for(let h=0;h<q.length;++h)w[h]!==q[h]&&(w[h]=q[h],m=!0);return m};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/RandomLCG":function(){define(function(){class a{constructor(b=1){this._seed=b}set seed(b){this._seed=null==b?Math.random()*a._m:b}getInt(){return this._seed=
(a._a*this._seed+a._c)%a._m}getFloat(){return this.getInt()/(a._m-1)}getIntRange(b,c){return Math.round(this.getFloatRange(b,c))}getFloatRange(b,c){c-=b;const e=this.getInt()/a._m;return b+e*c}}a._m=2147483647;a._a=48271;a._c=0;return a})},"esri/core/typedArrayUtil":function(){define(["exports","./byteSizeEstimations","./has"],function(a,b,c){function e(m){return"Int8Array"===m?.constructor?.name}function d(m){return"Uint8Array"===m?.constructor?.name}function p(m){return"Uint8ClampedArray"===m?.constructor?.name}
function n(m){return"Int16Array"===m?.constructor?.name}function f(m){return"Uint16Array"===m?.constructor?.name}function g(m){return"Int32Array"===m?.constructor?.name}function k(m){return"Uint32Array"===m?.constructor?.name}function l(m){return"Float32Array"===m?.constructor?.name}function w(m){return"Float64Array"===m?.constructor?.name}function q(m){return!("buffer"in m)}a.estimateSize=function(...m){return m.reduce((h,t)=>h+(t?q(t)?b.estimateFixedArraySize(t,b.estimateNumberByteSize()):t.byteLength+
145:0),0)};a.isArray=q;a.isArrayBuffer=function(m){return m instanceof ArrayBuffer};a.isFloat=function(m){return w(m)||l(m)};a.isFloat32Array=l;a.isFloat64Array=w;a.isInt16Array=n;a.isInt32Array=g;a.isInt8Array=e;a.isSigned=function(m){return w(m)||l(m)||g(m)||n(m)||e(m)};a.isUint16Array=f;a.isUint32Array=k;a.isUint8Array=d;a.isUint8ClampedArray=p;a.maximumValue=function(m){return w(m)?1.79769E308:l(m)?3.402823E38:k(m)?4294967295:f(m)?65535:d(m)||p(m)?255:g(m)?2147483647:n(m)?32767:e(m)?127:256};
a.nativeArrayMaxSize=1024;a.typedArrayStaticSize=145;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(a){function b(d){return 32+d.length}function c(d){if(!d)return 0;if(Array.isArray(d)){var p=d.length;if(0===p||"number"===typeof d[0])d=32+8*p;else{var n=16;for(let f=0;f<p;f++)n+=e(d[f]);d=n}return d}n=32;for(p in d)d.hasOwnProperty(p)&&(n+=e(d[p]));return n}function e(d){switch(typeof d){case "object":return c(d);
case "string":return b(d);case "number":return 16;case "boolean":return 4;default:return 8}}a.estimateAttributesObjectSize=function(d){if(!d)return 0;let p=32;for(const n in d)if(d.hasOwnProperty(n)){const f=d[n];switch(typeof f){case "string":p+=b(f);break;case "number":p+=16;break;case "boolean":p+=4}}return p};a.estimateFixedArraySize=function(d,p){return 16+d.length*p};a.estimateNestedObjectSize=c;a.estimateNumberByteSize=function(){return 16};a.estimateStringByteSize=b;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/kernel":function(){define(["require","exports","./core/has","./core/urlUtils","./support/revision"],function(a,b,c,e,d){let p;(p=Symbol).dispose??(p.dispose=Symbol("Symbol.dispose"));let n;(n=Symbol).asyncDispose??(n.asyncDispose=Symbol("Symbol.asyncDispose"));b.id=void 0;if(!c("host-webworker")){console.debug(`Using ArcGIS Maps SDK for JavaScript ${"4.30"} [Date: ${d.buildDate}, Revision: ${d.commitHash.slice(0,8)}]`);let f;"function"===typeof globalThis.require&&
(f=globalThis.require);const g=l=>{if(!f)return Promise.reject("global AMD `require` function not found");const w=l.startsWith("@arcgis/core/")?l.replace("@arcgis/core/","esri/").replace(/.js$/,""):l;return new Promise(q=>f([w],q))},k=l=>{var w;var q=(w=globalThis.$arcgis.importMap?.imports)&&l in w?w[l]:null;q?(w=!0,l=q):w=l.startsWith("/")||l.startsWith("./")||l.startsWith("../")||e.isAbsolute(l);return w?import(l):g(l)};globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,
enumerable:!0,writable:!1,value:{}});Object.defineProperty(globalThis.$arcgis,"import",{configurable:!1,enumerable:!0,writable:!1,value:l=>Array.isArray(l)?Promise.all(l.map(k)):k(l)})}b.buildDate=d.buildDate;b.revision=d.commitHash;b.addTokenParameter=function(f){const g=b.id?.findCredential(f);return g?.token?e.addQueryParameter(f,"token",g.token):f};b.fullVersion="4.30";b.setId=function(f){b.id=f};b.version="4.30";Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/urlUtils":function(){define("exports ../config ./arrayUtils ./Error ./JSONSupport ./Logger ../portal/support/urlUtils ../support/base64Utils".split(" "),
function(a,b,c,e,d,p,n,f){function g(M){if(!M)return null;const S={path:null,query:null},X=new ha(M),ma=M.indexOf("?");null===X.query?S.path=M:(S.path=M.substring(0,ma),S.query=k(X.query));X.fragment&&(S.hash=X.fragment,null===X.query&&(S.path=S.path.substring(0,S.path.length-(X.fragment.length+1))));return S}function k(M){var S=M.split("\x26");M={};for(const ma of S){if(!ma)continue;var X=ma.indexOf("\x3d");0>X?(S=decodeURIComponent(ma),X=""):(S=decodeURIComponent(ma.slice(0,X)),X=decodeURIComponent(ma.slice(X+
1)));let ya=M[S];"string"===typeof ya&&(ya=M[S]=[ya]);Array.isArray(ya)?ya.push(X):M[S]=X}return M}function l(M,S){return M?S&&"function"===typeof S?Object.keys(M).map(X=>encodeURIComponent(X)+"\x3d"+encodeURIComponent(S(X,M[X]))).join("\x26"):Object.keys(M).map(X=>{const ma=M[X];if(null==ma)return"";const ya=encodeURIComponent(X)+"\x3d";return(X=S?.[X])?ya+encodeURIComponent(X(ma)):Array.isArray(ma)?ma.map(Ia=>d.isSerializable(Ia)?ya+encodeURIComponent(JSON.stringify(Ia)):ya+encodeURIComponent(Ia)).join("\x26"):
d.isSerializable(ma)?ya+encodeURIComponent(JSON.stringify(ma)):ya+encodeURIComponent(ma)}).filter(X=>X).join("\x26"):""}function w(M){const S=M.indexOf("?");-1!==S?(Ba.path=M.slice(0,S),Ba.query=M.slice(S+1)):(Ba.path=M,Ba.query=null);return Ba}function q(M){M=w(M).path;M=U(M);M=O(M,!0);return M=M.toLowerCase()}function m(M){const S=V.proxyRules;M=q(M);for(let X=0;X<S.length;X++)if(0===M.indexOf(S[X].urlPrefix))return S[X]}function h(M){M=u(M);const S=M.indexOf("/sharing");return 0<S?M.substring(0,
S):M.replace(/\/+$/,"")}function t(M,S,X=!1){if(!M||!S)return!1;M=Z(M);S=Z(S);return!X&&M.scheme!==S.scheme||null==M.host||null==S.host?!1:M.host.toLowerCase()===S.host.toLowerCase()&&M.port===S.port}function y(M,S=ka,X){if(I(M))return X?.preserveProtocolRelative?M:"http"===Q.scheme&&Q.authority===z(M).slice(2)?`http:${M}`:`https:${M}`;if(!E(M)){X=r;if("/"===M[0]){var ma=S.indexOf("//");ma=S.indexOf("/",ma+2);S=-1===ma?S:S.slice(0,ma)}return X(S,M)}return M}function u(M){M=M.trim();M=y(M);if(/^https?:\/\//i.test(M)){const S=
w(M);M=S.path.replaceAll(/\/{2,}/g,"/");M=M.replace("/","//");S.query&&(M+=`?${S.query}`)}M=M.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return M=T(M)}function r(...M){var S=M.filter(c.isSome);if(S?.length){M=[];if(v(S[0])){var X=S[0],ma=X.indexOf("//");-1!==ma&&(M.push(X.slice(0,ma+1)),R(S[0])&&(M[0]+="/"),S[0]=X.slice(ma+2))}else"/"===S[0][0]&&M.push("");S=S.reduce((ya,Ia)=>Ia?ya.concat(Ia.split("/")):ya,[]);for(X=0;X<S.length;X++)ma=S[X],".."===ma&&0<M.length&&".."!==M[M.length-1]?M.pop():
(!ma&&X===S.length-1||ma&&("."!==ma||0===M.length))&&M.push(ma);return M.join("/")}}function z(M,S=!1){if(null==M||x(M)||B(M))return null;var X=M.indexOf("://");if(-1===X&&I(M))X=2;else if(-1!==X)X+=3;else return null;X=M.indexOf("/",X);-1!==X&&(M=M.slice(0,X));S&&(M=O(M,!0));return M}function v(M){return I(M)||E(M)}function x(M){return null!=M&&"blob:"===M.slice(0,5)}function B(M){return null!=M&&"data:"===M.slice(0,5)}function A(M){M=C(M);return M?.isBase64?f.base64ToArrayBuffer(M.data):null}function C(M){M=
M.match(W);if(!M)return null;const [,S,X,ma]=M;return{mediaType:S,isBase64:!!X,data:ma}}function H(M){const S=A(M);if(!S)return null;M=C(M);return new Blob([S],{type:M.mediaType})}function N(M,S){if(!M)return!1;const X=document.createElement("a");if(!("download"in X))return!1;M=URL.createObjectURL(M);X.download=S;X.href=M;X.style.display="none";document.body.appendChild(X);X.click();document.body.removeChild(X);URL.revokeObjectURL(M);return!0}function I(M){return null!=M&&"/"===M[0]&&"/"===M[1]}function E(M){return null!=
M&&qa.test(M)}function G(M){return null!=M&&va.test(M)||"https"===Q.scheme&&I(M)}function L(M){return null!=M&&Ca.test(M)||"http"===Q.scheme&&I(M)}function R(M){return null!=M&&ra.test(M)}function F(M){return I(M)?`https:${M}`:M.replace(Ca,"https:")}function J(){return"https"===Q.scheme}function O(M,S=!1){if(I(M))return M.slice(2);M=M.replace(qa,"");S&&1<M.length&&"/"===M[0]&&"/"===M[1]&&(M=M.slice(2));return M}function U(M){return M.endsWith("/")?M:`${M}/`}function T(M){const S=V.httpsDomains;if(!L(M))return M;
const X=M.indexOf("/",7);let ma;ma=-1===X?M:M.slice(0,X);ma=ma.toLowerCase().slice(7);if(Aa.test(ma))if(ma.endsWith(":80"))ma=ma.slice(0,-3),M=M.replace(":80","");else return M;if("http"===Q.scheme&&ma===Q.authority&&!ea.test(M))return M;if(J()&&ma===Q.authority||S&&S.some(ya=>ma===ya||ma.endsWith(`.${ya}`))||J()&&!m(M))M=F(M);return M}function Z(M){if("string"===typeof M)return new ha(y(M));M.scheme||(M.scheme=Q.scheme);return M}const V=b.request,qa=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Ca=/^\s*http:/i,
va=/^\s*https:/i,ra=/^\s*file:/i,Aa=/:\d+$/,ea=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,ca=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Y=RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");class ha{constructor(M=""){this.uri=M;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;M=this.uri.match(ca);this.scheme=M[2]||(M[1]?"":null);this.authority=M[4]||(M[3]?"":null);this.path=M[5];this.query=
M[7]||(M[6]?"":null);this.fragment=M[9]||(M[8]?"":null);null!=this.authority&&(M=this.authority.match(Y),this.user=M[3]||null,this.password=M[4]||null,this.host=M[6]||M[7],this.port=M[9]||null)}toString(){return this.uri}}const ua={},K=new ha(b.applicationUrl);let Q=K;const ia=function(){var M=Q.path;M=M.substring(0,M.lastIndexOf(M.split("/")[M.split("/").length-1]));return`${`${Q.scheme}://${Q.host}${null!=Q.port?`:${Q.port}`:""}`}${M}`}();let ka=ia;const Ba={path:"",query:""},W=/^data:(.*?)(;base64)?,(.*)$/,
da=/([^.]*)\.([^/]*)$/,ja=/(^data:image\/svg|\.svg$)/i;a.Url=ha;a.addProxy=function(M){var S=m(M),X=void 0;if(S){var ma=w(S.proxyUrl);X=ma.path;ma=ma.query?k(ma.query):null}X&&(S=g(M),M=X+"?"+S.path,(X=l({...ma,...S.query}))&&(M=`${M}?${X}`));return M};a.addProxyRule=function(M){M={proxyUrl:M.proxyUrl,urlPrefix:q(M.urlPrefix)};const S=V.proxyRules,X=M.urlPrefix;let ma=S.length;for(let ya=0;ya<S.length;ya++){const Ia=S[ya].urlPrefix;if(0===X.indexOf(Ia)){if(X.length===Ia.length)return-1;ma=ya;break}0===
Ia.indexOf(X)&&(ma=ya+1)}S.splice(ma,0,M);return ma};a.addQueryParameter=function(M,S,X){M=g(M);const ma=M.query||{};ma[S]=String(X);return`${M.path}?${l(ma)}`};a.addQueryParameters=function(M,S){if(!S)return M;M=g(M);const X=M.query||{};for(const [ma,ya]of Object.entries(S))null!=ya&&(X[ma]=ya);return(S=l(X))?`${M.path}?${S}`:M.path};a.base64UrlEncode=function(M){return f.arrayBufferToBase64(M).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")};a.blobUrlToBlob=async function(M){return(await fetch(M)).blob()};
a.changeDomain=function(M,S,X){if(!(S&&X&&M&&v(M)))return M;const ma=M.indexOf("//");var ya=M.indexOf("/",ma+2);const Ia=M.indexOf(":",ma+2);ya=Math.min(0>ya?M.length:ya,0>Ia?M.length:Ia);if(M.slice(ma+2,ya).toLowerCase()!==S.toLowerCase())return M;S=M.slice(0,ma+2);M=M.slice(ya);return`${S}${X}${M}`};a.dataComponents=C;a.dataToArrayBuffer=A;a.dataToBlob=H;a.downloadBlobAsFile=function(M,S){N(M,S)};a.downloadDataAsFile=function(M,S){(M=H(M))&&N(M,S)};a.ensureTrailingSlash=U;a.getAppBaseUrl=()=>ka;
a.getAppUrl=()=>Q;a.getFilename=function(M,S){if(!M)return"";M=g(M).path.replace(/\/+$/,"");M=M.substring(M.lastIndexOf("/")+1);if(!S?.length)return M;S=new RegExp(`\\.(${S.join("|")})$`,"i");return M.replace(S,"")};a.getInterceptor=function(M,S=V.interceptors){const X=ma=>null==ma||ma instanceof RegExp&&ma.test(M)||"string"===typeof ma&&M.startsWith(ma);if(S)for(const ma of S)if(Array.isArray(ma.urls)){if(ma.urls.some(X))return ma}else if(X(ma.urls))return ma;return null};a.getOrigin=z;a.getPathExtension=
function(M){return null==M?null:(M=M.match(da))?M[2]:null};a.getProxyRule=m;a.getProxyUrl=function(M=!1){let S,X=V.proxyUrl;if("string"===typeof M){if(S=G(M),M=m(M))X=M.proxyUrl}else S=!!M;if(!X)throw p.getLogger("esri.core.urlUtils").warn("esri/config: esriConfig.request.proxyUrl is not set."),new e("urlUtils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");S&&J()&&(X=F(X));return g(X)};a.hasProtocol=E;a.hasSameCanonicalArcGISOnlinePortal=function(M,S){if(!M||!S)return!1;M=
h(M);S=h(S);M=n.parseKnownArcGISOnlineDomain(M);S=n.parseKnownArcGISOnlineDomain(S);return null!=M&&null!=S?M.portalHostname===S.portalHostname:!1};a.hasSameCanonicalPortal=function(M,S){if(!M||!S)return!1;M=h(M);S=h(S);const X=n.parseKnownArcGISOnlineDomain(M),ma=n.parseKnownArcGISOnlineDomain(S);return null!=X&&null!=ma?X.portalHostname===ma.portalHostname:null!=X||null!=ma?!1:t(M,S,!0)};a.hasSameOrigin=t;a.hasSamePortal=function(M,S){M=h(M);S=h(S);return O(M)===O(S)};a.isAbsolute=v;a.isAppHTTPS=
J;a.isBlobProtocol=x;a.isDataProtocol=B;a.isHTTPSProtocol=G;a.isProtocolRelative=I;a.isSVG=function(M){return ja.test(M)};a.isTrustedServer=function(M){if("string"===typeof M)if(v(M))M=Z(M);else return!0;if(t(M,Q))return!0;const S=V.trustedServers||[];for(let ma=0;ma<S.length;ma++){var X=S[ma];ua[X]||(E(X)||I(X)?ua[X]=[new ha(y(X))]:ua[X]=[new ha(`http://${X}`),new ha(`https://${X}`)]);X=ua[X];for(let ya=0;ya<X.length;ya++)if(t(M,X[ya]))return!0}return!1};a.join=r;a.makeAbsolute=y;a.makeData=function(M){return M.isBase64?
`data:${M.mediaType};base64,${M.data}`:`data:${M.mediaType},${M.data}`};a.makeRelative=function(M,S=ka,X){if(null==M||!v(M))return M;var ma=u(M),ya=ma.toLowerCase();S=u(S).toLowerCase().replace(/\/+$/,"");if((X=X?u(X).toLowerCase().replace(/\/+$/,""):null)&&0!==S.indexOf(X))return M;const Ia=(ta,Fa,Ea)=>{Ea=ta.indexOf(Fa,Ea);return-1===Ea?ta.length:Ea};let fa=Ia(ya,"/",ya.indexOf("//")+2),oa=-1;for(;ya.slice(0,fa+1)===S.slice(0,fa)+"/";){oa=fa+1;if(fa===ya.length)break;fa=Ia(ya,"/",fa+1)}if(-1===
oa||X&&oa<X.length)return M;M=ma.slice(oa);ma=S.slice(oa-1).replaceAll(/[^/]+/g,"").length;if(0<ma)for(ya=0;ya<ma;ya++)M=`../${M}`;else M=`./${M}`;return M};a.normalize=u;a.objectToQuery=l;a.parseData=async function(M){return"string"===typeof M?C(M)??{data:M}:new Promise((S,X)=>{const ma=new FileReader;ma.readAsDataURL(M);ma.onload=()=>S(C(ma.result));ma.onerror=ya=>X(ya)})};a.queryToObject=k;a.removeFile=function(M){let S=0;if(v(M)){var X=M.indexOf("//");-1!==X&&(S=X+2)}X=M.lastIndexOf("/");return X<
S?M:M.slice(0,X+1)};a.removeQueryParameter=function(M,S){const {path:X,query:ma}=g(M);if(!ma)return M;delete ma[S];return(M=l(ma))?`${X}?${M}`:X};a.removeQueryParameters=function(M,S){M=g(M);const X=Object.keys(M.query||{});0<X.length&&S&&S.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${X.join(", ")}.`);return M.path};a.removeTrailingSlash=function(M){return M.replace(/\/+$/,"")};a.splitPathExtension=function(M){if(null==M)return null;
const S=M.match(da);return S?{path:S[1],extension:S[2]}:{path:M,extension:null}};a.test={setAppUrl:M=>Q=M,setAppBaseUrl:M=>ka=M,restoreUrls:()=>{Q=K;ka=ia}};a.toHTTP=function(M){return I(M)?`http:${M}`:M.replace(va,"http:")};a.toHTTPS=F;a.trustedServersUrlCache=ua;a.urlToObject=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Error":function(){define(["./lang","./Logger","./Message"],function(a,b,c){class e extends c{constructor(d,p,n){super(d,p,n)}toJSON(){if(null!=this.details)try{return{name:this.name,
message:this.message,details:JSON.parse(JSON.stringify(this.details,(d,p)=>{if(p&&"object"===typeof p&&"function"===typeof p.toJSON)return p;try{return a.clone(p)}catch(n){return"[object]"}}))}}catch(d){throw b.getLogger("esri.core.Error").error(d),d;}return{name:this.name,message:this.message,details:this.details}}static fromJSON(d){return new e(d.name,d.message,d.details)}}e.prototype.type="error";return e})},"esri/core/Logger":function(){define(["../config","./has","./string"],function(a,b,c){function e(f,
g,...k){console[f](`[${g}]`,...k)}function d(...f){return c.numericHash(JSON.stringify(f,(g,k)=>"object"!==typeof k||Array.isArray(k)?k:"[Object]"))}const p={info:0,warn:1,error:2,none:3};class n{constructor(f){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=f.level&&(this.level=f.level);null!=f.writer&&(this.writer=f.writer);this._module=f.module;n._loggers.set(this.module,this);f=this.module.lastIndexOf(".");-1!==
f&&(this._parent=n.getLogger(this.module.slice(0,f)))}get module(){return this._module}get parent(){return this._parent}error(...f){this._log("error","always",...f)}warn(...f){this._log("warn","always",...f)}info(...f){this._log("info","always",...f)}errorOnce(...f){this._log("error","once",...f)}warnOnce(...f){this._log("warn","once",...f)}infoOnce(...f){this._log("info","once",...f)}errorOncePerTick(...f){this._log("error","oncePerTick",...f)}warnOncePerTick(...f){this._log("warn","oncePerTick",
...f)}infoOncePerTick(...f){this._log("info","oncePerTick",...f)}get test(){}static get test(){}static getLogger(f){f="string"!==typeof f?f.declaredClass:f;return n._loggers.get(f)||new n({module:f})}_log(f,g,...k){if(this._matchLevel(f)){if("always"!==g&&!n._throttlingDisabled){const l=d(k),w=this._loggedMessages[f].get(l);if("once"===g&&null!=w||"oncePerTick"===g&&w&&w>=n._tickCounter)return;this._loggedMessages[f].set(l,n._tickCounter);n._scheduleTickCounterIncrement()}for(const l of a.log.interceptors)if(l(f,
this.module,...k))return;this._inheritedWriter()(f,this.module,...k)}}_parentWithMember(f,g){let k=this;for(;null!=k;){const l=k[f];if(null!=l)return l;k=k.parent}return g}_inheritedWriter(){return this._parentWithMember("writer",e)}_matchLevel(f){return p[this._parentWithMember("level",a.log.level||"warn")]<=p[f]}static _scheduleTickCounterIncrement(){n._tickCounterScheduled||(n._tickCounterScheduled=!0,Promise.resolve().then(()=>{n._tickCounter++;n._tickCounterScheduled=!1}))}}n._loggers=new Map;
n._tickCounter=0;n._tickCounterScheduled=!1;n._throttlingDisabled=!1;return n})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function c(p){return null==p?"":p}const e=/\{([^}]+)\}/g;let d;a.escapeRegExpString=function(p,n){return p.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,f=>n?.includes(f)?f:`\\${f}`)};a.numericHash=function(p){let n=0;for(let f=0;f<p.length;f++)n=(n<<5)-n+p.charCodeAt(f),n|=0;return n};a.replace=function(p,n){return n?p.replaceAll(e,"object"===typeof n?
(f,g)=>c(b.getDeepValue(g,n)):(f,g)=>c(n(g))):p};a.safeToString=function(p,...n){let f=p[0];for(let g=0;g<n.length;++g)f+=n[g]+p[g+1];return f};a.stripHTML=function(p){d??=new DOMParser;return d.parseFromString(p||"","text/html").body.innerText||""};a.templateHasKey=function(p,n){return(new RegExp(`{${n}}`,"ig")).test(p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Message":function(){define(["./object"],function(a){function b(e,d){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,
(p,n)=>{if(""===n)return"$";p=a.getDeepValue(n,d);return(null==p?"":p).toString()})}class c{constructor(e,d,p){this.name=e;this.details=p;this.message=(d&&b(d,p))??""}toString(){return"["+this.name+"]: "+this.message}}return c})},"esri/core/JSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g){const k=l=>{l=class extends l{constructor(...w){super(...w);w=n.getProperties(this);const q=w.store,m=new e.DefaultsStore;w.store=m;d.setupConstructedDefaults(w,q,m)}read(w,q){p.read(this,w,q)}write(w,q){return f.write(this,w??{},q)}toJSON(w){return this.write({},w)}static fromJSON(w,q){if(w){if(w.declaredClass)throw Error("JSON object is already hydrated");var m=new this;m.read(w,q);w=m}else w=null;return w}};l=b.__decorate([g.subclass("esri.core.JSONSupport")],l);l.prototype.toJSON.isDefaultToJSON=
!0;return l};a.JSONSupport=class extends k(c){};a.JSONSupport=b.__decorate([g.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=k;a.isSerializable=function(l){return l&&"object"===typeof l&&"toJSON"in l&&"function"===typeof l.toJSON};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Accessor":function(){define("./deprecate ./Handles ./Logger ./maybe ./accessorSupport/beforeDestroy ./accessorSupport/get ./accessorSupport/interfaces ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m){function h(v){if(null==v)return{value:v};if(Array.isArray(v))return{type:[v[0]],value:null};switch(typeof v){case "object":return v.constructor?.__accessorMetadata__||v instanceof Date?{type:v.constructor,value:v}:v;case "boolean":return{type:Boolean,value:v};case "string":return{type:String,value:v};case "number":return{type:Number,value:v};case "function":return{type:v,value:null}}}const t=Symbol("Accessor-Handles"),y=Symbol("Accessor-Initialized");class u{static createSubclass(v=
{}){if(Array.isArray(v))throw Error("Multi-inheritance unsupported since 4.16");const {properties:x,declaredClass:B,constructor:A}=v;delete v.declaredClass;delete v.properties;delete v.constructor;const C=this;class H extends C{constructor(...N){super(...N);this.inherited=null;A&&A.apply(this,N)}}f.getPropertiesMetadata(H.prototype);for(const N in v){const I=v[N];H.prototype[N]="function"===typeof I?function(...E){const G=this.inherited;this.inherited=function(...R){if(C.prototype[N])return C.prototype[N].apply(this,
R)};let L=void 0;try{L=I.apply(this,E)}catch(R){throw this.inherited=G,R;}this.inherited=G;return L}:v[N]}for(const N in x)v=h(x[N]),q.property(v)(H.prototype,N);return m.subclass(B)(H)}constructor(...v){this[r]=null;this[z]=!1;if(this.constructor===u)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const x=new g(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:x});0<v.length&&(x.ctorArgs=this.normalizeCtorArgs?.apply(this,
v)??v[0]);l.getAccessorInterceptor()?.onInstanceConstruct(this)}postscript(){const v=this.__accessor__,x=v.ctorArgs;v.initialize();x&&(this.set(x),v.ctorArgs=null);v.constructed();this.initialize();this[y]=!0}initialize(){}[d.beforeDestroySymbol](){this[t]=e.destroyMaybe(this[t])}destroy(){this.destroyed||(w.removeTarget(this),this.__accessor__.destroy(),l.getAccessorInterceptor()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||
!1}get initialized(){return this[y]}get destroyed(){return this.__accessor__?.lifecycle===n.Lifecycle.DESTROYED||!1}commitProperty(v){p.get(this,v)}get(v){a.deprecatedFunction(c.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"});return p.get(this,v)}hasOwnProperty(v){return this.__accessor__?this.__accessor__.has(v):Object.prototype.hasOwnProperty.call(this,
v)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(v,x){k.set(this,v,x);return this}watch(v,x,B){return w.watch(this,v,x,B)}addHandles(v,x){if(this.destroyed){v=Array.isArray(v)?v:[v];for(const B of v)B.remove()}else(this[t]??(this[t]=new b)).add(v,x)}removeHandles(v){this[t]?.remove(v)}removeAllHandles(){this[t]?.removeAll()}removeHandlesReference(v){this[t]?.removeReference(v)}hasHandles(v){return!0===this[t]?.has(v)}_override(v,x){void 0===x?this.__accessor__.clearOverride(v):this.__accessor__.override(v,
x)}_clearOverride(v){return this.__accessor__.clearOverride(v)}_overrideIfSome(v,x){null==x?this.__accessor__.clearOverride(v):this.__accessor__.override(v,x)}_isOverridden(v){return this.__accessor__.isOverridden(v)}notifyChange(v){this.__accessor__.notifyChange(v)}_get(v){return this.__accessor__.internalGet(v)}_set(v,x){this.__accessor__.internalSet(v,x);return this}}var r=t;var z=y;return u})},"esri/core/deprecate":function(){define(["exports","./has"],function(a,b){function c(p,n,f=!1){const g=
`\ud83d\uded1 DEPRECATED - ${n}`;f?(f=d.get(p),f||(f=new Set,d.set(p,f)),f.has(n)||(f.add(n),p.warn(g))):p.warn(g)}function e(p,n,f={}){if(b("esri-deprecation-warnings")){const {replacement:g,version:k,see:l,warnOnce:w}=f;g&&(n+=`\n\t\ud83d\udee0\ufe0f Replacement: ${g}`);k&&(n+=`\n\t\u2699\ufe0f Version: ${k}`);l&&(n+=`\n\t\ud83d\udd17 See ${l} for more details.`);c(p,n,w)}}const d=new WeakMap;a.deprecated=e;a.deprecatedConstructorSignature=function(p,n,f={}){b("esri-deprecation-warnings")&&e(p,
`Multiple argument constructor: ${n}`,{warnOnce:!0,replacement:`new ${n}({ <your properties here> })`,...f})};a.deprecatedFunction=function(p,n,f={}){if(b("esri-deprecation-warnings")){const {moduleName:g}=f;e(p,`Function: ${(g?g+"::":"")+n+"()"}`,f)}};a.deprecatedModule=function(p,n,f={}){b("esri-deprecation-warnings")&&e(p,`Module: ${n}`,f)};a.deprecatedProperty=function(p,n,f={}){if(b("esri-deprecation-warnings")){const {moduleName:g}=f;e(p,`Property: ${(g?g+"::":"")+n}`,f)}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/Handles":function(){define(["./iteratorUtils"],function(a){function b(e){for(const d of e)d instanceof c?d.removeAll():d.remove()}class c{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;this._groups.forEach(d=>{e+=d.length});return e}add(e,d){if(a.isIterable(e)){d=this._getOrCreateGroup(d);for(const p of e)null!=p&&(p.remove||p instanceof c)&&d.push(p)}else null!=e&&(e.remove||e instanceof c)&&this._getOrCreateGroup(d).push(e);
return this}forEach(e,d){if("function"===typeof e)this._groups.forEach(p=>p.forEach(e));else{const p=this._getGroup(e);p&&d&&p.forEach(d)}}has(e){return this._groups.has(e||"_default_")}remove(e){if("string"!==typeof e&&a.isIterable(e)){for(const d of e)this.remove(d);return this}if(!this.has(e))return this;b(this._getGroup(e));this._groups.delete(e||"_default_");return this}removeAll(){this._groups.forEach(b);this._groups.clear();return this}removeReference(e){this._groups.delete(e);return this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);
const d=[];this._groups.set(e||"_default_",d);return d}_getGroup(e){return this._groups.get(e||"_default_")}}return c})},"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const c=[];return function*(){yield*c;for(const e of b)c.push(e),yield e}};a.find=function(b,c){for(const e of b)if(null!=e&&c(e))return e};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/maybe":function(){define(["exports"],
function(a){a.abortMaybe=function(b){b?.abort();return null};a.assertIsSome=function(b,c){if(null==b)throw Error(c??"value is None");};a.destroyMaybe=function(b){b?.destroy();return null};a.disposeMaybe=function(b){b?.dispose();return null};a.equalsMaybe=function(b,c,e){return null!=b&&null!=c?null!=e?e(b,c):b.equals(c):b===c};a.mappedFind=function(b,c){let e=void 0;b.some((d,p)=>{e=c(d,p);return null!=e});return e??void 0};a.maybeProperty=function(b,c){return b?.[c]};a.releaseMaybe=function(b){b?.release();
return null};a.removeMaybe=function(b){b?.remove();return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],function(a){const b=Symbol("Accessor-beforeDestroy");a.beforeDestroySymbol=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,b){function c(p,n){p="?"===p[p.length-1]?p.slice(0,-1):p;if(null!=n.getItemAt||
Array.isArray(n)){var f=parseInt(p,10);if(!isNaN(f))return Array.isArray(n)?n[f]:n.at(f)}f=b.getProperties(n);return b.isPropertyDeclared(f,p)?f.get(p):n[p]}function e(p,n,f){if(null==p)return p;if((p=c(n[f],p))||!(f<n.length-1))return f===n.length-1?p:e(p,n,f+1)}function d(p,n,f=0){return"string"!==typeof n||n.includes(".")?e(p,b.pathToArray(n),f):c(n,p)}a.exists=function(p,n){return void 0!==d(n,p)};a.get=function(p,n){return d(p,n)};a.valueOf=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang"],function(a,b,c){function e(g){return g.__accessor__??null}function d(g,k,l){return k?Object.keys(k).reduce((w,q)=>{let m=null;var h="merge";l&&(m=l.path?`${l.path}.${q}`:q,h=l.policy(m));if("replace"===h||"replace-arrays"===h&&Array.isArray(w[q]))return w[q]=k[q],w;if(void 0===w[q])return w[q]=c.clone(k[q]),w;let t=w[q];h=k[q];if(t===h)return w;if(Array.isArray(h)||Array.isArray(w))t=t?Array.isArray(t)?w[q]=
t.concat():w[q]=[t]:w[q]=[],h&&(Array.isArray(h)||(h=[h]),h.forEach(y=>{t.includes(y)||t.push(y)}));else if(h&&"object"===typeof h)if(l){const y=l.path;l.path=m;w[q]=d(t,h,l);l.path=y}else w[q]=d(t,h,null);else if(!w.hasOwnProperty(q)||k.hasOwnProperty(q))w[q]=h;return w},g||{}):g}function p(g){return Array.isArray(g)?g:g.split(".")}function n(g){return g.includes(",")?g.split(",").map(k=>k.trim()):[g.trim()]}function f(g){if(Array.isArray(g)){const k=[];for(const l of g)k.push(...n(l));return k}return n(g)}
a.getDependsInfo=function(g,k){const l=e(g);return l?l.getDependsInfo(g,k,""):""};a.getProperties=e;a.isPropertyDeclared=function(g,k){return null!=g?.metadata?.[k]};a.merge=function(g,k,l){return l?d(g,k,{policy:l,path:""}):d(g,k,null)};a.parse=function(g,k,l,w){k=f(k);return 1!==k.length?(k=k.map(q=>w(g,q,l)),b.handlesGroup(k)):w(g,k[0],l)};a.parseConditionalPath=function(g){if(!g.includes("?"))return null;g=p(g);const k=Array(g.length);for(let l=0;l<g.length;l++){const w=g[l];k[l]="?"===w[w.length-
1];k[l]&&(g[l]=w.slice(0,-1))}return{fullPath:g.join("."),conditional:k}};a.pathToArray=p;a.pathToStringOrArray=function(g){return!g||"string"===typeof g&&!g.includes(".")?g:p(g)};a.splitPath=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/handleUtils":function(){define(["exports"],function(a){function b(d){return d?{remove(){d&&(d(),d=void 0)}}:e}function c(d){d.forEach(p=>p?.remove())}const e={remove:()=>{}};a.abortHandle=function(d){return b(()=>d?.abort())};a.asyncHandle=
function(d,p){let n=!1,f=null;d.then(g=>{n?g.remove():f=g});return b(()=>{n=!0;null!=f?f.remove():null!=p&&(p.abort(),p=null)})};a.destroyHandle=function(d){return b(null!=d?()=>d.destroy():void 0)};a.disposable=function(d){return{[Symbol.dispose](){d.remove()}}};a.handlesGroup=function(d){return b(()=>c(d))};a.makeHandle=b;a.refHandle=function(d){return b(()=>d()?.remove())};a.removeHandles=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],
function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";b[b.DESTROYED=3]="DESTROYED";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","./utils"],function(a,b,c){function e(n){let f=n.constructor.__accessorMetadata__;const g=Object.prototype.hasOwnProperty.call(n.constructor,"__accessorMetadata__");
if(!f)f={},Object.defineProperty(n.constructor,"__accessorMetadata__",{value:f,enumerable:!1,configurable:!0,writable:!0});else if(!g){f=Object.create(f);for(const k in f)f[k]=b.clone(f[k]);Object.defineProperty(n.constructor,"__accessorMetadata__",{value:f,enumerable:!1,configurable:!0,writable:!0})}return n.constructor.__accessorMetadata__}function d(n){return p.test(n)?"replace":"merge"}const p=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;a.getPropertiesMetadata=e;a.getPropertyMetadata=
function(n,f){n=e(n);let g=n[f];g||=n[f]={};return g};a.mergeProperty=function(n,f){return c.merge(n,f,d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Properties":function(){define("../has ../lang ../Logger ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./tracking/Flags".split(" "),function(a,b,c,e,d,p,n,f,g,k){class l{constructor(m){this.host=m;this.propertiesByName=new Map;this.ctorArgs=null;this.lifecycle=d.Lifecycle.INITIALIZING;
this.store=new f.Store;this._origin=n.OriginId.USER;m=this.host.constructor.__accessorMetadata__;for(const h in m){const t=new p.Property(h,m[h]);this.propertiesByName.set(h,t)}this.metadata=m}initialize(){this.lifecycle=d.Lifecycle.CONSTRUCTING}constructed(){this.lifecycle=d.Lifecycle.CONSTRUCTED}destroy(){this.lifecycle=d.Lifecycle.DESTROYED;this.propertiesByName.forEach(m=>m.destroy())}get initialized(){return this.lifecycle!==d.Lifecycle.INITIALIZING}get(m){const h=this.propertiesByName.get(m);
if(h.metadata.get)return h.getComputed(this);g.trackAccess(h);const t=this.store;return t.has(m)?t.get(m):h.metadata.value}originOf(m){const h=this.store.originOf(m);return void 0===h&&(m=this.propertiesByName.get(m),void 0!==m&&m.flags&k.Flags.HasDefaultValue)?"defaults":n.idToName(h)}has(m){return this.propertiesByName.has(m)&&this.store.has(m)}keys(){return[...this.propertiesByName.keys()]}internalGet(m){const h=this.propertiesByName.get(m);if(void 0!==h)return this.store.has(m)?this.store.get(m):
h.metadata.value}internalSet(m,h){m=this.propertiesByName.get(m);void 0!==m&&this._internalSet(m,h)}getDependsInfo(m,h,t){const y=this.propertiesByName.get(h);if(void 0===y)return"";const u=new Set,r=g.runTracked({onObservableAccessed:v=>u.add(v),onTrackingEnd:()=>{}},()=>y.metadata.get?.call(m)),z=m.declaredClass.split(".").pop();h=`${t}${z}.${h}: ${r}\n`;if(0===u.size)return h;t+="  ";for(const v of u)v instanceof p.Property&&(h+=`${t}${v.propertyName}: undefined\n`);return h}setAtOrigin(m,h,t){m=
this.propertiesByName.get(m);if(void 0!==m)return this._setAtOrigin(m,h,t)}isOverridden(m){m=this.propertiesByName.get(m);return void 0!==m&&!!(m.flags&k.Flags.Overridden)}clearOverride(m){(m=this.propertiesByName.get(m))&&m.flags&k.Flags.Overridden&&(m.flags&=~k.Flags.Overridden,m.notifyChange())}override(m,h){m=this.propertiesByName.get(m);if(!(void 0===m||null==h&&m.flags&k.Flags.NonNullable)){var t=m.metadata.cast;if(t){h=this._cast(t,h);const {valid:y,value:u}=h;q.release(h);if(!y)return;h=u}m.flags|=
k.Flags.Overridden;this._internalSet(m,h)}}set(m,h){m=this.propertiesByName.get(m);if(!(void 0===m||null==h&&m.flags&k.Flags.NonNullable)){var t=m.metadata.cast;if(t){h=this._cast(t,h);const {valid:y,value:u}=h;q.release(h);if(!y)return;h=u}(t=m.metadata.set)?t.call(this.host,h):this._internalSet(m,h)}}setDefaultOrigin(m){this._origin=n.nameToId(m)}getDefaultOrigin(){return n.idToName(this._origin)}notifyChange(m){m=this.propertiesByName.get(m);void 0!==m&&m.notifyChange()}invalidate(m){m=this.propertiesByName.get(m);
void 0!==m&&m.invalidate()}commit(m){m=this.propertiesByName.get(m);void 0!==m&&m.commit()}_internalSet(m,h){this._setAtOrigin(m,h,this.lifecycle!==d.Lifecycle.INITIALIZING?this._origin:n.OriginId.DEFAULTS)}_setAtOrigin(m,h,t){const y=this.store,u=m.propertyName;y.has(u,t)&&b.equals(h,y.get(u))&&~m.flags&k.Flags.Overridden&&t===y.originOf(u)||(m.invalidate(),y.set(u,h,t),m.commit(),g.initializeDependencyTracking(this.host,m))}_cast(m,h){const t=q.acquire();t.valid=!0;t.value=h;m&&(t.value=m.call(this.host,
h,t));return t}}class w{constructor(){this.value=null;this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const q=new e(w);return l})},"esri/core/ObjectPool":function(){define(function(){class a{constructor(b,c,e,d=1,p=0){this._ctor=b;this._acquireFunction=c;this._releaseFunction=e;this.allocationSize=d;this._pool=Array(p);this._initialSize=p;if(this._ctor)for(b=0;b<p;b++)this._pool[b]=new this._ctor;this.allocationSize=Math.max(d,1)}destroy(){this.prune(0)}acquire(...b){if(a.test.disabled)var c=
new this._ctor;else{if(0===this._pool.length){c=this.allocationSize;for(let e=0;e<c;e++)this._pool[e]=new this._ctor}c=this._pool.pop()}this._acquireFunction?this._acquireFunction(c,...b):c?.acquire&&"function"===typeof c.acquire&&c.acquire(...b);return c}release(b){b&&!a.test.disabled&&(this._releaseFunction?this._releaseFunction(b):b?.release&&"function"===typeof b.release&&b.release(),this._pool.push(b))}prune(b=this._initialSize){if(!(b>=this._pool.length)){for(let c=b;c<this._pool.length;++c)this._dispose(this._pool[c]);
this._pool.length=b}}_dispose(b){b.dispose&&"function"===typeof b.dispose&&b.dispose()}}a.test={disabled:!1};return a})},"esri/core/accessorSupport/Property":function(){define(["exports","./ObservableBase","./PropertyOrigin","./tracking","./tracking/Flags"],function(a,b,c,e,d){class p extends b.ObservableBase{constructor(n,f){super();this.propertyName=n;this.metadata=f;this._handles=this._accessed=null;this.flags=0;this.flags=d.Flags.Dirty|(f.nonNullable?d.Flags.NonNullable:0)|(f.hasOwnProperty("value")?
d.Flags.HasDefaultValue:0)|(void 0===f.get?d.Flags.DepTrackingInitialized:0)|(void 0===f.dependsOn?d.Flags.AutoTracked:0)}destroy(){if(this.flags&d.Flags.Dirty)this.onCommitted();super.destroy();this._accessed=null;this._clearObservationHandles()}getComputed(n){e.trackAccess(this);var f=n.store;const g=this.propertyName;var k=this.flags;const l=f.get(g);if(k&d.Flags.Computing||~k&d.Flags.Dirty&&f.has(g))return l;this.flags|=d.Flags.Computing;n=n.host;k&d.Flags.AutoTracked?k=e.runTracked(this,this.metadata.get,
n):(e.trackExplicitDependencies(n,this),k=this.metadata.get.call(n));f.set(g,k,c.OriginId.COMPUTED);f=f.get(g);f===l?this.flags&=~d.Flags.Dirty:e.runUntracked(this.commit,this);this.flags&=~d.Flags.Computing;return f}onObservableAccessed(n){n!==this&&(this._accessed??(this._accessed=new Set),this._accessed.add(n))}onTrackingEnd(){this._clearObservationHandles();this.flags|=d.Flags.DepTrackingInitialized;null!=this._accessed&&(this._handles??(this._handles=[]),this._accessed.forEach(n=>{this._handles.push(n.observe(this))}),
this._accessed.clear())}notifyChange(){this.onInvalidated();this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~d.Flags.Dirty;this.onCommitted()}_clearObservationHandles(){const n=this._handles;if(null!==n){for(let f=0;f<n.length;++f)n[f].remove();n.length=0}}onInvalidated(){~this.flags&d.Flags.Overridden&&(this.flags|=d.Flags.Dirty);const n=this._observers;if(n&&0<n.length)for(const f of n)f.onInvalidated()}onCommitted(){var n=this._observers;if(n&&0<n.length){n=n.slice();
for(const f of n)f.onCommitted()}}}a.Property=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ObservableBase":function(){define(["exports","../handleUtils","./tracking/ObservationHandle"],function(a,b,c){class e{constructor(){this._observers=null;this.destroyed=!1}observe(p){if(this.destroyed||p.destroyed)return d;null==this._observers&&(this._observers=[]);const n=this._observers;let f=!1,g=!1;const k=n.length;for(let l=0;l<k;++l){const w=n[l];if(w.destroyed)g=
!0;else if(w===p){f=!0;break}}f||(n.push(p),g&&this._removeDestroyedObservers());return new c.ObservationHandle(n,p)}_removeDestroyedObservers(){const p=this._observers;if(p&&0!==p.length){var n=p.length,f=0;for(let g=0;g<n;++g){for(;g+f<n;)if(p[g+f].destroyed)++f;else break;if(0<f)if(g+f<n)p[g]=p[g+f];else break}p.length=n-f}}destroy(){if(!this.destroyed){this.destroyed=!0;var p=this._observers;if(null!=p){for(const n of p)n.onCommitted();this._observers=null}}}}const d=b.makeHandle();a.ObservableBase=
e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],function(a,b){class c{constructor(e,d){this._observers=e;this._observer=d}remove(){b.remove(this._observers,this._observer)}}a.ObservationHandle=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports"],function(a){function b(d){switch(d){case "defaults":return a.OriginId.DEFAULTS;
case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;case "web-scene":return a.OriginId.WEB_SCENE;case "web-map":return a.OriginId.WEB_MAP;case "link-chart":return a.OriginId.LINK_CHART;case "user":return a.OriginId.USER;default:return null}}function c(d){switch(d){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";
case a.OriginId.LINK_CHART:return"link-chart";case a.OriginId.USER:return"user"}}a.OriginId=void 0;(function(d){d[d.DEFAULTS=0]="DEFAULTS";d[d.COMPUTED=1]="COMPUTED";d[d.SERVICE=2]="SERVICE";d[d.PORTAL_ITEM=3]="PORTAL_ITEM";d[d.WEB_SCENE=4]="WEB_SCENE";d[d.WEB_MAP=5]="WEB_MAP";d[d.LINK_CHART=6]="LINK_CHART";d[d.USER=7]="USER"})(a.OriginId||(a.OriginId={}));const e=a.OriginId.USER+1;a.idToName=c;a.idToReadableName=function(d){return c(d)};a.idToWritableName=function(d){return c(d)};a.nameToId=b;a.originIdNum=
e;a.readableNameToId=function(d){return b(d)};a.writableNameToId=function(d){return b(d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils","./tracking/Flags"],function(a,b,c,e,d){function p(r){h.onObservableAccessed(r)}function n(r,z,v){if(t)return f(r,z,v);h=r;m.push(r);r=z.call(v);g();return r}function f(r,z,v){const x=t;t=!0;h=r;m.push(r);r=null;try{r=z.call(v)}catch(B){y&&c.getLogger("esri.core.accessorSupport.tracking").error(B)}g();
t=x;return r}function g(){var r=m.length;if(1<r){const z=m.pop();h=m[r-2];z.onTrackingEnd()}else 1===r?(r=m.pop(),h=q,r.onTrackingEnd()):h=q}function k(r,z){if(!(z.flags&d.Flags.DepTrackingInitialized)){var v=y;y=!1;z.flags&d.Flags.AutoTracked?f(z,z.metadata.get,r):l(r,z);y=v}}function l(r,z){z.flags&d.Flags.ExplicitlyTracking||(z.flags|=d.Flags.ExplicitlyTracking,f(z,()=>{var v=z.metadata.dependsOn||u;for(const x of v)if("string"!==typeof x||x.includes(".")){v=e.pathToArray(x);for(let B=0,A=r;B<
v.length&&null!=A&&"object"===typeof A;++B)A=w(A,v[B],B!==v.length-1)}else w(r,x,!1)}),z.flags&=~d.Flags.ExplicitlyTracking)}function w(r,z,v){z="?"===z[z.length-1]?z.slice(0,-1):z;if(null!=r.getItemAt||Array.isArray(r)){var x=parseInt(z,10);if(!isNaN(x))return Array.isArray(r)?r[x]:r.at(x)}if(x=e.getProperties(r))if(x=x.propertiesByName.get(z))p(x),k(r,x);return v?r[z]:void 0}const q={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},m=[];let h=q,t=!1,y=!1;const u=[];a.initializeDependencyTracking=
k;a.runTracked=n;a.runTrackedNoThrow=f;a.runUntracked=function(r,z){return n(q,r,z)};a.trackAccess=p;a.trackExplicitDependencies=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overridden=2]="Overridden";b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=
32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){class e{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(d){const p=new e;this._values.forEach((n,f)=>{d&&d.has(f)||p.set(f,b.clone(n))});return p}get(d){return this._values.get(d)}originOf(){return c.OriginId.USER}keys(){return[...this._values.keys()]}set(d,
p){this._values.set(d,p)}delete(d){this._values.delete(d)}has(d){return this._values.has(d)}forEach(d){this._values.forEach(d)}}a.Store=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(a,b,c,e,d){function p(n,f,g){if(n&&f)if("object"===typeof f)for(var k of Object.getOwnPropertyNames(f))p(n,k,f[k]);else if(f.includes("."))f=f.split("."),k=f.splice(-1,1)[0],p(d.get(n,f),k,
g);else{k=n.__accessor__;if(null!=k&&c("esri-unknown-property-errors")&&null==k.metadata[f])throw new b("set:unknown-property","setting unknown property '"+f+"' on instance of "+k.host.declaredClass);n[f]=g}}a.set=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/testSupport":function(){define(["exports"],function(a){let b;a.InterceptorCollectAction=void 0;(function(c){c[c.Ignore=0]="Ignore";c[c.Destroy=1]="Destroy";c[c.ThrowError=2]="ThrowError"})(a.InterceptorCollectAction||
(a.InterceptorCollectAction={}));a.getAccessorInterceptor=function(){return b};a.setAccessorInterceptor=function(c){b=c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../handleUtils ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./interfaces ./trackingUtils ./utils".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w){function q(N){A.delete(N);A.add(N);C||=p.schedule(h)}function m(N){if(!N.removed){var I=
N.oldValue,E=N.getValue();N.equals(I,E)||(N.oldValue=E,N.notify(E,I))}}function h(){let N=10;for(;C&&N--;){C=null;const I=t(),E=B.acquire();for(const G of I){const L=G.uid;m(G);L===G.uid&&G.removed&&E.push(G)}for(const G of A)G.removed&&(E.push(G),A.delete(G));for(const G of E)x.pool.release(G);B.release(E);B.release(I);H.forEach(G=>G())}}function t(){const N=B.acquire();N.length=A.size;let I=0;for(const E of A)N[I]=E,++I;A.clear();return N}function y(N,I,E){let G=w.parse(N,I,E,(L,R,F)=>{let J,O,
U=l.reactionDeferred(()=>g.valueOf(L,R),(T,Z)=>{L.__accessor__?.lifecycle===k.Lifecycle.DESTROYED||J&&J.uid!==O?G.remove():(J||(J=x.acquireUntracked(T,F,Z,L,R),O=J.uid),q(J))});return c.makeHandle(()=>{U.remove();J&&(J.uid!==O||J.removed||(J.removed=!0,q(J)),J=null);G=U=null})});return G}function u(N,I,E){const G=w.parse(N,I,E,(L,R,F)=>{let J=!1;return l.reaction(()=>g.valueOf(L,R),(O,U)=>{L.__accessor__.lifecycle===k.Lifecycle.DESTROYED?G.remove():J||(J=!0,e.equals(U,O)||F.call(L,O,U,R,L),J=!1)})});
return G}function r(N,I,E){let G,L,R=l.reactionDeferred(N,(F,J)=>{G&&G.uid!==L?R.remove():(G||(G=x.acquireTracked(F,I,J,E),L=G.uid),q(G))});return c.makeHandle(()=>{R.remove();G&&(G.uid!==L||G.removed||(G.removed=!0,q(G)),G=null);R=null})}function z(N,I,E){let G=!1;return l.reaction(N,(L,R)=>{G||(G=!0,E(R,L)||I(L,R),G=!1)})}var v;(function(N){N[N.Untracked=0]="Untracked";N[N.Tracked=1]="Tracked"})(v||={});class x{constructor(){this.uid=f.generateUID();this.removed=!1;this.equals=this.path=this.target=
this.getValue=this.callback=this.oldValue=this.type=null}static acquireUntracked(N,I,E,G,L){return this.pool.acquire(v.Untracked,N,I,E,G,L,e.equals)}static acquireTracked(N,I,E,G){return this.pool.acquire(v.Tracked,N,I,E,null,null,G)}notify(N,I){this.type===v.Untracked?this.callback.call(this.target,N,I,this.path,this.target):this.callback.call(null,N,I,void 0,void 0)}acquire(N,I,E,G,L,R,F){this.uid=f.generateUID();this.removed=!1;this.type=N;this.oldValue=I;this.callback=E;this.getValue=G;this.target=
L;this.path=R;this.equals=F}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null;this.uid=f.generateUID();this.removed=!0}}x.pool=new d.ReentrantObjectPool(x);const B=new b,A=new Set;let C;const H=new Set;a.afterDispatch=function(N){H.add(N);return c.makeHandle(()=>H.delete(N))};a.dispatch=h;a.isValueInUse=function(N){return n.someSet(A,I=>I.oldValue===N)};a.removeTarget=function(N){for(const I of A.values())I.target===N&&(I.removed=!0)};a.watch=function(N,I,E,G=!1){return N.__accessor__&&
N.__accessor__.lifecycle!==k.Lifecycle.DESTROYED?G?u(N,I,E):y(N,I,E):c.makeHandle()};a.watchTracked=function(N,I,E=!1,G=e.equalsShallow){return E?z(N,I,G):r(N,I,G)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function b(d){d.length=0}class c{constructor(d=50,p=50){this._pool=new a(Array,void 0,b,p,d)}acquire(){return this._pool.acquire()}release(d){this._pool.release(d)}prune(){this._pool.prune(0)}static acquire(){return e.acquire()}static release(d){return e.release(d)}static prune(){e.prune()}}
const e=new c(100);return c})},"esri/core/ReentrantObjectPool":function(){define(["exports","./ObjectPool"],function(a,b){class c extends b{constructor(){super(...arguments);this._set=new Set}destroy(){super.destroy();this._set=null}acquire(...e){e=super.acquire(...e);this._set.delete(e);return e}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e);super._dispose(e)}}a.ReentrantObjectPool=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/scheduling":function(){define("exports ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,b,c,e,d,p){function n(I){I=new h(I);z.push(I);B.willDispatch||(B.willDispatch=!0,b.nextTick(l));return I}function f(I){I=new m(I);v.push(I);null==A&&(t=performance.now(),A=requestAnimationFrame(g));return new x(I)}function g(){const I=performance.now();A=null;A=0<v.length?requestAnimationFrame(g):null;B.executeFrameTasks(I)}function k(){v.forAll(I=>{I.removed&&
C.push(I)});v.removeUnorderedMany(C.data,C.length);C.clear()}function l(){for(;z.length;){const I=z.shift();I.isActive&&I.callback()}B.willDispatch=!1}function w(I=1,E){const G=d.createResolver(),L=()=>{d.isAborted(E)?G.reject(d.createAbortError()):0===I?G():(--I,b.nextTick(()=>L()))};L();return G.promise}function q(I){return w(1,I)}class m{constructor(I){this.phases=I;this.paused=!1;this.ticks=-1;this.removed=!1}}class h{constructor(I){this.callback=I;this.isActive=!0}remove(){this.isActive=!1}}
let t=0,y=0;const u={time:p.Milliseconds(0),deltaTime:p.Milliseconds(0),elapsedFrameTime:p.Milliseconds(0),frameDuration:p.Milliseconds(0)},r="prepare preRender render postRender update finish".split(" "),z=[],v=new e;class x{constructor(I){this._task=I}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const B={frameTasks:v,willDispatch:!1,clearFrameTasks:function(I=!1){v.forAll(E=>{E.removed=!0});I&&k()},dispatch:l,executeFrameTasks:function(I){const E=p.Milliseconds(I-
t);t=I;var G=0<y?y:1E3/60;const L=Math.max(0,E-G);u.time=I;u.frameDuration=p.Milliseconds(G-L);for(let R=0;R<r.length;R++){G=performance.now();const F=r[R];v.forAll(J=>{J.paused||J.removed||(0===R&&J.ticks++,J.phases[F]&&(u.elapsedFrameTime=p.Milliseconds(performance.now()-I),u.deltaTime=0===J.ticks?p.Milliseconds(0):E,J.phases[F]?.call(J,u)))});H[R].record(performance.now()-G)}k();N.record(performance.now()-I)},reschedule:function(){null!=A&&(cancelAnimationFrame(A),A=requestAnimationFrame(g))}};
let A=null;const C=new e,H=r.map(I=>new c(I)),N=new c("total");a.FrameTaskHandle=x;a.addFrameTask=f;a.debug=B;a.performanceInfo=H;a.performanceTotal=N;a.schedule=n;a.setFrameDuration=function(I){y=Math.max(0,I)};a.waitAnimationFrame=async function(){await q();await new Promise(I=>requestAnimationFrame(I))};a.waitRender=function(){const I=d.createResolver(),E=f({postRender:()=>{E.remove();n(I)}});return I.promise};a.waitTick=q;a.waitTicks=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(c){b.push(c);1===b.length&&queueMicrotask(()=>{const e=b.slice();b.length=0;for(const d of e)d()})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/PerformanceSampler":function(){define(function(){class a{constructor(b,c=30){this.name=b;this._counter=0;this._samples=Array(c)}record(b){null!=b&&(this._samples[++this._counter%this._samples.length]=b)}get median(){return this._samples.slice().sort((b,
c)=>b-c)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((b,c)=>b+c,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}return a})},"esri/core/PooledArray":function(){define(["./arrayUtils","./HeapSort"],function(a,b){function c(d){d.data.length>1.5*d.length&&(d.data.length=Math.floor(1.1*d.length))}class e{constructor(d){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=
new a.PositionHint;d&&(d.initialSize&&(this.data=Array(d.initialSize)),d.allocator&&(this._allocator=d.allocator),void 0!==d.deallocator&&(this._deallocator=d.deallocator),d.shrink&&(this._shrink=()=>c(this)))}toArray(){return this.data.slice(0,this.length)}filter(d){const p=[];for(let n=0;n<this._length;n++){const f=this.data[n];d(f)&&p.push(f)}return p}at(d){d=Math.trunc(d)||0;0>d&&(d+=this._length);if(!(0>d||d>=this._length))return this.data[d]}includes(d,p){d=this.data.indexOf(d,p);return-1!==
d&&d<this.length}get length(){return this._length}set length(d){if(d>this._length)if(this._allocator)for(;this._length<d;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=d;else{if(this._deallocator)for(let p=d;p<this._length;++p)this.data[p]=this._deallocator(this.data[p]);this._length=d;this._shrink()}}clear(){this.length=0}prune(){this.clear();this.data=[]}push(d){this.data[this._length++]=d}pushArray(d,p=d.length){for(let n=0;n<p;n++)this.data[this._length++]=
d[n]}fill(d,p){for(let n=0;n<p;n++)this.data[this._length++]=d}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const d=this.data[this._length];++this._length;return d}unshift(d){this.data.unshift(d);this._length++;c(this)}pop(){if(0!==this.length){var d=this.data[this.length-1];--this.length;this._shrink();return d}}remove(d){const p=a.indexOf(this.data,d,this.length,this._hint);if(-1!==p)return this.data.splice(p,1),--this.length,d}removeUnordered(d){return this.removeUnorderedIndex(a.indexOf(this.data,
d,this.length,this._hint))}removeUnorderedIndex(d){if(!(d>=this.length||0>d))return this.swapElements(d,this.length-1),this.pop()}removeUnorderedMany(d,p=d.length,n){this.length=a.removeUnorderedMany(this.data,d,this.length,p,this._hint,n);this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(d,p){if(!(d>=this.length||p>=this.length||d===p)){var n=this.data[d];this.data[d]=this.data[p];this.data[p]=n}}sort(d){b.sort(this.data,
0,this.length,d)}iterableSort(d){return b.iterableSort(this.data,0,this.length,d)}some(d,p){for(let n=0;n<this.length;++n)if(d.call(p,this.data[n],n,this.data))return!0;return!1}find(d,p){for(let n=0;n<this.length;++n){const f=this.data[n];if(d.call(p,f,n))return f}}filterInPlace(d,p){let n=0;for(let f=0;f<this._length;++f){const g=this.data[f];d.call(p,g,f,this.data)&&(this.data[f]=this.data[n],this.data[n]=g,n++)}if(this._deallocator)for(d=n;d<this._length;d++)this.data[d]=this._deallocator(this.data[d]);
this._length=n;this._shrink();return this}forAll(d,p){const {data:n,length:f}=this;for(let g=0;g<f;++g)d.call(p,n[g],g,n)}forEach(d,p){this.data.slice(0,this.length).forEach(d,p)}map(d,p){const n=Array(this.length);for(let f=0;f<this.length;++f)n[f]=d.call(p,this.data[f],f,this.data);return n}reduce(d,p){for(let n=0;n<this.length;++n)p=d(p,this.data[n],n,this.data);return p}has(d){const p=this.length,n=this.data;for(let f=0;f<p;++f)if(n[f]===d)return!0;return!1}*[Symbol.iterator](){for(let d=0;d<
this.length;d++)yield this.data[d]}}return e})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const c=(d,p,n,f)=>{let g=p;const k=n>>>1,l=d[g-1];for(;p<=k;){p=g<<1;p<n&&0>f(d[p-1],d[p])&&++p;const w=d[p-1];if(0>=f(w,l))break;d[g-1]=w;g=p}d[g-1]=l},e=(d,p)=>d<p?-1:d>p?1:0;b.sort=function(d,p,n,f){void 0===p&&(p=0);void 0===n&&(n=d.length);void 0===f&&(f=e);for(var g=n>>>1;g>p;g--)c(d,g,n,f);g=p+1;for(--n;n>p;n--){const k=d[p];d[p]=d[n];d[n]=k;c(d,g,n,f)}};b.iterableSort=function*(d,
p,n,f){void 0===p&&(p=0);void 0===n&&(n=d.length);void 0===f&&(f=e);for(var g=n>>>1;g>p;g--)c(d,g,n,f),yield;g=p+1;for(--n;n>p;n--){const k=d[p];d[p]=d[n];d[n]=k;c(d,g,n,f);yield}}})(a||={});return a})},"esri/core/promiseUtils":function(){define("exports ./clock ./Error ./events ./Logger ./maybe".split(" "),function(a,b,c,e,d,p){function n(u="Aborted"){return new c("AbortError",u)}function f(u,r="Aborted"){if(k(u))throw n(r);}function g(u){return u instanceof AbortSignal?u:u?.signal}function k(u){u=
g(u);return null!=u&&u.aborted}function l(u,r){u=g(u);if(null!=u)if(u.aborted)r();else return e.once(u,"abort",()=>r())}function w(u){return"AbortError"===u?.name}async function q(u){if(u){if("function"!==typeof u.forEach){const r=Object.keys(u),z=r.map(B=>u[B]),v=await q(z),x={};r.map((B,A)=>x[B]=v[A]);return x}return Promise.allSettled(u).then(r=>Array.from(u,(z,v)=>{v=r[v];return"fulfilled"===v.status?{promise:z,value:v.value}:{promise:z,error:v.reason}}))}}function m(u,r,z){const v=new AbortController;
l(z,()=>v.abort());return new Promise((x,B)=>{let A=setTimeout(()=>{A=0;x(r)},u);l(v,()=>{A&&(clearTimeout(A),B(n()))})})}function h(u){return u&&"function"===typeof u.then}function t(u){return h(u)?u:Promise.resolve(u)}function y(){let u,r;const z=new Promise((x,B)=>{u=x;r=B}),v=x=>{u(x)};v.resolve=x=>u(x);v.reject=x=>r(x);v.timeout=(x,B)=>b.clock.setTimeout(()=>v.reject(B),x);v.promise=z;return v}a.after=m;a.allSettledErrors=async function(u){return(await Promise.allSettled(u)).filter(r=>"rejected"===
r.status).map(r=>r.reason)};a.allSettledValues=async function(u){return(await Promise.allSettled(u)).filter(r=>"fulfilled"===r.status).map(r=>r.value)};a.always=function(u,r){return u.then(r,r)};a.createAbortError=n;a.createResolver=y;a.debounce=function(u,r=-1){let z,v,x,B,A=null;const C=(...H)=>{if(z){v=H;B&&B.reject(n());B=y();H=B.promise;if(A){var N=A;A=null;N.abort()}return H}x=B||y();B=null;if(0<r){const E=new AbortController,G=z=t(u(...H,E.signal));m(r).then(()=>{z===G&&(B?E.abort():A=E)})}else z=
1,z=t(u(...H));H=()=>{const E=v;v=x=z=A=null;null!=E&&C(...E)};N=z;const I=x;N.then(H,H);N.then(I.resolve,I.reject);return I.promise};return C};a.eachAlways=q;a.eachAlwaysValues=async function(u){return(await q(u)).filter(r=>!!r.value).map(r=>r.value)};a.filter=async function(u,r){const z=u.slice(),v=await Promise.all(u.map((x,B)=>r(x,B)));return z.filter((x,B)=>v[B])};a.ignoreAbortErrors=async function(u){try{return await u}catch(r){if(!w(r))throw r;}};a.isAbortError=w;a.isAborted=k;a.isPromiseLike=
h;a.logOnError=async function(u,r=d.getLogger("esri")){try{return await u}catch(z){w(z)||r.error(z)}};a.onAbort=l;a.onAbortOrThrow=function(u,r){u=g(u);if(null!=u)return f(u),e.once(u,"abort",()=>r(n()))};a.settleWithPromise=function(u,r){r.then(u.resolve,u.reject)};a.signalFromSignalOrOptions=g;a.throwIfAbortError=function(u){if(w(u))throw u;};a.throwIfAborted=f;a.throwIfNotAbortError=function(u){if(!w(u))throw u;};a.timeout=function(u,r,z,v){const x=z&&"abort"in z?z:null;null!=v||x||(v=z);let B=
setTimeout(()=>{B=0;x?.abort()},r);const A=()=>v||new c("promiseUtils:timeout","The wrapped promise did not resolve within "+r+" ms");return u.then(C=>{if(0===B)throw A();clearTimeout(B);return C},C=>{clearTimeout(B);throw 0===B?A():C;})};a.waitTick=async function(u){await Promise.resolve();f(u)};a.when=t;a.whenOrAbort=function(u,r){return null==g(r)?u:new Promise((z,v)=>{let x=l(r,()=>v(n()));const B=()=>{x=p.removeMaybe(x)};u.then(B,B);u.then(z,v)})};a.whenOrTimeout=function(u,r,z){return Promise.race([u,
m(r).then(()=>{throw new c("timeout",`Did not resolve within ${r} milliseconds (${z??"timeout"})`);})])};a.wrapAbortWithTimeout=function(u,r){const z=new AbortController,v=setTimeout(()=>z.abort(),r);l(u,()=>{z.abort();clearTimeout(v)});return{...u,signal:z.signal}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/clock":function(){define(["exports","./handleUtils"],function(a,b){function c(d){return{setTimeout:(p,n)=>{const f=d.setTimeout(p,n);return b.makeHandle(()=>d.clearTimeout(f))}}}
const e=c(globalThis);a.clock=e;a.wrap=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/events":function(){define(["exports","./handleUtils"],function(a,b){function c(n){return null!=n&&"object"===typeof n&&"on"in n&&"function"===typeof n.on||e(n)}function e(n){return null!=n&&"object"===typeof n&&"addEventListener"in n&&"function"===typeof n.addEventListener}function d(n,f,g){if(!c(n))throw new TypeError("target is not a Evented or EventTarget object");return e(n)?p(n,
f,g):n.on(f,g)}function p(n,f,g,k){if(Array.isArray(f)){const l=f.slice();for(const w of l)n.addEventListener(w,g,k);return b.makeHandle(()=>{for(const w of l)n.removeEventListener(w,g,k)})}n.addEventListener(f,g,k);return b.makeHandle(()=>n.removeEventListener(f,g,k))}a.addEventListener=p;a.isEventedOrEventTarget=c;a.on=d;a.once=function(n,f,g){if(!c(n))throw new TypeError("target is not a Evented or EventTarget object");if("once"in n)return n.once(f,g);const k=d(n,f,l=>{k.remove();g.call(n,l)});
return k};a.pausable=function(n,f,g){let k=!1;const l=d(n,f,w=>{k||g.call(n,w)});return{resume(){k=!1},pause(){k=!0},remove(){l.remove()}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.now=function(){return performance.now()};a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/SetUtils":function(){define(["exports"],function(a){function b(p,n){if(!n)return p;for(const f of n)null!=f&&p.add(f);return p}function c(p,n){const f=new Set;b(f,p);b(f,n);return f}function e(p,n){const f=new Set;for(const g of n)p.has(g)&&f.add(g);return f}function d(p,n){p=new Set(p);for(const f of n)p.delete(f);return p}a.addMany=b;a.addMaybe=function(p,n){null!=n&&p.add(n);return p};a.difference=d;a.equals=function(p,n){if(null==p&&null==n)return!0;
if(null==p||null==n||p.size!==n.size)return!1;for(const f of p)if(!n.has(f))return!1;return!0};a.intersection=e;a.isSubsetOf=function(p,n){if(!p||!n)return!1;if(p===n)return!0;for(const f of p)if(!n.has(f))return!1;return!0};a.last=function(p){let n;for(n of p);return n};a.someSet=function(p,n){for(const f of p.entries())if(n(f[0]))return!0;return!1};a.symmetricDifference=function(p,n){return d(c(p,n),e(p,n))};a.union=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/uid":function(){define(["exports"],
function(a){let b=0;a.generateUID=function(){return++b};a.nullUid=0;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","../handleUtils","./tracking","./tracking/SimpleTrackingTarget"],function(a,b,c,e){let d=!1;const p=[];a.autorun=function(n){function f(){if(g&&!k)if(d)p.includes(f)||p.unshift(f);else for(g.clear(),k=d=!0,c.runTracked(g,n),d=k=!1;p.length;)p.pop()()}let g=new e.SimpleTrackingTarget(f),k=!1;k=!0;c.runTracked(g,
n);k=!1;return b.makeHandle(function(){g&&(g.destroy(),g=null)})};a.reaction=function(n,f){function g(){if(k&&!w)if(d)p.includes(g)||p.unshift(g);else{var q=l;k.clear();w=d=!0;l=c.runTracked(k,n);d=w=!1;for(f(l,q);p.length;)p.pop()()}}let k=new e.SimpleTrackingTarget(g),l=null,w=!1;w=!0;l=c.runTracked(k,n);w=!1;return b.makeHandle(function(){k&&(k.destroy(),l=k=null)})};a.reactionDeferred=function(n,f){function g(){if(!k)return null;k.clear();return l=c.runTracked(k,n)}let k=new e.SimpleTrackingTarget(function(){f(l,
g)}),l=null;g();return b.makeHandle(function(){k&&(k.destroy(),k=null);l=null})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],function(a){function b(){}class c{constructor(p){this._accessed=new Set;this._handles=[];this._observerObject=new e(p);d.register(this,new WeakRef(this._observerObject),this)}destroy(){d.unregister(this._observerObject);this._accessed.clear();this._observerObject?.destroy();
this.clear()}onObservableAccessed(p){this._accessed.add(p)}onTrackingEnd(){const p=this._handles,n=this._observerObject;this._accessed.forEach(f=>{p.push(f.observe(n))});this._accessed.clear()}clear(){const p=this._handles;for(let n=0;n<p.length;++n)p[n].remove();p.length=0}}class e{constructor(p){this._notify=p;this._invalidCount=0;this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(!this.destroyed){var p=this._invalidCount;1===p?(this._invalidCount=0,this._notify()):this._invalidCount=
0<p?p-1:0}}destroy(){this.destroyed=!0;this._notify=b}}const d=new FinalizationRegistry(p=>{p.deref()?.destroy()});a.SimpleTrackingTarget=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,c,e,d,p){function n(g){let k=0;var l=g;if(c.isLongFormType(g))return c.ensureLongFormType(g);for(;Array.isArray(l)&&1===l.length&&"string"!==typeof l[0]&&
"number"!==typeof l[0];)l=l[0],k++;return c.isOneOf(l)?0===k?c.ensureOneOf(l):c.ensureNArrayTyped(c.ensureOneOf(l),k):1===k?c.ensureArray(l):1<k?c.ensureNArray(l,k):g.from?g.from:c.ensureType(g)}function f(g,k){return l=>{l=+g(l);null!=k.step&&(l=Math.round(l/k.step)*k.step);null!=k.min&&(l=Math.max(k.min,l));null!=k.max&&(l=Math.min(k.max,l));return l}}a.ensureRange=f;a.property=function(g={}){return(k,l)=>{if(k===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${k.name}.${l}. Accessor does not support static properties.`);
var w=Object.getOwnPropertyDescriptor(k,l);const q=d.getPropertyMetadata(k,l);w&&(w.get||w.set?(q.get=w.get||q.get,q.set=w.set||q.set):"value"in w&&("value"in g&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${l}" on "${k.constructor.name}" already defined in the metadata`,g),q.value=g.value=w.value));null!=g.readOnly&&(q.readOnly=g.readOnly);if(k=g.aliasOf){const m="string"===typeof k?k:k.source;k="string"===typeof k?null:!0===k.overridable;
let h;q.dependsOn=[m];q.get=function(){let t=e.get(this,m);if("function"===typeof t){h||=m.split(".").slice(0,-1).join(".");const y=e.get(this,h);y&&(t=t.bind(y))}return t};q.readOnly||(q.set=k?function(t){this._override(l,t)}:function(t){p.set(this,m,t)})}k=g.type;w=g.types;q.cast||(k?q.cast=n(k):w&&(Array.isArray(w)?q.cast=c.ensureArrayTyped(c.ensureOneOfType(w[0])):q.cast=c.ensureOneOfType(w)));d.mergeProperty(q,g);g.range&&(q.cast=f(q.cast,g.range))}};a.propertyJSONMeta=function(g,k,l){g=d.getPropertyMetadata(g,
l);g.json||(g.json={});g=g.json;void 0!==k&&(g.origins||(g.origins={}),g.origins[k]||(g.origins[k]={}),g=g.origins[k]);return g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(a,b,c,e){function d(F){return null==F?F:new Date(F)}function p(F){return null==F?F:!!F}function n(F){return null==F?F:F.toString()}function f(F){if(null==F)return F;F=parseFloat(F);return isNaN(F)?
0:F}function g(F){return null==F?F:Math.round(parseFloat(F))}function k(F){return null}function l(F){return F?.constructor&&void 0!==F.constructor.__accessorMetadata__}function w(F,J){return null!=J&&F&&!(J instanceof F)}function q(F){return F?.Type?"function"===typeof F.Type?F.Type:F.Type.base:null}function m(F,J){var O;(O=!J?.constructor)||(O=J.constructor,O=!(O&&"isCollection"in O));if(O)return h(F,J)?J:new F(J);O=q(F.prototype.itemType);const U=q(J.constructor.prototype.itemType);if(!O)return J;
if(!U)return new F(J);if(O===U)return J;if(O.prototype.isPrototypeOf(U.prototype))return new F(J);h(F,J);return J}function h(F,J){return l(J)?(E().error("Accessor#set","Assigning an instance of '"+(J.declaredClass||"unknown")+"' which is not a subclass of '"+y(F)+"'"),!0):!1}function t(F,J){return null==J?J:F&&"isCollection"in F?m(F,J):w(F,J)?h(F,J)?J:new F(J):J}function y(F){return F?.prototype?.declaredClass||"unknown"}function u(F){switch(F){case Number:return f;case L:return g;case Boolean:return p;
case String:return n;case Date:return d;case R:return k;default:return e.getOrCreateMapValue(G,F,()=>t.bind(null,F))}}function r(F,J){const O=u(F);return 1===arguments.length?O:O(J)}function z(F,J,O){return 1===arguments.length?z.bind(null,F):J?Array.isArray(J)?J.map(U=>F(U,O)):[F(J,O)]:J}function v(F,J,O){return 0!==J&&Array.isArray(O)?O.map(U=>v(F,J-1,U)):F(O)}function x(F,J,O){if(2===arguments.length)return Z=>x(F,J,Z);if(!O)return O;O=v(F,J,O);let U=J;for(var T=O;0<U&&Array.isArray(T);)U--,T=
T[0];if(void 0!==T)for(T=0;T<U;T++)O=[O];return O}function B(F,J){if(2===arguments.length)return B(F).call(null,J);const O=new Set,U=F.filter(qa=>"function"!==typeof qa),T=F.filter(qa=>"function"===typeof qa);for(const qa of F)"string"!==typeof qa&&"number"!==typeof qa||O.add(qa);let Z=null,V=null;return(qa,Ca)=>{if(null==qa)return qa;const va=typeof qa,ra="string"===va||"number"===va;if(ra&&(O.has(qa)||T.some(Aa=>"string"===va&&Aa===String||"number"===va&&Aa===Number))||"object"===va&&T.some(Aa=>
!w(qa,Aa)))return qa;ra&&U.length?(Z||=U.map(Aa=>"string"===typeof Aa?`'${Aa}'`:`${Aa}`).join(", "),E().error("Accessor#set",`'${qa}' is not a valid value for this property, only the following values are valid: ${Z}`)):"object"===typeof qa&&T.length?(V||=T.map(Aa=>y(Aa)).join(", "),E().error("Accessor#set",`'${qa}' is not a valid value for this property, value must be one of ${V}`)):E().error("Accessor#set",`'${qa}' is not a valid value for this property`);Ca&&(Ca.valid=!1);return null}}function A(F,
J){if(2===arguments.length)return A(F).call(null,J);const O={},U=[],T=[];for(const V in F.typeMap){const qa=F.typeMap[V];O[V]=r(qa);U.push(y(qa));T.push(V)}const Z="string"===typeof F.key?V=>V[F.key]:F.key;return V=>{if(F.base&&!w(F.base,V)||null==V)return V;var qa=Z(V)||F.defaultKeyValue;const Ca=O[qa];if(!Ca)return E().error("Accessor#set",`Invalid property value, value needs to be one of ${`'${U.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${T.join("', '")}'`})`),null;
if(!w(F.typeMap[qa],V))return V;if("string"===typeof F.key&&!l(V)){qa={};for(const va in V)va!==F.key&&(qa[va]=V[va]);return Ca(qa)}return Ca(V)}}function C(F){switch(F.type){case "native":return r(F.value);case "array":return z(C(F.value));case "one-of":return H(F);default:return null}}function H(F){let J=null;return(O,U)=>{if(I(O,F))return O;null==J&&(J=N(F));E().error("Accessor#set",`Invalid property value, value needs to be of type ${J}`);U&&(U.valid=!1);return null}}function N(F){switch(F.type){case "native":switch(F.value){case Number:return"number";
case String:return"string";case Boolean:return"boolean";case L:return"integer";case Date:return"date";case R:return"null";default:return y(F.value)}case "array":return`array of ${N(F.value)}`;case "one-of":return F=F.values.map(J=>N(J)),`one of ${F.slice(0,-1)} or ${F[F.length-1]}`}return"unknown"}function I(F,J){if(null==F)return!0;switch(J.type){case "native":switch(J.value){case Number:case L:return"number"===typeof F;case Boolean:return"boolean"===typeof F;case String:return"string"===typeof F;
case R:return null===F}return F instanceof J.value;case "array":return Array.isArray(F)?!F.some(O=>!I(O,J.value)):!1;case "one-of":return J.values.some(O=>I(F,O))}}const E=()=>c.getLogger("esri.core.accessorSupport.ensureTypes"),G=new WeakMap;class L{}class R{}a.Integer=L;a.Null=R;a.ensureArray=function(F,J){return 1===arguments.length?z(O=>r(F,O)):z(O=>r(F,O),J)};a.ensureArrayTyped=z;a.ensureBoolean=p;a.ensureClass=t;a.ensureDate=d;a.ensureInteger=g;a.ensureLongFormType=C;a.ensureNArray=function(F,
J,O){return 2===arguments.length?x(U=>r(F,U),J):x(U=>r(F,U),J,O)};a.ensureNArrayTyped=x;a.ensureNull=k;a.ensureNumber=f;a.ensureOneOf=B;a.ensureOneOfType=A;a.ensureString=n;a.ensureType=r;a.isClassedType=l;a.isLongFormType=function(F){if(!(F&&"type"in F))return!1;switch(F.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(F){return Array.isArray(F)?!F.some(J=>{J=typeof J;return!("string"===J||"number"===J||"function"===J&&1<F.length)}):!1};a.requiresType=w;a.types=
{native(F){return{type:"native",value:F}},array(F){return{type:"array",value:F}},oneOf(F){return{type:"one-of",values:F}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,c){for(const [e,d]of b)if(c(d,e))return d;return null};a.first=function(b){b=b.values().next();return!0!==b.done?b.value:null};a.getOrCreateMapValue=function(b,c,e){const d=b.get(c);if(void 0!==d)return d;e=e();b.set(c,e);return e};
a.memoize=function(b){const c=new Map;return e=>{c.has(e)||c.set(e,b(e));return c.get(e)}};a.someMap=function(b,c){for(const [e,d]of b)if(c(d,e))return!0;return!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../has ../../Logger ../beforeDestroy ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),function(a,b,c,e,d,p,n,f){function g(m,h){return null==h.get?function(){var t=
this.__accessor__;const y=t.propertiesByName.get(m);if(void 0!==y)return n.trackAccess(y),t=t.store,t.has(m)?t.get(m):y.metadata.value}:function(){const t=this.__accessor__,y=t.propertiesByName.get(m);if(void 0!==y)return y.getComputed(t)}}function k(m){const h=p.getPropertiesMetadata(m.prototype),t={};for(const y of Object.getOwnPropertyNames(h)){const u=h[y];f.processPrototypePropertyMetadata(u);t[y]={enumerable:!0,configurable:!0,get:g(y,u),set(r){const z=this.__accessor__;if(void 0===z)Object.defineProperty(this,
y,{enumerable:!0,configurable:!0,writable:!0,value:r});else if(!Object.isFrozen(this)){if(z.initialized&&u.readOnly)return q("read-only",y);if(z.lifecycle===d.Lifecycle.CONSTRUCTED&&u.constructOnly)return q("construct-only",y);z.set(y,r)}}}}Object.defineProperties(m.prototype,t)}const l=new Set,w=new Set,q=(m,h)=>{c.getLogger("esri.core.Accessor").error(`cannot assign to ${m} property '${h}'`)};a.finalizeClass=k;a.subclass=function(m){return h=>{m??="esri.core.Accessor";h.prototype.declaredClass=
m;k(h);const t=[],y=[];let u=h.prototype;for(;u;)u.hasOwnProperty("initialize")&&!l.has(u.initialize)&&(l.add(u.initialize),t.push(u.initialize)),u.hasOwnProperty("destroy")&&!w.has(u.destroy)&&(w.add(u.destroy),y.push(u.destroy)),u=Object.getPrototypeOf(u);l.clear();w.clear();const r=class extends h{constructor(...z){super(...z);if(this.constructor===r&&"function"===typeof this.postscript){t.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let v=t.length-
1;0<=v;v--)t[v].call(this)}});if(y.length){let v=!1;const x=this[e.beforeDestroySymbol];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!v){v=!0;x.call(this);for(let B=0;B<y.length;B++)y[B].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}});this.postscript()}}};r.__accessorMetadata__=p.getPropertiesMetadata(h.prototype);r.prototype.declaredClass=m;h=(m||"AccessorSubclass").split(".").slice(-1)[0];Object.defineProperty(r,
"name",{value:h,configurable:!0});return r}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,c,e,d,p){function n(k,l,w){k=k?.json;k?.origins&&w&&(w="link-chart"===w?k.origins[w]&&("any"===l||l in k.origins[w])?k.origins[w]:k.origins["web-map"]:
k.origins[w])&&("any"===l||l in w)&&(k=w);return k}function f(k){if(k.type){var l=0;for(k=k.type;Array.isArray(k)&&!b.isOneOf(k);)k=k[0],l++;return{type:k,ndimArray:l}}}function g(k){if(k.types){var l=0;for(k=k.types;Array.isArray(k);)k=k[0],l++;return{types:k,ndimArray:l}}}a.originSpecificPropertyDefinition=function(k,l){return n(k,"any",l?.origin)};a.originSpecificReadPropertyDefinition=function(k,l){return n(k,"read",l?.origin)};a.originSpecificWritePropertyDefinition=function(k,l){return n(k,
"write",l?.origin)};a.processPrototypePropertyMetadata=function(k){if(d.process(k)){c.process(k);var l=k.json.types?g(k.json):k.type?f(k):g(k);if(k.json.origins)for(const q in k.json.origins){const m=k.json.origins[q];if(m.types){var w=m;w=w.type?f(w):g(w)}else w=l;e.create(w,m,!1);m.types&&!m.write&&k.json.write?.enabled&&(m.write={...k.json.write});p.create(w,m)}e.create(l,k.json,!0);p.create(l,k.json)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],
function(a){a.process=function(b){if(b.json&&b.json.origins){const c=b.json.origins;b={"web-document":["web-scene","web-map"]};for(const e in b)if(c[e]){const d=c[e];b[e].forEach(p=>{c[p]=d});delete c[e]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,b,c,e,d,p){function n(u){var r=u.ndimArray??
0;if(1<r)return l(u);if(1===r)return w(u);if("type"in u&&q(u.type)){r=u.type.prototype?.itemType?.Type;const z=w("function"===typeof r?{type:r}:{types:r});return(v,x,B)=>(v=z(v,x,B))?new u.type(v):v}return f(u)}function f(u){return"type"in u?g(u.type):t(u.types)}function g(u){return u.prototype.read?(r,z,v)=>{if(null==r)return r;z=typeof r;if("object"!==z)y().error(`Expected JSON value of type 'object' to deserialize type '${u.prototype.declaredClass}', but got '${z}'`);else return z=new u,z.read(r,
v),z}:u.fromJSON}function k(u,r,z,v){return 0!==v&&Array.isArray(r)?r.map(x=>k(u,x,z,v-1)):u(r,void 0,z)}function l(u){const r=f(u),z=k.bind(null,r),v=u.ndimArray??0;return(x,B,A)=>{if(null==x)return x;x=z(x,A,v);B=v;for(A=x;0<B&&Array.isArray(A);)B--,A=A[0];if(void 0!==A)for(A=0;A<B;A++)x=[x];return x}}function w(u){const r=f(u);return(z,v,x)=>{if(null==z)return z;if(Array.isArray(z)){v=[];for(const B of z)z=r(B,void 0,x),void 0!==z&&v.push(z);return v}x=r(z,void 0,x);return void 0!==x?[x]:void 0}}
function q(u){return p.isCollection(u)?(u=u.prototype.itemType)&&u.Type?"function"===typeof u.Type?m(u.Type):h(u.Type):!1:!1}function m(u){return Array.isArray(u)?!1:!!u&&u.prototype&&("read"in u.prototype||"fromJSON"in u||q(u))}function h(u){for(const r in u.typeMap)if(!m(u.typeMap[r]))return!1;return!0}function t(u){let r=null;const z=u.errorContext??"type",v=u.validate;return(x,B,A)=>{if(null==x)return x;B=typeof x;if("object"!==B)y().error(`Expected JSON value of type 'object' to deserialize, but got '${B}'`);
else{if(!r){B={};for(var C in u.typeMap){const I=u.typeMap[C];var H=d.getPropertiesMetadata(I.prototype);if("function"===typeof u.key)continue;H=H[u.key];if(!H)continue;if(H.json?.type&&Array.isArray(H.json.type)&&1===H.json.type.length&&"string"===typeof H.json.type[0]){B[H.json.type[0]]=I;continue}H=H.json?.write;if(!H?.writer){B[C]=I;continue}var N=H.target;N="string"===typeof N?N:u.key;const E={};H.writer(C,E,N);E[N]&&(B[E[N]]=I)}r=B}C=u.key;if("string"===typeof C){if(B=(C=x[C])?r[C]:u.defaultKeyValue?
u.typeMap[u.defaultKeyValue]:void 0)return C=new B,C.read(x,A),v?v(C):C;C=`Type '${C||"unknown"}' is not supported`;A?.messages&&x&&A.messages.push(new e(`${z}:unsupported`,C,{definition:x,context:A}));y().error(C)}}}}const y=()=>b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(u,r,z){u&&(z||r.read)&&!r.read?.reader&&!1!==r.read?.enabled&&(z="types"in u?h(u.types):m(u.type),z&&c.setDeepValue("read.reader",n(u),r))};a.createTypeReader=n;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/Warning":function(){define(["./Message"],function(a){class b extends a{constructor(c,e,d){super(c,e,d)}}b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=function(b){return!!b&&b.prototype?.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],
function(a){function b(d){d.name&&(d.read?"object"===typeof d.read?void 0===d.read.source&&(d.read.source=d.name):d.read={source:d.name}:d.read={source:d.name},d.write?"object"===typeof d.write?void 0===d.write.target&&(d.write.target=d.name):d.write={target:d.name}:d.write={target:d.name})}function c(d){"boolean"===typeof d.read?d.read={enabled:d.read}:"function"===typeof d.read?d.read={enabled:!0,reader:d.read}:d.read&&"object"===typeof d.read&&void 0===d.read.enabled&&(d.read.enabled=!0)}function e(d){"boolean"===
typeof d.write?d.write={enabled:d.write}:"function"===typeof d.write?d.write={enabled:!0,writer:d.write}:d.write&&"object"===typeof d.write&&void 0===d.write.enabled&&(d.write.enabled=!0)}a.process=function(d){d.json||(d.json={});c(d.json);e(d.json);b(d.json);if(d.json.origins)for(const p in d.json.origins)c(d.json.origins[p]),e(d.json.origins[p]),b(d.json.origins[p]);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports",
"../../../Error","../../../Logger","../../../object","./type"],function(a,b,c,e,d){function p(h){return(t,y,u,r)=>{if(!t||n(t,h,r))return g(t,y,u,r)}}function n(h,t,y){for(var u in t.typeMap)if(h instanceof t.typeMap[u])return!0;y?.messages&&(u=t.errorContext??"type",t=`Values of type '${("function"!==typeof t.key?h[t.key]:h.declaredClass)??"Unknown"}' cannot be written`,y&&y.messages&&h&&y.messages.push(new b(`${u}:unsupported`,t,{definition:h,context:y})),c.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(t));
return!1}function f(h){return(t,y,u,r)=>{if(!t||!Array.isArray(t))return g(t,y,u,r);t=t.filter(z=>n(z,h,r));return g(t,y,u,r)}}function g(h,t,y,u){e.setDeepValue(y,k(h,u),t)}function k(h,t){return h&&"function"===typeof h.write?h.write({},t):h&&"function"===typeof h.toJSON?h.toJSON():"number"===typeof h?l(h):h}function l(h){return-Infinity===h?-Number.MAX_VALUE:Infinity===h?Number.MAX_VALUE:isNaN(h)?null:h}function w(h,t,y,u){null===h?h=null:h&&"function"===typeof h.map?(h=h.map(r=>k(r,u)),"function"===
typeof h.toArray&&(h=h.toArray())):h=[k(h,u)];e.setDeepValue(y,h,t)}function q(h,t,y){return 0!==y&&Array.isArray(h)?h.map(u=>q(u,t,y-1)):k(h,t)}function m(h){return(t,y,u,r)=>{if(null===t)t=null;else{t=q(t,r,h);r=h;for(var z=t;0<r&&Array.isArray(z);)r--,z=z[0];if(void 0!==z)for(z=0;z<r;z++)t=[t]}e.setDeepValue(u,t,y)}}a.create=function(h,t){if(t.write&&!t.write.writer&&(!1!==t.write.enabled||t.write.overridePolicy)){var y=h?.ndimArray??0;h&&(1===y||"type"in h&&d.isCollection(h.type))?t.write.writer=
w:1<y?t.write.writer=m(y):t.types?Array.isArray(t.types)?t.write.writer=f(t.types[0]):t.write.writer=p(t.types):t.write.writer=g}};a.numberToJSON=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){class e{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(p){const n=new e;this._values.forEach((f,g)=>{p&&p.has(g)||n.set(g,b.clone(f.value),f.origin)});
return n}get(p,n){n=this._normalizeOrigin(n);p=this._values.get(p);return null==n||p?.origin===n?p?.value:void 0}originOf(p){return this._values.get(p)?.origin??c.OriginId.USER}keys(p){p=this._normalizeOrigin(p);const n=[...this._values.keys()];return null==p?n:n.filter(f=>this._values.get(f)?.origin===p)}set(p,n,f){f=this._normalizeOrigin(f);if(f===c.OriginId.DEFAULTS){const g=this._values.get(p);if(null!=g?.origin&&g.origin>f)return}this._values.set(p,new d(n,f))}delete(p,n){n=this._normalizeOrigin(n);
null!=n&&this._values.get(p)?.origin!==n||this._values.delete(p)}has(p,n){n=this._normalizeOrigin(n);return null!=n?this._values.get(p)?.origin===n:this._values.has(p)}forEach(p){this._values.forEach(({value:n},f)=>p(n,f))}_normalizeOrigin(p){if(null!=p)return p===c.OriginId.DEFAULTS?p:c.OriginId.USER}}class d{constructor(p,n){this.value=p;this.origin=n}}a.DefaultsStore=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports",
"./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(c,e,d){e.keys().forEach(p=>{d.set(p,e.get(p),b.OriginId.DEFAULTS)});Object.keys(c.metadata).forEach(p=>{c.internalGet(p)&&d.set(p,c.internalGet(p),b.OriginId.DEFAULTS)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,c,e){const d={origin:"service"};a.read=function(p,n,f=d){if(n&&"object"===
typeof n){var g=c.getProperties(p),k=g.metadata,l={};for(const v of Object.getOwnPropertyNames(n)){var w=l,q=k,m=v,h=n,t=f,y=e.originSpecificReadPropertyDefinition(q[m],t);y&&(!y.read||!1!==y.read.enabled&&!y.read.source)&&(w[m]=!0);for(const x of Object.getOwnPropertyNames(q)){y=e.originSpecificReadPropertyDefinition(q[x],t);a:{var u=m;var r=h;if(y?.read&&!1!==y.read.enabled&&y.read.source){y=y.read.source;if("string"===typeof y){if(y===u||y.includes(".")&&0===y.indexOf(u)&&b.exists(y,r)){u=!0;break a}}else for(const B of y)if(B===
u||B.includes(".")&&0===B.indexOf(u)&&b.exists(B,r)){u=!0;break a}u=!1}else u=!1}u&&(w[x]=!0)}}g.setDefaultOrigin(f.origin);for(var z of Object.getOwnPropertyNames(l))w=e.originSpecificReadPropertyDefinition(k[z],f).read,q=(q=w?.source)&&"string"===typeof q?b.valueOf(n,q):n[z],w?.reader&&(q=w.reader.call(p,q,n,f)),void 0!==q&&g.set(z,q);if(!f||!f.ignoreDefaults){g.setDefaultOrigin("defaults");for(const v of Object.getOwnPropertyNames(k))l[v]||(z=p,n=v,k=g,w=f,q=e.originSpecificPropertyDefinition(k.metadata[n],
w)?.default,void 0!==q&&(z="function"===typeof q?q.call(z,n,w):q,void 0!==z&&k.set(n,z)))}g.setDefaultOrigin("user")}};a.readLoadable=function(p,n,f,g=d){n={...g,messages:[]};f(n);n.messages?.forEach(k=>{"warning"!==k.type||p.loaded?g?.messages&&g.messages.push(k):p.loadWarnings.push(k)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./get ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(a,b,c,e,d,p,n,f){function g(l,w,q,m,h){const t={};w.write?.writer?.call(l,m,t,q,h);return t}function k(l,w,q,m,h,t){if(!m?.write)return!1;const y=d.get(l,q);if(!h&&m.write.overridePolicy){var u=m.write.overridePolicy.call(l,y,q,t??void 0);void 0!==u&&(h=u)}h||(h=m.write);if(!h||!1===h.enabled||h.layerContainerTypes&&t?.layerContainerType&&!h.layerContainerTypes.includes(t.layerContainerType))return!1;if((null===y&&!h.allowNull&&!h.writerEnsuresNonNull||void 0===y)&&h.isRequired)return(w=
new c("web-document-write:property-required",`Missing value for required property '${q}' on '${l.declaredClass}'`,{propertyName:q,target:l}),t?.messages)?t.messages.push(w):w&&!t&&e.getLogger("esri.core.accessorSupport.write").error(w.name,w.message),!1;if(void 0===y||null===y&&!h.allowNull&&!h.writerEnsuresNonNull)return!1;if(u=!h.alwaysWriteDefaults&&(!w.store.multipleOriginsSupported||w.store.originOf(q)===p.OriginId.DEFAULTS))u=m.default,void 0===u?u=!1:null!=m.defaultEquals?u=m.defaultEquals(y):
"function"===typeof u?Array.isArray(y)?(l=u.call(l,q,t??void 0),u=b.equals(l,y)):u=!1:u=u===y;return u||!h.ignoreOrigin&&t?.origin&&w.store.multipleOriginsSupported&&w.store.originOf(q)<p.nameToId(t.origin)?!1:!0}a.willPropertyWrite=function(l,w,q,m){const h=n.getProperties(l),t=f.originSpecificWritePropertyDefinition(h.metadata[w],m);return t?k(l,h,w,t,q,m):!1};a.write=function(l,w,q){if(l&&"function"===typeof l.toJSON&&(!l.toJSON.isDefaultToJSON||!l.write))return n.merge(w,l.toJSON(q));const m=
n.getProperties(l),h=m.metadata;for(const t in h){const y=f.originSpecificWritePropertyDefinition(h[t],q);if(!k(l,m,t,y,void 0,q))continue;const u=d.get(l,t),r=g(l,y,y.write&&"string"===typeof y.write.target?y.write.target:t,u,q);0<Object.keys(r).length&&(w=n.merge(w,r),q?.resources?.pendingOperations?.length&&q.resources.pendingOperations.push(Promise.all(q.resources.pendingOperations).then(()=>n.merge(w,r,()=>"replace-arrays"))),q?.writtenProperties&&q.writtenProperties.push({target:l,propName:t,
oldOrigin:p.idToReadableName(m.store.originOf(t)),newOrigin:q.origin}))}return w};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/urlUtils":function(){define(["exports"],function(a){const b=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,c={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};
a.isSecureProxyService=function(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)};a.normalizeArcGISOnlineOrgDomain=function(e){const d=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,p=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;d.test(e)?e=e.replace(d,"https://www.arcgis.com"):p.test(e)?e=e.replace(p,"https://devext.arcgis.com"):n.test(e)&&(e=e.replace(n,"https://qaext.arcgis.com"));return e};a.parseKnownArcGISOnlineDomain=
function(e){e=e?.match(b);if(!e)return null;const [,d,p,n]=e;if(!d)return null;let f=e=null,g=null;const {devext:k,qaext:l,www:w}=c;if(p)if(e=d,n)switch(n.toLowerCase()){case "devext":({customBaseUrl:f,portalHostname:g}=k);break;case "qa":({customBaseUrl:f,portalHostname:g}=l);break;default:return null}else({customBaseUrl:f,portalHostname:g}=w);else switch(d.toLowerCase()){case "devext":({customBaseUrl:f,portalHostname:g}=k);break;case "qaext":({customBaseUrl:f,portalHostname:g}=l);break;case "www":({customBaseUrl:f,
portalHostname:g}=w);break;default:return null}return{customBaseUrl:f,isPortal:!1,portalHostname:g,urlKey:e}};a.reArcGISOnlineDomain=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/base64Utils":function(){define(["exports"],function(a){a.arrayBufferToBase64=function(b){b=new Uint8Array(b);let c="";for(let e=0;e<b.length;e++)c+=String.fromCharCode(b[e]);return btoa(c)};a.base64ToArrayBuffer=function(b){b=atob(b);const c=new Uint8Array(b.length);for(let e=0;e<b.length;e++)c[e]=
b.charCodeAt(e);return c.buffer};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20240709";a.commitHash="4e2e659f53c3b60cdade3d91a30466cbe90b86f9";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,b){const c=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);
a.isApiKey=function(e){return!!e&&4<e.length&&e.startsWith("AAPK")};a.supportsApiKey=function(e){const d=b.getOrigin(e,!0);return d?d.endsWith(".arcgis.com")&&!c.has(d)&&!e.endsWith("/sharing/rest/generateToken"):!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestUtils":function(){define(["exports","../config","../core/has","../core/promiseUtils","../core/urlUtils"],function(a,b,c,e,d){function p(){try{return new DOMException("Aborted","AbortError")}catch{const n=
Error();n.name="AbortError";return n}}a.createTimeoutError=function(){return Error("Timeout exceeded")};a.isNoCorsRequestRequired=function(n){const f=b.request.crossOriginNoCorsDomains;return f&&(n=d.getOrigin(n))?(n=n.toLowerCase(),!d.hasSameOrigin(n,d.getAppUrl())&&f[n]<Date.now()-36E5):!1};a.isTimeoutError=function(n){return"object"===typeof n&&!!n&&"message"in n&&"Timeout exceeded"===n.message};a.loadImageAsync=function(n,f,g=!1,k){return new Promise((l,w)=>{if(e.isAborted(k))w(p());else{var q=
()=>{t();w(Error(`Unable to load ${f}`))},m=()=>{const y=n;t();l(y)},h=()=>{if(n){var y=n;t();y.src="";w(p())}},t=()=>{c("esri-image-decode")||(n.removeEventListener("error",q),n.removeEventListener("load",m));n=m=q=null;null!=k&&k.removeEventListener("abort",h);h=null;g&&URL.revokeObjectURL(f)};null!=k&&k.addEventListener("abort",h);c("esri-image-decode")?n.decode().then(m,q):(n.addEventListener("error",q),n.addEventListener("load",m))}})};a.registerNoCorsDomains=function(n){b.request.crossOriginNoCorsDomains||
(b.request.crossOriginNoCorsDomains={});const f=b.request.crossOriginNoCorsDomains;for(let g of n)g=g.toLowerCase(),/^https?:\/\//.test(g)?f[d.getOrigin(g)??""]=0:(f[d.getOrigin("http://"+g)??""]=0,f[d.getOrigin("https://"+g)??""]=0)};a.sendNoCorsRequest=async function(n){var f=b.request.crossOriginNoCorsDomains;const g=d.getOrigin(n);f&&g&&(f[g.toLowerCase()]=Date.now());f=d.urlToObject(n);n=f.path;"json"===f.query?.f&&(n+="?f\x3djson");try{await fetch(n,{mode:"no-cors",credentials:"include"})}catch{}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Collection":function(){define("../chunks/tslib.es6 ./ArrayPool ./Evented ./handleUtils ./lang ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/ensureType ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleObservable".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w,q,m){function h(E){E&&"object"===
typeof E&&"destroy"in E&&"function"===typeof E.destroy&&E.destroy()}function t(E){return E?E instanceof I?E.toArray():E.length?Array.prototype.slice.apply(E):[]:[]}function y(E){if(E?.length)return E[0]}function u(E,G,L,R){G&&G.forEach((F,J,O)=>{E.push(F);u(E,L.call(R,F,J,O),L,R)})}var r;class z{constructor(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(E){this.defaultPrevented=!1;this.item=
E}}class v{constructor(E,G,L,R,F){this.target=E;this.added=G;this.removed=L;this.start=R;this.deleteCount=F}}const x=new p(z,void 0,E=>{E.item=null;E.target=null;E.defaultPrevented=!1;E.cancellable=!1}),B=new Set,A=new Set,C=new Set,H=new Map;let N=0,I=r=class extends c.EventedAccessor{static isCollection(E){return null!=E&&E instanceof r}constructor(E){super(E);this._chgListeners=[];this._notifications=null;this._updating=!1;this._timer=null;this._observable=new m.SimpleObservable;this.length=0;
this._items=[];Object.defineProperty(this,"uid",{value:N++})}normalizeCtorArgs(E){return E?Array.isArray(E)||E instanceof r?{items:E}:E:{}}destroy(){this._removeAllRaw();this._timer&&this._timer.remove();this._emitter.destroy();this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){k.trackAccess(this._observable);return this._items}set items(E){this._emitBeforeChanges(n.ObservableChangesType.ADD)||(this._splice(0,this.length,t(E)),this._emitAfterChanges(n.ObservableChangesType.ADD))}hasEventListener(E){return this.destroyed?
!1:"change"===E?0<this._chgListeners.length:this._emitter.hasEventListener(E)}on(E,G){if(this.destroyed)return e.makeHandle();if("change"===E){const L=this._chgListeners,R={removed:!1,callback:G};L.push(R);this._notifications&&this._notifications.push({listeners:L.slice(),items:this._items.slice(),changes:[]});return e.makeHandle(()=>{R.removed=!0;L.splice(L.indexOf(R),1)})}return this._emitter.on(E,G)}once(E,G){const L="deref"in G?()=>G.deref():()=>G,R=this.on(E,F=>{L()?.call(null,F);R.remove()});
return R}add(E,G){k.trackAccess(this._observable);if(this._emitBeforeChanges(n.ObservableChangesType.ADD))return this;G=this.getNextIndex(G??null);this._splice(G,0,[E]);this._emitAfterChanges(n.ObservableChangesType.ADD);return this}addMany(E,G=this._items.length){k.trackAccess(this._observable);if(!E?.length||this._emitBeforeChanges(n.ObservableChangesType.ADD))return this;G=this.getNextIndex(G);this._splice(G,0,t(E));this._emitAfterChanges(n.ObservableChangesType.ADD);return this}at(E){k.trackAccess(this._observable);
E=Math.trunc(E)||0;0>E&&(E+=this.length);if(!(0>E||E>=this.length))return this._items[E]}removeAll(){k.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(n.ObservableChangesType.REMOVE))return[];const E=this._removeAllRaw();this._emitAfterChanges(n.ObservableChangesType.REMOVE);return E}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){k.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(d.clone)})}concat(...E){k.trackAccess(this._observable);
E=E.map(t);return this._createNewInstance({items:this._items.concat(...E)})}drain(E,G){k.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(n.ObservableChangesType.REMOVE)){var L=this._splice(0,this.length),R=L.length;for(let F=0;F<R;F++)E.call(G,L[F],F,L);this._emitAfterChanges(n.ObservableChangesType.REMOVE)}}destroyAll(){this.drain(h)}destroyMany(E){E=this.removeMany(E);E.forEach(h);return E}every(E,G){k.trackAccess(this._observable);return this._items.every(E,G)}filter(E,G){k.trackAccess(this._observable);
let L;L=2===arguments.length?this._items.filter(E,G):this._items.filter(E);return this._createNewInstance({items:L})}find(E,G){k.trackAccess(this._observable);return this._items.find(E,G)}findIndex(E,G){k.trackAccess(this._observable);return this._items.findIndex(E,G)}flatten(E,G){k.trackAccess(this._observable);const L=[];u(L,this,E,G);return new r(L)}forEach(E,G){k.trackAccess(this._observable);return this._items.forEach(E,G)}getItemAt(E){k.trackAccess(this._observable);return this._items[E]}getNextIndex(E){k.trackAccess(this._observable);
const G=this.length;E=null==E?G:E;0>E?E=0:E>G&&(E=G);return E}includes(E,G=0){k.trackAccess(this._observable);return this._items.includes(E,G)}indexOf(E,G=0){k.trackAccess(this._observable);return this._items.indexOf(E,G)}join(E=","){k.trackAccess(this._observable);return this._items.join(E)}lastIndexOf(E,G=this.length-1){k.trackAccess(this._observable);return this._items.lastIndexOf(E,G)}map(E,G){k.trackAccess(this._observable);E=this._items.map(E,G);return new r({items:E})}reorder(E,G=this.length-
1){k.trackAccess(this._observable);const L=this.indexOf(E);if(-1!==L){0>G?G=0:G>=this.length&&(G=this.length-1);if(L!==G){if(this._emitBeforeChanges(n.ObservableChangesType.MOVE))return E;this._splice(L,1);this._splice(G,0,[E]);this._emitAfterChanges(n.ObservableChangesType.MOVE)}return E}}pop(){k.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(n.ObservableChangesType.REMOVE)){var E=y(this._splice(this.length-1,1));this._emitAfterChanges(n.ObservableChangesType.REMOVE);return E}}push(...E){k.trackAccess(this._observable);
if(this._emitBeforeChanges(n.ObservableChangesType.ADD))return this.length;this._splice(this.length,0,E);this._emitAfterChanges(n.ObservableChangesType.ADD);return this.length}reduce(E,G){k.trackAccess(this._observable);const L=this._items;return 2===arguments.length?L.reduce(E,G):L.reduce(E)}reduceRight(E,G){k.trackAccess(this._observable);const L=this._items;return 2===arguments.length?L.reduceRight(E,G):L.reduceRight(E)}remove(E){k.trackAccess(this._observable);return this.removeAt(this.indexOf(E))}removeAt(E){k.trackAccess(this._observable);
if(!(0>E||E>=this.length||this._emitBeforeChanges(n.ObservableChangesType.REMOVE)))return E=y(this._splice(E,1)),this._emitAfterChanges(n.ObservableChangesType.REMOVE),E}removeMany(E){k.trackAccess(this._observable);if(!E?.length||this._emitBeforeChanges(n.ObservableChangesType.REMOVE))return[];E=E instanceof r?E.toArray():E;const G=this._items,L=[],R=E.length;for(let U=0;U<R;U++){var F=G.indexOf(E[U]);if(-1<F){var J=U+1,O=F+1;const T=Math.min(E.length-J,G.length-O);let Z=0;for(;Z<T&&E[J+Z]===G[O+
Z];)Z++;J=1+Z;(F=this._splice(F,J))&&0<F.length&&L.push.apply(L,F);U+=J-1}}this._emitAfterChanges(n.ObservableChangesType.REMOVE);return L}reverse(){k.trackAccess(this._observable);if(this._emitBeforeChanges(n.ObservableChangesType.MOVE))return this;const E=this._splice(0,this.length);E&&(E.reverse(),this._splice(0,0,E));this._emitAfterChanges(n.ObservableChangesType.MOVE);return this}shift(){k.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(n.ObservableChangesType.REMOVE)){var E=
y(this._splice(0,1));this._emitAfterChanges(n.ObservableChangesType.REMOVE);return E}}slice(E=0,G=this.length){k.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(E,G)})}some(E,G){k.trackAccess(this._observable);return this._items.some(E,G)}sort(E){k.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(n.ObservableChangesType.MOVE))return this;const G=this._splice(0,this.length);arguments.length?G.sort(E):G.sort();this._splice(0,0,G);this._emitAfterChanges(n.ObservableChangesType.MOVE);
return this}splice(E,G,...L){k.trackAccess(this._observable);const R=(G?n.ObservableChangesType.REMOVE:0)|(L.length?n.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(R))return[];E=this._splice(E,G,L)||[];this._emitAfterChanges(R);return E}toArray(){k.trackAccess(this._observable);return this._items.slice()}toJSON(){k.trackAccess(this._observable);return this.toArray()}toLocaleString(){k.trackAccess(this._observable);return this._items.toLocaleString()}toString(){k.trackAccess(this._observable);
return this._items.toString()}unshift(...E){k.trackAccess(this._observable);if(!E.length||this._emitBeforeChanges(n.ObservableChangesType.ADD))return this.length;this._splice(0,0,E);this._emitAfterChanges(n.ObservableChangesType.ADD);return this.length}_createNewInstance(E){return new this.constructor(E)}_splice(E,G,L){const R=this._items;var F=this.itemType;let J=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),
changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=f.schedule(()=>this._dispatchChange()));0>E&&(E+=this.length);if(G){J=R.splice(E,G);if(this.hasEventListener("before-remove")){var O=x.acquire();O.target=this;O.cancellable=!0;for(let V=0,qa=J.length;V<qa;V++){var U=J[V];O.reset(U);this.emit("before-remove",O);O.defaultPrevented&&(J.splice(V,1),R.splice(E,0,U),E+=1,--V,--qa)}x.release(O)}this.length=this._items.length;if(this.hasEventListener("after-remove")){U=x.acquire();
U.target=this;U.cancellable=!1;O=J.length;for(let V=0;V<O;V++)U.reset(J[V]),this.emit("after-remove",U);x.release(U)}}if(L?.length){if(F){U=[];for(var T of L)L=F.ensureType(T),null==L&&null!=T||U.push(L);L=U}F=this.hasEventListener("before-add");T=this.hasEventListener("after-add");U=E===this.length;if(F||T){var Z=x.acquire();Z.target=this;Z.cancellable=!0;O=x.acquire();O.target=this;O.cancellable=!1;for(const V of L)F?(Z.reset(V),this.emit("before-add",Z),Z.defaultPrevented||(U?R.push(V):R.splice(E++,
0,V),this._set("length",R.length),T&&(O.reset(V),this.emit("after-add",O)))):(U?R.push(V):R.splice(E++,0,V),this._set("length",R.length),O.reset(V),this.emit("after-add",O));x.release(O);x.release(Z)}else{if(U)for(Z of L)R.push(Z);else R.splice(E,0,...L);this._set("length",R.length)}}(L?.length||J?.length)&&this._notifyChangeEvent(L,J);this.hasEventListener("after-splice")&&(E=new v(this,L,J,E,G),this.emit("after-splice",E));return J}_emitBeforeChanges(E){let G=!1;if(this.hasEventListener("before-changes")){const L=
x.acquire();L.target=this;L.cancellable=!0;L.type=E;this.emit("before-changes",L);G=L.defaultPrevented;x.release(L)}return G}_emitAfterChanges(E){if(this.hasEventListener("after-changes")){const G=x.acquire();G.target=this;G.cancellable=!1;G.type=E;this.emit("after-changes",G);x.release(G)}this._observable.notify()}_notifyChangeEvent(E,G){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:E,removed:G})}get updating(){return this._updating}_dispatchChange(){this._timer&&
(this._timer.remove(),this._timer=null);this._updating=!1;if(this._notifications){var E=this._notifications;this._notifications=null;for(const G of E){E=G.changes;B.clear();A.clear();C.clear();for(const {added:U,removed:T}of E){if(U)if(0===C.size&&0===A.size)for(const Z of U)B.add(Z);else for(const Z of U)A.has(Z)?(C.add(Z),A.delete(Z)):C.has(Z)||B.add(Z);if(T)if(0===C.size&&0===B.size)for(const Z of T)A.add(Z);else for(const Z of T)B.has(Z)?B.delete(Z):(C.delete(Z),A.add(Z))}const L=b.acquire();
B.forEach(U=>{L.push(U)});const R=b.acquire();A.forEach(U=>{R.push(U)});const F=this._items,J=G.items,O=b.acquire();C.forEach(U=>{J.indexOf(U)!==F.indexOf(U)&&O.push(U)});if(G.listeners&&(L.length||R.length||O.length)){E={target:this,added:L,removed:R,moved:O};const U=G.listeners.length;for(let T=0;T<U;T++){const Z=G.listeners[T];Z.removed||Z.callback.call(this,E)}}b.release(L);b.release(R);b.release(O)}B.clear();A.clear();C.clear()}}};I.ofType=E=>{if(!E)return r;if(H.has(E))return H.get(E);let G=
null;if("function"===typeof E)G=E.prototype.declaredClass;else if(E.base)G=E.base.prototype.declaredClass;else for(var L in E.typeMap){const R=E.typeMap[L].prototype.declaredClass;G=G?G+` | ${R}`:R}L=class extends r{};a.__decorate([w.shared({Type:E,ensureType:"function"===typeof E?g.ensureType(E):g.ensureOneOfType(E)})],L.prototype,"itemType",void 0);L=a.__decorate([q.subclass(`esri.core.Collection<${G}>`)],L);H.set(E,L);return L};a.__decorate([l.property()],I.prototype,"_updating",void 0);a.__decorate([l.property()],
I.prototype,"length",void 0);a.__decorate([l.property()],I.prototype,"items",null);a.__decorate([l.property({readOnly:!0})],I.prototype,"updating",null);return I=r=a.__decorate([q.subclass("esri.core.Collection")],I)})},"esri/core/Evented":function(){define(["../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,b,c,e){class d{constructor(){this._emitter=new d.EventEmitter(this)}emit(p,n){return this._emitter.emit(p,n)}on(p,n){return this._emitter.on(p,
n)}once(p,n){return this._emitter.once(p,n)}hasEventListener(p){return this._emitter.hasEventListener(p)}}(function(p){class n{constructor(g=null){this._target=g;this._listenersMap=null}clear(){this._listenersMap?.clear();this._listenersMap=null}destroy(){this.clear()}emit(g,k){let l=this._listenersMap?.get(g);if(!l)return!1;const w=this._target||this;let q=!1;for(const m of l.slice()){const h="deref"in m?m.deref():m;h?h?.call(w,k):q=!0}q&&(l=l.filter(m=>"deref"in m?null!=m.deref():!0),this._listenersMap.set(g,
l));return 0<l.length}on(g,k){if(Array.isArray(g)){var l=g.map(w=>this.on(w,k));return c.handlesGroup(l)}if(g.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);l=this._listenersMap.get(g)||[];l.push(k);this._listenersMap.set(g,l);return c.makeHandle(()=>{const w=this._listenersMap?.get(g),q=w?.indexOf(k)??-1;0<=q&&w.splice(q,1)})}once(g,k){const l=this.on(g,w=>{l.remove();("deref"in k?k.deref():
k)?.call(null,w)});return l}hasEventListener(g){g=this._listenersMap?.get(g);return null!=g&&0<g.length}}p.EventEmitter=n;p.EventedMixin=g=>{g=class extends g{constructor(){super(...arguments);this._emitter=new n}destroy(){this._emitter.clear()}emit(k,l){return this._emitter.emit(k,l)}on(k,l){return this._emitter.on(k,l)}once(k,l){return this._emitter.once(k,l)}hasEventListener(k){return this._emitter.hasEventListener(k)}};return g=a.__decorate([e.subclass("esri.core.Evented")],g)};let f=class extends b{constructor(){super(...arguments);
this._emitter=new d.EventEmitter(this)}destroy(){this._emitter.clear()}emit(g,k){return this._emitter.emit(g,k)}on(g,k){return this._emitter.on(g,k)}once(g,k){return this._emitter.once(g,k)}hasEventListener(g){return this._emitter.hasEventListener(g)}};f=a.__decorate([e.subclass("esri.core.Evented.EventedAccessor")],f);p.EventedAccessor=f})(d||={});return d})},"esri/core/ObservableChangesType":function(){define(["exports"],function(a){a.ObservableChangesType=void 0;var b=a.ObservableChangesType||
(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(c,e)=>{c[e]=b}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../ObservableBase"],function(a,b){class c extends b.ObservableBase{notify(){var e=
this._observers;if(e&&0<e.length){e=e.slice();for(const d of e)d.onInvalidated(),d.onCommitted()}}}a.SimpleObservable=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,b){a.castForReferenceSetter=function(c){return c};a.referenceSetter=function(c,e,d=b){e||=new d;if(e===c)return e;e.removeAll();c&&(Array.isArray(c)||"items"in c&&Array.isArray(c.items))?e.addMany(c):c&&e.add(c);return e};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/tslib.es6 ./Error ./maybe ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f){const g=k=>{k=class extends k{constructor(...l){super(...l);this.loadError=this._loadController=null;this.loadStatus="not-loaded";this._set("loadWarnings",[]);this.addResolvingPromise(new Promise(w=>{const q=this.load.bind(this);this.load=
m=>{const h=new Promise((t,y)=>{const u=d.onAbortOrThrow(m,y);this.destroyed&&y(new b("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this}));this.when(t,y).finally(()=>{u&&u.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const t=this._loadController=new AbortController;q({signal:t.signal})}w();return h}}));this.when(()=>{this._set("loadStatus","loaded");this._loadController=null},w=>{this._set("loadStatus",
"failed");this._set("loadError",w);this._loadController=null})}destroy(){this._loadController&&(this._loadController=c.abortMaybe(this._loadController),this._promiseProps.abort());this._set("loadError",null);this._set("loadWarnings",[])}get loaded(){return"loaded"===this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){if(this.isFulfilled())return this;this._set("loadError",new b("load:cancelled","Cancelled"));this._loadController?.abort();this._promiseProps.abort();
return this}};a.__decorate([n.property({readOnly:!0})],k.prototype,"loaded",null);a.__decorate([n.property({readOnly:!0})],k.prototype,"loadError",void 0);a.__decorate([n.property({clonable:!1})],k.prototype,"loadStatus",void 0);a.__decorate([n.property({type:[p],readOnly:!0})],k.prototype,"loadWarnings",null);return k=a.__decorate([f.subclass("esri.core.Loadable")],k)};e=class extends g(e.EsriPromise){};e=a.__decorate([f.subclass("esri.core.Loadable")],e);(function(k){k.LoadableMixin=g;k.isLoadable=
function(l){return!(!l||!l.load)}})(e||={});return e})},"esri/core/Promise":function(){define(["exports","../chunks/tslib.es6","./Accessor","./promiseUtils","./accessorSupport/decorators/subclass"],function(a,b,c,e,d){var p;(function(g){g[g.PENDING=0]="PENDING";g[g.RESOLVED=1]="RESOLVED";g[g.REJECTED=2]="REJECTED"})(p||={});class n{constructor(){this._resolver=e.createResolver();this._status=p.PENDING;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=p.RESOLVED;this._cleanUp()},
()=>{this._status=p.REJECTED;this._cleanUp()});this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(g){this._resolvingPromises.push(g);this._tryResolve()}isResolved(){return this._status===p.RESOLVED}isRejected(){return this._status===p.REJECTED}isFulfilled(){return this._status!==p.PENDING}abort(){this._resolver.reject(e.createAbortError())}_cleanUp(){this._resolvingPromises=this._allPromise=null}_tryResolve(){if(!this.isFulfilled()){var g=e.createResolver(),k=[...this._resolvingPromises,
g.promise],l=this._allPromise=Promise.all(k);l.then(()=>{this.isFulfilled()||this._allPromise!==l||this._resolver.resolve()},w=>{this.isFulfilled()||this._allPromise!==l||e.isAbortError(w)||this._resolver.reject(w)});g.resolve()}}}const f=g=>{g=class extends g{constructor(...k){super(...k);this._promiseProps=new n;this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(k,
l){return this._promiseProps.promise.then(()=>this).then(k,l)}catch(k){return this.when(null,k)}addResolvingPromise(k){k&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in k?k.when():k)}};return g=b.__decorate([d.subclass("esri.core.Promise")],g)};a.EsriPromise=class extends f(c){};a.EsriPromise=b.__decorate([d.subclass("esri.core.Promise")],a.EsriPromise);a.EsriPromiseMixin=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/loadAll":function(){define(["exports",
"./asyncUtils","./Collection","./Loadable"],function(a,b,c,e){async function d(p,n){const f=[],g=(...l)=>{for(const w of l)null!=w&&(Array.isArray(w)?g(...w):c.isCollection(w)?w.forEach(q=>g(q)):e.isLoadable(w)&&f.push(w))};n(g);let k=null;await b.map(f,async l=>{l=await b.result("loadAll"in l&&"function"===typeof l.loadAll?l.loadAll():l.load());!1!==l.ok||k||(k=l)});if(k)throw k.error;return p}a.loadAll=async function(p,n){await p.load();return d(p,n)};a.loadAllChildren=d;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/asyncUtils":function(){define("exports ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){function f(q){return{ok:!0,value:q}}function g(q){return{ok:!1,error:q}}function k(q){return null!=q&&!0===q.ok?q.value:null}function l(q){return null!=q&&!1===q.ok?q.error:null}let w=class extends c{get value(){return k(this._result)}get error(){return l(this._result)}get finished(){return null!=
this._result}constructor(q,m){super({});this._abortHandle=this._result=null;this.remove=this.abort=()=>{this._abortController=e.abortMaybe(this._abortController)};this._abortController=new AbortController;const {signal:h}=this._abortController;this.promise=q(h);this.promise.then(t=>{this._result=f(t);this._cleanup()},t=>{this._result=g(t);this._cleanup()});this._abortHandle=d.onAbort(m,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=e.removeMaybe(this._abortHandle);
this._abortController=null}};b.__decorate([p.property()],w.prototype,"value",null);b.__decorate([p.property()],w.prototype,"error",null);b.__decorate([p.property()],w.prototype,"finished",null);b.__decorate([p.property()],w.prototype,"promise",void 0);b.__decorate([p.property()],w.prototype,"_result",void 0);w=b.__decorate([n.subclass("esri.core.asyncUtils.ReactiveTask")],w);a.assertResult=function(q){if(!0===q.ok)return q.value;throw q.error;};a.createTask=function(q,m){return new w(q,m)};a.forEach=
function(q,m,h){return d.eachAlways(q.map((t,y)=>m.apply(h,[t,y])))};a.makeResultError=g;a.makeResultOk=f;a.map=async function(q,m,h){return(await d.eachAlways(q.map((t,y)=>m.apply(h,[t,y])))).map(t=>t.value)};a.result=async function(q){if(null==q)return{ok:!1,error:Error("no promise provided")};try{return f(await q)}catch(m){return g(m)}};a.resultError=l;a.resultOrAbort=async function(q){try{return f(await q)}catch(m){return d.throwIfAbortError(m),g(m)}};a.resultValue=k;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(c,e,d){let p,n;void 0===e?(n=c,p=[void 0]):"string"!==typeof e?(n=c,p=[void 0],d=e):(n=e,p=Array.isArray(c)?c:[c]);return(f,g)=>{const k=f.constructor.prototype;for(const l of p){const w=b.propertyJSONMeta(f,l,n);w.write&&"object"===typeof w.write||(w.write={});d&&(w.write.target=d);w.write.writer=k[g]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/SpatialReference":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/unitUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),function(a,b,c,e,d,p,n,f,g){var k;b=k=class extends b.JSONSupport{static fromJSON(l){if(!l)return null;if(l.wkid){if(102100===l.wkid)return k.WebMercator;if(4326===l.wkid)return k.WGS84}const w=
new k;w.read(l);return w}constructor(l){super(l);this.imageCoordinateSystem=this.latestVcsWkid=this.vcsWkid=this.wkt2=this.wkt=this.wkid=this.latestWkid=null}normalizeCtorArgs(l){return l&&"object"===typeof l?l:{["string"===typeof l?"wkt":"wkid"]:l}}get isWGS84(){return g.isWGS84(this)}get isWebMercator(){return g.isWebMercator(this)}get isGeographic(){return g.isGeographic(this)}get isWrappable(){return g.isWrappable(this)}get metersPerUnit(){return e.getMetersPerUnitForSR(this)}get unit(){return e.getUnitString(this)||
(this.isGeographic?"degrees":null)}writeWkt(l,w){this.wkid||(w.wkt=l)}clone(){if(this===k.WGS84)return new k(g.wgs84);if(this===k.WebMercator)return new k(g.webMercator);const l=new k;null!=this.wkid?(l.wkid=this.wkid,null!=this.latestWkid&&(l.latestWkid=this.latestWkid),null!=this.vcsWkid&&(l.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(l.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(l.wkt=this.wkt),null!=this.wkt2&&(l.wkt2=this.wkt2));this.imageCoordinateSystem&&(l.imageCoordinateSystem=
c.clone(this.imageCoordinateSystem));return l}equals(l){if(null==l)return!1;if(this.imageCoordinateSystem||l.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==l.imageCoordinateSystem)return!1;const {id:w,referenceServiceName:q}=l.imageCoordinateSystem,{geodataXform:m}=l.imageCoordinateSystem,h=this.imageCoordinateSystem;return null==w||m?JSON.stringify(h)===JSON.stringify(l.imageCoordinateSystem):q?h.id===w&&h.referenceServiceName===q:h.id===w}return g.equals(this,l)}toJSON(l){return this.write(void 0,
l)}};b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;b.PlateCarree=null;a.__decorate([p.property({readOnly:!0})],b.prototype,"isWGS84",null);a.__decorate([p.property({readOnly:!0})],b.prototype,"isWebMercator",null);a.__decorate([p.property({readOnly:!0})],b.prototype,"isGeographic",null);a.__decorate([p.property({readOnly:!0})],b.prototype,"isWrappable",null);a.__decorate([p.property({type:d.Integer,json:{write:!0}})],b.prototype,"latestWkid",void 0);a.__decorate([p.property({readOnly:!0})],
b.prototype,"metersPerUnit",null);a.__decorate([p.property({readOnly:!0})],b.prototype,"unit",null);a.__decorate([p.property({type:d.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],b.prototype,"wkid",void 0);a.__decorate([p.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],b.prototype,"wkt",void 0);a.__decorate([f.writer("wkt"),f.writer("web-scene","wkt")],b.prototype,
"writeWkt",null);a.__decorate([p.property({type:String,json:{write:!1}})],b.prototype,"wkt2",void 0);a.__decorate([p.property({type:d.Integer,json:{write:!0}})],b.prototype,"vcsWkid",void 0);a.__decorate([p.property({type:d.Integer,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);a.__decorate([p.property()],b.prototype,"imageCoordinateSystem",void 0);b=k=a.__decorate([n.subclass("esri.geometry.SpatialReference")],b);b.prototype.toJSON.isDefaultToJSON=!0;b.GCS_NAD_1927=new b({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
b.WGS84=new b(g.wgs84);b.WebMercator=new b(g.webMercator);b.PlateCarree=new b(g.plateCarree);Object.freeze&&(Object.freeze(b.GCS_NAD_1927),Object.freeze(b.WGS84),Object.freeze(b.WebMercator),Object.freeze(b.PlateCarree));return b})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/ellipsoidUtils ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,c,e,d,p,n){function f(J){J=L[J];if(!J)throw Error("unknown type");
return J}function g(J){return G[J].baseUnit}function k(J,O=null){O=O||f(J);return G[O].baseUnit===J}function l(J,O,U){if(O===U)return J;const T=f(O);if(T!==f(U))throw Error("incompatible units");J=k(O,T)?J:J*G[T].units[O].inBaseUnits;return k(U,T)?J:J/G[T].units[U].inBaseUnits}function w(J){switch(J){case "metric":return"meters";case "imperial":return"feet";default:return J}}function q(J,O){J=l(J,O,"meters");return 3E3>Math.abs(J)?"meters":"kilometers"}function m(J,O){J=l(J,O,"meters");return 1E5>
Math.abs(J)?"meters":"kilometers"}function h(J,O){J=l(J,O,"feet");return 1E3>Math.abs(J)?"feet":"miles"}function t(J,O){J=l(J,O,"feet");return 1E5>Math.abs(J)?"feet":"miles"}function y(J){return E.fromJSON(J.toLowerCase())||null}function u(J){const O=r(J),U=e.getReferenceEllipsoid(J).metersPerDegree;return O>=U?"meters":x(J)}function r(J,O=d.earth.metersPerDegree){return z(J,!0)??O}function z(J,O=!1){const U=J?.wkid??null;J=J?.wkt2??J?.wkt??null;let T=null;if(U){if(p.isWKIDFromMars(U))return d.mars.metersPerDegree;
if(p.isWKIDFromMoon(U))return d.moon.metersPerDegree;T=H.values[H[U]];!T&&O&&I.has(U)&&(T=A)}else J&&(B(J)?T=v(C.exec(J),T):/^GEOCCS/i.test(J)&&(T=v(N.exec(J),T)));return T}function v(J,O){return J?.[1]?parseFloat(J[1].split(",")[1]):O}function x(J){var O=J?.wkid??null,U=J?.wkt2??J?.wkt??null;J=null;if(O)J=H.units[H[O]];else if(U&&(O=B(U)?C:/^GEOCCS/i.test(U)?N:null)&&(O=O.exec(U),O?.[1]&&(O=O[1],J=/[\\"']{1}([^\\"']+)/.exec(O)?.[1],!J||!H.units.includes(J)))){O=parseFloat(O.split(",")[1]);J=null;
U=H.values;for(let T=0;T<U.length;++T)if(1E-7>Math.abs(O-U[T])){J=H.units[T];break}}return null!=J?y(J):null}function B(J){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(J)}const A=d.earth.radius*Math.PI/200,C=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,H=n,N=/UNIT\[([^\]]+)]/i,I=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),E=c.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",
foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},
yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};n={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(J=>
J*J)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const G={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:n},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*
304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},L=(()=>{const J={};for(const O in G)for(const U in G[O].units)J[U]=O;return J})(),R="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),F=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);b=c.strict()({esriAcres:"acres",esriAres:"ares",
esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"});n=c.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",
esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"});c=c.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});a.adaptiveImperialAreaUnit=function(J,O){J=l(J,O,"square-feet");return 1E6>Math.abs(J)?"square-feet":"square-miles"};a.adaptiveImperialLengthUnit=h;a.adaptiveImperialVerticalLengthUnit=t;a.adaptiveLengthUnit=function(J,O,U){switch(U){case "metric":return q(J,O);case "imperial":return h(J,O);default:return U}};
a.adaptiveMetricAreaUnit=function(J,O){J=l(J,O,"square-meters");return 3E6>Math.abs(J)?"square-meters":"square-kilometers"};a.adaptiveMetricLengthUnit=q;a.adaptiveMetricVerticalLengthUnit=m;a.adaptiveVerticalLengthUnit=function(J,O,U){switch(U){case "metric":return m(J,O);case "imperial":return t(J,O);default:return U}};a.angleUnitsJSONMap=c;a.areaUnitFromSpatialReference=function(J){J=x(J);return null==J?null:F.get(J)};a.areaUnitsJSONMap=b;a.baseUnitForUnit=function(J){return g(f(J))};a.baseUnitForUnitType=
g;a.convertUnit=l;a.defaultAreaUnit=function(J){switch(J){case "metric":return"square-meters";case "imperial":return"square-feet";default:return J}};a.defaultLengthUnit=w;a.defaultVerticalLengthUnit=function(J){return w(J)};a.getDefaultUnitSystem=function(J){J=x(J);if(null==J)return null;switch(J){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerCartesianUnitForSR=function(J){return p.isGeographic(J)?1:r(J)};a.getMetersPerUnit=z;a.getMetersPerUnitForSR=r;a.getMetersPerVerticalUnitForSR=function(J){if(null!=J&&!p.isEarth(J))return 1;J=r(J);return 1E5<J?1:J};a.getUnitString=x;a.getVerticalUnitStringForSR=u;a.inchesPerMeter=39.37;a.isBaseUnit=k;a.isMeasurementSystem=function(J){return"imperial"===J||"metric"===J};a.isProjectedWKT=B;a.lengthToDegrees=
function(J,O,U){return l(J,O,"meters")/(U*Math.PI/180)};a.lengthUnitFromSpatialReference=function(J){J=x(J);return null!=J&&R.includes(J)?J:null};a.lengthUnitsJSONMap=n;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits=R;a.unitFromRESTJSON=y;a.unitType=f;a.verticalLengthUnitFromSpatialReference=function(J){J=u(J);return null!=J&&R.includes(J)?J:null};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){function c(p){const n={};for(const f in p)n[p[f]]=f;return n}function e(p){const n=[];for(const f in p)n.push(f);n.sort();return n}class d{constructor(p,n={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=p;this._options=n;this.apiValues=[];this.jsonValues=[];this._apiToJSON=c(p);this.apiValues=e(this._apiToJSON);this.jsonValues=e(this._jsonToAPI);this.read=f=>this.fromJSON(f);this.write=
(f,g,k)=>{f=this.toJSON(f);void 0!==f&&b.setDeepValue(k,f,g)};this.write.isJSONMapWriter=!0}toJSON(p){return null==p?null:this._apiToJSON.hasOwnProperty(p)?(p=this._apiToJSON[p],this._options.useNumericKeys?+p:p):this._options.ignoreUnknown?void 0:p}fromJSON(p){return null!=p&&this._jsonToAPI.hasOwnProperty(p)?this._jsonToAPI[p]:this._options.ignoreUnknown?void 0:p}}a.JSONMap=d;a.strict=function(){return function(p,n){return new d(p,{ignoreUnknown:!0,...n})}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/ellipsoidUtils":function(){define(["exports","./support/Ellipsoid","./support/spatialReferenceUtils"],function(a,b,c){function e(w){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${w.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}function d(w){return c.equals(w,p)}
const p=e(b.earth),n=e(b.mars),f=e(b.moon),g={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${b.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},k=n.wkt.toUpperCase(),l=f.wkt.toUpperCase();a.SphericalECEFSpatialReferenceLike=
p;a.SphericalPCPFMarsLike=n;a.SphericalPCPFMoonLike=f;a.WGS84ECEFSpatialReferenceLike=g;a.getReferenceEllipsoid=function(w){if(null!=w&&c.isValid(w)){const q=w.wkid;w=w.wkt2??w.wkt;if(c.isWKIDFromMars(q))return b.mars;const m=w?.toUpperCase();if(w&&m===k)return b.mars;if(c.isWKIDFromMoon(q)||m&&m===l)return b.moon}return b.earth};a.getReferenceEllipsoidFromWKID=function(w){return c.isWKIDFromMars(w)?b.mars:c.isWKIDFromMoon(w)?b.moon:b.earth};a.isSphericalECEF=d;a.isSphericalPCPF=function(w){return d(w)||
c.equals(w,n)||c.equals(w,f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Ellipsoid":function(){define(["exports"],function(a){class b{constructor(p,n,f,g){this.semiMajorAxis=p;this.flattening=n;this.outerAtmosphereRimWidth=f;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-
1;this.eccentricitySquared=g||2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const c=new b(6378137,1/298.257223563,3E5,.006694379990137799),e=new b(3396190,.005886007555525457,23E4),d=new b(1737400,0,0);a.Ellipsoid=b;a.earth=c;a.mars=e;a.moon=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/string",
"../../chunks/pe","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,c,e,d){function p(u){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(u)}function n(u){u=u?.wkid;return null!=u&&2E3<=u&&q.includes(u)}function f(u){return u===e.SupportedGCSWkids.GCSMARS2000||u===e.SupportedGCSWkids.GCSMARS2000_SPHERE}function g(u){return f(u?.wkid)}function k(u){return u===e.SupportedGCSWkids.GCSMOON2000}function l(u){return k(u?.wkid)}
function w(u){if(null==u)return!1;const r=u.wkid;return null!=r&&2E3<=r?!0:null!=u.wkt2||null!=u.wkt}const q=[102100,102113,3857,3785],m=[4326,...q,104905,104971],h=[-2.0037508342788905E7,2.0037508342788905E7],t=[-2.0037508342787E7,2.0037508342787E7],y={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:h,origin:t,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:h,origin:t,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:h,origin:t,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:h,origin:t,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};b={wkid:4326,wkt:b.replace(y[4326].wkTemplate,{Central_Meridian:"0.0"})};a.equals=function(u,r){if(u===r)return!0;if(null==u||null==r)return!1;const z=u.wkid,v=r.wkid;if(null!=z||null!=v){if(z===v||n(u)&&n(r))return!0;u=u.latestWkid;if(null!=u&&v===u)return!0;r=r.latestWkid;return null!=r&&z===r?!0:!1}let x,B;u.wkt2&&r.wkt2?(x=u.wkt2,B=r.wkt2):u.wkt&&r.wkt&&(x=u.wkt,B=r.wkt);return x&&B?x.toUpperCase()===B.toUpperCase():!1};a.getInfo=function(u){u=u?.wkid;return null!=u&&2E3<=u?y[u]||null:
null};a.getWKT=async function(u,r){if(1===r&&!p(u)||2===r&&p(u))return u;c.isLoaded()||await c.load();return c.PeFactory.fromString(c.PeDefs.PE_TYPE_NONE,u)?.toString(1===r?c.PeDefs.PE_STR_FMT_WKT:c.PeDefs.PE_STR_FMT_WKT2)??null};a.isCGCS2000=function(u){return u?.wkid===e.SupportedGCSWkids.CGCS2000};a.isEarth=function(u){return!(g(u)||l(u))};a.isGeographic=function(u){if(!w(u))return!1;const {wkid:r}=u;return r?null==d[r]:(u=u.wkt2||u.wkt)?/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(u):!1};a.isMars=
g;a.isMoon=l;a.isPlateCarree=function(u){return 32662===u?.wkid};a.isValid=w;a.isWGS84=function(u){return 4326===u?.wkid};a.isWKIDFromMars=f;a.isWKIDFromMoon=k;a.isWKT2=p;a.isWebMercator=n;a.isWrappable=function(u){u=u?.wkid;return null!=u&&2E3<=u&&m.includes(u)};a.plateCarree={wkid:32662};a.srToRESTValue=function(u){if(u){var {wkid:r,vcsWkid:z}=u;if(r)return z?JSON.stringify({wkid:r,vcsWkid:z}):String(r);u=u.wkt||u.wkt2;return JSON.stringify(u?z?{wkt:u,vcsWkid:z}:{wkt:u}:{})}};a.webMercator={wkid:102100,
latestWkid:3857};a.webMercatorOrigin=t;a.wgs84=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","../assets","../core/has"],function(a,b,c,e){function d(){return!!b._pe}function p(){return!!e("esri-wasm")}function n(){return q?q:q=(new Promise((h,t)=>a(["./pe-wasm"],h,t))).then(h=>h.peWasm).then(({default:h})=>h({locateFile:t=>c.getAssetUrl(`esri/geometry/support/${t}`)})).then(h=>{f(h)})}function f(h){function t(r,z,v){r[z]=
v(r[z])}b._pe=h;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=class extends b._pe.PeGCSExtent{destroy(){b._pe.destroy(this)}};h=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var y of h)t(y.prototype,"getName",r=>function(){return r.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const r of[b._pe.PeGeogtran,b._pe.PeProjcs])t(r.prototype,
"getParameters",z=>function(){const v=Array(b.PeDefs.PE_PARM_MAX);let x=z.call(this);for(let B=0;B<v.length;B++){const A=b._pe.getValue(x,"*");v[B]=A?b._pe.wrapPointer(A,b._pe.PeParameter):null;x+=Int32Array.BYTES_PER_ELEMENT}return v});t(b._pe.PeHorizon.prototype,"getCoord",r=>function(){const z=this.getSize();if(!z)return null;const v=[],x=r.call(this);w(v,z,x);return v});t(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",r=>{const z=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let v=
null;var x=r.call(this);if(!b._pe.compare(x,b._pe.NULL)){v=[x];const B=this.getSteps();if(1<B){x=b._pe.getPointer(x);for(let A=1;A<B;A++)v.push(b._pe.wrapPointer(x+z*A,b._pe.PeGTlistExtendedGTs))}}return v}});const u=b._pe._pe_getPeHorizonSize();y=r=>function(){let z=this._cache;z||(this._cache=z=new Map);if(z.has(r))return z.get(r);let v=null;var x=r.call(this);if(!b._pe.compare(x,b._pe.NULL)){v=[x];const B=x.getNump();if(1<B){x=b._pe.getPointer(x);for(let A=1;A<B;A++)v.push(b._pe.wrapPointer(x+
u*A,b._pe.PeHorizon))}}z.set(r,v);return v};t(b._pe.PeProjcs.prototype,"horizonGcsGenerate",y);t(b._pe.PeProjcs.prototype,"horizonPcsGenerate",y);b._pe.PeObject.prototype.toString=function(r=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();const z=b._pe.getPointer(this),v=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(z,r,v))}}function g(h){if(h){var t=b._pe.getClass(h);t&&(t=b._pe.getCache(t))&&(h=b._pe.getPointer(h))&&delete t[h]}}
function k(h,t){const y=[];t=Array(t);for(let u=0;u<h;u++)y.push(b._pe.ensureInt8(t));return y}function l(h){let t;Array.isArray(h[0])?(t=[],h.forEach(y=>{t.push(y[0],y[1])})):t=h;return t}function w(h,t,y,u=!1){if(u)for(u=0;u<2*t;u++)h[u]=b._pe.getValue(y+u*Float64Array.BYTES_PER_ELEMENT,"double");else{u=0===h.length;for(let r=0;r<t;r++)u&&(h[r]=Array(2)),h[r][0]=b._pe.getValue(y,"double"),h[r][1]=b._pe.getValue(y+Float64Array.BYTES_PER_ELEMENT,"double"),y+=2*Float64Array.BYTES_PER_ELEMENT}}let q;
b._pe=null;b.PeCSTransformations=void 0;(function(h){function t(r,z,v){b._pe.ensureCache.prepare();var x=l(v);const B=v===x;x=b._pe.ensureFloat64(x);(r=b._pe._pe_geog_to_proj(b._pe.getPointer(r),z,x))&&w(v,z,x,B);return r}function y(r,z,v){return u(r,z,v,0)}function u(r,z,v,x){b._pe.ensureCache.prepare();var B=l(v);const A=v===B;B=b._pe.ensureFloat64(B);(r=b._pe._pe_proj_to_geog_center(b._pe.getPointer(r),z,B,x))&&w(v,z,B,A);return r}h.geogToProj=t;h.projGeog=function(r,z,v,x){switch(x){case b.PeDefs.PE_TRANSFORM_P_TO_G:return y(r,
z,v);case b.PeDefs.PE_TRANSFORM_G_TO_P:return t(r,z,v)}return 0};h.projToGeog=y;h.projToGeogCenter=u})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(h){h.init=function(){h.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;h.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;h.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;h.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;h.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;h.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;h.PE_DMS_MAX=
b._pe.PeDefs.prototype.PE_DMS_MAX;h.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;h.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;h.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;h.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;h.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.PE_TYPE_PROJCS;h.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;h.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;h.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;h.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;
h.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;h.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;h.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;h.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;h.PE_STR_FMT_WKT=b._pe.PeDefs.prototype.PE_STR_FMT_WKT;h.PE_STR_FMT_WKT2=b._pe.PeDefs.prototype.PE_STR_FMT_WKT2;h.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;h.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;h.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;
h.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;h.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;h.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;h.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;h.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;h.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;h.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeFactory=void 0;(function(h){function t(z,v){let x=
null,B=y[z];B||(B={},y[z]=B);B.hasOwnProperty(String(v))?x=B[v]:(z=b._pe.PeFactory.prototype.factoryByType(z,v),b._pe.compare(z,b._pe.NULL)||(x=z,B[v]=x));return x=r(x)}const y={},u={},r=z=>{if(z){const v=z.getType();switch(v){case b.PeDefs.PE_TYPE_GEOGCS:z=b._pe.castObject(z,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:z=b._pe.castObject(z,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:z=b._pe.castObject(z,b._pe.PeGeogtran);break;default:v&b.PeDefs.PE_TYPE_UNIT&&(z=b._pe.castObject(z,
b._pe.PeUnit))}}return z};h.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};h.coordsys=function(z){return t(b.PeDefs.PE_TYPE_COORDSYS,z)};h.factoryByType=t;h.fromString=function(z,v){let x=null,B=u[z];B||(B={},u[z]=B);B.hasOwnProperty(v)?x=B[v]:(z=b._pe.PeFactory.prototype.fromString(z,v),b._pe.compare(z,b._pe.NULL)||(x=z,B[v]=x));return x=r(x)};h.geogcs=function(z){return t(b.PeDefs.PE_TYPE_GEOGCS,z)};h.geogtran=function(z){return t(b.PeDefs.PE_TYPE_GEOGTRAN,z)};h.getCode=function(z){return b._pe.PeFactory.prototype.getCode(z)};
h.projcs=function(z){return t(b.PeDefs.PE_TYPE_PROJCS,z)};h.unit=function(z){return t(b.PeDefs.PE_TYPE_UNIT,z)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(h){let t;h.init=function(){h.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;t=b._pe._pe_getPeGTlistExtendedEntrySize()};h.getGTlist=function(y,u,r,z,v,x){let B=null;const A=new b._pe.PeInteger(x);try{const C=b._pe.PeGTlistExtended.prototype.getGTlist(y,u,r,z,v,A);if(x=A.val)if(B=
[C],1<x){const H=b._pe.getPointer(C);for(y=1;y<x;y++)B.push(b._pe.wrapPointer(H+t*y,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(A)}return B}})(b.PeGTlistExtended||(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(h){h.destroy=function(t){if(t?.length){for(const y of t)g(y),y.getEntries().forEach(u=>{g(u);u=u.getGeogtran();g(u);u.getParameters().forEach(g);[u.getGeogcs1(),u.getGeogcs2()].forEach(r=>{g(r);const z=r.getDatum();g(z);g(z.getSpheroid());g(r.getPrimem());g(r.getUnit())})});
b._pe.PeGTlistExtendedEntry.prototype.Delete(t[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(h){h.geogToGeog=function(t,y,u,r,z){b._pe.ensureCache.prepare();var v=l(u);const x=u===v;v=b._pe.ensureFloat64(v);let B=0;r&&(B=b._pe.ensureFloat64(r));(t=b._pe._pe_geog_to_geog(b._pe.getPointer(t),y,v,B,z))&&w(u,y,v,x);return t}})(b.PeGTTransformations||(b.PeGTTransformations={}));b.PeNotationDms=void 0;(function(h){const t=(u,r,z,v,x,B)=>{b._pe.ensureCache.prepare();
switch(u){case "dd":var A=b._pe._pe_geog_to_dd;var C=b.PeDefs.PE_DD_MAX;break;case "ddm":A=b._pe._pe_geog_to_ddm;C=b.PeDefs.PE_DDM_MAX;break;case "dms":A=b._pe._pe_geog_to_dms,C=b.PeDefs.PE_DMS_MAX}u=0;r&&(u=b._pe.getPointer(r));r=l(v);r=b._pe.ensureFloat64(r);C=k(z,C);v=b._pe.ensureInt32(C);if(x=A(u,z,r,x,v))for(A=0;A<z;A++)B[A]=b._pe.UTF8ToString(C[A]);return x},y=(u,r,z,v,x)=>{b._pe.ensureCache.prepare();switch(u){case "dd":var B=b._pe._pe_dd_to_geog;break;case "ddm":B=b._pe._pe_ddm_to_geog;break;
case "dms":B=b._pe._pe_dms_to_geog}u=0;r&&(u=b._pe.getPointer(r));r=v.map(A=>b._pe.ensureString(A));v=b._pe.ensureInt32(r);r=b._pe.ensureFloat64(Array(2*z));(B=B(u,z,v,r))&&w(x,z,r);return B};h.geogToDms=function(u,r,z,v,x){return t("dms",u,r,z,v,x)};h.dmsToGeog=function(u,r,z,v){return y("dms",u,r,z,v)};h.geogToDdm=function(u,r,z,v,x){return t("ddm",u,r,z,v,x)};h.ddmToGeog=function(u,r,z,v){return y("ddm",u,r,z,v)};h.geogToDd=function(u,r,z,v,x){return t("dd",u,r,z,v,x)};h.ddToGeog=function(u,r,
z,v){return y("dd",u,r,z,v)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(h){h.init=function(){h.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;h.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;h.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;h.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;h.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};h.geogToMgrsExtended=
function(t,y,u,r,z,v,x){b._pe.ensureCache.prepare();let B=0;t&&(B=b._pe.getPointer(t));t=l(u);u=b._pe.ensureFloat64(t);t=k(y,b.PeDefs.PE_MGRS_MAX);const A=b._pe.ensureInt32(t);if(r=b._pe._pe_geog_to_mgrs_extended(B,y,u,r,z,v,A))for(z=0;z<y;z++)x[z]=b._pe.UTF8ToString(t[z]);return r};h.mgrsToGeogExtended=function(t,y,u,r,z){b._pe.ensureCache.prepare();let v=0;t&&(v=b._pe.getPointer(t));t=u.map(x=>b._pe.ensureString(x));u=b._pe.ensureInt32(t);t=b._pe.ensureFloat64(Array(2*y));(r=b._pe._pe_mgrs_to_geog_extended(v,
y,u,r,t))&&w(z,y,t);return r}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(h){h.geogToUsng=function(t,y,u,r,z,v,x){b._pe.ensureCache.prepare();let B=0;t&&(B=b._pe.getPointer(t));t=l(u);u=b._pe.ensureFloat64(t);t=k(y,b.PeDefs.PE_MGRS_MAX);const A=b._pe.ensureInt32(t);if(r=b._pe._pe_geog_to_usng(B,y,u,r,z,v,A))for(z=0;z<y;z++)x[z]=b._pe.UTF8ToString(t[z]);return r};h.usngToGeog=function(t,y,u,r){b._pe.ensureCache.prepare();var z=0;t&&(z=b._pe.getPointer(t));t=u.map(v=>
b._pe.ensureString(v));u=b._pe.ensureInt32(t);t=b._pe.ensureFloat64(Array(2*y));(z=b._pe._pe_usng_to_geog(z,y,u,t))&&w(r,y,t);return z}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(h){h.init=function(){h.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;h.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;h.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};h.geogToUtm=function(t,y,u,r,z){b._pe.ensureCache.prepare();var v=
0;t&&(v=b._pe.getPointer(t));t=l(u);u=b._pe.ensureFloat64(t);t=k(y,b.PeDefs.PE_UTM_MAX);const x=b._pe.ensureInt32(t);if(r=b._pe._pe_geog_to_utm(v,y,u,r,x))for(v=0;v<y;v++)z[v]=b._pe.UTF8ToString(t[v]);return r};h.utmToGeog=function(t,y,u,r,z){b._pe.ensureCache.prepare();let v=0;t&&(v=b._pe.getPointer(t));t=u.map(x=>b._pe.ensureString(x));u=b._pe.ensureInt32(t);t=b._pe.ensureFloat64(Array(2*y));(r=b._pe._pe_utm_to_geog(v,y,u,r,t))&&w(z,y,t);return r}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=
void 0;(function(h){const t=new Map;h.init=function(){h.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;h.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;h.PE_POLE_OUTSIDE_BOUNDARY=b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;h.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};h.generate=function(y,u=h.PE_PCSINFO_OPTION_DOMAIN){let r=null,z=null;t.has(y)&&(z=t.get(y),z[u]&&(r=z[u]));r||(r=b._pe.PePCSInfo.prototype.generate(y,u),z||(z=
[],t.set(y,z)),z[u]=r);return r}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(h){h.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const m=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTTransformations(){return b.PeGTTransformations},get PeGTlistExtended(){return b.PeGTlistExtended},
get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:f,get _pe(){return b._pe},isLoaded:d,isSupported:p,load:n},Symbol.toStringTag,{value:"Module"}));b._init=f;b.isLoaded=d;b.isSupported=p;b.load=n;b.pe=m})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),
function(a,b,c,e,d,p){function n(f){if(!b.assetsPath)throw d.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new e("assets:path-not-set","config.assetsPath is not set");return p.join(b.assetsPath,f)}a.fetchAsset=function(f,g){return c(n(f),g)};a.getAssetUrl=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=
void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,
.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,
2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,
3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,
3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,
3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,
5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,
6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,
6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,
6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,
6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,
7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,
7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,
8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,
8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,
9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,
20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,
27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,
102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,
103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,
103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,
103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,
103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=
a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=
a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=
a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=
a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=
a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5167;5188>=
a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=
a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=
a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=
a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=
a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=9821;9865>=a;a++)b[a]=0;for(a=10285;10291>=a;a++)b[a]=0;for(a=10314;10317>=a;a++)b[a]=0;for(a=10448;10465>=a;a++)b[a]=0;for(a=10731;10733>=a;a++)b[a]=0;for(a=11114;11118>=a;a++)b[a]=0;for(a=20004;20032>=a;a++)b[a]=0;for(a=20047;20049>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=
0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=
a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22207;22222>=a;a++)b[a]=0;for(a=22229;22232>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22243;22250>=a;a++)b[a]=0;for(a=22262;22265>=a;a++)b[a]=0;for(a=22307;22322>=a;a++)b[a]=0;for(a=22348;22357>=a;a++)b[a]=0;for(a=22407;22422>=a;a++)b[a]=0;for(a=22462;22465>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22607;22622>=
a;a++)b[a]=0;for(a=22641;22646>=a;a++)b[a]=0;for(a=22648;22657>=a;a++)b[a]=0;for(a=22707;22722>=a;a++)b[a]=0;for(a=22762;22765>=a;a++)b[a]=0;for(a=22807;22822>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23301;23333>=a;a++)b[a]=2;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=
a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=
a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=27700;27707>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=
a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=
a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32159>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32401;32460>=a;a++)b[a]=0;for(a=32501;32560>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=
a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=
102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=
2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=a;a++)b[a]=13;for(a=102951;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=
0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=
2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=
0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=
0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=
0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103890>=a;a++)b[a]=0;for(a=103891;103896>=a;a++)b[a]=2;for(a=103900;103971>=a;a++)b[a]=2;for(a=103972;103977>=a;a++)b[a]=0;for(a=112E3;112101>=a;a++)b[a]=0;return b})},"esri/portal/Portal":function(){define("require ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./portalDefault ./PortalGroup ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A){function C(L){const R=e.id;return()=>{const F=L.deref();F&&R.findCredential(F.restUrl)&&F.signIn().catch(()=>{})}}const H=L=>Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));var N;let I;const E={PortalGroup:()=>Promise.resolve({default:z}),PortalItem:()=>new Promise((L,R)=>a(["./PortalItem"],F=>L(H(F)),R)),PortalUser:()=>Promise.resolve({default:B})};n=N=class extends n.JSONSupportMixin(f){constructor(L){super(L);
this.access=this._esriIdCredentialCreateHandle=null;this.allSSL=!1;this.authMode="auto";this.bingKey=this.basemapGalleryGroupQuery3D=this.basemapGalleryGroupQuery=this.authorizedCrossOriginDomains=null;this.canProvisionDirectPurchase=this.canListPreProvisionedItems=this.canListData=this.canListApps=!1;this.canSearchPublic=!0;this.canSignInIDP=this.canSignInArcGIS=this.canSharePublic=this.canShareBingPublic=!1;this.colorSetsGroupQuery=null;this.commentsEnabled=!1;this.livingAtlasGroupQuery=this.layoutGroupQuery=
this.galleryTemplatesGroupQuery=this.featuredItemsGroupQuery=this.featuredGroups=this.eueiEnabled=this.devBasemapGalleryGroupQuery=this.description=this.defaultVectorBasemap=this.defaultExtent=this.defaultDevBasemap=this.defaultBasemap=this.customBaseUrl=this.culture=this.created=null;this.hasCategorySchema=!1;this.ipCntryCode=this.id=this.httpsPort=this.httpPort=this.homePageFeaturedContentCount=this.homePageFeaturedContent=this.helperServices=null;this.isReadOnly=this.isPortal=!1;this.region=this.portalProperties=
this.portalMode=this.portalHostname=this.name=this.modified=this.maxTokenExpirationMinutes=this.layerTemplatesGroupQuery=null;this.recycleBinEnabled=!1;this.rotatorPanels=null;this.showHomePageDescription=!1;this.sourceJSON=null;this.supportsHostedServices=!1;this.units=this.templatesGroupQuery=this.symbolSetsGroupQuery=null;this.url=c.portalUrl;this.user=this.urlKey=null;this.use3dBasemaps=!0;this.useVectorBasemaps=this.useStandardizedQuery=!1;this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(L){return"string"===
typeof L?{url:L}:L}destroy(){G.unregister(this);this.defaultBasemap=g.destroyMaybe(this.defaultBasemap);this.defaultDevBasemap=g.destroyMaybe(this.defaultDevBasemap);this.defaultVectorBasemap=g.destroyMaybe(this.defaultVectorBasemap);this._esriIdCredentialCreateHandle=g.removeMaybe(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(L){if(L)for(const R of L)c.request.trustedServers.includes(R)||c.request.trustedServers.push(R);return L}readDefaultBasemap(L){return this._readBasemap(L)}readDefaultDevBasemap(L){return this._readBasemap(L)}readDefaultVectorBasemap(L){return this._readBasemap(L)}get extraQuery(){const L=
!this.user?.orgId||this.canSearchPublic;return this.id&&!L?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let L=this.url;if(L){const R=L.indexOf("/sharing");L=0<R?L.substring(0,R):this.url.replace(/\/+$/,"");L+="/sharing/rest"}return L}get thumbnailUrl(){const L=this.restUrl,R=this.thumbnail;return L&&R?this._normalizeSSL(L+"/portals/self/resources/"+R):null}readUrlKey(L){return L?L.toLowerCase():
L}readUser(L){let R=null;L&&(R=B.fromJSON(L),R.portal=this);return R}load(L){const R=(new Promise((F,J)=>a(["../Basemap"],O=>F(H(O)),J))).then(({default:F})=>{k.throwIfAborted(L);I=F}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,L)).then(F=>{if(e.id){const J=e.id;this.credential=J.findCredential(this.restUrl);this.credential||this.authMode!==N.AUTH_MODE_AUTO&&this.authMode!==N.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=
J.on("credential-create",C(new WeakRef(this))),G.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=F;this.read(F)});this.addResolvingPromise(R);return Promise.resolve(this)}async createElevationLayers(){await this.load();const L=this._getHelperService("defaultElevationLayers"),R=(await new Promise((F,J)=>a(["../layers/ElevationLayer"],O=>F(H(O)),J))).default;return L?L.map(F=>new R({id:F.id,url:F.url})):[]}async fetchBasemaps(L,R){const F=await this._fetchBasemaps(L,R);!0===
R?.include3d&&!1!==this.use3dBasemaps&&(L=await this._fetchBasemaps3D(L,R),F.unshift(...L));return F}fetchCategorySchema(L){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",L).then(R=>R.categorySchema):k.isAborted(L)?Promise.reject(k.createAbortError()):Promise.resolve([])}fetchFeaturedGroups(L){const R=this.featuredGroups,F=new v({num:100,sortField:"title"});if(R?.length){const J=[];for(const O of R)J.push(`(title:"${O.title}" AND owner:${O.owner})`);F.query=
J.join(" OR ");return this.queryGroups(F,L).then(O=>O.results)}return k.isAborted(L)?Promise.reject(k.createAbortError()):Promise.resolve([])}fetchRegions(L){const R=this.user?.culture||this.culture||u.getLocale();return this.request(this.restUrl+"/portals/regions",{...L,query:{culture:R}})}fetchSettings(L){const R=this.user?.culture||this.culture||u.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...L,query:{culture:R}})}static getDefault(){return r.ensureDefaultPortalInstance(()=>
new N)}queryGroups(L,R){return this.queryPortal("/community/groups",L,"PortalGroup",R)}queryItems(L,R){return this.queryPortal("/search",L,"PortalItem",R)}queryUsers(L,R){L.sortField||(L.sortField="username");return this.queryPortal("/community/users",L,"PortalUser",R)}fetchSelf(L=this.authMode,R=!1,F){const J=this.restUrl+"/portals/self";L={authMode:L,query:{culture:u.getLocale().toLowerCase()},withCredentials:!0,...F};"auto"===L.authMode&&(L.authMode="no-prompt");R&&(L.query.default=!0);return this.request(J,
L)}queryPortal(L,R,F,J){const O=w.ensureType(v,R),U=T=>this.request(this.restUrl+L,{...O.toRequestOptions(this),...J}).then(Z=>{const V=O.clone();V.start=Z.nextStart;return new x({nextQueryParams:V,queryParams:O,total:Z.total,results:N._resultsToTypedArray(T,{portal:this},Z,J)})}).then(Z=>Promise.all(Z.results.map(V=>"function"===typeof V.when?V.when():Z)).then(()=>Z,V=>{k.throwIfAbortError(V);return Z}));return F&&E[F]?E[F]().then(({default:T})=>{k.throwIfAborted(J);return U(T)}):U()}signIn(){if(this.authMode===
N.AUTH_MODE_ANONYMOUS||this.authMode===N.AUTH_MODE_NO_PROMPT&&!e.id)return Promise.reject(new p("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const L=R=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return R||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=R;return this.fetchSelf("immediate")});
if(this.user&&this.credential===R)return null;this.credential=R;return this.fetchSelf("immediate")}).then(F=>{F&&(this.sourceJSON=F,this.read(F))});return e.id?e.id.getCredential(this.restUrl,{prompt:this.authMode!==N.AUTH_MODE_NO_PROMPT}).then(R=>L(R)):L(this.credential)}normalizeUrl(L){const R=this.credential?.token;return this._normalizeSSL(R?L+(L.includes("?")?"\x26":"?")+"token\x3d"+R:L)}requestToTypedArray(L,R,F){return this.request(L,R).then(J=>{const O=N._resultsToTypedArray(F,{portal:this},
J);return Promise.all(O.map(U=>"function"===typeof U.when?U.when():J)).then(()=>O,()=>O)})}request(L,R={}){var F={f:"json",...R.query};const {authMode:J=this.authMode===N.AUTH_MODE_ANONYMOUS||this.authMode===N.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:O=null,cacheBust:U=!1,method:T="auto",responseType:Z="json",signal:V}=R;F={authMode:J,body:O,cacheBust:U,method:T,query:F,responseType:Z,timeout:0,signal:V};R.withCredentials&&(F.withCredentials=!0);return d(this._normalizeSSL(L),F).then(qa=>qa.data)}toJSON(){throw new p("internal:not-yet-implemented",
"Portal.toJSON is not yet implemented");}static fromJSON(L){if(!L)return null;if(L.declaredClass)throw Error("JSON object is already hydrated");return new N({sourceJSON:L})}_getHelperService(L){const R=this.helperServices&&this.helperServices[L];if(!R)throw new p("portal:service-not-found",`The \`helperServices\` do not include an entry named "${L}"`);return R}async _fetchBasemaps(L,R){const F=new v;F.query=L||(c.apiKey&&A.supportsApiKey(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?
this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);F.disableExtraQuery=!0;L=await this.queryGroups(F,R);if(!L.total)return[];L=L.results[0];F.num=100;F.query='type:"Web Map" -type:"Web Application"';F.sortField=L.sortField||"name";F.sortOrder=L.sortOrder||"desc";R=await L.queryItems(F,R);return R.total?R.results.filter(J=>"Web Map"===J.type).map(J=>new I({portalItem:J})):[]}async _fetchBasemaps3D(L,R){L=L||this.basemapGalleryGroupQuery3D;if(!L)return[];L=new v({query:L,disableExtraQuery:!0});
var F=await this.queryGroups(L,R);if(!F.total)return[];F=F.results[0];L.num=100;L.query='type:"Web Scene"';L.sortField=F.sortField||"name";L.sortOrder=F.sortOrder||"desc";R=await F.queryItems(L,R);return R.total?R.results.filter(J=>"Web Scene"===J.type).map(J=>new I({portalItem:J})):[]}_normalizeSSL(L){return L.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(L){return L?(L=I.fromJSON(L),L.portalItem={portal:this},L):null}static _resultsToTypedArray(L,R,F,J){if(F){const O=null!=J?
J.signal:null;F=F.listings||F.notifications||F.userInvitations||F.tags||F.items||F.groups||F.comments||F.provisions||F.results||F.relatedItems||F;if(L||R)F=F.map(U=>{U=Object.assign(L?L.fromJSON(U):U,R);"function"===typeof U.load&&U.load(O);return U})}else F=[];return F}};n.AUTH_MODE_ANONYMOUS="anonymous";n.AUTH_MODE_AUTO="auto";n.AUTH_MODE_IMMEDIATE="immediate";n.AUTH_MODE_NO_PROMPT="no-prompt";b.__decorate([l.property()],n.prototype,"access",void 0);b.__decorate([l.property()],n.prototype,"allSSL",
void 0);b.__decorate([l.property()],n.prototype,"authMode",void 0);b.__decorate([l.property()],n.prototype,"authorizedCrossOriginDomains",void 0);b.__decorate([h.reader("authorizedCrossOriginDomains")],n.prototype,"readAuthorizedCrossOriginDomains",null);b.__decorate([l.property()],n.prototype,"basemapGalleryGroupQuery",void 0);b.__decorate([l.property({json:{name:"3DBasemapGalleryGroupQuery"}})],n.prototype,"basemapGalleryGroupQuery3D",void 0);b.__decorate([l.property()],n.prototype,"bingKey",void 0);
b.__decorate([l.property()],n.prototype,"canListApps",void 0);b.__decorate([l.property()],n.prototype,"canListData",void 0);b.__decorate([l.property()],n.prototype,"canListPreProvisionedItems",void 0);b.__decorate([l.property()],n.prototype,"canProvisionDirectPurchase",void 0);b.__decorate([l.property()],n.prototype,"canSearchPublic",void 0);b.__decorate([l.property()],n.prototype,"canShareBingPublic",void 0);b.__decorate([l.property()],n.prototype,"canSharePublic",void 0);b.__decorate([l.property()],
n.prototype,"canSignInArcGIS",void 0);b.__decorate([l.property()],n.prototype,"canSignInIDP",void 0);b.__decorate([l.property()],n.prototype,"colorSetsGroupQuery",void 0);b.__decorate([l.property()],n.prototype,"commentsEnabled",void 0);b.__decorate([l.property({type:Date})],n.prototype,"created",void 0);b.__decorate([l.property()],n.prototype,"credential",void 0);b.__decorate([l.property()],n.prototype,"culture",void 0);b.__decorate([l.property()],n.prototype,"currentVersion",void 0);b.__decorate([l.property()],
n.prototype,"customBaseUrl",void 0);b.__decorate([l.property()],n.prototype,"defaultBasemap",void 0);b.__decorate([h.reader("defaultBasemap")],n.prototype,"readDefaultBasemap",null);b.__decorate([l.property()],n.prototype,"defaultDevBasemap",void 0);b.__decorate([h.reader("defaultDevBasemap")],n.prototype,"readDefaultDevBasemap",null);b.__decorate([l.property({type:y})],n.prototype,"defaultExtent",void 0);b.__decorate([l.property()],n.prototype,"defaultVectorBasemap",void 0);b.__decorate([h.reader("defaultVectorBasemap")],
n.prototype,"readDefaultVectorBasemap",null);b.__decorate([l.property()],n.prototype,"description",void 0);b.__decorate([l.property()],n.prototype,"devBasemapGalleryGroupQuery",void 0);b.__decorate([l.property()],n.prototype,"eueiEnabled",void 0);b.__decorate([l.property({readOnly:!0})],n.prototype,"extraQuery",null);b.__decorate([l.property()],n.prototype,"featuredGroups",void 0);b.__decorate([l.property()],n.prototype,"featuredItemsGroupQuery",void 0);b.__decorate([l.property()],n.prototype,"galleryTemplatesGroupQuery",
void 0);b.__decorate([l.property()],n.prototype,"layoutGroupQuery",void 0);b.__decorate([l.property()],n.prototype,"livingAtlasGroupQuery",void 0);b.__decorate([l.property()],n.prototype,"hasCategorySchema",void 0);b.__decorate([l.property()],n.prototype,"helpBase",void 0);b.__decorate([l.property()],n.prototype,"helperServices",void 0);b.__decorate([l.property()],n.prototype,"helpMap",void 0);b.__decorate([l.property()],n.prototype,"homePageFeaturedContent",void 0);b.__decorate([l.property()],n.prototype,
"homePageFeaturedContentCount",void 0);b.__decorate([l.property()],n.prototype,"httpPort",void 0);b.__decorate([l.property()],n.prototype,"httpsPort",void 0);b.__decorate([l.property()],n.prototype,"id",void 0);b.__decorate([l.property()],n.prototype,"ipCntryCode",void 0);b.__decorate([l.property({readOnly:!0})],n.prototype,"isOrganization",null);b.__decorate([l.property()],n.prototype,"isPortal",void 0);b.__decorate([l.property()],n.prototype,"isReadOnly",void 0);b.__decorate([l.property({readOnly:!0})],
n.prototype,"itemPageUrl",null);b.__decorate([l.property()],n.prototype,"layerTemplatesGroupQuery",void 0);b.__decorate([l.property()],n.prototype,"maxTokenExpirationMinutes",void 0);b.__decorate([l.property({type:Date})],n.prototype,"modified",void 0);b.__decorate([l.property()],n.prototype,"name",void 0);b.__decorate([l.property()],n.prototype,"portalHostname",void 0);b.__decorate([l.property()],n.prototype,"portalMode",void 0);b.__decorate([l.property()],n.prototype,"portalProperties",void 0);
b.__decorate([l.property()],n.prototype,"region",void 0);b.__decorate([l.property()],n.prototype,"recycleBinEnabled",void 0);b.__decorate([l.property({readOnly:!0})],n.prototype,"restUrl",null);b.__decorate([l.property()],n.prototype,"rotatorPanels",void 0);b.__decorate([l.property()],n.prototype,"showHomePageDescription",void 0);b.__decorate([l.property()],n.prototype,"sourceJSON",void 0);b.__decorate([l.property()],n.prototype,"staticImagesUrl",void 0);b.__decorate([l.property({json:{name:"2DStylesGroupQuery"}})],
n.prototype,"stylesGroupQuery2d",void 0);b.__decorate([l.property({json:{name:"stylesGroupQuery"}})],n.prototype,"stylesGroupQuery3d",void 0);b.__decorate([l.property()],n.prototype,"supportsHostedServices",void 0);b.__decorate([l.property()],n.prototype,"symbolSetsGroupQuery",void 0);b.__decorate([l.property()],n.prototype,"templatesGroupQuery",void 0);b.__decorate([l.property()],n.prototype,"thumbnail",void 0);b.__decorate([l.property({readOnly:!0})],n.prototype,"thumbnailUrl",null);b.__decorate([l.property()],
n.prototype,"units",void 0);b.__decorate([l.property()],n.prototype,"url",void 0);b.__decorate([l.property()],n.prototype,"urlKey",void 0);b.__decorate([h.reader("urlKey")],n.prototype,"readUrlKey",null);b.__decorate([l.property()],n.prototype,"user",void 0);b.__decorate([h.reader("user")],n.prototype,"readUser",null);b.__decorate([l.property()],n.prototype,"use3dBasemaps",void 0);b.__decorate([l.property()],n.prototype,"useStandardizedQuery",void 0);b.__decorate([l.property()],n.prototype,"useVectorBasemaps",
void 0);b.__decorate([l.property()],n.prototype,"vectorBasemapGalleryGroupQuery",void 0);b=n=N=b.__decorate([t.subclass("esri.portal.Portal")],n);const G=new FinalizationRegistry(L=>{L.remove()});return b})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(c,e,d){let p,n;void 0===e||Array.isArray(e)?(n=c,d=e,p=[void 0]):(n=e,p=Array.isArray(c)?c:[c]);return(f,g)=>{const k=f.constructor.prototype;p.forEach(l=>{l=b.propertyJSONMeta(f,
l,n);l.read&&"object"===typeof l.read||(l.read={});l.read.reader=k[g];d&&(l.read.source=(l.read.source||[]).concat(d))})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Extent":function(){define("../chunks/tslib.es6 ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m){function h(u,r,z){return null==r?z:null==z?r:u(r,z)}function t(u,r){const [z,v]=r.valid;r=2*v;var x=0;u>v?(x=Math.ceil(Math.abs(u-v)/r),u-=x*r):u<z&&(x=Math.ceil(Math.abs(u-z)/r),u+=x*r,x=-x);return{x:u,frameId:x}}var y;e=y=class extends f{constructor(...u){super(...u);this.type="extent";this.ymin=this.xmin=0;this.zmin=this.mmin=void 0;this.ymax=this.xmax=0;this.zmax=this.mmax=void 0}normalizeCtorArgs(u,r,z,v,x){return!u||"esri.geometry.SpatialReference"!==u.declaredClass&&
null==u.wkid?"object"===typeof u?(u.spatialReference=null==u.spatialReference?k.WGS84:u.spatialReference,u):{xmin:u,ymin:r,xmax:z,ymax:v,spatialReference:null==x?k.WGS84:x}:{spatialReference:u,xmin:0,ymin:0,xmax:0,ymax:0}}static fromBounds(u,r){return new y({xmin:u[0],ymin:u[1],xmax:u[2],ymax:u[3],spatialReference:r})}static fromPoint(u){return new y({xmin:u.x,ymin:u.y,zmin:u.z,xmax:u.x,ymax:u.y,zmax:u.z,spatialReference:u.spatialReference})}get cache(){this.commitProperty("xmin");this.commitProperty("ymin");
this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}get center(){const u=new g({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(u.z=.5*(this.zmin+this.zmax));this.hasM&&(u.m=.5*(this.mmin+this.mmax));return u}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&
null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(u){const r=this.center;return null!=u.z&&this.hasZ?this.offset(u.x-r.x,u.y-r.y,u.z-r.z):this.offset(u.x-r.x,u.y-r.y)}clone(){const u=new y;u.xmin=this.xmin;u.ymin=this.ymin;u.xmax=this.xmax;u.ymax=this.ymax;u.spatialReference=this.spatialReference;null!=this.zmin&&(u.zmin=this.zmin,u.zmax=this.zmax);null!=this.mmin&&(u.mmin=
this.mmin,u.mmax=this.mmax);return u}contains(u){if(!u)return!1;const r=this.spatialReference,z=u.spatialReference;r&&z&&!r.equals(z)&&m.canProject(r,z)&&(u=r.isWebMercator?m.geographicToWebMercator(u):m.webMercatorToGeographic(u,!0));return"point"===u.type?l.extentContainsPoint(this,u):"extent"===u.type?l.extentContainsExtent(this,u):!1}equals(u){if(this===u)return!0;if(null==u)return!1;const r=this.spatialReference,z=u.spatialReference;r&&z&&!r.equals(z)&&m.canProject(r,z)&&(u=r.isWebMercator?m.geographicToWebMercator(u):
m.webMercatorToGeographic(u,!0));return this.xmin===u.xmin&&this.ymin===u.ymin&&this.zmin===u.zmin&&this.mmin===u.mmin&&this.xmax===u.xmax&&this.ymax===u.ymax&&this.zmax===u.zmax&&this.mmax===u.mmax}expand(u){u=.5*(1-u);var r=this.width*u;const z=this.height*u;this.xmin+=r;this.ymin+=z;this.xmax-=r;this.ymax-=z;this.hasZ&&(r=(this.zmax-this.zmin)*u,this.zmin+=r,this.zmax-=r);this.hasM&&(u*=this.mmax-this.mmin,this.mmin+=u,this.mmax-=u);return this}intersects(u){if(null==u)return!1;"mesh"===u.type&&
(u=u.extent);const r=this.spatialReference,z=u.spatialReference;r&&z&&!q.equals(r,z)&&m.canProject(r,z)&&(u=r.isWebMercator?m.geographicToWebMercator(u):m.webMercatorToGeographic(u,!0));return w.getFeatureExtentIntersector(u.type)(this,u)}normalize(){const u=this._normalize(!1,!0);return Array.isArray(u)?u:[u]}offset(u,r,z){this.xmin+=u;this.ymin+=r;this.xmax+=u;this.ymax+=r;null!=z&&(this.zmin+=z,this.zmax+=z);return this}shiftCentralMeridian(){return this._normalize(!0)}union(u){if(this===u)return this;
this.xmin=Math.min(this.xmin,u.xmin);this.ymin=Math.min(this.ymin,u.ymin);this.xmax=Math.max(this.xmax,u.xmax);this.ymax=Math.max(this.ymax,u.ymax);if(this.hasZ||u.hasZ)this.zmin=h(Math.min,this.zmin,u.zmin),this.zmax=h(Math.max,this.zmax,u.zmax);if(this.hasM||u.hasM)this.mmin=h(Math.min,this.mmin,u.mmin),this.mmax=h(Math.max,this.mmax,u.mmax);return this}intersection(u){if(this===u)return this;if(null==u||!this.intersects(u))return null;this.xmin=Math.max(this.xmin,u.xmin);this.ymin=Math.max(this.ymin,
u.ymin);this.xmax=Math.min(this.xmax,u.xmax);this.ymax=Math.min(this.ymax,u.ymax);if(this.hasZ||u.hasZ)this.zmin=h(Math.max,this.zmin,u.zmin),this.zmax=h(Math.min,this.zmax,u.zmax);if(this.hasM||u.hasM)this.mmin=h(Math.max,this.mmin,u.mmin),this.mmax=h(Math.min,this.mmax,u.mmax);return this}toJSON(u){return this.write({},u)}_shiftCM(u=q.getInfo(this.spatialReference)){if(!u||!this.spatialReference)return this;const r=this.spatialReference,z=this._getCM(u);if(z){const v=r.isWebMercator?m.webMercatorToGeographic(z):
z;this.xmin-=z.x;this.xmax-=z.x;r.isWebMercator||(v.x=t(v.x,u).x);this.spatialReference=new k(b.replace((r.isWGS84?u.altTemplate:null)??u.wkTemplate,{Central_Meridian:v.x}))}return this}_getCM(u){let r=null;const [z,v]=u.valid;u=this.xmin;const x=this.xmax;u>=z&&u<=v&&x>=z&&x<=v||(r=this.center);return r}_normalize(u,r,z){const v=this.spatialReference;if(!v)return this;z=z??q.getInfo(v);if(null==z)return this;const x=this._getParts(z).map(C=>C.extent);if(2>x.length)return x[0]||this;if(2<x.length)return u?
this._shiftCM(z):this.set({xmin:z.valid[0],xmax:z.valid[1]});if(u)return this._shiftCM(z);if(r)return x;let B=!0,A=!0;x.forEach(C=>{C.hasZ||(B=!1);C.hasM||(A=!1)});return{rings:x.map(C=>{const H=[[C.xmin,C.ymin],[C.xmin,C.ymax],[C.xmax,C.ymax],[C.xmax,C.ymin],[C.xmin,C.ymin]];if(B){var N=(C.zmax-C.zmin)/2;for(let I=0;I<H.length;I++)H[I].push(N)}if(A)for(C=(C.mmax-C.mmin)/2,N=0;N<H.length;N++)H[N].push(C);return H}),hasZ:B,hasM:A,spatialReference:v}}_getParts(u){let r=this.cache._parts;if(!r){r=[];
const {ymin:N,ymax:I,spatialReference:E}=this;var z=this.width,v=this.xmin,x=this.xmax;u=u||q.getInfo(E);const [G,L]=u.valid;var B=t(this.xmin,u);var A=B.x,C=B.frameId;B=t(this.xmax,u);u=B.x;B=B.frameId;var H=A===u&&0<z;if(z>2*L){z=new y(v<x?A:u,N,L,I,E);v=new y(G,N,v<x?u:A,I,E);x=new y(0,N,L,I,E);A=new y(G,N,0,I,E);u=[];H=[];z.contains(x)&&u.push(C);z.contains(A)&&H.push(C);v.contains(x)&&u.push(B);v.contains(A)&&H.push(B);for(let R=C+1;R<B;R++)u.push(R),H.push(R);r.push({extent:z,frameIds:[C]},
{extent:v,frameIds:[B]},{extent:x,frameIds:u},{extent:A,frameIds:H})}else A>u||H?r.push({extent:new y(A,N,L,I,E),frameIds:[C]},{extent:new y(G,N,u,I,E),frameIds:[B]}):r.push({extent:new y(A,N,u,I,E),frameIds:[C]});this.cache._parts=r}B=this.hasZ;z=this.hasM;if(B||z)for(C={},B&&(C.zmin=this.zmin,C.zmax=this.zmax),z&&(C.mmin=this.mmin,C.mmax=this.mmax),B=0;B<r.length;B++)r[B].extent.set(C);return r}};a.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);a.__decorate([c.property({readOnly:!0})],
e.prototype,"center",null);a.__decorate([c.property({readOnly:!0})],e.prototype,"extent",null);a.__decorate([c.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],e.prototype,"hasM",null);a.__decorate([c.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],e.prototype,"hasZ",null);a.__decorate([c.property({readOnly:!0})],e.prototype,"height",null);a.__decorate([c.property({readOnly:!0})],e.prototype,"width",null);a.__decorate([c.property({type:Number,json:{type:[Number,
String],write:{enabled:!0,allowNull:!0}}})],e.prototype,"xmin",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"ymin",void 0);a.__decorate([c.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],e.prototype,"mmin",void 0);a.__decorate([c.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],e.prototype,"zmin",void 0);a.__decorate([c.property({type:Number,
json:{write:!0}})],e.prototype,"xmax",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"ymax",void 0);a.__decorate([c.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],e.prototype,"mmax",void 0);a.__decorate([c.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],e.prototype,"zmax",void 0);e=y=a.__decorate([n.subclass("esri.geometry.Extent")],
e);e.prototype.toJSON.isDefaultToJSON=!0;return e})},"esri/geometry/Geometry":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),function(a,b,c,e,d,p,n,f,g){b=class extends b.JSONSupport{constructor(...k){super(...k);this.type=null;this.hasZ=this.hasM=!1;this.spatialReference=g.WGS84}get cache(){this.commitProperty("spatialReference");
return{}}get extent(){return null}readSpatialReference(k,l){if(k instanceof g)return k;if(null!=k){const w=new g;w.read(k,l);return w}return k}clone(){console.warn(".clone() is not implemented for "+this.declaredClass);return null}clearCache(){this.notifyChange("cache")}getCacheValue(k){return this.cache[k]}setCacheValue(k,l){this.cache[k]=l}};a.__decorate([c.property()],b.prototype,"type",void 0);a.__decorate([c.property({readOnly:!0})],b.prototype,"cache",null);a.__decorate([c.property({readOnly:!0})],
b.prototype,"extent",null);a.__decorate([c.property({type:Boolean,json:{write:{overridePolicy(k){return{enabled:k}}}}})],b.prototype,"hasM",void 0);a.__decorate([c.property({type:Boolean,json:{write:{overridePolicy(k){return{enabled:k}}}}})],b.prototype,"hasZ",void 0);a.__decorate([c.property({type:g,json:{write:!0},value:g.WGS84})],b.prototype,"spatialReference",void 0);a.__decorate([n.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=a.__decorate([f.subclass("esri.geometry.Geometry")],
b)})},"esri/geometry/Point":function(){define("../chunks/tslib.es6 ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,c,e,d,p,
n,f,g,k,l,w,q,m,h){function t(r){return r&&("esri.geometry.SpatialReference"===r.declaredClass||null!=r.wkid)}var y;const u=[0,0];d=y=class extends l{static copy(r,z){z._set("x",r._get("x"));z._set("y",r._get("y"));z._set("z",r._get("z"));z._set("m",r._get("m"));r=r._get("spatialReference");z._set("spatialReference",Object.isFrozen(r)?r:r.clone())}constructor(...r){super(...r);this.y=this.x=0;this.m=this.z=void 0;this.type="point"}normalizeCtorArgs(r,z,v,x,B){let A;if(Array.isArray(r))A=r,B=z,r=A[0],
z=A[1],v=A[2],x=A[3];else if(r&&"object"===typeof r){if(A=r,r=null!=A.x?A.x:A.longitude,z=null!=A.y?A.y:A.latitude,v=A.z,x=A.m,(B=A.spatialReference)&&"esri.geometry.SpatialReference"!==B.declaredClass&&(B=new w(B)),null!=A.longitude||null!=A.latitude)null==A.longitude?b.getLogger(this).warn(".longitude\x3d","Latitude was defined without longitude"):null==A.latitude?b.getLogger(this).warn(".latitude\x3d","Longitude was defined without latitude"):!A.declaredClass&&B?.isWebMercator&&(z=h.lngLatToXY(A.longitude,
A.latitude,u),r=z[0],z=z[1])}else t(v)?(B=v,v=null):t(x)&&(B=x,x=null);r={x:r,y:z};null==r.x&&null!=r.y?b.getLogger(this).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==r.y&&null!=r.x&&b.getLogger(this).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=B&&(r.spatialReference=B);null!=v&&(r.z=v);null!=x&&(r.m=x);return r}get cache(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");
return{}}get hasM(){return void 0!==this.m}set hasM(r){const z=void 0!==this._get("m");r!==z&&(this._set("m",r?0:void 0),this._set("hasM",r))}get hasZ(){return void 0!==this.z}set hasZ(r){const z=void 0!==this._get("z");r!==z&&(this._set("z",r?0:void 0),this._set("hasZ",r))}get latitude(){return q.getLatitude(this)}set latitude(r){const {spatialReference:z,x:v}=this;null!=r&&z&&(z.isWebMercator?this._set("y",h.lngLatToXY(v,r,u)[1]):z.isGeographic&&this._set("y",r),this._set("latitude",r))}get longitude(){return q.getLongitude(this)}set longitude(r){const {y:z,
spatialReference:v}=this;null!=r&&v&&(v.isWebMercator?this._set("x",h.lngLatToXY(r,z,u)[0]):v.isGeographic&&this._set("x",r),this._set("longitude",r))}writeX(r,z,v){z[v]=isNaN(r)?"NaN":r}readX(r){return"string"===typeof r?NaN:r}clone(){const r=new y;r.x=this.x;r.y=this.y;r.z=this.z;r.m=this.m;r.spatialReference=this.spatialReference;return r}copy(r){y.copy(r,this);return this}equals(r){if(null==r)return!1;const {x:z,y:v,z:x,m:B,spatialReference:A}=this,{z:C,m:H}=r;let {x:N,y:I,spatialReference:E}=
r;if(!A.equals(E))if(A.isWebMercator&&E.isWGS84)[N,I]=h.lngLatToXY(N,I),E=A;else if(A.isWGS84&&E.isWebMercator)[N,I]=h.xyToLngLat(N,I),E=A;else return!1;return z===N&&v===I&&x===C&&B===H&&A.wkid===E.wkid}offset(r,z,v){this.x+=r;this.y+=z;null!=v&&(this.z=(this.z??0)+v);return this}normalize(){if(!this.spatialReference)return this;var r=m.getInfo(this.spatialReference);if(!r)return this;let z=this.x;const [v,x]=r.valid;r=2*x;let B;z>x?(B=Math.ceil(Math.abs(z-x)/r),z-=B*r):z<v&&(B=Math.ceil(Math.abs(z-
v)/r),z+=B*r);this._set("x",z);return this}distance(r){return q.distance(this,r)}toArray(){const r=this.hasZ,z=this.hasM;return r&&z?[this.x,this.y,this.z,this.m]:r?[this.x,this.y,this.z]:z?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(r){return this.write({},r)}};a.__decorate([c.property({readOnly:!0})],d.prototype,"cache",null);a.__decorate([c.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasM",null);a.__decorate([c.property({type:Boolean,json:{read:!1,
write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasZ",null);a.__decorate([c.property({type:Number})],d.prototype,"latitude",null);a.__decorate([c.property({type:Number})],d.prototype,"longitude",null);a.__decorate([c.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),e.cast(r=>isNaN(r)?r:k.ensureNumber(r))],d.prototype,"x",void 0);a.__decorate([g.writer("x")],d.prototype,"writeX",null);a.__decorate([n.reader("x")],d.prototype,"readX",null);a.__decorate([c.property({type:Number,
json:{write:!0}})],d.prototype,"y",void 0);a.__decorate([c.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],d.prototype,"z",void 0);a.__decorate([c.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],d.prototype,"m",void 0);d=y=a.__decorate([f.subclass("esri.geometry.Point")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports","../ensureType","../metadata"],
function(a,b,c){function e(f){const g="__accessorMetadata__"in f?b.ensureType(f):f;return function(...k){k.push(g);if("number"===typeof k[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return d.apply(this,k)}}function d(f,g,k,l){c.getPropertyMetadata(f,g).cast=l}function p(f){return(g,k)=>{c.getPropertyMetadata(g,f).cast=g[k]}}const n=Object.prototype.toString;a.cast=function(...f){if(3!==f.length||"string"!==typeof f[1]){if(1===f.length&&"[object Function]"===n.call(f[0]))return e(f[0]);
if(1===f.length&&"string"===typeof f[0])return p(f[0])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/pointUtils":function(){define(["exports","./spatialReferenceUtils","./webMercatorUtils"],function(a,b,c){function e({x:p,y:n,spatialReference:f},g=[0,0]){if(f){if(b.isWebMercator(f))return c.xyToLngLat(p,n,g);if(b.isGeographic(f))return g[0]=p,g[1]=n,g}return null}const d=[0,0];a.distance=function(p,n){const f=p.x-n.x,g=p.y-n.y;p=null!=p.z&&null!=n.z?p.z-
n.z:0;return Math.sqrt(f*f+g*g+p*p)};a.getLatitude=function(p){return e(p,d)?.[1]??null};a.getLongitude=function(p){return e(p,d)?.[0]??null};a.getLongitudeLatitude=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","../SpatialReference","./Ellipsoid","./spatialReferenceUtils"],function(a,b,c,e,d){function p(l,w,q,m,h){h.spatialReference=q;if("x"in l&&"x"in h)[h.x,h.y]=w(l.x,l.y,k,m);else if("xmin"in
l&&"xmin"in h)[h.xmin,h.ymin]=w(l.xmin,l.ymin,k,m),[h.xmax,h.ymax]=w(l.xmax,l.ymax,k,m);else if("paths"in l&&"paths"in h||"rings"in l&&"rings"in h){l="paths"in l?l.paths:l.rings;q=[];for(let y=0;y<l.length;y++){const u=l[y];var t=[];q.push(t);for(let r=0;r<u.length;r++)t.push(w(u[r][0],u[r][1],[0,0],m)),2<u[r].length&&t[r].push(u[r][2]),3<u[r].length&&t[r].push(u[r][3])}"paths"in h?h.paths=q:h.rings=q}else if("points"in l&&"points"in h){l=l.points;q=[];for(t=0;t<l.length;t++)q[t]=w(l[t][0],l[t][1],
[0,0],m),2<l[t].length&&q[t].push(l[t][2]),3<l[t].length&&q[t].push(l[t][3]);h.points=q}return h}function n(l,w){const q=l&&(null!=l.wkid||null!=l.wkt?l:l.spatialReference),m=w&&(null!=w.wkid||null!=w.wkt?w:w.spatialReference);return l&&"type"in l&&"mesh"===l.type||w&&"type"in w&&"mesh"===w.type||!q||!m?!1:d.equals(m,q)?!0:d.isWebMercator(m)&&d.isWGS84(q)||d.isWebMercator(q)&&d.isWGS84(m)}function f(l,w,q=[0,0]){89.99999<w?w=89.99999:-89.99999>w&&(w=-89.99999);w*=.017453292519943;q[0]=.017453292519943*
l*e.earth.radius;q[1]=e.earth.halfSemiMajorAxis*Math.log((1+Math.sin(w))/(1-Math.sin(w)));return q}function g(l,w,q=[0,0],m=!1){l=l/e.earth.radius*57.29577951308232;q[0]=m?l:l-360*Math.floor((l+180)/360);q[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-w/e.earth.radius)));return q}const k=[0,0];a.canProject=n;a.geographicToWebMercator=function(l,w=!1,q=b.clone(l)){return p(l,f,c.WebMercator,w,q)};a.lngLatToXY=f;a.project=function(l,w){if(null==l)return null;const q=l.spatialReference;w=w&&
(null!=w.wkid||null!=w.wkt?w:w.spatialReference);return n(q,w)?d.equals(q,w)?b.clone(l):d.isWebMercator(w)?p(l,f,c.WebMercator,!1,b.clone(l)):d.isWGS84(w)?p(l,g,c.WGS84,!1,b.clone(l)):null:null};a.webMercatorToGeographic=function(l,w=!1,q=b.clone(l)){return p(l,g,c.WGS84,w,q)};a.x2lon=function(l){return l/e.earth.radius};a.xyToLngLat=g;a.y2lat=function(l){return Math.PI/2-2*Math.atan(Math.exp(-l/e.earth.radius))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/contains":function(){define(["exports"],
function(a){function b(f,g){return c(f,g[0],g[1])}function c(f,g,k,l){return g>=f.xmin&&g<=f.xmax&&k>=f.ymin&&k<=f.ymax?null!=l&&f.hasZ?l>=f.zmin&&l<=f.zmax:!0:!1}function e(f,g){return d(f.rings,g)}function d(f,g){if(!f)return!1;if(!Array.isArray(f[0][0]))return p(!1,f,g);let k=!1;for(let l=0,w=f.length;l<w;l++)k=p(k,f[l],g);return k}function p(f,g,k){const [l,w]=k;k=0;for(let q=0,m=g.length;q<m;q++){k++;k===m&&(k=0);const [h,t]=g[q],[y,u]=g[k];(t<w&&u>=w||u<w&&t>=w)&&h+(w-t)/(u-t)*(y-h)<l&&(f=!f)}return f}
const n=[0,0];a.extentContainsCoords2D=b;a.extentContainsCoords3D=function(f,g){return c(f,g[0],g[1],g[2])};a.extentContainsExtent=function(f,g){const {xmin:k,ymin:l,zmin:w,xmax:q,ymax:m,zmax:h}=g;return f.hasZ&&g.hasZ?c(f,k,l,w)&&c(f,k,m,w)&&c(f,q,m,w)&&c(f,q,l,w)&&c(f,k,l,h)&&c(f,k,m,h)&&c(f,q,m,h)&&c(f,q,l,h):c(f,k,l)&&c(f,k,m)&&c(f,q,m)&&c(f,q,l)};a.extentContainsMultipoint=function(f,g){if(!g.points||g.points.length)return!1;for(const k of g.points)if(!b(f,k))return!1;return!0};a.extentContainsPoint=
function(f,g){return null!=g?c(f,g.x,g.y,g.z):!1};a.extentContainsXYZ=c;a.polygonContainsCoords=e;a.polygonContainsPoint=function(f,g){n[1]=g.y;n[0]=g.x;return e(f,n)};a.ringsContainsCoords=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function c(u,r){return b.extentContainsPoint(u,r)}function e(u,r){var z=u.hasZ&&r.hasZ;if(u.xmin<=r.xmin){var v=r.xmin;if(u.xmax<v)return!1}else if(v=
u.xmin,r.xmax<v)return!1;if(u.ymin<=r.ymin){if(v=r.ymin,u.ymax<v)return!1}else if(v=u.ymin,r.ymax<v)return!1;if(z&&r.hasZ)if(u.zmin<=r.zmin){if(z=r.zmin,u.zmax<z)return!1}else if(z=u.zmin,r.zmax<z)return!1;return!0}function d(u,r){const {points:z,hasZ:v}=r;r=v?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const x of z)if(r(u,x))return!0;return!1}function p(u,r){return n(u,r.rings)}function n(u,r){l[0]=u.xmin;l[1]=u.ymax;w[0]=u.xmax;w[1]=u.ymax;q[0]=u.xmin;q[1]=u.ymin;m[0]=u.xmax;m[1]=u.ymin;
for(var z of h)if(b.ringsContainsCoords(r,z))return!0;for(const v of r)if(v.length){r=v[0];if(b.extentContainsCoords2D(u,r))return!0;for(z=1;z<v.length;z++){const x=v[z];if(b.extentContainsCoords2D(u,x)||g(r,x,t))return!0;r=x}}return!1}function f(u,r){l[0]=u.xmin;l[1]=u.ymax;w[0]=u.xmax;w[1]=u.ymax;q[0]=u.xmin;q[1]=u.ymin;m[0]=u.xmax;m[1]=u.ymin;r=r.paths;for(const z of r){if(!r.length)continue;let v=z[0];if(b.extentContainsCoords2D(u,v))return!0;for(let x=1;x<z.length;x++){const B=z[x];if(b.extentContainsCoords2D(u,
B)||g(v,B,t))return!0;v=B}}return!1}function g(u,r,z){for(let v=0;v<z.length;v++)if(k(u,r,z[v][0],z[v][1]))return!0;return!1}function k(u,r,z,v,x){const [B,A]=u,[C,H]=r,[N,I]=z,[E,G]=v;var L=E-N;u=B-N;r=C-B;const R=G-I;z=A-I;v=H-A;const F=R*r-L*v;if(0===F)return!1;L=(L*z-R*u)/F;u=(r*z-v*u)/F;return 0<=L&&1>=L&&0<=u&&1>=u?(x&&(x[0]=B+L*(C-B),x[1]=A+L*(H-A)),!0):!1}const l=[0,0],w=[0,0],q=[0,0],m=[0,0],h=[l,w,q,m],t=[[q,l],[l,w],[w,m],[m,q]],y=[0,0];a.extentIntersectsExtent=e;a.extentIntersectsMultipoint=
d;a.extentIntersectsPoint=c;a.extentIntersectsPolygon=p;a.extentIntersectsPolyline=f;a.getFeatureExtentIntersector=function(u){switch(u){case "esriGeometryEnvelope":case "extent":return e;case "esriGeometryMultipoint":case "multipoint":return d;case "esriGeometryPoint":case "point":return c;case "esriGeometryPolygon":case "polygon":return p;case "esriGeometryPolyline":case "polyline":return f}};a.isSelfIntersecting=function(u){for(let H=0;H<u.length;H++){const N=u[H];for(var r=0;r<N.length-1;r++){var z=
N[r],v=N[r+1];for(var x=H+1;x<u.length;x++)for(var B=0;B<u[x].length-1;B++){var A=u[x][B],C=u[x][B+1];if(k(z,v,A,C,y)&&!(y[0]===z[0]&&y[1]===z[1]||y[0]===A[0]&&y[1]===A[1]||y[0]===v[0]&&y[1]===v[1]||y[0]===C[0]&&y[1]===C[1]))return!0}}r=N.length;if(!(4>=r))for(z=0;z<r-3;z++)for(v=r-1,0===z&&(v=r-2),x=N[z],B=N[z+1],A=z+2;A<v;A++){C=N[A];const I=N[A+1];if(k(x,B,C,I,y)&&!(y[0]===x[0]&&y[1]===x[1]||y[0]===C[0]&&y[1]===C[1]||y[0]===B[0]&&y[1]===B[1]||y[0]===I[0]&&y[1]===I[1]))return!0}}return!1};a.segmentIntersects=
k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/locale":function(){define(["exports","../core/handleUtils"],function(a,b){function c(){return g??globalThis.navigator?.language??"en"}function e(){void 0===f&&(f=c());return f}function d(q=e()){return/^([a-zA-Z]{2,3})(?:[_-]\w+)*$/.exec(q)?.[1].toLowerCase()}function p(){const q=n??c();f!==q&&([...w].forEach(m=>m(q)),f=q,[...l].forEach(m=>m(q)))}let n=void 0,f=void 0;const g=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,
k={he:!0,ar:!0},l=[],w=[];globalThis.addEventListener?.("languagechange",p);a.beforeLocaleChange=function(q){w.push(q);return b.makeHandle(()=>w.splice(w.indexOf(q),1))};a.getDefaultLocale=c;a.getLanguage=d;a.getLocale=e;a.onLocaleChange=function(q){l.push(q);return b.makeHandle(()=>l.splice(l.indexOf(q),1))};a.prefersRTL=function(q=e()){q=d(q);return void 0!==q&&(k[q]||!1)};a.setLocale=function(q){n=q||void 0;p()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/portalDefault":function(){define(["exports"],
function(a){let b;a.clearDefaultPortalInstance=function(){b=void 0};a.ensureDefaultPortalInstance=function(c){if(!b||b.destroyed)b=c();return b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalGroup":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),function(a,
b,c,e,d,p,n,f,g){var k;c=k=class extends c.JSONSupport{constructor(l){super(l);this.id=this.description=this.created=this.access=null;this.isInvitationOnly=!1;this.title=this.tags=this.sourceJSON=this.sortOrder=this.sortField=this.snippet=this.portal=this.owner=this.modified=null}get thumbnailUrl(){const l=this.url,w=this.thumbnail;return l&&w&&this.portal?this.portal?.normalizeUrl(`${l}/info/${w}?f=json`):null}get url(){const l=this.portal?.restUrl;return l?l+"/community/groups/"+this.id:null}fetchCategorySchema(l){return this.portal.request(this.url+
"/categorySchema",l).then(w=>{w=w.categorySchema||[];return w.some(q=>"contentCategorySetsGroupQuery.LivingAtlas"===q.source)?this._fetchCategorySchemaSet("LivingAtlas",l):w})}fetchMembers(l){return this.portal.request(this.url+"/users",l)}getThumbnailUrl(l){let w=this.thumbnailUrl;w&&l&&(w+=`&w=${l}`);return w}toJSON(){throw new b("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");}static fromJSON(l){if(!l)return null;if(l.declaredClass)throw Error("JSON object is already hydrated");
const w=new k({sourceJSON:l});w.read(l);return w}queryItems(l,w){l=d.ensureType(g,l);const q=this.portal;if(5<parseFloat(q.currentVersion))return l=l||new g,q.queryPortal(`/content/groups/${this.id}/search`,l,"PortalItem",w);l=l?l.clone():new g;l.query="group:"+this.id+(l.query?" "+l.query:"");return q.queryItems(l,w)}_fetchCategorySchemaSet(l,w){const q=this.portal;return q.fetchSelf(q.authMode,!0,w).then(m=>{if(m=m.contentCategorySetsGroupQuery)return m=new g({disableExtraQuery:!0,num:1,query:m}),
q.queryGroups(m,w);throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(m=>{if(m.total){m=m.results[0];const h=new g({num:1,query:`typekeywords:"${l}"`});return m.queryItems(h,w)}throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(m=>m.total?m.results[0].fetchData("json",w).then(h=>{h=h?.categorySchema;return h?.length?h:[]}):[])}};a.__decorate([e.property()],c.prototype,"access",void 0);a.__decorate([e.property({type:Date})],
c.prototype,"created",void 0);a.__decorate([e.property()],c.prototype,"description",void 0);a.__decorate([e.property()],c.prototype,"id",void 0);a.__decorate([e.property()],c.prototype,"isInvitationOnly",void 0);a.__decorate([e.property({type:Date})],c.prototype,"modified",void 0);a.__decorate([e.property()],c.prototype,"owner",void 0);a.__decorate([e.property()],c.prototype,"portal",void 0);a.__decorate([e.property()],c.prototype,"snippet",void 0);a.__decorate([e.property()],c.prototype,"sortField",
void 0);a.__decorate([e.property()],c.prototype,"sortOrder",void 0);a.__decorate([e.property()],c.prototype,"sourceJSON",void 0);a.__decorate([e.property()],c.prototype,"tags",void 0);a.__decorate([e.property()],c.prototype,"thumbnail",void 0);a.__decorate([e.property({readOnly:!0})],c.prototype,"thumbnailUrl",null);a.__decorate([e.property()],c.prototype,"title",void 0);a.__decorate([e.property({readOnly:!0})],c.prototype,"url",null);return c=k=a.__decorate([f.subclass("esri.portal.PortalGroup")],
c)})},"esri/portal/PortalQueryParams":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(a,b,c,e,d,p,n,f,g,k,l){var w;const q=new c.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});b=w=class extends b{constructor(m){super(m);
this.categories=null;this.disableExtraQuery=!1;this.filter=this.extent=null;this.num=10;this.sortField=this.query=null;this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(m){"asc"!==m&&"desc"!==m||this._set("sortOrder",m)}clone(){return new w({categories:this.categories?e.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,
start:this.start})}toRequestOptions(m,h){let t=[];this.categories&&(t=this.categories.map(r=>Array.isArray(r)?JSON.stringify(r):r));let y="";if(this.extent){var u=l.project(this.extent,k.WGS84);null!=u&&(y=`${u.xmin},${u.ymin},${u.xmax},${u.ymax}`)}u=this.query;!this.disableExtraQuery&&m.extraQuery&&(u="("+u+")"+m.extraQuery);m={categories:t,bbox:y,q:u,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(m.sortField=this.sortField.split(",").map(r=>q.toJSON(r.trim())).join(","),
m.sortOrder=this.sortOrder);return{query:{...h,...m}}}};a.__decorate([d.property()],b.prototype,"categories",void 0);a.__decorate([d.property()],b.prototype,"disableExtraQuery",void 0);a.__decorate([d.property({type:g})],b.prototype,"extent",void 0);a.__decorate([d.property()],b.prototype,"filter",void 0);a.__decorate([d.property()],b.prototype,"num",void 0);a.__decorate([d.property()],b.prototype,"query",void 0);a.__decorate([d.property()],b.prototype,"sortField",void 0);a.__decorate([d.property()],
b.prototype,"sortOrder",null);a.__decorate([d.property()],b.prototype,"start",void 0);return b=w=a.__decorate([f.subclass("esri.portal.PortalQueryParams")],b)})},"esri/portal/PortalQueryResult":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){b=class extends b{constructor(f){super(f);this.total=this.results=this.queryParams=
this.nextQueryParams=null}};a.__decorate([c.property()],b.prototype,"nextQueryParams",void 0);a.__decorate([c.property()],b.prototype,"queryParams",void 0);a.__decorate([c.property()],b.prototype,"results",void 0);a.__decorate([c.property()],b.prototype,"total",void 0);return b=a.__decorate([n.subclass("esri.portal.PortalQueryResult")],b)})},"esri/portal/PortalUser":function(){define("require ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){var w;e=w=class extends e.JSONSupport{constructor(q){super(q);this.userType=this.userLicenseTypeId=this.username=this.units=this.sourceJSON=this.roleId=this.role=this.region=this.privileges=this.preferredView=this.portal=this.orgId=this.modified=this.fullName=this.email=this.description=this.culture=this.created=this.access=null}get thumbnailUrl(){const q=this.url,m=this.thumbnail;return q&&m?this.portal.normalizeUrl(`${q}/info/${m}?f=json`):null}get userContentUrl(){const q=
this.portal?.restUrl;return q?`${q}/content/users/${this.username}`:null}get url(){const q=this.portal?.restUrl;return q?`${q}/community/users/${this.username}`:null}addItem(q){const m=q&&q.item;var h=q?.data;q=q?.folder;const t={method:"post"};m&&(t.query=m.createPostQuery(),null!=h&&("string"===typeof h?t.query.text=h:"object"===typeof h&&(t.query.text=JSON.stringify(h))));h=this.userContentUrl;q&&(h+="/"+("string"===typeof q?q:q.id));return this.portal.request(h+"/addItem",t).then(y=>{m.id=y.id;
m.portal=this.portal;return m.loaded?m.reload():m.load()})}async deleteItem(q,m=!1){let h=this.userContentUrl;q.ownerFolder&&(h+="/"+q.ownerFolder);await this.portal.request(h+`/items/${q.id}/delete`,{method:"post",query:m?{permanentDelete:!0}:{}});q.id=null;q.portal=null}async deleteItems(q,m=!1){q=q.concat();var h=this.userContentUrl+"/deleteItems";const t=[];var y=q.map(u=>u.id);if(y.length){m={method:"post",query:{items:y.join(","),permanentDelete:m}};h=await this.portal.request(h,m);for(const u of h.results)h=
q.find(r=>u.itemId===r.id),m=u.success,y=null,m?(h.id=null,h.portal=null):u.error&&(y=new c("portal:delete-item-failed",u.error.message,u.error)),t.push({item:h,success:m,error:y})}return t}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(q=>q&&q.folders?q.folders.map(m=>{m=k.fromJSON(m);m.portal=this.portal;return m}):[])}fetchGroups(){return this.portal.request(this.url??"").then(q=>q&&q.groups?q.groups.map(m=>{m=l.fromJSON(m);m.portal=this.portal;return m}):
[])}async fetchItems(q){q??={};var m=this.userContentUrl??"";q.folder&&(m+="/"+q.folder.id);const {default:h}=await new Promise((t,y)=>a(["./PortalItem"],u=>t(Object.freeze(Object.defineProperty({__proto__:null,default:u},Symbol.toStringTag,{value:"Module"}))),y));q=await this.portal.request(m,{query:{folders:!1,inRecycleBin:q.inRecycleBin?!0:null,foldersContent:!q.folder&&q.includeSubfolderItems?!0:null,num:q.num||10,start:q.start||1,sortField:q.sortField||"created",sortOrder:q.sortOrder||"asc"}});
return q?.items?(m=q.items.map(t=>{t=h.fromJSON(t);t.portal=this.portal;return t}),await Promise.all(m.map(t=>t.load())),{items:m,nextStart:q.nextStart,total:q.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(q=>q.tags)}getThumbnailUrl(q){let m=this.thumbnailUrl;m&&q&&(m+=`&w=${q}`);return m}queryFavorites(q){return this.favGroupId?(this._favGroup||(this._favGroup=new l({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(q)):Promise.reject(new c("internal:unknown",
"Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(q,m){await this.portal.request(this.userContentUrl+`/items/${q.id}/restore`,{method:"post",query:m?{folderID:"string"===typeof m?m:m.id}:null})}toJSON(){throw new c("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented");}static fromJSON(q){if(!q)return null;if(q.declaredClass)throw Error("JSON object is already hydrated");const m=new w({sourceJSON:q});m.read(q);return m}};b.__decorate([d.property()],
e.prototype,"access",void 0);b.__decorate([d.property({type:Date})],e.prototype,"created",void 0);b.__decorate([d.property()],e.prototype,"culture",void 0);b.__decorate([d.property()],e.prototype,"description",void 0);b.__decorate([d.property()],e.prototype,"email",void 0);b.__decorate([d.property()],e.prototype,"favGroupId",void 0);b.__decorate([d.property()],e.prototype,"fullName",void 0);b.__decorate([d.property({type:Date})],e.prototype,"modified",void 0);b.__decorate([d.property()],e.prototype,
"orgId",void 0);b.__decorate([d.property()],e.prototype,"portal",void 0);b.__decorate([d.property()],e.prototype,"preferredView",void 0);b.__decorate([d.property()],e.prototype,"privileges",void 0);b.__decorate([d.property()],e.prototype,"region",void 0);b.__decorate([d.property()],e.prototype,"role",void 0);b.__decorate([d.property()],e.prototype,"roleId",void 0);b.__decorate([d.property()],e.prototype,"sourceJSON",void 0);b.__decorate([d.property()],e.prototype,"thumbnail",void 0);b.__decorate([d.property({readOnly:!0})],
e.prototype,"thumbnailUrl",null);b.__decorate([d.property()],e.prototype,"units",void 0);b.__decorate([d.property({readOnly:!0})],e.prototype,"userContentUrl",null);b.__decorate([d.property({readOnly:!0})],e.prototype,"url",null);b.__decorate([d.property()],e.prototype,"username",void 0);b.__decorate([d.property()],e.prototype,"userLicenseTypeId",void 0);b.__decorate([d.property()],e.prototype,"userType",void 0);return e=w=b.__decorate([g.subclass("esri.portal.PortalUser")],e)})},"esri/portal/PortalFolder":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){c=class extends c.JSONSupport{constructor(g){super(g);this.username=this.title=this.portal=this.id=this.created=null}get url(){const g=this.portal?.restUrl;return g?`${g}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new b("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");}};a.__decorate([e.property({type:Date})],c.prototype,"created",void 0);a.__decorate([e.property()],c.prototype,"id",void 0);a.__decorate([e.property()],c.prototype,
"portal",void 0);a.__decorate([e.property()],c.prototype,"title",void 0);a.__decorate([e.property({readOnly:!0})],c.prototype,"url",null);a.__decorate([e.property()],c.prototype,"username",void 0);return c=a.__decorate([f.subclass("esri.portal.PortalFolder")],c)})},"esri/portal/PortalItem":function(){define("require ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating ../chunks/persistableUrlUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y){var u;const r=new Set("3DTiles Service;CSV;Feature Collection;Feature Service;Feed;GeoJson;Group Layer;Image Service;KML;Map Service;Media Layer;Scene Service;Stream Service;Vector Tile Service;WFS;WMS;WMTS".split(";")),z=new Set(["KML","GeoJson","CSV"]);d=u=class extends d.JSONSupportMixin(n){static from(v){return k.ensureClass(u,v)}constructor(v){super(v);this.id=this.groupCategories=this.extent=this.description=this.culture=this.created=this.categories=
this.avgRating=this.applicationProxies=this.apiKey=this.accessInformation=this.access=null;this.isOrgItem=!1;this.url=this.typeKeywords=this.type=this.title=this.tags=this.spatialReference=this.sourceUrl=this.sourceJSON=this.snippet=this.size=this.screenshots=this.portal=this.ownerFolder=this.owner=this.numViews=this.numRatings=this.numComments=this.name=this.modified=this.licenseInfo=this.itemControl=null}destroy(){this.portal=null}get displayName(){const v=this.type,x=this.typeKeywords||[];let B=
v;"Feature Service"===v||"Feature Collection"===v?B=x.includes("Table")?"Table":x.includes("Route Layer")?"Route Layer":x.includes("Markup")?"Markup":"Feature Layer":"Image Service"===v?B=x.includes("Elevation 3D Layer")?"Elevation Layer":x.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===v?B="Scene Layer":"Video Service"===v?B="Video Layer":"Scene Package"===v?B="Scene Layer Package":"Stream Service"===v?B="Feature Layer":"Geoprocessing Service"===v?B=x.includes("Web Tool")?
"Tool":"Geoprocessing Service":"Geoenrichment Service"===v?B="GeoEnrichment Service":"Geocoding Service"===v?B="Locator":"Microsoft Powerpoint"===v?B="Microsoft PowerPoint":"GeoJson"===v?B="GeoJSON":"Globe Service"===v?B="Globe Layer":"Vector Tile Service"===v?B="Tile Layer":"netCDF"===v?B="NetCDF":"Map Service"===v?B=x.includes("Spatiotemporal")||!x.includes("Hosted Service")&&!x.includes("Tiled")||x.includes("Relational")?"Map Image Layer":"Tile Layer":v?.toLowerCase().includes("add in")?B=v.replaceAll(/(add in)/gi,
"Add-In"):"datastore catalog service"===v?B="Big Data File Share":"Compact Tile Package"===v?B="Tile Package (tpkx)":"Raster function template"===v?B="Raster Function Template":"OGCFeatureServer"===v?B="OGC Feature Layer":"web mapping application"===v&&x.includes("configurableApp")?B="Instant App":"Insights Page"===v?B="Insights Report":"Excalibur Imagery Project"===v?B="Excalibur Project":"3DTiles Service"===v?B="3D tiles layer":"3DTiles Package"===v&&(B="3D tiles package");return B}readExtent(v){return v&&
v.length?new q(v[0][0],v[0][1],v[1][0],v[1][1]):null}get iconUrl(){var v=this.type?.toLowerCase()||"";const x=this.typeKeywords||[];var B=!1,A=!1;let C=!1,H=!1,N=!1,I=!1;B=A=!1;0<v.indexOf("service")||"feature collection"===v||"kml"===v||"wms"===v||"wmts"===v||"wfs"===v?(B=x.includes("Hosted Service"),"feature service"===v||"feature collection"===v||"kml"===v||"wfs"===v?(A=x.includes("Table"),C=x.includes("Route Layer"),H=x.includes("Markup"),N=x.includes("Spatiotemporal"),I=x.includes("UtilityNetwork"),
v=N&&A?"spatiotemporaltable":A?"table":C?"routelayer":H?"markup":N?"spatiotemporal":I?"utilitynetwork":B?"featureshosted":"features"):"map service"===v||"wms"===v||"wmts"===v?(N=x.includes("Spatiotemporal"),A=x.includes("Relational"),v=N||A?"mapimages":B||x.includes("Tiled")||"wmts"===v?"maptiles":"mapimages"):v="scene service"===v?x.includes("Line")?"sceneweblayerline":x.includes("3DObject")?"sceneweblayermultipatch":x.includes("Point")?"sceneweblayerpoint":x.includes("IntegratedMesh")?"sceneweblayermesh":
x.includes("PointCloud")?"sceneweblayerpointcloud":x.includes("Polygon")?"sceneweblayerpolygon":x.includes("Building")?"sceneweblayerbuilding":x.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===v?x.includes("Elevation 3D Layer")?"elevationlayer":x.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===v?"streamlayer":"vector tile service"===v?"vectortile":"datastore catalog service"===v?"datastorecollection":"geocoding service"===v?"geocodeservice":"video service"===
v?x.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===v?x.includes("Web Tool")?"tool":"layers":"geodata service"===v?"geodataservice":"3dtiles service"===v?x.includes("3DObject")?"3dobjecttileslayer":x.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):v="web map"===v||"cityengine web scene"===v?"maps":"web scene"===v?x.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===v&&x.includes("configurableApp")?
"instantapps":"web mapping application"===v||"mobile application"===v||"application"===v||"operation view"===v||"desktop application"===v?"apps":"map document"===v||"map package"===v||"published map"===v||"scene document"===v||"globe document"===v||"basemap package"===v||"mobile basemap package"===v||"mobile map package"===v||"project package"===v||"project template"===v||"pro map"===v||"layout"===v||"layer"===v&&x.includes("ArcGIS Pro")||"explorer map"===v&&x.indexOf("Explorer Document")?"mapsgray":
"service definition"===v||"shapefile"===v||"cad drawing"===v||"geojson"===v||"netcdf"===v||"administrative report"===v?"datafiles":"360 vr experience"===v?"360vr":"explorer add in"===v||"desktop add in"===v||"windows viewer add in"===v||"windows viewer configuration"===v?"appsgray":"arcgis pro add in"===v||"arcgis pro configuration"===v?"addindesktop":"pdf"===v?"pdf":"microsoft word"===v?"word":"microsoft excel"===v?"excel":"microsoft powerpoint"===v?"ppt":"rule package"===v||"file geodatabase"===
v||"sqlite geodatabase"===v||"csv collection"===v||"kml collection"===v||"windows mobile package"===v||"map template"===v||"desktop application template"===v||"gml"===v||"arcpad package"===v||"code sample"===v||"document link"===v||"earth configuration"===v||"operations dashboard add in"===v||"rules package"===v||"workflow manager package"===v||"explorer map"===v&&x.includes("Explorer Mapping Application")||x.includes("Document")?"datafilesgray":"network analysis service"===v||"geoprocessing service"===
v||"geodata service"===v||"geometry service"===v||"geoprocessing package"===v||"locator package"===v||"geoprocessing sample"===v||"workflow manager service"===v?"toolsgray":"layer"===v||"layer package"===v||"explorer layer"===v?"layersgray":"analysis model"===v?"analysismodel":"scene package"===v?"scenepackage":"3dtiles package"===v?"3dtileslayerpackage":"3dtiles service"===v?"3dtileslayer":"mobile scene package"===v?"mobilescenepackage":"tile package"===v||"compact tile package"===v?"tilepackage":
"task file"===v?"taskfile":"report template"===v?"report-template":"statistical data collection"===v?"statisticaldatacollection":"insights workbook"===v?"workbook":"insights model"===v?"insightsmodel":"insights page"===v?"insightspage":"insights theme"===v?"insightstheme":"hub initiative"===v?"hubinitiative":"hub page"===v?"hubpage":"hub site application"===v?"hubsite":"hub event"===v?"hubevent":"hub project"===v?"hubproject":"relational database connection"===v?"relationaldatabaseconnection":"big data file share"===
v?"datastorecollection":"image collection"===v?"imagecollection":"desktop style"===v?"desktopstyle":"style"===v?x.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===v?"dashboard":"raster function template"===v?"rasterprocessingtemplate":"vector tile package"===v?"vectortilepackage":"ortho mapping project"===v?"orthomappingproject":"ortho mapping template"===v?"orthomappingtemplate":"solution"===v?"solutions":"geopackage"===v?"geopackage":"deep learning package"===v?"deeplearningpackage":
"real time analytic"===v?"realtimeanalytics":"big data analytic"===v?"bigdataanalytics":"feed"===v?"feed":"excalibur imagery project"===v?"excaliburimageryproject":"notebook"===v?"notebook":"storymap"===v?"storymap":"survey123 add in"===v?"survey123addin":"mission"===v?"mission":"mission report"===v?"missionreport":"mission template"===v?"missiontemplate":"quickcapture project"===v?"quickcaptureproject":"pro report"===v?"proreport":"pro report template"===v?"proreporttemplate":"urban model"===v?"urbanmodel":
"web experience"===v?"experiencebuilder":"web experience template"===v?"webexperiencetemplate":"experience builder widget"===v?"experiencebuilderwidget":"experience builder widget package"===v?"experiencebuilderwidgetpackage":"workflow"===v?"workflow":"kernel gateway connection"===v?"kernelgatewayconnection":"insights script"===v?"insightsscript":"hub initiative template"===v?"hubinitiativetemplate":"storymap theme"===v?"storymaptheme":"knowledge graph"===v?"knowledgegraph":"knowledge graph layer"===
v?"knowledgegraphlayer":"knowledge studio project"===v?"knowledgestudio":"native application"===v?"nativeapp":"native application installer"===v?"nativeappinstaller":"web link chart"===v?"linkchart":"knowledge graph web investigation"===v?"investigation":"ogcfeatureserver"===v?"features":"pro project"===v?"proproject":"insights workbook package"===v?"insightsworkbookpackage":"apache parquet"===v?"apacheparquet":"notebook code snippet library"===v?"notebookcodesnippets":"suitability model"===v?"suitabilitymodel":
"esri classifier definition"===v?"classifierdefinition":"esri classification schema"===v?"classificationschema":"insights data engineering workbook"===v?"dataengineeringworkbook":"insights data engineering model"===v?"dataengineeringmodel":"deep learning studio project"===v?"deeplearningproject":"discussion"===v?"discussion":"allsource project"===v?"allsourceproject":"api key"===v?"apikey":"data pipeline"===v?"datapipelines":"group layer"===v?(B=x.includes("Map"))?"layergroup2d":"layergroup":"media layer"===
v?"onlinemedialayer":"form"===v?x.includes("Survey123")?"survey":"datafilesgray":"csv"===v?"csv":"image"===v?"image":"maps";return v?c.getAssetUrl("esri/images/portal/"+v+"16.png"):null}get isLayer(){return null!=this.type&&r.has(this.type)}get itemCdnUrl(){return y.toCDNUrl(this.itemUrl)}get itemPageUrl(){const v=this.portal?.itemPageUrl;return v&&this.id?`${v}?id=${this.id}`:null}get itemUrl(){const v=this.portal?.restUrl;return v&&this.id?`${v}/content/items/${this.id}`:null}get thumbnailUrl(){const v=
this.itemUrl,x=this.thumbnail;return v&&x?this.portal?.normalizeUrl(`${v}/info/${x}?f=json`)??null:null}get userItemUrl(){const v=this.portal?.restUrl;if(!v)return null;const x=this.owner||this.portal?.user?.username;return x?`${v}/content/users/${this.ownerFolder?`${x}/${this.ownerFolder}`:x}/items/${this.id}`:null}load(v){const x=this.portal??(this.portal=m.getDefault()),B=x.load(v).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?x.request(this.itemUrl,{signal:null!=v?v.signal:null,
query:{token:this.apiKey}}):{}).then(A=>{this.sourceJSON=A;this.read(A)});this.addResolvingPromise(B);return Promise.resolve(this)}async addRating(v){const x={method:"post",query:{}};v instanceof t&&(v=v.rating);null==v||isNaN(v)||"number"!==typeof v||(x.query.rating=v);if(!this.portal)return null;await this.portal.request(this.itemUrl+"/addRating",x);return new t({rating:v,created:new Date})}clone(){var v={access:this.access,accessInformation:this.accessInformation,applicationProxies:p.clone(this.applicationProxies),
avgRating:this.avgRating,categories:p.clone(this.categories),created:p.clone(this.created),culture:this.culture,description:this.description,extent:p.clone(this.extent),groupCategories:p.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:p.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:p.clone(this.screenshots),
size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:p.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:p.clone(this.typeKeywords),url:this.url};this.loaded&&(v.loadStatus="loaded");v=(new u({sourceJSON:this.sourceJSON})).set(v);v._set("isOrgItem",this.isOrgItem);return v}createPostQuery(){const v=this.toJSON();for(var x of["tags","typeKeywords","categories"])v[x]=v[x]?.join(", ");({extent:x}=v);x&&(v.extent=
JSON.stringify(x));return v}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(v="json",x){return this.portal.request(this.itemUrl+"/data",{responseType:v,...x,query:{token:this.apiKey}})}async fetchRating(v){v=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...v});return null!=v.rating?(v.created=new Date(v.created),new t(v)):null}fetchRelatedItems(v,x){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",
{query:{...v,token:this.apiKey},...x},u)}getThumbnailUrl(v){let x=this.thumbnailUrl;x&&v&&(x+=`&w=${v}`);return x}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(v=>{this.sourceJSON=v;this.read(v);return this})}update(v){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const x=v?.data,B={method:"post"};B.query=this.createPostQuery();for(const A in B.query)null===B.query[A]&&(B.query[A]="");B.query.clearEmptyFields=!0;null!=x&&
("string"===typeof x?B.query.text=x:"object"===typeof x&&(B.query.text=JSON.stringify(x)));return this.portal.request(`${this.userItemUrl}/update`,B).then(()=>this.reload())}):Promise.reject(new e("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(v){if(!this.id)throw new e("portal:item-does-not-exist","The item does not exist yet");await this.load();const {portal:x,itemUrl:B}=this;await x.signIn();const {copyResources:A,folder:C,tags:H,title:N}=v||{};v=
{method:"post",query:{copyPrivateResources:"all"===A,folder:"string"===typeof C?C:C?.id,includeResources:!!A,tags:H?.join(","),title:N}};({itemId:v}=await x.request(`${B}/copy`,v));return new u({id:v,portal:x})}updateThumbnail(v){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const x=v.thumbnail,B=v.filename,A={method:"post"};if("string"===typeof x)f.isDataProtocol(x)?A.query={data:x}:A.query={url:f.makeAbsolute(x)},null!=B&&(A.query.filename=B);else{const C=new FormData;null!=
B?C.append("file",x,B):C.append("file",x);A.body=C}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,A).then(()=>this.reload())}):Promise.reject(new e("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(v={},x){const {fetchResources:B}=await new Promise((A,C)=>a(["./support/resourceUtils"],A,C));return B(this,v,x)}async addResource(v,x,B){const {addOrUpdateResources:A}=await new Promise((C,H)=>a(["./support/resourceUtils"],C,H));v.portalItem=
this;await A(this,[{resource:v,content:x,compress:B?.compress,access:B?.access}],"add",B);return v}async removeResource(v,x){const {removeResource:B}=await new Promise((A,C)=>a(["./support/resourceUtils"],A,C));if(v.portalItem&&v.portalItem.itemUrl!==this.itemUrl)throw new e("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return B(this,v,x)}async removeAllResources(v){const {removeAllResources:x}=await new Promise((B,A)=>a(["./support/resourceUtils"],
B,A));return x(this,v)}resourceFromPath(v){return new h({portalItem:this,path:v})}toJSON(){var v=this.extent;v={accessInformation:this.accessInformation,categories:p.clone(this.categories),created:this.created?.getTime(),description:this.description,extent:v&&[[v.xmin,v.ymin],[v.xmax,v.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,
tags:p.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:p.clone(this.typeKeywords),url:this.url};return p.fixJson(v)}static fromJSON(v){if(!v)return null;if(v.declaredClass)throw Error("JSON object is already hydrated");return new u({sourceJSON:v})}_getPostQuery(){const v=this.toJSON();for(const x in v)"tags"===x&&null!==v[x]&&(v[x]=v[x].join(", ")),"typeKeywords"===x&&null!==v[x]&&(v[x]=v[x].join(", ")),"extent"===x&&v[x]&&(v[x]=JSON.stringify(v[x]));return v}};
b.__decorate([g.property({type:["private","shared","org","public"]})],d.prototype,"access",void 0);b.__decorate([g.property()],d.prototype,"accessInformation",void 0);b.__decorate([g.property({type:String})],d.prototype,"apiKey",void 0);b.__decorate([g.property({json:{read:{source:"appProxies"}}})],d.prototype,"applicationProxies",void 0);b.__decorate([g.property()],d.prototype,"avgRating",void 0);b.__decorate([g.property()],d.prototype,"categories",void 0);b.__decorate([g.property({type:Date})],
d.prototype,"created",void 0);b.__decorate([g.property()],d.prototype,"culture",void 0);b.__decorate([g.property()],d.prototype,"description",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"displayName",null);b.__decorate([g.property({type:q})],d.prototype,"extent",void 0);b.__decorate([l.reader("extent")],d.prototype,"readExtent",null);b.__decorate([g.property()],d.prototype,"groupCategories",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"iconUrl",null);b.__decorate([g.property()],
d.prototype,"id",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"isLayer",null);b.__decorate([g.property({type:Boolean,readOnly:!0})],d.prototype,"isOrgItem",void 0);b.__decorate([g.property()],d.prototype,"itemControl",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"itemPageUrl",null);b.__decorate([g.property({readOnly:!0})],d.prototype,"itemUrl",null);b.__decorate([g.property()],d.prototype,"licenseInfo",void 0);b.__decorate([g.property({type:Date})],d.prototype,"modified",
void 0);b.__decorate([g.property()],d.prototype,"name",void 0);b.__decorate([g.property()],d.prototype,"numComments",void 0);b.__decorate([g.property()],d.prototype,"numRatings",void 0);b.__decorate([g.property()],d.prototype,"numViews",void 0);b.__decorate([g.property()],d.prototype,"owner",void 0);b.__decorate([g.property()],d.prototype,"ownerFolder",void 0);b.__decorate([g.property({type:m})],d.prototype,"portal",void 0);b.__decorate([g.property()],d.prototype,"screenshots",void 0);b.__decorate([g.property()],
d.prototype,"size",void 0);b.__decorate([g.property()],d.prototype,"snippet",void 0);b.__decorate([g.property()],d.prototype,"sourceJSON",void 0);b.__decorate([g.property({type:String})],d.prototype,"sourceUrl",void 0);b.__decorate([g.property({type:String})],d.prototype,"spatialReference",void 0);b.__decorate([g.property()],d.prototype,"tags",void 0);b.__decorate([g.property()],d.prototype,"thumbnail",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"thumbnailUrl",null);b.__decorate([g.property()],
d.prototype,"title",void 0);b.__decorate([g.property()],d.prototype,"type",void 0);b.__decorate([g.property()],d.prototype,"typeKeywords",void 0);b.__decorate([g.property({type:String,json:{read(v,x){z.has(x.type)&&(x=this.portal?.restUrl,v||=x&&this.id?`${x}/content/items/${this.id}/data`:null);return v}}})],d.prototype,"url",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"userItemUrl",null);return d=u=b.__decorate([w.subclass("esri.portal.PortalItem")],d)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){function w(q,m){if(null==q)return q;q=q.replace(/^\/+/,"");null!=m&&p.isAbsolute(q)&&(q=p.makeRelative(q,m.itemUrl));return q?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")}c=class extends c{constructor(q){super(q);this.portalItem=null}normalizeCtorArgs(q){return q?.portalItem&&q.path?{...q,path:w(q.path,q.portalItem)}:q}set path(q){null!=q&&p.isAbsolute(q)?d.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):
this._set("path",q)}_castPath(q){return w(q,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(q="json",m){const h=this.cdnUrl;if(null==h)throw new e("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");
return this.portalItem.portal.request(h,{responseType:q,query:{token:this.portalItem.apiKey},signal:m?.signal})}async update(q,m){const {addOrUpdateResources:h}=await new Promise((t,y)=>a(["./support/resourceUtils"],t,y));await h(this.portalItem,[{resource:this,content:q,compress:m?.compress,access:m?.access}],"update",m);return this}hasPath(){return null!=this.path}};b.__decorate([n.property()],c.prototype,"portalItem",void 0);b.__decorate([n.property({type:String,value:null})],c.prototype,"path",
null);b.__decorate([f.cast("path")],c.prototype,"_castPath",null);b.__decorate([n.property({type:String,readOnly:!0})],c.prototype,"url",null);b.__decorate([n.property({type:String,readOnly:!0})],c.prototype,"cdnUrl",null);b.__decorate([n.property({type:String,readOnly:!0})],c.prototype,"itemRelativeUrl",null);return c=b.__decorate([l.subclass("esri.portal.PortalItemResource")],c)})},"esri/portal/PortalRating":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){b=class extends b{constructor(f){super(f);this.rating=this.created=null}};a.__decorate([c.property()],b.prototype,"created",void 0);a.__decorate([c.property()],b.prototype,"rating",void 0);return b=a.__decorate([n.subclass("esri.portal.PortalRating")],b)})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../kernel","../core/urlUtils","../portal/support/urlUtils"],function(a,b,c,e){function d(u,r){var z=r?.url?.path;u&&z&&(u=c.makeAbsolute(u,z,{preserveProtocolRelative:!0}),
r.portalItem&&r.readResourcePaths&&(z=c.makeRelative(u,r.portalItem.itemUrl),null!=z&&t.test(z)&&r.readResourcePaths.push(r.portalItem.resourceFromPath(z).path)));return(u=w(u,r?.portal))&&h.test(u)?q(u):u}function p(u,r,z=a.MarkKeep.YES){u=u&&h.test(u)?m(u):u;if(null==u)return u;!c.isAbsolute(u)&&r?.blockedRelativeUrls&&r.blockedRelativeUrls.push(u);let v=c.makeAbsolute(u);if(r){var x=r.verifyItemRelativeUrls?.rootPath||r.url?.path;if(x){x=w(x,r.portal);const B=w(v,r.portal);v=c.makeRelative(B,x,
x);null!=v&&v!==B&&v!==u&&r.verifyItemRelativeUrls&&r.verifyItemRelativeUrls.writtenUrls.push(v)}}v=l(v,r?.portal);c.isAbsolute(v)&&(v=c.normalize(v));r?.resources&&r?.portalItem&&!c.isAbsolute(v)&&!c.isDataProtocol(v)&&z===a.MarkKeep.YES&&r.resources.toKeep.push({resource:r.portalItem.resourceFromPath(v),compress:!1});return v}function n(u,r,z){return d(u,z)}function f(u,r,z,v){u=p(u,v);void 0!==u&&(r[z]=u)}function g(u){return(u?.match(h)??null)?.[1]??null}function k(u){u=u?.match(h)??null;if(null==
u)return null;u=u[2];const r=u.lastIndexOf("/");if(-1===r){const {path:x,extension:B}=c.splitPathExtension(u);return{prefix:null,filename:x,extension:B}}const {path:z,extension:v}=c.splitPathExtension(u.slice(r+1));return{prefix:u.slice(0,r),filename:z,extension:v}}function l(u,r){return r&&!r.isPortal&&r.urlKey&&r.customBaseUrl?c.changeDomain(u,`${r.urlKey}.${r.customBaseUrl}`,r.portalHostname):u}function w(u,r){if(!r||r.isPortal||!r.urlKey||!r.customBaseUrl)return u;const z=`${r.urlKey}.${r.customBaseUrl}`,
v=c.getAppUrl();return c.hasSameOrigin(v,`${v.scheme}://${z}`)?c.changeDomain(u,r.portalHostname,z):c.changeDomain(u,z,r.portalHostname)}function q(u){if(!u)return u||null;u&&b.id&&!b.id.findCredential(u)&&(u=e.normalizeArcGISOnlineOrgDomain(u),u=u.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),u=u.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),u=u.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com"));return u}function m(u){if(!u)return u||
null;u=u.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com");u=u.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com");(u=u.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"))&&b.id&&!b.id.findCredential(u)&&(u=e.normalizeArcGISOnlineOrgDomain(u));return u}const h=/\/items\/([^/]+)\/resources\/(.*)/,t=/^\.\/resources\//;a.MarkKeep=void 0;(function(u){u[u.YES=0]="YES";u[u.NO=1]="NO"})(a.MarkKeep||(a.MarkKeep={}));const y=Object.freeze(Object.defineProperty({__proto__:null,
get MarkKeep(){return a.MarkKeep},ensureMainOnlineDomain:l,fromCDNUrl:m,fromJSON:d,itemIdFromResourceUrl:g,prefixAndFilenameFromResourceUrl:k,read:n,toCDNUrl:q,toJSON:p,write:f},Symbol.toStringTag,{value:"Module"}));a.ensureMainOnlineDomain=l;a.fromCDNUrl=m;a.fromJSON=d;a.itemIdFromResourceUrl=g;a.persistableUrlUtils=y;a.prefixAndFilenameFromResourceUrl=k;a.read=n;a.toCDNUrl=q;a.toJSON=p;a.write=f})},"esri/support/basemapDefinitions":function(){define(["exports","../assets","../intl/messages"],function(a,
b,c){a.esriBasemapDefinitions={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/terrain.jpg")},
baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",
classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",
isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get "dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},
baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],
id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-vector.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},
"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",
classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",
styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",
layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",
layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},
{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",
title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",
itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},
{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",
title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},
"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",
layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",
title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",
title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",
title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},
"arcgis-topographic":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},
title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",
title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},
"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},
"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",
title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",
title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",
title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",
title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};a.getBasemapTitle=async function(e){if(e){var d=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):
e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,p=await c.fetchMessageBundle("esri/t9n/basemaps");return p[e]||p[d]}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/messages":function(){define(["exports","../core/Error","../core/handleUtils","../core/promiseUtils","./locale"],function(a,b,c,e,d){function p(h){for(const t of w.keys())f(h.pattern,t)&&w.delete(t)}async function n(h,t){const y=[];for(const u of l)if(f(u.pattern,h))try{return await u.fetchMessageBundle(h,t)}catch(r){y.push(r)}if(y.length)throw new b("intl:message-bundle-error",
`Errors occurred while loading "${h}"`,{errors:y});throw new b("intl:no-message-bundle-loader",`No loader found for message bundle "${h}"`);}function f(h,t){return"string"===typeof h?t.startsWith(h):h.test(t)}const g=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,k={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,
"zh-TW":!0},l=[],w=new Map;d.beforeLocaleChange(()=>{w.clear()});const q=new class{constructor(){this._numLoading=0;this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(h){this._increase();h.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()}_increase(){this._numLoading++;this._dfd||(this._dfd=e.createResolver())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}},m={cache:w,loaders:l};
a.fetchMessageBundle=async function(h){const t=d.getLocale();w.has(h)||w.set(h,n(h,t));(h=w.get(h))&&await q.add(h);return h};a.messageBundlesLocaleMap=k;a.normalizeMessageBundleLocale=function(h){if(!g.test(h))return null;h=g.exec(h);if(null===h)return null;const [,t,y]=h;h=t+(y?"-"+y.toUpperCase():"");return h in k?h:t in k?t:null};a.registerMessageBundleLoader=function(h){l.includes(h)||(p(h),l.unshift(h));return c.makeHandle(()=>{const t=l.indexOf(h);-1<t&&(l.splice(t,1),p(h))})};a.test=m;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/support/BasemapStyle":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../intl/locale".split(" "),function(a,b,c,e,d,p,n,f){const g=new Set("ar bs ca hr cs da nl en et fi fr de el he hu id it ja ko lv lt nb pl ro ru sr es sv th tr uk vi".split(" "));b=class extends b{constructor(k){super(k);this.places=this.language=
this.id=null;this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps";this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;var k=f.getLocale().toLowerCase();switch(k){case "pt-br":return"pt-BR";case "pt-pt":return"pt-PT";case "zh-cn":return"zh-CN";case "zh-hk":return"zh-HK";case "zh-tw":return"zh-TW"}k=f.getLanguage(k);return"pt"===k?"pt-BR":k&&g.has(k)?k:"global"}};a.__decorate([c.property()],b.prototype,"id",void 0);a.__decorate([c.property()],
b.prototype,"language",void 0);a.__decorate([c.property()],b.prototype,"places",void 0);a.__decorate([c.property()],b.prototype,"serviceUrl",void 0);a.__decorate([c.property()],b.prototype,"worldview",void 0);return b=a.__decorate([n.subclass("esri.support.BasemapStyle")],b)})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),function(a,
b,c,e,d,p){function n(k,l){"maxScale"in k&&(l.maxScale=d.numberToJSON(k.maxScale)??void 0);"minScale"in k&&(l.minScale=d.numberToJSON(k.minScale)??void 0)}const f=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),g=new Set("catalog csv feature geo-rss geojson group imagery imagery-tile kml knowledge-graph map-image map-notes media ogc-feature oriented-imagery route stream subtype-group tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));
a.disableRestrictedWriting=function(k){f.add(k);g.add(k)};a.enableRestrictedWriting=function(k){f.delete(k);g.delete(k)};a.getLayerJSON=function(k,l,w){if(!k.persistenceEnabled)return null;if(!("write"in k&&k.write))return w?.messages&&w.messages.push(new b("layer:unsupported",`Layers (${k.title}, ${k.id}) of type '${k.declaredClass}' cannot be persisted`,{layer:k})),null;if(p.isFeatureCollectionLayer(k)&&!k.isTable)l=k.resourceInfo;else{if(w.restrictedWebMapWriting){var q="basemap"===w.layerContainerType?
f:"operational-layers"===w.layerContainerType?g:null;q=null!=q?q.has(k.type)&&!p.isFeatureCollectionLayer(k):!0}else q=!0;if(q)return l={},k.write(l,w)?l:null}if(null!=l){l=c.clone(l);if(w=l)p.isFeatureCollectionLayer(k)?(q=e.getDeepValue("featureCollection.layers",w)?.[0]?.layerDefinition)&&n(k,q):"group"!==k.type&&n(k,w);if(w&&(w.id=k.id,"blendMode"in k&&(w.blendMode=k.blendMode,"normal"===w.blendMode&&delete w.blendMode),w.opacity=d.numberToJSON(k.opacity)??void 0,w.title=k.title||"Layer",w.visibility=
k.visible,"legendEnabled"in k&&"wmts"!==k.type))if(p.isFeatureCollectionLayer(k)){if(w=w.featureCollection)w.showLegend=k.legendEnabled}else w.showLegend=k.legendEnabled}return l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../kernel","../../request"],function(a,b,c){function e(p){return"scene"===p?.type}function d(p){p=p?.type;return"imagery-tile"===p||"tile"===p||"open-street-map"===p||"vector-tile"===p||"web-tile"===
p||"wmts"===p}a.getEffectiveEditingEnabled=function(p){a:if("editingEnabled"in p)switch(p.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var n=!0;break a;default:n=!1}else n=!1;return n?"effectiveEditingEnabled"in p?p.effectiveEditingEnabled:p.editingEnabled:!1};a.getEffectiveLayerCapabilities=function(p){a:if("capabilities"in p)switch(p.type){case "catalog":case "catalog-footprint":case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "sublayer":case "subtype-group":case "subtype-sublayer":case "wfs":var n=
!0;break a;default:n=!1}else n=!1;return n?"effectiveCapabilities"in p?p.effectiveCapabilities:p.capabilities:null};a.getOwningPortalUrl=async function(p,n){var f=b.id?.findServerInfo(p);if(null!=f?.currentVersion)return f.owningSystemUrl||null;f=p.toLowerCase().indexOf("/rest/services");if(-1===f)return null;p=`${p.substring(0,f)}/rest/info`;({data:n}=await c(p,{query:{f:"json"},responseType:"json",signal:null!=n?n.signal:null}));return n?.owningSystemUrl||null};a.getTileMaxtrixSetFromActiveLayer=
function(p){if(p.activeLayer){const n=p.activeLayer.tileMatrixSet;if(n)return n;if(p=p.activeLayer.tileMatrixSets)return p}return null};a.isBaseLayer=function(p){return null!=p?.parent&&"declaredClass"in p.parent&&"esri.Basemap"===p.parent.declaredClass&&p.parent.baseLayers.includes(p)};a.isBasemap3DSupportedLayer=function(p){return d(p)||e(p)};a.isBasemapSupportedTiledLayer=d;a.isFeatureCollectionLayer=function(p){return"feature"===p?.type&&!p.url&&"memory"===p.source?.type};a.isFeatureLayer=function(p){return null!=
p&&"object"===typeof p&&"type"in p&&"feature"===p.type};a.isFeatureServiceLayer=function(p){return"feature"===p?.type&&"feature-layer"===p.source?.type};a.isGraphicsLayer=function(p){return null!=p&&"object"===typeof p&&"type"in p&&"graphics"===p.type};a.isGroupLayer=function(p){return null!=p&&"type"in p&&"group"===p.type};a.isImageryTileLayer=function(p){return"imagery-tile"===p?.type};a.isIntegratedMeshLayer=function(p){return"integrated-mesh"===p||"integrated-mesh-3dtiles"===p};a.isIntegratedMeshOperationalLayer=
function(p){return"IntegratedMeshLayer"===p||"IntegratedMesh3DTilesLayer"===p};a.isKnowledgeGraphLayer=function(p){return null!=p&&"object"===typeof p&&"type"in p&&"knowledge-graph"===p.type&&"layers"in p};a.isLayerWithFeatureLayerSource=function(p){return("feature"===p?.type||"subtype-group"===p?.type)&&"feature-layer"===p.source?.type};a.isLinkChartLayer=function(p){return null!=p&&"object"===typeof p&&"type"in p&&"link-chart"===p.type&&"layers"in p};a.isMapNotesLayer=function(p){return null!=p&&
"object"===typeof p&&"type"in p&&"map-notes"===p.type&&"sublayers"in p};a.isSceneLayer=e;a.isSceneServiceLayer=function(p){p=p?.type;return"building-scene"===p||"integrated-mesh"===p||"point-cloud"===p||"scene"===p};a.isSubtypeGroupLayer=function(p){return null!=p&&"object"===typeof p&&"type"in p&&"subtype-group"===p.type&&"sublayers"in p};a.isSubtypeSublayer=function(p){return"subtype-sublayer"===p?.type};a.isTable=function(p){return null!=p&&"object"===typeof p&&"isTable"in p&&!!p.isTable};a.isTiledLayer=
function(p){p=p?.type;return"base-tile"===p||"tile"===p||"elevation"===p||"imagery-tile"===p||"base-elevation"===p||"open-street-map"===p||"wcs"===p||"web-tile"===p||"wmts"===p||"vector-tile"===p};a.isVoxelLayer=function(p){return"voxel"===p?.type};a.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};a.serializeLayerDefinitions=function(p){const n=/[:;]/,f=[];let g=!1;if(p&&(p.forEach((k,
l)=>{f.push([l,k]);!g&&n.test(k)&&(g=!0)}),0<f.length)){if(g){const k={};f.forEach(l=>{k[l[0]]=l[1]});p=JSON.stringify(k)}else{const k=[];f.forEach(l=>{k.push(l[0]+":"+l[1])});p=k.join(";")}return p}return null};a.serializeTimeOptions=function(p){if(p){var n=[];p.forEach((f,g)=>{n.push('"'+g+'":'+JSON.stringify(f))});if(n.length)return"{"+n.join(",")+"}"}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Ground":function(){define("require ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z){function v(B){return"elevation"===B.type||B&&"createElevationSampler"in B}var x;f=x=class extends f.JSONSupportMixin(k){constructor(B){super(B);this.opacity=1;this.navigationConstraint=this.surfaceColor=null;this.layers=new e;const A=C=>{C.parent&&C.parent!==this&&"remove"in C.parent&&C.parent.remove(C);C.parent=this;"elevation"!==C.type&&"base-elevation"!==C.type&&w.getLogger(this).error(`Layer '${C.title}, id:${C.id}' of type '${C.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};
this.addHandles([this.layers.on("after-add",C=>A(C.item)),this.layers.on("after-remove",C=>{C.item.parent=null})])}initialize(){this.when().catch(B=>{m.isAbortError(B)||w.getLogger(this).error("#load()","Failed to load ground",B)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const B=this.layers.removeAll();for(const A of B)q.destroyMaybe(A);this.layers.destroy()}normalizeCtorArgs(B){B&&"resourceInfo"in B&&(this._set("resourceInfo",B.resourceInfo),B={...B},
delete B.resourceInfo);return B}set layers(B){this._set("layers",d.referenceSetter(B,this._get("layers")))}writeLayers(B,A,C,H){const N=[];B&&(H={...H,layerContainerType:"ground"},B.forEach(I=>{if("write"in I){const E={};p.typeCast(I)().write(E,H)&&N.push(E)}else H?.messages&&H.messages.push(new n("layer:unsupported",`Layers (${I.title}, ${I.id}) of type '${I.declaredClass}' cannot be persisted in the ground`,{layer:I}))}));A.layers=N}load(B){this.addResolvingPromise(this._loadFromSource(B));return Promise.resolve(this)}loadAll(){return l.loadAll(this,
B=>{B(this.layers)})}async queryElevation(B,A){await this.load({signal:A?.signal});var {ElevationQuery:C}=await new Promise((N,I)=>a(["./layers/support/ElevationQuery"],N,I));m.throwIfAborted(A);C=new C;const H=this.layers.filter(v).toArray();return C.queryAll(H,B,A)}async createElevationSampler(B,A){await this.load({signal:A?.signal});var {ElevationQuery:C}=await new Promise((N,I)=>a(["./layers/support/ElevationQuery"],N,I));m.throwIfAborted(A);C=new C;const H=this.layers.filter(v).toArray();return C.createSamplerAll(H,
B,A)}clone(){const B={opacity:this.opacity,surfaceColor:g.clone(this.surfaceColor),navigationConstraint:g.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(B.loadStatus="loaded");return(new x({resourceInfo:this.resourceInfo})).set(B)}read(B,A){this.resourceInfo||this._set("resourceInfo",{data:B,context:A});super.read(B,A)}_loadFromSource(B){const A=this.resourceInfo;return A?this._loadLayersFromJSON(A.data,A.context,B):Promise.resolve()}async _loadLayersFromJSON(B,A,C){const H=
A?.origin||"web-scene",N=A?.portal||null;A=A?.url||null;const {populateOperationalLayers:I}=await new Promise((E,G)=>a(["./layers/support/layersCreator"],E,G));m.throwIfAborted(C);C=[];B.layers&&Array.isArray(B.layers)&&C.push(I(this.layers,B.layers,{context:{origin:H,url:A,portal:N,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));await Promise.allSettled(C)}};b.__decorate([h.property({json:{read:!1}})],f.prototype,"layers",null);b.__decorate([u.writer("layers")],
f.prototype,"writeLayers",null);b.__decorate([h.property({readOnly:!0})],f.prototype,"resourceInfo",void 0);b.__decorate([h.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:t.Integer,read:{reader:z.transparencyToOpacity,source:"transparency"},write:{writer:(B,A)=>{A.transparency=z.opacityToTransparency(B)},target:"transparency"}}})],f.prototype,"opacity",void 0);b.__decorate([h.property({type:c,json:{type:[t.Integer],write:(B,A)=>{A.surfaceColor=B.toJSON().slice(0,3)}}})],f.prototype,
"surfaceColor",void 0);b.__decorate([h.property({type:r.NavigationConstraint,json:{write:!0}})],f.prototype,"navigationConstraint",void 0);return f=x=b.__decorate([y.subclass("esri.Ground")],f)})},"esri/Color":function(){define(["./colorUtils","./core/mathUtils","./core/accessorSupport/ensureType"],function(a,b,c){function e(f){return b.clamp(c.ensureInteger(f),0,255)}function d(f,g,k){f=Number(f);return isNaN(f)?k:f<g?g:f>k?k:f}function p(f,g){f=f.toString(16).padStart(2,"0");return g?f.substring(0,
1):f}class n{static blendColors(f,g,k,l=new n){l.r=Math.round(f.r+(g.r-f.r)*k);l.g=Math.round(f.g+(g.g-f.g)*k);l.b=Math.round(f.b+(g.b-f.b)*k);l.a=f.a+(g.a-f.a)*k;return l._sanitize()}static fromRgb(f,g){var k=f.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(k){f=k[2].split(/\s*,\s*/);k=k[1];if("rgb"===k&&3===f.length||"rgba"===k&&4===f.length)return k=f[0],"%"===k.charAt(k.length-1)?(k=f.map(l=>2.56*parseFloat(l)),4===f.length&&(k[3]=parseFloat(f[3])),n.fromArray(k,g)):n.fromArray(f.map(l=>
parseFloat(l)),g);if("hsl"===k&&3===f.length||"hsla"===k&&4===f.length)return n.fromArray(a.hsla2rgba(parseFloat(f[0]),parseFloat(f[1])/100,parseFloat(f[2])/100,parseFloat(f[3])),g)}return null}static fromHex(f,g=new n){if("#"!==f[0]||isNaN(Number(`0x${f.substring(1)}`)))return null;switch(f.length){case 4:case 5:var k=parseInt(f.substring(1,2),16),l=parseInt(f.substring(2,3),16),w=parseInt(f.substring(3,4),16);f=5===f.length?15:parseInt(f.substring(4),16);return n.fromArray([k+16*k,l+16*l,w+16*w,
(f+16*f)/255],g);case 7:case 9:return k=parseInt(f.substring(1,3),16),l=parseInt(f.substring(3,5),16),w=parseInt(f.substring(5,7),16),f=7===f.length?255:parseInt(f.substring(7),16),n.fromArray([k,l,w,f/255],g);default:return null}}static fromArray(f,g=new n){g._set(Number(f[0]),Number(f[1]),Number(f[2]),Number(f[3]));isNaN(g.a)&&(g.a=1);return g._sanitize()}static fromString(f,g){const k=a.isNamedColor(f)?a.getNamedColor(f):null;return k&&n.fromArray(k,g)||n.fromRgb(f,g)||n.fromHex(f,g)}static fromJSON(f){return null!=
f?new n([f[0],f[1],f[2],(f[3]??255)/255]):void 0}static toUnitRGB(f){return null!=f?[f.r/255,f.g/255,f.b/255]:null}static toUnitRGBA(f){return null!=f?[f.r/255,f.g/255,f.b/255,null!=f.a?f.a:1]:null}constructor(f){this.b=this.g=this.r=255;this.a=1;f&&this.setColor(f)}get isBright(){return 127<=.299*this.r+.587*this.g+.114*this.b}setColor(f){"string"===typeof f?n.fromString(f,this):Array.isArray(f)?n.fromArray(f,this):(this._set(f.r??0,f.g??0,f.b??0,f.a??1),f instanceof n||this._sanitize());return this}toRgb(){return[this.r,
this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(f){const g=f?.capitalize??!1;var k=f?.digits??6;f=3===k||4===k;const l=4===k||8===k;k=p(this.r,f);const w=p(this.g,f),q=p(this.b,f);f=l?p(Math.round(255*this.a),f):"";f=`#${k}${w}${q}${f}`;return g?f.toUpperCase():f}toCss(f=!1){const g=this.r+", "+this.g+", "+this.b;return f?`rgba(${g}, ${this.a})`:`rgb(${g})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(f=n.AlphaMode.ALWAYS){const g=e(this.r),k=e(this.g),
l=e(this.b);return f===n.AlphaMode.ALWAYS||1!==this.a?[g,k,l,e(255*this.a)]:[g,k,l]}clone(){return new n(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(f){return null!=f&&f.r===this.r&&f.g===this.g&&f.b===this.b&&f.a===this.a}_sanitize(){this.r=Math.round(d(this.r,0,255));this.g=Math.round(d(this.g,0,255));this.b=Math.round(d(this.b,0,255));this.a=d(this.a,0,1);return this}_set(f,g,k,l){this.r=f;this.g=g;this.b=k;this.a=l}}n.prototype.declaredClass="esri.Color";(function(f){f=
f.AlphaMode||(f.AlphaMode={});f[f.ALWAYS=0]="ALWAYS";f[f.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(n||={});return n})},"esri/colorUtils":function(){define(["exports"],function(a){function b(d){return e[d]??e[d.toLowerCase()]}function c(d,p,n){0>n&&++n;1<n&&--n;const f=6*n;return 1>f?d+(p-d)*f:1>2*n?p:2>3*n?d+(p-d)*(2/3-n)*6:d}const e={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,
0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,
1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,
79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,
1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,
136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,
228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,
105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,
205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(d){return[...b(d)]};a.hex2rgba=function(d){var p=5<d.length;const n=p?8:4,f=(1<<n)-1,g=p?1:17;p=p?9===d.length:5===d.length;d=Number("0x"+d.substr(1));if(isNaN(d))return null;const k=[0,0,0,1];p&&(p=d&f,d>>=n,k[3]=g*p/255);p=d&f;d>>=n;k[2]=g*p;p=d&f;d>>=n;k[1]=g*p;p=d&f;d>>=n;k[0]=g*p;return k};a.hsla2rgba=function(d,p,n,f=1){d=(d%360+360)%360/360;p=.5>=n?n*(p+1):n+p-n*p;n=2*n-p;return[Math.round(255*c(n,p,d+1/3)),Math.round(255*c(n,p,d)),
Math.round(255*c(n,p,d-1/3)),f]};a.isNamedColor=function(d){return!!e[d]||!!e[d.toLowerCase()]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/mathUtils":function(){define(["exports","../chunks/vec32"],function(a,b){function c(t,y,u){return Math.min(Math.max(t,y),u)}function e(t,y,u){return t+(y-t)*u}function d(t){return Math.asin(c(t,-1,1))}function p(t,y,u=1E-6){return t===y?!0:Number.isFinite(t)&&Number.isFinite(y)?(t>y?t-y:y-t)<=u:!1}function n(t){w.setFloat64(0,t);
return w.getBigInt64(0)}function f(t){w.setBigInt64(0,t);return w.getFloat64(0)}function g(t){t=Math.abs(t);var y=n(t);y=y<=q?f(q):f(y-q);return Math.abs(t-y)}function k(t){l[0]=t;return l[0]}const l=new Float32Array(1),w=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),q=BigInt("1000000"),m=g(1),h=k(3.4028234663852886E38);a.acosClamped=function(t){return Math.acos(c(t,-1,1))};a.asinClamped=d;a.cartesianToSpherical=function(t,y){const u=b.length(t),r=d(t[2]/u);b.set(y,u,r,Math.atan2(t[1]/
u,t[0]/u));return y};a.clamp=c;a.clampFloat32=function(t){return k(Math.max(-h,Math.min(t,h)))};a.deg2rad=function(t){return t*Math.PI/180};a.floatEqualAbsolute=p;a.floatEqualRelative=function(t,y,u=1E-6){if(t===y)return!0;if(!Number.isFinite(t)||!Number.isFinite(y))return!1;const r=Math.abs(t-y),z=Math.abs(t),v=Math.abs(y);if(0===t||0===y||1E-12>z&&1E-12>v){if(r>.01*u)return!1}else if(r/(z+v)>u)return!1;return!0};a.floatEqualUlp=function(t,y,u=m){if(t===y)return!0;if(!Number.isFinite(t)||!Number.isFinite(y))return!1;
if(null!=u&&g(Math.min(Math.abs(t),Math.abs(y)))<u)return Math.abs(t-y)<=u;t=n(t);y=n(y);return 0>t!==0>y||(t<y?y-t:t-y)>q?!1:!0};a.hasScaling=function(t){const y=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],u=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(p(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],1)&&p(y,1)&&p(u,1))};a.isPowerOfTwo=function(t){return 0===(t&t-1)};a.lerp=e;a.moduloPositive=function(t,y){return(t%y+y)%y};a.nextHighestPowerOfTen=function(t){return 10**Math.ceil(Math.LOG10E*Math.log(t))};a.nextHighestPowerOfTwo=function(t){--t;
for(let y=1;32>y;y<<=1)t|=t>>y;return t+1};a.nextPowerOfTwo=function(t){t--;t|=t>>1;t|=t>>2;t|=t>>4;t|=t>>8;t|=t>>16;t++;return t};a.numberMaxFloat32=h;a.rad2deg=function(t){return 180*t/Math.PI};a.reciprocalClamped=function(t,y=1E-6){return(0>t?-1:1)/Math.max(Math.abs(t),y)};a.roundToNearest=function(t,y){return 0===y?0:Math.round(t/y)*y};a.scale=function(t,y,u,r,z){return e(r,z,(t-y)/(u-y))};a.smoothstep=function(t,y,u){t=c((u-t)/(y-t),0,1);return t*t*(3-2*t)};a.sphericalToCartesian=function(t,
y){const u=t[0],r=t[1];t=t[2];const z=Math.cos(r);b.set(y,u*z*Math.cos(t),u*z*Math.sin(t),u*Math.sin(r))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],function(a,b,c){function e(ea){const ca=ea[0],Y=ea[1];ea=ea[2];return Math.sqrt(ca*ca+Y*Y+ea*ea)}function d(ea,ca){ea[0]=ca[0];ea[1]=ca[1];ea[2]=ca[2];return ea}function p(ea,ca,Y,ha){ea[0]=ca;ea[1]=
Y;ea[2]=ha;return ea}function n(ea,ca,Y){ea[0]=ca[0]+Y[0];ea[1]=ca[1]+Y[1];ea[2]=ca[2]+Y[2];return ea}function f(ea,ca,Y){ea[0]=ca[0]-Y[0];ea[1]=ca[1]-Y[1];ea[2]=ca[2]-Y[2];return ea}function g(ea,ca,Y){ea[0]=ca[0]*Y[0];ea[1]=ca[1]*Y[1];ea[2]=ca[2]*Y[2];return ea}function k(ea,ca,Y){ea[0]=ca[0]/Y[0];ea[1]=ca[1]/Y[1];ea[2]=ca[2]/Y[2];return ea}function l(ea,ca){ea[0]=Math.ceil(ca[0]);ea[1]=Math.ceil(ca[1]);ea[2]=Math.ceil(ca[2]);return ea}function w(ea,ca){ea[0]=Math.floor(ca[0]);ea[1]=Math.floor(ca[1]);
ea[2]=Math.floor(ca[2]);return ea}function q(ea,ca){ea[0]=Math.abs(ca[0]);ea[1]=Math.abs(ca[1]);ea[2]=Math.abs(ca[2]);return ea}function m(ea,ca){ea[0]=Math.sign(ca[0]);ea[1]=Math.sign(ca[1]);ea[2]=Math.sign(ca[2]);return ea}function h(ea,ca,Y){ea[0]=Math.min(ca[0],Y[0]);ea[1]=Math.min(ca[1],Y[1]);ea[2]=Math.min(ca[2],Y[2]);return ea}function t(ea,ca,Y){ea[0]=Math.max(ca[0],Y[0]);ea[1]=Math.max(ca[1],Y[1]);ea[2]=Math.max(ca[2],Y[2]);return ea}function y(ea,ca){ea[0]=Math.round(ca[0]);ea[1]=Math.round(ca[1]);
ea[2]=Math.round(ca[2]);return ea}function u(ea,ca,Y){ea[0]=ca[0]*Y;ea[1]=ca[1]*Y;ea[2]=ca[2]*Y;return ea}function r(ea,ca,Y,ha){ea[0]=ca[0]+Y[0]*ha;ea[1]=ca[1]+Y[1]*ha;ea[2]=ca[2]+Y[2]*ha;return ea}function z(ea,ca){const Y=ca[0]-ea[0],ha=ca[1]-ea[1];ea=ca[2]-ea[2];return Math.sqrt(Y*Y+ha*ha+ea*ea)}function v(ea,ca){const Y=ca[0]-ea[0],ha=ca[1]-ea[1];ea=ca[2]-ea[2];return Y*Y+ha*ha+ea*ea}function x(ea){const ca=ea[0],Y=ea[1];ea=ea[2];return ca*ca+Y*Y+ea*ea}function B(ea,ca){ea[0]=-ca[0];ea[1]=-ca[1];
ea[2]=-ca[2];return ea}function A(ea,ca){ea[0]=1/ca[0];ea[1]=1/ca[1];ea[2]=1/ca[2];return ea}function C(ea,ca){var Y=ca[0];const ha=ca[1],ua=ca[2];Y=Y*Y+ha*ha+ua*ua;0<Y&&(Y=1/Math.sqrt(Y),ea[0]=ca[0]*Y,ea[1]=ca[1]*Y,ea[2]=ca[2]*Y);return ea}function H(ea,ca){return ea[0]*ca[0]+ea[1]*ca[1]+ea[2]*ca[2]}function N(ea,ca,Y){const ha=ca[0],ua=ca[1];ca=ca[2];const K=Y[0],Q=Y[1];Y=Y[2];ea[0]=ua*Y-ca*Q;ea[1]=ca*K-ha*Y;ea[2]=ha*Q-ua*K;return ea}function I(ea,ca,Y,ha){const ua=ca[0],K=ca[1];ca=ca[2];ea[0]=
ua+ha*(Y[0]-ua);ea[1]=K+ha*(Y[1]-K);ea[2]=ca+ha*(Y[2]-ca);return ea}function E(ea,ca,Y,ha,ua,K){const Q=K*K,ia=Q*(2*K-3)+1,ka=Q*(K-2)+K,Ba=Q*(K-1);K=Q*(3-2*K);ea[0]=ca[0]*ia+Y[0]*ka+ha[0]*Ba+ua[0]*K;ea[1]=ca[1]*ia+Y[1]*ka+ha[1]*Ba+ua[1]*K;ea[2]=ca[2]*ia+Y[2]*ka+ha[2]*Ba+ua[2]*K;return ea}function G(ea,ca,Y,ha,ua,K){var Q=1-K,ia=Q*Q;const ka=K*K,Ba=ia*Q;ia*=3*K;Q*=3*ka;K*=ka;ea[0]=ca[0]*Ba+Y[0]*ia+ha[0]*Q+ua[0]*K;ea[1]=ca[1]*Ba+Y[1]*ia+ha[1]*Q+ua[1]*K;ea[2]=ca[2]*Ba+Y[2]*ia+ha[2]*Q+ua[2]*K;return ea}
function L(ea,ca){ca=ca||1;var Y=c.RANDOM;const ha=2*Y()*Math.PI;Y=2*Y()-1;const ua=Math.sqrt(1-Y*Y)*ca;ea[0]=Math.cos(ha)*ua;ea[1]=Math.sin(ha)*ua;ea[2]=Y*ca;return ea}function R(ea,ca,Y){const ha=ca[0],ua=ca[1];ca=ca[2];ea[0]=Y[0]*ha+Y[4]*ua+Y[8]*ca+Y[12];ea[1]=Y[1]*ha+Y[5]*ua+Y[9]*ca+Y[13];ea[2]=Y[2]*ha+Y[6]*ua+Y[10]*ca+Y[14];return ea}function F(ea,ca,Y){const ha=ca[0],ua=ca[1];ca=ca[2];ea[0]=ha*Y[0]+ua*Y[3]+ca*Y[6];ea[1]=ha*Y[1]+ua*Y[4]+ca*Y[7];ea[2]=ha*Y[2]+ua*Y[5]+ca*Y[8];return ea}function J(ea,
ca,Y){const ha=Y[0],ua=Y[1],K=Y[2],Q=ca[0],ia=ca[1];ca=ca[2];const ka=ua*ca-K*ia,Ba=K*Q-ha*ca,W=ha*ia-ua*Q;Y=2*Y[3];ea[0]=Q+ka*Y+2*(ua*W-K*Ba);ea[1]=ia+Ba*Y+2*(K*ka-ha*W);ea[2]=ca+W*Y+2*(ha*Ba-ua*ka);return ea}function O(ea,ca,Y,ha){const ua=[],K=[];ua[0]=ca[0]-Y[0];ua[1]=ca[1]-Y[1];ua[2]=ca[2]-Y[2];K[0]=ua[0];K[1]=ua[1]*Math.cos(ha)-ua[2]*Math.sin(ha);K[2]=ua[1]*Math.sin(ha)+ua[2]*Math.cos(ha);ea[0]=K[0]+Y[0];ea[1]=K[1]+Y[1];ea[2]=K[2]+Y[2];return ea}function U(ea,ca,Y,ha){const ua=[],K=[];ua[0]=
ca[0]-Y[0];ua[1]=ca[1]-Y[1];ua[2]=ca[2]-Y[2];K[0]=ua[2]*Math.sin(ha)+ua[0]*Math.cos(ha);K[1]=ua[1];K[2]=ua[2]*Math.cos(ha)-ua[0]*Math.sin(ha);ea[0]=K[0]+Y[0];ea[1]=K[1]+Y[1];ea[2]=K[2]+Y[2];return ea}function T(ea,ca,Y,ha){const ua=[],K=[];ua[0]=ca[0]-Y[0];ua[1]=ca[1]-Y[1];ua[2]=ca[2]-Y[2];K[0]=ua[0]*Math.cos(ha)-ua[1]*Math.sin(ha);K[1]=ua[0]*Math.sin(ha)+ua[1]*Math.cos(ha);K[2]=ua[2];ea[0]=K[0]+Y[0];ea[1]=K[1]+Y[1];ea[2]=K[2]+Y[2];return ea}function Z(ea,ca){C(ra,ea);C(Aa,ca);ea=H(ra,Aa);return 1<
ea?0:-1>ea?Math.PI:Math.acos(ea)}function V(ea){return"vec3("+ea[0]+", "+ea[1]+", "+ea[2]+")"}function qa(ea,ca){return ea[0]===ca[0]&&ea[1]===ca[1]&&ea[2]===ca[2]}function Ca(ea,ca){if(ea===ca)return!0;const Y=ea[0],ha=ea[1];ea=ea[2];const ua=ca[0],K=ca[1];ca=ca[2];const Q=c.getEpsilon();return Math.abs(Y-ua)<=Q*Math.max(1,Math.abs(Y),Math.abs(ua))&&Math.abs(ha-K)<=Q*Math.max(1,Math.abs(ha),Math.abs(K))&&Math.abs(ea-ca)<=Q*Math.max(1,Math.abs(ea),Math.abs(ca))}function va(ea,ca,Y){const ha=Y[0]-
ca[0],ua=Y[1]-ca[1];ca=Y[2]-ca[2];Y=ha*ha+ua*ua+ca*ca;if(0<Y)return Y=1/Math.sqrt(Y),ea[0]=ha*Y,ea[1]=ua*Y,ea[2]=ca*Y,ea;ea[0]=0;ea[1]=0;ea[2]=0;return ea}const ra=b.create(),Aa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,abs:q,add:n,angle:Z,bezier:G,ceil:l,copy:d,cross:N,direction:va,dist:z,distance:z,div:k,divide:k,dot:H,equals:Ca,exactEquals:qa,floor:w,hermite:E,inverse:A,len:e,length:e,lerp:I,max:t,min:h,mul:g,multiply:g,negate:B,normalize:C,random:L,rotateX:O,rotateY:U,rotateZ:T,
round:y,scale:u,scaleAndAdd:r,set:p,sign:m,sqrDist:v,sqrLen:x,squaredDistance:v,squaredLength:x,str:V,sub:f,subtract:f,transformMat3:F,transformMat4:R,transformQuat:J},Symbol.toStringTag,{value:"Module"}));a.abs=q;a.add=n;a.angle=Z;a.bezier=G;a.ceil=l;a.copy=d;a.cross=N;a.direction=va;a.dist=z;a.distance=z;a.div=k;a.divide=k;a.dot=H;a.equals=Ca;a.exactEquals=qa;a.floor=w;a.hermite=E;a.inverse=A;a.len=e;a.length=e;a.lerp=I;a.max=t;a.min=h;a.mul=g;a.multiply=g;a.negate=B;a.normalize=C;a.random=L;a.rotateX=
O;a.rotateY=U;a.rotateZ=T;a.round=y;a.scale=u;a.scaleAndAdd=r;a.set=p;a.sign=m;a.sqrDist=v;a.sqrLen=x;a.squaredDistance=v;a.squaredLength=x;a.str=V;a.sub=f;a.subtract=f;a.transformMat3=F;a.transformMat4=R;a.transformQuat=J;a.vec3=b})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["exports"],function(a){function b(){return[0,0,0]}function c(u){return[u[0],u[1],u[2]]}function e(u,r,z){return[u,r,z]}function d(u,r=b()){const z=Math.min(3,u.length);for(let v=0;v<z;++v)r[v]=u[v];return r}
function p(u,r){return new Float64Array(u,r,3)}function n(){return b()}function f(){return[1,1,1]}function g(){return[1,0,0]}function k(){return[0,1,0]}function l(){return[0,0,1]}const w=b(),q=f(),m=g(),h=k(),t=l(),y=Object.freeze(Object.defineProperty({__proto__:null,ONES:q,UNIT_X:m,UNIT_Y:h,UNIT_Z:t,ZEROS:w,clone:c,create:b,createView:p,fromArray:d,fromValues:e,ones:f,unitX:g,unitY:k,unitZ:l,zeros:n},Symbol.toStringTag,{value:"Module"}));a.ONES=q;a.UNIT_X=m;a.UNIT_Y=h;a.UNIT_Z=t;a.ZEROS=w;a.clone=
c;a.create=b;a.createView=p;a.fromArray=d;a.fromValues=e;a.ones=f;a.unitX=g;a.unitY=k;a.unitZ=l;a.vec3f64=y;a.zeros=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["exports"],function(a){function b(){return n}function c(w){n=w}function e(w){return w*g}function d(w){return w*k}function p(w,q){return Math.abs(w-q)<=n*Math.max(1,Math.abs(w),Math.abs(q))}let n=1E-6;const f=Math.random,g=Math.PI/180,k=180/Math.PI,l=Object.freeze(Object.defineProperty({__proto__:null,
RANDOM:f,equals:p,getEpsilon:b,setEpsilon:c,toDegree:d,toRadian:e},Symbol.toStringTag,{value:"Module"}));a.RANDOM=f;a.common=l;a.equals=p;a.getEpsilon=b;a.setEpsilon=c;a.toDegree=d;a.toRadian=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(a,b){a.neverReached=function(c){};a.neverReachedSilent=function(c){};a.typeCast=function(c){return()=>c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/tslib.es6 ../core/JSONSupport ../core/Logger ../core/has ../core/RandomLCG ../core/Error ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g){var k;a.NavigationConstraint=k=class extends c.JSONSupport{constructor(l){super(l);this.type="none"}clone(){return new k({type:this.type})}};b.__decorate([f.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=k=b.__decorate([g.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(a,b,c){a.enumeration=function(e,d={}){e=e instanceof b.JSONMap?e:new b.JSONMap(e,d);e={type:d?.ignoreUnknown??!0?e.apiValues:String,json:{type:e.jsonValues,read:d?.readOnly?!1:{reader:e.read},write:{writer:e.write}}};void 0!==d?.readOnly&&(e.readOnly=!!d.readOnly);void 0!==d?.default&&(e.json.default=d.default);void 0!==d?.name&&(e.json.name=d.name);void 0!==d?.nonNullable&&(e.nonNullable=d.nonNullable);return c.property(e)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=function(c){c=b.ensureInteger(100*(1-c));return Math.max(0,Math.min(c,100))};a.transparencyToOpacity=function(c){return Math.max(0,Math.min(1-c/100,1))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/CollectionFlattener":function(){define("../chunks/tslib.es6 ./Collection ./asyncUtils ./Error ./Logger ./accessorSupport/watch ./accessorSupport/trackingUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g){c=class extends b{constructor(k){super(k);this.getCollections=null}initialize(){this.addHandles(n.autorun(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const k=null!=this.getCollections?this.getCollections():null;if(null==k)this.removeAll();else{var l=0;for(const w of k)null!=w&&(l=this._processCollection(l,w));this.splice(l,this.length)}}_createNewInstance(k){return new b(k)}_processCollection(k,l){if(!l)return k;const w=this.itemFilterFunction??
(q=>!!q);for(const q of l)if(q&&(w(q)&&(l=this.indexOf(q,k),0<=l?l!==k&&this.reorder(q,k):this.add(q,k),++k),this.getChildrenFunction))if(l=this.getChildrenFunction(q),Array.isArray(l))for(const m of l)k=this._processCollection(k,m);else k=this._processCollection(k,l);return k}};a.__decorate([f.property()],c.prototype,"getCollections",void 0);a.__decorate([f.property()],c.prototype,"getChildrenFunction",void 0);a.__decorate([f.property()],c.prototype,"itemFilterFunction",void 0);return c=a.__decorate([g.subclass("esri.core.CollectionFlattener")],
c)})},"esri/layers/support/editableLayers":function(){define(["exports","../catalog/catalogUtils","./layerUtils"],function(a,b,c){a.isEditableLayer=function(e){return!(!("object"===typeof e&&null!=e&&"loaded"in e&&!0===e.loaded&&"type"in e&&c.getEffectiveLayerCapabilities(e)?.operations?.supportsEditing)||"editingEnabled"in e&&!c.getEffectiveEditingEnabled(e)||b.isLayerFromCatalog(e))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/catalog/catalogUtils":function(){define(["exports",
"../../core/handleUtils","../../core/reactiveUtils"],function(a,b,c){function e(p){if(p.destroyed)return!1;d.has(p)||p.addHandles([c.watch(()=>{const n=p.parent;return n&&"type"in n?"catalog-dynamic-group"===n.type||e(n):!1},n=>d.set(p,n),c.syncAndInitial),b.makeHandle(()=>d.delete(p))]);return d.get(p)}const d=new WeakMap;a.getCatalogLayerForLayer=function(p){return p.parent&&"type"in p.parent&&"catalog-dynamic-group"===p.parent.type?p.parent.parent:null};a.isLayerFromCatalog=e;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/reactiveUtils":function(){define("exports ./asyncUtils ./Collection ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,c,e,d,p,n,f,g){function k(y,u,r={}){return l(y,u,r,m)}function l(y,u,r={},z){let v=null;const x=r.once?(B,A)=>{z(B)&&(p.removeMaybe(v),u(B,A))}:(B,A)=>{z(B)&&u(B,A)};v=f.watchTracked(y,x,r.sync,r.equals);r.initial&&(y=y(),x(y,y));return v}function w(y,u,r,
z={}){function v(){B&&A&&(A.remove(),z.onListenerRemove?.(B),A=B=null)}function x(N){z.once&&z.once&&p.removeMaybe(C);r(N)}let B=null,A=null,C=null;const H=k(y,(N,I)=>{v();e.isEventedOrEventTarget(N)&&(B=N,A=e.on(N,u,x),z.onListenerAdd?.(N))},{sync:z.sync,initial:!0});return C=d.makeHandle(()=>{H.remove();v()})}function q(y,u,r){if(n.isAborted(r))return Promise.reject(n.createAbortError());const z=y();if(u?.(z))return Promise.resolve(z);let v=null;return new Promise((x,B)=>{v=d.handlesGroup([n.onAbort(r,
()=>{v=p.removeMaybe(v);B(n.createAbortError())}),l(y,A=>{v=p.removeMaybe(v);x(A)},{sync:!1,once:!0},u??m)])})}function m(y){return!0}function h(y){return!!y}function t(y,u){const r=new c;y=w(y,"after-splice",({added:z,start:v,deleteCount:x})=>{x=r.splice(v,x);for(const B of x)B.remove();z?.length&&(z=z.map(u),r.addMany(z,v))},{sync:!0,onListenerRemove:()=>r.drain(z=>z.remove()),onListenerAdd:z=>r.addMany(z.items.map(u))});r.addHandles(y);return r}a.autorun=g.autorun;a.initial={initial:!0};a.mapCollection=
t;a.mapCollectionAsync=function(y,u){const r=new c,z=t(y,B=>b.createTask(async A=>{const C=await u(B,A);if(n.isAborted(A))throw C.remove(),n.createAbortError();return C})),v=()=>null,x=async B=>{const A=await B.promise;B=z.indexOf(B);0>B||r.splice(B,1,A)};r.addMany(z.items.map(v));for(const B of z)n.ignoreAbortErrors(x(B));y=z.on("after-splice",({added:B,start:A,deleteCount:C})=>{C=r.splice(A,C);for(const H of C)H?.remove();if(B?.length){r.addMany(B.map(v),A);for(const H of B)n.ignoreAbortErrors(x(H))}});
r.addHandles([d.destroyHandle(z),y]);return r};a.on=w;a.once=function(y,u){return q(y,null,u)};a.pausable=function(y,u,r={}){let z=!1;const v=k(y,(x,B)=>{z||u(x,B)},r);return{remove(){v.remove()},pause(){z=!0},resume(){z=!1}}};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=k;a.when=function(y,u,r={}){return l(y,u,r,h)};a.whenOnce=function(y,u){return q(y,h,u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ../layers/effects/utils ./basemapDefinitions".split(" "),
function(a,b,c,e,d,p,n,f,g,k){function l(E,G){let L;if("string"===typeof E){const R=E in k.esriBasemapDefinitions,F=!R&&E.includes("/");if(!R&&!F)return G=Object.entries(k.esriBasemapDefinitions).filter(([,J])=>c.apiKey&&!J.classic||!c.apiKey&&(J.classic||J.is3d)).map(([J])=>`"${J}"`).sort().join(", "),d.getLogger("esri.support.basemapUtils").warn(`Unable to find basemap definition for: ${E}. Try one of these: ${G}`),null;G&&(L=G[E]);L||(L=R?b.fromId(E):new b({style:{id:E}}),G&&(G[E]=L))}else L=f.ensureType(b,
E);L?.destroyed&&(d.getLogger("esri.support.basemapUtils").warn("The provided basemap is already destroyed",{basemap:L}),L=null);return L}function w(E){if(N)return N(E);let G=null;E=t(E);const L=!E?.baseLayers.length;for(const F in k.esriBasemapDefinitions){var R=z(k.esriBasemapDefinitions[F]);R=x(E,R,{mustMatchReferences:L});if("equal"===R){G=F;break}"base-layers-equal"===R&&(G=F)}return G}function q(E,G){const L=new e;E.forEach(R=>{const F=G.find(J=>"scene"!==J.type&&A(u(R),u(J)))||R;L.includes(F)?
L.push(R):L.push(F)});return L}function m(E){if(h(E.url))return!0;if("vector-tile"===E.type)for(const G in E.sourceNameToSource)if(h(E.sourceNameToSource[G]?.sourceUrl))return!0;return!1}function h(E){if(!E)return!1;E=new n.Url(n.makeAbsolute(E));return!!E.authority&&I.test(E.authority)}function t(E){return E?!E.loaded&&E.resourceInfo?z(E.resourceInfo.data):{baseLayers:y(E.baseLayers),referenceLayers:y(E.referenceLayers)}:null}function y(E){return(e.isCollection(E)?E.toArray():E).map(u)}function u(E){return{type:E.type,
effect:"effect"in E?E.effect:void 0,url:C("urlTemplate"in E&&E.urlTemplate||E.url||"styleUrl"in E&&E.styleUrl||""),minScale:"minScale"in E&&null!=E.minScale?E.minScale:0,maxScale:"maxScale"in E&&null!=E.maxScale?E.maxScale:0,opacity:null!=E.opacity?E.opacity:1,visible:null!=E.visible?!!E.visible:!0,sublayers:"map-image"!==E.type&&"wms"!==E.type||null==E.sublayers?void 0:E.sublayers?.map(G=>({id:G.id,visible:G.visible})),activeLayerId:"wmts"===E.type?E.activeLayer?.id:void 0}}function r(E){return E.isReference||
"ArcGISSceneServiceLayer"===E.layerType}function z(E){return E?{baseLayers:v((E.baseMapLayers??[]).filter(G=>!r(G))),referenceLayers:v((E.baseMapLayers??[]).filter(G=>r(G)))}:null}function v(E){return E.map(G=>{let L;switch(G.layerType){case "VectorTileLayer":L="vector-tile";break;case "ArcGISTiledMapServiceLayer":L="tile";break;case "ArcGISSceneServiceLayer":L="scene";break;default:L="unknown"}return{type:L,effect:G.effect,url:C(G.templateUrl||G.urlTemplate||G.styleUrl||G.url),minScale:G.minScale??
0,maxScale:G.maxScale??0,opacity:G.opacity??1,visible:null!=G.visibility?!!G.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function x(E,G,L){return null!=E!==(null!=G)?"not-equal":E&&G?B(E.baseLayers,G.baseLayers)?B(E.referenceLayers,G.referenceLayers)?"equal":L.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function B(E,G){if(E.length!==G.length)return!1;for(let L=0;L<E.length;L++)if(!A(E[L],G[L]))return!1;return!0}function A(E,G){if(E.type!==G.type||E.url!==G.url||
E.minScale!==G.minScale||E.maxScale!==G.maxScale||E.visible!==G.visible||E.opacity!==G.opacity||!g.effectEquals(E.effect,G.effect))return!1;if(null!=E.activeLayerId||null!=G.activeLayerId)return E.activeLayerId===G.activeLayerId;if(null!=E.sublayers||null!=G.sublayers){if(null==E.sublayers||null==G.sublayers||E.sublayers.length!==G.sublayers.length)return!1;for(let L=0;L<E.sublayers.length;L++){const R=E.sublayers.at(L),F=G.sublayers.at(L);if(R?.id!==F?.id||R?.visible!==F?.visible)return!1}}return!0}
function C(E){return E?n.normalize(E).replace(/^\s*https?:/i,"").toLowerCase():""}function H(E){return"portalItem"in E?E.portalItem?.thumbnailUrl:void 0}let N;const I=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(E,G=null){E=l(E);if(!E)return null;E=E.clone();G&&(E.baseLayers=q(E.baseLayers,G.baseLayers),E.referenceLayers=q(E.referenceLayers,G.referenceLayers));return E};a.contentEquals=function(E,G){if(E===G||null!=E?.portalItem?.id&&E.portalItem.id===G?.portalItem?.id)return!0;
E=t(E);G=t(G);return"equal"===x(E,G,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(E){for(const G in E)p.destroyMaybe(E[G]),delete E[G]};a.ensureType=l;a.findSpatialReference=function(E,G){if(null==G||null==E)return{spatialReference:null,updating:!1};if("not-loaded"===G.loadStatus)return G.load(),{spatialReference:null,updating:!0};if(G.spatialReference)return{spatialReference:G.spatialReference,updating:!1};if(0===G.baseLayers.length)return{spatialReference:null,
updating:!1};G=G.baseLayers.at(0);switch(G.loadStatus){case "not-loaded":G.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,updating:!1}}G=(("supportedSpatialReferences"in G?G.supportedSpatialReferences:null)||["tileInfo"in G?G.tileInfo?.spatialReference:G.spatialReference]).filter(Boolean);const L=E.spatialReference;return L?{spatialReference:G.find(R=>L.equals(R))??G[0]??null,updating:!1}:{spatialReference:G[0],updating:!1}};a.getBasemapThumbnailUrl=
function(E){if(!E)return null;var {thumbnailUrl:G}=E;return G?G:(G=w(E))?k.esriBasemapDefinitions[G].thumbnailUrl:p.mappedFind(E.baseLayers,H)};a.getWellKnownBasemapId=w;a.hasDeveloperBasemapLayer=function(E){return!!E?.baseLayers.concat(E.referenceLayers).some(m)};a.isBasemap3D=function(E){return"Web Scene"===E.portalItem?.type||E.referenceLayers.some(G=>"scene"===G.type)};a.isBasemapInBeta=function(E){return!!E?.portalItem?.tags?.some(G=>"beta"===G.toLowerCase())};a.isBasemapLayer=function(E,G){return E.basemap?.referenceLayers?.some(L=>
L.uid===G)||E.basemap?.baseLayers?.some(L=>L.uid===G)};a.isDeveloperBasemapLayer=m;a.overrideGetWellKnownBasemapId=function(E){N=E};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,b){a.canInterpolateEffects=function(c,e){const d=c.length>e.length?c:e;return(c.length>e.length?e:c).every((p,n)=>p.type===d[n].type)};a.effectEquals=function(c,e){c=JSON.stringify(c??null);e=JSON.stringify(e??null);return c===
e};a.isEffectFunctions=function(c){return(c=c[0])?"type"in c:!1};a.normalizeEffects=function(c,e){const d=c.length>e.length?c:e;c=c.length>e.length?e:c;for(e=c.length;e<d.length;e++)c.push(b.createEffectWithInitialValues(d[e]))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/effects":function(){define(["exports","../../colorUtils","../../core/screenUtils","../../core/libs/gl-matrix-2/factories/mat4f32","./colorMatrixFunctions"],function(a,b,c,e,d){function p(m,
h,t){return m+(h-m)*t}function n(m){return Math.round(1E3*c.px2pt(m))/1E3}class f{constructor(m,h,t){this.strength=m;this.radius=h;this.threshold=t;this.type="bloom"}interpolate(m,h,t){this.strength=p(m.strength,h.strength,t);this.radius=p(m.radius,h.radius,t);this.threshold=p(m.threshold,h.threshold,t)}clone(){return new f(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:n(this.radius),strength:this.strength,threshold:this.threshold}}}class g{constructor(m){this.radius=
m;this.type="blur"}interpolate(m,h,t){this.radius=Math.round(p(m.radius,h.radius,t))}clone(){return new g(this.radius)}toJSON(){return{type:"blur",radius:n(this.radius)}}}class k{constructor(m,h){this.type=m;this.amount=h;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(m,h,t){this.amount=p(m.amount,h.amount,t);this._updateMatrix()}clone(){return new k(this.type,
this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const m=this._colorMatrix||e.create();switch(this.type){case "brightness":this._colorMatrix=d.brightness(m,this.amount);break;case "contrast":this._colorMatrix=d.contrast(m,this.amount);break;case "grayscale":this._colorMatrix=d.grayscale(m,this.amount);break;case "invert":this._colorMatrix=d.invert(m,this.amount);break;case "saturate":this._colorMatrix=d.saturate(m,this.amount);break;case "sepia":this._colorMatrix=d.sepia(m,
this.amount)}}}class l{constructor(m,h,t,y){this.offsetX=m;this.offsetY=h;this.blurRadius=t;this.color=y;this.type="drop-shadow"}interpolate(m,h,t){this.offsetX=p(m.offsetX,h.offsetX,t);this.offsetY=p(m.offsetY,h.offsetY,t);this.blurRadius=p(m.blurRadius,h.blurRadius,t);this.color[0]=Math.round(p(m.color[0],h.color[0],t));this.color[1]=Math.round(p(m.color[1],h.color[1],t));this.color[2]=Math.round(p(m.color[2],h.color[2],t));this.color[3]=p(m.color[3],h.color[3],t)}clone(){return new l(this.offsetX,
this.offsetY,this.blurRadius,[...this.color])}toJSON(){const m=[...this.color];m[3]*=255;return{type:"drop-shadow",xoffset:n(this.offsetX),yoffset:n(this.offsetY),blurRadius:n(this.blurRadius),color:m}}}class w{constructor(m){this.angle=m;this.type="hue-rotate"}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(m,h,t){this.angle=p(m.angle,h.angle,t);this._updateMatrix()}clone(){return new w(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const m=
this._colorMatrix||e.create();this._colorMatrix=d.rotateHue(m,this.angle)}}class q{constructor(m){this.amount=m;this.type="opacity";this.amount=Math.min(this.amount,1)}interpolate(m,h,t){this.amount=p(m.amount,h.amount,t)}clone(){return new q(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}a.BloomEffect=f;a.BlurEffect=g;a.ColorMatrixEffect=k;a.DropShadowEffect=l;a.HueRotateEffect=w;a.OpacityEffect=q;a.createEffectWithInitialValues=function(m){switch(m.type){case "grayscale":case "sepia":case "invert":return new k(m.type,
0);case "saturate":case "brightness":case "contrast":return new k(m.type,1);case "opacity":return new q(1);case "hue-rotate":return new w(0);case "blur":return new g(0);case "drop-shadow":return new l(0,0,0,[...b.getNamedColor("transparent")]);case "bloom":return new f(0,0,1)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(e){return e?72*e/96:0}const c=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=
function(e){return e};a.castRenderScreenPointArray3=function(e){return e};a.castScreenPointArray=function(e){return e};a.createRenderScreenPoint=function(e=0,d=0){return{x:e,y:d}};a.createRenderScreenPointArray=function(e=0,d=0){return[e,d]};a.createRenderScreenPointArray3=function(e=0,d=0,p=0){return[e,d,p]};a.createScreenPoint=function(e=0,d=0){return{x:e,y:d}};a.createScreenPointArray=function(e=0,d=0){return[e,d]};a.pt2px=function(e){return e?e/72*96:0};a.px2pt=b;a.screenPointArrayToObject=function(e,
d){return d?(d.x=e[0],d.y=e[1],d):{x:e[0],y:e[1]}};a.screenPointObjectToArray=function(e,d){return d?(d[0]=e.x,d[1]=e.y,2<d.length&&(d[2]=0),d):[e.x,e.y]};a.toPt=function(e){if("string"===typeof e){var d=e.match(c);if(d){var p=Number(d[1]);d=d[3]&&d[3].toLowerCase();e="-"===e.charAt(0);p="px"===d?b(p):p;return e?-p:p}console.warn("screenUtils.toPt: input not recognized!");return null}return e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f32":function(){define(["exports"],
function(a){function b(){const f=new Float32Array(16);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f}function c(f){const g=new Float32Array(16);g[0]=f[0];g[1]=f[1];g[2]=f[2];g[3]=f[3];g[4]=f[4];g[5]=f[5];g[6]=f[6];g[7]=f[7];g[8]=f[8];g[9]=f[9];g[10]=f[10];g[11]=f[11];g[12]=f[12];g[13]=f[13];g[14]=f[14];g[15]=f[15];return g}function e(f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B){const A=new Float32Array(16);A[0]=f;A[1]=g;A[2]=k;A[3]=l;A[4]=w;A[5]=q;A[6]=m;A[7]=h;A[8]=t;A[9]=y;A[10]=u;A[11]=r;A[12]=z;A[13]=v;A[14]=x;A[15]=
B;return A}function d(f,g){return new Float32Array(f,g,16)}const p=b(),n=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:p,clone:c,create:b,createView:d,fromValues:e},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=p;a.clone=c;a.create=b;a.createView=d;a.fromValues=e;a.mat4f32=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(a,b){a.brightness=(c,
e)=>{c=b.set(c,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return b.transpose(c,c)};a.contrast=(c,e)=>{c=b.set(c,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return b.transpose(c,c)};a.grayscale=(c,e)=>{e=1-e;c=b.set(c,.2126+.7874*e,.7152-.7152*e,.0722-.0722*e,0,.2126-.2126*e,.7152+.2848*e,.0722-.0722*e,0,.2126-.2126*e,.7152-.7152*e,.0722+.9278*e,0,0,0,0,1);return b.transpose(c,c)};a.invert=(c,e)=>{const d=1-2*e;c=b.set(c,d,0,0,e,0,d,0,e,0,0,d,e,0,0,0,1);return b.transpose(c,c)};a.rotateHue=(c,e)=>{const d=
Math.sin(e*Math.PI/180);e=Math.cos(e*Math.PI/180);c=b.set(c,.213+.787*e-.213*d,.715-.715*e-.715*d,.072-.072*e+.928*d,0,.213-.213*e+.143*d,.715+.285*e+.14*d,.072-.072*e-.283*d,0,.213-.213*e-.787*d,.715-.715*e+.715*d,.072+.928*e+.072*d,0,0,0,0,1);return b.transpose(c,c)};a.saturate=(c,e)=>{c=b.set(c,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return b.transpose(c,c)};a.sepia=(c,e)=>{e=1-e;c=b.set(c,.393+.607*e,.769-.769*
e,.189-.189*e,0,.349-.349*e,.686+.314*e,.168-.168*e,0,.272-.272*e,.534-.534*e,.131+.869*e,0,0,0,0,1);return b.transpose(c,c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(a,b,c){function e(K,Q){K[0]=Q[0];K[1]=Q[1];K[2]=Q[2];K[3]=Q[3];K[4]=Q[4];K[5]=Q[5];K[6]=Q[6];K[7]=Q[7];K[8]=Q[8];K[9]=Q[9];K[10]=Q[10];K[11]=Q[11];K[12]=Q[12];K[13]=Q[13];K[14]=Q[14];K[15]=Q[15];return K}
function d(K,Q,ia,ka,Ba,W,da,ja,M,S,X,ma,ya,Ia,fa,oa,ta){K[0]=Q;K[1]=ia;K[2]=ka;K[3]=Ba;K[4]=W;K[5]=da;K[6]=ja;K[7]=M;K[8]=S;K[9]=X;K[10]=ma;K[11]=ya;K[12]=Ia;K[13]=fa;K[14]=oa;K[15]=ta;return K}function p(K){K[0]=1;K[1]=0;K[2]=0;K[3]=0;K[4]=0;K[5]=1;K[6]=0;K[7]=0;K[8]=0;K[9]=0;K[10]=1;K[11]=0;K[12]=0;K[13]=0;K[14]=0;K[15]=1;return K}function n(K,Q){if(K===Q){const ia=Q[1],ka=Q[2],Ba=Q[3],W=Q[6],da=Q[7],ja=Q[11];K[1]=Q[4];K[2]=Q[8];K[3]=Q[12];K[4]=ia;K[6]=Q[9];K[7]=Q[13];K[8]=ka;K[9]=W;K[11]=Q[14];
K[12]=Ba;K[13]=da;K[14]=ja}else K[0]=Q[0],K[1]=Q[4],K[2]=Q[8],K[3]=Q[12],K[4]=Q[1],K[5]=Q[5],K[6]=Q[9],K[7]=Q[13],K[8]=Q[2],K[9]=Q[6],K[10]=Q[10],K[11]=Q[14],K[12]=Q[3],K[13]=Q[7],K[14]=Q[11],K[15]=Q[15];return K}function f(K,Q){g(K,Q)||p(K);return K}function g(K,Q){const ia=Q[0],ka=Q[1],Ba=Q[2],W=Q[3],da=Q[4],ja=Q[5],M=Q[6],S=Q[7],X=Q[8],ma=Q[9],ya=Q[10],Ia=Q[11],fa=Q[12],oa=Q[13],ta=Q[14];Q=Q[15];const Fa=ia*ja-ka*da,Ea=ia*M-Ba*da,Qa=ia*S-W*da,Pa=ka*M-Ba*ja,Ra=ka*S-W*ja,Sa=Ba*S-W*M,na=X*oa-ma*fa,
xa=X*ta-ya*fa,Oa=X*Q-Ia*fa,Ua=ma*ta-ya*oa,gb=ma*Q-Ia*oa,rb=ya*Q-Ia*ta;let qb=Fa*rb-Ea*gb+Qa*Ua+Pa*Oa-Ra*xa+Sa*na;if(!qb)return null;qb=1/qb;K[0]=(ja*rb-M*gb+S*Ua)*qb;K[1]=(Ba*gb-ka*rb-W*Ua)*qb;K[2]=(oa*Sa-ta*Ra+Q*Pa)*qb;K[3]=(ya*Ra-ma*Sa-Ia*Pa)*qb;K[4]=(M*Oa-da*rb-S*xa)*qb;K[5]=(ia*rb-Ba*Oa+W*xa)*qb;K[6]=(ta*Qa-fa*Sa-Q*Ea)*qb;K[7]=(X*Sa-ya*Qa+Ia*Ea)*qb;K[8]=(da*gb-ja*Oa+S*na)*qb;K[9]=(ka*Oa-ia*gb-W*na)*qb;K[10]=(fa*Ra-oa*Qa+Q*Fa)*qb;K[11]=(ma*Qa-X*Ra-Ia*Fa)*qb;K[12]=(ja*xa-da*Ua-M*na)*qb;K[13]=(ia*
Ua-ka*xa+Ba*na)*qb;K[14]=(oa*Ea-fa*Pa-ta*Fa)*qb;K[15]=(X*Pa-ma*Ea+ya*Fa)*qb;return K}function k(K,Q){const ia=Q[0],ka=Q[1],Ba=Q[2],W=Q[3],da=Q[4],ja=Q[5],M=Q[6],S=Q[7],X=Q[8],ma=Q[9],ya=Q[10],Ia=Q[11],fa=Q[12],oa=Q[13],ta=Q[14];Q=Q[15];K[0]=ja*(ya*Q-Ia*ta)-ma*(M*Q-S*ta)+oa*(M*Ia-S*ya);K[1]=-(ka*(ya*Q-Ia*ta)-ma*(Ba*Q-W*ta)+oa*(Ba*Ia-W*ya));K[2]=ka*(M*Q-S*ta)-ja*(Ba*Q-W*ta)+oa*(Ba*S-W*M);K[3]=-(ka*(M*Ia-S*ya)-ja*(Ba*Ia-W*ya)+ma*(Ba*S-W*M));K[4]=-(da*(ya*Q-Ia*ta)-X*(M*Q-S*ta)+fa*(M*Ia-S*ya));K[5]=ia*
(ya*Q-Ia*ta)-X*(Ba*Q-W*ta)+fa*(Ba*Ia-W*ya);K[6]=-(ia*(M*Q-S*ta)-da*(Ba*Q-W*ta)+fa*(Ba*S-W*M));K[7]=ia*(M*Ia-S*ya)-da*(Ba*Ia-W*ya)+X*(Ba*S-W*M);K[8]=da*(ma*Q-Ia*oa)-X*(ja*Q-S*oa)+fa*(ja*Ia-S*ma);K[9]=-(ia*(ma*Q-Ia*oa)-X*(ka*Q-W*oa)+fa*(ka*Ia-W*ma));K[10]=ia*(ja*Q-S*oa)-da*(ka*Q-W*oa)+fa*(ka*S-W*ja);K[11]=-(ia*(ja*Ia-S*ma)-da*(ka*Ia-W*ma)+X*(ka*S-W*ja));K[12]=-(da*(ma*ta-ya*oa)-X*(ja*ta-M*oa)+fa*(ja*ya-M*ma));K[13]=ia*(ma*ta-ya*oa)-X*(ka*ta-Ba*oa)+fa*(ka*ya-Ba*ma);K[14]=-(ia*(ja*ta-M*oa)-da*(ka*ta-
Ba*oa)+fa*(ka*M-Ba*ja));K[15]=ia*(ja*ya-M*ma)-da*(ka*ya-Ba*ma)+X*(ka*M-Ba*ja);return K}function l(K){const Q=K[0],ia=K[1],ka=K[2],Ba=K[3],W=K[4],da=K[5],ja=K[6],M=K[7],S=K[8],X=K[9],ma=K[10],ya=K[11],Ia=K[12],fa=K[13],oa=K[14];K=K[15];return(Q*da-ia*W)*(ma*K-ya*oa)-(Q*ja-ka*W)*(X*K-ya*fa)+(Q*M-Ba*W)*(X*oa-ma*fa)+(ia*ja-ka*da)*(S*K-ya*Ia)-(ia*M-Ba*da)*(S*oa-ma*Ia)+(ka*M-Ba*ja)*(S*fa-X*Ia)}function w(K,Q,ia){const ka=Q[0],Ba=Q[1],W=Q[2],da=Q[3],ja=Q[4],M=Q[5],S=Q[6],X=Q[7],ma=Q[8],ya=Q[9],Ia=Q[10],
fa=Q[11],oa=Q[12],ta=Q[13],Fa=Q[14];Q=Q[15];let Ea=ia[0],Qa=ia[1],Pa=ia[2],Ra=ia[3];K[0]=Ea*ka+Qa*ja+Pa*ma+Ra*oa;K[1]=Ea*Ba+Qa*M+Pa*ya+Ra*ta;K[2]=Ea*W+Qa*S+Pa*Ia+Ra*Fa;K[3]=Ea*da+Qa*X+Pa*fa+Ra*Q;Ea=ia[4];Qa=ia[5];Pa=ia[6];Ra=ia[7];K[4]=Ea*ka+Qa*ja+Pa*ma+Ra*oa;K[5]=Ea*Ba+Qa*M+Pa*ya+Ra*ta;K[6]=Ea*W+Qa*S+Pa*Ia+Ra*Fa;K[7]=Ea*da+Qa*X+Pa*fa+Ra*Q;Ea=ia[8];Qa=ia[9];Pa=ia[10];Ra=ia[11];K[8]=Ea*ka+Qa*ja+Pa*ma+Ra*oa;K[9]=Ea*Ba+Qa*M+Pa*ya+Ra*ta;K[10]=Ea*W+Qa*S+Pa*Ia+Ra*Fa;K[11]=Ea*da+Qa*X+Pa*fa+Ra*Q;Ea=ia[12];
Qa=ia[13];Pa=ia[14];Ra=ia[15];K[12]=Ea*ka+Qa*ja+Pa*ma+Ra*oa;K[13]=Ea*Ba+Qa*M+Pa*ya+Ra*ta;K[14]=Ea*W+Qa*S+Pa*Ia+Ra*Fa;K[15]=Ea*da+Qa*X+Pa*fa+Ra*Q;return K}function q(K,Q,ia){const ka=ia[0],Ba=ia[1];ia=ia[2];if(Q===K)K[12]=Q[0]*ka+Q[4]*Ba+Q[8]*ia+Q[12],K[13]=Q[1]*ka+Q[5]*Ba+Q[9]*ia+Q[13],K[14]=Q[2]*ka+Q[6]*Ba+Q[10]*ia+Q[14],K[15]=Q[3]*ka+Q[7]*Ba+Q[11]*ia+Q[15];else{const W=Q[0],da=Q[1],ja=Q[2],M=Q[3],S=Q[4],X=Q[5],ma=Q[6],ya=Q[7],Ia=Q[8],fa=Q[9],oa=Q[10],ta=Q[11];K[0]=W;K[1]=da;K[2]=ja;K[3]=M;K[4]=
S;K[5]=X;K[6]=ma;K[7]=ya;K[8]=Ia;K[9]=fa;K[10]=oa;K[11]=ta;K[12]=W*ka+S*Ba+Ia*ia+Q[12];K[13]=da*ka+X*Ba+fa*ia+Q[13];K[14]=ja*ka+ma*Ba+oa*ia+Q[14];K[15]=M*ka+ya*Ba+ta*ia+Q[15]}return K}function m(K,Q,ia){const ka=ia[0],Ba=ia[1];ia=ia[2];K[0]=Q[0]*ka;K[1]=Q[1]*ka;K[2]=Q[2]*ka;K[3]=Q[3]*ka;K[4]=Q[4]*Ba;K[5]=Q[5]*Ba;K[6]=Q[6]*Ba;K[7]=Q[7]*Ba;K[8]=Q[8]*ia;K[9]=Q[9]*ia;K[10]=Q[10]*ia;K[11]=Q[11]*ia;K[12]=Q[12];K[13]=Q[13];K[14]=Q[14];K[15]=Q[15];return K}function h(K,Q,ia,ka){let Ba=ka[0],W=ka[1];ka=ka[2];
let da=Math.sqrt(Ba*Ba+W*W+ka*ka);var ja=void 0,M=void 0;let S=void 0,X=void 0,ma=void 0,ya=void 0,Ia=void 0,fa=void 0,oa=void 0,ta=void 0,Fa=void 0,Ea=void 0,Qa=void 0,Pa=void 0,Ra=void 0,Sa=void 0,na=void 0,xa=void 0,Oa=void 0,Ua=void 0,gb=void 0,rb=void 0;M=ja=void 0;if(da<c.getEpsilon())return null;da=1/da;Ba*=da;W*=da;ka*=da;ja=Math.sin(ia);M=Math.cos(ia);S=1-M;X=Q[0];ma=Q[1];ya=Q[2];Ia=Q[3];fa=Q[4];oa=Q[5];ta=Q[6];Fa=Q[7];Ea=Q[8];Qa=Q[9];Pa=Q[10];Ra=Q[11];Sa=Ba*Ba*S+M;na=W*Ba*S+ka*ja;xa=ka*
Ba*S-W*ja;Oa=Ba*W*S-ka*ja;Ua=W*W*S+M;gb=ka*W*S+Ba*ja;rb=Ba*ka*S+W*ja;ja=W*ka*S-Ba*ja;M=ka*ka*S+M;K[0]=X*Sa+fa*na+Ea*xa;K[1]=ma*Sa+oa*na+Qa*xa;K[2]=ya*Sa+ta*na+Pa*xa;K[3]=Ia*Sa+Fa*na+Ra*xa;K[4]=X*Oa+fa*Ua+Ea*gb;K[5]=ma*Oa+oa*Ua+Qa*gb;K[6]=ya*Oa+ta*Ua+Pa*gb;K[7]=Ia*Oa+Fa*Ua+Ra*gb;K[8]=X*rb+fa*ja+Ea*M;K[9]=ma*rb+oa*ja+Qa*M;K[10]=ya*rb+ta*ja+Pa*M;K[11]=Ia*rb+Fa*ja+Ra*M;Q!==K&&(K[12]=Q[12],K[13]=Q[13],K[14]=Q[14],K[15]=Q[15]);return K}function t(K,Q,ia){const ka=Math.sin(ia);ia=Math.cos(ia);const Ba=Q[4],
W=Q[5],da=Q[6],ja=Q[7],M=Q[8],S=Q[9],X=Q[10],ma=Q[11];Q!==K&&(K[0]=Q[0],K[1]=Q[1],K[2]=Q[2],K[3]=Q[3],K[12]=Q[12],K[13]=Q[13],K[14]=Q[14],K[15]=Q[15]);K[4]=Ba*ia+M*ka;K[5]=W*ia+S*ka;K[6]=da*ia+X*ka;K[7]=ja*ia+ma*ka;K[8]=M*ia-Ba*ka;K[9]=S*ia-W*ka;K[10]=X*ia-da*ka;K[11]=ma*ia-ja*ka;return K}function y(K,Q,ia){const ka=Math.sin(ia);ia=Math.cos(ia);const Ba=Q[0],W=Q[1],da=Q[2],ja=Q[3],M=Q[8],S=Q[9],X=Q[10],ma=Q[11];Q!==K&&(K[4]=Q[4],K[5]=Q[5],K[6]=Q[6],K[7]=Q[7],K[12]=Q[12],K[13]=Q[13],K[14]=Q[14],K[15]=
Q[15]);K[0]=Ba*ia-M*ka;K[1]=W*ia-S*ka;K[2]=da*ia-X*ka;K[3]=ja*ia-ma*ka;K[8]=Ba*ka+M*ia;K[9]=W*ka+S*ia;K[10]=da*ka+X*ia;K[11]=ja*ka+ma*ia;return K}function u(K,Q,ia){const ka=Math.sin(ia);ia=Math.cos(ia);const Ba=Q[0],W=Q[1],da=Q[2],ja=Q[3],M=Q[4],S=Q[5],X=Q[6],ma=Q[7];Q!==K&&(K[8]=Q[8],K[9]=Q[9],K[10]=Q[10],K[11]=Q[11],K[12]=Q[12],K[13]=Q[13],K[14]=Q[14],K[15]=Q[15]);K[0]=Ba*ia+M*ka;K[1]=W*ia+S*ka;K[2]=da*ia+X*ka;K[3]=ja*ia+ma*ka;K[4]=M*ia-Ba*ka;K[5]=S*ia-W*ka;K[6]=X*ia-da*ka;K[7]=ma*ia-ja*ka;return K}
function r(K,Q){K[0]=1;K[1]=0;K[2]=0;K[3]=0;K[4]=0;K[5]=1;K[6]=0;K[7]=0;K[8]=0;K[9]=0;K[10]=1;K[11]=0;K[12]=Q[0];K[13]=Q[1];K[14]=Q[2];K[15]=1;return K}function z(K,Q){K[0]=Q[0];K[1]=0;K[2]=0;K[3]=0;K[4]=0;K[5]=Q[1];K[6]=0;K[7]=0;K[8]=0;K[9]=0;K[10]=Q[2];K[11]=0;K[12]=0;K[13]=0;K[14]=0;K[15]=1;return K}function v(K,Q,ia){if(0===Q)return p(K);let ka=ia[0],Ba=ia[1];ia=ia[2];let W=Math.sqrt(ka*ka+Ba*Ba+ia*ia),da=void 0,ja=void 0,M=void 0;if(W<c.getEpsilon())return null;W=1/W;ka*=W;Ba*=W;ia*=W;da=Math.sin(Q);
ja=Math.cos(Q);M=1-ja;K[0]=ka*ka*M+ja;K[1]=Ba*ka*M+ia*da;K[2]=ia*ka*M-Ba*da;K[3]=0;K[4]=ka*Ba*M-ia*da;K[5]=Ba*Ba*M+ja;K[6]=ia*Ba*M+ka*da;K[7]=0;K[8]=ka*ia*M+Ba*da;K[9]=Ba*ia*M-ka*da;K[10]=ia*ia*M+ja;K[11]=0;K[12]=0;K[13]=0;K[14]=0;K[15]=1;return K}function x(K,Q){const ia=Math.sin(Q);Q=Math.cos(Q);K[0]=1;K[1]=0;K[2]=0;K[3]=0;K[4]=0;K[5]=Q;K[6]=ia;K[7]=0;K[8]=0;K[9]=-ia;K[10]=Q;K[11]=0;K[12]=0;K[13]=0;K[14]=0;K[15]=1;return K}function B(K,Q){const ia=Math.sin(Q);Q=Math.cos(Q);K[0]=Q;K[1]=0;K[2]=-ia;
K[3]=0;K[4]=0;K[5]=1;K[6]=0;K[7]=0;K[8]=ia;K[9]=0;K[10]=Q;K[11]=0;K[12]=0;K[13]=0;K[14]=0;K[15]=1;return K}function A(K,Q){const ia=Math.sin(Q);Q=Math.cos(Q);K[0]=Q;K[1]=ia;K[2]=0;K[3]=0;K[4]=-ia;K[5]=Q;K[6]=0;K[7]=0;K[8]=0;K[9]=0;K[10]=1;K[11]=0;K[12]=0;K[13]=0;K[14]=0;K[15]=1;return K}function C(K,Q,ia){var ka=Q[0],Ba=Q[1],W=Q[2],da=Q[3],ja=ka+ka,M=Ba+Ba;const S=W+W;Q=ka*ja;const X=ka*M;ka*=S;const ma=Ba*M;Ba*=S;W*=S;ja*=da;M*=da;da*=S;K[0]=1-(ma+W);K[1]=X+da;K[2]=ka-M;K[3]=0;K[4]=X-da;K[5]=1-(Q+
W);K[6]=Ba+ja;K[7]=0;K[8]=ka+M;K[9]=Ba-ja;K[10]=1-(Q+ma);K[11]=0;K[12]=ia[0];K[13]=ia[1];K[14]=ia[2];K[15]=1;return K}function H(K,Q){const ia=ua,ka=-Q[0],Ba=-Q[1],W=-Q[2],da=Q[3],ja=Q[4],M=Q[5],S=Q[6],X=Q[7],ma=ka*ka+Ba*Ba+W*W+da*da;0<ma?(ia[0]=2*(ja*da+X*ka+M*W-S*Ba)/ma,ia[1]=2*(M*da+X*Ba+S*ka-ja*W)/ma,ia[2]=2*(S*da+X*W+ja*Ba-M*ka)/ma):(ia[0]=2*(ja*da+X*ka+M*W-S*Ba),ia[1]=2*(M*da+X*Ba+S*ka-ja*W),ia[2]=2*(S*da+X*W+ja*Ba-M*ka));C(K,Q,ia);return K}function N(K,Q){K[0]=Q[12];K[1]=Q[13];K[2]=Q[14];return K}
function I(K,Q){const ia=Q[0],ka=Q[1],Ba=Q[2],W=Q[4],da=Q[5],ja=Q[6],M=Q[8],S=Q[9];Q=Q[10];K[0]=Math.sqrt(ia*ia+ka*ka+Ba*Ba);K[1]=Math.sqrt(W*W+da*da+ja*ja);K[2]=Math.sqrt(M*M+S*S+Q*Q);return K}function E(K,Q){const ia=Q[0]+Q[5]+Q[10];let ka=0;0<ia?(ka=2*Math.sqrt(ia+1),K[3]=.25*ka,K[0]=(Q[6]-Q[9])/ka,K[1]=(Q[8]-Q[2])/ka,K[2]=(Q[1]-Q[4])/ka):Q[0]>Q[5]&&Q[0]>Q[10]?(ka=2*Math.sqrt(1+Q[0]-Q[5]-Q[10]),K[3]=(Q[6]-Q[9])/ka,K[0]=.25*ka,K[1]=(Q[1]+Q[4])/ka,K[2]=(Q[8]+Q[2])/ka):Q[5]>Q[10]?(ka=2*Math.sqrt(1+
Q[5]-Q[0]-Q[10]),K[3]=(Q[8]-Q[2])/ka,K[0]=(Q[1]+Q[4])/ka,K[1]=.25*ka,K[2]=(Q[6]+Q[9])/ka):(ka=2*Math.sqrt(1+Q[10]-Q[0]-Q[5]),K[3]=(Q[1]-Q[4])/ka,K[0]=(Q[8]+Q[2])/ka,K[1]=(Q[6]+Q[9])/ka,K[2]=.25*ka);return K}function G(K,Q,ia,ka){var Ba=Q[0],W=Q[1],da=Q[2],ja=Q[3],M=Ba+Ba,S=W+W,X=da+da;Q=Ba*M;const ma=Ba*S;Ba*=X;const ya=W*S;W*=X;da*=X;M*=ja;S*=ja;ja*=X;X=ka[0];const Ia=ka[1];ka=ka[2];K[0]=(1-(ya+da))*X;K[1]=(ma+ja)*X;K[2]=(Ba-S)*X;K[3]=0;K[4]=(ma-ja)*Ia;K[5]=(1-(Q+da))*Ia;K[6]=(W+M)*Ia;K[7]=0;K[8]=
(Ba+S)*ka;K[9]=(W-M)*ka;K[10]=(1-(Q+ya))*ka;K[11]=0;K[12]=ia[0];K[13]=ia[1];K[14]=ia[2];K[15]=1;return K}function L(K,Q,ia,ka,Ba){var W=Q[0],da=Q[1],ja=Q[2],M=Q[3],S=W+W,X=da+da,ma=ja+ja;Q=W*S;var ya=W*X,Ia=W*ma;W=da*X;da*=ma;var fa=ja*ma;ja=M*S;X*=M;const oa=M*ma;var ta=ka[0],Fa=ka[1];ma=ka[2];ka=Ba[0];M=Ba[1];Ba=Ba[2];S=(1-(W+fa))*ta;const Ea=(ya+oa)*ta;ta*=Ia-X;ya=(ya-oa)*Fa;fa=(1-(Q+fa))*Fa;Fa*=da+ja;Ia=(Ia+X)*ma;da=(da-ja)*ma;Q=(1-(Q+W))*ma;K[0]=S;K[1]=Ea;K[2]=ta;K[3]=0;K[4]=ya;K[5]=fa;K[6]=
Fa;K[7]=0;K[8]=Ia;K[9]=da;K[10]=Q;K[11]=0;K[12]=ia[0]+ka-(S*ka+ya*M+Ia*Ba);K[13]=ia[1]+M-(Ea*ka+fa*M+da*Ba);K[14]=ia[2]+Ba-(ta*ka+Fa*M+Q*Ba);K[15]=1;return K}function R(K,Q){var ia=Q[0],ka=Q[1],Ba=Q[2];Q=Q[3];var W=ia+ia,da=ka+ka;const ja=Ba+Ba;ia*=W;const M=ka*W;ka*=da;const S=Ba*W,X=Ba*da;Ba*=ja;W*=Q;da*=Q;Q*=ja;K[0]=1-ka-Ba;K[1]=M+Q;K[2]=S-da;K[3]=0;K[4]=M-Q;K[5]=1-ia-Ba;K[6]=X+W;K[7]=0;K[8]=S+da;K[9]=X-W;K[10]=1-ia-ka;K[11]=0;K[12]=0;K[13]=0;K[14]=0;K[15]=1;return K}function F(K,Q,ia,ka,Ba,W,
da){const ja=1/(ia-Q),M=1/(Ba-ka),S=1/(W-da);K[0]=2*W*ja;K[1]=0;K[2]=0;K[3]=0;K[4]=0;K[5]=2*W*M;K[6]=0;K[7]=0;K[8]=(ia+Q)*ja;K[9]=(Ba+ka)*M;K[10]=(da+W)*S;K[11]=-1;K[12]=0;K[13]=0;K[14]=da*W*2*S;K[15]=0;return K}function J(K,Q,ia,ka,Ba){Q=1/Math.tan(Q/2);let W=void 0;K[0]=Q/ia;K[1]=0;K[2]=0;K[3]=0;K[4]=0;K[5]=Q;K[6]=0;K[7]=0;K[8]=0;K[9]=0;K[11]=-1;K[12]=0;K[13]=0;K[15]=0;null!=Ba&&Infinity!==Ba?(W=1/(ka-Ba),K[10]=(Ba+ka)*W,K[14]=2*Ba*ka*W):(K[10]=-1,K[14]=-2*ka);return K}function O(K,Q,ia,ka){const Ba=
Math.tan(Q.upDegrees*Math.PI/180),W=Math.tan(Q.downDegrees*Math.PI/180),da=Math.tan(Q.leftDegrees*Math.PI/180);Q=Math.tan(Q.rightDegrees*Math.PI/180);const ja=2/(da+Q),M=2/(Ba+W);K[0]=ja;K[1]=0;K[2]=0;K[3]=0;K[4]=0;K[5]=M;K[6]=0;K[7]=0;K[8]=-((da-Q)*ja*.5);K[9]=(Ba-W)*M*.5;K[10]=ka/(ia-ka);K[11]=-1;K[12]=0;K[13]=0;K[14]=ka*ia/(ia-ka);K[15]=0;return K}function U(K,Q,ia,ka,Ba,W,da){const ja=1/(Q-ia),M=1/(ka-Ba),S=1/(W-da);K[0]=-2*ja;K[1]=0;K[2]=0;K[3]=0;K[4]=0;K[5]=-2*M;K[6]=0;K[7]=0;K[8]=0;K[9]=0;
K[10]=2*S;K[11]=0;K[12]=(Q+ia)*ja;K[13]=(Ba+ka)*M;K[14]=(da+W)*S;K[15]=1;return K}function T(K,Q,ia,ka){const Ba=Q[0],W=Q[1];Q=Q[2];let da=Ba-ia[0],ja=W-ia[1];ia=Q-ia[2];var M=c.getEpsilon();if(Math.abs(da)<M&&Math.abs(ja)<M&&Math.abs(ia)<M)p(K);else{var S=1/Math.sqrt(da*da+ja*ja+ia*ia);da*=S;ja*=S;ia*=S;S=ka[0];var X=ka[1];M=ka[2];ka=X*ia-M*ja;M=M*da-S*ia;X=S*ja-X*da;(S=Math.sqrt(ka*ka+M*M+X*X))?(S=1/S,ka*=S,M*=S,X*=S):X=M=ka=0;var ma=ja*X-ia*M,ya=ia*ka-da*X,Ia=da*M-ja*ka;(S=Math.sqrt(ma*ma+ya*ya+
Ia*Ia))?(S=1/S,ma*=S,ya*=S,Ia*=S):Ia=ya=ma=0;K[0]=ka;K[1]=ma;K[2]=da;K[3]=0;K[4]=M;K[5]=ya;K[6]=ja;K[7]=0;K[8]=X;K[9]=Ia;K[10]=ia;K[11]=0;K[12]=-(ka*Ba+M*W+X*Q);K[13]=-(ma*Ba+ya*W+Ia*Q);K[14]=-(da*Ba+ja*W+ia*Q);K[15]=1}}function Z(K,Q,ia,ka){const Ba=Q[0],W=Q[1];Q=Q[2];var da=ka[0];const ja=ka[1];var M=ka[2];ka=Ba-ia[0];let S=W-ia[1];ia=Q-ia[2];let X=ka*ka+S*S+ia*ia;0<X&&(X=1/Math.sqrt(X),ka*=X,S*=X,ia*=X);let ma=ja*ia-M*S;M=M*ka-da*ia;da=da*S-ja*ka;X=ma*ma+M*M+da*da;0<X&&(X=1/Math.sqrt(X),ma*=X,
M*=X,da*=X);K[0]=ma;K[1]=M;K[2]=da;K[3]=0;K[4]=S*da-ia*M;K[5]=ia*ma-ka*da;K[6]=ka*M-S*ma;K[7]=0;K[8]=ka;K[9]=S;K[10]=ia;K[11]=0;K[12]=Ba;K[13]=W;K[14]=Q;K[15]=1;return K}function V(K){return"mat4("+K[0]+", "+K[1]+", "+K[2]+", "+K[3]+", "+K[4]+", "+K[5]+", "+K[6]+", "+K[7]+", "+K[8]+", "+K[9]+", "+K[10]+", "+K[11]+", "+K[12]+", "+K[13]+", "+K[14]+", "+K[15]+")"}function qa(K){return Math.sqrt(K[0]**2+K[1]**2+K[2]**2+K[3]**2+K[4]**2+K[5]**2+K[6]**2+K[7]**2+K[8]**2+K[9]**2+K[10]**2+K[11]**2+K[12]**2+
K[13]**2+K[14]**2+K[15]**2)}function Ca(K,Q,ia){K[0]=Q[0]+ia[0];K[1]=Q[1]+ia[1];K[2]=Q[2]+ia[2];K[3]=Q[3]+ia[3];K[4]=Q[4]+ia[4];K[5]=Q[5]+ia[5];K[6]=Q[6]+ia[6];K[7]=Q[7]+ia[7];K[8]=Q[8]+ia[8];K[9]=Q[9]+ia[9];K[10]=Q[10]+ia[10];K[11]=Q[11]+ia[11];K[12]=Q[12]+ia[12];K[13]=Q[13]+ia[13];K[14]=Q[14]+ia[14];K[15]=Q[15]+ia[15];return K}function va(K,Q,ia){K[0]=Q[0]-ia[0];K[1]=Q[1]-ia[1];K[2]=Q[2]-ia[2];K[3]=Q[3]-ia[3];K[4]=Q[4]-ia[4];K[5]=Q[5]-ia[5];K[6]=Q[6]-ia[6];K[7]=Q[7]-ia[7];K[8]=Q[8]-ia[8];K[9]=Q[9]-
ia[9];K[10]=Q[10]-ia[10];K[11]=Q[11]-ia[11];K[12]=Q[12]-ia[12];K[13]=Q[13]-ia[13];K[14]=Q[14]-ia[14];K[15]=Q[15]-ia[15];return K}function ra(K,Q,ia){K[0]=Q[0]*ia;K[1]=Q[1]*ia;K[2]=Q[2]*ia;K[3]=Q[3]*ia;K[4]=Q[4]*ia;K[5]=Q[5]*ia;K[6]=Q[6]*ia;K[7]=Q[7]*ia;K[8]=Q[8]*ia;K[9]=Q[9]*ia;K[10]=Q[10]*ia;K[11]=Q[11]*ia;K[12]=Q[12]*ia;K[13]=Q[13]*ia;K[14]=Q[14]*ia;K[15]=Q[15]*ia;return K}function Aa(K,Q,ia,ka){K[0]=Q[0]+ia[0]*ka;K[1]=Q[1]+ia[1]*ka;K[2]=Q[2]+ia[2]*ka;K[3]=Q[3]+ia[3]*ka;K[4]=Q[4]+ia[4]*ka;K[5]=
Q[5]+ia[5]*ka;K[6]=Q[6]+ia[6]*ka;K[7]=Q[7]+ia[7]*ka;K[8]=Q[8]+ia[8]*ka;K[9]=Q[9]+ia[9]*ka;K[10]=Q[10]+ia[10]*ka;K[11]=Q[11]+ia[11]*ka;K[12]=Q[12]+ia[12]*ka;K[13]=Q[13]+ia[13]*ka;K[14]=Q[14]+ia[14]*ka;K[15]=Q[15]+ia[15]*ka;return K}function ea(K,Q){return K[0]===Q[0]&&K[1]===Q[1]&&K[2]===Q[2]&&K[3]===Q[3]&&K[4]===Q[4]&&K[5]===Q[5]&&K[6]===Q[6]&&K[7]===Q[7]&&K[8]===Q[8]&&K[9]===Q[9]&&K[10]===Q[10]&&K[11]===Q[11]&&K[12]===Q[12]&&K[13]===Q[13]&&K[14]===Q[14]&&K[15]===Q[15]}function ca(K,Q){if(K===Q)return!0;
const ia=K[0],ka=K[1],Ba=K[2],W=K[3],da=K[4],ja=K[5],M=K[6],S=K[7],X=K[8],ma=K[9],ya=K[10],Ia=K[11],fa=K[12],oa=K[13],ta=K[14];K=K[15];const Fa=Q[0],Ea=Q[1],Qa=Q[2],Pa=Q[3],Ra=Q[4],Sa=Q[5],na=Q[6],xa=Q[7],Oa=Q[8],Ua=Q[9],gb=Q[10],rb=Q[11],qb=Q[12],Eb=Q[13],zb=Q[14];Q=Q[15];const sb=c.getEpsilon();return Math.abs(ia-Fa)<=sb*Math.max(1,Math.abs(ia),Math.abs(Fa))&&Math.abs(ka-Ea)<=sb*Math.max(1,Math.abs(ka),Math.abs(Ea))&&Math.abs(Ba-Qa)<=sb*Math.max(1,Math.abs(Ba),Math.abs(Qa))&&Math.abs(W-Pa)<=sb*
Math.max(1,Math.abs(W),Math.abs(Pa))&&Math.abs(da-Ra)<=sb*Math.max(1,Math.abs(da),Math.abs(Ra))&&Math.abs(ja-Sa)<=sb*Math.max(1,Math.abs(ja),Math.abs(Sa))&&Math.abs(M-na)<=sb*Math.max(1,Math.abs(M),Math.abs(na))&&Math.abs(S-xa)<=sb*Math.max(1,Math.abs(S),Math.abs(xa))&&Math.abs(X-Oa)<=sb*Math.max(1,Math.abs(X),Math.abs(Oa))&&Math.abs(ma-Ua)<=sb*Math.max(1,Math.abs(ma),Math.abs(Ua))&&Math.abs(ya-gb)<=sb*Math.max(1,Math.abs(ya),Math.abs(gb))&&Math.abs(Ia-rb)<=sb*Math.max(1,Math.abs(Ia),Math.abs(rb))&&
Math.abs(fa-qb)<=sb*Math.max(1,Math.abs(fa),Math.abs(qb))&&Math.abs(oa-Eb)<=sb*Math.max(1,Math.abs(oa),Math.abs(Eb))&&Math.abs(ta-zb)<=sb*Math.max(1,Math.abs(ta),Math.abs(zb))&&Math.abs(K-Q)<=sb*Math.max(1,Math.abs(K),Math.abs(Q))}function Y(K){const Q=c.getEpsilon(),ia=K[0],ka=K[1],Ba=K[2],W=K[4],da=K[5],ja=K[6],M=K[8],S=K[9];K=K[10];return Math.abs(1-(ia*ia+W*W+M*M))<=Q&&Math.abs(1-(ka*ka+da*da+S*S))<=Q&&Math.abs(1-(Ba*Ba+ja*ja+K*K))<=Q}function ha(K){return 1===K[0]&&0===K[1]&&0===K[2]&&0===K[4]&&
1===K[5]&&0===K[6]&&0===K[8]&&0===K[9]&&1===K[10]}const ua=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:Ca,adjoint:k,copy:e,determinant:l,equals:ca,exactEquals:ea,frob:qa,fromQuat:R,fromQuat2:H,fromRotation:v,fromRotationTranslation:C,fromRotationTranslationScale:G,fromRotationTranslationScaleOrigin:L,fromScaling:z,fromTranslation:r,fromXRotation:x,fromYRotation:B,fromZRotation:A,frustum:F,getRotation:E,getScaling:I,getTranslation:N,hasIdentityRotation:ha,identity:p,invert:g,
invertOrIdentity:f,isOrthoNormal:Y,lookAt:T,mul:w,multiply:w,multiplyScalar:ra,multiplyScalarAndAdd:Aa,ortho:U,perspective:J,perspectiveFromFieldOfView:O,rotate:h,rotateX:t,rotateY:y,rotateZ:u,scale:m,set:d,str:V,sub:va,subtract:va,targetTo:Z,translate:q,transpose:n},Symbol.toStringTag,{value:"Module"}));a.add=Ca;a.adjoint=k;a.copy=e;a.determinant=l;a.equals=ca;a.exactEquals=ea;a.frob=qa;a.fromQuat=R;a.fromQuat2=H;a.fromRotation=v;a.fromRotationTranslation=C;a.fromRotationTranslationScale=G;a.fromRotationTranslationScaleOrigin=
L;a.fromScaling=z;a.fromTranslation=r;a.fromXRotation=x;a.fromYRotation=B;a.fromZRotation=A;a.frustum=F;a.getRotation=E;a.getScaling=I;a.getTranslation=N;a.hasIdentityRotation=ha;a.identity=p;a.invert=g;a.invertOrIdentity=f;a.isOrthoNormal=Y;a.lookAt=T;a.mat4=b;a.mul=w;a.multiply=w;a.multiplyScalar=ra;a.multiplyScalarAndAdd=Aa;a.ortho=U;a.perspective=J;a.perspectiveFromFieldOfView=O;a.rotate=h;a.rotateX=t;a.rotateY=y;a.rotateZ=u;a.scale=m;a.set=d;a.str=V;a.sub=va;a.subtract=va;a.targetTo=Z;a.translate=
q;a.transpose=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/collectionUtils":function(){define(["exports","../core/CollectionFlattener"],function(a,b){a.createFlattenedTablesCollection=function(c){return new b({getCollections:()=>[c.tables,c.layers],getChildrenFunction:e=>{const d=[];"tables"in e&&d.push(e.tables);"layers"in e&&d.push(e.layers);return d},itemFilterFunction:e=>{const d=e.parent;return!!d&&"tables"in d&&d.tables.includes(e)}})};a.destroyMap=function(c){for(const e of c.values())e?.destroy();
c.clear()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/groundUtils":function(){define(["exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,c,e){const d={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",
layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(p){let n=null;"string"===typeof p?p in d?n=new b({resourceInfo:{data:{layers:[d[p]]}}}):c.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${p}. Try "world-elevation"`):n=e.ensureType(b,p);return n};a.groundElevationLayers=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/LayersMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){function w(q,m,h){if(q)for(let y=0,u=q.length;y<u;y++){var t=q.at(y);if(t?.[m]===h||"group"===t?.type&&(t=w(t.layers,m,h)))return t}}a.LayersMixin=q=>{q=class extends q{constructor(...m){super(...m);this.layers=new c;const h=y=>{y.parent=this;this.layerAdded(y);"elevation"!==y.type&&"base-elevation"!==y.type||d.getLogger(this).error(`Layer 'title:${y.title}, id:${y.id}' of type '${y.type}' is not supported as an operational layer and will therefore be ignored.`)},t=
y=>{y.parent=null;this.layerRemoved(y)};this.addHandles([this.layers.on("before-add",y=>{y.item===this?(y.preventDefault(),d.getLogger(this).error("#add()","Cannot add layer to itself.")):(y=y.item,y.parent&&"remove"in y.parent&&y.parent.remove(y))}),this.layers.on("after-add",y=>h(y.item)),this.layers.on("after-remove",y=>t(y.item))])}destroy(){const m=this.layers.toArray();for(const h of m)h.destroy();this.layers.destroy()}set layers(m){this._set("layers",e.referenceSetter(m,this._get("layers")))}add(m,
h){const t=this.layers;h=t.getNextIndex(h);m instanceof l?m.parent===this?this.reorder(m,h):t.add(m,h):p.isPromiseLike(m)?m.then(y=>{this.destroyed||this.add(y,h)}):d.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(m,h){const t=this.layers;let y=t.getNextIndex(h);m.slice().forEach(u=>{u.parent===this?this.reorder(u,y):(t.add(u,y),y+=1)})}findLayerById(m){return w(this.layers,"id",m)}findLayerByUid(m){return w(this.layers,"uid",m)}remove(m){return this.layers.remove(m)}removeMany(m){return this.layers.removeMany(m)}removeAll(){return this.layers.removeAll()}reorder(m,
h){return this.layers.reorder(m,h)}layerAdded(m){}layerRemoved(m){}};b.__decorate([n.property()],q.prototype,"layers",null);return q=b.__decorate([k.subclass("esri.support.LayersMixin")],q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/Layer":function(){define("require ../chunks/tslib.es6 ../geometry ../request ../TimeExtent ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./support/fromPortalItem ../geometry/Extent ../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r){let z=0;c=class extends n.EventedMixin(f.IdentifiableMixin(g)){constructor(){super(...arguments);this.attributionDataUrl=null;this.fullExtent=new u(-180,-90,180,90,r.WGS84);this.id=Date.now().toString(16)+"-layer-"+z++;this.legendEnabled=!0;this.listMode="show";this.opacity=1;this.parent=null;this.persistenceEnabled=!1;this.attributionVisible=this.popupEnabled=!0;this.spatialReference=r.WGS84;this.visibilityTimeExtent=this.url=this.type=this.title=null;
this.visible=!0}static async fromArcGISServerUrl(v){v="string"===typeof v?{url:v}:v;return(await new Promise((x,B)=>a(["./support/arcgisLayers"],x,B))).fromUrl(v)}static fromPortalItem(v){return y.fromPortalItem(v)}initialize(){this.when().catch(v=>{l.isAbortError(v)||k.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:v})})}destroy(){const v=this.parent;v&&("layers"in v&&v.layers.includes(this)?v.layers.remove(this):"tables"in
v&&v.tables.includes(this)?v.tables.remove(this):"baseLayers"in v&&v.baseLayers.includes(this)?v.baseLayers.remove(this):"referenceLayers"in v&&v.referenceLayers.includes(this)&&v.referenceLayers.remove(this),this._set("parent",null))}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return w.urlToObject(this.url)}async fetchAttributionData(){const v=this.attributionDataUrl;if(this.hasAttributionData&&v)return(await e(v,{query:{f:"json"},responseType:"json"})).data;throw new p("layer:no-attribution-data",
"Layer does not have attribution data");}};b.__decorate([q.property({type:String})],c.prototype,"attributionDataUrl",void 0);b.__decorate([q.property({type:u})],c.prototype,"fullExtent",void 0);b.__decorate([q.property({readOnly:!0})],c.prototype,"hasAttributionData",null);b.__decorate([q.property({type:String,clonable:!1})],c.prototype,"id",void 0);b.__decorate([q.property({type:Boolean,nonNullable:!0})],c.prototype,"legendEnabled",void 0);b.__decorate([q.property({type:["show","hide","hide-children"]})],
c.prototype,"listMode",void 0);b.__decorate([q.property({type:Number,range:{min:0,max:1},nonNullable:!0})],c.prototype,"opacity",void 0);b.__decorate([q.property({clonable:!1})],c.prototype,"parent",void 0);b.__decorate([q.property({readOnly:!0})],c.prototype,"parsedUrl",null);b.__decorate([q.property({type:Boolean,readOnly:!0})],c.prototype,"persistenceEnabled",void 0);b.__decorate([q.property({type:Boolean})],c.prototype,"popupEnabled",void 0);b.__decorate([q.property({type:Boolean})],c.prototype,
"attributionVisible",void 0);b.__decorate([q.property({type:r})],c.prototype,"spatialReference",void 0);b.__decorate([q.property({type:String})],c.prototype,"title",void 0);b.__decorate([q.property({readOnly:!0,json:{read:!1}})],c.prototype,"type",void 0);b.__decorate([q.property()],c.prototype,"url",void 0);b.__decorate([q.property({type:d})],c.prototype,"visibilityTimeExtent",void 0);b.__decorate([q.property({type:Boolean,nonNullable:!0})],c.prototype,"visible",void 0);return c=b.__decorate([t.subclass("esri.layers.Layer")],
c)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),function(a,b,c,e,d,p,n,f,g,k,l){const w={base:e,key:"type",typeMap:{extent:c,multipoint:d,point:p,polyline:f,polygon:n}};b=b.ensureOneOfType(w);a.Extent=c;a.BaseGeometry=e;a.Multipoint=d;a.Point=p;a.Polygon=
n;a.Polyline=f;a.SpatialReference=g;a.featureGeometryTypeKebabDictionary=k.featureGeometryTypeKebabDictionary;a.typeKebabDictionary=k.typeKebabDictionary;a.fromJSON=l.fromJSON;a.ensureType=b;a.geometryTypes=w;a.isGeometry=function(q){return q instanceof e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Multipoint":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){function w(m){return(h,t)=>null==h?t:null==t?h:m(h,t)}var q;e=q=class extends g{constructor(...m){super(...m);this.points=[];this.type="multipoint"}normalizeCtorArgs(m,h){if(!m&&!h)return{};const t={};Array.isArray(m)?(t.points=m,t.spatialReference=h):!m||"esri.geometry.SpatialReference"!==m.declaredClass&&null==m.wkid?(m.points&&(t.points=m.points),m.spatialReference&&(t.spatialReference=m.spatialReference),m.hasZ&&(t.hasZ=m.hasZ),m.hasM&&(t.hasM=m.hasM)):t.spatialReference=
m;if(m=t.points?.[0])void 0===t.hasZ&&void 0===t.hasM?(t.hasZ=2<m.length,t.hasM=!1):void 0===t.hasZ?t.hasZ=3<m.length:void 0===t.hasM&&(t.hasM=3<m.length);return t}get cache(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const m=this.points;if(!m.length)return null;const h=new f,t=this.hasZ,y=this.hasM,u=t?3:2;var r=m[0];const z=w(Math.min),v=w(Math.max);let [x,B]=r,[A,C]=r,H,N,I,E;for(let G=0,L=
m.length;G<L;G++){r=m[G];const [R,F]=r;x=z(x,R);B=z(B,F);A=v(A,R);C=v(C,F);if(t&&2<r.length){const J=r[2];H=z(H,J);I=v(I,J)}y&&r.length>u&&(r=r[u],N=z(N,r),E=v(E,r))}h.xmin=x;h.ymin=B;h.xmax=A;h.ymax=C;h.spatialReference=this.spatialReference;t?(h.zmin=H,h.zmax=I):(h.zmin=void 0,h.zmax=void 0);y?(h.mmin=N,h.mmax=E):(h.mmin=void 0,h.mmax=void 0);return h}writePoints(m,h){h.points=b.clone(this.points)}addPoint(m){l.updateSupportFromPoint(this,m);Array.isArray(m)?this.points.push(m):this.points.push(m.toArray());
this.notifyChange("points");return this}clone(){const m={points:b.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(m.hasZ=!0);this.hasM&&(m.hasM=!0);return new q(m)}getPoint(m){if(!this._validateInputs(m))return null;m=this.points[m];const h={x:m[0],y:m[1],spatialReference:this.spatialReference};let t=2;this.hasZ&&(h.z=m[2],t=3);this.hasM&&(h.m=m[t]);return new k(h)}removePoint(m){if(!this._validateInputs(m))return null;m=new k(this.points.splice(m,1)[0],this.spatialReference);
this.notifyChange("points");return m}setPoint(m,h){if(!this._validateInputs(m))return this;l.updateSupportFromPoint(this,h);Array.isArray(h)||(h=h.toArray());this.points[m]=h;this.notifyChange("points");return this}toJSON(m){return this.write({},m)}_validateInputs(m){return null!=m&&0<=m&&m<this.points.length}};a.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);a.__decorate([c.property()],e.prototype,"extent",null);a.__decorate([c.property({type:[[Number]],json:{write:{isRequired:!0}}})],
e.prototype,"points",void 0);a.__decorate([n.writer("points")],e.prototype,"writePoints",null);e=q=a.__decorate([p.subclass("esri.geometry.Multipoint")],e);e.prototype.toJSON.isDefaultToJSON=!0;return e})},"esri/geometry/support/zmUtils":function(){define(["exports"],function(a){a.updateSupportFromPoint=function(b,c,e=!1){let {hasM:d,hasZ:p}=b;Array.isArray(c)?4!==c.length||d||p?3===c.length&&e&&!d?(p=!0,d=!1):3===c.length&&d&&p&&(p=d=!1):p=d=!0:(p=!p&&c.hasZ&&(!d||c.hasM),d=!d&&c.hasM&&(!p||c.hasZ));
b.hasZ=p;b.hasM=d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polygon":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r){var z;d=z=class extends k{static fromExtent(v){var x=v.clone().normalize();v=v.spatialReference;let B=!1,A=!1;for(const C of x)C.hasZ&&(B=!0),C.hasM&&(A=!0);x={rings:x.map(C=>{const H=[[C.xmin,C.ymin],[C.xmin,C.ymax],[C.xmax,C.ymax],[C.xmax,C.ymin],[C.xmin,C.ymin]];if(B&&C.hasZ){var N=C.zmin+.5*(C.zmax-C.zmin);for(let I=0;I<H.length;I++)H[I].push(N)}if(A&&C.hasM)for(C=C.mmin+.5*(C.mmax-C.mmin),N=0;N<H.length;N++)H[N].push(C);return H}),spatialReference:v};
B&&(x.hasZ=!0);A&&(x.hasM=!0);return new z(x)}constructor(...v){super(...v);this.rings=[];this.type="polygon"}normalizeCtorArgs(v,x){let B=null,A,C,H=null;v&&!Array.isArray(v)?(B=v.rings??null,x||(v.spatialReference?x=v.spatialReference:v.rings||(x=v)),A=v.hasZ,C=v.hasM):B=v;B=B||[];x=x||w.WGS84;B.length&&null!=B[0]?.[0]&&"number"===typeof B[0][0]&&(B=[B]);if(H=B[0]?.[0])void 0===A&&void 0===C?(A=2<H.length,C=3<H.length):void 0===A?A=C?3<H.length:2<H.length:void 0===C&&(C=A?3<H.length:2<H.length);
return{rings:B,spatialReference:x,hasZ:A,hasM:C}}get cache(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get centroid(){const v=q.polygonCentroid(this);if(!v||isNaN(v[0])||isNaN(v[1])||this.hasZ&&isNaN(v[2]))return null;const x=new l;x.x=v[0];x.y=v[1];x.spatialReference=this.spatialReference;this.hasZ&&(x.z=v[2]);return x}get extent(){const {spatialReference:v}=this;var x=t.getPolygonExtent(this);if(!x)return null;
x=new g(x);x.spatialReference=v;return x}get isSelfIntersecting(){return y.isSelfIntersecting(this.rings)}writeRings(v,x){x.rings=c.clone(this.rings)}addRing(v){if(v){var x=this.rings,B=x.length;if(Array.isArray(v[0]))x[B]=v.concat();else{const A=[];for(let C=0,H=v.length;C<H;C++)A[C]=v[C].toArray();x[B]=A}this.notifyChange("rings");return this}}clone(){const v=new z;v.spatialReference=this.spatialReference;v.rings=c.clone(this.rings);v.hasZ=this.hasZ;v.hasM=this.hasM;return v}equals(v){if(this===
v)return!0;if(null==v)return!1;var x=this.spatialReference,B=v.spatialReference;if(null!=x!==(null!=B)||null!=x&&null!=B&&!x.equals(B)||this.rings.length!==v.rings.length)return!1;x=([A,C,H,N],[I,E,G,L])=>A===I&&C===E&&(null==H&&null==G||H===G)&&(null==N&&null==L||N===L);for(B=0;B<this.rings.length;B++)if(!b.equals(this.rings[B],v.rings[B],x))return!1;return!0}contains(v){if(!v)return!1;const x=u.project(v,this.spatialReference);return m.polygonContainsPoint(this,null!=x?x:v)}isClockwise(v){v=Array.isArray(v[0])?
v:v.map(x=>this.hasZ?this.hasM?[x.x,x.y,x.z,x.m]:[x.x,x.y,x.z]:[x.x,x.y]);return h.isClockwise(v)}getPoint(v,x){if(!this._validateInputs(v,x))return null;v=this.rings[v][x];x=this.hasZ;const B=this.hasM;return x&&!B?new l(v[0],v[1],v[2],void 0,this.spatialReference):B&&!x?new l(v[0],v[1],void 0,v[2],this.spatialReference):x&&B?new l(v[0],v[1],v[2],v[3],this.spatialReference):new l(v[0],v[1],this.spatialReference)}insertPoint(v,x,B){if(!this._validateInputs(v,x,!0))return this;r.updateSupportFromPoint(this,
B);Array.isArray(B)||(B=B.toArray());this.rings[v].splice(x,0,B);this.notifyChange("rings");return this}removePoint(v,x){if(!this._validateInputs(v,x))return null;v=new l(this.rings[v].splice(x,1)[0],this.spatialReference);this.notifyChange("rings");return v}removeRing(v){if(!this._validateInputs(v,null))return null;v=this.rings.splice(v,1)[0];const x=this.spatialReference;v=v.map(B=>new l(B,x));this.notifyChange("rings");return v}setPoint(v,x,B){if(!this._validateInputs(v,x))return this;r.updateSupportFromPoint(this,
B);Array.isArray(B)||(B=B.toArray());this.rings[v][x]=B;this.notifyChange("rings");return this}_validateInputs(v,x,B=!1){return null==v||0>v||v>=this.rings.length||null!=x&&(v=this.rings[v],B&&(0>x||x>v.length)||!B&&(0>x||x>=v.length))?!1:!0}toJSON(v){return this.write({},v)}};a.__decorate([e.property({readOnly:!0})],d.prototype,"cache",null);a.__decorate([e.property({readOnly:!0})],d.prototype,"centroid",null);a.__decorate([e.property({readOnly:!0})],d.prototype,"extent",null);a.__decorate([e.property({readOnly:!0})],
d.prototype,"isSelfIntersecting",null);a.__decorate([e.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"rings",void 0);a.__decorate([f.writer("rings")],d.prototype,"writeRings",null);d=z=a.__decorate([n.subclass("esri.geometry.Polygon")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/geometry/support/centroid":function(){define(["exports","../geometryCursorCollectUtils","./coordsUtils"],function(a,b,c){function e(k,l){if(!k?.length)return null;const w=[],q=[],m=
l?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let h=0,t=k.length;h<t;h++){const y=d(k[h],l,m);y&&q.push(y)}q.sort((h,t)=>{let y=h[2]-t[2];0===y&&l&&(y=h[4]-t[4]);return y});q.length&&(w[0]=q[0][0],w[1]=q[0][1],l&&(w[2]=q[0][3]),w[0]<m[0]||w[0]>m[1]||w[1]<m[2]||w[1]>m[3]||l&&(w[2]<m[4]||w[2]>m[5]))&&(w.length=0);if(!w.length)if(k=k[0]&&k[0].length?p(k[0],l):null)w[0]=k[0],w[1]=k[1],l&&2<k.length&&(w[2]=k[2]);else return null;return w}function d(k,
l,w){let q=0,m=0,h=0,t=0,y=0;const u=k.length?k[0][0]:0,r=k.length?k[0][1]:0,z=k.length&&l?k[0][2]:0;for(let A=0;A<k.length;A++){var v=k[A],x=k[(A+1)%k.length];const [C,H,N]=v;var B=C-u;const I=H-r,[E,G,L]=x,R=E-u,F=G-r,J=B*F-R*I;t+=J;q+=(B+R)*J;m+=(I+F)*J;l&&2<v.length&&2<x.length&&(v=N-z,x=L-z,B=B*x-R*v,h+=(v+x)*B,y+=B);C<w[0]&&(w[0]=C);C>w[1]&&(w[1]=C);H<w[2]&&(w[2]=H);H>w[3]&&(w[3]=H);l&&(N<w[4]&&(w[4]=N),N>w[5]&&(w[5]=N))}0<t&&(t*=-1);0<y&&(y*=-1);if(!t)return null;t*=.5;y*=.5;k=[q/(6*t)+u,m/
(6*t)+r,t];l&&(w[4]===w[5]||0===y?(k[3]=(w[4]+w[5])/2,k[4]=0):(k[3]=h/(6*y)+z,k[4]=y));return k}function p(k,l){const w=l?[0,0,0]:[0,0],q=l?[0,0,0]:[0,0];let m=0,h=0,t=0,y=0;for(let r=0,z=k.length;r<z-1;r++){var u=k[r];const v=k[r+1];if(u&&v){w[0]=u[0];w[1]=u[1];q[0]=v[0];q[1]=v[1];l&&2<u.length&&2<v.length&&(w[2]=u[2],q[2]=v[2]);const x=c.getLength(w,q);x&&(m+=x,u=c.getMidpoint(u,v),h+=x*u[0],t+=x*u[1],l&&2<u.length&&(y+=x*u[2]))}}return 0<m?l?[h/m,t/m,y/m]:[h/m,t/m]:k.length?k[0]:null}function n(k){const {hasZ:l,
totalSize:w}=k;if(0===w)return null;const q=[],m=[],h=l?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(k.reset();k.nextPath();){const t=d(b.collectPath(k),k.hasZ,h);t&&m.push(t)}m.sort((t,y)=>{let u=t[2]-y[2];0===u&&l&&(u=t[4]-y[4]);return u});m.length&&(q[0]=m[0][0],q[1]=m[0][1],l&&(q[2]=
m[0][3]),q[0]<h[0]||q[0]>h[1]||q[1]<h[2]||q[1]>h[3]||l&&(q[2]<h[4]||q[2]>h[5]))&&(q.length=0);if(!q.length)if(k.reset(),k.nextPath(),k=k.pathSize?f(k):null)q[0]=k[0],q[1]=k[1],l&&2<k.length&&(q[2]=k[2]);else return null;return q}function f(k){const {hasZ:l}=k,w=l?[0,0,0]:[0,0],q=l?[0,0,0]:[0,0];let m=0,h=0,t=0,y=0;if(k.nextPoint()){var u=k.x,r=k.y;let z=k.z;for(;k.nextPoint();){const v=k.x,x=k.y,B=k.z;w[0]=u;w[1]=r;q[0]=v;q[1]=x;l&&(w[2]=z,q[2]=B);if(u=c.getLength(w,q))m+=u,r=c.getMidpoint(w,q),h+=
u*r[0],t+=u*r[1],l&&2<r.length&&(y+=u*r[2]);u=v;r=x;z=B}}return 0<m?l?[h/m,t/m,y/m]:[h/m,t/m]:k.pathSize?(k.seekPathStart(),k.nextPoint(),[k.x,k.y]):null}const g=1/3;a.extentCentroid=function(k){return k?k.hasZ?[k.xmax-k.xmin/2,k.ymax-k.ymin/2,k.zmax-k.zmin/2]:[k.xmax-k.xmin/2,k.ymax-k.ymin/2]:null};a.lineCentroid=p;a.lineCentroidCursor=f;a.polygonCentroid=function(k){return k?e(k.rings,k.hasZ??!1):null};a.ringCentroid=d;a.ringCentroidCursorXY=function(k,l){let w=0,q=0,m=0;k.nextPoint();const h=k.pathSize?
k.x:0,t=k.pathSize?k.y:0;for(let r=0;r<k.pathSize;r++){k.seekInPath(r);var y=[k.x,k.y];k.seekInPath((r+1)%k.pathSize);var u=[k.x,k.y];const [z,v]=y;y=z-h;const x=v-t,[B,A]=u;u=B-h;const C=A-t,H=y*C-u*x;m+=H;w+=(y+u)*H;q+=(x+C)*H;z<l[0]&&(l[0]=z);z>l[1]&&(l[1]=z);v<l[2]&&(l[2]=v);v>l[3]&&(l[3]=v)}0<m&&(m*=-1);if(!m)return null;m*=.5;return[w/(6*m)+h,q/(6*m)+t,m]};a.ringsCentroid=e;a.ringsCentroidCursor=n;a.weightedAreaCentroid=function(k){let l=0;for(k.reset();k.nextPath();)l+=k.getCurrentRingArea();
if(1E-6>l)return(k=n(k))?[k[0],k[1]]:null;const w=[0,0];k.reset();if(!k.nextPath()||!k.nextPoint())return null;const q=[k.x,k.y];for(k.reset();k.nextPath();)a:{let u=void 0;var m=w,h=q,t=k;if(!m||!t||3>t.pathSize)break a;t.nextPoint();var y=t.x;const r=t.y;t.nextPoint();let z=t.x-y,v=t.y-r,x=0,B=0;for(;t.nextPoint();)x=t.x-y,B=t.y-r,u=.5*g*(x*v-B*z),m[0]+=u*(z+x),m[1]+=u*(v+B),z=x,v=B;t=t.getCurrentRingArea();y=[y,r];y[0]-=h[0];y[1]-=h[1];y[0]*=t;y[1]*=t;m[0]+=y[0];m[1]+=y[1]}w[0]*=1/l;w[1]*=1/l;
w[0]+=q[0];w[1]+=q[1];return w};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/geometryCursorCollectUtils":function(){define(["exports"],function(a){a.collectMultipath=function(b){const c=[];for(b.reset();b.nextPath();){const e=[];for(;b.nextPoint();)e.push([b.x,b.y]);c.push(e)}b.reset();return c};a.collectPath=function(b){const c=[];for(;b.nextPoint();)c.push([b.x,b.y]);b.seekPathStart();return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/coordsUtils":function(){define(["exports",
"../../core/arrayUtils","./Axis","./spatialReferenceUtils"],function(a,b,c,e){function d(h,t){const y=t[0]-h[0],u=t[1]-h[1];return 2<h.length&&2<t.length?(h=h[2]-t[2],Math.sqrt(y*y+u*u+h*h)):Math.sqrt(y*y+u*u)}function p(h,t,y){const u=h[0]+y*(t[0]-h[0]),r=h[1]+y*(t[1]-h[1]);return 2<h.length&&2<t.length?[u,r,h[2]+y*(t[2]-h[2])]:[u,r]}function n(h,t,y,u){const [r,z]=t,[v,x]=y,[B,A]=u;t=B-v;y=A-x;u=Math.min(1,Math.max(0,((r-v)*t+(z-x)*y)/(t*t+y*y)));h[0]=v+t*u;h[1]=x+y*u;return h}function f(h,t,y,
u,r,z){let v=r-y,x=z-u;if(0!==v||0!==x){const B=((h-y)*v+(t-u)*x)/(v*v+x*x);1<B?(y=r,u=z):0<B&&(y+=v*B,u+=x*B)}v=h-y;x=t-u;return v*v+x*x}function g(h,t=c.Axis.X,y=c.Axis.Y){let u=0;const r=h.length;let z=h[0];for(let v=1;v<r;v++){const x=h[v];u+=(x[t]-z[t])*(x[y]+z[y]);z=x}k(h)||(h=h[0],u+=(h[t]-z[t])*(h[y]+z[y]));return 0<=u}function k(h){const t=h.length;return 3>t||b.equals(h[0],h[t-1])}function l(h){if(!("rings"in h))return!1;let t=!1;for(const y of h.rings)k(y)||(y.push(y[0].slice()),t=!0);
return t}function w(h){if(!("rings"in h)||0===h.rings.length||g(h.rings[0]))return!1;for(const t of h.rings)t.reverse();return!0}function q(h,t){var y=e.getInfo(t);if(y){t=y.valid[0];y=y.valid[1];var u=y-t;for(const r of h){h=Infinity;let z=-Infinity;for(const v of r){const x=m(v[0],t,y);h=Math.min(h,x);z=Math.max(z,x);v[0]=x}h=z-h;u-h<h&&r.forEach(v=>{0>v[0]&&(v[0]+=u)})}}}function m(h,t,y){const u=y-t;return h<t?y-(t-h)%u:h>y?t+(h-t)%u:h}a.closeRings=l;a.closeRingsAndFixWinding=function(h){"rings"in
h&&(l(h),w(h))};a.distanceFromPointToPolygon=function(h,t,y){let u=!1,r=Infinity,z,v,x,B;for(y.reset();y.nextPath();)if(y.nextPoint())for(z=y.x,v=y.y;y.nextPoint();)x=y.x,B=y.y,v>t!==B>t&&h<(x-z)*(t-v)/(B-v)+z&&(u=!u),r=Math.min(r,f(h,t,z,v,x,B)),z=x,v=B;return 0===r?0:(u?1:-1)*Math.sqrt(r)};a.distanceToSegmentSquared=f;a.fixWinding=w;a.geometryToCoordinates=function(h){if(!h)return null;if(Array.isArray(h))return h;const t=h.hasZ,y=h.hasM;if("point"===h.type)return y&&t?[h.x,h.y,h.z,h.m]:t?[h.x,
h.y,h.z]:y?[h.x,h.y,h.m]:[h.x,h.y];if("polygon"===h.type)return h.rings.slice(0);if("polyline"===h.type)return h.paths.slice(0);if("multipoint"===h.type)return h.points.slice(0);if("extent"===h.type){h=h.clone().normalize();if(!h)return null;let u=!1,r=!1;h.forEach(z=>{z.hasZ&&(u=!0);z.hasM&&(r=!0)});return h.map(z=>{const v=[[z.xmin,z.ymin],[z.xmin,z.ymax],[z.xmax,z.ymax],[z.xmax,z.ymin],[z.xmin,z.ymin]];if(u&&z.hasZ){var x=.5*(z.zmax-z.zmin);for(let B=0;B<v.length;B++)v[B].push(x)}if(r&&z.hasM)for(z=
.5*(z.mmax-z.mmin),x=0;x<v.length;x++)v[x].push(z);return v})}return null};a.getLength=d;a.getMidpoint=function(h,t){return p(h,t,.5)};a.getPathLength=function(h){const t=h.length;let y=0;for(let u=0;u<t-1;++u)y+=d(h[u],h[u+1]);return y};a.getPointOnPath=function(h,t){if(0>=t)return h[0];const y=h.length;let u=0;for(let r=0;r<y-1;++r){const z=d(h[r],h[r+1]);if(t-u<z)return p(h[r],h[r+1],(t-u)/z);u+=z}return h[y-1]};a.hasCompatibleTopology=function(h,t){if(h===t)return!0;if(h.type!==t.type)return!1;
if("point"===h.type||"mesh"===h.type||"extent"===h.type)return!0;if("multipoint"===h.type)return h.points.length===t.points.length;const [y,u]="polyline"===h.type?[h.paths,t.paths]:[h.rings,t.rings];return y.length===u.length&&y.every((r,z)=>r.length===u[z].length)};a.isClockwise=g;a.isClosed=k;a.projectPointOnLine=function(h,t,y,u){return n(h,t,y[u],y[u+1])};a.projectPointOnLineSeg=n;a.unnormalizeGeometryOnDatelineCrossing=function(h){if("polygon"!==h.type&&"polyline"!==h.type)return h;q("polygon"===
h.type?h.rings:h.paths,h.spatialReference);return h};a.unnormalizeVerticesOnDatelineCrossing=q;a.unnormalizedCoordinate=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Axis":function(){define(["exports"],function(a){a.Axis=void 0;var b=a.Axis||(a.Axis={});b[b.X=0]="X";b[b.Y=1]="Y";b[b.Z=2]="Z";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,b){function c(g,
k=!1,l=!1){return k?l?{xmin:g[0],ymin:g[1],zmin:g[2],mmin:g[3],xmax:g[4],ymax:g[5],zmax:g[6],mmax:g[7]}:{xmin:g[0],ymin:g[1],zmin:g[2],xmax:g[3],ymax:g[4],zmax:g[5]}:l?{xmin:g[0],ymin:g[1],mmin:g[2],xmax:g[3],ymax:g[4],mmax:g[5]}:{xmin:g[0],ymin:g[1],xmax:g[2],ymax:g[3]}}function e(g){const {hasZ:k,hasM:l,points:w}=g;return c(b.getPointsBounds(f,w,k??!1,l??!1),k,l)}function d(g){const {x:k,y:l,z:w,m:q}=g;g=null!=q;return null!=w?g?{xmin:k,ymin:l,zmin:w,mmin:q,xmax:k,ymax:l,zmax:w,mmax:q}:{xmin:k,
ymin:l,zmin:w,xmax:k,ymax:l,zmax:w}:g?{xmin:k,ymin:l,mmin:q,xmax:k,ymax:l,mmax:q}:{xmin:k,ymin:l,xmax:k,ymax:l}}function p(g){const {hasZ:k,hasM:l,rings:w}=g;return(g=b.getRingsOrPathsBounds(f,w,k??!1,l??!1))?c(g,k,l):null}function n(g){const {hasZ:k,hasM:l,paths:w}=g;return(g=b.getRingsOrPathsBounds(f,w,k??!1,l??!1))?c(g,k,l):null}const f=[];a.getGeometryExtent=function(g){return g?void 0!==g.xmin&&void 0!==g.ymin&&void 0!==g.xmax&&void 0!==g.ymax?g:void 0!==g.x&&void 0!==g.y?d(g):void 0!==g.rings?
p(g):void 0!==g.paths?n(g):void 0!==g.points?e(g):null:null};a.getMultipointExtent=e;a.getPointExtent=d;a.getPolygonExtent=p;a.getPolylineExtent=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/boundsUtils":function(){define(["exports","./aaBoundingRect"],function(a,b){function c(l){return void 0!==l.xmin&&void 0!==l.ymin&&void 0!==l.xmax&&void 0!==l.ymax}function e(l){return function(w,q){return null==w?q:null==q?w:l(w,q)}}function d(l){let w,q,m,h;w=m=Infinity;
for(q=h=-Infinity;l.nextPoint();)w=Math.min(l.x,w),m=Math.min(l.y,m),q=Math.max(l.x,q),h=Math.max(l.y,h);return b.create([w,m,q,h])}function p(l,w,q,m){const h=q?3:2;if(!w.length||!w[0].length)return null;let [t,y]=w[0][0],[u,r]=w[0][0],z=void 0,v=void 0,x=void 0;var B=void 0;for(let A=0;A<w.length;A++){const C=w[A];for(let H=0;H<C.length;H++){const N=C[H],[I,E]=N;t=g(t,I);y=g(y,E);u=k(u,I);r=k(r,E);if(q&&2<N.length){const G=N[2];z=g(z,G);v=k(v,G)}m&&N.length>h&&(B=N[h],x=g(z,B),B=k(v,B))}}if(q){if(m)return l[0]=
t,l[1]=y,l[2]=z,l[3]=x,l[4]=u,l[5]=r,l[6]=v,l[7]=B,l.length=8,l;l[0]=t;l[1]=y;l[2]=z;l[3]=u;l[4]=r;l[5]=v;l.length=6;return l}if(m)return l[0]=t,l[1]=y,l[2]=x,l[3]=u,l[4]=r,l[5]=B,l.length=6,l;l[0]=t;l[1]=y;l[2]=u;l[3]=r;l.length=4;return l}function n(l,w,q,m,h,t){q=w.xmin;m=w.xmax;const y=w.ymin,u=w.ymax;let r=w.zmin,z=w.zmax,v=w.mmin;w=w.mmax;if(h){r=r||0;z=z||0;if(t)return l[0]=q,l[1]=y,l[2]=r,l[3]=v||0,l[4]=m,l[5]=u,l[6]=z,l[7]=w||0,l;l[0]=q;l[1]=y;l[2]=r;l[3]=m;l[4]=u;l[5]=z;return l}if(t)return l[0]=
q,l[1]=y,l[2]=v||0,l[3]=m,l[4]=u,l[5]=w||0,l;l[0]=q;l[1]=y;l[2]=m;l[3]=u;return l}function f(l,w,q,m,h,t){const y=q?3:2;m=m&&t;q=q&&h;if(!w.length||!w[0].length)return null;let [u,r]=w[0],[z,v]=w[0],x=void 0,B=void 0,A=void 0;var C=void 0;for(let H=0;H<w.length;H++){const N=w[H],[I,E]=N;u=g(u,I);r=g(r,E);z=k(z,I);v=k(v,E);if(q&&2<N.length){const G=N[2];x=g(x,G);B=k(B,G)}m&&N.length>y&&(C=N[y],A=g(x,C),C=k(B,C))}if(h){x=x||0;B=B||0;if(t)return l[0]=u,l[1]=r,l[2]=x,l[3]=A||0,l[4]=z,l[5]=v,l[6]=B,l[7]=
C||0,l;l[0]=u;l[1]=r;l[2]=x;l[3]=z;l[4]=v;l[5]=B;return l}if(t)return l[0]=u,l[1]=r,l[2]=A||0,l[3]=z,l[4]=v,l[5]=C||0,l;l[0]=u;l[1]=r;l[2]=z;l[3]=v;return l}const g=e(Math.min),k=e(Math.max);a.getBoundsXY=function(l,w){if(void 0!==w.paths)return p(l,w.paths,!1,!1);if(void 0!==w.rings)return p(l,w.rings,!1,!1);if(void 0!==w.points)return f(l,w.points,!1,!1,!1,!1);if(c(w))return n(l,w);void 0!==w.x&&void 0!==w.y&&(l[0]=w.x,l[1]=w.y,l[2]=w.x,l[3]=w.y);return l};a.getBoundsXYZ=function(l,w){if(void 0!==
w.paths)return p(l,w.paths,!0,!1);if(void 0!==w.rings)return p(l,w.rings,!0,!1);if(void 0!==w.points)return f(l,w.points,!0,!1,!0,!1);if(c(w))return n(l,w,!0,!1,!0,!1);void 0!==w.x&&void 0!==w.y&&(l[0]=w.x,l[1]=w.y,l[2]=w.z,l[3]=w.x,l[4]=w.y,l[5]=w.z);return l};a.getCursorBoundsXY=function(l){l.reset();let w,q,m,h;w=m=Infinity;for(q=h=-Infinity;l.nextPath();){const t=d(l);w=Math.min(t[0],w);m=Math.min(t[1],m);q=Math.max(t[2],q);h=Math.max(t[3],h)}return b.create([w,m,q,h])};a.getCursorPathBounds=
d;a.getExtentBounds=n;a.getPointsBounds=f;a.getRingsOrPathsBounds=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../Extent"],function(a,b,c,e){function d(q=w){return[q[0],q[1],q[2],q[3]]}function p(q,m){q!==m&&(q[0]=m[0],q[1]=m[1],q[2]=m[2],q[3]=m[3]);return q}function n(q){return null==q||q[0]>=q[2]?0:q[2]-q[0]}function f(q){return null==q||q[1]>=q[3]?0:q[3]-q[1]}function g(q,
m,h){return m>=q[0]&&h>=q[1]&&m<=q[2]&&h<=q[3]}function k(q){return null!=q&&4===q.length}const l=[Infinity,Infinity,-Infinity,-Infinity],w=[0,0,0,0];a.allFinite=function(q){for(let m=0;4>m;m++)if(!isFinite(q[m]))return!1;return!0};a.area=function(q){return n(q)*f(q)};a.center=function(q,m=[0,0]){m[0]=(q[0]+q[2])/2;m[1]=(q[1]+q[3])/2;return m};a.clone=function(q){return[q[0],q[1],q[2],q[3]]};a.contains=function(q,m){return m[0]>=q[0]&&m[2]<=q[2]&&m[1]>=q[1]&&m[3]<=q[3]};a.containsPoint=function(q,
m){return g(q,m[0],m[1])};a.containsPointObject=function(q,m){return g(q,m.x,m.y)};a.containsPointWithMargin=function(q,m,h){return m[0]>=q[0]-h&&m[1]>=q[1]-h&&m[0]<=q[2]+h&&m[1]<=q[3]+h};a.containsXY=g;a.containsXYWithMargin=function(q,m,h,t){return m>=q[0]-t&&h>=q[1]-t&&m<=q[2]+t&&h<=q[3]+t};a.copy=p;a.create=d;a.distance=function(q,m){const h=(q[1]+q[3])/2,t=Math.max(Math.abs(m[0]-(q[0]+q[2])/2)-n(q)/2,0);q=Math.max(Math.abs(m[1]-h)-f(q)/2,0);return Math.sqrt(t*t+q*q)};a.empty=function(q){return q?
p(q,l):d(l)};a.equals=function(q,m){return k(q)&&k(m)?q[0]===m[0]&&q[1]===m[1]&&q[2]===m[2]&&q[3]===m[3]:q===m};a.expand=function(q,m,h){if(null==m)p(h,q);else if("length"in m)if(k(m))h[0]=Math.min(q[0],m[0]),h[1]=Math.min(q[1],m[1]),h[2]=Math.max(q[2],m[2]),h[3]=Math.max(q[3],m[3]);else{if(2===m.length||3===m.length)h[0]=Math.min(q[0],m[0]),h[1]=Math.min(q[1],m[1]),h[2]=Math.max(q[2],m[0]),h[3]=Math.max(q[3],m[1])}else switch(m.type){case "extent":h[0]=Math.min(q[0],m.xmin);h[1]=Math.min(q[1],m.ymin);
h[2]=Math.max(q[2],m.xmax);h[3]=Math.max(q[3],m.ymax);break;case "point":h[0]=Math.min(q[0],m.x),h[1]=Math.min(q[1],m.y),h[2]=Math.max(q[2],m.x),h[3]=Math.max(q[3],m.y)}};a.expandPointInPlace=function(q,m){m[0]<q[0]&&(q[0]=m[0]);m[0]>q[2]&&(q[2]=m[0]);m[1]<q[1]&&(q[1]=m[1]);m[1]>q[3]&&(q[3]=m[1])};a.expandWithNestedArray=function(q,m,h=q){const t=m.length;let y=q[0],u=q[1],r=q[2];q=q[3];for(let z=0;z<t;z++){const v=m[z];y=Math.min(y,v[0]);u=Math.min(u,v[1]);r=Math.max(r,v[0]);q=Math.max(q,v[1])}h[0]=
y;h[1]=u;h[2]=r;h[3]=q;return h};a.fromExtent=function(q,m=d()){m[0]=q.xmin;m[1]=q.ymin;m[2]=q.xmax;m[3]=q.ymax;return m};a.fromValues=function(q,m,h,t,y=d()){y[0]=q;y[1]=m;y[2]=h;y[3]=t;return y};a.hasArea=function(q){return 0<n(q)&&0<f(q)};a.height=f;a.intersection=function(q,m,h){if(null==m)return p(h,q);const t=m[0],y=m[1],u=m[2];m=m[3];h[0]=c.clamp(q[0],t,u);h[1]=c.clamp(q[1],y,m);h[2]=c.clamp(q[2],t,u);h[3]=c.clamp(q[3],y,m);return h};a.intersects=function(q,m){return Math.max(m[0],q[0])<=Math.min(m[2],
q[2])&&Math.max(m[1],q[1])<=Math.min(m[3],q[3])};a.intersectsSegment=function(q,m,h){const t=q[0],y=q[1],u=q[2];q=q[3];const {x:r,y:z}=m,{x:v,y:x}=h;var B=(C,H)=>0>(x-z)*C+(r-v)*H+(v*z-r*x);m=B(t,q);h=B(u,q);const A=B(u,y);B=B(t,y);return m===h&&h===A&&A===B&&B===m||r<t&&v<t||r>u&&v>u||z>q&&x>q||z<y&&x<y?!1:!0};a.intersectsSphere=function(q,m){const h=m[3];var t=Math.abs(m[0]-.5*(q[0]+q[2]));const y=.5*(q[2]-q[0]);if(t>h+y)return!1;var u=.5*(q[3]-q[1]);q=Math.abs(m[1]-.5*(q[1]+q[3]));if(q>h+u)return!1;
if(t<y||q<u)return!0;t-=y;u=q-u;return t*t+u*u<=h*h};a.is=k;a.isPoint=function(q){return(0===n(q)||!isFinite(q[0]))&&(0===f(q)||!isFinite(q[1]))};a.negativeInfinity=l;a.offset=function(q,m,h,t=q){t[0]=q[0]+m;t[1]=q[1]+h;t[2]=q[2]+m;t[3]=q[3]+h;return t};a.pad=function(q,m,h=q){h[0]=q[0]-m;h[1]=q[1]-m;h[2]=q[2]+m;h[3]=q[3]+m;return h};a.positiveInfinity=[-Infinity,-Infinity,Infinity,Infinity];a.setMax=function(q,m,h=q){h[2]=m[0];h[3]=m[1];h!==q&&(h[0]=q[0],h[1]=q[1]);return q};a.setMin=function(q,
m,h=q){h[0]=m[0];h[1]=m[1];h!==q&&(h[2]=q[2],h[3]=q[3]);return h};a.size=function(q,m){m[0]=q[2]-q[0];m[1]=q[3]-q[1]};a.toExtent=function(q,m){return new e({xmin:q[0],ymin:q[1],xmax:q[2],ymax:q[3],spatialReference:m})};a.unit=[0,0,1,1];a.width=n;a.zero=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polyline":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q){var m;e=m=class extends g{constructor(...h){super(...h);this.paths=[];this.type="polyline"}normalizeCtorArgs(h,t){let y=null,u,r,z=null;h&&!Array.isArray(h)?(y=h.paths??null,t||(h.spatialReference?t=h.spatialReference:h.paths||(t=h)),u=h.hasZ,r=h.hasM):y=h;y=y||[];t=t||l.WGS84;y.length&&null!=y[0]?.[0]&&"number"===typeof y[0][0]&&(y=[y]);if(z=y[0]?.[0])void 0===u&&void 0===r?(u=2<z.length,r=!1):void 0===u?u=!r&&3<z.length:void 0===r&&(r=!u&&3<z.length);return{paths:y,
spatialReference:t,hasZ:u,hasM:r}}get cache(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const {spatialReference:h}=this;var t=w.getPolylineExtent(this);if(!t)return null;t=new f(t);t.spatialReference=h;return t}writePaths(h,t){t.paths=b.clone(this.paths)}addPath(h){if(h){var t=this.paths,y=t.length;if(Array.isArray(h[0]))t[y]=h.concat();else{const u=[];for(let r=0,z=h.length;r<z;r++)u[r]=h[r].toArray();
t[y]=u}this.notifyChange("paths");return this}}clone(){const h=new m;h.spatialReference=this.spatialReference;h.paths=b.clone(this.paths);h.hasZ=this.hasZ;h.hasM=this.hasM;return h}getPoint(h,t){if(!this._validateInputs(h,t))return null;h=this.paths[h][t];t=this.hasZ;const y=this.hasM;return t&&!y?new k(h[0],h[1],h[2],void 0,this.spatialReference):y&&!t?new k(h[0],h[1],void 0,h[2],this.spatialReference):t&&y?new k(h[0],h[1],h[2],h[3],this.spatialReference):new k(h[0],h[1],this.spatialReference)}insertPoint(h,
t,y){if(!this._validateInputs(h,t,!0))return this;q.updateSupportFromPoint(this,y);Array.isArray(y)||(y=y.toArray());this.paths[h].splice(t,0,y);this.notifyChange("paths");return this}removePath(h){if(!this._validateInputs(h,null))return null;h=this.paths.splice(h,1)[0];const t=this.spatialReference;h=h.map(y=>new k(y,t));this.notifyChange("paths");return h}removePoint(h,t){if(!this._validateInputs(h,t))return null;h=new k(this.paths[h].splice(t,1)[0],this.spatialReference);this.notifyChange("paths");
return h}setPoint(h,t,y){if(!this._validateInputs(h,t))return this;q.updateSupportFromPoint(this,y);Array.isArray(y)||(y=y.toArray());this.paths[h][t]=y;this.notifyChange("paths");return this}_validateInputs(h,t,y=!1){return null==h||0>h||h>=this.paths.length||null!=t&&(h=this.paths[h],y&&(0>t||t>h.length)||!y&&(0>t||t>=h.length))?!1:!0}toJSON(h){return this.write({},h)}};a.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);a.__decorate([c.property({readOnly:!0})],e.prototype,"extent",
null);a.__decorate([c.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],e.prototype,"paths",void 0);a.__decorate([n.writer("paths")],e.prototype,"writePaths",null);e=m=a.__decorate([p.subclass("esri.geometry.Polyline")],e);e.prototype.toJSON.isDefaultToJSON=!0;return e})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const c=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});
b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=c;a.typeKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,c,e,d,p,n){function f(m){return void 0!==
m.xmin&&void 0!==m.ymin&&void 0!==m.xmax&&void 0!==m.ymax}function g(m){return void 0!==m.points}function k(m){return void 0!==m.x&&void 0!==m.y}function l(m){return void 0!==m.paths}function w(m){return void 0!==m.rings}const q={esriGeometryPoint:d,esriGeometryPolyline:n,esriGeometryPolygon:p,esriGeometryEnvelope:b,esriGeometryMultipoint:e};a.fromJSON=function(m){return null==m?null:m instanceof c?m:k(m)?d.fromJSON(m):l(m)?n.fromJSON(m):w(m)?p.fromJSON(m):g(m)?e.fromJSON(m):f(m)?b.fromJSON(m):null};
a.getGeometryType=function(m){return m&&q[m]||null};a.getJsonType=function(m){return m?k(m)?"esriGeometryPoint":l(m)?"esriGeometryPolyline":w(m)?"esriGeometryPolygon":f(m)?"esriGeometryEnvelope":g(m)?"esriGeometryMultipoint":null:null};a.isExtent=f;a.isMultipoint=g;a.isPoint=k;a.isPolygon=w;a.isPolyline=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeExtent":function(){define("./chunks/tslib.es6 ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./time/timeZoneUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){var w;b=w=class extends b.JSONSupport{static get allTime(){return q}static get empty(){return m}static fromArray(h){return new w({start:null!=h[0]?new Date(h[0]):h[0],end:null!=h[1]?new Date(h[1]):h[1]})}constructor(h){super(h);this.start=this.end=null}readEnd(h,t){return null!=t.end?new Date(t.end):null}writeEnd(h,t){t.end=h?.getTime()??null}get isAllTime(){return this.equals(w.allTime)}get isEmpty(){return this.equals(w.empty)}readStart(h,t){return null!=t.start?
new Date(t.start):null}writeStart(h,t){t.start=h?.getTime()??null}clone(){return new w({end:this.end,start:this.start})}equals(h){if(!h)return!1;const t=this.start?.getTime()??this.start,y=this.end?.getTime()??this.end,u=h.start?.getTime()??h.start;h=h.end?.getTime()??h.end;return t===u&&y===h}expandTo(h,t=l.system){if(this.isEmpty||this.isAllTime)return this.clone();let y=this.start;y&&=c.truncateDate(y,h,t);let u=this.end;if(u){const r=c.truncateDate(u,h,t);u=u.getTime()===r.getTime()?r:c.offsetDate(r,
1,h,t)}return new w({start:y,end:u})}intersection(h){if(!h)return this.clone();if(this.isEmpty||h.isEmpty)return w.empty;if(this.isAllTime)return h.clone();if(h.isAllTime)return this.clone();const t=this.start?.getTime()??-Infinity,y=this.end?.getTime()??Infinity,u=h.start?.getTime()??-Infinity;h=h.end?.getTime()??Infinity;let r,z;u>=t&&u<=y?r=u:t>=u&&t<=h&&(r=t);y>=u&&y<=h?z=y:h>=t&&h<=y&&(z=h);return null==r||null==z||isNaN(r)||isNaN(z)?w.empty:new w({start:-Infinity===r?null:new Date(r),end:Infinity===
z?null:new Date(z)})}offset(h,t,y=l.system){if(this.isEmpty||this.isAllTime)return this.clone();const u=new w,{start:r,end:z}=this;null!=r&&(u.start=c.offsetDate(r,h,t,y));null!=z&&(u.end=c.offsetDate(z,h,t,y));return u}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(h){if(!h||h.isEmpty)return this.clone();if(this.isEmpty)return h.clone();if(this.isAllTime||h.isAllTime)return q.clone();const t=null!=this.start&&null!=h.start?new Date(Math.min(this.start.getTime(),
h.start.getTime())):null;h=null!=this.end&&null!=h.end?new Date(Math.max(this.end.getTime(),h.end.getTime())):null;return new w({start:t,end:h})}};a.__decorate([e.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"end",void 0);a.__decorate([f.reader("end")],b.prototype,"readEnd",null);a.__decorate([k.writer("end")],b.prototype,"writeEnd",null);a.__decorate([e.property({readOnly:!0,json:{read:!1}})],b.prototype,"isAllTime",null);a.__decorate([e.property({readOnly:!0,json:{read:!1}})],
b.prototype,"isEmpty",null);a.__decorate([e.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0);a.__decorate([f.reader("start")],b.prototype,"readStart",null);a.__decorate([k.writer("start")],b.prototype,"writeStart",null);b=w=a.__decorate([g.subclass("esri.TimeExtent")],b);const q=new b,m=new b({start:void 0,end:void 0});return b})},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/timeZoneUtils","../chunks/datetime"],function(a,b,c,e){function d(f,
g,k){return 0===f?0:f*n[g]/n[k]}function p(f){switch(f){case "milliseconds":return"millisecond";case "seconds":return"second";case "minutes":return"minute";case "hours":return"hour";case "days":return"day";case "weeks":return"week";case "months":return"month";case "years":return"year"}}const n={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};a.convertTime=d;a.isValidDate=function(f){return f instanceof Date&&
!isNaN(f.getTime())};a.makeUTCTime=function(f,g,k="milliseconds"){g=new Date(d(g,k,"milliseconds"));g.setUTCFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate());return g};a.mergeTimeExtents=function(f,g){return f&&g?f.intersection(g):f||g};a.millisecondsPerTimeUnit=n;a.offsetDate=function(f,g,k,l=c.system){l=new e.IANAZone(b.resolveTimeZone(l));f=e.DateTime.fromJSDate(f,{zone:l});l="decades"===k||"centuries"===k?"year":p(k);"decades"===k&&(g*=10);"centuries"===k&&(g*=100);return f.plus({[l]:g}).toJSDate()};
a.offsetDateUTC=function(f,g,k="milliseconds"){f=f.getTime();g=d(g,k,"milliseconds");return new Date(f+g)};a.resetUTCDate=function(f,g){f=new Date(f.getTime());f.setUTCFullYear(g.getFullYear(),g.getMonth(),g.getDate());return f};a.timeSinceUTCMidnight=function(f,g="milliseconds"){const k=d(f.getUTCHours(),"hours","milliseconds"),l=d(f.getUTCMinutes(),"minutes","milliseconds"),w=d(f.getUTCSeconds(),"seconds","milliseconds");f=f.getUTCMilliseconds();return d(k+l+w+f,"milliseconds",g)};a.truncateDate=
function(f,g,k=c.system){k=new e.IANAZone(b.resolveTimeZone(k));f=e.DateTime.fromJSDate(f,{zone:k});if("decades"===g||"centuries"===g)return f=f.startOf("year"),{year:k}=f,f.set({year:k-k%("decades"===g?10:100)}).toJSDate();g=p(g);return f.startOf(g).toJSDate()};a.truncateLocalTime=function(f){const g=new Date(0);g.setHours(0);g.setMinutes(0);g.setSeconds(0);g.setMilliseconds(0);g.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate());return g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale","../time/timeZoneUtils","../chunks/datetime"],function(a,b,c,e,d){function p(C){var H=B.get(C);if(!H){H=c.getLocale();H=x[H]||H;const N=f(C.timeZone??e.system);H=new Intl.DateTimeFormat(H,{...C,timeZone:N});B.set(C,H)}return H}function n(C,H=A){return p(H).format(C)}function f(C){switch(C){case e.system:return e.systemTimeZone;case e.unknown:return e.utc;default:return C}}function g(C,H){const N=c.getLocale();return(new Intl.DateTimeFormat(x[N]??
N,H)).formatToParts(C)}const k={year:void 0,month:void 0,day:void 0,weekday:void 0},l={hour:void 0,minute:void 0,second:void 0},w={timeZone:e.utc},q={year:"numeric",month:"numeric",day:"numeric"},m={year:"numeric",month:"long",day:"numeric"},h={year:"numeric",month:"short",day:"numeric"},t={year:"numeric",month:"long",weekday:"long",day:"numeric"},y={hour:"numeric",minute:"numeric"},u={...y,second:"numeric"};var r={hourCycle:"h23"};const z={...y,...r};r={...u,...r};const v={"short-date":q,"short-date-short-time":{...q,
...y},"short-date-short-time-24":{...q,...z},"short-date-long-time":{...q,...u},"short-date-long-time-24":{...q,...r},"short-date-le":q,"short-date-le-short-time":{...q,...y},"short-date-le-short-time-24":{...q,...z},"short-date-le-long-time":{...q,...u},"short-date-le-long-time-24":{...q,...r},"long-month-day-year":m,"long-month-day-year-short-time":{...m,...y},"long-month-day-year-short-time-24":{...m,...z},"long-month-day-year-long-time":{...m,...u},"long-month-day-year-long-time-24":{...m,...r},
"day-short-month-year":h,"day-short-month-year-short-time":{...h,...y},"day-short-month-year-short-time-24":{...h,...z},"day-short-month-year-long-time":{...h,...u},"day-short-month-year-long-time-24":{...h,...r},"long-date":t,"long-date-short-time":{...t,...y},"long-date-short-time-24":{...t,...z},"long-date-long-time":{...t,...u},"long-date-long-time-24":{...t,...r},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":y,
"long-time":u};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",
longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",
longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const x={ar:"ar-u-nu-latn-ca-gregory"};let B=new WeakMap;const A=v["short-date-short-time"];c.beforeLocaleChange(()=>{B=new WeakMap});a.convertDateFormatToIntlOptions=function(C){return v[C]};a.dateFormatJSONMap=b;a.formatDate=n;a.formatDateOnly=function(C,H=A){return n(new Date(C),{...H,...w,
...l})};a.formatTimeOnly=function(C,H=A){return n(new Date(`1970-01-01T${C}Z`),{...H,...w,...k})};a.formatTimestamp=function(C,H=A){if(H.timeZone)return n(new Date(C),H);C=d.DateTime.fromISO(C,{setZone:!0});const N=c.getLocale();return C.toLocaleString({...H,timeZone:0===C.offset?e.utc:H.timeZone},{locale:x[N]??N})};a.getDateTimeFormatter=p;a.getShortOffsetTimeZoneSuffix=function(C,H=new Date){return g(H,{timeZone:C,timeZoneName:e.shortTimeZoneName}).find(({type:N})=>"timeZoneName"===N)?.value};a.resolveTimeZone=
f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/timeZoneUtils":function(){define(["exports","./legacyTimeZoneMap","../chunks/datetime"],function(a,b,c){function e(f,g="system"){return f?"timeZoneIANA"in f?f.timeZoneIANA:p(f,g):g}function d(f){return{timeZoneIANA:f}}function p(f,g="system"){if(!f||!b.legacyTimeZoneMap.has(f.timeZone))return g;g=b.legacyTimeZoneMap.get(f.timeZone);if(f.timeZone.startsWith("UTC")||f.respectsDaylightSaving)return g;f=c.DateTime.local().setZone(g);
f=Math.min(f.set({month:1,day:1}).offset,f.set({month:5}).offset);f=0===f?"Etc/UTC":`Etc/GMT${c.FixedOffsetZone.instance(-f).formatOffset(0,"narrow")}`;return f}const n=Intl.DateTimeFormat().resolvedOptions().timeZone;a.convertLegacyTimeZone=p;a.fromTimeReference=e;a.getTimeZoneComponents=function(f){f="system"===f?n:f;var g=/^(?<area>[\w-]+)(?:\/(?<region>[\w-]+))?\/(?<location>[\w+-]+)$/;if(g.test(f)){g=g.exec(f)?.groups;const {area:k,region:l,location:w}=g;return{area:k,region:l,location:w,timeZone:f}}return{timeZone:f}};
a.getTimeZoneFormattingOptions=function(f,g,k,l,w){if(g&&"date"===w)return{timeZone:"UTC",timeZoneName:void 0};g=l.timeStyle||l.hour;l="unknown"===k;return{timeZone:l?"timestamp-offset"===w?void 0:f??"UTC":k,timeZoneName:l&&g?"shortOffset":void 0}};a.shortTimeZoneName="shortOffset";a.system="system";a.systemTimeZone=n;a.timeZoneProperty=function(f,g=!1){return{json:{read:{source:f,reader(k,l){return l[f]?e(l[f]):null}},write:g?{allowNull:!0,writer(k,l){l[f]=k?d(k):null}}:!1}}};a.toTimeReference=d;
a.unknown="unknown";a.utc="UTC";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/legacyTimeZoneMap":function(){define(["exports"],function(a){const b=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time",
"Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],
["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],
["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time",
"Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time",
"America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],
["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time",
"Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)",
"America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time",
"Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],
["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],
["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],
["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],
["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);a.legacyTimeZoneMap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],function(a){function b(D,P={}){const ba=JSON.stringify([D,P]);let la=nc[ba];la||(la=new Intl.ListFormat(D,P),nc[ba]=la);return la}function c(D,P={}){const ba=JSON.stringify([D,P]);
let la=bc[ba];la||(la=new Intl.DateTimeFormat(D,P),bc[ba]=la);return la}function e(D,P={}){const ba=JSON.stringify([D,P]);let la=cc[ba];la||(la=new Intl.NumberFormat(D,P),cc[ba]=la);return la}function d(D,P={}){const {base:ba,...la}=P,wa=JSON.stringify([D,la]);let Ja=dc[wa];Ja||(Ja=new Intl.RelativeTimeFormat(D,P),dc[wa]=Ja);return Ja}function p(D){const P=[];for(let ba=1;12>=ba;ba++){const la=lb.utc(2009,ba,1);P.push(D(la))}return P}function n(D){const P=[];for(let ba=1;7>=ba;ba++){const la=lb.utc(2016,
11,13+ba);P.push(D(la))}return P}function f(D,P,ba,la){D=D.listingMode();return"error"===D?null:"en"===D?ba(P):la(P)}function g(D,P){if(x(D)||null===D)return P;if(D instanceof Ub)return D;if("string"===typeof D){const ba=D.toLowerCase();return"default"===ba?P:"local"===ba||"system"===ba?ec.instance:"utc"===ba||"gmt"===ba?Fb.utcInstance:Fb.parseSpecifier(ba)||Mb.create(D)}return B(D)?Fb.instance(D):"object"===typeof D&&"offset"in D&&"function"===typeof D.offset?D:new Uc(D)}function k(D,P){return new Kb("unit out of range",
`you specified ${P} (of type ${typeof P}) as a ${D}, which is invalid`)}function l(D,P,ba){P=new Date(Date.UTC(D,P-1,ba));100>D&&0<=D&&P.setUTCFullYear(P.getUTCFullYear()-1900);D=P.getUTCDay();return 0===D?7:D}function w(D,P){D=T(D)?fc:gc;const ba=D.findIndex(la=>la<P);return{month:ba+1,day:P-D[ba]}}function q(D,P){return(D-P+7)%7+1}function m(D,P=4,ba=1){const {year:la,month:wa,day:Ja}=D;var Na=Ja+(T(la)?fc:gc)[wa-1];const Xa=q(l(la,wa,Ja),ba);Na=Math.floor((Na-Xa+14-P)/7);let Za;1>Na?(Za=la-1,Na=
qa(Za,P,ba)):Na>qa(la,P,ba)?(Za=la+1,Na=1):Za=la;return{weekYear:Za,weekNumber:Na,weekday:Xa,...Y(D)}}function h(D,P=4,ba=1){const {weekYear:la,weekNumber:wa,weekday:Ja}=D,Na=q(l(la,1,P),ba);ba=T(la)?366:365;P=7*wa+Ja-Na-7+P;1>P?(ba=la-1,P+=T(ba)?366:365):P>ba?(ba=la+1,P-=T(la)?366:365):ba=la;const {month:Xa,day:Za}=w(ba,P);return{year:ba,month:Xa,day:Za,...Y(D)}}function t(D){const {year:P,month:ba,day:la}=D;var wa=la+(T(P)?fc:gc)[ba-1];return{year:P,ordinal:wa,...Y(D)}}function y(D){const {year:P,
ordinal:ba}=D,{month:la,day:wa}=w(P,ba);return{year:P,month:la,day:wa,...Y(D)}}function u(D,P){if(x(D.localWeekday)&&x(D.localWeekNumber)&&x(D.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!x(D.weekday)||!x(D.weekNumber)||!x(D.weekYear))throw new aa("Cannot mix locale-based week fields with ISO-based week fields");x(D.localWeekday)||(D.weekday=D.localWeekday);x(D.localWeekNumber)||(D.weekNumber=D.localWeekNumber);x(D.localWeekYear)||(D.weekYear=D.localWeekYear);delete D.localWeekday;
delete D.localWeekNumber;delete D.localWeekYear;return{minDaysInFirstWeek:P.getMinDaysInFirstWeek(),startOfWeek:P.getStartOfWeek()}}function r(D,P=4,ba=1){const la=A(D.weekYear);P=L(D.weekNumber,1,qa(D.weekYear,P,ba));ba=L(D.weekday,1,7);return la?P?ba?!1:k("weekday",D.weekday):k("week",D.weekNumber):k("weekYear",D.weekYear)}function z(D){const P=A(D.year),ba=L(D.month,1,12),la=L(D.day,1,Z(D.year,D.month));return P?ba?la?!1:k("day",D.day):k("month",D.month):k("year",D.year)}function v(D){const {hour:P,
minute:ba,second:la,millisecond:wa}=D;D=L(P,0,23)||24===P&&0===ba&&0===la&&0===wa;const Ja=L(ba,0,59),Na=L(la,0,59),Xa=L(wa,0,999);return D?Ja?Na?Xa?!1:k("millisecond",wa):k("second",la):k("minute",ba):k("hour",P)}function x(D){return"undefined"===typeof D}function B(D){return"number"===typeof D}function A(D){return"number"===typeof D&&0===D%1}function C(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(D){return!1}}function H(){try{return"undefined"!==typeof Intl&&!!Intl.Locale&&
("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(D){return!1}}function N(D,P,ba){if(0!==D.length)return D.reduce((la,wa)=>{wa=[P(wa),wa];return la?ba(la[0],wa[0])===la[0]?la:wa:wa},null)[1]}function I(D,P){return P.reduce((ba,la)=>{ba[la]=D[la];return ba},{})}function E(D,P){return Object.prototype.hasOwnProperty.call(D,P)}function G(D){if(null==D)return null;if("object"!==typeof D)throw new Ka("Week settings must be an object");if(!L(D.firstDay,1,7)||!L(D.minimalDays,
1,7)||!Array.isArray(D.weekend)||D.weekend.some(P=>!L(P,1,7)))throw new Ka("Invalid week settings");return{firstDay:D.firstDay,minimalDays:D.minimalDays,weekend:Array.from(D.weekend)}}function L(D,P,ba){return A(D)&&D>=P&&D<=ba}function R(D,P=2){return 0>D?"-"+(""+-D).padStart(P,"0"):(""+D).padStart(P,"0")}function F(D){if(!x(D)&&null!==D&&""!==D)return parseInt(D,10)}function J(D){if(!x(D)&&null!==D&&""!==D)return parseFloat(D)}function O(D){if(!x(D)&&null!==D&&""!==D)return D=1E3*parseFloat("0."+
D),Math.floor(D)}function U(D,P,ba=!1){P=10**P;return(ba?Math.trunc:Math.round)(D*P)/P}function T(D){return 0===D%4&&(0!==D%100||0===D%400)}function Z(D,P){var ba=P-1;ba=ba-12*Math.floor(ba/12)+1;return 2===ba?T(D+(P-ba)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][ba-1]}function V(D){let P=Date.UTC(D.year,D.month-1,D.day,D.hour,D.minute,D.second,D.millisecond);100>D.year&&0<=D.year&&(P=new Date(P),P.setUTCFullYear(D.year,D.month-1,D.day));return+P}function qa(D,P=4,ba=1){var la=-q(l(D,1,P),
ba)+P-1;P=-q(l(D+1,1,P),ba)+P-1;return((T(D)?366:365)-la+P)/7}function Ca(D){return 99<D?D:D>xb.twoDigitCutoffYear?1900+D:2E3+D}function va(D,P,ba,la=null){D=new Date(D);const wa={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};la&&(wa.timeZone=la);return(P=(new Intl.DateTimeFormat(ba,{timeZoneName:P,...wa})).formatToParts(D).find(Ja=>"timezonename"===Ja.type.toLowerCase()))?P.value:null}function ra(D,P){D=parseInt(D,10);Number.isNaN(D)&&(D=0);P=parseInt(P,
10)||0;P=0>D||Object.is(D,-0)?-P:P;return 60*D+P}function Aa(D){const P=Number(D);if("boolean"===typeof D||""===D||Number.isNaN(P))throw new Ka(`Invalid unit value ${D}`);return P}function ea(D,P){const ba={};for(const la in D)if(E(D,la)){const wa=D[la];void 0!==wa&&null!==wa&&(ba[P(la)]=Aa(wa))}return ba}function ca(D,P){const ba=Math.trunc(Math.abs(D/60)),la=Math.trunc(Math.abs(D%60));D=0<=D?"+":"-";switch(P){case "short":return`${D}${R(ba,2)}:${R(la,2)}`;case "narrow":return`${D}${ba}${0<la?`:${la}`:
""}`;case "techie":return`${D}${R(ba,2)}${R(la,2)}`;default:throw new RangeError(`Value format ${P} is out of range for property format`);}}function Y(D){return I(D,["hour","minute","second","millisecond"])}function ha(D){switch(D){case "narrow":return[...Vc];case "short":return[...oc];case "long":return[...Wc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function ua(D){switch(D){case "narrow":return[...Xc];
case "short":return[...pc];case "long":return[...qc];case "numeric":return"1234567".split("");default:return null}}function K(D){switch(D){case "narrow":return[...Yc];case "short":return[...Zc];case "long":return[...$c];default:return null}}function Q(D,P,ba="always",la=!1){const wa={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var Ja=-1===["hours","minutes",
"seconds"].indexOf(D);if("auto"===ba&&Ja)switch(ba="days"===D,P){case 1:return ba?"tomorrow":`next ${wa[D][0]}`;case -1:return ba?"yesterday":`last ${wa[D][0]}`;case 0:return ba?"today":`this ${wa[D][0]}`}ba=Object.is(P,-0)||0>P;P=Math.abs(P);Ja=1===P;const Na=wa[D];D=la?Ja?Na[1]:Na[2]||Na[1]:Ja?wa[D][0]:D;return ba?`${P} ${D} ago`:`in ${P} ${D}`}function ia(D,P){let ba="";for(const la of D)ba=la.literal?ba+la.val:ba+P(la.val);return ba}function ka(...D){D=D.reduce((P,ba)=>P+ba.source,"");return RegExp(`^${D}$`)}
function Ba(...D){return P=>D.reduce(([ba,la,wa],Ja)=>{const [Na,Xa,Za]=Ja(P,wa);return[{...ba,...Na},Xa||la,Za]},[{},null,1]).slice(0,2)}function W(D,...P){if(null==D)return[null,null];for(const [ba,la]of P)if(P=ba.exec(D))return la(P);return[null,null]}function da(...D){return(P,ba)=>{const la={};let wa;for(wa=0;wa<D.length;wa++)la[D[wa]]=F(P[ba+wa]);return[la,null,ba+wa]}}function ja(D,P,ba){D=D[P];return x(D)?ba:F(D)}function M(D,P){return[{hours:ja(D,P,0),minutes:ja(D,P+1,0),seconds:ja(D,P+2,
0),milliseconds:O(D[P+3])},null,P+4]}function S(D,P){const ba=!D[P]&&!D[P+1];D=ra(D[P+1],D[P+2]);return[{},ba?null:Fb.instance(D),P+3]}function X(D,P){return[{},D[P]?Mb.create(D[P]):null,P+1]}function ma(D){const [P,ba,la,wa,Ja,Na,Xa,Za,ob]=D,kb="-"===P[0];D=Za&&"-"===Za[0];const nb=(vb,Cb=!1)=>void 0!==vb&&(Cb||vb&&kb)?-vb:vb;return[{years:nb(J(ba)),months:nb(J(la)),weeks:nb(J(wa)),days:nb(J(Ja)),hours:nb(J(Na)),minutes:nb(J(Xa)),seconds:nb(J(Za),"-0"===Za),milliseconds:nb(O(ob),D)}]}function ya(D,
P,ba,la,wa,Ja,Na){P={year:2===P.length?Ca(F(P)):F(P),month:oc.indexOf(ba)+1,day:F(la),hour:F(wa),minute:F(Ja)};Na&&(P.second=F(Na));D&&(P.weekday=3<D.length?qc.indexOf(D)+1:pc.indexOf(D)+1);return P}function Ia(D){const [,P,ba,la,wa,Ja,Na,Xa,Za,ob,kb,nb]=D;D=ya(P,wa,la,ba,Ja,Na,Xa);let vb;vb=Za?ad[Za]:ob?0:ra(kb,nb);return[D,new Fb(vb)]}function fa(D){const [,P,ba,la,wa,Ja,Na,Xa]=D;return[ya(P,wa,la,ba,Ja,Na,Xa),Fb.utcInstance]}function oa(D){const [,P,ba,la,wa,Ja,Na,Xa]=D;return[ya(P,Xa,ba,la,wa,
Ja,Na),Fb.utcInstance]}function ta(D,P,ba=!1){D={values:ba?P.values:{...D.values,...(P.values||{})},loc:D.loc.clone(P.loc),conversionAccuracy:P.conversionAccuracy||D.conversionAccuracy,matrix:P.matrix||D.matrix};return new tb(D)}function Fa(D,P){let ba=P.milliseconds??0;for(const la of bd.slice(1))P[la]&&(ba+=P[la]*D[la].milliseconds);return ba}function Ea(D,P){const ba=0>Fa(D,P)?-1:1;Qb.reduceRight((la,wa)=>{if(x(P[wa]))return la;if(la){const Ja=D[wa][la],Na=Math.floor(P[la]*ba/Ja);P[wa]+=Na*ba;
P[la]-=Na*Ja*ba}return wa},null);Qb.reduce((la,wa)=>{if(x(P[wa]))return la;if(la){const Ja=P[la]%1;P[la]-=Ja;P[wa]+=Ja*D[la][wa]}return wa},null)}function Qa(D,P){D=P.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-D.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(tb.fromMillis(D).as("days"))}function Pa(D,P,ba){const la=[["years",(Za,ob)=>ob.year-Za.year],["quarters",(Za,ob)=>ob.quarter-Za.quarter+4*(ob.year-Za.year)],["months",(Za,ob)=>ob.month-Za.month+12*(ob.year-Za.year)],
["weeks",(Za,ob)=>{Za=Qa(Za,ob);return(Za-Za%7)/7}],["days",Qa]],wa={},Ja=D;let Na,Xa;for(const [Za,ob]of la)0<=ba.indexOf(Za)&&(Na=Za,wa[Za]=ob(D,P),Xa=Ja.plus(wa),Xa>P?(wa[Za]--,D=Ja.plus(wa),D>P&&(Xa=D,wa[Za]--,D=Ja.plus(wa))):D=Xa);return[D,wa,Xa,Na]}function Ra(D,P,ba,la){let [wa,Ja,Na,Xa]=Pa(D,P,ba);D=P-wa;ba=ba.filter(Za=>0<=["hours","minutes","seconds","milliseconds"].indexOf(Za));0===ba.length&&(Na<P&&(Na=wa.plus({[Xa]:1})),Na!==wa&&(Ja[Xa]=(Ja[Xa]||0)+D/(Na-wa)));P=tb.fromObject(Ja,la);
return 0<ba.length?tb.fromMillis(D,la).shiftTo(...ba).plus(P):P}function Sa({numberingSystem:D},P=""){return new RegExp(`${hc[D||"latn"]}${P}`)}function na(D,P=ba=>ba){return{regex:D,deser:([ba])=>{{let la=parseInt(ba,10);if(isNaN(la)){la="";for(let wa=0;wa<ba.length;wa++){const Ja=ba.charCodeAt(wa);if(-1!==ba[wa].search(hc.hanidec))la+=cd.indexOf(ba[wa]);else for(const Na in rc){const [Xa,Za]=rc[Na];Ja>=Xa&&Ja<=Za&&(la+=Ja-Xa)}}ba=parseInt(la,10)}else ba=la}return P(ba)}}}function xa(D){return D.replace(/\./g,
"\\.?").replace(ic,sc)}function Oa(D,P){return null===D?null:{regex:RegExp(D.map(xa).join("|")),deser:([ba])=>D.findIndex(la=>ba.replace(/\./g,"").replace(ic," ").toLowerCase()===la.replace(/\./g,"").replace(ic," ").toLowerCase())+P}}function Ua(D,P){return{regex:D,deser:([,ba,la])=>ra(ba,la),groups:P}}function gb(D){return{regex:D,deser:([P])=>P}}function rb(D,P){const ba=Sa(P),la=Sa(P,"{2}"),wa=Sa(P,"{3}"),Ja=Sa(P,"{4}"),Na=Sa(P,"{6}"),Xa=Sa(P,"{1,2}"),Za=Sa(P,"{1,3}"),ob=Sa(P,"{1,6}"),kb=Sa(P,
"{1,9}"),nb=Sa(P,"{2,4}"),vb=Sa(P,"{4,6}"),Cb=Nb=>({regex:RegExp(Nb.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([Xb])=>Xb,literal:!0}),Db=(Nb=>{if(D.literal)return Cb(Nb);switch(Nb.val){case "G":return Oa(P.eras("short"),0);case "GG":return Oa(P.eras("long"),0);case "y":return na(ob);case "yy":return na(nb,Ca);case "yyyy":return na(Ja);case "yyyyy":return na(vb);case "yyyyyy":return na(Na);case "M":return na(Xa);case "MM":return na(la);case "MMM":return Oa(P.months("short",!0),1);
case "MMMM":return Oa(P.months("long",!0),1);case "L":return na(Xa);case "LL":return na(la);case "LLL":return Oa(P.months("short",!1),1);case "LLLL":return Oa(P.months("long",!1),1);case "d":return na(Xa);case "dd":return na(la);case "o":return na(Za);case "ooo":return na(wa);case "HH":return na(la);case "H":return na(Xa);case "hh":return na(la);case "h":return na(Xa);case "mm":return na(la);case "m":return na(Xa);case "q":return na(Xa);case "qq":return na(la);case "s":return na(Xa);case "ss":return na(la);
case "S":return na(Za);case "SSS":return na(wa);case "u":return gb(kb);case "uu":return gb(Xa);case "uuu":return na(ba);case "a":return Oa(P.meridiems(),0);case "kkkk":return na(Ja);case "kk":return na(nb,Ca);case "W":return na(Xa);case "WW":return na(la);case "E":case "c":return na(ba);case "EEE":return Oa(P.weekdays("short",!1),1);case "EEEE":return Oa(P.weekdays("long",!1),1);case "ccc":return Oa(P.weekdays("short",!0),1);case "cccc":return Oa(P.weekdays("long",!0),1);case "Z":case "ZZ":return Ua(new RegExp(`([+-]${Xa.source})(?::(${la.source}))?`),
2);case "ZZZ":return Ua(new RegExp(`([+-]${Xa.source})(${la.source})?`),2);case "z":return gb(/[a-z_+-/]{1,256}?/i);case " ":return gb(/[^\S\n\r]/);default:return Cb(Nb)}})(D)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};Db.token=D;return Db}function qb(D){return[`^${D.map(P=>P.regex).reduce((P,ba)=>`${P}(${ba.source})`,"")}$`,D]}function Eb(D,P,ba){if(D=D.match(P)){P={};let la=1;for(const wa in ba)if(E(ba,wa)){const Ja=ba[wa],Na=Ja.groups?Ja.groups+1:1;!Ja.literal&&Ja.token&&
(P[Ja.token.val[0]]=Ja.deser(D.slice(la,la+Na)));la+=Na}return[D,P]}return[D,{}]}function zb(D){const P=wa=>{switch(wa){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};let ba=null,la;x(D.z)||(ba=Mb.create(D.z));
x(D.Z)||(ba||=new Fb(D.Z),la=D.Z);x(D.q)||(D.M=3*(D.q-1)+1);x(D.h)||(12>D.h&&1===D.a?D.h+=12:12===D.h&&0===D.a&&(D.h=0));0===D.G&&D.y&&(D.y=-D.y);x(D.u)||(D.S=O(D.u));return[Object.keys(D).reduce((wa,Ja)=>{const Na=P(Ja);Na&&(wa[Na]=D[Ja]);return wa},{}),ba,la]}function sb(D,P){return Array.prototype.concat(...D.map(ba=>{if(!ba.literal){var la=Gb.macroTokenToFormatOpts(ba.val);la=sa(la,P);ba=null==la||la.includes(void 0)?ba:la}return ba}))}function pa(D,P,ba){ba=sb(Gb.parseFormat(ba),D);var la=ba.map(vb=>
rb(vb,D));const wa=la.find(vb=>vb.invalidReason);if(wa)return{input:P,tokens:ba,invalidReason:wa.invalidReason};const [Ja,Na]=qb(la);la=RegExp(Ja,"i");const [Xa,Za]=Eb(P,la,Na),[ob,kb,nb]=Za?zb(Za):[null,null,void 0];if(E(Za,"a")&&E(Za,"H"))throw new aa("Can't include meridiem when specifying 24-hour format");return{input:P,tokens:ba,regex:la,rawMatches:Xa,matches:Za,result:ob,zone:kb,specificOffset:nb}}function sa(D,P){if(!D)return null;P=Gb.create(P,D);var ba=P.dtFormatter;tc||=lb.fromMillis(1555555555555);
P=ba.call(P,tc);ba=P.formatToParts();const la=P.resolvedOptions();return ba.map(wa=>{{const {type:Na,value:Xa}=wa;if("literal"===Na)wa=/^\s+$/.test(Xa),wa={literal:!wa,val:wa?" ":Xa};else{wa=D[Na];var Ja=Na;"hour"===Na&&(Ja=null!=D.hour12?D.hour12?"hour12":"hour24":null!=D.hourCycle?"h11"===D.hourCycle||"h12"===D.hourCycle?"hour12":"hour24":la.hour12?"hour12":"hour24");Ja=dd[Ja];"object"===typeof Ja&&(Ja=Ja[wa]);wa=Ja?{literal:!1,val:Ja}:void 0}}return wa})}function La(D){return new Kb("unsupported zone",
`the zone "${D.name}" is not supported`)}function Da(D){null===D.weekData&&(D.weekData=m(D.c));return D.weekData}function Ta(D){null===D.localWeekData&&(D.localWeekData=m(D.c,D.loc.getMinDaysInFirstWeek(),D.loc.getStartOfWeek()));return D.localWeekData}function Ya(D,P){D={ts:D.ts,zone:D.zone,c:D.c,o:D.o,loc:D.loc,invalid:D.invalid};return new lb({...D,...P,old:D})}function Wa(D,P,ba){let la=D-6E4*P;const wa=ba.offset(la);if(P===wa)return[la,P];la-=6E4*(wa-P);P=ba.offset(la);return wa===P?[la,wa]:
[D-6E4*Math.min(wa,P),Math.max(wa,P)]}function bb(D,P){D=new Date(D+6E4*P);return{year:D.getUTCFullYear(),month:D.getUTCMonth()+1,day:D.getUTCDate(),hour:D.getUTCHours(),minute:D.getUTCMinutes(),second:D.getUTCSeconds(),millisecond:D.getUTCMilliseconds()}}function $a(D,P,ba){return Wa(V(D),P,ba)}function jb(D,P){const ba=D.o;var la=D.c.year+Math.trunc(P.years);const wa=D.c.month+Math.trunc(P.months)+3*Math.trunc(P.quarters);la={...D.c,year:la,month:wa,day:Math.min(D.c.day,Z(la,wa))+Math.trunc(P.days)+
7*Math.trunc(P.weeks)};P=tb.fromObject({years:P.years-Math.trunc(P.years),quarters:P.quarters-Math.trunc(P.quarters),months:P.months-Math.trunc(P.months),weeks:P.weeks-Math.trunc(P.weeks),days:P.days-Math.trunc(P.days),hours:P.hours,minutes:P.minutes,seconds:P.seconds,milliseconds:P.milliseconds}).as("milliseconds");la=V(la);let [Ja,Na]=Wa(la,ba,D.zone);0!==P&&(Ja+=P,Na=D.zone.offset(Ja));return{ts:Ja,o:Na}}function cb(D,P,ba,la,wa,Ja){const {setZone:Na,zone:Xa}=ba;return D&&0!==Object.keys(D).length||
P?(D=lb.fromObject(D,{...ba,zone:P||Xa,specificOffset:Ja}),Na?D:D.setZone(Xa)):lb.invalid(new Kb("unparsable",`the input "${wa}" can't be parsed as ${la}`))}function fb(D,P,ba=!0){return D.isValid?Gb.create(wb.create("en-US"),{allowZ:ba,forceSimple:!0}).formatDateTimeFromString(D,P):null}function hb(D,P){const ba=9999<D.c.year||0>D.c.year;let la="";ba&&0<=D.c.year&&(la+="+");la+=R(D.c.year,ba?6:4);P?(la=la+"-"+R(D.c.month),la=la+"-"+R(D.c.day)):(la+=R(D.c.month),la+=R(D.c.day));return la}function ib(D,
P,ba,la,wa,Ja){let Na=R(D.c.hour);P?(Na=Na+":"+R(D.c.minute),0===D.c.millisecond&&0===D.c.second&&ba||(Na+=":")):Na+=R(D.c.minute);0===D.c.millisecond&&0===D.c.second&&ba||(Na+=R(D.c.second),0===D.c.millisecond&&la||(Na=Na+"."+R(D.c.millisecond,3)));wa&&(D.isOffsetFixed&&0===D.offset&&!Ja?Na+="Z":0>D.o?(Na=Na+"-"+R(Math.trunc(-D.o/60)),Na=Na+":"+R(Math.trunc(-D.o%60))):(Na=Na+"+"+R(Math.trunc(D.o/60)),Na=Na+":"+R(Math.trunc(D.o%60))));Ja&&(Na+="["+D.zone.ianaName+"]");return Na}function pb(D){switch(D.toLowerCase()){case "localweekday":case "localweekdays":return"localWeekday";
case "localweeknumber":case "localweeknumbers":return"localWeekNumber";case "localweekyear":case "localweekyears":return"localWeekYear";default:const P={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",
weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[D.toLowerCase()];if(!P)throw new za(D);return P}}function Ha(D,P){const ba=g(P.zone,xb.defaultZone);P=wb.fromObject(P);const la=xb.now();var wa;if(x(D.year))D=la;else{for(const Ja of uc)x(D[Ja])&&(D[Ja]=vc[Ja]);if(wa=z(D)||v(D))return lb.invalid(wa);wa=ba.offset(la);[D,wa]=$a(D,wa,ba)}return new lb({ts:D,zone:ba,loc:P,o:wa})}function ub(D,P,ba){const la=x(ba.round)?!0:ba.round,wa=(Na,Xa)=>{Na=U(Na,la||ba.calendary?0:2,!0);return P.loc.clone(ba).relFormatter(ba).format(Na,
Xa)},Ja=Na=>ba.calendary?P.hasSame(D,Na)?0:P.startOf(Na).diff(D.startOf(Na),Na).get(Na):P.diff(D,Na).get(Na);if(ba.unit)return wa(Ja(ba.unit),ba.unit);for(const Na of ba.units){const Xa=Ja(Na);if(1<=Math.abs(Xa))return wa(Xa,Na)}return wa(D>P?-0:0,ba.units[ba.units.length-1])}function Jb(D){let P={};0<D.length&&"object"===typeof D[D.length-1]?(P=D[D.length-1],D=Array.from(D).slice(0,D.length-1)):D=Array.from(D);return[P,D]}function Bb(D){if(lb.isDateTime(D))return D;if(D&&D.valueOf&&B(D.valueOf()))return lb.fromJSDate(D);
if(D&&"object"===typeof D)return lb.fromObject(D);throw new Ka(`Unknown datetime argument: ${D}, of type ${typeof D}`);}class Ib extends Error{}class db extends Ib{constructor(D){super(`Invalid DateTime: ${D.toMessage()}`)}}class eb extends Ib{constructor(D){super(`Invalid Interval: ${D.toMessage()}`)}}class Ga extends Ib{constructor(D){super(`Invalid Duration: ${D.toMessage()}`)}}class aa extends Ib{}class za extends Ib{constructor(D){super(`Invalid unit ${D}`)}}class Ka extends Ib{}class Ma extends Ib{constructor(){super("Zone is an abstract class")}}
const Va={year:"numeric",month:"numeric",day:"numeric"},ab={year:"numeric",month:"short",day:"numeric"},mb={year:"numeric",month:"short",day:"numeric",weekday:"short"},Ab={year:"numeric",month:"long",day:"numeric"},Ob={year:"numeric",month:"long",day:"numeric",weekday:"long"},Rb={hour:"numeric",minute:"numeric"},Lb={hour:"numeric",minute:"numeric",second:"numeric"},Vb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Hb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},
Sb={hour:"numeric",minute:"numeric",hourCycle:"h23"},Tb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},Pb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},Wb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},wc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},xc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},yc={year:"numeric",
month:"short",day:"numeric",hour:"numeric",minute:"numeric"},zc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},ed={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},Ac={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},Bc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Cc={year:"numeric",month:"long",
day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},Dc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"};class Ub{get type(){throw new Ma;}get name(){throw new Ma;}get ianaName(){return this.name}get isUniversal(){throw new Ma;}offsetName(D,P){throw new Ma;}formatOffset(D,P){throw new Ma;}offset(D){throw new Ma;}equals(D){throw new Ma;}get isValid(){throw new Ma;}}let jc=null;class ec extends Ub{static get instance(){null===
jc&&(jc=new ec);return jc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(D,{format:P,locale:ba}){return va(D,P,ba)}formatOffset(D,P){return ca(this.offset(D),P)}offset(D){return-(new Date(D)).getTimezoneOffset()}equals(D){return"system"===D.type}get isValid(){return!0}}let Yb={};const fd={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Zb={};class Mb extends Ub{static create(D){Zb[D]||(Zb[D]=new Mb(D));
return Zb[D]}static resetCache(){Zb={};Yb={}}static isValidSpecifier(D){return this.isValidZone(D)}static isValidZone(D){if(!D)return!1;try{return(new Intl.DateTimeFormat("en-US",{timeZone:D})).format(),!0}catch(P){return!1}}constructor(D){super();this.zoneName=D;this.valid=Mb.isValidZone(D)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(D,{format:P,locale:ba}){return va(D,P,ba,this.name)}formatOffset(D,P){return ca(this.offset(D),P)}offset(D){D=new Date(D);
if(isNaN(D))return NaN;var P=this.name;Yb[P]||(Yb[P]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:P,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}));P=Yb[P];if(P.formatToParts){P=P.formatToParts(D);var ba=[];for(let kb=0;kb<P.length;kb++){const {type:nb,value:vb}=P[kb],Cb=fd[nb];"era"===nb?ba[Cb]=vb:x(Cb)||(ba[Cb]=parseInt(vb,10))}P=ba}else{P=P.format(D).replace(/\u200E/g,"");P=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(P);
const [,kb,nb,vb,Cb,Db,Nb,Xb]=P;P=[vb,kb,nb,Cb,Db,Nb,Xb]}let [la,wa,Ja,Na,Xa,Za,ob]=P;"BC"===Na&&(la=-Math.abs(la)+1);P=V({year:la,month:wa,day:Ja,hour:24===Xa?0:Xa,minute:Za,second:ob,millisecond:0});D=+D;ba=D%1E3;return(P-(D-(0<=ba?ba:1E3+ba)))/6E4}equals(D){return"iana"===D.type&&D.name===this.name}get isValid(){return this.valid}}let nc={},bc={},cc={},dc={},$b=null,Ec={};class gd{constructor(D,P,ba){this.padTo=ba.padTo||0;this.floor=ba.floor||!1;const {padTo:la,floor:wa,...Ja}=ba;if(!P||0<Object.keys(Ja).length)P=
{useGrouping:!1,...ba},0<ba.padTo&&(P.minimumIntegerDigits=ba.padTo),this.inf=e(D,P)}format(D){if(this.inf)return this.inf.format(this.floor?Math.floor(D):D);D=this.floor?Math.floor(D):U(D,3);return R(D,this.padTo)}}class hd{constructor(D,P,ba){this.opts=ba;ba=this.originalZone=void 0;this.opts.timeZone?this.dt=D:"fixed"===D.zone.type?(ba=D.offset/60*-1,ba=0<=ba?`Etc/GMT+${ba}`:`Etc/GMT${ba}`,0!==D.offset&&Mb.create(ba).valid?this.dt=D:(ba="UTC",this.dt=0===D.offset?D:D.setZone("UTC").plus({minutes:D.offset}),
this.originalZone=D.zone)):"system"===D.zone.type?this.dt=D:"iana"===D.zone.type?(this.dt=D,ba=D.zone.name):(ba="UTC",this.dt=D.setZone("UTC").plus({minutes:D.offset}),this.originalZone=D.zone);D={...this.opts};D.timeZone=D.timeZone||ba;this.dtf=c(P,D)}format(){return this.originalZone?this.formatToParts().map(({value:D})=>D).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const D=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?D.map(P=>{if("timeZoneName"===P.type){const ba=
this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...P,value:ba}}return P}):D}resolvedOptions(){return this.dtf.resolvedOptions()}}class id{constructor(D,P,ba){this.opts={style:"long",...ba};!P&&C()&&(this.rtf=d(D,ba))}format(D,P){return this.rtf?this.rtf.format(D,P):Q(P,D,this.opts.numeric,"long"!==this.opts.style)}formatToParts(D,P){return this.rtf?this.rtf.formatToParts(D,P):[]}}const jd={firstDay:1,minimalDays:4,weekend:[6,7]};class wb{static fromOpts(D){return wb.create(D.locale,
D.numberingSystem,D.outputCalendar,D.weekSettings,D.defaultToEN)}static create(D,P,ba,la,wa=!1){D=D||xb.defaultLocale;var Ja;(Ja=D)||(wa?wa="en-US":($b||($b=(new Intl.DateTimeFormat).resolvedOptions().locale),wa=$b),Ja=wa);wa=Ja;P=P||xb.defaultNumberingSystem;ba=ba||xb.defaultOutputCalendar;la=G(la)||xb.defaultWeekSettings;return new wb(wa,P,ba,la,D)}static resetCache(){$b=null;bc={};cc={};dc={}}static fromObject({locale:D,numberingSystem:P,outputCalendar:ba,weekSettings:la}={}){return wb.create(D,
P,ba,la)}constructor(D,P,ba,la,wa){var Ja=D.indexOf("-x-");-1!==Ja&&(D=D.substring(0,Ja));Ja=D.indexOf("-u-");if(-1===Ja)var Na=[D];else{try{Na=c(D).resolvedOptions();var Xa=D}catch(Cb){Xa=D.substring(0,Ja),Na=c(Xa).resolvedOptions()}const {numberingSystem:nb,calendar:vb}=Na;Na=[Xa,nb,vb]}const [Za,ob,kb]=Na;this.locale=Za;this.numberingSystem=P||ob||null;this.outputCalendar=ba||kb||null;this.weekSettings=la;P=this.locale;ba=this.numberingSystem;if((la=this.outputCalendar)||ba)P.includes("-u-")||
(P+="-u"),la&&(P+=`-ca-${la}`),ba&&(P+=`-nu-${ba}`);this.intl=P;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=wa;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var D=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;
this.fastNumbersCached=D}return this.fastNumbersCached}listingMode(){const D=this.isEnglish(),P=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return D&&P?"en":"intl"}clone(D){return D&&0!==Object.getOwnPropertyNames(D).length?wb.create(D.locale||this.specifiedLocale,D.numberingSystem||this.numberingSystem,D.outputCalendar||this.outputCalendar,G(D.weekSettings)||this.weekSettings,D.defaultToEN||!1):this}redefaultToEN(D={}){return this.clone({...D,
defaultToEN:!0})}redefaultToSystem(D={}){return this.clone({...D,defaultToEN:!1})}months(D,P=!1){return f(this,D,ha,()=>{const ba=P?{month:D,day:"numeric"}:{month:D},la=P?"format":"standalone";this.monthsCache[la][D]||(this.monthsCache[la][D]=p(wa=>this.extract(wa,ba,"month")));return this.monthsCache[la][D]})}weekdays(D,P=!1){return f(this,D,ua,()=>{const ba=P?{weekday:D,year:"numeric",month:"long",day:"numeric"}:{weekday:D},la=P?"format":"standalone";this.weekdaysCache[la][D]||(this.weekdaysCache[la][D]=
n(wa=>this.extract(wa,ba,"weekday")));return this.weekdaysCache[la][D]})}meridiems(){return f(this,void 0,()=>Fc,()=>{if(!this.meridiemCache){const D={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[lb.utc(2016,11,13,9),lb.utc(2016,11,13,19)].map(P=>this.extract(P,D,"dayperiod"))}return this.meridiemCache})}eras(D){return f(this,D,K,()=>{const P={era:D};this.eraCache[D]||(this.eraCache[D]=[lb.utc(-40,1,1),lb.utc(2017,1,1)].map(ba=>this.extract(ba,P,"era")));return this.eraCache[D]})}extract(D,
P,ba){return(D=this.dtFormatter(D,P).formatToParts().find(la=>la.type.toLowerCase()===ba))?D.value:null}numberFormatter(D={}){return new gd(this.intl,D.forceSimple||this.fastNumbers,D)}dtFormatter(D,P={}){return new hd(D,this.intl,P)}relFormatter(D={}){return new id(this.intl,this.isEnglish(),D)}listFormatter(D={}){return b(this.intl,D)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){if(this.weekSettings)return this.weekSettings;
if(H()){var D=this.locale,P=Ec[D];P||(P=new Intl.Locale(D),P="getWeekInfo"in P?P.getWeekInfo():P.weekInfo,Ec[D]=P);return P}return jd}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(D){return this.locale===D.locale&&this.numberingSystem===D.numberingSystem&&this.outputCalendar===D.outputCalendar}}let kc=null;class Fb extends Ub{static get utcInstance(){null===kc&&
(kc=new Fb(0));return kc}static instance(D){return 0===D?Fb.utcInstance:new Fb(D)}static parseSpecifier(D){return D&&(D=D.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Fb(ra(D[1],D[2])):null}constructor(D){super();this.fixed=D}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ca(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${ca(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(D,P){return ca(this.fixed,P)}get isUniversal(){return!0}offset(){return this.fixed}equals(D){return"fixed"===
D.type&&D.fixed===this.fixed}get isValid(){return!0}}class Uc extends Ub{constructor(D){super();this.zoneName=D}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Gc=()=>Date.now(),Hc="system",Ic=null,Jc=null,Kc=null,Lc=60,Mc,Nc=null;class xb{static get now(){return Gc}static set now(D){Gc=D}static set defaultZone(D){Hc=D}static get defaultZone(){return g(Hc,
ec.instance)}static get defaultLocale(){return Ic}static set defaultLocale(D){Ic=D}static get defaultNumberingSystem(){return Jc}static set defaultNumberingSystem(D){Jc=D}static get defaultOutputCalendar(){return Kc}static set defaultOutputCalendar(D){Kc=D}static get defaultWeekSettings(){return Nc}static set defaultWeekSettings(D){Nc=G(D)}static get twoDigitCutoffYear(){return Lc}static set twoDigitCutoffYear(D){Lc=D%100}static get throwOnInvalid(){return Mc}static set throwOnInvalid(D){Mc=D}static resetCaches(){wb.resetCache();
Mb.resetCache()}}class Kb{constructor(D,P){this.reason=D;this.explanation=P}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const gc=[0,31,59,90,120,151,181,212,243,273,304,334],fc=[0,31,60,91,121,152,182,213,244,274,305,335],Wc="January February March April May June July August September October November December".split(" "),oc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Vc="JFMAMJJASOND".split(""),qc="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
pc="Mon Tue Wed Thu Fri Sat Sun".split(" "),Xc="MTWTFSS".split(""),Fc=["AM","PM"],$c=["Before Christ","Anno Domini"],Zc=["BC","AD"],Yc=["B","A"],kd={D:Va,DD:ab,DDD:Ab,DDDD:Ob,t:Rb,tt:Lb,ttt:Vb,tttt:Hb,T:Sb,TT:Tb,TTT:Pb,TTTT:Wb,f:wc,ff:yc,fff:Ac,ffff:Cc,F:xc,FF:zc,FFF:Bc,FFFF:Dc};class Gb{static create(D,P={}){return new Gb(D,P)}static parseFormat(D){let P=null,ba="",la=!1;const wa=[];for(let Ja=0;Ja<D.length;Ja++){const Na=D.charAt(Ja);"'"===Na?(0<ba.length&&wa.push({literal:la||/^\s+$/.test(ba),
val:ba}),P=null,ba="",la=!la):la?ba+=Na:Na===P?ba+=Na:(0<ba.length&&wa.push({literal:/^\s+$/.test(ba),val:ba}),P=ba=Na)}0<ba.length&&wa.push({literal:la||/^\s+$/.test(ba),val:ba});return wa}static macroTokenToFormatOpts(D){return kd[D]}constructor(D,P){this.opts=P;this.loc=D;this.systemLoc=null}formatWithSystemDefault(D,P){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(D,{...this.opts,...P}).format()}dtFormatter(D,P={}){return this.loc.dtFormatter(D,
{...this.opts,...P})}formatDateTime(D,P){return this.dtFormatter(D,P).format()}formatDateTimeParts(D,P){return this.dtFormatter(D,P).formatToParts()}formatInterval(D,P){return this.dtFormatter(D.start,P).dtf.formatRange(D.start.toJSDate(),D.end.toJSDate())}resolvedOptions(D,P){return this.dtFormatter(D,P).resolvedOptions()}num(D,P=0){if(this.opts.forceSimple)return R(D,P);const ba={...this.opts};0<P&&(ba.padTo=P);return this.loc.numberFormatter(ba).format(D)}formatDateTimeFromString(D,P){const ba=
"en"===this.loc.listingMode(),la=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,wa=(kb,nb)=>this.loc.extract(D,kb,nb),Ja=kb=>D.isOffsetFixed&&0===D.offset&&kb.allowZ?"Z":D.isValid?D.zone.formatOffset(D.ts,kb.format):"",Na=(kb,nb)=>ba?ha(kb)[D.month-1]:wa(nb?{month:kb}:{month:kb,day:"numeric"},"month"),Xa=(kb,nb)=>ba?ua(kb)[D.weekday-1]:wa(nb?{weekday:kb}:{weekday:kb,month:"long",day:"numeric"},"weekday"),Za=kb=>{const nb=Gb.macroTokenToFormatOpts(kb);return nb?this.formatWithSystemDefault(D,
nb):kb},ob=kb=>ba?K(kb)[0>D.year?0:1]:wa({era:kb},"era");return ia(Gb.parseFormat(P),kb=>{switch(kb){case "S":return this.num(D.millisecond);case "u":case "SSS":return this.num(D.millisecond,3);case "s":return this.num(D.second);case "ss":return this.num(D.second,2);case "uu":return this.num(Math.floor(D.millisecond/10),2);case "uuu":return this.num(Math.floor(D.millisecond/100));case "m":return this.num(D.minute);case "mm":return this.num(D.minute,2);case "h":return this.num(0===D.hour%12?12:D.hour%
12);case "hh":return this.num(0===D.hour%12?12:D.hour%12,2);case "H":return this.num(D.hour);case "HH":return this.num(D.hour,2);case "Z":return Ja({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return Ja({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return Ja({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return D.zone.offsetName(D.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return D.zone.offsetName(D.ts,{format:"long",locale:this.loc.locale});case "z":return D.zoneName;
case "a":return ba?Fc[12>D.hour?0:1]:wa({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return la?wa({day:"numeric"},"day"):this.num(D.day);case "dd":return la?wa({day:"2-digit"},"day"):this.num(D.day,2);case "c":return this.num(D.weekday);case "ccc":return Xa("short",!0);case "cccc":return Xa("long",!0);case "ccccc":return Xa("narrow",!0);case "E":return this.num(D.weekday);case "EEE":return Xa("short",!1);case "EEEE":return Xa("long",!1);case "EEEEE":return Xa("narrow",!1);case "L":return la?
wa({month:"numeric",day:"numeric"},"month"):this.num(D.month);case "LL":return la?wa({month:"2-digit",day:"numeric"},"month"):this.num(D.month,2);case "LLL":return Na("short",!0);case "LLLL":return Na("long",!0);case "LLLLL":return Na("narrow",!0);case "M":return la?wa({month:"numeric"},"month"):this.num(D.month);case "MM":return la?wa({month:"2-digit"},"month"):this.num(D.month,2);case "MMM":return Na("short",!1);case "MMMM":return Na("long",!1);case "MMMMM":return Na("narrow",!1);case "y":return la?
wa({year:"numeric"},"year"):this.num(D.year);case "yy":return la?wa({year:"2-digit"},"year"):this.num(D.year.toString().slice(-2),2);case "yyyy":return la?wa({year:"numeric"},"year"):this.num(D.year,4);case "yyyyyy":return la?wa({year:"numeric"},"year"):this.num(D.year,6);case "G":return ob("short");case "GG":return ob("long");case "GGGGG":return ob("narrow");case "kk":return this.num(D.weekYear.toString().slice(-2),2);case "kkkk":return this.num(D.weekYear,4);case "W":return this.num(D.weekNumber);
case "WW":return this.num(D.weekNumber,2);case "n":return this.num(D.localWeekNumber);case "nn":return this.num(D.localWeekNumber,2);case "ii":return this.num(D.localWeekYear.toString().slice(-2),2);case "iiii":return this.num(D.localWeekYear,4);case "o":return this.num(D.ordinal);case "ooo":return this.num(D.ordinal,3);case "q":return this.num(D.quarter);case "qq":return this.num(D.quarter,2);case "X":return this.num(Math.floor(D.ts/1E3));case "x":return this.num(D.ts);default:return Za(kb)}})}formatDurationFromString(D,
P){const ba=wa=>{switch(wa[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};P=Gb.parseFormat(P);const la=P.reduce((wa,{literal:Ja,val:Na})=>Ja?wa:wa.concat(Na),[]);D=D.shiftTo(...la.map(ba).filter(wa=>wa));return ia(P,(wa=>Ja=>{const Na=ba(Ja);return Na?this.num(wa.get(Na),Ja.length):Ja})(D))}}const Oc=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,
Pc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,lc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Qc=RegExp(`${lc.source}${`(?:${Pc.source}?(?:\\[(${Oc.source})\\])?)?`}`),mc=RegExp(`(?:T${Qc.source})?`),ld=da("weekYear","weekNumber","weekDay"),md=da("year","ordinal"),Rc=RegExp(`${lc.source} ?(?:${Pc.source}|(${Oc.source}))?`),nd=RegExp(`(?: ${Rc.source})?`),od=RegExp(`^T?${lc.source}$`),pd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,
ad={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},qd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,rd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,sd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
td=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,ud=ka(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,mc),vd=ka(/(\d{4})-?W(\d\d)(?:-?(\d))?/,mc),wd=ka(/(\d{4})-?(\d{3})/,mc),xd=ka(Qc),Sc=Ba(function(D,P){return[{year:ja(D,P),month:ja(D,P+1,1),day:ja(D,P+2,1)},null,P+3]},M,S,X),yd=Ba(ld,M,S,X),zd=Ba(md,M,S,X),Ad=Ba(M,S,X),Bd=Ba(M),Cd=ka(/(\d{4})-(\d\d)-(\d\d)/,nd),Dd=ka(Rc),Ed=Ba(M,S,X),Tc={weeks:{days:7,hours:168,minutes:10080,
seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},Fd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},
...Tc},Gd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Tc},Qb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),bd=Qb.slice(0).reverse();class tb{constructor(D){const P=
"longterm"===D.conversionAccuracy||!1;let ba=P?Gd:Fd;D.matrix&&(ba=D.matrix);this.values=D.values;this.loc=D.loc||wb.create();this.conversionAccuracy=P?"longterm":"casual";this.invalid=D.invalid||null;this.matrix=ba;this.isLuxonDuration=!0}static fromMillis(D,P){return tb.fromObject({milliseconds:D},P)}static fromObject(D,P={}){if(null==D||"object"!==typeof D)throw new Ka(`Duration.fromObject: argument expected to be an object, got ${null===D?"null":typeof D}`);return new tb({values:ea(D,tb.normalizeUnit),
loc:wb.fromObject(P),conversionAccuracy:P.conversionAccuracy,matrix:P.matrix})}static fromDurationLike(D){if(B(D))return tb.fromMillis(D);if(tb.isDuration(D))return D;if("object"===typeof D)return tb.fromObject(D);throw new Ka(`Unknown duration argument ${D} of type ${typeof D}`);}static fromISO(D,P){const [ba]=W(D,[pd,ma]);return ba?tb.fromObject(ba,P):tb.invalid("unparsable",`the input "${D}" can't be parsed as ISO 8601`)}static fromISOTime(D,P){const [ba]=W(D,[od,Bd]);return ba?tb.fromObject(ba,
P):tb.invalid("unparsable",`the input "${D}" can't be parsed as ISO 8601`)}static invalid(D,P=null){if(!D)throw new Ka("need to specify a reason the Duration is invalid");D=D instanceof Kb?D:new Kb(D,P);if(xb.throwOnInvalid)throw new Ga(D);return new tb({invalid:D})}static normalizeUnit(D){const P={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",
second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[D?D.toLowerCase():D];if(!P)throw new za(D);return P}static isDuration(D){return D&&D.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(D,P={}){P={...P,floor:!1!==P.round&&!1!==P.floor};return this.isValid?Gb.create(this.loc,P).formatDurationFromString(this,D):"Invalid Duration"}toHuman(D={}){if(!this.isValid)return"Invalid Duration";
const P=Qb.map(ba=>{const la=this.values[ba];return x(la)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...D,unit:ba.slice(0,-1)}).format(la)}).filter(ba=>ba);return this.loc.listFormatter({type:"conjunction",style:D.listStyle||"narrow",...D}).format(P)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let D="P";0!==this.years&&(D+=this.years+"Y");if(0!==this.months||0!==this.quarters)D+=this.months+3*this.quarters+"M";0!==this.weeks&&(D+=this.weeks+
"W");0!==this.days&&(D+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)D+="T";0!==this.hours&&(D+=this.hours+"H");0!==this.minutes&&(D+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)D+=U(this.seconds+this.milliseconds/1E3,3)+"S";"P"===D&&(D+="T0S");return D}toISOTime(D={}){if(!this.isValid)return null;const P=this.toMillis();if(0>P||864E5<=P)return null;D={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...D,
includeOffset:!1};return lb.fromMillis(P,{zone:"UTC"}).toISOTime(D)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Fa(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(D){if(!this.isValid)return this;D=tb.fromDurationLike(D);const P={};for(const ba of Qb)if(E(D.values,
ba)||E(this.values,ba))P[ba]=D.get(ba)+this.get(ba);return ta(this,{values:P},!0)}minus(D){if(!this.isValid)return this;D=tb.fromDurationLike(D);return this.plus(D.negate())}mapUnits(D){if(!this.isValid)return this;const P={};for(const ba of Object.keys(this.values))P[ba]=Aa(D(this.values[ba],ba));return ta(this,{values:P},!0)}get(D){return this[tb.normalizeUnit(D)]}set(D){if(!this.isValid)return this;D={...this.values,...ea(D,tb.normalizeUnit)};return ta(this,{values:D})}reconfigure({locale:D,numberingSystem:P,
conversionAccuracy:ba,matrix:la}={}){D={loc:this.loc.clone({locale:D,numberingSystem:P}),matrix:la,conversionAccuracy:ba};return ta(this,D)}as(D){return this.isValid?this.shiftTo(D).get(D):NaN}normalize(){if(!this.isValid)return this;const D=this.toObject();Ea(this.matrix,D);return ta(this,{values:D},!0)}rescale(){if(!this.isValid)return this;var D=this.normalize().shiftToAll().toObject();const P={};for(const [ba,la]of Object.entries(D))0!==la&&(P[ba]=la);return ta(this,{values:P},!0)}shiftTo(...D){if(!this.isValid||
0===D.length)return this;D=D.map(Ja=>tb.normalizeUnit(Ja));const P={},ba={},la=this.toObject();let wa;for(const Ja of Qb)if(0<=D.indexOf(Ja)){wa=Ja;let Na=0;for(const Za in ba)Na+=this.matrix[Za][Ja]*ba[Za],ba[Za]=0;B(la[Ja])&&(Na+=la[Ja]);const Xa=Math.trunc(Na);P[Ja]=Xa;ba[Ja]=(1E3*Na-1E3*Xa)/1E3}else B(la[Ja])&&(ba[Ja]=la[Ja]);for(const Ja in ba)0!==ba[Ja]&&(P[wa]+=Ja===wa?ba[Ja]:ba[Ja]/this.matrix[wa][Ja]);Ea(this.matrix,P);return ta(this,{values:P},!0)}shiftToAll(){return this.isValid?this.shiftTo("years",
"months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const D={};for(const P of Object.keys(this.values))D[P]=0===this.values[P]?0:-this.values[P];return ta(this,{values:D},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?
this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(D){if(!this.isValid||!D.isValid||!this.loc.equals(D.loc))return!1;
for(const la of Qb){var P=this.values[la];var ba=D.values[la];P=void 0===P||0===P?void 0===ba||0===ba:P===ba;if(!P)return!1}return!0}}class yb{constructor(D){this.s=D.start;this.e=D.end;this.invalid=D.invalid||null;this.isLuxonInterval=!0}static invalid(D,P=null){if(!D)throw new Ka("need to specify a reason the Interval is invalid");D=D instanceof Kb?D:new Kb(D,P);if(xb.throwOnInvalid)throw new eb(D);return new yb({invalid:D})}static fromDateTimes(D,P){D=Bb(D);P=Bb(P);var ba=D&&D.isValid?P&&P.isValid?
P<D?yb.invalid("end before start",`The end of an interval must be after its start, but you had start=${D.toISO()} and end=${P.toISO()}`):null:yb.invalid("missing or invalid end"):yb.invalid("missing or invalid start");return null==ba?new yb({start:D,end:P}):ba}static after(D,P){P=tb.fromDurationLike(P);D=Bb(D);return yb.fromDateTimes(D,D.plus(P))}static before(D,P){P=tb.fromDurationLike(P);D=Bb(D);return yb.fromDateTimes(D.minus(P),D)}static fromISO(D,P){const [ba,la]=(D||"").split("/",2);if(ba&&
la){let Na;try{var wa=lb.fromISO(ba,P);Na=wa.isValid}catch(Za){Na=!1}let Xa;try{var Ja=lb.fromISO(la,P);Xa=Ja.isValid}catch(Za){Xa=!1}if(Na&&Xa)return yb.fromDateTimes(wa,Ja);if(Na){if(Ja=tb.fromISO(la,P),Ja.isValid)return yb.after(wa,Ja)}else if(Xa&&(wa=tb.fromISO(ba,P),wa.isValid))return yb.before(Ja,wa)}return yb.invalid("unparsable",`the input "${D}" can't be parsed as ISO 8601`)}static isInterval(D){return D&&D.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?
this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(D="milliseconds"){return this.isValid?this.toDuration(...[D]).get(D):NaN}count(D="milliseconds",P){if(!this.isValid)return NaN;const ba=this.start.startOf(D,P);let la;la=P?.useLocaleWeeks?this.end.reconfigure({locale:ba.locale}):this.end;la=la.startOf(D,P);return Math.floor(la.diff(ba,D).get(D))+
(la.valueOf()!==this.end.valueOf())}hasSame(D){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,D):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(D){return this.isValid?this.s>D:!1}isBefore(D){return this.isValid?this.e<=D:!1}contains(D){return this.isValid?this.s<=D&&this.e>D:!1}set({start:D,end:P}={}){return this.isValid?yb.fromDateTimes(D||this.s,P||this.e):this}splitAt(...D){if(!this.isValid)return[];D=D.map(Bb).filter(Ja=>this.contains(Ja)).sort((Ja,Na)=>Ja.toMillis()-
Na.toMillis());const P=[];let {s:ba}=this,la=0;for(;ba<this.e;){var wa=D[la]||this.e;wa=+wa>+this.e?this.e:wa;P.push(yb.fromDateTimes(ba,wa));ba=wa;la+=1}return P}splitBy(D){D=tb.fromDurationLike(D);if(!this.isValid||!D.isValid||0===D.as("milliseconds"))return[];let {s:P}=this,ba=1;const la=[];for(;P<this.e;){var wa=this.start.plus(D.mapUnits(Ja=>Ja*ba));wa=+wa>+this.e?this.e:wa;la.push(yb.fromDateTimes(P,wa));P=wa;ba+=1}return la}divideEqually(D){return this.isValid?this.splitBy(this.length()/D).slice(0,
D):[]}overlaps(D){return this.e>D.s&&this.s<D.e}abutsStart(D){return this.isValid?+this.e===+D.s:!1}abutsEnd(D){return this.isValid?+D.e===+this.s:!1}engulfs(D){return this.isValid?this.s<=D.s&&this.e>=D.e:!1}equals(D){return this.isValid&&D.isValid?this.s.equals(D.s)&&this.e.equals(D.e):!1}intersection(D){if(!this.isValid)return this;const P=this.s>D.s?this.s:D.s;D=this.e<D.e?this.e:D.e;return P>=D?null:yb.fromDateTimes(P,D)}union(D){return this.isValid?yb.fromDateTimes(this.s<D.s?this.s:D.s,this.e>
D.e?this.e:D.e):this}static merge(D){const [P,ba]=D.sort((la,wa)=>la.s-wa.s).reduce(([la,wa],Ja)=>wa?wa.overlaps(Ja)||wa.abutsStart(Ja)?[la,wa.union(Ja)]:[la.concat([wa]),Ja]:[la,Ja],[[],null]);ba&&P.push(ba);return P}static xor(D){let P=null,ba=0;const la=[];D=D.map(wa=>[{time:wa.s,type:"s"},{time:wa.e,type:"e"}]);D=Array.prototype.concat(...D).sort((wa,Ja)=>wa.time-Ja.time);for(const wa of D)ba+="s"===wa.type?1:-1,1===ba?P=wa.time:(P&&+P!==+wa.time&&la.push(yb.fromDateTimes(P,wa.time)),P=null);
return yb.merge(la)}difference(...D){return yb.xor([this].concat(D)).map(P=>this.intersection(P)).filter(P=>P&&!P.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(D=Va,P={}){return this.isValid?Gb.create(this.s.loc.clone(P),D).formatInterval(this):
"Invalid Interval"}toISO(D){return this.isValid?`${this.s.toISO(D)}/${this.e.toISO(D)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(D){return this.isValid?`${this.s.toISOTime(D)}/${this.e.toISOTime(D)}`:"Invalid Interval"}toFormat(D,{separator:P=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(D)}${P}${this.e.toFormat(D)}`:"Invalid Interval"}toDuration(D,P){return this.isValid?this.e.diff(this.s,D,P):tb.invalid(this.invalidReason)}mapEndpoints(D){return yb.fromDateTimes(D(this.s),
D(this.e))}}class ac{static hasDST(D=xb.defaultZone){const P=lb.now().setZone(D).set({month:12});return!D.isUniversal&&P.offset!==P.set({month:6}).offset}static isValidIANAZone(D){return Mb.isValidZone(D)}static normalizeZone(D){return g(D,xb.defaultZone)}static getStartOfWeek({locale:D=null,locObj:P=null}={}){return(P||wb.create(D)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:D=null,locObj:P=null}={}){return(P||wb.create(D)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:D=
null,locObj:P=null}={}){return(P||wb.create(D)).getWeekendDays().slice()}static months(D="long",{locale:P=null,numberingSystem:ba=null,locObj:la=null,outputCalendar:wa="gregory"}={}){return(la||wb.create(P,ba,wa)).months(D)}static monthsFormat(D="long",{locale:P=null,numberingSystem:ba=null,locObj:la=null,outputCalendar:wa="gregory"}={}){return(la||wb.create(P,ba,wa)).months(D,!0)}static weekdays(D="long",{locale:P=null,numberingSystem:ba=null,locObj:la=null}={}){return(la||wb.create(P,ba,null)).weekdays(D)}static weekdaysFormat(D=
"long",{locale:P=null,numberingSystem:ba=null,locObj:la=null}={}){return(la||wb.create(P,ba,null)).weekdays(D,!0)}static meridiems({locale:D=null}={}){return wb.create(D).meridiems()}static eras(D="short",{locale:P=null}={}){return wb.create(P,null,"gregory").eras(D)}static features(){return{relative:C(),localeWeek:H()}}}const hc={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",
hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},rc={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],
khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},cd=hc.hanidec.replace(/[\[|\]]/g,"").split(""),sc=`[ ${String.fromCharCode(160)}]`,ic=new RegExp(sc,"g"),dd={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",
hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let tc=null;const vc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Hd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Id={ordinal:1,hour:0,minute:0,second:0,millisecond:0},uc="year month day hour minute second millisecond".split(" "),Jd="weekYear weekNumber weekday hour minute second millisecond".split(" "),
Kd="year ordinal hour minute second millisecond".split(" ");class lb{constructor(D){const P=D.zone||xb.defaultZone;let ba=D.invalid||(Number.isNaN(D.ts)?new Kb("invalid input"):null)||(P.isValid?null:La(P));this.ts=x(D.ts)?xb.now():D.ts;let la=null;var wa=null;ba||(D.old&&D.old.ts===this.ts&&D.old.zone.equals(P)?[la,wa]=[D.old.c,D.old.o]:(wa=P.offset(this.ts),la=bb(this.ts,wa),la=(ba=Number.isNaN(la.year)?new Kb("invalid input"):null)?null:la,wa=ba?null:wa));this._zone=P;this.loc=D.loc||wb.create();
this.invalid=ba;this.localWeekData=this.weekData=null;this.c=la;this.o=wa;this.isLuxonDateTime=!0}static now(){return new lb({})}static local(){const [D,P]=Jb(arguments),[ba,la,wa,Ja,Na,Xa,Za]=P;return Ha({year:ba,month:la,day:wa,hour:Ja,minute:Na,second:Xa,millisecond:Za},D)}static utc(){const [D,P]=Jb(arguments),[ba,la,wa,Ja,Na,Xa,Za]=P;D.zone=Fb.utcInstance;return Ha({year:ba,month:la,day:wa,hour:Ja,minute:Na,second:Xa,millisecond:Za},D)}static fromJSDate(D,P={}){D="[object Date]"===Object.prototype.toString.call(D)?
D.valueOf():NaN;if(Number.isNaN(D))return lb.invalid("invalid input");const ba=g(P.zone,xb.defaultZone);return ba.isValid?new lb({ts:D,zone:ba,loc:wb.fromObject(P)}):lb.invalid(La(ba))}static fromMillis(D,P={}){if(B(D))return-864E13>D||864E13<D?lb.invalid("Timestamp out of range"):new lb({ts:D,zone:g(P.zone,xb.defaultZone),loc:wb.fromObject(P)});throw new Ka(`fromMillis requires a numerical input, but received a ${typeof D} with value ${D}`);}static fromSeconds(D,P={}){if(B(D))return new lb({ts:1E3*
D,zone:g(P.zone,xb.defaultZone),loc:wb.fromObject(P)});throw new Ka("fromSeconds requires a numerical input");}static fromObject(D,P={}){D=D||{};var ba=g(P.zone,xb.defaultZone);if(!ba.isValid)return lb.invalid(La(ba));const la=wb.fromObject(P),wa=ea(D,pb),{minDaysInFirstWeek:Ja,startOfWeek:Na}=u(wa,la);var Xa=xb.now();P=x(P.specificOffset)?ba.offset(Xa):P.specificOffset;var Za=!x(wa.ordinal),ob=!x(wa.year),kb=!x(wa.month)||!x(wa.day);ob=ob||kb;var nb=wa.weekYear||wa.weekNumber;if((ob||Za)&&nb)throw new aa("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
if(kb&&Za)throw new aa("Can't mix ordinal dates with month/day");kb=nb||wa.weekday&&!ob;let vb=bb(Xa,P);kb?(Xa=Jd,nb=Hd,vb=m(vb,Ja,Na)):Za?(Xa=Kd,nb=Id,vb=t(vb)):(Xa=uc,nb=vc);let Cb=!1;for(var Db of Xa)x(wa[Db])?wa[Db]=Cb?nb[Db]:vb[Db]:Cb=!0;kb?Db=r(wa,Ja,Na):Za?(Db=A(wa.year),Xa=L(wa.ordinal,1,T(wa.year)?366:365),Db=Db?Xa?!1:k("ordinal",wa.ordinal):k("year",wa.year)):Db=z(wa);if(Db=Db||v(wa))return lb.invalid(Db);Za=kb?h(wa,Ja,Na):Za?y(wa):wa;const [Nb,Xb]=$a(Za,P,ba);ba=new lb({ts:Nb,zone:ba,o:Xb,
loc:la});return wa.weekday&&ob&&D.weekday!==ba.weekday?lb.invalid("mismatched weekday",`you can't specify both a weekday of ${wa.weekday} and a date of ${ba.toISO()}`):ba}static fromISO(D,P={}){const [ba,la]=W(D,[ud,Sc],[vd,yd],[wd,zd],[xd,Ad]);return cb(ba,la,P,"ISO 8601",D)}static fromRFC2822(D,P={}){const [ba,la]=W(D.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[qd,Ia]);return cb(ba,la,P,"RFC 2822",D)}static fromHTTP(D,P={}){const [ba,la]=W(D,[rd,fa],[sd,fa],[td,oa]);return cb(ba,
la,P,"HTTP",P)}static fromFormat(D,P,ba={}){if(x(D)||x(P))throw new Ka("fromFormat requires an input string and a format");const {locale:la=null,numberingSystem:wa=null}=ba,Ja=wb.fromOpts({locale:la,numberingSystem:wa,defaultToEN:!0}),{result:Na,zone:Xa,specificOffset:Za,invalidReason:ob}=pa(Ja,D,P),[kb,nb,vb,Cb]=[Na,Xa,Za,ob];return Cb?lb.invalid(Cb):cb(kb,nb,ba,`format ${P}`,D,vb)}static fromString(D,P,ba={}){return lb.fromFormat(D,P,ba)}static fromSQL(D,P={}){const [ba,la]=W(D,[Cd,Sc],[Dd,Ed]);
return cb(ba,la,P,"SQL",D)}static invalid(D,P=null){if(!D)throw new Ka("need to specify a reason the DateTime is invalid");D=D instanceof Kb?D:new Kb(D,P);if(xb.throwOnInvalid)throw new db(D);return new lb({invalid:D})}static isDateTime(D){return D&&D.isLuxonDateTime||!1}static parseFormatForOpts(D,P={}){return(D=sa(D,wb.fromObject(P)))?D.map(ba=>ba?ba.val:null).join(""):null}static expandFormat(D,P={}){return sb(Gb.parseFormat(D),wb.fromObject(P)).map(ba=>ba.val).join("")}get(D){return this[D]}get isValid(){return null===
this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?
Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Da(this).weekYear:NaN}get weekNumber(){return this.isValid?Da(this).weekNumber:NaN}get weekday(){return this.isValid?Da(this).weekday:
NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Ta(this).weekday:NaN}get localWeekNumber(){return this.isValid?Ta(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Ta(this).weekYear:NaN}get ordinal(){return this.isValid?t(this.c).ordinal:NaN}get monthShort(){return this.isValid?ac.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ac.months("long",{locObj:this.loc})[this.month-
1]:null}get weekdayShort(){return this.isValid?ac.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ac.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?
this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];var D=V(this.c),P=this.zone.offset(D-864E5),ba=this.zone.offset(D+864E5);P=this.zone.offset(D-6E4*P);var la=this.zone.offset(D-6E4*ba);if(P===la)return[this];ba=D-6E4*P;D-=6E4*la;P=bb(ba,P);la=bb(D,la);return P.hour===la.hour&&P.minute===la.minute&&P.second===la.second&&P.millisecond===
la.millisecond?[Ya(this,{ts:ba}),Ya(this,{ts:D})]:[this]}get isInLeapYear(){return T(this.year)}get daysInMonth(){return Z(this.year,this.month)}get daysInYear(){return this.isValid?T(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?qa(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?qa(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(D={}){const {locale:P,numberingSystem:ba,calendar:la}=Gb.create(this.loc.clone(D),
D).resolvedOptions(this);return{locale:P,numberingSystem:ba,outputCalendar:la}}toUTC(D=0,P={}){return this.setZone(Fb.instance(D),P)}toLocal(){return this.setZone(xb.defaultZone)}setZone(D,{keepLocalTime:P=!1,keepCalendarTime:ba=!1}={}){D=g(D,xb.defaultZone);if(D.equals(this.zone))return this;if(D.isValid){let la=this.ts;if(P||ba)P=D.offset(this.ts),ba=this.toObject(),[la]=$a(ba,P,D);return Ya(this,{ts:la,zone:D})}return lb.invalid(La(D))}reconfigure({locale:D,numberingSystem:P,outputCalendar:ba}=
{}){D=this.loc.clone({locale:D,numberingSystem:P,outputCalendar:ba});return Ya(this,{loc:D})}setLocale(D){return this.reconfigure({locale:D})}set(D){if(!this.isValid)return this;D=ea(D,pb);const {minDaysInFirstWeek:P,startOfWeek:ba}=u(D,this.loc);var la=!x(D.weekYear)||!x(D.weekNumber)||!x(D.weekday);const wa=!x(D.ordinal),Ja=!x(D.year),Na=!x(D.month)||!x(D.day),Xa=D.weekYear||D.weekNumber;if((Ja||Na||wa)&&Xa)throw new aa("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Na&&
wa)throw new aa("Can't mix ordinal dates with month/day");la?la=h({...m(this.c,P,ba),...D},P,ba):x(D.ordinal)?(la={...this.toObject(),...D},x(D.day)&&(la.day=Math.min(Z(la.year,la.month),la.day))):la=y({...t(this.c),...D});const [Za,ob]=$a(la,this.o,this.zone);return Ya(this,{ts:Za,o:ob})}plus(D){if(!this.isValid)return this;D=tb.fromDurationLike(D);return Ya(this,jb(this,D))}minus(D){if(!this.isValid)return this;D=tb.fromDurationLike(D).negate();return Ya(this,jb(this,D))}startOf(D,{useLocaleWeeks:P=
!1}={}){if(!this.isValid)return this;const ba={};D=tb.normalizeUnit(D);switch(D){case "years":ba.month=1;case "quarters":case "months":ba.day=1;case "weeks":case "days":ba.hour=0;case "hours":ba.minute=0;case "minutes":ba.second=0;case "seconds":ba.millisecond=0}if("weeks"===D)if(P){P=this.loc.getStartOfWeek();const {weekday:la}=this;la<P&&(ba.weekNumber=this.weekNumber-1);ba.weekday=P}else ba.weekday=1;"quarters"===D&&(ba.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(ba)}endOf(D,P){return this.isValid?
this.plus({[D]:1}).startOf(D,P).minus(1):this}toFormat(D,P={}){return this.isValid?Gb.create(this.loc.redefaultToEN(P)).formatDateTimeFromString(this,D):"Invalid DateTime"}toLocaleString(D=Va,P={}){return this.isValid?Gb.create(this.loc.clone(P),D).formatDateTime(this):"Invalid DateTime"}toLocaleParts(D={}){return this.isValid?Gb.create(this.loc.clone(D),D).formatDateTimeParts(this):[]}toISO({format:D="extended",suppressSeconds:P=!1,suppressMilliseconds:ba=!1,includeOffset:la=!0,extendedZone:wa=!1}=
{}){if(!this.isValid)return null;D="extended"===D;let Ja=hb(this,D);return Ja=Ja+"T"+ib(this,D,P,ba,la,wa)}toISODate({format:D="extended"}={}){return this.isValid?hb(this,"extended"===D):null}toISOWeekDate(){return fb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:D=!1,suppressSeconds:P=!1,includeOffset:ba=!0,includePrefix:la=!1,extendedZone:wa=!1,format:Ja="extended"}={}){return this.isValid?(la?"T":"")+ib(this,"extended"===Ja,P,D,ba,wa):null}toRFC2822(){return fb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",
!1)}toHTTP(){return fb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?hb(this,!0):null}toSQLTime({includeOffset:D=!0,includeZone:P=!1,includeOffsetSpace:ba=!0}={}){let la="HH:mm:ss.SSS";if(P||D)ba&&(la+=" "),P?la+="z":D&&(la+="ZZ");return fb(this,la,!0)}toSQL(D={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(D)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:
`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(D={}){if(!this.isValid)return{};const P={...this.c};D.includeConfig&&(P.outputCalendar=this.outputCalendar,P.numberingSystem=this.loc.numberingSystem,P.locale=this.loc.locale);return P}toJSDate(){return new Date(this.isValid?
this.ts:NaN)}diff(D,P="milliseconds",ba={}){if(!this.isValid||!D.isValid)return tb.invalid("created by diffing an invalid DateTime");ba={locale:this.locale,numberingSystem:this.numberingSystem,...ba};const la=(Array.isArray(P)?P:[P]).map(tb.normalizeUnit);P=D.valueOf()>this.valueOf();D=Ra(P?this:D,P?D:this,la,ba);return P?D.negate():D}diffNow(D="milliseconds",P={}){return this.diff(lb.now(),D,P)}until(D){return this.isValid?yb.fromDateTimes(this,D):this}hasSame(D,P,ba){if(!this.isValid)return!1;const la=
D.valueOf();D=this.setZone(D.zone,{keepLocalTime:!0});return D.startOf(P,ba)<=la&&la<=D.endOf(P,ba)}equals(D){return this.isValid&&D.isValid&&this.valueOf()===D.valueOf()&&this.zone.equals(D.zone)&&this.loc.equals(D.loc)}toRelative(D={}){if(!this.isValid)return null;const P=D.base||lb.fromObject({},{zone:this.zone}),ba=D.padding?this<P?-D.padding:D.padding:0;let la="years months days hours minutes seconds".split(" "),wa=D.unit;Array.isArray(D.unit)&&(la=D.unit,wa=void 0);return ub(P,this.plus(ba),
{...D,numeric:"always",units:la,unit:wa})}toRelativeCalendar(D={}){return this.isValid?ub(D.base||lb.fromObject({},{zone:this.zone}),this,{...D,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...D){if(!D.every(lb.isDateTime))throw new Ka("min requires all arguments be DateTimes");return N(D,P=>P.valueOf(),Math.min)}static max(...D){if(!D.every(lb.isDateTime))throw new Ka("max requires all arguments be DateTimes");return N(D,P=>P.valueOf(),Math.max)}static fromFormatExplain(D,
P,ba={}){const {locale:la=null,numberingSystem:wa=null}=ba;ba=wb.fromOpts({locale:la,numberingSystem:wa,defaultToEN:!0});return pa(ba,D,P)}static fromStringExplain(D,P,ba={}){return lb.fromFormatExplain(D,P,ba)}static get DATE_SHORT(){return Va}static get DATE_MED(){return ab}static get DATE_MED_WITH_WEEKDAY(){return mb}static get DATE_FULL(){return Ab}static get DATE_HUGE(){return Ob}static get TIME_SIMPLE(){return Rb}static get TIME_WITH_SECONDS(){return Lb}static get TIME_WITH_SHORT_OFFSET(){return Vb}static get TIME_WITH_LONG_OFFSET(){return Hb}static get TIME_24_SIMPLE(){return Sb}static get TIME_24_WITH_SECONDS(){return Tb}static get TIME_24_WITH_SHORT_OFFSET(){return Pb}static get TIME_24_WITH_LONG_OFFSET(){return Wb}static get DATETIME_SHORT(){return wc}static get DATETIME_SHORT_WITH_SECONDS(){return xc}static get DATETIME_MED(){return yc}static get DATETIME_MED_WITH_SECONDS(){return zc}static get DATETIME_MED_WITH_WEEKDAY(){return ed}static get DATETIME_FULL(){return Ac}static get DATETIME_FULL_WITH_SECONDS(){return Bc}static get DATETIME_HUGE(){return Cc}static get DATETIME_HUGE_WITH_SECONDS(){return Dc}}
a.DateTime=lb;a.Duration=tb;a.FixedOffsetZone=Fb;a.IANAZone=Mb;a.Zone=Ub})},"esri/core/Identifiable":function(){define(["exports","../chunks/tslib.es6","./accessorSupport/decorators/subclass"],function(a,b,c){let e=0;const d=p=>{p=class extends p{constructor(...n){super(...n);Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+e++})}};return p=b.__decorate([c.subclass("esri.core.Identifiable")],p)};a.Identifiable=class extends d(class{}){};a.Identifiable=
b.__decorate([c.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=d;a.NumericIdentifiableMixin=p=>{p=class extends p{constructor(...n){super(...n);Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:e++})}};return p=b.__decorate([c.subclass("esri.core.Identifiable.NumericIdentifiable")],p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fromPortalItem":function(){define(["require","exports","../../config","../../core/Logger"],
function(a,b,c,e){b.fromPortalItem=async function(d){d="portalItem"in d?d:{portalItem:d};var {fromItem:p}=await new Promise((n,f)=>a(["../../portal/support/portalLayers"],n,f));try{return await p(d)}catch(n){throw p=d?.portalItem,d=p?.id||"unset",p=p?.portal?.url||c.portalUrl,e.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+p+"', id: '"+d+"')",n),n;}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/support/TablesMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g){function k(l,w,q){if(l)for(let h=0,t=l.length;h<t;h++){var m=l.at(h);if(m[w]===q||"group"===m?.type&&(m=k(m.tables,w,q)))return m}}a.TablesMixin=l=>{l=class extends l{constructor(...w){super(...w);this.tables=new c;this.addHandles([this.tables.on("after-add",q=>{q=q.item;q.parent&&q.parent!==this&&"tables"in q.parent&&q.parent.tables.remove(q);q.parent=this;"feature"!==q.type&&d.getLogger(this).error(`Layer 'title:${q.title}, id:${q.id}' of type '${q.type}' is not supported as a table and will therefore be ignored.`)}),
this.tables.on("after-remove",q=>{q.item.parent=null})])}destroy(){const w=this.tables.toArray();for(const q of w)q.destroy();this.tables.destroy()}set tables(w){this._set("tables",e.referenceSetter(w,this._get("tables")))}findTableById(w){return k(this.tables,"id",w)}findTableByUid(w){return k(this.tables,"uid",w)}};b.__decorate([p.property()],l.prototype,"tables",null);return l=b.__decorate([g.subclass("esri.support.TablesMixin")],l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/Viewpoint":function(){define("./chunks/tslib.es6 ./Camera ./geometry ./core/JSONSupport ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,b,c,e,d,p,n,f,g,k){function l(){return{enabled:!this.camera}}var w;e=w=class extends e.JSONSupport{constructor(q){super(q);this.scale=this.rotation=0;this.camera=this.targetGeometry=null}castRotation(q){q%=
360;0>q&&(q+=360);return q}clone(){return new w({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};a.__decorate([d.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:l}}}}})],e.prototype,"rotation",void 0);a.__decorate([p.cast("rotation")],e.prototype,"castRotation",null);a.__decorate([d.property({type:Number,json:{write:!0,
origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:l}}}}})],e.prototype,"scale",void 0);a.__decorate([d.property({types:c.geometryTypes,json:{read:k.fromJSON,write:!0,origins:{"web-scene":{read:k.fromJSON,write:{overridePolicy:l}}}}})],e.prototype,"targetGeometry",void 0);a.__decorate([d.property({type:b,json:{write:!0}})],e.prototype,"camera",void 0);return e=w=a.__decorate([g.subclass("esri.Viewpoint")],e)})},"esri/Camera":function(){define("./chunks/tslib.es6 ./CameraLayout ./core/Clonable ./core/Cyclical ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){c=class extends c.ClonableMixin(d.JSONSupport){constructor(...t){super(...t);this.position=new h([0,0,0]);this.tilt=this.heading=0;this.fov=55;this.layout=new b}normalizeCtorArgs(t,y,u,r){return t&&"object"===typeof t&&("x"in t||Array.isArray(t))?(t={position:t},null!=y&&(t.heading=y),null!=u&&(t.tilt=u),null!=r&&(t.fov=r),t):t}writePosition(t,y,u,r){const z=t.clone();z.x=m.ensureNumber(t.x||0);z.y=m.ensureNumber(t.y||0);z.z=t.hasZ?m.ensureNumber(t.z||0):t.z;
y[u]=z.write({},r)}readPosition(t,y){const u=new h;u.read(t,y);u.x=m.ensureNumber(u.x||0);u.y=m.ensureNumber(u.y||0);u.z=u.hasZ?m.ensureNumber(u.z||0):u.z;return u}equals(t){return null==t?!1:this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};a.__decorate([n.property({type:h,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0);a.__decorate([q.writer("position")],c.prototype,"writePosition",null);a.__decorate([l.reader("position")],
c.prototype,"readPosition",null);a.__decorate([n.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),f.cast(t=>e.cyclicalDegrees.normalize(m.ensureNumber(t)))],c.prototype,"heading",void 0);a.__decorate([n.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),f.cast(t=>p.clamp(m.ensureNumber(t),-180,180))],c.prototype,"tilt",void 0);a.__decorate([n.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"fov",void 0);a.__decorate([n.property({type:b,
nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"layout",void 0);return c=a.__decorate([w.subclass("esri.Camera")],c)})},"esri/CameraLayout":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){b=class extends b.Clonable{constructor(f){super(f);this.column=this.row=0;this.columns=this.rows=1}equals(f){return null==f?!1:this.row===
f.row&&this.rows===f.rows&&this.column===f.column&&this.columns===f.columns}};a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"row",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"column",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"rows",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"columns",
void 0);return b=a.__decorate([n.subclass("esri.CameraLayout")],b)})},"esri/core/Clonable":function(){define("exports ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f,g,k){e=l=>{l=class extends l{clone(){var w=g.getProperties(this);n.assertIsSome(w,"unable to clone instance of non-accessor class");var q=w.metadata;const m=w.store,h={};w=new Map;for(var t in q){var y=
q[t];const u=m?.originOf(t),r=y.clonable;if(y.readOnly||!1===r||u!==f.OriginId.USER&&u!==f.OriginId.DEFAULTS&&u!==f.OriginId.WEB_MAP&&u!==f.OriginId.WEB_SCENE)continue;y=this[t];let z=null;z="function"===typeof r?r(y):"reference"===r?y:d.tryClone(y);if(null==y||null!=z)u===f.OriginId.DEFAULTS?w.set(t,z):h[t]=z}q=new (Object.getPrototypeOf(this).constructor)(h);if(w.size&&(t=g.getProperties(q)?.store))for(const [u,r]of w)t.set(u,r,f.OriginId.DEFAULTS);return q}};return l=b.__decorate([k.subclass("esri.core.Clonable")],
l)};a.Clonable=class extends e(c){};a.Clonable=b.__decorate([k.subclass("esri.core.Clonable")],a.Clonable);a.ClonableMixin=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Cyclical":function(){define(["exports","./mathUtils"],function(a,b){function c(g,k,l,w,q=0,m=!1){w-=q;w<k?w+=e(g,k-w):w>l&&(w-=e(g,w-l));m&&w===l&&(w=k);return w+q}function e(g,k,l=0){return Math.ceil((k-l)/g)*g+l}class d{constructor(g,k){this.min=g;this.max=k;this.range=k-g}normalize(g,k=0,l=!1){return c(this.range,
this.min,this.max,g,k,l)}clamp(g,k=0){return b.clamp(g-k,this.min,this.max)+k}monotonic(g,k,l){return g<k?k:k+e(this.range,g-k,l)}minimalMonotonic(g,k,l){return c(this.range,g,g+this.range,k,l)}center(g,k,l){k=this.monotonic(g,k,l);return this.normalize((g+k)/2,l)}diff(g,k,l){return this.monotonic(g,k,l)-g}shortestSignedDiff(g,k){g=this.normalize(g);k=this.normalize(k);const l=k-g;g=k<g?this.minimalMonotonic(g,k)-g:k-this.minimalMonotonic(k,g);return Math.abs(l)<Math.abs(g)?l:g}contains(g,k,l){k=
this.minimalMonotonic(g,k);l=this.minimalMonotonic(g,l);return l>g&&l<k}}const p=new d(0,2*Math.PI),n=new d(-Math.PI,Math.PI),f=new d(0,360);a.Cyclical=d;a.cyclical2PI=p;a.cyclicalDegrees=f;a.cyclicalPI=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/tslib.es6 ../../TimeExtent ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y){a.OperationalLayer=u=>{u=class extends u{constructor(){super(...arguments);this.persistenceEnabled=!0;this.title=null}readId(r,z,v){return"Group Layer"===v?.portalItem?.type?void 0:r}writeListMode(r,z,v,x){x&&"ground"===x.layerContainerType?z[v]=r:r&&h.willPropertyWrite(this,v,{},x)&&(z[v]=r)}writeOperationalLayerType(r,z,v,x){r&&"tables"!==x?.layerContainerType&&(z.layerType=r)}writeTitle(r,z){z.title=r??"Layer"}readTimeExtent(r){return r?c.fromArray(r):
null}writeTimeExtent(r,z,v,x){r&&"tables"!==x.layerContainerType&&(r.isEmpty?x?.messages&&x.messages.push(new e("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):z[v]=r.toArray())}read(r,z){z&&(z.layer=this);m.readLoadable(this,r,v=>super.read(r,v),z)}write(r,z){if(!this.persistenceEnabled&&!z?.ignorePersistenceEnabled)return null;if(z?.origin){var v=`${z.origin}/${z.layerContainerType||"operational-layers"}`;let x=!!t.supportedTypes[v]?.[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===
this.operationalLayerType&&"web-scene/operational-layers"===v&&(x=!1);"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===v&&(x=!1);if(!x)return z.messages?.push(new e("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${v}'`,{layer:this})),null}r=super.write(r,{...z,layer:this});v=!!z&&!!z.messages&&!!z.messages.filter(x=>x instanceof e&&"web-document-write:property-required"===x.name).length;
return d.isBlobProtocol(r?.url)?(z?.messages?.push(new e("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&v?null:r}beforeSave(){}};b.__decorate([p.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],u.prototype,"id",void 0);b.__decorate([k.reader("id",["id"])],u.prototype,"readId",
null);b.__decorate([p.property(y.listMode)],u.prototype,"listMode",void 0);b.__decorate([w.writer("listMode")],u.prototype,"writeListMode",null);b.__decorate([p.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:q.excludeTables}}}}})],u.prototype,"operationalLayerType",void 0);b.__decorate([w.writer("operationalLayerType")],u.prototype,
"writeOperationalLayerType",null);b.__decorate([p.property(y.opacity)],u.prototype,"opacity",void 0);b.__decorate([p.property({type:Boolean,readOnly:!1})],u.prototype,"persistenceEnabled",void 0);b.__decorate([p.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],u.prototype,"title",void 0);b.__decorate([w.writer("title"),w.writer(["web-scene"],"title")],
u.prototype,"writeTitle",null);b.__decorate([p.property({type:c,json:{origins:{"web-scene":{write:{layerContainerTypes:q.excludeTables}}}}})],u.prototype,"visibilityTimeExtent",void 0);b.__decorate([k.reader("visibilityTimeExtent")],u.prototype,"readTimeExtent",null);b.__decorate([w.writer(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[n.Integer,n.Null]]}})],u.prototype,"writeTimeExtent",null);b.__decorate([p.property({type:Boolean,json:{origins:{"web-scene":{name:"visibility",
write:{enabled:!0,layerContainerTypes:q.excludeTables}}},name:"visibility",write:!0}})],u.prototype,"visible",void 0);return u=b.__decorate([l.subclass("esri.layers.mixins.OperationalLayer")],u)};a.isOperationalLayer=function(u){return"operationalLayerType"in u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/layerContainerType":function(){define(["exports"],function(a){a.excludeTables=["operational-layers","basemap","ground"];Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){const b={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,
OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},c={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},e={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0};a.supportedTypes={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,
ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,
ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":b,"web-map/basemap":c,"web-map/tables":e,"link-chart/operational-layers":{...b,LinkChartLayer:!0},"link-chart/basemap":c,"link-chart/tables":e,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,
ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/commonProperties":function(){define("exports ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,p,n){const f={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:b.excludeTables}}},g={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(r,z){return!z.disablePopup}},write:{enabled:!0,writer(r,z,v){z[v]=!r}}}},k={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:b.excludeTables}}};d={type:String,json:{origins:{"portal-item":{write:!1}},
write:{isRequired:!0,ignoreOrigin:!0,writer:d.write}}};const l={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:b.excludeTables}}};var w={write:{enabled:!0,layerContainerTypes:b.excludeTables},read:!0};const q={type:Number,json:{origins:{"web-document":w,"portal-item":{write:!0}}}};w={...q,json:{...q.json,origins:{"web-document":{...w,write:{enabled:!0,layerContainerTypes:b.excludeTables,target:{opacity:{type:Number},
"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(r,z,v){if((!v||"service"===v.origin)&&z.drawingInfo&&void 0!==z.drawingInfo.transparency)return n.transparencyToOpacity(z.drawingInfo.transparency);if(z.layerDefinition?.drawingInfo&&void 0!==z.layerDefinition.drawingInfo.transparency)return n.transparencyToOpacity(z.layerDefinition.drawingInfo.transparency)}}}};const m={type:c,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent",
"spatialReference"],reader:(r,z)=>{r=c.fromJSON(r);null!=z.spatialReference&&"object"===typeof z.spatialReference&&(r.spatialReference=e.fromJSON(z.spatialReference));return r}}}},read:!1}},h={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},t={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:b.excludeTables}}},name:"layerDefinition.minScale",write:!0}},y={type:Number,json:{origins:{service:{write:{enabled:!1}},
"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:b.excludeTables}}},name:"layerDefinition.maxScale",write:!0}},u={json:{write:{ignoreOrigin:!0,layerContainerTypes:b.excludeTables},origins:{"web-map":{read:!1,write:!1}}}};a.elevationInfo={value:null,type:p,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:b.excludeTables}}};a.id=h;a.labelsVisible=k;a.legendEnabled=l;a.listMode=u;a.maxScale=
y;a.minScale=t;a.opacity=q;a.opacityDrawingInfo=w;a.popupEnabled=g;a.readOnlyService=function(r){return{type:r,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=m;a.screenSizePerspectiveEnabled=f;a.url=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q){var m;p=b.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});b=new b.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});c=m=class extends c.JSONSupport{constructor(h){super(h);this.offset=null}readFeatureExpressionInfo(h,t){if(null!=h)return h;if(t.featureExpression&&0===t.featureExpression.value)return{expression:"0"}}writeFeatureExpressionInfo(h,
t,y,u){t[y]=h.write({},u);"0"===h.expression&&(t.featureExpression={value:0})}get mode(){const {offset:h,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):null!=h||t?"relative-to-ground":"on-the-ground"}set mode(h){this._override("mode",h)}set unit(h){this._set("unit",h)}write(h,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(h,t):null}clone(){return new m({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?
this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(h){return this.mode===h.mode&&this.offset===h.offset&&this.unit===h.unit&&e.equalsMaybe(this.featureExpressionInfo,h.featureExpressionInfo)}};a.__decorate([d.property({type:w,json:{write:!0}})],c.prototype,"featureExpressionInfo",void 0);a.__decorate([g.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],c.prototype,"readFeatureExpressionInfo",null);a.__decorate([l.writer("featureExpressionInfo",{featureExpressionInfo:{type:w},
"featureExpression.value":{type:[0]}})],c.prototype,"writeFeatureExpressionInfo",null);a.__decorate([d.property({type:p.apiValues,nonNullable:!0,json:{type:p.jsonValues,read:p.read,write:{writer:p.write,isRequired:!0}}})],c.prototype,"mode",null);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"offset",void 0);a.__decorate([d.property({type:q.supportedUnits,json:{type:String,read:b.read,write:b.write}})],c.prototype,"unit",null);return c=m=a.__decorate([k.subclass("esri.symbols.support.ElevationInfo")],
c)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),function(a,b,c,e,d,p,n,f){var g;b=g=class extends b.JSONSupport{constructor(k){super(k)}async collectRequiredFields(k,l){return f.collectArcadeFieldNames(k,l,this.expression)}clone(){return new g({expression:this.expression,
title:this.title})}equals(k){return this.expression===k.expression&&this.title===k.title}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=g=a.__decorate([n.subclass("esri.symbols.support.FeatureExpressionInfo")],b)})},"esri/layers/support/fieldUtils":function(){define("exports ../../core/Error ../../core/object ../../core/SetUtils ../../core/sql ./domainUtils ../../support/arcadeOnDemand".split(" "),
function(a,b,c,e,d,p,n){function f(M,S,X){if(M)for(const ma of M)(M=(M=c.getDeepValue(ma,S))&&"function"!==typeof M&&X.get(M))&&c.setDeepValue(ma,M.name,S)}function g(M,S){if(!M||!S)return[];Ca.clear();k(Ca,M,S);return Array.from(Ca).sort()}function k(M,S,X){if(X)if(S?.fields?.length)if(X.includes("*"))for(const {name:ma}of S.fields)M.add(ma);else for(const ma of X)l(M,S,ma);else if(X.includes("*"))M.clear(),M.add("*");else for(const ma of X)null!=ma&&M.add(ma)}function l(M,S,X){"string"===typeof X&&
(S?(S=S.get(X))&&M.add(S.name):M.add(X))}async function w(M,S,X){if(X){var {arcadeUtils:ma}=await n.loadArcade();X=ma.extractFieldNames(X,S?.fields?.map(ya=>ya.name));for(const ya of X)l(M,S,ya)}}async function q(M,S,X){if(X&&"1\x3d1"!==X){const ma=await d.parseWhereClause(X,S);if(!ma.isStandardized)throw new b("fieldUtils:collectFilterFields","Where clause is not standardized",{where:X});k(M,S,ma.fieldNames)}}function m(M,S){for(const X of M)if(X?.valueType&&X.valueType===S)return X.name;return null}
async function h(M,S){if(S){var X=S.elevationInfo?.featureExpressionInfo;if(X)return X.collectRequiredFields(M,S.fieldsIndex)}}async function t(M,S,X){const ma=[];X?.expressionInfos&&ma.push(...X.expressionInfos.map(ya=>w(M,S.fieldsIndex,ya.expression)));X=X?.content;if(Array.isArray(X))for(const ya of X)"expression"===ya.type&&ya.expressionInfo&&ma.push(w(M,S.fieldsIndex,ya.expressionInfo.expression));await Promise.all(ma)}async function y(M,S,X){S&&X&&(X.valueExpression?await w(M,S.fieldsIndex,
X.valueExpression):X.field&&l(M,S.fieldsIndex,X.field))}function u(M){if(!M)return[];const S=M.geometryFieldsInfo;return S?g(M.fieldsIndex,[S.shapeAreaField,S.shapeLengthField]):[]}function r(M){const S=new Set;v(M).forEach(X=>S.add(X));u(M).forEach(X=>S.add(X.toLowerCase()));if(M=M&&"infoFor3D"in M?M.infoFor3D:void 0)Object.values(M.assetMapFieldRoles).forEach(X=>S.add(X.toLowerCase())),Object.values(M.transformFieldRoles).forEach(X=>S.add(X.toLowerCase()));return Array.from(S)}function z(M){if(!M)return[];
M="editFieldsInfo"in M&&M.editFieldsInfo;if(!M)return[];const {creationDateField:S,creatorField:X,editDateField:ma,editorField:ya}=M;return[S,X,ma,ya].filter(Boolean)}function v(M){return z(M).map(S=>S.toLowerCase())}async function x(M,S){const {labelingInfo:X,fieldsIndex:ma}=S;X?.length&&await Promise.all(X.map(ya=>B(M,ma,ya)))}async function B(M,S,X){if(X){var ma=X.getLabelExpression();X=X.where;"arcade"===ma.type?await w(M,S,ma.expression):(ma=ma.expression.match(/{[^}]*}/g))&&ma.forEach(ya=>{l(M,
S,ya.slice(1,-1))});await q(M,S,X)}}function A(M){return"number"===typeof M&&!isNaN(M)&&isFinite(M)}function C(M){return null===M||A(M)}function H(M){return null===M||Number.isInteger(M)}function N(M){return null!=M&&"string"===typeof M}function I(M){return null===M||N(M)}function E(){return!0}function G(M,S){let X;switch(M.type){case "date":case "integer":case "long":case "small-integer":case "big-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":case "esriFieldTypeBigInteger":X=
M.nullable?H:Number.isInteger;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":X=M.nullable?C:A;break;case "string":case "esriFieldTypeString":X=M.nullable?I:N;break;default:X=E}return 1===arguments.length?X:X(S)}function L(M){return null!=M&&ia.has(M.type)}function R(M){return null!=M&&("string"===M.type||"esriFieldTypeString"===M.type)}function F(M,S){return null==M||M.nullable&&null===S?null:L(M)&&!J(M.type,Number(S))?a.NumericRangeValidationError.OUT_OF_RANGE:
G(M,S)?M.domain?p.validateDomainValue(M,S):null:a.TypeValidationError.INVALID_TYPE}function J(M,S){M="string"===typeof M?O(M):M;if(!M)return!1;const X=M.min,ma=M.max;return M.isInteger?Number.isInteger(S)&&S>=X&&S<=ma:S>=X&&S<=ma}function O(M){switch(M){case "esriFieldTypeSmallInteger":case "small-integer":return ka;case "esriFieldTypeInteger":case "integer":return Ba;case "esriFieldTypeBigInteger":case "big-integer":return W;case "esriFieldTypeSingle":case "single":return da;case "esriFieldTypeDouble":case "double":return ja}}
function U(M,S,X){if(!S?.attributes||!M){if(null!=X)for(var ma of M??[])X.add(ma);return!0}S=new Set(Object.keys(S.attributes));ma=!1;for(const ya of M)if(!S.has(ya))if(ma=!0,null!=X)X.add(ya);else break;return ma}const T=/^([0-9_])/,Z=/[^a-z0-9_\u0080-\uffff]+/gi,V="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),qa=["field","normalizationField"],Ca=new Set,va=
new Set(["oid","global-id","guid"]),ra=new Set(["oid","global-id"]),Aa=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i],ea=["integer","small-integer","big-integer"],ca=["single","double"],Y=[...ea,...ca],ha=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],ua=["esriFieldTypeSingle","esriFieldTypeDouble"],K=new Set([...ea,...ha]),Q=new Set([...ca,
...ua]),ia=e.union(K,Q);a.NumericRangeValidationError=void 0;(a.NumericRangeValidationError||(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";a.TypeValidationError=void 0;(a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const ka={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Ba={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},W={min:-Number.MAX_SAFE_INTEGER,
max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},da={min:-3.4E38,max:1.2E38,isInteger:!1,rawMin:-3.4E38,rawMax:1.2E38},ja={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};a.bigIntegerRange=W;a.collectArcadeFieldNames=w;a.collectElevationFields=h;a.collectFeatureReductionFields=async function(M,S,X){if(S&&X&&"fields"in X){var ma=[];ma.push(t(M,S,X.popupTemplate));X.fields&&ma.push(...X.fields.map(async ya=>
{ya.onStatisticExpression?w(M,S.fieldsIndex,ya.onStatisticExpression.expression):M.add(ya.onStatisticField)}));await Promise.all(ma)}};a.collectField=l;a.collectFields=k;a.collectFilterFields=async function(M,S,X){S&&(S.timeInfo&&X?.timeExtent&&k(M,S.fieldsIndex,[S.timeInfo.startField,S.timeInfo.endField]),S.floorInfo&&k(M,S.fieldsIndex,[S.floorInfo.floorField]),null!=X?.where&&await q(M,S.fieldsIndex,X.where))};a.collectLabelingFields=x;a.collectOrderByInfos=async function(M,S,X){S&&X&&await Promise.all(X.map(ma=>
y(M,S,ma)))};a.collectPopupTemplateFields=t;a.doubleRange=ja;a.extractSubstitutionTemplatesFromString=function(M){return(M=M?.match(/{[^}]+}/g))?M.map(S=>S.slice(1,-1).split(":")[0].trim()):[]};a.featureHasFields=function(M,S){return!U(M,S,null)};a.fixFields=g;a.fixRendererFields=function(M,S){if(null!=M&&null!=S)for(const X of Array.isArray(M)?M:[M])if(f(V,X,S),"visualVariables"in X&&X.visualVariables)for(const ma of X.visualVariables)f(qa,ma,S)};a.fixTimeInfoFields=function(M,S){if(null!=M&&S?.fields?.length)if("startField"in
M){var X=S.get(M.startField);S=S.get(M.endField);M.startField=X?.name??null;M.endField=S?.name??null}else X=S.get(M.startTimeField),S=S.get(M.endTimeField),M.startTimeField=X?.name??null,M.endTimeField=S?.name??null};a.floatJSONTypes=ua;a.floatTypes=ca;a.getDisplayFieldName=function({displayField:M,fields:S}){if(M)return M;if(!S?.length)return null;if(!(M=m(S,"name-or-title")||m(S,"unique-identifier")||m(S,"type-or-category")))a:{for(const X of S)if(X?.name&&(S=X.name.toLowerCase(),S.includes("name")||
S.includes("title"))){M=X.name;break a}M=null}return M};a.getEditTrackingFields=z;a.getElevationFields=async function(M){if(!M)return[];const S=new Set;await h(S,M);return Array.from(S).sort()};a.getExpressionFields=async function(M,S){const X=new Set;for(const ma of S)await w(X,M.fieldsIndex,ma);return Array.from(X).sort()};a.getFeatureEditFields=function(M){return M?g(M.fieldsIndex,z(M)):[]};a.getFeatureGeometryFields=u;a.getFieldDefaultLength=function(M){M="string"===typeof M?{type:M}:M;if(R(M))return 255;
if("esriFieldTypeDate"===M.type||"date"===M.type)return 8};a.getFieldDefaultValue=function(M){const S=M.defaultValue;if(void 0!==S&&G(M,S))return S;if(M.nullable)return null};a.getFieldRange=function(M,S){if(S=p.getDomainRange(M,S))return S;if(L(M))return O(M.type)};a.getLabelingFields=async function(M){if(!M)return[];const S=new Set;await x(S,M);return Array.from(S).sort()};a.getLowerCaseDefaultHiddenFields=r;a.getLowerCaseEditTrackingFields=v;a.getNumericTypeForValue=function(M){if(!A(M))return null;
if(Number.isInteger(M)){if(M>=ka.min&&M<=ka.max)return"esriFieldTypeSmallInteger";if(M>=Ba.min&&M<=Ba.max)return"esriFieldTypeInteger";if(M>=W.min&&M<=W.max)return"esriFieldTypeBigInteger"}return M>=da.min&&M<=da.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.getRendererFields=async function(M,S){const X=new Set;M?.collectRequiredFields&&await M.collectRequiredFields(X,S);return Array.from(X).sort()};a.getTimeFields=async function(M){if(!M)return[];const S="timeInfo"in M&&M.timeInfo;return S?
g(M.fieldsIndex,[M.trackIdField,S.startField,S.endField]):[]};a.integerJSONTypes=ha;a.integerRange=Ba;a.integerTypes=ea;a.isDateField=function(M){return null!=M&&("date"===M.type||"esriFieldTypeDate"===M.type)};a.isDateOnlyField=function(M){return null!=M&&("date-only"===M.type||"esriFieldTypeDateOnly"===M.type)};a.isFieldEditable=function(M,S){return M.editable&&!va.has(M.type)&&!v(S).includes(M.name?.toLowerCase()??"")};a.isFieldVisibleByDefault=function(M,S){const X=M.name?.toLowerCase()??"";return!(null!=
S?.objectIdField&&X===S.objectIdField.toLowerCase())&&!(null!=S?.globalIdField&&X===S.globalIdField.toLowerCase())&&!r(S).includes(X)&&!ra.has(M.type)&&!Aa.some(ma=>ma.test(X))};a.isGlobalIDField=function(M){return null!=M&&("global-id"===M.type||"esriFieldTypeGlobalID"===M.type)};a.isIntegerField=function(M){return null!=M&&K.has(M.type)};a.isNumberInRange=J;a.isNumericField=L;a.isObjectIDField=function(M){return null!=M&&("oid"===M.type||"esriFieldTypeOID"===M.type)};a.isRasterPixelValueField=function(M){return M?
["raster.itempixelvalue","raster.servicepixelvalue"].some(S=>M.toLowerCase().startsWith(S)):!1};a.isStringField=R;a.isTimeOnlyField=function(M){return null!=M&&("time-only"===M.type||"esriFieldTypeTimeOnly"===M.type)};a.isTimestampOffsetField=function(M){return null!=M&&("timestamp-offset"===M.type||"esriFieldTypeTimestampOffset"===M.type)};a.isValidFieldValue=function(M,S){return null===F(M,S)};a.isValueMatchingFieldType=G;a.normalizeFieldName=function(M){return null==M?null:M.trim().replaceAll(Z,
"_").replace(T,"F$1")||null};a.numericTypes=Y;a.packFields=function(M,S,X=1){if(!S||!M)return[];if(S.includes("*"))return["*"];S=g(M,S);return S.length/M.fields.length>=X?["*"]:S};a.populateMissingFields=U;a.rendererFields=V;a.sanitizeNullFieldValue=function(M){return null==M||"number"===typeof M&&isNaN(M)?null:M};a.singleRange=da;a.smallIntegerRange=ka;a.unpackFieldNames=function(M,S){return null==S||null==M?[]:S.includes("*")?(M.fields??[]).map(X=>X.name):S};a.validateFieldValue=F;a.validationErrorToString=
function(M,S,X){switch(M){case p.DomainValidationError.INVALID_CODED_VALUE:return`Value ${X} is not in the coded domain - field: ${S.name}, domain: ${JSON.stringify(S.domain)}`;case p.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${X} is out of the range of valid values - field: ${S.name}, domain: ${JSON.stringify(S.domain)}`;case a.TypeValidationError.INVALID_TYPE:return`Value ${X} is not a valid value for the field type - field: ${S.name}, type: ${S.type}, nullable: ${S.nullable}`;case a.NumericRangeValidationError.OUT_OF_RANGE:const {min:ma,
max:ya}=O(S.type);return`Value ${X} is out of range for the number type - field: ${S.name}, type: ${S.type}, value range is ${ma} to ${ya}`}};a.visualVariableFields=qa;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql":function(){define(["require","exports"],function(a,b){b.parseWhereClause=async function(c,e){const {WhereClause:d}=await new Promise((p,n)=>a(["./sql/WhereClause"],p,n));return d.create(c,e)};b.sqlAnd=function(c,e){return"1\x3d1"===c?e??c:"1\x3d1"===e?c??
e:null!=c&&""!==c?null!=e&&""!==e?`(${c}) AND (${e})`:c:e};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports","../../widgets/support/dateUtils"],function(a,b){function c(g){return null!=g&&("date-only"===g.type||"esriFieldTypeDateOnly"===g.type)}function e(g){return null!=g&&("timestamp-offset"===g.type||"esriFieldTypeTimestampOffset"===g.type)}function d(g){return null!=g&&("time-only"===g.type||"esriFieldTypeTimeOnly"===
g.type)}function p(g,k){var l=k??g?.domain;if(l&&"range"===l.type){k="range"in l?l.range[0]:l.minValue;l="range"in l?l.range[1]:l.maxValue;var w=null!=g&&f.has(g.type);return c(g)||d(g)||e(g)?{...n(g,l,k),isInteger:w}:{min:null!=k&&"number"===typeof k?k:null,max:null!=l&&"number"===typeof l?l:null,rawMin:k,rawMax:l,isInteger:w}}}function n(g,k,l){return c(g)?{min:b.dateOnlyToDateTime(l)?.toMillis(),max:b.dateOnlyToDateTime(k)?.toMillis(),rawMin:l,rawMax:k}:d(g)?{min:b.timeOnlyToDateTime(l)?.toMillis(),
max:b.timeOnlyToDateTime(k)?.toMillis(),rawMin:l,rawMax:k}:e(g)?{min:b.timestampOffsetToDateTime(l)?.toMillis(),max:b.timestampOffsetToDateTime(k)?.toMillis(),rawMin:l,rawMax:k}:{max:null,min:null}}a.DomainValidationError=void 0;(function(g){g.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";g.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));const f=new Set("integer small-integer big-integer esriFieldTypeInteger esriFieldTypeSmallInteger esriFieldTypeBigInteger".split(" "));
a.dateTimeFieldValuesToNumericRange=n;a.getDomainRange=p;a.validateDomainValue=function(g,k,l){const w=l??g?.domain;if(!w)return null;switch(w.type){case "range":const {min:q,max:m}=p(g,l);if(null!=q&&+k<q||null!=m&&+k>m)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":if(null==w.codedValues||w.codedValues.every(h=>null==h||h.code!==k))return a.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==w.codedValues||w.codedValues.every(h=>null==h||h.code!==
k))return a.DomainValidationError.INVALID_CODED_VALUE}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/dateUtils":function(){define("exports ../../intl ../../core/has ../../core/Error ../../core/mathUtils ../../core/maybe ../../intl/date ../../time/timeZoneUtils ./dataUtils ../../chunks/datetime ../../intl/locale".split(" "),function(a,b,c,e,d,p,n,f,g,k,l){function w(C){return{locale:l.getLocale(),numberingSystem:"latn",zone:C??x}}function q(C,H){return null===
C?null:k.DateTime.fromMillis(C,w(H))}function m(C,H){if(null==C||!g.isString(C)||""===C)return H?(C=k.DateTime.local({zone:H}),{date:null,time:null,timeZoneOffset:C.isValid?C.offset.toString():null}):B;C=k.DateTime.fromISO(C,{setZone:!0});return{date:C.toFormat("yyyy-MM-dd",w()),time:C.toFormat(a.TimeStampOffsetPattern.HMS_MS,w()),timeZoneOffset:C.offset.toString()}}function h(C,H){if(null==C?.value||Array.isArray(C.value))return null;let N=null;N="valueAsDate"in C?k.DateTime.fromFormat(C.value,"yyyy-MM-dd",
w(H)):z(C.value);return N?.isValid?N:null}function t(C){const {max:H,min:N,value:I}=C;return isNaN(I)||null!=H&&I>H||null!=N&&I<N?!1:!0}function y(C){const {max:H,min:N,value:I}=C;return null!=H&&null!=N?d.clamp(I,N,H):null!=H&&I>H?H:null!=N&&I<N?N:I}function u(C){if(!C)return"";var H=C.split(".").at(0);if(!H||1>H.length)throw new e("invalid time-only field",`Cannot parse valid time-only field value from ${C}`);C=H.split(":");H=Array(3);for(let N=0;3>N;N++){const I=C.at(N)??"";H[N]=I.padStart(2,"0")}return H.join(":")}
function r(C){if(!C||!g.isString(C))return null;C=k.DateTime.fromFormat(C,"yyyy-MM-dd");return C.isValid?C:null}function z(C){return C&&g.isString(C)?p.mappedFind(A,H=>{H=k.DateTime.fromFormat(C,H);return H.isValid?H:null})??null:null}function v(C){if(!C||!g.isString(C))return null;C=k.DateTime.fromISO(C);return C.isValid?C:null}const x=f.utc,B={date:null,time:null,timeZoneOffset:null};b=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]);
a.TimeStampOffsetPattern=void 0;(function(C){C.HM="HH:mm";C.HMS="HH:mm:ss";C.HMS_MS="HH:mm:ss.SSS"})(a.TimeStampOffsetPattern||(a.TimeStampOffsetPattern={}));const A=[a.TimeStampOffsetPattern.HMS_MS,a.TimeStampOffsetPattern.HMS,a.TimeStampOffsetPattern.HM,"TT"];c=new Set(["date-only","time-only","timestamp-offset"]);a.arcadeDateToFieldValue=function(C,H){switch(H){case "date":return C.getTime();case "date-only":return C.toISODate();case "time-only":return u(C.toISOTime(!0,!1));case "timestamp-offset":return C.toISOString(!1);
default:return null}};a.clampValueToRange=y;a.createDateTimeFromFieldValue=q;a.dateFieldsWithStringFieldValue=c;a.dateOnlyToDateTime=r;a.dateTimeIsInRange=function(C){const {type:H,range:N,value:I}=C;if(null==I||!N||I===N.min||I===N.max)return!0;if("date"===H)return t({value:I,min:N.min,max:N.max});const {rawMax:E,rawMin:G}=N;let L=C=null,R=null;switch(H){case "date-only":C=r(E);L=r(G);R=r(I);break;case "time-only":C=z(E);L=z(G);R=z(I);break;case "timestamp-offset":C=v(E),L=v(G),R=v(I)}return R?t({value:R.valueOf(),
min:L?.valueOf(),max:C?.valueOf()}):!0};a.dateTimeToFieldValue=function(C){return C?.isValid?C.toMillis():null};a.defaultDatePattern="yyyy-MM-dd";a.defaultTimePattern="TT";a.getDefaultLocaleOptions=w;a.getISOFieldValueFromDateComponents=function(C){const {dateComponent:H,defaultTimeZone:N,timeComponent:I,timeZoneComponent:E,oldValue:G}=C;if(!H?.value||!I?.value)return null;const {year:L,month:R,day:F}=k.DateTime.fromFormat(H.value,"yyyy-MM-dd"),{hour:J,minute:O,second:U,millisecond:T}=h(I,f.utc)??
k.DateTime.now();C=m(G,N);C=null!=E?.value?parseInt(E.value,10):null!=C.timeZoneOffset?parseInt(C.timeZoneOffset,10):(new Date).getTimezoneOffset();C=k.FixedOffsetZone.instance(C);C=k.DateTime.fromObject({year:L,month:R,day:F,hour:J,minute:O,second:U,millisecond:T},{zone:C});return C.isValid?C.toISO({includeOffset:!0}):null};a.getIntlOptionsForField=function(C){switch(C.type){case "date":return n.convertDateFormatToIntlOptions("short-date-short-time");case "date-only":return n.convertDateFormatToIntlOptions("short-date");
case "time-only":return n.convertDateFormatToIntlOptions("short-time");case "timestamp-offset":return{...n.convertDateFormatToIntlOptions("short-date-short-time"),timeZone:void 0,timeZoneName:"short"};default:return n.convertDateFormatToIntlOptions("short-date-short-time")}};a.getLabelForDateFieldValue=function(C,H,N){if(!C||null==H)return null;switch(C.type){case "date":return n.formatDate(H,N);case "date-only":return n.formatDateOnly(H,N);case "time-only":return n.formatTimeOnly(H,N);case "timestamp-offset":return n.formatTimestamp(H,
N);default:return null}};a.getLocalDateTimeFromComponent=h;a.getUnixFieldValueFromDateComponents=function(C){const {dateComponent:H,timeComponent:N,timeZone:I,max:E,min:G,oldValue:L}=C;var R=h(H,I);C=!!C.applyRange;if(!R)return null;var F=null;if(null!=N?.value){F=h(N,I);var J=Date.now();J=k.DateTime.fromMillis(null!=E&&E<J?E:J,w(I));R=R||J;const {year:O,month:U,day:T}=R,{hour:Z,minute:V,second:qa,millisecond:Ca}=F||J;F=R.set({year:O,month:U,day:T,hour:Z,minute:V,second:qa,millisecond:Ca})}else{C=
y({value:L??Date.now(),max:E,min:G});C=q(C,I);const {year:O,month:U,day:T}=R,{hour:Z,minute:V,second:qa,millisecond:Ca}=C;C=!0;F=R.set({year:O,month:U,day:T,hour:Z,minute:V,second:qa,millisecond:Ca})}if(!F.isValid)return null;R=F.toMillis();return C?y({value:R,max:E,min:G}):R};a.isArcadeDate=function(C){return!!C&&"object"===typeof C&&"getTime"in C&&"toISOString"in C&&"timeZone"in C};a.isCalciteDateComponent=C=>"valueAsDate"in C;a.isInDST=function(C,H="system"){return k.DateTime.fromJSDate(C,{zone:H}).isInDST};
a.normalizeTimeOnlyString=u;a.numberingSystem="latn";a.prepareISOFieldValueForDateComponents=m;a.prepareUnixFieldValueForDateComponents=function(C,H){return null==C||!g.isNumber(C)||isNaN(C)?B:(C=q(C,H))?{date:C.toFormat("yyyy-MM-dd",w(H)),time:C.toFormat("TT",w(H))}:B};a.supportedTimeFormats=A;a.timeOnlyToDateTime=z;a.timeResolutionToStepMap=b;a.timestampOffsetToDateTime=v;a.valueIsInRange=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),
function(a,b,c,e,d,p,n,f){p.registerMessageBundleLoader(n.createJSONLoader({pattern:"esri/",location:f.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.formatDateOnly=b.formatDateOnly;a.formatTimeOnly=b.formatTimeOnly;a.formatTimestamp=b.formatTimestamp;a.convertNumberFormatToIntlOptions=c.convertNumberFormatToIntlOptions;a.formatNumber=c.formatNumber;a.substitute=e.substitute;a.getLocale=d.getLocale;a.onLocaleChange=d.onLocaleChange;a.prefersRTL=
d.prefersRTL;a.setLocale=d.setLocale;a.fetchMessageBundle=p.fetchMessageBundle;a.normalizeMessageBundleLocale=p.normalizeMessageBundleLocale;a.registerMessageBundleLoader=p.registerMessageBundleLoader;a.createJSONLoader=n.createJSONLoader;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/number":function(){define(["exports","./locale"],function(a,b){function c(f){const g=f||p;if(!d.has(g)){var k=b.getLocale();k=e[b.getLocale()]||k;d.set(g,new Intl.NumberFormat(k,f))}return d.get(g)}
const e={ar:"ar-u-nu-latn"};let d=new WeakMap,p={};b.beforeLocaleChange(()=>{d=new WeakMap;p={}});const n=new Map;a.convertNumberFormatToIntlOptions=function(f={}){const g={};null!=f.digitSeparator&&(g.useGrouping=f.digitSeparator);null!=f.places&&(g.minimumFractionDigits=g.maximumFractionDigits=f.places);return g};a.formatNumber=function(f,g){Object.is(f,-0)&&(f=0);return c(g).format(f)};a.getFormatter=c;a.parseNumber=function(f,g=b.getLocale()){if(!f)return null;var k=n.get(g);if(!k){k=c().formatToParts(12345.6);
const l=[...c({useGrouping:!1}).format(9876543210)].reverse(),w=new Map(l.map((u,r)=>[u,r])),q=new RegExp(`[${k.find(u=>"group"===u.type)?.value}]`,"g"),m=new RegExp(`[${k.find(u=>"decimal"===u.type)?.value}]`),h=new RegExp(`[${l.join("")}]`,"g"),t=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,y=/[-\u2212\u2013\u2014\u2015]/g;k=u=>{u=u.trim().replaceAll(q,"").replace(m,".").replace(h,r=>String(w.get(r))).replaceAll(t,"").replaceAll(y,"-");if(""===u)return null;u=Number(u);
return isNaN(u)?null:u};n.set(g,k)}return k(f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(a,b,c,e,d,p){function n(f){switch(typeof f){case "string":return f;case "number":return p.formatNumber(f);case "boolean":return""+f;default:return f instanceof Date?d.formatDate(f):""}}a.substitute=function(f,g,k={}){const {format:l={}}=k;return e.replace(f,
w=>{{const h=w.indexOf(":");if(-1===h)var q=w.trim();else{q=w.slice(0,h).trim();var m=w.slice(h+1).trim()}if(q)if(w=c.getDeepValue(q,g),null==w)m="";else if(q=(m?l?.[m]:null)??l?.[q])b:switch(q.type){case "date":m=d.formatDate(w,q.intlOptions);break b;case "number":m=p.formatNumber(w,q.intlOptions);break b;default:b.getLogger("esri.intl.substitute").warn("missing format descriptor for key {key}"),m=n(w)}else if(m)b:switch(m.toLowerCase()){case "dateformat":m=d.formatDate(w);break b;case "numberformat":m=
p.formatNumber(w);break b;default:b.getLogger("esri.intl.substitute").warn(`inline format is unsupported since 4.12: ${m}`),m=/^(dateformat|datestring)/i.test(m)?d.formatDate(w):/^numberformat/i.test(m)?p.formatNumber(w):n(w)}else m=n(w);else m=""}return m})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/t9n":function(){define(["exports","../request","../core/Error","./messages"],function(a,b,c,e){async function d(g,k,l,w){var q=k.exec(l);if(!q)throw new c("esri-intl:invalid-bundle",
`Bundle id "${l}" is not compatible with the pattern "${k}"`);k=q[1]?`${q[1]}/`:"";q=q[2];const m=e.normalizeMessageBundleLocale(w);w=`${k}${q}.json`;k=m?`${k}${q}_${m}.json`:w;let h;try{h=await p(g(k))}catch(t){if(k===w)throw new c("intl:unknown-bundle",`Bundle "${l}" cannot be loaded`,{error:t});try{h=await p(g(w))}catch(y){throw new c("intl:unknown-bundle",`Bundle "${l}" cannot be loaded`,{error:y});}}return h}async function p(g){if(null!=f.fetchBundleAsset)return f.fetchBundleAsset(g);g=await b(g,
{responseType:"text"});return JSON.parse(g.data)}class n{constructor({base:g="",pattern:k,location:l=new URL(window.location.href)}){let w;w="string"===typeof l?q=>(new URL(q,new URL(l,window.location.href))).href:l instanceof URL?q=>(new URL(q,l)).href:l;this.pattern="string"===typeof k?new RegExp(`^${k}`):k;this.getAssetUrl=w;g=g?g.endsWith("/")?g:g+"/":"";this.matcher=new RegExp(`^${g}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(g,k){return d(this.getAssetUrl,this.matcher,g,k)}}const f={};a.JSONLoader=
n;a.createJSONLoader=function(g){return new n(g)};a.test=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/dataUtils":function(){define(["exports"],function(a){a.isNumber=function(b){return"number"===typeof b};a.isString=function(b){return"string"===typeof b||b instanceof String};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../geometry ../core/Error ../core/Logger ../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,p){function n(){f||=(async()=>{const k=await new Promise((l,w)=>a(["./arcadeUtils"],l,w));return{arcade:k.arcade,arcadeUtils:k,Dictionary:k.Dictionary,Feature:k.arcadeFeature}})();return f}let f;c=(k,l,w)=>g.create(k,l,w,null,["$feature","$view"],[]);class g{constructor(k,l,w,q,m,h,t){this.services=null;this.script=k;this.evaluate=q;this.fields=(Array.isArray(h)?h:h?.fields)??[];this._syntaxTree=w;this._arcade=l;this._arcadeFeature=m;this._spatialReference=t;this._referencesGeometry=
l.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(k,l,w,q,m,h){const {arcade:t,Feature:y,Dictionary:u}=await n(),r=p.fromJSON(l);let z;try{z=t.parseScript(k,h)}catch(H){return d.getLogger("esri.support.arcadeOnDemand").error(new e("arcade-bad-expression","Failed to parse arcade script",{script:k,error:H})),null}m=m.reduce((H,N)=>({...H,[N]:null}),{});let v=null;null!=q&&(v=new u(q),v.immutable=!0,m.$config=null);
h=(q=t.scriptUsesGeometryEngine(z))&&t.enableGeometrySupport();const x=t.scriptUsesFeatureSet(z)&&t.enableFeatureSetSupport(),B=(l=t.scriptIsAsync(z))&&t.enableAsyncSupport();m={vars:m,spatialReference:r,useAsync:!!B};await Promise.all([h,x,B]);h=new Set;await t.loadDependentModules(h,z,null,l,q);const A=new u;A.immutable=!1;A.setField("scale",0);const C=t.compileScript(z,m);return new g(k,t,z,(H,N)=>{const I=H.$view?.timeZone;"$view"in H&&H.$view&&(A.setField("scale","object"===typeof H.$view&&"scale"in
H.$view?H.$view.scale:void 0),H.$view=A);v&&(H.$config=v);return C({vars:H,spatialReference:r,services:N,timeZone:I})},new y,w,r)}repurposeFeature(k){k.geometry&&!k.geometry.spatialReference&&(k.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(k.geometry,k.attributes,{fields:this.fields});return this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}b.ArcadeExpression=g;b.createDictionaryExpression=
(k,l,w,q)=>g.create(k,l,w,q,["$feature","$view"],[]);b.createLabelExpression=(k,l,w)=>g.create(k,l,w,null,["$feature","$view"],[]);b.createRendererExpression=c;b.createRendererExpressionWithOptions=(k,l)=>g.create(k,l.spatialReference,l.fields,null,["$feature","$view"],[]);b.createVVExpression=c;b.loadArcade=n;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../renderers/support/lengthUtils"],function(a,b){const c=
function(){const e=Object.keys(b.meterIn);e.sort();return e}();a.getMetersPerUnit=function(e){return 1/(b.meterIn[e]||1)};a.supportedUnits=c;a.supportsUnit=function(e){return!!e&&null!=b.meterIn[e]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],function(a,b,c){b={unknown:1,inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,
"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",c.earth.radius)};a.meterIn=b;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/tslib.es6 ../../config ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../support/layerUtils ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser ../../portal/support/portalItemUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B){var A=null,C=null;b.PortalLayer=H=>{H=class extends H{constructor(){super(...arguments);this.resourceReferences={portalItem:null,paths:[]};this.userHasEditingPrivileges=!0;this.userHasUpdateItemPrivileges=this.userHasFullEditingPrivileges=!1}destroy(){this.portalItem=k.destroyMaybe(this.portalItem);this.resourceReferences.portalItem=null;this.resourceReferences.paths.length=0}set portalItem(N){N!==this._get("portalItem")&&(this.removeOrigin("portal-item"),
this._set("portalItem",N))}readPortalItem(N,I,E){if(I.itemId)return new v({id:I.itemId,portal:E?.portal})}writePortalItem(N,I){N?.id&&(I.itemId=N.id)}async loadFromPortal(N,I){if(this.portalItem?.id)try{const {load:E}=await new Promise((G,L)=>a(["../../portal/support/layersLoader"],G,L));l.throwIfAborted(I);return await E({instance:this,supportedTypes:N.supportedTypes,validateItem:N.validateItem,supportsData:N.supportsData,layerModuleTypeMap:N.layerModuleTypeMap},I)}catch(E){throw l.isAbortError(E)||
g.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${E}`),E;}}async finishLoadEditablePortalLayer(N){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(N).catch(I=>{l.throwIfAbortError(I);return!0}))}async setUserPrivileges(N,I){if(!e.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(I);if(this.url)try{const {features:{edit:E,fullEdit:G},content:{updateItem:L}}=await this._fetchUserPrivileges(N,
I);this._set("userHasEditingPrivileges",E);this._set("userHasFullEditingPrivileges",G);this._set("userHasUpdateItemPrivileges",L)}catch(E){l.throwIfAbortError(E)}}async _fetchUserPrivileges(N,I){let E=this.portalItem;if(!N||!E||!E.loaded||E.sourceUrl)return this._fetchFallbackUserPrivileges(I);const G=N===E.id;if(G&&E.portal.user)return B.getUserPrivileges(E);let L;if(G)L=E.portal.url;else try{L=await r.getOwningPortalUrl(this.url,I)}catch(F){l.throwIfAbortError(F)}if(!L||!w.hasSameCanonicalPortal(L,
E.portal.url))return this._fetchFallbackUserPrivileges(I);let R;try{const F=null!=I?I.signal:null;R=await d.id?.getCredential(`${L}/sharing`,{prompt:!1,signal:F})}catch(F){l.throwIfAbortError(F)}if(!R)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(G?await E.reload():(E=new v({id:N,portal:{url:L}}),await E.load(I)),E.portal.user)return B.getUserPrivileges(E)}catch(F){l.throwIfAbortError(F)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}}async _fetchFallbackUserPrivileges(N){let I=
!0;try{I=await this._fetchUserHasEditingPrivileges(N)}catch(E){l.throwIfAbortError(E)}return{features:{edit:I,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(N){const I=this.url?d.id?.findCredential(this.url):null;if(!I)return!0;N=A===I?C:await this._fetchEditingUser(N);A=I;C=N;return null==N?.privileges||N.privileges.includes("features:user:edit")}async _fetchEditingUser(N){var I=this.portalItem?.portal?.user;if(I)return I;I=d.id?.findServerInfo(this.url??"");if(!I?.owningSystemUrl)return null;
I=`${I.owningSystemUrl}/sharing/rest`;const E=z.getDefault();if(E&&E.loaded&&w.normalize(E.restUrl)===w.normalize(I))return E.user;N=await n.result(p(`${I}/community/self`,{authMode:"no-prompt",query:{f:"json"},signal:null!=N?N.signal:null}));return N.ok?x.fromJSON(N.value.data):null}read(N,I){I&&(I.layer=this);super.read(N,I)}write(N,I){const E=I?.portal,G=this.portalItem?.id&&(this.portalItem.portal||z.getDefault());return E&&G&&!w.hasSamePortal(G.restUrl,E.restUrl)?(I.messages&&I.messages.push(new f("layer:cross-portal",
`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(N,{...I,layer:this})}};c.__decorate([q.property({type:v})],H.prototype,"portalItem",null);c.__decorate([t.reader("web-document","portalItem",["itemId"])],H.prototype,"readPortalItem",null);c.__decorate([u.writer("web-document",
"portalItem",{itemId:{type:String}})],H.prototype,"writePortalItem",null);c.__decorate([q.property({clonable:!1})],H.prototype,"resourceReferences",void 0);c.__decorate([q.property({type:Boolean,readOnly:!0})],H.prototype,"userHasEditingPrivileges",void 0);c.__decorate([q.property({type:Boolean,readOnly:!0})],H.prototype,"userHasFullEditingPrivileges",void 0);c.__decorate([q.property({type:Boolean,readOnly:!0})],H.prototype,"userHasUpdateItemPrivileges",void 0);return H=c.__decorate([y.subclass("esri.layers.mixins.PortalLayer")],
H)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalItemUtils":function(){define(["exports","../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(a,b,c,e){async function d(k){const l=k.spatialReference;if(l.isWGS84)return k.clone();if(l.isWebMercator)return e.webMercatorToGeographic(k);const w=c.WGS84;await b.initializeProjection(l,w);return b.project(k,w)}function p(k,l){if(!n(k,l)){const w=k.typeKeywords;
w?w.push(l):k.typeKeywords=[l]}}function n(k,l){return!!k.typeKeywords?.includes(l)}function f(k,l){if(k=k.typeKeywords)l=k.indexOf(l),-1<l&&k.splice(l,1)}const g={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};a.addTypeKeyword=p;a.getUserPrivileges=function(k){const {portal:l,
isOrgItem:w,itemControl:q}=k;var m=l.user?.privileges;k=m?m.includes("features:user:edit"):!0;m=w?!!m?.includes("features:user:fullEdit"):!1;const h="update"===q||"admin"===q;h?m=k=!0:m&&(k=!0);return{features:{edit:k,fullEdit:m},content:{updateItem:h}}};a.getWGS84ExtentForItem=async function(k){k=k.clone().normalize();let l;if(1<k.length)for(const w of k)l?w.width>l.width&&(l=w):l=w;else l=k[0];return d(l)};a.hasTypeKeyword=n;a.isHostedLayer=function(k){return n(k,g.HOSTED_SERVICE)};a.removeTypeKeyword=
f;a.toggleTypeKeyword=function(k,l,w){w?p(k,l):f(k,l)};a.typeKeyword=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../core/Error ../core/promiseUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../core/libs/gl-matrix-2/factories/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./SpatialReference ./projection/projectBuffer ./projection/projectors ./projection/projectXYZToVector ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/zscale".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v){function x(){return!!V&&l.isLoaded()}function B(){if(x())return!0;d.trackAccess(ra);A();return!1}function A(ca){null==Ca&&(Ca=Promise.all([l.load(),(new Promise((Y,ha)=>a(["../chunks/geometryEngineBase"],Y,ha))).then(Y=>Y.geometryEngineBase),new Promise((Y,ha)=>a(["./geometryAdapters/hydrated"],Y,ha))]));return Ca.then(([,Y,{hydratedAdapter:ha}])=>{e.throwIfAborted(ca);qa=ha;V=Y.default;V._enableProjection(l.pe);ra.notify()})}function C(ca,Y,ha=
null,ua=null){return Array.isArray(ca)?0===ca.length?[]:H(qa,ca,ca[0].spatialReference,Y,ha,ua):H(qa,[ca],ca.spatialReference,Y,ha,ua)[0]}function H(ca,Y,ha,ua,K=null,Q=null){if(null==ha||null==ua)return Y;if(G(ha,ua,K))return Y.map(ia=>R(ia,ha,ua));if(null==K&&f.isSphericalECEF(ha))return Y.map(ia=>R(ia,ha,h.WGS84)).map(ia=>E(ia,ua));if(null==K&&f.isSphericalECEF(ua))return Y.map(ia=>E(ia,h.WGS84)).map(ia=>R(ia,h.WGS84,ua));if(null==K){const ia=r.cacheKey(ha,ua);void 0!==va[ia]?K=va[ia]:(K=I(ha,
ua,void 0),null==K&&(K=new r),va[ia]=K)}if(null==V||null==ca)throw new Aa;return null!=Q?V._project(ca,Y,ha,ua,K,Q):V._project(ca,Y,ha,ua,K)}function N(ca,Y){if(!x())for(const ha of ca)if(null!=ha&&!z.equals(ha.spatialReference,Y)&&z.isValid(ha.spatialReference)&&z.isValid(Y)&&!G(ha.spatialReference,Y))return d.trackAccess(ra),{pending:A(),geometries:null};return{pending:null,geometries:ca.map(ha=>null==ha?null:z.equals(ha.spatialReference,Y)?ha:z.isValid(ha.spatialReference)&&z.isValid(Y)?E(ha,Y):
null)}}function I(ca,Y,ha=null){if(null==ca||null==Y)return null;if(null==V||null==qa)throw new Aa;ca=V._getTransformation(qa,ca,Y,ha,ha?.spatialReference);return null!==ca?r.fromGE(ca):null}function E(ca,Y){try{const ha=C(ca,Y);if(null==ha)return null;"xmin"in ca&&"xmin"in ha&&(ha.zmin=ca.zmin,ha.zmax=ca.zmax);const ua=v.getGeometryZScaler(ha.type,ca.spatialReference,Y);null!=ua&&ua(ha);return ha}catch(ha){if(!(ha instanceof Aa))throw ha;return null}}function G(ca,Y,ha){return ha?!1:z.equals(ca,
Y)?!0:z.isValid(ca)&&z.isValid(Y)&&!!y.getProjector(ca,Y,y.projectorCache)}async function L(ca,Y,ha,ua){if(x())return e.waitTick(ua);if(Array.isArray(ca))for(const {source:K,dest:Q,geographicTransformation:ia}of ca){if(K&&Q&&!G(K,Q,ia))return A(ua)}else if(ca&&Y&&!G(ca,Y,ha))return A(ua);return e.waitTick(ua)}function R(ca,Y,ha){return ca?"x"in ca?F(ca,Y,new w,ha,0):"xmin"in ca?T(ca,Y,new g,ha,0):"rings"in ca?U(ca,Y,new q,ha,0):"paths"in ca?O(ca,Y,new m,ha,0):"points"in ca?J(ca,Y,new k,ha,0):null:
null}function F(ca,Y,ha,ua,K){ea[0]=ca.x;ea[1]=ca.y;const Q=ca.z;ea[2]=void 0!==Q?Q:K;if(!t.projectBuffer(ea,Y,0,ea,ua,0,1))return null;ha.x=ea[0];ha.y=ea[1];ha.spatialReference=ua;void 0!==Q||f.isSphericalPCPF(ua)?(ha.z=ea[2],ha.hasZ=!0):(ha.z=void 0,ha.hasZ=!1);void 0===ca.m?(ha.m=void 0,ha.hasM=!1):(ha.m=ca.m,ha.hasM=!0);return ha}function J(ca,Y,ha,ua,K){const {points:Q,hasZ:ia,hasM:ka}=ca;ca=[];const Ba=Q.length,W=[];for(var da of Q)W.push(da[0],da[1],ia?da[2]:K);if(!t.projectBuffer(W,Y,0,W,
ua,0,Ba))return null;Y=ia||f.isSphericalPCPF(ua);for(K=0;K<Ba;++K){da=3*K;const ja=W[da],M=W[da+1];Y&&ka?ca.push([ja,M,W[da+2],Q[K][3]]):Y?ca.push([ja,M,W[da+2]]):ka?ca.push([ja,M,Q[K][2]]):ca.push([ja,M])}ha.points=ca;ha.spatialReference=ua;ha.hasZ=ia;ha.hasM=ka;return ha}function O(ca,Y,ha,ua,K){const {paths:Q,hasZ:ia,hasM:ka}=ca;ca=[];if(!Z(Q,ia??!1,ka??!1,Y,ca,ua,K))return null;Y=ia||f.isSphericalPCPF(ua);ha.paths=ca;ha.spatialReference=ua;ha.hasZ=Y;ha.hasM=ka;return ha}function U(ca,Y,ha,ua,
K){const {rings:Q,hasZ:ia,hasM:ka}=ca;ca=[];if(!Z(Q,ia??!1,ka??!1,Y,ca,ua,K))return null;Y=ia||f.isSphericalPCPF(ua);ha.rings=ca;ha.spatialReference=ua;ha.hasZ=Y;ha.hasM=ka;return ha}function T(ca,Y,ha,ua,K){const {xmin:Q,ymin:ia,xmax:ka,ymax:Ba,hasZ:W,hasM:da}=ca;if(!u.projectXYZToVector(Q,ia,W?ca.zmin:K,Y,ea,ua))return null;const ja=W||f.isSphericalPCPF(ua);ha.xmin=ea[0];ha.ymin=ea[1];ja&&(ha.zmin=ea[2]);if(!u.projectXYZToVector(ka,Ba,W?ca.zmax:K,Y,ea,ua))return null;ha.xmax=ea[0];ha.ymax=ea[1];
ja&&(ha.zmax=ea[2]);da&&(ha.mmin=ca.mmin,ha.mmax=ca.mmax);ha.spatialReference=ua;return ha}function Z(ca,Y,ha,ua,K,Q,ia=0){const ka=[];for(const Ba of ca)for(const W of Ba)ka.push(W[0],W[1],Y?W[2]:ia);if(!t.projectBuffer(ka,ua,0,ka,Q,0,ka.length/3))return!1;ua=0;K.length=0;Y=Y||f.isSphericalPCPF(Q);for(const Ba of ca){ca=[];for(const W of Ba)Y&&ha?ca.push([ka[ua++],ka[ua++],ka[ua++],W[3]]):Y?ca.push([ka[ua++],ka[ua++],ka[ua++]]):(ha?ca.push([ka[ua++],ka[ua++],W[2]]):ca.push([ka[ua++],ka[ua++]]),ua++);
K.push(ca)}return!0}let V=null,qa=null,Ca=null,va={};const ra=new p.SimpleObservable;class Aa extends c{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}const ea=n.create();b.canProjectWithoutEngine=G;b.getTransformation=I;b.getTransformations=function(ca,Y,ha=null){if(null==V||null==qa)throw new Aa;ca=V._getTransformationBySuitability(qa,ca,Y,ha,ha?.spatialReference);if(null!==ca){Y=[];for(const ua of ca)Y.push(r.fromGE(ua));return Y}return[]};
b.initializeProjection=L;b.isEqualBaseGCS=function(ca,Y){if(z.equals(ca,Y))return!0;if(!z.isValid(ca)||!z.isValid(Y))return!1;ca=z.isWGS84(ca)||z.isWebMercator(ca)||z.isCGCS2000(ca);Y=z.isWGS84(Y)||z.isWebMercator(Y)||z.isCGCS2000(Y);return ca&&Y};b.isLoaded=x;b.isLoadedOrLoad=B;b.isLoadedOrLoadFor=function(ca,Y){return ca&&Y?G(ca,Y)||B():!0};b.load=A;b.project=C;b.projectExtent=function(ca,Y,ha=Y.spatialReference,ua=0){return null!=ca.spatialReference&&null!=ha&&null!=T(ca,ca.spatialReference,Y,
ha,ua)};b.projectMany=H;b.projectMultipoint=function(ca,Y,ha=Y.spatialReference,ua=0){return null!=ca.spatialReference&&null!=ha&&null!=J(ca,ca.spatialReference,Y,ha,ua)};b.projectOrLoad=function(ca,Y){ca=N([ca],Y);return null!=ca.pending?{pending:ca.pending,geometry:null}:null!=ca.geometries?{pending:null,geometry:ca.geometries[0]}:{pending:null,geometry:null}};b.projectOrLoadMany=N;b.projectPoint=function(ca,Y,ha=Y.spatialReference,ua=0){return null!=ha&&null!=ca.spatialReference&&null!=F(ca,ca.spatialReference,
Y,ha,ua)};b.projectPolygon=function(ca,Y,ha=Y.spatialReference,ua=0){return null!=ca.spatialReference&&null!=ha&&null!=U(ca,ca.spatialReference,Y,ha,ua)};b.projectPolyline=function(ca,Y,ha=Y.spatialReference,ua=0){return null!=ca.spatialReference&&null!=ha&&null!=O(ca,ca.spatialReference,Y,ha,ua)};b.projectWithZConversion=async function(ca,Y,ha){const ua=ca.spatialReference;null!=ua&&null!=Y&&await L(ua,Y,null,ha);return E(ca,Y)};b.projectWithoutEngine=R;b.requiresLoad=function(ca,Y){return!G(ca,
Y)&&!x()};b.test={get loadPromise(){return Ca}};b.tryProjectWithZConversion=E;b.unload=function(){Ca=qa=V=null;va={}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectBuffer":function(){define(["exports","./projectors"],function(a,b){a.projectBuffer=function(c,e,d,p,n,f,g=1){e=b.getProjector(e,n,b.projectorCache);if(null==e)return!1;if(e===b.copy3){if(c===p&&d===f)return!0;g=d+3*g;for(let k=d,l=f;k<g;k++,l++)p[l]=c[k];return!0}g=d+3*g;for(let k=d,l=
f;k<g;k+=3,l+=3)e(c,k,p,l);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectors":function(){define("exports ../../core/mathUtils ../../core/unitUtils ../ellipsoidUtils ../support/Ellipsoid ../support/geodesicConstants ../support/spatialReferenceUtils ../support/SupportedGCSWkids".split(" "),function(a,b,c,e,d,p,n,f){function g(Y,ha,ua=O()){return null==Y||null==ha?null:J(Y,ha,ua).projector}function k(Y,ha){if(!Y)return a.ProjectionID.UNKNOWN;
if(ha.spatialReference===Y)return ha.spatialReferenceId;ha.spatialReference=Y;"metersPerUnit"in ha&&(ha.metersPerUnit=c.getMetersPerUnitForSR(Y,1));return e.isSphericalECEF(Y)?ha.spatialReferenceId=a.ProjectionID.SPHERICAL_ECEF:n.isWGS84(Y)?ha.spatialReferenceId=a.ProjectionID.WGS84:n.isWebMercator(Y)?ha.spatialReferenceId=a.ProjectionID.WEB_MERCATOR:n.isPlateCarree(Y)?ha.spatialReferenceId=a.ProjectionID.PLATE_CARREE:Y.wkt===e.WGS84ECEFSpatialReferenceLike.wkt?ha.spatialReferenceId=a.ProjectionID.WGS84_ECEF:
Y.wkid===f.SupportedGCSWkids.CGCS2000?ha.spatialReferenceId=a.ProjectionID.CGCS2000:Y.wkt===e.SphericalPCPFMarsLike.wkt?ha.spatialReferenceId=a.ProjectionID.SPHERICAL_MARS_PCPF:Y.wkt===e.SphericalPCPFMoonLike.wkt?ha.spatialReferenceId=a.ProjectionID.SPHERICAL_MOON_PCPF:n.isMars(Y)?ha.spatialReferenceId=a.ProjectionID.GCSMARS2000:n.isMoon(Y)?ha.spatialReferenceId=a.ProjectionID.GCSMOON2000:ha.spatialReferenceId=a.ProjectionID.UNKNOWN}function l(Y,ha,ua,K){Y!==ua&&(ua[K++]=Y[ha++],ua[K++]=Y[ha++],ua[K]=
Y[ha])}function w(Y,ha,ua,K){ua[K]=Y[ha]/Aa*Ca;ua[K+1]=Ca*(ra-2*Math.atan(Math.exp(-Y[ha+1]/Aa)));ua[K+2]=Y[ha+2]}function q(Y,ha,ua,K){const Q=Y[ha]/Aa,ia=ra-2*Math.atan(Math.exp(-Y[ha+1]/Aa));Y=Aa+Y[ha+2];ha=Math.cos(ia)*Y;ua[K]=Math.cos(Q)*ha;ua[K+1]=Math.sin(Q)*ha;ua[K+2]=Math.sin(ia)*Y}function m(Y,ha,ua,K){w(Y,ha,ua,K);G(ua,K,ua,K)}function h(Y,ha,ua,K,Q){var ia=.4999999*va;ia=b.clamp(qa*Y[ha+1],-ia,ia);ia=Math.sin(ia);ua[K++]=qa*Y[ha]*Q.radius;ua[K++]=Q.halfSemiMajorAxis*Math.log((1+ia)/(1-
ia));ua[K]=Y[ha+2]}function t(Y,ha,ua,K){h(Y,ha,ua,K,d.earth)}function y(Y,ha,ua,K){ua[K]=Y[ha]*ea;ua[K+1]=Y[ha+1]*ea;ua[K+2]=Y[ha+2]}function u(Y,ha,ua,K){ua[K]=Y[ha]*ca;ua[K+1]=Y[ha+1]*ca;ua[K+2]=Y[ha+2]}function r(Y,ha,ua,K){w(Y,ha,ua,K);y(ua,K,ua,K)}function z(Y,ha,ua,K,Q){Q+=Y[ha+2];const ia=qa*Y[ha+1];Y=qa*Y[ha];ha=Math.cos(ia)*Q;ua[K]=Math.cos(Y)*ha;ua[K+1]=Math.sin(Y)*ha;ua[K+2]=Math.sin(ia)*Q}function v(Y,ha,ua,K){z(Y,ha,ua,K,d.moon.radius)}function x(Y,ha,ua,K){z(Y,ha,ua,K,d.mars.radius)}
function B(Y,ha,ua,K){z(Y,ha,ua,K,d.earth.radius)}function A(Y,ha,ua,K,Q){var ia=Y[ha];const ka=Y[ha+1];ha=Y[ha+2];Y=Math.sqrt(ia*ia+ka*ka+ha*ha);ha=b.asinClamped(ha/(0===Y?1:Y));ia=Math.atan2(ka,ia);ua[K++]=Ca*ia;ua[K++]=Ca*ha;ua[K]=Y-Q}function C(Y,ha,ua,K){A(Y,ha,ua,K,d.moon.radius)}function H(Y,ha,ua,K){A(Y,ha,ua,K,d.mars.radius)}function N(Y,ha,ua,K){A(Y,ha,ua,K,d.earth.radius)}function I(Y,ha,ua,K){N(Y,ha,ua,K);t(ua,K,ua,K)}function E(Y,ha,ua,K){N(Y,ha,ua,K);G(ua,K,ua,K)}function G(Y,ha,ua,
K){var Q=d.earth;const ia=qa*Y[ha];var ka=qa*Y[ha+1];Y=Y[ha+2];ha=Math.sin(ka);ka=Math.cos(ka);const Ba=Q.radius/Math.sqrt(1-Q.eccentricitySquared*ha*ha);ua[K++]=(Ba+Y)*ka*Math.cos(ia);ua[K++]=(Ba+Y)*ka*Math.sin(ia);ua[K++]=(Ba*(1-Q.eccentricitySquared)+Y)*ha}function L(Y,ha,ua,K){var Q=p.earthEllipsoidConstants,ia=Y[ha],ka=Y[ha+1];Y=Y[ha+2];let Ba;ha=Math.abs(Y);var W=ia*ia+ka*ka;var da=Math.sqrt(W);var ja=W+Y*Y;var M=Math.sqrt(ja);ia=Math.atan2(ka,ia);var S=Y*Y/ja;ja=W/ja;ka=Q.a2/M;W=Q.a3-Q.a4/
M;.3<ja?(S=ha/M*(1+ja*(Q.a1+ka+S*W)/M),M=Math.asin(S),ka=S*S,ja=Math.sqrt(1-ka)):(ja=da/M*(1-S*(Q.a5-ka-ja*W)/M),M=Math.acos(ja),ka=1-ja*ja,S=Math.sqrt(ka));Ba=1-d.earth.eccentricitySquared*ka;ka=d.earth.radius/Math.sqrt(Ba);Q=Q.a6*ka;ka=da-ka*ja;W=ha-Q*S;ha=ja*ka+S*W;da=ja*W-S*ka;Q=da/(Q/Ba+ha);M+=Q;0>Y&&(M=-M);ua[K++]=Ca*ia;ua[K++]=Ca*M;ua[K]=ha+da*Q/2}function R(Y,ha,ua,K){L(Y,ha,ua,K);B(ua,K,ua,K)}function F(Y,ha,ua,K){L(Y,ha,ua,K);t(ua,K,ua,K)}function J(Y,ha,ua){if(null==Y||null==ha||ua.source.spatialReference===
Y&&ua.dest.spatialReference===ha)return ua;const K=k(Y,ua.source),Q=k(ha,ua.dest);K===a.ProjectionID.UNKNOWN&&Q===a.ProjectionID.UNKNOWN?n.equals(Y,ha)?ua.projector=l:ua.projector=null:ua.projector=U[K][Q];return ua}function O(){return{source:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},projector:l}}a.ProjectionID=void 0;(function(Y){Y[Y.UNKNOWN=0]="UNKNOWN";Y[Y.SPHERICAL_ECEF=
1]="SPHERICAL_ECEF";Y[Y.WGS84=2]="WGS84";Y[Y.WEB_MERCATOR=3]="WEB_MERCATOR";Y[Y.WGS84_ECEF=4]="WGS84_ECEF";Y[Y.CGCS2000=5]="CGCS2000";Y[Y.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF";Y[Y.GCSMARS2000=7]="GCSMARS2000";Y[Y.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF";Y[Y.GCSMOON2000=9]="GCSMOON2000";Y[Y.LON_LAT=10]="LON_LAT";Y[Y.PLATE_CARREE=11]="PLATE_CARREE"})(a.ProjectionID||(a.ProjectionID={}));const U={[a.ProjectionID.WGS84]:{[a.ProjectionID.CGCS2000]:l,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,
[a.ProjectionID.LON_LAT]:l,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:t,[a.ProjectionID.PLATE_CARREE]:y,[a.ProjectionID.WGS84]:l,[a.ProjectionID.WGS84_ECEF]:G},[a.ProjectionID.CGCS2000]:{[a.ProjectionID.CGCS2000]:l,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:l,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,
[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:t,[a.ProjectionID.PLATE_CARREE]:y,[a.ProjectionID.WGS84]:l,[a.ProjectionID.WGS84_ECEF]:G},[a.ProjectionID.GCSMARS2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:l,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:l,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:x,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,
[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.GCSMOON2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:l,[a.ProjectionID.LON_LAT]:l,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:v,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},
[a.ProjectionID.WEB_MERCATOR]:{[a.ProjectionID.CGCS2000]:w,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:w,[a.ProjectionID.SPHERICAL_ECEF]:q,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:l,[a.ProjectionID.PLATE_CARREE]:r,[a.ProjectionID.WGS84]:w,[a.ProjectionID.WGS84_ECEF]:m},[a.ProjectionID.WGS84_ECEF]:{[a.ProjectionID.CGCS2000]:L,[a.ProjectionID.GCSMARS2000]:null,
[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:L,[a.ProjectionID.SPHERICAL_ECEF]:R,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:F,[a.ProjectionID.PLATE_CARREE]:function(Y,ha,ua,K){L(Y,ha,ua,K);y(ua,K,ua,K)},[a.ProjectionID.WGS84]:L,[a.ProjectionID.WGS84_ECEF]:l},[a.ProjectionID.SPHERICAL_ECEF]:{[a.ProjectionID.CGCS2000]:N,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,
[a.ProjectionID.LON_LAT]:N,[a.ProjectionID.SPHERICAL_ECEF]:l,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:I,[a.ProjectionID.PLATE_CARREE]:function(Y,ha,ua,K){N(Y,ha,ua,K);y(ua,K,ua,K)},[a.ProjectionID.WGS84]:N,[a.ProjectionID.WGS84_ECEF]:E},[a.ProjectionID.SPHERICAL_MARS_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:H,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:H,
[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:l,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.SPHERICAL_MOON_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:C,[a.ProjectionID.LON_LAT]:C,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,
[a.ProjectionID.SPHERICAL_MOON_PCPF]:l,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.UNKNOWN]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:l,
[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.LON_LAT]:{[a.ProjectionID.CGCS2000]:l,[a.ProjectionID.GCSMARS2000]:l,[a.ProjectionID.GCSMOON2000]:l,[a.ProjectionID.LON_LAT]:l,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:x,[a.ProjectionID.SPHERICAL_MOON_PCPF]:v,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:t,[a.ProjectionID.PLATE_CARREE]:y,[a.ProjectionID.WGS84]:l,
[a.ProjectionID.WGS84_ECEF]:G},[a.ProjectionID.PLATE_CARREE]:{[a.ProjectionID.CGCS2000]:u,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:u,[a.ProjectionID.SPHERICAL_ECEF]:function(Y,ha,ua,K){u(Y,ha,ua,K);B(ua,K,ua,K)},[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:function(Y,ha,ua,K){u(Y,ha,ua,K);t(ua,K,ua,K)},[a.ProjectionID.PLATE_CARREE]:l,[a.ProjectionID.WGS84]:u,
[a.ProjectionID.WGS84_ECEF]:function(Y,ha,ua,K){u(Y,ha,ua,K);G(ua,K,ua,K)}}},T={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},Z={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},V=O(),qa=b.deg2rad(1),Ca=b.rad2deg(1),va=Math.PI,ra=.5*va,Aa=d.earth.radius,ea=Aa*va/180,ca=180/(Aa*va);a.classifySpatialReference=k;a.copy3=l;a.createEmptyProjectorCache=O;a.destClassificationCache=Z;a.getProjector=g;a.getProjectorName=function(Y,ha){switch(g(Y,ha,V)){case l:return"copy3";
case B:return"wgs84ToSphericalECEF";case t:return"wgs84ToWebMercator";case y:return"wgs84ToPlateCarree";case G:return"wgs84ToWGS84ECEF";case w:return"webMercatorToWGS84";case q:return"webMercatorToSphericalECEF";case m:return"webMercatorToWGS84ECEF";case r:return"webMercatorToPlateCarree";case L:return"wgs84ECEFToWGS84";case R:return"wgs84ECEFToSphericalECEF";case F:return"wgs84ECEFToWebMercator";case N:return"sphericalECEFToWGS84";case I:return"sphericalECEFToWebMercator";case H:return"sphericalMarsPCPFToMars2000";
case C:return"sphericalMoonPCPFToMoon2000";case E:return"sphericalECEFToWGS84ECEF";case x:return"mars2000ToSphericalPCPF";case v:return"moon2000ToSphericalPCPF";default:return null}};a.invPlateCarreeScale=ca;a.lonLatToWebMercatorComparable=h;a.populateProjectorCache=J;a.projectionTable=U;a.projectorCache=V;a.sourceClassificationCache=T;a.sphericalPCPFtoLonLatElevation=A;a.wgs84ToWebMercator=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports",
"./Ellipsoid"],function(a,b){const c=Math.PI/180,e=b.earth.radius,d=b.earth.eccentricitySquared;b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,
f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,
f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},
104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.earthEllipsoidConstants={a1:e*d,a2:e*
d*e*d,a3:e*d*d/2,a4:e*d*e*d*2.5,a5:e*d+e*d*d/2,a6:1-d};a.spheroids=b;a.toRadians=c;a.wktSpheroidRegex=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectXYZToVector":function(){define(["exports","../../core/libs/gl-matrix-2/factories/vec3f64","./projectBuffer"],function(a,b,c){const e=b.create();a.projectXYZToVector=function(d,p,n,f,g,k){e[0]=d;e[1]=p;e[2]=n;return c.projectBuffer(e,f,0,g,k,0,1)};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(a){class b{static cacheKey(c,e){return[c.wkid?.toString()??"-1",c.wkt?.toString()??"",c.wkt2?.toString()??"",e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??""].join()}static fromGE(c){const e=new b;let d="";for(const p of c.steps)c=a.fromGE(p),e.steps.push(c),d+=c.uid.toString()+",";e._cachedProjection={};e._gtlistentry=null;e._chain=
d;return e}constructor(c){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(c?.steps)for(const e of c.steps)e instanceof a?this.steps.push(e):this.steps.push(new a({wkid:e.wkid,wkt:e.wkt,isInverse:e.isInverse}))}getInverse(){const c=new b;c.steps=[];for(let e=this.steps.length-1;0<=e;e--)c.steps.push(this.steps[e].getInverse());return c}getGTListEntry(){let c="";for(const e of this.steps)c+=e.uid.toString()+",";c!==this._chain&&(this._gtlistentry=null,this._cachedProjection=
{},this._chain=c);return this._gtlistentry}assignCachedGe(c,e,d){this._cachedProjection[b.cacheKey(c,e)]=d}getCachedGeTransformation(c,e){let d="";for(const p of this.steps)d+=p.uid.toString()+",";d!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=d);c=this._cachedProjection[b.cacheKey(c,e)];return void 0===c?null:c}}return b})},"esri/geometry/support/GeographicTransformationStep":function(){define(function(){let a=0;class b{static fromGE(c){const e=new b;e._wkt=c.wkt;
e._wkid=c.wkid;e._isInverse=c.isInverse;return e}constructor(c){this.uid=a++;c?(this._wkt=null!=c.wkt?c.wkt:null,this._wkid=null!=c.wkid?c.wkid:-1,this._isInverse=null!=c.isInverse?!0===c.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(c){this._wkt=c;this.uid=a++}get wkid(){return this._wkid}set wkid(c){this._wkid=c;this.uid=a++}get isInverse(){return this._isInverse}set isInverse(c){this._isInverse=c;this.uid=a++}getInverse(){const c=new b;c._wkt=
this.wkt;c._wkid=this._wkid;c._isInverse=!this.isInverse;return c}}return b})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","../ellipsoidUtils","./spatialReferenceUtils"],function(a,b,c,e){a.getGeometryZScaler=function(d,p,n){if(null==p||null==n||n.vcsWkid||e.equals(p,n)||c.isSphericalPCPF(p)||c.isSphericalPCPF(n))return null;p=b.getMetersPerVerticalUnitForSR(p);n=b.getMetersPerVerticalUnitForSR(n);const f=p/n;if(1===f)return null;switch(d){case "point":case "esriGeometryPoint":return g=>
{null!=g?.z&&(g.z*=f)};case "polyline":case "esriGeometryPolyline":return g=>{if(g)for(const k of g.paths)for(const l of k)2<l.length&&(l[2]*=f)};case "polygon":case "esriGeometryPolygon":return g=>{if(g)for(const k of g.rings)for(const l of k)2<l.length&&(l[2]*=f)};case "multipoint":case "esriGeometryMultipoint":return g=>{if(g)for(const k of g.points)2<k.length&&(k[2]*=f)};case "extent":case "esriGeometryEnvelope":return g=>{g&&null!=g.zmin&&null!=g.zmax&&(g.zmin*=f,g.zmax*=f)};default:return null}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){a.ScaleRangeLayer=f=>{f=class extends f{constructor(){super(...arguments);this.maxScale=this.minScale=0}get effectiveScaleRange(){const g={minScale:this.minScale,maxScale:this.maxScale};
var k=this.parent;k&&"effectiveScaleRange"in k&&(k=k.effectiveScaleRange,g.minScale=0<g.minScale?0<k.minScale?Math.min(g.minScale,k.minScale):g.minScale:k.minScale,g.maxScale=0<g.maxScale?0<k.maxScale?Math.max(g.maxScale,k.maxScale):g.maxScale:k.maxScale);return(k=this._get("effectiveScaleRange"))&&k.minScale===g.minScale&&k.maxScale===g.maxScale?k:g}};b.__decorate([c.property({type:Number,nonNullable:!0,json:{write:!0}})],f.prototype,"minScale",void 0);b.__decorate([c.property({type:Number,nonNullable:!0,
json:{write:!0}})],f.prototype,"maxScale",void 0);b.__decorate([c.property({readOnly:!0})],f.prototype,"effectiveScaleRange",null);return f=b.__decorate([n.subclass("esri.layers.mixins.ScaleRangeLayer")],f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/layerContainerType ./refresh".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){a.RefreshableLayer=w=>{w=class extends w{constructor(...q){super(...q);this.refreshTimestamp=this.refreshInterval=0;this._debounceHasDataChanged=d.debounce(()=>this.hasDataChanged());this.when().then(()=>{this.destroyed||l.registerLayer(this)},()=>{})}destroy(){l.unregisterLayer(this)}castRefreshInterval(q){return.1<=q?q:0>=q?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(q=Date.now()){d.ignoreAbortErrors(this._debounceHasDataChanged()).then(m=>
{m&&this._set("refreshTimestamp",q);this.emit("refresh",{dataChanged:m})},m=>{e.getLogger(this).error(m);this.emit("refresh",{dataChanged:!1,error:m})})}async hasDataChanged(){return!0}get test(){}};b.__decorate([p.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:k.excludeTables}}}}})],w.prototype,"refreshInterval",void 0);b.__decorate([n.cast("refreshInterval")],w.prototype,"castRefreshInterval",null);b.__decorate([p.property({readOnly:!0})],w.prototype,
"refreshTimestamp",void 0);b.__decorate([p.property({readOnly:!0})],w.prototype,"refreshParameters",null);return w=b.__decorate([g.subclass("esri.layers.mixins.RefreshableLayer")],w)};a.isRefreshableLayer=function(w){return null!=w&&"object"===typeof w&&"refreshTimestamp"in w&&"refresh"in w};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/refresh":function(){define("exports ../../core/Collection ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/accessorSupport/watch ../../core/accessorSupport/trackingUtils".split(" "),
function(a,b,c,e,d,p,n){function f(h){return null!=h&&"object"===typeof h&&"refreshInterval"in h&&"refresh"in h}function g(h,t){return Number.isFinite(h)&&Number.isFinite(t)?0>=t?h:g(t,h%t):0}function k(){var h=Date.now();let t=!1;for(const y of l){const u=y.deref();if(!u)t=!0;else if(u.refreshInterval){const r=w.get(u)??0;h-r+5>=6E4*u.refreshInterval&&(w.set(u,h),u.refresh(h))}}if(t)for(h=l.length-1;0<=h;h--)l.at(h).deref()||l.removeAt(h)}const l=new b,w=new WeakMap;let q=0,m=0;n.autorun(()=>{const h=
Date.now();let t=0;for(const y of l){const u=y.deref();u&&(t=g(Math.round(6E4*u.refreshInterval),t),u.refreshInterval?w.get(u)||w.set(u,h):w.delete(u))}t!==m&&(m=t,clearInterval(q),q=0===m?0:setInterval(k,m))});a.registerLayer=function(h){f(h)&&l.push(new WeakRef(h))};a.test={get hasRefreshTimer(){return 0<q},get tickInterval(){return m},forceRefresh(){k()},hasLayer(h){return f(h)&&l.some(t=>t.deref()===h)},clear(){for(const h of l){const t=h.deref();t&&w.delete(t)}l.removeAll()}};a.unregisterLayer=
function(h){const t=l.find(y=>y.deref()===h);t&&l.remove(t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layersCreator":function(){define("exports ../../core/Collection ../../core/has ./LayerLoadContext ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),function(a,b,c,e,d,p,n,f,g){async function k(G,L,R){if(L){L=L.map(F=>l(F,R));L=await Promise.allSettled(L);
for(const F of L)"rejected"!==F.status&&F.value&&G.add(F.value)}}async function l(G,L){const R=await q(G,L);return w(R,G,L)}async function w(G,L,R){G=new G;G.read(L,R.context);"group"===G.type&&("GroupLayer"===L.layerType?await t(G,L,R):h(L)?y(G,L,R.context):m(L)&&await u(G,L,R.context));await g.loadStyleRenderer(G,R.context);return G}async function q(G,L){var R=L.context;let F;switch(R.origin){case "web-scene":switch(R.layerContainerType){case "basemap":F=B;break;case "ground":F=v;break;case "tables":F=
x;break;default:F=z}break;case "link-chart":switch(R.layerContainerType){case "basemap":F=E;break;case "tables":F=I;break;default:F=N}break;default:switch(R.layerContainerType){case "basemap":F=H;break;case "tables":F=C;break;default:F=A}}let J=G.layerType||G.type;!J&&L?.defaultLayerType&&(J=L.defaultLayerType);L=(L=F[J])?d.layerLookupMap[L]:d.layerLookupMap.UnknownLayer;h(G)?(R=R?.portal,G.itemId&&(G=new p({id:G.itemId,portal:R}),await G.load(),G=(await f.selectLayerClassPath(G,new e.LayerLoadContext)).className||
"UnknownLayer",L=d.layerLookupMap[G])):"ArcGISFeatureLayer"===J?n.isMapNotesLayer(G)||n.isMarkupLayer(G)?L=d.layerLookupMap.MapNotesLayer:n.isRouteLayer(G)?L=d.layerLookupMap.RouteLayer:m(G)&&(L=d.layerLookupMap.GroupLayer):G.wmtsInfo?.url&&G.wmtsInfo.layerIdentifier?L=d.layerLookupMap.WMTSLayer:"WFS"===J&&"2.0.0"!==G.wfsInfo?.version&&(L=d.layerLookupMap.UnsupportedLayer);return L()}function m(G){return"ArcGISFeatureLayer"!==G.layerType||h(G)?!1:1<(G.featureCollection?.layers?.length??0)}function h(G){return"Feature Collection"===
G.type}async function t(G,L,R){const F=new b;L=k(F,Array.isArray(L.layers)?L.layers:[],R);try{try{if(await L,"group"===G.type)return G.layers.addMany(F),G}catch(J){G.destroy();for(const O of F)O.destroy();throw J;}}catch(J){throw J;}}function y(G,L,R){L.itemId&&(G.portalItem=new p({id:L.itemId,portal:R?.portal}),G.when(()=>{const F=J=>{var O=J.layerId;r(J,G,L,O,R);(O=L.featureCollection?.layers?.[O])&&J.read(O,R)};G.layers?.forEach(F);G.tables?.forEach(F)}))}async function u(G,L,R){const F=await (0,d.layerLookupMap.FeatureLayer)();
var J=L.featureCollection;const O=J?.showLegend;J=J?.layers?.map((U,T)=>{const Z=new F;Z.read(U,R);U={...R,ignoreDefaults:!0};r(Z,G,L,T,U);null!=O&&Z.read({showLegend:O},U);return Z});G.layers.addMany(J??[])}function r(G,L,R,F,J){G.read({id:`${L.id}-sublayer-${F}`,visibility:R.visibleLayers?.includes(F)??!0},J)}const z={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISSceneServiceLayer:"SceneLayer",
ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BuildingSceneLayer:"BuildingSceneLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",IntegratedMesh3DTilesLayer:"IntegratedMesh3DTilesLayer",IntegratedMeshLayer:"IntegratedMeshLayer",KML:"KMLLayer",LineOfSightLayer:"LineOfSightLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",
PointCloudLayer:"PointCloudLayer",RasterDataLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",Voxel:"VoxelLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},v={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},x={ArcGISFeatureLayer:"FeatureLayer"},B={ArcGISImageServiceLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",
ArcGISTiledMapServiceLayer:"TileLayer",DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WMS:"UnsupportedLayer",WebTiledLayer:"WebTileLayer"},A={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",
ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GeoRSS:"GeoRSSLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",KnowledgeGraphLayer:"KnowledgeGraphLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",
WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},C={ArcGISFeatureLayer:"FeatureLayer",SubtypeGroupTable:"UnsupportedLayer"},H={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",
VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},N={...A,LinkChartLayer:"LinkChartLayer"},I={...C},E={...H};a.populateGroupLayer=t;a.populateOperationalLayers=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/LayerLoadContext":function(){define(["exports","../../support/requestPresets"],function(a,b){class c{constructor(){this._serviceMetadatas=new Map;this._itemDatas=new Map}async fetchServiceMetadata(e,d){const p=this._serviceMetadatas.get(e);
if(p)return p;d=await b.fetchArcGISServiceJSON(e,d);this._serviceMetadatas.set(e,d);return d}async fetchItemData(e){const {id:d}=e;if(!d)return null;const {_itemDatas:p}=this;if(p.has(d))return p.get(d);e=await e.fetchData();p.set(d,e);return e}async fetchCustomParameters(e,d){return(e=await this.fetchItemData(e))&&"object"===typeof e&&(d?d(e):e.customParameters)||null}}a.LayerLoadContext=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestPresets":function(){define(["exports",
"../request"],function(a,b){a.fetchArcGISServiceJSON=async function(c,e){({data:c}=await b(c,{responseType:"json",query:{f:"json",...e?.customParameters,token:e?.apiKey}}));return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports"],function(a,b){const c=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"}));b.layerLookupMap={BingMapsLayer:async()=>(await new Promise((e,
d)=>a(["../BingMapsLayer"],p=>e(c(p)),d))).default,BuildingSceneLayer:async()=>(await new Promise((e,d)=>a(["../BuildingSceneLayer"],p=>e(c(p)),d))).default,CSVLayer:async()=>(await new Promise((e,d)=>a(["../CSVLayer"],p=>e(c(p)),d))).default,CatalogLayer:async()=>(await new Promise((e,d)=>a(["../CatalogLayer"],p=>e(c(p)),d))).default,DimensionLayer:async()=>(await new Promise((e,d)=>a(["../DimensionLayer"],p=>e(c(p)),d))).default,ElevationLayer:async()=>(await new Promise((e,d)=>a(["../ElevationLayer"],
p=>e(c(p)),d))).default,FeatureLayer:async()=>(await new Promise((e,d)=>a(["../FeatureLayer"],p=>e(c(p)),d))).default,GeoJSONLayer:async()=>(await new Promise((e,d)=>a(["../GeoJSONLayer"],p=>e(c(p)),d))).default,GeoRSSLayer:async()=>(await new Promise((e,d)=>a(["../GeoRSSLayer"],p=>e(c(p)),d))).default,GroupLayer:async()=>(await new Promise((e,d)=>a(["../GroupLayer"],p=>e(c(p)),d))).default,ImageryLayer:async()=>(await new Promise((e,d)=>a(["../ImageryLayer"],p=>e(c(p)),d))).default,ImageryTileLayer:async()=>
(await new Promise((e,d)=>a(["../ImageryTileLayer"],p=>e(c(p)),d))).default,IntegratedMesh3DTilesLayer:async()=>(await new Promise((e,d)=>a(["../IntegratedMesh3DTilesLayer"],p=>e(c(p)),d))).default,IntegratedMeshLayer:async()=>(await new Promise((e,d)=>a(["../IntegratedMeshLayer"],p=>e(c(p)),d))).default,KMLLayer:async()=>(await new Promise((e,d)=>a(["../KMLLayer"],p=>e(c(p)),d))).default,KnowledgeGraphLayer:async()=>(await new Promise((e,d)=>a(["../KnowledgeGraphLayer"],p=>e(c(p)),d))).default,LineOfSightLayer:async()=>
(await new Promise((e,d)=>a(["../LineOfSightLayer"],p=>e(c(p)),d))).default,LinkChartLayer:async()=>(await new Promise((e,d)=>a(["../LinkChartLayer"],p=>e(c(p)),d))).default,MapImageLayer:async()=>(await new Promise((e,d)=>a(["../MapImageLayer"],p=>e(c(p)),d))).default,MapNotesLayer:async()=>(await new Promise((e,d)=>a(["../MapNotesLayer"],p=>e(c(p)),d))).default,MediaLayer:async()=>(await new Promise((e,d)=>a(["../MediaLayer"],p=>e(c(p)),d))).default,OGCFeatureLayer:async()=>(await new Promise((e,
d)=>a(["../OGCFeatureLayer"],p=>e(c(p)),d))).default,OpenStreetMapLayer:async()=>(await new Promise((e,d)=>a(["../OpenStreetMapLayer"],p=>e(c(p)),d))).default,OrientedImageryLayer:async()=>(await new Promise((e,d)=>a(["../OrientedImageryLayer"],p=>e(c(p)),d))).default,PointCloudLayer:async()=>(await new Promise((e,d)=>a(["../PointCloudLayer"],p=>e(c(p)),d))).default,RouteLayer:async()=>(await new Promise((e,d)=>a(["../RouteLayer"],p=>e(c(p)),d))).default,SceneLayer:async()=>(await new Promise((e,
d)=>a(["../SceneLayer"],p=>e(c(p)),d))).default,StreamLayer:async()=>(await new Promise((e,d)=>a(["../StreamLayer"],p=>e(c(p)),d))).default,SubtypeGroupLayer:async()=>(await new Promise((e,d)=>a(["../SubtypeGroupLayer"],p=>e(c(p)),d))).default,TileLayer:async()=>(await new Promise((e,d)=>a(["../TileLayer"],p=>e(c(p)),d))).default,UnknownLayer:async()=>(await new Promise((e,d)=>a(["../UnknownLayer"],p=>e(c(p)),d))).default,UnsupportedLayer:async()=>(await new Promise((e,d)=>a(["../UnsupportedLayer"],
p=>e(c(p)),d))).default,VectorTileLayer:async()=>(await new Promise((e,d)=>a(["../VectorTileLayer"],p=>e(c(p)),d))).default,VideoLayer:async()=>(await new Promise((e,d)=>a(["../VideoLayer"],p=>e(c(p)),d))).default,VoxelLayer:async()=>(await new Promise((e,d)=>a(["../VoxelLayer"],p=>e(c(p)),d))).default,WFSLayer:async()=>(await new Promise((e,d)=>a(["../WFSLayer"],p=>e(c(p)),d))).default,WMSLayer:async()=>(await new Promise((e,d)=>a(["../WMSLayer"],p=>e(c(p)),d))).default,WMTSLayer:async()=>(await new Promise((e,
d)=>a(["../WMTSLayer"],p=>e(c(p)),d))).default,WebTileLayer:async()=>(await new Promise((e,d)=>a(["../WebTileLayer"],p=>e(c(p)),d))).default};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports"],function(a){function b(c,e){return c.layerType&&"ArcGISFeatureLayer"===c.layerType?c.featureCollectionType===e?!0:!1:!1}a.isMapNotesLayer=function(c){return b(c,"notes")};a.isMarkupLayer=function(c){return b(c,"markup")};
a.isRouteLayer=function(c){return b(c,"route")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalLayers":function(){define("exports ../../core/Error ../../layers/support/associatedFeatureServiceUtils ../../layers/support/fetchService ../../layers/support/LayerLoadContext ../../layers/support/layerUtils ../../layers/support/lazyLayerLoader ../PortalItem ./loadUtils ./portalItemUtils".split(" "),function(a,b,c,e,d,p,n,f,g,k){async function l(x){await x.load();
const B=new d.LayerLoadContext;x=await w(x,B);return q(x)}async function w(x,B){switch(x.type){case "3DTiles Service":return{className:"IntegratedMesh3DTilesLayer"};case "CSV":return{className:"CSVLayer"};case "Feature Collection":return y(x);case "Feature Service":return h(x,B);case "Feed":return{className:"StreamLayer"};case "GeoJson":return{className:"GeoJSONLayer"};case "Group Layer":return{className:"GroupLayer"};case "Image Service":return u(x,B);case "KML":return{className:"KMLLayer"};case "Knowledge Graph Layer":return{className:"KnowledgeGraphLayer"};
case "Map Service":return m(x,B);case "Media Layer":return{className:"MediaLayer"};case "Scene Service":return t(x,B);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "WFS":return{className:"WFSLayer"};case "WMS":return{className:"WMSLayer"};case "WMTS":return{className:"WMTSLayer"};default:throw new b("portal:unknown-item-type","Unknown item type '${type}'",{type:x.type});}}async function q(x){return{constructor:await (0,n.layerLookupMap[x.className])(),
properties:x.properties}}async function m(x,B){return await r(x,B)?{className:"TileLayer"}:{className:"MapImageLayer"}}async function h(x,B){x=await z(x,B);if("object"===typeof x){const {sourceJSON:A,className:C}=x;B={sourceJSON:A};null!=x.id&&(B.layerId=x.id);return{className:C||"FeatureLayer",properties:B}}return{className:"GroupLayer"}}async function t(x,B){var A=await z(x,B,async()=>{try{if(!x.url)return[];const {serverUrl:C}=await c.findAssociatedFeatureService(x.url,{sceneLayerItem:x});return(await B.fetchServiceMetadata(C))?.tables??
[]}catch{return[]}});if("object"===typeof A){const C={};let H=void 0;null!=A.id?(C.layerId=A.id,H=`${x.url}/layers/${A.id}`):H=x.url;if(x.typeKeywords?.length)for(const N of Object.keys(p.sceneServiceLayerTypeToClassName))if(x.typeKeywords.includes(N))return{className:p.sceneServiceLayerTypeToClassName[N]};A=await B.fetchServiceMetadata(H,{customParameters:await B.fetchCustomParameters(x,N=>g.getFirstLayerOrTable(N)?.customParameters)});return{className:p.sceneServiceLayerTypeToClassName[A?.layerType]||
"SceneLayer",properties:C}}return!1===A&&"Voxel"===(await B.fetchServiceMetadata(x.url))?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}async function y(x){await x.load();const B=k.hasTypeKeyword(x,"Map Notes"),A=k.hasTypeKeyword(x,"Markup");if(B||A)return{className:"MapNotesLayer"};if(k.hasTypeKeyword(x,"Route Layer"))return{className:"RouteLayer"};x=await x.fetchData();return 1===g.getNumLayersAndTables(x)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function u(x,B){await x.load();
var A=x.typeKeywords?.map(C=>C.toLowerCase())??[];if(A.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(A.includes("tiled imagery"))return{className:"ImageryTileLayer"};A=(await B.fetchItemData(x))?.layerType;if("ArcGISTiledImageServiceLayer"===A)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===A)return{className:"ImageryLayer"};B=await B.fetchServiceMetadata(x.url,{customParameters:await B.fetchCustomParameters(x)});x=B.cacheType?.toLowerCase();B=B.capabilities?.toLowerCase().includes("tilesonly");
return"map"===x||B?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}async function r(x,B){({tileInfo:x}=await B.fetchServiceMetadata(x.url,{customParameters:await B.fetchCustomParameters(x)}));return x}async function z(x,B,A){const {url:C,type:H}=x,N="Feature Service"===H;if(!C)return{};if(/\/\d+$/.test(C))return N?(A=await B.fetchServiceMetadata(C,{customParameters:await B.fetchCustomParameters(x,E=>g.getFirstLayerOrTable(E)?.customParameters)}),{id:A.id,className:e.getLayerModuleType(A.type),
sourceJSON:A}):{};await x.load();let I=await B.fetchItemData(x);if(N)return x=await g.preprocessFSItemData(I,C,B),A=v(x),"object"===typeof A&&(x=g.getLayerOrTable(x,A.id),A.className=g.layerTypeToLayerModuleType(x?.layerType)),A;"Scene Service"===H&&(I=await g.populateSceneServiceItemData(x,I,B));if(0<g.getNumLayersAndTables(I))return v(I);x=await B.fetchServiceMetadata(C);A&&(x.tables=await A());return v(x)}function v(x){return 1===g.getNumLayersAndTables(x)?{id:g.getFirstLayerOrTable(x)?.id}:!1}
a.fromItem=async function(x){({portalItem:x}=x);!x||x instanceof f||(x=new f(x));const B=await l(x);return new B.constructor({portalItem:x,...B.properties})};a.selectLayerClassPath=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/associatedFeatureServiceUtils":function(){define("exports ../../kernel ../../request ../../core/Error ../../core/promiseUtils ./arcgisLayerUrl ../../portal/Portal ../../portal/PortalItem".split(" "),function(a,b,c,e,d,p,n,f){async function g(m){var h=
(await k(m)).serviceItemId;if(!h)return null;h=new f({id:h,apiKey:m.apiKey});const t=await l(m);null!=t&&(h.portal=new n({url:t}));try{return h.load({signal:m.signal})}catch(y){return d.throwIfAbortError(y),null}}async function k(m){if(m.rootDocument)return m.rootDocument;const h={query:{f:"json",...m.customParameters,token:m.apiKey},responseType:"json",signal:m.signal};try{const t=await c(m.sceneServerUrl,h);m.rootDocument=t.data}catch{m.rootDocument={}}return m.rootDocument}async function l(m){var h=
b.id?.findServerInfo(m.sceneServerUrl);if(h?.owningSystemUrl)return h.owningSystemUrl;h=m.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const t=(await c(h,{query:{f:"json"},responseType:"json",signal:m.signal})).data.owningSystemUrl;if(t)return t}catch(t){d.throwIfAbortError(t)}return null}async function w(m,h){m=p.parse(m);if(!m)throw new e("invalid-feature-service-url","Invalid feature service url");const t=m.url.path;m=h.layerId;if(null==m)return{serverUrl:t};var y=k(h),u=h.featureServiceItem?
await h.featureServiceItem.fetchData("json"):null;const r=(u?.layers?.[0]||u?.tables?.[0])?.customParameters,z=B=>c(t,{query:{f:"json",...r},responseType:"json",authMode:B,signal:h.signal});u=z("anonymous").catch(()=>z("no-prompt"));const [v,x]=await Promise.all([u,y]);y=x?.layers;u=v.data&&v.data.layers;if(!Array.isArray(u))throw Error("expected layers array");if(!Array.isArray(y)){if(null!=m&&m<u.length)return{serverUrl:t,layerId:u[m].id}}else for(let B=0;B<Math.min(y.length,u.length);B++)if(y[B].id===
m)return{serverUrl:t,layerId:u[B].id};throw Error("could not find matching associated sublayer");}async function q({sceneLayerItem:m,signal:h}){if(!m)return null;try{const t=(await m.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:h})).find(u=>"Feature Service"===u.type)||null;if(!t)return null;const y=new f({portal:t.portal,id:t.id});await y.load();return y}catch(t){return d.throwIfAbortError(t),null}}a.findAssociatedFeatureService=async function(m,h){m=p.parse(m);
if(!m)throw new e("invalid-url","Invalid scene service url");m={...h,sceneServerUrl:m.url.path,layerId:m.sublayer??void 0};m.sceneLayerItem??(m.sceneLayerItem=await g(m));if(null==m.sceneLayerItem)return w(m.sceneServerUrl.replace("/SceneServer","/FeatureServer"),m);h=await q(m);if(!h?.url)throw new e("related-service-not-found","Could not find feature service through portal item relationship");m.featureServiceItem=h;m=await w(h.url,m);m.portalItem=h;return m};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function e(w){if(null==w)return null;w=b.urlToObject(w);w=w?.path.match(g)||w?.path.match(k);if(!w)return null;const [,q,m,h,t]=w;w=m.indexOf("/");return{title:p(-1!==w?m.slice(w+1):m),serverType:n[h.toLowerCase()],sublayer:null!=t&&""!==t?parseInt(t,10):null,url:{path:q}}}function d(w){return(w=b.urlToObject(w).path.match(l))?{serviceUrl:w[1],
sublayerId:Number(w[2])}:null}function p(w){w=w.replaceAll(/\s*[/_]+\s*/g," ");return w[0].toUpperCase()+w.slice(1)}const n={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},f=Object.values(n),g=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${f.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,
"i"),k=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${f.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=p;a.isArcGISUrl=function(w){return g.test(w)};a.isHostedAgolService=function(w){w=b.getOrigin(w,!0);if(!w)return!1;w=w.toLowerCase();return w.endsWith(".arcgis.com")&&(w.startsWith("services")||w.startsWith("tiles")||w.startsWith("features"))};a.isServerOrServicesAGOLUrl=function(w){if(!w)return!1;w=(new b.Url(b.makeAbsolute(w))).authority?.toLowerCase();
return"server.arcgisonline.com"===w||"services.arcgisonline.com"===w};a.isWmsServer=function(w){if(!w)return!1;var q=w.toLowerCase();w=q.includes("/services/");const m=q.includes("/mapserver/wmsserver"),h=q.includes("/imageserver/wmsserver");q=q.includes("/wmsserver");return w&&(m||h||q)};a.parse=e;a.parseNonStandardSublayerUrl=d;a.sanitizeUrl=function(w,q){return w?b.removeTrailingSlash(b.removeQueryParameters(w,q)):w};a.sanitizeUrlWithLayerId=function(w){let {url:q}=w;if(!q)return{url:q};q=b.removeQueryParameters(q,
w.logger);const m=b.urlToObject(q),h=e(m.path);let t=void 0;null!=h?(null!=h.sublayer&&null==w.layer.layerId&&(t=h.sublayer),q=h.url.path):w.nonStandardUrlAllowed&&(w=d(m.path),null!=w&&(q=w.serviceUrl,t=w.sublayerId));return{url:b.removeTrailingSlash(q),layerId:t}};a.serverTypes=f;a.titleFromUrlAndName=function(w,q){const m=[];w&&(w=e(w),null!=w&&w.title&&m.push(w.title));q&&(q=p(q),m.push(q));if(2===m.length){if(m[0].toLowerCase().includes(m[1].toLowerCase()))return m[0];if(m[1].toLowerCase().includes(m[0].toLowerCase()))return m[1]}return m.join(" - ")};
a.writeUrlWithLayerId=function(w,q,m,h,t){c.write(q,h,"url",t);h.url&&null!=w.layerId&&(h.url=b.join(h.url,m,w.layerId.toString()))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fetchService":function(){define(["exports","../../support/requestPresets"],function(a,b){function c(g){({type:g}=g);return g?f.has(g):!1}function e(g){return"Table"===g.type}function d(g){g.layers=g.layers?.filter(c);g.tables=g.tables?.filter(e)}function p(g){g.type||(g.type="Feature Layer")}
function n(g){g.type||(g.type="Table")}const f=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);a.fetchFeatureService=async function(g,k){const {loadContext:l,...w}=k||{},q=l?await l.fetchServiceMetadata(g,w):await b.fetchArcGISServiceJSON(g,w);q.layers?.forEach(p);q.tables?.forEach(n);d(q);k={serviceJSON:q};if(10.5>(q.currentVersion??0))return k;g=`${g}/layers`;g=l?await l.fetchServiceMetadata(g,w):await b.fetchArcGISServiceJSON(g,w);g.layers?.forEach(p);g.tables?.forEach(n);d(g);
k.layersJSON={layers:g.layers,tables:g.tables};return k};a.getLayerModuleType=function(g){switch(g){case "Oriented Imagery Layer":return"OrientedImageryLayer";case "Catalog Layer":return"CatalogLayer"}return"FeatureLayer"};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/loadUtils":function(){define(["exports","../../layers/support/associatedFeatureServiceUtils","../../layers/support/fetchService"],function(a,b,c){function e(p){const n={id:p.id,name:p.name};p=c.getLayerModuleType(p.type);
"FeatureLayer"!==p&&(n.layerType=p);return n}function d(p){if(!p)return null;const {layers:n,tables:f}=p;return n?.length?n[0]:f?.length?f[0]:null}a.createSublayerData=e;a.getFirstLayerOrTable=d;a.getLayerOrTable=function(p,n){return null==n?null:[...(p.layers||[]),...(p.tables||[])].find(f=>f.id===n)};a.getNumLayersAndTables=function(p){return(p?.layers?.length??0)+(p?.tables?.length??0)};a.getSublayersByLayerType=function(p,n){return[...(p.layers||[]),...(p.tables||[])].filter(({layerType:f})=>
f?f===n:"ArcGISFeatureLayer"===n)};a.instanceTypeToLayerType=function(p){switch(p){case "catalog":return"CatalogLayer";case "feature":return"ArcGISFeatureLayer";case "oriented-imagery":return"OrientedImageryLayer";case "subtype-group":return"SubtypeGroupLayer"}return null};a.layerTypeToLayerModuleType=function(p){switch(p){case "CatalogLayer":return"CatalogLayer";case "OrientedImageryLayer":return"OrientedImageryLayer";case "SubtypeGroupLayer":return"SubtypeGroupLayer"}return"FeatureLayer"};a.populateSceneServiceItemData=
async function(p,n,f){if(!p?.url)return n??{};n??={};if(!n.layers){const l=await f.fetchServiceMetadata(p.url);n.layers=l.layers?.map(e)}const {serverUrl:g,portalItem:k}=await b.findAssociatedFeatureService(p.url,{sceneLayerItem:p,customParameters:d(n)?.customParameters}).catch(()=>({serverUrl:null,portalItem:null}));if(null==g)return n.tables=[],n;!n.tables&&k&&(p=await k.fetchData(),p?.tables?n.tables=p.tables.map(e):(f=await f.fetchServiceMetadata(g,{customParameters:d(p)?.customParameters}),n.tables=
f?.tables?.map(e)));if(n.tables)for(const l of n.tables)l.url=`${g}/${l.id}`;return n};a.preprocessFSItemData=async function(p,n,f){if(null==p?.layers||null==p?.tables)n=await f.fetchServiceMetadata(n,{customParameters:d(p)?.customParameters}),p=p||{},p.layers=p.layers||n?.layers?.map(e),p.tables=p.tables||n?.tables?.map(e);return p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/styleUtils":function(){define(["exports","../../core/asyncUtils","../../core/promiseUtils",
"../../core/Warning"],function(a,b,c,e){a.loadStyleRenderer=async function(d,p,n){var f=d&&d.getAtOrigin&&d.getAtOrigin("renderer",p.origin);f&&"unique-value"===f.type&&f.styleOrigin&&(f=await b.result(f.populateFromStyle()),c.throwIfAborted(n),!1===f.ok&&(n=f.error,p?.messages&&p.messages.push(new e("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:p})),d.clear("renderer",p?.origin)))};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/PieChartRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../request ../symbols ../core/Clonable ../core/Collection ../core/Error ../core/lang ../core/Logger ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/layerContainerType ../form/FormTemplate ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/EditBusLayer ./mixins/FeatureEffectLayer ./mixins/FeatureLayerBase ./mixins/FeatureReductionLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/PublishableLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/featureLayerUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/serviceCapabilitiesUtils ./support/TimeInfo ./support/versionUtils ./support/source/DataLayerSource ../renderers/support/styleUtils ../rest/support/FeatureSet ../rest/support/Query ../rest/support/TopFeaturesQuery ../support/popupUtils ../webdoc/interfaces ../webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A,C,H,N,I,E,G,L,R,F,J,O,U,T,Z,V,qa,Ca,va,ra,Aa,ea,ca,Y,ha,ua,K,Q,ia,ka,Ba,W,da,ja,M,S,X,ma,ya,Ia,fa,oa,ta,Fa,Ea,Qa,Pa){function Ra(na,xa){return new u("layer:unsupported",`Layer (${na.title}, ${na.id}) of type '${na.declaredClass}' ${xa}`,{layer:na})}function Sa(na,xa,Oa){na=!!Oa?.writeLayerSchema;return{enabled:na,ignoreOrigin:na}}e=da.defineFieldProperties();t=class extends va.FeatureLayerBase(ra.FeatureReductionLayer(Ca.FeatureEffectLayer(Y.PublishableLayer(qa.EditBusLayer(Z.BlendLayer(ea.OrderedLayer(K.TemporalLayer(ua.ScaleRangeLayer(ha.RefreshableLayer(T.ArcGISService(Aa.OperationalLayer(ca.PortalLayer(v.MultiOriginJSONMixin(V.CustomParametersMixin(U.APIKeyMixin(t.ClonableMixin(J))))))))))))))))){constructor(...na){super(...na);
this.geometryType=this.fullExtent=this.formTemplate=this.fieldsIndex=this.fields=this.dynamicDataSource=this.displayField=this.copyright=this.charts=null;this.hasZ=this.hasM=void 0;this.infoFor3D=null;this.isTable=!1;this.labelsVisible=!0;this.labelingInfo=null;this.legendEnabled=!0;this.path=this.outFields=this.objectIdField=null;this.popupEnabled=!0;this.resourceInfo=this.popupTemplate=null;this.screenSizePerspectiveEnabled=!0;this.spatialReference=F.WGS84;this.subtypeCode=null;this.supportedSourceTypes=
new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]);this.title=this.timeInfo=this.templates=null;this.sublayerTitleMode="item-title";this.type="feature";this.types=this.typeIdField=null;this.visible=!0;this._debouncedSaveOperations=B.debounce(async(xa,Oa,Ua)=>{const {save:gb,saveAs:rb}=await new Promise((qb,Eb)=>a(["./save/featureLayerUtils"],qb,Eb));switch(xa){case Qa.SaveOperationType.SAVE:return gb(this,Oa);case Qa.SaveOperationType.SAVE_AS:return rb(this,Ua,Oa)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(na,
xa){return"string"===typeof na?{url:na,...xa}:na}load(na){const xa=null!=na?na.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(xa).then(Ua=>this.initLayerProperties(Ua))),Promise.resolve(this);const Oa=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},na).catch(B.throwIfAbortError).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const Ua=await this._fetchFirstValidLayerId(xa);
null!=Ua&&(this.layerId=Ua)}if(!this.url&&!this._hasMemorySource())throw new u("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(xa))}).then(()=>ka.ensureLayerCredential(this,"load",na));this.addResolvingPromise(Oa);return Promise.resolve(this)}readCapabilities(na,xa){xa=xa.layerDefinition||xa;return X.getFeatureLayerCapabilities(xa,this.url)}get createQueryVersion(){this.commitProperty("definitionExpression");
this.commitProperty("dynamicDataSource");this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")??0)+1}get editingEnabled(){return this.loaded&&!this.capabilities?.operations.supportsEditing?!1:this._isOverridden("editingEnabled")?this._get("editingEnabled"):
this._hasMemorySource()||this.userHasEditingPrivileges}set editingEnabled(na){this._overrideIfSome("editingEnabled",na)}readEditingEnabled(na,xa){return this._readEditingEnabled(xa,!1)}readEditingEnabledFromWebMap(na,xa,Oa){return this._readEditingEnabled(xa,!0,Oa)}writeEditingEnabled(na,xa){this._writeEditingEnabled(na,xa,!1)}writeEditingEnabledToWebMap(na,xa,Oa,Ua){this._writeEditingEnabled(na,xa,!0,Ua)}get effectiveEditingEnabled(){return ka.computeEffectiveEditingEnabled(this)}readIsTable(na,
xa){xa=xa?.layerDefinition??xa;return"Table"===xa.type||!xa.geometryType}writeIsTable(na,xa,Oa,Ua){Ua?.writeLayerSchema&&x.setDeepValue(Oa,na?"Table":"Feature Layer",xa)}readGlobalIdField(na,xa){return ka.readGlobalIdField(xa.layerDefinition||xa)}readObjectIdField(na,xa){return ka.readObjectIdField(xa.layerDefinition||xa)}get parsedUrl(){const na=C.urlToObject(this.url);null!=na&&(null!=this.dynamicDataSource?na.path=C.join(na.path,"dynamicLayer"):null!=this.layerId&&(na.path=C.join(na.path,this.layerId.toString())));
return na}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(na){ja.fixRendererFields(na,this.fieldsIndex);this._set("renderer",na)}readRenderer(na,xa,Oa){xa=xa.layerDefinition||xa;return(na=xa.drawingInfo?.renderer)?((na=w.read(na,xa,Oa)??void 0)||z.getLogger(this).error("Failed to create renderer",{rendererDefinition:xa.drawingInfo.renderer,layer:this,context:Oa}),na):ka.createDefaultRenderer(xa,Oa)}set source(na){const xa=this._get("source");xa!==na&&(xa&&xa instanceof y&&
this._resetMemorySource(xa),na&&na instanceof y&&this._initMemorySource(na),this._set("source",na))}castSource(na){return na?Array.isArray(na)||na instanceof y?new O.MemorySource({layer:this,items:na}):na:null}readSource(na,xa){na=oa.fromJSON(xa.featureSet);return new O.MemorySource({layer:this,items:na?.features??[]})}readTemplates(na,xa){xa=xa.editFieldsInfo;const Oa=xa?.editorField;na=na?.map(Ua=>Ba.fromJSON(Ua));this._fixTemplates(na,xa?.creatorField);this._fixTemplates(na,Oa);return na}readTitle(na,
xa){na=xa.layerDefinition?.name??xa.name;xa=xa.title||xa.layerDefinition?.title;if(na){xa=this.portalItem?.title;if("item-title"===this.sublayerTitleMode)return this.url?Q.titleFromUrlAndName(this.url,na):na;if(!na&&this.url){const Oa=Q.parse(this.url);null!=Oa&&(na=Oa.title)}if(!na)return;"item-title-and-service-name"===this.sublayerTitleMode&&xa&&xa!==na&&(na=xa+" - "+na);return Q.cleanTitle(na)}if("item-title"===this.sublayerTitleMode&&xa)return xa}readTitleFromWebMap(na,xa){return xa.title||xa.layerDefinition?.name}readTypeIdField(na,
xa){xa=xa.layerDefinition||xa;let Oa=xa.typeIdField;Oa&&xa.fields&&(Oa=Oa.toLowerCase(),na=xa.fields.find(Ua=>Ua.name.toLowerCase()===Oa))&&(Oa=na.name);return Oa}readTypes(na,xa){xa=xa.layerDefinition||xa;na=xa.types;xa=xa.editFieldsInfo;const Oa=xa?.creatorField,Ua=xa?.editorField;return na?.map(gb=>{gb=W.fromJSON(gb);this._fixTemplates(gb.templates,Oa);this._fixTemplates(gb.templates,Ua);return gb})}readVisible(na,xa){if(null!=xa.layerDefinition?.defaultVisibility)return!!xa.layerDefinition.defaultVisibility;
if(null!=xa.visibility)return!!xa.visibility}async addAttachment(na,xa){return ka.addAttachment(this,na,xa,"FeatureLayer")}async updateAttachment(na,xa,Oa){return ka.updateAttachment(this,na,xa,Oa,"FeatureLayer")}async applyEdits(na,xa){return ka.applyEdits(this,na,xa)}async uploadAssets(na,xa){return ka.uploadAssets(this,na,xa)}on(na,xa){return super.on(na,xa)}createPopupTemplate(na){return Ea.createPopupTemplate(this,na)}async createGraphicsSource(na){if(this._hasMemorySource()&&this.source)return this.source.load({signal:na});
const {default:xa}=await B.whenOrAbort(new Promise((Oa,Ua)=>a(["./graphics/sources/FeatureLayerSource"],gb=>Oa(Object.freeze(Object.defineProperty({__proto__:null,default:gb},Symbol.toStringTag,{value:"Module"}))),Ua)),na);return(new xa({layer:this,supportedSourceTypes:this.supportedSourceTypes})).load({signal:na})}createQuery(){const na=ka.createQuery(this);na.dynamicDataSource=this.dynamicDataSource;const xa=A.sqlAnd(this.definitionExpression,null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:
null);na.where=xa||"1\x3d1";return na}async deleteAttachments(na,xa){return ka.deleteAttachments(this,na,xa,"FeatureLayer")}async fetchRecomputedExtents(na){return ka.fetchRecomputedExtents(this,na,"FeatureLayer")}getFeatureType(na){return ka.getFeatureType(this.types,this.typeIdField,na)}getFieldDomain(na,xa){xa=xa?.feature;const Oa=ka.getFeatureSubtype(this,xa);return Oa?(xa=Oa.domains?.[na],"inherited"===xa?.type?this._getLayerDomain(na):xa):(xa=this.getFeatureType(xa))&&(xa=xa.domains&&xa.domains[na])&&
"inherited"!==xa.type?xa:this._getLayerDomain(na)}getField(na){return this.fieldsIndex.get(na)}async queryAttachments(na,xa){return ka.queryAttachments(this,na,xa,"FeatureLayer")}async queryFeatures(na,xa){const Oa=await this.load();na=await Oa.source.queryFeatures(ta.from(na)??Oa.createQuery(),xa);if(na?.features)for(const Ua of na.features)Ua.layer=Ua.sourceLayer=Oa;return na}async queryObjectIds(na,xa){return ka.queryObjectIds(this,na,xa,"FeatureLayer")}async queryFeatureCount(na,xa){return ka.queryFeatureCount(this,
na,xa,"FeatureLayer")}async queryExtent(na,xa){return ka.queryExtent(this,na,xa,"FeatureLayer")}async queryRelatedFeatures(na,xa){return ka.queryRelatedFeatures(this,na,xa,"FeatureLayer")}async queryRelatedFeaturesCount(na,xa){return ka.queryRelatedFeaturesCount(this,na,xa,"FeatureLayer")}async queryTopFeatures(na,xa){const {source:Oa,capabilities:Ua}=await this.load();if(!Oa.queryTopFeatures||!Ua?.query?.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryTopFeatures capability");
na=await Oa.queryTopFeatures(Fa.from(na),xa);if(na?.features)for(const gb of na.features)gb.layer=gb.sourceLayer=this;return na}async queryTopObjectIds(na,xa){const {source:Oa,capabilities:Ua}=await this.load();if(!Oa.queryTopObjectIds||!Ua?.query.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryTopObjectIds capability");return Oa.queryTopObjectIds(Fa.from(na),xa)}async queryTopFeaturesExtent(na,xa){const {source:Oa,capabilities:Ua}=await this.load();if(!Oa.queryTopExtents||
!Ua?.query?.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryTopExtents capability");return Oa.queryTopExtents(Fa.from(na),xa)}async queryTopFeatureCount(na,xa){const {source:Oa,capabilities:Ua}=await this.load();if(!Oa.queryTopCount||!Ua?.query?.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryFeatureCount capability");return Oa.queryTopCount(Fa.from(na),xa)}read(na,xa){const Oa=na.featureCollection;if(Oa||"Feature Collection"===
na.type)this.resourceInfo=na;if(Oa){const Ua=Oa.layers;Ua&&1===Ua.length&&(super.read(Ua[0],xa),null!=Oa.showLegend&&super.read({showLegend:Oa.showLegend},xa))}super.read(na,xa);xa&&"service"===xa.origin&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(na,xa){xa={...xa,origin:xa?.origin??void 0,writeLayerSchema:xa?.writeLayerSchema??this._hasMemorySource()};const {origin:Oa,layerContainerType:Ua,
messages:gb}=xa;if(this.dynamicDataSource)return gb?.push(Ra(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(("web-map"===Oa||"web-scene"===Oa)&&"tables"!==Ua)return gb?.push(Ra(this,`a table source can only be written to tables, not ${Ua}`)),null;if(this._hasMemorySource())return gb?.push(Ra(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&("web-map"===
Oa||"web-scene"===Oa)&&"tables"===Ua)return gb?.push(Ra(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(na,xa)}clone(){if(this._hasMemorySource())throw new u("FeatureLayer",`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(na){return this.loaded?"memory"===this.source?.type?!0:ya.serviceSupportsSpatialReference(this,na):!1}async save(na){return this._debouncedSaveOperations(Qa.SaveOperationType.SAVE,
na)}async saveAs(na,xa){return this._debouncedSaveOperations(Qa.SaveOperationType.SAVE_AS,xa,na)}_readEditingEnabled(na,xa,Oa){let Ua=na.layerDefinition?.capabilities;if(Ua)return this._hasEditingCapability(Ua);Ua=na.capabilities;if(xa&&"web-map"===Oa?.origin&&!this._hasMemorySource()&&Ua)return this._hasEditingCapability(Ua)}_hasEditingCapability(na){return na.toLowerCase().split(",").map(xa=>xa.trim()).includes("editing")}_writeEditingEnabled(na,xa,Oa,Ua){na||(na=this.capabilities?.operations?.supportsSync?
"Query,Sync":"Query",x.setDeepValue("layerDefinition.capabilities",na,xa),Oa&&!Ua?.writeLayerSchema&&(xa.capabilities=na))}_getLayerDomain(na){return(na=this.fieldsIndex.get(na))?na.domain:null}_fetchFirstValidLayerId(na){return m(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:na}).then(xa=>{if(xa=xa.data)return this.findFirstValidLayerId(xa)})}async initLayerProperties(na){this._set("source",na);na.sourceJSON&&(this.sourceJSON=na.sourceJSON,this.read(na.sourceJSON,
{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}));this._verifySource();this._verifyFields();ja.fixRendererFields(this.renderer,this.fieldsIndex);ja.fixTimeInfoFields(this.timeInfo,this.fieldsIndex);return fa.loadStyleRenderer(this,{origin:"service"})}async hasDataChanged(){return ka.hasDataChanged(this)}async fetchPublishingStatus(){const na=this.source;return na?.fetchPublishingStatus?na.fetchPublishingStatus():"unavailable"}_verifyFields(){const na=
this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+na+")");this.isTable||this._hasMemorySource()||-1!==na.search(/\/FeatureServer\//i)||this.fields?.some(xa=>"geometry"===xa.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+na+")")}_fixTemplates(na,xa){na&&na.forEach(Oa=>{(Oa=Oa.prototype?.attributes)&&
xa&&delete Oa[xa]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new u("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new u("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");}_initMemorySource(na){na.forEach(xa=>{xa.layer=this;xa.sourceLayer=this});this.addHandles([na.on("after-add",xa=>{xa.item.layer=this;xa.item.sourceLayer=this}),
na.on("after-remove",xa=>{xa.item.layer=null;xa.item.sourceLayer=null})],"fl-source")}_resetMemorySource(na){na.forEach(xa=>{xa.layer=null;xa.sourceLayer=null});this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(na){if(Array.isArray(na.layers)&&0<na.layers.length)return na.layers[0].id;if(Array.isArray(na.tables)&&0<na.tables.length)return na.tables[0].id}};b.__decorate([I.reader("service","capabilities")],t.prototype,"readCapabilities",null);
b.__decorate([H.property({json:{origins:{"web-scene":{write:!1}},write:!0}})],t.prototype,"charts",void 0);b.__decorate([H.property({readOnly:!0})],t.prototype,"createQueryVersion",null);b.__decorate([H.property({json:{read:{source:"layerDefinition.copyrightText"}}})],t.prototype,"copyright",void 0);b.__decorate([H.property({json:{read:{source:"layerDefinition.displayField"}}})],t.prototype,"displayField",void 0);b.__decorate([H.property({types:h.symbolTypes,readOnly:!0})],t.prototype,"defaultSymbol",
void 0);b.__decorate([H.property({type:Ia.DataLayerSource})],t.prototype,"dynamicDataSource",void 0);b.__decorate([H.property({type:Boolean})],t.prototype,"editingEnabled",null);b.__decorate([I.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],t.prototype,"readEditingEnabled",null);b.__decorate([I.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],t.prototype,"readEditingEnabledFromWebMap",null);b.__decorate([G.writer(["portal-item",
"web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],t.prototype,"writeEditingEnabled",null);b.__decorate([G.writer("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],t.prototype,"writeEditingEnabledToWebMap",null);b.__decorate([H.property({readOnly:!0})],t.prototype,"effectiveEditingEnabled",null);b.__decorate([H.property({...e.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",
overridePolicy:Sa}}}}})],t.prototype,"fields",void 0);b.__decorate([H.property(e.fieldsIndex)],t.prototype,"fieldsIndex",void 0);b.__decorate([H.property({type:R,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"formTemplate",void 0);b.__decorate([H.property({json:{read:{source:"layerDefinition.extent"}}})],t.prototype,"fullExtent",void 0);b.__decorate([H.property({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Sa,writer(na,
xa,Oa){(na=na?ka.geometryTypeKebabDict.toJSON(na):null)&&x.setDeepValue(Oa,na,xa)}}}},read:{source:"layerDefinition.geometryType",reader:ka.geometryTypeKebabDict.read}}})],t.prototype,"geometryType",void 0);b.__decorate([H.property({json:{read:{source:"layerDefinition.hasM"}}})],t.prototype,"hasM",void 0);b.__decorate([H.property({json:{read:{source:"layerDefinition.hasZ"}}})],t.prototype,"hasZ",void 0);b.__decorate([H.property(ia.id)],t.prototype,"id",void 0);b.__decorate([H.property({readOnly:!0,
json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"infoFor3D",void 0);b.__decorate([H.property({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],t.prototype,"isTable",void 0);b.__decorate([I.reader("service","isTable",["type","geometryType"]),I.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],t.prototype,"readIsTable",null);b.__decorate([G.writer("web-map","isTable")],t.prototype,"writeIsTable",null);b.__decorate([H.property(ia.labelsVisible)],
t.prototype,"labelsVisible",void 0);b.__decorate([H.property({type:[M],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:S.reader,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:S.reader,write:{enabled:!0,layerContainerTypes:L.excludeTables}}},name:"layerDefinition.drawingInfo.labelingInfo",read:S.reader,write:!0}})],t.prototype,"labelingInfo",void 0);b.__decorate([H.property((()=>{const na=r.clone(ia.opacityDrawingInfo);na.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",
writer(xa,Oa,Ua){x.setDeepValue(Ua,Pa.opacityToTransparency(xa),Oa)}}};return na})())],t.prototype,"opacity",void 0);b.__decorate([H.property(ia.legendEnabled)],t.prototype,"legendEnabled",void 0);b.__decorate([H.property({type:["show","hide"],json:(()=>{const na=r.clone(ia.listMode.json);na.origins["portal-item"]={read:!1,write:!1};return na})()})],t.prototype,"listMode",void 0);b.__decorate([I.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],t.prototype,"readGlobalIdField",
null);b.__decorate([H.property({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Sa}}}}})],t.prototype,"objectIdField",void 0);b.__decorate([I.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],t.prototype,"readObjectIdField",null);b.__decorate([H.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],t.prototype,"operationalLayerType",void 0);b.__decorate([H.property(e.outFields)],t.prototype,"outFields",void 0);
b.__decorate([H.property({readOnly:!0})],t.prototype,"parsedUrl",null);b.__decorate([H.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],t.prototype,"path",void 0);b.__decorate([H.property(ia.popupEnabled)],t.prototype,"popupEnabled",void 0);b.__decorate([H.property({type:c,json:{name:"popupInfo",write:!0}})],t.prototype,"popupTemplate",void 0);b.__decorate([H.property({readOnly:!0})],t.prototype,"defaultPopupTemplate",null);b.__decorate([H.property({types:q.rendererTypes,
json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:q.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:L.excludeTables,overridePolicy(na,xa,Oa){return{ignoreOrigin:Oa?.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(na,xa,Oa){return{ignoreOrigin:Oa?.writeLayerSchema}}}}})],t.prototype,"renderer",null);b.__decorate([I.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),
I.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],t.prototype,"readRenderer",null);b.__decorate([H.property()],t.prototype,"resourceInfo",void 0);b.__decorate([H.property((()=>{const na=r.clone(ia.screenSizePerspectiveEnabled);na.json.origins["portal-item"]={read:!1,write:!1};return na})())],t.prototype,"screenSizePerspectiveEnabled",void 0);b.__decorate([H.property({clonable:!1})],t.prototype,"source",null);b.__decorate([N.cast("source")],t.prototype,
"castSource",null);b.__decorate([I.reader("portal-item","source",["featureSet"]),I.reader("web-map","source",["featureSet"])],t.prototype,"readSource",null);b.__decorate([H.property({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],t.prototype,"spatialReference",void 0);b.__decorate([H.property({type:Number})],t.prototype,"subtypeCode",void 0);b.__decorate([H.property({type:[Ba]})],t.prototype,"templates",void 0);b.__decorate([I.reader("templates",["editFieldsInfo","creatorField",
"editorField","templates"])],t.prototype,"readTemplates",null);b.__decorate([H.property({type:ma})],t.prototype,"timeInfo",void 0);b.__decorate([H.property()],t.prototype,"title",void 0);b.__decorate([I.reader("service","title",["name"]),I.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],t.prototype,"readTitle",null);b.__decorate([I.reader("web-map","title",["layerDefinition.name","title"])],t.prototype,"readTitleFromWebMap",null);b.__decorate([H.property({type:String})],
t.prototype,"sublayerTitleMode",void 0);b.__decorate([H.property({json:{read:!1}})],t.prototype,"type",void 0);b.__decorate([H.property({type:String})],t.prototype,"typeIdField",void 0);b.__decorate([I.reader("service","typeIdField"),I.reader("typeIdField",["layerDefinition.typeIdField"])],t.prototype,"readTypeIdField",null);b.__decorate([H.property({type:[W]})],t.prototype,"types",void 0);b.__decorate([I.reader("service","types",["types"]),I.reader("types",["layerDefinition.types"])],t.prototype,
"readTypes",null);b.__decorate([H.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],t.prototype,"visible",void 0);b.__decorate([I.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],t.prototype,"readVisible",null);return t=b.__decorate([E.subclass("esri.layers.FeatureLayer")],t)})},"esri/PopupTemplate":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/RelationshipContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A,C,H,N,I,E,G,L){v=c.ofType({key:"type",defaultKeyValue:"button",base:v,typeMap:{button:x,toggle:B}});const R={base:G,key:"type",typeMap:{media:A,custom:L,text:C,attachments:H,fields:N,expression:I,relationship:E}},F=new Set("attachments fields media text expression relationship".split(" "));b=class extends b.ClonableMixin(e.JSONSupport){constructor(){super(...arguments);this.actions=null;this.content="";this.layerOptions=this.fieldInfos=this.expressionInfos=
null;this.lastEditInfoEnabled=!0;this.outFields=null;this.returnGeometry=this.overwriteActions=!1;this.title=""}castContent(J){if(Array.isArray(J))return J.map(O=>q.ensureOneOfType(R,O));if("string"===typeof J||"function"===typeof J||J instanceof HTMLElement||n.isPromiseLike(J))return J;p.getLogger(this).error("content error","unsupported content value",{value:J});return null}readContent(J,O){({popupElements:J}=O);return Array.isArray(J)&&0<J.length?this._readPopupInfoElements(O.description,O.mediaInfos,
J):this._readPopupInfo(O)}writeContent(J,O,U,T){"string"===typeof J?O.description=J:Array.isArray(J)&&(O.popupElements=J.filter(Z=>F.has(Z.type)).map(Z=>Z?.toJSON(T)),O.popupElements.forEach(Z=>{"attachments"===Z.type?this._writeAttachmentContent(O):"media"===Z.type?this._writeMediaContent(Z,O):"text"===Z.type?this._writeTextContent(Z,O):"relationship"===Z.type&&this._writeRelationshipContent(Z,O)}))}writeFieldInfos(J,O,U,T){({content:U}=this);U=Array.isArray(U)?U:null;if(J){const Z=U?U.filter(qa=>
"fields"===qa.type):[],V=Z.length&&Z.every(qa=>qa.fieldInfos?.length);O.fieldInfos=J.filter(Boolean).map(qa=>{qa=qa.toJSON(T);V&&(qa.visible=!1);return qa})}if(U)for(const Z of U)"fields"===Z.type&&this._writeFieldsContent(Z,O)}writeLayerOptions(J,O,U,T){O[U]=!J||null===J.showNoDataRecords&&null===J.returnTopmostRaster?null:J.toJSON(T)}writeTitle(J,O){O.title=J||""}async collectRequiredFields(J,O){const U=this.expressionInfos||[];await this._collectExpressionInfoFields(J,O,[...U,...this._getContentExpressionInfos(this.content,
U)]);m.collectFields(J,O,[...(this.outFields||[]),...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(J){const O=new Set;await this.collectRequiredFields(O,J);return[...O].sort()}_writeFieldsContent(J,O){Array.isArray(J.fieldInfos)&&J.fieldInfos.length&&(J=d.clone(J.fieldInfos),Array.isArray(O.fieldInfos)?J.forEach(U=>{const T=O.fieldInfos.find(Z=>Z.fieldName?.toLowerCase()===U.fieldName?.toLowerCase());T?T.visible=
!0:O.fieldInfos.push(U)}):O.fieldInfos=J)}_writeAttachmentContent(J){J.showAttachments||(J.showAttachments=!0)}_writeRelationshipContent(J,O){var U=J.orderByFields?.map(T=>this._toFieldOrderJSON(T,J.relationshipId))||[];U=[...(O.relatedRecordsInfo?.orderByFields||[]),...U];O.relatedRecordsInfo={showRelatedRecords:!0,...(U?.length&&{orderByFields:U})}}_writeTextContent(J,O){!O.description&&J.text&&(O.description=J.text)}_writeMediaContent(J,O){Array.isArray(J.mediaInfos)&&J.mediaInfos.length&&(J=d.clone(J.mediaInfos),
Array.isArray(O.mediaInfos)?O.mediaInfos=[...O.mediaInfos,...J]:O.mediaInfos=J)}_readPopupInfoElements(J,O,U){var T=!1,Z=!1;return U.map(V=>{if("media"===V.type)return V.mediaInfos||!O||Z||(V.mediaInfos=O,Z=!0),A.fromJSON(V);if("text"===V.type)return V.text||!J||T||(V.text=J,T=!0),C.fromJSON(V);if("attachments"===V.type)return H.fromJSON(V);if("fields"===V.type)return N.fromJSON(V);if("expression"===V.type)return I.fromJSON(V);if("relationship"===V.type)return E.fromJSON(V)}).filter(Boolean)}_toRelationshipContent(J){const {field:O,
order:U}=J;if(!O?.startsWith("relationships/"))return null;var T=O.replace("relationships/","").split("/");if(2!==T.length)return null;J=parseInt(T[0],10);T=T[1];return"number"===typeof J&&T?E.fromJSON({relationshipId:J,orderByFields:[{field:T,order:U}]}):null}_toFieldOrderJSON(J,O){const {order:U,field:T}=J;return{field:`${"relationships/"}${O}/${T}`,order:U}}_readPopupInfo({description:J,mediaInfos:O,showAttachments:U,relatedRecordsInfo:T={showRelatedRecords:!1}}){const Z=[];J?Z.push(new C({text:J})):
Z.push(new N);Array.isArray(O)&&O.length&&Z.push(A.fromJSON({mediaInfos:O}));U&&Z.push(H.fromJSON({displayType:"auto"}));const {showRelatedRecords:V,orderByFields:qa}=T;V&&qa?.length&&qa.forEach(Ca=>{(Ca=this._toRelationshipContent(Ca))&&Z.push(Ca)});return Z.length?Z:J}_getContentElementFields(J){var O=J?.type;return"attachments"===O?[...this._extractFieldNames(J.title),...this._extractFieldNames(J.description)]:"custom"===O?J.outFields||[]:"fields"===O?[...this._extractFieldNames(J.title),...this._extractFieldNames(J.description),
...this._getFieldInfoFields(J.fieldInfos??this.fieldInfos)]:"media"===O?(O=J.mediaInfos||[],[...this._extractFieldNames(J.title),...this._extractFieldNames(J.description),...O.reduce((U,T)=>[...U,...this._getMediaInfoFields(T)],[])]):"text"===O?this._extractFieldNames(J.text):[]}_getMediaInfoFields(J){const {caption:O,title:U,value:T}=J,{fields:Z,normalizeField:V,tooltipField:qa,sourceURL:Ca,linkURL:va}=T||{};J=[...this._extractFieldNames(U),...this._extractFieldNames(O),...this._extractFieldNames(Ca),
...this._extractFieldNames(va),...(Z??[])];V&&J.push(V);qa&&J.push(qa);return J}_getContentExpressionInfos(J,O){return Array.isArray(J)?J.reduce((U,T)=>[...U,...("expression"===T.type&&T.expressionInfo?[T.expressionInfo]:[])],O):[]}_getContentFields(J){return"string"===typeof J?this._extractFieldNames(J):Array.isArray(J)?J.reduce((O,U)=>[...O,...this._getContentElementFields(U)],[]):[]}async _collectExpressionInfoFields(J,O,U){U&&await Promise.all(U.map(T=>m.collectArcadeFieldNames(J,O,T.expression)))}_getFieldInfoFields(J){return J?
J.filter(({fieldName:O,visible:U})=>(void 0===U||!!U)&&!!O&&!O.startsWith("relationships/")&&!O.startsWith("expression/")).map(O=>O.fieldName):[]}_getActionsFields(J){return J?J.toArray().reduce((O,U)=>[...O,...this._getActionFields(U)],[]):[]}_getActionFields(J){const {className:O,title:U,type:T}=J;J="button"===T||"toggle"===T?J.image:"";return[...this._extractFieldNames(U),...this._extractFieldNames(O),...this._extractFieldNames(J)]}_getTitleFields(J){return"string"===typeof J?this._extractFieldNames(J):
[]}_extractFieldNames(J){return m.extractSubstitutionTemplatesFromString(J).filter(O=>!(0===O.indexOf("relationships/")||0===O.indexOf("expression/")))}};a.__decorate([f.property({type:v})],b.prototype,"actions",void 0);a.__decorate([f.property()],b.prototype,"content",void 0);a.__decorate([g.cast("content")],b.prototype,"castContent",null);a.__decorate([k.reader("content","description fieldInfos popupElements mediaInfos showAttachments relatedRecordsInfo".split(" "))],b.prototype,"readContent",null);
a.__decorate([w.writer("content",{popupElements:{type:c.ofType(h.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:c.ofType(z.types)},description:{type:String},relatedRecordsInfo:{type:r}})],b.prototype,"writeContent",null);a.__decorate([f.property({type:[t],json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([f.property({type:[y]})],b.prototype,"fieldInfos",void 0);a.__decorate([w.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);a.__decorate([f.property({type:u})],
b.prototype,"layerOptions",void 0);a.__decorate([w.writer("layerOptions")],b.prototype,"writeLayerOptions",null);a.__decorate([f.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",void 0);a.__decorate([f.property()],b.prototype,"outFields",void 0);a.__decorate([f.property()],b.prototype,"overwriteActions",void 0);a.__decorate([f.property()],b.prototype,"returnGeometry",void 0);a.__decorate([f.property({json:{type:String}})],
b.prototype,"title",void 0);a.__decorate([w.writer("title")],b.prototype,"writeTitle",null);return b=a.__decorate([l.subclass("esri.PopupTemplate")],b)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/RelationshipContent ./content/TextContent".split(" "),function(a,b,c,e,d,p,n,f,g){const k={base:null,key:"type",typeMap:{attachment:b,media:n,
text:g,expression:d,field:p,relationship:f}};a.AttachmentsContent=b;a.BaseContent=c;a.CustomContent=e;a.ExpressionContent=d;a.FieldsContent=p;a.MediaContent=n;a.RelationshipContent=f;a.TextContent=g;a.isContent=function(l){return l instanceof c};a.persistableTypes=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,d,p,n){var f;c=f=class extends n{constructor(g){super(g);this.description=null;this.displayType="auto";this.title=null;this.type="attachments"}clone(){return new f({description:this.description,displayType:this.displayType,title:this.title})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);a.__decorate([b.property({type:["auto","preview","list"],json:{write:!0}})],c.prototype,"displayType",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],
c.prototype,"title",void 0);a.__decorate([b.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=f=a.__decorate([p.subclass("esri.popup.content.AttachmentsContent")],c)})},"esri/popup/content/Content":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){b=
class extends b.JSONSupport{constructor(f){super(f);this.type=null}};a.__decorate([c.property({type:"attachments custom fields media text expression relationship".split(" "),readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.popup.content.Content")],b)})},"esri/popup/content/CustomContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,d,p,n){var f;e=f=class extends n{constructor(g){super(g);this.outFields=this.destroyer=this.creator=null;this.type="custom"}clone(){return new f({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?b.clone(this.outFields):null})}};a.__decorate([c.property()],e.prototype,"creator",void 0);a.__decorate([c.property()],e.prototype,"destroyer",void 0);a.__decorate([c.property()],e.prototype,"outFields",void 0);a.__decorate([c.property({type:["custom"],
readOnly:!0})],e.prototype,"type",void 0);return e=f=a.__decorate([p.subclass("esri.popup.content.CustomContent")],e)})},"esri/popup/content/ExpressionContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),function(a,b,c,e,d,p,n,f){var g;c=g=class extends f{constructor(k){super(k);this.expressionInfo=null;this.type=
"expression"}clone(){return new g({expressionInfo:this.expressionInfo?.clone()})}};a.__decorate([b.property({type:n,json:{write:!0}})],c.prototype,"expressionInfo",void 0);a.__decorate([b.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=g=a.__decorate([p.subclass("esri.popup.content.ExpressionContent")],c)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){var f;b=f=class extends b.JSONSupport{constructor(g){super(g);this.expression=this.title=null;this.returnType="dictionary"}clone(){return new f({title:this.title,expression:this.expression})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([c.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"returnType",
void 0);return b=f=a.__decorate([n.subclass("esri.popup.ElementExpressionInfo")],b)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),function(a,b,c,e,d,p,n,f,g){var k;e=k=class extends g{constructor(l){super(l);this.title=this.fieldInfos=this.description=
this.attributes=null;this.type="fields"}writeFieldInfos(l,w){w.fieldInfos=l&&l.map(q=>q.toJSON())}clone(){return new k(b.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};a.__decorate([c.property({type:Object,json:{write:!0}})],e.prototype,"attributes",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"description",void 0);a.__decorate([c.property({type:[f]})],e.prototype,"fieldInfos",void 0);a.__decorate([n.writer("fieldInfos")],
e.prototype,"writeFieldInfos",null);a.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"title",void 0);a.__decorate([c.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=k=a.__decorate([p.subclass("esri.popup.content.FieldsContent")],e)})},"esri/popup/FieldInfo":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),
function(a,b,c,e,d,p,n,f,g,k){var l;c=l=class extends c.JSONSupport{constructor(w){super(w);this.fieldName=null;this.format=void 0;this.isEditable=!0;this.label=null;this.stringFieldOption="text-box";this.tooltip=this.statisticType=null;this.visible=!0}clone(){return new l({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};a.__decorate([e.property({type:String,
json:{write:!0}})],c.prototype,"fieldName",void 0);a.__decorate([e.property({type:k,json:{write:!0}})],c.prototype,"format",void 0);a.__decorate([e.property({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],c.prototype,"isEditable",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);a.__decorate([f.enumeration(new b.JSONMap({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],c.prototype,"stringFieldOption",
void 0);a.__decorate([e.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],c.prototype,"statisticType",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"tooltip",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"visible",void 0);return c=l=a.__decorate([g.subclass("esri.popup.FieldInfo")],c)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date".split(" "),
function(a,b,c,e,d,p,n,f,g,k){b=class extends b.ClonableMixin(c.JSONSupport){constructor(l){super(l);this.dateFormat=null;this.digitSeparator=!1;this.places=null}};a.__decorate([f.enumeration(k.dateFormatJSONMap)],b.prototype,"dateFormat",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);a.__decorate([e.property({type:d.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=a.__decorate([g.subclass("esri.popup.support.FieldInfoFormat")],
b)})},"esri/popup/content/MediaContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){var t;
e=t=class extends l{constructor(y){super(y);this.title=this.mediaInfos=this.description=this.attributes=this.activeMediaInfoIndex=null;this.type="media"}readMediaInfos(y){return y&&y.map(u=>{if("image"===u.type)return w.fromJSON(u);if("barchart"===u.type)return g.fromJSON(u);if("columnchart"===u.type)return k.fromJSON(u);if("linechart"===u.type)return q.fromJSON(u);if("piechart"===u.type)return m.fromJSON(u)}).filter(Boolean)}writeMediaInfos(y,u){u.mediaInfos=y&&y.map(r=>r.toJSON())}clone(){return new t(b.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,
attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};a.__decorate([c.property()],e.prototype,"activeMediaInfoIndex",void 0);a.__decorate([c.property({type:Object,json:{write:!0}})],e.prototype,"attributes",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"description",void 0);a.__decorate([c.property({types:[h.types]})],e.prototype,"mediaInfos",void 0);a.__decorate([p.reader("mediaInfos")],e.prototype,"readMediaInfos",
null);a.__decorate([f.writer("mediaInfos")],e.prototype,"writeMediaInfos",null);a.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"title",void 0);a.__decorate([c.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=t=a.__decorate([n.subclass("esri.popup.content.MediaContent")],e)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,d,p,n,f){var g;c=g=class extends n{constructor(k){super(k);this.type="bar-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:f.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=g=a.__decorate([p.subclass("esri.popup.content.BarChartMediaInfo")],c)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,c,e,d,p,n,f){c=class extends n{constructor(g){super(g);this.type=null;this.value=void 0}};a.__decorate([b.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:f,json:{write:!0}})],c.prototype,"value",void 0);return c=a.__decorate([p.subclass("esri.popup.content.mixins.ChartMediaInfo")],c)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){b=class extends b.JSONSupport{constructor(f){super(f);this.altText=null;this.title=this.caption="";this.type=null}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"altText",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,
json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.popup.content.mixins.MediaInfo")],b)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),function(a,b,c,e,d,p,n,f){var g;
c=g=class extends c.JSONSupport{constructor(k){super(k);this.colors=null;this.fields=[];this.normalizeField=null;this.series=[];this.tooltipField=null}clone(){return new g({colors:e.clone(this.colors),fields:e.clone(this.fields),normalizeField:this.normalizeField,series:e.clone(this.series),tooltipField:this.tooltipField})}};a.__decorate([d.property({type:[b],json:{type:[[p.Integer]],write:!0}})],c.prototype,"colors",void 0);a.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"fields",
void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"normalizeField",void 0);a.__decorate([d.property({type:[f],json:{read:!1}})],c.prototype,"series",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){var f;b=f=class extends b{constructor(g){super(g);this.value=this.tooltip=this.fieldName=this.color=null}clone(){return new f({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};a.__decorate([c.property()],b.prototype,"color",void 0);a.__decorate([c.property()],b.prototype,"fieldName",void 0);a.__decorate([c.property()],b.prototype,"tooltip",void 0);a.__decorate([c.property()],b.prototype,"value",void 0);return b=f=a.__decorate([n.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],
b)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,d,p,n,f){var g;c=g=class extends n{constructor(k){super(k);this.type="column-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:f.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=g=a.__decorate([p.subclass("esri.popup.content.ColumnChartMediaInfo")],c)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(a,b,c,e,d,p,n,f){var g;c=g=class extends n{constructor(k){super(k);this.refreshInterval=0;this.type="image";this.value=void 0}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"refreshInterval",void 0);a.__decorate([b.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:f,
json:{write:!0}})],c.prototype,"value",void 0);return c=g=a.__decorate([p.subclass("esri.popup.content.ImageMediaInfo")],c)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){var f;b=f=class extends b.JSONSupport{constructor(g){super(g);
this.sourceURL=this.linkURL=null}clone(){return new f({linkURL:this.linkURL,sourceURL:this.sourceURL})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=f=a.__decorate([n.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,d,p,n,f){var g;c=g=class extends n{constructor(k){super(k);this.type="line-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:f.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=g=a.__decorate([p.subclass("esri.popup.content.LineChartMediaInfo")],c)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,d,p,n,f){var g;c=g=class extends n{constructor(k){super(k);this.type="pie-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:f.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=g=a.__decorate([p.subclass("esri.popup.content.PieChartMediaInfo")],c)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,c,e,d,p,n){a.types={base:n,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":c,"line-chart":d,"pie-chart":p,image:e}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/RelationshipContent":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass ./Content ../support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,e,d,p,n,f,g){b=class extends b.ClonableMixin(f){constructor(k){super(k);this.displayCount=this.description=null;this.displayType="list";this.title=this.relationshipId=this.orderByFields=null;this.type="relationship"}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:Number,json:{type:e.Integer,write:!0}})],b.prototype,"displayCount",void 0);a.__decorate([c.property({type:["list"],json:{write:!0}})],b.prototype,
"displayType",void 0);a.__decorate([c.property({type:[g],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([c.property({type:Number,json:{type:e.Integer,write:!0}})],b.prototype,"relationshipId",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.popup.content.RelationshipContent")],b)})},
"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){var f;b=f=class extends b.JSONSupport{constructor(g){super(g);this.order=this.field=null}clone(){return new f({field:this.field,order:this.order})}};a.__decorate([c.property({type:String,json:{write:!0}})],
b.prototype,"field",void 0);a.__decorate([c.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=f=a.__decorate([n.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)})},"esri/popup/content/TextContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Content".split(" "),function(a,b,c,e,d,p,n){var f;c=f=class extends n{constructor(g){super(g);
this.text=null;this.type="text"}clone(){return new f({text:this.text})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);a.__decorate([b.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=f=a.__decorate([p.subclass("esri.popup.content.TextContent")],c)})},"esri/popup/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){var f;b=f=class extends b.JSONSupport{constructor(g){super(g);this.returnType=this.expression=this.title=this.name=null}clone(){return new f({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"expression",
void 0);a.__decorate([c.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=f=a.__decorate([n.subclass("esri.popup.ExpressionInfo")],b)})},"esri/popup/LayerOptions":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){var f;b=f=class extends b.JSONSupport{constructor(g){super(g);this.showNoDataRecords=
this.returnTopmostRaster=null}clone(){return new f({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};a.__decorate([c.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);a.__decorate([c.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=f=a.__decorate([n.subclass("esri.popup.LayerOptions")],b)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,e,d,p,n,f){var g;b=g=class extends b.JSONSupport{constructor(k){super(k);this.orderByFields=this.showRelatedRecords=null}clone(){return new g({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?c.clone(this.orderByFields):null})}};a.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);a.__decorate([e.property({type:[f],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=g=a.__decorate([n.subclass("esri.popup.RelatedRecordsInfo")],
b)})},"esri/support/actions/ActionBase":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f){var g;b=g=class extends c.IdentifiableMixin(b){constructor(k){super(k);this.active=!1;this.className=null;this.disabled=!1;this.id=this.icon=null;this.indicator=!1;this.type=this.title=null;
this.visible=!0}clone(){return new g({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};a.__decorate([e.property()],b.prototype,"active",void 0);a.__decorate([e.property()],b.prototype,"className",void 0);a.__decorate([e.property()],b.prototype,"disabled",void 0);a.__decorate([e.property()],b.prototype,"icon",void 0);a.__decorate([e.property()],b.prototype,"id",void 0);a.__decorate([e.property()],
b.prototype,"indicator",void 0);a.__decorate([e.property()],b.prototype,"title",void 0);a.__decorate([e.property()],b.prototype,"type",void 0);a.__decorate([e.property()],b.prototype,"visible",void 0);return b=g=a.__decorate([f.subclass("esri.support.actions.ActionBase")],b)})},"esri/support/actions/ActionButton":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,e,d,p,n){var f;c=f=class extends n{constructor(g){super(g);this.image=null;this.type="button"}clone(){return new f({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};a.__decorate([b.property()],c.prototype,"image",void 0);return c=f=a.__decorate([p.subclass("esri.support.actions.ActionButton")],c)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,e,d,p,n){var f;c=f=class extends n{constructor(g){super(g);this.image=null;this.type="toggle";this.value=!1}clone(){return new f({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};a.__decorate([b.property()],c.prototype,"image",void 0);a.__decorate([b.property()],c.prototype,"value",void 0);return c=f=a.__decorate([p.subclass("esri.support.actions.ActionToggle")],
c)})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/tslib.es6 ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r){var z;c=new c.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const v=w.ensureType(t);m=z=class extends h.VisualVariablesMixin(m){constructor(x){super(x);this._compiledValueExpression={valueExpression:null,compiledFunction:null};this.field=this.defaultSymbol=this.defaultLabel=this.classBreakInfos=this.backgroundFillSymbol=null;this.isMaxInclusive=!0;this.normalizationTotal=this.normalizationField=
this.legendOptions=null;this.type="class-breaks";this.valueExpressionTitle=this.valueExpression=null;this._set("classBreakInfos",[])}readClassBreakInfos(x,B,A){if(Array.isArray(x)){var C=B.minValue;return x.map(H=>{const N=new t;N.read(H,A);null==N.minValue&&(N.minValue=C);null==N.maxValue&&(N.maxValue=N.minValue);C=N.maxValue;return N})}}writeClassBreakInfos(x,B,A,C){x=x.map(H=>H.write({},C));this._areClassBreaksConsecutive()&&x.forEach(H=>delete H.classMinValue);B[A]=x}castField(x){return null==
x?x:"function"===typeof x?(d.getLogger(this).error(".field: field must be a string value"),null):w.ensureString(x)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let x=this._get("normalizationType");const B=!!this.normalizationField,A=null!=this.normalizationTotal;if(B||A)x=B&&"field"||A&&"percent-of-total"||null,B&&A&&d.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===
x||"percent-of-total"===x)x=null;return x}set normalizationType(x){this._set("normalizationType",x)}addClassBreakInfo(x,B,A){let C=null;C="number"===typeof x?new t({minValue:x,maxValue:B,symbol:b.ensureType(A)}):v(e.clone(x));this.classBreakInfos.push(C);1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(x,B){const A=this.classBreakInfos.length;for(let C=0;C<A;C++){const H=[this.classBreakInfos[C].minValue,this.classBreakInfos[C].maxValue];if(H[0]===x&&H[1]===B){this.classBreakInfos.splice(C,
1);break}}}getBreakIndex(x,B){this.valueExpression&&null==B?.arcade&&d.getLogger(this).warn("");return this.valueExpression?this._getBreakIndexForExpression(x,B):this._getBreakIndexForField(x)}async getClassBreakInfo(x,B){let A=B;this.valueExpression&&null==B?.arcade&&(A={...A,arcade:await r.loadArcade()});x=this.getBreakIndex(x,A);return-1!==x?this.classBreakInfos[x]:null}getSymbol(x,B){if(this.valueExpression&&null==B?.arcade)d.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");
else return x=this.getBreakIndex(x,B),-1<x?this.classBreakInfos[x].symbol:this.defaultSymbol}async getSymbolAsync(x,B){let A=B;if(this.valueExpression&&null==B?.arcade){B=await r.loadArcade();const {arcadeUtils:C}=B;C.hasGeometryOperations(this.valueExpression)&&await C.enableGeometryOperations();A={...A,arcade:B}}x=this.getBreakIndex(x,A);return-1<x?this.classBreakInfos[x].symbol:this.defaultSymbol}getSymbols(){const x=[];this.classBreakInfos.forEach(B=>{B.symbol&&x.push(B.symbol)});this.defaultSymbol&&
x.push(this.defaultSymbol);return x}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((x,B)=>x+B.getAttributeHash(),"")}getMeshHash(){const x=JSON.stringify(this.backgroundFillSymbol),B=JSON.stringify(this.defaultSymbol),A=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,C=this.classBreakInfos.reduce((H,N)=>H+N.getMeshHash(),"");return`${x}.${B}.${C}.${A}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||
!!this.valueExpression}clone(){return new z({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:e.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:e.clone(this.visualVariables),
legendOptions:e.clone(this.legendOptions),authoringInfo:e.clone(this.authoringInfo)})}async collectRequiredFields(x,B){x=[this.collectVVRequiredFields(x,B),this.collectSymbolFields(x,B)];await Promise.all(x)}async collectSymbolFields(x,B){const A=[...this.getSymbols().map(C=>C.collectRequiredFields(x,B)),q.collectArcadeFieldNames(x,B,this.valueExpression)];q.collectField(x,B,this.field);q.collectField(x,B,this.normalizationField);await Promise.all(A)}_getBreakIndexForExpression(x,B){const {viewingMode:A,
scale:C,spatialReference:H,arcade:N,timeZone:I}=B??{};({valueExpression:B}=this);var E=this._compiledValueExpression.valueExpression===B?this._compiledValueExpression.compiledFunction:null;const G=N.arcadeUtils;E||(E=G.createSyntaxTree(B),E=G.createFunction(E),this._compiledValueExpression.compiledFunction=E);this._compiledValueExpression.valueExpression=B;x=G.executeFunction(E,G.createExecContext(x,G.getViewInfo({viewingMode:A,scale:C,spatialReference:H}),I));return this._getBreakIndexfromInfos(x)}_getBreakIndexForField(x){var B=
x.attributes;x=this.normalizationType;let A=parseFloat(B[this.field]);if(x){const C=this.normalizationTotal;B=parseFloat(this.normalizationField?B[this.normalizationField]:void 0);if("log"===x)A=Math.log(A)*Math.LOG10E;else if("percent-of-total"===x&&null!=C&&!isNaN(C))A=A/C*100;else if("field"===x&&!isNaN(B)){if(isNaN(A)||isNaN(B))return-1;A/=B}}return this._getBreakIndexfromInfos(A)}_getBreakIndexfromInfos(x){const B=this.isMaxInclusive;if(null!=x&&"number"===typeof x&&!isNaN(x))for(let A=0;A<this.classBreakInfos.length;A++){const C=
[this.classBreakInfos[A].minValue,this.classBreakInfos[A].maxValue];if(C[0]<=x&&(B?x<=C[1]:x<C[1]))return A}return-1}_areClassBreaksConsecutive(){const x=this.classBreakInfos,B=x.length;for(let A=1;A<B;A++)if(x[A-1].maxValue!==x[A].minValue)return!1;return!0}};a.__decorate([p.property(y.rendererBackgroundFillSymbolProperty)],m.prototype,"backgroundFillSymbol",void 0);a.__decorate([p.property({type:[t]})],m.prototype,"classBreakInfos",void 0);a.__decorate([g.reader("classBreakInfos")],m.prototype,
"readClassBreakInfos",null);a.__decorate([l.writer("classBreakInfos")],m.prototype,"writeClassBreakInfos",null);a.__decorate([p.property({type:String,json:{write:!0}})],m.prototype,"defaultLabel",void 0);a.__decorate([p.property(y.rendererSymbolProperty)],m.prototype,"defaultSymbol",void 0);a.__decorate([p.property({type:String,json:{write:!0}})],m.prototype,"field",void 0);a.__decorate([n.cast("field")],m.prototype,"castField",null);a.__decorate([p.property({type:Boolean})],m.prototype,"isMaxInclusive",
void 0);a.__decorate([p.property({type:u.LegendOptions,json:{write:!0}})],m.prototype,"legendOptions",void 0);a.__decorate([p.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],m.prototype,"minValue",null);a.__decorate([p.property({type:String,json:{write:!0}})],m.prototype,"normalizationField",void 0);a.__decorate([p.property({type:Number,cast:x=>w.ensureNumber(x),
json:{write:!0}})],m.prototype,"normalizationTotal",void 0);a.__decorate([p.property({type:c.apiValues,value:null,json:{type:c.jsonValues,read:c.read,write:c.write}})],m.prototype,"normalizationType",null);a.__decorate([f.enumeration({classBreaks:"class-breaks"})],m.prototype,"type",void 0);a.__decorate([p.property({type:String,json:{write:!0}})],m.prototype,"valueExpression",void 0);a.__decorate([p.property({type:String,json:{write:!0}})],m.prototype,"valueExpressionTitle",void 0);return m=z=a.__decorate([k.subclass("esri.renderers.ClassBreaksRenderer")],
m)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A,C,H,N,I,E,G,L,R){const F={base:A,key:"type",typeMap:{"simple-fill":v,"picture-fill":y,"picture-marker":u,"simple-line":x,"simple-marker":B,text:N,"label-3d":k,"line-3d":l,"mesh-3d":m,"point-3d":r,"polygon-3d":z,"web-style":G,cim:e},errorContext:"symbol"},J={base:A,key:"type",typeMap:{"picture-marker":u,"simple-marker":B,"point-3d":r,cim:e},errorContext:"symbol"},O={base:A,key:"type",typeMap:{"simple-line":x,"line-3d":l,cim:e},errorContext:"symbol"},
U={base:A,key:"type",typeMap:{"simple-fill":v,"picture-fill":y,"polygon-3d":z,cim:e},errorContext:"symbol"},T={base:A,key:"type",typeMap:{"picture-marker":u,"simple-marker":B,text:N,"web-style":G,cim:e},errorContext:"symbol"};c=c.createTypeReader({types:F});const Z={base:A,key:"type",typeMap:{"simple-fill":v,"picture-fill":y,"picture-marker":u,"simple-line":x,"simple-marker":B,text:N,"line-3d":l,"mesh-3d":m,"point-3d":r,"polygon-3d":z,"web-style":G,cim:e},errorContext:"symbol"},V={base:A,key:"type",
typeMap:{text:N,"label-3d":k},errorContext:"symbol"},qa={base:A,key:"type",typeMap:{"label-3d":k,"line-3d":l,"mesh-3d":m,"point-3d":r,"polygon-3d":z,"web-style":G},errorContext:"symbol"},Ca={base:A,key:"type",typeMap:{"line-3d":l,"mesh-3d":m,"point-3d":r,"polygon-3d":z,"web-style":G,cim:e},errorContext:"symbol"},va={base:A,key:"type",typeMap:{"label-3d":k},errorContext:"symbol"};b=b.ensureOneOfType(F);a.CIMSymbol=e;a.ExtrudeSymbol3DLayer=d;a.BaseFillSymbol=p;a.FillSymbol3DLayer=n;a.Font=f;a.IconSymbol3DLayer=
g;a.LabelSymbol3D=k;a.LineSymbol3D=l;a.LineSymbol3DLayer=w;a.BaseMarkerSymbol=q;a.MeshSymbol3D=m;a.ObjectSymbol3DLayer=h;a.PathSymbol3DLayer=t;a.PictureFillSymbol=y;a.PictureMarkerSymbol=u;a.PointSymbol3D=r;a.PolygonSymbol3D=z;a.SimpleFillSymbol=v;a.SimpleLineSymbol=x;a.SimpleMarkerSymbol=B;a.BaseSymbol=A;a.BaseSymbol3D=C;a.BaseSymbol3DLayer=H;a.TextSymbol=N;a.TextSymbol3DLayer=I;a.WaterSymbol3DLayer=E;a.WebStyleSymbol=G;a.LineCallout3D=L;a.LineCallout3DBorder=R;a.ensureType=b;a.isSymbol=function(ra){return ra instanceof
A};a.isSymbol2D=function(ra){if(!ra)return!1;switch(ra.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(ra){if(!ra)return!1;switch(ra.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};a.lineSymbolTypes=O;a.pointSymbolTypes=J;a.polygonSymbolTypes=U;a.readSymbol=c;a.symbolTypes=F;a.symbolTypes3D=qa;a.symbolTypesCluster=
T;a.symbolTypesLabel=V;a.symbolTypesLabel3D=va;a.symbolTypesRenderer=Z;a.symbolTypesRenderer3D=Ca;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/CIMSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w){var q;d=q=class extends w{constructor(m){super(m);this.data=null;this.type="cim"}readData(m,h){return h}writeData(m,h){Object.assign(h,m)}async collectRequiredFields(m,h){if("CIMSymbolReference"===this.data?.type){var t=this.data.primitiveOverrides;t&&(t=t.map(y=>(y=y.valueExpressionInfo)?l.collectArcadeFieldNames(m,h,y.expression):null),await Promise.all(t))}}clone(){return new q({data:b.clone(this.data)})}hash(){return c.numericHash(JSON.stringify(this.data)).toString()}};
a.__decorate([e.property({json:{write:!1}})],d.prototype,"color",void 0);a.__decorate([e.property({json:{write:!0}})],d.prototype,"data",void 0);a.__decorate([f.reader("data",["symbol"])],d.prototype,"readData",null);a.__decorate([k.writer("data",{})],d.prototype,"writeData",null);a.__decorate([n.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],d.prototype,"type",void 0);return d=q=a.__decorate([g.subclass("esri.symbols.CIMSymbol")],d)})},"esri/symbols/Symbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g,k){c=new c.JSONMap({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let l=0;e=class extends e.JSONSupport{constructor(w){super(w);this.id=`sym${l++}`;this.type=null;this.color=new b([0,
0,0,1])}readColor(w){return null!=w?.[0]?[w[0],w[1],w[2],w[3]/255]:w}async collectRequiredFields(w,q){}hash(){return JSON.stringify(this.toJSON())}clone(){}};a.__decorate([d.property({type:c.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:c.write}}})],e.prototype,"type",void 0);a.__decorate([d.property({type:b,json:{write:{allowNull:!0}}})],e.prototype,"color",void 0);a.__decorate([g.reader("color")],e.prototype,"readColor",null);return e=a.__decorate([k.subclass("esri.symbols.Symbol")],
e)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,b,c,e,d,p,n,f,g,k){var l;c=l=class extends f{constructor(w){super(w);this.type="extrude";this.size=1;this.material=null;this.castShadows=!0;this.edges=null}clone(){return new l({edges:this.edges?.clone(),
enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};a.__decorate([p.enumeration({Extrude:"extrude"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],c.prototype,"size",void 0);a.__decorate([b.property({type:k.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,
"castShadows",void 0);a.__decorate([b.property(g.symbol3dEdgesProperty)],c.prototype,"edges",void 0);return c=l=a.__decorate([n.subclass("esri.symbols.ExtrudeSymbol3DLayer")],c)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),function(a,b,c,e,d,p,n,f){b=class extends b.JSONSupport{constructor(g){super(g);
this.enabled=!0;this.type=null;this.ignoreDrivers=!1}writeEnabled(g,k,l){g||(k[l]=g)}};a.__decorate([c.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);a.__decorate([f.writer("enabled")],b.prototype,"writeEnabled",null);a.__decorate([c.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.symbols.Symbol3DLayer")],b)})},"esri/symbols/edges/utils":function(){define(["exports",
"./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,c,e){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:e,sketch:c}},json:{write:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k){c=class extends c.JSONSupport{constructor(l){super(l);this.color=new b([0,0,0,1]);this.extensionLength=0;this.size=d.px2pt(1)}clone(){}cloneProperties(){return{color:e.clone(this.color),size:this.size,extensionLength:this.extensionLength}}};a.__decorate([p.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);a.__decorate([p.property(k.colorAndTransparencyProperty)],c.prototype,"color",void 0);a.__decorate([p.property({...k.screenSizeProperty,
json:{write:{overridePolicy(l){return{enabled:!!l}}}}})],c.prototype,"extensionLength",void 0);a.__decorate([p.property(k.screenSizeProperty)],c.prototype,"size",void 0);return c=a.__decorate([g.subclass("esri.symbols.edges.Edges3D")],c)})},"esri/symbols/support/materialUtils":function(){define(["exports","../../Color","../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,c,e,d){c={type:Number,cast:c.toPt,json:{write:!0}};a.colorAndTransparencyProperty=
{type:b,json:{type:[e.Integer],default:null,read:{source:["color","transparency"],reader:function(p,n){p=null!=n.transparency?d.transparencyToOpacity(n.transparency):1;return(n=n.color)&&Array.isArray(n)?new b([n[0]||0,n[1]||0,n[2]||0,p]):null}},write:{target:{color:{type:[e.Integer]},transparency:{type:e.Integer}},writer:function(p,n){n.color=p.toJSON().slice(0,3);p=d.opacityToTransparency(p.a);0!==p&&(n.transparency=p)}}}};a.screenSizeProperty=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,b,c,e,d,p,n,f){var g;b=g=class extends f{constructor(k){super(k);this.type="sketch"}clone(){return new g(this.cloneProperties())}};a.__decorate([p.enumeration({sketch:"sketch"},{readOnly:!0})],b.prototype,"type",void 0);return b=
g=a.__decorate([n.subclass("esri.symbols.edges.SketchEdges3D")],b)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,b,c,e,d,p,n,f){var g;b=g=class extends f{constructor(k){super(k);this.type="solid"}clone(){return new g(this.cloneProperties())}};a.__decorate([p.enumeration({solid:"solid"},
{readOnly:!0})],b.prototype,"type",void 0);return b=g=a.__decorate([n.subclass("esri.symbols.edges.SolidEdges3D")],b)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,c,e,d,p,n,f,g){var k;a.Symbol3DMaterial=k=class extends c.JSONSupport{constructor(l){super(l);
this.color=null}clone(){const l={color:null!=this.color?this.color.clone():null};return new k(l)}};b.__decorate([e.property(g.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=k=b.__decorate([f.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),
function(a,b,c,e,d,p,n,f){c=class extends f{constructor(g){super(g);this.type=this.outline=null}hash(){return`${this.type}.${this.outline?.hash()}`}};a.__decorate([b.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":n}},json:{default:null,write:!0}})],c.prototype,"outline",void 0);a.__decorate([b.property({type:["simple-fill","picture-fill"],readOnly:!0})],c.prototype,"type",void 0);return c=a.__decorate([p.subclass("esri.symbols.FillSymbol")],c)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){var w;b=new b.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});k=w=class extends k{constructor(...q){super(...q);this.type="simple-line";this.style="solid";this.join=
this.cap="round";this.marker=null;this.miterLimit=2}normalizeCtorArgs(q,m,h,t,y,u){if(q&&"string"!==typeof q)return q;const r={};null!=q&&(r.style=q);null!=m&&(r.color=m);null!=h&&(r.width=e.toPt(h));null!=t&&(r.cap=t);null!=y&&(r.join=y);null!=u&&(r.miterLimit=e.toPt(u));return r}clone(){return new w({color:c.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};
a.__decorate([f.enumeration({esriSLS:"simple-line"},{readOnly:!0})],k.prototype,"type",void 0);a.__decorate([d.property({type:b.apiValues,json:{read:b.read,write:b.write}})],k.prototype,"style",void 0);a.__decorate([d.property({type:["butt","round","square"],json:{write:{overridePolicy:(q,m,h)=>({enabled:"round"!==q&&null==h?.origin})}}})],k.prototype,"cap",void 0);a.__decorate([d.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(q,m,h)=>({enabled:"round"!==q&&null==h?.origin})}}})],
k.prototype,"join",void 0);a.__decorate([d.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":l}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],k.prototype,"marker",void 0);a.__decorate([d.property({type:Number,json:{read:!1,write:!1}})],k.prototype,"miterLimit",void 0);return k=w=a.__decorate([g.subclass("esri.symbols.SimpleLineSymbol")],k)})},"esri/symbols/LineSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,e,d,p,n,f,g){e=class extends g{constructor(k){super(k);this.type="simple-line";this.width=.75}hash(){return`${this.type}.${this.width}`}};a.__decorate([n.enumeration({esriSLS:"simple-line"},{readOnly:!0})],e.prototype,"type",void 0);a.__decorate([c.property({type:Number,cast:b.toPt,json:{write:!0}})],e.prototype,"width",void 0);return e=a.__decorate([f.subclass("esri.symbols.LineSymbol")],e)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/lineMarkers".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w){var q;c=q=class extends c.JSONSupport{constructor(m){super(m);this.placement="begin-end";this.type="line-marker";this.style="arrow"}writeStyle(m,h,t,y){h[t]="web-map"===y?.origin?"arrow":m}set color(m){this._set("color",m)}readColor(m){return null!=m?.[0]?[m[0],m[1],m[2],m[3]/255]:m}writeColor(m,h,t,y){"web-map"!==y?.origin&&(h[t]=m)}clone(){return new q({color:e.clone(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};
a.__decorate([d.property({type:["begin","end","begin-end"],json:{write:!0}})],c.prototype,"placement",void 0);a.__decorate([f.enumeration({"line-marker":"line-marker"},{readOnly:!0}),d.property({json:{origins:{"web-map":{write:!1}}}})],c.prototype,"type",void 0);a.__decorate([d.property({type:w.lineMarkerStyles})],c.prototype,"style",void 0);a.__decorate([l.writer("style")],c.prototype,"writeStyle",null);a.__decorate([d.property({type:b,value:null,json:{write:{allowNull:!0}}})],c.prototype,"color",
null);a.__decorate([g.reader("color")],c.prototype,"readColor",null);a.__decorate([l.writer("color")],c.prototype,"writeColor",null);return c=q=a.__decorate([k.subclass("esri.symbols.LineSymbolMarker")],c)})},"esri/symbols/support/lineMarkers":function(){define(["exports"],function(a){a.lineMarkerPlacements=["begin","end","begin-end"];a.lineMarkerStyles="arrow circle square diamond cross x".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){var t;c=t=class extends f{constructor(y){super(y);this.type="fill";this.pattern=this.material=null;this.castShadows=!0;this.edges=this.outline=null}clone(){const y={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new t(y)}static fromSimpleFillSymbol(y){const u=
y.outline&&y.outline.style&&"solid"!==y.outline.style?new k({style:y.outline.style}):null,r={size:y.outline?.width??0,color:(y.outline?.color??q.white).clone(),pattern:u};u&&y.outline?.cap&&(r.patternCap=y.outline.cap);return new t({material:new m.Symbol3DFillMaterial({color:(y.color??q.transparentWhite).clone()}),pattern:y.style&&"solid"!==y.style?new l({style:y.style}):null,outline:r})}};a.__decorate([p.enumeration({Fill:"fill"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:m.Symbol3DFillMaterial,
json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property(w.symbol3dPatternProperty)],c.prototype,"pattern",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);a.__decorate([b.property({type:h.Symbol3DOutline,json:{write:!0}})],c.prototype,"outline",void 0);a.__decorate([b.property(g.symbol3dEdgesProperty)],c.prototype,"edges",void 0);return c=t=a.__decorate([n.subclass("esri.symbols.FillSymbol3DLayer")],c)})},
"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),function(a,b,c,e,d,p,n,f,g,k){var l;b=b.strict()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",
null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});g=l=class extends g{constructor(w){super(w);this.type="style";this.style="solid"}clone(){return new l({style:this.style})}};a.__decorate([c.property({type:["style"]})],g.prototype,"type",void 0);a.__decorate([n.enumeration(b),c.property({type:k.lineStyles})],g.prototype,"style",void 0);return g=l=a.__decorate([f.subclass("esri.symbols.patterns.LineStylePattern3D")],
g)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){b=class extends b.JSONSupport{constructor(f){super(f)}clone(){throw Error("Subclasses of LinePattern3D should implement their own clone method.");}};a.__decorate([c.property({type:["style"],readOnly:!0,json:{read:!0,
write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.symbols.patterns.LinePattern3D")],b)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),
function(a,b,c,e,d,p,n,f){var g;c=g=class extends n{constructor(k){super(k);this.type="style";this.style="solid"}clone(){return new g({style:this.style})}};a.__decorate([b.property({type:["style"]})],c.prototype,"type",void 0);a.__decorate([b.property({type:f,json:{read:!0,write:!0}})],c.prototype,"style",void 0);return c=g=a.__decorate([p.subclass("esri.symbols.patterns.StylePattern3D")],c)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){b=class extends b.JSONSupport{constructor(f){super(f);this.type="style"}clone(){throw Error("Subclasses of Pattern3D should implement their own clone method.");}};a.__decorate([c.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.symbols.patterns.Pattern3D")],b)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["exports","./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,c,e,d){e={types:{key:"type",base:e,typeMap:{style:d}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:c}},json:{write:!0}};a.symbol3dPatternProperty=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,b){const c=new b("white"),
e=new b("black");b=new b([255,255,255,0]);a.black=e;a.isBlack=function(d){return 0===d.r&&0===d.g&&0===d.b};a.transparentWhite=b;a.white=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Symbol3DMaterial".split(" "),function(a,
b,c,e,d,p,n,f,g){var k;a.Symbol3DFillMaterial=k=class extends g.Symbol3DMaterial{constructor(l){super(l);this.colorMixMode=null}clone(){const l={color:null!=this.color?this.color.clone():null,colorMixMode:this.colorMixMode};return new k(l)}};b.__decorate([n.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=k=b.__decorate([f.subclass("esri.symbols.support.Symbol3DFillMaterial")],a.Symbol3DFillMaterial);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w,q){var m;a.Symbol3DOutline=m=class extends e.JSONSupport{constructor(h){super(h);
this.color=new c([0,0,0,1]);this.size=d.px2pt(1);this.pattern=null;this.patternCap="butt"}clone(){const h={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new m(h)}};b.__decorate([p.property(w.colorAndTransparencyProperty)],a.Symbol3DOutline.prototype,"color",void 0);b.__decorate([p.property(w.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",void 0);b.__decorate([p.property(l.symbol3dLinePatternProperty)],
a.Symbol3DOutline.prototype,"pattern",void 0);b.__decorate([p.property({type:q.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],a.Symbol3DOutline.prototype,"patternCap",void 0);a.Symbol3DOutline=m=b.__decorate([k.subclass("esri.symbols.support.Symbol3DOutline")],a.Symbol3DOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports","../../core/has","../../core/libs/gl-matrix-2/factories/vec3f64",
"../../geometry/support/aaBoundingBox"],function(a,b,c,e){const d=e.fromValues(-.5,-.5,-.5,.5,.5,.5),p=e.fromValues(-.5,-.5,0,.5,.5,1),n=e.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];e=[...b,"none"];a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerBoundingBoxTetrahedron=n;a.objectSymbolLayerBoundingBoxUnitCube=d;a.objectSymbolLayerBoundingBoxUnitCylinder=p;a.objectSymbolLayerPrimitiveBoundingBox=function(f){switch(f){case "sphere":case "cube":case "diamond":return d;
case "cylinder":case "cone":case "inverted-cone":return p;case "tetrahedron":return n}};a.objectSymbolLayerSizeWithResourceSize=function(f,{isPrimitive:g,width:k,depth:l,height:w}){g=g?10:1;if(null==k&&null==w&&null==l)return[g*f[0],g*f[1],g*f[2]];k=c.fromValues(k,l,w);let q;for(l=0;3>l;l++)if(w=k[l],null!=w){q=w/f[l];break}for(l=0;3>l;l++)null==k[l]&&(k[l]=f[l]*q);return k};a.pathCaps=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports",
"../Extent","./aaBoundingRect"],function(a,b,c){function e(h=q){return[h[0],h[1],h[2],h[3],h[4],h[5]]}function d(h,t,y,u,r,z,v=e()){v[0]=h;v[1]=t;v[2]=y;v[3]=u;v[4]=r;v[5]=z;return v}function p(h){return h[0]>=h[3]?0:h[3]-h[0]}function n(h){return h[1]>=h[4]?0:h[4]-h[1]}function f(h){return h[2]>=h[5]?0:h[5]-h[2]}function g(h,t){return Math.max(t[0],h[0])<=Math.min(t[3],h[3])&&Math.max(t[1],h[1])<=Math.min(t[4],h[4])&&Math.max(t[2],h[2])<=Math.min(t[5],h[5])}function k(h,t){h[0]=t[0];h[1]=t[1];h[2]=
t[2];h[3]=t[3];h[4]=t[4];h[5]=t[5];return h}function l(h){return 6===h.length}const w=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],q=[0,0,0,0,0,0],m=e();a.allFinite=function(h){for(let t=0;6>t;t++)if(!isFinite(h[t]))return!1;return!0};a.center=function(h,t=[0,0,0]){t[0]=h[0]+p(h)/2;t[1]=h[1]+n(h)/2;t[2]=h[2]+f(h)/2;return t};a.contains=function(h,t){return t[0]>=h[0]&&t[1]>=h[1]&&t[2]>=h[2]&&t[3]<=h[3]&&t[4]<=h[4]&&t[5]<=h[5]};a.containsPoint=function(h,t){return t[0]>=h[0]&&t[1]>=h[1]&&
t[2]>=h[2]&&t[0]<=h[3]&&t[1]<=h[4]&&t[2]<=h[5]};a.containsPointWithMargin=function(h,t,y){return t[0]>=h[0]-y&&t[1]>=h[1]-y&&t[2]>=h[2]-y&&t[0]<=h[3]+y&&t[1]<=h[4]+y&&t[2]<=h[5]+y};a.create=e;a.depth=n;a.diameter=function(h){const t=p(h),y=f(h);h=n(h);return Math.sqrt(t*t+y*y+h*h)};a.empty=function(h){return h?k(h,w):e(w)};a.equals=function(h,t,y){if(null==h||null==t)return h===t;if(!l(h)||!l(t))return!1;if(y)for(let u=0;u<h.length;u++){if(!y(h[u],t[u]))return!1}else for(y=0;y<h.length;y++)if(h[y]!==
t[y])return!1;return!0};a.expandWithAABB=function(h,t){h[0]=Math.min(h[0],t[0]);h[1]=Math.min(h[1],t[1]);h[2]=Math.min(h[2],t[2]);h[3]=Math.max(h[3],t[3]);h[4]=Math.max(h[4],t[4]);h[5]=Math.max(h[5],t[5])};a.expandWithBuffer=function(h,t,y=0,u=t.length/3){let r=h[0],z=h[1],v=h[2],x=h[3],B=h[4],A=h[5];for(let C=0;C<u;C++)r=Math.min(r,t[y+3*C]),z=Math.min(z,t[y+3*C+1]),v=Math.min(v,t[y+3*C+2]),x=Math.max(x,t[y+3*C]),B=Math.max(B,t[y+3*C+1]),A=Math.max(A,t[y+3*C+2]);h[0]=r;h[1]=z;h[2]=v;h[3]=x;h[4]=
B;h[5]=A};a.expandWithNestedArray=function(h,t,y){const u=t.length;let r=h[0],z=h[1],v=h[2],x=h[3],B=h[4],A=h[5];if(y)for(y=0;y<u;y++){var C=t[y];r=Math.min(r,C[0]);z=Math.min(z,C[1]);v=Math.min(v,C[2]);x=Math.max(x,C[0]);B=Math.max(B,C[1]);A=Math.max(A,C[2])}else for(y=0;y<u;y++)C=t[y],r=Math.min(r,C[0]),z=Math.min(z,C[1]),x=Math.max(x,C[0]),B=Math.max(B,C[1]);h[0]=r;h[1]=z;h[2]=v;h[3]=x;h[4]=B;h[5]=A};a.expandWithOffset=function(h,t,y,u){h[0]=Math.min(h[0],h[0]+t);h[3]=Math.max(h[3],h[3]+t);h[1]=
Math.min(h[1],h[1]+y);h[4]=Math.max(h[4],h[4]+y);h[2]=Math.min(h[2],h[2]+u);h[5]=Math.max(h[5],h[5]+u)};a.expandWithRect=function(h,t){h[0]=Math.min(h[0],t[0]);h[1]=Math.min(h[1],t[1]);h[3]=Math.max(h[3],t[2]);h[4]=Math.max(h[4],t[3])};a.expandWithVec3=function(h,t){h[0]=Math.min(h[0],t[0]);h[1]=Math.min(h[1],t[1]);h[2]=Math.min(h[2],t[2]);h[3]=Math.max(h[3],t[0]);h[4]=Math.max(h[4],t[1]);h[5]=Math.max(h[5],t[2])};a.fromExtent=function(h,t=e()){t[0]=h.xmin;t[1]=h.ymin;t[2]=h.hasZ?h.zmin:-Infinity;
t[3]=h.xmax;t[4]=h.ymax;t[5]=h.hasZ?h.zmax:Infinity;return t};a.fromMinMax=function(h,t,y=e()){y[0]=h[0];y[1]=h[1];y[2]=h[2];y[3]=t[0];y[4]=t[1];y[5]=t[2];return y};a.fromRect=function(h,t){h[0]=t[0];h[1]=t[1];h[2]=Number.NEGATIVE_INFINITY;h[3]=t[2];h[4]=t[3];h[5]=Number.POSITIVE_INFINITY;return h};a.fromRectValues=function(h,t,y,u,r){h[0]=t;h[1]=y;h[2]=Number.NEGATIVE_INFINITY;h[3]=u;h[4]=r;h[5]=Number.POSITIVE_INFINITY;return h};a.fromValues=d;a.getMax=function(h,t){t[0]=h[3];t[1]=h[4];t[2]=h[5];
return t};a.getMin=function(h,t){t[0]=h[0];t[1]=h[1];t[2]=h[2];return t};a.height=f;a.intersects=g;a.intersectsClippingArea=function(h,t){return null==t?!0:g(h,t)};a.is=l;a.isPoint=function(h){return 0===p(h)&&0===n(h)&&0===f(h)};a.maximumDimension=function(h){return Math.max(p(h),f(h),n(h))};a.negativeInfinity=w;a.offset=function(h,t,y,u,r=h){r[0]=h[0]+t;r[1]=h[1]+y;r[2]=h[2]+u;r[3]=h[3]+t;r[4]=h[4]+y;r[5]=h[5]+u;return r};a.positiveInfinity=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];
a.scale=function(h,t,y=h){const u=h[0]+p(h)/2,r=h[1]+n(h)/2,z=h[2]+f(h)/2;y[0]=u+(h[0]-u)*t;y[1]=r+(h[1]-r)*t;y[2]=z+(h[2]-z)*t;y[3]=u+(h[3]-u)*t;y[4]=r+(h[4]-r)*t;y[5]=z+(h[5]-z)*t;return y};a.set=k;a.setMax=function(h,t,y=h){y[3]=t[0];y[4]=t[1];y[5]=t[2];y!==h&&(y[0]=h[0],y[1]=h[1],y[2]=h[2]);return h};a.setMin=function(h,t,y=h){y[0]=t[0];y[1]=t[1];y[2]=t[2];y!==h&&(y[3]=h[3],y[4]=h[4],y[5]=h[5]);return y};a.size=function(h,t=[0,0,0]){t[0]=p(h);t[1]=n(h);t[2]=f(h);return t};a.toExtent=function(h,
t){return isFinite(h[2])||isFinite(h[5])?new b({xmin:h[0],xmax:h[3],ymin:h[1],ymax:h[4],zmin:h[2],zmax:h[5],spatialReference:t}):new b({xmin:h[0],xmax:h[3],ymin:h[1],ymax:h[4],spatialReference:t})};a.toRect=function(h,t){t||=c.create();t[0]=h[0];t[1]=h[1];t[2]=h[3];t[3]=h[4];return t};a.width=p;a.wrap=function(h,t,y,u,r,z){return d(h,t,y,u,r,z,m)};a.zero=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/Font":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./support/textUtils".split(" "),
function(a,b,c,e,d,p,n,f,g){var k;b=k=class extends b.JSONSupport{constructor(l){super(l);this.decoration="none";this.family="sans-serif";this.size=9;this.weight=this.style="normal"}castSize(l){return c.toPt(l)}clone(){return new k({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};a.__decorate([e.property({type:g.fontDecorations,json:{default:"none",write:!0}})],
b.prototype,"decoration",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);a.__decorate([e.property({type:Number,json:{write:{overridePolicy(l,w,q){return{enabled:!q||!q.textSymbol3D}}}}})],b.prototype,"size",void 0);a.__decorate([d.cast("size")],b.prototype,"castSize",null);a.__decorate([e.property({type:g.fontStyles,json:{default:"normal",write:!0}})],b.prototype,"style",void 0);a.__decorate([e.property({type:g.fontWeights,json:{default:"normal",write:!0}})],
b.prototype,"weight",void 0);return b=k=a.__decorate([f.subclass("esri.symbols.Font")],b)})},"esri/symbols/support/textUtils":function(){define(["exports","../../core/mathUtils","../../core/accessorSupport/ensureType"],function(a,b,c){const e={type:Number,cast:g=>{g=c.ensureNumber(g);return 0===g?1:b.clamp(g,.1,4)},nonNullable:!0},d=["left","right","center"],p=["baseline","top","middle","bottom"],n={type:d,nonNullable:!0},f={type:p,nonNullable:!0};a.backgroundPadding=8;a.fontDecorations=["none","underline",
"line-through"];a.fontStyles=["normal","italic","oblique"];a.fontWeights=["normal","lighter","bold","bolder"];a.horizontalAlignmentProperty=n;a.horizontalAlignments=d;a.lineHeightProperty=e;a.verticalAlignmentProperty=f;a.verticalAlignments=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/lang ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){function t(z){const v="width"in z?z.width:z.size,x="height"in z?z.height:z.size,B=y(z.xoffset);z=y(z.yoffset);return(B||z)&&v&&x?{x:-B/v,y:z/x}:null}function y(z){return isFinite(z)?z:0}var u;p=u=class extends g{constructor(z){super(z);this.resource=this.material=null;this.type="icon";this.size=12;this.anchor="center";this.outline=this.anchorPosition=null}clone(){return new u({anchor:this.anchor,anchorPosition:b.clone(this.anchorPosition),enabled:this.enabled,
material:b.clone(this.material),outline:b.clone(this.outline),resource:b.clone(this.resource),size:this.size})}static fromSimpleMarkerSymbol(z){const v=z.color||k.white,x=t(z),B=z.outline&&0<z.outline.width?{size:z.outline.width,color:(z.outline.color||k.white).clone()}:null;var A=u,C=z.size;{z=z.style;const H=r[z];H?z=H:(c.getLogger("esri.symbols.IconSymbol3DLayer").warn(`${z} cannot be mapped to Icon symbol. Fallback to "circle"`),z="circle")}return new A({size:C,resource:{primitive:z},material:{color:v},
outline:B,anchor:x?"relative":void 0,anchorPosition:x})}static fromPictureMarkerSymbol(z){const v=!z.color||k.isBlack(z.color)?k.white:z.color,x=t(z);return new u({size:z.width<=z.height?z.height:z.width,resource:{href:z.url},material:{color:v.clone()},anchor:x?"relative":void 0,anchorPosition:x})}static fromCIMSymbol(z){return new u({resource:{href:e.makeData({mediaType:"application/json",data:JSON.stringify(z.data)})}})}};a.__decorate([d.property({type:h.Symbol3DMaterial,json:{write:!0}})],p.prototype,
"material",void 0);a.__decorate([d.property({type:l.IconSymbol3DLayerResource,json:{write:!0}})],p.prototype,"resource",void 0);a.__decorate([n.enumeration({Icon:"icon"},{readOnly:!0})],p.prototype,"type",void 0);a.__decorate([d.property(w.screenSizeProperty)],p.prototype,"size",void 0);a.__decorate([n.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),d.property({json:{default:"center"}})],
p.prototype,"anchor",void 0);a.__decorate([d.property({type:q.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:z=>new q.Symbol3DAnchorPosition2D({x:z[0],y:z[1]})},write:{writer:(z,v)=>{v.anchorPosition=[z.x,z.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],p.prototype,"anchorPosition",void 0);a.__decorate([d.property({type:m.Symbol3DIconOutline,json:{write:!0}})],p.prototype,"outline",void 0);p=u=a.__decorate([f.subclass("esri.symbols.IconSymbol3DLayer")],p);const r={circle:"circle",
cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return p})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m){var h;c=c.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=h=class extends e.JSONSupport{constructor(t){super(t)}readHref(t,y,u){return t?m.fromJSON(t,u):y.dataURI}writeHref(t,y,u,r){t&&(d.isDataProtocol(t)?y.dataURI=t:(y.href=m.toJSON(t,r),d.isAbsolute(y.href)&&(y.href=d.normalize(y.href))))}clone(){return new h({href:this.href,primitive:this.primitive})}};b.__decorate([p.property({type:String,
json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([l.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);b.__decorate([q.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);b.__decorate([k.enumeration(c)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);a.IconSymbol3DLayerResource=h=b.__decorate([w.subclass("esri.symbols.support.IconSymbol3DLayerResource")],
a.IconSymbol3DLayerResource);a.defaultPrimitive="circle";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f){var g;a.Symbol3DAnchorPosition2D=g=class extends c{constructor(){super(...arguments);
this.y=this.x=0}clone(){return new g({x:this.x,y:this.y})}};b.__decorate([e.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);b.__decorate([e.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=g=b.__decorate([f.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],a.Symbol3DAnchorPosition2D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){var w;a.Symbol3DIconOutline=w=class extends e.JSONSupport{constructor(q){super(q);this.color=new c([0,0,0,1]);this.size=d.px2pt(1)}clone(){const q={color:null!=this.color?this.color.clone():null,size:this.size};return new w(q)}};b.__decorate([p.property(l.colorAndTransparencyProperty)],a.Symbol3DIconOutline.prototype,"color",void 0);b.__decorate([p.property(l.screenSizeProperty)],a.Symbol3DIconOutline.prototype,"size",void 0);a.Symbol3DIconOutline=w=b.__decorate([k.subclass("esri.symbols.support.Symbol3DIconOutline")],
a.Symbol3DIconOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w){var q;const m=b.ofType({base:null,
key:"type",typeMap:{text:k}});d=q=class extends g{constructor(h){super(h);this.styleOrigin=this.callout=this.verticalOffset=null;this.symbolLayers=new m;this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return l.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return l.hasVisibleVerticalOffset(this)}clone(){return new q({styleOrigin:c.clone(this.styleOrigin),symbolLayers:c.clone(this.symbolLayers),thumbnail:c.clone(this.thumbnail),callout:c.clone(this.callout),verticalOffset:c.clone(this.verticalOffset)})}static fromTextSymbol(h){return new q({symbolLayers:new b([k.fromTextSymbol(h)])})}};
a.__decorate([e.property({type:w,json:{write:!0}})],d.prototype,"verticalOffset",void 0);a.__decorate([e.property(l.calloutProperty)],d.prototype,"callout",void 0);a.__decorate([e.property({json:{read:!1,write:!1}})],d.prototype,"styleOrigin",void 0);a.__decorate([e.property({type:m})],d.prototype,"symbolLayers",void 0);a.__decorate([n.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],d.prototype,"type",void 0);return d=q=a.__decorate([f.subclass("esri.symbols.LabelSymbol3D")],d)})},"esri/symbols/Symbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A,C,H,N){const I={icon:u,object:z,line:r,path:v,fill:y,extrude:t,text:A,water:C};g=b.ofType({base:B,key:"type",typeMap:I,errorContext:"symbol-layer"});x=class extends x{constructor(E){super(E);this.type=this.thumbnail=this.styleOrigin=null;this._set("symbolLayers",new ((this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers)?.type||b))}get color(){return null}set color(E){this.constructed&&e.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(E){c.referenceSetter(E,
this._get("symbolLayers"))}readStyleOrigin(E,G,L){if(E.styleUrl&&E.name)return G=h.fromJSON(E.styleUrl,L),new H({styleUrl:G,name:E.name});if(E.styleName&&E.name)return new H({portal:L?.portal||m.getDefault(),styleName:E.styleName,name:E.name});L?.messages&&L.messages.push(new p("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:L,definition:E}))}writeStyleOrigin(E,G,L,R){E.styleUrl&&E.name?(L=h.toJSON(E.styleUrl,R),d.isAbsolute(L)&&
(L=d.normalize(L)),G.styleOrigin={styleUrl:L,name:E.name}):E.styleName&&E.name&&(E.portal&&R?.portal&&!d.hasSamePortal(E.portal.restUrl,R.portal.restUrl)?R?.messages&&R.messages.push(new p("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):G.styleOrigin={styleName:E.styleName,name:E.name})}normalizeCtorArgs(E){return E instanceof B||E&&I[E.type]?{symbolLayers:[E]}:Array.isArray(E)?{symbolLayers:E}:
E}};a.__decorate([n.property({json:{read:!1,write:!1}})],x.prototype,"color",null);a.__decorate([n.property({type:g,nonNullable:!0,json:{write:!0}}),f.cast(c.castForReferenceSetter)],x.prototype,"symbolLayers",null);a.__decorate([n.property({type:H})],x.prototype,"styleOrigin",void 0);a.__decorate([l.reader("styleOrigin")],x.prototype,"readStyleOrigin",null);a.__decorate([q.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],
x.prototype,"writeStyleOrigin",null);a.__decorate([n.property({type:N.Thumbnail,json:{read:!1}})],x.prototype,"thumbnail",void 0);a.__decorate([n.property({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],x.prototype,"type",void 0);return x=a.__decorate([w.subclass("esri.symbols.Symbol3D")],x)})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineStyleMarker3D ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t){var y;e=y=class extends k{constructor(u){super(u);this.material=null;this.type="line";this.join="miter";this.cap="butt";this.size=b.px2pt(1);this.marker=this.pattern=null}clone(){const u={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new y(u)}static fromSimpleLineSymbol(u){u=
{enabled:!0,size:u.width??b.px2pt(1),cap:u.cap||"butt",join:u.join||"miter",pattern:u.style?new l({style:u.style}):null,material:new h.Symbol3DMaterial({color:(u.color||q.white).clone()}),marker:u.marker?new g({placement:u.marker.placement,style:u.marker.style,color:u.marker.color?.clone()??null}):null};return new y(u)}};a.__decorate([c.property({type:h.Symbol3DMaterial,json:{write:!0}})],e.prototype,"material",void 0);a.__decorate([n.enumeration({Line:"line"},{readOnly:!0})],e.prototype,"type",void 0);
a.__decorate([c.property({type:t.lineJoins,json:{write:!0,default:"miter"}})],e.prototype,"join",void 0);a.__decorate([c.property({type:t.lineCaps,json:{write:!0,default:"butt"}})],e.prototype,"cap",void 0);a.__decorate([c.property(m.screenSizeProperty)],e.prototype,"size",void 0);a.__decorate([c.property(w.symbol3dLinePatternProperty)],e.prototype,"pattern",void 0);a.__decorate([c.property({types:{key:"type",base:g,typeMap:{style:g}},json:{write:!0}})],e.prototype,"marker",void 0);return e=y=a.__decorate([f.subclass("esri.symbols.LineSymbol3DLayer")],
e)})},"esri/symbols/LineStyleMarker3D":function(){define("../chunks/tslib.es6 ../Color ../core/Clonable ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./support/lineMarkers".split(" "),function(a,b,c,e,d,p,n,f,g,k){c=class extends c.ClonableMixin(e.JSONSupport){constructor(l){super(l);this.type="style";this.placement="begin-end";this.style="arrow";this.color=null}equals(l){return null!=
l&&l.placement===this.placement&&l.style===this.style&&(null==this.color&&null==l.color||null!=this.color&&null!=l.color&&this.color.toJSON()===l.color.toJSON())}};a.__decorate([d.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);a.__decorate([d.property({type:k.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],c.prototype,"placement",void 0);a.__decorate([d.property({type:k.lineMarkerStyles,json:{default:"arrow",write:!0}})],c.prototype,
"style",void 0);a.__decorate([d.property({type:b,json:{type:[p.Integer],default:null,write:!0}})],c.prototype,"color",void 0);return c=a.__decorate([g.subclass("esri.symbols.LineStyleMarker3D")],c)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){var w;c=w=class extends f{constructor(q){super(q);this.material=null;this.castShadows=!0;this.resource=null;this.type="object";this.roll=this.tilt=this.heading=this.anchorPosition=this.anchor=this.depth=this.height=this.width=void 0}clone(){return new w({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,
resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!==typeof this.resource.href}};a.__decorate([b.property({type:l.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);a.__decorate([b.property({type:g.ObjectSymbol3DLayerResource,json:{write:!0}})],c.prototype,"resource",void 0);a.__decorate([p.enumeration({Object:"object"},
{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"width",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"height",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"depth",void 0);a.__decorate([p.enumeration({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),b.property({json:{default:"origin"}})],c.prototype,"anchor",void 0);a.__decorate([b.property({type:k.Symbol3DAnchorPosition3D,
json:{type:[Number],read:{reader:q=>new k.Symbol3DAnchorPosition3D({x:q[0],y:q[1],z:q[2]})},write:{writer:(q,m)=>{m.anchorPosition=[q.x,q.y,q.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"heading",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"tilt",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"roll",void 0);
a.__decorate([b.property({readOnly:!0})],c.prototype,"isPrimitive",null);return c=w=a.__decorate([n.subclass("esri.symbols.ObjectSymbol3DLayer")],c)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){var w;c=c.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=w=class extends e.JSONSupport{clone(){return new w({href:this.href,primitive:this.primitive})}};b.__decorate([d.property({type:String,json:{read:l.read,write:l.write}})],a.ObjectSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([g.enumeration(c)],a.ObjectSymbol3DLayerResource.prototype,
"primitive",void 0);a.ObjectSymbol3DLayerResource=w=b.__decorate([k.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.defaultPrimitive="sphere";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){var g;a.Symbol3DAnchorPosition3D=g=class extends c{constructor(){super(...arguments);this.z=this.y=this.x=0}clone(){return new g({x:this.x,y:this.y,z:this.z})}};b.__decorate([e.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);b.__decorate([e.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);b.__decorate([e.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"z",void 0);a.Symbol3DAnchorPosition3D=g=b.__decorate([f.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],
a.Symbol3DAnchorPosition3D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),function(a,b,c,e,d,p,n,f,g,k,l){var w;
c=w=class extends g{constructor(q){super(q);this.material=null;this.castShadows=!0;this.type="path";this.profile="circle";this.join="miter";this.cap="butt";this.height=this.width=void 0;this.anchor="center";this.profileRotation="all"}readWidth(q,m){return null!=q?q:null==m.height&&null!=m.size?m.size:void 0}readHeight(q,m){return null!=q?q:null==m.width&&null!=m.size?m.size:void 0}clone(){return new w({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,
profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};a.__decorate([b.property({type:k.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);a.__decorate([p.enumeration({Path:"path"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:["circle","quad"],json:{write:!0,
default:"circle"}})],c.prototype,"profile",void 0);a.__decorate([b.property({type:l.lineJoins,json:{write:!0,default:"miter"}})],c.prototype,"join",void 0);a.__decorate([b.property({type:l.pathCaps,json:{write:!0,default:"butt"}})],c.prototype,"cap",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],c.prototype,"width",void 0);a.__decorate([n.reader("width",["width","size","height"])],c.prototype,"readWidth",null);a.__decorate([b.property({type:Number,
json:{write:!0}})],c.prototype,"height",void 0);a.__decorate([n.reader("height",["height","size","width"])],c.prototype,"readHeight",null);a.__decorate([b.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],c.prototype,"anchor",void 0);a.__decorate([b.property({type:["heading","all"],json:{write:!0,default:"all"}})],c.prototype,"profileRotation",void 0);return c=w=a.__decorate([f.subclass("esri.symbols.PathSymbol3DLayer")],c)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial ./support/Symbol3DTextBackground ./support/textUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){var t;e=t=class extends k{constructor(y){super(y);this._userSize=void 0;this.halo=null;this.horizontalAlignment="center";this.lineHeight=1;this.text=this.background=this.material=null;this.type="text";this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(y){null!=y&&null!=this._userSize&&(y.size=this._userSize);this._set("font",y)}writeFont(y,u,r,z){u.font=y.write({},{...z,textSymbol3D:!0});delete u.font.size}get size(){return null!=
this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(y){this._userSize=y;null!=this.font&&(this.font.size=this._userSize);this.notifyChange("size")}clone(){const y=new t({enabled:this.enabled,font:this.font&&b.clone(this.font),halo:this.halo&&b.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:b.clone(this.background)});
y._userSize=this._userSize;return y}static fromTextSymbol(y){var u=t,r=null!=y.font?y.font.clone():new g;var z=y.haloColor;var v=y.haloSize;z=z&&null!=v&&0<v?new w.Symbol3DHalo({color:b.clone(z),size:v}):null;return new u({font:r,halo:z,horizontalAlignment:y.horizontalAlignment,lineHeight:y.lineHeight,material:y.color?new q.Symbol3DMaterial({color:y.color.clone()}):null,text:y.text,verticalAlignment:y.verticalAlignment,background:y.backgroundColor?new m.Symbol3DTextBackground({color:y.backgroundColor.clone()}):
null})}};a.__decorate([c.property({type:g,json:{write:!0}})],e.prototype,"font",null);a.__decorate([f.writer("font")],e.prototype,"writeFont",null);a.__decorate([c.property({type:w.Symbol3DHalo,json:{write:!0}})],e.prototype,"halo",void 0);a.__decorate([c.property({...h.horizontalAlignmentProperty,json:{default:"center",write:!0}})],e.prototype,"horizontalAlignment",void 0);a.__decorate([c.property({...h.lineHeightProperty,json:{default:1,write:!0}})],e.prototype,"lineHeight",void 0);a.__decorate([c.property({type:q.Symbol3DMaterial,
json:{write:!0}})],e.prototype,"material",void 0);a.__decorate([c.property({type:m.Symbol3DTextBackground,json:{write:!0}})],e.prototype,"background",void 0);a.__decorate([c.property(l.screenSizeProperty)],e.prototype,"size",null);a.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"text",void 0);a.__decorate([p.enumeration({Text:"text"},{readOnly:!0})],e.prototype,"type",void 0);a.__decorate([c.property({...h.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],e.prototype,
"verticalAlignment",void 0);return e=t=a.__decorate([n.subclass("esri.symbols.TextSymbol3DLayer")],e)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,c,e,d,p,n,f,g,k){var l;a.Symbol3DHalo=l=class extends e.JSONSupport{constructor(){super(...arguments);
this.color=new c([0,0,0,1]);this.size=0}clone(){const w={color:d.clone(this.color),size:this.size};return new l(w)}};b.__decorate([p.property(k.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);b.__decorate([p.property(k.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=l=b.__decorate([g.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DTextBackground":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k){a.Symbol3DTextBackground=class extends c.ClonableMixin(e.JSONSupport){constructor(l){super(l);this.color=null}};b.__decorate([d.property(k.colorAndTransparencyProperty)],a.Symbol3DTextBackground.prototype,"color",void 0);a.Symbol3DTextBackground=b.__decorate([g.subclass("esri.symbols.support.Symbol3DTextBackground")],a.Symbol3DTextBackground);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),
function(a,b,c,e,d,p,n,f){var g;f=g=class extends f{constructor(l){super(l);this.color=k.clone();this.type="water";this.waterbodySize="medium";this.waveDirection=null;this.waveStrength="moderate"}clone(){return new g({color:c.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};a.__decorate([e.property({type:b,nonNullable:!0,json:{type:[d.Integer],write:(l,w,q)=>w[q]=l.toArray(b.AlphaMode.UNLESS_OPAQUE),default:()=>k.clone(),defaultEquals:l=>
l.toCss(!0)===k.toCss(!0)}})],f.prototype,"color",void 0);a.__decorate([p.enumeration({Water:"water"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([e.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],f.prototype,"waterbodySize",void 0);a.__decorate([e.property({type:Number,json:{write:!0,default:null}})],f.prototype,"waveDirection",void 0);a.__decorate([e.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],f.prototype,
"waveStrength",void 0);a=f=g=a.__decorate([n.subclass("esri.symbols.WaterSymbol3DLayer")],f);const k=new b([0,119,190]);return a})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),function(a,b,c,e,d,p,n,f){var g;b=g=class extends b{constructor(k){super(k);this.portal=this.styleName=
this.styleUrl=this.name=null}clone(){return new g({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};a.__decorate([c.property({type:String})],b.prototype,"name",void 0);a.__decorate([c.property({type:String})],b.prototype,"styleUrl",void 0);a.__decorate([c.property({type:String})],b.prototype,"styleName",void 0);a.__decorate([c.property({type:f})],b.prototype,"portal",void 0);return b=g=a.__decorate([n.subclass("esri.symbols.support.StyleOrigin")],b)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){var g;a.Thumbnail=g=class extends c{constructor(){super(...arguments);this.url=""}clone(){return new g({url:this.url})}};b.__decorate([e.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=g=b.__decorate([f.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","./Callout3D","./LineCallout3D"],function(a,b,c){function e(d){if(!d)return!1;
d=d.verticalOffset;return!d||0>=d.screenLength||null!=d.maxWorldLength&&0>=d.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:b,typeMap:{line:c}},json:{write:!0}};a.hasCalloutSupport=function(d){return"point-3d"===d.type||"label-3d"===d.type};a.hasVisibleCallout=function(d){if(!d||!d.supportsCallout||!d.supportsCallout())return!1;const p=d.callout;return p&&p.visible?e(d)?!0:!1:!1};a.hasVisibleVerticalOffset=e;a.textSymbolLayerSupportsVerticalOffset=function(d){return"center"===d.horizontalAlignment};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){b=class extends b.JSONSupport{constructor(f){super(f);this.visible=!0}clone(){throw Error("Subclasses of Callout3D should implement their own clone method.");
}};a.__decorate([c.property({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);a.__decorate([c.property({readOnly:!0})],b.prototype,"visible",void 0);return b=a.__decorate([n.subclass("esri.symbols.callouts.Callout3D")],b)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w){var q;p=q=class extends k{constructor(m){super(m);this.type="line";this.color=new b([0,0,0,1]);this.size=e.px2pt(1);this.border=null}get visible(){return 0<this.size&&null!=this.color&&0<this.color.a}clone(){return new q({color:c.clone(this.color),size:this.size,border:c.clone(this.border)})}};a.__decorate([f.enumeration({line:"line"})],p.prototype,"type",void 0);a.__decorate([d.property(w.colorAndTransparencyProperty)],p.prototype,"color",void 0);a.__decorate([d.property(w.screenSizeProperty)],
p.prototype,"size",void 0);a.__decorate([d.property({type:l,json:{write:!0}})],p.prototype,"border",void 0);a.__decorate([d.property({readOnly:!0})],p.prototype,"visible",null);return p=q=a.__decorate([g.subclass("esri.symbols.callouts.LineCallout3D")],p)})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,e,d,p,n,f,g){var k;c=k=class extends c.JSONSupport{constructor(l){super(l);this.color=new b("white")}clone(){return new k({color:e.clone(this.color)})}};a.__decorate([d.property(g.colorAndTransparencyProperty)],c.prototype,"color",void 0);return c=k=a.__decorate([f.subclass("esri.symbols.callouts.LineCallout3DBorder")],c)})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,p,n,f){var g;b=g=class extends b.JSONSupport{constructor(k){super(k);this.minWorldLength=this.screenLength=0;this.maxWorldLength=null}clone(){return new g({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};a.__decorate([c.property(f.screenSizeProperty)],b.prototype,"screenLength",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{write:!0,default:0}})],b.prototype,"minWorldLength",void 0);a.__decorate([c.property({type:Number,
json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=g=a.__decorate([n.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)})},"esri/symbols/LineSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(a,b,c,e,d,p,n,f,g,k,l){var w;
const q=b.ofType({base:null,key:"type",typeMap:{line:g,path:k}});d=b.ofType({base:null,key:"type",typeMap:{line:g,path:k}});l=w=class extends l{constructor(m){super(m);this.symbolLayers=new q;this.type="line-3d"}clone(){return new w({styleOrigin:c.clone(this.styleOrigin),symbolLayers:c.clone(this.symbolLayers),thumbnail:c.clone(this.thumbnail)})}static fromSimpleLineSymbol(m){return new w({symbolLayers:new b([g.fromSimpleLineSymbol(m)])})}};a.__decorate([e.property({type:q,json:{type:d}})],l.prototype,
"symbolLayers",void 0);a.__decorate([n.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],l.prototype,"type",void 0);return l=w=a.__decorate([f.subclass("esri.symbols.LineSymbol3D")],l)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),function(a,b,c,e,d,p,n,f){e=class extends f{constructor(g){super(g);this.angle=
0;this.type=null;this.yoffset=this.xoffset=0;this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};a.__decorate([c.property({type:Number,json:{read:g=>g&&-1*g,write:(g,k)=>k.angle=g&&-1*g}})],e.prototype,"angle",void 0);a.__decorate([c.property({type:["simple-marker","picture-marker"],readOnly:!0})],e.prototype,"type",void 0);a.__decorate([c.property({type:Number,cast:b.toPt,json:{write:!0}})],e.prototype,"xoffset",void 0);a.__decorate([c.property({type:Number,
cast:b.toPt,json:{write:!0}})],e.prototype,"yoffset",void 0);a.__decorate([c.property({type:Number,cast:g=>"auto"===g?g:b.toPt(g),json:{write:!0}})],e.prototype,"size",void 0);return e=a.__decorate([n.subclass("esri.symbols.MarkerSymbol")],e)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,e,d,p,n,f,g,k){var l;const w=b.ofType({base:null,key:"type",typeMap:{fill:g}});d=l=class extends k{constructor(q){super(q);this.symbolLayers=new w;this.type="mesh-3d"}clone(){return new l({styleOrigin:c.clone(this.styleOrigin),symbolLayers:c.clone(this.symbolLayers),thumbnail:c.clone(this.thumbnail)})}static fromSimpleFillSymbol(q){return new l({symbolLayers:new b([g.fromSimpleFillSymbol(q)])})}};a.__decorate([e.property({type:w})],d.prototype,"symbolLayers",void 0);a.__decorate([n.enumeration({MeshSymbol3D:"mesh-3d"},
{readOnly:!0})],d.prototype,"type",void 0);return d=l=a.__decorate([f.subclass("esri.symbols.MeshSymbol3D")],d)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),function(a,b,c,e,d,p,n,f,g,k){var l;d=l=class extends g{constructor(...w){super(...w);
this.type="picture-fill";this.url=null;this.yscale=this.xscale=1;this.height=this.width=12;this.yoffset=this.xoffset=0;this.source=null}normalizeCtorArgs(w,q,m,h){if(w&&"string"!==typeof w&&null==w.imageData)return w;const t={};w&&(t.url=w);q&&(t.outline=q);null!=m&&(t.width=c.toPt(m));null!=h&&(t.height=c.toPt(h));return t}clone(){const w=new l({color:b.clone(this.color),height:this.height,outline:b.clone(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});w._set("source",b.clone(this.source));return w}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};a.__decorate([n.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([e.property(k.urlPropertyDefinition)],d.prototype,"url",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"xscale",void 0);a.__decorate([e.property({type:Number,
json:{write:!0}})],d.prototype,"yscale",void 0);a.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"width",void 0);a.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"xoffset",void 0);a.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"yoffset",void 0);a.__decorate([e.property(k.sourcePropertyDefinition)],d.prototype,
"source",void 0);return d=l=a.__decorate([f.subclass("esri.symbols.PictureFillSymbol")],d)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function e(f,g,k){return g.imageData?b.makeData({mediaType:g.contentType||"image/png",isBase64:!0,data:g.imageData}):d(g.url,k)}function d(f,g){if(!b.isAbsolute(f)){if(g){var {origin:k,layer:l}=g;if("service"!==k&&"portal-item"!==k)var w=null;else w=l?.type,w="feature"===
w||"stream"===w?l.parsedUrl?.path:"map-image"===w||"tile"===w?g.url?.path:null}else w=null;if(w)return b.join(w,"images",f)}return c.fromJSON(f,g)}function p(f,g,k,l){if(b.isDataProtocol(f)){if(f=b.dataComponents(f))g.contentType=f.mediaType,g.imageData=f.data,k&&k.imageData===g.imageData&&k.url&&c.write(k.url,g,"url",l)}else c.write(f,g,"url",l)}const n={json:{read:{source:["imageData","url"],reader:e},write:{writer(f,g,k,l){p(f,g,this.source,l)}}}};a.read=d;a.readImageDataOrUrl=e;a.sourcePropertyDefinition=
{readOnly:!0,json:{read:{source:["imageData","url"],reader(f,g,k){f={};g.imageData&&(f.imageData=g.imageData);g.contentType&&(f.contentType=g.contentType);g.url&&(f.url=d(g.url,k));return f}}}};a.urlPropertyDefinition=n;a.writeImageDataAndUrl=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){var w;d=w=class extends k{constructor(...q){super(...q);this.color=null;this.type="picture-marker";this.source=this.url=null;this.width=this.height=12;this.size=null}normalizeCtorArgs(q,m,h){if(q&&"string"!==typeof q&&null==q.imageData)return q;const t={};q&&(t.url=q);null!=m&&(t.width=c.toPt(m));null!=h&&(t.height=c.toPt(h));return t}readHeight(q,m){return m.size||q}readWidth(q,m){return m.size||q}clone(){const q=new w({angle:this.angle,height:this.height,url:this.url,
width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});q._set("source",b.clone(this.source));return q}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};a.__decorate([e.property({json:{write:!1}})],d.prototype,"color",void 0);a.__decorate([n.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([e.property(l.urlPropertyDefinition)],d.prototype,"url",void 0);a.__decorate([e.property(l.sourcePropertyDefinition)],d.prototype,"source",
void 0);a.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([f.reader("height",["height","size"])],d.prototype,"readHeight",null);a.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"width",void 0);a.__decorate([e.property({json:{write:!1}})],d.prototype,"size",void 0);return d=w=a.__decorate([g.subclass("esri.symbols.PictureMarkerSymbol")],d)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/tslib.es6 ../Color ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./callouts/LineCallout3D ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t){var y;const u=c.ofType({base:null,key:"type",typeMap:{icon:k,object:l,text:q}});p=y=class extends w{constructor(r){super(r);this.callout=this.verticalOffset=null;this.symbolLayers=new u;this.type="point-3d"}supportsCallout(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const r of this.symbolLayers.items)switch(r.type){case "icon":case "text":case "object":continue;default:return!1}return!0}hasVisibleCallout(){return m.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return m.hasVisibleVerticalOffset(this)}clone(){return new y({verticalOffset:e.clone(this.verticalOffset),
callout:e.clone(this.callout),styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})}static fromSimpleMarkerSymbol(r){return new y({symbolLayers:new c([k.fromSimpleMarkerSymbol(r)])})}static fromPictureMarkerSymbol(r){return new y({symbolLayers:new c([k.fromPictureMarkerSymbol(r)])})}static fromCIMSymbol(r){return"CIMPointSymbol"!==r.data?.symbol?.type?null:r.data.symbol?.callout?new y({symbolLayers:new c([k.fromCIMSymbol(r)]),callout:new h({size:.5,
color:new b([0,0,0])}),verticalOffset:new t({screenLength:40})}):new y({symbolLayers:new c([k.fromCIMSymbol(r)])})}static fromTextSymbol(r){return new y({symbolLayers:new c([q.fromTextSymbol(r)])})}};a.__decorate([d.property({type:t,json:{write:!0}})],p.prototype,"verticalOffset",void 0);a.__decorate([d.property(m.calloutProperty)],p.prototype,"callout",void 0);a.__decorate([d.property({type:u,json:{origins:{"web-scene":{write:!0}}}})],p.prototype,"symbolLayers",void 0);a.__decorate([f.enumeration({PointSymbol3D:"point-3d"},
{readOnly:!0})],p.prototype,"type",void 0);return p=y=a.__decorate([g.subclass("esri.symbols.PointSymbol3D")],p)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/deprecate ../core/lang ../core/Logger ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u){var r;const z=b.ofType({base:null,key:"type",typeMap:{extrude:l,fill:w,icon:q,line:m,object:h,text:y,water:u}});f=r=class extends t{constructor(v){super(v);this.symbolLayers=new z;this.type="polygon-3d"}initialize(){const v=x=>{"line"===x.type&&c.deprecated(d.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"});"text"===x.type&&
c.deprecated(d.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const x of this.symbolLayers)v(x);this.addHandles(p.on(()=>this.symbolLayers,"after-add",({item:x})=>v(x),p.sync))}clone(){return new r({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})}static fromJSON(v){const x=new r;x.read(v);if(2===x.symbolLayers.length&&
"fill"===x.symbolLayers.at(0).type&&"line"===x.symbolLayers.at(1).type){const B=x.symbolLayers.at(0),A=x.symbolLayers.at(1);!A.enabled||v.symbolLayers?.[1]&&!1===v.symbolLayers[1].enable||(B.outline={size:A.size,color:null!=A.material?A.material.color:null});x.symbolLayers.removeAt(1)}return x}static fromSimpleFillSymbol(v){return new r({symbolLayers:new b([w.fromSimpleFillSymbol(v)])})}};a.__decorate([n.property({type:z,json:{write:!0}})],f.prototype,"symbolLayers",void 0);a.__decorate([g.enumeration({PolygonSymbol3D:"polygon-3d"},
{readOnly:!0})],f.prototype,"type",void 0);return f=r=a.__decorate([k.subclass("esri.symbols.PolygonSymbol3D")],f)})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),function(a,b,c,e,d,p,n,f,g,k,l){var w;c=new c.JSONMap({esriSFSSolid:"solid",
esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});k=w=class extends k{constructor(...q){super(...q);this.color=new b([0,0,0,.25]);this.outline=new l;this.type="simple-fill";this.style="solid"}normalizeCtorArgs(q,m,h){if(q&&"string"!==typeof q)return q;const t={};q&&(t.style=q);m&&(t.outline=m);h&&(t.color=h);return t}clone(){return new w({color:e.clone(this.color),
outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};a.__decorate([d.property()],k.prototype,"color",void 0);a.__decorate([d.property()],k.prototype,"outline",void 0);a.__decorate([f.enumeration({esriSFS:"simple-fill"},{readOnly:!0})],k.prototype,"type",void 0);a.__decorate([d.property({type:c.apiValues,json:{read:c.read,write:c.write}})],k.prototype,"style",void 0);return k=w=a.__decorate([g.subclass("esri.symbols.SimpleFillSymbol")],
k)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w,q){var m;c=new c.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",
esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});w=m=class extends w{constructor(...h){super(...h);this.color=new b([255,255,255,.25]);this.type="simple-marker";this.size=12;this.style="circle";this.outline=new q}normalizeCtorArgs(h,t,y,u){if(h&&"string"!==typeof h)return h;const r={};h&&(r.style=h);null!=t&&(r.size=d.toPt(t));y&&(r.outline=y);u&&(r.color=u);return r}writeColor(h,t){h&&"x"!==this.style&&"cross"!==this.style&&(t.color=h.toJSON());null===h&&(t.color=
null)}set path(h){this.style="path";this._set("path",h)}clone(){return new m({angle:this.angle,color:e.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};a.__decorate([p.property()],w.prototype,"color",void 0);a.__decorate([l.writer("color")],w.prototype,"writeColor",null);a.__decorate([g.enumeration({esriSMS:"simple-marker"},
{readOnly:!0})],w.prototype,"type",void 0);a.__decorate([p.property()],w.prototype,"size",void 0);a.__decorate([p.property({type:c.apiValues,json:{read:c.read,write:c.write}})],w.prototype,"style",void 0);a.__decorate([p.property({type:String,json:{write:!0}})],w.prototype,"path",null);a.__decorate([p.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":q}},json:{default:null,write:!0}})],w.prototype,"outline",void 0);return w=m=a.__decorate([k.subclass("esri.symbols.SimpleMarkerSymbol")],
w)})},"esri/symbols/TextSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol ./support/textUtils".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w){var q;l=q=class extends l{constructor(...m){super(...m);this.borderLineSize=this.borderLineColor=
this.backgroundColor=null;this.font=new k;this.horizontalAlignment="center";this.kerning=!0;this.rightToLeft=this.haloSize=this.haloColor=null;this.rotated=!1;this.text="";this.type="text";this.verticalAlignment="baseline";this.angle=this.yoffset=this.xoffset=0;this.width=null;this.lineWidth=192;this.lineHeight=1}normalizeCtorArgs(m,h,t){if(m&&"string"!==typeof m)return m;const y={};m&&(y.text=m);h&&(y.font=h);t&&(y.color=t);return y}writeLineWidth(m,h,t,y){y&&"string"!==typeof y||(h[t]=m)}castLineWidth(m){return e.toPt(m)}writeLineHeight(m,
h,t,y){y&&"string"!==typeof y||(h[t]=m)}clone(){return new q({angle:this.angle,backgroundColor:c.clone(this.backgroundColor),borderLineColor:c.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:c.clone(this.color),font:this.font&&this.font.clone(),haloColor:c.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,
verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};
a.__decorate([d.property({type:b,json:{write:!0}})],l.prototype,"backgroundColor",void 0);a.__decorate([d.property({type:b,json:{write:!0}})],l.prototype,"borderLineColor",void 0);a.__decorate([d.property({type:Number,json:{write:!0},cast:e.toPt})],l.prototype,"borderLineSize",void 0);a.__decorate([d.property({type:k,json:{write:!0}})],l.prototype,"font",void 0);a.__decorate([d.property({...w.horizontalAlignmentProperty,json:{write:!0}})],l.prototype,"horizontalAlignment",void 0);a.__decorate([d.property({type:Boolean,
json:{write:!0}})],l.prototype,"kerning",void 0);a.__decorate([d.property({type:b,json:{write:!0}})],l.prototype,"haloColor",void 0);a.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],l.prototype,"haloSize",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0}})],l.prototype,"rightToLeft",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0}})],l.prototype,"rotated",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],l.prototype,"text",void 0);a.__decorate([n.enumeration({esriTS:"text"},
{readOnly:!0})],l.prototype,"type",void 0);a.__decorate([d.property({...w.verticalAlignmentProperty,json:{write:!0}})],l.prototype,"verticalAlignment",void 0);a.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],l.prototype,"xoffset",void 0);a.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],l.prototype,"yoffset",void 0);a.__decorate([d.property({type:Number,json:{read:m=>m&&-1*m,write:(m,h)=>h.angle=m&&-1*m}})],l.prototype,"angle",void 0);a.__decorate([d.property({type:Number,
json:{write:!0}})],l.prototype,"width",void 0);a.__decorate([d.property({type:Number})],l.prototype,"lineWidth",void 0);a.__decorate([g.writer("lineWidth")],l.prototype,"writeLineWidth",null);a.__decorate([p.cast("lineWidth")],l.prototype,"castLineWidth",null);a.__decorate([d.property(w.lineHeightProperty)],l.prototype,"lineHeight",void 0);a.__decorate([g.writer("lineHeight")],l.prototype,"writeLineHeight",null);return l=q=a.__decorate([f.subclass("esri.symbols.TextSymbol")],l)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/tslib.es6 ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q){var m;p=m=class extends w{constructor(h){super(h);this.name=this.thumbnail=this.styleUrl=this.portal=this.styleName=this.color=null;this.type="web-style"}get _fetchCacheKey(){const h=null!=this.portal?this.portal:k.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${h.user?h.user.username:null}:${h.url}`}read(h,t){this.portal=t?.portal;super.read(h,t)}clone(){return new m({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(h){return this._fetchSymbol("webRef",
h)}fetchCIMSymbol(h){return this._fetchSymbol("cimRef",h)}async _fetchSymbol(h,t){const y=null!=t?t.cache:null,u=y?this._fetchCacheKey:null;if(null!=y){var r=u&&y.get(u);if(r)return r.clone()}({resolveWebStyleSymbol:r}=await new Promise((z,v)=>a(["./support/webStyleSymbolUtils"],z,v)));e.throwIfAborted(t);t=r(this,{portal:this.portal},h,t);t.catch(z=>{c.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",z)});t=await t;if(!("webRef"===h&&"point-3d"===t.type||"cimRef"===h&&
"cim"===t.type))return null;null!=y&&y.set(u,t.clone());return t}};b.__decorate([d.property({json:{write:!1}})],p.prototype,"color",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],p.prototype,"styleName",void 0);b.__decorate([d.property({type:k,json:{write:!1}})],p.prototype,"portal",void 0);b.__decorate([d.property({type:String,json:{read:l.read,write:l.write}})],p.prototype,"styleUrl",void 0);b.__decorate([d.property({type:q.Thumbnail,json:{read:!1}})],p.prototype,"thumbnail",void 0);
b.__decorate([d.property({type:String,json:{write:!0}})],p.prototype,"name",void 0);b.__decorate([f.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],p.prototype,"type",void 0);b.__decorate([d.property()],p.prototype,"_fetchCacheKey",null);return p=m=b.__decorate([g.subclass("esri.symbols.WebStyleSymbol")],p)})},"esri/renderers/Renderer":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),
function(a,b,c,e,d,p,n,f,g){b=new b.JSONMap({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});c=class extends c.JSONSupport{constructor(k){super(k);this.type=this.authoringInfo=null}async getRequiredFields(k){if(!this.collectRequiredFields)return[];const l=new Set;await this.collectRequiredFields(l,k);return Array.from(l).sort()}getSymbol(k,l){}async getSymbolAsync(k,l){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};
a.__decorate([e.property({type:g,json:{write:!0}})],c.prototype,"authoringInfo",void 0);a.__decorate([e.property({type:b.apiValues,readOnly:!0,json:{type:b.jsonValues,read:!1,write:{writer:b.write,ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=a.__decorate([f.subclass("esri.renderers.Renderer")],c)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){var w;const q=new b.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),m=new b.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",
flow:"flow"});b=new b.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});const h="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");c=w=class extends c.JSONSupport{constructor(t){super(t);this.fadeRatio=this.colorRamp=null;this.isAutoGenerated=!1;this.visualVariables=this.minSliderValue=
this.maxSliderValue=this.lengthUnit=null}get classificationMethod(){const t=this._get("classificationMethod"),y=this.type;return y&&"relationship"!==y?"class-breaks-size"===y||"class-breaks-color"===y?t||"manual":null:t}set classificationMethod(t){this._set("classificationMethod",t)}readColorRamp(t){return t?l.fromJSON(t):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(t){this._set("fields",t)}get field1(){return this.type&&"relationship"!==this.type?
null:this._get("field1")}set field1(t){this._set("field1",t)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(t){this._set("field2",t)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(t){this._set("flowTheme",t)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(t){this._set("focus",t)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(t){this._set("numClasses",
t)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(t){this._set("statistics",t)}get standardDeviationInterval(){const t=this.type;return t&&"relationship"!==t&&"class-breaks-size"!==t&&"class-breaks-color"!==t?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(t){this._set("standardDeviationInterval",
t)}get type(){return this._get("type")}set type(t){let y=t;"classed-size"===t?y="class-breaks-size":"classed-color"===t&&(y="class-breaks-color");this._set("type",y)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(t){this._set("univariateSymbolStyle",t)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(t){this._set("univariateTheme",
t)}clone(){return new w({classificationMethod:this.classificationMethod,colorRamp:e.clone(this.colorRamp),fadeRatio:e.clone(this.fadeRatio),fields:this.fields?.slice(0),field1:e.clone(this.field1),field2:e.clone(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,
visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};a.__decorate([d.property({type:q.apiValues,value:null,json:{type:q.jsonValues,read:q.read,write:q.write,origins:{"web-document":{default:"manual",type:q.jsonValues,read:q.read,write:q.write}}}})],c.prototype,"classificationMethod",null);a.__decorate([d.property({types:l.types,json:{write:!0}})],c.prototype,"colorRamp",
void 0);a.__decorate([n.reader("colorRamp")],c.prototype,"readColorRamp",null);a.__decorate([d.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"fadeRatio",void 0);a.__decorate([d.property({type:[String],value:null,json:{write:!0}})],c.prototype,"fields",null);a.__decorate([d.property({type:g.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],c.prototype,"field1",null);a.__decorate([d.property({type:g.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],c.prototype,
"field2",null);a.__decorate([d.property({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"flowTheme",null);a.__decorate([d.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],c.prototype,"focus",null);a.__decorate([d.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],c.prototype,"isAutoGenerated",void 0);a.__decorate([d.property({type:Number,value:null,json:{type:p.Integer,write:!0}})],c.prototype,
"numClasses",null);a.__decorate([d.property({type:h,json:{type:h,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],c.prototype,"lengthUnit",void 0);a.__decorate([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"maxSliderValue",void 0);a.__decorate([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"minSliderValue",void 0);a.__decorate([d.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,
read:!1}}}})],c.prototype,"statistics",null);a.__decorate([d.property({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],c.prototype,"standardDeviationInterval",null);a.__decorate([d.property({type:m.apiValues,value:null,json:{type:m.jsonValues,read:m.read,write:m.write,origins:{"web-scene":{type:b.jsonValues,write:{writer:b.write,overridePolicy(t){return{enabled:"flow"!==t}}}}}}})],c.prototype,"type",null);a.__decorate([d.property({type:[k],json:{write:!0}})],c.prototype,"visualVariables",
void 0);a.__decorate([d.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"univariateSymbolStyle",null);a.__decorate([d.property({type:["high-to-low","above-and-below","above","below"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"univariateTheme",null);return c=w=a.__decorate([f.subclass("esri.renderers.support.AuthoringInfo")],
c)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),function(a,b,c,e,d,p,n,f,g){var k;a.AuthoringInfoFieldInfo=k=class extends c.JSONSupport{constructor(l){super(l);this.label=this.normalizationField=this.field="";this.classBreakInfos=[]}clone(){return new k({field:this.field,
normalizationField:this.normalizationField,label:this.label,classBreakInfos:e.clone(this.classBreakInfos)})}};b.__decorate([d.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"field",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);b.__decorate([d.property({type:[g.AuthoringInfoClassBreakInfo],
json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=k=b.__decorate([f.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){var g;a.AuthoringInfoClassBreakInfo=g=class extends c.JSONSupport{constructor(k){super(k);this.maxValue=this.minValue=0}clone(){return new g({minValue:this.minValue,maxValue:this.maxValue})}};b.__decorate([e.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"maxValue",void 0);a.AuthoringInfoClassBreakInfo=g=b.__decorate([f.subclass("esri.renderers.support.AuthoringInfoClassBreakInfo")],
a.AuthoringInfoClassBreakInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ./AuthoringInfoSizeStop".split(" "),function(a,b,c,e,d,p,n,f){var g;const k=new b.JSONMap({percentTotal:"percent-of-total",
ratio:"ratio",percent:"percent"});b=new b.JSONMap({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});const l={key(h){return"number"===typeof h?"number":"string"},typeMap:{number:Number,string:String},base:null},w=["high-to-low","above-and-below","centered-on","extremes"],q=[...(new Set("high-to-low above-and-below centered-on extremes above below high-to-low above-and-below above below reference-size".split(" ")))],m="seconds minutes hours days months years".split(" ");
c=g=class extends c.JSONSupport{constructor(h){super(h);this.units=this.type=this.startTime=this.minSliderValue=this.maxSliderValue=this.field=this.endTime=null}castEndTime(h){return"string"===typeof h||"number"===typeof h?h:null}get normalizationField(){return"reference-size"===this.theme?this._get("normalizationField"):null}set normalizationField(h){this._set("normalizationField",h)}get referenceSizeScale(){return"reference-size"===this.theme?this._get("referenceSizeScale"):null}set referenceSizeScale(h){this._set("referenceSizeScale",
h)}get referenceSizeSymbolStyle(){return"reference-size"===this.theme?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(h){this._set("referenceSizeSymbolStyle",h)}castStartTime(h){return"string"===typeof h||"number"===typeof h?h:null}get sizeStops(){return"reference-size"===this.theme?this._get("sizeStops"):null}set sizeStops(h){this._set("sizeStops",h)}get style(){return"color"===this.type?this._get("style"):null}set style(h){this._set("style",h)}get theme(){return"color"===
this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(h){this._set("theme",h)}clone(){return new g({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:e.clone(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};
a.__decorate([d.property({types:l,json:{write:!0}})],c.prototype,"endTime",void 0);a.__decorate([p.cast("endTime")],c.prototype,"castEndTime",null);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxSliderValue",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"minSliderValue",void 0);a.__decorate([d.property({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],
c.prototype,"normalizationField",null);a.__decorate([d.property({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],c.prototype,"referenceSizeScale",null);a.__decorate([d.property({type:["circle","diamond","hexagon-flat","hexagon-pointy","square"],value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],c.prototype,"referenceSizeSymbolStyle",null);a.__decorate([d.property({types:l,json:{write:!0}})],c.prototype,"startTime",void 0);a.__decorate([p.cast("startTime")],c.prototype,
"castStartTime",null);a.__decorate([d.property({type:[f],json:{origins:{"web-scene":{write:!1}},write:!0}})],c.prototype,"sizeStops",null);a.__decorate([d.property({type:k.apiValues,value:null,json:{type:k.jsonValues,read:k.read,write:k.write}})],c.prototype,"style",null);a.__decorate([d.property({type:q,value:null,json:{type:q,origins:{"web-scene":{type:w,write:{writer:(h,t)=>{w.includes(h)&&(t.theme=h)}}}},write:!0}})],c.prototype,"theme",null);a.__decorate([d.property({type:b.apiValues,json:{type:b.jsonValues,
read:b.read,write:b.write}})],c.prototype,"type",void 0);a.__decorate([d.property({type:m,json:{type:m,write:!0}})],c.prototype,"units",void 0);return c=g=a.__decorate([n.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],c)})},"esri/renderers/support/AuthoringInfoSizeStop":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){var f;b=f=class extends b.JSONSupport{constructor(g){super(g);this.value=this.size=this.label=null}clone(){return new f({label:this.label,value:this.value,size:this.size})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=f=a.__decorate([n.subclass("esri.renderers.support.AuthoringInfoSizeStop")],
b)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,c,e){c={key:"type",base:c,typeMap:{algorithmic:b,multipart:e}};a.fromJSON=function(d){return d?.type?"algorithmic"===d.type?b.fromJSON(d):"multipart"===d.type?e.fromJSON(d):null:null};a.types=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),
function(a,b,c,e,d,p,n,f){var g;f=g=class extends f{constructor(k){super(k);this.toColor=this.fromColor=this.algorithm=null;this.type="algorithmic"}clone(){return new g({fromColor:c.clone(this.fromColor),toColor:c.clone(this.toColor),algorithm:this.algorithm})}};a.__decorate([p.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],f.prototype,"algorithm",void 0);a.__decorate([e.property({type:b,json:{type:[d.Integer],write:!0}})],f.prototype,"fromColor",
void 0);a.__decorate([e.property({type:b,json:{type:[d.Integer],write:!0}})],f.prototype,"toColor",void 0);a.__decorate([e.property({type:["algorithmic"]})],f.prototype,"type",void 0);return f=g=a.__decorate([n.subclass("esri.rest.support.AlgorithmicColorRamp")],f)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){b=class extends b.JSONSupport{constructor(f){super(f);this.type=null}};a.__decorate([c.property({readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.rest.support.ColorRamp")],b)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,c,e,d,p,n,f){var g;e=g=class extends f{constructor(k){super(k);this.colorRamps=null;this.type="multipart"}clone(){return new g({colorRamps:b.clone(this.colorRamps)})}};a.__decorate([c.property({type:[n],json:{write:!0}})],e.prototype,"colorRamps",void 0);a.__decorate([c.property({type:["multipart"]})],e.prototype,"type",void 0);return e=g=a.__decorate([p.subclass("esri.rest.support.MultipartColorRamp")],e)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../support/randomRotationExpression ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y){const u={base:t,key:"type",typeMap:{opacity:q,color:w,rotation:m,size:h}};a.VisualVariablesMixin=r=>{r=class extends r{constructor(){super(...arguments);this._vvFactory=new y}set visualVariables(z){this._vvFactory.visualVariables=z;this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(z,v,x){return this._vvFactory.readVariables(z,v,x)}writeVisualVariables(z,v,x,B){v[x]=this._vvFactory.writeVariables(z,B)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;
for(const z of this.visualVariables)if(z.arcadeRequired)return!0;return!1}hasVisualVariables(z,v){return z?0<this.getVisualVariablesForType(z,v).length:0<this.getVisualVariablesForType("size",v).length||0<this.getVisualVariablesForType("color",v).length||0<this.getVisualVariablesForType("opacity",v).length||0<this.getVisualVariablesForType("rotation",v).length}getVisualVariablesForType(z,v){const x=this.visualVariables;return x?x.filter(B=>B.type===z&&("string"===typeof v?B.target===v:!1===v?!B.target:
!0)):[]}async collectVVRequiredFields(z,v){var x=[];this.visualVariables&&(x=x.concat(this.visualVariables));for(const A of x)if(A&&(A.field&&k.collectField(z,v,A.field),A.normalizationField&&k.collectField(z,v,A.normalizationField),A.valueExpression)){{x=z;var B=v;const C=l.matchRandomRotationExpression(A.valueExpression);null!=C?(k.collectField(x,B,C),x=!0):x=!1}x||await k.collectArcadeFieldNames(z,v,A.valueExpression)}}};b.__decorate([c.property({types:[u],value:null,json:{write:!0}})],r.prototype,
"visualVariables",null);b.__decorate([n.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],r.prototype,"readVisualVariables",null);b.__decorate([g.writer("visualVariables")],r.prototype,"writeVisualVariables",null);return r=b.__decorate([f.subclass("esri.renderers.mixins.VisualVariablesMixin")],r)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/randomRotationExpression":function(){define(["exports"],function(a){const b=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;
a.matchRandomRotationExpression=function(c){return c.match(b)?.[1]?.replace(/\\'/g,"'")??null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),function(a,b,c,e,d,p,n,f){var g;c=g=class extends n{constructor(k){super(k);
this.type="color";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(k){k&&Array.isArray(k)&&(k=k.filter(l=>!!l),k.sort((l,w)=>l.value-w.value));this._set("stops",k)}clone(){return new g({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(k=>k.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&
this.stops.map(k=>k.value||0)}};a.__decorate([b.property({readOnly:!0})],c.prototype,"cache",null);a.__decorate([b.property({type:["color"],json:{type:["colorInfo"]}})],c.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);a.__decorate([b.property({type:[f],json:{write:!0}})],c.prototype,"stops",null);return c=g=a.__decorate([p.subclass("esri.renderers.visualVariables.ColorVariable")],c)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,c,e,d,p,n,f,g){b=new b.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});c=class extends c.JSONSupport{constructor(k){super(k);this.legendOptions=this.valueExpressionTitle=this.valueExpression=this.field=this.type=this.index=null}castField(k){return null==k?k:"function"===typeof k?(e.getLogger(this).error(".field: field must be a string value"),null):f.ensureString(k)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};
a.__decorate([d.property()],c.prototype,"index",void 0);a.__decorate([d.property({type:b.apiValues,readOnly:!0,json:{read:b.read,write:b.write}})],c.prototype,"type",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([p.cast("field")],c.prototype,"castField",null);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",
void 0);a.__decorate([d.property({readOnly:!0})],c.prototype,"arcadeRequired",null);a.__decorate([d.property({type:g,json:{write:!0}})],c.prototype,"legendOptions",void 0);return c=a.__decorate([n.subclass("esri.renderers.visualVariables.VisualVariable")],c)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../support/LegendOptions".split(" "),
function(a,b,c,e,d,p,n){var f;c=f=class extends n.LegendOptions{constructor(){super(...arguments);this.showLegend=null}clone(){return new f({title:this.title,showLegend:this.showLegend})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"showLegend",void 0);return c=f=a.__decorate([p.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],c)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){var g;a.LegendOptions=g=class extends c.JSONSupport{constructor(){super(...arguments);this.title=null}clone(){return new g({title:this.title})}};b.__decorate([e.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=g=b.__decorate([f.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,p,n,f,g){var k;c=k=class extends c.JSONSupport{constructor(l){super(l);this.value=this.label=this.color=null}writeValue(l,w,q){w[q]=null==l?0:l}clone(){return new k({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};a.__decorate([e.property({type:b,json:{type:[d.Integer],write:!0}})],c.prototype,"color",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);a.__decorate([e.property({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],
c.prototype,"value",void 0);a.__decorate([g.writer("value")],c.prototype,"writeValue",null);return c=k=a.__decorate([f.subclass("esri.renderers.visualVariables.support.ColorStop")],c)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),function(a,b,c,e,d,p,n,f){var g;
c=g=class extends n{constructor(k){super(k);this.type="opacity";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(k){k&&Array.isArray(k)&&(k=k.filter(l=>!!l),k.sort((l,w)=>l.value-w.value));this._set("stops",k)}clone(){return new g({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(k=>
k.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(k=>k.value||0)}};a.__decorate([b.property({readOnly:!0})],c.prototype,"cache",null);a.__decorate([b.property({type:["opacity"],json:{type:["transparencyInfo"]}})],c.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);a.__decorate([b.property({type:[f],
json:{write:!0}})],c.prototype,"stops",null);return c=g=a.__decorate([p.subclass("esri.renderers.visualVariables.OpacityVariable")],c)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k){var l;b=l=class extends b.JSONSupport{constructor(w){super(w);this.value=this.opacity=this.label=null}readOpacity(w,q){return k.transparencyToOpacity(q.transparency)}writeOpacity(w,q,m){q[m]=k.opacityToTransparency(w)}clone(){return new l({label:this.label,opacity:this.opacity,value:this.value})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property({type:Number,json:{type:e.Integer,write:{target:"transparency"}}})],
b.prototype,"opacity",void 0);a.__decorate([n.reader("opacity",["transparency"])],b.prototype,"readOpacity",null);a.__decorate([g.writer("opacity")],b.prototype,"writeOpacity",null);a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=l=a.__decorate([f.subclass("esri.renderers.visualVariables.support.OpacityStop")],b)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable".split(" "),
function(a,b,c,e,d,p,n,f,g){var k;e=k=class extends g{constructor(l){super(l);this.axis=null;this.type="rotation";this.rotationType="geographic";this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(l,w,q,m){m?.messages&&m.messages.push(new b("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:m}))}clone(){return new k({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};a.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);a.__decorate([c.property({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],e.prototype,"axis",void 0);a.__decorate([c.property({type:["rotation"],
json:{type:["rotationInfo"]}})],e.prototype,"type",void 0);a.__decorate([c.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],e.prototype,"rotationType",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);a.__decorate([f.writer("web-scene","valueExpressionTitle")],e.prototype,"writeValueExpressionTitleWebScene",null);return e=k=a.__decorate([n.subclass("esri.renderers.visualVariables.RotationVariable")],
e)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/castSizeVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){function t(x){if(null!=x){if("string"===typeof x||"number"===typeof x)return l.castSizeFromStringOrNumber(x);if("size"===x.type){if(m.isSizeVariable(x))return x;x={...x};delete x.type;return new v(x)}}}function y(x,B,A){if("object"!==typeof x)return x;B=new v;B.read(x,A);return B}var u;const r=new c.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),z=new c.JSONMap({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",
mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let v=u=class extends k{constructor(x){super(x);this.target=this.scaleBy=this.normalizationField=this.legendOptions=this.axis=null;this.type="size";this.valueUnit=this.valueRepresentation=this.valueExpression=this.useSymbolValue=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,
compiledFunc:null,isScaleDriven:null!=this.valueExpression&&h.viewScaleRE.test(this.valueExpression)}}set index(x){m.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${x}].maxSize`);m.isSizeVariable(this.minSize)&&(this.minSize.index=`visualVariables[${x}].minSize`);this._set("index",x)}get inputValueType(){return m.getInputValueType(this)}set maxDataValue(x){x&&this.stops&&(e.getLogger(this).warn("cannot set maxDataValue when stops is not null."),x=null);this._set("maxDataValue",
x)}set maxSize(x){x&&this.stops&&(e.getLogger(this).warn("cannot set maxSize when stops is not null."),x=null);this._set("maxSize",x)}castMaxSize(x){return t(x)}readMaxSize(x,B,A){return y(x,B,A)}set minDataValue(x){x&&this.stops&&(e.getLogger(this).warn("cannot set minDataValue when stops is not null."),x=null);this._set("minDataValue",x)}set minSize(x){x&&this.stops&&(e.getLogger(this).warn("cannot set minSize when stops is not null."),x=null);this._set("minSize",x)}castMinSize(x){return t(x)}readMinSize(x,
B,A){return y(x,B,A)}get arcadeRequired(){return this.valueExpression?!0:null!=this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(x){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?x&&Array.isArray(x)&&(x=x.filter(B=>!!B),x.sort((B,A)=>B.value-A.value)):x&&(e.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),
x=null);this._set("stops",x)}get transformationType(){return m.getTransformationType(this,this.inputValueType)}readValueExpression(x,B){return x||B.expression&&"$view.scale"}writeValueExpressionWebScene(x,B,A,C){"$view.scale"===x?C?.messages&&(x=this.index,C.messages.push(new b("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"===typeof x?x:`visualVariables[${x}]`)+
".valueExpression",context:C}))):B[A]=x}readValueUnit(x){return x?z.read(x):null}clone(){return new u({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:m.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:m.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(x=>x.clone()),
target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===m.TransformationType.ClampedLinear){const {minSize:x,maxSize:B}=this;this.minSize=B;this.maxSize=x;return this}if(this.transformationType===m.TransformationType.Stops){const x=this.stops;if(!x)return this;const B=x.map(C=>C.size).reverse(),A=x.length;for(let C=0;C<A;C++)x[C].size=B[C]}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(x=>
x.value||0)}};a.__decorate([d.property({readOnly:!0})],v.prototype,"cache",null);a.__decorate([d.property({type:r.apiValues,json:{type:r.jsonValues,origins:{"web-map":{read:!1}},read:r.read,write:r.write}})],v.prototype,"axis",void 0);a.__decorate([d.property()],v.prototype,"index",null);a.__decorate([d.property({type:String,readOnly:!0})],v.prototype,"inputValueType",null);a.__decorate([d.property({type:q,json:{write:!0}})],v.prototype,"legendOptions",void 0);a.__decorate([d.property({type:Number,
value:null,json:{write:!0}})],v.prototype,"maxDataValue",null);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],v.prototype,"maxSize",null);a.__decorate([p.cast("maxSize")],v.prototype,"castMaxSize",null);a.__decorate([n.reader("maxSize")],v.prototype,"readMaxSize",null);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],v.prototype,"minDataValue",null);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],v.prototype,"minSize",null);a.__decorate([p.cast("minSize")],
v.prototype,"castMinSize",null);a.__decorate([n.reader("minSize")],v.prototype,"readMinSize",null);a.__decorate([d.property({type:String,json:{write:!0}})],v.prototype,"normalizationField",void 0);a.__decorate([d.property({readOnly:!0})],v.prototype,"arcadeRequired",null);a.__decorate([d.property({type:String})],v.prototype,"scaleBy",void 0);a.__decorate([d.property({type:[w],value:null,json:{write:!0}})],v.prototype,"stops",null);a.__decorate([d.property({type:["outline"],json:{write:!0}})],v.prototype,
"target",void 0);a.__decorate([d.property({type:String,readOnly:!0})],v.prototype,"transformationType",null);a.__decorate([d.property({type:["size"],json:{type:["sizeInfo"]}})],v.prototype,"type",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],v.prototype,"useSymbolValue",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],v.prototype,"valueExpression",void 0);a.__decorate([n.reader("valueExpression",["valueExpression","expression"])],v.prototype,
"readValueExpression",null);a.__decorate([g.writer("web-scene","valueExpression")],v.prototype,"writeValueExpressionWebScene",null);a.__decorate([d.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],v.prototype,"valueRepresentation",void 0);a.__decorate([d.property({type:z.apiValues,json:{write:z.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],v.prototype,"valueUnit",void 0);a.__decorate([n.reader("valueUnit")],v.prototype,"readValueUnit",
null);return v=u=a.__decorate([f.subclass("esri.renderers.visualVariables.SizeVariable")],v)})},"esri/renderers/visualVariables/support/castSizeVariable":function(){define(["exports","../../../core/screenUtils"],function(a,b){a.castSizeFromStringOrNumber=function(c){return b.toPt(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){var g;b=g=class extends b.JSONSupport{constructor(k){super(k);this.useMaxValue=this.useMinValue=this.value=this.size=this.label=null}clone(){return new g({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([e.property({type:Number,
json:{write:!0}})],b.prototype,"value",void 0);a.__decorate([e.property({type:Boolean,json:{write:!1}})],b.prototype,"useMinValue",void 0);a.__decorate([e.property({type:Boolean,json:{write:!1}})],b.prototype,"useMaxValue",void 0);return b=g=a.__decorate([f.subclass("esri.renderers.visualVariables.support.SizeStop")],b)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),
function(a,b,c,e,d,p,n){var f;c=f=class extends n{constructor(){super(...arguments);this.customValues=null}clone(){return new f({title:this.title,showLegend:this.showLegend,customValues:this.customValues?.slice(0)})}};a.__decorate([b.property({type:[Number],json:{write:!0}})],c.prototype,"customValues",void 0);return c=f=a.__decorate([p.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],c)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],
function(a){function b(c){return c.valueExpression?a.InputValueType.Expression:c.field&&"string"===typeof c.field?a.InputValueType.Field:a.InputValueType.Unknown}a.InputValueType=void 0;(function(c){c.Unknown="unknown";c.Expression="expression";c.Field="field"})(a.InputValueType||(a.InputValueType={}));a.TransformationType=void 0;(function(c){c.Unknown="unknown";c.Stops="stops";c.ClampedLinear="clamped-linear";c.Proportional="proportional";c.Additive="additive";c.Constant="constant";c.Identity="identity";
c.RealWorldSize="real-world-size"})(a.TransformationType||(a.TransformationType={}));a.getInputValueType=b;a.getTransformationType=function(c,e){return(e||b(c))===a.InputValueType.Unknown?a.TransformationType.Constant:c.stops?a.TransformationType.Stops:null!=c.minSize&&null!=c.maxSize&&null!=c.minDataValue&&null!=c.maxDataValue?a.TransformationType.ClampedLinear:"unknown"===(c.valueUnit||"unknown")?null!=c.minSize&&null!=c.minDataValue?c.minSize&&c.minDataValue?a.TransformationType.Proportional:a.TransformationType.Additive:
a.TransformationType.Identity:a.TransformationType.RealWorldSize};a.isSizeVariable=function(c){return c&&"esri.renderers.visualVariables.SizeVariable"===c.declaredClass};a.isValidNumber=function(c){return null!=c&&!isNaN(c)&&isFinite(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../support/lengthUtils ./sizeVariableUtils".split(" "),
function(a,b,c,e,d,p,n){function f(x,B,A){if(x="visualVariables"in x&&x.visualVariables?x.visualVariables.find(R=>"color"===R.type):x)if("esri.renderers.visualVariables.ColorVariable"!==x.declaredClass)u("ColorVariable");else{var C="number"===typeof B,H=C?null:B,N=H?.attributes,I=C?B:null,E=x.field,{ipData:G,hasExpression:L}=x.cache;B=x.cache.compiledFunc;if(!E&&!L)return(A=x.stops)&&A[0]&&A[0].color;if("number"!==typeof I)if(L){if(null==A?.arcade){r();return}I=A.arcade.arcadeUtils;E=I.getViewInfo({viewingMode:A.viewingMode,
scale:A.scale,spatialReference:A.spatialReference});H=I.createExecContext(H,E,A.timeZone);B||(B=I.createSyntaxTree(x.valueExpression),B=I.createFunction(B),x.cache.compiledFunc=B);I=I.executeFunction(B,H)}else N&&(I=N[E]);H=x.normalizationField;N=null!=N&&null!=H?parseFloat(N[H]):void 0;if(null!=I&&(!H||C||!isNaN(N)&&0!==N)&&(isNaN(N)||C||(I/=N),C=t(I,G)))return N=C[0],H=C[1],A=N===H?x.stops[N].color:b.blendColors(x.stops[N].color,x.stops[H].color,C[2],null!=A?A.color:void 0),new b(A)}}function g(x,
B,A){if(x="visualVariables"in x&&x.visualVariables?x.visualVariables.find(R=>"opacity"===R.type):x)if("esri.renderers.visualVariables.OpacityVariable"!==x.declaredClass)u("OpacityVariable");else{var C="number"===typeof B,H=C?null:B,N=H?.attributes,I=C?B:null,E=x.field,{ipData:G,hasExpression:L}=x.cache;B=x.cache.compiledFunc;if(!E&&!L)return(x=x.stops)&&x[0]&&x[0].opacity;if("number"!==typeof I)if(L){if(null==A?.arcade){r();return}I=A.arcade.arcadeUtils;E=I.getViewInfo({viewingMode:A.viewingMode,
scale:A.scale,spatialReference:A.spatialReference});A=I.createExecContext(H,E,A.timeZone);B||(H=I.createSyntaxTree(x.valueExpression),B=I.createFunction(H),x.cache.compiledFunc=B);I=I.executeFunction(B,A)}else N&&(I=N[E]);A=x.normalizationField;N=null!=N&&null!=A?parseFloat(N[A]):void 0;if(null!=I&&(!A||C||!isNaN(N)&&0!==N)&&(isNaN(N)||C||(I/=N),C=t(I,G))){A=C[0];N=C[1];if(A===N)return x.stops[A].opacity;A=x.stops[A].opacity;return A+(x.stops[N].opacity-A)*C[2]}}}function k(x,B,A){if(x="visualVariables"in
x&&x.visualVariables?x.visualVariables.find(R=>"rotation"===R.type):x)if("esri.renderers.visualVariables.RotationVariable"!==x.declaredClass)u("RotationVariable");else{var C=x.axis||"heading",H="heading"===C&&"arithmetic"===x.rotationType?90:0;C="heading"===C&&"arithmetic"===x.rotationType?-1:1;var N="number"===typeof B?null:B,I=N?.attributes,E=x.field,{hasExpression:G}=x.cache;B=x.cache.compiledFunc;var L=0;if(!E&&!G)return L;if(G){if(null==A?.arcade){r();return}I=A.arcade.arcadeUtils;E=I.getViewInfo({viewingMode:A.viewingMode,
scale:A.scale,spatialReference:A.spatialReference});A=I.createExecContext(N,E,A.timeZone);B||(B=I.createSyntaxTree(x.valueExpression),B=I.createFunction(B),x.cache.compiledFunc=B);L=I.executeFunction(B,A)}else I&&(L=I[E]||0);return L="number"!==typeof L||isNaN(L)?null:H+C*L}}function l(x,B,A){const C="number"===typeof B;var H=C?null:B;const N=H?.attributes;var I=C?B:null,{isScaleDriven:E}=x.cache;B=x.cache.compiledFunc;if(E)H=null!=A?A.scale:void 0,A=null!=A?A.view:void 0,null==H||"3d"===A?(H=A=null,
(H=x.stops)?(A=H[0].value,H=H[H.length-1].value):(A=x.minDataValue||0,H=x.maxDataValue||0),A=(A+H)/2):A=H,I=A;else if(!C)switch(x.inputValueType){case n.InputValueType.Expression:if(null==A?.arcade){r();return}I=A.arcade.arcadeUtils;E=I.getViewInfo({viewingMode:A.viewingMode,scale:A.scale,spatialReference:A.spatialReference});A=I.createExecContext(H,E,A.timeZone);B||(H=I.createSyntaxTree(x.valueExpression),B=I.createFunction(H),x.cache.compiledFunc=B);I=I.executeFunction(B,A);break;case n.InputValueType.Field:N&&
(I=N[x.field]);break;case n.InputValueType.Unknown:I=null}if(!n.isValidNumber(I))return null;if(C||!x.normalizationField)return I;x=N?parseFloat(N[x.normalizationField]):null;return n.isValidNumber(x)&&0!==x?I/x:null}function w(x,B,A){if(x="visualVariables"in x&&x.visualVariables?x.visualVariables.find(H=>"size"===H.type):x)if("esri.renderers.visualVariables.SizeVariable"!==x.declaredClass)u("SizeVariable");else{var C=l(x,B,A);B=h(C,x,B,A,x.cache.ipData);return null===B||void 0===B||isNaN(B)?0:B}}
function q(x,B,A){return null==x?null:n.isSizeVariable(x)?w(x,B,A):n.isValidNumber(x)?x:null}function m(x,B,A){return n.isValidNumber(A)&&x>A?A:n.isValidNumber(B)&&x<B?B:x}function h(x,B,A,C,H){switch(B.transformationType){case n.TransformationType.Additive:return C=q(B.minSize,A,C),x+((C||B.minDataValue)??0);case n.TransformationType.Constant:return x=B.stops,x=x?.length&&x[0].size,null==x&&(x=B.minSize),q(x,A,C);case n.TransformationType.ClampedLinear:H=(x-B.minDataValue)/(B.maxDataValue-B.minDataValue);
var N=q(B.minSize,A,C);A=q(B.maxSize,A,C);C=null!=C?C.shape:void 0;x<=B.minDataValue?B=N:x>=B.maxDataValue?B=A:null==N||null==A?B=null:"area"===B.scaleBy&&C?(x=(B="circle"===C)?v*(N/2)**2:N*N,x+=H*((B?v*(A/2)**2:A*A)-x),B=B?2*Math.sqrt(x/v):Math.sqrt(x)):B=N+H*(A-N);return B;case n.TransformationType.Proportional:return H=null!=C?C.shape:void 0,x/=B.minDataValue,N=q(B.minSize,A,C),B=q(B.maxSize,A,C),C=null,C="circle"===H?2*Math.sqrt(x*(N/2)**2):"square"===H||"diamond"===H||"image"===H?Math.sqrt(x*
N**2):x*N,m(C,N,B);case n.TransformationType.Stops:{const [I,E,G]=t(x,H);I===E?B=q(B.stops?.[I].size,A,C):(x=q(B.stops?.[I].size,A,C),B=q(B.stops?.[E].size,A,C),B=x+(B-x)*G)}return B;case n.TransformationType.RealWorldSize:return H=(C?.resolution??1)*p.meterIn[B.valueUnit],N=q(B.minSize,A,C),C=q(B.maxSize,A,C),{valueRepresentation:B}=B,A=null,A="area"===B?2*Math.sqrt(x/v)/H:"radius"===B||"distance"===B?2*x/H:x/H,m(A,N,C);case n.TransformationType.Identity:return x;case n.TransformationType.Unknown:return null}}
function t(x,B){if(B){var A=0,C=B.length-1;B.some((H,N)=>{if(x<H)return C=N,!0;A=N;return!1});return[A,C,(x-B[A])/(B[C]-B[A])]}}const y=()=>d.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),u=x=>y().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${x}`),r=()=>y().error("Use of arcade expressions requires an arcade context"),z=new c,v=Math.PI;a.getAllSizes=function(x,B,A){const C=["proportional","proportional","proportional"];for(const H of x)switch(x=
H.useSymbolValue?"symbol-value":w(H,B,A),H.axis){case "width":C[0]=x;break;case "depth":C[1]=x;break;case "height":C[2]=x;break;case "width-and-depth":C[0]=x;C[1]=x;break;case "all":case void 0:case null:C[0]=x;C[1]=x;C[2]=x;break;default:e.neverReached(H.axis)}return C};a.getColor=f;a.getOpacity=g;a.getRotationAngle=k;a.getSize=w;a.getSizeForValue=h;a.getSizeFromNumberOrVariable=q;a.getSizeRangeAtScale=function(x,B,A){const {isScaleDriven:C}=x.cache;if(!(C&&"3d"===A||B))return null;A={scale:B,view:A};
B=q(x.minSize,z,A);x=q(x.maxSize,z,A);if(null!=B||null!=x)return B>x&&(A=x,x=B,B=A),{minSize:B,maxSize:x}};a.getVisualVariableValues=function(x,B,A){if(x.visualVariables){var C=[],H=[],N=[],I=[],E=[];for(const G of x.visualVariables)switch(G.type){case "color":H.push(G);break;case "opacity":N.push(G);break;case "rotation":E.push(G);break;case "size":I.push(G)}H.forEach(G=>{const L=f(G,B,A);C.push({variable:G,value:L})});N.forEach(G=>{const L=g(G,B,A);C.push({variable:G,value:L})});E.forEach(G=>{const L=
k(G,B,A);C.push({variable:G,value:L})});I.forEach(G=>{const L=w(G,B,A);C.push({variable:G,value:L})});return C.filter(G=>null!=G.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Graphic":function(){define("./chunks/tslib.es6 ./geometry ./PopupTemplate ./symbols ./core/Clonable ./core/deprecate ./core/JSONSupport ./core/Logger ./core/reactiveUtils ./core/uid ./core/accessorSupport/decorators/property ./core/has ./core/RandomLCG ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){var t;d=t=class extends d.ClonableMixin(n.JSONSupport){constructor(y){super(y);this.isAggregate=!1;this.sourceLayer=this.popupTemplate=this.origin=this.layer=null;Object.defineProperty(this,"uid",{value:k.generateUID(),configurable:!0});Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1});1<arguments.length&&p.deprecatedConstructorSignature(f.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(y){const u=
this._get("aggregateGeometries");JSON.stringify(u)!==JSON.stringify(y)&&this._set("aggregateGeometries",y)}set attributes(y){const u=this._get("attributes");u!==y&&(this._set("attributes",y),this._notifyLayer("attributes",u,y))}set geometry(y){const u=this._get("geometry");u!==y&&(this._set("geometry",y),"mesh"!==y?.type&&this._notifyLayer("geometry",u,y))}set symbol(y){const u=this._get("symbol");u!==y&&(this._set("symbol",y),this._notifyLayer("symbol",u,y))}set visible(y){const u=this._get("visible");
u!==y&&(this._set("visible",y),this._notifyLayer("visible",u,y))}cloneShallow(){return new t({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(y=!1){if(this.popupTemplate)return this.popupTemplate;const u=this.origin&&"layer"in this.origin?this.origin.layer:null;
for(const r of[u,this.sourceLayer,this.layer])if(r){if("popupTemplate"in r&&r.popupTemplate)return r.popupTemplate;if(y&&"defaultPopupTemplate"in r&&null!=r.defaultPopupTemplate)return r.defaultPopupTemplate}return null}getAttribute(y){return this.attributes?.[y]}setAttribute(y,u){if(this.attributes){const r=this.getAttribute(y);this.attributes[y]=u;this._notifyLayer("attributes",r,u,y)}else this.attributes={[y]:u},this._notifyLayer("attributes",void 0,u,y)}getObjectId(){return this.sourceLayer?"objectIdField"in
this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null}toJSON(){var y=this.aggregateGeometries;if(null==y)y=null;else{var u={};for(const r in y){const z=y[r];z&&(u[r]=z.toJSON())}y=0!==Object.keys(u).length?u:null}return{aggregateGeometries:y,geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:n.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??
null}}notifyMeshTransformChanged(y={}){var {geometry:u}=this;"mesh"===u?.type&&(u={origin:u.origin,transform:u.transform},this._notifyLayer("origin-transform",u,u,y.action))}_notifyLayer(y,u,r,z){this.layer&&"graphicChanged"in this.layer&&(u={graphic:this,property:y,oldValue:u,newValue:r},"origin-transform"===y&&(u.action=z),"attributes"===y&&(u.attributeName=z),this.layer.graphicChanged(u))}_watchMeshGeometryChanges(){this.addHandles([g.when(()=>"mesh"===this.geometry?.type&&this.geometry.vertexSpace.origin?
{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:y,origin:u})=>{if(this._lastMeshTransform.localMatrix!==y||this._lastMeshTransform.origin!==u)this._lastMeshTransform.localMatrix=y,this._lastMeshTransform.origin=u,this.notifyMeshTransformChanged()}),g.when(()=>"mesh"===this.geometry?.type?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const y=this.geometry;"mesh"===y?.type&&y.vertexSpace.origin?(this._lastMeshTransform.localMatrix=
y.transform?.localMatrix,this._lastMeshTransform.origin=y.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0);this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(y,u)=>y===u,sync:!0})])}};a.__decorate([l.property({value:null,json:{read:function(y){if(!y)return null;const u={};for(const r in y){const z=h.fromJSON(y[r]);z&&(u[r]=z)}return 0!==Object.keys(u).length?u:null}}})],d.prototype,"aggregateGeometries",null);a.__decorate([l.property({value:null})],
d.prototype,"attributes",null);a.__decorate([l.property({value:null,types:b.geometryTypes,json:{read:h.fromJSON}})],d.prototype,"geometry",null);a.__decorate([l.property({type:Boolean})],d.prototype,"isAggregate",void 0);a.__decorate([l.property({clonable:"reference"})],d.prototype,"layer",void 0);a.__decorate([l.property({clonable:"reference"})],d.prototype,"origin",void 0);a.__decorate([l.property({type:c})],d.prototype,"popupTemplate",void 0);a.__decorate([l.property({clonable:"reference"})],d.prototype,
"sourceLayer",void 0);a.__decorate([l.property({value:null,types:e.symbolTypes})],d.prototype,"symbol",null);a.__decorate([l.property({type:Boolean,value:!0})],d.prototype,"visible",null);d=t=a.__decorate([m.subclass("esri.Graphic")],d);(d||={}).generateUID=k.generateUID;return d})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q){const m={color:k,size:q,opacity:l,rotation:w},h=new c.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),t=/^\[([^\]]+)\]$/i;b=class extends b{constructor(){super(...arguments);this.sizeVariables=this.rotationVariables=this.opacityVariables=this.colorVariables=null}set visualVariables(y){this._resetVariables();y=y&&y.filter(r=>!!r);if(y?.length){for(var u of y)switch(u.type){case "color":this.colorVariables.push(u);break;
case "opacity":this.opacityVariables.push(u);break;case "rotation":this.rotationVariables.push(u);break;case "size":this.sizeVariables.push(u)}this.sizeVariables.length&&this.sizeVariables.some(r=>!!r.target)&&y.sort((r,z)=>{let v=null;return v=r.target===z.target?0:r.target?1:-1});for(u=0;u<y.length;u++)y[u].index=u}this._set("visualVariables",y)}readVariables(y,u,r){const {rotationExpression:z,rotationType:v}=u;if(u=z?.match(t)?.[1])y||=[],y.push({type:"rotationInfo",rotationType:v,field:u});if(y)return y.map(x=>
{var B=h.read(x.type);const A=m[B];A||(e.getLogger(this).warn(`Unknown variable type: ${B}`),r?.messages&&r.messages.push(new d("visual-variable:unsupported",`visualVariable of type '${B}' is not supported`,{definition:x,context:r})));B=new A;B.read(x,r);return B})}writeVariables(y,u){const r=[];for(const z of y)(y=z.toJSON(u))&&r.push(y);return r}_resetVariables(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]}};a.__decorate([p.property()],b.prototype,
"visualVariables",null);return b=a.__decorate([g.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,c,e,d,p,n,f){var g;b=g=class extends b.JSONSupport{constructor(k){super(k);this.minValue=
this.label=this.description=null;this.maxValue=0;this.symbol=null}clone(){return new g({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const k=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${k}`}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property({type:Number,
json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);a.__decorate([c.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);a.__decorate([c.property(f.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);return b=g=a.__decorate([n.subclass("esri.renderers.support.ClassBreakInfo")],b)})},"esri/renderers/support/commonProperties":function(){define("exports ../../symbols ../../core/object ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/support/jsonUtils ../../symbols/Symbol ../../symbols/PolygonSymbol3D".split(" "),
function(a,b,c,e,d,p,n){e={types:b.symbolTypesRenderer,json:{write:{writer:d.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,write:{writer:d.write},read:{reader:e.createTypeReader({types:b.symbolTypesRenderer3D})}}}}};c=c.deepMerge({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},e);const f={cast:g=>null==g||"string"===typeof g||"number"===typeof g?g:`${g}`,json:{type:String,write:{writer:(g,k)=>{k.value=g?.toString()}}}};a.rendererBackgroundFillSymbolProperty={types:{base:p,key:"type",
typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:d.write},origins:{"web-scene":{type:n,write:{writer:d.write}}}}};a.rendererSymbolProperty=e;a.requiredRendererSymbolProperty=c;a.uniqueValueProperty=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/jsonUtils":function(){define("exports ../../symbols ../../core/Error ../../layers/support/layerUtils ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),
function(a,b,c,e,d,p,n){function f(g,k,l){if(null==g)return null;const {context:w,isLabelSymbol:q}=l;var m=w?.origin;l=w?.messages;if("web-scene"===m&&!(g instanceof d||g instanceof n)){m=p.to3D(g,{retainCIM:!0,hasLabelingContext:q});if(null!=m.symbol)return m.symbol.write(k,w);l?.push(new c("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:g,context:w,error:m.error}));return null}return("web-map"===
m||"portal-item"===m&&!e.isSceneServiceLayer(w?.layer))&&(g instanceof d||g instanceof n)?(l?.push(new c("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:g,context:w})),null):g.write(k,w)}a.fromJSON=function(g,k){return b.readSymbol(g,null,k)};a.write=function(g,k,l,w){g=f(g,{},{context:w,isLabelSymbol:!1});null!=g&&(k[l]=g)};a.writeLabelSymbol=function(g,k,l,w){g=f(g,
{},{context:w,isLabelSymbol:!0});null!=g&&(k[l]=g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../symbols ../../core/Error ./defaults3D ../WebStyleSymbol ../PointSymbol3D ../SimpleLineSymbol ../LineSymbol3D ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../MeshSymbol3D ../PolygonSymbol3D ../TextSymbol ../LabelSymbol3D".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){const t={retainId:!1,
ignoreDrivers:!1,hasLabelingContext:!0};a.defaultTo3DOptions=t;a.to3D=function(y,u=t){if(!y)return{symbol:null};const {retainId:r=t.retainId,ignoreDrivers:z=t.ignoreDrivers,hasLabelingContext:v=t.hasLabelingContext,retainCIM:x=t.retainCIM,cimFallbackEnabled:B=t.cimFallbackEnabled}=u;let A=null;if(b.isSymbol3D(y)||y instanceof d)A=y.clone();else if("cim"===y.type){const C=y.data?.symbol?.type;switch(C){case "CIMPointSymbol":A=x?y.clone():p.fromCIMSymbol(y);break;case "CIMLineSymbol":B&&(A=e.defaultRendererPolylineSymbol3D.clone(),
u?.logWarning?.("Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case "CIMPolygonSymbol":B&&(A=e.defaultRendererPolygonSymbol3D.clone(),u?.logWarning?.("Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!A)return{error:new c("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${C||"unknown"}' is unsupported in 3D`,{symbol:y})}}else if(y instanceof n)A=f.fromSimpleLineSymbol(y);else if(y instanceof g)A=p.fromSimpleMarkerSymbol(y);
else if(y instanceof k)A=p.fromPictureMarkerSymbol(y);else if(y instanceof l)A=u.geometryType&&"mesh"===u.geometryType?w.fromSimpleFillSymbol(y):q.fromSimpleFillSymbol(y);else if(y instanceof m)A=v?h.fromTextSymbol(y):p.fromTextSymbol(y);else return{error:new c("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${y.type||y.declaredClass}' is unsupported in 3D`,{symbol:y})};r&&A&&"cim"!==A.type&&(A.id=y.id);z&&b.isSymbol3D(A)&&A.symbolLayers.forEach(C=>C.ignoreDrivers=!0);return{symbol:A}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaults3D":function(){define("exports ../../Color ../../symbols ../../core/Collection ../../core/has ../../core/screenUtils ../FillSymbol3DLayer ../LineSymbol3D ../MeshSymbol3D ../PointSymbol3D ../PolygonSymbol3D ../edges/SolidEdges3D ./defaults ./defaultsJSON ../LineSymbol3DLayer".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){const t=k.fromSimpleMarkerSymbol(q.defaultPointSymbol2D),y=f.fromSimpleLineSymbol(q.defaultPolylineSymbol2D),
u=l.fromSimpleFillSymbol(q.defaultPolygonSymbol2D),r=new g({symbolLayers:new e([new n({material:{color:m.defaultColor},edges:new w({size:p.px2pt(1),color:new b(m.defaultOutlineColor)})})])});c=new f({symbolLayers:new e([new h({material:{color:new b([0,0,0])},size:p.px2pt(1)})])});b=new l({symbolLayers:new e([new n({outline:{color:new b([0,0,0]),size:p.px2pt(1)}})])});a.defaultRendererPolygonSymbol3D=b;a.defaultRendererPolylineSymbol3D=c;a.getDefaultSymbol3D=function(z){if(null==z)return null;switch(z.type){case "mesh":return r;
case "point":case "multipoint":return t;case "polyline":return y;case "polygon":case "extent":return u}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),function(a,b,c,e,d,p,n){const f=d.fromJSON(n.defaultPointSymbolJSON),g=e.fromJSON(n.defaultPolylineSymbolJSON),k=c.fromJSON(n.defaultPolygonSymbolJSON);
b=p.fromJSON(n.defaultTextSymbolJSON);d=d.fromJSON(n.errorPointSymbolJSON);e=e.fromJSON(n.errorPolylineSymbolJSON);c=c.fromJSON(n.errorPolygonSymbolJSON);a.defaultPointSymbol2D=f;a.defaultPolygonSymbol2D=k;a.defaultPolylineSymbol2D=g;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=d;a.errorPolygonSymbol2D=c;a.errorPolylineSymbol2D=e;a.getDefaultSymbol2D=function(l){if(null==l)return null;switch(l.type){case "point":case "multipoint":return f;case "polyline":return g;case "polygon":case "extent":return k}return null};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(a){const b=[252,146,31,255],c={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},e={type:"esriSLS",style:"esriSLSSolid",width:.75,color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=c;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",
color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=e;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON=
{type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){var w;e=w=class extends k.VisualVariablesMixin(g){constructor(q){super(q);this.url=this.scaleExpressionTitle=this.scaleExpression=this.fieldMap=this.config=null;this.type="dictionary"}get _loader(){return new l.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(q,m){q&&(m.scalingExpressionInfo={expression:q,returnType:"number"})}writeVisualVariables(q,m,h,t){t?.origin||super.writeVisualVariables(q,m,h,t)}clone(){return new w({config:b.clone(this.config),
scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:b.clone(this.fieldMap),url:b.clone(this.url),visualVariables:b.clone(this.visualVariables)})}async getSymbolAsync(q,m){return this._loader.getSymbolAsync(q,m)}async collectRequiredFields(q,m){await this.collectVVRequiredFields(q,m);this.scaleExpression&&await f.collectArcadeFieldNames(q,m,this.scaleExpression);for(const h in this.fieldMap){const t=this.fieldMap[h];m.has(t)&&q.add(t)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&
this.visualVariables.reduce((q,m)=>q+m.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};a.__decorate([c.property({type:l.DictionaryLoader})],e.prototype,"_loader",null);a.__decorate([c.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],e.prototype,"config",void 0);a.__decorate([c.property({type:Object,json:{write:!0}})],e.prototype,"fieldMap",void 0);a.__decorate([c.property({type:String,
json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],e.prototype,"scaleExpression",void 0);a.__decorate([n.writer("scaleExpression")],e.prototype,"writeData",null);a.__decorate([c.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(q){return{enabled:!!q&&!!this.scaleExpression}}}}})],e.prototype,"scaleExpressionTitle",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"url",void 0);
a.__decorate([n.writer("visualVariables")],e.prototype,"writeVisualVariables",null);return e=w=a.__decorate([p.subclass("esri.renderers.DictionaryRenderer")],e)})},"esri/renderers/support/DictionaryLoader":function(){define("exports ../../Color ../../request ../../core/Error ../../core/has ../../core/lang ../../core/Logger ../../core/LRUCache ../../core/promiseUtils ../../core/Version ../../layers/support/FieldsIndex ../../support/arcadeOnDemand ../../symbols/CIMSymbol ../../symbols/cim/OverrideHelper ../../symbols/cim/utils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){const t={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class y{constructor(u,r,z){this.url=this.fieldMap=this.config=null;this._ongoingRequests=new Map;this._symbolCache=new f.LRUCache(100);this._dictionaryPromise=this._fieldIndex=this._dictionaryVersion=null;this.url=u;this.config=r;this.fieldMap=z}getSymbolFields(){return this._symbolFields}async getSymbolAsync(u,r){this._dictionaryPromise||
(this._dictionaryPromise=this.fetchResources(r));try{var z=await this._dictionaryPromise}catch(C){if(g.isAbortError(C))return this._dictionaryPromise=null}var v=this._dictionaryVersion?.since(4,0),x={};if(this.fieldMap)for(var B of this._symbolFields){var A=h.getFieldName(this.fieldMap[B],this._fieldIndex);if(A){const C=u.attributes[A];x[B]=v?C:null!=C?""+u.attributes[A]:""}else x[B]=""}v=null;try{v=z?.(x,r)}catch(C){return null}if(!v||"string"!==typeof v||"invalid"===v)return null;v=v.split(";");
z=[];x=[];for(const C of v)if(C)if(C.includes("po:"))A=C.substr(3).split("|"),3===A.length&&(v=A[0],B=A[1],A=A[2],"DashTemplate"===B?A=A.split(" ").map(H=>Number(H)):"Color"===B?(A=(new b(A)).toRgba(),A=[A[0],A[1],A[2],255*A[3]]):A=Number(A),x.push({primitiveName:v,propertyName:B,value:A,defaultValue:null}));else if(C.includes("|"))for(const H of C.split("|")){if(this._itemNames.has(H)){z.push(H);break}}else this._itemNames.has(C)&&z.push(C);return this._cimPartsToCIMSymbol(u,z,x,null==u.geometry||
!u.geometry.hasZ&&"point"===u.geometry.type?!0:!1,r)}async fetchResources(u){if(this._dictionaryPromise)return this._dictionaryPromise;if(this.url){var r=c(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=u?u.signal:null}),[{data:z}]=await Promise.all([r,w.loadArcade()]);if(!z)throw this._dictionaryPromise=null,new e("esri.renderers.DictionaryRenderer","Bad dictionary data!");var {authoringInfo:v,dictionary_version:x,expression:B,itemsNames:A}=z;
r=!1;x&&(this._dictionaryVersion=k.Version.parse(x),r=this._dictionaryVersion.since(4,0));this._refSymbolUrlTemplate=this.url+"/"+z.cimRefTemplateUrl;this._itemNames=new Set(A);this._symbolFields=v.symbol;z={};if(this.config){const N=this.config;for(var C in N)z[C]=N[C]}if(v.configuration)for(var H of v.configuration)z.hasOwnProperty(H.name)||(z[H.name]=H.value);C=[];if(u?.fields&&this.fieldMap)for(const N in this.fieldMap){const I=this.fieldMap[N];H=u.fields.filter(E=>E.name.toLowerCase()===I?.toLowerCase());
0<H.length&&C.push({...H[0],type:r?H[0].type:"esriFieldTypeString"})}0<C.length&&(this._fieldIndex=new l(C));return this._dictionaryPromise=u=w.createDictionaryExpression(B,null!=u?u.spatialReference:null,C,z).then(N=>{const I={scale:0};return(E,G)=>{if(null==N)return null;E=N.repurposeFeature({geometry:null,attributes:E});I.scale=null!=G?G.scale??void 0:void 0;return N.evaluate({$feature:E,$view:I},N.services)}}).catch(N=>{n.getLogger("esri.renderers.support.DictionaryLoader").error("Creating dictionary expression failed:",
N);return null})}n.getLogger("esri.renderers.support.DictionaryLoader").error("no valid URL!")}async _cimPartsToCIMSymbol(u,r,z,v,x){const B=Array(r.length);for(let C=0;C<r.length;C++)B[C]=this._getSymbolPart(r[C],x);r=await Promise.all(B);if(x=this.fieldMap){r=p.clone(r);for(var A of r)m.OverrideHelper.applyDictionaryTextOverrides(A,u,x,this._fieldIndex,h.getTextCasing(A))}if((u=r)&&0!==u.length){A={...u[0]};if(1<u.length){A.symbolLayers=[];for(const C of u)A.symbolLayers.unshift(...C.symbolLayers)}v&&
(A.callout=t);z={type:"CIMSymbolReference",symbol:A,primitiveOverrides:z}}else z=null;return new q({data:z})}async _getSymbolPart(u,r){var z=this._symbolCache.get(u);if(z)return z;if(this._ongoingRequests.has(u))return this._ongoingRequests.get(u).then(v=>v.data);z=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,u);r=c(z,{responseType:"json",query:{f:"json"},...r});this._ongoingRequests.set(u,r);r.finally(()=>this._ongoingRequests.delete(u));try{const v=await r;this._symbolCache.put(u,v.data);
return v.data}catch(v){throw v;}}}a.DictionaryLoader=y;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/LRUCache":function(){define(["exports","./MemCache"],function(a,b){class c{constructor(e,d){this._storage=new b.MemCacheStorage;this.name=this.id="";this.size=0;this._storage.maxSize=e;this._storage.register(this);d&&this._storage.registerRemoveFunc("",d)}destroy(){this._storage.deregister(this);this._storage.destroy()}put(e,d,p=1){this._storage.put(this,e,d,p,1)}pop(e){return this._storage.pop(this,
e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}a.LRUCache=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MemCache":function(){define(["exports","./PooledArray"],function(a,b){a.RemoveMode=void 0;(function(n){n[n.ALL=0]="ALL";n[n.SOME=1]="SOME"})(a.RemoveMode||(a.RemoveMode={}));class c{constructor(n,f,g){this.name=n;this._storage=f;this.id=`${d++}:`;
this.size=0;this.maxSize=-1;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);g&&(this._storage.registerRemoveFunc(this.id,g),this._removeFunc=!0)}destroy(){this._storage.clear(this);this._removeFunc&&this._storage.deregisterRemoveFunc(this.id);this._storage.deregister(this);this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(n){return this._storage.getSize(this,n)}resetHitRate(){this._hit=this._miss=0}put(n,
f,g,k=0){this._storage.put(this,n,f,g,k)}pop(n){n=this._storage.pop(this,n);void 0===n?++this._miss:++this._hit;return n}get(n){n=this._storage.get(this,n);void 0===n?++this._miss:++this._hit;return n}peek(n){return this._storage.peek(this,n)}updateSize(n,f,g){this._storage.updateSize(this,n,f,g)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class e{get size(){return this._size}constructor(n=
10485760){this._maxSize=n;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new b;this._users=new b}destroy(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null}register(n){this._users.push(n)}deregister(n){this._users.removeUnordered(n)}registerRemoveFunc(n,f){this._removeFuncs.push([n,f])}deregisterRemoveFunc(n){this._removeFuncs.filterInPlace(f=>f[0]!==n)}get maxSize(){return this._maxSize}set maxSize(n){this._maxSize=Math.max(n,-1);this._checkSize()}getSize(n,
f){return this._db.get(n.id+f)?.size??0}put(n,f,g,k,l){f=n.id+f;const w=this._db.get(f);w&&(this._size-=w.size,n.size-=w.size,this._db.delete(f),w.entry!==g&&this._notifyRemove(f,w.entry,w.size,a.RemoveMode.ALL));k>this._maxSize?this._notifyRemove(f,g,k,a.RemoveMode.ALL):void 0===g?console.warn("Refusing to cache undefined entry "):!k||0>k?(console.warn(`Refusing to cache entry with size ${k} for key ${f}`),this._notifyRemove(f,g,0,a.RemoveMode.ALL)):(this._db.set(f,new p(g,k,1+Math.max(l,-4)- -3)),
this._size+=k,n.size+=k,this._checkSize())}updateSize(n,f,g,k){f=n.id+f;const l=this._db.get(f);if(l&&l.entry===g){this._size-=l.size;for(n.size-=l.size;k>this._maxSize;)if(k=this._notifyRemove(f,g,k,a.RemoveMode.SOME),!(null!=k&&0<k)){this._db.delete(f);return}l.size=k;this._size+=k;n.size+=k;this._checkSize()}}pop(n,f){f=n.id+f;const g=this._db.get(f);if(g)return this._size-=g.size,n.size-=g.size,this._db.delete(f),++this._hit,g.entry;++this._miss}get(n,f){f=n.id+f;n=this._db.get(f);if(void 0===
n)++this._miss;else return this._db.delete(f),n.lives=n.lifetime,this._db.set(f,n),++this._hit,n.entry}peek(n,f){(n=this._db.get(n.id+f))?++this._hit:++this._miss;return n?.entry}get performanceInfo(){const n={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},f={},g=[];this._db.forEach((w,q)=>{const m=w.lifetime;g[m]=(g[m]||0)+w.size;this._users.forAll(h=>{const {id:t,name:y}=h;q.startsWith(t)&&
(f[y]=(f[y]||0)+w.size)})});const k={};this._users.forAll(w=>{const q=w.name;"hitRate"in w&&"number"===typeof w.hitRate&&!isNaN(w.hitRate)&&0<w.hitRate?(f[q]=f[q]||0,k[q]=Math.round(100*w.hitRate)+"%"):k[q]="0%"});var l=Object.keys(f);l.sort((w,q)=>f[q]-f[w]);l.forEach(w=>n[w]=Math.round(f[w]/2**20)+"MB / "+k[w]);for(l=g.length-1;0<=l;--l){const w=g[l];w&&(n["Priority "+(l+-3-1)]=Math.round(w/this._size*100)+"%")}return n}resetStats(){this._hit=this._miss=0;this._users.forAll(n=>n.resetHitRate())}clear(n){const f=
n.id;this._db.forEach((g,k)=>{k.startsWith(f)&&(this._size-=g.size,this._db.delete(k),this._notifyRemove(k,g.entry,g.size,a.RemoveMode.ALL))});n.size=0}clearAll(){this._db.forEach((n,f)=>this._notifyRemove(f,n.entry,n.size,a.RemoveMode.ALL));this._users.forAll(n=>n.size=0);this._size=0;this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(n,f,g,k){let l;this._removeFuncs.some(w=>n.startsWith(w[0])?(w=w[1](f,k,g),"number"===typeof w&&(l=w),!0):!1);return l}_checkSize(){this._users.forAll(n=>
this._checkSizeLimits(n));this._checkSizeLimits()}_checkSizeLimits(n){const f=n??this;if(!(0>f.maxSize||f.size<=f.maxSize)){for(var g=n?.id,k=!0;k;){k=!1;for(const [l,w]of this._db)if(0===w.lifetime&&(!g||l.startsWith(g))){this._purgeItem(l,w,n);if(f.size<=.9*f.maxSize)return;k||=this._db.has(l)}}for(const [l,w]of this._db)if(!g||l.startsWith(g))if(this._purgeItem(l,w,n),f.size<=.9*f.maxSize)break}}_purgeItem(n,f,g=this._users.find(k=>n.startsWith(k.id))){this._db.delete(n);if(1>=f.lives){this._size-=
f.size;g&&(g.size-=f.size);const k=this._notifyRemove(n,f.entry,f.size,a.RemoveMode.SOME);null!=k&&0<k&&(this._size+=k,g&&(g.size+=k),f.lives=f.lifetime,f.size=k,this._db.set(n,f))}else--f.lives,this._db.set(n,f)}}let d=0;class p{constructor(n,f,g){this.entry=n;this.size=f;this.lives=this.lifetime=g}}a.MemCache=c;a.MemCacheStorage=e;a.MinPriority=-3;a.NoPriority=-4;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Version":function(){define(["exports","./Error"],function(a,
b){a.Version=class c{constructor(e,d,p=""){this.major=e;this.minor=d;this._context=p}lessThan(e,d){return this.major<e||e===this.major&&this.minor<d}since(e,d){return!this.lessThan(e,d)}validate(e){if(this.major!==e.major)throw new b((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e});}clone(){return new c(this.major,this.minor,this._context)}static parse(e,
d=""){const [p,n]=e.split(".");var f=/^\s*\d+\s*$/;if(!p?.match||!f.test(p))throw new b((d&&d+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e});if(!n?.match||!f.test(n))throw new b((d&&d+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e});e=parseInt(p,10);f=parseInt(n,10);return new c(e,f,d)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FieldsIndex":function(){define("../../core/Error ../../core/JSONSupport ../../core/Logger ../../core/MapUtils ../../core/sql/UnknownTimeZone ./fieldUtils ../../time/timeZoneUtils ../../chunks/datetime".split(" "),
function(a,b,c,e,d,p,n,f){function g(m){return m.trim().toLowerCase()}function k(m){const h=new Map;if(!m.fields)return h;const t=!0===m.datesInUnknownTimezone,{timeInfo:y,editFieldsInfo:u}=m;var r=(y?"startField"in y?y.startField:y.startTimeField:"")??"";const z=(y?"endField"in y?y.endField:y.endTimeField:"")??"",v="dateFieldsTimeZone"in m?m.dateFieldsTimeZone??null:m.dateFieldsTimeReference?n.fromTimeReference(m.dateFieldsTimeReference):null,x=u?"timeZone"in u?u.timeZone??v:u.dateFieldsTimeReference?
n.fromTimeReference(u.dateFieldsTimeReference):v??n.utc:null,B=y?"timeZone"in y?y.timeZone??v:y.timeReference?n.fromTimeReference(y.timeReference):v:null;r=new Map([[g(u?.creationDateField??""),x],[g(u?.editDateField??""),x],[g(r),B],[g(z),B]]);for(const {name:A,type:C}of m.fields)q.has(C)?h.set(A,n.unknown):"date"!==C&&"esriFieldTypeDate"!==C?h.set(A,null):t?h.set(A,n.unknown):(m=r.get(g(A??""))??v,h.set(A,m));return h}const l=new Map;class w{static fromJSON(m){return new w(m.fields,m.timeZoneByFieldName)}static fromLayer(m){return new w(m.fields??
[],k(m))}static fromLayerJSON(m){return new w(m.fields??[],k(m))}constructor(m=[],h){this._fieldsMap=new Map;this._normalizedFieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=new Set;this._requiredFields=null;this.dateFields=[];this.numericFields=[];this.fields=m||[];this._timeZoneByFieldName=h?new Map(h):null;m=[];for(const t of this.fields){h=t?.name;const y=p.normalizeFieldName(h)?.toLowerCase()??"";if(h&&y){const u=g(h);this._fieldsMap.set(h,t);this._fieldsMap.set(u,t);this._normalizedFieldsMap.set(y,
t);m.push(`${u}:${t.type}:${this._timeZoneByFieldName?.get(h)}`);p.isDateField(t)?(this.dateFields.push(t),this._dateFieldsSet.add(t)):p.isNumericField(t)&&(this._numericFieldsSet.add(t),this.numericFields.push(t));p.isObjectIDField(t)||p.isGlobalIDField(t)||(t.editable=null==t.editable||!!t.editable,t.nullable=null==t.nullable||!!t.nullable)}}m.sort();this.uid=m.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const m of this.fields)p.isObjectIDField(m)||p.isGlobalIDField(m)||
m.nullable||void 0!==p.getFieldDefaultValue(m)||this._requiredFields.push(m)}return this._requiredFields}equals(m){return this.uid===m?.uid}has(m){return null!=this.get(m)}get(m){if(m){var h=this._fieldsMap.get(m);if(h)return h;(h=this._fieldsMap.get(g(m))??this._normalizedFieldsMap.get(p.normalizeFieldName(m)?.toLowerCase()??""))&&this._fieldsMap.set(m,h);return h}}getTimeZone(m){m=this.get(m&&"string"!==typeof m?m.name:m);return m?this._timeZoneByFieldName?this._timeZoneByFieldName.get(m.name):
"date"===m.type||"esriFieldTypeDate"===m.type?(c.getLogger("esri.layers.support.FieldsIndex").error(new a("getTimeZone:no-timezone-information",`no time zone information for field '${m.name}'`)),n.utc):q.has(m.type)?n.unknown:null:null}getLuxonTimeZone(m){const h=this.getTimeZone(m);return h?h===n.unknown?d.UnknownTimeZone.instance:h===n.utc?f.FixedOffsetZone.utcInstance:e.getOrCreateMapValue(l,h,()=>f.IANAZone.create(h)):null}isDateField(m){return this._dateFieldsSet.has(this.get(m))}isTimeOnlyField(m){return p.isTimeOnlyField(this.get(m))}isNumericField(m){return this._numericFieldsSet.has(this.get(m))}normalizeFieldName(m){return this.get(m)?.name??
void 0}toJSON(){return{fields:this.fields.map(m=>b.isSerializable(m)?m.toJSON():m),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}const q=new Set("time-only date-only timestamp-offset esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "));return w})},"esri/core/sql/UnknownTimeZone":function(){define(["exports","../../chunks/datetime"],function(a,b){function c(d){return d instanceof b.Zone?d===e.instance?!0:!1:"unknown"===
d?.toString().toLowerCase()?!0:!1}class e{}e.instance=new b.IANAZone("Etc/UTC");a.UnknownTimeZone=e;a.adoptTimeZone=function(d,p){return b.DateTime.fromObject({day:d.day,year:d.year,month:d.month,hour:d.hour,minute:d.minute,second:d.second,millisecond:d.millisecond},{zone:p})};a.isUnknownTimeZone=c;a.substituteUnknownTimezone=function(d){return c(d)?e.instance:d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/OverrideHelper":function(){define("exports ../../Color ../../core/colorUtils ../../core/lang ../../support/arcadeOnDemand ./utils ../../views/2d/arcade/callExpressionWithFeature".split(" "),
function(a,b,c,e,d,p,n){class f{static findApplicableOverrides(g,k,l){if(g&&k){if(g.primitiveName){let w=!1;for(const q of l)if(q.primitiveName===g.primitiveName){w=!0;break}if(!w)for(const q of k)q.primitiveName===g.primitiveName&&l.push(q)}switch(g.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(g.effects)for(const w of g.effects)f.findApplicableOverrides(w,k,l);if(g.symbolLayers)for(const w of g.symbolLayers)f.findApplicableOverrides(w,k,l);break;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":case "CIMSolidFill":case "CIMPictureFill":case "CIMHatchFill":case "CIMGradientFill":case "CIMVectorMarker":case "CIMCharacterMarker":case "CIMPictureMarker":if(g.effects)for(const w of g.effects)f.findApplicableOverrides(w,
k,l);g.markerPlacement&&f.findApplicableOverrides(g.markerPlacement,k,l);if("CIMVectorMarker"===g.type){if(g.markerGraphics)for(const w of g.markerGraphics)f.findApplicableOverrides(w,k,l),f.findApplicableOverrides(w.symbol,k,l)}else"CIMCharacterMarker"===g.type?f.findApplicableOverrides(g.symbol,k,l):"CIMHatchFill"===g.type?f.findApplicableOverrides(g.lineSymbol,k,l):"CIMPictureMarker"===g.type&&f.findApplicableOverrides(g.animatedSymbolProperties,k,l)}}}static findEffectOverrides(g,k){if(!g)return null;
"CIMGeometricEffectDashes"===g.type&&p.normalizeDashTemplate(g);if(!k||!g.primitiveName)return{type:"cim-effect-param",effect:g,overrides:[]};const l=p.toLowerCaseProps(g);g=g.primitiveName;const w=[];for(const q of k)q.primitiveName===g&&w.push(p.toLowerCaseProps(q));return{type:"cim-effect-param",effect:l,overrides:p.normalizePrimitiveOverrideProps(w)}}static async resolveSymbolOverrides(g,k,l,w,q,m,h){if(!g?.symbol)return null;let {symbol:t,primitiveOverrides:y}=g;g=!!y;if(!g&&!w)return t;t=e.clone(t);
y=e.clone(y);let u=!0;k||(k={attributes:{}},u=!1);g&&(u||(y=y.filter(r=>!r.valueExpressionInfo?.expression.includes("$feature"))),h||(y=y.filter(r=>!r.valueExpressionInfo?.expression.includes("$view"))),0<y.length&&(g=p.attributesToFields(k.attributes),await f.createRenderExpressions(y,{spatialReference:l,fields:g,geometryType:q}),f.evaluateOverrides(y,k,q??"esriGeometryPoint",m,h)),f.applyOverrides(t,y));w&&f.applyDictionaryTextOverrides(t,k,w,null);return t}static async createRenderExpressions(g,
k){const l=[];for(const w of g){const q=w.valueExpressionInfo;q&&!f._expressionToRenderExpression.has(q.expression)&&(g=d.createRendererExpression(q.expression,k.spatialReference,k.fields),l.push(g),g.then(m=>f._expressionToRenderExpression.set(q.expression,m)))}0<l.length&&await Promise.all(l)}static evaluateOverrides(g,k,l,w,q){q={$view:{scale:q?.scale}};for(const m of g){if(m.value&&"object"===typeof m.value&&c.isRGB(m.value)&&("Color"===m.propertyName||"StrokeColor"===m.propertyName)){a:{g=m.value;
if(!g){g=[0,0,0,0];break a}const {r:h,g:t,b:y,a:u}=g;g=[h,t,y,255*u]}m.value=g}if(g=m.valueExpressionInfo)if(g=f._expressionToRenderExpression.get(g.expression))m.value=n(g,k,q,l,w)}}static applyDictionaryTextOverrides(g,k,l,w,q="Normal"){if(g?.type)switch(g.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":case "CIMTextSymbol":var m=g.symbolLayers;if(!m)break;for(var h of m)h&&"CIMVectorMarker"===h.type&&f.applyDictionaryTextOverrides(h,k,l,w,"CIMTextSymbol"===g.type?g.textCase:
q);break;case "CIMVectorMarker":g=g.markerGraphics;if(!g)break;for(m of g)m&&f.applyDictionaryTextOverrides(m,k,l,w);break;case "CIMMarkerGraphic":(h=g.textString)&&h.includes("[")&&(l=p.analyzeTextParts(h,l),g.textString=p.assignTextValuesFromFeature(k,l,w,q))}}static applyOverrides(g,k,l,w){if(g.primitiveName)for(const q of k)if(q.primitiveName===g.primitiveName){const m=p.uncapitalize(q.propertyName);w&&w.push({cim:g,nocapPropertyName:m,value:g[m]});if(l){let h=!1;for(const t of l)t.primitiveName===
g.primitiveName&&(h=!0);h||l.push(q)}null!=q.value&&(g[m]=q.value)}switch(g.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(g.effects)for(const q of g.effects)f.applyOverrides(q,k,l,w);if(g.symbolLayers)for(const q of g.symbolLayers)f.applyOverrides(q,k,l,w);break;case "CIMSolidStroke":case "CIMSolidFill":case "CIMVectorMarker":if(g.effects)for(const q of g.effects)f.applyOverrides(q,k,l,w);if("CIMVectorMarker"===g.type&&g.markerGraphics)for(const q of g.markerGraphics)f.applyOverrides(q,
k,l,w),f.applyOverrides(q.symbol,k,l,w)}}static restoreOverrides(g){for(const k of g)k.cim[k.nocapPropertyName]=k.value}static buildOverrideKey(g){let k="";for(const l of g)void 0!==l.value&&(k+=`${l.primitiveName}${l.propertyName}${JSON.stringify(l.value)}`);return k}static toValue(g,k){return"DashTemplate"===g?k.split(" ").map(l=>Number(l)):"Color"===g?(g=(new b(k)).toRgba(),g[3]*=255,g):k}}f._expressionToRenderExpression=new Map;a.OverrideHelper=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/colorUtils":function(){define(["exports","../Color","../chunks/vec42","./libs/gl-matrix-2/factories/vec4f64"],function(a,b,c,e){function d(u){return"r"in u&&"g"in u&&"b"in u}function p(u,r){const z=[];let v,x;if(u[0].length!==r.length)throw Error("dimensions do not match");const B=u.length,A=u[0].length;let C=0;for(v=0;v<B;v++){for(x=C=0;x<A;x++)C+=u[v][x]*r[x];z.push(C)}return z}function n(u){u=[u.r/255,u.g/255,u.b/255].map(r=>.04045>=r?r/12.92:((r+.055)/1.055)**2.4);u=p(t,u);return{x:100*
u[0],y:100*u[1],z:100*u[2]}}function f(u){u=p(y,[u.x/100,u.y/100,u.z/100]).map(r=>Math.min(1,Math.max(.0031308>=r?12.92*r:1.055*r**(1/2.4)-.055,0)));return{r:Math.round(255*u[0]),g:Math.round(255*u[1]),b:Math.round(255*u[2])}}function g(u){u=[u.x/95.047,u.y/100,u.z/108.883].map(r=>r>(6/29)**3?r**(1/3):1/3*(29/6)**2*r+4/29);return{l:116*u[1]-16,a:500*(u[0]-u[1]),b:200*(u[1]-u[2])}}function k(u){const r=u.l;u=[(r+16)/116+u.a/500,(r+16)/116,(r+16)/116-u.b/200].map(z=>z>6/29?z**3:3*(6/29)**2*(z-4/29));
return{x:95.047*u[0],y:100*u[1],z:108.883*u[2]}}function l(u){if(d(u))return u;if("l"in u&&"c"in u&&"h"in u){var r=u.c,z=u.h;return f(k({l:u.l,a:r*Math.cos(z),b:r*Math.sin(z)}))}if("l"in u&&"a"in u&&"b"in u)return f(k(u));if("x"in u&&"y"in u&&"z"in u)return f(u);if("h"in u&&"s"in u&&"v"in u){z=(u.h+360)%360/60;r=u.v/100*255;u=u.s/100*r;const v=u*(1-Math.abs(z%2-1));switch(Math.floor(z)){case 0:z={r:u,g:v,b:0};break;case 1:z={r:v,g:u,b:0};break;case 2:z={r:0,g:u,b:v};break;case 3:z={r:0,g:v,b:u};break;
case 4:z={r:v,g:0,b:u};break;case 5:case 6:z={r:u,g:0,b:v};break;default:z={r:0,g:0,b:0}}z.r=Math.round(z.r+r-u);z.g=Math.round(z.g+r-u);z.b=Math.round(z.b+r-u);return z}return u}function w(u){if("h"in u&&"s"in u&&"v"in u)return u;var r=l(u);u=r.r;const z=r.g,v=r.b;r=Math.max(u,z,v);const x=r-Math.min(u,z,v);u=0===x?0:r===u?(z-v)/x%6:r===z?(v-u)/x+2:(u-z)/x+4;0>u&&(u+=6);return{h:60*u,s:100*(0===x?0:x/r),v:100/255*r}}function q(u){return"l"in u&&"a"in u&&"b"in u?u:g(n(l(u)))}function m(u){let {r,
g:z,b:v,a:x}=u;1>x&&(r=Math.round(x*r+255*(1-x)),z=Math.round(x*z+255*(1-x)),v=Math.round(x*v+255*(1-x)));return new b({r,g:z,b:v})}function h(u,r){const {r:z,g:v,b:x}=r?.ignoreAlpha?u:m(u);return.2126*z+.7152*v+.0722*x}const t=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],y=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];a.BrightnessThreshold=void 0;(function(u){u[u.Low=160]="Low";u[u.High=225]="High"})(a.BrightnessThreshold||(a.BrightnessThreshold={}));a.colorEquals=
function(u,r){return u===r||null!=u&&u.equals(r)};a.colorVectorEquals=function(u,r){return u===r||null!=u&&null!=r&&c.equals(u,r)};a.colorVectorToColorAndOpacity=function(u){return e.fromValues(u[0],u[1],u[2],3<u.length?u[3]:1)};a.darken=function(u,r){var z=q(u);z.l*=1-r;r=l(z);z=u.clone();z.setColor(r);z.a=u.a;return z};a.desaturate=function(u,r){var z=w(u);z.s*=r;r=l(z);z=u.clone();z.setColor(r);z.a=u.a;return z};a.getColorLuminance=h;a.getColorTheme=function(u){return m(u).isBright?"light":"dark"};
a.getContrast=function(u,r=a.BrightnessThreshold.High){return h(u,{ignoreAlpha:!0})>r?new b([0,0,0,u.a]):new b([255,255,255,u.a])};a.isRGB=d;a.multiplyOpacity=function(u,r){u=u.clone();u.a*=r;return u};a.multiplyOpacityToUnitRGBA=function(u,r){u=b.toUnitRGBA(u);u[3]*=r;return u};a.toHSV=w;a.toLAB=q;a.toLCH=function(u){if(!("l"in u&&"c"in u&&"h"in u)){var r=g(n(l(u)));u=r.l;var z=r.a;const v=r.b;r=Math.sqrt(z*z+v*v);z=Math.atan2(v,z);z=0<z?z:z+2*Math.PI;u={l:u,c:r,h:z}}return u};a.toRGB=l;a.unitRGBAFromColor=
function(u){return b.toUnitRGBA(u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec42":function(){define(["exports","../core/libs/gl-matrix-2/math/common"],function(a,b){function c(F,J){F[0]=J[0];F[1]=J[1];F[2]=J[2];F[3]=J[3];return F}function e(F,J){F[0]=J[0];F[1]=J[1];F[2]=J[2];return F}function d(F,J,O,U,T){F[0]=J;F[1]=O;F[2]=U;F[3]=T;return F}function p(F,J,O){F[0]=J[0]+O[0];F[1]=J[1]+O[1];F[2]=J[2]+O[2];F[3]=J[3]+O[3];return F}function n(F,J,O){F[0]=J[0]-O[0];
F[1]=J[1]-O[1];F[2]=J[2]-O[2];F[3]=J[3]-O[3];return F}function f(F,J,O){F[0]=J[0]*O[0];F[1]=J[1]*O[1];F[2]=J[2]*O[2];F[3]=J[3]*O[3];return F}function g(F,J,O){F[0]=J[0]/O[0];F[1]=J[1]/O[1];F[2]=J[2]/O[2];F[3]=J[3]/O[3];return F}function k(F,J){F[0]=Math.ceil(J[0]);F[1]=Math.ceil(J[1]);F[2]=Math.ceil(J[2]);F[3]=Math.ceil(J[3]);return F}function l(F,J){F[0]=Math.floor(J[0]);F[1]=Math.floor(J[1]);F[2]=Math.floor(J[2]);F[3]=Math.floor(J[3]);return F}function w(F,J,O){F[0]=Math.min(J[0],O[0]);F[1]=Math.min(J[1],
O[1]);F[2]=Math.min(J[2],O[2]);F[3]=Math.min(J[3],O[3]);return F}function q(F,J,O){F[0]=Math.max(J[0],O[0]);F[1]=Math.max(J[1],O[1]);F[2]=Math.max(J[2],O[2]);F[3]=Math.max(J[3],O[3]);return F}function m(F,J){F[0]=Math.round(J[0]);F[1]=Math.round(J[1]);F[2]=Math.round(J[2]);F[3]=Math.round(J[3]);return F}function h(F,J,O){F[0]=J[0]*O;F[1]=J[1]*O;F[2]=J[2]*O;F[3]=J[3]*O;return F}function t(F,J,O,U){F[0]=J[0]+O[0]*U;F[1]=J[1]+O[1]*U;F[2]=J[2]+O[2]*U;F[3]=J[3]+O[3]*U;return F}function y(F,J){const O=
J[0]-F[0],U=J[1]-F[1],T=J[2]-F[2];F=J[3]-F[3];return Math.sqrt(O*O+U*U+T*T+F*F)}function u(F,J){const O=J[0]-F[0],U=J[1]-F[1],T=J[2]-F[2];F=J[3]-F[3];return O*O+U*U+T*T+F*F}function r(F){const J=F[0],O=F[1],U=F[2];F=F[3];return Math.sqrt(J*J+O*O+U*U+F*F)}function z(F){const J=F[0],O=F[1],U=F[2];F=F[3];return J*J+O*O+U*U+F*F}function v(F,J){F[0]=-J[0];F[1]=-J[1];F[2]=-J[2];F[3]=-J[3];return F}function x(F,J){F[0]=1/J[0];F[1]=1/J[1];F[2]=1/J[2];F[3]=1/J[3];return F}function B(F,J){const O=J[0],U=J[1],
T=J[2];J=J[3];let Z=O*O+U*U+T*T+J*J;0<Z&&(Z=1/Math.sqrt(Z),F[0]=O*Z,F[1]=U*Z,F[2]=T*Z,F[3]=J*Z);return F}function A(F,J){return F[0]*J[0]+F[1]*J[1]+F[2]*J[2]+F[3]*J[3]}function C(F,J,O,U){const T=J[0],Z=J[1],V=J[2];J=J[3];F[0]=T+U*(O[0]-T);F[1]=Z+U*(O[1]-Z);F[2]=V+U*(O[2]-V);F[3]=J+U*(O[3]-J);return F}function H(F,J){var O=b.RANDOM;J=J||1;let U,T,Z,V,qa,Ca;do U=2*O()-1,T=2*O()-1,qa=U*U+T*T;while(1<=qa);do Z=2*O()-1,V=2*O()-1,Ca=Z*Z+V*V;while(1<=Ca);O=Math.sqrt((1-qa)/Ca);F[0]=J*U;F[1]=J*T;F[2]=J*
Z*O;F[3]=J*V*O;return F}function N(F,J,O){const U=J[0],T=J[1],Z=J[2];J=J[3];F[0]=O[0]*U+O[4]*T+O[8]*Z+O[12]*J;F[1]=O[1]*U+O[5]*T+O[9]*Z+O[13]*J;F[2]=O[2]*U+O[6]*T+O[10]*Z+O[14]*J;F[3]=O[3]*U+O[7]*T+O[11]*Z+O[15]*J;return F}function I(F,J,O){var U=J[0];const T=J[1],Z=J[2],V=O[0],qa=O[1],Ca=O[2];O=O[3];const va=O*U+qa*Z-Ca*T,ra=O*T+Ca*U-V*Z,Aa=O*Z+V*T-qa*U;U=-V*U-qa*T-Ca*Z;F[0]=va*O+U*-V+ra*-Ca-Aa*-qa;F[1]=ra*O+U*-qa+Aa*-V-va*-Ca;F[2]=Aa*O+U*-Ca+va*-qa-ra*-V;F[3]=J[3];return F}function E(F){return"vec4("+
F[0]+", "+F[1]+", "+F[2]+", "+F[3]+")"}function G(F,J){return F[0]===J[0]&&F[1]===J[1]&&F[2]===J[2]&&F[3]===J[3]}function L(F,J){const O=F[0],U=F[1],T=F[2];F=F[3];const Z=J[0],V=J[1],qa=J[2];J=J[3];const Ca=b.getEpsilon();return Math.abs(O-Z)<=Ca*Math.max(1,Math.abs(O),Math.abs(Z))&&Math.abs(U-V)<=Ca*Math.max(1,Math.abs(U),Math.abs(V))&&Math.abs(T-qa)<=Ca*Math.max(1,Math.abs(T),Math.abs(qa))&&Math.abs(F-J)<=Ca*Math.max(1,Math.abs(F),Math.abs(J))}const R=Object.freeze(Object.defineProperty({__proto__:null,
add:p,ceil:k,copy:c,copyVec3:e,dist:y,distance:y,div:g,divide:g,dot:A,equals:L,exactEquals:G,floor:l,inverse:x,len:r,length:r,lerp:C,max:q,min:w,mul:f,multiply:f,negate:v,normalize:B,random:H,round:m,scale:h,scaleAndAdd:t,set:d,sqrDist:u,sqrLen:z,squaredDistance:u,squaredLength:z,str:E,sub:n,subtract:n,transformMat4:N,transformQuat:I},Symbol.toStringTag,{value:"Module"}));a.add=p;a.ceil=k;a.copy=c;a.copyVec3=e;a.dist=y;a.distance=y;a.div=g;a.divide=g;a.dot=A;a.equals=L;a.exactEquals=G;a.floor=l;a.inverse=
x;a.len=r;a.length=r;a.lerp=C;a.max=q;a.min=w;a.mul=f;a.multiply=f;a.negate=v;a.normalize=B;a.random=H;a.round=m;a.scale=h;a.scaleAndAdd=t;a.set=d;a.sqrDist=u;a.sqrLen=z;a.squaredDistance=u;a.squaredLength=z;a.str=E;a.sub=n;a.subtract=n;a.transformMat4=N;a.transformQuat=I;a.vec4=R})},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["exports"],function(a){function b(){return[0,0,0,0]}function c(z){return[z[0],z[1],z[2],z[3]]}function e(z,v,x,B){return[z,v,x,B]}function d(z,v=b()){const x=
Math.min(4,z.length);for(let B=0;B<x;++B)v[B]=z[B];return v}function p(z,v){return new Float64Array(z,v,4)}function n(){return b()}function f(){return[1,1,1,1]}function g(){return[1,0,0,0]}function k(){return[0,1,0,0]}function l(){return[0,0,1,0]}function w(){return[0,0,0,1]}const q=b(),m=f(),h=g(),t=k(),y=l(),u=w(),r=Object.freeze(Object.defineProperty({__proto__:null,ONES:m,UNIT_W:u,UNIT_X:h,UNIT_Y:t,UNIT_Z:y,ZEROS:q,clone:c,create:b,createView:p,fromArray:d,fromValues:e,ones:f,unitW:w,unitX:g,
unitY:k,unitZ:l,zeros:n},Symbol.toStringTag,{value:"Module"}));a.ONES=m;a.UNIT_W=u;a.UNIT_X=h;a.UNIT_Y=t;a.UNIT_Z=y;a.ZEROS=q;a.clone=c;a.create=b;a.createView=p;a.fromArray=d;a.fromValues=e;a.ones=f;a.unitW=w;a.unitX=g;a.unitY=k;a.unitZ=l;a.vec4f64=r;a.zeros=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/utils":function(){define(["require","exports","./defaultCIMValues"],function(a,b,c){function e(r){return"function"===typeof r}function d(r){let z=r.length;for(;z--;)if(!" /-,\n".includes(r.charAt(z)))return!1;
return!0}function p(r,z){"string"!==typeof r&&(r=String(r));switch(z){case "LowerCase":return r.toLowerCase();case "Allcaps":return r.toUpperCase();default:return r}}function n(r){return r?[r[0],r[1],r[2],r[3]/255]:[0,0,0,0]}function f(r){return null!=r&&("CIMMarkerPlacementAlongLineRandomSize"===r.type||"CIMMarkerPlacementAlongLineSameSize"===r.type||"CIMMarkerPlacementAlongLineVariableSize"===r.type||"CIMMarkerPlacementAtExtremities"===r.type||"CIMMarkerPlacementAtMeasuredUnits"===r.type||"CIMMarkerPlacementAtRatioPositions"===
r.type||"CIMMarkerPlacementOnLine"===r.type||"CIMMarkerPlacementOnVertices"===r.type)}function g(r){if(!r)return null;switch(r.type){case "CIMPolygonSymbol":if(r.symbolLayers)for(const z of r.symbolLayers)if(r=g(z),null!=r)return r;break;case "CIMTextSymbol":return g(r.symbol);case "CIMSolidFill":return r.color}return null}function k(r){if(r)switch(r.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(r=r.symbolLayers)for(const z of r)if(r=k(z),null!=r)return r;break;case "CIMTextSymbol":return k(r.symbol);
case "CIMSolidStroke":return r.color}}function l(r){if(r)switch(r.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(r.symbolLayers)for(const z of r.symbolLayers)if(r=l(z),void 0!==r)return r;break;case "CIMTextSymbol":return l(r.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return r.width}}function w(r){return r?r.charAt(0).toLowerCase()+r.substring(1):r}function q(r){if(null==r)return!1;if(Array.isArray(r))return r.every(z=>q(z));switch(typeof r){case "string":return!!r;
case "number":return!isNaN(r)}}function m(r,z){if("color"===z||"outlinecolor"===z||"backgroundcolor"===z||"borderlinecolor"===z||"tintcolor"===z)return[...c.defaultCIMColor[z]];const v=c.defaultCIMValues[r];if(!v)throw Error(`InternalError: default value for type ${r}.`);return v[z]}function h(r){if(null==r)return"Normal";switch(r.type){case "CIMTextSymbol":return r.textCase??"Normal";case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var z=r.symbolLayers;if(!z)break;for(var v of z)if("CIMVectorMarker"===
v.type)return h(v);break;case "CIMVectorMarker":if(v=r.markerGraphics)for(z of v)if(z.symbol)return h(z.symbol)}return"Normal"}function t(r,z){return null!==z?(z=z.get(r))?z.name:r:r}function y(r,z,v,x,B){return(v=v*Math.PI/180)?(Math.sin(v)*r+Math.cos(v)*z)*x+B:z*x+B}function u(r,z,v,x,B){return(v=v*Math.PI/180)?(Math.cos(v)*r-Math.sin(v)*z)*x+B:r*x+B}b.adjustTextCase=p;b.analyzeTextParts=function(r,z){const v=[];var x=0;let B=-1;do B=r.indexOf("[",x),B>=x&&(B>x&&(x=r.substr(x,B-x),v.push([x,null,
d(x)])),x=B+1,B=r.indexOf("]",x),B>=x&&(B>x&&(x=r.substr(x,B-x),(x=z[x])&&v.push([null,x,!1])),x=B+1));while(-1!==B);x<r.length-1&&(r=r.substr(x),v.push([r,null,d(r)]));return v};b.applyParentTransform=function(r,z,v,x,B,A){const {infos:C}=A;A=1;let H=0;var N=0,I=0;for(const {offsetX:E,offsetY:G,rotation:L,size:R,frameHeight:F,rotateClockWise:J}of C)N=u(E,G,H,A,N),I=y(E,G,H,A,I),F&&(A*=R/F),H=J?H-L:H+L;N=u(x,B,H,A,N);x=y(x,B,H,A,I);return{size:r*A,rotation:v?H-z:H+z,offsetX:N,offsetY:x}};b.assignTextValuesFromFeature=
function(r,z,v,x){let B="",A=null;for(const C of z){const [H,N,I]=C;if(H)I?A=H:(A&&(B+=A,A=null),B+=H);else if(z=N,null!=v&&(z=t(N,v)),z=r.attributes[z])A&&(B+=A,A=null),B+=z}return p(B,x)};b.attributesToFields=function(r){return(r?Object.keys(r):[]).map(z=>({name:z,alias:z,type:"string"===typeof r[z]?"esriFieldTypeString":"esriFieldTypeDouble"}))};b.colorToArray=function(r){return[r.r,r.g,r.b,r.a]};b.evaluateValueOrFunction=function(r,z,v,x){return e(r)?r(z,v,x):r};b.fromCIMFontDecoration=function(r){return r.underline?
"underline":r.strikethrough?"line-through":"none"};b.fromCIMFontStyle=function(r){let z="normal",v="normal";r&&(r=r.toLowerCase(),r.includes("italic")?z="italic":r.includes("oblique")&&(z="oblique"),r.includes("bold")?v="bold":r.includes("light")&&(v="lighter"));return{style:z,weight:v}};b.fromCIMHorizontalAlignment=function(r){switch(r){default:return"left";case "Right":return"right";case "Center":return"center";case "Justify":return"center"}};b.fromCIMVerticalAlignment=function(r){switch(r){default:return"top";
case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}};b.getDefaultCIMValue=m;b.getEnum=(r,z)=>null==r?z:r;b.getFieldName=t;b.getFillColor=g;b.getFontStyle=function(r){if(!r)return"normal";switch(r.toLowerCase()){case "italic":return"italic";case "oblique":return"oblique";default:return"normal"}};b.getFontWeight=function(r){if(!r)return"normal";switch(r.toLowerCase()){case "bold":return"bold";case "bolder":return"bolder";case "lighter":return"lighter";default:return"normal"}};
b.getNumericValue=(r,z=0)=>null==r||isNaN(r)?z:r;b.getSize=function(r){if(r)switch(r.type){case "CIMTextSymbol":return r.height;case "CIMPointSymbol":var z=0;if(r.symbolLayers)for(var v of r.symbolLayers)if(v)switch(v.type){case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":case "CIMObjectMarker3D":case "CIMglTFMarker3D":r=v.size??c.defaultCIMValues.CIMVectorMarker.size,r>z&&(z=r)}return z;case "CIMLineSymbol":case "CIMPolygonSymbol":v=0;if(r.symbolLayers)for(z of r.symbolLayers)if(z)switch(z.type){case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":r=
z.width;null!=r&&r>v&&(v=r);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":case "CIMObjectMarker3D":case "CIMglTFMarker3D":z.markerPlacement&&f(z.markerPlacement)&&(r=z.size??c.defaultCIMValues.CIMVectorMarker.size,r>v&&(v=r));break;case "CIMPictureFill":r=z.height,null!=r&&r>v&&(v=r)}return v}};b.getStrokeColor=k;b.getStrokeWidth=l;b.getTextCasing=h;b.getTintColor=r=>r.tintColor?n(r.tintColor):[255,255,255,1];b.getValueOrExpression=function(r,z,v){let x=z[w(v)];null==
x&&(x=m(z.type,v));null!=z.primitiveName&&(r=r[z.primitiveName],null!=r&&(r=r[v],null!=r&&(x="string"===typeof r||"number"===typeof r||Array.isArray(r)?r:{valueExpressionInfo:r,defaultValue:x})));if(null==x)throw Error(`Failed to derive a value or an expression for "${v}".`);return x};b.importGeometryEngine=function(){return new Promise((r,z)=>a(["../../geometry/geometryEngineJSON"],r,z))};b.isCIMFill=function(r){return null!=r&&("CIMGradientFill"===r.type||"CIMHatchFill"===r.type||"CIMPictureFill"===
r.type||"CIMSolidFill"===r.type||"CIMWaterFill"===r.type)};b.isCIMMarker=function(r){return"CIMVectorMarker"===r.type||"CIMPictureMarker"===r.type||"CIMBarChartMarker"===r.type||"CIMCharacterMarker"===r.type||"CIMPieChartMarker"===r.type||"CIMStackedBarChartMarker"===r.type};b.isCIMMarkerStrokePlacement=f;b.isCIMStroke=function(r){return"CIMGradientStroke"===r.type||"CIMPictureStroke"===r.type||"CIMSolidStroke"===r.type};b.isFeatureValueFn=e;b.isGeometryEngineRequired=r=>{if(!r)return!1;for(const z of r)switch(z.type){case "CIMGeometricEffectBuffer":case "CIMGeometricEffectOffset":case "CIMGeometricEffectDonut":return!0}return!1};
b.isSVGImage=r=>r.includes("data:image/svg+xml");b.isValidCIMValue=q;b.mapCIMSymbolToGeometryType=function(r){if(!r)return null;switch(r.type){case "CIMPointSymbol":case "CIMTextSymbol":return"esriGeometryPoint";case "CIMLineSymbol":return"esriGeometryPolyline";case "CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}};b.normalizeAlpha=n;b.normalizeDashTemplate=function(r){r?.dashTemplate&&"string"===typeof r.dashTemplate&&(r.dashTemplate=r.dashTemplate.split(" ").map(Number));return r};
b.normalizePrimitiveOverrideProps=function(r){return r.map(z=>({...z,propertyName:w(z.propertyName)}))};b.resampleHermite=function(r,z,v,x,B,A,C=!0){const H=z/B;v/=A;const N=Math.ceil(H/2),I=Math.ceil(v/2);for(let L=0;L<A;L++)for(let R=0;R<B;R++){const F=4*(R+(C?A-L-1:L)*B);var E=0;let J=0,O=0,U=0,T=0,Z=0,V=0;const qa=(L+.5)*v;for(let Ca=Math.floor(L*v);Ca<(L+1)*v;Ca++){var G=Math.abs(qa-(Ca+.5))/I;const va=(R+.5)*H;G*=G;for(let ra=Math.floor(R*H);ra<(R+1)*H;ra++){let Aa=Math.abs(va-(ra+.5))/N;E=
Math.sqrt(G+Aa*Aa);-1<=E&&1>=E&&(E=2*E*E*E-3*E*E+1,0<E&&(Aa=4*(ra+Ca*z),V+=E*r[Aa+3],O+=E,255>r[Aa+3]&&(E=E*r[Aa+3]/250),U+=E*r[Aa],T+=E*r[Aa+1],Z+=E*r[Aa+2],J+=E))}}x[F]=U/J;x[F+1]=T/J;x[F+2]=Z/J;x[F+3]=V/O}};b.toCIMSymbolJSON=function(r){return r.data?.symbol??null};b.toLowerCaseProps=function(r){const z={};for(const v in r){const x=r[v];z[w(v)]=x}return z};b.uncapitalize=w;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/defaultCIMValues":function(){define(["exports"],
function(a){a.defaultCIMColor={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]};a.defaultCIMValues={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,
colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,
colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},
CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,
yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,
randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,
starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/arcade/callExpressionWithFeature":function(){define(["../../../core/Error","../../../core/Logger","../../../geometry/support/quantizationUtils"],function(a,b,c){function e(p){const n={};switch(p){case "esriGeometryPoint":return(f,g,k,l)=>c.unquantizePoint(g,n,f,k,l);case "esriGeometryPolygon":return(f,g,k,l)=>c.unquantizePolygon(g,
n,f,k,l);case "esriGeometryPolyline":return(f,g,k,l)=>c.unquantizePolyline(g,n,f,k,l);case "esriGeometryMultipoint":return(f,g,k,l)=>c.unquantizeMultipoint(g,n,f,k,l);default:return b.getLogger("esri.views.2d.support.arcadeOnDemand").error(new a("mapview-arcade",`Unable to handle geometryType: ${p}`)),f=>f}}const d=new Map;return function(p,n,f,g,k){if(null==p)return null;if(p.referencesGeometry()&&k){const {transform:l,hasZ:w,hasM:q}=k;d.has(g)||d.set(g,e(g));g=d.get(g)(n.geometry,l,w,q);n={...n,
geometry:g}}n=p.repurposeFeature(n);try{return p.evaluate({...f,$feature:n},p.services)}catch(l){return b.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",l),null}}})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(a,b){function c(G){if("lowerLeft"===G.originPosition&&4===G.scale.length&&4===G.translate.length)return G;const {originPosition:L,scale:R,translate:F}=G;G=R[1]??1;return{originPosition:"lowerLeft",
scale:[R[0]??1,"lowerLeft"===L?G:-G,R[2]??1,R[3]??1],translate:[F[0]??0,F[1]??0,F[2]??0,F[3]??0]}}function e({scale:G,translate:L},R){return Math.round((R-L[0])/G[0])}function d({scale:G,translate:L},R){return Math.round((R-L[1])/G[1])}function p({scale:G,translate:L},R){return Math.round(((R??0)-L[2])/G[2])}function n({scale:G,translate:L},R){return R?Math.round((R-L[3])/G[3]):0}function f(G,L){return G&&L?C:G&&!L?B:!G&&L?A:x}function g({scale:G,translate:L},R){return R*G[0]+L[0]}function k({scale:G,
translate:L},R){return R*G[1]+L[1]}function l({scale:G,translate:L},R){return(R??0)*G[2]+L[2]}function w({scale:G,translate:L},R){return R?R*G[3]+L[3]:0}function q(G,L){return G&&L?E:G&&!L?N:!G&&L?I:H}function m(G,L,R){const F=Array(R.length);for(let J=0;J<R.length;J++)F[J]=L(G,R[J]);return F}function h(G,L,R){let [F,J]=R[0],O=Math.min(F,L[0]),U=Math.min(J,L[1]),T=Math.max(F,L[2]);L=Math.max(J,L[3]);for(let Z=1;Z<R.length;Z++){const [V,qa]=R[Z];F+=V;J+=qa;0>V&&(O=Math.min(O,F));0<V&&(T=Math.max(T,
F));0>qa?U=Math.min(U,J):0<qa&&(L=Math.max(L,J))}G[0]=O;G[1]=U;G[2]=T;G[3]=L;return G}function t(G,L){if(!L.length)return null;G[0]=G[1]=Number.POSITIVE_INFINITY;G[2]=G[3]=Number.NEGATIVE_INFINITY;for(let R=0;R<L.length;R++)h(G,G,L[R]);return G}function y(G,L,R){G=c(G);L.xmin=e(G,R.xmin);L.ymin=d(G,R.ymin);L.xmax=e(G,R.xmax);L.ymax=d(G,R.ymax);R.hasZ&&(L.zmin=p(G,R.zmin),L.zmax=p(G,R.zmax));R.hasM&&(L.mmin=n(G,R.mmin),L.mmax=n(G,R.mmax));L.hasZ=R.hasZ??!1;L.hasM=R.hasM??!1;return L}function u(G,L,
R){G=c(G);L.points=f(R.hasZ,R.hasM)(G,R.points)??[];L.hasZ=R.hasZ??!1;L.hasM=R.hasM??!1;return L}function r(G,L,R){G=c(G);L.x=e(G,R.x);L.y=d(G,R.y);null!=R.z&&(L.z=p(G,R.z));null!=R.m&&(L.m=n(G,R.m));return L}function z(G,L,R){{G=c(G);var F=R.rings;const J=[],O=f(R.hasZ,R.hasM);for(let U=0;U<F.length;U++){const T=O(G,F[U]);T&&3<=T.length&&J.push(T)}G=J.length?J:null}if(!G)return null;L.rings=G;L.hasZ=R.hasZ??!1;L.hasM=R.hasM??!1;return L}function v(G,L,R){{G=c(G);var F=R.paths;const J=[],O=f(R.hasZ,
R.hasM);for(let U=0;U<F.length;U++){const T=O(G,F[U]);T&&2<=T.length&&J.push(T)}G=J.length?J:null}if(!G)return null;L.paths=G;L.hasZ=R.hasZ??!1;L.hasM=R.hasM??!1;return L}const x=(G,L)=>{const R=[];if(!L.length)return null;var F=L[0];let J=e(G,F[0]);F=d(G,F[1]);R.push([J,F]);for(let O=1;O<L.length;O++){const [U,T]=L[O],Z=e(G,U),V=d(G,T);Z===J&&V===F||R.push([Z-J,V-F]);J=Z;F=V}return R},B=(G,L)=>{const R=[];if(!L.length)return null;var F=L[0];let J=e(G,F[0]),O=d(G,F[1]);F=p(G,F[2]);R.push([J,O,F]);
for(let U=1;U<L.length;U++){const [T,Z,V]=L[U],qa=e(G,T),Ca=d(G,Z),va=p(G,V);qa===J&&Ca===O&&va===F||R.push([qa-J,Ca-O,va]);J=qa;O=Ca;F=va}return R},A=(G,L)=>{const R=[];if(!L.length)return null;var F=L[0];let J=e(G,F[0]),O=d(G,F[1]);F=n(G,F[2]);R.push([J,O,F]);for(let U=1;U<L.length;U++){const [T,Z,V]=L[U],qa=e(G,T),Ca=d(G,Z),va=n(G,V);qa===J&&Ca===O&&va===F||R.push([qa-J,Ca-O,va]);J=qa;O=Ca;F=va}return R},C=(G,L)=>{const R=[];if(!L.length)return null;var F=L[0];let J=e(G,F[0]),O=d(G,F[1]),U=p(G,
F[2]);F=n(G,F[3]);R.push([J,O,U,F]);for(let T=1;T<L.length;T++){const [Z,V,qa,Ca]=L[T],va=e(G,Z),ra=d(G,V),Aa=p(G,qa),ea=n(G,Ca);va===J&&ra===O&&Aa===U&&ea===F||R.push([va-J,ra-O,Aa,ea]);J=va;O=ra;U=Aa;F=ea}return R},H=(G,L)=>{const R=Array(L.length);if(!L.length)return R;var F=L[0];let J=g(G,F[0]);F=k(G,F[1]);R[0]=[J,F];const {scale:O,originPosition:U}=G;G=O[0];const T="lowerLeft"===U?O[1]:-O[1];for(let Z=1;Z<L.length;Z++){const [V,qa]=L[Z];J+=G*V;F+=T*qa;R[Z]=[J,F]}return R},N=(G,L)=>{const R=Array(L.length);
if(!L.length)return R;var F=L[0];let J=g(G,F[0]),O=k(G,F[1]);R[0]=[J,O,l(G,F[2])];const {scale:U,originPosition:T}=G;F=U[0];const Z="lowerLeft"===T?U[1]:-U[1];for(let V=1;V<L.length;V++){const [qa,Ca,va]=L[V];J+=F*qa;O+=Z*Ca;R[V]=[J,O,l(G,va)]}return R},I=(G,L)=>{const R=Array(L.length);if(!L.length)return R;var F=L[0];let J=g(G,F[0]),O=k(G,F[1]);R[0]=[J,O,w(G,F[2])];const {scale:U,originPosition:T}=G;F=U[0];const Z="lowerLeft"===T?U[1]:-U[1];for(let V=1;V<L.length;V++){const [qa,Ca,va]=L[V];J+=F*
qa;O+=Z*Ca;R[V]=[J,O,w(G,va)]}return R},E=(G,L)=>{const R=Array(L.length);if(!L.length)return R;var F=L[0];let J=g(G,F[0]),O=k(G,F[1]);R[0]=[J,O,l(G,F[2]),w(G,F[3])];const {scale:U,originPosition:T}=G;F=U[0];const Z="lowerLeft"===T?U[1]:-U[1];for(let V=1;V<L.length;V++){const [qa,Ca,va,ra]=L[V];J+=F*qa;O+=Z*Ca;R[V]=[J,O,l(G,va),w(G,ra)]}return R};a.getQuantizedBoundsCoordsArray=h;a.getQuantizedBoundsCoordsArrayArray=t;a.getQuantizedBoundsPaths=function(G){return t([0,0,0,0],G)};a.getQuantizedBoundsPoints=
function(G){const L=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return h(L,L,G)};a.getQuantizedBoundsRings=function(G){return t([0,0,0,0],G)};a.normalizeTransform=c;a.quantizeBounds=function(G,L,R){G=c(G);L[0]=e(G,R[0]);L[3]=d(G,R[1]);L[2]=e(G,R[2]);L[1]=d(G,R[3]);return L};a.quantizeCoordsArrayXY=x;a.quantizeCoordsArrayXYM=A;a.quantizeCoordsArrayXYZ=B;a.quantizeCoordsArrayXYZM=C;a.quantizeExtent=y;a.quantizeGeometry=function(G,L){return G&&
L?b.isPoint(L)?r(G,{},L):b.isPolyline(L)?v(G,{},L):b.isPolygon(L)?z(G,{},L):b.isMultipoint(L)?u(G,{},L):b.isExtent(L)?y(G,{},L):null:null};a.quantizeM=n;a.quantizeMultipoint=u;a.quantizePoint=r;a.quantizePolygon=z;a.quantizePolyline=v;a.quantizeX=e;a.quantizeY=d;a.quantizeZ=p;a.toQuantizationTransform=function(G){return G?{originPosition:"upper-left"===G.originPosition?"upperLeft":"lower-left"===G.originPosition?"lowerLeft":G.originPosition,scale:G.tolerance?[G.tolerance,G.tolerance,1,1]:[1,1,1,1],
translate:null!=G.extent?[G.extent.xmin,G.extent.ymax,G.extent.zmin??0,G.extent.mmin??0]:[0,0,0,0]}:null};a.unquantizeBounds=function(G,L,R){G=c(G);return R?(L[0]=g(G,R[0]),L[1]=k(G,R[3]),L[2]=g(G,R[2]),L[3]=k(G,R[1]),L):[g(G,L[0]),k(G,L[3]),g(G,L[2]),k(G,L[1])]};a.unquantizeCoordsArrayArray=m;a.unquantizeCoordsArrayXY=H;a.unquantizeCoordsArrayXYM=I;a.unquantizeCoordsArrayXYZ=N;a.unquantizeCoordsArrayXYZM=E;a.unquantizeExtent=function(G,L,R,F=R.hasZ??!1,J=R.hasM??!1){G=c(G);L.xmin=g(G,R.xmin);L.xmax=
g(G,R.xmax);L.ymin=k(G,R.ymin);L.ymax=k(G,R.ymax);F&&(L.zmin=l(G,R.zmin),L.zmax=l(G,R.zmax));J&&(L.mmin=w(G,R.mmin),L.mmax=w(G,R.mmax));L.hasZ=F;L.hasM=J;return L};a.unquantizeM=w;a.unquantizeMultipoint=function(G,L,R,F=R?.hasZ??!1,J=R?.hasM??!1){null!=R&&(G=c(G),L.points=q(F,J)(G,R.points),L.hasZ=F,L.hasM=J);return L};a.unquantizePoint=function(G,L,R,F=null!=R?.z,J=null!=R?.m){if(null==R)return L;G=c(G);L.x=g(G,R.x);L.y=k(G,R.y);F&&(L.z=l(G,R.z));J&&(L.m=w(G,R.m));return L};a.unquantizePolygon=function(G,
L,R,F=R?.hasZ??!1,J=R?.hasM??!1){null!=R&&(G=c(G),L.rings=m(G,q(F,J),R.rings),L.hasZ=F,L.hasM=J);return L};a.unquantizePolyline=function(G,L,R,F=R?.hasZ??!1,J=R?.hasM??!1){null!=R&&(G=c(G),L.paths=m(G,q(F,J),R.paths),L.hasZ=F,L.hasM=J);return L};a.unquantizeX=g;a.unquantizeY=k;a.unquantizeZ=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){var t;d=t=class extends l.VisualVariablesMixin(k){constructor(y){super(y);this.attributes=null;this.backgroundColor=new b([0,0,0,0]);this.dotBlendingEnabled=!0;this.dotShape="square";this.dotSize=1;this.legendOptions=null;this.outline=new h;this.referenceScale=this.dotValue=null;this.seed=1;this.type="dot-density"}calculateDotValue(y){if(null==this.referenceScale)return this.dotValue;y=y/this.referenceScale*this.dotValue;return 1>y?1:y}getSymbol(){return new m({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((y,
u)=>y+u.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new t({attributes:c.clone(this.attributes),backgroundColor:c.clone(this.backgroundColor),dotBlendingEnabled:c.clone(this.dotBlendingEnabled),dotShape:c.clone(this.dotShape),dotSize:c.clone(this.dotSize),dotValue:c.clone(this.dotValue),legendOptions:c.clone(this.legendOptions),outline:c.clone(this.outline),referenceScale:c.clone(this.referenceScale),seed:c.clone(this.seed),visualVariables:c.clone(this.visualVariables),
authoringInfo:c.clone(this.authoringInfo)})}getControllerHash(){const y=this.attributes?.map(r=>r.field||r.valueExpression||""),u=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${y}-${u}`}async collectRequiredFields(y,u){await this.collectVVRequiredFields(y,u);for(const r of this.attributes??[])r.valueExpression&&await g.collectArcadeFieldNames(y,u,r.valueExpression),r.field&&y.add(r.field)}};a.__decorate([e.property({type:[w],json:{write:!0}})],d.prototype,"attributes",void 0);a.__decorate([e.property({type:b,
json:{write:!0}})],d.prototype,"backgroundColor",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],d.prototype,"dotBlendingEnabled",void 0);a.__decorate([e.property({type:String,json:{write:!1}})],d.prototype,"dotShape",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"dotSize",void 0);a.__decorate([e.property({type:q,json:{write:!0}})],d.prototype,"legendOptions",void 0);a.__decorate([e.property({type:h,json:{default:null,write:!0}})],d.prototype,"outline",
void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"dotValue",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"referenceScale",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"seed",void 0);a.__decorate([n.enumeration({dotDensity:"dot-density"})],d.prototype,"type",void 0);return d=t=a.__decorate([f.subclass("esri.renderers.DotDensityRenderer")],d)})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,c,e,d,p,n,f,g,k){var l;c=l=class extends c.JSONSupport{constructor(w){super(w);this.valueExpressionTitle=this.valueExpression=this.label=this.field=this.color=null}castField(w){return null==w?w:"function"===typeof w?(e.getLogger(this).error(".field: field must be a string value"),null):k.ensureString(w)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new l({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,
valueExpressionTitle:this.valueExpressionTitle})}};a.__decorate([d.property({type:b,json:{type:[Number],write:!0}})],c.prototype,"color",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([p.cast("field")],c.prototype,"castField",null);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);a.__decorate([d.property({type:String,
json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);return c=l=a.__decorate([g.subclass("esri.renderers.support.AttributeColorInfo")],c)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){var f;b=f=class extends b.JSONSupport{constructor(){super(...arguments);
this.unit=null}clone(){return new f({unit:this.unit})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"unit",void 0);return b=f=a.__decorate([n.subclass("esri.renderers.support.DotDensityLegendOptions")],b)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/tslib.es6 ../Color ../symbols ../core/deprecate ../core/lang ../core/Logger ../core/scheduling ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/utils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/AuthoringInfo ./support/HeatmapColorStop ./support/HeatmapLegendOptions ./support/heatmapUtils ../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z){function v(B){if(null!=B){const {maxDensity:A,minDensity:C,radius:H}=B;if(null!=A||null!=C||null!=H){const {blurRadius:N,maxPixelIntensity:I,minPixelIntensity:E,...G}=B;return G}}return B}var x;c=x=class extends h{constructor(B){super(B);this.authoringInfo=null;this.colorStops=[new y({ratio:0,color:new b("rgba(255, 140, 0, 0)")}),new y({ratio:.75,color:new b("rgba(255, 140, 0, 1)")}),new y({ratio:.9,color:new b("rgba(255, 0,   0, 1)")})];this.legendOptions=
this.field=null;this.maxDensity=.04;this.minDensity=0;this.radius=18;this.referenceScale=0;this.type="heatmap";this.valueExpressionTitle=this.valueExpression=null;this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(B){return v(B)}get blurRadius(){return r.kernelDensityRadiusPtToGaussianBlurRadiusPx(this.radius)}set blurRadius(B){const A=this.maxPixelIntensity,C=this.minPixelIntensity;this._set("radius",r.gaussianBlurRadiusPxToKernelDensityRadiusPt(B));this._warnAboutDeprecatedGaussianBlurProp("blurRadius",
"radius");this._set("maxDensity",A*this._pixelIntensityToDensity);this._set("minDensity",C*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(B){this._set("maxDensity",B*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(B){this._set("minDensity",B*this._pixelIntensityToDensity);
this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(r.magicKernelDensityRadiusInflationFactor**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(B,A){this._warnedProps[B]||"user"!==l.getProperties(this).getDefaultOrigin()||(this._warnedProps[B]=!0,n.schedule(()=>{e.deprecatedProperty(p.getLogger(this),B,{replacement:`${String(A)} (suggested value: ${this._get(A)})`,version:"4.24"})}))}read(B,A){B=v(B);super.read(B,A)}getSymbol(){return new z}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(B,
A){const C=this.field,H=this.valueExpression;C&&"string"===typeof C&&m.collectField(B,A,C);H&&"string"===typeof H&&await m.collectArcadeFieldNames(B,A,H)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new x({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:d.clone(this.colorStops),field:this.field,legendOptions:d.clone(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,
radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};a.__decorate([g.property({type:t,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"authoringInfo",void 0);a.__decorate([g.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],c.prototype,"blurRadius",null);a.__decorate([g.property({type:[y],json:{write:!0}})],c.prototype,"colorStops",void 0);a.__decorate([g.property({type:String,
json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([g.property({type:u.HeatmapLegendOptions,json:{write:!0}})],c.prototype,"legendOptions",void 0);a.__decorate([g.property({type:Number,json:{write:!0}})],c.prototype,"maxDensity",void 0);a.__decorate([g.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],c.prototype,"maxPixelIntensity",null);a.__decorate([g.property({type:Number,json:{write:!0}})],c.prototype,"minDensity",void 0);a.__decorate([g.property({type:Number,
json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],c.prototype,"minPixelIntensity",null);a.__decorate([g.property({type:Number,cast:f.toPt,json:{write:!0}})],c.prototype,"radius",void 0);a.__decorate([g.property({type:Number,range:{min:0},json:{default:0,write:!0}})],c.prototype,"referenceScale",void 0);a.__decorate([w.enumeration({heatmap:"heatmap"})],c.prototype,"type",void 0);a.__decorate([g.property({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],
c.prototype,"valueExpression",void 0);a.__decorate([g.property({type:String})],c.prototype,"valueExpressionTitle",void 0);a.__decorate([g.property({readOnly:!0})],c.prototype,"_pixelIntensityToDensity",null);return c=x=a.__decorate([q.subclass("esri.renderers.HeatmapRenderer")],c)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){var g;c=g=class extends c.JSONSupport{constructor(k){super(k);this.ratio=this.color=null}clone(){return new g({color:this.color&&this.color.clone(),ratio:this.ratio})}};a.__decorate([e.property({type:b,json:{type:[d.Integer],default:null,write:!0}})],c.prototype,"color",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"ratio",void 0);return c=g=a.__decorate([f.subclass("esri.renderers.support.HeatmapColorStop")],c)})},"esri/renderers/support/HeatmapLegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g){a.HeatmapLegendOptions=class extends c.ClonableMixin(e.JSONSupport){constructor(){super(...arguments);this.title=this.maxLabel=this.minLabel=null}};b.__decorate([d.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"minLabel",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"maxLabel",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"title",void 0);a.HeatmapLegendOptions=
b.__decorate([g.subclass("esri.renderers.support.HeatmapLegendOptions")],a.HeatmapLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec42","../../core/libs/gl-matrix-2/factories/vec4f64"],function(a,b,c,e,d){function p(n,f,g,k){let {color:l,ratio:w}=f,{color:q,ratio:m}=g;m===w&&(1===m?w-=1E-6:m+=1E-6);f=b.clamp((k-w)/(m-w),0,1);e.lerp(n,l.toArray(),
q.toArray(),f)}a.createValueFunction=function(n){return"function"===typeof n?n:n?f=>+f[n]:()=>1};a.evaluateDensityKernel=function(n,f,g){n=Math.sqrt(n**2+f**2)/g;return 1<n?0:3/(Math.PI*g**2)*(1-n**2)**2};a.gaussianBlurRadiusPxToKernelDensityRadiusPt=function(n){return c.px2pt(2.4*n)};a.generateGradient=function(n){const f=new Uint8ClampedArray(2048);n=n.filter(({ratio:q})=>0<=q&&1>=q).sort((q,m)=>q.ratio-m.ratio).map(({color:q,ratio:m})=>({color:q,ratio:Math.max(m,.001)}));if(1>n.length)return f;
let g=n[0],k=n[0],l=1;const w=d.create();for(let q=0;512>q;q++){const m=(q+.5)/512;for(;m>k.ratio&&l<n.length;)g=k,k=n[l++];p(w,g,k,m);f.set(w,4*q)}return f};a.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(n){return c.pt2px(n)/2.4};a.magicKernelDensityRadiusInflationFactor=2.4;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/PieChartRenderer":function(){define("../chunks/tslib.es6 ../Color ../symbols ../core/arrayUtils ../core/Clonable ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/OthersCategory ./support/PieChartLegendOptions ../symbols/SimpleMarkerSymbol ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z){c=class extends m.VisualVariablesMixin(d.ClonableMixin(q)){constructor(v){super(v);this.backgroundFillSymbol=this.attributes=null;this.defaultColor=new b([0,0,0,0]);this.defaultLabel=null;this.holePercentage=0;this.othersCategory=new t.OthersCategory;this.outline=this.legendOptions=null;this.size=12;this.type="pie-chart"}getSymbol(){return new u({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),
this.backgroundFillSymbol].filter(e.isSome)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((v,x)=>v+x.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((v,x)=>v+=JSON.stringify(x),"")}async collectRequiredFields(v,x){await this.collectVVRequiredFields(v,x);for(const B of this.attributes)B.valueExpression&&await w.collectArcadeFieldNames(v,x,B.valueExpression),B.field&&v.add(B.field)}};a.__decorate([n.property({type:[h],json:{write:!0}})],c.prototype,
"attributes",void 0);a.__decorate([n.property({type:r,json:{default:null,write:!0}})],c.prototype,"backgroundFillSymbol",void 0);a.__decorate([n.property({type:b,json:{write:!0}})],c.prototype,"defaultColor",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],c.prototype,"defaultLabel",void 0);a.__decorate([n.property({type:Number,range:{min:0,max:1},json:{write:!0}})],c.prototype,"holePercentage",void 0);a.__decorate([n.property({type:t.OthersCategory,json:{write:!0}})],c.prototype,
"othersCategory",void 0);a.__decorate([n.property({type:y.PieChartLegendOptions,json:{write:!0}})],c.prototype,"legendOptions",void 0);a.__decorate([n.property({type:z,json:{default:null,write:!0}})],c.prototype,"outline",void 0);a.__decorate([n.property({type:Number,cast:p.toPt,json:{write:!0}})],c.prototype,"size",void 0);a.__decorate([k.enumeration({pieChart:"pie-chart"})],c.prototype,"type",void 0);return c=a.__decorate([l.subclass("esri.renderers.PieChartRenderer")],c)})},"esri/renderers/support/OthersCategory":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g,k){a.OthersCategory=class extends e.ClonableMixin(d.JSONSupport){constructor(){super(...arguments);this.color=new c([0,0,0,0]);this.label=null;this.threshold=0}};b.__decorate([p.property({type:c,json:{write:!0}})],a.OthersCategory.prototype,"color",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],a.OthersCategory.prototype,"label",void 0);b.__decorate([p.property({type:Number,range:{min:0,max:1},json:{write:!0}})],a.OthersCategory.prototype,"threshold",void 0);
a.OthersCategory=b.__decorate([k.subclass("esri.renderers.support.OthersCategory")],a.OthersCategory);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/PieChartLegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f,g){a.PieChartLegendOptions=
class extends c.ClonableMixin(e.JSONSupport){constructor(){super(...arguments);this.title=null}};b.__decorate([d.property({type:String,json:{write:!0}})],a.PieChartLegendOptions.prototype,"title",void 0);a.PieChartLegendOptions=b.__decorate([g.subclass("esri.renderers.support.PieChartLegendOptions")],a.PieChartLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/SimpleRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),
function(a,b,c,e,d,p,n,f,g,k){var l;e=l=class extends g.VisualVariablesMixin(f){constructor(w){super(w);this.symbol=this.label=this.description=null;this.type="simple"}async collectRequiredFields(w,q){await Promise.all([this.collectSymbolFields(w,q),this.collectVVRequiredFields(w,q)])}async collectSymbolFields(w,q){await Promise.all(this.getSymbols().map(m=>m.collectRequiredFields(w,q)))}getSymbol(w,q){return this.symbol}async getSymbolAsync(w,q){return this.symbol}getSymbols(){return this.symbol?
[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((w,q)=>w+q.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((w,q)=>w+=JSON.stringify(q),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new l({description:this.description,label:this.label,symbol:b.clone(this.symbol),visualVariables:b.clone(this.visualVariables),authoringInfo:b.clone(this.authoringInfo)})}};a.__decorate([c.property({type:String,json:{write:!0}})],
e.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);a.__decorate([c.property(k.requiredRendererSymbolProperty)],e.prototype,"symbol",void 0);a.__decorate([p.enumeration({simple:"simple"})],e.prototype,"type",void 0);return e=l=a.__decorate([n.subclass("esri.renderers.SimpleRenderer")],e)})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/tslib.es6 ../symbols ../core/Error ../core/lang ../core/Logger ../core/object ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValue ./support/UniqueValueClass ./support/UniqueValueGroup ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/support/styleUtils ../symbols/WebStyleSymbol".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A,C,H,N,I,E){function G(F){const {field1:J,field2:O,field3:U,fieldDelimiter:T,uniqueValueInfos:Z,valueExpression:V}=F,qa=!(!J||!O);return[{classes:(Z??[]).map(Ca=>{const {symbol:va,label:ra,value:Aa,description:ea}=Ca,[ca,Y,ha]=qa?Aa?.toString()?.split(T||"")||[]:[Aa];Ca=[];(J||V)&&Ca.push(ca);O&&Ca.push(Y);U&&Ca.push(ha);return{symbol:va,label:ra,values:[Ca],description:ea}})}]}var L;const R=h.ensureType(C);u=L=class extends r.VisualVariablesMixin(u){constructor(F){super(F);
this._valueInfoMap={};this._isDefaultSymbolDerived=!1;this._isInfosSource=null;this.type="unique-value";this.backgroundFillSymbol=null;this.orderByClassesEnabled=!1;this.styleOrigin=this.portal=this.defaultLabel=this.legendOptions=this.valueExpressionTitle=null;this.diff={uniqueValueInfos(J,O){if(J||O){if(!J||!O)return{type:"complete",oldValue:J,newValue:O};var U=!1,T={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let Z=0;Z<O.length;Z++){const V=J.find(qa=>qa.value===O[Z].value);
V?m.diff(V,O[Z])?(T.changed.push({type:"complete",oldValue:V,newValue:O[Z]}),U=!0):T.unchanged.push({oldValue:V,newValue:O[Z]}):(T.added.push(O[Z]),U=!0)}for(let Z=0;Z<J.length;Z++)O.find(V=>V.value===J[Z].value)||(T.removed.push(J[Z]),U=!0);return U?T:void 0}}};this._set("uniqueValueInfos",[]);this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(F){this._set("field",F);this._updateFieldDelimiter();this._updateUniqueValues()}castField(F){return null==F||"function"===
typeof F?F:h.ensureString(F)}writeField(F,J,O,U){"string"===typeof F?J[O]=F:U?.messages?U.messages.push(new c("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):d.getLogger("esri.renderers.UniqueValueRenderer").error(".field: cannot write field to JSON since it's not a string value")}set field2(F){this._set("field2",F);this._updateFieldDelimiter();this._updateUniqueValues()}set field3(F){this._set("field3",F);this._updateUniqueValues()}set valueExpression(F){this._set("valueExpression",
F);this._updateUniqueValues()}set defaultSymbol(F){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",F)}set fieldDelimiter(F){this._set("fieldDelimiter",F);this._updateUniqueValues()}readPortal(F,J,O){return O.portal||y.getDefault()}readStyleOrigin(F,J,O){if(J.styleName)return Object.freeze({styleName:J.styleName});if(J.styleUrl)return F=N.fromJSON(J.styleUrl,O),Object.freeze({styleUrl:F})}writeStyleOrigin(F,J,O,U){F.styleName?J.styleName=F.styleName:F.styleUrl&&(J.styleUrl=N.toJSON(F.styleUrl,
U))}set uniqueValueGroups(F){this.styleOrigin?d.getLogger("esri.renderers.UniqueValueRenderer").error("#uniqueValueGroups\x3d","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",F),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(F){this.styleOrigin?d.getLogger("esri.renderers.UniqueValueRenderer").error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):
(this._set("uniqueValueInfos",F),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(F,J){this.styleOrigin?d.getLogger("esri.renderers.UniqueValueRenderer").error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(F="object"===typeof F?R(F):new C({value:F,symbol:b.ensureType(J)}),this.uniqueValueInfos?.push(F),this._valueInfoMap[F.value]=F,this._updateGroupsFromInfos(),
this._isInfosSource=!0,this._watchUniqueValueInfos())}removeUniqueValueInfo(F){if(this.styleOrigin)d.getLogger("esri.renderers.UniqueValueRenderer").error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else{var J=this.uniqueValueInfos;if(J)for(let O=0;O<J.length;O++)if(String(J[O].value)===String(F)){delete this._valueInfoMap[F];J.splice(O,1);break}this._updateGroupsFromInfos();this._isInfosSource=!0;this._watchUniqueValueInfos()}}async getUniqueValueInfo(F,
J){let O=J;this.valueExpression&&null==J?.arcade&&(O={...O,arcade:await H.loadArcade()});return this._getUniqueValueInfo(F,O)}getSymbol(F,J){if(this.valueExpression&&null==J?.arcade)d.getLogger("esri.renderers.UniqueValueRenderer").error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return this._getUniqueValueInfo(F,J)?.symbol||this.defaultSymbol}async getSymbolAsync(F,J){if(this.valueExpression&&null==J?.arcade){const O=await H.loadArcade(),{arcadeUtils:U}=O;U.hasGeometryOperations(this.valueExpression)&&
await U.enableGeometryOperations();J={...J,arcade:O}}return this._getUniqueValueInfo(F,J)?.symbol||this.defaultSymbol}getSymbols(){const F=[];for(const J of this.uniqueValueInfos??[])J.symbol&&F.push(J.symbol);this.defaultSymbol&&F.push(this.defaultSymbol);return F}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((F,J)=>F+J.getAttributeHash(),"")}getMeshHash(){const F=JSON.stringify(this.backgroundFillSymbol),J=JSON.stringify(this.defaultSymbol),O=this.uniqueValueInfos?.reduce((U,
T)=>U+T.getMeshHash(),"");return`${F}.${J}.${O}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const F=new L({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:e.clone(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:e.clone(this.visualVariables),
legendOptions:e.clone(this.legendOptions),authoringInfo:e.clone(this.authoringInfo),backgroundFillSymbol:e.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(F._isDefaultSymbolDerived=!0);F._set("portal",this.portal);const J=e.clone(this.uniqueValueInfos),O=e.clone(this.uniqueValueGroups);this.styleOrigin&&(F._set("styleOrigin",Object.freeze(e.clone(this.styleOrigin))),Object.freeze(J),Object.freeze(O));F._set("uniqueValueInfos",J);F._updateValueInfoMap();F._set("uniqueValueGroups",
O);F._isInfosSource=this._isInfosSource;F._watchUniqueValueInfosAndGroups();return F}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(F,J){F=[this.collectVVRequiredFields(F,J),this.collectSymbolFields(F,J)];await Promise.all(F)}async collectSymbolFields(F,J){const O=[...this.getSymbols().map(U=>U.collectRequiredFields(F,J)),t.collectArcadeFieldNames(F,J,this.valueExpression)];t.collectField(F,J,this.field);t.collectField(F,J,this.field2);
t.collectField(F,J,this.field3);await Promise.all(O)}populateFromStyle(){return I.fetchStyle(this.styleOrigin,{portal:this.portal}).then(F=>{const J=[];this._valueInfoMap={};F?.data&&Array.isArray(F.data.items)&&F.data.items.forEach(O=>{var U=new E({styleUrl:F.styleUrl,styleName:F.styleName,portal:this.portal,name:O.name});this.defaultSymbol||O.name!==F.data.defaultItem||(this.defaultSymbol=U,this._isDefaultSymbolDerived=!0);U=new C({value:O.name,symbol:U});J.push(U);this._valueInfoMap[O.name]=U});
this._set("uniqueValueInfos",Object.freeze(J));this._updateGroupsFromInfos(!0);this._isInfosSource=null;this._watchUniqueValueInfos();!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap=
{};const {uniqueValueInfos:F}=this;if(F)for(const J of F)this._valueInfoMap[J.value+""]=J}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos();this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles("uvInfos-watcher");const {uniqueValueInfos:F}=this;if(F){const J=[];for(const O of F)J.push(n.watch(()=>({symbol:O.symbol,value:O.value,label:O.label,description:O.description}),(U,T)=>{U!==T&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(J,
"uvInfos-watcher")}}_watchUniqueValueGroups(){this.removeHandles("uvGroups-watcher");const {uniqueValueGroups:F}=this;if(F){const J=[];for(const O of F){J.push(n.watch(()=>({classes:O.classes}),(U,T)=>{U!==T&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const U of O.classes??[])J.push(n.watch(()=>({symbol:U.symbol,values:U.values,label:U.label,description:U.description}),(T,Z)=>{T!==Z&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(J,
"uvGroups-watcher")}}_updateInfosFromGroups(){if(this.uniqueValueGroups){var F=[],{field:J,field2:O,field3:U,fieldDelimiter:T,uniqueValueGroups:Z,valueExpression:V}=this;if(J||V){var qa=!(!J||!O);for(const va of Z)for(const ra of va.classes??[]){const {symbol:Aa,label:ea,values:ca,description:Y}=ra;for(const ha of ca??[]){const {value:ua,value2:K,value3:Q}=ha;var Ca=[ua];O&&Ca.push(K);U&&Ca.push(Q);Ca=qa?Ca.join(T||""):Ca[0]??void 0;F.push(new C({symbol:Aa,label:ea,value:Ca,description:Y}))}}}this._set("uniqueValueInfos",
F)}else this._set("uniqueValueInfos",null);this._updateValueInfoMap();this._watchUniqueValueInfos()}_updateGroupsFromInfos(F=!1){if(this.uniqueValueInfos){var {field:J,field2:O,valueExpression:U,fieldDelimiter:T,uniqueValueInfos:Z}=this;if((J||U)&&Z.length){var V=!(!J||!O),qa=Z.map(Ca=>{const {symbol:va,label:ra,value:Aa,description:ea}=Ca,[ca,Y,ha]=V?Aa?.toString()?.split(T||"")||[]:[Aa];return new B({symbol:va,label:ra,description:ea,values:[new x({value:ca,value2:Y,value3:ha})]})});qa=[new A({classes:qa})];
F&&Object.freeze(qa);this._set("uniqueValueGroups",qa)}else this._set("uniqueValueGroups",[])}else this._set("uniqueValueGroups",null);this._watchUniqueValueGroups()}_getUniqueValueInfo(F,J){return this.valueExpression?this._getUnqiueValueInfoForExpression(F,J):this._getUnqiueValueInfoForFields(F)}_getUnqiueValueInfoForExpression(F,J){const {viewingMode:O,scale:U,spatialReference:T,arcade:Z,timeZone:V}=J??{};var qa=this._cache.compiledFunc;J=Z.arcadeUtils;qa||(qa=J.createSyntaxTree(this.valueExpression),
qa=J.createFunction(qa),this._cache.compiledFunc=qa);F=J.executeFunction(qa,J.createExecContext(F,J.getViewInfo({viewingMode:O,scale:U,spatialReference:T}),V));return this._valueInfoMap[F+""]}_getUnqiueValueInfoForFields(F){const J=this.field;F=F.attributes;if(this.field2){var O=this.field2;const U=this.field3,T=[];J&&T.push(F[J]);O&&T.push(F[O]);U&&T.push(F[U]);O=T.join(this.fieldDelimiter||"")}else J&&(O=F[J]);return this._valueInfoMap[O+""]}static fromPortalStyle(F,J){const O=new L(J?.properties);
O._set("styleOrigin",Object.freeze({styleName:F}));O._set("portal",J?.portal||y.getDefault());J=O.populateFromStyle();J.catch(U=>{d.getLogger("esri.renderers.UniqueValueRenderer").error(`#fromPortalStyle('${F}'[, ...])`,"Failed to create unique value renderer from style name",U)});return J}static fromStyleUrl(F,J){J=new L(J?.properties);J._set("styleOrigin",Object.freeze({styleUrl:F}));J=J.populateFromStyle();J.catch(O=>{d.getLogger("esri.renderers.UniqueValueRenderer").error(`#fromStyleUrl('${F}'[, ...])`,
"Failed to create unique value renderer from style URL",O)});return J}};a.__decorate([f.property({readOnly:!0})],u.prototype,"_cache",null);a.__decorate([k.enumeration({uniqueValue:"unique-value"})],u.prototype,"type",void 0);a.__decorate([f.property(z.rendererBackgroundFillSymbolProperty)],u.prototype,"backgroundFillSymbol",void 0);a.__decorate([f.property({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],u.prototype,"field",null);a.__decorate([g.cast("field")],u.prototype,
"castField",null);a.__decorate([q.writer("field")],u.prototype,"writeField",null);a.__decorate([f.property({type:String,value:null,json:{write:!0}})],u.prototype,"field2",null);a.__decorate([f.property({type:String,value:null,json:{write:!0}})],u.prototype,"field3",null);a.__decorate([f.property({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],u.prototype,"orderByClassesEnabled",void 0);a.__decorate([f.property({type:String,value:null,json:{write:!0}})],
u.prototype,"valueExpression",null);a.__decorate([f.property({type:String,json:{write:!0}})],u.prototype,"valueExpressionTitle",void 0);a.__decorate([f.property({type:v.LegendOptions,json:{write:!0}})],u.prototype,"legendOptions",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],u.prototype,"defaultLabel",void 0);a.__decorate([f.property(p.deepMerge({...z.rendererSymbolProperty},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],
u.prototype,"defaultSymbol",null);a.__decorate([f.property({type:String,value:null,json:{write:!0}})],u.prototype,"fieldDelimiter",null);a.__decorate([f.property({type:y,readOnly:!0})],u.prototype,"portal",void 0);a.__decorate([l.reader("portal",["styleName"])],u.prototype,"readPortal",null);a.__decorate([f.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],u.prototype,"styleOrigin",void 0);a.__decorate([l.reader("styleOrigin",["styleName","styleUrl"])],u.prototype,
"readStyleOrigin",null);a.__decorate([q.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],u.prototype,"writeStyleOrigin",null);a.__decorate([f.property({type:[A],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(F,J,O)=>(J.uniqueValueGroups||G(J)).map(U=>A.fromJSON(U,O))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],u.prototype,"uniqueValueGroups",null);a.__decorate([f.property({type:[C],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?
{enabled:!1}:{enabled:!0}}}}})],u.prototype,"uniqueValueInfos",null);return u=L=a.__decorate([w.subclass("esri.renderers.UniqueValueRenderer")],u)})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../Accessor","../Collection","./utils"],function(a,b,c,e){function d(q){return q instanceof c?Object.keys(q.items):q instanceof b?e.getProperties(q).keys():q?Object.keys(q):[]}function p(q,m){return q instanceof c?q.items[m]:q[m]}function n(q,m){return Array.isArray(q)&&Array.isArray(m)?
q.length!==m.length:!1}function f(q){return q?q.declaredClass:null}function g(q,m){const h=q.diff;if(h&&"function"===typeof h)return h(q,m);const t=d(q),y=d(m);if(0!==t.length||0!==y.length){if(!t.length||!y.length||n(q,m))return{type:"complete",oldValue:q,newValue:m};var u=y.filter(v=>!t.includes(v)),r=t.filter(v=>!y.includes(v));r=t.filter(v=>y.includes(v)&&p(q,v)!==p(m,v)).concat(u,r).sort();if((u=f(q))&&w.has(u)&&r.length)return{type:"complete",oldValue:q,newValue:m};var z;u=q instanceof b&&m instanceof
b;for(const v of r){r=p(q,v);const x=p(m,v);if((u||"function"!==typeof r&&"function"!==typeof x)&&r!==x&&(null!=r||null!=x)){if(h&&h[v]&&"function"===typeof h[v])r=h[v]?.(r,x);else if(r instanceof Date&&x instanceof Date){if(r.getTime()===x.getTime())continue;r={type:"complete",oldValue:r,newValue:x}}else r="object"===typeof r&&"object"===typeof x&&f(r)===f(x)?g(r,x):{type:"complete",oldValue:r,newValue:x};null!=r&&(null!=z?z.diff[v]=r:z={type:"partial",diff:{[v]:r}})}}return z}}function k(q,m){if(null==
q)return!1;m=m.split(".");for(const h of m){if("complete"===q.type)break;if("partial"===q.type){if(q=q.diff[h],!q)return!1}else return!1}return!0}function l(q){if(null==q)return!0;switch(q.type){case "complete":return!1;case "collection":for(const m of q.added)if(!l(m))return!1;for(const m of q.removed)if(!l(m))return!1;for(const m of q.changed)if(!l(m))return!1;return!0;case "partial":for(const m in q.diff)if(!l(q.diff[m]))return!1;return!0}}const w=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D",
"esri.symbols.support.Symbol3DAnchorPosition3D"]);a.diff=function(q,m){if("function"!==typeof q&&"function"!==typeof m&&(null!=q||null!=m))return null==q||null==m||"object"===typeof q&&"object"===typeof m&&f(q)!==f(m)?{type:"complete",oldValue:q,newValue:m}:g(q,m)};a.hasDiff=k;a.hasDiffAny=function(q,m){for(const h of m)if(k(q,h))return!0;return!1};a.hasRootDiff=function(q,m){return k(q,m)};a.hasRootDiffOnly=function(q,m){return q?"partial"===q.type?(q=Object.keys(q.diff),1===q.length&&q[0]===m):
!1:!1};a.isEmpty=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/UniqueValue":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,c,e,d,p,n,f,g){b=class extends b.ClonableMixin(c.JSONSupport){constructor(k){super(k);this.value3=this.value2=
this.value=null}};a.__decorate([e.property(g.uniqueValueProperty)],b.prototype,"value",void 0);a.__decorate([e.property(g.uniqueValueProperty)],b.prototype,"value2",void 0);a.__decorate([e.property(g.uniqueValueProperty)],b.prototype,"value3",void 0);return b=a.__decorate([f.subclass("esri.renderers.support.UniqueValue")],b)})},"esri/renderers/support/UniqueValueClass":function(){define("../../chunks/tslib.es6 ../../core/arrayUtils ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties ./UniqueValue".split(" "),
function(a,b,c,e,d,p,n,f,g,k){c=class extends c.ClonableMixin(e.JSONSupport){constructor(l){super(l);this.values=this.symbol=this.label=this.description=null}castValues(l){if(null==l)return null;l=Array.isArray(l)?l:[l];const w=typeof l[0];return"string"===w||"number"===w?l.map(q=>new k({value:q})):"object"===w?l[0]instanceof k?l:l.map(q=>new k(q)):null}};a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],
c.prototype,"label",void 0);a.__decorate([d.property(g.rendererSymbolProperty)],c.prototype,"symbol",void 0);a.__decorate([d.property({type:[k],json:{type:[[String]],read:{reader:l=>l?l.map(w=>new k({value:w[0],value2:w[1],value3:w[2]})):null},write:{writer:(l,w)=>{const q=[];for(const m of l)l=[m.value,m.value2,m.value3].filter(b.isSome).map(h=>h.toString()),q.push(l);w.values=q}}}})],c.prototype,"values",void 0);a.__decorate([p.cast("values")],c.prototype,"castValues",null);return c=a.__decorate([f.subclass("esri.renderers.support.UniqueValueClass")],
c)})},"esri/renderers/support/UniqueValueGroup":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./UniqueValueClass".split(" "),function(a,b,c,e,d,p,n,f,g){b=class extends b.ClonableMixin(c.JSONSupport){constructor(k){super(k);this.classes=this.heading=null}};a.__decorate([e.property({type:String,json:{write:!0}})],
b.prototype,"heading",void 0);a.__decorate([e.property({type:[g],json:{write:!0}})],b.prototype,"classes",void 0);return b=a.__decorate([f.subclass("esri.renderers.support.UniqueValueGroup")],b)})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,c,e,d,
p,n,f){var g;b=g=class extends b.JSONSupport{constructor(k){super(k);this.value=this.symbol=this.label=this.description=null}clone(){return new g({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const k=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${k}`}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,
"label",void 0);a.__decorate([c.property(f.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);a.__decorate([c.property(f.uniqueValueProperty)],b.prototype,"value",void 0);return b=g=a.__decorate([n.subclass("esri.renderers.support.UniqueValueInfo")],b)})},"esri/symbols/support/styleUtils":function(){define("exports ../../request ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags".split(" "),function(a,
b,c,e,d,p,n,f){async function g(q,m){try{return{data:(await w(q,m)).data,baseUrl:d.removeFile(q),styleUrl:q}}catch(h){return e.throwIfAbortError(h),null}}function k(q,m,h){m=null!=m.portal?m.portal:p.getDefault();let t;const y=`${m.url} - ${m.user?.username} - ${q}`;a.cachedStyles[y]||(a.cachedStyles[y]=l(q,m,h).then(u=>{t=u;return u.fetchData()}).then(u=>({data:u,baseUrl:t.itemUrl??"",styleName:q})));return a.cachedStyles[y]}function l(q,m,h){return m.load(h).then(()=>{const t=new n({disableExtraQuery:!0,
query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${q}"`});return m.queryItems(t,h)}).then(({results:t})=>{let y=null;const u=q.toLowerCase();if(t&&Array.isArray(t))for(const r of t)if(r.typeKeywords?.some(z=>z.toLowerCase()===u)&&"Style"===r.type&&"esri_en"===r.owner){y=r;break}if(!y)throw new c("symbolstyleutils:style-not-found",`The style '${q}' could not be found`,{styleName:q});return y.load(h)})}function w(q,m){m={responseType:"json",query:{f:"json"},...m};return b(d.normalize(q),
m)}a.cachedStyles={};a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";a.cleanupStyleUtilsCache=function(){a.cachedStyles&&(a.cachedStyles={})};a.fetchStyle=function(q,m,h){return null!=q?.styleUrl?g(q.styleUrl,h):null!=q?.styleName?k(q.styleName,m,h):Promise.reject(new c("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))};a.makeCIMSymbolRef=
function(q){return null===q||"CIMSymbolReference"===q.type?q:{type:"CIMSymbolReference",symbol:q}};a.requestJSON=w;a.symbolUrlFromStyleItem=function(q,m,h=["gltf"]){if("cimRef"===m)return encodeURI(q.cimRef);if(q.formatInfos&&!f.enableWebStyleForceWOSR())for(const t of h)if(m=q.formatInfos.find(y=>y.type===t))return m.href;return encodeURI(q.webRef)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/featureFlags":function(){define(["exports","../core/has"],function(a,b){const c=
()=>b.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0),e=()=>b.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),d=()=>b.add("enable-i3s-patching",!0,!0,!0),p=()=>b.add("enable-i3s-patching",!1,!0,!0),n=(f="i3s-patching")=>{p();e();b.add("enable-feature:SceneLayer-editing",!0,!0,!0);switch(f){case "feature-layer-view":c();break;case "i3s-patching":d()}};n("i3s-patching");a.direct3DObjectFeatureLayerDisplayEnabled=()=>!!b("enable-feature:direct-3d-object-feature-layer-display");
a.disableDirect3DObjectFeatureLayerDisplay=e;a.disableI3SPatching=p;a.disableIDBCache=()=>b.add("disable-feature:idb-cache",!0,!0,!0);a.disableSceneLayerEditing=()=>{p();e();b.add("enable-feature:SceneLayer-editing",!1,!0,!0)};a.enableDirect3DObjectFeatureLayerDisplay=c;a.enableI3SPatching=d;a.enableSceneLayerEditing=n;a.enableWebStyleForceWOSR=()=>!!b("enable-feature:force-wosr");a.i3sPatchingEnabled=()=>!!b("enable-i3s-patching");a.sceneLayerEditingEnabled=()=>!!b("enable-feature:SceneLayer-editing");
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./types"],function(a,b,c,e){function d(n,f,g){return n?n&&(n.styleName||n.styleUrl)&&"uniqueValue"!==n.type?(g?.messages&&g.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+n.type+"'",{definition:n,context:g})),null):
p(n,f,g):null}const p=c.createTypeReader({types:e.rendererTypes});a.fromJSON=function(n,f){return d(n,null,f)};a.read=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/types":function(){define("exports ../../core/Logger ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../PieChartRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),function(a,b,c,e,d,p,n,f,g,k){function l(m){const h=m.uniqueValueInfos,
t=h?.filter(({symbol:y,label:u},r)=>{y||b.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${r}] ${u}) without a symbol from web scene.`);return!!y});t?.length!==h?.length&&(m.uniqueValueInfos=t);return m}function w(m){const h=m.classBreakInfos,t=h?.filter(({symbol:y,label:u},r)=>{y||b.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${r}] ${u}) without a symbol from web scene.`);return!!y});t?.length!==h?.length&&(m.classBreakInfos=
t);return m}const q={key:"type",base:f,typeMap:{simple:g,"unique-value":k,"class-breaks":c,heatmap:p},errorContext:"renderer",validate:function(m){switch(m.type){case "simple":return m.symbol||(b.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene."),m=void 0),m;case "unique-value":return l(m);case "class-breaks":return w(m);case "heatmap":return m}}};a.rendererTypes={key:"type",base:f,typeMap:{heatmap:p,simple:g,"unique-value":k,"class-breaks":c,
"dot-density":d,dictionary:e,"pie-chart":n},errorContext:"renderer"};a.webSceneRendererTypes=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/get ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f,g){const k=w=>{w=class extends w{constructor(...q){super(...q)}clear(q,
m="user"){return n.getProperties(this).store.delete(q,p.nameToId(m))}write(q,m){q=q||{};f.write(this,q,m);return q}setAtOrigin(q,m,h){n.getProperties(this).setAtOrigin(q,m,p.nameToId(h))}removeOrigin(q){const m=n.getProperties(this).store;q=p.nameToId(q);const h=m.keys(q);for(const t of h)m.originOf(t)===q&&m.set(t,m.get(t,q),p.OriginId.USER)}updateOrigin(q,m){const h=n.getProperties(this).store;m=p.nameToId(m);const t=d.get(this,q);for(let y=m+1;y<p.originIdNum;++y)h.delete(q,y);h.set(q,t,m)}toJSON(q){return this.write({},
q)}};w=b.__decorate([g.subclass("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],w);w.prototype.toJSON.isDefaultToJSON=!0;return w},l=w=>{w=class extends k(e.ReadOnlyMultiOriginJSONMixin(w)){constructor(...q){super(...q)}};return w=b.__decorate([g.subclass("esri.core.MultiOriginJSONSupport")],w)};a.MultiOriginJSONSupport=class extends l(c){};a.MultiOriginJSONSupport=b.__decorate([g.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=l;
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/defaultsStoreUtils ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f,g){const k=l=>{l=class extends l{constructor(...w){super(...w);w=f.getProperties(this);const q=w.store,m=new d;
w.store=m;e.setupConstructedDefaults(w,q,m)}read(w,q){n.read(this,w,q)}getAtOrigin(w,q){const m=f.getProperties(this).store,h=p.nameToId(q);if("string"===typeof w)return m.get(w,h);const t={};w.forEach(y=>{t[y]=m.get(y,h)});return t}originOf(w){return p.idToName(this.originIdOf(w))}originIdOf(w){return f.getProperties(this).store.originOf(w)}revert(w,q){const m=f.getProperties(this).store,h=p.nameToId(q),t=f.getProperties(this);("string"===typeof w?"*"===w?m.keys(h):[w]:w).forEach(y=>{t.invalidate(y);
m.revert(y,h);t.commit(y)})}};return l=b.__decorate([g.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],l)};a.ReadOnlyMultiOriginJSONSupport=class extends k(c){};a.ReadOnlyMultiOriginJSONSupport=b.__decorate([g.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang","./PropertyOrigin"],function(a,
b){class c{constructor(){this._propertyOriginMap=new Map;this._originStores=Array(b.originIdNum);this._values=new Map;this.multipleOriginsSupported=!0}clone(e){const d=new c;var p=this._originStores[b.OriginId.DEFAULTS];p&&p.forEach((n,f)=>{d.set(f,a.clone(n),b.OriginId.DEFAULTS)});for(let n=b.OriginId.SERVICE;n<b.originIdNum;n++)(p=this._originStores[n])&&p.forEach((f,g)=>{e&&e.has(g)||d.set(g,a.clone(f),n)});return d}get(e,d){return(d=void 0===d?this._values:this._originStores[d])?d.get(e):void 0}keys(e){return(e=
null==e?this._values:this._originStores[e])?[...e.keys()]:[]}set(e,d,p=b.OriginId.USER){var n=this._originStores[p];n||(n=new Map,this._originStores[p]=n);n.set(e,d);return!this._values.has(e)||this._propertyOriginMap.get(e)<=p?(n=this._values.get(e),this._values.set(e,d),this._propertyOriginMap.set(e,p),n!==d):!1}delete(e,d=b.OriginId.USER){var p=this._originStores[d];if(p){var n=p.get(e);p.delete(e);if(this._values.has(e)&&this._propertyOriginMap.get(e)===d)for(this._values.delete(e),--d;0<=d;d--)if((p=
this._originStores[d])&&p.has(e)){this._values.set(e,p.get(e));this._propertyOriginMap.set(e,d);break}return n}}has(e,d){return(d=void 0===d?this._values:this._originStores[d])?d.has(e):!1}revert(e,d){for(;0<d&&!this.has(e,d);)--d;const p=this._originStores[d]?.get(e),n=this._values.get(e);this._values.set(e,p);this._propertyOriginMap.set(e,d);return n!==p}originOf(e){return this._propertyOriginMap.get(e)||b.OriginId.DEFAULTS}forEach(e){this._values.forEach(e)}}return c})},"esri/form/FormTemplate":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/SetUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/elements ./support/formUtils ../layers/support/fieldUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m){function h(v,x,B){const {fieldsIndex:A}=x;if(!A||A.fields.length!==v.size)switch(u(v,A,B.label),u(v,A,B.description),B.type){case "field":m.collectField(v,A,B.fieldName);break;case "group":B.elements.forEach(C=>h(v,x,C));break;case "relationship":if(x.relationships){const C=x.relationships.find(H=>H.id===B.relationshipId);C&&m.collectField(v,A,C.keyField)}m.collectFields(v,A,B.orderByFields?.map(C=>C.field));break;case "text":u(v,A,B.text)}}function t(v,x){if(!x||
0===x.length)return[];v=y(v);const B=[];for(const A of x)v.has(A.name)&&B.push(A.expression);return B}function y(v){const x=new Set;for(const B of v)if(e.addMaybe(x,B.visibilityExpression),!q.isTextElement(B))if(q.isGroupElement(B))e.addMany(x,y(B.elements));else if(e.addMaybe(x,B.editableExpression),q.isFieldElement(B)){const {requiredExpression:A,valueExpression:C}=B;e.addMany(x,[A,C])}return x}function u(v,x,B){m.collectFields(v,x,m.extractSubstitutionTemplatesFromString(B))}var r;const z=w.buildTypeMaps(l);
b=r=class extends b.JSONSupport{constructor(v){super(v);this.expressionInfos=this.elements=this.description=null;this.preserveFieldValuesWhenHidden=!1;this.title=null}castElements(v){return w.ensureType(v,z)}readElements(v,x){return w.fromJSON(x.formElements,z)}writeElements(v,x){x.formElements=w.toJSON(v,z)}clone(){return new r({description:this.description,expressionInfos:c.clone(this.expressionInfos),elements:c.clone(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(v,
x){const B=new Set,{description:A,elements:C,expressionInfos:H,title:N}=this;u(B,v,A);u(B,v,N);if(!C)return[];const I=t(C,H).map(E=>m.collectArcadeFieldNames(B,v,E));await Promise.all(I);for(const E of C)h(B,{fieldsIndex:v,relationships:x},E);return Array.from(B).sort()}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"elements",void 0);a.__decorate([p.cast("elements")],b.prototype,"castElements",
null);a.__decorate([n.reader("elements",["formElements"])],b.prototype,"readElements",null);a.__decorate([g.writer("elements")],b.prototype,"writeElements",null);a.__decorate([d.property({type:[k],json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"preserveFieldValuesWhenHidden",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=r=a.__decorate([f.subclass("esri.form.FormTemplate")],
b)})},"esri/form/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){var f;b=f=class extends b.JSONSupport{constructor(g){super(g);this.name=this.expression=null;this.returnType="boolean";this.title=null}clone(){return new f({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};
a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([c.property({type:["boolean","date","number","string"],json:{write:!0}})],b.prototype,"returnType",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=f=a.__decorate([n.subclass("esri.form.ExpressionInfo")],b)})},"esri/form/elements/GroupElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./Element ../support/elements".split(" "),
function(a,b,c,e,d,p,n,f,g){var k;f=k=class extends f{constructor(w){super(w);this.elements=null;this.initialState="expanded";this.type="group"}castElements(w){return g.ensureType(w,l,!1)}readElements(w,q){return g.fromJSON(q.formElements,l,!1)}writeElements(w,q){q.formElements=g.toJSON(w,l,!1)}clone(){return new k({description:this.description,elements:b.clone(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};a.__decorate([c.property({json:{write:!0}})],
f.prototype,"elements",void 0);a.__decorate([e.cast("elements")],f.prototype,"castElements",null);a.__decorate([d.reader("elements",["formElements"])],f.prototype,"readElements",null);a.__decorate([n.writer("elements")],f.prototype,"writeElements",null);a.__decorate([c.property({type:["collapsed","expanded"],json:{write:!0}})],f.prototype,"initialState",void 0);a.__decorate([c.property({type:String,json:{read:!1,write:!0}})],f.prototype,"type",void 0);f=k=a.__decorate([p.subclass("esri.form.elements.GroupElement")],
f);const l=g.buildTypeMaps(f);return f})},"esri/form/elements/Element":function(){define(["../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,c,e){b=class extends b.JSONSupport{constructor(d){super(d);this.visibilityExpression=this.type=this.label=this.description=null}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,
json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property()],b.prototype,"type",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"visibilityExpression",void 0);return b=a.__decorate([e.subclass("esri.form.elements.Element")],b)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement ../elements/TextElement".split(" "),
function(a,b,c,e,d,p,n){a.buildTypeMaps=function(f){return{typesWithGroup:{base:e,key:"type",typeMap:{attachment:c,field:d,group:f,relationship:p,text:n}},typesWithoutGroup:{base:e,key:"type",typeMap:{attachment:c,field:d,relationship:p,text:n}}}};a.ensureType=function(f,g,k=!0){return f?f.map(l=>b.ensureOneOfType(k?g.typesWithGroup:g.typesWithoutGroup,l)):null};a.fromJSON=function(f,g,k=!0){if(!f)return null;const l=k?g.typesWithGroup.typeMap:g.typesWithoutGroup.typeMap;return f.filter(w=>l[w.type]).map(w=>
l[w.type].fromJSON(w))};a.toJSON=function(f,g,k=!0){if(!f)return null;const l=k?g.typesWithGroup.typeMap:g.typesWithoutGroup.typeMap;return f.filter(w=>l[w.type]).map(w=>w.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element ./inputs/AttachmentInput".split(" "),
function(a,b,c,e,d,p,n,f){var g;c=g=class extends n{constructor(k){super(k);this.input=this.editableExpression=this.attachmentKeyword=null;this.type="attachment"}clone(){return new g({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"attachmentKeyword",void 0);a.__decorate([b.property({type:String,
json:{write:!0}})],c.prototype,"editableExpression",void 0);a.__decorate([b.property({type:f,json:{read:{source:"inputType"},write:{target:"inputType"}}})],c.prototype,"input",void 0);a.__decorate([b.property({type:["attachment"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=g=a.__decorate([p.subclass("esri.form.elements.AttachmentElement")],c)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){var f;b=f=class extends b.JSONSupport{constructor(g){super(g);this.type=null}clone(){return new f({type:this.type})}};a.__decorate([c.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],b.prototype,"type",void 0);return b=f=a.__decorate([n.subclass("esri.form.elements.inputs.AttachmentInput")],b)})},"esri/form/elements/FieldElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element ./support/inputs ../../layers/support/domains".split(" "),
function(a,b,c,e,d,p,n,f,g){var k;c=k=class extends n{constructor(l){super(l);this.requiredExpression=this.input=this.hint=this.fieldName=this.editableExpression=this.domain=null;this.type="field";this.valueExpression=null}get editable(){return this._get("editable")??!0}set editable(l){this._set("editable",l)}clone(){return new k({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,
label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({types:g.types,json:{read:{reader:g.fromJSON},write:!0}})],c.prototype,"domain",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",null);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"editableExpression",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],
c.prototype,"fieldName",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"hint",void 0);a.__decorate([b.property({types:f.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],c.prototype,"input",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"requiredExpression",void 0);a.__decorate([b.property({type:String,json:{read:!1,write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,
"valueExpression",void 0);return c=k=a.__decorate([p.subclass("esri.form.elements.FieldElement")],c)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DatePickerInput ../inputs/DateTimeOffsetPickerInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/SwitchInput ../inputs/TextAreaInput ../inputs/TextBoxInput ../inputs/TimePickerInput".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w){a.types=
{base:n,key:"type",typeMap:{"barcode-scanner":b,"combo-box":c,"date-picker":e,"datetime-picker":p,"datetimeoffset-picker":d,"radio-buttons":f,switch:g,"text-area":k,"text-box":l,"time-picker":w}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,e,d,p,n){var f;c=f=class extends n{constructor(g){super(g);this.type="barcode-scanner"}clone(){return new f({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=f=a.__decorate([p.subclass("esri.form.elements.inputs.BarcodeScannerInput")],c)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,p,n){c=class extends n{constructor(f){super(f);this.maxLength=null;this.minLength=0}};a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"maxLength",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"minLength",void 0);return c=a.__decorate([p.subclass("esri.form.elements.inputs.TextInput")],c)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){b=class extends b.JSONSupport{constructor(f){super(f);this.type=null}};a.__decorate([c.property()],b.prototype,"type",void 0);return b=a.__decorate([n.subclass("esri.form.elements.inputs.Input")],b)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,
b,c,e,d,p,n){var f;c=f=class extends n{constructor(g){super(g);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="combo-box"}clone(){return new f({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["combo-box"],json:{read:!1,
write:!0}})],c.prototype,"type",void 0);return c=f=a.__decorate([p.subclass("esri.form.elements.inputs.ComboBoxInput")],c)})},"esri/form/elements/inputs/DatePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),function(a,
b,c,e,d,p,n,f,g){var k;c=k=class extends g{constructor(l){super(l);this.min=this.max=null;this.type="date-picker"}readMax(l,w){l=w.max;return null!=l?l:null}writeMax(l,w){w.max=null!=l?l:null}readMin(l,w){l=w.min;return null!=l?l:null}writeMin(l,w){w.min=null!=l?l:null}clone(){return new k({max:this.max,min:this.min})}};a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0);a.__decorate([p.reader("max")],c.prototype,"readMax",null);a.__decorate([f.writer("max")],
c.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0);a.__decorate([p.reader("min")],c.prototype,"readMin",null);a.__decorate([f.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:["date-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=k=a.__decorate([n.subclass("esri.form.elements.inputs.DatePickerInput")],c)})},"esri/form/elements/inputs/DateTimeOffsetPickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,e,d,p,n,f,g){function k(w){return null!=w?w:null}var l;c=l=class extends g{constructor(w){super(w);this.includeTimeOffset=!0;this.min=this.max=null;this.timeResolution="minutes";this.type="datetimeoffset-picker"}readMax(w,q){return k(q.max)}writeMax(w,q){q.max=null!=w?w:null}readMin(w,q){return k(q.min)}writeMin(w,q){q.min=null!=w?w:null}readTimeResolution(w,q){return k(q.timeResolution)}writeTimeResolution(w,q){q.timeResolution=null!=w?w:null}clone(){return new l({includeTimeOffset:this.includeTimeOffset,
max:this.max,min:this.min,timeResolution:this.timeResolution})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"includeTimeOffset",void 0);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0);a.__decorate([p.reader("max")],c.prototype,"readMax",null);a.__decorate([f.writer("max")],c.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0);a.__decorate([p.reader("min")],
c.prototype,"readMin",null);a.__decorate([f.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"timeResolution",void 0);a.__decorate([p.reader("timeResolution")],c.prototype,"readTimeResolution",null);a.__decorate([f.writer("timeResolution")],c.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=l=a.__decorate([n.subclass("esri.form.elements.inputs.DateTimeOffsetPickerInput")],
c)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),function(a,b,c,e,d,p,n,f,g){function k(w){return null!=w?new Date(w):null}var l;c=l=class extends g{constructor(w){super(w);
this.includeTime=!1;this.min=this.max=null;this.type="datetime-picker"}readMax(w,q){return k(q.max)}writeMax(w,q){q.max=w?w.getTime():null}readMin(w,q){return k(q.min)}writeMin(w,q){q.min=w?w.getTime():null}clone(){return new l({includeTime:this.includeTime,max:this.max,min:this.min})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"includeTime",void 0);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],c.prototype,"max",void 0);a.__decorate([p.reader("max")],
c.prototype,"readMax",null);a.__decorate([f.writer("max")],c.prototype,"writeMax",null);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],c.prototype,"min",void 0);a.__decorate([p.reader("min")],c.prototype,"readMin",null);a.__decorate([f.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:["datetime-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=l=a.__decorate([n.subclass("esri.form.elements.inputs.DateTimePickerInput")],c)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,p,n){var f;c=f=class extends n{constructor(g){super(g);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="radio-buttons"}clone(){return new f({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["radio-buttons"],
json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=f=a.__decorate([p.subclass("esri.form.elements.inputs.RadioButtonsInput")],c)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,b,c,e,d,p,n){var f;c=f=class extends n{constructor(g){super(g);this.onValue=this.offValue=
null;this.type="switch"}clone(){return new f({offValue:this.offValue,onValue:this.onValue})}};a.__decorate([b.property({type:[String,Number],json:{write:!0}})],c.prototype,"offValue",void 0);a.__decorate([b.property({type:[String,Number],json:{write:!0}})],c.prototype,"onValue",void 0);a.__decorate([b.property({type:["switch"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=f=a.__decorate([p.subclass("esri.form.elements.inputs.SwitchInput")],c)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,e,d,p,n){var f;c=f=class extends n{constructor(g){super(g);this.type="text-area"}clone(){return new f({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-area"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=f=a.__decorate([p.subclass("esri.form.elements.inputs.TextAreaInput")],c)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,e,d,p,n){var f;c=f=class extends n{constructor(g){super(g);this.type="text-box"}clone(){return new f({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-box"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=f=a.__decorate([p.subclass("esri.form.elements.inputs.TextBoxInput")],c)})},"esri/form/elements/inputs/TimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,e,d,p,n,f,g){function k(w){return null!=w?w:null}var l;c=l=class extends g{constructor(w){super(w);this.min=this.max=null;this.timeResolution="minutes";this.type="time-picker"}readMax(w,q){return k(q.max)}writeMax(w,q){q.max=null!=w?w:null}readMin(w,q){return k(q.min)}writeMin(w,q){q.min=null!=w?w:null}readTimeResolution(w,q){return k(q.timeResolution)}writeTimeResolution(w,q){q.timeResolution=null!=w?w:null}clone(){return new l({max:this.max,min:this.min,timeResolution:this.timeResolution})}};
a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0);a.__decorate([p.reader("max")],c.prototype,"readMax",null);a.__decorate([f.writer("max")],c.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0);a.__decorate([p.reader("min")],c.prototype,"readMin",null);a.__decorate([f.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,
"timeResolution",void 0);a.__decorate([p.reader("timeResolution")],c.prototype,"readTimeResolution",null);a.__decorate([f.writer("timeResolution")],c.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["time-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=l=a.__decorate([n.subclass("esri.form.elements.inputs.TimePickerInput")],c)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,c,e,d,p){b={key:"type",base:e,typeMap:{range:p,"coded-value":c,inherited:d}};a.CodedValueDomain=c;a.DomainBase=e;a.InheritedDomain=d;a.RangeDomain=p;a.fromJSON=function(n){if(!n?.type)return null;switch(n.type){case "range":return p.fromJSON(n);case "codedValue":return c.fromJSON(n);case "inherited":return d.fromJSON(n)}return null};a.types=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,c,e,d,p,n,f,g){var k;e=k=class extends g{constructor(l){super(l);this.codedValues=null;this.type="coded-value"}getName(l){let w=null;if(this.codedValues){const q=String(l);this.codedValues.some(m=>{String(m.code)===q&&(w=m.name);return!!w})}return w}clone(){return new k({codedValues:b.clone(this.codedValues),name:this.name})}};a.__decorate([c.property({type:[f.CodedValue],json:{write:!0}})],e.prototype,"codedValues",void 0);a.__decorate([p.enumeration({codedValue:"coded-value"})],e.prototype,
"type",void 0);return e=k=a.__decorate([n.subclass("esri.layers.support.CodedValueDomain")],e)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f){var g;a.CodedValue=g=class extends c.JSONSupport{constructor(k){super(k);this.code=this.name=null}clone(){return new g({name:this.name,
code:this.code})}};b.__decorate([e.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);b.__decorate([e.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=g=b.__decorate([f.subclass("esri.layers.support.CodedValue")],a.CodedValue);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g){b=new b.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});c=class extends c.JSONSupport{constructor(k){super(k);this.type=this.name=null}};a.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);a.__decorate([f.enumeration(b)],c.prototype,"type",void 0);return c=a.__decorate([g.subclass("esri.layers.support.Domain")],c)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,e,d,p,n,f){var g;b=g=class extends f{constructor(k){super(k);this.type="inherited"}clone(){return new g}};a.__decorate([p.enumeration({inherited:"inherited"})],b.prototype,"type",void 0);return b=g=a.__decorate([n.subclass("esri.layers.support.InheritedDomain")],b)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,e,d,p,n,f){var g;c=g=class extends f{constructor(k){super(k);this.minValue=this.maxValue=null;this.type="range"}clone(){return new g({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};a.__decorate([b.property({json:{type:[Number],read:{source:"range",reader(k,l){return l.range?.[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(k,l,w){l[w]=[this.minValue||0,k]}}}})],c.prototype,"maxValue",void 0);a.__decorate([b.property({json:{type:[Number],
read:{source:"range",reader(k,l){return l.range?.[0]}},write:{target:"range",writer(k,l,w){l[w]=[k,this.maxValue||0]}}}})],c.prototype,"minValue",void 0);a.__decorate([p.enumeration({range:"range"})],c.prototype,"type",void 0);return c=g=a.__decorate([n.subclass("esri.layers.support.RangeDomain")],c)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,e,d,p,n,f){var g;e=g=class extends n{constructor(k){super(k);this.displayCount=null;this.displayType="list";this.relationshipId=this.orderByFields=this.editableExpression=null;this.type="relationship"}clone(){return new g({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:b.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};
a.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"displayCount",void 0);a.__decorate([c.property({type:["list"],json:{write:!0}})],e.prototype,"displayType",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"editableExpression",void 0);a.__decorate([c.property({type:[f],json:{write:!0}})],e.prototype,"orderByFields",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"relationshipId",void 0);a.__decorate([c.property({type:["relationship"],
json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=g=a.__decorate([p.subclass("esri.form.elements.RelationshipElement")],e)})},"esri/form/elements/TextElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element".split(" "),function(a,b,c,e,d,p,n){var f;c=f=class extends n{constructor(g){super(g);this.text=null;this.textFormat="plain-text";
this.type="text"}clone(){return new f({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"textFormat",void 0);a.__decorate([b.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=f=a.__decorate([p.subclass("esri.form.elements.TextElement")],c)})},"esri/form/support/formUtils":function(){define(["exports"],
function(a){a.isFieldElement=b=>"field"===b.type;a.isGroupElement=b=>"group"===b.type;a.isRelationshipElement=b=>"relationship"===b.type;a.isTextElement=b=>"text"===b.type;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x){let B=0;a.MemorySource=class extends f.LoadableMixin(k.EsriPromiseMixin(d)){constructor(A){super(A);this._idToClientGraphic=null;this.type="memory"}load(A){this.addResolvingPromise(this._startWorker(null!=A?A.signal:null));return Promise.resolve(this)}destroy(){this._connection?.close();this._connection=null}get _workerGeometryType(){const A=this.layer?.geometryType;return A?this._geometryTypeRequiresClientGraphicMapping(A)?"polygon":A:null}applyEdits(A){return this.load().then(()=>
this._applyEdits(A))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(A,C={}){await this.load(C);C=await this._connection.invoke("queryFeatures",A?A.toJSON():null,C);u.applyFeatureSetZUnitScaling(A,this.layer.spatialReference,C);A=r.fromJSON(C);if(!this._requiresClientGraphicMapping())return A;C=this.layer.objectIdField;for(const H of A.features){const N=this._idToClientGraphic.get(H.attributes[C]);N&&(H.geometry=N.geometry)}A.geometryType=this.layer.geometryType;
return A}async queryFeaturesJSON(A,C={}){if(this._requiresClientGraphicMapping())throw new p("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(C);C=await this._connection.invoke("queryFeatures",A?A.toJSON():null,C);u.applyFeatureSetZUnitScaling(A,this.layer.spatialReference,C);return C}queryFeatureCount(A,C={}){return this.load(C).then(()=>this._connection.invoke("queryFeatureCount",A?A.toJSON():null,C))}queryObjectIds(A,
C={}){return this.load(C).then(()=>this._connection.invoke("queryObjectIds",A?A.toJSON():null,C))}queryExtent(A,C={}){return this.load(C).then(()=>this._connection.invoke("queryExtent",A?A.toJSON():null,C)).then(H=>({count:H.count,extent:z.fromJSON(H.extent)}))}querySnapping(A,C={}){return this.load(C).then(()=>this._connection.invoke("querySnapping",A,C))}async _applyEdits(A){if(!this._connection)throw new p("feature-layer-source:edit-failure","Memory source not loaded");const C=this.layer.objectIdField;
let H=null;const N=[],I=[];await Promise.all([this._prepareClientMapping(A.addFeatures,null),this._prepareClientMapping(A.updateFeatures,null)]);const E=F=>"objectId"in F&&null!=F.objectId?F.objectId:"attributes"in F&&null!=F.attributes[C]?F.attributes[C]:null;A.addFeatures&&(H=this._prepareAddFeatures(A.addFeatures));if(A.deleteFeatures)for(var G of A.deleteFeatures){const F=E(G);null!=F&&N.push(F)}G=A.updateFeatures&&this._idToClientGraphic?new Map:null;if(A.updateFeatures)for(const F of A.updateFeatures)I.push(this._serializeFeature(F)),
G&&(A=E(F),null!=A&&G.set(A,F));y.unapplyEditsZUnitScaling(H?H.features:null,I,this.layer.spatialReference);const {fullExtent:L,featureEditResults:R}=await this._connection.invoke("applyEdits",{adds:H?H.features:[],updates:I,deletes:N});this.fullExtent=L;H&&H.finish(R.uidToObjectId);this._updateClientGraphicIds(G,R);return this._createEditsResult(R)}async _prepareClientMapping(A,C){if("mesh"===this._layerOrSourceGeometryType&&null!=A){var H=[];for(const {geometry:N}of A)null==N||"mesh"!==N.type||
N.hasExtent||N.loaded||H.push(N.load({signal:C}));H.length&&await Promise.all(H)}}_updateClientGraphicIds(A,C){if(this._idToClientGraphic){if(A)for(const H of C.updateResults){if(!H.success)continue;const N=A.get(H.objectId);null!=N&&this._addIdToClientGraphic(N)}for(const H of C.deleteResults)H.success&&this._idToClientGraphic.delete(H.objectId)}}_createEditsResult(A){return{addFeatureResults:A.addResults?A.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:A.updateResults?
A.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:A.deleteResults?A.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(A){const C=!0===A.success?null:A.error||{code:void 0,description:void 0};return{objectId:A.objectId,globalId:A.globalId,error:C?new p("feature-layer-source:edit-failure",C.description,{code:C.code}):null}}_prepareAddFeatures(A){const C=new Map,
H=Array(A.length);let N=null;for(let E=0;E<A.length;E++){const G=A[E],L=this._serializeFeature(G);N||null==G.geometry||(N=G.geometry.type);H[E]=L;C.set(`${L.uid}`,G)}const I=this;return{features:H,inferredGeometryType:N,finish(E){const G=I.sourceJSON.objectIdField;for(const L in E){const R=E[L],F=C.get(L);F&&(F.attributes||(F.attributes={}),-1===R?delete F.attributes[G]:F.attributes[G]=R,I._addIdToClientGraphic(F))}}}}_addIdToClientGraphic(A){if(this._idToClientGraphic){var C=this.sourceJSON.objectIdField;
C=A.attributes?.[C];null!=C&&this._idToClientGraphic.set(C,A)}}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(A){return this._geometryTypeRequiresClientGraphicMapping(A.type)}_geometryTypeRequiresClientGraphicMapping(A){return"mesh"===A||"multipatch"===A||"extent"===A}_serializeFeature(A){const {attributes:C}=
A;A=this._geometryForSerialization(A);const H=(B++).toString();return A?{uid:H,geometry:A.toJSON(),attributes:C}:{uid:H,attributes:C}}_geometryForSerialization(A){({geometry:A}=A);return null==A?null:this._geometryRequiresClientGraphicMapping(A)?A.extent?v.fromExtent(A.extent):null:A}async _startWorker(A){this._connection=await l.open("MemorySourceWorker",{strategy:n("feature-layers-workers")?"dedicated":"local",signal:A,registryTarget:this});const {fields:C,spatialReference:H,objectIdField:N,hasM:I,
hasZ:E,timeInfo:G,dateFieldsTimeZone:L}=this.layer;var R="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,A);const F=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",O=>{g.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");O.preventDefault()}));R={features:F.features,fields:C?.map(O=>O.toJSON()),geometryType:x.typeKebabDictionary.toJSON(this._workerGeometryType),
hasM:"mesh"!==this._layerOrSourceGeometryType&&I,hasZ:"mesh"===this._layerOrSourceGeometryType||E,objectIdField:N,spatialReference:R?null:H&&H.toJSON(),timeInfo:G?.toJSON()??null,dateFieldsTimeZone:L};A=await this._connection.invoke("load",R,{signal:A});for(var J of A.warnings)g.getLogger(this.layer).warn("#load()",`${J.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:J});A.featureErrors.length&&g.getLogger(this.layer).warn("#load()",`Encountered ${A.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||
"no title"}', id: '${this.layer.id??"no id"}')`,{errors:A.featureErrors});J=A.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(F.inferredGeometryType)&&(J.geometryType=x.typeKebabDictionary.toJSON(F.inferredGeometryType));this.sourceJSON=J;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);F.finish(A.assignedObjectIds)}};b.__decorate([h.shared({Type:e,ensureType:q.ensureType(e)})],a.MemorySource.prototype,"itemType",void 0);b.__decorate([w.property()],a.MemorySource.prototype,
"type",void 0);b.__decorate([w.property({constructOnly:!0})],a.MemorySource.prototype,"layer",void 0);b.__decorate([w.property({readOnly:!0})],a.MemorySource.prototype,"_workerGeometryType",null);b.__decorate([w.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=b.__decorate([t.subclass("esri.layers.graphics.sources.MemorySource")],a.MemorySource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workers":function(){define("require exports ../Error ../has ../promiseUtils ./Connection ./connectionRegistry ./RemoteClient ./WorkerOwner".split(" "),
function(a,b,c,e,d,p,n,f,g){function k(r){if(r&&r.__esModule)return r;const z=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r)for(const v in r)if("default"!==v){const x=Object.getOwnPropertyDescriptor(r,v);Object.defineProperty(z,v,x.get?x:{enumerable:!0,get:()=>r[v]})}z.default=r;return Object.freeze(z)}async function l(r,z){const v=new p,{registryTarget:x,...B}=z;await v.open(r,B);x&&n.register(x,v);return v}async function w(){if(y)return y;u=new AbortController;const r=[];for(let z=
0;z<m;z++){const v=g.create(z).then(x=>t[z]=x);r.push(v)}return y=Promise.all(r)}const q=e("host-browser")?Math.min(navigator.hardwareConcurrency-1,e("workers-pool-size")):0;let m=e("esri-mobile")?Math.min(q,3):q;m||=e("safari")&&e("mac")?7:2;let h=0;const t=[];let y=null,u;b.Connection=p;b.RemoteClient=f;b.initialize=function(){w()};b.open=async function(r,z={}){if("string"!==typeof r)throw new c("workers:undefined-module","modulePath is missing");var v=z.strategy||"distributed";e("host-webworker")&&
!e("esri-workers")&&(v="local");if("local"===v){var x=await f.loadWorker(r);x||=await new Promise((B,A)=>a([r],C=>B(k(C)),A));d.throwIfAborted(z.signal);v=z.client||x;x=f.connect(x,z.schedule);return l([x],{...z,client:v})}await w();d.throwIfAborted(z.signal);if("dedicated"===v)return v=h++%m,v=await t[v].open(r,z),l([v],z);if(z.maxNumWorkers&&0<z.maxNumWorkers&&(v=Math.min(z.maxNumWorkers,m),v<m)){x=Array(v);for(let B=0;B<v;++B){const A=h++%m;x[B]=t[A].open(r,z)}return l(x,z)}v=t.map(B=>B.open(r,
z));return l(v,z)};b.openWithPorts=function(r,z){return l(r,{client:z})};b.terminate=function(){y&&(u.abort(),y=null);for(let r=0;r<t.length;r++)t[r]&&t[r].terminate();t.length=0};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/Connection":function(){define("../handleUtils ../has ../promiseUtils ../Queue ./connectionRegistry ./InvokeHandler ./RemoteClient".split(" "),function(a,b,c,e,d,p,n){class f{constructor(){this._inUseClients=[];this._clients=[];this._clientPromises=
[];this._ongoingJobsQueue=new e}destroy(){this.close()}get closed(){return!this._clients?.length}open(g,k){return new Promise((l,w)=>{let q=!0;const m=h=>{c.throwIfAborted(k.signal);q&&(q=!1,h())};this._clients.length=g.length;this._clientPromises.length=g.length;this._inUseClients.length=g.length;for(let h=0;h<g.length;++h){const t=g[h];c.isPromiseLike(t)?this._clientPromises[h]=t.then(y=>{this._clients[h]=new n(y,k,this._ongoingJobsQueue);m(l);return this._clients[h]},()=>{m(w);return null}):(this._clients[h]=
new n(t,k,this._ongoingJobsQueue),this._clientPromises[h]=Promise.resolve(this._clients[h]),m(l))}})}broadcast(g,k,l){const w=Array(this._clientPromises.length);for(let q=0;q<this._clientPromises.length;++q)w[q]=this._clientPromises[q].then(m=>m?.invoke(g,k,l));return w}close(){let g;for(;g=this._ongoingJobsQueue.pop();)g.resolver.reject(c.createAbortError(`Worker closing, aborting job calling '${g.methodName}'`));for(const k of this._clientPromises)k.then(l=>l?.close());this._clients.length=0;this._clientPromises.length=
0;this._inUseClients.length=0;d.unregister(this)}invoke(g,k,l){return this.apply(g,[k],l)}apply(g,k,l){const w=c.createResolver();this._ongoingJobsQueue.push({methodName:g,data:k,invokeOptions:l,resolver:w});for(g=0;g<this._clientPromises.length;g++)(k=this._clients[g])?k.jobAdded():this._clientPromises[g].then(q=>q?.jobAdded());return w.promise}createInvokeProxy(g){return p.createInvokeProxy(this,g)}on(g,k){return Promise.all(this._clientPromises).then(()=>a.handlesGroup(this._clients.map(l=>l.on(g,
k))))}openPorts(){return new Promise(g=>{const k=Array(this._clientPromises.length);let l=k.length;for(let w=0;w<this._clientPromises.length;++w)this._clientPromises[w].then(q=>{q&&(k[w]=q.openPort());0===--l&&g(k)})})}get test(){}}return f})},"esri/core/Queue":function(){define(["./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b){class c{constructor(e=d=>d.values().next().value){this._peeker=e;this._observable=new b.SimpleObservable;this._items=new Set}get length(){a.trackAccess(this._observable);
return this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0!==this.length){for(var e of this._items);return e}}peek(){if(0!==this.length)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){a.trackAccess(this._observable);return this._items.has(e)}pop(){if(0!==this.length){var e=this.peek();this._items.delete(e);this._observable.notify();return e}}popLast(){if(0!==this.length){var e=this.last();
this._items.delete(e);this._observable.notify();return e}}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const d=this.length;this._items.forEach(p=>{e(p)||this._items.delete(p)});d!==this._items.size&&this._observable.notify();return this}*[Symbol.iterator](){a.trackAccess(this._observable);yield*this._items}}return c})},"esri/core/workers/connectionRegistry":function(){define(["exports"],function(a){const b=new FinalizationRegistry(c=>{c.close()});a.register=
function(c,e){b.register(c,e,e)};a.unregister=function(c){b.unregister(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/InvokeHandler":function(){define(["exports"],function(a){a.createInvokeProxy=function(b,c){return new Proxy({},{get(e,d,p){return(...n)=>{let f,g;const k=n[n.length-1];"object"===typeof k&&!Array.isArray(k)&&null!=k&&("signal"in k||"transferList"in k||0===Object.keys(k).length)&&(f=k.signal,g=k.transferList,n.pop());return b.apply(c?`${c}.${d.toString()}`:
d.toString(),n,{transferList:g,signal:f})}}})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/RemoteClient":function(){define("../../kernel ../Error ../events ../handleUtils ../maybe ../promiseUtils ./InvokeHandler ./registry ./utils ../../support/revision".split(" "),function(a,b,c,e,d,p,n,f,g,k){const {CLOSE:l,ABORT:w,INVOKE:q,RESPONSE:m,OPEN_PORT:h,ON:t}=g.MessageType;class y{constructor(r){this._invoke=r;this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=
[];this._timer=null;this._process=this._process.bind(this)}push(r){r.type===g.MessageType.ABORT?this._cancelledJobIds.add(r.jobId):(this._invokeMessages.push(r),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null}_process(){this._timer=null;for(const r of this._invokeMessages)this._cancelledJobIds.has(r.jobId)||this._invoke(r);this._cancelledJobIds.clear();this._invokeMessages.length=0}}class u{static connect(r,
z){const v=new MessageChannel;r="function"===typeof r?new r:"default"in r&&"function"===typeof r.default?new r.default:r;z=new u(v.port1,{channel:v,client:r,schedule:z});"object"===typeof r&&"remoteClient"in r&&(r.remoteClient=z);u.clients.set(z,r);return v.port2}static loadWorker(r){return(r=f.registry[r])?r():Promise.resolve(null)}constructor(r,z,v){this._port=r;this._jobQueue=v;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new y(x=>this._onInvokeMessage(x));this._client=z.client;
this._onMessage=this._onMessage.bind(this);this._channel=z.channel;this._schedule=z.schedule;this._port.addEventListener("message",this._onMessage);this._port.start()}close(){this._post({type:l});this._close()}isBusy(){return 0<this._outJobs.size}invoke(r,z,v){return this.apply(r,[z],v)}apply(r,z,v){const x=v?.signal,B=v?.transferList;if(!this._port)return Promise.reject(new b(g.portClosedErrorName,`Cannot call invoke('${r}'), port is closed`,{methodName:r,data:z}));const A=g.newJobId();return new Promise((C,
H)=>{if(p.isAborted(x))this._processWork(),H(p.createAbortError());else{var N=p.onAbort(x,()=>{const I=this._outJobs.get(A);I&&(this._outJobs.delete(A),this._processWork(),d.removeMaybe(I.abortHandle),this._post({type:w,jobId:A}),H(p.createAbortError()))});this._outJobs.set(A,{resolve:C,reject:H,abortHandle:N,debugInfo:r});this._post({type:q,jobId:A,methodName:r,abortable:null!=x},z,B)}})}createInvokeProxy(r){return n.createInvokeProxy(this,r)}on(r,z){function v(B){z(B.data)}const x=new MessageChannel;
this._port.postMessage({type:g.MessageType.ON,eventType:r,port:x.port2},[x.port2]);x.port1.addEventListener("message",v);x.port1.start();return e.makeHandle(()=>{x.port1.postMessage({type:g.MessageType.CLOSE});x.port1.close();x.port1.removeEventListener("message",v)})}jobAdded(){this._processWork()}openPort(){const r=new MessageChannel;this._post({type:h,port:r.port2});return r.port1}_processWork(){if(!(2<=this._outJobs.size)){var r=this._jobQueue?.pop();if(r){var {methodName:z,data:v,invokeOptions:x,
resolver:B}=r;this.apply(z,v,x).then(A=>B.resolve(A)).catch(A=>B.reject(A))}}}_close(){this._channel&&(this._channel=void 0);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(r=>{d.removeMaybe(r.abortHandle);r.reject(p.createAbortError(`Worker closing, aborting job calling '${r.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._schedule=this._client=this._port=null}_onMessage(r){null!=this._schedule?this._schedule(()=>
this._processMessage(r,!0)):this._processMessage(r,!1)}_processMessage(r,z){if(r=g.receiveMessage(r))switch(r.type){case m:this._onResponseMessage(r);break;case q:z?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case w:this._onAbortMessage(r);break;case l:this._onCloseMessage();break;case h:this._onOpenPortMessage(r);break;case t:this._onOnMessage(r)}}_onAbortMessage(r){const z=this._inJobs,v=r.jobId,x=z.get(v);this._invokeQueue.push(r);x&&(x.controller&&x.controller.abort(),z.delete(v))}_onCloseMessage(){const r=
this._client;this._close();r&&"destroy"in r&&u.clients.get(this)===r&&r.destroy();u.clients.delete(this);r?.remoteClient&&(r.remoteClient=null)}_onInvokeMessage(r){const {methodName:z,jobId:v,data:x=[],abortable:B}=r;r=B?new AbortController:null;const A=this._inJobs;let C=this._client,H=C[z],N;try{if(!H&&z&&z.includes(".")){const I=z.split(".");for(let E=0;E<I.length-1;E++)C=C[I[E]],H=C[I[E+1]]}if("function"!==typeof H)throw new TypeError(`${z} is not a function`);x.push({client:this,signal:r?r.signal:
null});N=H.apply(C,x)}catch(I){this._post({type:m,jobId:v,error:g.toInvokeError(I)});return}p.isPromiseLike(N)?(A.set(v,{controller:r,promise:N}),N.then(I=>{A.has(v)&&(A.delete(v),this._post({type:m,jobId:v},I))},I=>{A.has(v)&&(A.delete(v),p.isAbortError(I)||this._post({type:m,jobId:v,error:g.toInvokeError(I||{message:`Error encountered at method ${z}`})}))})):this._post({type:m,jobId:v},N)}_onOpenPortMessage(r){new u(r.port,{client:this._client})}_onOnMessage(r){const {port:z}=r,v=this._client.on(r.eventType,
B=>{z.postMessage(B)}),x=c.on(r.port,"message",B=>{g.receiveMessage(B)?.type===g.MessageType.CLOSE&&(x.remove(),v.remove(),z.close())})}_onResponseMessage(r){const {jobId:z,error:v,data:x}=r;r=this._outJobs;if(r.has(z)){var B=r.get(z);r.delete(z);this._processWork();d.removeMaybe(B.abortHandle);v?B.reject(b.fromJSON(JSON.parse(v))):B.resolve(x)}}_post(r,z,v){return g.postMessage(this._port,r,z,v)}}u.kernelInfo={buildDate:k.buildDate,fullVersion:a.fullVersion,revision:k.commitHash};u.clients=new Map;
return u})},"esri/core/workers/registry":function(){define(["require","exports"],function(a,b){const c=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"}));b.registry={statsWorker:()=>new Promise((e,d)=>a(["../../smartMapping/statistics/support/statsWorker"],e,d)),geometryEngineWorker:()=>new Promise((e,d)=>a(["../../geometry/geometryEngineWorker"],e,d)),CSVSourceWorker:()=>new Promise((e,d)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],
p=>e(c(p)),d)),EdgeProcessingWorker:()=>new Promise((e,d)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],p=>e(c(p)),d)),ElevationSamplerWorker:()=>new Promise((e,d)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],p=>e(c(p)),d)),FeatureServiceSnappingSourceWorker:()=>new Promise((e,d)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],p=>e(c(p)),d)),GeoJSONSourceWorker:()=>new Promise((e,d)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],
p=>e(c(p)),d)),LercWorker:()=>new Promise((e,d)=>a(["../../layers/support/LercWorker"],p=>e(c(p)),d)),MemorySourceWorker:()=>new Promise((e,d)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],p=>e(c(p)),d)),PBFDecoderWorker:()=>new Promise((e,d)=>a(["../../views/3d/support/PBFDecoderWorker"],p=>e(c(p)),d)),FeaturePipelineWorker:()=>new Promise((e,d)=>a(["../../views/2d/layers/features/FeaturePipelineWorker"],p=>e(c(p)),d)),PointCloudWorker:()=>new Promise((e,d)=>a(["../../views/3d/layers/PointCloudWorker"],
p=>e(c(p)),d)),RasterWorker:()=>new Promise((e,d)=>a(["../../layers/support/RasterWorker"],p=>e(c(p)),d)),SceneLayerSnappingSourceWorker:()=>new Promise((e,d)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],p=>e(c(p)),d)),SceneLayerWorker:()=>new Promise((e,d)=>a(["../../views/3d/layers/SceneLayerWorker"],e,d)),WFSSourceWorker:()=>new Promise((e,d)=>a(["../../layers/graphics/sources/WFSSourceWorker"],p=>e(c(p)),d)),WorkerTileHandler:()=>new Promise((e,
d)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],p=>e(c(p)),d)),Lyr3DWorker:()=>new Promise((e,d)=>a(["../../views/3d/layers/Lyr3DWorker"],e,d))};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/utils":function(){define(["exports","../has","../promiseUtils"],function(a,b,c){function e(g){return g&&"object"===typeof g&&("result"in g||"transferList"in g)}function d(g){return g?"string"===typeof g?JSON.stringify({name:"message",message:g}):g.toJSON?JSON.stringify(g):
JSON.stringify({name:g.name,message:g.message,details:g.details||{stack:g.stack}}):null}function p(g,k,l,w){if(k.type===a.MessageType.OPEN_PORT)g.postMessage(k,[k.port]);else if(k.type!==a.MessageType.INVOKE&&k.type!==a.MessageType.RESPONSE)g.postMessage(k);else if(e(l)?(w=n(l.transferList),k.data=l.result):(w=n(w),k.data=l),w){if(b("ff"))for(const q of w)if("byteLength"in q&&267386880<q.byteLength)switch(k.type){case a.MessageType.INVOKE:throw"Worker call with large ArrayBuffer would crash Firefox";
case a.MessageType.RESPONSE:p(g,{type:a.MessageType.RESPONSE,jobId:k.jobId,error:d("Worker call with large ArrayBuffer would crash Firefox")});return}g.postMessage(k,w)}else g.postMessage(k)}function n(g){if(!g?.length)return null;if(b("esri-workers-arraybuffer-transfer"))return g;g=g.filter(k=>!(k instanceof ArrayBuffer||"ArrayBuffer"===k?.constructor?.name));return g.length?g:null}a.MessageType=void 0;(function(g){g[g.HANDSHAKE=0]="HANDSHAKE";g[g.OPEN=1]="OPEN";g[g.OPENED=2]="OPENED";g[g.RESPONSE=
3]="RESPONSE";g[g.INVOKE=4]="INVOKE";g[g.ABORT=5]="ABORT";g[g.CLOSE=6]="CLOSE";g[g.OPEN_PORT=7]="OPEN_PORT";g[g.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let f=0;a.ignoreConnectionErrors=async function(g){try{return await g}catch(k){if(g="worker:port-closed"===k?.name,!c.isAbortError(k)&&!g)throw k;}};a.isTransferrableResult=e;a.newJobId=function(){return f++};a.portClosedErrorName="worker:port-closed";a.postMessage=p;a.receiveMessage=function(g){return g?(g=g.data)?"string"===typeof g?JSON.parse(g):
g:null:null};a.toInvokeError=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerOwner":function(){define("../Error ../Logger ../maybe ../promiseUtils ./staticWorkerMessages ./utils ./workerFactory".split(" "),function(a,b,c,e,d,p,n){const {ABORT:f,INVOKE:g,OPEN:k,OPENED:l,RESPONSE:w}=p.MessageType;class q{static async create(m){const h=await n.createWorker();return new q(h,m)}constructor(m,h){this._outJobs=new Map;this._inJobs=new Map;this.worker=m;this.id=
h;m.addEventListener("message",this._onMessage.bind(this));m.addEventListener("error",t=>{t.preventDefault();b.getLogger("esri.core.workers.WorkerOwner").error(t)})}terminate(){this.worker.terminate()}async open(m,h={}){const {signal:t}=h,y=p.newJobId();return new Promise((u,r)=>{const z=e.onAbortOrThrow(t,()=>{this._outJobs.delete(y);this._post({type:f,jobId:y})});this._outJobs.set(y,{resolve:u,reject:r,abortHandle:z});this._post({type:k,jobId:y,modulePath:m})})}_onMessage(m){if(m=p.receiveMessage(m))switch(m.type){case l:this._onOpenedMessage(m);
break;case w:this._onResponseMessage(m);break;case f:this._onAbortMessage(m);break;case g:this._onInvokeMessage(m)}}_onAbortMessage(m){const h=this._inJobs;m=m.jobId;const t=h.get(m);t&&(t.controller&&t.controller.abort(),h.delete(m))}_onInvokeMessage(m){const {methodName:h,jobId:t,data:y,abortable:u}=m;m=u?new AbortController:null;const r=this._inJobs,z=d.staticWorkerMessages[h];let v;try{if("function"!==typeof z)throw new TypeError(`${h} is not a function`);v=z.call(null,y,{signal:m?m.signal:null})}catch(x){this._post({type:w,
jobId:t,error:p.toInvokeError(x)});return}e.isPromiseLike(v)?(r.set(t,{controller:m,promise:v}),v.then(x=>{r.has(t)&&(r.delete(t),this._post({type:w,jobId:t},x))},x=>{r.has(t)&&(r.delete(t),x||={message:"Error encountered at method"+h},e.isAbortError(x)||this._post({type:w,jobId:t,error:p.toInvokeError(x||{message:`Error encountered at method ${h}`})}))})):this._post({type:w,jobId:t},v)}_onOpenedMessage(m){const {jobId:h,data:t}=m;if(m=this._outJobs.get(h))this._outJobs.delete(h),c.removeMaybe(m.abortHandle),
m.resolve(t)}_onResponseMessage(m){const {jobId:h,error:t,data:y}=m;if(m=this._outJobs.get(h))this._outJobs.delete(h),c.removeMaybe(m.abortHandle),t?m.reject(a.fromJSON(JSON.parse(t))):m.resolve(y)}_post(m,h,t){return p.postMessage(this.worker,m,h,t)}}return q})},"esri/core/workers/staticWorkerMessages":function(){define(["exports","../../request","../urlUtils"],function(a,b,c){a.staticWorkerMessages={async request(e,d){const p=e.options,n=p.responseType;p.signal=d?.signal;p.responseType="native"===
n||"native-request-init"===n?"native-request-init":n&&["blob","json","text"].includes(n)&&c.getInterceptor(e.url)?.after?n:"array-buffer";e=await b(e.url,p);d={data:e.data,httpStatus:e.httpStatus,ssl:e.ssl};switch(e.requestOptions?.responseType){case "native-request-init":return delete d.data.signal,d;case "blob":d.data=await d.data.arrayBuffer();break;case "json":d.data=(new TextEncoder).encode(JSON.stringify(d.data)).buffer;break;case "text":d.data=(new TextEncoder).encode(d.data).buffer}return{result:d,
transferList:[d.data]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workerFactory":function(){define("exports ../../config ../../request ../Error ../Logger ../urlUtils ../../intl ../../kernel ../has ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w,q,m){async function h(v){return new Promise(x=>{function B(C){(C=l.receiveMessage(C))&&C.type===y&&(v.removeEventListener("message",B),v.removeEventListener("error",
A),x(v))}function A(C){C.preventDefault();v.removeEventListener("message",B);v.removeEventListener("error",A);t().warn("Failed to create Worker. Fallback to execute module in main thread",C);v=new w;v.addEventListener("message",B);v.addEventListener("error",A)}v.addEventListener("message",B);v.addEventListener("error",A)})}const t=()=>d.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:y}=l.MessageType;let u,r,z=0;a.createWorker=async function(){if(!g("esri-workers"))return h(new w);if(!u&&
!r)try{var v=["let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3d",';self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;let s\x3dnull;return new Promise(((r,i)\x3d\x3e{if(t){if(t.aborted)return i(createAbortError());s\x3d()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!\x3dt,data:o})})).finally((()\x3d\x3e{t\x26\x26t.removeEventListener("abort",s)}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,fullVersion:r}\x3dconfiguration.kernelInfo,{revision:t,fullVersion:n,version:s}\x3de.kernelInfo;esriConfig.assetsPath!\x3d\x3desriConfig.defaultAssetsPath\x26\x26o!\x3d\x3dt\x26\x26console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case 1:let n;function t(e){const o\x3dn.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((e\x3d\x3e(n\x3de.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s\x3doutgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'],
x=v.join;let C;if(null!=b["default"]){const E={...b};delete E["default"];C=JSON.parse(JSON.stringify(E))}else C=JSON.parse(JSON.stringify(b));C.assetsPath=p.makeAbsolute(C.assetsPath);C.defaultAssetsPath=C.defaultAssetsPath?p.makeAbsolute(C.defaultAssetsPath):void 0;C.request.interceptors=[];C.log.interceptors=[];C.locale=q.getLocale();C.has={"esri-csp-restrictions":g("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":g("esri-2d-update-debug"),"esri-2d-log-updating":g("esri-2d-log-updating"),
"featurelayer-pbf":g("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":g("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":g("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":g("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":g("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":g("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":g("featurelayer-query-pausing-enabled"),
"featurelayer-snapshot-enabled":g("featurelayer-snapshot-enabled"),"esri-atomics":g("esri-atomics"),"esri-shared-array-buffer":g("esri-shared-array-buffer"),"esri-tiles-debug":g("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":g("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":g("feature-polyline-generalization-factor"),"host-webworker":1};C.workers.loaderUrl?C.workers.loaderUrl=p.makeAbsolute(C.workers.loaderUrl):k.defaultLoaderUrl&&(C.workers.loaderUrl=k.defaultLoaderUrl);
C.workers.workerPath=C.workers.workerPath?p.makeAbsolute(C.workers.workerPath):"esri/core/workers/RemoteClient";C.workers.useDynamicImport=!1;const H=b.workers.loaderConfig,N=k.loaderConfig({baseUrl:H?.baseUrl,locale:q.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...H?.has},map:{...H?.map},paths:{...H?.paths},packages:H?.packages||[]});var B=JSON.stringify({esriConfig:C,loaderConfig:N,kernelInfo:{buildDate:m.buildDate,fullVersion:f.fullVersion,revision:m.commitHash}});
const I=x.call(v,B);u=URL.createObjectURL(new Blob([I],{type:"text/javascript"}))}catch(C){r=C||{}}let A;if(u)try{A=new Worker(u,{name:`esri-worker-${z++}`})}catch(C){t().warn("Failed to create Worker. Fallback to execute module in main thread",r),A=new w}else t().warn("Failed to create Worker. Fallback to execute module in main thread",r),A=new w;return h(A)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/loaderConfig":function(){define(["exports","../../assets",
"../has","../urlUtils"],function(a,b,c,e){a.defaultLoaderUrl=null;a.defaultLoaderUrl=e.makeAbsolute(b.getAssetUrl("esri/core/workers/init.js"));const d={};d.baseUrl=e.makeAbsolute(b.getAssetUrl("dojo/"));d.packages=[{name:"esri",location:"../esri"}];a.loaderConfig=function(p){const n={async:p.async,isDebug:p.isDebug,locale:p.locale,baseUrl:p.baseUrl,has:{...p.has},map:{...p.map},packages:p.packages?.concat()||[],paths:{...d.paths,...p.paths}};p.hasOwnProperty("async")||(n.async=!0);p.hasOwnProperty("isDebug")||
(n.isDebug=!1);p.baseUrl||(n.baseUrl=d.baseUrl);d.packages?.forEach(f=>{a:{var g=n.packages??[];for(const k of g)if(k.name===f.name)break a;g.push(f)}});return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerFallback":function(){define(["require","../nextTick","./RemoteClient","./utils"],function(a,b,c,e){function d(f){if(f&&f.__esModule)return f;const g=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(f)for(const k in f)if("default"!==k){const l=
Object.getOwnPropertyDescriptor(f,k);Object.defineProperty(g,k,l.get?l:{enumerable:!0,get:()=>f[k]})}g.default=f;return Object.freeze(g)}class p{constructor(){const f=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(g=>{this[g]=(...k)=>f[g](...k)})}}class n{constructor(){this._dispatcher=new p;this._workerPostMessage({type:e.MessageType.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(f){this._onmessageHandler&&
this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=f)&&this.addEventListener("message",f)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(f){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=f)&&this.addEventListener("messageerror",f)}get onerror(){return this._onerrorHandler}set onerror(f){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);
(this._onerrorHandler=f)&&this.addEventListener("error",f)}postMessage(f){b.nextTick(()=>{this._workerMessageHandler(new MessageEvent("message",{data:f}))})}dispatchEvent(f){return this._dispatcher.dispatchEvent(f)}addEventListener(f,g,k){this._dispatcher.addEventListener(f,g,k)}removeEventListener(f,g,k){this._dispatcher.removeEventListener(f,g,k)}_workerPostMessage(f){b.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:f}))})}async _workerMessageHandler(f){if((f=e.receiveMessage(f))&&
f.type===e.MessageType.OPEN){const {modulePath:g,jobId:k}=f;(f=await c.loadWorker(g))||(f=await new Promise((l,w)=>a([g],q=>l(d(q)),w)));f=c.connect(f);this._workerPostMessage({type:e.MessageType.OPENED,jobId:k,data:f})}}}return n})},"esri/rest/query/operations/editsZScale":function(){define(["exports","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(a,b,c){function e(p,n,f){if(null==p.hasM||p.hasZ)for(const g of n)for(const k of g)2<k.length&&(k[2]*=f)}function d(p,
n,f){if(p)for(const k of p){p=k.geometry;var g=f;if(p?.spatialReference&&!c.equals(p.spatialReference,n)&&(g=b.getMetersPerVerticalUnitForSR(p.spatialReference)/g,1!==g))if("x"in p)null!=p.z&&(p.z*=g);else if("rings"in p)e(p,p.rings,g);else if("paths"in p)e(p,p.paths,g);else if("points"in p&&(null==p.hasM||p.hasZ))for(const l of p.points)2<l.length&&(l[2]*=g)}}a.unapplyEditsZUnitScaling=function(p,n,f){if((p||n)&&f){var g=b.getMetersPerVerticalUnitForSR(f);d(p,f,g);d(n,f,g)}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","../../../geometry/support/zscale"],function(a,b){a.applyFeatureSetZUnitScaling=function(c,e,d){if(d?.features&&d.hasZ&&(c=b.getGeometryZScaler(d.geometryType,e,c.outSpatialReference),null!=c))for(const p of d.features)c(p.geometry)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/tslib.es6 ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){var t;const y=new e.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});e=t=class extends d.JSONSupport{constructor(u){super(u);this.displayFieldName=null;this.exceededTransferLimit=!1;this.features=[];this.geometryType=this.fields=null;this.hasZ=this.hasM=!1;this.spatialReference=this.queryGeometry=null}readFeatures(u,r){r=q.fromJSON(r.spatialReference);
const z=[];for(let B=0;B<u.length;B++){var v=u[B];const A=c.fromJSON(v);var x=v.geometry?.spatialReference;null==A.geometry||x||(A.geometry.spatialReference=r);v=v.aggregateGeometries;x=A.aggregateGeometries;if(v&&null!=x)for(const C in x){const H=x[C],N=v[C]?.spatialReference;null==H||N||(H.spatialReference=r)}z.push(A)}return z}writeGeometryType(u,r,z,v){if(u)y.write(u,r,z,v);else if({features:u}=this,u)for(const x of u)if(null!=x?.geometry){y.write(x.geometry.type,r,z,v);break}}readQueryGeometry(u,
r){if(!u)return null;const z=!!u.spatialReference;(u=m.fromJSON(u))&&!z&&r.spatialReference&&(u.spatialReference=q.fromJSON(r.spatialReference));return u}writeSpatialReference(u,r){if(u)r.spatialReference=u.toJSON();else if({features:u}=this,u)for(const z of u)if(z&&null!=z.geometry&&z.geometry.spatialReference){r.spatialReference=z.geometry.spatialReference.toJSON();break}}clone(){return new t(this.cloneProperties())}cloneProperties(){return p.clone({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,
features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(u){const r=this.write();if(r.features&&Array.isArray(u)&&0<u.length)for(let z=0;z<r.features.length;z++){const v=r.features[z];v.geometry&&(v.geometry=u?.[z]?.toJSON()||v.geometry)}return r}quantize(u){const {scale:[r,z],translate:[v,x]}=u,B=this.features,A=this._getQuantizationFunction(this.geometryType,
C=>Math.round((C-v)/r),C=>Math.round((x-C)/z));for(let C=0,H=B.length;C<H;C++)A?.(B[C].geometry)||(B.splice(C,1),C--,H--);this.transform=u;return this}unquantize(){const {geometryType:u,features:r,transform:z}=this;if(!z)return this;const {translate:[v,x],scale:[B,A]}=z;var C=null;let H=null;if(this.hasZ&&null!=z?.scale?.[2]){const {translate:[,,N],scale:[,,I]}=z;C=E=>E*I+N}if(this.hasM&&null!=z?.scale?.[3]){const {translate:[,,,N],scale:[,,,I]}=z;H=E=>null==E?E:E*I+N}C=this._getHydrationFunction(u,
N=>N*B+v,N=>x-N*A,C,H);for(const {geometry:N}of r)null!=N&&C&&C(N);this.transform=null;return this}_quantizePoints(u,r,z){let v,x;const B=[];for(let C=0,H=u.length;C<H;C++){var A=u[C];if(0<C){const N=r(A[0]);A=z(A[1]);if(N!==v||A!==x)B.push([N-v,A-x]),v=N,x=A}else v=r(A[0]),x=z(A[1]),B.push([v,x])}return 0<B.length?B:null}_getQuantizationFunction(u,r,z){return"point"===u?v=>{v.x=r(v.x);v.y=z(v.y);return v}:"polyline"===u||"polygon"===u?v=>{const x=m.isPolygon(v)?v.rings:v.paths,B=[];for(let A=0,C=
x.length;A<C;A++){const H=this._quantizePoints(x[A],r,z);H&&B.push(H)}return 0<B.length?(m.isPolygon(v)?v.rings=B:v.paths=B,v):null}:"multipoint"===u?v=>{const x=this._quantizePoints(v.points,r,z);return x&&0<x.length?(v.points=x,v):null}:"extent"===u?v=>v:null}_getHydrationFunction(u,r,z,v,x){return"point"===u?B=>{B.x=r(B.x);B.y=z(B.y);v&&(B.z=v(B.z))}:"polyline"===u||"polygon"===u?B=>{B=m.isPolygon(B)?B.rings:B.paths;for(let H=0,N=B.length;H<N;H++){const I=B[H];for(let E=0,G=I.length;E<G;E++){const L=
I[E];if(0<E)A+=L[0],C+=L[1];else{var A=L[0];var C=L[1]}L[0]=r(A);L[1]=z(C)}}if(v&&x)for(let H=0,N=B.length;H<N;H++){A=B[H];for(let I=0,E=A.length;I<E;I++)C=A[I],C[2]=v(C[2]),C[3]=x(C[3])}else if(v)for(let H=0,N=B.length;H<N;H++){A=B[H];for(let I=0,E=A.length;I<E;I++)C=A[I],C[2]=v(C[2])}else if(x)for(let H=0,N=B.length;H<N;H++){A=B[H];for(let I=0,E=A.length;I<E;I++)C=A[I],C[2]=x(C[2])}}:"extent"===u?B=>{B.xmin=r(B.xmin);B.ymin=z(B.ymin);B.xmax=r(B.xmax);B.ymax=z(B.ymax);v&&null!=B.zmax&&null!=B.zmin&&
(B.zmax=v(B.zmax),B.zmin=v(B.zmin));x&&null!=B.mmax&&null!=B.mmin&&(B.mmax=x(B.mmax),B.mmin=x(B.mmin))}:"multipoint"===u?B=>{B=B.points;let A;for(let H=0,N=B.length;H<N;H++){const I=B[H];if(0<H)C+=I[0],A+=I[1];else{var C=I[0];A=I[1]}I[0]=r(C);I[1]=z(A)}if(v&&x)for(let H=0,N=B.length;H<N;H++)C=B[H],C[2]=v(C[2]),C[3]=x(C[3]);else if(v)for(let H=0,N=B.length;H<N;H++)C=B[H],C[2]=v(C[2]);else if(x)for(let H=0,N=B.length;H<N;H++)C=B[H],C[2]=x(C[2])}:null}};a.__decorate([n.property({type:String,json:{write:!0}})],
e.prototype,"displayFieldName",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],e.prototype,"exceededTransferLimit",void 0);a.__decorate([n.property({type:[c],json:{write:!0}})],e.prototype,"features",void 0);a.__decorate([k.reader("features")],e.prototype,"readFeatures",null);a.__decorate([n.property({type:[h],json:{write:!0}})],e.prototype,"fields",void 0);a.__decorate([n.property({type:"point multipoint polyline polygon extent mesh".split(" "),
json:{read:{reader:y.read}}})],e.prototype,"geometryType",void 0);a.__decorate([w.writer("geometryType")],e.prototype,"writeGeometryType",null);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],e.prototype,"hasM",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],e.prototype,"hasZ",void 0);a.__decorate([n.property({types:b.geometryTypes,json:{write:!0}})],e.prototype,"queryGeometry",void 0);a.__decorate([k.reader("queryGeometry")],
e.prototype,"readQueryGeometry",null);a.__decorate([n.property({type:q,json:{write:!0}})],e.prototype,"spatialReference",void 0);a.__decorate([w.writer("spatialReference")],e.prototype,"writeSpatialReference",null);a.__decorate([n.property({json:{write:!0}})],e.prototype,"transform",void 0);e=t=a.__decorate([l.subclass("esri.rest.support.FeatureSet")],e);e.prototype.toJSON.isDefaultToJSON=!0;return e})},"esri/layers/support/Field":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w){var q;const m=new b.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});b=q=class extends c.JSONSupport{constructor(h){super(h);
this.alias=null;this.defaultValue=void 0;this.domain=this.description=null;this.editable=!0;this.length=void 0;this.name=null;this.nullable=!0;this.valueType=this.type=null;this.visible=!0}readDescription(h,{description:t}){h=null;try{h=t?JSON.parse(t):null}catch(y){}return h?.value??null}readValueType(h,{description:t}){h=null;try{h=t?JSON.parse(t):null}catch(y){}return h?m.fromJSON(h.fieldValueType):null}clone(){return new q({alias:this.alias,defaultValue:this.defaultValue,description:this.description,
domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);a.__decorate([e.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);a.__decorate([e.property()],b.prototype,"description",void 0);a.__decorate([g.reader("description")],b.prototype,"readDescription",
null);a.__decorate([e.property({types:l.types,json:{read:{reader:l.fromJSON},write:!0}})],b.prototype,"domain",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);a.__decorate([e.property({type:d.Integer,json:{write:{overridePolicy(h){return{enabled:Number.isFinite(h)}}}}})],b.prototype,"length",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,
"nullable",void 0);a.__decorate([f.enumeration(w.kebabDict)],b.prototype,"type",void 0);a.__decorate([e.property()],b.prototype,"valueType",void 0);a.__decorate([g.reader("valueType",["description"])],b.prototype,"readValueType",null);a.__decorate([e.property({type:Boolean,json:{read:!1}})],b.prototype,"visible",void 0);return b=q=a.__decorate([k.subclass("esri.layers.support.Field")],b)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(a,b){b=new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",
esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});
a.kebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){a.APIKeyMixin=f=>{f=class extends f{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(g){null!=
g?this._override("apiKey",g):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};b.__decorate([c.property({type:String})],f.prototype,"apiKey",null);return f=b.__decorate([n.subclass("esri.layers.mixins.APIKeyMixin")],f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),
function(a,b,c,e,d,p,n,f){a.ArcGISService=g=>{g=class extends g{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const k=f.parse(this.url);if(null!=k&&k.title)return k.title}return this._get("title")||""}set title(k){this._set("title",k)}set url(k){this._set("url",f.sanitizeUrl(k,c.getLogger(this)))}};b.__decorate([e.property()],g.prototype,"title",null);b.__decorate([e.property({type:String})],g.prototype,"url",null);return g=b.__decorate([n.subclass("esri.layers.mixins.ArcGISService")],
g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils".split(" "),function(a,b,c,e,d,p,n,f){const g={type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),
nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}};e={read:{reader:f.read},write:{allowNull:!0,writer:f.write}};const k={json:{read:!1,write:!1,origins:{"web-map":e,"portal-item":e}}};a.BlendLayer=l=>{l=class extends l{constructor(){super(...arguments);this.blendMode="normal";this.effect=null}};b.__decorate([c.property(g)],l.prototype,"blendMode",void 0);b.__decorate([c.property(k)],l.prototype,"effect",void 0);return l=b.__decorate([n.subclass("esri.layers.mixins.BlendLayer")],
l)};a.blendModeProperty=g;a.effectProperty=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error","../../core/object","./parser","./utils"],function(a,b,c,e,d){function p(k){return(k=e.parse(k))?d.isEffectFunctions(k)?k.map(l=>l.toJSON()):k.map(({scale:l,effects:w})=>({scale:l,value:w.map(q=>q.toJSON())})):null}function n(k){if(!k||0===k.length)return null;var l=(l=k[0])?"scale"in l:!1;if(l){l=[];for(const w of k)l.push({scale:w.scale,
value:f(w.value)});return l}return f(k)}function f(k){if(!k?.length)return"";const l=[];for(const h of k){k=[];switch(h.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":k=[g(h,"amount")];break;case "blur":k=[g(h,"radius","pt")];break;case "hue-rotate":k=[g(h,"angle","deg")];break;case "drop-shadow":k=g(h,"xoffset","pt");var w=g(h,"yoffset","pt"),q=g(h,"blurRadius","pt"),m=h;if(null==m.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${m.type} effect`,
{effect:m});m=m.color;k=[k,w,q,`rgba(${m[0]||0}, ${m[1]||0}, ${m[2]||0}, ${m[3]/255||0})`];break;case "bloom":k=[g(h,"strength"),g(h,"radius","pt"),g(h,"threshold")]}k=`${h.type}(${k.filter(Boolean).join(" ")})`;e.parse(k);l.push(k)}return l.join(" ")}function g(k,l,w){if(null==k[l])throw new b("effect:missing-parameter",`Missing parameter '${l}' in ${k.type} effect`,{effect:k});return w?k[l]+w:""+k[l]}a.effectFunctionsFromJSON=f;a.fromJSON=n;a.read=function(k,l,w){try{return n(k)}catch(q){w?.messages?.push(q)}return null};
a.toJSON=p;a.write=function(k,l,w,q){try{const m=p(k);c.setDeepValue(w,m,l)}catch(m){q.messages&&q.messages.push(m)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/parser":function(){define("exports ../../colorUtils ../../core/Error ./effects ../../chunks/_commonjsHelpers ./utils".split(" "),function(a,b,c,e,d,p){function n(v){let x;if(!v)return[];try{x=t.parse(v)}catch(B){throw new c("effect:invalid-syntax","Invalid effect syntax",{value:v,error:B});}return x.map(B=>
f(B))}function f(v){try{switch(v.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var x=1;g(v.parameters,1);1===v.parameters.length&&(x=w(v.parameters[0]));return new e.ColorMatrixEffect(v.name,x);case "opacity":return x=1,g(v.parameters,1),1===v.parameters.length&&(x=w(v.parameters[0])),new e.OpacityEffect(x);case "hue-rotate":x=0;g(v.parameters,1);if(1===v.parameters.length){var B=v.parameters[0];if("quantity"!==B.type||!(0===B.value&&null===B.unit||
B.unit&&null!=y[B.unit]))throw new c("effect:type-error",`Expected <angle>, Actual: ${k(B)}`,{term:B});x=B.value*y[B.unit]||0}return new e.HueRotateEffect(x);case "blur":return x=0,g(v.parameters,1),1===v.parameters.length&&(x=q(v.parameters[0]),l(x,v.parameters[0])),new e.BlurEffect(x);case "drop-shadow":const I=[];let E=null;for(const G of v.parameters)if("color"===G.type){I.length&&Object.freeze(I);if(E)throw new c("effect:type-error","Accepts only one color",{});a:{B=void 0;var A=G;switch(A.colorType){case "hex":E=
b.hex2rgba(A.value);break a;case "named":E=m(A.value);break a;case "function":x=A.value;g(x.parameters,4);if(r.test(x.name))B=[w(x.parameters[0]),w(x.parameters[1]),w(x.parameters[2]),x.parameters[3]?w(x.parameters[3]):1];else if(z.test(x.name)){A=b;var C=A.hsla2rgba,H=x.parameters[0],N=H;if("quantity"!==N.type||null!==N.unit)throw new c("effect:type-error",`Expected <double>, Actual: ${k(N)}`,{term:N});l(H.value,H);B=C.call(A,H.value,w(x.parameters[1]),w(x.parameters[2]),x.parameters[3]?w(x.parameters[3]):
1)}else throw new c("effect:syntax-error",`Invalid color function '${x.name}'`,{colorFunction:x});E=B;break a}E=void 0}}else{const L=q(G);if(Object.isFrozen(I))throw new c("effect:type-error","\x3clength\x3e parameters not consecutive",{lengths:I});I.push(L);3===I.length&&l(L,G)}if(2>I.length||3<I.length)throw new c("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${I.length}}`,{lengths:I});return new e.DropShadowEffect(I[0],I[1],I[2]||0,E||m("black"));case "bloom":return x=1,H=C=0,g(v.parameters,
3),v.parameters[0]&&(x=w(v.parameters[0])),v.parameters[1]&&(C=q(v.parameters[1]),l(C,v.parameters[1])),v.parameters[2]&&(H=w(v.parameters[2])),new e.BloomEffect(x,C,H)}}catch(I){throw I.details.filter=v,I;}throw new c("effect:unknown-effect",`Effect '${v.name}' is not supported`,{effect:v});}function g(v,x){if(v.length>x)throw new c("effect:type-error",`Function supports up to ${x} parameters, Actual: ${v.length}`,{parameters:v});}function k(v){if("color"===v.type)return"\x3ccolor\x3e";if(v.unit){if(v.unit in
u)return"\x3clength\x3e";if(v.unit in y)return"\x3cangle\x3e";if("%"===v.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function l(v,x){if(0>v)throw new c("effect:type-error",`Negative values are not allowed, Actual: ${v}`,{term:x});}function w(v){if("quantity"!==v.type||null!==v.unit&&"%"!==v.unit)throw new c("effect:type-error",`Expected <double> or <percentage>, Actual: ${k(v)}`,{term:v});const x=v.value;l(x,v);return"%"===v.unit?.01*x:x}function q(v){if("quantity"!==v.type||!(0===v.value&&
null===v.unit||v.unit&&null!=u[v.unit]))throw new c("effect:type-error",`Expected <length>, Actual: ${k(v)}`,{term:v});return v.value*u[v.unit]||0}function m(v){if(!b.isNamedColor(v))throw new c("effect:unknown-color",`color '${v}' isn't valid`,{namedColor:v});return b.getNamedColorCopy(v)}var h={exports:{}};(function(v){(function(x,B){v.exports&&(v.exports=B())})(d.commonjsGlobal,function(){function x(A,C,H,N){A=Error.call(this,A);Object.setPrototypeOf&&Object.setPrototypeOf(A,x.prototype);A.expected=
C;A.found=H;A.location=N;A.name="SyntaxError";return A}function B(A,C,H){H=H||" ";if(A.length>C)return A;C-=A.length;H+=H.repeat(C);return A+H.slice(0,C)}(function(A,C){function H(){this.constructor=A}H.prototype=C.prototype;A.prototype=new H})(x,Error);x.prototype.format=function(A){var C="Error: "+this.message;if(this.location){var H=null,N;for(N=0;N<A.length;N++)if(A[N].source===this.location.source){H=A[N].text.split(/\r\n|\n|\r/g);break}A=this.location.start;N=this.location.source&&"function"===
typeof this.location.source.offset?this.location.source.offset(A):A;var I=this.location.source+":"+N.line+":"+N.column;if(H){var E=this.location.end,G=B("",N.line.toString().length," ");H=H[A.line-1];E=(A.line===E.line?E.column:H.length+1)-A.column||1;C+="\n --\x3e "+I+"\n"+G+" |\n"+N.line+" | "+H+"\n"+G+" | "+B("",A.column-1," ")+B("",E,"^")}else C+="\n at "+I}return C};x.buildMessage=function(A,C){function H(L){return L.charCodeAt(0).toString(16).toUpperCase()}function N(L){return L.replace(/\\/g,
"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(R){return"\\x0"+H(R)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(R){return"\\x"+H(R)})}function I(L){return L.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(R){return"\\x0"+H(R)}).replace(/[\x10-\x1F\x7F-\x9F]/g,
function(R){return"\\x"+H(R)})}function E(L){return G[L.type](L)}var G={literal:function(L){return'"'+N(L.text)+'"'},class:function(L){var R=L.parts.map(function(F){return Array.isArray(F)?I(F[0])+"-"+I(F[1]):I(F)});return"["+(L.inverted?"^":"")+R.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(L){return L.description}};return"Expected "+function(L){L=L.map(E);var R,F;L.sort();if(0<L.length){for(F=R=1;R<L.length;R++)L[R-1]!==L[R]&&(L[F]=L[R],
F++);L.length=F}switch(L.length){case 1:return L[0];case 2:return L[0]+" or "+L[1];default:return L.slice(0,-1).join(", ")+", or "+L[L.length-1]}}(A)+" but "+(C?'"'+N(C)+'"':"end of input")+" found."};return{SyntaxError:x,parse:function(A,C){function H(eb,Ga){return{type:"literal",text:eb,ignoreCase:Ga}}function N(eb,Ga,aa){return{type:"class",parts:eb,inverted:Ga,ignoreCase:aa}}function I(eb){return{type:"other",description:eb}}function E(eb){var Ga=Jb[eb],aa;if(!Ga){for(aa=eb-1;!Jb[aa];)aa--;Ga=
Jb[aa];for(Ga={line:Ga.line,column:Ga.column};aa<eb;)10===A.charCodeAt(aa)?(Ga.line++,Ga.column=1):Ga.column++,aa++;Jb[eb]=Ga}return Ga}function G(eb,Ga,aa){aa=E(eb);var za=E(Ga);return{source:qa,start:{offset:eb,line:aa.line,column:aa.column},end:{offset:Ga,line:za.line,column:za.column}}}function L(eb){Ha<Bb||(Ha>Bb&&(Bb=Ha,Ib=[]),Ib.push(eb))}function R(){db++;var eb=Ha;O();if(A.substr(Ha,4)===ra){var Ga=ra;Ha+=4}else Ga=V,0===db&&L(Fa);Ga!==V?(O(),ub=eb,eb=[]):(Ha=eb,eb=V);db--;eb===V&&0===db&&
L(ta);if(eb===V)if(eb=[],Ga=F(),Ga!==V)for(;Ga!==V;)eb.push(Ga),Ga=F();else eb=V;return eb}function F(){var eb=Ha;O();db++;var Ga=Ha;var aa=U();if(aa!==V){if(40===A.charCodeAt(Ha)){var za=ca;Ha++}else za=V,0===db&&L(na);za!==V?(ub=Ga,Ga=aa):(Ha=Ga,Ga=V)}else Ha=Ga,Ga=V;db--;Ga===V&&(aa=V,0===db&&L(Sa));if(Ga!==V){O();aa=Ha;za=J();if(za!==V){var Ka=[];var Ma=Ha;var Va=O();if(44===A.charCodeAt(Ha)){var ab=ea;Ha++}else ab=V,0===db&&L(Qa);ab===V&&(ab=null);var mb=O();var Ab=J();Ab!==V?Ma=Va=[Va,ab,mb,
Ab]:(Ha=Ma,Ma=V);for(;Ma!==V;)Ka.push(Ma),Ma=Ha,Va=O(),44===A.charCodeAt(Ha)?(ab=ea,Ha++):(ab=V,0===db&&L(Qa)),ab===V&&(ab=null),mb=O(),Ab=J(),Ab!==V?Ma=Va=[Va,ab,mb,Ab]:(Ha=Ma,Ma=V);ub=aa;aa=0<Ka.length?[za].concat(Z(Ka,3)):[za]}else Ha=aa,aa=V;aa===V&&(aa=null);O();41===A.charCodeAt(Ha)?(za=Aa,Ha++):(za=V,0===db&&L(Ea));za!==V?(O(),ub=eb,eb={type:"function",name:Ga,parameters:aa||[]}):(Ha=eb,eb=V)}else Ha=eb,eb=V;return eb}function J(){var eb=Ha;db++;var Ga=Ha;O();var aa=T();if(aa!==V){if(37===
A.charCodeAt(Ha)){var za=Y;Ha++}else za=V,0===db&&L(gb);za!==V?(ub=Ga,Ga={value:aa,unit:"%"}):(Ha=Ga,Ga=V)}else Ha=Ga,Ga=V;db--;Ga===V&&0===db&&L(Ua);Ga===V&&(db++,Ga=Ha,O(),aa=T(),aa!==V?(A.substr(Ha,2)===ha?(za=ha,Ha+=2):(za=V,0===db&&L(qb)),za!==V?(ub=Ga,Ga={value:aa,unit:"px"}):(Ha=Ga,Ga=V)):(Ha=Ga,Ga=V),Ga===V&&(Ga=Ha,O(),aa=T(),aa!==V?(A.substr(Ha,2)===ua?(za=ua,Ha+=2):(za=V,0===db&&L(Eb)),za!==V?(ub=Ga,Ga={value:aa,unit:"cm"}):(Ha=Ga,Ga=V)):(Ha=Ga,Ga=V),Ga===V&&(Ga=Ha,O(),aa=T(),aa!==V?(A.substr(Ha,
2)===K?(za=K,Ha+=2):(za=V,0===db&&L(zb)),za!==V?(ub=Ga,Ga={value:aa,unit:"mm"}):(Ha=Ga,Ga=V)):(Ha=Ga,Ga=V),Ga===V&&(Ga=Ha,O(),aa=T(),aa!==V?(A.substr(Ha,2)===Q?(za=Q,Ha+=2):(za=V,0===db&&L(sb)),za!==V?(ub=Ga,Ga={value:aa,unit:"in"}):(Ha=Ga,Ga=V)):(Ha=Ga,Ga=V),Ga===V&&(Ga=Ha,O(),aa=T(),aa!==V?(A.substr(Ha,2)===ia?(za=ia,Ha+=2):(za=V,0===db&&L(pa)),za!==V?(ub=Ga,Ga={value:aa,unit:"pt"}):(Ha=Ga,Ga=V)):(Ha=Ga,Ga=V),Ga===V&&(Ga=Ha,O(),aa=T(),aa!==V?(A.substr(Ha,2)===ka?(za=ka,Ha+=2):(za=V,0===db&&L(sa)),
za!==V?(ub=Ga,Ga={value:aa,unit:"pc"}):(Ha=Ga,Ga=V)):(Ha=Ga,Ga=V)))))),db--,Ga===V&&0===db&&L(rb),Ga===V&&(db++,Ga=Ha,aa=T(),aa!==V?(A.substr(Ha,3)===Ba?(za=Ba,Ha+=3):(za=V,0===db&&L(Da)),za!==V?(ub=Ga,Ga={value:aa,unit:"deg"}):(Ha=Ga,Ga=V)):(Ha=Ga,Ga=V),Ga===V&&(Ga=Ha,aa=T(),aa!==V?(A.substr(Ha,3)===W?(za=W,Ha+=3):(za=V,0===db&&L(Ta)),za!==V?(ub=Ga,Ga={value:aa,unit:"rad"}):(Ha=Ga,Ga=V)):(Ha=Ga,Ga=V),Ga===V&&(Ga=Ha,aa=T(),aa!==V?(A.substr(Ha,4)===da?(za=da,Ha+=4):(za=V,0===db&&L(Ya)),za!==V?(ub=
Ga,Ga={value:aa,unit:"grad"}):(Ha=Ga,Ga=V)):(Ha=Ga,Ga=V),Ga===V&&(Ga=Ha,aa=T(),aa!==V?(A.substr(Ha,4)===ja?(za=ja,Ha+=4):(za=V,0===db&&L(Wa)),za!==V?(ub=Ga,Ga={value:aa,unit:"turn"}):(Ha=Ga,Ga=V)):(Ha=Ga,Ga=V)))),db--,Ga===V&&(aa=V,0===db&&L(La)),Ga===V&&(db++,Ga=Ha,O(),aa=T(),aa!==V?(ub=Ga,Ga={value:aa,unit:null}):(Ha=Ga,Ga=V),db--,Ga===V&&0===db&&L(bb))));Ga!==V&&(ub=eb,Ga={type:"quantity",value:Ga.value,unit:Ga.unit});eb=Ga;if(eb===V){eb=Ha;db++;Ga=Ha;35===A.charCodeAt(Ha)?(aa=M,Ha++):(aa=V,0===
db&&L(jb));if(aa!==V){aa=[];Ia.test(A.charAt(Ha))?(za=A.charAt(Ha),Ha++):(za=V,0===db&&L(cb));if(za!==V)for(;za!==V;)aa.push(za),Ia.test(A.charAt(Ha))?(za=A.charAt(Ha),Ha++):(za=V,0===db&&L(cb));else aa=V;aa!==V?(ub=Ga,Ga={type:"hex",value:A.substring(ub,Ha)}):(Ha=Ga,Ga=V)}else Ha=Ga,Ga=V;Ga===V&&(Ga=Ha,aa=F(),aa!==V&&(ub=Ga,aa={type:"function",value:aa}),Ga=aa,Ga===V&&(Ga=Ha,aa=U(),aa!==V&&(ub=Ga,aa={type:"named",value:A.substring(ub,Ha)}),Ga=aa));db--;Ga===V&&(aa=V,0===db&&L($a));Ga!==V&&(ub=eb,
Ga={type:"color",colorType:Ga.type,value:Ga.value});eb=Ga}return eb}function O(){db++;var eb=[];if(ma.test(A.charAt(Ha))){var Ga=A.charAt(Ha);Ha++}else Ga=V,0===db&&L(Ra);for(;Ga!==V;)eb.push(Ga),ma.test(A.charAt(Ha))?(Ga=A.charAt(Ha),Ha++):(Ga=V,0===db&&L(Ra));db--;Ga=V;0===db&&L(Pa);return eb}function U(){db++;var eb=Ha;var Ga=[];if(ya.test(A.charAt(Ha))){var aa=A.charAt(Ha);Ha++}else aa=V,0===db&&L(Oa);if(aa!==V)for(;aa!==V;)Ga.push(aa),ya.test(A.charAt(Ha))?(aa=A.charAt(Ha),Ha++):(aa=V,0===db&&
L(Oa));else Ga=V;Ga!==V&&(ub=eb,Ga=A.substring(ub,Ha));eb=Ga;db--;eb===V&&(Ga=V,0===db&&L(xa));return eb}function T(){var eb=Ha;fa.test(A.charAt(Ha))?(A.charAt(Ha),Ha++):0===db&&L(fb);var Ga=Ha;var aa=[];if(oa.test(A.charAt(Ha))){var za=A.charAt(Ha);Ha++}else za=V,0===db&&L(hb);for(;za!==V;)aa.push(za),oa.test(A.charAt(Ha))?(za=A.charAt(Ha),Ha++):(za=V,0===db&&L(hb));46===A.charCodeAt(Ha)?(za=S,Ha++):(za=V,0===db&&L(ib));if(za!==V){var Ka=[];if(oa.test(A.charAt(Ha))){var Ma=A.charAt(Ha);Ha++}else Ma=
V,0===db&&L(hb);if(Ma!==V)for(;Ma!==V;)Ka.push(Ma),oa.test(A.charAt(Ha))?(Ma=A.charAt(Ha),Ha++):(Ma=V,0===db&&L(hb));else Ka=V;Ka!==V?Ga=aa=[aa,za,Ka]:(Ha=Ga,Ga=V)}else Ha=Ga,Ga=V;if(Ga===V)if(Ga=[],oa.test(A.charAt(Ha))?(aa=A.charAt(Ha),Ha++):(aa=V,0===db&&L(hb)),aa!==V)for(;aa!==V;)Ga.push(aa),oa.test(A.charAt(Ha))?(aa=A.charAt(Ha),Ha++):(aa=V,0===db&&L(hb));else Ga=V;if(Ga!==V){aa=Ha;101===A.charCodeAt(Ha)?(za=X,Ha++):(za=V,0===db&&L(pb));if(za!==V){fa.test(A.charAt(Ha))?(Ka=A.charAt(Ha),Ha++):
(Ka=V,0===db&&L(fb));Ka===V&&(Ka=null);Ma=[];oa.test(A.charAt(Ha))?(Ga=A.charAt(Ha),Ha++):(Ga=V,0===db&&L(hb));if(Ga!==V)for(;Ga!==V;)Ma.push(Ga),oa.test(A.charAt(Ha))?(Ga=A.charAt(Ha),Ha++):(Ga=V,0===db&&L(hb));else Ma=V;Ma!==V?aa=za=[za,Ka,Ma]:(Ha=aa,aa=V)}else Ha=aa,aa=V;aa===V&&(aa=null);ub=eb;eb=parseFloat(A.substring(ub,Ha))}else Ha=eb,eb=V;return eb}function Z(eb,Ga){return eb.map(function(aa){return aa[Ga]})}C=void 0!==C?C:{};var V={},qa=C.grammarSource,Ca={start:R},va=R,ra="none",Aa=")",
ea=",",ca="(",Y="%",ha="px",ua="cm",K="mm",Q="in",ia="pt",ka="pc",Ba="deg",W="rad",da="grad",ja="turn",M="#",S=".",X="e",ma=/^[ \t\n\r]/,ya=/^[a-z\-]/,Ia=/^[0-9a-fA-F]/,fa=/^[+\-]/,oa=/^[0-9]/,ta=I("none"),Fa=H("none",!1),Ea=H(")",!1),Qa=H(",",!1),Pa=I("whitespace"),Ra=N([" ","\t","\n","\r"],!1,!1),Sa=I("function"),na=H("(",!1),xa=I("identifier"),Oa=N([["a","z"],"-"],!1,!1),Ua=I("percentage"),gb=H("%",!1),rb=I("length"),qb=H("px",!1),Eb=H("cm",!1),zb=H("mm",!1),sb=H("in",!1),pa=H("pt",!1),sa=H("pc",
!1),La=I("angle"),Da=H("deg",!1),Ta=H("rad",!1),Ya=H("grad",!1),Wa=H("turn",!1),bb=I("number"),$a=I("color"),jb=H("#",!1),cb=N([["0","9"],["a","f"],["A","F"]],!1,!1),fb=N(["+","-"],!1,!1),hb=N([["0","9"]],!1,!1),ib=H(".",!1),pb=H("e",!1),Ha=0,ub=0,Jb=[{line:1,column:1}],Bb=0,Ib=[],db=0;if("startRule"in C){if(!(C.startRule in Ca))throw Error("Can't start parsing from rule \""+C.startRule+'".');va=Ca[C.startRule]}C=va();if(C!==V&&Ha===A.length)return C;C!==V&&Ha<A.length&&L({type:"end"});throw function(eb,
Ga,aa){return new x(x.buildMessage(eb,Ga),eb,Ga,aa)}(Ib,Bb<A.length?A.charAt(Bb):null,Bb<A.length?G(Bb,Bb+1):G(Bb,Bb));}}})})(h);var t=h.exports;const y={deg:1,grad:.9,rad:180/Math.PI,turn:360},u={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},r=/^rgba?/i,z=/^hsla?/i;a.parse=function(v){if(!v||0===v.length)return null;if("string"===typeof v)return(v=n(v))&&0!==v.length?v:null;v=v.map(x=>{if(!Number.isFinite(x.scale)||0>=x.scale)throw new c("effect:invalid-scale","scale must be finite and greater than 0",
{stop:x});return{scale:x.scale,effects:n(x.value)}});v.sort((x,B)=>B.effects.length-x.effects.length);for(let x=0;x<v.length-1;x++){if(!p.canInterpolateEffects(v[x].effects,v[x+1].effects))throw new c("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:v[x].effects,b:v[x+1].effects});p.normalizeEffects(v[x].effects,v[x+1].effects)}v.sort((x,B)=>B.scale-x.scale);return v};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],
function(a){a.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};a.getDefaultExportFromCjs=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){a.CustomParametersMixin=f=>{f=class extends f{constructor(){super(...arguments);this.customParameters=null}};b.__decorate([c.property({type:Object,json:{write:{overridePolicy(g){return{enabled:!!(g&&0<Object.keys(g).length)}}}}})],f.prototype,"customParameters",void 0);return f=b.__decorate([n.subclass("esri.layers.mixins.CustomParametersMixin")],f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/EditBusLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Evented ../../core/lang ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../versionManagement/support/versionManagementUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k){function l(y){return h.on("apply-edits",new WeakRef(y))}function w(y){return h.on("update-moment",new WeakRef(y))}function q(y){return null!=y&&"object"===typeof y&&"gdbVersion"in y}function m(y,u,r){y=(new URL(y)).host;y=k.defaultVersionNameLookup.get(y);return(!u||u===y)&&(!r||r===y)||u===r}const h=new c.EventEmitter,t=Symbol();a.EditBusLayer=y=>{y=class extends y{constructor(...r){super(...r);this[u]=!0;this._applyEditsHandler=z=>{const {serviceUrl:v,layerId:x,gdbVersion:B,
mayReceiveServiceEdits:A,result:C}=z;z=v===this.url;const H=null!=x&&null!=this.layerId&&x===this.layerId,N=q(this),I=q(this)&&m(v,B,this.gdbVersion);!z||N&&!I||!H&&!A||(z=C.then(E=>{this.lastEditsEventDate=new Date;if(H&&(E.addedFeatures.length||E.updatedFeatures.length||E.deletedFeatures.length||E.addedAttachments.length||E.updatedAttachments.length||E.deletedAttachments.length))return this.emit("edits",e.clone(E)),E;const G=E.editedFeatures?.find(({layerId:L})=>L===this.layerId);if(G){const {adds:L,
updates:R,deletes:F}=G.editedFeatures;E={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:L?L.map(({attributes:J})=>({objectId:this.objectIdField&&J[this.objectIdField],globalId:this.globalIdField&&J[this.globalIdField]})):[],deletedFeatures:F?F.map(({attributes:J})=>({objectId:this.objectIdField&&J[this.objectIdField],globalId:this.globalIdField&&J[this.globalIdField]})):[],updatedFeatures:R?R.map(({current:{attributes:J}})=>({objectId:this.objectIdField&&
J[this.objectIdField],globalId:this.globalIdField&&J[this.globalIdField]})):[],editedFeatures:e.clone(E.editedFeatures),exceededTransferLimit:!1,historicMoment:e.clone(E.historicMoment)};this.emit("edits",E);return E}E={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:e.clone(E.editedFeatures),exceededTransferLimit:!1,historicMoment:e.clone(E.historicMoment)};"historicMoment"in this&&this._shouldUpdateHistoricMoment(v,
B,E.historicMoment)&&this.emit("edits",E);return E}).then(E=>{"historicMoment"in this&&this._shouldUpdateHistoricMoment(v,B,E.historicMoment)&&(this.historicMoment=E.historicMoment);return E}),this.emit("apply-edits",{result:z}))};this._updateMomentHandler=z=>{const {serviceUrl:v,gdbVersion:x,moment:B}=z;z=v===this.url;const A=q(this),C=q(this)&&m(v,x,this.gdbVersion),H=q(this)&&!m(v,this.gdbVersion,null);z&&A&&C&&H&&"historicMoment"in this&&this.historicMoment!==B&&(this.historicMoment=B)};this.when().then(()=>
{this.addHandles(l(this._applyEditsHandler));"historicMoment"in this&&this.addHandles(w(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(r,z,v){return"historicMoment"in this&&this.historicMoment!==v&&k.isVersionInEditSession(r,z)}};var u=t;b.__decorate([p.property()],y.prototype,"lastEditsEventDate",void 0);return y=b.__decorate([g.subclass("esri.layers.mixins.EditBusLayer")],y)};a.emitApplyEditsEvent=function(y,u,r=null,z=!1){const v=d.createResolver();h.emit("apply-edits",{serviceUrl:y,
layerId:u,gdbVersion:r,mayReceiveServiceEdits:null==u?!0:z,result:v.promise});return v};a.emitUpdateMomentEvent=function(y,u,r=null,z){h.emit("update-moment",{serviceUrl:y,layerId:u,gdbVersion:r,moment:z})};a.isEditBusLayer=function(y){return null!=y&&"object"===typeof y&&t in y};a.isLayerWithGDBVersion=q;a.onApplyEditsEvent=l;a.onUpdateMomentEvent=w;a.versionMatches=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/versionManagement/support/versionManagementUtils":function(){define(["require",
"exports","../../request","../../core/uuid"],function(a,b,c,e){const d=e.generateLowercaseBracedUUID(),p=new Map,n=new Map;e=new Map;b.currentSessionId=d;b.defaultVersionNameLookup=p;b.isHistoricVersion=async function(f,g,k){if(!f||!k)return!1;if(!g)return!0;k=(new URL(f)).host;k=p.get(k);k||(f=f.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),k=(await c(f,{responseType:"json",query:{f:"json"}})).data.defaultVersionName);return k===g?!0:!1};b.isSafeToEditVersion=async function(f,
g,k=!1){if(!f||!g)return!0;f=f.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");const l=n.get(f)?.entries();if(l)for(const [w,q]of l)if(q.name===g){g=!q.stack?.hasForwardEdits();if(!g&&k){const [{deleteForwardEdits:m},{default:h}]=await Promise.all([new Promise((t,y)=>a(["../../rest/versionManagement/gdbVersion/deleteForwardEdits"],t,y)),new Promise((t,y)=>a(["../../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters"],u=>t(Object.freeze(Object.defineProperty({__proto__:null,
default:u},Symbol.toStringTag,{value:"Module"}))),y))]);k=await m(f,w,new h({sessionId:d,moment:q.moment}));k.success&&q.stack?.clearForwardEdits();return k.success}return g}return!0};b.isVersionInEditSession=function(f,g){if(!f)return!1;f=f.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");if(f=n.get(f)?.entries())for(const [,k]of f)if(k.name===g)return"edit"===k.lockType;return!1};b.versionCollection=n;b.versionCollectionCount=e;Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/core/uuid":function(){define(["exports"],function(a){function b(){if(c)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=e[3]&4095|16384;e[4]=e[4]&16383|32768;const d=p=>e[p].toString(16).padStart(4,"0");return d(0)+d(1)+"-"+d(2)+"-"+d(3)+"-"+d(4)+"-"+d(5)+d(6)+d(7)}const c="randomUUID"in crypto;a.generateBracedUUID=function(){return`{${b().toUpperCase()}}`};a.generateLowercaseBracedUUID=function(){return`{${b()}}`};a.generateUUID=b;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),function(a,b,c,e,d,p,n,f){e={write:{allowNull:!0}};const g={type:f,json:{origins:{"web-map":e,"portal-item":e}}};a.FeatureEffectLayer=k=>{k=class extends k{constructor(){super(...arguments);
this.featureEffect=null}};b.__decorate([c.property(g)],k.prototype,"featureEffect",void 0);return k=b.__decorate([n.subclass("esri.layers.mixins.FeatureEffectLayer")],k)};a.featureEffectProperty=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureEffect":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){var w;p={read:{reader:k.read},write:{writer:k.write,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}};n={read:{reader:k.read},write:{writer:k.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}};f={name:"showExcludedLabels",default:!0};c=w=class extends c.JSONSupport{constructor(q){super(q);this.excludedEffect=this.includedEffect=this.filter=null;this.excludedLabelsVisible=
!1}write(q,m){q=super.write(q,m);if(m?.origin){if(q.filter){const h=Object.keys(q.filter);if(1<h.length||"where"!==h[0])return m.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:m.layer,effect:this})),null}if("showExcludedLabels"in q)return m.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",
{layer:m.layer,effect:this})),null}return q}clone(){return new w({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};a.__decorate([d.property({type:l,json:{write:{allowNull:!0,writer(q,m,h,t){(q=q?.write({},t))&&0!==Object.keys(q).length?e.setDeepValue(h,q,m):e.setDeepValue(h,null,m)}}}})],c.prototype,"filter",void 0);a.__decorate([d.property({json:{read:k.read,write:{writer:k.write,
allowNull:!0},origins:{"web-map":p,"portal-item":p}}})],c.prototype,"includedEffect",void 0);a.__decorate([d.property({json:{read:k.read,write:{writer:k.write,allowNull:!0},origins:{"web-map":n,"portal-item":n}}})],c.prototype,"excludedEffect",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":f,"portal-item":f}}})],c.prototype,"excludedLabelsVisible",void 0);return c=w=a.__decorate([g.subclass("esri.layers.support.FeatureEffect")],c)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../rest/support/Query".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){var w;f=new e.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});e=new e.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});d=w=class extends d.JSONSupport{constructor(q){super(q);this.geometry=this.where=null;this.spatialRelationship="intersects";this.distance=void 0;this.timeExtent=this.units=this.objectIds=null}createQuery(q={}){const {where:m,geometry:h,spatialRelationship:t,timeExtent:y,objectIds:u,units:r,distance:z}=this;return new l({geometry:p.clone(h),objectIds:p.clone(u),
spatialRelationship:t,timeExtent:p.clone(y),where:m,units:r,distance:z,...q})}clone(){const {where:q,geometry:m,spatialRelationship:h,timeExtent:t,objectIds:y,units:u,distance:r}=this;return new w({geometry:p.clone(m),objectIds:p.clone(y),spatialRelationship:h,timeExtent:p.clone(t),where:q,units:u,distance:r})}};a.__decorate([n.property({type:String,json:{write:!0}})],d.prototype,"where",void 0);a.__decorate([n.property({types:b.geometryTypes,json:{write:!0}})],d.prototype,"geometry",void 0);a.__decorate([n.property({type:f.apiValues,
json:{name:"spatialRel",read:{reader:f.read},write:{allowNull:!1,writer:f.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],d.prototype,"spatialRelationship",void 0);a.__decorate([n.property({type:Number,json:{write:{overridePolicy(q){return{enabled:null!=q&&null!=this.geometry}}}}})],d.prototype,"distance",void 0);a.__decorate([n.property({type:[Number],json:{write:!0}})],d.prototype,"objectIds",void 0);a.__decorate([n.property({type:e.apiValues,json:{read:e.read,write:{writer:e.write,
overridePolicy(q){return{enabled:null!=q&&null!=this.geometry}}}}})],d.prototype,"units",void 0);a.__decorate([n.property({type:c,json:{write:!0}})],d.prototype,"timeExtent",void 0);return d=w=a.__decorate([k.subclass("esri.layers.support.FeatureFilter")],d)})},"esri/rest/support/Query":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./FullTextSearch ./QuantizationParameters ./spatialRelationships ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z){var v;e=new e.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let x=v=class extends d.JSONSupport{static from(B){return w.ensureClass(v,B)}constructor(B){super(B);this.aggregateIds=null;this.cacheHint=void 0;this.compactGeometryEnabled=!1;this.datumTransformation=null;this.defaultSpatialReferenceEnabled=
!1;this.dynamicDataSource=this.distance=void 0;this.geometry=this.gdbVersion=this.fullText=this.formatOf3DObjects=null;this.geometryPrecision=void 0;this.historicMoment=this.having=this.groupByFieldsForStatistics=null;this.maxAllowableOffset=void 0;this.maxRecordCountFactor=1;this.multipatchOption=null;this.num=void 0;this.resultType=this.relationParameter=this.rangeValues=this.quantizationParameters=this.pixelSize=this.parameterValues=this.outStatistics=this.outSpatialReference=this.outFields=this.orderByFields=
this.objectIds=null;this.returnDistinctValues=this.returnCentroid=!1;this.returnExceededLimitFeatures=!0;this.returnQueryGeometry=this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.sourceSpatialReference=null;this.spatialRelationship="intersects";this.start=void 0;this.timeExtent=this.text=this.sqlFormat=null;this.timeReferenceUnknownClient=!1;this.where=this.units=null}castDatumTransformation(B){return"number"===typeof B||"object"===typeof B?B:null}writeHistoricMoment(B,A){A.historicMoment=
B&&B.getTime()}writeParameterValues(B,A){if(B){const C={};for(const H in B){const N=B[H];Array.isArray(N)?C[H]=N.map(I=>I instanceof Date?I.getTime():I):C[H]=N instanceof Date?N.getTime():N}A.parameterValues=C}}writeStart(B,A){A.resultOffset=this.start;A.resultRecordCount=this.num||10;A.where="1\x3d1"}writeWhere(B,A){A.where=B||"1\x3d1"}clone(){return new v(p.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,
defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,
num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,
returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};x.MAX_MAX_RECORD_COUNT_FACTOR=5;a.__decorate([n.property({json:{write:!0}})],
x.prototype,"aggregateIds",void 0);a.__decorate([n.property({type:Boolean,json:{write:!0}})],x.prototype,"cacheHint",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"compactGeometryEnabled",void 0);a.__decorate([n.property({json:{write:!0}})],x.prototype,"datumTransformation",void 0);a.__decorate([f.cast("datumTransformation")],x.prototype,"castDatumTransformation",null);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"defaultSpatialReferenceEnabled",
void 0);a.__decorate([n.property({type:Number,json:{write:{overridePolicy(B){return{enabled:0<B}}}}})],x.prototype,"distance",void 0);a.__decorate([n.property({type:m.DataLayerSource,json:{write:!0}})],x.prototype,"dynamicDataSource",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],x.prototype,"formatOf3DObjects",void 0);a.__decorate([n.property({type:[h],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&0<this.fullText.length}}}}})],x.prototype,"fullText",
void 0);a.__decorate([n.property({type:String,json:{write:!0}})],x.prototype,"gdbVersion",void 0);a.__decorate([n.property({types:b.geometryTypes,json:{read:q.fromJSON,write:!0}})],x.prototype,"geometry",void 0);a.__decorate([n.property({type:Number,json:{write:!0}})],x.prototype,"geometryPrecision",void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],x.prototype,"groupByFieldsForStatistics",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],x.prototype,"having",void 0);
a.__decorate([n.property({type:Date})],x.prototype,"historicMoment",void 0);a.__decorate([l.writer("historicMoment")],x.prototype,"writeHistoricMoment",null);a.__decorate([n.property({type:Number,json:{write:!0}})],x.prototype,"maxAllowableOffset",void 0);a.__decorate([n.property({type:Number,cast(B){return 1>B?1:B>x.MAX_MAX_RECORD_COUNT_FACTOR?x.MAX_MAX_RECORD_COUNT_FACTOR:B},json:{write:{overridePolicy(B){return{enabled:1<B}}}}})],x.prototype,"maxRecordCountFactor",void 0);a.__decorate([n.property({type:["xyFootprint"],
json:{write:!0}})],x.prototype,"multipatchOption",void 0);a.__decorate([n.property({type:Number,json:{read:{source:"resultRecordCount"}}})],x.prototype,"num",void 0);a.__decorate([n.property({json:{write:!0}})],x.prototype,"objectIds",void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],x.prototype,"orderByFields",void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],x.prototype,"outFields",void 0);a.__decorate([n.property({type:r,json:{name:"outSR",write:!0}})],x.prototype,
"outSpatialReference",void 0);a.__decorate([n.property({type:[u],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&0<this.outStatistics.length}}}}})],x.prototype,"outStatistics",void 0);a.__decorate([n.property({json:{write:!0}})],x.prototype,"parameterValues",void 0);a.__decorate([l.writer("parameterValues")],x.prototype,"writeParameterValues",null);a.__decorate([n.property({type:z,json:{write:!0}})],x.prototype,"pixelSize",void 0);a.__decorate([n.property({type:t,
json:{write:!0}})],x.prototype,"quantizationParameters",void 0);a.__decorate([n.property({type:[Object],json:{write:!0}})],x.prototype,"rangeValues",void 0);a.__decorate([n.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],x.prototype,"relationParameter",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],x.prototype,"resultType",void 0);a.__decorate([n.property({type:Boolean,
json:{default:!1,write:!0}})],x.prototype,"returnCentroid",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnDistinctValues",void 0);a.__decorate([n.property({type:Boolean,json:{default:!0,write:!0}})],x.prototype,"returnExceededLimitFeatures",void 0);a.__decorate([n.property({type:Boolean,json:{write:!0}})],x.prototype,"returnGeometry",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnQueryGeometry",void 0);
a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnM",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:B}}}}})],x.prototype,"returnZ",void 0);a.__decorate([n.property({type:r,json:{write:!0}})],x.prototype,"sourceSpatialReference",void 0);a.__decorate([g.enumeration(y.spatialRelKebabDict,{ignoreUnknown:!1,name:"spatialRel"})],x.prototype,"spatialRelationship",void 0);a.__decorate([n.property({type:Number,json:{read:{source:"resultOffset"}}})],
x.prototype,"start",void 0);a.__decorate([l.writer("start"),l.writer("num")],x.prototype,"writeStart",null);a.__decorate([n.property({type:String,json:{write:!0}})],x.prototype,"sqlFormat",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],x.prototype,"text",void 0);a.__decorate([n.property({type:c,json:{write:!0}})],x.prototype,"timeExtent",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"timeReferenceUnknownClient",void 0);a.__decorate([g.enumeration(e,
{ignoreUnknown:!1}),n.property({json:{write:{overridePolicy(B){return{enabled:!!B&&null!=this.distance&&0<this.distance}}}}})],x.prototype,"units",void 0);a.__decorate([n.property({type:String,json:{write:{overridePolicy(B){return{enabled:null!=B||null!=this.start&&0<this.start}}}}})],x.prototype,"where",void 0);a.__decorate([l.writer("where")],x.prototype,"writeWhere",null);return x=v=a.__decorate([k.subclass("esri.rest.support.Query")],x)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t){function y(){v||=l.createTypeReader({types:u()});return v}function u(){x||={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":q.MapLayerSource}};return x}var r,z;c=c.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=r=class extends e.JSONSupport{constructor(B){super(B);this.type="join-table"}readLeftTableSource(B,A,C){return y()(B,A,C)}castLeftTableSource(B){return k.ensureOneOfType(u(),
B)}readRightTableSource(B,A,C){return y()(B,A,C)}castRightTableSource(B){return k.ensureOneOfType(u(),B)}clone(){const {leftTableKey:B,rightTableKey:A,leftTableSource:C,rightTableSource:H,joinType:N}=this,I={leftTableKey:B,rightTableKey:A,leftTableSource:C?.clone()??void 0,rightTableSource:H?.clone()??void 0,joinType:N};return new r(I)}};b.__decorate([n.enumeration({joinTable:"join-table"})],a.JoinTableDataSource.prototype,"type",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,
"leftTableKey",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);b.__decorate([d.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);b.__decorate([f.reader("leftTableSource")],a.JoinTableDataSource.prototype,"readLeftTableSource",null);b.__decorate([p.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);b.__decorate([d.property({json:{write:!0}})],a.JoinTableDataSource.prototype,
"rightTableSource",void 0);b.__decorate([f.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);b.__decorate([p.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);b.__decorate([n.enumeration(c)],a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=r=b.__decorate([g.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let v=null,x=null;p={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,
"query-table":m.QueryTableDataSource,raster:h.RasterDataSource,table:t.TableDataSource}};a.DataLayerSource=z=class extends e.JSONSupport{constructor(B){super(B);this.type="data-layer"}clone(){const {fields:B,dataSource:A}=this;return new z({fields:B,dataSource:A})}};b.__decorate([n.enumeration({dataLayer:"data-layer"})],a.DataLayerSource.prototype,"type",void 0);b.__decorate([d.property({type:[w],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);b.__decorate([d.property({types:p,json:{write:!0}})],
a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=z=b.__decorate([g.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=k.ensureType(a.DataLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g){var k;a.MapLayerSource=k=class extends c.JSONSupport{constructor(l){super(l);this.type="map-layer"}clone(){const {mapLayerId:l,gdbVersion:w}=this;return new k({mapLayerId:l,gdbVersion:w})}};b.__decorate([f.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);b.__decorate([e.property({type:d.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.MapLayerSource.prototype,
"gdbVersion",void 0);a.MapLayerSource=k=b.__decorate([g.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w){var q;a.QueryTableDataSource=q=class extends e.JSONSupport{constructor(m){super(m);this.type="query-table"}clone(){const {workspaceId:m,query:h,oidFields:t,spatialReference:y,geometryType:u}=this,r={workspaceId:m,query:h,oidFields:t,spatialReference:y?.clone()??void 0,geometryType:u};return new q(r)}};b.__decorate([g.enumeration({queryTable:"query-table"})],a.QueryTableDataSource.prototype,"type",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,
"workspaceId",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);b.__decorate([d.property({type:l,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);b.__decorate([g.enumeration(w.featureGeometryTypeKebabDictionary)],a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=q=b.__decorate([k.subclass("esri.layers.support.source.QueryTableDataSource")],
a.QueryTableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f,g){var k;a.RasterDataSource=k=class extends c.JSONSupport{constructor(l){super(l);
this.type="raster"}clone(){const {workspaceId:l,dataSourceName:w}=this;return new k({workspaceId:l,dataSourceName:w})}};b.__decorate([f.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=k=b.__decorate([g.subclass("esri.layers.support.source.RasterDataSource")],
a.RasterDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f,g){var k;a.TableDataSource=k=class extends c.JSONSupport{constructor(l){super(l);
this.type="table"}clone(){const {workspaceId:l,gdbVersion:w,dataSourceName:q}=this;return new k({workspaceId:l,gdbVersion:w,dataSourceName:q})}};b.__decorate([f.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"workspaceId",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],
a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=k=b.__decorate([g.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){b=class extends b.ClonableMixin(c.JSONSupport){constructor(g){super(g);this.searchType=this.searchTerm=this.operator=this.onFields=null}};a.__decorate([e.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&0<this.onFields.length}}}}})],b.prototype,"onFields",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"operator",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"searchTerm",
void 0);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"searchType",void 0);return b=a.__decorate([f.subclass("esri.rest.support.FullTextSearch")],b)})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),function(a,
b,c,e,d,p,n,f,g,k){var l;b=new c.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});e=l=class extends e.JSONSupport{constructor(w){super(w);this.extent=null;this.mode="view";this.originPosition="upper-left";this.tolerance=1}clone(){return new l(d.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};a.__decorate([p.property({type:k,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],e.prototype,"extent",void 0);a.__decorate([p.property({type:["view",
"edit"],json:{write:!0}})],e.prototype,"mode",void 0);a.__decorate([p.property({type:String,json:{read:b.read,write:b.write}})],e.prototype,"originPosition",void 0);a.__decorate([p.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],e.prototype,"tolerance",void 0);return e=l=a.__decorate([g.subclass("esri.rest.support.QuantizationParameters")],e)})},"esri/rest/support/spatialRelationships":function(){define(["exports","../../core/jsonMap"],function(a,b){b=
new b.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});a.spatialRelKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,p,n,f,g){var k;b=new b.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});c=k=class extends c.JSONSupport{constructor(l){super(l);this.maxVertexCount=this.maxRecordCount=this.maxPointCount=void 0;this.statisticParameters=
this.statisticType=this.outStatisticFieldName=this.onStatisticField=null}writeStatisticParameters(l,w){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)w.statisticParameters=e.clone(l)}clone(){return new k({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:e.clone(this.statisticParameters)})}};
a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxPointCount",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxRecordCount",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxVertexCount",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"onStatisticField",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"outStatisticFieldName",void 0);a.__decorate([d.property({type:String,
json:{read:{source:"statisticType",reader:b.read},write:{target:"statisticType",writer:b.write}}})],c.prototype,"statisticType",void 0);a.__decorate([d.property({type:Object})],c.prototype,"statisticParameters",void 0);a.__decorate([g.writer("statisticParameters")],c.prototype,"writeStatisticParameters",null);return c=k=a.__decorate([f.subclass("esri.rest.support.StatisticDefinition")],c)})},"esri/layers/mixins/FeatureLayerBase":function(){define("exports ../../chunks/tslib.es6 ../../core/Collection ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/HeightModelInfo ../../geometry/SpatialReference ../support/arcgisLayerUrl ../support/commonProperties ../support/EditFieldsInfo ../support/FeatureIndex ../support/featureLayerUtils ../support/GeometryFieldsInfo ../support/LayerFloorInfo ../support/Relationship ../support/serviceCapabilitiesUtils ../support/Subtype ../../time/timeZoneUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A,C){a.FeatureLayerBase=H=>{H=class extends H{constructor(){super(...arguments);this.dateFieldsTimeZone=this.capabilities=this.copyright=null;this.datesInUnknownTimezone=!1;this.globalIdField=this.geometryType=this.geometryFieldsInfo=this.gdbVersion=this.fullExtent=this.floorInfo=this.elevationInfo=this.editingInfo=this.editFieldsInfo=this.displayField=this.definitionExpression=null;this.hasZ=this.hasM=void 0;this.historicMoment=this.heightModelInfo=
null;this.indexes=new (c.ofType(u.FeatureIndex));this.isTable=!1;this.layerId=void 0;this.minScale=this.maxScale=0;this.relationships=this.preferredTimeZone=this.objectIdField=null;this.returnZ=this.returnM=void 0;this.sourceJSON=this.serviceItemId=this.serviceDefinitionExpression=null;this.spatialReference=m.WGS84;this.trackIdField=this.subtypes=this.subtypeField=null;this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const {capabilities:N}=this;if(N){const {query:E,operations:G,
editing:L}=N;if(!E.supportsQueryByOthers||!E.supportsQueryByAnonymous||G.supportsEditing&&!(L.supportsUpdateByOthers&&L.supportsUpdateByAnonymous&&L.supportsDeleteByOthers&&L.supportsDeleteByAnonymous))return"load"}if(this.userHasUpdateItemPrivileges){if(r.isLayerCacheStale(this))return"load";if(this.hasUpdateItemRestrictions)return N.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const I=this.editFieldsInfo;return(I?.creatorField||
I?.editorField)&&N?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(N,I){return B.getFeatureLayerCapabilities(I,this.url)}readEditingInfo(N,I){({editingInfo:N}=I);return N?{lastEditDate:null!=N.lastEditDate?new Date(N.lastEditDate):null}:null}get effectiveCapabilities(){var N=this.capabilities;if(!N)return null;N=e.clone(N);const {operations:I,editing:E}=N;if(r.supportsQueryOnly(this))return this.userHasUpdateItemPrivileges&&(I.supportsQuery=!0),N;if(this.userHasUpdateItemPrivileges)return I.supportsAdd=
I.supportsDelete=I.supportsEditing=I.supportsQuery=I.supportsUpdate=E.supportsDeleteByOthers=E.supportsGeometryUpdate=E.supportsUpdateByOthers=!0,N;this.userHasFullEditingPrivileges&&I.supportsEditing&&(I.supportsAdd=I.supportsDelete=I.supportsUpdate=E.supportsGeometryUpdate=!0);return N}readGlobalIdFieldFromService(N,I){return r.readGlobalIdField(I)}get hasFullEditingRestrictions(){const N=this.capabilities;if(!N||r.supportsQueryOnly(this))return!1;const {operations:I,editing:E}=N;return I.supportsEditing&&
!(I.supportsAdd&&I.supportsDelete&&I.supportsUpdate&&E.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const N=this.capabilities;if(!N)return!1;const {operations:I,editing:E}=N;return r.supportsQueryOnly(this)?!I.supportsQuery:!(I.supportsAdd&&I.supportsDelete&&I.supportsEditing&&I.supportsQuery&&I.supportsUpdate&&E.supportsDeleteByOthers&&E.supportsGeometryUpdate&&E.supportsUpdateByOthers)}readIsTableFromService(N,I){return"Table"===I.type}readMaxScale(N,I){return I.effectiveMaxScale||N||
0}readMinScale(N,I){return I.effectiveMinScale||N||0}readObjectIdFieldFromService(N,I){return r.readObjectIdField(I)}readServiceDefinitionExpression(N,I){return I.definitionQuery||I.definitionExpression}set url(N){null==N?this._set("url",N):(N=h.sanitizeUrlWithLayerId({layer:this,url:N,nonStandardUrlAllowed:!0,logger:d.getLogger(this)}),this._set("url",N.url),null!=N.layerId&&this._set("layerId",N.layerId))}writeUrl(N,I,E,G){h.writeUrlWithLayerId(this,N,null,I,G)}readVersion(N,I){return r.readVersion(I)}};
b.__decorate([p.property({readOnly:!0})],H.prototype,"authenticationTriggerEvent",null);b.__decorate([p.property({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],H.prototype,"copyright",void 0);b.__decorate([p.property({readOnly:!0,json:{read:!1,origins:{service:{read:{source:"advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" ")}}}}})],
H.prototype,"capabilities",void 0);b.__decorate([f.reader("service","capabilities")],H.prototype,"readCapabilitiesFromService",null);b.__decorate([p.property(C.timeZoneProperty("dateFieldsTimeReference"))],H.prototype,"dateFieldsTimeZone",void 0);b.__decorate([p.property({type:Boolean})],H.prototype,"datesInUnknownTimezone",void 0);b.__decorate([p.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],H.prototype,
"definitionExpression",void 0);b.__decorate([p.property({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],H.prototype,"displayField",void 0);b.__decorate([p.property({readOnly:!0,type:y})],H.prototype,"editFieldsInfo",void 0);b.__decorate([p.property({readOnly:!0})],H.prototype,"editingInfo",void 0);b.__decorate([f.reader("editingInfo")],H.prototype,"readEditingInfo",null);b.__decorate([p.property({readOnly:!0})],H.prototype,"effectiveCapabilities",null);b.__decorate([p.property((()=>
{const N=e.clone(t.elevationInfo),I=N.json.origins;I["web-map"]={read:!1,write:!1};I["portal-item"]={read:!1,write:!1};return N})())],H.prototype,"elevationInfo",void 0);b.__decorate([p.property({type:v,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:l.excludeTables}}}}})],H.prototype,"floorInfo",void 0);b.__decorate([p.property({type:w,json:{origins:{service:{read:{source:"extent"}}}}})],H.prototype,"fullExtent",
void 0);b.__decorate([p.property()],H.prototype,"gdbVersion",void 0);b.__decorate([p.property({readOnly:!0,type:z,json:{read:{source:"geometryProperties"}}})],H.prototype,"geometryFieldsInfo",void 0);b.__decorate([p.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:r.geometryTypeKebabDict.read}}}})],H.prototype,"geometryType",void 0);b.__decorate([p.property({type:String})],H.prototype,"globalIdField",void 0);b.__decorate([f.reader("service",
"globalIdField",["globalIdField","fields"])],H.prototype,"readGlobalIdFieldFromService",null);b.__decorate([p.property({readOnly:!0})],H.prototype,"hasFullEditingRestrictions",null);b.__decorate([p.property({type:Boolean,json:{origins:{service:{read:!0}}}})],H.prototype,"hasM",void 0);b.__decorate([p.property({readOnly:!0})],H.prototype,"hasUpdateItemRestrictions",null);b.__decorate([p.property({type:Boolean,json:{origins:{service:{read:!0}}}})],H.prototype,"hasZ",void 0);b.__decorate([p.property({readOnly:!0,
type:q})],H.prototype,"heightModelInfo",void 0);b.__decorate([p.property({type:Date})],H.prototype,"historicMoment",void 0);b.__decorate([p.property({type:c.ofType(u.FeatureIndex),readOnly:!0})],H.prototype,"indexes",void 0);b.__decorate([p.property({readOnly:!0})],H.prototype,"isTable",void 0);b.__decorate([f.reader("service","isTable",["type"])],H.prototype,"readIsTableFromService",null);b.__decorate([p.property({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},
read:!1}})],H.prototype,"layerId",void 0);b.__decorate([p.property(t.maxScale)],H.prototype,"maxScale",void 0);b.__decorate([f.reader("service","maxScale",["maxScale","effectiveMaxScale"])],H.prototype,"readMaxScale",null);b.__decorate([p.property(t.minScale)],H.prototype,"minScale",void 0);b.__decorate([f.reader("service","minScale",["minScale","effectiveMinScale"])],H.prototype,"readMinScale",null);b.__decorate([p.property({type:String})],H.prototype,"objectIdField",void 0);b.__decorate([f.reader("service",
"objectIdField",["objectIdField","fields"])],H.prototype,"readObjectIdFieldFromService",null);b.__decorate([p.property(C.timeZoneProperty("preferredTimeReference"))],H.prototype,"preferredTimeZone",void 0);b.__decorate([p.property({type:[x],readOnly:!0})],H.prototype,"relationships",void 0);b.__decorate([p.property({type:Boolean})],H.prototype,"returnM",void 0);b.__decorate([p.property({type:Boolean})],H.prototype,"returnZ",void 0);b.__decorate([p.property({readOnly:!0,json:{write:!1}})],H.prototype,
"serverGens",void 0);b.__decorate([p.property({readOnly:!0})],H.prototype,"serviceDefinitionExpression",void 0);b.__decorate([f.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],H.prototype,"readServiceDefinitionExpression",null);b.__decorate([p.property({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],H.prototype,"serviceItemId",void 0);b.__decorate([p.property()],H.prototype,"sourceJSON",void 0);b.__decorate([p.property({type:m,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],
H.prototype,"spatialReference",void 0);b.__decorate([p.property({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],H.prototype,"subtypeField",void 0);b.__decorate([p.property({type:[A],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],H.prototype,"subtypes",void 0);b.__decorate([p.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],H.prototype,"trackIdField",void 0);b.__decorate([p.property(t.url)],H.prototype,"url",null);b.__decorate([k.writer("url")],H.prototype,
"writeUrl",null);b.__decorate([p.property({json:{origins:{service:{read:!0}},read:!1}})],H.prototype,"version",void 0);b.__decorate([f.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],H.prototype,"readVersion",null);return H=b.__decorate([g.subclass("esri.layers.mixins.FeatureLayerBase")],H)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/HeightModelInfo":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w){function q(y,u){return new p("height-unit:unsupported",`Height unit of value '${y}' is not supported`,u)}var m;const h=c.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});f=h.jsonValues.slice();b.removeUnordered(f,"orthometric");const t=c.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards",
"sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});b=m=class extends e.JSONSupport{constructor(y){super(y);this.heightModel="gravity-related-height";this.heightUnit="meters";this.vertCRS=null}writeHeightModel(y,u,r){return h.write(y,
u,r)}readHeightModel(y,u,r){if(u=h.read(y))return u;if(r?.messages){u=r.messages;var z=u.push;y=new p("height-model:unsupported",`Height model of value '${y}' is not supported`,{context:r});z.call(u,y)}return null}readHeightUnit(y,u,r){if(u=t.read(y))return u;r?.messages&&r.messages.push(q(y,{context:r}));return null}readHeightUnitService(y,u,r){if(u=d.unitFromRESTJSON(y)||t.read(y))return u;r?.messages&&r.messages.push(q(y,{context:r}));return null}readVertCRS(y,u){return u.vertCRS||u.ellipsoid||
u.geoid}clone(){return new m({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(y){return y?this===y?!0:this.heightModel===y.heightModel&&this.heightUnit===y.heightUnit&&this.vertCRS===y.vertCRS:!1}static deriveUnitFromSR(y,u){u=d.getVerticalUnitStringForSR(u);return new m({heightModel:y.heightModel,heightUnit:u??void 0,vertCRS:y.vertCRS})}write(y,u){u={origin:"web-scene",...u};return super.write(y,u)}static fromJSON(y){if(!y)return null;const u=new m;u.read(y,
{origin:"web-scene"});return u}};a.__decorate([n.property({type:h.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:f,default:"ellipsoidal"}}}})],b.prototype,"heightModel",void 0);a.__decorate([w.writer("web-scene","heightModel")],b.prototype,"writeHeightModel",null);a.__decorate([k.reader(["web-scene","service"],"heightModel")],b.prototype,"readHeightModel",null);a.__decorate([n.property({type:t.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:t.jsonValues,write:t.write}}}})],
b.prototype,"heightUnit",void 0);a.__decorate([k.reader("web-scene","heightUnit")],b.prototype,"readHeightUnit",null);a.__decorate([k.reader("service","heightUnit")],b.prototype,"readHeightUnitService",null);a.__decorate([n.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],b.prototype,"vertCRS",void 0);a.__decorate([k.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],b.prototype,"readVertCRS",null);return b=m=a.__decorate([l.subclass("esri.geometry.HeightModelInfo")],
b)})},"esri/layers/support/EditFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../time/timeZoneUtils".split(" "),function(a,b,c,e,d,p,n,f,g){b=class extends b.ClonableMixin(c.JSONSupport){constructor(k){super(k);this.timeZone=this.realm=this.editDateField=this.editorField=this.creationDateField=this.creatorField=
null}};a.__decorate([e.property()],b.prototype,"creatorField",void 0);a.__decorate([e.property()],b.prototype,"creationDateField",void 0);a.__decorate([e.property()],b.prototype,"editorField",void 0);a.__decorate([e.property()],b.prototype,"editDateField",void 0);a.__decorate([e.property()],b.prototype,"realm",void 0);a.__decorate([e.property(g.timeZoneProperty("dateFieldsTimeReference",!0))],b.prototype,"timeZone",void 0);return b=a.__decorate([f.subclass("esri.layers.support.EditFieldsInfo")],b)})},
"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f,g){a.FeatureIndex=class extends c.ClonableMixin(e.JSONSupport){constructor(k){super(k)}};b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"name",void 0);
b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"fields",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isAscending",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"indexType",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isUnique",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,
"description",void 0);a.FeatureIndex=b.__decorate([g.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/featureLayerUtils":function(){define("require exports ../../kernel ../../symbols ../../core/asyncUtils ../../core/Error ../../core/jsonMap ../../core/sql ../../core/accessorSupport/extensions/serializableProperty/reader ./featureQueryAll ./layerUtils ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../rest/support/AttachmentQuery ../../rest/support/Query ../../rest/support/RelationshipQuery".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t){function y(A,C,H){const {attributes:N}=C,{objectIdField:I}=A;return A.capabilities?.data?.supportsAttachment?C?N?I&&N[I]?Promise.resolve():Promise.reject(new p(H,`feature is missing the identifying attribute ${I}`)):Promise.reject(new p(H,"'attributes' are required on a feature to query attachments")):Promise.reject(new p(H,"A feature is required to add/delete/update attachments")):Promise.reject(new p(H,"this layer doesn't support attachments"))}async function u(A){return(await A.load()).source}
async function r(A,C){if(c.id&&!c.id.findCredential(A)){var H;try{const N=await l.getOwningPortalUrl(A,C);N&&(H=await c.id.checkSignInStatus(`${N}/sharing`))}catch(N){}if(H)try{await c.id.getCredential(A,{signal:null!=C?C.signal:null})}catch(N){}}}async function z(A,C,H){if(null==C)return null;const N=[],{objectIdField:I}=A;C.forEach(E=>{let G=null;"attributes"in E?({attributes:E}=E,G={globalId:E[H],objectId:null!=E[I]&&-1!==E[I]?E[I]:null}):G={globalId:E.globalId,objectId:null!=E.objectId&&-1!==
E.objectId?E.objectId:null};null!=G.globalId&&(null!=G.objectId&&-1!==G.objectId||N.push(G.globalId))});if(0===N.length)return null;C=A.createQuery();C.where=N.map(E=>`${H}='${E}'`).join(" OR ");C.returnGeometry=!1;C.outFields=[I,H];C.cacheHint=!1;C=await d.resultOrAbort(k.queryAllJSON(A,C));if(!C.ok)return null;A=new Map;C=C.value.features;for(const E of C){C=E.attributes[H];const G=E.attributes[I];null!=C&&null!=G&&-1!==G&&A.set(C,G)}return A}function v(A){return A.sourceJSON?.isMultiServicesView||
x(A)}function x(A){return!!A.sourceJSON?.capabilities?.toLowerCase().split(",").map(C=>C.trim()).includes("map")}n=new n.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});const B=g.createTypeReader({types:e.symbolTypesRenderer});b.addAttachment=async function(A,C,H,N){const I=await u(A);await y(A,C,N);if(!I.addAttachment)throw new p(N,"Layer source does not support addAttachment capability");
return I.addAttachment(C,H)};b.applyEdits=async function(A,C,H){const {applyEdits:N}=await new Promise((E,G)=>a(["../graphics/editingSupport"],E,G));A=await A.load();let I=H;"feature"===A.type&&A.infoFor3D&&null!=C.deleteFeatures&&null!=A.globalIdField&&(I={...I,globalIdToObjectId:await z(A,C.deleteFeatures,A.globalIdField)});return N(A,A.source,C,H)};b.computeEffectiveEditingEnabled=function(A){return v(A)?!1:A.userHasUpdateItemPrivileges||A.editingEnabled};b.createDefaultRenderer=function(A,C){if(A.defaultSymbol)return A.types?.length?
new q({defaultSymbol:B(A.defaultSymbol,A,C),field:A.typeIdField,uniqueValueInfos:A.types.map(H=>({id:H.id,symbol:B(H.symbol,H,C)}))}):new w({symbol:B(A.defaultSymbol,A,C)})};b.createQuery=function(A){const C=new h,H=A.capabilities?.data,N=A.capabilities?.query;C.historicMoment=A.historicMoment;C.gdbVersion=A.gdbVersion;C.returnGeometry=!0;N&&(C.compactGeometryEnabled=N.supportsCompactGeometry,C.defaultSpatialReferenceEnabled=N.supportsDefaultSpatialReference);H&&(H.supportsZ&&null!=A.returnZ&&(C.returnZ=
A.returnZ),H.supportsM&&null!=A.returnM&&(C.returnM=A.returnM));C.outFields=["*"];const {timeOffset:I,timeExtent:E}=A;C.timeExtent=null!=I&&null!=E?E.offset(-I.value,I.unit):E||null;C.multipatchOption="multipatch"===A.geometryType?"xyFootprint":null;return C};b.deleteAttachments=async function(A,C,H,N){const I=await u(A);await y(A,C,N);if(!I.deleteAttachments)throw new p(N,"Layer source does not support deleteAttachments capability");return I.deleteAttachments(C,H)};b.ensureCredentialIfSignedIn=r;
b.ensureLayerCredential=async function(A,C,H){const N=A.parsedUrl?.path;N&&A.authenticationTriggerEvent===C&&await r(N,H)};b.fetchRecomputedExtents=async function(A,C,H){A=(await A.load({signal:C?.signal})).source;if(!A.fetchRecomputedExtents)throw new p(H,"Layer source does not support fetchUpdates capability");return A.fetchRecomputedExtents(C)};b.geometryTypeKebabDict=n;b.getFeatureSubtype=function(A,C){const {subtypes:H,subtypeField:N}=A;if(!C||!H?.length||!N)return null;const I=C.attributes[N];
return null==I?null:H.find(E=>E.code===I)};b.getFeatureType=function(A,C,H){if(!C||!H||!A)return null;const N=H.getAttribute(C);return null==N?null:A.find(I=>{({id:I}=I);return null!=I&&I.toString()===N.toString()})??null};b.getGlobalIdToObjectIdMap=z;b.hasDataChanged=async function(A){const C=A.source;if(C?.refresh)try{const {dataChanged:H,updates:N}=await C.refresh();null!=N&&(A.sourceJSON={...A.sourceJSON,...N},A.read(N,{origin:"service",url:A.parsedUrl}));if(H)return!0}catch{}if(A.definitionExpression)try{return(await f.parseWhereClause(A.definitionExpression,
A.fieldsIndex)).hasDateFunctions}catch{}return!1};b.isLayerCacheStale=function(A){let C=A.sourceJSON?.cacheMaxAge;if(!C)return!1;A=A.editingInfo?.lastEditDate?.getTime();if(null==A)return!0;C*=1E3;return Date.now()-A<C};b.queryAttachments=async function(A,C,H,N){C=m.from(C);await A.load();H=A.source;A=A.capabilities;if(!A?.data?.supportsAttachment)throw new p(N,"this layer doesn't support attachments");const {attachmentTypes:I,objectIds:E,globalIds:G,num:L,size:R,start:F,where:J}=C;if(!A?.operations?.supportsQueryAttachments&&
(0<I?.length||0<G?.length||0<R?.length||L||F||J))throw new p(N,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",C);if(!(E?.length||G?.length||J))throw new p(N,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",C);if(!H.queryAttachments)throw new p(N,"Layer source does not support queryAttachments capability",C);return H.queryAttachments(C)};b.queryExtent=async function(A,C,H,N){const I=await u(A);if(!I.queryExtent)throw new p(N,
"Layer source does not support queryExtent capability");return I.queryExtent(h.from(C)??A.createQuery(),H)};b.queryFeatureCount=async function(A,C,H,N){const I=await u(A);if(!I.queryFeatureCount)throw new p(N,"Layer source does not support queryFeatureCount capability");return I.queryFeatureCount(h.from(C)??A.createQuery(),H)};b.queryObjectIds=async function(A,C,H,N){const I=await u(A);if(!I.queryObjectIds)throw new p(N,"Layer source does not support queryObjectIds capability");return I.queryObjectIds(h.from(C)??
A.createQuery(),H)};b.queryRelatedFeatures=async function(A,C,H,N){A=await u(A);if(!A.queryRelatedFeatures)throw new p(N,"Layer source does not support queryRelatedFeatures capability");return A.queryRelatedFeatures(t.from(C),H)};b.queryRelatedFeaturesCount=async function(A,C,H,N){A=await u(A);if(!A.queryRelatedFeaturesCount)throw new p(N,"Layer source does not support queryRelatedFeaturesCount capability");return A.queryRelatedFeaturesCount(t.from(C),H)};b.readGlobalIdField=function(A){const {globalIdField:C,
fields:H}=A;if(C)return C;if(H)for(const N of H)if("esriFieldTypeGlobalID"===N.type)return N.name};b.readObjectIdField=function(A){const {objectIdField:C,fields:H}=A;if(C)return C;if(H)for(const N of H)if("esriFieldTypeOID"===N.type)return N.name};b.readVersion=function(A){return A.currentVersion?A.currentVersion:A.hasOwnProperty("capabilities")||A.hasOwnProperty("drawingInfo")||A.hasOwnProperty("hasAttachments")||A.hasOwnProperty("htmlPopupType")||A.hasOwnProperty("relationships")||A.hasOwnProperty("timeInfo")||
A.hasOwnProperty("typeIdField")||A.hasOwnProperty("types")?10:9.3};b.supportsQueryOnly=v;b.updateAttachment=async function(A,C,H,N,I){const E=await u(A);await y(A,C,I);if(!E.updateAttachment)throw new p(I,"Layer source does not support updateAttachment capability");return E.updateAttachment(C,H,N)};b.uploadAssets=async function(A,C,H){const {uploadAssets:N}=await new Promise((I,E)=>a(["../graphics/editingSupport"],I,E));A=await A.load();return N(A,A.source,C,H)};Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/featureQueryAll":function(){define(["exports","../../rest/support/Query"],function(a,b){function c(p){return d(p)*e(p)}function e(p){return p.capabilities.query.maxRecordCount||2E3}function d(p){return p.capabilities.query.supportsMaxRecordCountFactor?b.MAX_MAX_RECORD_COUNT_FACTOR:1}a.getMaxRecordCountFactor=d;a.getMaximumQuerySize=c;a.getMaximumRecordCount=e;a.queryAllJSON=async function(p,n,f){n=n.clone();p.capabilities.query.supportsMaxRecordCountFactor&&
(n.maxRecordCountFactor=d(p));const g=c(p),k=p.capabilities.query.supportsPagination;n.start=0;n.num=g;let l=null;for(;;){const w=await p.source.queryFeaturesJSON(n,f);null==l?l=w:l.features=l.features.concat(w.features);l.exceededTransferLimit=w.exceededTransferLimit;if(!k||!w.exceededTransferLimit)break;n.start+=g}return l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AttachmentQuery":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,p,n){var f;b=f=class extends b.JSONSupport{constructor(g){super(g);this.attachmentsWhere=this.attachmentTypes=null;this.cacheHint=void 0;this.objectIds=this.num=this.name=this.globalIds=this.keywords=null;this.returnMetadata=!1;this.where=this.start=this.size=null}writeStart(g,k){k.resultOffset=this.start;k.resultRecordCount=this.num||10}clone(){return new f(c.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,
where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};a.__decorate([e.property({type:[String],json:{write:!0}})],b.prototype,"attachmentTypes",void 0);a.__decorate([e.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],b.prototype,"attachmentsWhere",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],
b.prototype,"cacheHint",void 0);a.__decorate([e.property({type:[String],json:{write:!0}})],b.prototype,"keywords",void 0);a.__decorate([e.property({type:[Number],json:{write:!0}})],b.prototype,"globalIds",void 0);a.__decorate([e.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([e.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([e.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);a.__decorate([e.property({type:Boolean,
json:{default:!1,write:!0}})],b.prototype,"returnMetadata",void 0);a.__decorate([e.property({type:[Number],json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([e.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([n.writer("start"),n.writer("num")],b.prototype,"writeStart",null);a.__decorate([e.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=f=a.__decorate([p.subclass("esri.rest.support.AttachmentQuery")],
b);b.from=d.ensureType(b);return b})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/source/DataLayerSource ../../geometry/SpatialReference".split(" "),function(a,b,c,e,d,p,n,f,g,k){var l;b=l=class extends c.JSONSupport{constructor(w){super(w);
this.dynamicDataSource=this.cacheHint=void 0;this.gdbVersion=null;this.geometryPrecision=void 0;this.historicMoment=null;this.maxAllowableOffset=void 0;this.outSpatialReference=this.outFields=this.orderByFields=this.objectIds=null;this.num=this.start=this.relationshipId=void 0;this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.where=null}_writeHistoricMoment(w,q){q.historicMoment=w&&w.getTime()}writeStart(w,q){q.resultOffset=this.start;q.resultRecordCount=this.num||10;0<this.start&&null==
this.where&&(q.definitionExpression="1\x3d1")}clone(){return new l(e.clone({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,
num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};a.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"cacheHint",void 0);a.__decorate([d.property({type:g.DataLayerSource,json:{write:!0}})],b.prototype,"dynamicDataSource",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);a.__decorate([d.property({type:Date})],
b.prototype,"historicMoment",void 0);a.__decorate([f.writer("historicMoment")],b.prototype,"_writeHistoricMoment",null);a.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"objectIds",void 0);a.__decorate([d.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([d.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);a.__decorate([d.property({type:k,
json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"relationshipId",void 0);a.__decorate([d.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([f.writer("start"),f.writer("num")],b.prototype,"writeStart",null);a.__decorate([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([d.property({json:{write:!0}})],
b.prototype,"returnGeometry",void 0);a.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],b.prototype,"returnM",void 0);a.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],b.prototype,"returnZ",void 0);a.__decorate([d.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=l=a.__decorate([n.subclass("esri.rest.support.RelationshipQuery")],
b);b.from=p.ensureType(b);return b})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f,g){b=class extends b.ClonableMixin(c.JSONSupport){constructor(k){super(k);this.units=this.shapeLengthField=this.shapeAreaField=null}};
a.__decorate([d.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],b.prototype,"shapeAreaField",void 0);a.__decorate([d.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],b.prototype,"shapeLengthField",void 0);a.__decorate([d.property({type:String,json:{read:k=>e.areaUnitsJSONMap.read(k)||e.lengthUnitsJSONMap.read(k)}})],b.prototype,"units",void 0);return b=a.__decorate([g.subclass("esri.layers.support.GeometryFieldsInfo")],b)})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){var g;c=g=class extends c.JSONSupport{constructor(k){super(k);this.floorField=null;this.viewAllMode=!1;this.viewAllLevelIds=new b}clone(){return new g({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};a.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"floorField",void 0);a.__decorate([e.property({json:{read:!1,write:!1}})],c.prototype,"viewAllMode",void 0);a.__decorate([e.property({json:{read:!1,write:!1}})],
c.prototype,"viewAllLevelIds",void 0);return c=g=a.__decorate([f.subclass("esri.layers.support.LayerFloorInfo")],c)})},"esri/layers/support/Relationship":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f,g){p=new c.JSONMap({esriRelCardinalityOneToOne:"one-to-one",
esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});c=new c.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});b=class extends b.ClonableMixin(e.JSONSupport){constructor(k){super(k);this.role=this.relationshipTableId=this.relatedTableId=this.name=this.keyFieldInRelationshipTable=this.keyField=this.id=this.composite=this.cardinality=null}};a.__decorate([d.property({json:{read:p.read,write:p.write}})],b.prototype,"cardinality",void 0);a.__decorate([d.property({json:{read:!0,
write:!0}})],b.prototype,"composite",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"id",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"keyField",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"keyFieldInRelationshipTable",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"name",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"relatedTableId",void 0);a.__decorate([d.property({json:{read:!0,
write:!0}})],b.prototype,"relationshipTableId",void 0);a.__decorate([d.property({json:{read:c.read,write:c.write}})],b.prototype,"role",void 0);return b=a.__decorate([g.subclass("esri.layers.support.Relationship")],b)})},"esri/layers/support/serviceCapabilitiesUtils":function(){define(["exports","../../core/has","./arcgisLayerUrl","../../rest/support/jsonUtils"],function(a,b,c,e){function d(l){l=l?.supportedSpatialAggregationStatistics?.map(w=>w.toLowerCase());return{envelope:!!l?.includes("envelopeaggregate"),
centroid:!!l?.includes("centroidaggregate"),convexHull:!!l?.includes("convexhullaggregate")}}function p(l,w){return!!l?.supportedOperationsWithCacheHint?.map(q=>q.toLowerCase())?.includes(w.toLowerCase())}function n(l){const w=l.attachmentProperties,q={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:p(l.advancedQueryCapabilities,"queryAttachments"),supportsResize:e.readBoolean(l,"supportsAttachmentsResizing",!1)};w&&Array.isArray(w)&&
w.forEach(m=>{const h=k[m.name];h&&(q[h]=!!m.isEnabled)});return q}function f(l,w,q){l=l?l.toLowerCase().split(",").map(z=>z.trim()):[];q=q?c.parse(q):null;q=l.includes(null!=q&&"MapServer"===q.serverType?"data":"query");const m=l.includes("editing")&&!w.datesInUnknownTimezone;let h=m&&l.includes("create"),t=m&&l.includes("delete"),y=m&&l.includes("update");const u=l.includes("changetracking"),r=w.advancedQueryCapabilities;!m||h||t||y||(h=t=y=!0);return{supportsCalculate:e.readBoolean(w,"supportsCalculate",
!1),supportsTruncate:e.readBoolean(w,"supportsTruncate",!1),supportsValidateSql:e.readBoolean(w,"supportsValidateSql",!1),supportsAdd:h,supportsDelete:t,supportsEditing:m,supportsChangeTracking:u,supportsQuery:q,supportsQueryAnalytics:e.readBoolean(r,"supportsQueryAnalytic",!1),supportsQueryAttachments:e.readBoolean(r,"supportsQueryAttachments",!1),supportsQueryTopFeatures:e.readBoolean(r,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:e.readBoolean(w,"supportsAttachmentsResizing",!1),supportsSync:l.includes("sync"),
supportsUpdate:y,supportsExceedsLimitStatistics:e.readBoolean(w,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:e.readBoolean(w,"supportsAsyncConvert3D",!1)}}function g(l,w){const q=l.advancedQueryCapabilities,m=l.ownershipBasedAccessControlForFeatures,h=l.archivingInfo;var t=l.currentVersion;t=!w?.includes("MapServer")||t>=b("mapserver-pbf-version-support");w=c.isHostedAgolService(w);const y=new Set((l.supportedQueryFormats??"").split(",").map(u=>u.toLowerCase().trim()));return{maxRecordCount:e.readNumber(l,
"maxRecordCount",void 0),maxRecordCountFactor:e.readNumber(l,"maxRecordCountFactor",void 0),standardMaxRecordCount:e.readNumber(l,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:d(q),supportsCacheHint:e.readBoolean(q,"supportsQueryWithCacheHint",!1)||p(q,"query"),supportsCentroid:e.readBoolean(q,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:w,supportsDefaultSpatialReference:e.readBoolean(q,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:e.readBoolean(q,
"supportsDisjointSpatialRel",!1),supportsDistance:e.readBoolean(q,"supportsQueryWithDistance",!1),supportsDistinct:e.readBoolean(q,"supportsDistinct",l.supportsAdvancedQueries),supportsExtent:e.readBoolean(q,"supportsReturningQueryExtent",!1),supportsFormatPBF:t&&y.has("pbf"),supportsFullTextSearch:e.readBoolean(q,"supportsFullTextSearch",!1),supportsGeometryProperties:e.readBoolean(q,"supportsReturningGeometryProperties",!1),supportsHavingClause:e.readBoolean(q,"supportsHavingClause",!1),supportsHistoricMoment:e.readBoolean(h,
"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:e.readBoolean(q,"supportsMaxRecordCountFactor",!1),supportsOrderBy:e.readBoolean(q,"supportsOrderBy",l.supportsAdvancedQueries),supportsPagination:e.readBoolean(q,"supportsPagination",!1),supportsPercentileStatistics:e.readBoolean(q,"supportsPercentileStatistics",!1),supportsQuantization:e.readBoolean(l,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:e.readBoolean(l,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:e.readBoolean(m,
"allowAnonymousToQuery",!0),supportsQueryByOthers:e.readBoolean(m,"allowOthersToQuery",!0),supportsQueryGeometry:e.readBoolean(l,"supportsReturningQueryGeometry",!1),supportsResultType:e.readBoolean(q,"supportsQueryWithResultType",!1),supportsSpatialAggregationStatistics:e.readBoolean(q,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:e.readBoolean(q,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:e.readBoolean(l,"useStandardizedQueries",!1),supportsStatistics:e.readBoolean(q,
"supportsStatistics",l.supportsStatistics),supportsTopFeaturesQuery:e.readBoolean(q,"supportsTopFeaturesQuery",!1),tileMaxRecordCount:e.readNumber(l,"tileMaxRecordCount",void 0)}}const k={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};a.getFeatureLayerCapabilities=function(l,w){var q={supportsCacheHint:p(l.advancedQueryCapabilities,"queryAnalytics")},m=n(l);var h={isVersioned:e.readBoolean(l,"isDataVersioned",!1),
supportsAttachment:e.readBoolean(l,"hasAttachments",!1),supportsM:e.readBoolean(l,"hasM",!1),supportsZ:e.readBoolean(l,"hasZ",!1)};var t={supportsAdvancedFieldProperties:e.readBoolean(l,"supportsFieldDescriptionProperty",!1)},y=f(l.capabilities,l,w);w=g(l,w);var u=l.advancedQueryCapabilities;var r=e.readBoolean(u,"supportsAdvancedQueryRelated",!1);u={supportsPagination:e.readBoolean(u,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:p(u,"queryRelated")};r={supportsCacheHint:p(l.advancedQueryCapabilities,
"queryTopFilter")};const z=l.ownershipBasedAccessControlForFeatures,v=l?l.advancedEditingCapabilities:void 0;l={supportsGeometryUpdate:e.readBoolean(l,"allowGeometryUpdates",!0),supportsGlobalId:e.readBoolean(l,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:e.readBoolean(l,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:e.readBoolean(l,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:e.readBoolean(l,"allowUpdateWithoutMValues",
!1),supportsUploadWithItemId:e.readBoolean(l,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:e.readBoolean(z,"allowAnonymousToDelete",!0),supportsDeleteByOthers:e.readBoolean(z,"allowOthersToDelete",!0),supportsUpdateByAnonymous:e.readBoolean(z,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:e.readBoolean(z,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:e.readBoolean(v,"supportsAsyncApplyEdits",!1),zDefault:e.readNumber(l,"zDefault",void 0)};return{analytics:q,attachment:m,data:h,
metadata:t,operations:y,query:w,queryRelated:u,queryTopFeatures:r,editing:l}};a.getVideoLayerCapabilities=function(l){return{operations:{supportsAppend:e.readBoolean(l,"supportsAppend",!1),supportsExportClip:e.readBoolean(l,"supportsExportClip",!1),supportsExportFrameset:e.readBoolean(l,"supportsExportFrameset",!1),supportsMensuration:e.readBoolean(l,"supportsMensuration",!1),supportsUpdate:e.readBoolean(l,"supportsUpdate",!1)},query:{supportsCoverageQuery:l?.playbackInfo?.klv["0601"]??!1}}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/jsonUtils":function(){define(["exports"],function(a){function b(c,e,d){return c&&c.hasOwnProperty(e)?c[e]:d}a.readBoolean=function(c,e,d){return!!b(c,e,d)};a.readNumber=function(c,e,d){return b(c,e,d)};a.readValue=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Subtype":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){b=class extends b.ClonableMixin(c.JSONSupport){constructor(w){super(w);this.code=null;this.defaultValues={};this.name=this.domains=null}readDomains(w){if(!w)return null;const q={};for(const m of Object.keys(w))q[m]=l.fromJSON(w[m]);return q}writeDomains(w,q){if(w){var m={};for(const h of Object.keys(w))w[h]&&(m[h]=w[h]?.toJSON());q.domains=m}}};a.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"code",void 0);a.__decorate([e.property({type:Object,
json:{write:!0}})],b.prototype,"defaultValues",void 0);a.__decorate([e.property({json:{write:!0}})],b.prototype,"domains",void 0);a.__decorate([f.reader("domains")],b.prototype,"readDomains",null);a.__decorate([k.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);return b=a.__decorate([g.subclass("esri.layers.support.Subtype")],b)})},"esri/layers/mixins/FeatureReductionLayer":function(){define("exports ../../chunks/tslib.es6 ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../core/Logger ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/AggregateField ../support/featureReductionUtils ../../renderers/visualVariables/SizeVariable ../../renderers/visualVariables/support/SizeStop ../../views/2d/layers/support/clusterUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x){a.FeatureReductionLayer=B=>{B=class extends B{constructor(...A){super(...A);this.addHandles(q.watch(()=>this.renderer,()=>{if(this.featureReduction){const C=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",C)}},q.sync))}set featureReduction(A){A=this._normalizeFeatureReduction(A);this._set("featureReduction",A)}set renderer(A){}_withClusterVariable(A,C,H){A=A.clone();"visualVariables"in A&&(A.visualVariables||
(A.visualVariables=[]),A.visualVariables.some(N=>"size"===N.type)||A.visualVariables.push(new z({field:"cluster_count",stops:[new v({value:1}),new v({useMinValue:!0,size:C}),new v({useMaxValue:!0,size:H})]})));return A}_normalizeFeatureReduction(A){if("cluster"!==A?.type)return A;const C=A.clone();var H=[new u({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})];const N=(C.fields??[]).filter(L=>!L.isAutoGenerated);var I=A.renderer&&!A.renderer.authoringInfo?.isAutoGenerated;const {clusterMinSize:E,
clusterMaxSize:G}=C;if(I)return C.fields=[...H,...N],H=this._withClusterVariable(C.renderer,E,G),C.effectiveFeatureRenderer=H,C.effectiveClusterRenderer=H,C;if(A.symbol){C.fields=[...H,...N];C.renderer=null;if(!this.renderer)return C.effectiveFeatureRenderer=null,C.effectiveClusterRenderer=null,C;I=x.createInferredClusterRenderer(H,this.renderer);I=this._withClusterVariable(I,E,G);A=new g({symbol:A.symbol,visualVariables:"visualVariables"in I&&I.visualVariables?I.visualVariables:[]});C.fields=[...H,
...N];C.effectiveFeatureRenderer=I;C.effectiveClusterRenderer=A;return C}if(!this.renderer)return A;A=x.createInferredClusterRenderer(H,this.renderer);C.fields=[...H,...N];C.renderer=A;H=this._withClusterVariable(A,E,G);C.effectiveFeatureRenderer=H;C.effectiveClusterRenderer=H;return C}};b.__decorate([m.property(r.featureReductionProperty)],B.prototype,"featureReduction",null);return B=b.__decorate([y.subclass("esri.layers.mixins.FeatureReductionLayer")],B)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/AggregateField":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./ExpressionInfo".split(" "),function(a,b,c,e,d,p,n,f){var g;b=g=class extends b.JSONSupport{constructor(k){super(k);this.isAutoGenerated=!1;this.statisticType=this.onStatisticExpression=this.onStatisticField=this.alias=this.name=null}clone(){return new g({name:this.name,
alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:c.clone(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};a.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"isAutoGenerated",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],
b.prototype,"onStatisticField",void 0);a.__decorate([e.property({type:f,json:{write:!0}})],b.prototype,"onStatisticExpression",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"statisticType",void 0);return b=g=a.__decorate([n.subclass("esri.layers.support.AggregateField")],b)})},"esri/layers/support/ExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){b=class extends b.ClonableMixin(c.JSONSupport){constructor(g){super(g);this.returnType=this.title=this.expression=null}};a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"returnType",void 0);return b=a.__decorate([f.subclass("esri.layers.support.ExpressionInfo")],b)})},"esri/layers/support/featureReductionUtils":function(){define("exports ../../core/accessorSupport/layerContainerType ./FeatureReduction ./FeatureReductionBinning ./FeatureReductionCluster ./FeatureReductionSelection".split(" "),
function(a,b,c,e,d,p){const n={key:"type",base:c.FeatureReduction,typeMap:{cluster:d,binning:e}};a.featureReductionProperty={types:{key:"type",base:c.FeatureReduction,typeMap:{selection:p,cluster:d,binning:e}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:n},"portal-item":{types:n},"web-scene":{types:{key:"type",base:c.FeatureReduction,typeMap:{selection:p}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:b.excludeTables}}}}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f){a.FeatureReduction=class extends c.JSONSupport{constructor(){super(...arguments);this.type=null}};b.__decorate([e.property({type:["selection","cluster","binning"],
readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=b.__decorate([f.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionBinning":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./FeatureReduction ./LabelClass".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A,C,H,N){var I;c=I=class extends H.FeatureReduction{constructor(E){super(E);this.type="binning";this.binType="geohash";this.labelingInfo=this.fixedBinLevel=null;this.labelsVisible=!0;this.maxScale=0;this.popupEnabled=!0;this.popupTemplate=null;this.size=h.toPt("12px");this.fields=[];this.renderer=null}writeFields(E,G,L){E=E.filter(R=>"avg_angle"!==R.statisticType).map(R=>R.toJSON());m.setDeepValue(L,E,G)}readRenderer(E,G,L){return(E=G.drawingInfo?.renderer)?
l.read(E,G,L)??void 0:C.createDefaultRenderer(G,L)}clone(){return new I({fields:q.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:q.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:q.clone(this.popupTemplate),renderer:q.clone(this.renderer),binType:q.clone(this.binType),size:this.size})}};a.__decorate([r.enumeration({binning:"binning"})],c.prototype,"type",void 0);a.__decorate([r.enumeration({geohash:"geohash",
square:"square"}),t.property({type:["geohash","square"]})],c.prototype,"binType",void 0);a.__decorate([t.property({type:Number,json:{write:!0}})],c.prototype,"fixedBinLevel",void 0);a.__decorate([t.property({type:[N],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],c.prototype,"labelingInfo",void 0);a.__decorate([t.property(A.labelsVisible)],c.prototype,"labelsVisible",void 0);a.__decorate([t.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],
c.prototype,"maxScale",void 0);a.__decorate([t.property(A.popupEnabled)],c.prototype,"popupEnabled",void 0);a.__decorate([t.property({type:b,json:{name:"popupInfo",write:!0}})],c.prototype,"popupTemplate",void 0);a.__decorate([t.property({type:Number,cast:E=>"auto"===E?E:h.toPt(E)})],c.prototype,"size",void 0);a.__decorate([t.property({type:[B],json:{write:!0}})],c.prototype,"fields",void 0);a.__decorate([x.writer("fields")],c.prototype,"writeFields",null);a.__decorate([t.property({types:w.rendererTypes,
json:{write:{target:"drawingInfo.renderer"}}})],c.prototype,"renderer",void 0);a.__decorate([z.reader("renderer",["drawingInfo.renderer"])],c.prototype,"readRenderer",null);return c=I=a.__decorate([v.subclass("esri.layers.support.FeatureReductionBinning")],c)})},"esri/layers/support/LabelClass":function(){define("../../chunks/tslib.es6 ../../symbols ../../core/has ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ./layerUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y){function u(x,B,A){return{enabled:!h.isSceneServiceLayer(A?.layer)}}function r(x){return x?"service"===x.origin?!1:"map-image"!==x.layer?.type:!0}function z(x){return"map-image"===x?.type?!!x.capabilities?.exportMap?.supportsArcadeExpressionForLabeling:!1}var v;c=new e.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",
esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",
esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});d=v=class extends d.JSONSupport{static evaluateWhere(x,B){const A=(C,H,N)=>{switch(H){case "\x3d":return C==N;case "\x3c\x3e":return C!=N;case "\x3e":return C>N;case "\x3e\x3d":return C>=N;case "\x3c":return C<N;case "\x3c\x3d":return C<=N}return!1};try{if(null==x)return!0;const C=x.split(" ");if(3===C.length)return A(B[C[0]],C[1],C[2]);if(7===C.length){const H=A(B[C[0]],C[1],C[2]),N=C[3],I=A(B[C[4]],C[5],C[6]);switch(N){case "AND":return H&&I;case "OR":return H||I}}return!1}catch(C){}}constructor(x){super(x);
this.type="label";this.name=null;this.allowOverrun=!1;this.deconflictionStrategy="static";this.labelPlacement=this.labelExpressionInfo=this.labelExpression=null;this.labelPosition="curved";this.minScale=this.maxScale=0;this.repeatLabel=!0;this.repeatLabelDistance=null;this.symbol=t.defaultTextSymbol2D;this.useCodedValues=void 0;this.where=null}readLabelExpression(x,B){B=B.labelExpressionInfo;if(!B||!B.value&&!B.expression)return x}writeLabelExpression(x,B,A){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)x=
m.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const C=m.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);C&&(x="["+C+"]")}null!=x&&(B[A]=x)}writeLabelExpressionInfo(x,B,A,C){if(null==x&&null!=this.labelExpression&&r(C))x=new q({expression:this.getLabelExpressionArcade()});else if(!x)return;x=x.toJSON(C);x.expression&&(B[A]=x)}writeMaxScale(x,B){if(x||this.minScale)B.maxScale=x}writeMinScale(x,B){if(x||this.maxScale)B.minScale=
x}getLabelExpression(){return m.getLabelExpression(this)}getLabelExpressionArcade(){return m.getLabelExpressionArcade(this)}getLabelExpressionSingleField(){return m.getLabelExpressionSingleField(this)}hash(){return JSON.stringify(this)}clone(){return new v({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:p.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,
minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:p.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:u}}}}})],d.prototype,"allowOverrun",void 0);a.__decorate([f.property({type:String,
json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:u}}}}})],d.prototype,"deconflictionStrategy",void 0);a.__decorate([f.property({type:String,json:{write:{overridePolicy(x,B,A){return this.labelExpressionInfo&&"service"===A?.origin&&z(A.layer)?{enabled:!1}:{allowNull:!0}}}}})],d.prototype,"labelExpression",void 0);a.__decorate([k.reader("labelExpression")],d.prototype,"readLabelExpression",null);a.__decorate([w.writer("labelExpression")],
d.prototype,"writeLabelExpression",null);a.__decorate([f.property({type:q,json:{write:{overridePolicy(x,B,A){return r(A)||z(A?.layer)?{allowNull:!0}:{enabled:!1}}}}})],d.prototype,"labelExpressionInfo",void 0);a.__decorate([w.writer("labelExpressionInfo")],d.prototype,"writeLabelExpressionInfo",null);a.__decorate([f.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],d.prototype,"labelPlacement",void 0);a.__decorate([f.property({type:["curved","parallel"],json:{write:!0,
origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],d.prototype,"labelPosition",void 0);a.__decorate([f.property({type:Number})],d.prototype,"maxScale",void 0);a.__decorate([w.writer("maxScale")],d.prototype,"writeMaxScale",null);a.__decorate([f.property({type:Number})],d.prototype,"minScale",void 0);a.__decorate([w.writer("minScale")],d.prototype,"writeMinScale",null);a.__decorate([f.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:u}}}}})],
d.prototype,"repeatLabel",void 0);a.__decorate([f.property({type:Number,cast:n.toPt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:u}}}}})],d.prototype,"repeatLabelDistance",void 0);a.__decorate([f.property({types:b.symbolTypesLabel,json:{origins:{"web-scene":{types:b.symbolTypesLabel3D,write:y.writeLabelSymbol,default:null}},write:y.writeLabelSymbol,default:null}})],d.prototype,"symbol",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],d.prototype,
"useCodedValues",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"where",void 0);return d=v=a.__decorate([l.subclass("esri.layers.support.LabelClass")],d)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k){var l;b=l=class extends b.JSONSupport{constructor(){super(...arguments);this.value=this.title=this.expression=null}readExpression(w,q){return q.value?k.convertTemplatedStringToArcade(q.value):w}writeExpression(w,q,m){null!=this.value&&(w=k.convertTemplatedStringToArcade(this.value));null!=w&&(q[m]=w)}clone(){return new l({expression:this.expression,title:this.title,value:this.value})}};a.__decorate([c.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],b.prototype,
"expression",void 0);a.__decorate([n.reader("expression",["expression","value"])],b.prototype,"readExpression",null);a.__decorate([g.writer("expression")],b.prototype,"writeExpression",null);a.__decorate([c.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0);a.__decorate([c.property({json:{read:!1,write:!1}})],b.prototype,"value",void 0);return b=l=a.__decorate([f.subclass("esri.layers.support.LabelExpressionInfo")],b)})},"esri/layers/support/labelUtils":function(){define(["exports",
"../../core/string"],function(a,b){function c(t){return t.replaceAll(RegExp("\\[","g"),"{").replaceAll(RegExp("\\]","g"),"}")}function e(t){const y={expression:"",type:"none"};t.labelExpressionInfo?t.labelExpressionInfo.value?(y.expression=t.labelExpressionInfo.value,y.type="conventional"):t.labelExpressionInfo.expression&&(y.expression=t.labelExpressionInfo.expression,y.type="arcade"):null!=t.labelExpression&&(y.expression=c(t.labelExpression),y.type="conventional");return y}function d(t){t?(t=b.replace(t,
y=>'__begin__$feature["'+y+'"]__end__'),t=k.test(t)?t.replace(k,""):'"'+t,t=l.test(t)?t.replace(l,""):t+'"',t=t.replaceAll(f,'" + ').replaceAll(g,' + "')):t='""';return t}function p(t){return t?.match(w)?.[1].trim()||null}function n(t){if(!t)return null;let y=q.exec(t)||m.exec(t);return y?y[1]||y[3]:(y=h.exec(t))?y[2]:null}const f=RegExp("__begin__","ig"),g=RegExp("__end__","ig"),k=RegExp("^__begin__","i"),l=RegExp("__end__$","i"),w=/^\s*\{([^}]+)\}\s*$/i,q=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,
m=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,h=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=d;a.getLabelExpression=e;a.getLabelExpressionArcade=function(t){t=e(t);if(!t)return null;switch(t.type){case "conventional":return d(t.expression);case "arcade":return t.expression}return null};a.getLabelExpressionSingleField=function(t){t=e(t);if(!t)return null;switch(t.type){case "conventional":return p(t.expression);
case "arcade":return n(t.expression)}return null};a.getSingleFieldArcadeExpression=n;a.getSingleFieldTemplatedString=p;a.sqlToTemplateString=c;a.templateStringToSql=function(t){return t.replaceAll(RegExp("\\{","g"),"[").replaceAll(RegExp("\\}","g"),"]")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./LabelClass".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A,C,H,N){var I;c=I=class extends m.JSONSupport{constructor(E){super(E);this.type="cluster";this.clusterRadius=y.toPt("80px");this.clusterMinSize=y.toPt("12px");this.clusterMaxSize=y.toPt("50px");this.maxScale=0;this.popupEnabled=!0;this.labelingInfo=this.symbol=this.renderer=this.popupTemplate=null;this.labelsVisible=!0;this.fields=[]}readRenderer(E,G,L){E=G.drawingInfo?.renderer;return E?.authoringInfo?.isAutoGenerated?null:E?"simple"!==E.type||
E.visualVariables?.length?l.read(E,G,L)??void 0:null:H.createDefaultRenderer(G,L)}readSymbol(E,G,L){E=G.drawingInfo?.renderer;return E?.authoringInfo?.isAutoGenerated?null:E&&"simple"===E.type&&!E.visualVariables?.length?l.read(E,G,L)?.symbol:null}writeSymbol(E,G,L,R){L=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||L)E=new g({symbol:E}),G.drawingInfo={renderer:E.write({},R)}}writeFields(E,G,L){E=E.filter(R=>"avg_angle"!==R.statisticType).map(R=>R.toJSON());t.setDeepValue(L,E,G)}readFields(E,
G,L){return E.filter(R=>!R.isAutoGenerated).map(R=>A.fromJSON(R))}clone(){return new I({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:h.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:h.clone(this.fields),maxScale:this.maxScale,renderer:h.clone(this.renderer),symbol:h.clone(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:h.clone(this.popupTemplate)})}};a.__decorate([u.property({type:["cluster"],readOnly:!0,
json:{write:!0}})],c.prototype,"type",void 0);a.__decorate([u.property({type:Number,cast:E=>"auto"===E?E:y.toPt(E),json:{write:!0}})],c.prototype,"clusterRadius",void 0);a.__decorate([u.property({type:Number,cast:y.toPt,json:{write:!0}})],c.prototype,"clusterMinSize",void 0);a.__decorate([u.property({type:Number,cast:y.toPt,json:{write:!0}})],c.prototype,"clusterMaxSize",void 0);a.__decorate([u.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],c.prototype,"maxScale",void 0);
a.__decorate([u.property(C.popupEnabled)],c.prototype,"popupEnabled",void 0);a.__decorate([u.property({type:b,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],c.prototype,"popupTemplate",void 0);a.__decorate([u.property({types:w.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],c.prototype,"renderer",void 0);a.__decorate([v.reader("renderer",["drawingInfo.renderer"])],c.prototype,"readRenderer",null);a.__decorate([u.property({types:q.symbolTypesCluster})],c.prototype,"symbol",
void 0);a.__decorate([v.reader("symbol",["drawingInfo.renderer"])],c.prototype,"readSymbol",null);a.__decorate([B.writer("symbol")],c.prototype,"writeSymbol",null);a.__decorate([u.property({type:[N],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],c.prototype,"labelingInfo",void 0);a.__decorate([u.property(C.labelsVisible)],c.prototype,"labelsVisible",void 0);a.__decorate([u.property({type:[A],json:{write:!0}})],c.prototype,"fields",void 0);a.__decorate([B.writer("fields")],
c.prototype,"writeFields",null);a.__decorate([v.reader("fields")],c.prototype,"readFields",null);return c=I=a.__decorate([x.subclass("esri.layers.support.FeatureReductionCluster")],c)})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),function(a,b,c,e,d,p,n){var f;c=f=class extends n.FeatureReduction{constructor(g){super(g);
this.type="selection"}clone(){return new f}};a.__decorate([b.property({type:["selection"]})],c.prototype,"type",void 0);return c=f=a.__decorate([p.subclass("esri.layers.support.FeatureReductionSelection")],c)})},"esri/views/2d/layers/support/clusterUtils":function(){define("exports ../../../../renderers/ClassBreaksRenderer ../../../../renderers/DictionaryRenderer ../../../../renderers/DotDensityRenderer ../../../../renderers/HeatmapRenderer ../../../../renderers/PieChartRenderer ../../../../renderers/Renderer ../../../../renderers/SimpleRenderer ../../../../renderers/UniqueValueRenderer ../../../../renderers/support/jsonUtils ../../../../core/Logger ../../../../symbols ../../../../core/Error ../../../../core/has ../../../../core/MD5 ../../../../layers/support/AggregateField ../../../../layers/support/ExpressionInfo ../../../../renderers/support/AuthoringInfo ../../../../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r){function z(H,N,I){switch(H){case "sum":return`cluster_sum_${N}`;case "avg":case "avg_angle":return`cluster_avg_${N}`;case "mode":return`cluster_type_${N}`;case "avg_norm":return H=N.toLowerCase()+",norm:field,"+I.toLowerCase(),"cluster_avg_"+h.createMD5Hash(H)}}function v(H,N,I,E){const G=h.createMD5Hash(N),L="mode"===I?`cluster_type_${G}`:"sum"===I?`cluster_sum_${G}`:`cluster_avg_${G}`;H.some(R=>R.name===L)||H.push(new t({name:L,isAutoGenerated:!0,
onStatisticExpression:new y({expression:N,returnType:E}),statisticType:I}));return L}function x(H,N,I,E,G){if("cluster_count"===N||H.some(R=>R.name===N))return N;const L=z(I,N,G);H.some(R=>R.name===L)||("avg_norm"===I?H.push(new t({name:L,isAutoGenerated:!0,onStatisticExpression:new y({expression:`$feature.${N} / $feature.${G}`,returnType:E}),statisticType:"avg"})):H.push(new t({name:L,isAutoGenerated:!0,onStatisticField:N,statisticType:I})));return L}m.add("esri-cluster-arcade-enabled",!0);const B=
m("esri-cluster-arcade-enabled"),A=new Set(["simple-line","simple-fill","picture-fill"]),C=H=>{const N=I=>l.getLogger("esri.views.2d.layers.support.clusterUtils").error(new q("Unsupported-renderer",I,{renderer:H}));if(!H)return!1;switch(H.type){case "unique-value":if(H.field2||H.field3)return N("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case "class-breaks":if(H.normalizationField){const I=H.normalizationType;if("field"!==I)return N(`FeatureReductionCluster does not support a normalizationType of ${I}`),
!1}break;case "simple":case "pie-chart":break;default:return N(`FeatureReductionCluster does not support renderers of type ${H.type}`),!1}if(!B){if("valueExpression"in H&&H.valueExpression)return N("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in H&&H.visualVariables||[]).some(I=>!!("valueExpression"in I&&I.valueExpression)))return N("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),
!1}return!0};a.createInferredClusterRenderer=function(H,N){let I=N.clone();if(!C(I))return I;N.getSymbols().some(E=>A.has(E.type))&&(I=new f({symbol:new r}));I.authoringInfo||(I.authoringInfo=new u);I.authoringInfo.isAutoGenerated=!0;"visualVariables"in I&&(N=(I.visualVariables||[]).filter(E=>"$view.scale"!==E.valueExpression),N.forEach(E=>{"rotation"===E.type?E.field?E.field=x(H,E.field,"avg_angle","number"):E.valueExpression&&(E.field=v(H,E.valueExpression,"avg_angle","number"),E.valueExpression=
null):E.normalizationField?(E.field=x(H,E.field,"avg_norm","number",E.normalizationField),E.normalizationField=null):E.field?E.field=x(H,E.field,"avg","number"):E.valueExpression&&(E.field=v(H,E.valueExpression,"avg","number"),E.valueExpression=null)}),I.visualVariables=N);switch(I.type){case "pie-chart":for(const E of I.attributes)E.field?E.field=x(H,E.field,"sum","number"):E.valueExpression&&(E.field=v(H,E.valueExpression,"sum","number"),E.valueExpression=null);break;case "unique-value":I.field?
I.field=x(H,I.field,"mode","string"):I.valueExpression&&(I.field=v(H,I.valueExpression,"mode","string"),I.valueExpression=null);break;case "class-breaks":I.normalizationField?(I.field=x(H,I.field,"avg_norm","number",I.normalizationField),I.normalizationField=null):I.field?I.field=x(H,I.field,"avg","number"):I.valueExpression&&(I.field=v(H,I.valueExpression,"avg","number"),I.valueExpression=null)}return I};a.findSizeVV=H=>{for(const N of H)if("size"===N.type)return N;return null};a.hasClusterCountVV=
H=>{for(const N of H)if("cluster_count"===N.field)return!0;return!1};a.isClusterCompatibleRenderer=C;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MD5":function(){define(["exports"],function(a){function b(f,g){const k=(f&65535)+(g&65535);return(f>>16)+(g>>16)+(k>>16)<<16|k&65535}function c(f,g,k,l,w,q){f=b(b(g,f),b(l,q));return b(f<<w|f>>>32-w,k)}function e(f,g,k,l,w,q,m){return c(g&k|~g&l,f,g,w,q,m)}function d(f,g,k,l,w,q,m){return c(g&l|k&~l,f,g,w,q,m)}function p(f,
g,k,l,w,q,m){return c(k^(g|~l),f,g,w,q,m)}const n={Base64:0,Hex:1,String:2,Raw:3};a.createMD5Hash=function(f,g=n.Hex){g=g||n.Base64;var k=[];for(let m=0,h=8*f.length;m<h;m+=8)k[m>>5]|=(f.charCodeAt(m/8)&255)<<m%32;f=8*f.length;k[f>>5]|=128<<f%32;k[(f+64>>>9<<4)+14]=f;f=1732584193;var l=-271733879;let w=-1732584194,q=271733878;for(let m=0;m<k.length;m+=16){const h=f,t=l,y=w,u=q;f=e(f,l,w,q,k[m],7,-680876936);q=e(q,f,l,w,k[m+1],12,-389564586);w=e(w,q,f,l,k[m+2],17,606105819);l=e(l,w,q,f,k[m+3],22,-1044525330);
f=e(f,l,w,q,k[m+4],7,-176418897);q=e(q,f,l,w,k[m+5],12,1200080426);w=e(w,q,f,l,k[m+6],17,-1473231341);l=e(l,w,q,f,k[m+7],22,-45705983);f=e(f,l,w,q,k[m+8],7,1770035416);q=e(q,f,l,w,k[m+9],12,-1958414417);w=e(w,q,f,l,k[m+10],17,-42063);l=e(l,w,q,f,k[m+11],22,-1990404162);f=e(f,l,w,q,k[m+12],7,1804603682);q=e(q,f,l,w,k[m+13],12,-40341101);w=e(w,q,f,l,k[m+14],17,-1502002290);l=e(l,w,q,f,k[m+15],22,1236535329);f=d(f,l,w,q,k[m+1],5,-165796510);q=d(q,f,l,w,k[m+6],9,-1069501632);w=d(w,q,f,l,k[m+11],14,643717713);
l=d(l,w,q,f,k[m],20,-373897302);f=d(f,l,w,q,k[m+5],5,-701558691);q=d(q,f,l,w,k[m+10],9,38016083);w=d(w,q,f,l,k[m+15],14,-660478335);l=d(l,w,q,f,k[m+4],20,-405537848);f=d(f,l,w,q,k[m+9],5,568446438);q=d(q,f,l,w,k[m+14],9,-1019803690);w=d(w,q,f,l,k[m+3],14,-187363961);l=d(l,w,q,f,k[m+8],20,1163531501);f=d(f,l,w,q,k[m+13],5,-1444681467);q=d(q,f,l,w,k[m+2],9,-51403784);w=d(w,q,f,l,k[m+7],14,1735328473);l=d(l,w,q,f,k[m+12],20,-1926607734);f=c(l^w^q,f,l,k[m+5],4,-378558);q=c(f^l^w,q,f,k[m+8],11,-2022574463);
w=c(q^f^l,w,q,k[m+11],16,1839030562);l=c(w^q^f,l,w,k[m+14],23,-35309556);f=c(l^w^q,f,l,k[m+1],4,-1530992060);q=c(f^l^w,q,f,k[m+4],11,1272893353);w=c(q^f^l,w,q,k[m+7],16,-155497632);l=c(w^q^f,l,w,k[m+10],23,-1094730640);f=c(l^w^q,f,l,k[m+13],4,681279174);q=c(f^l^w,q,f,k[m],11,-358537222);w=c(q^f^l,w,q,k[m+3],16,-722521979);l=c(w^q^f,l,w,k[m+6],23,76029189);f=c(l^w^q,f,l,k[m+9],4,-640364487);q=c(f^l^w,q,f,k[m+12],11,-421815835);w=c(q^f^l,w,q,k[m+15],16,530742520);l=c(w^q^f,l,w,k[m+2],23,-995338651);
f=p(f,l,w,q,k[m],6,-198630844);q=p(q,f,l,w,k[m+7],10,1126891415);w=p(w,q,f,l,k[m+14],15,-1416354905);l=p(l,w,q,f,k[m+5],21,-57434055);f=p(f,l,w,q,k[m+12],6,1700485571);q=p(q,f,l,w,k[m+3],10,-1894986606);w=p(w,q,f,l,k[m+10],15,-1051523);l=p(l,w,q,f,k[m+1],21,-2054922799);f=p(f,l,w,q,k[m+8],6,1873313359);q=p(q,f,l,w,k[m+15],10,-30611744);w=p(w,q,f,l,k[m+6],15,-1560198380);l=p(l,w,q,f,k[m+13],21,1309151649);f=p(f,l,w,q,k[m+4],6,-145523070);q=p(q,f,l,w,k[m+11],10,-1120210379);w=p(w,q,f,l,k[m+2],15,718787259);
l=p(l,w,q,f,k[m+9],21,-343485551);f=b(f,h);l=b(l,t);w=b(w,y);q=b(q,u)}k=[f,l,w,q];switch(g){case n.Raw:return k;case n.Hex:g=[];for(let m=0,h=4*k.length;m<h;m++)g.push("0123456789abcdef".charAt(k[m>>2]>>m%4*8+4&15)+"0123456789abcdef".charAt(k[m>>2]>>m%4*8&15));return g.join("");case n.String:g=[];for(let m=0,h=32*k.length;m<h;m+=8)g.push(String.fromCharCode(k[m>>5]>>>m%32&255));return g.join("");case n.Base64:g=[];for(let m=0,h=4*k.length;m<h;m+=3)for(f=(k[m>>2]>>m%4*8&255)<<16|(k[m+1>>2]>>(m+1)%
4*8&255)<<8|k[m+2>>2]>>(m+2)%4*8&255,l=0;4>l;l++)8*m+6*l>32*k.length?g.push("\x3d"):g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>6*(3-l)&63));return g.join("")}};a.outputTypes=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),
function(a,b,c,e,d,p,n,f,g){const k={type:[g],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:function(l,w,q){if(!l)return null;l=l.find(m=>!!m.field);if(!l)return null;w=new g;w.read(l,q);return[w]}},write:{writer:function(l,w,q,m){(l=l.find(h=>!!h.field))&&c.setDeepValue(q,[l.toJSON()],w)}}}};a.OrderedLayer=l=>{l=class extends l{constructor(){super(...arguments);this.orderBy=null}};b.__decorate([e.property(k)],l.prototype,"orderBy",void 0);return l=b.__decorate([f.subclass("esri.layers.mixins.OrderedLayer")],
l)};a.orderByProperty=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f){var g;b=new b.JSONMap({asc:"ascending",desc:"descending"});c=g=class extends c.JSONSupport{constructor(k){super(k);
this.valueExpression=this.field=null;this.order="ascending"}clone(){return new g({field:this.field,valueExpression:this.valueExpression,order:this.order})}};a.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([e.property({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,"valueExpression",void 0);a.__decorate([e.property({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],c.prototype,"order",void 0);
return c=g=a.__decorate([f.subclass("esri.layers.support.OrderByInfo")],c)})},"esri/layers/mixins/PublishableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),function(a,b,c,e,d,p,n,f){const g=Symbol();a.PublishableLayer=k=>{k=class extends k{constructor(){super(...arguments);this[l]=!0}get publishingInfo(){if(this.destroyed)return null;
var w=this._get("publishingInfo");if(w)return w;w=new f;this._checkPublishingStatus(w);return w}_checkPublishingStatus(w){let q=0;const m=async t=>{w.updating=!0;let y;try{y=await this.fetchPublishingStatus()}catch(u){y="unavailable"}if("published"===y||"unavailable"===y)"publishing"===w.status&&this.refresh(),h.remove();w.status=y;w.updating=!1;h.removed||(q=setTimeout(m,t,t+125))},h={removed:!1,remove(){this.removed=!0;clearTimeout(q)}};this.when().catch(()=>h.remove());m(250);this.addHandles(h)}};
var l=g;b.__decorate([c.property({readOnly:!0,clonable:!1})],k.prototype,"publishingInfo",null);return k=b.__decorate([n.subclass("esri.layers.mixins.PublishableLayer")],k)};a.isPublishableLayer=function(k){return null!=k&&"object"===typeof k&&g in k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PublishingInfo":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){b=class extends b{constructor(){super(...arguments);this.updating=!1;this.status="unknown"}};a.__decorate([c.property()],b.prototype,"updating",void 0);a.__decorate([c.property()],b.prototype,"status",void 0);return b=a.__decorate([n.subclass("esri.layers.support.PublishingInfo")],b)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/layerContainerType ../support/fieldUtils ../support/TimeInfo ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m){const h={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:l.excludeTables}}};a.TemporalLayer=t=>{t=class extends t{constructor(){super(...arguments);this.timeOffset=this.timeExtent=null;this.useViewTime=!0}readOffset(y,u){u=u.timeInfo.exportOptions;if(!u)return null;y=u.timeOffset;u=m.timeUnitKebabDictionary.fromJSON(u.timeOffsetUnits);return y&&u?new e({value:y,unit:u}):null}set timeInfo(y){w.fixTimeInfoFields(y,
this.fieldsIndex);this._set("timeInfo",y)}};b.__decorate([d.property({type:c,json:{write:!1}})],t.prototype,"timeExtent",void 0);b.__decorate([d.property({type:e})],t.prototype,"timeOffset",void 0);b.__decorate([g.reader("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null);b.__decorate([d.property({value:null,type:q,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null);b.__decorate([d.property(h)],
t.prototype,"useViewTime",void 0);return t=b.__decorate([k.subclass("esri.layers.mixins.TemporalLayer")],t)};a.useViewTimeProperty=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeInterval":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/enumeration ./core/accessorSupport/decorators/subclass ./portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){b=class extends b.ClonableMixin(c.JSONSupport){constructor(w){super(w);this.unit="milliseconds";this.value=0}toMilliseconds(){return e.convertTime(this.value,this.unit,"milliseconds")}};a.__decorate([g.enumeration(l.timeUnitKebabDictionary,{nonNullable:!0})],b.prototype,"unit",void 0);a.__decorate([d.property({type:Number,json:{write:!0},nonNullable:!0})],b.prototype,"value",void 0);return b=a.__decorate([k.subclass("esri.TimeInterval")],b)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports",
"../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});a.timeUnitKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../time/timeZoneUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q){e=class extends e.ClonableMixin(d.JSONSupport){constructor(m){super(m);this.cumulative=!1;this.fullTimeExtent=this.endField=null;this.hasLiveData=!1;this.trackIdField=this.timeZone=this.startField=this.interval=null;this.useTime=!0;this.stops=null}readFullTimeExtent(m,h){return h.timeExtent&&Array.isArray(h.timeExtent)&&2===h.timeExtent.length?b.fromArray(h.timeExtent):null}writeFullTimeExtent(m,h){h.timeExtent=null!=m?.start&&null!=m.end?m.toArray():null}readInterval(m,
h){return h.timeInterval&&h.timeIntervalUnits?c.fromJSON({value:h.timeInterval,unit:h.timeIntervalUnits}):h.defaultTimeInterval&&h.defaultTimeIntervalUnits?c.fromJSON({value:h.defaultTimeInterval,unit:h.defaultTimeIntervalUnits}):null}writeInterval(m,h){h.timeInterval=m?.toJSON().value??null;h.timeIntervalUnits=m?.toJSON().unit??null}};a.__decorate([p.property({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],e.prototype,"cumulative",void 0);a.__decorate([p.property({type:String,
json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],e.prototype,"endField",void 0);a.__decorate([p.property({type:b,json:{write:{enabled:!0,allowNull:!0}}})],e.prototype,"fullTimeExtent",void 0);a.__decorate([k.reader("fullTimeExtent",["timeExtent"])],e.prototype,"readFullTimeExtent",null);a.__decorate([w.writer("fullTimeExtent")],e.prototype,"writeFullTimeExtent",null);a.__decorate([p.property({type:Boolean,json:{write:!0}})],e.prototype,"hasLiveData",void 0);a.__decorate([p.property({type:c,
json:{write:{enabled:!0,allowNull:!0}}})],e.prototype,"interval",void 0);a.__decorate([k.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],e.prototype,"readInterval",null);a.__decorate([w.writer("interval")],e.prototype,"writeInterval",null);a.__decorate([p.property({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],e.prototype,"startField",void 0);a.__decorate([p.property(q.timeZoneProperty("timeReference",!0))],e.prototype,
"timeZone",void 0);a.__decorate([p.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],e.prototype,"trackIdField",void 0);a.__decorate([p.property({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],e.prototype,"useTime",void 0);a.__decorate([p.property({type:[Date],json:{read:!1}})],e.prototype,"stops",void 0);return e=a.__decorate([l.subclass("esri.layers.support.TimeInfo")],e)})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g){c=new c.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",
esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});b=class extends b.ClonableMixin(e.JSONSupport){constructor(k){super(k);this.thumbnail=this.prototype=this.drawingTool=this.description=this.name=null}};a.__decorate([d.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({json:{read:c.read,write:c.write}})],b.prototype,
"drawingTool",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"prototype",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"thumbnail",void 0);return b=a.__decorate([g.subclass("esri.layers.support.FeatureTemplate")],b)})},"esri/layers/support/FeatureType":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w){b=class extends b.ClonableMixin(c.JSONSupport){constructor(q){super(q);this.templates=this.domains=this.name=this.id=null}readDomains(q){const m={};for(const h of Object.keys(q))m[h]=l.fromJSON(q[h]);return m}writeDomains(q,m){const h={};for(const t of Object.keys(q))q[t]&&(h[t]=q[t]?.toJSON());m.domains=h}};a.__decorate([e.property({json:{write:!0}})],b.prototype,"id",void 0);a.__decorate([e.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([e.property({json:{write:!0}})],
b.prototype,"domains",void 0);a.__decorate([f.reader("domains")],b.prototype,"readDomains",null);a.__decorate([k.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([e.property({type:[w],json:{write:!0}})],b.prototype,"templates",void 0);return b=a.__decorate([g.subclass("esri.layers.support.FeatureType")],b)})},"esri/layers/support/fieldProperties":function(){define("exports ../../core/has ../../core/Logger ./Field ./FieldsIndex ./fieldUtils".split(" "),function(a,b,c,e,d,p){a.defineFieldProperties=
function(){return{fields:{type:[e],value:null,set:function(n){if(n&&b("big-integer-warning-enabled")){var f=n.filter(g=>"big-integer"===g.type||"oid"===g.type&&8<=(g.length||0));f.length&&(f=f.map(g=>`'${g.name}'`).join(", "),c.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${f}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`))}this._set("fields",
n)}},fieldsIndex:{readOnly:!0,get(){return d.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(n){this._userOutFields=n;this.notifyChange("outFields")},get:function(){const n=this._userOutFields;if(!n?.length)return null;if(n.includes("*"))return["*"];if(!this.fields)return n;for(const f of n)this.fieldsIndex?.has(f)||c.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${f} found in outFields`,{layer:this,outFields:n});
return p.fixFields(this.fieldsIndex,n)}}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/labelingInfo":function(){define(["exports","../../core/Error","../../core/Logger","./LabelClass"],function(a,b,c,e){const d=()=>c.getLogger("esri.layers.support.labelingInfo"),p=/\[([^[\]]+)\]/gi,n={esriGeometryPoint:"above-right above-center above-left center-center center-left center-right below-center below-left below-right".split(" "),esriGeometryPolygon:["always-horizontal"],
esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};a.reader=function(f,g,k){return f?f.map(l=>{const w=new e;w.read(l,k);if(w.labelExpression){const q=g.fields||g.layerDefinition?.fields||this.fields;w.labelExpression=w.labelExpression.replaceAll(p,(m,h)=>{a:if(q){m=h.toLowerCase();for(let t=0;t<q.length;t++){const y=q[t].name;if(y.toLowerCase()===m){h=y;break a}}}return`[${h}]`})}return w}):null};a.validateLabelingInfo=function(f,
g){const k=[];for(const w of f){f=w.labelPlacement;var l=n[g];if(!w.symbol)return d().warn("No ILabelClass symbol specified."),[];if(!l)return d().error(new b("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${g}' is not supported`)),[];l.includes(f)?k.push(w):(l=l[0],f&&d().warn(`Found invalid label placement type ${f} for ${g}. Defaulting to ${l}`),f=w.clone(),f.labelPlacement=l,k.push(f))}return k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/versionUtils":function(){define(["exports","./arcgisLayerUrl"],function(a,b){const c=[];c.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(var d=9712;9713>=d;d++)e.add(d);for(d=9748;9749>=d;d++)e.add(d);for(d=20904;20932>=d;d++)e.add(d);for(d=21004;21032>=d;d++)e.add(d);for(d=21207;21264>=d;d++)e.add(d);for(d=21307;21364>=d;d++)e.add(d);for(d=23301;23333>=d;d++)e.add(d);for(d=102759;102760>=d;d++)e.add(d);for(d=102934;102955>=d;d++)e.add(d);return e}]);c.push([10.9,
()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(var d=9356;9360>=d;d++)e.add(d);for(d=9404;9407>=d;d++)e.add(d);for(d=9476;9482>=d;d++)e.add(d);for(d=9487;9494>=d;d++)e.add(d);for(d=9697;9699>=d;d++)e.add(d);return e}]);c.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(var d=9248;9254>=d;d++)e.add(d);for(d=9271;9273>=d;d++)e.add(d);for(d=9284;9285>=d;d++)e.add(d);for(d=21453;21463>=d;d++)e.add(d);return e}]);c.push([10.8,
()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(var d=8035;8036>=d;d++)e.add(d);for(d=8455;8456>=d;d++)e.add(d);for(d=8518;8529>=d;d++)e.add(d);for(d=8533;8536>=d;d++)e.add(d);for(d=8538;8540>=d;d++)e.add(d);for(d=8677;8679>=d;d++)e.add(d);for(d=8902;8903>=d;d++)e.add(d);for(d=8907;8910>=d;d++)e.add(d);for(d=8949;8951>=d;d++)e.add(d);for(d=8972;8987>=d;d++)e.add(d);for(d=9039;9040>=d;d++)e.add(d);for(d=9068;9069>=d;d++)e.add(d);for(d=9140;9141>=
d;d++)e.add(d);for(d=9148;9150>=d;d++)e.add(d);for(d=9153;9159>=d;d++)e.add(d);for(d=9205;9218>=d;d++)e.add(d);for(d=9221;9222>=d;d++)e.add(d);for(d=54098;54101>=d;d++)e.add(d);return e}]);c.push([10.71,()=>{const e=new Set([6316]);for(var d=8351;8353>=d;d++)e.add(d);for(d=9294;9297>=d;d++)e.add(d);for(d=22619;22621>=d;d++)e.add(d);for(d=103586;103594>=d;d++)e.add(d);return e}]);a.serviceSupportsSpatialReference=function(e,d){if(b.isHostedAgolService(e.url??""))return!0;({wkid:d}=d);for(const p of c){if((e.version??
0)>=p[0])break;"function"===typeof p[1]&&(p[1]=p[1]());if(p[1].has(d))return!1}return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/TopFeaturesQuery":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/support/jsonUtils ./TopFilter ../../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q){var m;const h=new e.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});e=new e.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});d=m=class extends d.JSONSupport{constructor(t){super(t);this.distance=this.cacheHint=void 0;this.geometry=null;this.num=this.maxAllowableOffset=this.geometryPrecision=void 0;this.resultType=this.outSpatialReference=this.outFields=this.orderByFields=this.objectIds=null;this.returnGeometry=!1;this.start=this.returnZ=this.returnM=void 0;this.spatialRelationship=
"intersects";this.timeExtent=null;this.topFilter=void 0;this.units=null;this.where="1\x3d1"}writeStart(t,y){y.resultOffset=this.start;y.resultRecordCount=this.num||10}clone(){return new m(p.clone({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,
returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};a.__decorate([n.property({type:Boolean,json:{write:!0}})],d.prototype,"cacheHint",void 0);a.__decorate([n.property({type:Number,json:{write:{overridePolicy(t){return{enabled:0<t}}}}})],d.prototype,"distance",void 0);a.__decorate([n.property({types:b.geometryTypes,json:{read:l.fromJSON,
write:!0}})],d.prototype,"geometry",void 0);a.__decorate([n.property({type:Number,json:{write:!0}})],d.prototype,"geometryPrecision",void 0);a.__decorate([n.property({type:Number,json:{write:!0}})],d.prototype,"maxAllowableOffset",void 0);a.__decorate([n.property({type:Number,json:{read:{source:"resultRecordCount"}}})],d.prototype,"num",void 0);a.__decorate([n.property({json:{write:!0}})],d.prototype,"objectIds",void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],d.prototype,"orderByFields",
void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],d.prototype,"outFields",void 0);a.__decorate([n.property({type:q,json:{read:{source:"outSR"},write:{target:"outSR"}}})],d.prototype,"outSpatialReference",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],d.prototype,"resultType",void 0);a.__decorate([n.property({json:{write:!0}})],d.prototype,"returnGeometry",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(t){return{enabled:t}}}}})],d.prototype,
"returnM",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(t){return{enabled:t}}}}})],d.prototype,"returnZ",void 0);a.__decorate([n.property({type:Number,json:{read:{source:"resultOffset"}}})],d.prototype,"start",void 0);a.__decorate([k.writer("start"),k.writer("num")],d.prototype,"writeStart",null);a.__decorate([n.property({type:String,json:{read:{source:"spatialRel",reader:h.read},write:{target:"spatialRel",writer:h.write}}})],d.prototype,"spatialRelationship",void 0);
a.__decorate([n.property({type:c,json:{write:!0}})],d.prototype,"timeExtent",void 0);a.__decorate([n.property({type:w,json:{write:!0}})],d.prototype,"topFilter",void 0);a.__decorate([n.property({type:String,json:{read:e.read,write:{writer:e.write,overridePolicy(t){return{enabled:null!=t&&null!=this.distance&&0<this.distance}}}}})],d.prototype,"units",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],d.prototype,"where",void 0);d=m=a.__decorate([g.subclass("esri.rest.support.TopFeaturesQuery")],
d);d.from=f.ensureType(d);return d})},"esri/rest/support/TopFilter":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n){var f;b=f=class extends b.JSONSupport{constructor(g){super(g);this.orderByFields=this.topCount=this.groupByFields=void 0}clone(){return new f({groupByFields:this.groupByFields,topCount:this.topCount,
orderByFields:this.orderByFields})}};a.__decorate([c.property({type:[String],json:{write:!0}})],b.prototype,"groupByFields",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"topCount",void 0);a.__decorate([c.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=f=a.__decorate([n.subclass("esri.rest.support.TopFilter")],b)})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/RelationshipContent ../popup/content/TextContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q){function m(x,B){const A=x;B&&(x=x.filter(C=>!B.includes(C.type)));x===A&&(x=x.slice());x.sort(h);return x}function h(x,B){return"oid"===x.type?-1:"oid"===B.type?1:z(x)?-1:z(B)?1:(x.alias||x.name).toLocaleLowerCase().localeCompare((B.alias||B.name).toLocaleLowerCase())}function t(x,B){const A=B?.visibleFieldNames;return m(x.fields??[],B?.ignoreFieldTypes||v).map(C=>{var H=C.name,N=c.isFieldEditable(C,x),I=C.alias,E=r(C),G={...x,visibleFieldNames:A};C=G.visibleFieldNames?
G.visibleFieldNames.has(C.name):c.isFieldVisibleByDefault(C,G);return new w({fieldName:H,isEditable:N,label:I,format:E,visible:C})})}function y(x,B){return x.map(A=>new w({fieldName:A.name,isEditable:!1,label:A.alias,format:u(A,B),visible:!0}))}function u(x,B){const {onStatisticField:A,onStatisticExpression:C,statisticType:H}=x;if(A&&(x=B.find(N=>A===N.name)))return r(x);if("number"===C?.returnType)return new q({digitSeparator:!0,places:2});if("count"===H)return new q({digitSeparator:!0,places:0})}
function r(x){switch(x.type){case "small-integer":case "integer":case "single":return new q({digitSeparator:!0,places:0});case "double":return new q({digitSeparator:!0,places:2});case "string":if(c.isRasterPixelValueField(x.name))return new q({digitSeparator:!0,places:0})}}function z(x){return"name"===(x.name&&x.name.toLowerCase())||"name"===x.alias?.toLowerCase()?!0:!1}const v=["geometry","blob","raster","guid","xml"];a.createFieldInfos=t;a.createFieldsContent=function(x,B){return new f({fieldInfos:t(x,
B).filter(A=>A.visible)})};a.createPopupTemplate=function({displayField:x,editFieldsInfo:B,fields:A,objectIdField:C,title:H},N){if(!A)return null;B=t({editFieldsInfo:B,fields:A,objectIdField:C},N);if(!B.length)return null;A={titleBase:H,fields:A,displayField:x};x=c.getDisplayFieldName(A);({titleBase:A}=A);x=x?`${A}: {${x.trim()}}`:A??"";A=[new f,new e];return new b({title:x,content:A,fieldInfos:B})};a.createPopupTemplateForFeatureReduction=function(x){const {fields:B,featureReduction:A,title:C}=x;
x=A.fields;if(!x)return null;x=y(x,B??[]);if(!x.length)return null;var H=[new f];return new b({title:C,content:H,fieldInfos:x})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/interfaces":function(){define(["exports"],function(a){a.SaveOperationType=void 0;var b=a.SaveOperationType||(a.SaveOperationType={});b[b.SAVE=0]="SAVE";b[b.SAVE_AS=1]="SAVE_AS";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("require ../../../chunks/tslib.es6 ../../../config ../../../geometry ../../../request ../../../TimeExtent ../../../core/arrayUtils ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/Logger ../../../core/object ../../../core/promiseUtils ../../../core/reactiveUtils ../../../core/urlUtils ../../../core/uuid ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/support/MeshGeoreferencedVertexSpace ../../../geometry/support/meshVertexSpaceUtils ../../../geometry/support/meshUtils/External ../applyEditsUtils ./support/clientSideDefaults ./support/QueryTask ../../support/arcgisLayerUrl ../../support/featureLayerUtils ../../support/infoFor3D ../../../rest/query/executeQueryJSON ../../../rest/query/operations/editsZScale ../../../rest/support/Query ../../../versionManagement/support/versionManagementUtils ../../../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A,C,H,N,I,E,G,L,R,F,J){const O=new k.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),U=new k.JSONMap({Started:"published",Publishing:"publishing",Stopped:"unavailable"});e=class extends l{constructor(T){super(T);this.type="feature-layer";this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]);this.refresh=m.debounce(async()=>{await this.load();var Z=this.sourceJSON.editingInfo?.lastEditDate;
if(null==Z)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}Z=Z!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:Z,updates:Z?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}});this._ongoingAssetUploads=new Map}load(T){const Z=this._fetchService(this.layer.sourceJSON,{...T}).then(()=>this.layer.setUserPrivileges(this.sourceJSON.serviceItemId,T)).then(()=>this._ensureLatestMetadata(T));this.addResolvingPromise(Z);
return Promise.resolve(this)}initialize(){this.addHandles([h.watch(()=>{const T=this.layer;return T&&"lastEditsEventDate"in T?T.lastEditsEventDate:null},T=>this._handleLastEditsEventChange(T))])}destroy(){this._removeEditInterceptor()}get queryTask(){const {capabilities:T,parsedUrl:Z,gdbVersion:V,spatialReference:qa,fieldsIndex:Ca}=this.layer,va="infoFor3D"in this.layer?this.layer.infoFor3D:null,ra="dynamicDataSource"in this.layer?this.layer.dynamicDataSource:null,Aa=g("featurelayer-pbf")&&T?.query.supportsFormatPBF&&
null==va;return new H({url:Z.path,pbfSupported:Aa,fieldsIndex:Ca,infoFor3D:va,dynamicDataSource:ra,gdbVersion:V,sourceSpatialReference:qa,queryAttachmentsSupported:T?.operations?.supportsQueryAttachments??!1})}async addAttachment(T,Z){await this.load();var {layer:V}=this;await I.ensureLayerCredential(V,"editing");T=T.attributes[V.objectIdField];V=V.parsedUrl.path+"/"+T+"/addAttachment";const qa=this._getLayerRequestOptions();Z=this._getFormDataForAttachment(Z,qa.query);try{const Ca=await d(V,{body:Z});
return A.createFeatureEditResult(Ca.data.addAttachmentResult)}catch(Ca){throw this._createAttachmentErrorResult(T,Ca);}}async updateAttachment(T,Z,V){await this.load();var {layer:qa}=this;await I.ensureLayerCredential(qa,"editing");T=T.attributes[qa.objectIdField];qa=qa.parsedUrl.path+"/"+T+"/updateAttachment";Z=this._getLayerRequestOptions({query:{attachmentId:Z}});V=this._getFormDataForAttachment(V,Z.query);try{const Ca=await d(qa,{body:V});return A.createFeatureEditResult(Ca.data.updateAttachmentResult)}catch(Ca){throw this._createAttachmentErrorResult(T,
Ca);}}async applyEdits(T,Z){await this.load();const {layer:V}=this;await I.ensureLayerCredential(V,"editing");const qa="infoFor3D"in V?V.infoFor3D:null;var Ca=null!=qa,va=Ca||(Z?.globalIdUsed??!1);const ra=Ca?await this._uploadMeshesAndGetAssetMapEditsJSON(T):null;var Aa=T.addFeatures?.map(Q=>A.getFeatureJSON(this.layer,Q,qa))??[];Aa=(await Promise.all(Aa)).filter(n.isSome);var ea=T.updateFeatures?.map(Q=>A.getFeatureJSON(this.layer,Q,qa))??[];ea=(await Promise.all(ea)).filter(n.isSome);const ca=
A.getFeatureIds(this.layer,T.deleteFeatures,va);L.unapplyEditsZUnitScaling(Aa,ea,V.spatialReference);T=await A.getAttachmentEditsJSON(this.layer,T);Ca=V.capabilities.editing.supportsAsyncApplyEdits&&Ca;const Y=Z?.gdbVersion||V.gdbVersion,ha={gdbVersion:Y,rollbackOnFailure:Z?.rollbackOnFailureEnabled,useGlobalIds:va,returnEditMoment:Z?.returnEditMoment,usePreviousEditMoment:Z?.usePreviousEditMoment,async:Ca};await F.isSafeToEditVersion(this.layer.url,Y,!0);const ua=F.isVersionInEditSession(this.layer.url,
Y||null);if(await F.isHistoricVersion(V.url,Y,V.historicMoment))throw new f("feature-layer-source:historic-version","Editing a historic version is not allowed");Z?.returnServiceEditsOption?(ha.edits=JSON.stringify([{id:V.layerId,adds:Aa.length?Aa:null,updates:ea.length?ea:null,deletes:ca.length?ca:null,attachments:T,assetMaps:ra}]),ha.returnServiceEditsOption=O.toJSON(Z?.returnServiceEditsOption),ha.returnServiceEditsInSourceSR=Z?.returnServiceEditsInSourceSR):(ha.adds=Aa.length?JSON.stringify(Aa):
null,ha.updates=ea.length?JSON.stringify(ea):null,ha.deletes=ca.length?va?JSON.stringify(ca):ca.join(","):null,ha.attachments=T&&JSON.stringify(T),ha.assetMaps=null!=ra?JSON.stringify(ra):void 0);va=this._getLayerRequestOptions({method:"post",query:ha});ua&&(va.authMode="immediate",va.query.returnEditMoment=!0,va.query.sessionId=F.currentSessionId);Z=Z?.returnServiceEditsOption?V.url:V.parsedUrl.path;let K;try{K=Ca?await this._asyncApplyEdits(Z+"/applyEdits",va):await d(Z+"/applyEdits",va)}catch(Q){if(A.isProtectedOrPrivateVersionError(Q))va.authMode=
"immediate",K=Ca?await this._asyncApplyEdits(Z+"/applyEdits",va):await d(Z+"/applyEdits",va);else throw Q;}return this._createEditsResult(K)}async deleteAttachments(T,Z){await this.load();var {layer:V}=this;await I.ensureLayerCredential(V,"editing");T=T.attributes[V.objectIdField];V=V.parsedUrl.path+"/"+T+"/deleteAttachments";try{return(await d(V,this._getLayerRequestOptions({query:{attachmentIds:Z.join(",")},method:"post"}))).data.deleteAttachmentResults.map(A.createFeatureEditResult)}catch(qa){throw this._createAttachmentErrorResult(T,
qa);}}fetchRecomputedExtents(T={}){return this.load({signal:T.signal}).then(async()=>{var Z=this._getLayerRequestOptions({...T,query:{returnUpdates:!0}});const {layerId:V,url:qa}=this.layer;({data:Z}=await d(`${qa}/${V}`,Z));const {id:Ca,extent:va,fullExtent:ra,timeExtent:Aa}=Z;Z=va||ra;return{id:Ca,fullExtent:Z&&z.fromJSON(Z),timeExtent:Aa&&p.fromJSON({start:Aa[0],end:Aa[1]})}})}async queryAttachments(T,Z={}){await this.load();Z=this._getLayerRequestOptions(Z);return this.queryTask.executeAttachmentQuery(T,
Z)}async queryFeatures(T,Z){await this.load();Z=await this.queryTask.execute(T,{...Z,query:this._createRequestQueryOptions(Z)});T.outStatistics?.length&&Z.features.length&&Z.features.forEach(V=>{const qa=V.attributes;T.outStatistics?.forEach(({outStatisticFieldName:Ca})=>{if(Ca){const va=Ca.toLowerCase();va&&va in qa&&Ca!==va&&(qa[Ca]=qa[va],delete qa[va])}})});return Z}async queryFeaturesJSON(T,Z){await this.load();return this.queryTask.executeJSON(T,{...Z,query:this._createRequestQueryOptions(Z)})}async queryObjectIds(T,
Z){await this.load();return this.queryTask.executeForIds(T,{...Z,query:this._createRequestQueryOptions(Z)})}async queryFeatureCount(T,Z){await this.load();return this.queryTask.executeForCount(T,{...Z,query:this._createRequestQueryOptions(Z)})}async queryExtent(T,Z){await this.load();return this.queryTask.executeForExtent(T,{...Z,query:this._createRequestQueryOptions(Z)})}async queryRelatedFeatures(T,Z){await this.load();return this.queryTask.executeRelationshipQuery(T,{...Z,query:this._createRequestQueryOptions(Z)})}async queryRelatedFeaturesCount(T,
Z){await this.load();return this.queryTask.executeRelationshipQueryForCount(T,{...Z,query:this._createRequestQueryOptions(Z)})}async queryTopFeatures(T,Z){await this.load();return this.queryTask.executeTopFeaturesQuery(T,{...Z,query:this._createRequestQueryOptions(Z)})}async queryTopObjectIds(T,Z){await this.load();return this.queryTask.executeForTopIds(T,{...Z,query:this._createRequestQueryOptions(Z)})}async queryTopExtents(T,Z){await this.load();return this.queryTask.executeForTopExtents(T,{...Z,
query:this._createRequestQueryOptions(Z)})}async queryTopCount(T,Z){await this.load();return this.queryTask.executeForTopCount(T,{...Z,query:this._createRequestQueryOptions(Z)})}async fetchPublishingStatus(){if(!N.isHostedAgolService(this.layer.url))return"unavailable";var T=t.join(this.layer.url,"status");T=await d(T,{query:{f:"json"}});return U.fromJSON(T.data.status)}async uploadAssets(T,Z){const {uploadAssets:V}=await new Promise((qa,Ca)=>a(["./support/uploadAssets"],qa,Ca));return V(T,{layer:this.layer,
ongoingUploads:this._ongoingAssetUploads},Z)}_handleLastEditsEventChange(T){const Z=this.layer;if(null!=T&&"capabilities"in Z&&"effectiveCapabilities"in Z&&!Z.capabilities?.operations?.supportsEditing&&Z.effectiveCapabilities?.operations?.supportsEditing){var V=Z.url;null!=V&&("layerId"in Z&&t.join(V,Z.layerId.toString()),this._getOrCreateEditInterceptor(V).before=qa=>{var Ca=qa.requestOptions.method??"auto";if("auto"===Ca||"head"===Ca)Ca=qa.requestOptions.query??{},Ca._ts=T.getTime(),qa.requestOptions.query=
Ca})}}_getOrCreateEditInterceptor(T){null==this._editInterceptor&&(this._editInterceptor={urls:T},c.request.internalInterceptors.push(this._editInterceptor));return this._editInterceptor}_removeEditInterceptor(){null!=this._editInterceptor&&(n.remove(c.request.internalInterceptors,this._editInterceptor),this._editInterceptor=null)}async _asyncApplyEdits(T,Z){for(T=(await d(T,Z)).data.statusUrl;;){Z=(await d(T,{query:{f:"json"},responseType:"json"})).data;switch(Z.status){case "Completed":return d(Z.resultUrl,
{query:{f:"json"},responseType:"json"});case "CompletedWithErrors":throw new f("async-applyEdits-failed","asynchronous applyEdits call failed.");case "Failed ImportChanges":case "InProgress":case "Pending":case "ExportAttachments":case "ExportChanges":case "ExportingData":case "ExportingSnapshot":case "ImportAttachments":case "ProvisioningReplica":case "UnRegisteringReplica":break;default:throw new f("async-applyEdits-failed","asynchronous applyEdits call failed (undefined response status)");}await m.after(1E3)}}_createRequestQueryOptions(T){T=
{...this.layer.customParameters,token:this.layer.apiKey,...T?.query};this.layer.datesInUnknownTimezone&&(T.timeReferenceUnknownClient=!0);return T}async _fetchService(T,Z){T||(T={},g("featurelayer-advanced-symbols")&&(T.returnAdvancedSymbols=!0),Z?.cacheBust&&(T._ts=Date.now()),{data:T}=await d(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:T,signal:Z?.signal})));this.sourceJSON=await this._patchServiceJSON(T,Z?.signal);Z=T.type;if(!this.supportedSourceTypes.has(Z))throw new f("feature-layer-source:unsupported-type",
`Source type "${Z}" is not supported`);}async _patchServiceJSON(T,Z){if("Table"!==T.type&&T.geometryType&&!T?.drawingInfo?.renderer&&!T.defaultSymbol){const V=C.createDrawingInfo(T.geometryType).renderer;q.setDeepValue("drawingInfo.renderer",V,T)}"esriGeometryMultiPatch"===T.geometryType&&T.infoFor3D&&(T.geometryType="mesh");if(null==T.extent)try{const {data:V}=await d(this.layer.url,this._getLayerRequestOptions({signal:Z}));V.spatialReference&&(T.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:V.spatialReference})}catch(V){m.throwIfAbortError(V)}return T}async _ensureLatestMetadata(T){if(this.layer.userHasUpdateItemPrivileges&&
0<this.sourceJSON.cacheMaxAge)return this._fetchService(null,{...T,cacheBust:!0})}async _uploadMeshesAndGetAssetMapEditsJSON(T){const {addAssetFeatures:Z}=T;if(!Z?.length||await this._areAllAssetsAlreadyMapped(Z))return null;var V=T.addFeatures.filter(Ca=>Ca.geometry);if(Z.length!==V.length+T.updateFeatures.length)throw new f("feature-layer-source:unsupported-mesh-edits","Mixing attribute only edits with mesh geometry edits is not currently supported");T=[];V=new Map;for(const Ca of Z){const {geometry:va}=
Ca;var {vertexSpace:qa}=va;if(x.isRelativeVertexSpace(qa))T.push(va);else{qa=va.anchor;const {convertMeshVertexSpace:ra}=await new Promise((Aa,ea)=>a(["../../../geometry/support/meshUtils/convertMeshVertexSpace"],Aa,ea));qa=await ra(va,new v({origin:[qa.x,qa.y,qa.z??0]}));V.set(qa,va);Ca.geometry=qa;T.push(qa)}}await this.uploadAssets(T);for(const [Ca,va]of V)va.addExternalSources(Ca.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(Z),updates:[],deletes:[]}}_getAssetMapEditsJSON(T){const Z=
[],V=this.layer.globalIdField,qa=this.layer.parsedUrl;for(const va of T){({metadata:T}=va.geometry);var Ca=T.getExternalSourcesOnService(qa);T=va.getAttribute(V);if(0===Ca.length)w.getLogger(this).error(`Skipping feature ${T}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);else{({source:Ca}=Ca.find(B.isOriginalExternal)??Ca[0]);for(const ra of Ca)1!==ra.parts.length?w.getLogger(this).error(`Skipping asset ${ra.assetName}. It does not have exactly one part, so we cannot map it to a feature.`):
Z.push({globalId:y.generateBracedUUID(),parentGlobalId:T,assetName:ra.assetName,assetHash:ra.parts[0].partHash,flags:[]})}}return Z}_createEditsResult(T){var Z=T.data;const {layerId:V}=this.layer;T=[];let qa=null;if(Array.isArray(Z))for(var Ca of Z)T.push({id:Ca.id,editedFeatures:Ca.editedFeatures}),Ca.id===V&&(qa={addResults:Ca.addResults??[],updateResults:Ca.updateResults??[],deleteResults:Ca.deleteResults??[],attachments:Ca.attachments,editMoment:Ca.editMoment});else qa=Z;Ca=A.unpackEditResultData(qa);
if(0<T.length){Ca.editedFeatureResults=[];for(const va of T)({editedFeatures:T}=va),Z=T?.spatialReference?new J(T.spatialReference):null,Ca.editedFeatureResults.push({layerId:va.id,editedFeatures:A.createEditedFeatures(T,Z)})}return Ca}_createAttachmentErrorResult(T,Z){return{objectId:T,globalId:null,error:new f("feature-layer-source:attachment-failure",Z.details.messages?.[0]||Z.message,{code:Z.details.httpStatus||Z.details.messageCode})}}_getFormDataForAttachment(T,Z){if(T=T instanceof FormData?
T:T&&T.elements?new FormData(T):null)for(const V in Z){const qa=Z[V];null!=qa&&(T.set?T.set(V,qa):T.append(V,qa))}return T}_getLayerRequestOptions(T={}){const {layer:Z,layer:{parsedUrl:V,gdbVersion:qa}}=this;return{...T,query:{gdbVersion:qa,layer:"dynamicDataSource"in Z&&Z.dynamicDataSource?JSON.stringify({source:Z.dynamicDataSource}):void 0,...V.query,f:"json",...this._createRequestQueryOptions(T)},responseType:"json"}}async _areAllAssetsAlreadyMapped(T){var {layer:Z}=this;const {globalIdField:V,
parsedUrl:qa}=Z,Ca="infoFor3D"in Z?Z.infoFor3D:null;if(null==Ca||null==V)return!1;Z=E.getAssetMapTable(Ca);if(null==Z)return!1;const va=t.join(qa.path,`../${Z.id}`);Z=[];for(const ca of T)if(0<ca.geometry.metadata.getExternalSourcesOnService(qa).length)Z.push(ca);else return!1;T=Z.map(ca=>ca.getAttribute(V)).filter(n.isSome);if(0===T.length)return!1;const {assetMapFieldRoles:{parentGlobalId:ra,assetHash:Aa}}=Ca;T=new R({where:`${ra} IN (${T.map(ca=>`'${ca}'`)})`,outFields:[Aa,ra],returnGeometry:!1});
T=await G.executeQueryJSON(va,T);const {features:ea}=T;return 0===ea.length?!1:!Z.some(ca=>{const Y=ca.getAttribute(V);if(!Y)return!0;({metadata:ca}=ca.geometry);const ha=ea.filter(K=>K.getAttribute(ra)===Y);if(0===ha.length)return!0;const ua=ha.map(K=>K.getAttribute(Aa));return ca.getExternalSourcesOnService(qa).flatMap(({source:K})=>K.flatMap(Q=>Q.parts.map(ia=>ia.partHash))).some(K=>ua.every(Q=>K!==Q))})}};b.__decorate([u.property()],e.prototype,"type",void 0);b.__decorate([u.property({constructOnly:!0})],
e.prototype,"layer",void 0);b.__decorate([u.property({constructOnly:!0})],e.prototype,"supportedSourceTypes",void 0);b.__decorate([u.property({readOnly:!0})],e.prototype,"queryTask",null);return e=b.__decorate([r.subclass("esri.layers.graphics.sources.FeatureLayerSource")],e)})},"esri/geometry/support/MeshGeoreferencedVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g){b=class extends b.ClonableMixin(c.JSONSupport){constructor(k){super(k);this.type="georeferenced";this.origin=null}};a.__decorate([f.enumeration({georeferenced:"georeferenced"},{readOnly:!0})],b.prototype,"type",void 0);a.__decorate([e.property({type:[Number],nonNullable:!1,json:{write:!0}})],b.prototype,"origin",void 0);return b=a.__decorate([g.subclass("esri.geometry.support.MeshGeoreferencedVertexSpace")],b)})},"esri/geometry/support/meshVertexSpaceUtils":function(){define("exports ../../core/deprecate ../../core/Logger ../../chunks/vec32 ../Point ./MeshGeoreferencedVertexSpace ./MeshLocalVertexSpace".split(" "),
function(a,b,c,e,d,p,n){function f(g){return null!=g.origin}a.isAbsoluteVertexSpace=function(g){return!f(g)};a.isMeshWithRelativeVertexSpace=function(g){return f(g.vertexSpace)};a.isRelativeVertexSpace=f;a.selectVertexSpace=function(g,k){const {x:l,y:w,z:q,spatialReference:m}=g;g=[l,w,q??0];void 0!==k?.geographic&&(b.deprecated(c.getLogger("esri.geometry.Mesh"),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),k.vertexSpace&&c.getLogger("esri.geometry.Mesh").warn("Deprecated geographic flag ignored since vertexSpace option is provided."));
var h;null!=(h=k?.vertexSpace)?k=h:(k=k?.geographic,k=null==k?void 0:k?"local":"georeferenced");return"local"===(k??(m.isGeographic||m.isWebMercator?"local":"georeferenced"))?new n({origin:g}):new p({origin:g})};a.vertexSpaceEquals=function(g,k){return g.type===k.type&&(g.origin===k.origin||null!=g.origin&&null!=k.origin&&e.exactEquals(g.origin,k.origin))};a.vertexSpaceOriginToPoint=function(g,k){if(!f(g))return null;const [l,w,q]=g.origin;return new d({x:l,y:w,z:q,spatialReference:k})};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshLocalVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64".split(" "),function(a,b,c,e,d,p,n,f,g,k){b=class extends b.ClonableMixin(c.JSONSupport){constructor(l){super(l);
this.type="local";this.origin=k.create()}};a.__decorate([f.enumeration({local:"local"},{readOnly:!0})],b.prototype,"type",void 0);a.__decorate([e.property({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"origin",void 0);return b=a.__decorate([g.subclass("esri.geometry.support.MeshLocalVertexSpace")],b)})},"esri/geometry/support/meshUtils/External":function(){define(["exports","../../../request","../../../core/arrayUtils","../../../core/promiseUtils","../../../layers/support/infoFor3D"],
function(a,b,c,e,d){function p(h){return Array.isArray(h)?h.every(t=>t instanceof l):!1}function n(h){return h?Array.isArray(h)?h.some(f):f(h):!1}function f(h){if(h instanceof File){const {type:t,name:y}=h;return q.test(t)||m.test(y)}return q.test(h.assetMimeType)||m.test(h.assetName)}function g(h,t){return Array.isArray(h)?0<h.length&&h.every(y=>k(y,t)):k(h,t)}function k(h,t){return h instanceof l&&h.isOnService(t)}class l{constructor(h,t,y){this.assetName=h;this.assetMimeType=t;this.parts=y}equals(h){return this===
h||this.assetName===h.assetName&&this.assetMimeType===h.assetMimeType&&c.equals(this.parts,h.parts,(t,y)=>t.equals(y))}isOnService(h){return this.parts.every(t=>t.isOnService(h))}makeHash(){let h="";for(const t of this.parts)h+=t.partHash;return h}async toBlob(h){var {parts:t}=this;if(1===t.length)return t[0].toBlob(h);t=await Promise.all(t.map(y=>y.toBlob(h)));e.throwIfAborted(h);return new Blob(t)}}class w{constructor(h,t){this.partUrl=h;this.partHash=t}equals(h){return this===h||this.partUrl===
h.partUrl&&this.partHash===h.partHash}isOnService(h){return this.partUrl.startsWith(`${h.path}/assets/`)}async toBlob(h){const {data:t}=await b(this.partUrl,{responseType:"blob"});e.throwIfAborted(h);return t}}const q=/^(model\/gltf\+json)|(model\/gltf-binary)$/,m=/\.(gltf|glb)/i;a.ServiceAsset=l;a.ServiceAssetPart=w;a.assetFormatId=function(h,t){return h instanceof File?d.getFileFormatId(h,t):d.getMimeTypeFormatId(h.assetMimeType,t)??d.getFilenameFormatId(h.assetName,t)};a.assetIsOnService=k;a.externalIsOnService=
function(h,t){if(!h)return!1;({source:h}=h);return g(h,t)};a.externalSourceToMultiPart=function(h){return Array.isArray(h)?h:[h]};a.externalSourcesAreEqual=function(h,t){if(h===t)return!0;({source:h}=h);({source:t}=t);if(h===t)return!0;if(p(h)&&p(t)){if(h.length!==t.length)return!1;var y=(u,r)=>u.assetName<r.assetName?-1:u.assetName>r.assetName?1:0;h=[...h].sort(y);t=[...t].sort(y);for(y=0;y<h.length;++y)if(!h[y].equals(t[y]))return!1;return!0}return!1};a.isDisplayAsset=f;a.isDisplayExternal=function(h){return n(h?.source)};
a.isDisplaySource=n;a.isOriginalExternal=function(h){return!!h.original};a.sourceIsOnService=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/infoFor3D":function(){define(["exports"],function(a){function b(w,q){return f(p(w,q))}function c(w,q){return f(n(w,q))}function e(w,q){return c(w.name,q)??b(w.type,q)}function d(w,q){return[...l,...q].find(m=>f(m)===w)}function p(w,q){const m=w.toLowerCase();return[...l,...q].find(h=>g(h)===m)}function n(w,q){const m=w.toLowerCase();
return[...l,...q].find(h=>k(h).some(t=>m.endsWith(t)))}function f(w){return w?.[0]}function g(w){return w?.[1].toLowerCase()}function k(w){return w?.[2].split(",").map(q=>q.toLowerCase())??[]}const l=[["binary","application/octet-stream","bin",""]];a.getAssetMapTable=function(w){return w.tables?.find(q=>"assetMaps"===q.role)};a.getFileFormatId=e;a.getFilePickerAcceptType=function(w){const q={};for(const m of[...l,...(w?.supportedFormats??[])]){[w]=g(m).split(";");w=w.trim().toLowerCase();const h=
k(m).map(u=>`.${u}`);let t,y;(t=q)[y=w]??(t[y]=[]);q[w].push(...h)}return{description:"3D Models",accept:q}};a.getFilenameFormatId=c;a.getFormatDescription=function(w){return w?.[3]};a.getFormatExtensions=k;a.getFormatId=f;a.getFormatIdMimeType=function(w,q){return g(d(w,q))};a.getFormatMimeType=g;a.getMimeTypeFormatId=b;a.getSupportedExtensions=function(w){return[...l,...(w?.supportedFormats??[])].flatMap(k).map(q=>`.${q}`)};a.isFileEditFormat=function(w,q){if(!w)return!1;q=e(q,w.supportedFormats??
[]);return null!=q&&w.editFormats.includes(q)};a.isFileSupported=function(w,q){return null!=n(q.name,w?.supportedFormats??[])};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/applyEditsUtils":function(){define("exports ../../Graphic ../../core/Error ../../core/Logger ../../core/unitUtils ../../core/urlUtils ../../geometry/projection ../../geometry/support/jsonUtils ../../geometry/support/MeshTransform ../../geometry/support/spatialReferenceUtils ./editingSupport".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l){async function w(h,t){const {feature:y,attachment:u}=t,{globalId:r,name:z,contentType:v,data:x,uploadId:B}=u;t={globalId:r};y&&("attributes"in y?t.parentGlobalId=y.attributes?.[h.globalIdField]:y.globalId&&(t.parentGlobalId=y.globalId));if(B)t.uploadId=B;else if(x){if(h=await p.parseData(x))t.contentType=h.mediaType,t.data=h.data;x instanceof File&&(t.name=x.name)}z&&(t.name=z);v&&(t.contentType=v);return t}function q(h){const t=!0===h.success?null:h.error||{code:void 0,
description:void 0};return{objectId:h.objectId,globalId:h.globalId,error:t?new c("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}function m(h,t){return new b({attributes:h.attributes,geometry:f.fromJSON({...h.geometry,spatialReference:t})})}a.createEditedFeatures=function(h,t){return{adds:h?.adds?.map(y=>m(y,t))||[],updates:h?.updates?.map(y=>({original:m(y[0],t),current:m(y[1],t)}))||[],deletes:h?.deletes?.map(y=>m(y,t))||[],spatialReference:t}};a.createFeatureEditResult=q;
a.getAttachmentEditsJSON=async function(h,t){const y=await Promise.all((t.addAttachments??[]).map(r=>w(h,r))),u=await Promise.all((t.updateAttachments??[]).map(r=>w(h,r)));t=t.deleteAttachments??[];return y.length||u.length||t.length?{adds:y,updates:u,deletes:[...t]}:null};a.getFeatureIds=function(h,t,y){if(!t||0===t.length)return[];if(y&&l.isFeatureIdentifierArrayWithGlobalId(t))return t.map(r=>r.globalId);if(l.isFeatureIdentifierArrayWithObjectId(t))return t.map(r=>r.objectId);const u=y?h.globalIdField:
h.objectIdField;return u?t.map(r=>r.getAttribute(u)):[]};a.getFeatureJSON=async function(h,t,y){var {geometry:u}=t;t={...t.attributes};if(null!=y&&"mesh"===u?.type){({transformFieldRoles:y}=y);const {origin:z,spatialReference:v,vertexSpace:x}=u;u=u.transform??new g;const B="local"===x.type;h=h.spatialReference;var r=h.isGeographic;const A=k.equals(h,v),C=n.isEqualBaseGCS(v,h)&&n.canProjectWithoutEngine(v,h);if(!(B&&r&&C||!B&&!r&&A))return null;r=n.projectWithoutEngine(z,v,h);if(null==r)return null;
t[y.originX]=r.x;t[y.originY]=r.y;t[y.originZ]=r.z??0;if(null!=u){const {translation:H,scale:N,rotation:I}=u;u=B?1:d.getMetersPerCartesianUnitForSR(v)/d.getMetersPerCartesianUnitForSR(h);t[y.translationX]=H[0]*u;t[y.translationY]=H[2]*u;t[y.translationZ]=-H[1]*u;t[y.scaleX]=N[0];t[y.scaleY]=N[2];t[y.scaleZ]=N[1];t[y.rotationX]=I[0];t[y.rotationY]=I[2];t[y.rotationZ]=-I[1];t[y.rotationDeg]=I[3]}return{attributes:t}}return null==u?{attributes:t}:"mesh"===u.type||"extent"===u.type?null:{geometry:u.toJSON(),
attributes:t}};a.isProtectedOrPrivateVersionError=function(h){h=h.details.raw;const t=+h.extendedCode;return 500===+h.code&&(-2147217144===t||-2147467261===t)};a.unpackEditResultData=function(h){var t=h?.assetMaps;if(t){for(const y of t.addResults)y.success||e.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${y.globalId}.`);for(const y of t.updateResults)y.success||e.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${y.globalId}.`)}t=
h?.attachments;t={addFeatureResults:h?.addResults?.map(q)??[],updateFeatureResults:h?.updateResults?.map(q)??[],deleteFeatureResults:h?.deleteResults?.map(q)??[],addAttachmentResults:t?.addResults?t.addResults.map(q):[],updateAttachmentResults:t?.updateResults?t.updateResults.map(q):[],deleteAttachmentResults:t?.deleteResults?t.deleteResults.map(q):[]};h?.editMoment&&(t.editMoment=h.editMoment);return t};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshTransform":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/mat4f64 ../../core/libs/gl-matrix-2/math/quat ../../core/libs/gl-matrix-2/factories/quatf64 ../../core/libs/gl-matrix-2/factories/vec3f64 ./axisAngleDegrees".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q){var m;b=m=class extends b.JSONSupport{constructor(t){super(t);this.translation=w.create();this.rotationAxis=w.fromArray(q.up);this.rotationAngle=0;this.scale=w.fromValues(1,1,1)}get rotation(){return q.fromAxisAndAngle(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=w.clone(q.axis(t));this.rotationAngle=q.angle(t)}get localMatrix(){const t=g.create();k.setAxisAngle(h,q.axis(this.rotation),q.angleRad(this.rotation));f.fromRotationTranslationScale(t,
h,this.translation,this.scale);return t}get localMatrixInverse(){return f.invert(g.create(),this.localMatrix)}equals(t){return this===t||null!=t&&f.exactEquals(this.localMatrix,t.localMatrix)}clone(){const t={translation:w.clone(this.translation),rotationAxis:w.clone(this.rotationAxis),rotationAngle:this.rotationAngle,scale:w.clone(this.scale)};return new m(t)}};a.__decorate([c.property({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"translation",void 0);a.__decorate([c.property({type:[Number],
nonNullable:!0,json:{write:!0}})],b.prototype,"rotationAxis",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{write:!0}})],b.prototype,"rotationAngle",void 0);a.__decorate([c.property({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"scale",void 0);a.__decorate([c.property()],b.prototype,"rotation",null);a.__decorate([c.property()],b.prototype,"localMatrix",null);a.__decorate([c.property()],b.prototype,"localMatrixInverse",null);b=m=a.__decorate([n.subclass("esri.geometry.support.MeshTransform")],
b);const h=l.create();return b})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(a){function b(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function c(f){return[f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]]}function e(f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B){return[f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B]}function d(f,g){return new Float64Array(f,g,16)}const p=b(),n=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:p,clone:c,
create:b,createView:d,fromValues:e},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=p;a.clone=c;a.create=b;a.createView=d;a.fromValues=e;a.mat4f64=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ../../../../chunks/vec32 ../../../../chunks/vec42".split(" "),function(a,b,c,e,d,p,n){function f(va){va[0]=0;va[1]=0;va[2]=0;va[3]=1;return va}function g(va,
ra,Aa){Aa*=.5;const ea=Math.sin(Aa);va[0]=ea*ra[0];va[1]=ea*ra[1];va[2]=ea*ra[2];va[3]=Math.cos(Aa);return va}function k(va,ra){const Aa=2*Math.acos(ra[3]),ea=Math.sin(Aa/2);ea>d.getEpsilon()?(va[0]=ra[0]/ea,va[1]=ra[1]/ea,va[2]=ra[2]/ea):(va[0]=1,va[1]=0,va[2]=0);return Aa}function l(va,ra,Aa){const ea=ra[0],ca=ra[1],Y=ra[2];ra=ra[3];const ha=Aa[0],ua=Aa[1],K=Aa[2];Aa=Aa[3];va[0]=ea*Aa+ra*ha+ca*K-Y*ua;va[1]=ca*Aa+ra*ua+Y*ha-ea*K;va[2]=Y*Aa+ra*K+ea*ua-ca*ha;va[3]=ra*Aa-ea*ha-ca*ua-Y*K;return va}function w(va,
ra,Aa){Aa*=.5;const ea=ra[0],ca=ra[1],Y=ra[2];ra=ra[3];const ha=Math.sin(Aa);Aa=Math.cos(Aa);va[0]=ea*Aa+ra*ha;va[1]=ca*Aa+Y*ha;va[2]=Y*Aa-ca*ha;va[3]=ra*Aa-ea*ha;return va}function q(va,ra,Aa){Aa*=.5;const ea=ra[0],ca=ra[1],Y=ra[2];ra=ra[3];const ha=Math.sin(Aa);Aa=Math.cos(Aa);va[0]=ea*Aa-Y*ha;va[1]=ca*Aa+ra*ha;va[2]=Y*Aa+ea*ha;va[3]=ra*Aa-ca*ha;return va}function m(va,ra,Aa){Aa*=.5;const ea=ra[0],ca=ra[1],Y=ra[2];ra=ra[3];const ha=Math.sin(Aa);Aa=Math.cos(Aa);va[0]=ea*Aa+ca*ha;va[1]=ca*Aa-ea*ha;
va[2]=Y*Aa+ra*ha;va[3]=ra*Aa-Y*ha;return va}function h(va,ra){const Aa=ra[0],ea=ra[1];ra=ra[2];va[0]=Aa;va[1]=ea;va[2]=ra;va[3]=Math.sqrt(Math.abs(1-Aa*Aa-ea*ea-ra*ra));return va}function t(va,ra,Aa,ea){const ca=ra[0],Y=ra[1],ha=ra[2];ra=ra[3];let ua=Aa[0],K=Aa[1],Q=Aa[2];Aa=Aa[3];let ia;let ka;var Ba=ca*ua+Y*K+ha*Q+ra*Aa;0>Ba&&(Ba=-Ba,ua=-ua,K=-K,Q=-Q,Aa=-Aa);1-Ba>d.getEpsilon()?(ia=Math.acos(Ba),ka=Math.sin(ia),Ba=Math.sin((1-ea)*ia)/ka,ea=Math.sin(ea*ia)/ka):Ba=1-ea;va[0]=Ba*ca+ea*ua;va[1]=Ba*
Y+ea*K;va[2]=Ba*ha+ea*Q;va[3]=Ba*ra+ea*Aa;return va}function y(va){var ra=d.RANDOM,Aa=ra();const ea=ra();ra=ra();const ca=Math.sqrt(1-Aa);Aa=Math.sqrt(Aa);va[0]=ca*Math.sin(2*Math.PI*ea);va[1]=ca*Math.cos(2*Math.PI*ea);va[2]=Aa*Math.sin(2*Math.PI*ra);va[3]=Aa*Math.cos(2*Math.PI*ra);return va}function u(va,ra){const Aa=ra[0],ea=ra[1],ca=ra[2];ra=ra[3];var Y=Aa*Aa+ea*ea+ca*ca+ra*ra;Y=Y?1/Y:0;va[0]=-Aa*Y;va[1]=-ea*Y;va[2]=-ca*Y;va[3]=ra*Y;return va}function r(va,ra){va[0]=-ra[0];va[1]=-ra[1];va[2]=-ra[2];
va[3]=ra[3];return va}function z(va,ra){var Aa=ra[0]+ra[4]+ra[8];if(0<Aa)Aa=Math.sqrt(Aa+1),va[3]=.5*Aa,Aa=.5/Aa,va[0]=(ra[5]-ra[7])*Aa,va[1]=(ra[6]-ra[2])*Aa,va[2]=(ra[1]-ra[3])*Aa;else{let ea=0;ra[4]>ra[0]&&(ea=1);ra[8]>ra[3*ea+ea]&&(ea=2);const ca=(ea+1)%3,Y=(ea+2)%3;Aa=Math.sqrt(ra[3*ea+ea]-ra[3*ca+ca]-ra[3*Y+Y]+1);va[ea]=.5*Aa;Aa=.5/Aa;va[3]=(ra[3*ca+Y]-ra[3*Y+ca])*Aa;va[ca]=(ra[3*ca+ea]+ra[3*ea+ca])*Aa;va[Y]=(ra[3*Y+ea]+ra[3*ea+Y])*Aa}return va}function v(va,ra,Aa,ea){var ca=.5*Math.PI/180;
ra*=ca;Aa*=ca;ea*=ca;ca=Math.sin(ra);ra=Math.cos(ra);const Y=Math.sin(Aa);Aa=Math.cos(Aa);const ha=Math.sin(ea);ea=Math.cos(ea);va[0]=ca*Aa*ea-ra*Y*ha;va[1]=ra*Y*ea+ca*Aa*ha;va[2]=ra*Aa*ha-ca*Y*ea;va[3]=ra*Aa*ea+ca*Y*ha;return va}function x(va){return"quat("+va[0]+", "+va[1]+", "+va[2]+", "+va[3]+")"}function B(va,ra,Aa){const ea=p.dot(ra,Aa);if(-.999999>ea)return p.cross(U,T,ra),1E-6>p.len(U)&&p.cross(U,Z,ra),p.normalize(U,U),g(va,U,Math.PI),va;if(.999999<ea)return va[0]=0,va[1]=0,va[2]=0,va[3]=
1,va;p.cross(U,ra,Aa);va[0]=U[0];va[1]=U[1];va[2]=U[2];va[3]=1+ea;return J(va,va)}function A(va,ra,Aa,ea,ca,Y){t(V,ra,ca,Y);t(qa,Aa,ea,Y);t(va,V,qa,2*Y*(1-Y));return va}function C(va,ra,Aa,ea){const ca=Ca;ca[0]=Aa[0];ca[3]=Aa[1];ca[6]=Aa[2];ca[1]=ea[0];ca[4]=ea[1];ca[7]=ea[2];ca[2]=-ra[0];ca[5]=-ra[1];ca[8]=-ra[2];return J(va,z(va,ca))}const H=n.copy,N=n.set,I=n.add,E=n.scale,G=n.dot,L=n.lerp,R=n.length,F=n.squaredLength,J=n.normalize,O=n.exactEquals;n=n.equals;const U=e.create(),T=e.fromValues(1,
0,0),Z=e.fromValues(0,1,0),V=c.create(),qa=c.create(),Ca=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:I,calculateW:h,conjugate:r,copy:H,dot:G,equals:n,exactEquals:O,fromEuler:v,fromMat3:z,getAxisAngle:k,identity:f,invert:u,len:R,length:R,lerp:L,mul:l,multiply:l,normalize:J,random:y,rotateX:w,rotateY:q,rotateZ:m,rotationTo:B,scale:E,set:N,setAxes:C,setAxisAngle:g,slerp:t,sqlerp:A,sqrLen:F,squaredLength:F,str:x},Symbol.toStringTag,{value:"Module"}));a.add=I;a.calculateW=h;a.conjugate=
r;a.copy=H;a.dot=G;a.equals=n;a.exactEquals=O;a.fromEuler=v;a.fromMat3=z;a.getAxisAngle=k;a.identity=f;a.invert=u;a.len=R;a.length=R;a.lerp=L;a.mul=l;a.multiply=l;a.normalize=J;a.quat=b;a.random=y;a.rotateX=w;a.rotateY=q;a.rotateZ=m;a.rotationTo=B;a.scale=E;a.set=N;a.setAxes=C;a.setAxisAngle=g;a.slerp=t;a.sqlerp=A;a.sqrLen=F;a.squaredLength=F;a.str=x;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(a){function b(){return[1,
0,0,0,1,0,0,0,1]}function c(f){return[f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8]]}function e(f,g,k,l,w,q,m,h,t){return[f,g,k,l,w,q,m,h,t]}function d(f,g){return new Float64Array(f,g,9)}const p=b(),n=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:p,clone:c,create:b,createView:d,fromValues:e},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=p;a.clone=c;a.create=b;a.createView=d;a.fromValues=e;a.mat3f64=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["exports"],
function(a){function b(){return[0,0,0,1]}function c(f){return[f[0],f[1],f[2],f[3]]}function e(f,g,k,l){return[f,g,k,l]}function d(f,g){return new Float64Array(f,g,4)}const p=b(),n=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:p,clone:c,create:b,createView:d,fromValues:e},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=p;a.clone=c;a.create=b;a.createView=d;a.fromValues=e;a.quatf64=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/axisAngleDegrees":function(){define("exports ../../core/mathUtils ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/math/quat ../../core/libs/gl-matrix-2/factories/quatf64 ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../core/libs/gl-matrix-2/factories/vec4f64".split(" "),
function(a,b,c,e,d,p,n,f){function g(x=h){return[x[0],x[1],x[2],x[3]]}function k(x,B,A,C,H=g()){H[0]=x;H[1]=B;H[2]=A;H[3]=C;return H}function l(x,B,A=g()){p.copy(A,x);A[3]=B;return A}function w(x,B,A=g()){e.setAxisAngle(t,x,q(x));e.setAxisAngle(y,B,q(B));e.multiply(t,y,t);return m(A,b.rad2deg(e.getAxisAngle(A,t)))}function q(x){return b.deg2rad(x[3])}function m(x,B){x[3]=B;return x}const h=[0,0,1,0],t=d.create(),y=d.create(),u=g(),r=g(),z=g(),v=g();a.angle=function(x){return x[3]};a.angleRad=q;a.axis=
function(x){return x};a.compose=w;a.composeAxes=function(x,B,A,C=g()){l(n.UNIT_X,x,r);l(n.UNIT_Y,B,z);l(n.UNIT_Z,A,v);w(r,z,r);w(r,v,C);return C};a.copy=function(x,B=g()){return k(x[0],x[1],x[2],x[3],B)};a.create=g;a.fromAxisAndAngle=l;a.fromMatrix=function(x,B=g()){x=c.getRotation(t,x);m(B,b.rad2deg(e.getAxisAngle(B,x)));return B};a.fromPoints=function(x,B,A=f.create()){p.cross(A,x,B);p.normalize(A,A);A[3]=-p.angle(x,B);return A};a.fromValues=k;a.setAngle=m;a.up=h;a.wrap=function(x,B,A,C){return k(x,
B,A,C,u)};a.wrapAxisAngle=function(x,B){return k(x[0],x[1],x[2],B,u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/editingSupport":function(){define("exports ../../Graphic ../../core/Collection ../../core/Error ../../core/lang ../../core/Logger ../../core/promiseUtils ../../core/urlUtils ../../core/uuid ../../geometry/support/normalizeUtils ../../geometry/support/spatialReferenceUtils ../mixins/EditBusLayer ../support/fieldUtils ../support/infoFor3D ../support/layerUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h){function t(E){return"object"===typeof E&&null!=E&&"objectId"in E&&!!E.objectId}function y(E){return"object"===typeof E&&null!=E&&"globalId"in E&&!!E.globalId}async function u(E,G,L,R){await E.load();if(null==G?.applyEdits)throw new e(`${E.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:E});if(!h.getEffectiveEditingEnabled(E))throw new e(`${E.type}-layer:editing-disabled`,"Editing is disabled for layer",{layer:E});
const {edits:F,options:J}=await r(E,L,R);return F.addFeatures?.length||F.updateFeatures?.length||F.deleteFeatures?.length||F.addAttachments?.length||F.updateAttachments?.length||F.deleteAttachments?.length?{edits:F,results:await G.applyEdits(F,J)}:{edits:F,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function r(E,G,L){const R=h.getEffectiveLayerCapabilities(E),F=null!=E.infoFor3D;
H(G,R,L,!(!G||!(G.addFeatures||G.updateFeatures||G.deleteFeatures)),!(!G||!(G.addAttachments||G.updateAttachments||G.deleteAttachments)),`${E.type}-layer`);if(!R.data.isVersioned&&L?.gdbVersion)throw new e(`${E.type}-layer:invalid-parameter`,"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!R.editing.supportsRollbackOnFailure&&L?.rollbackOnFailureEnabled)throw new e(`${E.type}-layer:invalid-parameter`,"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");
const J={...L};null!=J.rollbackOnFailureEnabled||R.editing.supportsRollbackOnFailure||(J.rollbackOnFailureEnabled=!0);J.rollbackOnFailureEnabled||"original-and-current-features"!==J.returnServiceEditsOption||(!1===J.rollbackOnFailureEnabled&&p.getLogger("esri.layers.graphics.editingSupport").warn(`${E.type}-layer:invalid-parameter`,"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true."),
J.rollbackOnFailureEnabled=!0);if(!R.editing.supportsReturnServiceEditsInSourceSpatialReference&&J.returnServiceEditsInSourceSR)throw new e(`${E.type}-layer:invalid-parameter`,"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'");if(J.returnServiceEditsInSourceSR&&"original-and-current-features"!==J.returnServiceEditsOption)throw new e(`${E.type}-layer:invalid-parameter`,"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'");
G=C(G,R,`${E.type}-layer`);const O=L?.globalIdUsed||F,U=E.fields.filter(T=>"big-integer"===T.type||"oid"===T.type&&8<=(T.length||0));if(O){const {globalIdField:T}=E;if(null==T)throw new e(`${E.type}-layer:invalid-parameter`,"Layer does not specify a global id field.");G.addFeatures.forEach(Z=>{({attributes:Z}=Z);null==Z[T]&&(Z[T]=g.generateBracedUUID())})}G.addFeatures.forEach(T=>{z(T,E,O,U);v(T,E)});G.updateFeatures.forEach(T=>{z(T,E,O,U);v(T,E);const Z=h.getEffectiveLayerCapabilities(E);if("geometry"in
T&&null!=T.geometry&&!Z?.editing.supportsGeometryUpdate)throw new e(`${E.type}-layer:unsupported-operation`,"Layer does not support geometry updates.");});G.deleteFeatures.forEach(T=>{z(T,E,O,U)});G.addAttachments.forEach(T=>x(T,E));G.updateAttachments.forEach(T=>x(T,E));F&&await I(G,E);return{edits:await B(G),options:J}}function z(E,G,L,R){if(L){if("attributes"in E&&!E.attributes[G.globalIdField])throw new e(`${G.type}-layer:invalid-parameter`,`Feature should have '${G.globalIdField}' when 'globalIdUsed' is true`);
if(!("attributes"in E||E.globalId))throw new e(`${G.type}-layer:invalid-parameter`,"`'globalId' of the feature should be passed when 'globalIdUsed' is true");}if(R.length&&"attributes"in E)for(const F of R)if(L=E.attributes[F.name],void 0!==L&&!q.isValidFieldValue(F,L))throw new e(`${G.type}-layer:invalid-parameter`,`Big-integer field '${F.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:E});if("geometry"in E&&null!=E.geometry){if(E.geometry.hasZ&&!1===G.capabilities?.data.supportsZ)throw new e(`${G.type}-layer:z-unsupported`,
"Layer does not support z values while feature has z values.");if(E.geometry.hasM&&!1===G.capabilities?.data.supportsM)throw new e(`${G.type}-layer:m-unsupported`,"Layer does not support m values while feature has m values.");}}function v(E,G){if("geometry"in E&&"mesh"===E.geometry?.type&&null!=G.infoFor3D&&null!=G.spatialReference){({geometry:E}=E);const {spatialReference:L,vertexSpace:R}=E;E=G.spatialReference;const F="local"===R.type,J=l.isGeographic(E),O=l.equals(E,L),U=O||l.isWGS84(E)&&(l.isWGS84(L)||
l.isWebMercator(L));if(!(F&&J&&U||!F&&!J&&O))throw new e(`${G.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${R.type} vertex space and a spatial reference wkid:${L.wkid} to a layer with a spatial reference wkid:${E.wkid} is not supported.`);}}function x(E,G){const {feature:L,attachment:R}=E;if(!L||"attributes"in L&&!L.attributes[G.globalIdField])throw new e(`${G.type}-layer:invalid-parameter`,"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in L||L.globalId))throw new e(`${G.type}-layer:invalid-parameter`,
"Attachment should have reference to 'globalId' of the parent feature");if(!R.globalId)throw new e(`${G.type}-layer:invalid-parameter`,"Attachment should have 'globalId'");if(!R.data&&!R.uploadId)throw new e(`${G.type}-layer:invalid-parameter`,"Attachment should have 'data' or 'uploadId'");if(!(R.data instanceof File&&R.data.name||R.name))throw new e(`${G.type}-layer:invalid-parameter`,"'name' is required when attachment is specified as Base64 encoded string using 'data'");if(!G.capabilities?.editing.supportsUploadWithItemId&&
R.uploadId)throw new e(`${G.type}-layer:invalid-parameter`,"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"===typeof R.data&&(E=f.dataComponents(R.data))&&!E.isBase64)throw new e(`${G.type}-layer:invalid-parameter`,"Attachment 'data' should be a Blob, File or Base64 encoded string");}async function B(E){const G=E.addFeatures??[],L=E.updateFeatures??[];var R=G.concat(L).map(O=>O.geometry);R=await k.normalizeCentralMeridian(R);const F=
G.length,J=L.length;R.slice(0,F).forEach((O,U)=>G[U].geometry=O);R.slice(F,F+J).forEach((O,U)=>L[U].geometry=O);return E}function A(E){return{addFeatures:Array.from(E?.addFeatures??[]),updateFeatures:Array.from(E?.updateFeatures??[]),deleteFeatures:E&&c.isCollection(E.deleteFeatures)?E.deleteFeatures.toArray():E.deleteFeatures||[],addAttachments:E.addAttachments||[],updateAttachments:E.updateAttachments||[],deleteAttachments:E.deleteAttachments||[]}}function C(E,G,L){E=A(E);if(E.addFeatures?.length&&
!G.operations.supportsAdd)throw new e(`${L}:unsupported-operation`,"Layer does not support adding features.");if(E.updateFeatures?.length&&!G.operations.supportsUpdate)throw new e(`${L}:unsupported-operation`,"Layer does not support updating features.");if(E.deleteFeatures?.length&&!G.operations.supportsDelete)throw new e(`${L}:unsupported-operation`,"Layer does not support deleting features.");E.addFeatures=E.addFeatures.map(N);E.updateFeatures=E.updateFeatures.map(N);E.addAssetFeatures=[];return E}
function H(E,G,L,R,F,J){if(!E||!R&&!F)throw new e(`${J}:missing-parameters`,"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!G.editing.supportsGlobalId&&L?.globalIdUsed)throw new e(`${J}:invalid-parameter`,"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!G.editing.supportsGlobalId&&F)throw new e(`${J}:invalid-parameter`,"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");
if(!L?.globalIdUsed&&F)throw new e(`${J}:invalid-parameter`,"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");}function N(E){const G=new b;E.attributes||(E.attributes={});G.geometry=E.geometry;G.attributes=E.attributes;return G}async function I(E,G){if(null!=G.infoFor3D){var {infoFor3D:L}=G,R=m.getMimeTypeFormatId("model/gltf-binary",L.supportedFormats)??m.getFilenameFormatId("glb",L.supportedFormats);if(!R||!L.editFormats.includes(R))throw new e(`${G.type}-layer:binary-gltf-asset-not-supported`,
"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.");E.addAssetFeatures??(E.addAssetFeatures=[]);({addAssetFeatures:G}=E);for(const F of E.addFeatures??[])"mesh"===F?.geometry?.type&&G.push(F);for(const F of E.updateFeatures??[])"mesh"===F?.geometry?.type&&G.push(F)}}a.applyEdits=async function(E,G,L,R={}){var F="gdbVersion"in E?E.gdbVersion:null;F=R.gdbVersion??F;w.isEditBusLayer(E)&&E.url?F=w.emitApplyEditsEvent(E.url,E.layerId,F,"original-and-current-features"===
R.returnServiceEditsOption):(F=n.createResolver(),F.promise.then(J=>{(J.addedFeatures.length||J.updatedFeatures.length||J.deletedFeatures.length||J.addedAttachments.length||J.updatedAttachments.length||J.deletedAttachments.length)&&E.emit("edits",J)}),E.emit("apply-edits",{result:F.promise}));try{const {results:J,edits:O}=await u(E,G,L,R);G=T=>T.filter(Z=>!Z.error).map(d.clone);const U={edits:O,addedFeatures:G(J.addFeatureResults),updatedFeatures:G(J.updateFeatureResults),deletedFeatures:G(J.deleteFeatureResults),
addedAttachments:G(J.addAttachmentResults),updatedAttachments:G(J.updateAttachmentResults),deletedAttachments:G(J.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:J.editMoment?new Date(J.editMoment):null,globalIdToObjectId:R.globalIdToObjectId};J.editedFeatureResults?.length&&(U.editedFeatures=J.editedFeatureResults);F.resolve(U);return J}catch(J){throw F.reject(J),J;}};a.checkEditingCapabilities=H;a.isFeatureIdentifierArrayWithGlobalId=function(E){return E.every(y)};a.isFeatureIdentifierArrayWithObjectId=
function(E){return E.every(t)};a.isFeatureIdentifierWithGlobalId=y;a.isFeatureIdentifierWithObjectId=t;a.normalizeCollections=A;a.normalizeEdits=C;a.normalizeGeometries=B;a.shallowCloneFeature=N;a.uploadAssets=function(E,G,L,R){if(null==G?.applyEdits)throw new e(`${E.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:E});if(!G.uploadAssets)throw new e(`${E.type}-layer:no-asset-upload-support`,"Layer source does not support uploadAssets capability",{layer:E});
return G.uploadAssets(L,R)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/Error ../../core/Logger ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometryService/cut ../../rest/geometryService/simplify".split(" "),function(a,b,c,e,d,p,n,f,g,k,l){function w(r){const z=[];let v=0,x=0;for(let B=0;B<r.length;B++){const A=r[B];let C=null;for(let H=
0;H<A.length;H++)C=A[H],z.push(C),0===H?x=v=C[0]:(v=Math.min(v,C[0]),x=Math.max(x,C[0]));C&&z.push([(v+x)/2,0])}return z}function q(r,z){if(!(r instanceof p||r instanceof d))throw u().error("straightLineDensify: the input geometry is neither polyline nor polygon"),new c("straightLineDensify: the input geometry is neither polyline nor polygon");var v=n.getGeometryParts(r);const x=[];for(const A of v){v=[];x.push(v);v.push([A[0][0],A[0][1]]);for(let C=0;C<A.length-1;C++){const H=A[C][0],N=A[C][1],I=
A[C+1][0],E=A[C+1][1];var B=Math.sqrt((I-H)*(I-H)+(E-N)*(E-N));const G=(E-N)/B,L=(I-H)/B,R=B/z;if(1<R){for(let F=1;F<=R-1;F++){const J=F*z;v.push([L*J+H,G*J+N])}B=(B+Math.floor(R-1)*z)/2;v.push([L*B+H,G*B+N])}v.push([I,E])}}return"polygon"===r.type?new d({rings:x,spatialReference:r.spatialReference}):new p({paths:x,spatialReference:r.spatialReference})}function m(r,z,v){z&&(r=q(r,1E6),r=g.webMercatorToGeographic(r,!0));v&&(r=n.updatePolyGeometry(r,v));return r}function h(r,z,v){if(Array.isArray(r)){var x=
r[0];x>z?(v=n.offsetMagnitude(x,z),r[0]=x+-2*v*z):x<v&&(z=n.offsetMagnitude(x,v),r[0]=x+-2*z*v)}else x=r.x,x>z?(v=n.offsetMagnitude(x,z),r=r.clone().offset(-2*v*z,0)):x<v&&(z=n.offsetMagnitude(x,v),r=r.clone().offset(-2*z*v,0));return r}function t(r,z){let v=-1;for(let x=0;x<z.cutIndexes.length;x++){const B=z.cutIndexes[x],A=z.geometries[x],C=n.getGeometryParts(A);for(let H=0;H<C.length;H++){const N=C[H];N.some(I=>{if(180>I[0])return!0;I=0;for(var E=0;E<N.length;E++){var G=N[E][0];I=G>I?G:I}I=Number(I.toFixed(9));
I=-360*n.offsetMagnitude(I,180);for(E=0;E<N.length;E++)G=A.getPoint(H,E),A.setPoint(H,E,G.clone().offset(I,0));return!0})}if(B===v)if("polygon"===r[0].type)for(const H of n.getGeometryParts(A))r[B]=r[B].addRing(H);else{if("polyline"===r[0].type)for(const H of n.getGeometryParts(A))r[B]=r[B].addPath(H)}else v=B,r[B]=A}return r}async function y(r,z,v){if(!Array.isArray(r))return y([r],z);z&&"string"!==typeof z&&u().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");
var x="string"===typeof z?z:z?.url??b.geometryServiceUrl;let B,A,C;let H=0;var N=[];z=[];for(var I of r)if(null==I)z.push(I);else{if(!E){var E=I.spatialReference;var G=f.getInfo(E);var L=(B=E.isWebMercator)?102100:4326;A=n.cutParams[L].maxX;C=n.cutParams[L].minX;var R=n.cutParams[L].plus180Line;L=n.cutParams[L].minus180Line}if(G)if("mesh"===I.type)z.push(I);else if("point"===I.type)z.push(h(I.clone(),A,C));else if("multipoint"===I.type){var F=I.clone();F.points=F.points.map(J=>h(J,A,C));z.push(F)}else if("extent"===
I.type)F=I.clone()._normalize(!1,!1,G),z.push(F.rings?new d(F):F);else if(I.extent){F=I.extent;const J=2*n.offsetMagnitude(F.xmin,C)*A;let O=0===J?I.clone():n.updatePolyGeometry(I.clone(),J);F.offset(J,0);let {xmin:U,xmax:T}=F;U=Number(U.toFixed(9));T=Number(T.toFixed(9));F.intersects(R)&&T!==A?(H=T>H?T:H,O=m(O,B),N.push(O),z.push("cut")):F.intersects(L)&&U!==C?(H=2*T*A>H?2*T*A:H,O=m(O,B,360),N.push(O),z.push("cut")):z.push(O)}else z.push(I.clone());else z.push(I)}E=n.offsetMagnitude(H,A);G=-90;R=
E;for(I=new p;0<E;)L=-180+360*E,I.addPath([[L,G],[L,-1*G]]),G*=-1,E--;if(0<N.length&&0<R){E=await k.cut(x,N,I,v);E=t(N,E);G=[];N=[];for(R=0;R<z.length;R++)I=z[R],"cut"!==I?N.push(I):(I=E.shift(),L=r[R],null!=L&&"polygon"===L.type&&L.rings&&1<L.rings.length&&I.rings.length>=L.rings.length?(G.push(I),N.push("simplify")):N.push(B?g.geographicToWebMercator(I):I));if(!G.length)return N;z=await l.simplify(x,G,v);r=[];for(v=0;v<N.length;v++)x=N[v],"simplify"!==x?r.push(x):r.push(B?g.geographicToWebMercator(z.shift()):
z.shift());return r}r=[];for(v=0;v<z.length;v++)x=z[v],"cut"!==x?r.push(x):(x=N.shift(),r.push(!0===B?g.geographicToWebMercator(x):x));return r}const u=()=>e.getLogger("esri.geometry.support.normalizeUtils");a.getClosestDenormalizedXToReference=function(r,z,v){v=f.getInfo(v);if(null==v)return r;const [x,B]=v.valid;v=2*B;let A=0,C=0;z>B?A=Math.ceil(Math.abs(z-B)/v):z<x&&(A=-Math.ceil(Math.abs(z-x)/v));r>B?C=Math.ceil(Math.abs(r-B)/v):r<x&&(C=-Math.ceil(Math.abs(r-x)/v));r+=(A-C)*v;z=r-z;z>B?r-=v:z<
x&&(r+=v);return r};a.getDenormalizedExtent=function(r){if(!r)return null;const z=r.extent;if(!z)return null;var v=r.spatialReference&&f.getInfo(r.spatialReference);if(!v)return z;const [x,B]=v.valid;({width:v}=z);let {xmin:A,xmax:C}=z;[A,C]=[C,A];if("extent"===r.type||0===v||v<=B||v>2*B||A<x||C>B)return z;let H;switch(r.type){case "polygon":if(1<r.rings.length)H=w(r.rings);else return z;break;case "polyline":if(1<r.paths.length)H=w(r.paths);else return z;break;case "multipoint":H=r.points}r=z.clone();
for(let N=0;N<H.length;N++){let I=H[N][0];0>I?(I+=B,C=Math.max(I,C)):(I-=B,A=Math.min(I,A))}r.xmin=A;r.xmax=C;return r.width<v?(r.xmin-=B,r.xmax-=B,r):z};a.normalizeCentralMeridian=y;a.normalizeMapX=function(r,z){if(z=f.getInfo(z)){const [v,x]=z.valid;z=x-v;if(r<v)for(;r<v;)r+=z;if(r>x)for(;r>x;)r-=z}return r};a.straightLineDensify=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference",
"./jsonUtils"],function(a,b,c,e){function d(p){return e.isPolygon(p)?p.rings:p.paths}b={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,
-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};a.cutParams=b;a.getGeometryParts=d;a.offsetMagnitude=function(p,n){return Math.ceil((p-n)/(2*n))};a.updatePolyGeometry=function(p,n){const f=d(p);for(const g of f)for(const k of g)k[0]+=n;return p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/cut":function(){define("exports ../../geometry ../../request ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ../utils".split(" "),
function(a,b,c,e,d,p){a.cut=async function(n,f,g,k){n=p.parseUrl(n);const l=f[0].spatialReference;f={...k,responseType:"json",query:{...n.query,f:"json",sr:d.srToRESTValue(l),target:JSON.stringify({geometryType:e.getJsonType(f[0]),geometries:f}),cutter:JSON.stringify(g)}};f=await c(n.path+"/cut",f);const {cutIndexes:w,geometries:q=[]}=f.data;return{cutIndexes:w,geometries:q.map(m=>{m=e.fromJSON(m);m.spatialReference=l;return m})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/utils":function(){define("exports ../config ../kernel ../core/lang ../core/urlUtils ../support/apiKeyUtils".split(" "),
function(a,b,c,e,d,p){function n(f,g,k){const l={};for(const q in f)if("declaredClass"!==q){var w=f[q];null!=w&&"function"!==typeof w&&(Array.isArray(w)?l[q]=w.map(m=>n(m)):"object"===typeof w?w.toJSON?(w=w.toJSON(k?.[q]),l[q]=g?w:JSON.stringify(w)):l[q]=g?w:JSON.stringify(w):l[q]=w)}return l}a.asValidOptions=function(f,g){return g?{...g,query:{...(f??{}),...g.query}}:{query:f}};a.encode=n;a.getToken=function(f,g){return f?p.supportsApiKey(f)&&(g||b.apiKey)?g||b.apiKey:c.id?.findCredential(f)?.token:
null};a.parseUrl=function(f){return"string"===typeof f?d.urlToObject(f):e.clone(f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/simplify":function(){define("exports ../../request ../../core/urlUtils ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ./utils".split(" "),function(a,b,c,e,d,p){a.simplify=async function(n,f,g){const k="string"===typeof n?c.urlToObject(n):n;n=f[0].spatialReference;const l=e.getJsonType(f[0]);f={...g,
query:{...k.query,f:"json",sr:d.srToRESTValue(n),geometries:JSON.stringify(p.encodeGeometries(f))}};({data:f}=await b(k.path+"/simplify",f));return p.decodeGeometries(f.geometries,l,n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],function(a,b){a.decodeGeometries=function(c,e,d){const p=b.getGeometryType(e);return c.map(n=>{n=p.fromJSON(n);n.spatialReference=d;return n})};a.encodeGeometries=
function(c){return{geometryType:b.getJsonType(c[0]),geometries:c.map(e=>e.toJSON())}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang","../../data/QueryEngineCapabilities","../../../../symbols/support/defaultsJSON"],function(a,b,c,e,d){function p(g){return n.test(g)?`.${g}`:`["${g}"]`}const n=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let f=1;a.createCapabilities=
function(g,k){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:g},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:k,supportsDelete:k,supportsEditing:k,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:k,supportsExceedsLimitStatistics:!0,
supportsAsyncConvert3D:!1},query:e.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:k,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,
zDefault:void 0}}};a.createDefaultAttributesFunction=function(g,k){if(b("esri-csp-restrictions"))return()=>({[k]:null,...g});try{let l=`this${p(k)} = null;`;for(const q in g){const m=p(q);l+=`this${m} = ${JSON.stringify(g[q])};`}const w=(new Function(`\n      return class AttributesClass$${f++} {\n        constructor() {\n          ${l};\n        }\n      }\n    `))();return()=>new w}catch(l){return()=>({[k]:null,...g})}};a.createDefaultTemplate=function(g={}){return[{name:"New Feature",description:"",
prototype:{attributes:c.clone(g)}}]};a.createDrawingInfo=function(g){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===g||"esriGeometryMultipoint"===g?d.defaultPointSymbolJSON:"esriGeometryPolyline"===g?d.defaultPolylineSymbolJSON:d.defaultPolygonSymbolJSON}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(a){a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,
supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,
supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/QueryTask":function(){define("require ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Error ../../../../core/has ../../../../core/promiseUtils ../../../../core/urlUtils ../../../../core/accessorSupport/decorators/property ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ../../../../geometry/support/spatialReferenceUtils ../../../support/infoFor3D ../../../support/source/DataLayerSource ../../../../rest/utils ../../../../rest/query/executeForCount ../../../../rest/query/executeForExtent ../../../../rest/query/executeForIds ../../../../rest/query/executeQueryJSON ../../../../rest/query/executeQueryPBF ../../../../rest/support/FeatureSet ../../../../rest/support/Query".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x){const B=A=>Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));c=class extends c{constructor(A){super(A);this.infoFor3D=this.gdbVersion=this.fieldsIndex=this.dynamicDataSource=null;this.queryAttachmentsSupported=this.pbfSupported=!1;this.url=this.sourceSpatialReference=null}get parsedUrl(){return n.urlToObject(this.url)}async execute(A,C){const H=await this.executeJSON(A,C);return this.featureSetFromJSON(A,
H,C)}async executeJSON(A,C){const H=this._normalizeQuery(A);A=null!=A.outStatistics?.[0];const N=d("featurelayer-pbf-statistics");A=!A||N;let I;if(this.pbfSupported&&A)try{I=await z.executeRawQueryPBF(this.url,H,C)}catch(E){if("query:parsing-pbf"===E.name)this.pbfSupported=!1;else throw E;}this.pbfSupported&&A||(I=await r.executeRawQueryJSON(this.url,H,C));this._normalizeFields(I.fields);return I}async featureSetFromJSON(A,C,H){if(!this._queryIs3DObjectFormat(A)||null==this.infoFor3D||!C.features)return v.fromJSON(C);
({meshFeatureSetFromJSON:H}=await p.whenOrAbort(new Promise((N,I)=>a(["../../../../rest/support/meshFeatureSet"],N,I)),H));return H(A,this.infoFor3D,C)}executeForCount(A,C){return t.executeForCount(this.url,this._normalizeQuery(A),C)}executeForExtent(A,C){return y.executeForExtent(this.url,this._normalizeQuery(A),C)}executeForIds(A,C){return u.executeForIds(this.url,this._normalizeQuery(A),C)}async executeRelationshipQuery(A,C){const [{default:H},{executeRelationshipQuery:N}]=await p.whenOrAbort(Promise.all([new Promise((I,
E)=>a(["../../../../rest/support/RelationshipQuery"],G=>I(B(G)),E)),new Promise((I,E)=>a(["../../../../rest/query/executeRelationshipQuery"],I,E))]),C);A=H.from(A);if(this.gdbVersion||this.dynamicDataSource)A=A.clone(),A.gdbVersion=A.gdbVersion||this.gdbVersion,A.dynamicDataSource=A.dynamicDataSource||this.dynamicDataSource;return N(this.url,A,C)}async executeRelationshipQueryForCount(A,C){const [{default:H},{executeRelationshipQueryForCount:N}]=await p.whenOrAbort(Promise.all([new Promise((I,E)=>
a(["../../../../rest/support/RelationshipQuery"],G=>I(B(G)),E)),new Promise((I,E)=>a(["../../../../rest/query/executeRelationshipQuery"],I,E))]),C);A=H.from(A);if(this.gdbVersion||this.dynamicDataSource)A=A.clone(),A.gdbVersion=A.gdbVersion||this.gdbVersion,A.dynamicDataSource=A.dynamicDataSource||this.dynamicDataSource;return N(this.url,A,C)}async executeAttachmentQuery(A,C){const {executeAttachmentQuery:H,fetchAttachments:N,processAttachmentQueryResult:I}=await p.whenOrAbort(new Promise((G,L)=>
a(["../../../../rest/query/operations/queryAttachments"],G,L)),C),E=h.parseUrl(this.url);A=await (this.queryAttachmentsSupported?H(E,A,C):N(E,A,C));return I(E,A)}async executeTopFeaturesQuery(A,C){const {executeTopFeaturesQuery:H}=await p.whenOrAbort(new Promise((N,I)=>a(["../../../../rest/query/executeTopFeaturesQuery"],N,I)),C);return H(this.parsedUrl,A,this.sourceSpatialReference,C)}async executeForTopIds(A,C){const {executeForTopIds:H}=await p.whenOrAbort(new Promise((N,I)=>a(["../../../../rest/query/executeForTopIds"],
N,I)),C);return H(this.parsedUrl,A,C)}async executeForTopExtents(A,C){const {executeForTopExtents:H}=await p.whenOrAbort(new Promise((N,I)=>a(["../../../../rest/query/executeForTopExtents"],N,I)),C);return H(this.parsedUrl,A,C)}async executeForTopCount(A,C){const {executeForTopCount:H}=await p.whenOrAbort(new Promise((N,I)=>a(["../../../../rest/query/executeForTopCount"],N,I)),C);return H(this.parsedUrl,A,C)}_normalizeQuery(A){let C=x.from(A);C.sourceSpatialReference=C.sourceSpatialReference||this.sourceSpatialReference;
if(this.gdbVersion||this.dynamicDataSource)C=C===A?C.clone():C,C.gdbVersion=A.gdbVersion||this.gdbVersion,C.dynamicDataSource=A.dynamicDataSource?m.DataLayerSource.from(A.dynamicDataSource):this.dynamicDataSource;const {infoFor3D:H}=this;if(null!=H&&this._queryIs3DObjectFormat(A)){C=C===A?C.clone():C;C.formatOf3DObjects=null;const {supportedFormats:N,queryFormats:I}=H,E=q.getMimeTypeFormatId("model/gltf-binary",N)??q.getFilenameFormatId("glb",N),G=q.getMimeTypeFormatId("model/gltf+json",N)??q.getFilenameFormatId("gltf",
N);for(const L of I){if(L===E){C.formatOf3DObjects=L;break}L!==G||C.formatOf3DObjects||(C.formatOf3DObjects=L)}if(!C.formatOf3DObjects)throw new e("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(C.outSpatialReference&&!w.equals(C.outSpatialReference,this.sourceSpatialReference))throw new e("query:unsupported-out-spatial-reference","3D object feature services do not support projection of geometries");if(null==
C.outFields||!C.outFields.includes("*")){C=C===A?C.clone():C;null==C.outFields&&(C.outFields=[]);const {originX:L,originY:R,originZ:F,translationX:J,translationY:O,translationZ:U,scaleX:T,scaleY:Z,scaleZ:V,rotationX:qa,rotationY:Ca,rotationZ:va,rotationDeg:ra}=H.transformFieldRoles;C.outFields.push(L,R,F,J,O,U,T,Z,V,qa,Ca,va,ra)}}return C}_normalizeFields(A){if(null!=this.fieldsIndex&&null!=A)for(const C of A)(A=this.fieldsIndex.get(C.name))&&Object.assign(C,A.toJSON())}_queryIs3DObjectFormat(A){return null!=
this.infoFor3D&&!0===A.returnGeometry&&"xyFootprint"!==A.multipatchOption&&!A.outStatistics}};b.__decorate([f.property({type:m.DataLayerSource})],c.prototype,"dynamicDataSource",void 0);b.__decorate([f.property()],c.prototype,"fieldsIndex",void 0);b.__decorate([f.property()],c.prototype,"gdbVersion",void 0);b.__decorate([f.property()],c.prototype,"infoFor3D",void 0);b.__decorate([f.property({readOnly:!0})],c.prototype,"parsedUrl",null);b.__decorate([f.property()],c.prototype,"pbfSupported",void 0);
b.__decorate([f.property()],c.prototype,"queryAttachmentsSupported",void 0);b.__decorate([f.property()],c.prototype,"sourceSpatialReference",void 0);b.__decorate([f.property({type:String})],c.prototype,"url",void 0);return c=b.__decorate([l.subclass("esri.layers.graphics.sources.support.QueryTask")],c)})},"esri/rest/query/executeForCount":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,c,e){a.executeForCount=async function(d,p,n){d=b.parseUrl(d);({data:p}=
await c.executeQueryForCount(d,e.from(p),n));return p.count};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/query":function(){define("exports ../../../request ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),function(a,b,c,e,d,p,n,f,g){function k(m,h){if(h&&"extent"===m.type)return`${m.xmin},${m.ymin},${m.xmax},${m.ymax}`;
if(h&&"point"===m.type)return`${m.x},${m.y}`;m=m.toJSON();delete m.spatialReference;return JSON.stringify(m)}function l(m,h){const t=m.geometry,y=m.toJSON();delete y.compactGeometryEnabled;delete y.defaultSpatialReferenceEnabled;let u,r,z;null!=t&&(r=t.spatialReference,z=p.srToRESTValue(r),y.geometryType=e.getJsonType(t),y.geometry=k(t,m.compactGeometryEnabled),y.inSR=z);y.groupByFieldsForStatistics&&(y.groupByFieldsForStatistics=y.groupByFieldsForStatistics.join(","));y.objectIds&&(y.objectIds=y.objectIds.join(","));
y.orderByFields&&(y.orderByFields=y.orderByFields.join(","));!y.outFields||!y.returnDistinctValues&&(h?.returnCountOnly||h?.returnExtentOnly||h?.returnIdsOnly)?delete y.outFields:y.outFields.includes("*")?y.outFields="*":y.outFields=y.outFields.join(",");y.outSR?(y.outSR=p.srToRESTValue(y.outSR),u=m.outSpatialReference):t&&(y.returnGeometry||y.returnCentroid)&&(y.outSR=y.inSR,u=r);y.returnGeometry&&delete y.returnGeometry;y.outStatistics&&(y.outStatistics=JSON.stringify(y.outStatistics));y.fullText&&
(y.fullText=JSON.stringify(y.fullText));y.pixelSize&&(y.pixelSize=JSON.stringify(y.pixelSize));y.quantizationParameters&&(m.defaultSpatialReferenceEnabled&&null!=r&&null!=m.quantizationParameters?.extent&&r.equals(m.quantizationParameters.extent.spatialReference)&&delete y.quantizationParameters.extent.spatialReference,y.quantizationParameters=JSON.stringify(y.quantizationParameters));y.parameterValues&&(y.parameterValues=JSON.stringify(y.parameterValues));y.rangeValues&&(y.rangeValues=JSON.stringify(y.rangeValues));
y.dynamicDataSource&&(y.layer=JSON.stringify({source:y.dynamicDataSource}),delete y.dynamicDataSource);if(y.timeExtent){const {start:v,end:x}=y.timeExtent;if(null!=v||null!=x)y.time=v===x?v:`${null==v?"null":v},${null==x?"null":x}`;delete y.timeExtent}m.defaultSpatialReferenceEnabled&&null!=r&&null!=u&&r.equals(u)&&(y.defaultSR=y.inSR,delete y.inSR,delete y.outSR);return y}function w(m,h,t){return q(m,h,"pbf",t)}async function q(m,h,t,y={},u={}){m="string"===typeof m?c.urlToObject(m):m;var r=(await d.normalizeCentralMeridian(h.geometry?
[h.geometry]:[],null,{signal:y.signal}))?.[0];null!=r&&(h=h.clone(),h.geometry=r);r=n.mapParameters({...m.query,f:t,...u,...l(h,u)});return b(c.join(m.path,null==h.formatOf3DObjects||u.returnCountOnly||u.returnExtentOnly||u.returnIdsOnly?"query":"query3d"),{...y,responseType:"pbf"===t?"array-buffer":"json",query:{...r,...y.query}})}a.encodeGeometry=k;a.executeQuery=async function(m,h,t,y){m=null!=h.timeExtent&&h.timeExtent.isEmpty?{data:{features:[]}}:await q(m,h,"json",y);g.applyFeatureSetZUnitScaling(h,
t,m.data);return m};a.executeQueryForCount=function(m,h,t){return null!=h.timeExtent&&h.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):q(m,h,"json",t,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=async function(m,h,t){if(null!=h.timeExtent&&h.timeExtent.isEmpty)return{data:{count:0,extent:null}};m=await q(m,h,"json",t,{returnExtentOnly:!0,returnCountOnly:!0});h=m.data;if(h.hasOwnProperty("extent"))return m;if(h.features)throw Error("Layer does not support extent calculation.");
if(h.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return m};a.executeQueryForIds=function(m,h,t){return null!=h.timeExtent&&h.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):q(m,h,"json",t,{returnIdsOnly:!0})};a.executeQueryPBF=async function(m,h,t,y){if(null!=h.timeExtent&&h.timeExtent.isEmpty)return{data:t.createFeatureResult()};m=await w(m,h,y);m.data=f.parsePBFFeatureQuery(m.data,t);return m};a.executeQueryPBFBuffer=w;a.queryToQueryStringParameters=
l;a.runQuery=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/operations/urlUtils":function(){define(["exports"],function(a){function b(c){const e={};for(const d in c){if("declaredClass"===d)continue;const p=c[d];if(null!=p&&"function"!==typeof p)if(Array.isArray(p)){e[d]=[];for(let n=0;n<p.length;n++)e[d][n]=b(p[n])}else"object"===typeof p?p.toJSON&&(e[d]=JSON.stringify(p)):e[d]=p}return e}a.mapParameters=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,b){a.parsePBFFeatureQuery=function(c,e){var d=b.parseFeatureQuery(c,e);c=d.queryResult.featureResult;e=d.queryResult.queryGeometry;d=d.queryResult.queryGeometryType;if(c&&c.features&&c.features.length&&c.objectIdFieldName){const p=c.objectIdFieldName;for(const n of c.features)n.attributes&&(n.objectId=n.attributes[p])}c&&(c.queryGeometry=e,c.queryGeometryType=d);return c};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define(["exports","../../../core/Error","../../../core/pbf","../../../layers/graphics/OptimizedGeometry","./pbfOptimizedFeatureSet"],function(a,b,c,e,d){function p(A){return A>=v.length?null:v[A]}function n(A,C,H){A=A.asUnsafe();for(H=C.createPointGeometry(H);A.next();)switch(A.tag()){case 3:var N=A.getUInt32();N=A.pos()+N;let I=0;for(;A.pos()<N;)C.addCoordinatePoint(H,A.getSInt64(),I++);break;
default:A.skip()}return H}function f(A,C,H){A=A.asUnsafe();const N=C.createGeometry(H);for(H=2+(H.hasZ?1:0)+(H.hasM?1:0);A.next();)switch(A.tag()){case 2:var I=A.getUInt32();I=A.pos()+I;for(var E=0;A.pos()<I;)C.addLength(N,A.getUInt32(),E++);break;case 3:I=A.getUInt32();I=A.pos()+I;E=0;for(C.allocateCoordinates(N);A.pos()<I;)C.addCoordinate(N,A.getSInt64(),E),E++,E===H&&(E=0);break;default:A.skip()}return N}function g(A){A=A.asUnsafe();const C=new e;let H="esriGeometryPoint";for(;A.next();)switch(A.tag()){case 2:var N=
A.getUInt32();for(N=A.pos()+N;A.pos()<N;)C.lengths.push(A.getUInt32());break;case 3:N=A.getUInt32();for(N=A.pos()+N;A.pos()<N;)C.coords.push(A.getSInt64());break;case 1:H=d.optimizedGeometryTypes[A.getEnum()];break;default:A.skip()}return{queryGeometry:C,queryGeometryType:H}}function k(A){for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:return A.getString();case 2:return A.getFloat();case 3:return A.getDouble();case 4:return A.getSInt32();case 5:return A.getUInt32();case 6:return A.getInt64();
case 7:return A.getUInt64();case 8:return A.getSInt64();case 9:return A.getBool();default:return A.skip(),null}return null}function l(A){A=A.asUnsafe();const C={type:p(0)};for(;A.next();)switch(A.tag()){case 1:C.name=A.getString();break;case 2:C.type=p(A.getEnum());break;case 3:C.alias=A.getString();break;case 4:var H=A.getEnum();H=H>=x.length?null:x[H];C.sqlType=H;break;case 5:A.skip();break;case 6:C.defaultValue=A.getString();break;default:A.skip()}return C}function w(A){const C={};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:C.name=
A.getString();break;case 2:C.isSystemMaintained=A.getBool();break;default:A.skip()}return C}function q(A,C,H,N){const I=C.createFeature(H);let E=0;for(;A.next();)switch(A.tag()){case 1:const G=N[E++].name;I.attributes[G]=A.processMessage(k);break;case 2:I.geometry=A.processMessageWithArgs(f,C,H);break;case 4:I.centroid=A.processMessageWithArgs(n,C,H);break;default:A.skip()}return I}function m(A){const C=[1,1,1,1];for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:C[0]=A.getDouble();break;case 2:C[1]=
A.getDouble();break;case 4:C[2]=A.getDouble();break;case 3:C[3]=A.getDouble();break;default:A.skip()}return C}function h(A){const C=[0,0,0,0];for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:C[0]=A.getDouble();break;case 2:C[1]=A.getDouble();break;case 4:C[2]=A.getDouble();break;case 3:C[3]=A.getDouble();break;default:A.skip()}return C}function t(A){const C={originPosition:0>=B.length?null:B[0]};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:var H=A.getEnum();C.originPosition=H>=B.length?
null:B[H];break;case 2:C.scale=A.processMessage(m);break;case 3:C.translate=A.processMessage(h);break;default:A.skip()}return C}function y(A){const C={};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:C.shapeAreaFieldName=A.getString();break;case 2:C.shapeLengthFieldName=A.getString();break;case 3:C.units=A.getString();break;default:A.skip()}return C}function u(A,C){for(C=C.createSpatialReference();A.next();)switch(A.tag()){case 1:C.wkid=A.getUInt32();break;case 5:C.wkt=A.getString();break;case 2:C.latestWkid=
A.getUInt32();break;case 3:C.vcsWkid=A.getUInt32();break;case 4:C.latestVcsWkid=A.getUInt32();break;default:A.skip()}return C}function r(A,C){const H=C.createFeatureResult();A=A.asUnsafe();H.geometryType=0>=C.geometryTypes.length?null:C.geometryTypes[0];let N=!1;for(;A.next();)switch(A.tag()){case 1:H.objectIdFieldName=A.getString();break;case 3:H.globalIdFieldName=A.getString();break;case 4:H.geohashFieldName=A.getString();break;case 5:H.geometryProperties=A.processMessage(y);break;case 7:var I=
A.getEnum();H.geometryType=I>=C.geometryTypes.length?null:C.geometryTypes[I];break;case 8:H.spatialReference=A.processMessageWithArgs(u,C);break;case 10:H.hasZ=A.getBool();break;case 11:H.hasM=A.getBool();break;case 12:H.transform=A.processMessage(t);break;case 9:H.exceededTransferLimit=A.getBool();break;case 13:C.addField(H,A.processMessage(l));break;case 15:N||(C.prepareFeatures(H),N=!0);C.addFeature(H,A.processMessageWithArgs(q,C,H,H.fields));break;case 2:H.uniqueIdField=A.processMessage(w);break;
default:A.skip()}C.finishFeatureResult(H);return H}function z(A,C){const H={};let N=null;for(;A.next();)switch(A.tag()){case 4:N=A.processMessageWithArgs(g);break;case 1:H.featureResult=A.processMessageWithArgs(r,C);break;default:A.skip()}null!=N&&H.featureResult&&C.addQueryGeometry(H,N);return H}const v="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML esriFieldTypeBigInteger esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "),
x="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),B=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(A,C){try{const H=new c(new Uint8Array(A),new DataView(A));
for(A={};H.next();)switch(H.tag()){case 2:A.queryResult=H.processMessageWithArgs(z,C);break;default:H.skip()}return A}catch(H){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:H});}};a.parseField=l;a.parseFieldType=p;a.parseTransform=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,b){var c;(function(n){n[n.varint=0]="varint";n[n.fixed64=1]="fixed64";n[n.delimited=2]="delimited";
n[n.fixed32=5]="fixed32";n[n.unknown=99]="unknown"})(c||={});const e=new TextDecoder("utf-8"),d=a("safari")||a("ios")?6:a("ff")?12:32;class p{constructor(n,f,g=0,k=n?n.byteLength:0){this._tag=0;this._dataType=c.unknown;this._init(n,f,g,k)}_init(n,f,g,k){this._data=n;this._dataView=f;this._pos=g;this._end=k}asUnsafe(){return this}clone(){return new p(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(n){this._pos=n}nextTag(n){for(;;){if(this._pos===this._end)return!1;const f=
this._decodeVarint();this._tag=f>>3;this._dataType=f&7;if(!n||n===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const n=this._decodeVarint();this._tag=n>>3;this._dataType=n&7;return!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let n=4294967295;n=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return n;n=(n|(this._data[this._pos]&127)<<7)>>>0;if(128>
this._data[this._pos++])return n;n=(n|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return n;n=(n|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return n;n=(n|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return n;throw Error("Varint overflow");}getUInt64(){return this._decodeVarint()}getSInt32(){const n=this.getUInt32();return n>>>1^-(n&1)|0}getSInt64(){return this._decodeSVarint()}getBool(){const n=0!==this._data[this._pos];this._skip(1);
return n}getEnum(){return this._decodeVarint()}getFixed64(){var n=this._dataView;const f=this._pos;n=n.getUint32(f,!0)+4294967296*n.getUint32(f+4,!0);this._skip(8);return n}getSFixed64(){var n=this._dataView;const f=this._pos;n=n.getUint32(f,!0)+4294967296*n.getInt32(f+4,!0);this._skip(8);return n}getDouble(){const n=this._dataView.getFloat64(this._pos,!0);this._skip(8);return n}getFixed32(){const n=this._dataView.getUint32(this._pos,!0);this._skip(4);return n}getSFixed32(){const n=this._dataView.getInt32(this._pos,
!0);this._skip(4);return n}getFloat(){const n=this._dataView.getFloat32(this._pos,!0);this._skip(4);return n}getString(){const n=this._getLength();var f=this._pos;f=this._toString(this._data,f,f+n);this._skip(n);return f}getBytes(){const n=this._getLength();var f=this._pos;f=this._toBytes(this._data,f,f+n);this._skip(n);return f}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(n,f,g,k){const l=this.getMessage();n=n(l,f,g,k);l.release();return n}processMessage(n){const f=this.getMessage();
n=n(f);f.release();return n}getMessage(){const n=this._getLength(),f=p.pool.acquire();f._init(this._data,this._dataView,this._pos,this._pos+n);this._skip(n);return f}release(){p.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case c.varint:this._decodeVarint();break;case c.fixed64:this._skip(8);break;case c.delimited:this._skip(this._getLength());break;case c.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}}skipLen(n){this._skip(n)}_skip(n){if(this._pos+
n>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=n}_decodeVarint(){const n=this._data;let f=this._pos,g=0,k=0;if(10<=this._end-f){if(k=n[f++],g|=k&127,0!==(k&128)&&(k=n[f++],g|=(k&127)<<7,0!==(k&128)&&(k=n[f++],g|=(k&127)<<14,0!==(k&128)&&(k=n[f++],g|=(k&127)<<21,0!==(k&128)&&(k=n[f++],g+=268435456*(k&127),0!==(k&128)&&(k=n[f++],g+=34359738368*(k&127),0!==(k&128)&&(k=n[f++],g+=4398046511104*(k&127),0!==(k&128)&&(k=n[f++],g+=562949953421312*(k&127),0!==(k&128)&&(k=n[f++],
g+=72057594037927936*(k&127),0!==(k&128)&&(k=n[f++],g+=0x7fffffffffffffff*(k&127),0!==(k&128)))))))))))throw Error("Varint too long!");}else{let l=1;for(;f!==this._end;){k=n[f];if(0===(k&128))break;++f;g+=(k&127)*l;l*=128}if(f===this._end)throw Error("Varint overrun!");++f;g+=k*l}this._pos=f;return g}_decodeSVarint(){const n=this._data;let f=0;const g=n[this._pos]&1;f=n[this._pos++];var k=0|f&127;if(0===(f&128))return g?-(k+1)/2:k/2;f=n[this._pos++];k|=(f&127)<<7;if(0===(f&128))return g?-(k+1)/2:
k/2;f=n[this._pos++];k|=(f&127)<<14;if(0===(f&128))return g?-(k+1)/2:k/2;f=n[this._pos++];k|=(f&127)<<21;if(0===(f&128))return g?-(k+1)/2:k/2;f=n[this._pos++];k+=268435456*(f&127);if(0===(f&128))return g?-(k+1)/2:k/2;f=n[this._pos++];k+=34359738368*(f&127);if(0===(f&128))return g?-(k+1)/2:k/2;f=n[this._pos++];k+=4398046511104*(f&127);if(0===(f&128))return g?-(k+1)/2:k/2;k=BigInt(k);f=n[this._pos++];k+=562949953421312n*BigInt(f&127);if(0===(f&128))return Number(g?-(k+1n)/2n:k/2n);f=n[this._pos++];
k+=72057594037927936n*BigInt(f&127);if(0===(f&128))return Number(g?-(k+1n)/2n:k/2n);f=n[this._pos++];k+=9223372036854775808n*BigInt(f&127);if(0===(f&128))return Number(g?-(k+1n)/2n:k/2n);throw Error("Varint too long!");}_getLength(){if(this._dataType!==c.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(n,f,g){g=Math.min(this._end,g);if(g-f>d)return n=n.subarray(f,g),e.decode(n);let k="",l="";for(;f<g;++f){const w=
n[f];w&128?l+="%"+w.toString(16):(k+=decodeURIComponent(l)+String.fromCharCode(w),l="")}l.length&&(k+=decodeURIComponent(l));return k}_toBytes(n,f,g){g=Math.min(this._end,g);return new Uint8Array(n.buffer,f,g-f)}}p.pool=new b(p,void 0,n=>{n._data=null;n._dataView=null});return p})},"esri/layers/graphics/OptimizedGeometry":function(){define(function(){class a{constructor(b=[],c=[],e=!1){this.lengths=b??[];this.coords=c??[];this.hasIndeterminateRingOrder=e}static fromJSON(b){return new a(b.lengths,
b.coords,b.hasIndeterminateRingOrder)}static fromRect(b){const [c,e,d,p]=b;b=d-c;const n=p-e;return new a([5],[c,e,b,0,0,n,-b,0,0,-n])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((b,c)=>b+c)}forEachVertex(b){let c=0;this.lengths.length||b(this.coords[0],this.coords[1]);for(let e=0;e<this.lengths.length;e++){const d=this.lengths[e];for(let p=0;p<d;p++)b(this.coords[2*(p+c)],this.coords[2*(p+c)+1]);c+=d}}deltaDecode(){const b=
this.clone(),{coords:c,lengths:e}=b;let d=0;for(const p of e){for(let n=1;n<p;n++)c[2*(d+n)]+=c[2*(d+n)-2],c[2*(d+n)+1]+=c[2*(d+n)-1];d+=p}return b}clone(b){if(0===this.lengths.length)return new a([],[this.coords[0],this.coords[1]]);var c=2*(0===this.lengths.length?1:this.lengths.reduce((e,d)=>e+d));c=this.coords.slice(0,c);return b?(b.set(c),new a(this.lengths,b,this.hasIndeterminateRingOrder)):new a(Array.from(this.lengths),Array.from(c),this.hasIndeterminateRingOrder)}}return a})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(a,b,c,e,d,p){const n=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class f{constructor(g){this._options=g;this.geometryTypes=n;this._vertexDimension=this._coordinatePtr=0}createFeatureResult(){return new d}prepareFeatures(g){this._vertexDimension=2;g.hasZ&&this._vertexDimension++;g.hasM&&this._vertexDimension++}finishFeatureResult(g){if(g?.features&&g.hasZ&&this._options.sourceSpatialReference&&g.spatialReference&&!c.equals(g.spatialReference,
this._options.sourceSpatialReference)&&!g.spatialReference.vcsWkid){var k=b.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),l=b.getMetersPerVerticalUnitForSR(g.spatialReference);k/=l;if(1!==k)for(const w of g.features)if(e.hasGeometry(w))for(g=w.geometry.coords,l=2;l<g.length;l+=3)g[l]*=k}}addFeature(g,k){g.features.push(k)}createFeature(){return new e.OptimizedFeature}createSpatialReference(){return{wkid:0}}createGeometry(){return new p}addField(g,k){g.fields.push(k)}allocateCoordinates(g){g.coords.length=
g.lengths.reduce((k,l)=>k+l,0)*this._vertexDimension;this._coordinatePtr=0}addCoordinate(g,k){g.coords[this._coordinatePtr++]=k}addCoordinatePoint(g,k){g.coords.push(k)}addLength(g,k){g.lengths.push(k)}addQueryGeometry(g,k){g.queryGeometry=k.queryGeometry;g.queryGeometryType=k.queryGeometryType}createPointGeometry(){return new p}}a.OptimizedFeatureSetParserContext=f;a.optimizedGeometryTypes=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports",
"./OptimizedGeometry"],function(a,b){class c{constructor(d=null,p={},n,f){this.geometry=d;this.attributes=p;this.centroid=n;this.objectId=f;this.geohashY=this.geohashX=this.displayId=0}static fromJSON(d,p){const n=d.geometry?b.fromJSON(d.geometry):null,f=d.centroid?b.fromJSON(d.centroid):null;return new c(n,d.attributes,f,d.attributes[p])}weakClone(){const d=new c(this.geometry,this.attributes,this.centroid,this.objectId);d.displayId=this.displayId;d.geohashX=this.geohashX;d.geohashY=this.geohashY;
return d}clone(){var d=this.geometry?.clone();d=new c(d,{...this.attributes},this.centroid?.clone(),this.objectId);d.displayId=this.displayId;d.geohashX=this.geohashX;d.geohashY=this.geohashY;return d}}class e extends c{}a.OptimizedFeature=c;a.OptimizedFeatureWithGeometry=e;a.hasGeometry=function(d){return!!d.geometry?.coords?.length};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){class a{constructor(){this.spatialReference=
this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}weakClone(){const b=new a;b.objectIdFieldName=this.objectIdFieldName;b.globalIdFieldName=this.globalIdFieldName;b.geohashFieldName=this.geohashFieldName;b.geometryProperties=this.geometryProperties;b.geometryType=this.geometryType;
b.spatialReference=this.spatialReference;b.hasZ=this.hasZ;b.hasM=this.hasM;b.features=this.features;b.fields=this.fields;b.transform=this.transform;b.exceededTransferLimit=this.exceededTransferLimit;b.uniqueIdField=this.uniqueIdField;b.queryGeometry=this.queryGeometry;b.queryGeometryType=this.queryGeometryType;return b}}return a})},"esri/rest/query/executeForExtent":function(){define("exports ../../geometry ../utils ./operations/query ../support/Query ../../geometry/Extent".split(" "),function(a,
b,c,e,d,p){a.executeForExtent=async function(n,f,g){n=c.parseUrl(n);f=await e.executeQueryForExtent(n,d.from(f),{...g});g=f.data.extent;return!g||isNaN(g.xmin)||isNaN(g.ymin)||isNaN(g.xmax)||isNaN(g.ymax)?{count:f.data.count,extent:null}:{count:f.data.count,extent:p.fromJSON(g)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeForIds":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,c,e){a.executeForIds=async function(d,
p,n){d=b.parseUrl(d);({data:p}=await c.executeQueryForIds(d,e.from(p),n));return p.objectIds};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryJSON":function(){define(["exports","../utils","./operations/query","../support/FeatureSet","../support/Query"],function(a,b,c,e,d){async function p(n,f,g){n=b.parseUrl(n);g={...g};f=d.from(f);({data:f}=await c.executeQuery(n,f,f.sourceSpatialReference,g));return f}a.executeQueryJSON=async function(n,f,g){n=await p(n,
f,g);return e.fromJSON(n)};a.executeRawQueryJSON=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),function(a,b,c,e,d,p){async function n(f,g,k){f=b.parseUrl(f);k={...k};g=p.from(g);({data:g}=await e.executeQueryPBF(f,g,new c.JSONFeatureSetParserContext({sourceSpatialReference:g.sourceSpatialReference,applyTransform:!g.quantizationParameters}),
k));return g}a.executeQueryPBF=async function(f,g,k){f=await n(f,p.from(g),k);return d.fromJSON(f)};a.executeRawQueryPBF=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports","../../../core/maybe","../../../geometry/support/zscale","../../../layers/graphics/featureConversionUtils"],function(a,b,c,e){function d(q,m){return m}function p(q,m,h,t){switch(h){case 0:return k(q,m+t,0);case 1:return"lowerLeft"===q.originPosition?
k(q,m+t,1):l(q,m+t,1)}}function n(q,m,h,t){switch(h){case 2:return k(q,m,2);default:return p(q,m,h,t)}}function f(q,m,h,t){switch(h){case 2:return 0===m?0:k(q,m,3);default:return p(q,m,h,t)}}function g(q,m,h,t){switch(h){case 3:return 0===m?0:k(q,m,3);default:return n(q,m,h,t)}}function k({translate:q,scale:m},h,t){return q[t]+h*m[t]}function l({translate:q,scale:m},h,t){return q[t]-h*m[t]}class w{constructor(q){this._options=q;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline",
"esriGeometryPolygon"];this._previousCoordinate=[0,0];this._transform=null;this._applyTransform=d;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=this._mValueOffset=null;this._coordinateBufferPtr=0;this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(q){this._options.applyTransform&&(q.transform=null);this._attributesConstructor=class{};this._coordinateBuffer=null;this._lengths.length=
0;if(q.hasZ){var m=c.getGeometryZScaler(q.geometryType,this._options.sourceSpatialReference,q.spatialReference);if(null!=m)for(const h of q.features)m(h.geometry)}}createSpatialReference(){return{}}addField(q,m){q=q.fields;b.assertIsSome(q);q.push(m);const h=q.map(t=>t.name);this._attributesConstructor=function(){for(const t of h)this[t]=null}}addFeature(q,m){q.features.push(m)}prepareFeatures(q){this._transform=q.transform;this._options.applyTransform&&q.transform&&(this._applyTransform=this._deriveApplyTransform(q));
this._mValueOffset=null;this._vertexDimension=2;q.hasZ&&this._vertexDimension++;q.hasM&&(this._mValueOffset=this._vertexDimension,this._vertexDimension++);switch(q.geometryType){case "esriGeometryPoint":this.addCoordinate=(m,h,t)=>this.addCoordinatePoint(m,h,t);this.createGeometry=m=>this.createPointGeometry(m);break;case "esriGeometryPolygon":this.addCoordinate=(m,h,t)=>this._addCoordinatePolygon(m,h,t);this.createGeometry=m=>this._createPolygonGeometry(m);break;case "esriGeometryPolyline":this.addCoordinate=
(m,h,t)=>this._addCoordinatePolyline(m,h,t);this.createGeometry=m=>this._createPolylineGeometry(m);break;case "esriGeometryMultipoint":this.addCoordinate=(m,h,t)=>this._addCoordinateMultipoint(m,h,t),this.createGeometry=m=>this._createMultipointGeometry(m)}}createFeature(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;return{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(q,
m,h){0===this._lengths.length&&(this._toAddInCurrentPath=m);this._lengths.push(m)}addQueryGeometry(q,m){const {queryGeometry:h,queryGeometryType:t}=m;m=e.unquantizeOptimizedGeometry(h.clone(),h,!1,!1,this._transform);m=e.convertToGeometry(m,t,!1,!1);q.queryGeometryType=t;q.queryGeometry={...m}}createPointGeometry(q){const m={x:0,y:0,spatialReference:q.spatialReference};q.hasZ&&(m.z=0);q.hasM&&(m.m=0);return m}addCoordinatePoint(q,m,h){m=this._applyTransform(this._transform,m,h,0);switch(h){case 0:q.x=
m;break;case 1:q.y=m;break;case 2:"z"in q?q.z=m:q.m=m;break;case 3:q.m=m}}_transformPathLikeValue(q,m){let h=0;1>=m&&(h=this._previousCoordinate[m],this._previousCoordinate[m]+=q);return null!==this._mValueOffset&&0===q&&0<m&&!(m%this._mValueOffset)?0:this._applyTransform(this._transform,q,m,h)}_addCoordinatePolyline(q,m,h){this._dehydratedAddPointsCoordinate(q.paths,m,h)}_addCoordinatePolygon(q,m,h){this._dehydratedAddPointsCoordinate(q.rings,m,h)}_addCoordinateMultipoint(q,m,h){0===h&&q.points.push([]);
m=this._transformPathLikeValue(m,h);q.points[q.points.length-1].push(m)}_createPolygonGeometry(q){return{rings:[[]],spatialReference:q.spatialReference,hasZ:!!q.hasZ,hasM:!!q.hasM}}_createPolylineGeometry(q){return{paths:[[]],spatialReference:q.spatialReference,hasZ:!!q.hasZ,hasM:!!q.hasM}}_createMultipointGeometry(q){return{points:[],spatialReference:q.spatialReference,hasZ:!!q.hasZ,hasM:!!q.hasM}}_dehydratedAddPointsCoordinate(q,m,h){0===h&&0===this._toAddInCurrentPath--&&(q.push([]),this._toAddInCurrentPath=
this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);m=this._transformPathLikeValue(m,h);q=q[q.length-1];0===h&&(this._coordinateBufferPtr=0,this._coordinateBuffer=Array(this._vertexDimension),q.push(this._coordinateBuffer));this._coordinateBuffer[this._coordinateBufferPtr++]=m}_deriveApplyTransform(q){const {hasZ:m,hasM:h}=q;return m&&h?g:m?n:h?f:p}}a.JSONFeatureSetParserContext=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(a,b,c,e,d,p,n,f,g,k){function l(W,da){return W?da?4:3:da?3:2}function w(W,da,ja,M){if(W){if(ja)return da&&M?Q:ua;if(da&&M)return K}else if(da&&M)return ua;return ha}function q({scale:W,translate:da},
ja){return Math.round((ja-da[0])/W[0])}function m({scale:W,translate:da},ja){return Math.round((da[1]-ja)/W[1])}function h({scale:W,translate:da},ja,M){return ja*W[M]+da[M]}function t(W){W=W.coords;return{x:W[0],y:W[1]}}function y(W,da){W.coords[0]=da.x;W.coords[1]=da.y;return W}function u(W){W=W.coords;return{x:W[0],y:W[1],z:W[2]}}function r(W,da){W.coords[0]=da.x;W.coords[1]=da.y;W.coords[2]=da.z;return W}function z(W){W=W.coords;return{x:W[0],y:W[1],m:W[2]}}function v(W,da){W.coords[0]=da.x;W.coords[1]=
da.y;W.coords[2]=da.m;return W}function x(W){W=W.coords;return{x:W[0],y:W[1],z:W[2],m:W[3]}}function B(W,da){W.coords[0]=da.x;W.coords[1]=da.y;W.coords[2]=da.z;W.coords[3]=da.m;return W}function A(W,da){return W&&da?B:W?r:da?v:y}function C(W,da,ja,M,S){ja=A(ja,M);for(const {geometry:X,attributes:ma}of da)da=null!=X?ja(new k,X):null,W.push(new f.OptimizedFeature(da,ma,null,S?ma[S]:void 0));return W}function H(W,da,ja=A(null!=da.z,null!=da.m)){return ja(W,da)}function N(W,da,ja,M){for(const {geometry:S,
attributes:X}of da)W.push({attributes:X,geometry:null!=S?I(S,ja,M):null});return W}function I(W,da,ja){if(null==W)return null;const M=l(da,ja),S=[];for(let X=0;X<W.coords.length;X+=M){const ma=[];for(let ya=0;ya<M;ya++)ma.push(W.coords[X+ya]);S.push(ma)}return da?ja?{points:S,hasZ:da,hasM:ja}:{points:S,hasZ:da}:ja?{points:S,hasM:ja}:{points:S}}function E(W,da,ja,M,S){ja=l(ja,M);for(const {geometry:X,attributes:ma}of da)da=null!=X?G(new k,X,ja):null,W.push(new f.OptimizedFeature(da,ma,null,S?ma[S]:
void 0));return W}function G(W,da,ja=l(da.hasZ,da.hasM)){W.lengths[0]=da.points.length;const M=W.coords;let S=0;for(const X of da.points)for(da=0;da<ja;da++)M[S++]=X[da];return W}function L(W,da,ja){if(!W)return null;const M=l(da,ja),{coords:S,lengths:X}=W;W=[];let ma=0;for(const ya of X){const Ia=[];for(let fa=0;fa<ya;fa++){const oa=[];for(let ta=0;ta<M;ta++)oa.push(S[ma++]);Ia.push(oa)}W.push(Ia)}return da?ja?{paths:W,hasZ:da,hasM:ja}:{paths:W,hasZ:da}:ja?{paths:W,hasM:ja}:{paths:W}}function R(W,
da,ja,M,S){ja=l(ja,M);for(const {geometry:X,attributes:ma,centroid:ya}of da)da=null!=X?F(new k,X,ja):null,M=null!=ya?H(new k,ya):null,W.push(new f.OptimizedFeature(da,ma,M,S?ma[S]:void 0));return W}function F(W,da,ja=l(da.hasZ,da.hasM)){const {lengths:M,coords:S}=W;let X=0;for(const ma of da.paths){for(const ya of ma)for(da=0;da<ja;da++)S[X++]=ya[da];M.push(ma.length)}return W}function J(W,da,ja){if(!W)return null;const M=l(da,ja),{coords:S,lengths:X}=W;W=[];let ma=0;for(const ya of X){const Ia=[];
for(let fa=0;fa<ya;fa++){const oa=[];for(let ta=0;ta<M;ta++)oa.push(S[ma++]);Ia.push(oa)}W.push(Ia)}return da?ja?{rings:W,hasZ:da,hasM:ja}:{rings:W,hasZ:da}:ja?{rings:W,hasM:ja}:{rings:W}}function O(W,da,ja=da.hasZ,M=da.hasM){return U(W,da.rings,ja,M)}function U(W,da,ja,M){ja=l(ja,M);const {lengths:S,coords:X}=W;M=0;Aa(W);for(const ma of da){for(const ya of ma)for(da=0;da<ja;da++)X[M++]=ya[da];S.push(ma.length)}return W}function T(W,da,ja,M,S,X){ea(W);if(!ja){for(const ma of da)W.push(new f.OptimizedFeature(null,
ma.attributes,null,X?ma.attributes[X]:void 0));return W}switch(ja){case "esriGeometryPoint":return C(W,da,M,S,X);case "esriGeometryMultipoint":return E(W,da,M,S,X);case "esriGeometryPolyline":return R(W,da,M,S,X);case "esriGeometryPolygon":for(const {geometry:ma,centroid:ya,attributes:Ia}of da)da=null!=ma?O(new k,ma,M,S):null,ja=X?Ia[X]:void 0,null!=ya?W.push(new f.OptimizedFeature(da,Ia,y(new k,ya),ja)):W.push(new f.OptimizedFeature(da,Ia,null,ja));break;default:ca().error("convertToFeatureSet:unknown-geometry",
new b(`Unable to parse unknown geometry type '${ja}'`)),ea(W)}return W}function Z(W,da,ja,M){W=W&&("coords"in W?W:W.geometry);if(null==W)return null;switch(da){case "esriGeometryPoint":return da=t,ja&&M?da=x:ja?da=u:M&&(da=z),da(W);case "esriGeometryMultipoint":return I(W,ja,M);case "esriGeometryPolyline":return L(W,ja,M);case "esriGeometryPolygon":return J(W,ja,M);default:return ca().error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${da}'`)),null}}function V(W,
da,ja,M,S){ea(W);if(null==ja){for(const ma of da)W.push({attributes:ma.attributes});return W}switch(ja){case "esriGeometryPoint":ja=t;M&&S?ja=x:M?ja=u:S&&(ja=z);for(var X of da){const {geometry:ma,attributes:ya}=X;M=null!=ma?ja(ma):null;W.push({attributes:ya,geometry:M})}break;case "esriGeometryMultipoint":return N(W,da,M,S);case "esriGeometryPolyline":for(const {geometry:ma,attributes:ya}of da)W.push({attributes:ya,geometry:null!=ma?L(ma,M,S):null});break;case "esriGeometryPolygon":for(const {geometry:ma,
attributes:ya,centroid:Ia}of da)X=null!=ma?J(ma,M,S):null,null!=Ia?(da=t(Ia),W.push({attributes:ya,centroid:da,geometry:X})):W.push({attributes:ya,geometry:X});break;default:ca().error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ja}'`))}return W}function qa(W,da,ja,M,S,X,ma=ja,ya=M){Aa(W);if(!da?.coords.length)return null;S=Y[S];const {coords:Ia,lengths:fa}=da;da=l(ja,M);const oa=l(ja&&ma,M&&ya);ja=w(ja,M,ma,ya);if(!fa.length)return ja(W.coords,Ia,0,0,q(X,
Ia[0]),m(X,Ia[1])),Aa(W,da,0),W;let ta,Fa=0,Ea,Qa=0;for(const Pa of fa){if(Pa<S)continue;let Ra=0;Ea=Qa;ya=M=q(X,Ia[Fa]);ta=ma=m(X,Ia[Fa+1]);ja(W.coords,Ia,Ea,Fa,ya,ta);Ra++;Fa+=da;Ea+=oa;for(let Sa=1;Sa<Pa;Sa++,Fa+=da)if(ya=q(X,Ia[Fa]),ta=m(X,Ia[Fa+1]),ya!==M||ta!==ma)ja(W.coords,Ia,Ea,Fa,ya-M,ta-ma),Ea+=oa,Ra++,M=ya,ma=ta;Ra>=S&&(W.lengths.push(Ra),Qa=Ea)}ea(W.coords,Qa);return W.coords.length?W:null}function Ca(W,da,ja,M,S,X,ma){let ya=M,Ia=0;for(let oa=X+ja;oa<ma;oa+=ja){var fa=da[oa];const ta=
da[oa+1],Fa=da[ma],Ea=da[ma+1];let Qa=da[X],Pa=da[X+1],Ra=Fa-Qa,Sa=Ea-Pa;if(0!==Ra||0!==Sa){const na=((fa-Qa)*Ra+(ta-Pa)*Sa)/(Ra*Ra+Sa*Sa);1<na?(Qa=Fa,Pa=Ea):0<na&&(Qa+=Ra*na,Pa+=Sa*na)}Ra=fa-Qa;Sa=ta-Pa;fa=Ra*Ra+Sa*Sa;fa>ya&&(Ia=oa,ya=fa)}ya>M&&(Ia-X>ja&&Ca(W,da,ja,M,S,X,Ia),S(W,da,W.length,Ia,da[Ia],da[Ia+1]),ma-Ia>ja&&Ca(W,da,ja,M,S,Ia,ma))}function va(W,da,ja,M,S){const {coords:X,lengths:ma}=da;ja=l(ja,M);if(!X.length)return W!==da&&Aa(W),W;e.assertIsSome(S);const {originPosition:ya,scale:Ia,
translate:fa}=S;S=Ba;S.originPosition=ya;M=S.scale;M[0]=Ia[0]??1;M[1]=-(Ia[1]??1);M[2]=Ia[2]??1;M[3]=Ia[3]??1;var oa=S.translate;oa[0]=fa[0]??0;oa[1]=fa[1]??0;oa[2]=fa[2]??0;oa[3]=fa[3]??0;if(!ma.length){for(M=0;M<ja;++M)W.coords[M]=h(S,X[M],M);W!==da&&Aa(W,ja,0);return W}oa=0;for(let Fa=0;Fa<ma.length;Fa++){const Ea=ma[Fa];W.lengths[Fa]=Ea;for(var ta=0;ta<ja;++ta)W.coords[oa+ta]=h(S,X[oa+ta],ta);ta=W.coords[oa];let Qa=W.coords[oa+1];oa+=ja;for(let Pa=1;Pa<Ea;Pa++,oa+=ja){ta+=X[oa]*M[0];Qa+=X[oa+
1]*M[1];W.coords[oa]=ta;W.coords[oa+1]=Qa;for(let Ra=2;Ra<ja;++Ra)W.coords[oa+Ra]=h(S,X[oa+Ra],Ra)}}W!==da&&Aa(W,X.length,ma.length);return W}function ra(W,da,ja,M){let S=0,X=W[M*da],ma=W[M*(da+1)];for(let ya=1;ya<ja;ya++){const Ia=X+W[M*(da+ya)],fa=ma+W[M*(da+ya)+1],oa=(Ia-X)*(fa+ma);X=Ia;ma=fa;S+=oa}return.5*S}function Aa(W,da=0,ja=0){ea(W.lengths,ja);ea(W.coords,da)}function ea(W,da=0){W.length!==da&&(W.length=da)}const ca=()=>c.getLogger("esri.layers.graphics.featureConversionUtils"),Y={esriGeometryPoint:0,
esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryEnvelope:0},ha=(W,da,ja,M,S,X)=>{W[ja]=S;W[ja+1]=X},ua=(W,da,ja,M,S,X)=>{W[ja]=S;W[ja+1]=X;W[ja+2]=da[M+2]},K=(W,da,ja,M,S,X)=>{W[ja]=S;W[ja+1]=X;W[ja+2]=da[M+3]},Q=(W,da,ja,M,S,X)=>{W[ja]=S;W[ja+1]=X;W[ja+2]=da[M+2];W[ja+3]=da[M+3]},ia=[],ka=[],Ba={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};a.convertFromFeature=function(W,da,ja,M,S){ia[0]=W;[W]=T(ka,ia,da,ja,M,S);ea(ia);ea(ka);return W};a.convertFromFeatureSet=
function(W,da){const ja=new g,{hasM:M,hasZ:S,features:X,objectIdFieldName:ma,spatialReference:ya,geometryType:Ia,exceededTransferLimit:fa,transform:oa,fields:ta}=W;ta&&(ja.fields=ta);ja.geometryType=Ia??null;ja.objectIdFieldName=ma??da??null;ja.spatialReference=ya??null;if(!ja.objectIdFieldName)return ca().error(new b("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),ja;X&&T(ja.features,X,Ia,S,M,ja.objectIdFieldName);fa&&(ja.exceededTransferLimit=fa);M&&(ja.hasM=M);S&&
(ja.hasZ=S);oa&&(ja.transform=oa);return ja};a.convertFromFeatures=T;a.convertFromGeometry=function(W,da,ja){if(null==W)return null;const M=new k;"hasZ"in W&&null==da&&(da=W.hasZ);"hasM"in W&&null==ja&&(ja=W.hasM);if(n.isPoint(W))return A(null!=da?da:null!=W.z,null!=ja?ja:null!=W.m)(M,W);if(n.isPolygon(W))return O(M,W,da,ja);if(n.isPolyline(W))return F(M,W,l(da,ja));if(n.isMultipoint(W))return G(M,W,l(da,ja));ca().error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${W}'`))};
a.convertFromMultipoint=G;a.convertFromMultipointFeatures=E;a.convertFromNestedArray=U;a.convertFromPoint=H;a.convertFromPointFeatures=C;a.convertFromPolygon=O;a.convertFromPolyline=F;a.convertFromPolylineFeatures=R;a.convertToFeature=function(W,da,ja,M){ka[0]=W;V(ia,ka,da,ja,M);W=ia[0];ea(ia);ea(ka);return W};a.convertToFeatureSet=function(W){const {objectIdFieldName:da,spatialReference:ja,transform:M,fields:S,hasM:X,hasZ:ma,features:ya,geometryType:Ia,exceededTransferLimit:fa,uniqueIdField:oa,queryGeometry:ta,
queryGeometryType:Fa}=W;W=V([],ya,Ia,ma,X);const Ea=Z(ta,Fa,!1,!1);W={features:W,fields:S,geometryType:Ia,objectIdFieldName:da,spatialReference:ja,uniqueIdField:oa,queryGeometry:Ea};M&&(W.transform=M);fa&&(W.exceededTransferLimit=fa);X&&(W.hasM=X);ma&&(W.hasZ=ma);return W};a.convertToFeatures=V;a.convertToGeometry=Z;a.convertToMultipoint=I;a.convertToMultipointFeatures=N;a.convertToPoint=function(W,da,ja){return W?da?ja?x(W):u(W):ja?z(W):t(W):null};a.convertToPolygon=J;a.convertToPolyline=L;a.generalizeOptimizedGeometry=
function(W,da,ja,M,S,X,ma=ja,ya=M){Aa(W);if(!da?.coords.length)return null;S=Y[S];const {coords:Ia,lengths:fa}=da;da=l(ja,M);const oa=l(ja&&ma,M&&ya);ja=w(ja,M,ma,ya);if(!fa.length)return ja(W.coords,Ia,0,0,Ia[0],Ia[1]),Aa(W,da,0),W;M=0;X*=X;for(const ta of fa){if(ta<S){M+=ta*da;continue}ma=W.coords.length/oa;ya=M;const Fa=M+(ta-1)*da;ja(W.coords,Ia,W.coords.length,ya,Ia[ya],Ia[ya+1]);Ca(W.coords,Ia,da,X,ja,ya,Fa);ja(W.coords,Ia,W.coords.length,Fa,Ia[Fa],Ia[Fa+1]);ya=W.coords.length/oa-ma;ya>=S?W.lengths.push(ya):
ea(W.coords,ma*oa);M+=ta*da}return W.coords.length?W:null};a.getBoundsOptimizedGeometry=function(W,da,ja,M){if(!da?.coords?.length)return null;ja=l(ja,M);let S=M=Number.POSITIVE_INFINITY,X=Number.NEGATIVE_INFINITY,ma=Number.NEGATIVE_INFINITY;if(da&&da.coords){da=da.coords;for(let ya=0;ya<da.length;ya+=ja){const Ia=da[ya],fa=da[ya+1];M=Math.min(M,Ia);X=Math.max(X,Ia);S=Math.min(S,fa);ma=Math.max(ma,fa)}}d.is(W)?d.fromRectValues(W,M,S,X,ma):p.fromValues(M,S,X,ma,W);return W};a.getQuantizedArea=function(W,
da){const {coords:ja,lengths:M}=W;let S=W=0;for(let X=0;X<M.length;X++){const ma=M[X];S+=ra(ja,W,ma,da);W+=ma}return Math.abs(S)};a.getQuantizedBoundsOptimizedGeometry=function(W,da,ja,M){ja=l(ja,M);const {lengths:S,coords:X}=da;M=da=Number.POSITIVE_INFINITY;let ma=Number.NEGATIVE_INFINITY,ya=Number.NEGATIVE_INFINITY,Ia=0;for(const fa of S){let oa=X[Ia],ta=X[Ia+1];da=Math.min(oa,da);M=Math.min(ta,M);ma=Math.max(oa,ma);ya=Math.max(ta,ya);Ia+=ja;for(let Fa=1;Fa<fa;Fa++,Ia+=ja){const Ea=X[Ia],Qa=X[Ia+
1];oa+=Ea;ta+=Qa;0>Ea&&(da=Math.min(da,oa));0<Ea&&(ma=Math.max(ma,oa));0>Qa?M=Math.min(M,ta):0<Qa&&(ya=Math.max(ya,ta))}}W[0]=da;W[1]=M;W[2]=ma;W[3]=ya;return W};a.getSignedQuantizedRingArea=ra;a.quantizeOptimizedFeatureSet=function(W,da){const {geometryType:ja,features:M,hasM:S,hasZ:X}=da;if(!W)return da;for(let ma=0;ma<M.length;ma++){const ya=M[ma],Ia=ya.weakClone();Ia.geometry=new k;qa(Ia.geometry,ya.geometry,S,X,ja,W);ya.centroid&&(Ia.centroid=new k,qa(Ia.centroid,ya.centroid,S,X,"esriGeometryPoint",
W));M[ma]=Ia}da.transform=W;return da};a.quantizeOptimizedGeometry=qa;a.quantizeX=q;a.quantizeY=m;a.removeCollinearVertices=function(W,da,ja,M,S){if(!da?.coords?.length)return null;ja=Y[ja];const {coords:X,lengths:ma}=da;da=w(M,S,M,S);M=l(M,S);let ya=S=0,Ia=0,fa=0;for(const Fa of ma){ya=fa;da(W.coords,X,ya,S,X[S],X[S+1]);S+=M;var oa=X[S];let Ea=X[S+1],Qa=oa,Pa=Ea;var ta=Ea/oa;ya+=M;da(W.coords,X,ya,S,Qa,Pa);S+=M;for(let Ra=2;Ra<Fa;Ra++){oa=X[S];Ea=X[S+1];const Sa=Ea/oa,na=ta===Sa||!isFinite(ta)&&
!isFinite(Sa);ta=na&&isFinite(Sa)?0<=ta&&0<=Sa||0>=ta&&0>=Sa:0<=Pa&&0<=Ea||0>=Pa&&0>=Ea;na&&ta?(Qa+=oa,Pa+=Ea):(Qa=oa,Pa=Ea,ya+=M);da(W.coords,X,ya,S,Qa,Pa);S+=M;ta=Sa}ya+=M;oa=(ya-fa)/M;oa>=ja&&(W.lengths[Ia]=oa,fa=ya,Ia++)}W.coords.length>fa&&(W.coords.length=fa);W.lengths.length>Ia&&(W.lengths.length=Ia);return W.coords.length&&W.lengths.length?W:null};a.removeZMValues=function(W,da,ja,M,S,X){Aa(W);W.lengths.push(...da.lengths);if(ja===S&&M===X)for(var ma=0;ma<da.coords.length;ma++)W.coords.push(da.coords[ma]);
else for(ma=l(ja,M),ja=w(ja,M,S,X),da=da.coords,M=0;M<da.length;M+=ma)ja(W.coords,da,W.coords.length,M,da[M],da[M+1]);return W};a.unquantizeOptimizedFeatureSet=function(W){const {transform:da,features:ja,hasM:M,hasZ:S}=W;if(!da)return W;for(const X of ja)null!=X.geometry&&va(X.geometry,X.geometry,M,S,da),null!=X.centroid&&va(X.centroid,X.centroid,M,S,da);W.transform=null;return W};a.unquantizeOptimizedGeometry=va;a.unquantizeValue=h;a.unquantizeX=function(W,da){return h(W,da,0)};a.unquantizeY=function(W,
da){return h(W,-da,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/View":function(){define("../chunks/tslib.es6 ../Map ../TimeExtent ../core/Accessor ../core/asyncUtils ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/Handles ../core/handleUtils ../core/has ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../core/support/UpdatingHandles ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/AnalysesCollection ../support/GraphicsCollection ../time/timeZoneUtils ./BasemapView ./LayerViewManager ./Magnifier ./SelectionManager ./Theme ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A,C,H,N,I,E,G,L,R,F,J,O,U,T,Z,V,qa){function Ca(ra){return ra.layerViews}var va;e=va=class extends g.EventedMixin(t.EsriPromiseMixin(e)){constructor(ra){super(ra);this._cursor=this._userSpatialReference=null;this.handles=new k;this.updatingHandles=new B.UpdatingHandles;this.allLayerViews=new n({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:Ca});
this.fatalError=this.basemapView=this.groundView=null;this.graphics=new E.GraphicsCollection;this.analyses=new I.AnalysesCollection;this.typeSpecificPreconditionsReady=!0;this.layerViews=new p;this.magnifier=new F;this.padding={left:0,top:0,right:0,bottom:0};this.ready=!1;this.spatialReferenceWarningDelay=1E3;this.supportsGround=!0;this.scale=this.type=this.timeExtent=null;this.updating=!1;this.initialExtentRequired=!0;this.input=new T;this.navigation=new V;this.analysisViewManager=this.layerViewManager=
null;this.isHeightModelInfoRequired=!1;this.height=this.width=null;this.suspended=this.resizing=!1;this.viewEvents=new Z.ViewEvents(this);this.persistableViewModels=new p;this._readyCycleForced=this._isValid=!1;this.theme=this._lockedTimeZone=this._userTimeZone=this._lockedSpatialReference=null;this.handles.add(u.watch(()=>this.preconditionsReady,Aa=>{const ea=this.ready;Aa?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,va.views.add(this)):(this._lockedSpatialReference=
null,va.views.remove(this));this.notifyChange("spatialReference");if(!Aa&&ea)this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(Aa&&!ea){try{this._startup()}catch(ca){queueMicrotask(()=>{this.fatalError=new f("startup-error",null,ca)});return}null!=this.analysisViewManager&&this.analysisViewManager.attach();this.toolViewManager.attach()}},u.sync))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),
this.validate()]).then(()=>{this._isValid=!0;return u.whenOnce(()=>this.ready)}));this.basemapView=new L.BasemapView({view:this});this.layerViewManager=new R({view:this,layerViewImporter:{importLayerView:ra=>this.importLayerView(ra),hasLayerViewModule:ra=>this.hasLayerViewModule(ra)},supportsGround:this.supportsGround});this.toolViewManager=new U.ToolViewManager({view:this});this._setupSpatialReferenceLogger();this.selectionManager=new J({view:this});this.addHandles([u.watch(()=>this.initialExtentRequired,
ra=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:ra},u.syncAndInitial),u.watch(()=>this.ready,ra=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=ra,this.defaultsFromMap.userSpatialReference=ra?this.spatialReference:this._userSpatialReference)},u.sync),u.watch(()=>this._userSpatialReference,ra=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=ra)},u.syncAndInitial)])}_setupSpatialReferenceLogger(){let ra=null;this.addHandles([u.watch(()=>this.defaultsFromMap?.ready,
Aa=>{const ea=0<this.map?.allLayers.length;Aa&&!this.spatialReference&&ea?null==ra&&(Aa=l.makeHandle(()=>ra=h.abortMaybe(ra)),ra=d.createTask(async ca=>{try{await y.after(this.spatialReferenceWarningDelay,null,ca)}catch{return}finally{ra=null}m.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(Aa,"spatial-reference-logger-task")):this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){this.destroyed||
(va.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=h.destroyMaybe(this.graphics),this.analyses=h.destroyMaybe(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),h.destroyMaybe(this.analysisViewManager),this.toolViewManager=h.destroyMaybe(this.toolViewManager),this.layerViewManager=h.destroyMaybe(this.layerViewManager),this.selectionManager=h.destroyMaybe(this.selectionManager),
this.basemapView=h.destroyMaybe(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(ra=>ra.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=h.destroyMaybe(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){m.getLogger(this).error("#toMap()","Not implemented on this instance of View");return null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(ra){this.toolViewManager&&
(this.toolViewManager.activeTool=ra)}get animation(){return this._get("animation")}set animation(ra){this._set("animation",ra)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new qa.DefaultsFromMap({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(ra,Aa)=>this.getSpatialReferenceSupport(ra,Aa),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(ra){this._set("extent",ra)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||
!this._isValid||this._readyCycleForced||!this.map||q.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(ra){const Aa=this._get("map");ra!==Aa&&(ra?.destroyed&&(m.getLogger(this).warn("#map","The provided map is already destroyed",{map:ra}),ra=null),q.isLoadable(ra)&&
ra.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",ra))}get spatialReference(){var ra=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;return ra&&this.defaultsFromMap?.required?.heightModelInfo?(ra=ra.clone(),ra.vcsWkid=this.defaultsFromMap.vcsWkid,ra.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,ra):ra}set spatialReference(ra){const Aa=!N.equals(ra,this._get("spatialReference"));
this._set("_userSpatialReference",ra);Aa&&(this._set("spatialReference",ra),this._spatialReferenceChanged(ra))}_spatialReferenceChanged(ra){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??G.system}set timeZone(ra){const Aa=new Set(["etc/utc","etc/gmt","gmt"]),ea=new Set(Intl.supportedValuesOf("timeZone").map(ca=>ca.toLowerCase()));this._userTimeZone=ra;ra===G.system||ra===G.unknown||
Aa.has(ra.toLowerCase())||ea.has(ra.toLowerCase())||m.getLogger(this).warn("#timeZone",`the parsed value '${ra}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(ra){this._cursor=ra;this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new O}whenLayerView(ra){return this.layerViewManager?.whenLayerView(ra)??
Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}importLayerView(ra){throw new f("importLayerView() not implemented");}hasLayerViewModule(ra){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(ra){return null!=
this.getSpatialReferenceSupport(ra)}when(ra,Aa){this.isResolved()&&!this.ready&&m.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() \x3d\x3e view.ready).then(...) instead.");return super.when(ra,Aa)}forceReadyCycle(){this.ready&&(u.when(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(ra){this.toolViewManager.tools.add(ra);
this.activeTool=ra}tryFatalErrorRecovery(){this.fatalError=null}};e.views=new p;a.__decorate([r.property()],e.prototype,"_userSpatialReference",void 0);a.__decorate([r.property()],e.prototype,"activeTool",null);a.__decorate([r.property({readOnly:!0})],e.prototype,"allLayerViews",void 0);a.__decorate([r.property()],e.prototype,"groundView",void 0);a.__decorate([r.property()],e.prototype,"animation",null);a.__decorate([r.property()],e.prototype,"basemapView",void 0);a.__decorate([r.property()],e.prototype,
"center",null);a.__decorate([r.property({readOnly:!0})],e.prototype,"_defaultsFromMapSettings",null);a.__decorate([r.property()],e.prototype,"defaultsFromMap",null);a.__decorate([r.property()],e.prototype,"fatalError",void 0);a.__decorate([r.property({type:A})],e.prototype,"extent",null);a.__decorate([r.property(x.owningCollectionProperty(E.GraphicsCollection,"graphics"))],e.prototype,"graphics",void 0);a.__decorate([r.property(x.owningCollectionProperty(I.AnalysesCollection,"analyses"))],e.prototype,
"analyses",void 0);a.__decorate([r.property({readOnly:!0,type:C})],e.prototype,"heightModelInfo",null);a.__decorate([r.property({readOnly:!0})],e.prototype,"interacting",null);a.__decorate([r.property({readOnly:!0})],e.prototype,"navigating",null);a.__decorate([r.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _lockedSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],e.prototype,"preconditionsReady",
null);a.__decorate([r.property({readOnly:!0})],e.prototype,"typeSpecificPreconditionsReady",void 0);a.__decorate([r.property({type:p,readOnly:!0})],e.prototype,"layerViews",void 0);a.__decorate([r.property()],e.prototype,"resolution",null);a.__decorate([r.property({type:F})],e.prototype,"magnifier",void 0);a.__decorate([r.property({value:null,type:b})],e.prototype,"map",null);a.__decorate([r.property()],e.prototype,"padding",void 0);a.__decorate([r.property({readOnly:!0})],e.prototype,"ready",void 0);
a.__decorate([r.property({type:H})],e.prototype,"spatialReference",null);a.__decorate([r.property()],e.prototype,"spatialReferenceWarningDelay",void 0);a.__decorate([r.property()],e.prototype,"stationary",null);a.__decorate([r.property({readOnly:!0})],e.prototype,"supportsGround",void 0);a.__decorate([r.property({type:c})],e.prototype,"timeExtent",void 0);a.__decorate([r.property({type:String,nonNullable:!0})],e.prototype,"timeZone",null);a.__decorate([r.property()],e.prototype,"tools",null);a.__decorate([r.property()],
e.prototype,"toolViewManager",void 0);a.__decorate([r.property({readOnly:!0})],e.prototype,"type",void 0);a.__decorate([r.property({type:Number})],e.prototype,"scale",void 0);a.__decorate([r.property({readOnly:!0})],e.prototype,"updating",void 0);a.__decorate([r.property({readOnly:!0})],e.prototype,"initialExtentRequired",void 0);a.__decorate([r.property({readOnly:!0})],e.prototype,"initialExtent",null);a.__decorate([r.property()],e.prototype,"cursor",null);a.__decorate([r.property({readOnly:!0})],
e.prototype,"input",void 0);a.__decorate([r.property({type:V,nonNullable:!0})],e.prototype,"navigation",void 0);a.__decorate([r.property()],e.prototype,"layerViewManager",void 0);a.__decorate([r.property()],e.prototype,"analysisViewManager",void 0);a.__decorate([r.property()],e.prototype,"selectionManager",void 0);a.__decorate([r.property()],e.prototype,"width",void 0);a.__decorate([r.property()],e.prototype,"height",void 0);a.__decorate([r.property({readOnly:!0})],e.prototype,"resizing",void 0);
a.__decorate([r.property({value:null,readOnly:!0})],e.prototype,"size",null);a.__decorate([r.property({readOnly:!0})],e.prototype,"suspended",void 0);a.__decorate([r.property({readOnly:!0})],e.prototype,"viewEvents",void 0);a.__decorate([r.property({readOnly:!0})],e.prototype,"persistableViewModels",void 0);a.__decorate([r.property()],e.prototype,"_isValid",void 0);a.__decorate([r.property()],e.prototype,"_readyCycleForced",void 0);a.__decorate([r.property()],e.prototype,"_lockedSpatialReference",
void 0);a.__decorate([r.property()],e.prototype,"_userTimeZone",void 0);a.__decorate([r.property()],e.prototype,"_lockedTimeZone",void 0);a.__decorate([r.property({type:O})],e.prototype,"theme",void 0);a.__decorate([r.property({readOnly:!0,type:O})],e.prototype,"effectiveTheme",null);return e=va=a.__decorate([v.subclass("esri.views.View")],e)})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/tslib.es6 ../Collection ../collectionUtils ../has ../Logger ../accessorSupport/decorators/property ../RandomLCG ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g){a.OwningCollection=class extends c{constructor(k){super(k);this.addHandles([this.on("before-add",l=>{null==l.item&&l.preventDefault()}),this.on("after-add",l=>this._own(l.item)),this.on("after-remove",l=>this._release(l.item))])}get owner(){return this._get("owner")}set owner(k){k!==this._get("owner")&&(this._releaseAll(),this._set("owner",k),this._ownAll())}_ownAll(){for(const k of this.items)this._own(k)}_releaseAll(){for(const k of this.items)this._release(k)}_createNewInstance(k){return this.itemType?
new (c.ofType(this.itemType.Type))(k):new c(k)}};b.__decorate([n.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=b.__decorate([g.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(k,l){return{type:k,cast:e.castForReferenceSetter,set(w){w=e.referenceSetter(w,this._get(l),k);w.owner=this;this._set(l,w)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/support/UpdatingHandles":function(){define("exports ../../chunks/tslib.es6 ../Accessor ../handleUtils ../reactiveUtils ../scheduling ../accessorSupport/decorators/property ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){a.UpdatingHandles=class extends c{constructor(){super(...arguments);this.updating=!1;this._scheduleHandleId=this._handleId=0;this._pendingPromises=new Set}destroy(){this.removeAll()}add(g,k,l={}){return this._installWatch(g,k,l,d.watch)}addWhen(g,k,l={}){return this._installWatch(g,k,l,d.when)}addOnCollectionChange(g,k,{initial:l=!1,final:w=!1}={}){const q=++this._handleId;this.addHandles([d.on(g,"after-changes",this._createSyncUpdatingCallback(),d.sync),d.on(g,"change",
k,{onListenerAdd:l?m=>k({added:m.toArray(),removed:[]}):void 0,onListenerRemove:w?m=>k({added:[],removed:m.toArray()}):void 0})],q);return e.makeHandle(()=>this.removeHandles(q))}addPromise(g){if(null==g)return g;const k=++this._handleId;this.addHandles(e.makeHandle(()=>{this._pendingPromises.delete(g)&&(0!==this._pendingPromises.size||this.hasHandles(-42)||this._set("updating",!1))}),k);this._pendingPromises.add(g);this._set("updating",!0);const l=()=>this.removeHandles(k);g.then(l,l);return g}removeAll(){this._pendingPromises.clear();
this.removeAllHandles();this._set("updating",!1)}_installWatch(g,k,l={},w){const q=++this._handleId;l.sync||this._installSyncUpdatingWatch(g,q);g=w(g,k,l);this.addHandles(g,q);return e.makeHandle(()=>this.removeHandles(q))}_installSyncUpdatingWatch(g,k){const l=this._createSyncUpdatingCallback();g=d.watch(g,l,{sync:!0,equals:()=>!1});this.addHandles(g,k);return g}_createSyncUpdatingCallback(){return()=>{this.removeHandles(-42);++this._scheduleHandleId;const g=this._scheduleHandleId;this._get("updating")||
this._set("updating",!0);this.addHandles(p.schedule(()=>{g===this._scheduleHandleId&&(this._set("updating",0<this._pendingPromises.size),this.removeHandles(-42))}),-42)}}};b.__decorate([n.property({readOnly:!0})],a.UpdatingHandles.prototype,"updating",void 0);a.UpdatingHandles=b.__decorate([f.subclass("esri.core.support.UpdatingHandles")],a.UpdatingHandles);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/tslib.es6 ../core/Logger ../core/has ../core/RandomLCG ../core/Error ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),
function(a,b,c,e,d,p,n,f){a.AnalysesCollection=class extends f.OwningCollection{constructor(g){super(g);this.addHandles(this.on("before-add",k=>{null!=k.item&&k.item.parent===this.owner&&(c.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),k.preventDefault())}))}_own(g){g.parent=this.owner}_release(g){g.parent=null}};a.AnalysesCollection=b.__decorate([n.subclass("esri.support.AnalysesCollection")],a.AnalysesCollection);Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/Error ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,c,e,d,p,n,f,g,k,l){a.GraphicsCollection=class extends l.OwningCollection{_own(w){w.layer&&"remove"in w.layer&&w.layer!==this.owner&&w.layer.remove(w);
w.layer=this.owner}_release(w){w.layer===this.owner&&(w.layer=null)}};b.__decorate([g.shared({Type:c,ensureType:d.ensureType(c)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=b.__decorate([k.subclass("esri.support.GraphicsCollection")],a.GraphicsCollection);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/BasemapView":function(){define("exports ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g,k){a.BasemapView=class extends c{constructor(l){super(l);this.view=null;this.baseLayerViews=new e;this.referenceLayerViews=new e;this._loadingHandle=d.watch(()=>this.view?.map?.basemap,w=>{w&&w.load().catch(()=>{})},d.initial)}destroy(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const l of this.baseLayerViews)l.destroy();this.baseLayerViews.length=0;for(const l of this.referenceLayerViews)l.destroy();this.referenceLayerViews.length=
0}get suspended(){return this.view?this.view.suspended:!0}get updating(){if(this.view?.suspended)return!1;const l=this.view?.map?.basemap;return l&&l.loaded?this.baseLayerViews.some(w=>w.updating)||this.referenceLayerViews.some(w=>w.updating):!1}};b.__decorate([p.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);b.__decorate([p.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);b.__decorate([p.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",
void 0);b.__decorate([p.property({readOnly:!0})],a.BasemapView.prototype,"suspended",null);b.__decorate([p.property({type:Boolean,readOnly:!0})],a.BasemapView.prototype,"updating",null);a.BasemapView=b.__decorate([k.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/LayerViewManager":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/reactiveUtils ../core/scheduling ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/accessorSupport/get ../core/support/UpdatingHandles ../support/collectionUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t){class y{constructor(u,r,z){this.layer=u;this.view=r;this.layerViewImporter=z;this._controller=new AbortController;this._deferred=n.createResolver();this.done=this._started=!1;this.promise=this._deferred.promise;n.onAbort(this._controller.signal,()=>{const v=new c("cancelled:layerview-create","layerview creation cancelled",{layer:u});this._deferred.reject(v)})}tryRecycle(u){if(!(this.done&&this.layerView&&"tryRecycleWith"in this.layerView))return null;const r=
this.layer.type,z=this._controller.signal;for(let v=0;v<u.length;v++){const x=u[v];if(x.type!==r)continue;const B=this.layerView.tryRecycleWith(x,{signal:z});if(B){u.splice(v,1);this.layer=x;const A=this.layerView,C=A.view;return this.promise=Promise.race([B.then(()=>{n.throwIfAborted(this._controller.signal);x.emit("layerview-destroy",{view:C,layerView:A});C.emit("layerview-destroy",{view:C,layerView:A});x.emit("layerview-create",{view:C,layerView:A});C.emit("layerview-create",{view:C,layerView:A});
return A}),new Promise((H,N)=>n.onAbort(this._controller.signal,()=>N(n.createAbortError())))])}}return null}destroy(){this._controller.abort();const {layerView:u}=this;if(u){const {layer:r,view:z}=this;r.emit("layerview-destroy",{view:z,layerView:u});z.emit("layerview-destroy",{layer:r,layerView:u})}this.done=!0;this._map=this.layerViewImporter=this.view=this.layerView=this.layer=null}async start(){if(!this._started){this._started=!0;var {_controller:{signal:u},layer:r,view:z}=this;this._map=z.map;
try{await r.load({signal:u});r.prefetchResources&&await r.prefetchResources({signal:u});let x;if("createLayerView"in r&&null!=r.createLayerView)x=await r.createLayerView(z,{signal:u});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new c("layer:view-not-supported","No layerview implementation was found");var v=await this.layerViewImporter.importLayerView(r);n.throwIfAborted(u);x="default"in v?new v.default({layer:r,view:z}):new v({layer:r,view:z})}let B;v=()=>{B=p.removeMaybe(B);x.destroyed||
x.destroy();x.layer=null;x.parent=null;x.view=null;this.done=!0};B=n.onAbort(u,v);n.throwIfAborted(u);try{await x.when()}catch(A){throw v(),A;}this._map?.allLayers?.includes(r)?(this.layerView=x,r.emit("layerview-create",{view:z,layerView:x}),z.emit("layerview-create",{layer:r,layerView:x}),this.done=!0,this._deferred.resolve(x)):(v(),this._deferred.reject(new c("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r})))}catch(x){r.emit("layerview-create-error",{view:z,error:x}),
z.emit("layerview-create-error",{layer:r,error:x}),this.done=!0,this._deferred.reject(new c("layerview:create-error","layerview creation failed",{layer:r,error:x}))}}}}b=class extends b{constructor(u){super(u);this._layerLayerViewInfoMap=new Map;this._recyclingInfoMap=new Map;this._watchUpdatingTracking=new h.UpdatingHandles;this.supportsGround=!0;this._preloadLayerViewModules=()=>{const r=this.view.map?.allLayers;if(r)for(const z of r)this.layerViewImporter.hasLayerViewModule(z)&&this.layerViewImporter.importLayerView(z)};
this._reschedule=()=>{if(this.destroyed)return Promise.reject();null==this._workPromise&&(this._workPromise=n.createResolver(),this._workPromise.promise.catch(()=>{}));this.removeHandles("reschedule");this.addHandles(g.schedule(this._doWork),"reschedule");return this._workPromise.promise};this._doWork=()=>{if(!this.destroyed){var r=this.view.map;this._map!==r&&(this.clear(),this._map=r);if(null==this._workPromise)this.notifyChange("updating");else{this.removeHandles("reschedule");this.removeHandles("collection-change");
var z=new Set,v=[],x=this.view.ready,B=H=>{if(null!=H)for(const N of H)N&&(z.add(N),(H=this._layerLayerViewInfoMap.get(N))&&x?H.start():H||this._recyclingInfoMap.has(N)||v.push(N),"layers"in N&&N.layers&&B(N.layers))};for(var A of this._rootCollectionNames)B(m.get(this,A));for(const [H,N]of this._layerLayerViewInfoMap)z.has(H)||(this._layerLayerViewInfoMap.delete(N.layer),(A=N.tryRecycle(v))?(this.notifyChange("updating"),this._recyclingInfoMap.set(N.layer,N),A.then(()=>{this.notifyChange("updating");
this._recyclingInfoMap.delete(N.layer);this._layerLayerViewInfoMap.set(N.layer,N);this._reschedule()}).catch(()=>{this.notifyChange("updating");this._recyclingInfoMap.delete(N.layer);N.destroy();this._reschedule()})):N.destroy());for(const [H,N]of this._recyclingInfoMap)z.has(H)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(N.layer),N.destroy());for(const H of v)this._createLayerView(H);this._refreshCollections();var C=[r?.ground?.layers,r?.basemap?.baseLayers,r?.basemap?.referenceLayers,
r?.layers].filter(H=>!!H);z.forEach(H=>"layers"in H&&C.push(H.layers));this.addHandles(C.map(H=>this._watchUpdatingTracking.addOnCollectionChange(()=>H,this._reschedule)),"collection-change");this._workPromise.resolve();this._workPromise=null}}}}initialize(){this.addHandles([f.on(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),f.watch(()=>{const u=this.view,r=u?.map;return[r?.basemap,r?.ground,r?.layers,u?.ready]},()=>this._reschedule(),
f.syncAndInitial)]);this._preloadLayerViewModules();this._reschedule()}destroy(){this.clear();t.destroyMap(this._recyclingInfoMap);t.destroyMap(this._layerLayerViewInfoMap);this._watchUpdatingTracking.destroy();this._map=null;null!=this._workPromise&&(this._workPromise.reject(n.createAbortError()),this._workPromise=null)}get _layersToLayerViews(){const u=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];
this.supportsGround&&u.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(u)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||d.someMap(this._layerLayerViewInfoMap,u=>!u.done)||0<this._recyclingInfoMap.size}get updatingRemaining(){let u=0;for(const r of this._layerLayerViewInfoMap.values())r.done||++u;return u}clear(){this.destroyed||(t.destroyMap(this._layerLayerViewInfoMap),
this._refreshCollections())}async whenLayerView(u){await this._reschedule();if(!this._layerLayerViewInfoMap.has(u)){if(this._recyclingInfoMap.has(u))return this._recyclingInfoMap.get(u).promise;throw new c("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:u});}return this._layerLayerViewInfoMap.get(u).promise}isCreatingLayerViewsForLayer(u,r){this.commitProperty("updatingRemaining");const z=this._layerLayerViewInfoMap.get(u);if(!z?.done)return!0;const v=z.layerView;
return v&&r&&v.parent!==r?!0:z.done&&v&&"layers"in u&&u.layers?.length?u.layers.some(x=>this.isCreatingLayerViewsForLayer(x,v)):!1}_refreshCollections(){for(const [u,r]of this._layersToLayerViews)this._populateLayerViewsOwners(m.get(this,u),m.get(this,r),this.view);this.notifyChange("updating");this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(u,r,z){if(u&&r){var v=0;for(const x of u)u=this._layerLayerViewInfoMap.get(x),u?.layerView&&(u=u.layerView,u.layer=x,u.parent=z,r.at(v)!==u&&
r.splice(v,0,u),"layers"in x&&null!=u&&"object"===typeof u&&"layerViews"in u&&this._populateLayerViewsOwners(x.layers,u.layerViews,u),v+=1);v<r.length&&r.splice(v,r.length)}else r&&r.removeAll()}_createLayerView(u){u.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(u)&&this.layerViewImporter.importLayerView(u);const r=new y(u,this.view,this.layerViewImporter);r.promise.then(()=>this._refreshCollections(),z=>{z&&(n.isAbortError(z)||"cancelled:layerview-create"===z.name)||e.getLogger(this).error(`Failed to create layerview for layer title:'${u.title??
"no title"}', id:'${u.id??"no id"}' of type '${u.type}'.`,{layer:u,error:z});this._refreshCollections()});this._layerLayerViewInfoMap.set(u,r);this.view.ready&&r.start();this.notifyChange("updating");this.notifyChange("updatingRemaining")}};a.__decorate([k.property()],b.prototype,"_workPromise",void 0);a.__decorate([k.property({readOnly:!0})],b.prototype,"_watchUpdatingTracking",void 0);a.__decorate([k.property({readOnly:!0})],b.prototype,"_layersToLayerViews",null);a.__decorate([k.property({readOnly:!0})],
b.prototype,"_rootCollectionNames",null);a.__decorate([k.property()],b.prototype,"layerViewImporter",void 0);a.__decorate([k.property()],b.prototype,"supportsGround",void 0);a.__decorate([k.property({readOnly:!0})],b.prototype,"updating",null);a.__decorate([k.property({readOnly:!0})],b.prototype,"updatingRemaining",null);a.__decorate([k.property({constructOnly:!0})],b.prototype,"view",void 0);return b=a.__decorate([q.subclass("esri.views.LayerViewManager")],b)})},"esri/views/Magnifier":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f){b=class extends b{constructor(g){super(g);this.factor=1.5;this.offset=c.createScreenPoint(0,0);this.position=null;this.size=120;this.maskUrl=null;this.maskEnabled=!0;this.overlayUrl=null;this.visible=this.overlayEnabled=!0}get version(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");this.commitProperty("overlayUrl");
this.commitProperty("overlayEnabled");return(this._get("version")||0)+1}};a.__decorate([e.property({type:Number})],b.prototype,"factor",void 0);a.__decorate([e.property({nonNullable:!0})],b.prototype,"offset",void 0);a.__decorate([e.property()],b.prototype,"position",void 0);a.__decorate([e.property({type:Number,range:{min:0}})],b.prototype,"size",void 0);a.__decorate([e.property()],b.prototype,"maskUrl",void 0);a.__decorate([e.property()],b.prototype,"maskEnabled",void 0);a.__decorate([e.property()],
b.prototype,"overlayUrl",void 0);a.__decorate([e.property()],b.prototype,"overlayEnabled",void 0);a.__decorate([e.property({readOnly:!0})],b.prototype,"version",null);a.__decorate([e.property({type:Boolean})],b.prototype,"visible",void 0);return b=a.__decorate([f.subclass("esri.views.Magnifier")],b)})},"esri/views/SelectionManager":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/Collection ../core/collectionUtils ../core/Evented ../core/MapUtils ../core/maybe ../core/ReactiveMap ../core/reactiveUtils ../core/SetUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../layers/support/layerUtils ../rest/support/Query ./support/selectionUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y){d=class extends d.EventedAccessor{constructor(v){super(v);this._selectionMap=new f;this._sources=new c;this._trashCan=[];this._layerEditHandles=new c;this._vizTaskId=0;this.showHighlight=!0}initialize(){this.addHandles([g.watch(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),g.on(()=>this.sources,"change",x=>{const B=this._selectionMap;for(const A of x.removed)B.delete(A);this._refreshListeners();this._refreshVisualization()},{onListenerAdd:()=>
this._refreshListeners()})]);const v=new c;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(x=>"sublayers"in x&&x.sublayers?x.sublayers:null).forEach(x=>{(y.isSelectableLayer(x)&&!h.isSubtypeGroupLayer(x)||h.isSubtypeSublayer(x))&&v.add(x)}),this.sources=v)})}destroy(){this._layerEditHandles.drain(n.removeMaybe)}get selections(){return Array.from(this._selectionMap.entries()).map(v=>{const [x,B]=v;return{layer:x,selection:[...B.selection]}})}get count(){let v=0;for(const x of this._selectionMap.values())v+=
x.selection.length;return v}get hasSelection(){return 0<this.count}get sources(){return this._sources}set sources(v){e.referenceSetter(v,this._sources)}async getSelectedFeatures(v,x={},B="layerView"){const {view:A,selections:C}=this,H=(void 0!==v?C.filter(N=>v.includes(N.layer)):C).filter(N=>0<N.selection.length).map(async N=>{const {layer:I,selection:E}=N;N=h.isSubtypeSublayer(I)?I.parent:I;return null==N||void 0===N?.when?null:"layer"===B?z(N,E,x):u(N)?null:(N=await A.whenLayerView(N).catch(()=>
null))?z(N,E,x):null});return(await Promise.all(H)).filter(N=>null!=N)}updateSelection(v){var x=new Map;for(const [N,I]of this._selectionMap)x.set(N,[...I.selection]);var B=!1,A=v.current.concat(v.added);for(var C of A){var H=C.sourceLayer;A=C.getObjectId();this.sources.includes(H)&&(y.isSelectableLayer(H)||h.isSubtypeSublayer(H))&&null!==A&&(H=p.getOrCreateMapValue(x,H,()=>[]),H.includes(A)||(H.push(A),B=!0))}for(const N of v.removed)C=N.sourceLayer,v=N.getObjectId(),this.sources.includes(C)&&(y.isSelectableLayer(C)||
h.isSubtypeSublayer(C))&&null!==v&&(C=x.get(C),v=C?.indexOf(v),void 0!==v&&0<=v&&(C?.splice(v,1),B=!0));if(B){const {_selectionMap:N,_trashCan:I}=this;B=[];for(const [E,G]of x)x=N.get(E),void 0!==x&&I.push(x),N.set(E,{selection:G}),B.push({layer:E,selection:G,...b.difference(void 0!==x?x.selection:[],G)});this._onSelectionChange(B)}}setSelection(v,x){this._setSelection(v,x)}getSelection(v){return this._selectionMap.get(v)?.selection}appendToSelection(v,x){var B=this._selectionMap.get(v);B=void 0!==
B?[...B.selection]:[];for(const A of x)B.includes(A)||B.push(A);this._setSelection(v,B)}removeFromSelection(v,x){const B=this._selectionMap.get(v);if(B){var A=[];for(const C of B.selection)x.includes(C)||A.push(C);this._setSelection(v,A)}}toggleInSelection(v,x){var B=this._selectionMap.get(v);B&&0!==B.selection.length?(B=new Set(B.selection),x=new Set(x),x=k.symmetricDifference(B,x),this._setSelection(v,Array.from(x))):this._setSelection(v,x)}clear(){var v=this._selectionMap.values();this._trashCan.push(...v);
v=[];for(const [x,B]of this._selectionMap.entries())v.push({layer:x,added:[],removed:[...B.selection],selection:[]});this._selectionMap.clear();this._onSelectionChange(v)}_onSelectionChange(v){this._refreshVisualization();this.emit("selection-change",{view:this.view,changes:v})}_refreshVisualization(){if(null!=this.view&&null!=this.sources){for(this._vizTaskId++;0<this._trashCan.length;)this._trashCan.pop()?.highlightHandle?.remove();var {sources:v,view:x,_selectionMap:B,showHighlight:A}=this,C=this._vizTaskId;
for(const H of v){const N=B.get(H),I=h.isSubtypeSublayer(H)?H.parent:H;null==I||void 0===I?.when||u(I)||x.whenLayerView(I).then(E=>{N?.highlightHandle?.remove();null!=N&&A&&C===this._vizTaskId&&"highlight"in E&&"function"===typeof E.highlight&&0<N.selection.length&&(N.highlightHandle=E.highlight(N.selection,"selection"))}).catch(()=>{N?.highlightHandle?.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(n.removeMaybe);for(const x of this.sources){var v=h.isSubtypeSublayer(x)?x.parent:x;
null!=v&&y.isSelectableLayer(v)&&(v=v.on("edits",B=>{this._handleEditChanges(B,x)}),this._layerEditHandles.push(v))}}_handleEditChanges(v,x){void 0!==v.deletedFeatures&&0<v.deletedFeatures.length&&this._selectionMap.has(x)&&(v=v.deletedFeatures.filter(B=>null==B.error).map(B=>B.objectId).filter(b.isSome),this.removeFromSelection(x,v))}_setSelection(v,x){if(!this.sources.includes(v))throw Error(`Cannot set selection on layer ${v.title} because it is not in 'sources'`);const B=this._selectionMap.get(v);
void 0!==B&&r(B,{selection:x})||(void 0!==B&&this._trashCan.push(B),this._selectionMap.set(v,{selection:[...x]}),v={layer:v,selection:[...x],...b.difference(void 0!==B?B.selection:[],x)},this._onSelectionChange([v]))}};a.__decorate([l.property({readOnly:!0,nonNullable:!0})],d.prototype,"selections",null);a.__decorate([l.property({readOnly:!0,nonNullable:!0})],d.prototype,"count",null);a.__decorate([l.property({constructOnly:!0,nonNullable:!0})],d.prototype,"view",void 0);a.__decorate([l.property({readOnly:!0,
nonNullable:!0})],d.prototype,"hasSelection",null);a.__decorate([l.property()],d.prototype,"showHighlight",void 0);a.__decorate([l.property()],d.prototype,"sources",null);d=a.__decorate([m.subclass("esri.views.SelectionManager")],d);const u=v=>h.isSubtypeSublayer(v)?!0===v.parent?.isTable:v.isTable,r=(v,x)=>{if(null!=v||null!=x){if(null!=v&&null==x||null==v&&null!=x)return!1;if(null!=v&&null!=x&&null!=v.selection&&null!=x.selection){v=[...v.selection];x=[...x.selection];if(v.length!==x.length)return!1;
v.sort();x.sort();for(let B=0;B<v.length;B++)if(v[B]!==x[B])return!1}}return!0},z=async(v,x,B={})=>void 0===v.layer?void 0===v?null:await v.queryFeatures(new t({...B,objectIds:x})).then(A=>({data:A,layer:v})):void 0===v?null:await v.queryFeatures(new t({...B,objectIds:x})).then(A=>({data:A,layer:v.layer}));return d})},"esri/core/ReactiveMap":function(){define(["./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b){class c{constructor(e){this._observable=new b.SimpleObservable;
this._map=new Map(e)}get size(){a.trackAccess(this._observable);return this._map.size}clear(){0<this._map.size&&(this._map.clear(),this._observable.notify())}delete(e){(e=this._map.delete(e))&&this._observable.notify();return e}entries(){a.trackAccess(this._observable);return this._map.entries()}forEach(e,d){a.trackAccess(this._observable);this._map.forEach((p,n)=>e.call(d,p,n,this),d)}get(e){a.trackAccess(this._observable);return this._map.get(e)}has(e){a.trackAccess(this._observable);return this._map.has(e)}keys(){a.trackAccess(this._observable);
return this._map.keys()}set(e,d){this._map.set(e,d);this._observable.notify();return this}values(){a.trackAccess(this._observable);return this._map.values()}[Symbol.iterator](){a.trackAccess(this._observable);return this._map[Symbol.iterator]()}get [Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}return c})},"esri/views/support/selectionUtils":function(){define(["exports"],function(a){a.isSelectableLayer=function(b){return!!(null!=b&&"object"===typeof b&&"createQuery"in b&&b.createQuery&&
"on"in b&&b.on)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/Theme":function(){define("../chunks/tslib.es6 ../Color ../core/Accessor ../core/Clonable ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,n,f,g){c=class extends e.ClonableMixin(c){constructor(k){super(k);this.accentColor=new b([255,127,0]);this.textColor=new b([255,255,255])}};a.__decorate([d.property({type:b,
nonNullable:!0})],c.prototype,"accentColor",void 0);a.__decorate([d.property({type:b,nonNullable:!0})],c.prototype,"textColor",void 0);return c=a.__decorate([g.subclass("esri.views.Theme")],c)})},"esri/views/ToolViewManager":function(){define("exports ../chunks/tslib.es6 ../core/Accessor ../core/clock ../core/Collection ../core/has ../core/Logger ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/support/UpdatingHandles ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/interfaces ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u){a.ToolViewManager=class extends c{constructor(r){super(r);this._updatingHandles=new q.UpdatingHandles;this._clock=e.clock;this._manipulatorState=new u.ToolViewManagerManipulatorState;this.tools=new d;this.cursor=null;this._interacting=!1;this._interactingTimeout=1E3;this._interactingTimeoutHandle=null;this._forEachTool=z=>{for(const v of this.tools.items)if(z(v))break}}initialize(){this.addHandles([this.view.on(h.eventTypes,r=>{this._handleInputEvent(r)},
m.ViewEventPriorities.TOOL),...t.getToolCollectionHandles(this.tools),this.tools.on("before-add",({item:r})=>{this._updateToolEditableFlag(r)}),this.tools.on("before-remove",({item:r})=>{this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs);this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null;this.tools.drain(r=>r.destroy());this._clearInteractingTimeout();this._interacting=!1;this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,
activeTool:this.activeTool,setActiveTool:r=>{this.activeTool=r},view:this.view}}set activeTool(r){if(null!=r&&!this.view.ready)n.getLogger(this).error("Cannot set active tool while view is not ready.");else if(r!==this.activeTool){var z=this.activeTool;this._set("activeTool",r);null!=z&&z.deactivate();null!=r&&r.activate();this._removeIncompleteTools(r);for(const v of this.tools)this._updateToolEditableFlag(v),r=t.areToolManipulatorsEditable(v),null!=this.activeTool&&r||this._manipulatorState.clearPointers(v,
this._manipulatorStateEventArgs,!r);this._updateCursor()}}get updating(){return this._updatingHandles.updating||this.tools.some(r=>r.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=f.removeMaybe(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout();this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([g.watch(()=>
{const {state:r}=this.view;return"camera"in r&&r.camera},()=>this._forEachManipulator(r=>r.onViewChange())),this.view.elevationProvider?.on("elevation-change",r=>this._forEachManipulator(z=>z.onElevationChange(r)))],"attached"):this.addHandles(g.watch(()=>this.view.extent,()=>this._forEachManipulator(r=>r.onViewChange())))}detach(){this.activeTool=null;this.tools.removeAll();this.removeHandles("attached");this._clearInteractingTimeout();this._interacting=!1}_forEachManipulator(r){this._forEachTool(z=>
{z.manipulators&&z.manipulators.forEach(({manipulator:v})=>r(v,z))})}_handleInputEvent(r){let z=!1;const v={...r,stopPropagation:()=>{z=!0;r.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(v):this._forEachTool(x=>{!z&&x.visible&&x.handleInputEvent(v)});!z&&"key-down"===r.type&&"Escape"===r.key&&this.activeTool&&(r.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(v,this._manipulatorStateEventArgs);z||null==
this.activeTool||this.activeTool.handleInputEventAfter(v);this._manipulatorState.handleHoverEvent(v,this._forEachTool);this._updateCursor();"pointer-move"===r.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles("tools");this._forEachTool(r=>{if(r instanceof c){const z=g.watch(()=>[r.cursor,r.visible,r.editable],()=>{t.areToolManipulatorsEditable(r)||this._manipulatorState.clearPointers(r,
this._manipulatorStateEventArgs);this._updateCursor()});this.addHandles(z,"tools")}r.manipulators&&this.addHandles([r.manipulators.on("after-remove",z=>{this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs,!0,z.item.manipulator)}),r.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()})],"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()}_updateToolEditableFlag(r){r.setEditableFlag?.(y.EditableFlag.MANAGER,
null==this.activeTool||r===this.activeTool)}_updateCursor(){let r=this._manipulatorState.cursor;null==r&&this._forEachTool(z=>null!=z.cursor&&z.visible?(r=z.cursor,!0):!1);this._get("cursor")!==r&&this._set("cursor",r)}_removeIncompleteTools(r){this.tools.filter(z=>(null==r||z!==r)&&!z.created&&z.removeIncompleteOnCancel).forEach(z=>{this.tools.remove(z)})}get test(){}};b.__decorate([k.property({constructOnly:!0,nonNullable:!0})],a.ToolViewManager.prototype,"view",void 0);b.__decorate([k.property({value:null})],
a.ToolViewManager.prototype,"activeTool",null);b.__decorate([k.property({readOnly:!0,type:d})],a.ToolViewManager.prototype,"tools",void 0);b.__decorate([k.property({readOnly:!0})],a.ToolViewManager.prototype,"cursor",void 0);b.__decorate([k.property({readOnly:!0})],a.ToolViewManager.prototype,"updating",null);b.__decorate([k.property()],a.ToolViewManager.prototype,"_interacting",void 0);b.__decorate([k.property({readOnly:!0})],a.ToolViewManager.prototype,"interacting",null);a.ToolViewManager=b.__decorate([w.subclass("esri.views.ToolViewManager")],
a.ToolViewManager);a.interactingTimeout=1E3;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputManager":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/has ../../core/Logger ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../3d/support/PropertiesPool ./keys ./handlers/LatestPointer ./handlers/MultiTouch".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,
w,q){a.InputManager=class extends c{constructor(r){super(r);this._pointerCaptures=new Map;this._nameToGroup={};this._handlers=[];this._handlersPriority=[];this._currentPropagation=null;this._updateDependenciesAfterPropagation=!1;this._sourceEvents=new Set;this._keyModifiers=new Set;this._activeKeyModifiers=new Set;this._stoppedPropagationEventIds=new Set;this.primaryKey=l.primaryKey;this._latestPointerType="mouse";this._propertiesPool=new k.PropertiesPool({latestPointerLocation:u},this);this.latestPointerLocation=
null;this._paused=!1;this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()}destroy(){const r=Object.keys(this._nameToGroup);for(const z of r)this.uninstallHandlers(z);this.eventSource.destroy();this._currentPropagation=null;this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(r=>r.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||
this._paused}installHandlers(r,z,v=t.INTERNAL){if(!this._nameToGroup[r]&&0!==z.length){var x={name:r,handlers:z.map(B=>({handler:B,active:!0,removed:!1,priorityIndex:0,groupPriority:v,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[r]=x;for(r=x.handlers.length-1;0<=r;r--){const B=x.handlers[r];this._handlers.push(B);B.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(A,C,H,N,I)=>{this._emitInputEvent(B.priorityIndex+1,A,C,H,I,N)},setPointerCapture:(A,C)=>
{this._setPointerCapture(x,B,A,C)},setEventCallback:A=>{B.eventCallback=A},setUninstallCallback:A=>{B.uninstallCallback=A},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}}uninstallHandlers(r){const z=this._nameToGroup[r];z?(z.handlers.forEach(v=>{v.removed=!0;v.uninstallCallback?.()}),delete this._nameToGroup[r],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):d.getLogger(this).error("There is no InputHandler group registered under the name `"+
r+"`")}hasHandlers(r){return void 0!==this._nameToGroup[r]}isModifierKeyDown(r){return this._activeKeyModifiers&&this._activeKeyModifiers.has(r)}updateDependencies(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var r=new Set,z=new Set;this._handlersPriority=[];for(var v=this._handlers.length-1;0<=v;v--){var x=this._handlers[v];x.priorityIndex=v;this._handlersPriority.push(x)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);
for(v=this._handlersPriority.length-1;0<=v;v--){x=this._handlersPriority[v];x.priorityIndex=v;let B=x.handler.hasSideEffects;if(!B)for(const A of x.handler.outgoingEventTypes)if(r.has(A)){B=!0;break}if(B)for(const A of x.handler.incomingEventMatches){r.add(A.eventType);for(const C of A.keyModifiers)l.isSystemModifier(C)||z.add(C)}x.active=B}this._sourceEvents=r;this._keyModifiers=z;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),
this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}}_setLatestPointer(r,z,v){this._latestPointerType=r;r=this._get("latestPointerLocation");if(null==r||r.x!==z||r.y!==v)r=this._propertiesPool.get("latestPointerLocation"),r.x=z,r.y=v,this._set("latestPointerLocation",r)}_onEventReceived(r,z){"pointer-capture-lost"===r&&this._pointerCaptures.delete(z.native.pointerId);this._updateKeyModifiers(r,z);this._emitInputEventFromSource(r,z,null!=this.test.timestamp?
this.test.timestamp:z.native?z.native.timestamp:void 0,z.native?z.native.cancelable:void 0)}_updateKeyModifiers(r,z){if(z){var v=!1,x=()=>{if(!v){const A=new Set;this._activeKeyModifiers.forEach(C=>{A.add(C)});this._activeKeyModifiers=A;v=!0}},B=(A,C)=>{C&&!this._activeKeyModifiers.has(A)?(x(),this._activeKeyModifiers.add(A)):!C&&this._activeKeyModifiers.has(A)&&(x(),this._activeKeyModifiers.delete(A))};if("key-down"===r||"key-up"===r){const A=z.key;this._keyModifiers.has(A)&&B(A,"key-down"===r)}r=
z.native;B("Alt",!(!r||!r.altKey));B("Control",!(!r||!r.ctrlKey));B("Ctrl",!(!r||!r.ctrlKey));B("Shift",!(!r||!r.shiftKey));B("Meta",!(!r||!r.metaKey));B("Primary",this._activeKeyModifiers.has(this.primaryKey))}}_installRecognizers(){this._latestPointerHandler=new w.LatestPointer((r,z,v)=>this._setLatestPointer(r,z,v));this._multiTouchHandler=new q.MultiTouch;this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],t.ALWAYS);0<this.recognizers.length&&this.installHandlers("default",
this.recognizers,t.INTERNAL)}_setPointerCapture(r,z,v,x){r=r.name+"-"+z.priorityIndex;z=this._pointerCaptures.get(v.pointerId)||new Set;this._pointerCaptures.set(v.pointerId,z);x?(z.add(r),1===z.size&&this.eventSource&&this.eventSource.setPointerCapture(v,!0)):z.has(r)&&(z.delete(r),0===z.size&&(this._pointerCaptures.delete(v.pointerId),this.eventSource&&this.eventSource.setPointerCapture(v,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(r=>!r.removed);this.updateDependencies()}_emitInputEventFromSource(r,
z,v,x){this._emitInputEvent(0,r,z,v,x)}_emitInputEvent(r,z,v,x,B,A){x=void 0!==x?x:this._currentPropagation?this._currentPropagation.timestamp:performance.now();r={event:new m(z,v,x,A||this._activeKeyModifiers,void 0!==B?B:!1),priorityIndex:r};this._currentPropagation?this._currentPropagation.events.push(r):this._doNewPropagation(r)}_doNewPropagation(r){this._currentPropagation={events:new p,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:r.event.timestamp};this._currentPropagation.events.push(r);
this._continuePropagation()}_continuePropagation(){this._paused=!1;const r=this._currentPropagation;if(r){for(;0<r.events.length;){const {event:z,priorityIndex:v}=r.events.pop(),x=z.data?.eventId;if(null==x||!this._stoppedPropagationEventIds.has(x))for(r.currentHandler=this._handlersPriority[v];r.currentHandler;){if(r.currentHandler.removed)r.needsHandlerGarbageCollect=!0;else{r.currentHandler.active&&!z.shouldStopPropagation()&&r.currentHandler.eventCallback?.(z);if(z.shouldStopPropagation()){null!=
x&&this._stoppedPropagationEventIds.add(x);break}if(z.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:z,priorityIndex:r.currentHandler.priorityIndex+1});return}}r.currentHandler=this._handlersPriority[r.currentHandler.priorityIndex+1]}}r.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(r){const z=
new p;z.push(r);if(r=this._currentPropagation){for(;r.events.length;)z.push(r.events.pop());r.events=z;r.currentHandler=null;this._paused=!0}}_compareHandlerPriority(r,z){if(r.handler.hasSideEffects!==z.handler.hasSideEffects)return r.handler.hasSideEffects?1:-1;if(r.groupPriority!==z.groupPriority)return r.groupPriority>z.groupPriority?-1:1;for(const v of r.handler.incomingEventMatches)for(const x of z.handler.incomingEventMatches){if(v.eventType!==x.eventType)continue;const B=v.keyModifiers.filter(A=>
x.keyModifiers.includes(A));if(B.length===v.keyModifiers.length!==(B.length===x.keyModifiers.length))return v.keyModifiers.length>x.keyModifiers.length?-1:1}return r.priorityIndex>z.priorityIndex?-1:1}_sortHandlersPriority(r){const z=[];for(const v of r){for(r=0;r<z.length&&0<=this._compareHandlerPriority(v,z[r]);)r++;z.splice(r,0,v)}return z}get debug(){const r=z=>{const v=this._setPointerCapture;this._setPointerCapture=()=>{};z();this._setPointerCapture=v};return{injectEvent:(z,v)=>{r(()=>{this._onEventReceived(z,
v)})},disablePointerCapture:r}}};b.__decorate([n.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);b.__decorate([n.property({constructOnly:!0})],a.InputManager.prototype,"eventSource",void 0);b.__decorate([n.property({constructOnly:!0})],a.InputManager.prototype,"recognizers",void 0);b.__decorate([n.property()],a.InputManager.prototype,"_latestPointerType",void 0);b.__decorate([n.property()],a.InputManager.prototype,"latestPointerType",null);b.__decorate([n.property()],a.InputManager.prototype,
"multiTouchActive",null);b.__decorate([n.property({readOnly:!0})],a.InputManager.prototype,"latestPointerLocation",void 0);b.__decorate([n.property()],a.InputManager.prototype,"_paused",void 0);b.__decorate([n.property({readOnly:!0})],a.InputManager.prototype,"updating",null);a.InputManager=b.__decorate([g.subclass("esri.views.input.InputManager")],a.InputManager);class m{constructor(r,z,v,x,B){this.type=r;this.data=z;this.timestamp=v;this.modifiers=x;this.cancelable=B;this._propagationState=h.NONE;
this._resumeCallback=null}stopPropagation(){this._propagationState|=h.STOPPED}shouldStopPropagation(){return 0!==(this._propagationState&h.STOPPED)}async(r){this._propagationState|=h.PAUSED;const z=(v,x)=>{this._propagationState&=~h.PAUSED;const B=this._resumeCallback;this._resumeCallback=null;B&&B();if(x)throw v;return v};return("function"===typeof r?r():r).then(v=>z(v,!1),v=>z(v,!0))}shouldPausePropagation(r){return this._propagationState&h.PAUSED?(this._resumeCallback=r,!0):!1}preventDefault(){this.data.native.preventDefault()}}
var h;(function(r){r[r.NONE=0]="NONE";r[r.STOPPED=1]="STOPPED";r[r.PAUSED=2]="PAUSED"})(h||={});const t={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class y{}const u=y;a.ViewEventPriorities=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/PropertiesPool":function(){define(["exports","../../../core/ReentrantObjectPool","../../../core/accessorSupport/watch"],function(a,b,c){class e{constructor(d,p){this._owner=p;this._properties={};this._afterDispatchHandle=
null;for(const n in d)p=new b.ReentrantObjectPool(d[n],void 0,void 0,2,2),this._properties[n]={pool:p,acquired:[]};this._afterDispatchHandle=c.afterDispatch(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const d in this._properties){const p=this._properties[d];for(const n of p.acquired)c.isValueInUse(n)||p.pool.release(n);p.pool.destroy();p.pool=null;p.acquired=null}this._owner=this._properties=null}get(d){const p=
this._owner._get(d);d=this._properties[d];let n=d.pool.acquire();for(d.acquired.push(n);n===p;)d.acquired.push(n),n=d.pool.acquire();return n}_release(){for(const d in this._properties){const p=this._properties[d];let n=0;for(const f of p.acquired)c.isValueInUse(f)?p.acquired[n++]=f:p.pool.release(f);p.acquired.length=n}}}a.PropertiesPool=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/keys":function(){define(["exports","../../core/has"],function(a,b){b=b("mac")?
"Meta":"Control";const c=new Set("Alt Control Meta Shift Ctrl Primary".split(" "));a.isSystemModifier=e=>c.has(e);a.primaryKey=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/LatestPointer":function(){define(["exports","../InputHandler"],function(a,b){class c extends b.InputHandler{constructor(e){super(!0);this._onChange=e;this._value="mouse";this._y=this._x=null;this.registerIncoming("pointer-move",d=>{this._update(d.data)})}_update(e){const d="touch"===
e.native.pointerType?"touch":"mouse",{x:p,y:n}=e;if(d!==this._value||this._x!==p||this._y!==n)this._value=d,this._x=p,this._y=n,this._onChange(d,p,n)}}a.LatestPointer=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputHandler":function(){define(["exports","../../core/has","../../core/Logger","./EventMatch"],function(a,b,c,e){class d{constructor(f){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=
null;this._hasSideEffects=f}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const f in this._incoming){const g=this._incoming[f];for(const k of g)this._incomingEventMatches.push(k.match)}}return this._incomingEventMatches}get incomingEventTypes(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(f=>f.eventType));return this._incomingEventTypes}get outgoingEventTypes(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));
return this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(f){this._manager||(f.setEventCallback(g=>this._handleEvent(g)),f.setUninstallCallback(()=>this._onUninstall()),this._manager=f)}onUninstall(){}registerIncoming(f,g,k){"function"===typeof g?(k=g,g=[]):g=g||[];f="string"===typeof f?new e.EventMatch(f,g):f;const l=()=>{this._incomingEventMatches=this._incomingEventTypes=null};g=w=>{const q=this._incoming[w.match.eventType];q&&(w=
q.indexOf(w),q.splice(w,1),l(),this._manager&&this._manager.updateDependencies())};k=new p(f,k,{onPause:g,onRemove:g,onResume:w=>{const q=this._incoming[w.match.eventType];q&&!q.includes(w)&&(q.push(w),l(),this._manager&&this._manager.updateDependencies())}});g=this._incoming[f.eventType];g||(g=[],this._incoming[f.eventType]=g);g.push(k);l();this._manager&&this._manager.updateDependencies();return k}registerOutgoing(f){if(this._outgoing[f])throw Error("There is already a callback registered for this outgoing InputEvent: "+
f);const g=new n(f,{onEmit:(k,l,w,q)=>{this._manager?.emit(k.eventType,l,w,q)},onRemove:k=>{delete this._outgoing[k.eventType];this._manager?.updateDependencies()}});this._outgoing[f]=g;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return g}startCapturingPointer(f){this._manager?.setPointerCapture(f,!0)}stopCapturingPointer(f){this._manager?.setPointerCapture(f,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),
this._manager=null)}_handleEvent(f){const g=this._incoming[f.type];if(g)for(const k of g)if(k.match.matches(f)&&(k.callback?.(f),f.shouldStopPropagation()))break}}class p{constructor(f,g,k){this.match=f;this._callback=g;this._handler=k}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class n{constructor(f,g){this.eventType=f;this._removed=!1;this._handler=g}emit(f,g,k){if(!this._removed)this._handler.onEmit(this,
f,g,k)}remove(){this._removed=!0;this._handler.onRemove(this)}}a.InputHandler=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/EventMatch":function(){define(["exports"],function(a){class b{constructor(c,e=[]){this.eventType=c;this.keyModifiers=e}matches(c){if(c.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;c=c.modifiers;for(const e of this.keyModifiers)if(!c.has(e))return!1;return!0}}a.EventMatch=b;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/input/handlers/MultiTouch":function(){define(["exports","../../../core/signal","../InputHandler"],function(a,b,c){class e extends c.InputHandler{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0);this._activeTouchPointerIds=new Set;this._multiTouchActive=b.signal(!1);this._onPointerAdd=({data:d})=>{"touch"===d.pointerType&&(this._activeTouchPointerIds.add(d.native.pointerId),this._update())};this._onPointerRemove=({data:d})=>{"touch"===
d.pointerType&&(this._activeTouchPointerIds.delete(d.native.pointerId),this._update())};this.registerIncoming("pointer-down",this._onPointerAdd);this.registerIncoming("pointer-up",this._onPointerRemove);this.registerIncoming("pointer-capture-lost",this._onPointerRemove);this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=1<this._activeTouchPointerIds.size}}a.MultiTouch=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/signal":function(){define(["exports",
"./lang","./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b,c,e){class d{constructor(p,n){this._observable=new e.SimpleObservable;this._value=p;this._equalityFunction=n}get value(){c.trackAccess(this._observable);return this._value}set value(p){this._equalityFunction(p,this._value)||(this._value=p,this._observable.notify())}mutate(p){p(this._value);this._observable.notify()}}a.signal=function(p,n=b.equalsShallow){return new d(p,n)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/input/ViewEvents":function(){define("exports ../../core/has ../../core/handleUtils ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager ./IViewEvents".split(" "),function(a,b,c,e,d,p,n,f){function g(I){return!!C[I]}function k(I){for(const E of I)if(!g(E))return!1;return!0}function l(I){return{type:"focus",timestamp:I.timestamp,native:I.data.native,cancelable:I.cancelable,stopPropagation:()=>I.stopPropagation(),async:E=>I.async(E),preventDefault:()=>
I.preventDefault()}}function w(I){return{type:"blur",timestamp:I.timestamp,native:I.data.native,cancelable:I.cancelable,stopPropagation:()=>I.stopPropagation(),async:E=>I.async(E),preventDefault:()=>I.preventDefault()}}function q(I,E){const {pointerType:G,button:L,buttons:R,x:F,y:J,native:O,eventId:U}=E.data,{cancelable:T,timestamp:Z}=E,V=d.createScreenPoint(F,J);I=u(I,F,J);return{type:"click",pointerType:G,button:L,buttons:R,x:F,y:J,native:O,timestamp:Z,screenPoint:V,mapPoint:I,eventId:U,cancelable:T,
stopPropagation:()=>E.stopPropagation(),async:qa=>E.async(qa),preventDefault:()=>E.preventDefault()}}function m(I,E){const {pointerType:G,button:L,buttons:R,x:F,y:J,native:O,eventId:U}=E.data,{cancelable:T,timestamp:Z}=E;return{type:"double-click",pointerType:G,button:L,buttons:R,x:F,y:J,native:O,timestamp:Z,mapPoint:u(I,F,J),eventId:U,cancelable:T,stopPropagation:()=>E.stopPropagation(),async:V=>E.async(V),preventDefault:()=>E.preventDefault()}}function h(I,E){const {pointerType:G,button:L,buttons:R,
x:F,y:J,native:O,eventId:U}=E.data,T=O.pointerId,{cancelable:Z,timestamp:V}=E;return{type:"immediate-click",pointerId:T,pointerType:G,button:L,buttons:R,x:F,y:J,native:O,timestamp:V,mapPoint:u(I,F,J),eventId:U,cancelable:Z,stopPropagation:()=>E.stopPropagation(),async:qa=>E.async(qa),preventDefault:()=>E.preventDefault()}}function t(I,E){const {pointerType:G,button:L,buttons:R,x:F,y:J,native:O,eventId:U}=E.data,T=O.pointerId,{cancelable:Z,timestamp:V}=E;return{type:"immediate-double-click",pointerId:T,
pointerType:G,button:L,buttons:R,x:F,y:J,native:O,timestamp:V,mapPoint:u(I,F,J),eventId:U,cancelable:Z,stopPropagation:()=>E.stopPropagation(),async:qa=>E.async(qa),preventDefault:()=>E.preventDefault()}}function y(I,E){const {pointerType:G,button:L,buttons:R,x:F,y:J,native:O}=E.data,{cancelable:U,timestamp:T}=E;return{type:"hold",pointerType:G,button:L,buttons:R,x:F,y:J,native:O,timestamp:T,mapPoint:u(I,F,J),cancelable:U,stopPropagation:()=>E.stopPropagation(),async:Z=>E.async(Z),preventDefault:()=>
E.preventDefault()}}function u(I,E,G){return I.toMap(d.createScreenPoint(E,G),{exclude:[]})}function r(I){const {key:E,repeat:G,native:L}=I.data,{cancelable:R,timestamp:F}=I;return{type:"key-down",key:E,repeat:G,native:L,timestamp:F,cancelable:R,stopPropagation:()=>I.stopPropagation(),async:J=>I.async(J),preventDefault:()=>I.preventDefault()}}function z(I){const {key:E,native:G}=I.data,{cancelable:L,timestamp:R}=I;return{type:"key-up",key:E,native:G,timestamp:R,cancelable:L,stopPropagation:()=>I.stopPropagation(),
async:F=>I.async(F),preventDefault:()=>I.preventDefault()}}function v(I,E){const {x:G,y:L,button:R,buttons:F,native:J,eventId:O}=I.data,U=J.pointerId,T=J.pointerType,{cancelable:Z,timestamp:V}=I;return{type:E,x:G,y:L,pointerId:U,pointerType:T,button:R,buttons:F,native:J,timestamp:V,eventId:O,cancelable:Z,stopPropagation:()=>I.stopPropagation(),async:qa=>I.async(qa),preventDefault:()=>I.preventDefault()}}function x(I){const {x:E,y:G,buttons:L,native:R,eventId:F}=I.data.currentEvent,{button:J}=I.data.startEvent,
O=I.data.startEvent.native.pointerId,U=I.data.startEvent.native.pointerType,T=I.data.action,Z={x:I.data.startEvent.x,y:I.data.startEvent.y},{cancelable:V,timestamp:qa}=I;return{type:"pointer-drag",x:E,y:G,pointerId:O,pointerType:U,button:J,buttons:L,action:T,origin:Z,native:R,timestamp:qa,eventId:F,cancelable:V,stopPropagation:()=>I.stopPropagation(),async:Ca=>I.async(Ca),preventDefault:()=>I.preventDefault()}}function B(I){const {cancelable:E,data:G,timestamp:L}=I,{x:R,y:F,deltaY:J,native:O}=G;return{type:"mouse-wheel",
x:R,y:F,deltaY:J,native:O,timestamp:L,cancelable:E,stopPropagation:()=>I.stopPropagation(),async:U=>I.async(U),preventDefault:()=>I.preventDefault()}}function A(I){const {action:E,state:G,device:L}=I.data,{cancelable:R,timestamp:F}=I,{buttons:J,axes:O}=G;return{type:"gamepad",device:L,timestamp:F,action:E,buttons:J,axes:O,cancelable:R,stopPropagation:()=>I.stopPropagation(),async:U=>I.async(U),preventDefault:()=>I.preventDefault()}}b="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");
const C={};b.forEach(I=>{C[I]=!0});class H{constructor(I){this._handlers=new Map;this._counter=0;this._handlerCounts=new Map;this.view=I;this.inputManager=null}connect(I){I&&this.disconnect();this.inputManager=I;this._handlers.forEach(({handler:E,priority:G},L)=>this.inputManager?.installHandlers(L,[E],G))}disconnect(){this.inputManager&&this._handlers.forEach((I,E)=>this.inputManager?.uninstallHandlers(E));this.inputManager=null}destroy(){this.disconnect();this._handlers.clear();this.view=null}on(I,
E,G,L){const R=Array.isArray(I)?I:I.split(",");if(!k(R))return R.some(g)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;if(Array.isArray(E))I=E;else{var F=E;I=[]}"function"===typeof G?F=G:L=G;L=null!=L?L:n.ViewEventPriorities.DEFAULT;const J=this._createUniqueGroupName();G=new N(this.view,R,I,F);this._handlers.set(J,{handler:G,priority:L});for(const O of R)F=this._handlerCounts.get(O)||0,this._handlerCounts.set(O,F+1);this.inputManager&&
this.inputManager.installHandlers(J,[G],L);return c.makeHandle(()=>this._removeHandler(J,R))}hasHandler(I){return!!this._handlerCounts.get(I)}_removeHandler(I,E){if(this._handlers.has(I)){this._handlers.delete(I);for(const G of E)E=this._handlerCounts.get(G),void 0!==E&&(1===E?this._handlerCounts.delete(G):this._handlerCounts.set(G,E-1))}this.inputManager&&this.inputManager.uninstallHandlers(I)}_createUniqueGroupName(){this._counter+=1;return`viewEvents_${this._counter}`}}class N extends p.InputHandler{constructor(I,
E,G,L){super(!0);this._latestDragStart=void 0;this.view=I;for(const R of E)switch(R){case "click":this.registerIncoming("click",G,F=>L(q(I,F)));break;case "double-click":this.registerIncoming("double-click",G,F=>L(m(I,F)));break;case "immediate-click":this.registerIncoming("immediate-click",G,F=>L(h(I,F)));break;case "immediate-double-click":this.registerIncoming("immediate-double-click",G,F=>L(t(I,F)));break;case "hold":this.registerIncoming("hold",G,F=>L(y(I,F)));break;case "drag":this.registerIncoming("drag",
G,F=>{(F=this._wrapDrag(F))&&L(F)});break;case "key-down":this.registerIncoming("key-down",G,F=>L(r(F)));break;case "key-up":this.registerIncoming("key-up",G,F=>L(z(F)));break;case "pointer-down":this.registerIncoming("pointer-down",G,F=>L(v(F,"pointer-down")));break;case "pointer-move":this.registerIncoming("pointer-move",G,F=>L(v(F,"pointer-move")));break;case "pointer-up":this.registerIncoming("pointer-up",G,F=>L(v(F,"pointer-up")));break;case "pointer-drag":this.registerIncoming("pointer-drag",
G,F=>L(x(F)));break;case "mouse-wheel":this.registerIncoming("mouse-wheel",G,F=>L(B(F)));break;case "pointer-enter":this.registerIncoming("pointer-enter",G,F=>L(v(F,"pointer-enter")));break;case "pointer-leave":this.registerIncoming("pointer-leave",G,F=>L(v(F,"pointer-leave")));break;case "gamepad":this.registerIncoming("gamepad",G,F=>{L(A(F))});break;case "focus":this.registerIncoming("focus",G,F=>{L(l(F))});break;case "blur":this.registerIncoming("blur",G,F=>{L(w(F))})}}_wrapDrag(I){const E=I.data,
{x:G,y:L}=E.center,{action:R,pointerType:F,button:J}=E;"start"===R&&(this._latestDragStart=E);if(this._latestDragStart){var O=E.pointer.native,U=E.buttons,{cancelable:T,timestamp:Z}=I,V={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};"end"===R&&(this._latestDragStart=void 0);return{type:"drag",action:R,x:G,y:L,origin:V,pointerType:F,button:J,buttons:U,radius:E.radius,angle:e.rad2deg(E.angle),native:O,timestamp:Z,cancelable:T,stopPropagation:()=>I.stopPropagation(),async:qa=>I.async(qa),
preventDefault:()=>I.preventDefault()}}}}Object.defineProperty(a,"MouseButton",{enumerable:!0,get:()=>f.MouseButton});a.ViewEvents=H;a.eventTypes=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/IViewEvents":function(){define(["exports"],function(a){a.MouseButton=void 0;var b=a.MouseButton||(a.MouseButton={});b[b.Left=0]="Left";b[b.Middle=1]="Middle";b[b.Right=2]="Right";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports",
"../../core/Logger","./interfaces"],function(a,b,c){a.areToolManipulatorsEditable=function(e){return e.visible&&null!=e.getEditableFlag&&e.getEditableFlag(c.EditableFlag.USER)&&e.getEditableFlag(c.EditableFlag.MANAGER)};a.getToolCollectionHandles=function(e){return[e.on("before-add",d=>{const p=d.item;if(null==p||e.includes(p))b.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),d.preventDefault();else p.onAdd()}),
e.on("after-remove",d=>{d=d.item;d.active&&(d.view.activeTool=null);d.destroy()})]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interfaces":function(){define(["exports"],function(a){a.EditableFlag=void 0;(function(b){b[b.USER=0]="USER";b[b.MANAGER=1]="MANAGER"})(a.EditableFlag||(a.EditableFlag={}));a.ManipulatorStateFlags=void 0;(function(b){b[b.None=0]="None";b[b.Unfocused=1]="Unfocused";b[b.Focused=2]="Focused";b[b.Unselected=4]="Unselected";b[b.Selected=
8]="Selected";b[b.All=15]="All"})(a.ManipulatorStateFlags||(a.ManipulatorStateFlags={}));a.ManipulatorStateCustomFlags=void 0;(function(b){b[b.None=0]="None";b[b.Custom1=16]="Custom1";b[b.Custom2=32]="Custom2";b[b.Custom3=64]="Custom3";b[b.Custom4=128]="Custom4";b[b.Custom5=256]="Custom5";b[b.Custom6=512]="Custom6";b[b.Custom7=1024]="Custom7";b[b.Custom8=2048]="Custom8";b[b.Custom9=4096]="Custom9";b[b.Custom10=8192]="Custom10";b[b.Custom11=16384]="Custom11";b[b.Custom12=32768]="Custom12";b[b.All=
65520]="All"})(a.ManipulatorStateCustomFlags||(a.ManipulatorStateCustomFlags={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("exports ../../core/iteratorUtils ../../core/MapUtils ../../core/mathUtils ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),function(a,b,c,e,d,p,n){function f(l){let w=null;c.someMap(l,({manipulator:q})=>{if(null!=q&&q.interactive){if(q.grabbing&&q.grabCursor)return w=
q.grabCursor,!0;if(q.cursor)return w=q.cursor,!0}return!1});return w}function g(l,w,q){let m=null;q(h=>{if(null==h.manipulators||!p.areToolManipulatorsEditable(h))return!1;const t=h.manipulators.intersect(l,w);if(null==t)return!1;m={tool:h,manipulator:t};return!0});return m}class k{constructor(){this._pointerLocations=new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;this._revertToNullActiveTool=this._stopDrag=!1;this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return 0<
this._grabbedManipulators.size||0<this._draggedManipulators.size}handleInputEvent(l,w){var q=()=>l.stopPropagation();switch(l.type){case "pointer-move":"mouse"===l.pointerType&&this._pointerLocations.set(l.pointerId,{x:l.x,y:l.y,pointerType:l.pointerType});break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&(l.stopPropagation(),"end"===l.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===l.pointerType&&0!==l.button)break;q=n.createScreenPointFromEvent(l);
var m=g(q,l.pointerType,w.forEachTool);if(null==m)break;var h=m.manipulator,t=m.tool;null==h||null==t||!h.interactive||h.grabbable&&h.grabbableForEvent(l)||!h.grabbing||h.dragging||this._releaseManipulatorBeforeDragging(h,l,w);null!=h&&null!=t&&h.interactive&&h.grabbable&&h.grabbableForEvent(l)&&!h.grabbing&&(this._grabbedManipulators.set(l.pointerId,{manipulator:h,tool:t,start:q,pointerType:l.pointerType}),1===this._grabbedManipulators.size&&null==w.activeTool&&(this._revertToNullActiveTool=!0,w.setActiveTool(m.tool)),
h.grabbing=!0,h.events.emit("grab-changed",{action:"start",pointerType:l.pointerType,screenPoint:q}),l.stopPropagation());break;case "pointer-up":this._draggedManipulators.has(l.pointerId)||this._handlePointerEnd(l,w);break;case "pointer-drag":if("mouse"===l.pointerType&&0!==l.button)break;t=this._grabbedManipulators.get(l.pointerId);q=t?.manipulator;m=t?.tool;if(null==q||null==m)break;h=n.createScreenPointFromEvent(l);h.x=e.clamp(h.x,0,w.view.width);h.y=e.clamp(h.y,0,w.view.height);t=t.start;const y=
this._draggedManipulators.get(l.pointerId);switch(l.action){case "start":case "update":if("update"===l.action||1===this._grabbedManipulators.size)q.dragging=!0,y?q.events.emit("drag",{action:"update",start:t,screenPoint:h}):q.events.emit("drag",{action:"start",start:t,screenPoint:h,pointerType:l.pointerType}),this._draggedManipulators.set(l.pointerId,{tool:m,manipulator:q,start:t});break;case "end":q.dragging=!1,y&&q.events.emit("drag",{action:"end",start:t,screenPoint:h}),this._draggedManipulators.delete(l.pointerId),
this._handlePointerEnd(l,w)}l.stopPropagation();break;case "immediate-click":m=n.createScreenPointFromEvent(l);const u=g(m,l.pointerType,w.forEachTool);l.native.shiftKey||w.forEachTool(v=>{if((null==u||u.tool!==v||v.automaticManipulatorSelection)&&v.manipulators){let x=!1;v.manipulators.forEach(({manipulator:B})=>{B.selected&&(B.selected=!1,x=!0)});if(x&&v.onManipulatorSelectionChanged)v.onManipulatorSelectionChanged()}});if(null==u)break;const {manipulator:r,tool:z}=u;if(!r.interactive)break;if(r.selectable&&
z.automaticManipulatorSelection&&(r.selected=!r.selected,z.onManipulatorSelectionChanged))z.onManipulatorSelectionChanged();r.events.emit("immediate-click",{screenPoint:m,button:l.button,pointerType:l.pointerType,shiftKey:l.native.shiftKey,stopPropagation:q});r?.consumesClicks&&l.stopPropagation();break;case "click":q=n.createScreenPointFromEvent(l);m=g(q,l.pointerType,w.forEachTool)?.manipulator;if(null==m||!m.interactive)break;m.events.emit(l.type,{screenPoint:q,button:l.button,pointerType:l.pointerType,
shiftKey:l.native.shiftKey});l.stopPropagation();break;case "double-click":m=n.createScreenPointFromEvent(l);h=g(m,l.pointerType,w.forEachTool);h=null!=h?h.manipulator:null;if(null==h||!h.interactive)break;h.events.emit("double-click",{screenPoint:m,button:l.button,pointerType:l.pointerType,shiftKey:l.native.shiftKey,stopPropagation:q});h?.consumesClicks&&l.stopPropagation();break;case "immediate-double-click":m=n.createScreenPointFromEvent(l),h=g(m,l.pointerType,w.forEachTool),h=null!=h?h.manipulator:
null,null!=h&&h.interactive&&(h.events.emit("immediate-double-click",{screenPoint:m,button:l.button,pointerType:l.pointerType,shiftKey:l.native.shiftKey,stopPropagation:q}),h?.consumesClicks&&l.stopPropagation())}this._onFocusChange(w.forEachTool)}_releaseManipulatorBeforeDragging(l,w,q){l.grabbing=!1;l.events.emit("grab-changed",{action:"end",pointerType:w.pointerType,screenPoint:n.createScreenPointFromEvent(w)});this._grabbedManipulators.forEach(({manipulator:m},h)=>{m===l&&this._grabbedManipulators.delete(h)});
this._afterManipulatorRelease(q.setActiveTool)}_handlePointerEnd(l,w){const q=this._grabbedManipulators.get(l.pointerId)?.manipulator;null!=q&&q.grabbing&&(q.grabbing=!1,q.events.emit("grab-changed",{action:"end",pointerType:l.pointerType,screenPoint:n.createScreenPointFromEvent(l)}),this._grabbedManipulators.delete(l.pointerId),this._afterManipulatorRelease(w.setActiveTool))}_onFocusChange(l){this._updateCursor();this._updateFocusedManipulatorTools(l)}_updateCursor(){this._cursor=0<this._grabbedManipulators.size?
f(this._grabbedManipulators)||"grabbing":0<this._hoveredManipulators.size?f(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(l){const w=new Set,q=new Set;this._grabbedManipulators.forEach(({tool:m})=>{w.add(m)});this._hoveredManipulators.forEach(({tool:m})=>{q.add(m)});l(m=>{m.hasGrabbedManipulators=w.has(m);m.hasHoveredManipulators=q.has(m);var h=this._grabbedManipulators.values();h=b.find(h,({tool:t})=>t===m);m.firstGrabbedManipulator=null!=h?h.manipulator:null})}clearPointers(l,
{forEachTool:w,setActiveTool:q},m=!0,h){this._grabbedManipulators.forEach(({tool:t,manipulator:y,pointerType:u},r)=>{t!==l||null!=h&&h!==y||(this._grabbedManipulators.delete(r),y.grabbing=!1,y.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:u}))});this._draggedManipulators.forEach(({tool:t,manipulator:y},u)=>{t!==l||null!=h&&h!==y||(this._draggedManipulators.delete(u),y.dragging=!1,y.events.emit("drag",{action:"cancel"}))});m&&this._hoveredManipulators.forEach(({tool:t,manipulator:y},
u)=>{t!==l||null!=h&&h!==y||(this._hoveredManipulators.delete(u),y.hovering=!1)});this._afterManipulatorRelease(q);this._onFocusChange(w)}updateHoveredStateFromKnownPointers(l){this._pointerLocations.forEach((w,q)=>{this._updateHoveredStateForPointerAtScreenPosition(d.createScreenPoint(w.x,w.y),q,w.pointerType,l)})}handleHoverEvent(l,w){"pointer-up"!==l.type&&"immediate-click"!==l.type&&"pointer-move"!==l.type||"mouse"!==l.pointerType||this._updateHoveredStateForPointerAtScreenPosition(n.createScreenPointFromEvent(l),
l.pointerId,l.pointerType,w)}_updateHoveredStateForPointerAtScreenPosition(l,w,q,m){l=g(l,q,m);q=this._hoveredManipulators.get(w)?.manipulator;null==l||l.manipulator.interactive||(l=null);if(null==l||q!==l.manipulator)null!=q&&(q.hovering=!1),null!=l?(l.manipulator.hovering=!0,this._hoveredManipulators.set(w,l)):this._hoveredManipulators.delete(w),this._onFocusChange(m)}_afterManipulatorRelease(l){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(l(null),this._revertToNullActiveTool=
!1)}}a.ToolViewManagerManipulatorState=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has","../../core/screenUtils"],function(a,b,c){function e(p){return c.createScreenPoint(p.x,p.y)}function d(p,n){return(p=(p instanceof HTMLElement?p:p.surface)?.getBoundingClientRect())?c.createScreenPoint(n.clientX-p.left,n.clientY-p.top):c.createScreenPoint(0,0)}a.createScreenPointArrayFromEvent=function(p){return c.createScreenPointArray(p.x,
p.y)};a.createScreenPointFromEvent=e;a.createScreenPointFromNativeEvent=d;a.createScreenPointFromSupportedEvent=function(p,n){return n instanceof Event?d(p,n):e(n)};a.isSupportedScreenPointEvent=function(p){if(p instanceof Event)return!0;if("object"===typeof p&&"type"in p)switch(p.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/Input":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,e,d,p,n,f){b=class extends b{constructor(){super(...arguments);this.gamepad=new f}};a.__decorate([c.property({readOnly:!0})],b.prototype,"gamepad",void 0);
return b=a.__decorate([n.subclass("esri.views.input.Input")],b)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),function(a,b,c,e,d,p,n,f,g){b=class extends b{constructor(...k){super(...k);this.devices=new c;this.enabledFocusMode=
"document"}};a.__decorate([e.property({type:c.ofType(g),readOnly:!0})],b.prototype,"devices",void 0);a.__decorate([e.property({type:["document","view","none"]})],b.prototype,"enabledFocusMode",void 0);return b=a.__decorate([f.subclass("esri.views.input.gamepad.GamepadSettings")],b)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n){b=class extends b{constructor(k){super();this.nativeIndex=null;this._detectedDeviceType="unknown";"standard"===k.mapping?this._detectedDeviceType="standard":f.test(k.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown";this.nativeIndex=k.index}get native(){const k=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<k.length?k[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return g[this.deviceType]}};
a.__decorate([c.property({nonNullable:!0,readOnly:!0})],b.prototype,"nativeIndex",void 0);a.__decorate([c.property({type:String,readOnly:!0})],b.prototype,"deviceType",null);a.__decorate([c.property({type:Number,readOnly:!0})],b.prototype,"axisThreshold",null);b=a.__decorate([n.subclass("esri.views.input.gamepad.GamepadInputDevice")],b);const f=RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),g={standard:.15,spacemouse:.025,unknown:0};return b})},"esri/views/navigation/Navigation":function(){define("../../chunks/tslib.es6 ../../core/a11yUtils ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),
function(a,b,c,e,d,p,n,f,g){c=class extends c{constructor(k){super(k);this.browserTouchPanEnabled=!0;this.gamepad=new g;this.mouseWheelZoomEnabled=this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!b.prefersReducedMotion()}};a.__decorate([e.property({type:Boolean})],c.prototype,"browserTouchPanEnabled",void 0);a.__decorate([e.property({type:g,nonNullable:!0})],c.prototype,"gamepad",void 0);a.__decorate([e.property({type:Boolean})],c.prototype,"momentumEnabled",void 0);
a.__decorate([e.property({type:Boolean})],c.prototype,"mouseWheelZoomEnabled",void 0);return c=a.__decorate([f.subclass("esri.views.navigation.Navigation")],c)})},"esri/core/a11yUtils":function(){define(["exports","../config"],function(a,b){a.prefersReducedMotion=()=>b.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),
function(a,b,c,e,d,p,n,f){b=class extends b{constructor(g){super(g);this.enabled=!0;this.device=null;this.mode="pan";this.tiltDirection="forward-down";this.velocityFactor=1}};a.__decorate([c.property({type:Boolean,nonNullable:!0})],b.prototype,"enabled",void 0);a.__decorate([c.property({type:f})],b.prototype,"device",void 0);a.__decorate([c.property({type:["pan","zoom"],nonNullable:!0})],b.prototype,"mode",void 0);a.__decorate([c.property({type:["forward-down","forward-up"],nonNullable:!0})],b.prototype,
"tiltDirection",void 0);a.__decorate([c.property({type:Number,nonNullable:!0})],b.prototype,"velocityFactor",void 0);return b=a.__decorate([n.subclass("esri.views.navigation.gamepad.GamepadSettings")],b)})},"esri/views/support/DefaultsFromMap":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/asyncUtils ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../geometry/support/heightModelInfoUtils ../ViewingMode ./projectionUtils".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m){a.DefaultsFromMap=class extends c{constructor(t){super(t);this.required={tileInfo:!1,heightModelInfo:!1,extent:!1};this.userSpatialReference=this.defaultSpatialReference=null;this.sourcePreloadCount=10;this.priorityCollection=null;this.requiresExtentInSpatialReference=!0;this.suspended=!1;this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=d.abortMaybe(this._projectExtentTask.task));
this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==
this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const t=this.map?.(),y=[];null!=this.priorityCollection&&y.push(this.priorityCollection);y.push({parent:t?.basemap,layers:t?.basemap?.baseLayers},{layers:t?.layers},{parent:t?.ground,layers:t?.ground?.layers},{parent:t?.basemap,layers:t?.basemap?.referenceLayers});return y}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??
{updating:!1};const {layers:t,updating:y}=this._allLayers;var u=null;for(const z of t){var r=this._getSupportedSpatialReferences(z);0<r.length&&(r=this._narrowDownSpatialReferenceCandidates(u,r),null!=r&&(u=r));if(null!=u&&1===u.length)break}if(y&&(null==u||1!==u.length))return{updating:!0};u=this._pickSpatialReferenceCandidate(u);return{spatialReference:u?.spatialReference??null,viewingMode:u?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??
{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const {layers:t,updating:y}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(t&&0<t.length&&"tileInfo"in t[0]){const u=t[0].tileInfo;return{tileInfo:u?.spatialReference.equals(this.spatialReference)?u:null,updating:!1}}return{updating:y}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??
{updating:!1};const {layers:t,updating:y}=this._allLayers;for(const u of t)if(w.supportsHeightModelInfo(u)){const r=w.deriveHeightModelInfoFromLayer(u);if(r)return{heightModelInfo:r,vcsWkid:u.spatialReference?.vcsWkid,latestVcsWkid:u.spatialReference?.latestVcsWkid,updating:!1}}return{updating:y}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};
var t=this._allLayers;const y=t.updating,u=[];for(const z of t.layers){t="fullExtents"in z&&z.fullExtents||(null!=z.fullExtent?[z.fullExtent]:[]);var r=this.requiresExtentInSpatialReference?null:t[0];if(r=t.find(v=>v.spatialReference.equals(this.spatialReference))??r)return{candidates:[{extent:r,layer:z}],updating:!1};if(0<this._getSupportedSpatialReferences(z).length)for(const v of t)u.push({extent:v,layer:z})}return{candidates:u,updating:y}}get _extentTask(){const {candidates:t,updating:y}=this._extentCandidatesTask;
if(y)return{updating:y};if(null==t||0===t.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const u=this._pickExtentCandidate(t),r=this.spatialReference;if(u.extent.equals(this._projectExtentTask.input)&&r.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished};null!=this._projectExtentTask.task&&(this._projectExtentTask.task=
d.abortMaybe(this._projectExtentTask.task));this._projectExtentTask={input:u.extent.clone(),output:null,spatialReference:r.clone(),task:e.createTask(async z=>{try{const v=await m.projectWithEngineOrService(u.extent,r,"portalItem"in u.layer?u.layer.portalItem:void 0,z);this._projectExtentTask={...this._projectExtentTask,task:null,output:v}}catch(v){p.isAborted(z)||(this._projectExtentTask={...this._projectExtentTask,task:null})}})};return{updating:!0}}_narrowDownSpatialReferenceCandidates(t,y){if(null==
t)return y;const u=[];for(const z of t)for(const v of y)if(z.spatialReference.equals(v.spatialReference)){t=z.viewingMode;var r=v.viewingMode;t=null!=t?null!=r?t===r?t:!1:t:r;if(!1!==t){u.push({spatialReference:z.spatialReference,viewingMode:t});break}}return 0<u.length?u:null}_pickSpatialReferenceCandidate(t){const y=this.defaultSpatialReference;if(null==t||1>t.length)return y?{spatialReference:y,viewingMode:null}:null;null!=y&&1<t.length&&t.some(({spatialReference:u})=>u.equals(y))&&(t=t.filter(({spatialReference:u})=>
u.equals(y)));1<t.length&&t.some(({viewingMode:u})=>u!==q.ViewingMode.Local)&&(t=t.filter(({viewingMode:u})=>u!==q.ViewingMode.Local));return t[0]}_getSupportedSpatialReferences(t){var y="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(0===y.length)return[];const u=[];for(const r of y)if(y=this.getSpatialReferenceSupport(r,t),null!=y){y=y.constraints??[{spatialReference:r,viewingMode:null}];for(const {spatialReference:z,viewingMode:v}of y)this.requiresExtentInSpatialReference&&
null!=this.userSpatialReference&&!z.equals(this.userSpatialReference)||u.push({spatialReference:z,viewingMode:v})}return u}_pickExtentCandidate(t){const y=this.spatialReference;return t.find(({extent:u})=>y.equals(u.spatialReference))||t[0]}_collectLayers(t){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const y=new h;for(const u of t)if(this._collectCollection(u,y),y.preloading===this.sourcePreloadCount)break;return{layers:y.layers,updating:y.updating}}_collectCollection(t,
y){if(t.layers){switch(this._loadMaybe(t.parent)){case "loading":y.updating=!0;++y.preloading;return;case "failed":return}for(const u of t.layers){switch(this._loadMaybe(u)){case "failed":continue;case "loading":y.updating=!0;++y.preloading;break;case "loaded":y.updating||y.layers.push(u),"layers"in u&&this._collectCollection({layers:u.layers},y)}if(y.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&null!=t.loadStatus?"not-loaded"===t.loadStatus?(t.load().catch(y=>
{p.isAbortError(y)||console.log(y)}),"loading"):t.loadStatus:"loaded"}};b.__decorate([n.property()],a.DefaultsFromMap.prototype,"required",void 0);b.__decorate([n.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"map",void 0);b.__decorate([n.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"getSpatialReferenceSupport",void 0);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"defaultSpatialReference",void 0);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"userSpatialReference",
void 0);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"sourcePreloadCount",void 0);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"priorityCollection",void 0);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"requiresExtentInSpatialReference",void 0);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"suspended",void 0);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"ready",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,
"heightModelInfoReady",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"spatialReference",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"extent",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfo",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"vcsWkid",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"latestVcsWkid",null);b.__decorate([n.property({readOnly:!0})],
a.DefaultsFromMap.prototype,"viewingMode",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"tileInfo",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"mapCollections",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_allLayers",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_spatialReferenceTask",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_tileInfoTask",null);
b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_heightModelInfoTask",null);b.__decorate([n.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_extentCandidatesTask",null);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"_extentTask",null);b.__decorate([n.property()],a.DefaultsFromMap.prototype,"_projectExtentTask",void 0);a.DefaultsFromMap=b.__decorate([l.subclass("esri.views.support.DefaultsFromMap")],a.DefaultsFromMap);class h{constructor(){this.layers=[];this.preloading=
-1;this.updating=!1}}Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/heightModelInfoUtils":function(){define(["exports","../../core/has","../../core/Error","../HeightModelInfo","../../layers/support/arcgisLayerUrl"],function(a,b,c,e,d){function p(m,h,t){if(!n(m)||!n(h))return w.Unsupported;if(null==m||null==h)return w.Ok;if(!t&&m.heightUnit!==h.heightUnit)return w.Units;if(m.heightModel!==h.heightModel)return w.HeightModel;switch(m.heightModel){case "gravity-related-height":return w.Ok;
case "ellipsoidal":return m.vertCRS===h.vertCRS?w.Ok:w.CRS;default:return w.Unsupported}}function n(m){return null==m||null!=m.heightModel&&null!=m.heightUnit}function f(m){if("integrated-mesh-3dtiles"===m.type)return null;const h=m.url?d.parse(m.url):void 0;return(null!=m.spatialReference?.vcsWkid||null==h||"ImageServer"!==h.serverType)&&"heightModelInfo"in m&&m.heightModelInfo?m.heightModelInfo:k(m)?e.deriveUnitFromSR(q,m.spatialReference):null}function g(m){if("unknown"===m.type||!("capabilities"in
m))return!1;switch(m.type){case "catalog":case "catalog-footprint":case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "oriented-imagery":case "wfs":case "knowledge-graph-sublayer":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case "elevation":case null:return!1;default:return!1}}function k(m){return g(m)?!!(m.capabilities&&m.capabilities.data&&m.capabilities.data.supportsZ):l(m)}function l(m){switch(m.type){case "building-scene":case "elevation":case "integrated-mesh":case "integrated-mesh-3dtiles":case "point-cloud":case "scene":case "voxel":return!0}return!1}
var w;(function(m){m[m.Ok=0]="Ok";m[m.Units=1]="Units";m[m.HeightModel=2]="HeightModel";m[m.CRS=3]="CRS";m[m.Unsupported=4]="Unsupported"})(w||={});const q=new e({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=f;a.rejectLayerError=function(m,h,t){const y=f(m),u=p(y,h,t);if(y){const r=e.deriveUnitFromSR(y,m.spatialReference).heightUnit;if(!t&&r!==y.heightUnit)return h=new c("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${r})`,
{horizontalUnit:r}),new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:y,error:h})}if(!("heightModelInfo"in m&&null!=m.heightModelInfo||null!=m.spatialReference)&&k(m)||u===w.Unsupported)return new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:y});switch(u){case w.Units:return m=y?.heightUnit||"unknown",t=h?.heightUnit||"unknown",m=new c("layerview:incompatible-height-unit",
`The vertical units of the layer (${m}) must match the vertical units of the scene (${t})`,{layerUnit:m,sceneUnit:t}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:y,sceneHeightModelInfo:h,error:m});case w.HeightModel:return m=y?.heightModel||"unknown",t=h?.heightModel||"unknown",m=new c("layerview:incompatible-height-model",`The height model of the layer (${m}) must match the height model of the scene (${t})`,
{layerHeightModel:m,sceneHeightModel:t}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:y,sceneHeightModelInfo:h,error:m});case w.CRS:return m=y?.vertCRS||"unknown",t=h?.vertCRS||"unknown",m=new c("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${m}) must match the vertical datum of the scene (${t})`,{layerDatum:m,sceneDatum:t}),new c("layerview:incompatible-height-model-info",
"The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:y,sceneHeightModelInfo:h,error:m})}return null};a.supportsHeightModelInfo=function(m){return null!=m.layers||l(m)||g(m)||"heightModelInfo"in m};a.validateWebSceneError=function(m,h){if(!m)return null;if(!n(m))return new c("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:m});const t=m.heightUnit;m=e.deriveUnitFromSR(m,h).heightUnit;
return t!==m?new c("webscene:incompatible-height-unit",`The vertical units of the scene (${t}) must match the horizontal units of the scene (${m})`,{verticalUnit:t,horizontalUnit:m}):null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewingMode":function(){define(["exports"],function(a){a.ViewingMode=void 0;(function(b){b[b.Global=1]="Global";b[b.Local=2]="Local"})(a.ViewingMode||(a.ViewingMode={}));a.stringFromViewingMode=function(b){return b===a.ViewingMode.Global?
"global":"local"};a.viewingModeFromString=function(b){return"global"===b?a.ViewingMode.Global:a.ViewingMode.Local};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/projectionUtils":function(){define(["require","exports","../../core/promiseUtils","../../geometry/projection"],function(a,b,c,e){async function d(g){n||=(new Promise((k,l)=>a(["../../portal/support/geometryServiceUtils"],k,l))).then(k=>f=k);await n;c.throwIfAborted(g)}async function p(g,k,l,w){if(!g)return null;
const q=g.spatialReference;if(e.isLoaded()||e.canProjectWithoutEngine(q,k))return e.project(g,k);if(f)return f.projectGeometry(g,k,l,w);await Promise.race([d(w),e.load(w)]);return p(g,k,l,w)}let n=null,f;b.projectWithEngineOrService=p;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewAnimation":function(){define("../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,n,f,g){c=class extends c.EsriPromise{constructor(k){super(k);this.state="running";this._resolver=this.target=null}initialize(){this._resolver=e.createResolver();this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new b("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state",
"finished"),this._resolver?.resolve())}update(k,l){l||=e.isPromiseLike(k)?"waiting-for-target":"running";this._set("target",k);this._set("state",l)}};a.__decorate([d.property({readOnly:!0})],c.prototype,"done",null);a.__decorate([d.property({readOnly:!0,type:String})],c.prototype,"state",void 0);a.__decorate([d.property()],c.prototype,"target",void 0);c=a.__decorate([g.subclass("esri.views.ViewAnimation")],c);(c||={}).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};
return c})},"esri/views/layers/LayerView":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/support/UpdatingHandles ../support/layerViewUtils".split(" "),function(a,b,c,e,d,p,n,f,g,k,l,w,q){b=class extends e.IdentifiableMixin(n.EsriPromiseMixin(c.EventedMixin(b))){constructor(m){super(m);
this._updatingHandles=new w.UpdatingHandles;this.parent=this.layer=null}initialize(){this.when().catch(m=>{if("layerview:create-error"!==m.name){const h=this.layer&&this.layer.id||"no id",t=this.layer?.title||"no title";d.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${t}', id: '${h}')`,m)}})}destroy(){this._updatingHandles=p.destroyMaybe(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||
!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(m){this._overrideIfSome("visible",m)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const m=this.view.timeExtent,
h=this.layer?.visibilityTimeExtent;return!m||!h||!m.intersection(h).isEmpty}canResume(){const m=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&q.validateScaleRange(m)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const m=this.parent?.suspended?this.parent.suspendInfo:{};this.view?.ready||(m.viewNotReady=!0);this.layer&&this.layer.loaded||(m.layerNotLoaded=
!0);q.validateScaleRange(this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null)&&this.visibleAtCurrentScale||(m.outsideScaleRange=!0);this.visibleAtCurrentTimeExtent||(m.outsideVisibilityTimeExtent=!0);this.visible||(m.layerInvisible=!0);return m}isUpdating(){return!1}};a.__decorate([f.property()],b.prototype,"view",void 0);a.__decorate([f.property()],b.prototype,"fullOpacity",null);a.__decorate([f.property()],b.prototype,"layer",void 0);a.__decorate([f.property()],b.prototype,
"parent",void 0);a.__decorate([f.property({readOnly:!0})],b.prototype,"suspended",null);a.__decorate([f.property({readOnly:!0})],b.prototype,"suspendInfo",null);a.__decorate([f.property({readOnly:!0})],b.prototype,"legendEnabled",null);a.__decorate([f.property({type:Boolean,readOnly:!0})],b.prototype,"updating",null);a.__decorate([f.property({readOnly:!0})],b.prototype,"updatingProgress",null);a.__decorate([f.property()],b.prototype,"updateSuspended",null);a.__decorate([f.property()],b.prototype,
"visible",null);a.__decorate([f.property({readOnly:!0})],b.prototype,"visibleAtCurrentScale",null);a.__decorate([f.property({readOnly:!0})],b.prototype,"visibleAtCurrentTimeExtent",null);return b=a.__decorate([l.subclass("esri.views.layers.LayerView")],b)})},"esri/views/support/layerViewUtils":function(){define(["exports"],function(a){function b(e,d,p){return null==e||e>=p&&(0===d||e<=d)}function c(e,d){return null!=e&&0<e||null!=d&&0<d}a.extractSafeScaleBounds=function(e){e=e.effectiveScaleRange;
return{minScale:e?.minScale??0,maxScale:e?.maxScale??0}};a.highlightsSupported=function(e){return e&&"function"===typeof e.highlight};a.isInEffectiveScaleRange=function(e,d){if(d&&e){const {minScale:p,maxScale:n}=e;if(c(p,n))return b(d,p,n)}return!0};a.isScaleRangeActive=c;a.isSelectableLayerView2D=function(e){return null!=e&&"object"===typeof e&&"createQuery"in e&&"queryFeatures"in e&&"layer"in e&&"view"in e};a.occludeesSupported=function(e){return e&&"function"===typeof e.maskOccludee};a.scaleBoundsPredicate=
b;a.validateScaleRange=function(e){return!e?.minScale||!e.maxScale||e.minScale>=e.maxScale};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/Widget":function(){define("../chunks/tslib.es6 ../intl ../core/deprecate ../core/domUtils ../core/Evented ../core/events ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ../chunks/componentsUtils ./support/jsxWidgetSupport ./support/symbols ./support/tests ./support/vnodeCache ./support/widgetUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,c,e,d,p,n,f,g,k,l,w,q,m,h,t,y,u,r,z,v,x,B,A,C,H,N,I){function E(F,J){const O=Object.prototype.hasOwnProperty;for(const U in J)O.call(J,U)&&O.call(F,U)&&(null!=F[U]&&null!=J[U]&&"object"===typeof F[U]&&"object"===typeof J[U]?E(F[U],J[U]):F[U]=J[U]);return F}let G=0;const L=z.createAdvancedProjector({postProcessProjectionOptions(F){const J=F.eventHandlerInterceptor,O=/capture$/i;F.eventHandlerInterceptor=(U,T,Z,V)=>{const qa=J?.(U,T,Z,V),Ca=O.test(U);U=U.replace(O,"");if(!(U.toLowerCase()in
Z)||Ca){const va=U[2].toLowerCase()+U.slice(3),ra=ea=>qa?.call(Z,ea);Z.addEventListener(va,ra,Ca);const Aa=V.afterRemoved;V.afterRemoved=ea=>{Aa?.(ea);Z.removeEventListener(va,ra,Ca)}}return qa}},handleInterceptedEvent(F,J,O,U){const {eventPhase:T,type:Z}=U,V=T===Event.CAPTURING_PHASE;let qa=`on${Z}${V?"capture":""}`;J=J.properties;if(!(J&&qa in J||(qa=`on${Z[0].toUpperCase()}${Z.slice(1)}${V?"Capture":""}`,J&&qa in J)))return;C.clearVNodeCache();F.scheduleRender();J[qa].call(J.bind||O,U)}});let R=
!1;d=class extends l.EsriPromiseMixin(d.EventedAccessor){constructor(F,J){super(F,J);this._attached=!1;this._projector=L;this._readyForTrueRender=!1;this.key=this;this.autoRenderingEnabled=!0;this._loadLocale=w.debounce(async()=>{if(this._messageBundleProps?.length){const V=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:qa,propertyName:Ca})=>{this.destroyed||(qa=await I.fetchMessageBundle(qa),this.uiStrings&&Object.keys(this.uiStrings)&&(qa=E(f.clone(qa),this.uiStrings)),
this[Ca]=qa)}));if(this.destroyed)return;for(const qa of V)"rejected"===qa.status&&g.getLogger(this).error("widget-intl:locale-error",this.declaredClass,qa.reason)}await this.loadLocale()});v.commitAssetPath();const O="esri-widget-uid-"+m.generateUUID(),U=this.render.bind(this);this._trackingTarget=new r.SimpleTrackingTarget(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const T=()=>({vnodeSelector:"div",properties:{key:`${O}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,
text:void 0}),Z=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const V=U()??T(),qa=V.properties??(V.properties={});qa.key??(qa.key=O);if(x.isWidgetConstructor(V.vnodeSelector)){if(!this.visible)return T()}else{this.visible?qa.styles||(qa.styles={}):(qa.class="",qa.styles={display:"none"});let va;(va=qa.styles).display??(va.display="")}let Ca=0;V.children?.forEach(va=>{if(!x.isWidgetConstructor(va.vnodeSelector)){va.properties??(va.properties={});var ra;(ra=va.properties).key??(ra.key=
`${this.id}--${Ca++}`)}});return x.processWidgets(this,V)};this.render=()=>{if(R)return Z();let V=C.getVNodeCache(this)??null;if(V)return V;this._trackingTarget.clear();R=!0;try{V=u.runTracked(this._trackingTarget,Z)}catch(qa){throw g.getLogger(this).error(qa),qa;}finally{R=!1}V&&C.setVNodeCache(this,V);return V};(F=this.beforeFirstRender())?this._resourcesFetch=F.then(()=>{this._readyForTrueRender=!0;this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),
this._readyForTrueRender=!0);this.addResolvingPromise(this._resourcesFetch);A.registerLoading(this._resourcesFetch)}normalizeCtorArgs(F,J){F={...F};J&&(F.container=J);return F}postInitialize(){}beforeFirstRender(){const F=this.loadDependencies();return this._messageBundleProps?.length||F?Promise.all([F,this._loadLocale()]).then(()=>{}).catch(w.throwIfNotAbortError):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(k.destroyMaybe(this._trackingTarget),k.destroyMaybe(this.viewModel),
this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,C.deleteVNodeCache(this))}set container(F){this._get("container")||this._set("container",F)}castContainer(F){return e.byId(F)}get domNode(){return this.container}set domNode(F){this.container=F}get icon(){return null}set icon(F){this._overrideIfSome("icon",F)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+G++}set id(F){F&&this._set("id",
F)}get label(){return this.declaredClass.split(".").pop()}set label(F){this._overrideIfSome("label",F)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(F){this._set("visible",F)}get [(b=B.widgetSymbol,B.widgetTestDataSymbol)](){return{projector:this._projector}}render(){throw Error("not implemented");}scheduleRender(){this.destroyed||(C.deleteVNodeCache(this),this._projector.scheduleRender())}own(F){c.deprecatedFunction(g.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",
{replacement:"Widget.addHandles()",version:"4.28"});this.addHandles(F)}classes(...F){return H.classes.apply(this,F)}renderNow(){C.deleteVNodeCache(this);this._projector.renderNow()}_postInitialize(){if(!this.destroyed){this.scheduleRender();this._delegatedEventNames?.length&&this.addHandles(q.watch(()=>this.viewModel,(J,O)=>{O&&this.removeHandles("delegated-events");J&&p.isEventedOrEventTarget(J)&&this.addHandles(this._delegatedEventNames.map(U=>p.on(J,U,T=>{this.emit(U,T)})),"delegated-events")},
q.syncAndInitial));this.postInitialize();var F=async()=>{await this._loadLocale().catch(w.throwIfNotAbortError);this.scheduleRender()};this.addHandles([N.onLocaleChange(F),q.watch(()=>this.uiStrings,F),q.when(()=>this.container,J=>{this.destroyed||this._attach(J)},{initial:!0,once:!0})])}}_attach(F){F&&(this._projector.merge(F,this.render),this._attached=!0)}_detach(F){this._attached&&(this._projector.detach(this.render),this._attached=!1);F?.parentNode?.removeChild(F)}};d[b]=!0;a.__decorate([h.property()],
d.prototype,"_readyForTrueRender",void 0);a.__decorate([h.property({value:null})],d.prototype,"container",null);a.__decorate([t.cast("container")],d.prototype,"castContainer",null);a.__decorate([h.property()],d.prototype,"icon",null);a.__decorate([h.property()],d.prototype,"id",null);a.__decorate([h.property()],d.prototype,"label",null);a.__decorate([h.property()],d.prototype,"renderable",null);a.__decorate([h.property()],d.prototype,"uiStrings",void 0);a.__decorate([h.property()],d.prototype,"viewModel",
void 0);a.__decorate([h.property({value:!0})],d.prototype,"visible",null);a.__decorate([h.property()],d.prototype,"key",void 0);a.__decorate([h.property()],d.prototype,"children",void 0);a.__decorate([h.property()],d.prototype,"afterCreate",void 0);a.__decorate([h.property()],d.prototype,"afterUpdate",void 0);a.__decorate([h.property()],d.prototype,"afterRemoved",void 0);return d=a.__decorate([y.subclass("esri.widgets.Widget")],d)})},"esri/core/domUtils":function(){define(["exports"],function(a){const b=
(()=>"function"===typeof Element.prototype.closest?(c,e)=>c.closest(e):(c,e)=>{do{if(c.matches(e))return c;c=c.parentElement}while(null!==c&&1===c.nodeType);return null})();a.byId=function(c){return"string"===typeof c?document.getElementById(c):c??null};a.closest=b;a.empty=function(c){for(;c.hasChildNodes();)c.removeChild(c.firstChild)};a.insertAfter=function(c,e){const d=e.parentNode;d&&(d.lastChild===e?d.appendChild(c):d.insertBefore(c,e.nextSibling))};a.insertBefore=function(c,e){const d=e.parentNode;
d&&d.insertBefore(c,e)};a.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};a.reparent=function(c,e){for(;;){const d=c.firstChild;if(!d)break;e.appendChild(d)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/projector":function(){define(["exports","../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,c,e,d){const p=(g,k)=>{const l=[];for(;g&&g!==k;)l.push(g),g=g.parentNode;return l},n=(g,
k)=>g.find(k),f=(g,k,l=!1)=>{let w=g;k.forEach((q,m)=>{const h=w?.children?n(w.children,t=>t.domNode===q):void 0;if(!l||h||m===k.length-1)w=h});return w};a.createAdvancedProjector=g=>{let k;const l={...e.defaultAdvancedProjectorOptions,...g},w=d.applyDefaultProjectionOptions(l),q=w.performanceLogger;let m=!0,h,t=!1;const y=[],u=[],r=(v,x,B)=>{let A;w.eventHandlerInterceptor=(H,N,I,E)=>function(G){q("domEvent",G);var L=p(G.currentTarget,A.domNode);const R=L.some(J=>customElements.get(J?.tagName?.toLowerCase()));
G.eventPhase!==Event.CAPTURING_PHASE&&R?(L=G.composedPath(),L=L.slice(L.indexOf(G.currentTarget),L.indexOf(A.domNode)).reverse(),L=f(A.getLastRender(),L,!0)):(L.reverse(),L=f(A.getLastRender(),L));let F;L&&(F=l.handleInterceptedEvent(k,L,this,G));q("domEventProcessed",G);return F};l.postProcessProjectionOptions?.(w);const C=B();A=v(x,C,w);w.eventHandlerInterceptor=void 0;y.push(A);u.push(B);l.afterFirstVNodeRendered&&l.afterFirstVNodeRendered(A,C)};let z=()=>{h=void 0;if(m){m=!1;q("renderStart",void 0);
for(let v=0;v<y.length;v++){const x=u[v]();q("rendered",void 0);y[v].update(x);q("patched",void 0)}q("renderDone",void 0);m=!0}};l.modifyDoRenderImplementation&&(z=l.modifyDoRenderImplementation(z,y,u));return k={renderNow:z,scheduleRender:()=>{h||t||(h=requestAnimationFrame(z))},stop:()=>{h&&(cancelAnimationFrame(h),h=void 0);t=!0},resume:()=>{t=!1;m=!0;k.scheduleRender()},append:(v,x)=>{r(b.dom.append,v,x)},insertBefore:(v,x)=>{r(b.dom.insertBefore,v,x)},merge:(v,x)=>{r(b.dom.merge,v,x)},replace:(v,
x)=>{r(b.dom.replace,v,x)},detach:v=>{for(let x=0;x<u.length;x++)if(u[x]===v)return u.splice(x,1),y.splice(x,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,b){const c={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,d,p)=>{"-"===d.charAt(0)?e.style.setProperty(d,p):e.style[d]=p}};a.applyDefaultProjectionOptions=
e=>b.extend(c,e);a.dom={create:(e,d)=>{d=b.extend(c,d);b.createDom(e,document.createElement("div"),void 0,d);return b.createProjection(e,d)},append:(e,d,p)=>{p=b.extend(c,p);b.createDom(d,e,void 0,p);return b.createProjection(d,p)},insertBefore:(e,d,p)=>{p=b.extend(c,p);b.createDom(d,e.parentNode,e,p);return b.createProjection(d,p)},merge:(e,d,p)=>{p=b.extend(c,p);d.domNode=e;b.initPropertiesAndChildren(e,d,p);return b.createProjection(d,p)},replace:(e,d,p)=>{p=b.extend(c,p);b.createDom(d,e.parentNode,
e,p);e.parentNode.removeChild(e);return b.createProjection(d,p)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projection":function(){define(["exports","../../widgets/support/widgetUtils"],function(a,b){function c(z){if(!(z instanceof Element&&z.tagName.includes("-")))return!1;const v=window.customElements.get(z.tagName.toLowerCase());return!!v&&z instanceof v}let e=[],d=(z,v)=>{let x={};Object.keys(z).forEach(B=>{x[B]=z[B]});v&&Object.keys(v).forEach(B=>{x[B]=
v[B]});return x},p=(z,v)=>z.vnodeSelector!==v.vnodeSelector?!1:z.properties&&v.properties?z.properties.key!==v.properties.key?!1:z.properties.bind===v.properties.bind:!z.properties&&!v.properties,n=z=>{if("string"!==typeof z)throw Error("Style values must be strings");},f=(z,v,x,B)=>{let A=z[v];if(""!==A.vnodeSelector){var C=A.properties;if(!(C&&(void 0===C.key?C.bind:C.key)))for(C=0;C<z.length;C++)if(C!==v&&p(z[C],A))throw Error(`${x.vnodeSelector} had a ${A.vnodeSelector} child ${"added"===B?B:
"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},g=[],k=!1,l=z=>{(z.children||[]).forEach(l);z.properties&&z.properties.afterRemoved&&z.properties.afterRemoved.apply(z.properties.bind||z.properties,[z.domNode])},w=()=>{k=!1;g.forEach(l);g.length=0},q=z=>{g.push(z);k||(k=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(w,{timeout:16}):setTimeout(w,16))},m=z=>{let v=z.domNode;if(z.properties){let x=
z.properties.exitAnimation;if(x){v.style.pointerEvents="none";x(v,()=>{v.parentNode&&(v.parentNode.removeChild(v),q(z))},z.properties);return}}v.parentNode&&(v.parentNode.removeChild(v),q(z))},h=(z,v,x)=>{if(v){var B=x.eventHandlerInterceptor,A=Object.keys(v),C=A.length;for(let G=0;G<C;G++){var H=A[G];let L=v[H];if("className"===H)throw Error('Property "className" is not supported, use "class".');if("class"===H)r(z,L,!0);else if("classes"===H){H=Object.keys(L);var N=H.length;for(var I=0;I<N;I++){var E=
H[I];L[E]&&z.classList.add(E)}}else if("styles"===H)for(H=Object.keys(L),N=H.length,I=0;I<N;I++){E=H[I];let R=L[E];R&&(n(R),x.styleApplyer(z,E,R))}else"key"!==H&&null!==L&&void 0!==L&&(N=typeof L,"function"===N?(0===H.lastIndexOf("on",0)&&(B&&(L=B(H,L,z,v)),"oninput"===H&&function(){let R=L;L=function(F){R.apply(this,[F]);F.target["oninput-value"]=F.target.value}}()),z[H]=L):"http://www.w3.org/2000/svg"===x.namespace?"href"===H?z.setAttributeNS("http://www.w3.org/1999/xlink",H,L):z.setAttribute(H,
L):"string"===N&&"value"!==H?"innerHTML"===H?z[H]=b.renderingSanitizer.sanitize(L):c(z)&&H in z?z[H]=L:z.setAttribute(H,L):z[H]=L)}}},t=(z,v,x)=>{var B=v.children;if(B)for(let A of B)y(A,z,void 0,x);v.text&&(z.textContent=v.text);h(z,v.properties,x);v.properties&&v.properties.afterCreate&&v.properties.afterCreate.apply(v.properties.bind||v.properties,[z,x,v.vnodeSelector,v.properties,v.children])},y=(z,v,x,B)=>{let A;var C=0;let H=z.vnodeSelector,N=v.ownerDocument;if(""===H)A=z.domNode=N.createTextNode(z.text),
void 0!==x?v.insertBefore(A,x):v.appendChild(A);else{for(let E=0;E<=H.length;++E){var I=H.charAt(E);if(E===H.length||"."===I||"#"===I)I=H.charAt(C-1),C=H.slice(C,E),"."===I?A.classList.add(C):"#"===I?A.id=C:("svg"===C&&(B=d(B,{namespace:"http://www.w3.org/2000/svg"})),void 0!==B.namespace?A=z.domNode=N.createElementNS(B.namespace,C):(A=z.domNode=z.domNode||N.createElement(C),"input"===C&&z.properties&&void 0!==z.properties.type&&A.setAttribute("type",z.properties.type)),void 0!==x?v.insertBefore(A,
x):A.parentNode!==v&&v.appendChild(A)),C=E+1}t(A,z,B)}},u,r=(z,v,x)=>{v&&v.split(" ").forEach(B=>{B&&z.classList.toggle(B,x)})};u=(z,v,x)=>{let B=z.domNode;if(z===v)return!1;let A=!1;if(""===v.vnodeSelector){if(v.text!==z.text)return z=B.ownerDocument.createTextNode(v.text),B.parentNode.replaceChild(z,B),v.domNode=z,!0;v.domNode=B}else{0===v.vnodeSelector.lastIndexOf("svg",0)&&(x=d(x,{namespace:"http://www.w3.org/2000/svg"}));z.text!==v.text&&(A=!0,void 0===v.text?B.removeChild(B.firstChild):B.textContent=
v.text);v.domNode=B;var C=z.children;var H=v.children,N=x;if(C===H)C=!1;else{C=C||e;H=H||e;for(var I=C.length,E=H.length,G=0,L=0,R=!1;L<E;){var F=G<I?C[G]:void 0,J=H[L];if(void 0!==F&&p(F,J))R=u(F,J,N)||R,G++;else{b:{F=C;var O=J,U=G+1;if(""!==O.vnodeSelector)for(;U<F.length;U++)if(p(F[U],O)){F=U;break b}F=-1}if(0<=F){for(;G<F;G++)m(C[G]),f(C,G,v,"removed");R=u(C[F],J,N)||R;G=F+1}else y(J,B,G<I?C[G].domNode:void 0,N),J.properties&&(F=J.properties.enterAnimation)&&F(J.domNode,J.properties),f(H,L,v,
"added")}L++}if(I>G)for(;G<I;G++)m(C[G]),f(C,G,v,"removed");C=R}A=C||A;C=z.properties;H=v.properties;N=x;if(H){I=!1;E=Object.keys(H);L=E.length;for(R=0;R<L;R++)if(F=E[R],J=H[F],G=C[F],"class"===F)G!==J&&(r(B,G,!1),r(B,J,!0));else if("classes"===F){F=B.classList;O=Object.keys(J);U=O.length;for(var T=0;T<U;T++){var Z=O[T];let V=!!J[Z];V!==!!G[Z]&&(I=!0,V?F.add(Z):F.remove(Z))}}else if("styles"===F)for(F=Object.keys(J),O=F.length,U=0;U<O;U++)T=F[U],Z=J[T],Z!==G[T]&&(I=!0,Z?(n(Z),N.styleApplyer(B,T,Z)):
N.styleApplyer(B,T,""));else(J||"string"!==typeof G||(J=""),"value"!==F||c(B))?J!==G&&(G=typeof J,"function"===G&&N.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===N.namespace?"href"===F?B.setAttributeNS("http://www.w3.org/1999/xlink",F,J):B.setAttribute(F,J):"string"===G?"innerHTML"===F?B[F]=b.renderingSanitizer.sanitize(J):"role"===F&&""===J?B.removeAttribute(F):c(B)&&F in B?B[F]=J:B.setAttribute(F,J):B[F]!==J&&(B[F]=J),I=!0)):(O=B[F],O!==J&&(B["oninput-value"]?O===B["oninput-value"]:J!==
G)&&(B[F]=J,B["oninput-value"]=void 0),J!==G&&(I=!0));C=I}else C=void 0;A=C||A;v.properties&&v.properties.afterUpdate&&v.properties.afterUpdate.apply(v.properties.bind||v.properties,[B,x,v.vnodeSelector,v.properties,v.children])}A&&v.properties&&v.properties.updateAnimation&&v.properties.updateAnimation(B,v.properties,z.properties);return!1};a.createDom=y;a.createProjection=(z,v)=>({getLastRender:()=>z,update:x=>{if(z.vnodeSelector!==x.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");
let B=z;z=x;u(B,x,v)},domNode:z.domNode});a.extend=d;a.initPropertiesAndChildren=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widgetUtils":function(){define("exports ../../core/ArrayPool ../../core/handleUtils ../../core/has ../../core/Logger ../../core/reactiveUtils ./vnodeCache".split(" "),function(a,b,c,e,d,p,n){function f(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,
animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,
"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,
"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,
"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,
"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,
"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,
"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,
"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,
"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,
rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,
"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,
"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function g(fa){fa=fa||{};var oa={},ta;for(ta in fa)oa[ta]=fa[ta];fa=oa;fa.whiteList=fa.whiteList||R.whiteList;fa.onAttr=fa.onAttr||
R.onAttr;fa.onIgnoreAttr=fa.onIgnoreAttr||R.onIgnoreAttr;fa.safeAttrValue=fa.safeAttrValue||R.safeAttrValue;this.options=fa}function k(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],
dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],
th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function l(fa){return fa.replace(Z,"\x26lt;").replace(V,"\x26gt;")}function w(fa){return fa.replace(qa,"\x26quot;")}function q(fa){return fa.replace(Ca,'"')}function m(fa){return fa.replace(va,function(oa,ta){return"x"===ta[0]||"X"===ta[0]?String.fromCharCode(parseInt(ta.substr(1),
16)):String.fromCharCode(parseInt(ta,10))})}function h(fa){return fa.replace(ra,":").replace(Aa," ")}function t(fa){for(var oa="",ta=0,Fa=fa.length;ta<Fa;ta++)oa+=32>fa.charCodeAt(ta)?" ":fa.charAt(ta);return U.trim(oa)}function y(fa){fa=q(fa);fa=m(fa);fa=h(fa);return fa=t(fa)}function u(fa){fa=w(fa);return fa=l(fa)}function r(fa,oa){for(;oa<fa.length;oa++){var ta=fa[oa];if(" "!==ta)return"\x3d"===ta?oa:-1}}function z(fa,oa){for(;oa<fa.length;oa++){var ta=fa[oa];if(" "!==ta)return"'"===ta||'"'===
ta?oa:-1}}function v(fa,oa){for(;0<oa;oa--){var ta=fa[oa];if(" "!==ta)return"\x3d"===ta?oa:-1}}function x(fa){var oa='"'===fa[0]&&'"'===fa[fa.length-1]||"'"===fa[0]&&"'"===fa[fa.length-1]?!0:!1;return oa?fa.substr(1,fa.length-2):fa}function B(fa){var oa=Ba.spaceIndex(fa);if(-1===oa)return{html:"",closing:"/"===fa[fa.length-2]};fa=Ba.trim(fa.slice(oa+1,-1));(oa="/"===fa[fa.length-1])&&(fa=Ba.trim(fa.slice(0,-1)));return{html:fa,closing:oa}}function A(fa){var oa={},ta;for(ta in fa)Array.isArray(fa[ta])?
oa[ta.toLowerCase()]=fa[ta].map(function(Fa){return Fa.toLowerCase()}):oa[ta.toLowerCase()]=fa[ta];return oa}function C(fa){fa=fa||{};var oa={},ta;for(ta in fa)oa[ta]=fa[ta];fa=oa;fa.stripIgnoreTag&&(fa.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),fa.onIgnoreTag=Q.onIgnoreTagStripAll);fa.whiteList=fa.whiteList||fa.allowList?A(fa.whiteList||fa.allowList):Q.whiteList;fa.onTag=fa.onTag||Q.onTag;fa.onTagAttr=fa.onTagAttr||Q.onTagAttr;
fa.onIgnoreTag=fa.onIgnoreTag||Q.onIgnoreTag;fa.onIgnoreTagAttr=fa.onIgnoreTagAttr||Q.onIgnoreTagAttr;fa.safeAttrValue=fa.safeAttrValue||Q.safeAttrValue;fa.escapeHtml=fa.escapeHtml||Q.escapeHtml;this.options=fa;!1===fa.css?this.cssFilter=!1:(fa.css=fa.css||{},this.cssFilter=new K(fa.css))}function H(fa){fa=fa?.closest("[dir]");return null!==fa&&fa instanceof HTMLElement&&"rtl"===fa.dir||"rtl"===document.dir}var N=function(){N=Object.assign||function(fa){for(var oa,ta=1,Fa=arguments.length;ta<Fa;ta++){oa=
arguments[ta];for(var Ea in oa)Object.prototype.hasOwnProperty.call(oa,Ea)&&(fa[Ea]=oa[Ea])}return fa};return N.apply(this,arguments)};e={exports:{}};var I={};d={exports:{}};var E={},G=/javascript\s*:/gim;E.whiteList=f();E.getDefaultWhiteList=f;E.onAttr=function(fa,oa,ta){};E.onIgnoreAttr=function(fa,oa,ta){};E.safeAttrValue=function(fa,oa){return G.test(oa)?"":oa};var L={indexOf:function(fa,oa){var ta;if(Array.prototype.indexOf)return fa.indexOf(oa);var Fa=0;for(ta=fa.length;Fa<ta;Fa++)if(fa[Fa]===
oa)return Fa;return-1},forEach:function(fa,oa,ta){var Fa;if(Array.prototype.forEach)return fa.forEach(oa,ta);var Ea=0;for(Fa=fa.length;Ea<Fa;Ea++)oa.call(ta,fa[Ea],Ea,fa)},trim:function(fa){return String.prototype.trim?fa.trim():fa.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(fa){return String.prototype.trimRight?fa.trimRight():fa.replace(/(\s*$)/g,"")}},R=E,F=function(fa,oa){function ta(){if(!Ea){var na=L.trim(fa.slice(Qa,Pa)),xa=na.indexOf(":");if(-1!==xa){var Oa=L.trim(na.slice(0,xa));xa=L.trim(na.slice(xa+
1));Oa&&(na=oa(Qa,Ra.length,Oa,xa,na))&&(Ra+=na+"; ")}}Qa=Pa+1}fa=L.trimRight(fa);";"!==fa[fa.length-1]&&(fa+=";");for(var Fa=fa.length,Ea=!1,Qa=0,Pa=0,Ra="";Pa<Fa;Pa++){var Sa=fa[Pa];if("/"===Sa&&"*"===fa[Pa+1]){Sa=fa.indexOf("*/",Pa+2);if(-1===Sa)break;Pa=Sa+1;Qa=Pa+1;Ea=!1}else"("===Sa?Ea=!0:")"===Sa?Ea=!1:";"===Sa?Ea||ta():"\n"===Sa&&ta()}return L.trim(Ra)};g.prototype.process=function(fa){fa=(fa||"").toString();if(!fa)return"";var oa=this.options,ta=oa.whiteList,Fa=oa.onAttr,Ea=oa.onIgnoreAttr,
Qa=oa.safeAttrValue;return F(fa,function(Pa,Ra,Sa,na,xa){var Oa=ta[Sa],Ua=!1;!0===Oa?Ua=Oa:"function"===typeof Oa?Ua=Oa(na):Oa instanceof RegExp&&(Ua=Oa.test(na));!0!==Ua&&(Ua=!1);if(na=Qa(Sa,na)){Pa={position:Ra,sourcePosition:Pa,source:xa,isWhite:Ua};if(Ua)return Ua=Fa(Sa,na,Pa),void 0===Ua||null===Ua?Sa+":"+na:Ua;Ua=Ea(Sa,na,Pa);if(void 0!==Ua&&null!==Ua)return Ua}})};(function(fa,oa){oa=fa.exports=function(Fa,Ea){return(new g(Ea)).process(Fa)};oa.FilterCSS=g;for(var ta in E)oa[ta]=E[ta]})(d,d.exports);
d=d.exports;var J={indexOf:function(fa,oa){var ta;if(Array.prototype.indexOf)return fa.indexOf(oa);var Fa=0;for(ta=fa.length;Fa<ta;Fa++)if(fa[Fa]===oa)return Fa;return-1},forEach:function(fa,oa,ta){var Fa;if(Array.prototype.forEach)return fa.forEach(oa,ta);var Ea=0;for(Fa=fa.length;Ea<Fa;Ea++)oa.call(ta,fa[Ea],Ea,fa)},trim:function(fa){return String.prototype.trim?fa.trim():fa.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(fa){return(fa=/\s|\n|\t/.exec(fa))?fa.index:-1}},O=d.getDefaultWhiteList,
U=J,T=new d.FilterCSS,Z=/</g,V=/>/g,qa=/"/g,Ca=/&quot;/g,va=/&#([a-zA-Z0-9]*);?/gim,ra=/&colon;?/gim,Aa=/&newline;?/gim,ea=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,ca=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Y=/u\s*r\s*l\s*\(.*/gi;I.whiteList=k();I.getDefaultWhiteList=k;I.onTag=function(fa,oa,ta){};I.onIgnoreTag=function(fa,oa,ta){};I.onTagAttr=function(fa,oa,ta){};I.onIgnoreTagAttr=function(fa,oa,ta){};I.safeAttrValue=function(fa,oa,ta,Fa){ta=
y(ta);if("href"===oa||"src"===oa){ta=U.trim(ta);if("#"===ta)return"#";if("http://"!==ta.substr(0,7)&&"https://"!==ta.substr(0,8)&&"mailto:"!==ta.substr(0,7)&&"tel:"!==ta.substr(0,4)&&"data:image/"!==ta.substr(0,11)&&"ftp://"!==ta.substr(0,6)&&"./"!==ta.substr(0,2)&&"../"!==ta.substr(0,3)&&"#"!==ta[0]&&"/"!==ta[0])return""}else if("background"===oa){if(ea.lastIndex=0,ea.test(ta))return""}else if("style"===oa){ca.lastIndex=0;if(ca.test(ta))return"";Y.lastIndex=0;if(Y.test(ta)&&(ea.lastIndex=0,ea.test(ta)))return"";
!1!==Fa&&(Fa=Fa||T,ta=Fa.process(ta))}return ta=u(ta)};I.escapeHtml=l;I.escapeQuote=w;I.unescapeQuote=q;I.escapeHtmlEntities=m;I.escapeDangerHtml5Entities=h;I.clearNonPrintableCharacter=t;I.friendlyAttrValue=y;I.escapeAttrValue=u;I.onIgnoreTagStripAll=function(){return""};I.StripTagBody=function(fa,oa){"function"!==typeof oa&&(oa=function(){});var ta=!Array.isArray(fa),Fa=[],Ea=!1;return{onIgnoreTag:function(Qa,Pa,Ra){var Sa=ta?!0:-1!==U.indexOf(fa,Qa);if(Sa){if(Ra.isClosing)return Fa.push([!1!==
Ea?Ea:Ra.position,Ra.position+10]),Ea=!1,"[/removed]";Ea||(Ea=Ra.position);return"[removed]"}return oa(Qa,Pa,Ra)},remove:function(Qa){var Pa="",Ra=0;U.forEach(Fa,function(Sa){Pa+=Qa.slice(Ra,Sa[0]);Ra=Sa[1]});return Pa+=Qa.slice(Ra)}}};I.stripCommentTag=function(fa){for(var oa="",ta=0;ta<fa.length;){var Fa=fa.indexOf("\x3c!--",ta);if(-1===Fa){oa+=fa.slice(ta);break}oa+=fa.slice(ta,Fa);ta=fa.indexOf("--\x3e",Fa);if(-1===ta)break;ta+=3}return oa};I.stripBlankChar=function(fa){fa=fa.split("");fa=fa.filter(function(oa){oa=
oa.charCodeAt(0);return 127===oa?!1:31>=oa?10===oa||13===oa?!0:!1:!0});return fa.join("")};I.cssFilter=T;I.getDefaultCSSWhiteList=O;var ha={},ua=/[^a-zA-Z0-9\\_:.-]/gim;ha.parseTag=function(fa,oa,ta){var Fa="",Ea=0,Qa=!1,Pa=!1,Ra=0,Sa=fa.length,na="",xa="";Ra=0;a:for(;Ra<Sa;Ra++)if(xa=fa.charAt(Ra),!1===Qa)"\x3c"===xa&&(Qa=Ra);else if(!1===Pa)if("\x3c"===xa)Fa+=ta(fa.slice(Ea,Ra)),Ea=Qa=Ra;else if("\x3e"===xa)Fa+=ta(fa.slice(Ea,Qa)),xa=fa.slice(Qa,Ra+1),Ea=void 0,Ea=xa,na=J.spaceIndex(Ea),Ea=-1===
na?Ea.slice(1,-1):Ea.slice(1,na+1),Ea=J.trim(Ea).toLowerCase(),"/"===Ea.slice(0,1)&&(Ea=Ea.slice(1)),"/"===Ea.slice(-1)&&(Ea=Ea.slice(0,-1)),na=Ea,Fa+=oa(Qa,Fa.length,na,xa,"\x3c/"===xa.slice(0,2)),Ea=Ra+1,Qa=!1;else{if('"'===xa||"'"===xa){na=1;for(var Oa=fa.charAt(Ra-na);""===Oa.trim()||"\x3d"===Oa;){if("\x3d"===Oa){Pa=xa;continue a}Oa=fa.charAt(Ra-++na)}}}else xa===Pa&&(Pa=!1);Ea<fa.length&&(Fa+=ta(fa.substr(Ea)));return Fa};ha.parseAttr=function(fa,oa){function ta(xa,Oa){xa=J.trim(xa);xa=xa.replace(ua,
"").toLowerCase();1>xa.length||(xa=oa(xa,Oa||""))&&Qa.push(xa)}for(var Fa=0,Ea=0,Qa=[],Pa=!1,Ra=fa.length,Sa=0;Sa<Ra;Sa++){var na=fa.charAt(Sa);if(!1===Pa&&"\x3d"===na)Pa=fa.slice(Fa,Sa),Fa=Sa+1,Ea='"'===fa.charAt(Fa)||"'"===fa.charAt(Fa)?Fa:z(fa,Sa+1);else{if(!1!==Pa&&Sa===Ea)if(na=fa.indexOf(na,Sa+1),-1===na)break;else{Fa=J.trim(fa.slice(Ea+1,na));ta(Pa,Fa);Pa=!1;Sa=na;Fa=Sa+1;continue}/\s|\n|\t/.test(na)&&(fa=fa.replace(/\s|\n|\t/g," "),!1===Pa?(na=r(fa,Sa),-1===na?(Fa=J.trim(fa.slice(Fa,Sa)),
ta(Fa),Pa=!1,Fa=Sa+1):Sa=na-1):(na=v(fa,Sa-1),-1===na&&(Fa=J.trim(fa.slice(Fa,Sa)),Fa=x(Fa),ta(Pa,Fa),Pa=!1,Fa=Sa+1)))}}Fa<fa.length&&(!1===Pa?ta(fa.slice(Fa)):ta(Pa,x(J.trim(fa.slice(Fa)))));return J.trim(Qa.join(" "))};var K=d.FilterCSS,Q=I,ia=ha.parseTag,ka=ha.parseAttr,Ba=J;C.prototype.process=function(fa){fa=(fa||"").toString();if(!fa)return"";var oa=this.options,ta=oa.whiteList,Fa=oa.onTag,Ea=oa.onIgnoreTag,Qa=oa.onTagAttr,Pa=oa.onIgnoreTagAttr,Ra=oa.safeAttrValue,Sa=oa.escapeHtml,na=this.cssFilter;
oa.stripBlankChar&&(fa=Q.stripBlankChar(fa));oa.allowCommentTag||(fa=Q.stripCommentTag(fa));var xa=!1;oa.stripIgnoreTagBody&&(xa=Q.StripTagBody(oa.stripIgnoreTagBody,Ea),Ea=xa.onIgnoreTag);fa=ia(fa,function(Oa,Ua,gb,rb,qb){Oa={sourcePosition:Oa,position:Ua,isClosing:qb,isWhite:Object.prototype.hasOwnProperty.call(ta,gb)};Ua=Fa(gb,rb,Oa);if(void 0!==Ua&&null!==Ua)return Ua;if(Oa.isWhite){if(Oa.isClosing)return"\x3c/"+gb+"\x3e";Oa=B(rb);var Eb=ta[gb];Ua=ka(Oa.html,function(zb,sb){var pa=-1!==Ba.indexOf(Eb,
zb),sa=Qa(gb,zb,sb,pa);if(void 0!==sa&&null!==sa)return sa;if(pa)return(sb=Ra(gb,zb,sb,na))?zb+'\x3d"'+sb+'"':zb;sa=Pa(gb,zb,sb,pa);if(void 0!==sa&&null!==sa)return sa});rb="\x3c"+gb;Ua&&(rb+=" "+Ua);Oa.closing&&(rb+=" /");return rb+"\x3e"}Ua=Ea(gb,rb,Oa);return void 0!==Ua&&null!==Ua?Ua:Sa(rb)},Sa);xa&&(fa=xa.remove(fa));return fa};(function(fa,oa){function ta(Ea,Qa){return(new Fa(Qa)).process(Ea)}var Fa=C;oa=fa.exports=ta;oa.filterXSS=ta;oa.FilterXSS=Fa;(function(){for(var Ea in I)oa[Ea]=I[Ea];
for(var Qa in ha)oa[Qa]=ha[Qa]})();"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=fa.exports)})(e,e.exports);var W=e.exports,da=function(fa){if("object"!==typeof fa||null===fa||"[object Object]"!==Object.prototype.toString.call(fa))return!1;var oa=Object.getPrototypeOf(fa);if(null===oa)return!0;for(;null!==Object.getPrototypeOf(oa);)oa=Object.getPrototypeOf(oa);return Object.getPrototypeOf(fa)===oa};O=function(){function fa(oa,
ta){var Fa=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],details:["style"],div:["align","style","aria-label","aria-hidden"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],
hr:[],i:[],img:"alt border height src style width".split(" "),li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),th:"align colspan height nowrap rowspan style valign width".split(" "),
time:["style"],u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};this.arcgisCSSWhiteList=N(N({},W.getDefaultCSSWhiteList()),{flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,"line-height":!0,"justify-content":!0,overflow:!0});this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");
this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Qa,Pa,Ra,Sa){return"a"===Qa&&"href"===Pa||("img"===Qa||"source"===Qa)&&"src"===Pa?Fa.sanitizeUrl(Ra):W.safeAttrValue(Qa,Pa,Ra,Sa)}};this._entityMap={"\x26":"\x26#x38;","\x3c":"\x26#x3C;","\x3e":"\x26#x3E;",'"':"\x26#x22;","'":"\x26#x27;","/":"\x26#x2F;"};if(oa&&!ta)var Ea=oa;else oa&&ta?(Ea=Object.create(this.arcgisFilterOptions),Ea.css={whiteList:this.arcgisCSSWhiteList},Object.keys(oa).forEach(function(Qa){if("whiteList"===Qa)Ea.whiteList=
Fa._extendObjectOfArrays([Fa.arcgisWhiteList,oa.whiteList||{}]);else if("css"===Qa){var Pa=oa.css.whiteList;null!=Pa&&oa.css instanceof Object&&Object.keys(Pa).forEach(function(Ra){return Ea.css.whiteList[Ra]=Pa[Ra]})}else Ea[Qa]=oa[Qa]})):(Ea=Object.create(this.arcgisFilterOptions),Ea.whiteList=this.arcgisWhiteList,Ea.css={whiteList:this.arcgisCSSWhiteList});this.xssFilterOptions=Ea;this._xssFilter=new W.FilterXSS(Ea)}fa.prototype.sanitize=function(oa,ta){void 0===ta&&(ta={});switch(typeof oa){case "number":return isNaN(oa)||
!isFinite(oa)?null:oa;case "boolean":return oa;case "string":return this._xssFilter.process(oa);case "object":return this._iterateOverObject(oa,ta);default:if(!ta.allowUndefined||"undefined"!==typeof oa)return null}};fa.prototype.sanitizeUrl=function(oa,ta){ta=(null!==ta&&void 0!==ta?ta:{}).isProtocolRequired;ta=void 0===ta?!0:ta;var Fa=this._trim(oa.substring(0,oa.indexOf(":"))),Ea="/"===oa,Qa=/^#/.test(oa),Pa=Fa&&-1<this.allowedProtocols.indexOf(Fa.toLowerCase());return Ea||Qa||Pa?W.escapeAttrValue(oa):
Fa||ta?"":W.escapeAttrValue("https://".concat(oa))};fa.prototype.sanitizeHTMLAttribute=function(oa,ta,Fa,Ea){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(oa,ta,Fa,Ea):W.safeAttrValue(oa,ta,Fa,Ea)};fa.prototype.validate=function(oa,ta){void 0===ta&&(ta={});ta=this.sanitize(oa,ta);return{isValid:oa===ta,sanitized:ta}};fa.prototype.encodeHTML=function(oa){var ta=this;return String(oa).replace(/[&<>"'\/]/g,function(Fa){return ta._entityMap[Fa]})};fa.prototype.encodeAttrValue=
function(oa){var ta=/^[a-zA-Z0-9]$/;return String(oa).replace(/[\x00-\xFF]/g,function(Fa,Ea){return ta.test(Fa)?Fa:"\x26#x".concat(Number(oa.charCodeAt(Ea)).toString(16),";")})};fa.prototype._extendObjectOfArrays=function(oa){var ta={};oa.forEach(function(Fa){Object.keys(Fa).forEach(function(Ea){Array.isArray(Fa[Ea])&&Array.isArray(ta[Ea])?ta[Ea]=ta[Ea].concat(Fa[Ea]):ta[Ea]=Fa[Ea]})});return ta};fa.prototype._iterateOverObject=function(oa,ta){var Fa=this;void 0===ta&&(ta={});try{var Ea=!1,Qa=void 0;
if(Array.isArray(oa))Qa=oa.reduce(function(Pa,Ra){var Sa=Fa.validate(Ra,ta);if(Sa.isValid)return Pa.concat([Ra]);Ea=!0;return Pa.concat([Sa.sanitized])},[]);else if(da(oa))Qa=Object.keys(oa).reduce(function(Pa,Ra){var Sa=oa[Ra],na=Fa.validate(Sa,ta);na.isValid?Pa[Ra]=Sa:(Ea=!0,Pa[Ra]=na.sanitized);return Pa},{});else return ta.allowUndefined&&"undefined"===typeof oa?void 0:null;return Ea?Qa:oa}catch(Pa){return null}};fa.prototype._trim=function(oa){return String.prototype.trim?oa.trim():oa.replace(/(^\s*)|(\s*$)/g,
"")};return fa}();var ja,M,S=function(fa){if("WebkitTransition"in fa.style)ja="webkitTransitionEnd",M="webkitAnimationEnd";else if("transition"in fa.style)ja="transitionend",M="animationend";else throw Error("Your browser is not supported!");},X=function(fa,oa){void 0===oa&&(oa=fa+"-active");return function(ta){ja||S(ta);var Fa=!1,Ea=function(Qa){Fa||(Fa=!0,ta.removeEventListener(ja,Ea),ta.removeEventListener(M,Ea),ta.classList.remove(fa),ta.classList.remove(oa))};ta.classList.add(fa);ta.addEventListener(ja,
Ea);ta.addEventListener(M,Ea);requestAnimationFrame(function(){ta.classList.add(oa)})}},ma=function(fa,oa){void 0===oa&&(oa=fa+"-active");return function(ta,Fa){ja||S(ta);var Ea=!1,Qa=function(Pa){Ea||(Ea=!0,ta.removeEventListener(ja,Qa),ta.removeEventListener(M,Qa),Fa())};ta.classList.add(fa);ta.addEventListener(ja,Qa);ta.addEventListener(M,Qa);requestAnimationFrame(function(){ta.classList.add(oa)})}};e=(()=>{const fa=new Map,oa=new ResizeObserver(Fa=>{n.clearVNodeCache();for(const Ea of Fa)fa.get(Ea.target)?.(Ea)}),
ta=(Fa,Ea,Qa)=>{fa.set(Fa,Ea);oa.observe(Fa,Qa);return c.makeHandle(()=>{oa.unobserve(Fa);fa.delete(Fa)})};return(Fa,Ea,Qa)=>{let Pa=null;return c.handlesGroup([p.watch(()=>"function"===typeof Fa?Fa():Fa,Ra=>{Pa?.remove();Ra&&(Pa=ta(Ra,Ea,Qa))},p.syncAndInitial),c.makeHandle(()=>Pa?.remove())])}})();d="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");
const ya=d.reduce((fa,oa)=>{fa[oa]=[];return fa},{}),Ia="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");O=new O({whiteList:ya,onTagAttr:(fa,oa,ta)=>{fa=`${oa}="${ta}"`;if(Ia.includes(oa))return fa},stripIgnoreTag:!0,stripIgnoreTagBody:["script",
"style"]},!0);a.additionalAllowedTags=d;a.classes=function(...fa){const oa=b.acquire();for(let ta=0;ta<fa.length;ta++){const Fa=fa[ta],Ea=typeof Fa;if("string"===Ea)oa.push(Fa);else if(Array.isArray(Fa))oa.push.apply(oa,Fa);else if("object"===Ea)for(const Qa in Fa)Fa[Qa]&&oa.push(Qa)}fa=oa.join(" ");b.release(oa);return fa};a.cssTransition=function(fa,oa){return("enter"===fa?X:ma)(oa)};a.discardNode=function(fa){this[fa.getAttribute("data-node-ref")]=null};a.getDir=function(fa){return H(fa)?"rtl":
"ltr"};a.isActivationKey=function(fa){return"Enter"===fa||" "===fa};a.isRTL=H;a.keepMenuItemWithinView=function(fa,oa){const ta=fa.getBoundingClientRect();oa=oa.getBoundingClientRect();const Fa=ta.top,Ea=oa.top;(ta.top+ta.height>oa.top+oa.height||Fa<Ea)&&fa.scrollIntoView({block:"end"})};a.onResize=e;a.renderingSanitizer=O;a.safeAttrs=Ia;a.someElementsAreVisible=function(fa){return Object.values(fa).includes(!0)};a.storeNode=function(fa){this[fa.getAttribute("data-node-ref")]=fa};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/vnodeCache":function(){define(["exports"],function(a){const b=new Map;a.clearVNodeCache=function(){b.clear()};a.deleteVNodeCache=function(c){b.delete(c)};a.getVNodeCache=function(c){return b.get(c)};a.setVNodeCache=function(c,e){b.set(c,e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,b){let c;c=Array.prototype.find?(p,n)=>p.find(n):(p,n)=>
p.filter(n)[0];let e=(p,n)=>{let f=p;n.forEach(g=>{f=f&&f.children?c(f.children,k=>k.domNode===g):void 0});return f},d=(p,n,f)=>{let g=function(k){f("domEvent",k);var l=n(),w=k.currentTarget,q=l.domNode;let m=[];for(;w&&w!==q;)m.push(w),w=w.parentNode;m.reverse();l=e(l.getLastRender(),m);p.scheduleRender();let h;l&&(h=l.properties[`on${k.type}`].apply(l.properties.bind||this,arguments));f("domEventProcessed",k);return h};return(k,l,w,q)=>g};a.createProjector=p=>{let n,f=b.applyDefaultProjectionOptions(p),
g=f.performanceLogger,k=!0,l,w=!1,q=[],m=[],h=(y,u,r)=>{let z;f.eventHandlerInterceptor=d(n,()=>z,g);z=y(u,r(),f);q.push(z);m.push(r)},t=()=>{l=void 0;if(k){k=!1;g("renderStart",void 0);for(let y=0;y<q.length;y++){let u=m[y]();g("rendered",void 0);q[y].update(u);g("patched",void 0)}g("renderDone",void 0);k=!0}};return n={renderNow:t,scheduleRender:()=>{l||w||(l=requestAnimationFrame(t))},stop:()=>{l&&(cancelAnimationFrame(l),l=void 0);w=!0},resume:()=>{w=!1;k=!0;n.scheduleRender()},append:(y,u)=>
{h(b.dom.append,y,u)},insertBefore:(y,u)=>{h(b.dom.insertBefore,y,u)},merge:(y,u)=>{h(b.dom.merge,y,u)},replace:(y,u)=>{h(b.dom.replace,y,u)},detach:y=>{for(let u=0;u<m.length;u++)if(m[u]===y)return m.splice(u,1),q.splice(u,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,
c,e,d)=>{b.scheduleRender();return c.properties[`on${d.type}`].apply(c.properties.bind||e,[d])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(c,e,d)=>{"-"===e.charAt(0)?c.style.setProperty(e,d):c.style[e]=d}};a.applyDefaultProjectionOptions=c=>({...b,...c});Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/chunks/componentsUtils":function(){define(["exports","../assets","../core/has","../core/urlUtils"],function(a,b,c,e){function d(pa,sa){if(pa.isOk)return pa=sa(pa.value),pa instanceof Promise?pa.then(La=>q(La)):q(pa);if(pa.isErr)return m(pa.value);throw"should never get here";}function p(pa){return pa.includes("ref")?[...pa.filter(sa=>"ref"!==sa),"ref"]:pa}function n(){const {classList:pa}=document.body,sa=window.matchMedia("(prefers-color-scheme: dark)").matches,La=Ta=>
document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:Ta}}));let Da=pa.contains("calcite-mode-dark")||pa.contains("calcite-mode-auto")&&sa?"dark":"light";La(Da);window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Ta=>{Ta=Ta.matches?"dark":"light";Da!==Ta&&La(Ta);Da=Ta});(new MutationObserver(()=>{var Ta=pa.contains("calcite-mode-dark")||pa.contains("calcite-mode-auto")&&sa?"dark":"light";Da!==Ta&&La(Ta);Da=Ta})).observe(document.body,{attributes:!0,
attributeFilter:["class"]})}var f={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,
slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,
scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},g=Object.defineProperty,k=pa=>{pa=new URL(pa,Sa.$resourcesUrl$);return pa.origin!==Pa.location.origin?pa.href:pa.pathname},l={},w=pa=>{pa=typeof pa;return"object"===
pa||"function"===pa};((pa,sa)=>{for(var La in sa)g(pa,La,{get:sa[La],enumerable:!0})})({},{err:()=>m,map:()=>d,ok:()=>q,unwrap:()=>h,unwrapErr:()=>t});var q=pa=>({isOk:!0,isErr:!1,value:pa}),m=pa=>({isOk:!1,isErr:!0,value:pa}),h=pa=>{if(pa.isOk)return pa.value;throw pa.value;},t=pa=>{if(pa.isErr)return pa.value;throw pa.value;},y=(pa,sa)=>()=>{},u=(pa,sa,...La)=>{let Da=null,Ta=null,Ya=null,Wa=!1,bb=!1;const $a=[],jb=cb=>{for(let fb=0;fb<cb.length;fb++)if(Da=cb[fb],Array.isArray(Da))jb(Da);else if(null!=
Da&&"boolean"!==typeof Da){if(Wa="function"!==typeof pa&&!w(Da))Da=String(Da);Wa&&bb?$a[$a.length-1].$text$+=Da:$a.push(Wa?r(null,Da):Da);bb=Wa}};jb(La);if(sa){sa.key&&(Ta=sa.key);sa.name&&(Ya=sa.name);const cb=sa.className||sa.class;cb&&(sa.class="object"!==typeof cb?cb:Object.keys(cb).filter(fb=>cb[fb]).join(" "))}if("function"===typeof pa)return pa(null===sa?{}:sa,$a,v);La=r(pa,null);La.$attrs$=sa;0<$a.length&&(La.$children$=$a);La.$key$=Ta;La.$name$=Ya;return La},r=(pa,sa)=>({$flags$:0,$tag$:pa,
$text$:sa,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),z={},v={forEach:(pa,sa)=>pa.map(x).forEach(sa),map:(pa,sa)=>pa.map(x).map(sa).map(B)},x=pa=>({vattrs:pa.$attrs$,vchildren:pa.$children$,vkey:pa.$key$,vname:pa.$name$,vtag:pa.$tag$,vtext:pa.$text$}),B=pa=>{if("function"===typeof pa.vtag){var sa={...pa.vattrs};pa.vkey&&(sa.key=pa.vkey);pa.vname&&(sa.name=pa.vname);return u(pa.vtag,sa,...(pa.vchildren||[]))}sa=r(pa.vtag,pa.vtext);sa.$attrs$=pa.vattrs;sa.$children$=pa.vchildren;
sa.$key$=pa.vkey;sa.$name$=pa.vname;return sa},A=pa=>Qa.map(sa=>sa(pa)).find(sa=>!!sa),C=(pa,sa)=>{if(null!=pa&&!w(pa)){if(sa&4)return"false"===pa?!1:""===pa||!!pa;if(sa&2)return parseFloat(pa);if(sa&1)return String(pa)}return pa},H=new WeakMap,N=(pa,sa,La)=>{let Da=Ea.get(pa);xa&&La?(Da=Da||new CSSStyleSheet,"string"===typeof Da?Da=sa:Da.replaceSync(sa)):Da=sa;Ea.set(pa,Da)},I=(pa,sa)=>"sc-"+(sa&&pa.$flags$&32?pa.$tagName$+"-"+sa:pa.$tagName$),E=(pa,sa,La,Da,Ta,Ya)=>{if(La!==Da){let $a=sa in pa,
jb=sa.toLowerCase();if("class"===sa){pa=pa.classList;const cb=La?La.split(G):[],fb=Da?Da.split(G):[];pa.remove(...cb.filter(hb=>hb&&!fb.includes(hb)));pa.add(...fb.filter(hb=>hb&&!cb.includes(hb)))}else if("style"===sa){for(var Wa in La)Da&&null!=Da[Wa]||(Wa.includes("-")?pa.style.removeProperty(Wa):pa.style[Wa]="");for(var bb in Da)La&&Da[bb]===La[bb]||(bb.includes("-")?pa.style.setProperty(bb,Da[bb]):pa.style[bb]=Da[bb])}else if("key"!==sa)if("ref"===sa)Da&&Da(pa);else if(pa.__lookupSetter__(sa)||
"o"!==sa[0]||"n"!==sa[1]){Wa=w(Da);if(($a||Wa&&null!==Da)&&!Ta)try{if(pa.tagName.includes("-"))pa[sa]=Da;else if(bb=null==Da?"":Da,"list"===sa)$a=!1;else if(null==La||pa[sa]!=bb)pa[sa]=bb}catch(cb){}La=!1;jb!==(jb=jb.replace(/^xlink:?/,""))&&(sa=jb,La=!0);if(null==Da||!1===Da){if(!1!==Da||""===pa.getAttribute(sa))La?pa.removeAttributeNS("http://www.w3.org/1999/xlink",sa):pa.removeAttribute(sa)}else(!$a||Ya&4||Ta)&&!Wa&&(Da=!0===Da?"":Da,La?pa.setAttributeNS("http://www.w3.org/1999/xlink",sa,Da):pa.setAttribute(sa,
Da))}else if(sa="-"===sa[2]?sa.slice(3):jb in Pa?jb.slice(2):jb[2]+sa.slice(3),La||Da)Ta=sa.endsWith(L),sa=sa.replace(R,""),La&&Sa.rel(pa,sa,La,Ta),Da&&Sa.ael(pa,sa,Da,Ta)}},G=/\s/,L="Capture",R=new RegExp(L+"$"),F=(pa,sa,La,Da)=>{const Ta=11===sa.$elm$.nodeType&&sa.$elm$.host?sa.$elm$.host:sa.$elm$;pa=pa&&pa.$attrs$||l;const Ya=sa.$attrs$||l;for(Da of p(Object.keys(pa)))Da in Ya||E(Ta,Da,pa[Da],void 0,La,sa.$flags$);for(Da of p(Object.keys(Ya)))E(Ta,Da,pa[Da],Ya[Da],La,sa.$flags$)},J,O,U,T=!1,Z=
!1,V=!1,qa=!1,Ca=(pa,sa,La,Da)=>{var Ta;sa=sa.$children$[La];let Ya=0,Wa;T||(V=!0,"slot"===sa.$tag$&&(J&&Da.classList.add(J+"-s"),sa.$flags$|=sa.$children$?2:1));if(null!==sa.$text$)Da=sa.$elm$=Ra.createTextNode(sa.$text$);else if(sa.$flags$&1)Da=sa.$elm$=Ra.createTextNode("");else{qa||="svg"===sa.$tag$;Da=sa.$elm$=Ra.createElementNS(qa?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",sa.$flags$&2?"slot-fb":sa.$tag$);qa&&"foreignObject"===sa.$tag$&&(qa=!1);F(null,sa,qa);null!=J&&Da["s-si"]!==
J&&Da.classList.add(Da["s-si"]=J);if(sa.$children$)for(Ya=0;Ya<sa.$children$.length;++Ya)(Wa=Ca(pa,sa,Ya,Da))&&Da.appendChild(Wa);"svg"===sa.$tag$?qa=!1:"foreignObject"===Da.tagName&&(qa=!0)}Da["s-hn"]=U;sa.$flags$&3&&(Da["s-sr"]=!0,Da["s-cr"]=O,Da["s-sn"]=sa.$name$||"",Da["s-rf"]=null==(Ta=sa.$attrs$)?void 0:Ta.ref,(La=pa&&pa.$children$&&pa.$children$[La])&&La.$tag$===sa.$tag$&&pa.$elm$&&va(pa.$elm$,!1));return Da},va=(pa,sa)=>{Sa.$flags$|=1;const La=Array.from(pa.childNodes);if(pa["s-sr"]&&f.experimentalSlotFixes)for(var Da=
pa;Da=Da.nextSibling;)Da&&Da["s-sn"]===pa["s-sn"]&&Da["s-sh"]===U&&La.push(Da);for(pa=La.length-1;0<=pa;pa--)Da=La[pa],Da["s-hn"]!==U&&Da["s-ol"]&&((Da["s-ol"]?Da["s-ol"]:Da).parentNode.insertBefore(Da,Da&&Da["s-ol"]||Da),Da["s-ol"].remove(),Da["s-ol"]=void 0,Da["s-sh"]=void 0,V=!0),sa&&va(Da,sa);Sa.$flags$&=-2},ra=(pa,sa,La,Da,Ta,Ya)=>{let Wa=pa["s-cr"]&&pa["s-cr"].parentNode||pa,bb;Wa.shadowRoot&&Wa.tagName===U&&(Wa=Wa.shadowRoot);for(;Ta<=Ya;++Ta)Da[Ta]&&(bb=Ca(null,La,Ta,pa))&&(Da[Ta].$elm$=bb,
Wa.insertBefore(bb,sa&&sa["s-ol"]||sa))},Aa=(pa,sa,La)=>{for(;sa<=La;++sa){const Da=pa[sa];if(Da){const Ta=Da.$elm$;ia(Da);Ta&&(Z=!0,Ta["s-ol"]?Ta["s-ol"].remove():va(Ta,!0),Ta.remove())}}},ea=(pa,sa,La,Da,Ta=!1)=>{let Ya=0,Wa=0;var bb=0,$a=0;let jb=sa.length-1,cb=sa[0],fb=sa[jb],hb=Da.length-1,ib=Da[0],pb=Da[hb];for(;Ya<=jb&&Wa<=hb;)if(null==cb)cb=sa[++Ya];else if(null==fb)fb=sa[--jb];else if(null==ib)ib=Da[++Wa];else if(null==pb)pb=Da[--hb];else if(ca(cb,ib,Ta))Y(cb,ib,Ta),cb=sa[++Ya],ib=Da[++Wa];
else if(ca(fb,pb,Ta))Y(fb,pb,Ta),fb=sa[--jb],pb=Da[--hb];else if(ca(cb,pb,Ta))"slot"!==cb.$tag$&&"slot"!==pb.$tag$||va(cb.$elm$.parentNode,!1),Y(cb,pb,Ta),pa.insertBefore(cb.$elm$,fb.$elm$.nextSibling),cb=sa[++Ya],pb=Da[--hb];else if(ca(fb,ib,Ta))"slot"!==cb.$tag$&&"slot"!==pb.$tag$||va(fb.$elm$.parentNode,!1),Y(fb,ib,Ta),pa.insertBefore(fb.$elm$,cb.$elm$),fb=sa[--jb],ib=Da[++Wa];else{bb=-1;for($a=Ya;$a<=jb;++$a)if(sa[$a]&&null!==sa[$a].$key$&&sa[$a].$key$===ib.$key$){bb=$a;break}0<=bb?($a=sa[bb],
$a.$tag$!==ib.$tag$?bb=Ca(sa&&sa[Wa],La,bb,pa):(Y($a,ib,Ta),sa[bb]=void 0,bb=$a.$elm$)):bb=Ca(sa&&sa[Wa],La,Wa,pa);ib=Da[++Wa];if(bb){$a=cb.$elm$;$a=($a["s-ol"]?$a["s-ol"]:$a).parentNode;var Ha=cb.$elm$;$a.insertBefore.call($a,bb,Ha&&Ha["s-ol"]||Ha)}}Ya>jb?ra(pa,null==Da[hb+1]?null:Da[hb+1].$elm$,La,Da,Wa,hb):Wa>hb&&Aa(sa,Ya,jb)},ca=(pa,sa,La=!1)=>pa.$tag$===sa.$tag$?"slot"===pa.$tag$?pa.$name$===sa.$name$:La?!0:pa.$key$===sa.$key$:!1,Y=(pa,sa,La=!1)=>{const Da=sa.$elm$=pa.$elm$,Ta=pa.$children$,
Ya=sa.$children$,Wa=sa.$tag$,bb=sa.$text$;null===bb?(qa="svg"===Wa?!0:"foreignObject"===Wa?!1:qa,("slot"!==Wa||T)&&F(pa,sa,qa),null!==Ta&&null!==Ya?ea(Da,Ta,sa,Ya,La):null!==Ya?(null!==pa.$text$&&(Da.textContent=""),ra(Da,null,sa,Ya,0,Ya.length-1)):null!==Ta&&Aa(Ta,0,Ta.length-1),qa&&"svg"===Wa&&(qa=!1)):(sa=Da["s-cr"])?sa.parentNode.textContent=bb:pa.$text$!==bb&&(Da.data=bb)},ha=pa=>{pa=pa.childNodes;for(const sa of pa)if(1===sa.nodeType){if(sa["s-sr"]){const La=sa["s-sn"];sa.hidden=!1;for(const Da of pa)if(Da!==
sa)if(Da["s-hn"]!==sa["s-hn"]||""!==La){if(1===Da.nodeType&&(La===Da.getAttribute("slot")||La===Da["s-sn"])||3===Da.nodeType&&La===Da["s-sn"]){sa.hidden=!0;break}}else if(1===Da.nodeType||3===Da.nodeType&&""!==Da.textContent.trim()){sa.hidden=!0;break}}ha(sa)}},ua=[],K=pa=>{let sa,La;for(const Da of pa.childNodes){if(Da["s-sr"]&&(sa=Da["s-cr"])&&sa.parentNode){pa=sa.parentNode.childNodes;const Ta=Da["s-sn"];for(La=pa.length-1;0<=La;La--)if(sa=pa[La],!sa["s-cn"]&&!sa["s-nr"]&&sa["s-hn"]!==Da["s-hn"]&&
!f.experimentalSlotFixes)if(Q(sa,Ta)){let Ya=ua.find(Wa=>Wa.$nodeToRelocate$===sa);Z=!0;sa["s-sn"]=sa["s-sn"]||Ta;Ya?(Ya.$nodeToRelocate$["s-sh"]=Da["s-hn"],Ya.$slotRefNode$=Da):(sa["s-sh"]=Da["s-hn"],ua.push({$slotRefNode$:Da,$nodeToRelocate$:sa}));sa["s-sr"]&&ua.map(Wa=>{Q(Wa.$nodeToRelocate$,sa["s-sn"])&&(Ya=ua.find(bb=>bb.$nodeToRelocate$===sa))&&!Wa.$slotRefNode$&&(Wa.$slotRefNode$=Ya.$slotRefNode$)})}else ua.some(Ya=>Ya.$nodeToRelocate$===sa)||ua.push({$nodeToRelocate$:sa})}1===Da.nodeType&&
K(Da)}},Q=(pa,sa)=>1===pa.nodeType?null===pa.getAttribute("slot")&&""===sa||pa.getAttribute("slot")===sa?!0:!1:pa["s-sn"]===sa?!0:""===sa,ia=pa=>{pa.$attrs$&&pa.$attrs$.ref&&pa.$attrs$.ref(null);pa.$children$&&pa.$children$.map(ia)},ka=(pa,sa,La=!1)=>{var Da,Ta,Ya,Wa,bb;const $a=pa.$hostElement$,jb=pa.$cmpMeta$;var cb=pa.$vnode$||r(null,null);const fb=sa&&sa.$tag$===z?sa:u(null,null,sa);U=$a.tagName;jb.$attrsToReflect$&&(fb.$attrs$=fb.$attrs$||{},jb.$attrsToReflect$.map(([pb,Ha])=>fb.$attrs$[Ha]=
$a[pb]));if(La&&fb.$attrs$)for(var hb of Object.keys(fb.$attrs$))$a.hasAttribute(hb)&&!["key","ref","style","class"].includes(hb)&&(fb.$attrs$[hb]=$a[hb]);fb.$tag$=null;fb.$flags$|=4;pa.$vnode$=fb;fb.$elm$=cb.$elm$=$a.shadowRoot||$a;J=$a["s-sc"];T=0!==(jb.$flags$&1);O=$a["s-cr"];Z=!1;Y(cb,fb,La);Sa.$flags$|=1;if(V){K(fb.$elm$);for(var ib of ua)pa=ib.$nodeToRelocate$,pa["s-ol"]||(sa=Ra.createTextNode(""),sa["s-nr"]=pa,pa.parentNode.insertBefore(pa["s-ol"]=sa,pa));for(const pb of ua)if(ib=pb.$nodeToRelocate$,
pa=pb.$slotRefNode$){sa=pa.parentNode;cb=pa.nextSibling;for(hb=null==(Da=ib["s-ol"])?void 0:Da.previousSibling;hb;){let Ha=null!=(Ta=hb["s-nr"])?Ta:null;if(Ha&&Ha["s-sn"]===ib["s-sn"]&&sa===Ha.parentNode){for(Ha=Ha.nextSibling;Ha===ib||(null==Ha?0:Ha["s-sr"]);)Ha=null==Ha?void 0:Ha.nextSibling;if(!Ha||!Ha["s-nr"]){cb=Ha;break}}hb=hb.previousSibling}(cb||sa===ib.parentNode)&&ib.nextSibling===cb||ib===cb||(!ib["s-hn"]&&ib["s-ol"]&&(ib["s-hn"]=ib["s-ol"].parentNode.nodeName),sa.insertBefore(ib,cb),1===
ib.nodeType&&(ib.hidden=null!=(Ya=ib["s-ih"])?Ya:!1));ib&&"function"===typeof pa["s-rf"]&&pa["s-rf"](ib)}else 1===ib.nodeType&&(La&&(ib["s-ih"]=null!=(Wa=ib.hidden)?Wa:!1),ib.hidden=!0)}Z&&ha(fb.$elm$);Sa.$flags$&=-2;ua.length=0;if(f.experimentalScopedSlotChanges&&jb.$flags$&2)for(const pb of fb.$elm$.childNodes)pb["s-hn"]===U||pb["s-sh"]||(La&&null==pb["s-ih"]&&(pb["s-ih"]=null!=(bb=pb.hidden)?bb:!1),pb.hidden=!0);O=void 0},Ba=(pa,sa)=>{pa.$flags$|=16;return sb(()=>W(pa,sa))},W=(pa,sa)=>{const La=
pa.$hostElement$,Da=y("scheduleUpdate",pa.$cmpMeta$.$tagName$);let Ta;Ta=sa?M(La,"componentWillLoad"):M(La,"componentWillUpdate");Ta=da(Ta,()=>M(La,"componentWillRender"));Da();return da(Ta,()=>ja(pa,La,sa))},da=(pa,sa)=>pa instanceof Promise||pa&&pa.then&&"function"===typeof pa.then?pa.then(sa):sa(),ja=async(pa,sa,La)=>{var Da=pa.$hostElement$,Ta=y("update",pa.$cmpMeta$.$tagName$);Da["s-rc"];if(La){var Ya=pa.$cmpMeta$;Da=pa.$hostElement$;const fb=Ya.$flags$,hb=y("attachStyles",Ya.$tagName$);var Wa=
Da.shadowRoot?Da.shadowRoot:Da.getRootNode();const ib=I(Ya,pa.$modeName$);var bb=Ea.get(ib);Wa=11===Wa.nodeType?Wa:Ra;if(bb)if("string"===typeof bb){Wa=Wa.head||Wa;let pb=H.get(Wa),Ha;pb||H.set(Wa,pb=new Set);if(!pb.has(ib)){Ha=Ra.createElement("style");Ha.innerHTML=bb;if(null==(bb=Sa.$nonce$)){var $a,jb,cb;bb=null!=(cb=null==(jb=null==($a=Ra.head)?void 0:$a.querySelector('meta[name\x3d"csp-nonce"]'))?void 0:jb.getAttribute("content"))?cb:void 0}$a=bb;null!=$a&&Ha.setAttribute("nonce",$a);Wa.insertBefore(Ha,
Wa.querySelector("link"));Ya.$flags$&4&&(Ha.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}");pb&&pb.add(ib)}}else Wa.adoptedStyleSheets.includes(bb)||(Wa.adoptedStyleSheets=[...Wa.adoptedStyleSheets,bb]);Wa=ib;fb&10&&(Da["s-sc"]=Wa,Da.classList.add(Wa+"-h"),fb&2&&Da.classList.add(Wa+"-s"));hb()}Da=y("render",pa.$cmpMeta$.$tagName$);try{sa=sa.render&&sa.render(),pa.$flags$&=-17,pa.$flags$|=2,!f.hasRenderFn&&!f.reflect||!f.vdomRender&&!f.reflect||f.hydrateServerSide||ka(pa,sa,La)}catch(fb){(0,console.error)(fb,
pa.$hostElement$)}Da();Ta();La=pa.$hostElement$;Ta=y("postUpdate",pa.$cmpMeta$.$tagName$);pa.$ancestorComponent$;M(La,"componentDidRender");pa.$flags$&64?M(La,"componentDidUpdate"):(pa.$flags$|=64,M(La,"componentDidLoad"));Ta()},M=(pa,sa,La)=>{if(pa&&pa[sa])try{return pa[sa](La)}catch(Da){(0,console.error)(Da,void 0)}},S=(pa,sa,La,Da)=>{const Ta=Fa.get(pa),Ya=Ta.$instanceValues$.get(sa),Wa=Ta.$flags$;La=C(La,Da.$members$[sa][0]);const bb=Number.isNaN(Ya)&&Number.isNaN(La);La===Ya||bb||(Ta.$instanceValues$.set(sa,
La),Da.$watchers$&&Wa&128&&(Da=Da.$watchers$[sa])&&Da.map($a=>{try{pa[$a](La,Ya,sa)}catch(jb){(0,console.error)(jb,pa)}}),2!==(Wa&18)||pa.componentShouldUpdate&&!1===pa.componentShouldUpdate(La,Ya,sa)||Ba(Ta,!1))},X=(pa,sa,La)=>{var Da;const Ta=pa.prototype;if(sa.$members$){pa.watchers&&(sa.$watchers$=pa.watchers);La=Object.entries(sa.$members$);La.map(([Wa,[bb]])=>{(bb&31||bb&32)&&Object.defineProperty(Ta,Wa,{get(){return Fa.get(this).$instanceValues$.get(Wa)},set($a){S(this,Wa,$a,sa)},configurable:!0,
enumerable:!0})});const Ya=new Map;Ta.attributeChangedCallback=function(Wa,bb,$a){Sa.jmp(()=>{var jb,cb=Ya.get(Wa);if(this.hasOwnProperty(cb))$a=this[cb],delete this[cb];else{if(Ta.hasOwnProperty(cb)&&"number"===typeof this[cb]&&this[cb]==$a)return;if(null==cb){cb=Fa.get(this);if((cb=null==cb?void 0:cb.$flags$)&&!(cb&8)&&cb&128&&$a!==bb){const fb=this;cb=null==(jb=sa.$watchers$)?void 0:jb[Wa];null==cb?void 0:cb.forEach(hb=>{null!=fb[hb]&&fb[hb].call(fb,$a,bb,Wa)})}return}}this[cb]=null===$a&&"boolean"===
typeof this[cb]?!1:$a})};pa.observedAttributes=Array.from(new Set([...Object.keys(null!=(Da=sa.$watchers$)?Da:{}),...La.filter(([,Wa])=>Wa[0]&15).map(([Wa,bb])=>{var $a;const jb=bb[1]||Wa;Ya.set(jb,Wa);bb[0]&512&&(null==($a=sa.$attrsToReflect$)?void 0:$a.push([Wa,jb]));return jb})]))}return pa},ma=async(pa,sa,La,Da)=>{if(0===(sa.$flags$&32)&&(sa.$flags$|=32,La.$lazyBundleId$,Da=pa.constructor,customElements.whenDefined(La.$tagName$).then(()=>sa.$flags$|=128),Da.style&&(Da=Da.style,"string"!==typeof Da&&
(Da=Da[sa.$modeName$=A(pa)]),pa=I(La,sa.$modeName$),!Ea.has(pa)))){const Ta=y("registerStyles",La.$tagName$);N(pa,Da,!!(La.$flags$&1));Ta()}sa.$ancestorComponent$;Ba(sa,!0)},ya=pa=>{if(0===(Sa.$flags$&1)){const sa=Fa.get(pa),La=sa.$cmpMeta$,Da=y("connectedCallback",La.$tagName$);sa.$flags$&1?(oa(pa,sa,La.$listeners$),(null==sa?0:sa.$lazyInstance$)||(null==sa?0:sa.$onReadyPromise$)&&sa.$onReadyPromise$.then(()=>{})):(sa.$flags$|=1,La.$flags$&12&&Ia(pa),La.$members$&&Object.entries(La.$members$).map(([Ta,
[Ya]])=>{Ya&31&&pa.hasOwnProperty(Ta)&&(Ya=pa[Ta],delete pa[Ta],pa[Ta]=Ya)}),ma(pa,sa,La));Da()}},Ia=pa=>{const sa=pa["s-cr"]=Ra.createComment("");sa["s-cn"]=!0;pa.insertBefore(sa,pa.firstChild)},fa=async pa=>{0===(Sa.$flags$&1)&&(pa=Fa.get(pa),pa.$rmListeners$&&(pa.$rmListeners$.map(sa=>sa()),pa.$rmListeners$=void 0))},oa=(pa,sa,La,Da)=>{La&&La.map(([Ta,Ya,Wa])=>{const bb=Ta&4?Ra:Ta&8?Pa:Ta&16?Ra.body:pa,$a=ta(sa,Wa),jb=na?{passive:0!==(Ta&1),capture:0!==(Ta&2)}:0!==(Ta&2);Sa.ael(bb,Ya,$a,jb);(sa.$rmListeners$=
sa.$rmListeners$||[]).push(()=>Sa.rel(bb,Ya,$a,jb))})},ta=(pa,sa)=>La=>{try{if(!f.lazyLoad)pa.$hostElement$[sa](La)}catch(Da){(0,console.error)(Da,void 0)}},Fa=new WeakMap,Ea=new Map,Qa=[],Pa="undefined"!==typeof window?window:{},Ra=Pa.document||{head:{}};c=Pa.HTMLElement||class{};var Sa={$flags$:0,$resourcesUrl$:"",jmp:pa=>pa(),raf:pa=>requestAnimationFrame(pa),ael:(pa,sa,La,Da)=>pa.addEventListener(sa,La,Da),rel:(pa,sa,La,Da)=>pa.removeEventListener(sa,La,Da),ce:(pa,sa)=>new CustomEvent(pa,sa)},
na=(()=>{let pa=!1;try{Ra.addEventListener("e",null,Object.defineProperty({},"passive",{get(){pa=!0}}))}catch(sa){}return pa})();a:{try{new CSSStyleSheet;var xa="function"===typeof(new CSSStyleSheet).replaceSync;break a}catch(pa){}xa=!1}var Oa=!1,Ua=[],gb=[],rb=(pa,sa)=>La=>{pa.push(La);Oa||(Oa=!0,sa&&Sa.$flags$&4?(La=Eb,Promise.resolve(void 0).then(La)):Sa.raf(Eb))},qb=pa=>{for(let sa=0;sa<pa.length;sa++)try{pa[sa](performance.now())}catch(La){(0,console.error)(La,void 0)}pa.length=0},Eb=()=>{qb(Ua);
qb(gb);(Oa=0<Ua.length)&&Sa.raf(Eb)},zb=rb(Ua,!1),sb=rb(gb,!0);(function(){"undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document&&("interactive"===document.readyState?n():document.addEventListener("DOMContentLoaded",()=>n(),{once:!0}))})();a.CSS_UTILITY={autoMode:"calcite-mode-auto",darkMode:"calcite-mode-dark",lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",
calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};a.Fragment=(pa,sa)=>sa;a.H=c;a.Host=z;a.commitAssetPath=function(){try{k(".")}catch{Sa.$resourcesUrl$=e.makeAbsolute(b.getAssetUrl("esri/widgets/support/components/assets"))}};a.createEvent=(pa,sa,La)=>({emit:Da=>{Da=Sa.ce(sa,{bubbles:!!(La&4),composed:!!(La&2),
cancelable:!!(La&1),detail:Da});pa.dispatchEvent(Da);return Da}});a.forceUpdate=pa=>{pa=Fa.get(pa);const sa=pa.$hostElement$.isConnected;sa&&2===(pa.$flags$&18)&&Ba(pa,!1);return sa};a.getAssetPath=k;a.h=u;a.loadCalciteComponents=function(pa){const sa=[];for(const La of Object.keys(pa))customElements.get(`calcite-${La}`)||sa.push(pa[La]?.());return 0<sa.length?Promise.all(sa):null};a.proxyCustomElement=(pa,sa)=>{const La={$flags$:sa[0],$tagName$:sa[1]};La.$members$=sa[2];La.$listeners$=sa[3];La.$watchers$=
pa.$watchers$;La.$attrsToReflect$=[];const Da=pa.prototype.connectedCallback,Ta=pa.prototype.disconnectedCallback;Object.assign(pa.prototype,{__registerHost(){const Ya={$flags$:0,$hostElement$:this,$cmpMeta$:La,$instanceValues$:new Map};oa(this,Ya,La.$listeners$);Fa.set(this,Ya)},connectedCallback(){ya(this);Da&&Da.call(this)},disconnectedCallback(){fa(this);Ta&&Ta.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(La.$flags$&16)})}});pa.is=La.$tagName$;return X(pa,La)};
a.readTask=zb})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports","../../core/handleUtils","./symbols"],function(a,b,c){function e(w,q){let m=q.children;if(m?.length)for(var h=0;h<m.length;++h)m[h]=e(w,m[h]);else m=g;h=q.vnodeSelector;if(f(h)){q=q.properties||k;const t=q.key||h;return{vnodeSelector:"div",properties:{key:t,afterCreate:d,afterUpdate:p,afterRemoved:n,parentWidget:w,widgetConstructor:h,widgetProperties:{...q,key:t,children:m}},children:void 0,text:void 0,domNode:null}}return q}
function d(w,q,m,{parentWidget:h,widgetConstructor:t,widgetProperties:y}){const u=new t(y);u.container=w;l.set(w,u);u.afterCreate?.(u,w);h.addHandles(b.makeHandle(()=>n(w)));queueMicrotask(()=>{u[c.widgetTestDataSymbol].projector.renderNow()})}function p(w,q,m,{widgetProperties:h}){if(q=l.get(w))q.set(h),q.afterUpdate?.(q,w)}function n(w){const q=l.get(w);q&&(q.afterRemoved?.(q,w),q.destroy(),l.delete(w))}function f(w){return"function"===typeof w&&w[c.widgetSymbol]}const g=[],k={},l=new WeakMap;a.isWidgetConstructor=
f;a.processWidgets=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/symbols":function(){define(["exports"],function(a){const b=Symbol("widget"),c=Symbol("widget-test-data");a.widgetSymbol=b;a.widgetTestDataSymbol=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/tests":function(){define(["exports"],function(a){const b=new Set;a.hasPendingLoading=function(){return 0<b.size};a.registerLoading=function(c){b.add(c);c.finally(()=>
b.delete(c))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/vmEvent ./jsxFactory ./widgetUtils ../../support/themeUtils".split(" "),function(a,b,c,e,d,p,n){a.accessibleHandler=b.accessibleHandler;a.messageBundle=c.messageBundle;a.vmEvent=e.vmEvent;a.tsx=d.tsx;a.tsxFragment=d.tsxFragment;a.additionalAllowedTags=p.additionalAllowedTags;a.classes=p.classes;
a.cssTransition=p.cssTransition;a.discardNode=p.discardNode;a.getDir=p.getDir;a.isActivationKey=p.isActivationKey;a.isRTL=p.isRTL;a.keepMenuItemWithinView=p.keepMenuItemWithinView;a.onResize=p.onResize;a.renderingSanitizer=p.renderingSanitizer;a.safeAttrs=p.safeAttrs;a.someElementsAreVisible=p.someElementsAreVisible;a.storeNode=p.storeNode;a.getCalciteThemeClass=n.getCalciteThemeClass;a.isDarkTheme=n.isDarkTheme;a.setCalciteThemeClass=n.setCalciteThemeClass;a.hasDomNode=function(f){return f&&"function"===
typeof f.postMixInProperties&&"function"===typeof f.buildRendering&&"function"===typeof f.postCreate&&"function"===typeof f.startup};a.isWidget=function(f){return f&&"function"===typeof f.render};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports","../widgetUtils"],function(a,b){function c(e){return function(d,...p){const n=d?.type;d instanceof KeyboardEvent||"keyup"===n||"keydown"===n||"keypress"===n?b.isActivationKey(d.key)&&
(d.preventDefault(),d.stopPropagation(),d.target.click()):e.call(this,d,...p)}}a.accessibleHandler=function(){return function(e,d){if(!e[d])throw new TypeError(`Cannot auto bind undefined function '${String(d)}'`);return{value:c(e[d])}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],function(a){a.messageBundle=function(b){return(c,e)=>{c.hasOwnProperty("_messageBundleProps")||(c._messageBundleProps=c._messageBundleProps?
c._messageBundleProps.slice():[]);c._messageBundleProps.push({bundlePath:b,propertyName:e})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports"],function(a){function b(c){return c.split(",").map(e=>e.trim())}a.vmEvent=function(c){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);e=e._delegatedEventNames;const d=Array.isArray(c)?c:
b(c);e.push(...d)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var c=function(d,p){for(var n=0,f=d.length;n<f;n++){var g=d[n];Array.isArray(g)?c(g,p):null!==g&&void 0!==g&&!1!==g&&(g.hasOwnProperty("vnodeSelector")||(g={vnodeSelector:"",properties:void 0,children:void 0,text:g.toString(),domNode:null}),p.push(g))}},e=function(d,p){for(var n=[],f=2;f<arguments.length;f++)n[f-2]=arguments[f];
if(1===n.length&&"string"===typeof n[0])return{vnodeSelector:d,properties:p||void 0,children:void 0,text:n[0],domNode:null};f=[];c(n,f);return{vnodeSelector:d,properties:p||void 0,children:f,text:void 0,domNode:null}};a.tsx=function(d,p,...n){return"function"!==typeof d||b.isWidgetConstructor(d)?e(d,p,...n):d(p,...n)};a.tsxFragment=function(...d){return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/themeUtils":function(){define(["exports"],function(a){function b(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,
"").startsWith("dark")}function c(){return`${"calcite-mode-"}${b()?"dark":"light"}`}function e(d){Array.from(d.classList).forEach(p=>{p.startsWith("calcite-mode-")&&d.classList.remove(p)})}a.getCalciteThemeClass=c;a.isDarkTheme=b;a.setCalciteThemeClass=function(d){e(d);d.classList.add(c())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});require.boot&&require.apply(null,require.boot);